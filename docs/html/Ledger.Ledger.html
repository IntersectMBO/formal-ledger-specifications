<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Ledger</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">\section{Ledger State Transition}

</a><a id="36" class="Markup">\begin{code}[hide]</a>
<a id="55" class="Symbol">{-#</a> <a id="59" class="Keyword">OPTIONS</a> <a id="67" class="Pragma">--safe</a> <a id="74" class="Symbol">#-}</a>

<a id="79" class="Keyword">import</a> <a id="86" href="Data.List.html" class="Module">Data.List</a> <a id="96" class="Symbol">as</a> <a id="99" class="Module">L</a>

<a id="102" class="Keyword">open</a> <a id="107" class="Keyword">import</a> <a id="114" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="129" class="Keyword">open</a> <a id="134" class="Keyword">import</a> <a id="141" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>
<a id="157" class="Keyword">open</a> <a id="162" class="Keyword">import</a> <a id="169" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a> <a id="188" class="Keyword">using</a> <a id="194" class="Symbol">(</a><a id="195" href="Ledger.Transaction.html#933" class="Record">TransactionStructure</a><a id="215" class="Symbol">)</a>

<a id="218" class="Keyword">module</a> <a id="225" href="Ledger.Ledger.html" class="Module">Ledger.Ledger</a>
  <a id="241" class="Symbol">(</a><a id="242" href="Ledger.Ledger.html#242" class="Bound">txs</a> <a id="246" class="Symbol">:</a> <a id="248" class="Symbol">_)</a> <a id="251" class="Symbol">(</a><a id="252" class="Keyword">open</a> <a id="257" href="Ledger.Transaction.html#933" class="Module">TransactionStructure</a> <a id="278" href="Ledger.Ledger.html#242" class="Bound">txs</a><a id="281" class="Symbol">)</a>
  <a id="285" class="Symbol">(</a><a id="286" href="Ledger.Ledger.html#286" class="Bound">abs</a> <a id="290" class="Symbol">:</a> <a id="292" href="Ledger.Abstract.html#540" class="Record">AbstractFunctions</a> <a id="310" href="Ledger.Ledger.html#242" class="Bound">txs</a><a id="313" class="Symbol">)</a> <a id="315" class="Symbol">(</a><a id="316" class="Keyword">open</a> <a id="321" href="Ledger.Abstract.html#540" class="Module">AbstractFunctions</a> <a id="339" href="Ledger.Ledger.html#286" class="Bound">abs</a><a id="342" class="Symbol">)</a>
  <a id="346" class="Keyword">where</a>

<a id="353" class="Keyword">open</a> <a id="358" class="Keyword">import</a> <a id="365" href="Ledger.Enact.html" class="Module">Ledger.Enact</a> <a id="378" href="Ledger.Transaction.html#3310" class="Function">govStructure</a>
<a id="391" class="Keyword">open</a> <a id="396" class="Keyword">import</a> <a id="403" href="Ledger.Gov.html" class="Module">Ledger.Gov</a> <a id="414" href="Ledger.Ledger.html#242" class="Bound">txs</a>
<a id="418" class="Keyword">open</a> <a id="423" class="Keyword">import</a> <a id="430" href="Ledger.Utxo.html" class="Module">Ledger.Utxo</a> <a id="442" href="Ledger.Ledger.html#242" class="Bound">txs</a> <a id="446" href="Ledger.Ledger.html#286" class="Bound">abs</a>
<a id="450" class="Keyword">open</a> <a id="455" class="Keyword">import</a> <a id="462" href="Ledger.Utxow.html" class="Module">Ledger.Utxow</a> <a id="475" href="Ledger.Ledger.html#242" class="Bound">txs</a> <a id="479" href="Ledger.Ledger.html#286" class="Bound">abs</a>

<a id="484" class="Keyword">open</a> <a id="489" href="Ledger.Transaction.html#5258" class="Module">Tx</a>
<a id="492" class="Markup">\end{code}</a><a id="502" class="Background">

The entire state transformation of the ledger state caused by a valid
transaction can now be given as a combination of the previously
defined transition systems.

\begin{figure*}[h]
\begin{AgdaMultiCode}
</a><a id="708" class="Markup">\begin{code}</a>
<a id="721" class="Keyword">record</a> <a id="LEnv"></a><a id="728" href="Ledger.Ledger.html#728" class="Record">LEnv</a> <a id="733" class="Symbol">:</a> <a id="735" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="740" class="Keyword">where</a>
<a id="746" class="Markup">\end{code}</a><a id="756" class="Background">
</a><a id="757" class="Markup">\begin{code}[hide]</a>
  <a id="778" class="Keyword">constructor</a> <a id="⟦_,_,_,_,_⟧ˡᵉ"></a><a id="790" href="Ledger.Ledger.html#790" class="InductiveConstructor Operator">⟦_,_,_,_,_⟧ˡᵉ</a>
  <a id="806" class="Keyword">field</a>
<a id="812" class="Markup">\end{code}</a><a id="822" class="Background">
</a><a id="823" class="Markup">\begin{code}</a>
    <a id="LEnv.slot"></a><a id="840" href="Ledger.Ledger.html#840" class="Field">slot</a>        <a id="852" class="Symbol">:</a> <a id="854" href="Ledger.Types.Epoch.html#382" class="Function">Slot</a>
    <a id="LEnv.ppolicy"></a><a id="863" href="Ledger.Ledger.html#863" class="Field">ppolicy</a>     <a id="875" class="Symbol">:</a> <a id="877" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="883" href="Ledger.Crypto.html#1525" class="Function">ScriptHash</a>
    <a id="LEnv.pparams"></a><a id="898" href="Ledger.Ledger.html#898" class="Field">pparams</a>     <a id="910" class="Symbol">:</a> <a id="912" href="Ledger.PParams.html#2073" class="Record">PParams</a>
    <a id="LEnv.enactState"></a><a id="924" href="Ledger.Ledger.html#924" class="Field">enactState</a>  <a id="936" class="Symbol">:</a> <a id="938" href="Ledger.Enact.html#1446" class="Record">EnactState</a>
    <a id="LEnv.treasury"></a><a id="953" href="Ledger.Ledger.html#953" class="Field">treasury</a>    <a id="965" class="Symbol">:</a> <a id="967" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>

<a id="973" class="Keyword">record</a> <a id="LState"></a><a id="980" href="Ledger.Ledger.html#980" class="Record">LState</a> <a id="987" class="Symbol">:</a> <a id="989" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="994" class="Keyword">where</a>
<a id="1000" class="Markup">\end{code}</a><a id="1010" class="Background">
</a><a id="1011" class="Markup">\begin{code}[hide]</a>
  <a id="1032" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ˡ"></a><a id="1044" href="Ledger.Ledger.html#1044" class="InductiveConstructor Operator">⟦_,_,_⟧ˡ</a>
  <a id="1055" class="Keyword">field</a>
<a id="1061" class="Markup">\end{code}</a><a id="1071" class="Background">
</a><a id="1072" class="Markup">\begin{code}</a>
    <a id="LState.utxoSt"></a><a id="1089" href="Ledger.Ledger.html#1089" class="Field">utxoSt</a>     <a id="1100" class="Symbol">:</a> <a id="1102" href="Ledger.Utxo.html#5240" class="Record">UTxOState</a>
    <a id="LState.govSt"></a><a id="1116" href="Ledger.Ledger.html#1116" class="Field">govSt</a>      <a id="1127" class="Symbol">:</a> <a id="1129" href="Ledger.Gov.html#1410" class="Function">GovState</a>
    <a id="LState.certState"></a><a id="1142" href="Ledger.Ledger.html#1142" class="Field">certState</a>  <a id="1153" class="Symbol">:</a> <a id="1155" href="Ledger.Certs.html#2829" class="Record">CertState</a>

<a id="txgov"></a><a id="1166" href="Ledger.Ledger.html#1166" class="Function">txgov</a> <a id="1172" class="Symbol">:</a> <a id="1174" href="Ledger.Transaction.html#4157" class="Record">TxBody</a> <a id="1181" class="Symbol">→</a> <a id="1183" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1188" class="Symbol">(</a><a id="1189" href="Ledger.GovernanceActions.html#8288" class="Record">GovVote</a> <a id="1197" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1199" href="Ledger.GovernanceActions.html#8487" class="Record">GovProposal</a><a id="1210" class="Symbol">)</a>
<a id="1212" href="Ledger.Ledger.html#1166" class="Function">txgov</a> <a id="1218" href="Ledger.Ledger.html#1218" class="Bound">txb</a> <a id="1222" class="Symbol">=</a> <a id="1224" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="1228" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1233" href="Ledger.Transaction.html#4543" class="Field">txprop</a> <a id="1240" href="Data.List.Base.html#1954" class="Function Operator">++</a> <a id="1243" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="1247" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1252" href="Ledger.Transaction.html#4507" class="Field">txvote</a>
  <a id="1261" class="Keyword">where</a> <a id="1267" class="Keyword">open</a> <a id="1272" href="Ledger.Transaction.html#4157" class="Module">TxBody</a> <a id="1279" href="Ledger.Ledger.html#1218" class="Bound">txb</a>
<a id="1283" class="Markup">\end{code}</a><a id="1293" class="Background">
\end{AgdaMultiCode}
\caption{Types and functions for the LEDGER transition system}
\end{figure*}
</a><a id="1391" class="Markup">\begin{code}[hide]</a>
<a id="1410" class="Keyword">private</a> <a id="1418" class="Keyword">variable</a>
  <a id="1429" href="Ledger.Ledger.html#1429" class="Generalizable">Γ</a> <a id="1431" class="Symbol">:</a> <a id="1433" href="Ledger.Ledger.html#728" class="Record">LEnv</a>
  <a id="1440" href="Ledger.Ledger.html#1440" class="Generalizable">s</a> <a id="1442" href="Ledger.Ledger.html#1442" class="Generalizable">s&#39;</a> <a id="1445" href="Ledger.Ledger.html#1445" class="Generalizable">s&#39;&#39;</a> <a id="1449" class="Symbol">:</a> <a id="1451" href="Ledger.Ledger.html#980" class="Record">LState</a>
  <a id="1460" href="Ledger.Ledger.html#1460" class="Generalizable">utxoSt&#39;</a> <a id="1468" class="Symbol">:</a> <a id="1470" href="Ledger.Utxo.html#5240" class="Record">UTxOState</a>
  <a id="1482" href="Ledger.Ledger.html#1482" class="Generalizable">govSt&#39;</a> <a id="1489" class="Symbol">:</a> <a id="1491" href="Ledger.Gov.html#1410" class="Function">GovState</a>
  <a id="1502" href="Ledger.Ledger.html#1502" class="Generalizable">certState&#39;</a> <a id="1513" class="Symbol">:</a> <a id="1515" href="Ledger.Certs.html#2829" class="Record">CertState</a>
  <a id="1527" href="Ledger.Ledger.html#1527" class="Generalizable">tx</a> <a id="1530" class="Symbol">:</a> <a id="1532" href="Ledger.Transaction.html#5258" class="Record">Tx</a>
<a id="1535" class="Markup">\end{code}</a><a id="1545" class="Background">

\begin{figure*}[h]
</a><a id="1566" class="Markup">\begin{code}[hide]</a>
<a id="1585" class="Keyword">open</a> <a id="1590" href="Ledger.Address.html#1583" class="Module">RwdAddr</a>
<a id="1598" class="Keyword">open</a> <a id="1603" href="Ledger.Certs.html#2146" class="Module">DState</a>
<a id="1610" class="Keyword">open</a> <a id="1615" href="Ledger.Certs.html#2829" class="Module">CertState</a>
<a id="1625" class="Keyword">open</a> <a id="1630" href="Ledger.Utxo.html#5240" class="Module">UTxOState</a>

<a id="1641" class="Keyword">data</a>
<a id="1646" class="Markup">\end{code}</a><a id="1656" class="Background">
</a><a id="1657" class="Markup">\begin{code}</a>
  <a id="_⊢_⇀⦇_,LEDGER⦈_"></a><a id="1672" href="Ledger.Ledger.html#1672" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="1688" class="Symbol">:</a> <a id="1690" href="Ledger.Ledger.html#728" class="Record">LEnv</a> <a id="1695" class="Symbol">→</a> <a id="1697" href="Ledger.Ledger.html#980" class="Record">LState</a> <a id="1704" class="Symbol">→</a> <a id="1706" href="Ledger.Transaction.html#5258" class="Record">Tx</a> <a id="1709" class="Symbol">→</a> <a id="1711" href="Ledger.Ledger.html#980" class="Record">LState</a> <a id="1718" class="Symbol">→</a> <a id="1720" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1725" class="Markup">\end{code}</a><a id="1735" class="Background">
</a><a id="1736" class="Markup">\begin{code}[hide]</a>
  <a id="1757" class="Keyword">where</a>
<a id="1763" class="Markup">\end{code}</a><a id="1773" class="Background">
\caption{The type of the LEDGER transition system}
\end{figure*}

\begin{figure*}[h]
\begin{AgdaSuppressSpace}
</a><a id="1885" class="Markup">\begin{code}</a>
  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-V"></a><a id="1900" href="Ledger.Ledger.html#1900" class="InductiveConstructor">LEDGER-V</a> <a id="1909" class="Symbol">:</a> <a id="1911" class="Keyword">let</a> <a id="1915" class="Keyword">open</a> <a id="1920" href="Ledger.Ledger.html#980" class="Module">LState</a> <a id="1927" href="Ledger.Ledger.html#1440" class="Generalizable">s</a><a id="1928" class="Symbol">;</a> <a id="1930" href="Ledger.Ledger.html#1930" class="Bound">txb</a> <a id="1934" class="Symbol">=</a> <a id="1936" href="Ledger.Ledger.html#1527" class="Generalizable">tx</a> <a id="1939" class="Symbol">.</a><a id="1940" href="Ledger.Transaction.html#5344" class="Field">body</a><a id="1944" class="Symbol">;</a> <a id="1946" class="Keyword">open</a> <a id="1951" href="Ledger.Transaction.html#4157" class="Module">TxBody</a> <a id="1958" href="Ledger.Ledger.html#1930" class="Bound">txb</a><a id="1961" class="Symbol">;</a> <a id="1963" class="Keyword">open</a> <a id="1968" href="Ledger.Ledger.html#728" class="Module">LEnv</a> <a id="1973" href="Ledger.Ledger.html#1429" class="Generalizable">Γ</a> <a id="1975" class="Keyword">in</a>
    <a id="1982" href="Interface.STS.html#105" class="Function Operator">∙</a>  <a id="1985" href="Ledger.Transaction.html#5397" class="Field">isValid</a> <a id="1993" href="Ledger.Ledger.html#1527" class="Generalizable">tx</a> <a id="1996" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1998" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="2007" href="Interface.STS.html#131" class="Function Operator">∙</a>  <a id="2010" class="Keyword">record</a> <a id="2017" class="Symbol">{</a> <a id="2019" href="Ledger.Ledger.html#2019" class="Module">LEnv</a> <a id="2024" href="Ledger.Ledger.html#1429" class="Generalizable">Γ</a> <a id="2026" class="Symbol">}</a> <a id="2028" href="Ledger.Utxow.html#5059" class="Datatype Operator">⊢</a> <a id="2030" href="Ledger.Ledger.html#1089" class="Function">utxoSt</a> <a id="2037" href="Ledger.Utxow.html#5059" class="Datatype Operator">⇀⦇</a> <a id="2040" href="Ledger.Ledger.html#1527" class="Generalizable">tx</a> <a id="2043" href="Ledger.Utxow.html#5059" class="Datatype Operator">,UTXOW⦈</a> <a id="2051" href="Ledger.Ledger.html#1460" class="Generalizable">utxoSt&#39;</a>
    <a id="2063" href="Interface.STS.html#131" class="Function Operator">∙</a>  <a id="2066" href="Ledger.Certs.html#1962" class="InductiveConstructor Operator">⟦</a> <a id="2068" href="Ledger.Types.Epoch.html#518" class="Function">epoch</a> <a id="2074" href="Ledger.Ledger.html#840" class="Function">slot</a> <a id="2079" href="Ledger.Certs.html#1962" class="InductiveConstructor Operator">,</a> <a id="2081" href="Ledger.Ledger.html#898" class="Function">pparams</a> <a id="2089" href="Ledger.Certs.html#1962" class="InductiveConstructor Operator">,</a> <a id="2091" href="Ledger.Transaction.html#4507" class="Function">txvote</a> <a id="2098" href="Ledger.Certs.html#1962" class="InductiveConstructor Operator">,</a> <a id="2100" href="Ledger.Transaction.html#4479" class="Function">txwdrls</a> <a id="2108" href="Ledger.Certs.html#1962" class="InductiveConstructor Operator">,</a> <a id="2110" href="Ledger.Utxo.html#5398" class="Field">deposits</a> <a id="2119" href="Ledger.Ledger.html#1089" class="Function">utxoSt</a> <a id="2126" href="Ledger.Certs.html#1962" class="InductiveConstructor Operator">⟧ᶜ</a> <a id="2129" href="Ledger.Certs.html#8303" class="Function Operator">⊢</a> <a id="2131" href="Ledger.Ledger.html#1142" class="Function">certState</a> <a id="2141" href="Ledger.Certs.html#8303" class="Function Operator">⇀⦇</a> <a id="2144" href="Ledger.Transaction.html#4445" class="Function">txcerts</a> <a id="2152" href="Ledger.Certs.html#8303" class="Function Operator">,CERTS⦈</a> <a id="2160" href="Ledger.Ledger.html#1502" class="Generalizable">certState&#39;</a>
    <a id="2175" href="Interface.STS.html#131" class="Function Operator">∙</a>  <a id="2178" href="Ledger.Gov.html#1545" class="InductiveConstructor Operator">⟦</a> <a id="2180" href="Ledger.Transaction.html#4779" class="Function">txid</a> <a id="2185" href="Ledger.Gov.html#1545" class="InductiveConstructor Operator">,</a> <a id="2187" href="Ledger.Types.Epoch.html#518" class="Function">epoch</a> <a id="2193" href="Ledger.Ledger.html#840" class="Function">slot</a> <a id="2198" href="Ledger.Gov.html#1545" class="InductiveConstructor Operator">,</a> <a id="2200" href="Ledger.Ledger.html#898" class="Function">pparams</a> <a id="2208" href="Ledger.Gov.html#1545" class="InductiveConstructor Operator">,</a> <a id="2210" href="Ledger.Ledger.html#863" class="Function">ppolicy</a> <a id="2218" href="Ledger.Gov.html#1545" class="InductiveConstructor Operator">,</a> <a id="2220" href="Ledger.Ledger.html#924" class="Function">enactState</a> <a id="2231" href="Ledger.Gov.html#1545" class="InductiveConstructor Operator">⟧ᵍ</a> <a id="2234" href="Ledger.Gov.html#1972" class="Function Operator">⊢</a> <a id="2236" href="Ledger.Ledger.html#1116" class="Function">govSt</a> <a id="2242" href="Ledger.Gov.html#1972" class="Function Operator">⇀⦇</a> <a id="2245" href="Ledger.Ledger.html#1166" class="Function">txgov</a> <a id="2251" href="Ledger.Ledger.html#1930" class="Bound">txb</a> <a id="2255" href="Ledger.Gov.html#1972" class="Function Operator">,GOV⦈</a> <a id="2261" href="Ledger.Ledger.html#1482" class="Generalizable">govSt&#39;</a>
       <a id="2275" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
       <a id="2315" href="Ledger.Ledger.html#1429" class="Generalizable">Γ</a> <a id="2317" href="Ledger.Ledger.html#1672" class="Datatype Operator">⊢</a> <a id="2319" href="Ledger.Ledger.html#1440" class="Generalizable">s</a> <a id="2321" href="Ledger.Ledger.html#1672" class="Datatype Operator">⇀⦇</a> <a id="2324" href="Ledger.Ledger.html#1527" class="Generalizable">tx</a> <a id="2327" href="Ledger.Ledger.html#1672" class="Datatype Operator">,LEDGER⦈</a> <a id="2336" href="Ledger.Ledger.html#1044" class="InductiveConstructor Operator">⟦</a> <a id="2338" href="Ledger.Ledger.html#1460" class="Generalizable">utxoSt&#39;</a> <a id="2346" href="Ledger.Ledger.html#1044" class="InductiveConstructor Operator">,</a> <a id="2348" href="Ledger.Ledger.html#1482" class="Generalizable">govSt&#39;</a> <a id="2355" href="Ledger.Ledger.html#1044" class="InductiveConstructor Operator">,</a> <a id="2357" href="Ledger.Ledger.html#1502" class="Generalizable">certState&#39;</a> <a id="2368" href="Ledger.Ledger.html#1044" class="InductiveConstructor Operator">⟧ˡ</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-I"></a><a id="2374" href="Ledger.Ledger.html#2374" class="InductiveConstructor">LEDGER-I</a> <a id="2383" class="Symbol">:</a> <a id="2385" class="Keyword">let</a> <a id="2389" class="Keyword">open</a> <a id="2394" href="Ledger.Ledger.html#980" class="Module">LState</a> <a id="2401" href="Ledger.Ledger.html#1440" class="Generalizable">s</a><a id="2402" class="Symbol">;</a> <a id="2404" href="Ledger.Ledger.html#2404" class="Bound">txb</a> <a id="2408" class="Symbol">=</a> <a id="2410" href="Ledger.Ledger.html#1527" class="Generalizable">tx</a> <a id="2413" class="Symbol">.</a><a id="2414" href="Ledger.Transaction.html#5344" class="Field">body</a><a id="2418" class="Symbol">;</a> <a id="2420" class="Keyword">open</a> <a id="2425" href="Ledger.Transaction.html#4157" class="Module">TxBody</a> <a id="2432" href="Ledger.Ledger.html#2404" class="Bound">txb</a><a id="2435" class="Symbol">;</a> <a id="2437" class="Keyword">open</a> <a id="2442" href="Ledger.Ledger.html#728" class="Module">LEnv</a> <a id="2447" href="Ledger.Ledger.html#1429" class="Generalizable">Γ</a> <a id="2449" class="Keyword">in</a>
    <a id="2456" href="Interface.STS.html#105" class="Function Operator">∙</a>  <a id="2459" href="Ledger.Transaction.html#5397" class="Field">isValid</a> <a id="2467" href="Ledger.Ledger.html#1527" class="Generalizable">tx</a> <a id="2470" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2472" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
    <a id="2482" href="Interface.STS.html#131" class="Function Operator">∙</a>  <a id="2485" class="Keyword">record</a> <a id="2492" class="Symbol">{</a> <a id="2494" href="Ledger.Ledger.html#2494" class="Module">LEnv</a> <a id="2499" href="Ledger.Ledger.html#1429" class="Generalizable">Γ</a> <a id="2501" class="Symbol">}</a> <a id="2503" href="Ledger.Utxow.html#5059" class="Datatype Operator">⊢</a> <a id="2505" href="Ledger.Ledger.html#1089" class="Function">utxoSt</a> <a id="2512" href="Ledger.Utxow.html#5059" class="Datatype Operator">⇀⦇</a> <a id="2515" href="Ledger.Ledger.html#1527" class="Generalizable">tx</a> <a id="2518" href="Ledger.Utxow.html#5059" class="Datatype Operator">,UTXOW⦈</a> <a id="2526" href="Ledger.Ledger.html#1460" class="Generalizable">utxoSt&#39;</a>
       <a id="2541" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
       <a id="2581" href="Ledger.Ledger.html#1429" class="Generalizable">Γ</a> <a id="2583" href="Ledger.Ledger.html#1672" class="Datatype Operator">⊢</a> <a id="2585" href="Ledger.Ledger.html#1440" class="Generalizable">s</a> <a id="2587" href="Ledger.Ledger.html#1672" class="Datatype Operator">⇀⦇</a> <a id="2590" href="Ledger.Ledger.html#1527" class="Generalizable">tx</a> <a id="2593" href="Ledger.Ledger.html#1672" class="Datatype Operator">,LEDGER⦈</a> <a id="2602" href="Ledger.Ledger.html#1044" class="InductiveConstructor Operator">⟦</a> <a id="2604" href="Ledger.Ledger.html#1460" class="Generalizable">utxoSt&#39;</a> <a id="2612" href="Ledger.Ledger.html#1044" class="InductiveConstructor Operator">,</a> <a id="2614" href="Ledger.Ledger.html#1116" class="Function">govSt</a> <a id="2620" href="Ledger.Ledger.html#1044" class="InductiveConstructor Operator">,</a> <a id="2622" href="Ledger.Ledger.html#1142" class="Function">certState</a> <a id="2632" href="Ledger.Ledger.html#1044" class="InductiveConstructor Operator">⟧ˡ</a>
<a id="2635" class="Markup">\end{code}</a><a id="2645" class="Background">
\end{AgdaSuppressSpace}
\caption{LEDGER transition system}
\end{figure*}
</a><a id="2719" class="Markup">\begin{code}[hide]</a>
<a id="2738" class="Keyword">pattern</a> <a id="LEDGER-V⋯"></a><a id="2746" href="Ledger.Ledger.html#2746" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2756" href="Ledger.Ledger.html#2776" class="Bound">w</a> <a id="2758" href="Ledger.Ledger.html#2780" class="Bound">x</a> <a id="2760" href="Ledger.Ledger.html#2784" class="Bound">y</a> <a id="2762" href="Ledger.Ledger.html#2788" class="Bound">z</a> <a id="2764" class="Symbol">=</a> <a id="2766" href="Ledger.Ledger.html#1900" class="InductiveConstructor">LEDGER-V</a> <a id="2775" class="Symbol">(</a><a id="2776" href="Ledger.Ledger.html#2776" class="Bound">w</a> <a id="2778" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2780" href="Ledger.Ledger.html#2780" class="Bound">x</a> <a id="2782" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2784" href="Ledger.Ledger.html#2784" class="Bound">y</a> <a id="2786" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2788" href="Ledger.Ledger.html#2788" class="Bound">z</a><a id="2789" class="Symbol">)</a>
<a id="2791" class="Keyword">pattern</a> <a id="LEDGER-I⋯"></a><a id="2799" href="Ledger.Ledger.html#2799" class="InductiveConstructor">LEDGER-I⋯</a> <a id="2809" href="Ledger.Ledger.html#2829" class="Bound">y</a> <a id="2811" href="Ledger.Ledger.html#2833" class="Bound">z</a>     <a id="2817" class="Symbol">=</a> <a id="2819" href="Ledger.Ledger.html#2374" class="InductiveConstructor">LEDGER-I</a> <a id="2828" class="Symbol">(</a><a id="2829" href="Ledger.Ledger.html#2829" class="Bound">y</a> <a id="2831" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2833" href="Ledger.Ledger.html#2833" class="Bound">z</a><a id="2834" class="Symbol">)</a>
<a id="2836" class="Markup">\end{code}</a><a id="2846" class="Background">

\begin{NoConway}
\begin{figure*}[h]
</a><a id="2884" class="Markup">\begin{code}</a>
<a id="_⊢_⇀⦇_,LEDGERS⦈_"></a><a id="2897" href="Ledger.Ledger.html#2897" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="2914" class="Symbol">:</a> <a id="2916" href="Ledger.Ledger.html#728" class="Record">LEnv</a> <a id="2921" class="Symbol">→</a> <a id="2923" href="Ledger.Ledger.html#980" class="Record">LState</a> <a id="2930" class="Symbol">→</a> <a id="2932" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2937" href="Ledger.Transaction.html#5258" class="Record">Tx</a> <a id="2940" class="Symbol">→</a> <a id="2942" href="Ledger.Ledger.html#980" class="Record">LState</a> <a id="2949" class="Symbol">→</a> <a id="2951" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="2956" href="Ledger.Ledger.html#2897" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="2973" class="Symbol">=</a> <a id="2975" href="Interface.STS.html#1998" class="Function">ReflexiveTransitiveClosure</a> <a id="3002" href="Ledger.Ledger.html#1672" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a>
<a id="3018" class="Markup">\end{code}</a><a id="3028" class="Background">
\caption{LEDGERS transition system}
\end{figure*}
\end{NoConway}
</a></pre></body></html>