<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Address</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">\section{Addresses}
</a><a id="21" class="Markup">\begin{code}[hide]</a>
<a id="40" class="Symbol">{-#</a> <a id="44" class="Keyword">OPTIONS</a> <a id="52" class="Pragma">--safe</a> <a id="59" class="Symbol">#-}</a>

<a id="64" class="Keyword">open</a> <a id="69" class="Keyword">import</a> <a id="76" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="92" class="Keyword">open</a> <a id="97" class="Keyword">import</a> <a id="104" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>

<a id="125" class="Keyword">module</a> <a id="132" href="Ledger.Address.html" class="Module">Ledger.Address</a> <a id="147" class="Symbol">(</a>
<a id="149" class="Markup">\end{code}</a><a id="159" class="Background">

We define credentials and various types of addresses here. A
credential contains a hash, either of a verifying (public) key
(\isVKey) or of a (\isScript).

\begin{figure*}[h!]
\begin{AgdaMultiCode}
\emph{Abstract types}
</a><a id="381" class="Markup">\begin{code}</a>
  <a id="396" href="Ledger.Address.html#396" class="Bound">Network</a>
  <a id="406" href="Ledger.Address.html#406" class="Bound">KeyHash</a>
  <a id="416" href="Ledger.Address.html#416" class="Bound">ScriptHash</a>
<a id="427" class="Markup">\end{code}</a><a id="437" class="Background">
</a><a id="438" class="Markup">\begin{code}[hide]</a>
  <a id="459" class="Symbol">:</a> <a id="461" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="465" class="Symbol">)</a> <a id="467" class="Symbol">⦃</a> <a id="469" href="Ledger.Address.html#469" class="Bound">_</a> <a id="471" class="Symbol">:</a> <a id="473" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="479" href="Ledger.Address.html#396" class="Bound">Network</a> <a id="487" class="Symbol">⦄</a> <a id="489" class="Symbol">⦃</a> <a id="491" href="Ledger.Address.html#491" class="Bound">_</a> <a id="493" class="Symbol">:</a> <a id="495" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="501" href="Ledger.Address.html#406" class="Bound">KeyHash</a> <a id="509" class="Symbol">⦄</a> <a id="511" class="Symbol">⦃</a> <a id="513" href="Ledger.Address.html#513" class="Bound">_</a> <a id="515" class="Symbol">:</a> <a id="517" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="523" href="Ledger.Address.html#416" class="Bound">ScriptHash</a> <a id="534" class="Symbol">⦄</a> <a id="536" class="Keyword">where</a>
<a id="542" class="Markup">\end{code}</a><a id="552" class="Background">
\emph{Derived types}
\AgdaTarget{Credential, BaseAddr, BootstrapAddr, RwdAddr, net, pay, stake, Addr,
VKeyBaseAddr, VKeyBoostrapAddr, ScriptBaseAddr, ScriptBootstrapAddr, VKeyAddr, ScriptAddr}
</a><a id="746" class="Markup">\begin{code}</a>
<a id="759" class="Keyword">data</a> <a id="Credential"></a><a id="764" href="Ledger.Address.html#764" class="Datatype">Credential</a> <a id="775" class="Symbol">:</a> <a id="777" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="782" class="Keyword">where</a>
  <a id="Credential.KeyHashObj"></a><a id="790" href="Ledger.Address.html#790" class="InductiveConstructor">KeyHashObj</a> <a id="801" class="Symbol">:</a> <a id="803" href="Ledger.Address.html#406" class="Bound">KeyHash</a> <a id="811" class="Symbol">→</a> <a id="813" href="Ledger.Address.html#764" class="Datatype">Credential</a>
  <a id="Credential.ScriptObj"></a><a id="826" href="Ledger.Address.html#826" class="InductiveConstructor">ScriptObj</a>  <a id="837" class="Symbol">:</a> <a id="839" href="Ledger.Address.html#416" class="Bound">ScriptHash</a> <a id="850" class="Symbol">→</a> <a id="852" href="Ledger.Address.html#764" class="Datatype">Credential</a>
<a id="863" class="Markup">\end{code}</a><a id="873" class="Background">
</a><a id="874" class="Markup">\begin{code}[hide]</a>
<a id="isKeyHashObj"></a><a id="893" href="Ledger.Address.html#893" class="Function">isKeyHashObj</a> <a id="906" class="Symbol">:</a> <a id="908" href="Ledger.Address.html#764" class="Datatype">Credential</a> <a id="919" class="Symbol">→</a> <a id="921" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="927" href="Ledger.Address.html#406" class="Bound">KeyHash</a>
<a id="935" href="Ledger.Address.html#893" class="Function">isKeyHashObj</a> <a id="948" class="Symbol">(</a><a id="949" href="Ledger.Address.html#790" class="InductiveConstructor">KeyHashObj</a> <a id="960" href="Ledger.Address.html#960" class="Bound">h</a><a id="961" class="Symbol">)</a> <a id="963" class="Symbol">=</a> <a id="965" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="970" href="Ledger.Address.html#960" class="Bound">h</a>
<a id="972" href="Ledger.Address.html#893" class="Function">isKeyHashObj</a> <a id="985" class="Symbol">(</a><a id="986" href="Ledger.Address.html#826" class="InductiveConstructor">ScriptObj</a> <a id="996" class="Symbol">_)</a>  <a id="1000" class="Symbol">=</a> <a id="1002" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="isScriptObj"></a><a id="1011" href="Ledger.Address.html#1011" class="Function">isScriptObj</a> <a id="1023" class="Symbol">:</a> <a id="1025" href="Ledger.Address.html#764" class="Datatype">Credential</a> <a id="1036" class="Symbol">→</a> <a id="1038" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1044" href="Ledger.Address.html#416" class="Bound">ScriptHash</a>
<a id="1055" href="Ledger.Address.html#1011" class="Function">isScriptObj</a> <a id="1067" class="Symbol">(</a><a id="1068" href="Ledger.Address.html#790" class="InductiveConstructor">KeyHashObj</a> <a id="1079" class="Symbol">_)</a> <a id="1082" class="Symbol">=</a> <a id="1084" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="1092" href="Ledger.Address.html#1011" class="Function">isScriptObj</a> <a id="1104" class="Symbol">(</a><a id="1105" href="Ledger.Address.html#826" class="InductiveConstructor">ScriptObj</a> <a id="1115" href="Ledger.Address.html#1115" class="Bound">h</a><a id="1116" class="Symbol">)</a>  <a id="1119" class="Symbol">=</a> <a id="1121" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1126" href="Ledger.Address.html#1115" class="Bound">h</a>

<a id="1129" class="Keyword">data</a> <a id="isVKey"></a><a id="1134" href="Ledger.Address.html#1134" class="Datatype">isVKey</a> <a id="1141" class="Symbol">:</a> <a id="1143" href="Ledger.Address.html#764" class="Datatype">Credential</a> <a id="1154" class="Symbol">→</a> <a id="1156" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1161" class="Keyword">where</a>
  <a id="isVKey.VKeyisVKey"></a><a id="1169" href="Ledger.Address.html#1169" class="InductiveConstructor">VKeyisVKey</a> <a id="1180" class="Symbol">:</a> <a id="1182" class="Symbol">(</a><a id="1183" href="Ledger.Address.html#1183" class="Bound">kh</a> <a id="1186" class="Symbol">:</a> <a id="1188" href="Ledger.Address.html#406" class="Bound">KeyHash</a><a id="1195" class="Symbol">)</a> <a id="1197" class="Symbol">→</a> <a id="1199" href="Ledger.Address.html#1134" class="Datatype">isVKey</a> <a id="1206" class="Symbol">(</a><a id="1207" href="Ledger.Address.html#790" class="InductiveConstructor">KeyHashObj</a> <a id="1218" href="Ledger.Address.html#1183" class="Bound">kh</a><a id="1220" class="Symbol">)</a>
<a id="1222" class="Keyword">data</a> <a id="isScript"></a><a id="1227" href="Ledger.Address.html#1227" class="Datatype">isScript</a> <a id="1236" class="Symbol">:</a> <a id="1238" href="Ledger.Address.html#764" class="Datatype">Credential</a> <a id="1249" class="Symbol">→</a> <a id="1251" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1256" class="Keyword">where</a>
  <a id="isScript.SHisScript"></a><a id="1264" href="Ledger.Address.html#1264" class="InductiveConstructor">SHisScript</a> <a id="1275" class="Symbol">:</a> <a id="1277" class="Symbol">(</a><a id="1278" href="Ledger.Address.html#1278" class="Bound">sh</a> <a id="1281" class="Symbol">:</a> <a id="1283" href="Ledger.Address.html#416" class="Bound">ScriptHash</a><a id="1293" class="Symbol">)</a> <a id="1295" class="Symbol">→</a> <a id="1297" href="Ledger.Address.html#1227" class="Datatype">isScript</a> <a id="1306" class="Symbol">(</a><a id="1307" href="Ledger.Address.html#826" class="InductiveConstructor">ScriptObj</a> <a id="1317" href="Ledger.Address.html#1278" class="Bound">sh</a><a id="1319" class="Symbol">)</a>
<a id="1321" class="Markup">\end{code}</a><a id="1331" class="Background">
</a><a id="1332" class="Markup">\begin{code}</a>

<a id="1346" class="Keyword">record</a> <a id="BaseAddr"></a><a id="1353" href="Ledger.Address.html#1353" class="Record">BaseAddr</a> <a id="1362" class="Symbol">:</a> <a id="1364" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1369" class="Keyword">where</a>
  <a id="1377" class="Keyword">field</a> <a id="BaseAddr.net"></a><a id="1383" href="Ledger.Address.html#1383" class="Field">net</a>    <a id="1390" class="Symbol">:</a> <a id="1392" href="Ledger.Address.html#396" class="Bound">Network</a>
        <a id="BaseAddr.pay"></a><a id="1408" href="Ledger.Address.html#1408" class="Field">pay</a>    <a id="1415" class="Symbol">:</a> <a id="1417" href="Ledger.Address.html#764" class="Datatype">Credential</a>
        <a id="BaseAddr.stake"></a><a id="1436" href="Ledger.Address.html#1436" class="Field">stake</a>  <a id="1443" class="Symbol">:</a> <a id="1445" href="Ledger.Address.html#764" class="Datatype">Credential</a>

<a id="1457" class="Keyword">record</a> <a id="BootstrapAddr"></a><a id="1464" href="Ledger.Address.html#1464" class="Record">BootstrapAddr</a> <a id="1478" class="Symbol">:</a> <a id="1480" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1485" class="Keyword">where</a>
  <a id="1493" class="Keyword">field</a> <a id="BootstrapAddr.net"></a><a id="1499" href="Ledger.Address.html#1499" class="Field">net</a>        <a id="1510" class="Symbol">:</a> <a id="1512" href="Ledger.Address.html#396" class="Bound">Network</a>
        <a id="BootstrapAddr.pay"></a><a id="1528" href="Ledger.Address.html#1528" class="Field">pay</a>        <a id="1539" class="Symbol">:</a> <a id="1541" href="Ledger.Address.html#764" class="Datatype">Credential</a>
        <a id="BootstrapAddr.attrsSize"></a><a id="1560" href="Ledger.Address.html#1560" class="Field">attrsSize</a>  <a id="1571" class="Symbol">:</a> <a id="1573" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

<a id="1576" class="Keyword">record</a> <a id="RwdAddr"></a><a id="1583" href="Ledger.Address.html#1583" class="Record">RwdAddr</a> <a id="1591" class="Symbol">:</a> <a id="1593" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1598" class="Keyword">where</a>
  <a id="1606" class="Keyword">field</a> <a id="RwdAddr.net"></a><a id="1612" href="Ledger.Address.html#1612" class="Field">net</a>    <a id="1619" class="Symbol">:</a> <a id="1621" href="Ledger.Address.html#396" class="Bound">Network</a>
        <a id="RwdAddr.stake"></a><a id="1637" href="Ledger.Address.html#1637" class="Field">stake</a>  <a id="1644" class="Symbol">:</a> <a id="1646" href="Ledger.Address.html#764" class="Datatype">Credential</a>
<a id="1657" class="Markup">\end{code}</a><a id="1667" class="Background">
</a><a id="1668" class="Markup">\begin{code}[hide]</a>
<a id="1687" class="Keyword">open</a> <a id="1692" href="Ledger.Address.html#1353" class="Module">BaseAddr</a><a id="1700" class="Symbol">;</a> <a id="1702" class="Keyword">open</a> <a id="1707" href="Ledger.Address.html#1464" class="Module">BootstrapAddr</a><a id="1720" class="Symbol">;</a> <a id="1722" class="Keyword">open</a> <a id="1727" href="Ledger.Address.html#1353" class="Module">BaseAddr</a><a id="1735" class="Symbol">;</a> <a id="1737" class="Keyword">open</a> <a id="1742" href="Ledger.Address.html#1464" class="Module">BootstrapAddr</a>
<a id="1756" class="Markup">\end{code}</a><a id="1766" class="Background">
</a><a id="1767" class="Markup">\begin{code}</a>

<a id="VKeyBaseAddr"></a><a id="1781" href="Ledger.Address.html#1781" class="Function">VKeyBaseAddr</a>         <a id="1802" class="Symbol">=</a> <a id="1804" href="Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="1807" href="Ledger.Address.html#1807" class="Bound">addr</a> <a id="1812" href="Data.Product.Base.html#1244" class="Function">∈</a> <a id="1814" href="Ledger.Address.html#1353" class="Record">BaseAddr</a>       <a id="1829" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="1831" href="Ledger.Address.html#1134" class="Datatype">isVKey</a>    <a id="1841" class="Symbol">(</a><a id="1842" href="Ledger.Address.html#1807" class="Bound">addr</a> <a id="1847" class="Symbol">.</a><a id="1848" href="Ledger.Address.html#1408" class="Field">pay</a><a id="1851" class="Symbol">)</a>
<a id="VKeyBootstrapAddr"></a><a id="1853" href="Ledger.Address.html#1853" class="Function">VKeyBootstrapAddr</a>    <a id="1874" class="Symbol">=</a> <a id="1876" href="Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="1879" href="Ledger.Address.html#1879" class="Bound">addr</a> <a id="1884" href="Data.Product.Base.html#1244" class="Function">∈</a> <a id="1886" href="Ledger.Address.html#1464" class="Record">BootstrapAddr</a>  <a id="1901" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="1903" href="Ledger.Address.html#1134" class="Datatype">isVKey</a>    <a id="1913" class="Symbol">(</a><a id="1914" href="Ledger.Address.html#1879" class="Bound">addr</a> <a id="1919" class="Symbol">.</a><a id="1920" href="Ledger.Address.html#1528" class="Field">pay</a><a id="1923" class="Symbol">)</a>
<a id="ScriptBaseAddr"></a><a id="1925" href="Ledger.Address.html#1925" class="Function">ScriptBaseAddr</a>       <a id="1946" class="Symbol">=</a> <a id="1948" href="Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="1951" href="Ledger.Address.html#1951" class="Bound">addr</a> <a id="1956" href="Data.Product.Base.html#1244" class="Function">∈</a> <a id="1958" href="Ledger.Address.html#1353" class="Record">BaseAddr</a>       <a id="1973" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="1975" href="Ledger.Address.html#1227" class="Datatype">isScript</a>  <a id="1985" class="Symbol">(</a><a id="1986" href="Ledger.Address.html#1951" class="Bound">addr</a> <a id="1991" class="Symbol">.</a><a id="1992" href="Ledger.Address.html#1408" class="Field">pay</a><a id="1995" class="Symbol">)</a>
<a id="ScriptBootstrapAddr"></a><a id="1997" href="Ledger.Address.html#1997" class="Function">ScriptBootstrapAddr</a>  <a id="2018" class="Symbol">=</a> <a id="2020" href="Data.Product.Base.html#1244" class="Function">Σ[</a> <a id="2023" href="Ledger.Address.html#2023" class="Bound">addr</a> <a id="2028" href="Data.Product.Base.html#1244" class="Function">∈</a> <a id="2030" href="Ledger.Address.html#1464" class="Record">BootstrapAddr</a>  <a id="2045" href="Data.Product.Base.html#1244" class="Function">]</a> <a id="2047" href="Ledger.Address.html#1227" class="Datatype">isScript</a>  <a id="2057" class="Symbol">(</a><a id="2058" href="Ledger.Address.html#2023" class="Bound">addr</a> <a id="2063" class="Symbol">.</a><a id="2064" href="Ledger.Address.html#1528" class="Field">pay</a><a id="2067" class="Symbol">)</a>

<a id="Addr"></a><a id="2070" href="Ledger.Address.html#2070" class="Function">Addr</a>        <a id="2082" class="Symbol">=</a> <a id="2084" href="Ledger.Address.html#1353" class="Record">BaseAddr</a>        <a id="2100" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2102" href="Ledger.Address.html#1464" class="Record">BootstrapAddr</a>
<a id="VKeyAddr"></a><a id="2116" href="Ledger.Address.html#2116" class="Function">VKeyAddr</a>    <a id="2128" class="Symbol">=</a> <a id="2130" href="Ledger.Address.html#1781" class="Function">VKeyBaseAddr</a>    <a id="2146" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2148" href="Ledger.Address.html#1853" class="Function">VKeyBootstrapAddr</a>
<a id="ScriptAddr"></a><a id="2166" href="Ledger.Address.html#2166" class="Function">ScriptAddr</a>  <a id="2178" class="Symbol">=</a> <a id="2180" href="Ledger.Address.html#1925" class="Function">ScriptBaseAddr</a>  <a id="2196" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2198" href="Ledger.Address.html#1997" class="Function">ScriptBootstrapAddr</a>
<a id="2218" class="Markup">\end{code}</a><a id="2228" class="Background">
\\
\emph{Helper functions}
\AgdaTarget{payCred, isVKeyAddr}
</a><a id="2289" class="Markup">\begin{code}</a>
<a id="payCred"></a><a id="2302" href="Ledger.Address.html#2302" class="Function">payCred</a>       <a id="2316" class="Symbol">:</a> <a id="2318" href="Ledger.Address.html#2070" class="Function">Addr</a> <a id="2323" class="Symbol">→</a> <a id="2325" href="Ledger.Address.html#764" class="Datatype">Credential</a>
<a id="stakeCred"></a><a id="2336" href="Ledger.Address.html#2336" class="Function">stakeCred</a>     <a id="2350" class="Symbol">:</a> <a id="2352" href="Ledger.Address.html#2070" class="Function">Addr</a> <a id="2357" class="Symbol">→</a> <a id="2359" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2365" href="Ledger.Address.html#764" class="Datatype">Credential</a>
<a id="netId"></a><a id="2376" href="Ledger.Address.html#2376" class="Function">netId</a>         <a id="2390" class="Symbol">:</a> <a id="2392" href="Ledger.Address.html#2070" class="Function">Addr</a> <a id="2397" class="Symbol">→</a> <a id="2399" href="Ledger.Address.html#396" class="Bound">Network</a>
<a id="isVKeyAddr"></a><a id="2407" href="Ledger.Address.html#2407" class="Function">isVKeyAddr</a>    <a id="2421" class="Symbol">:</a> <a id="2423" href="Ledger.Address.html#2070" class="Function">Addr</a> <a id="2428" class="Symbol">→</a> <a id="2430" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="isScriptAddr"></a><a id="2435" href="Ledger.Address.html#2435" class="Function">isScriptAddr</a>  <a id="2449" class="Symbol">:</a> <a id="2451" href="Ledger.Address.html#2070" class="Function">Addr</a> <a id="2456" class="Symbol">→</a> <a id="2458" href="Agda.Primitive.html#388" class="Primitive">Type</a>

<a id="2464" href="Ledger.Address.html#2407" class="Function">isVKeyAddr</a>       <a id="2481" class="Symbol">=</a> <a id="2483" href="Ledger.Address.html#1134" class="Datatype">isVKey</a> <a id="2490" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2492" href="Ledger.Address.html#2302" class="Function">payCred</a>
<a id="2500" href="Ledger.Address.html#2435" class="Function">isScriptAddr</a>     <a id="2517" class="Symbol">=</a> <a id="2519" href="Ledger.Address.html#1227" class="Datatype">isScript</a> <a id="2528" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2530" href="Ledger.Address.html#2302" class="Function">payCred</a>
<a id="isScriptRwdAddr"></a><a id="2538" href="Ledger.Address.html#2538" class="Function">isScriptRwdAddr</a>  <a id="2555" class="Symbol">=</a> <a id="2557" href="Ledger.Address.html#1227" class="Datatype">isScript</a> <a id="2566" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2568" href="Ledger.Address.html#1637" class="Field">RwdAddr.stake</a>
<a id="2582" class="Markup">\end{code}</a><a id="2592" class="Background">
\end{AgdaMultiCode}
\caption{Definitions used in Addresses}
\label{fig:defs:addresses}
\end{figure*}
</a><a id="2694" class="Markup">\begin{code}[hide]</a>
<a id="2713" href="Ledger.Address.html#2302" class="Function">payCred</a> <a id="2721" class="Symbol">(</a><a id="2722" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2727" class="Keyword">record</a> <a id="2734" class="Symbol">{</a><a id="2735" href="Ledger.Address.html#1408" class="Field">pay</a> <a id="2739" class="Symbol">=</a> <a id="2741" href="Ledger.Address.html#2741" class="Bound">pay</a><a id="2744" class="Symbol">})</a> <a id="2747" class="Symbol">=</a> <a id="2749" href="Ledger.Address.html#2741" class="Bound">pay</a>
<a id="2753" href="Ledger.Address.html#2302" class="Function">payCred</a> <a id="2761" class="Symbol">(</a><a id="2762" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2767" class="Keyword">record</a> <a id="2774" class="Symbol">{</a><a id="2775" href="Ledger.Address.html#1528" class="Field">pay</a> <a id="2779" class="Symbol">=</a> <a id="2781" href="Ledger.Address.html#2781" class="Bound">pay</a><a id="2784" class="Symbol">})</a> <a id="2787" class="Symbol">=</a> <a id="2789" href="Ledger.Address.html#2781" class="Bound">pay</a>

<a id="2794" href="Ledger.Address.html#2336" class="Function">stakeCred</a> <a id="2804" class="Symbol">(</a><a id="2805" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2810" class="Keyword">record</a> <a id="2817" class="Symbol">{</a><a id="2818" href="Ledger.Address.html#1436" class="Field">stake</a> <a id="2824" class="Symbol">=</a> <a id="2826" href="Ledger.Address.html#2826" class="Bound">stake</a><a id="2831" class="Symbol">})</a> <a id="2834" class="Symbol">=</a> <a id="2836" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2841" href="Ledger.Address.html#2826" class="Bound">stake</a>
<a id="2847" href="Ledger.Address.html#2336" class="Function">stakeCred</a> <a id="2857" class="Symbol">(</a><a id="2858" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2863" class="Symbol">_)</a> <a id="2866" class="Symbol">=</a> <a id="2868" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="2877" href="Ledger.Address.html#2376" class="Function">netId</a> <a id="2883" class="Symbol">(</a><a id="2884" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2889" class="Keyword">record</a> <a id="2896" class="Symbol">{</a><a id="2897" href="Ledger.Address.html#1383" class="Field">net</a> <a id="2901" class="Symbol">=</a> <a id="2903" href="Ledger.Address.html#2903" class="Bound">net</a><a id="2906" class="Symbol">})</a> <a id="2909" class="Symbol">=</a> <a id="2911" href="Ledger.Address.html#2903" class="Bound">net</a>
<a id="2915" href="Ledger.Address.html#2376" class="Function">netId</a> <a id="2921" class="Symbol">(</a><a id="2922" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2927" class="Keyword">record</a> <a id="2934" class="Symbol">{</a><a id="2935" href="Ledger.Address.html#1499" class="Field">net</a> <a id="2939" class="Symbol">=</a> <a id="2941" href="Ledger.Address.html#2941" class="Bound">net</a><a id="2944" class="Symbol">})</a> <a id="2947" class="Symbol">=</a> <a id="2949" href="Ledger.Address.html#2941" class="Bound">net</a>

<a id="2954" class="Keyword">data</a> <a id="isBootstrapAddr"></a><a id="2959" href="Ledger.Address.html#2959" class="Datatype">isBootstrapAddr</a> <a id="2975" class="Symbol">:</a> <a id="2977" href="Ledger.Address.html#2070" class="Function">Addr</a> <a id="2982" class="Symbol">→</a> <a id="2984" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2988" class="Keyword">where</a>
 <a id="isBootstrapAddr.IsBootstrapAddr"></a><a id="2995" href="Ledger.Address.html#2995" class="InductiveConstructor">IsBootstrapAddr</a> <a id="3011" class="Symbol">:</a> <a id="3013" class="Symbol">∀</a> <a id="3015" href="Ledger.Address.html#3015" class="Bound">a</a> <a id="3017" class="Symbol">→</a> <a id="3019" href="Ledger.Address.html#2959" class="Datatype">isBootstrapAddr</a> <a id="3035" class="Symbol">(</a><a id="3036" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3041" href="Ledger.Address.html#3015" class="Bound">a</a><a id="3042" class="Symbol">)</a>

<a id="3045" class="Keyword">instance</a>
  <a id="isBootstrapAddr?"></a><a id="3056" href="Ledger.Address.html#3056" class="Function">isBootstrapAddr?</a> <a id="3073" class="Symbol">:</a> <a id="3075" class="Symbol">∀</a> <a id="3077" class="Symbol">{</a><a id="3078" href="Ledger.Address.html#3078" class="Bound">a</a><a id="3079" class="Symbol">}</a> <a id="3081" class="Symbol">→</a> <a id="3083" href="Ledger.Address.html#2959" class="Datatype">isBootstrapAddr</a> <a id="3099" href="Ledger.Address.html#3078" class="Bound">a</a> <a id="3101" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
  <a id="3105" href="Ledger.Address.html#3056" class="Function">isBootstrapAddr?</a> <a id="3122" class="Symbol">{</a><a id="3123" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3128" class="Symbol">_}</a> <a id="3131" class="Symbol">=</a> <a id="3133" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="3135" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="3138" class="Symbol">λ</a> <a id="3140" class="Symbol">()</a>
  <a id="3145" href="Ledger.Address.html#3056" class="Function">isBootstrapAddr?</a> <a id="3162" class="Symbol">{</a><a id="3163" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3168" href="Ledger.Address.html#3168" class="Bound">a</a><a id="3169" class="Symbol">}</a> <a id="3171" class="Symbol">=</a> <a id="3173" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="3175" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="3179" class="Symbol">(</a><a id="3180" href="Ledger.Address.html#2995" class="InductiveConstructor">IsBootstrapAddr</a> <a id="3196" href="Ledger.Address.html#3168" class="Bound">a</a><a id="3197" class="Symbol">)</a>

<a id="3200" class="Keyword">instance</a>
  <a id="3211" class="Keyword">unquoteDecl</a> <a id="DecEq-Credential"></a><a id="3223" href="Ledger.Address.html#3223" class="Function">DecEq-Credential</a> <a id="3240" class="Symbol">=</a> <a id="3242" href="Tactic.Derive.DecEq.html#3506" class="Function">derive-DecEq</a> <a id="3255" class="Symbol">((</a><a id="3257" class="Keyword">quote</a> <a id="3263" href="Ledger.Address.html#764" class="Datatype">Credential</a> <a id="3274" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3276" href="Ledger.Address.html#3223" class="Function">DecEq-Credential</a><a id="3292" class="Symbol">)</a> <a id="3294" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3296" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3298" class="Symbol">)</a>

  <a id="Dec-isVKey"></a><a id="3303" href="Ledger.Address.html#3303" class="Function">Dec-isVKey</a> <a id="3314" class="Symbol">:</a> <a id="3316" href="Ledger.Address.html#1134" class="Datatype">isVKey</a> <a id="3323" href="Class.Decidable.Core.html#762" class="Function Operator">⁇¹</a>
  <a id="3328" href="Ledger.Address.html#3303" class="Function">Dec-isVKey</a> <a id="3339" class="Symbol">{</a><a id="3340" class="Argument">x</a> <a id="3342" class="Symbol">=</a> <a id="3344" href="Ledger.Address.html#3344" class="Bound">c</a><a id="3345" class="Symbol">}</a> <a id="3347" class="Symbol">.</a><a id="3348" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="3352" class="Keyword">with</a> <a id="3357" href="Ledger.Address.html#3344" class="Bound">c</a>
  <a id="3361" class="Symbol">...</a> <a id="3365" class="Symbol">|</a> <a id="3367" href="Ledger.Address.html#790" class="InductiveConstructor">KeyHashObj</a> <a id="3378" href="Ledger.Address.html#3378" class="Bound">h</a> <a id="3380" class="Symbol">=</a> <a id="3382" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="3386" class="Symbol">(</a><a id="3387" href="Ledger.Address.html#1169" class="InductiveConstructor">VKeyisVKey</a> <a id="3398" href="Ledger.Address.html#3378" class="Bound">h</a><a id="3399" class="Symbol">)</a>
  <a id="3403" class="Symbol">...</a> <a id="3407" class="Symbol">|</a> <a id="3409" href="Ledger.Address.html#826" class="InductiveConstructor">ScriptObj</a>  <a id="3420" class="Symbol">_</a> <a id="3422" class="Symbol">=</a> <a id="3424" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a>  <a id="3428" class="Symbol">λ</a> <a id="3430" class="Symbol">()</a>

  <a id="Dec-isScript"></a><a id="3436" href="Ledger.Address.html#3436" class="Function">Dec-isScript</a> <a id="3449" class="Symbol">:</a> <a id="3451" href="Ledger.Address.html#1227" class="Datatype">isScript</a> <a id="3460" href="Class.Decidable.Core.html#762" class="Function Operator">⁇¹</a>
  <a id="3465" href="Ledger.Address.html#3436" class="Function">Dec-isScript</a> <a id="3478" class="Symbol">{</a><a id="3479" class="Argument">x</a> <a id="3481" class="Symbol">=</a> <a id="3483" href="Ledger.Address.html#3483" class="Bound">x</a><a id="3484" class="Symbol">}</a> <a id="3486" class="Symbol">.</a><a id="3487" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="3491" class="Keyword">with</a> <a id="3496" href="Ledger.Address.html#3483" class="Bound">x</a>
  <a id="3500" class="Symbol">...</a> <a id="3504" class="Symbol">|</a> <a id="3506" href="Ledger.Address.html#790" class="InductiveConstructor">KeyHashObj</a> <a id="3517" class="Symbol">_</a> <a id="3519" class="Symbol">=</a> <a id="3521" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="3524" class="Symbol">λ</a> <a id="3526" class="Symbol">()</a>
  <a id="3531" class="Symbol">...</a> <a id="3535" class="Symbol">|</a> <a id="3537" href="Ledger.Address.html#826" class="InductiveConstructor">ScriptObj</a>  <a id="3548" href="Ledger.Address.html#3548" class="Bound">y</a> <a id="3550" class="Symbol">=</a> <a id="3552" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="3556" class="Symbol">(</a><a id="3557" href="Ledger.Address.html#1264" class="InductiveConstructor">SHisScript</a> <a id="3568" href="Ledger.Address.html#3548" class="Bound">y</a><a id="3569" class="Symbol">)</a>

<a id="3572" href="Ledger.Address.html#3572" class="Function">_</a> <a id="3574" class="Symbol">=</a> <a id="3576" href="Ledger.Address.html#1134" class="Datatype">isVKey</a> <a id="3583" href="Class.Decidable.Core.html#762" class="Function Operator">⁇¹</a> <a id="3586" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="3588" href="Function.Base.html#4736" class="Function">it</a>
<a id="3591" href="Ledger.Address.html#3591" class="Function">_</a> <a id="3593" class="Symbol">=</a> <a id="3595" href="Ledger.Address.html#2407" class="Function">isVKeyAddr</a> <a id="3606" href="Class.Decidable.Core.html#762" class="Function Operator">⁇¹</a> <a id="3609" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="3611" href="Function.Base.html#4736" class="Function">it</a>
<a id="3614" href="Ledger.Address.html#3614" class="Function">_</a> <a id="3616" class="Symbol">=</a> <a id="3618" href="Ledger.Address.html#1227" class="Datatype">isScript</a> <a id="3627" href="Class.Decidable.Core.html#762" class="Function Operator">⁇¹</a> <a id="3630" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="3632" href="Function.Base.html#4736" class="Function">it</a>
<a id="3635" href="Ledger.Address.html#3635" class="Function">_</a> <a id="3637" class="Symbol">=</a> <a id="3639" href="Ledger.Address.html#2435" class="Function">isScriptAddr</a> <a id="3652" href="Class.Decidable.Core.html#762" class="Function Operator">⁇¹</a> <a id="3655" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="3657" href="Function.Base.html#4736" class="Function">it</a>
<a id="3660" href="Ledger.Address.html#3660" class="Function">_</a> <a id="3662" class="Symbol">=</a> <a id="3664" href="Ledger.Address.html#2538" class="Function">isScriptRwdAddr</a> <a id="3680" href="Class.Decidable.Core.html#762" class="Function Operator">⁇¹</a> <a id="3683" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="3685" href="Function.Base.html#4736" class="Function">it</a>

<a id="getScriptHash"></a><a id="3689" href="Ledger.Address.html#3689" class="Function">getScriptHash</a> <a id="3703" class="Symbol">:</a> <a id="3705" class="Symbol">∀</a> <a id="3707" href="Ledger.Address.html#3707" class="Bound">a</a> <a id="3709" class="Symbol">→</a> <a id="3711" href="Ledger.Address.html#2435" class="Function">isScriptAddr</a> <a id="3724" href="Ledger.Address.html#3707" class="Bound">a</a> <a id="3726" class="Symbol">→</a> <a id="3728" href="Ledger.Address.html#416" class="Bound">ScriptHash</a>
<a id="3739" href="Ledger.Address.html#3689" class="Function">getScriptHash</a> <a id="3753" class="Symbol">(</a><a id="3754" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3759" class="Symbol">_)</a> <a id="3762" class="Symbol">(</a><a id="3763" href="Ledger.Address.html#1264" class="InductiveConstructor">SHisScript</a> <a id="3774" href="Ledger.Address.html#3774" class="Bound">sh</a><a id="3776" class="Symbol">)</a> <a id="3778" class="Symbol">=</a> <a id="3780" href="Ledger.Address.html#3774" class="Bound">sh</a>
<a id="3783" href="Ledger.Address.html#3689" class="Function">getScriptHash</a> <a id="3797" class="Symbol">(</a><a id="3798" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3803" class="Symbol">_)</a> <a id="3806" class="Symbol">(</a><a id="3807" href="Ledger.Address.html#1264" class="InductiveConstructor">SHisScript</a> <a id="3818" href="Ledger.Address.html#3818" class="Bound">sh</a><a id="3820" class="Symbol">)</a> <a id="3822" class="Symbol">=</a> <a id="3824" href="Ledger.Address.html#3818" class="Bound">sh</a>

<a id="3828" class="Keyword">instance</a> <a id="3837" class="Keyword">abstract</a>
  <a id="3848" class="Keyword">unquoteDecl</a> <a id="DecEq-BaseAddr"></a><a id="3860" href="Ledger.Address.html#3860" class="Function">DecEq-BaseAddr</a> <a id="DecEq-BootstrapAddr"></a><a id="3875" href="Ledger.Address.html#3875" class="Function">DecEq-BootstrapAddr</a> <a id="DecEq-RwdAddr"></a><a id="3895" href="Ledger.Address.html#3895" class="Function">DecEq-RwdAddr</a> <a id="3909" class="Symbol">=</a> <a id="3911" href="Tactic.Derive.DecEq.html#3506" class="Function">derive-DecEq</a>
    <a id="3928" class="Symbol">(</a> <a id="3930" class="Symbol">(</a><a id="3931" class="Keyword">quote</a> <a id="3937" href="Ledger.Address.html#1353" class="Record">BaseAddr</a>      <a id="3951" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3953" href="Ledger.Address.html#3860" class="Function">DecEq-BaseAddr</a><a id="3967" class="Symbol">)</a>
    <a id="3973" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3975" class="Symbol">(</a><a id="3976" class="Keyword">quote</a> <a id="3982" href="Ledger.Address.html#1464" class="Record">BootstrapAddr</a> <a id="3996" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3998" href="Ledger.Address.html#3875" class="Function">DecEq-BootstrapAddr</a><a id="4017" class="Symbol">)</a>
    <a id="4023" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4025" class="Symbol">(</a><a id="4026" class="Keyword">quote</a> <a id="4032" href="Ledger.Address.html#1583" class="Record">RwdAddr</a>       <a id="4046" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4048" href="Ledger.Address.html#3895" class="Function">DecEq-RwdAddr</a><a id="4061" class="Symbol">)</a>
    <a id="4067" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4069" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="4072" class="Symbol">)</a>
<a id="4074" class="Markup">\end{code}</a><a id="4084" class="Background">
</a></pre></body></html>