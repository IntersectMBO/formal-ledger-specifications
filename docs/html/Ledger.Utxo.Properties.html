<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Utxo.Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">\subsection{UTxO}
\label{sec:utxo-properties}

</a><a id="48" class="Markup">\begin{code}[hide]</a>
<a id="67" class="Symbol">{-#</a> <a id="71" class="Keyword">OPTIONS</a> <a id="79" class="Pragma">--safe</a> <a id="86" class="Symbol">#-}</a>

<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Algebra.Morphism.html" class="Module">Algebra.Morphism</a>            <a id="131" class="Keyword">using</a> <a id="137" class="Symbol">(</a><a id="138" class="Keyword">module</a> <a id="145" href="Algebra.Morphism.Structures.html#2353" class="Module">MonoidMorphisms</a><a id="160" class="Symbol">;</a> <a id="162" href="Algebra.Morphism.Structures.html#1057" class="Record">IsMagmaHomomorphism</a><a id="181" class="Symbol">)</a>
<a id="183" class="Keyword">import</a> <a id="190" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="199" class="Symbol">as</a> <a id="202" class="Module">ℕ</a>
<a id="204" class="Keyword">open</a> <a id="209" class="Keyword">import</a> <a id="216" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>         <a id="244" class="Keyword">hiding</a> <a id="251" class="Symbol">(</a><a id="252" href="Data.Nat.Properties.html#3311" class="Function Operator">_≟_</a><a id="255" class="Symbol">)</a>
<a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="Data.Product.html" class="Module">Data.Product</a>                <a id="297" class="Keyword">using</a> <a id="303" class="Symbol">(</a><a id="304" href="Data.Product.Base.html#5054" class="Function">swap</a><a id="308" class="Symbol">)</a>
<a id="310" class="Keyword">open</a> <a id="315" class="Keyword">import</a> <a id="322" href="Data.Sign.html" class="Module">Data.Sign</a>                   <a id="350" class="Keyword">using</a> <a id="356" class="Symbol">(</a><a id="357" href="Data.Sign.Base.html#523" class="Datatype">Sign</a><a id="361" class="Symbol">)</a>
<a id="363" class="Keyword">open</a> <a id="368" class="Keyword">import</a> <a id="375" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="388" class="Symbol">as</a> <a id="391" class="Module">ℤ</a>           <a id="403" class="Keyword">using</a> <a id="409" class="Symbol">(</a><a id="410" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="411" class="Symbol">)</a>
<a id="413" class="Keyword">open</a> <a id="418" class="Keyword">import</a> <a id="425" href="Data.Integer.Ext.html" class="Module">Data.Integer.Ext</a>            <a id="453" class="Keyword">using</a> <a id="459" class="Symbol">(</a><a id="460" href="Data.Integer.Ext.html#349" class="Function">posPart</a><a id="467" class="Symbol">;</a> <a id="469" href="Data.Integer.Ext.html#440" class="Function">negPart</a><a id="476" class="Symbol">;</a> <a id="478" href="Data.Integer.Ext.html#531" class="Function">∸≡posPart⊖</a><a id="488" class="Symbol">)</a>
<a id="490" class="Keyword">import</a> <a id="497" href="Data.Integer.Properties.html" class="Module">Data.Integer.Properties</a> <a id="521" class="Symbol">as</a> <a id="524" class="Module">ℤ</a>
<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Data.String.Base.html" class="Module">Data.String.Base</a>            <a id="566" class="Keyword">renaming</a> <a id="575" class="Symbol">(</a><a id="576" href="Data.String.Base.html#2404" class="Function Operator">_++_</a> <a id="581" class="Symbol">to</a> <a id="584" class="Function Operator">_+ˢ_</a><a id="588" class="Symbol">)</a> <a id="590" class="Keyword">using</a> <a id="596" class="Symbol">()</a>
<a id="599" class="Keyword">open</a> <a id="604" class="Keyword">import</a> <a id="611" href="Relation.Binary.html" class="Module">Relation.Binary</a>             <a id="639" class="Keyword">using</a> <a id="645" class="Symbol">(</a><a id="646" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a><a id="659" class="Symbol">)</a>

<a id="662" class="Keyword">open</a> <a id="667" class="Keyword">import</a> <a id="674" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a>  <a id="704" class="Keyword">using</a> <a id="710" class="Symbol">(</a><a id="711" href="Data.List.Relation.Unary.All.html#1627" class="Datatype">All</a><a id="714" class="Symbol">)</a>
<a id="716" class="Keyword">open</a> <a id="721" class="Keyword">import</a> <a id="728" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>  <a id="758" class="Keyword">using</a> <a id="764" class="Symbol">(</a><a id="765" href="Data.List.Relation.Unary.Any.html#1163" class="Datatype">Any</a><a id="768" class="Symbol">);</a> <a id="771" class="Keyword">open</a> <a id="776" href="Data.List.Relation.Unary.Any.html#1163" class="Module">Any</a>

<a id="781" class="Keyword">open</a> <a id="786" class="Keyword">import</a> <a id="793" href="Prelude.html" class="Module">Prelude</a><a id="800" class="Symbol">;</a> <a id="802" class="Keyword">open</a> <a id="807" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="820" class="Keyword">open</a> <a id="825" class="Keyword">import</a> <a id="832" href="Tactic.Cong.html" class="Module">Tactic.Cong</a>                 <a id="860" class="Keyword">using</a> <a id="866" class="Symbol">(</a><a id="867" href="Tactic.Cong.html#8166" class="Function">cong!</a><a id="872" class="Symbol">)</a>
<a id="874" class="Keyword">open</a> <a id="879" class="Keyword">import</a> <a id="886" href="Tactic.Defaults.html" class="Module">Tactic.Defaults</a>
<a id="902" class="Keyword">open</a> <a id="907" class="Keyword">import</a> <a id="914" href="Tactic.EquationalReasoning.html" class="Module">Tactic.EquationalReasoning</a>  <a id="942" class="Keyword">using</a> <a id="948" class="Symbol">(</a><a id="949" class="Keyword">module</a> <a id="956" href="Tactic.EquationalReasoning.html#417" class="Module">≡-Reasoning</a><a id="967" class="Symbol">)</a>
<a id="969" class="Keyword">open</a> <a id="974" class="Keyword">import</a> <a id="981" href="Tactic.GenError.html" class="Module">Tactic.GenError</a>
<a id="997" class="Keyword">open</a> <a id="1002" class="Keyword">import</a> <a id="1009" href="Tactic.MonoidSolver.NonNormalising.html" class="Module">Tactic.MonoidSolver.NonNormalising</a> <a id="1044" class="Keyword">using</a> <a id="1050" class="Symbol">(</a><a id="1051" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a><a id="1062" class="Symbol">)</a>

<a id="1065" class="Keyword">open</a> <a id="1070" class="Keyword">import</a> <a id="1077" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="1092" class="Keyword">hiding</a> <a id="1099" class="Symbol">(</a><a id="1100" href="Interface.HasOrder.html#650" class="Function">≤-trans</a><a id="1107" class="Symbol">;</a> <a id="1109" href="Interface.HasOrder.html#1560" class="Field">≤-antisym</a><a id="1118" class="Symbol">;</a> <a id="1120" href="Axiom.Set.html#9437" class="Function">All</a><a id="1123" class="Symbol">);</a> <a id="1126" class="Keyword">open</a> <a id="1131" href="Ledger.Set.Theory.html#2482" class="Module">Properties</a>
<a id="1142" class="Keyword">open</a> <a id="1147" class="Keyword">import</a> <a id="1154" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>
<a id="1170" class="Keyword">open</a> <a id="1175" class="Keyword">import</a> <a id="1182" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="1201" class="Keyword">open</a> <a id="1206" class="Keyword">import</a> <a id="1213" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>

<a id="1246" class="Keyword">module</a> <a id="1253" href="Ledger.Utxo.Properties.html" class="Module">Ledger.Utxo.Properties</a>
  <a id="1278" class="Symbol">(</a><a id="1279" href="Ledger.Utxo.Properties.html#1279" class="Bound">txs</a> <a id="1283" class="Symbol">:</a> <a id="1285" class="Symbol">_)</a> <a id="1288" class="Symbol">(</a><a id="1289" class="Keyword">open</a> <a id="1294" href="Ledger.Transaction.html#933" class="Module">TransactionStructure</a> <a id="1315" href="Ledger.Utxo.Properties.html#1279" class="Bound">txs</a><a id="1318" class="Symbol">)</a>
  <a id="1322" class="Symbol">(</a><a id="1323" href="Ledger.Utxo.Properties.html#1323" class="Bound">abs</a> <a id="1327" class="Symbol">:</a> <a id="1329" href="Ledger.Abstract.html#540" class="Record">AbstractFunctions</a> <a id="1347" href="Ledger.Utxo.Properties.html#1279" class="Bound">txs</a><a id="1350" class="Symbol">)</a> <a id="1352" class="Symbol">(</a><a id="1353" class="Keyword">open</a> <a id="1358" href="Ledger.Abstract.html#540" class="Module">AbstractFunctions</a> <a id="1376" href="Ledger.Utxo.Properties.html#1323" class="Bound">abs</a><a id="1379" class="Symbol">)</a>
  <a id="1383" class="Keyword">where</a>

<a id="1390" class="Keyword">open</a> <a id="1395" class="Keyword">import</a> <a id="1402" href="Ledger.Utxo.html" class="Module">Ledger.Utxo</a> <a id="1414" href="Ledger.Utxo.Properties.html#1279" class="Bound">txs</a> <a id="1418" href="Ledger.Utxo.Properties.html#1323" class="Bound">abs</a>
<a id="1422" class="Keyword">open</a> <a id="1427" class="Keyword">import</a> <a id="1434" href="Ledger.ScriptValidation.html" class="Module">Ledger.ScriptValidation</a> <a id="1458" href="Ledger.Utxo.Properties.html#1279" class="Bound">txs</a> <a id="1462" href="Ledger.Utxo.Properties.html#1323" class="Bound">abs</a>

<a id="1467" class="Keyword">instance</a>
  <a id="1478" href="Ledger.Utxo.Properties.html#1478" class="Function">_</a> <a id="1480" class="Symbol">=</a> <a id="1482" href="Ledger.TokenAlgebra.html#931" class="Function">TokenAlgebra.Value-CommutativeMonoid</a> <a id="1519" href="Ledger.Transaction.html#3148" class="Field">tokenAlgebra</a>
  <a id="1534" href="Ledger.Utxo.Properties.html#1534" class="Function">_</a> <a id="1536" class="Symbol">=</a> <a id="1538" href="Data.Nat.Properties.html#16493" class="Function">+-0-monoid</a>
  <a id="1551" href="Ledger.Utxo.Properties.html#1551" class="Function">_</a> <a id="1553" class="Symbol">=</a> <a id="1555" href="Interface.ComputationalRelation.html#1367" class="Function">Functor-ComputationResult</a>

<a id="1582" class="Keyword">instance</a>
  <a id="Computational-UTXOS"></a><a id="1593" href="Ledger.Utxo.Properties.html#1593" class="Function">Computational-UTXOS</a> <a id="1613" class="Symbol">:</a> <a id="1615" href="Interface.ComputationalRelation.html#2801" class="Record">Computational</a> <a id="1629" href="Ledger.Utxo.html#12448" class="Datatype Operator">_⊢_⇀⦇_,UTXOS⦈_</a> <a id="1644" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1653" href="Ledger.Utxo.Properties.html#1593" class="Function">Computational-UTXOS</a> <a id="1673" class="Symbol">=</a> <a id="1675" class="Keyword">record</a> <a id="1682" class="Symbol">{</a><a id="1683" href="Ledger.Utxo.Properties.html#1704" class="Module">go</a><a id="1685" class="Symbol">}</a> <a id="1687" class="Keyword">where</a>
    <a id="1697" class="Keyword">module</a> <a id="1704" href="Ledger.Utxo.Properties.html#1704" class="Module">go</a> <a id="1707" href="Ledger.Utxo.Properties.html#1707" class="Bound">Γ</a> <a id="1709" href="Ledger.Utxo.Properties.html#1709" class="Bound">s</a> <a id="1711" href="Ledger.Utxo.Properties.html#1711" class="Bound">tx</a>
      <a id="1720" class="Symbol">(</a><a id="1721" class="Keyword">let</a> <a id="1725" href="Ledger.Utxo.Properties.html#1725" class="Bound">H-Yes</a> <a id="1731" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1733" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1735" href="Ledger.Utxo.Properties.html#1735" class="Bound">H-Yes?</a> <a id="1742" class="Symbol">=</a> <a id="1744" href="Ledger.Utxo.html#13739" class="Function">Scripts-Yes-premises</a> <a id="1765" class="Symbol">{</a><a id="1766" href="Ledger.Utxo.Properties.html#1707" class="Bound">Γ</a><a id="1767" class="Symbol">}</a> <a id="1769" class="Symbol">{</a><a id="1770" href="Ledger.Utxo.Properties.html#1709" class="Bound">s</a><a id="1771" class="Symbol">}</a> <a id="1773" class="Symbol">{</a><a id="1774" href="Ledger.Utxo.Properties.html#1711" class="Bound">tx</a><a id="1776" class="Symbol">})</a>
      <a id="1785" class="Symbol">(</a><a id="1786" class="Keyword">let</a> <a id="1790" href="Ledger.Utxo.Properties.html#1790" class="Bound">H-No</a>  <a id="1796" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1798" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1800" href="Ledger.Utxo.Properties.html#1800" class="Bound">H-No?</a>  <a id="1807" class="Symbol">=</a> <a id="1809" href="Ledger.Utxo.html#13827" class="Function">Scripts-No-premises</a> <a id="1829" class="Symbol">{</a><a id="1830" href="Ledger.Utxo.Properties.html#1707" class="Bound">Γ</a><a id="1831" class="Symbol">}</a> <a id="1833" class="Symbol">{</a><a id="1834" href="Ledger.Utxo.Properties.html#1709" class="Bound">s</a><a id="1835" class="Symbol">}</a> <a id="1837" class="Symbol">{</a><a id="1838" href="Ledger.Utxo.Properties.html#1711" class="Bound">tx</a><a id="1840" class="Symbol">})</a> <a id="1843" class="Keyword">where</a>
      <a id="1855" class="Keyword">open</a> <a id="1860" href="Ledger.Transaction.html#5227" class="Module">Tx</a> <a id="1863" href="Ledger.Utxo.Properties.html#1711" class="Bound">tx</a> <a id="1866" class="Keyword">renaming</a> <a id="1875" class="Symbol">(</a><a id="1876" href="Ledger.Transaction.html#5313" class="Field">body</a> <a id="1881" class="Symbol">to</a> <a id="1884" class="Field">txb</a><a id="1887" class="Symbol">);</a> <a id="1890" class="Keyword">open</a> <a id="1895" href="Ledger.Transaction.html#4126" class="Module">TxBody</a> <a id="1902" href="Ledger.Utxo.Properties.html#1884" class="Field">txb</a>
      <a id="1912" class="Keyword">open</a> <a id="1917" href="Ledger.Utxo.html#4994" class="Module">UTxOEnv</a> <a id="1925" href="Ledger.Utxo.Properties.html#1707" class="Bound">Γ</a> <a id="1927" class="Keyword">renaming</a> <a id="1936" class="Symbol">(</a><a id="1937" href="Ledger.Utxo.html#5102" class="Field">pparams</a> <a id="1945" class="Symbol">to</a> <a id="1948" class="Field">pp</a><a id="1950" class="Symbol">)</a>
      <a id="1958" class="Keyword">open</a> <a id="1963" href="Ledger.Utxo.html#5208" class="Module">UTxOState</a> <a id="1973" href="Ledger.Utxo.Properties.html#1709" class="Bound">s</a>
      <a id="1981" href="Ledger.Utxo.Properties.html#1981" class="Function">sLst</a> <a id="1986" class="Symbol">=</a> <a id="1988" href="Ledger.ScriptValidation.html#5563" class="Function">collectPhaseTwoScriptInputs</a> <a id="2016" href="Ledger.Utxo.Properties.html#1948" class="Function">pp</a> <a id="2019" href="Ledger.Utxo.Properties.html#1711" class="Bound">tx</a> <a id="2022" href="Ledger.Utxo.html#5322" class="Function">utxo</a>

      <a id="2034" href="Ledger.Utxo.Properties.html#2034" class="Function">computeProof</a> <a id="2047" class="Symbol">=</a>
        <a id="2057" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2062" href="Ledger.Utxo.Properties.html#1735" class="Bound">H-Yes?</a> <a id="2069" href="Data.Product.Base.html#1686" class="Function Operator">,′</a> <a id="2072" href="Ledger.Utxo.Properties.html#1800" class="Bound">H-No?</a> <a id="2078" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2081" class="Symbol">λ</a> <a id="2083" class="Keyword">where</a>
          <a id="2099" class="Symbol">(</a><a id="2100" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="2104" href="Ledger.Utxo.Properties.html#2104" class="Bound">p</a> <a id="2106" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2108" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="2111" class="Symbol">_</a> <a id="2113" class="Symbol">)</a> <a id="2115" class="Symbol">→</a> <a id="2117" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2125" class="Symbol">(_</a> <a id="2128" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2130" class="Symbol">(</a><a id="2131" href="Ledger.Utxo.html#12538" class="InductiveConstructor">Scripts-Yes</a> <a id="2143" href="Ledger.Utxo.Properties.html#2104" class="Bound">p</a><a id="2144" class="Symbol">))</a>
          <a id="2157" class="Symbol">(</a><a id="2158" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="2161" class="Symbol">_</a>  <a id="2164" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2166" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="2170" href="Ledger.Utxo.Properties.html#2170" class="Bound">p</a><a id="2171" class="Symbol">)</a> <a id="2173" class="Symbol">→</a> <a id="2175" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2183" class="Symbol">(_</a> <a id="2186" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2188" class="Symbol">(</a><a id="2189" href="Ledger.Utxo.html#13145" class="InductiveConstructor">Scripts-No</a> <a id="2200" href="Ledger.Utxo.Properties.html#2170" class="Bound">p</a><a id="2201" class="Symbol">))</a>
          <a id="2214" class="CatchallClause Symbol">(_</a><a id="2216" class="CatchallClause">     </a><a id="2221" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="2222" class="CatchallClause"> </a><a id="2223" class="CatchallClause Symbol">_</a><a id="2224" class="CatchallClause">    </a><a id="2228" class="CatchallClause Symbol">)</a> <a id="2230" class="Symbol">→</a> <a id="2232" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="2240" class="String">&quot;isValid check failed&quot;</a>

      <a id="2270" href="Ledger.Utxo.Properties.html#2270" class="Function">completeness</a> <a id="2283" class="Symbol">:</a> <a id="2285" class="Symbol">∀</a> <a id="2287" href="Ledger.Utxo.Properties.html#2287" class="Bound">s&#39;</a> <a id="2290" class="Symbol">→</a> <a id="2292" href="Ledger.Utxo.Properties.html#1707" class="Bound">Γ</a> <a id="2294" href="Ledger.Utxo.html#12448" class="Datatype Operator">⊢</a> <a id="2296" href="Ledger.Utxo.Properties.html#1709" class="Bound">s</a> <a id="2298" href="Ledger.Utxo.html#12448" class="Datatype Operator">⇀⦇</a> <a id="2301" href="Ledger.Utxo.Properties.html#1711" class="Bound">tx</a> <a id="2304" href="Ledger.Utxo.html#12448" class="Datatype Operator">,UTXOS⦈</a> <a id="2312" href="Ledger.Utxo.Properties.html#2287" class="Bound">s&#39;</a> <a id="2315" class="Symbol">→</a> <a id="2317" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="2321" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2327" href="Ledger.Utxo.Properties.html#2034" class="Function">computeProof</a> <a id="2340" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2342" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2350" href="Ledger.Utxo.Properties.html#2287" class="Bound">s&#39;</a>
      <a id="2359" href="Ledger.Utxo.Properties.html#2270" class="Function">completeness</a> <a id="2372" class="Symbol">_</a> <a id="2374" class="Symbol">(</a><a id="2375" href="Ledger.Utxo.html#12538" class="InductiveConstructor">Scripts-Yes</a> <a id="2387" href="Ledger.Utxo.Properties.html#2387" class="Bound">p</a><a id="2388" class="Symbol">)</a> <a id="2390" class="Keyword">with</a> <a id="2395" href="Ledger.Utxo.Properties.html#1800" class="Bound">H-No?</a> <a id="2401" class="Symbol">|</a> <a id="2403" href="Ledger.Utxo.Properties.html#1735" class="Bound">H-Yes?</a>
      <a id="2416" class="Symbol">...</a> <a id="2420" class="Symbol">|</a> <a id="2422" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="2426" class="Symbol">(_</a> <a id="2429" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2431" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2435" class="Symbol">)</a> <a id="2437" class="Symbol">|</a> <a id="2439" class="Symbol">_</a>     <a id="2445" class="Symbol">=</a> <a id="2447" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2452" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2458" class="Bound">p</a> <a id="2460" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2463" class="Symbol">λ</a> <a id="2465" class="Symbol">()</a>
      <a id="2474" class="Symbol">...</a> <a id="2478" class="Symbol">|</a> <a id="2480" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="2483" class="Symbol">_</a>           <a id="2495" class="Symbol">|</a> <a id="2497" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="2501" class="Symbol">_</a> <a id="2503" class="Symbol">=</a> <a id="2505" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2516" class="Symbol">...</a> <a id="2520" class="Symbol">|</a> <a id="2522" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="2525" class="Symbol">_</a>           <a id="2537" class="Symbol">|</a> <a id="2539" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="2542" href="Ledger.Utxo.Properties.html#2542" class="Bound">¬p</a> <a id="2545" class="Symbol">=</a> <a id="2547" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2552" href="Ledger.Utxo.Properties.html#2542" class="Bound">¬p</a> <a id="2555" class="Bound">p</a> <a id="2557" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2560" class="Symbol">λ</a> <a id="2562" class="Symbol">()</a>
      <a id="2571" href="Ledger.Utxo.Properties.html#2270" class="Function">completeness</a> <a id="2584" class="Symbol">_</a> <a id="2586" class="Symbol">(</a><a id="2587" href="Ledger.Utxo.html#13145" class="InductiveConstructor">Scripts-No</a> <a id="2598" href="Ledger.Utxo.Properties.html#2598" class="Bound">p</a><a id="2599" class="Symbol">)</a> <a id="2601" class="Keyword">with</a> <a id="2606" href="Ledger.Utxo.Properties.html#1735" class="Bound">H-Yes?</a> <a id="2613" class="Symbol">|</a> <a id="2615" href="Ledger.Utxo.Properties.html#1800" class="Bound">H-No?</a>
      <a id="2627" class="Symbol">...</a> <a id="2631" class="Symbol">|</a> <a id="2633" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="2637" class="Symbol">(_</a> <a id="2640" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2642" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2646" class="Symbol">)</a> <a id="2648" class="Symbol">|</a> <a id="2650" class="Symbol">_</a>     <a id="2656" class="Symbol">=</a> <a id="2658" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2663" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2669" class="Bound">p</a> <a id="2671" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2674" class="Symbol">λ</a> <a id="2676" class="Symbol">()</a>
      <a id="2685" class="Symbol">...</a> <a id="2689" class="Symbol">|</a> <a id="2691" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="2694" class="Symbol">_</a>           <a id="2706" class="Symbol">|</a> <a id="2708" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="2712" class="Symbol">_</a> <a id="2714" class="Symbol">=</a> <a id="2716" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2727" class="Symbol">...</a> <a id="2731" class="Symbol">|</a> <a id="2733" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="2736" class="Symbol">_</a>           <a id="2748" class="Symbol">|</a> <a id="2750" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="2753" href="Ledger.Utxo.Properties.html#2753" class="Bound">¬p</a> <a id="2756" class="Symbol">=</a> <a id="2758" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2763" href="Ledger.Utxo.Properties.html#2753" class="Bound">¬p</a> <a id="2766" class="Bound">p</a> <a id="2768" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2771" class="Symbol">λ</a> <a id="2773" class="Symbol">()</a>

<a id="2777" class="Keyword">instance</a>
  <a id="Computational-UTXO&#39;"></a><a id="2788" href="Ledger.Utxo.Properties.html#2788" class="Function">Computational-UTXO&#39;</a> <a id="2808" class="Symbol">:</a> <a id="2810" href="Interface.ComputationalRelation.html#2801" class="Record">Computational</a> <a id="2824" href="Ledger.Utxo.html#5513" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="2838" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="2847" href="Ledger.Utxo.Properties.html#2788" class="Function">Computational-UTXO&#39;</a> <a id="2867" class="Symbol">=</a> <a id="2869" class="Keyword">record</a> <a id="2876" class="Symbol">{</a><a id="2877" href="Ledger.Utxo.Properties.html#2904" class="Module">Go</a><a id="2879" class="Symbol">}</a>
    <a id="2885" class="Keyword">where</a>
      <a id="2897" class="Keyword">module</a> <a id="2904" href="Ledger.Utxo.Properties.html#2904" class="Module">Go</a> <a id="2907" href="Ledger.Utxo.Properties.html#2907" class="Bound">Γ</a> <a id="2909" href="Ledger.Utxo.Properties.html#2909" class="Bound">s</a> <a id="2911" href="Ledger.Utxo.Properties.html#2911" class="Bound">tx</a> <a id="2914" class="Symbol">(</a><a id="2915" class="Keyword">let</a> <a id="2919" href="Ledger.Utxo.Properties.html#2919" class="Bound">H</a> <a id="2921" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2923" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="2925" href="Ledger.Utxo.Properties.html#2925" class="Bound">H?</a> <a id="2928" class="Symbol">=</a> <a id="2930" href="Ledger.Utxo.html#15813" class="Function">UTXO-premises</a> <a id="2944" class="Symbol">{</a><a id="2945" href="Ledger.Utxo.Properties.html#2911" class="Bound">tx</a><a id="2947" class="Symbol">}{</a><a id="2949" href="Ledger.Utxo.Properties.html#2907" class="Bound">Γ</a><a id="2950" class="Symbol">}{</a><a id="2952" href="Ledger.Utxo.Properties.html#2909" class="Bound">s</a><a id="2953" class="Symbol">})</a> <a id="2956" class="Keyword">where</a>

        <a id="2971" class="Keyword">open</a> <a id="2976" href="Interface.ComputationalRelation.html#2801" class="Module">Computational</a> <a id="2990" href="Ledger.Utxo.Properties.html#1593" class="Function">Computational-UTXOS</a>
          <a id="3020" class="Keyword">renaming</a> <a id="3029" class="Symbol">(</a><a id="3030" href="Interface.ComputationalRelation.html#2881" class="Field">computeProof</a> <a id="3043" class="Symbol">to</a> <a id="3046" class="Field">computeProof&#39;</a><a id="3059" class="Symbol">;</a> <a id="3061" href="Interface.ComputationalRelation.html#3098" class="Field">completeness</a> <a id="3074" class="Symbol">to</a> <a id="3077" class="Field">completeness&#39;</a><a id="3090" class="Symbol">)</a>

        <a id="3101" href="Ledger.Utxo.Properties.html#3101" class="Function">genErr</a> <a id="3108" class="Symbol">:</a> <a id="3110" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬</a> <a id="3112" href="Ledger.Utxo.Properties.html#2919" class="Bound">H</a> <a id="3114" class="Symbol">→</a> <a id="3116" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
        <a id="3131" href="Ledger.Utxo.Properties.html#3101" class="Function">genErr</a>  <a id="3139" href="Ledger.Utxo.Properties.html#3139" class="Bound">¬p</a> <a id="3142" class="Symbol">=</a> <a id="3144" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3149" href="Ledger.Prelude.html#1296" class="Function">dec-de-morgan</a> <a id="3163" href="Ledger.Utxo.Properties.html#3139" class="Bound">¬p</a> <a id="3166" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3169" class="Symbol">λ</a> <a id="3171" class="Keyword">where</a>
          <a id="3187" class="Symbol">(</a><a id="3188" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3193" href="Ledger.Utxo.Properties.html#3193" class="Bound">a</a><a id="3194" class="Symbol">)</a> <a id="3196" class="Symbol">→</a> <a id="3198" class="String">&quot;¬ TxBody.txins (Tx.body tx) ≢ ∅&quot;</a>
          <a id="3242" class="Symbol">(</a><a id="3243" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3248" href="Ledger.Utxo.Properties.html#3248" class="Bound">b</a><a id="3249" class="Symbol">)</a> <a id="3251" class="Symbol">→</a> <a id="3253" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3258" href="Ledger.Prelude.html#1296" class="Function">dec-de-morgan</a> <a id="3272" href="Ledger.Utxo.Properties.html#3248" class="Bound">b</a> <a id="3274" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3277" class="Symbol">λ</a> <a id="3279" class="Keyword">where</a>
            <a id="3297" class="Symbol">(</a><a id="3298" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3303" href="Ledger.Utxo.Properties.html#3303" class="Bound">a₁</a><a id="3305" class="Symbol">)</a> <a id="3307" class="Symbol">→</a> <a id="3309" class="String">&quot;¬ TxBody.txins (Tx.body tx) ⊆ dom (UTxOState.utxo s)&quot;</a>
            <a id="3376" class="Symbol">(</a><a id="3377" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3382" href="Ledger.Utxo.Properties.html#3382" class="Bound">b₁</a><a id="3384" class="Symbol">)</a> <a id="3386" class="Symbol">→</a> <a id="3388" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3393" href="Ledger.Prelude.html#1296" class="Function">dec-de-morgan</a> <a id="3407" href="Ledger.Utxo.Properties.html#3382" class="Bound">b₁</a> <a id="3410" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3413" class="Symbol">λ</a> <a id="3415" class="Keyword">where</a>
                <a id="3437" class="Symbol">(</a><a id="3438" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3443" href="Ledger.Utxo.Properties.html#3443" class="Bound">a₁&#39;</a><a id="3446" class="Symbol">)</a> <a id="3448" class="Symbol">→</a> <a id="3450" class="String">&quot;¬ refInputs ⊆ dom utxo &quot;</a>
                <a id="3492" class="Symbol">(</a><a id="3493" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3498" href="Ledger.Utxo.Properties.html#3498" class="Bound">b₂&#39;</a><a id="3501" class="Symbol">)</a> <a id="3503" class="Symbol">→</a> <a id="3505" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3510" href="Ledger.Prelude.html#1296" class="Function">dec-de-morgan</a> <a id="3524" href="Ledger.Utxo.Properties.html#3498" class="Bound">b₂&#39;</a> <a id="3528" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3531" class="Symbol">λ</a> <a id="3533" class="Keyword">where</a>
                  <a id="3557" class="Symbol">(</a><a id="3558" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3563" href="Ledger.Utxo.Properties.html#3563" class="Bound">a₂</a><a id="3565" class="Symbol">)</a> <a id="3567" class="Symbol">→</a> <a id="3569" class="String">&quot;¬ inInterval (UTxOEnv.slot Γ) (txvldt (Tx.body tx))&quot;</a>
                  <a id="3641" class="Symbol">(</a><a id="3642" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3647" href="Ledger.Utxo.Properties.html#3647" class="Bound">b₂</a><a id="3649" class="Symbol">)</a> <a id="3651" class="Symbol">→</a> <a id="3653" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3658" href="Ledger.Prelude.html#1296" class="Function">dec-de-morgan</a> <a id="3672" href="Ledger.Utxo.Properties.html#3647" class="Bound">b₂</a> <a id="3675" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3678" class="Symbol">λ</a> <a id="3680" class="Keyword">where</a>
                    <a id="3706" class="Symbol">(</a><a id="3707" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3712" href="Ledger.Utxo.Properties.html#3712" class="Bound">a₃</a><a id="3714" class="Symbol">)</a> <a id="3716" class="Symbol">→</a> <a id="3718" class="String">&quot;¬ feesOK pp tx utxo ≡ true&quot;</a>
                    <a id="3767" class="Symbol">(</a><a id="3768" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3773" href="Ledger.Utxo.Properties.html#3773" class="Bound">b₃</a><a id="3775" class="Symbol">)</a> <a id="3777" class="Symbol">→</a> <a id="3779" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3784" href="Ledger.Prelude.html#1296" class="Function">dec-de-morgan</a> <a id="3798" href="Ledger.Utxo.Properties.html#3773" class="Bound">b₃</a> <a id="3801" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3804" class="Symbol">λ</a> <a id="3806" class="Keyword">where</a>
                        <a id="3836" class="Symbol">(</a><a id="3837" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3842" href="Ledger.Utxo.Properties.html#3842" class="Bound">a₄</a><a id="3844" class="Symbol">)</a> <a id="3846" class="Symbol">→</a>
                          <a id="3874" class="Keyword">let</a>
                            <a id="3906" href="Ledger.Utxo.Properties.html#3906" class="Bound">pp</a> <a id="3909" class="Symbol">=</a> <a id="3911" href="Ledger.Utxo.html#5102" class="Field">UTxOEnv.pparams</a> <a id="3927" href="Ledger.Utxo.Properties.html#2907" class="Bound">Γ</a>
                            <a id="3957" href="Ledger.Utxo.Properties.html#3957" class="Bound">txb</a> <a id="3961" class="Symbol">=</a> <a id="3963" href="Ledger.Transaction.html#5313" class="Field">Tx.body</a> <a id="3971" href="Ledger.Utxo.Properties.html#2911" class="Bound">tx</a>
                            <a id="4002" href="Ledger.Utxo.Properties.html#4002" class="Bound">con</a> <a id="4006" class="Symbol">=</a> <a id="4008" href="Ledger.Utxo.html#11416" class="Function">consumed</a> <a id="4017" href="Ledger.Utxo.Properties.html#3906" class="Bound">pp</a> <a id="4020" href="Ledger.Utxo.Properties.html#2909" class="Bound">s</a> <a id="4022" href="Ledger.Utxo.Properties.html#3957" class="Bound">txb</a>
                            <a id="4054" href="Ledger.Utxo.Properties.html#4054" class="Bound">prod</a> <a id="4059" class="Symbol">=</a> <a id="4061" href="Ledger.Utxo.html#11585" class="Function">produced</a> <a id="4070" href="Ledger.Utxo.Properties.html#3906" class="Bound">pp</a> <a id="4073" href="Ledger.Utxo.Properties.html#2909" class="Bound">s</a> <a id="4075" href="Ledger.Utxo.Properties.html#3957" class="Bound">txb</a>
                            <a id="4107" href="Ledger.Utxo.Properties.html#4107" class="Bound">showValue</a> <a id="4117" class="Symbol">=</a> <a id="4119" href="Class.Show.Core.html#178" class="Field">show</a> <a id="4124" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4126" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a>
                          <a id="4157" class="Keyword">in</a>
                            <a id="4188" class="Symbol">(</a> <a id="4190" class="String">&quot;¬consumed (UTxOEnv.pparams Γ) s (Tx.body tx) ≡ produced (UTxOEnv.pparams Γ) s (Tx.body tx)&quot;</a>
                            <a id="4311" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4314" class="String">&quot;\n  consumed =\t\t&quot;</a> <a id="4335" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4338" href="Ledger.Utxo.Properties.html#4107" class="Bound">showValue</a> <a id="4348" href="Ledger.Utxo.Properties.html#4002" class="Bound">con</a>
                            <a id="4380" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4383" class="String">&quot;\n    ins  =\t\t&quot;</a> <a id="4402" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4405" href="Ledger.Utxo.Properties.html#4107" class="Bound">showValue</a> <a id="4415" class="Symbol">(</a><a id="4416" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="4424" class="Symbol">(</a><a id="4425" href="Ledger.Utxo.Properties.html#2909" class="Bound">s</a> <a id="4427" class="Symbol">.</a><a id="4428" href="Ledger.Utxo.html#5322" class="Field">UTxOState.utxo</a> <a id="4443" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="4445" href="Ledger.Utxo.Properties.html#3957" class="Bound">txb</a> <a id="4449" class="Symbol">.</a><a id="4450" href="Ledger.Transaction.html#4216" class="Field">TxBody.txins</a><a id="4462" class="Symbol">))</a>
                            <a id="4493" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4496" class="String">&quot;\n    mint =\t\t&quot;</a> <a id="4515" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4518" href="Ledger.Utxo.Properties.html#4107" class="Bound">showValue</a> <a id="4528" class="Symbol">(</a><a id="4529" href="Ledger.Transaction.html#4338" class="Field">TxBody.mint</a> <a id="4541" href="Ledger.Utxo.Properties.html#3957" class="Bound">txb</a><a id="4544" class="Symbol">)</a>
                            <a id="4574" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4577" class="String">&quot;\n    depositRefunds =\t&quot;</a> <a id="4604" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4607" href="Ledger.Utxo.Properties.html#4107" class="Bound">showValue</a> <a id="4617" class="Symbol">(</a><a id="4618" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="4625" class="Symbol">(</a><a id="4626" href="Ledger.Utxo.html#11158" class="Function">depositRefunds</a> <a id="4641" href="Ledger.Utxo.Properties.html#3906" class="Bound">pp</a> <a id="4644" href="Ledger.Utxo.Properties.html#2909" class="Bound">s</a> <a id="4646" href="Ledger.Utxo.Properties.html#3957" class="Bound">txb</a><a id="4649" class="Symbol">))</a>
                            <a id="4680" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4683" class="String">&quot;\n  produced =\t\t&quot;</a> <a id="4704" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4707" href="Ledger.Utxo.Properties.html#4107" class="Bound">showValue</a> <a id="4717" href="Ledger.Utxo.Properties.html#4054" class="Bound">prod</a>
                            <a id="4750" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4753" class="String">&quot;\n    outs =\t\t&quot;</a> <a id="4772" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4775" href="Ledger.Utxo.Properties.html#4107" class="Bound">showValue</a> <a id="4785" class="Symbol">(</a><a id="4786" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="4794" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4796" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="4801" href="Ledger.Utxo.Properties.html#3957" class="Bound">txb</a><a id="4804" class="Symbol">)</a>
                            <a id="4834" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4837" class="String">&quot;\n    fee  =\t\t&quot;</a> <a id="4856" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4859" href="Class.Show.Core.html#178" class="Field">show</a> <a id="4864" class="Symbol">(</a><a id="4865" href="Ledger.Utxo.Properties.html#3957" class="Bound">txb</a> <a id="4869" class="Symbol">.</a><a id="4870" href="Ledger.Transaction.html#4310" class="Field">TxBody.txfee</a><a id="4882" class="Symbol">)</a>
                            <a id="4912" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4915" class="String">&quot;\n    newDeposits  =\t&quot;</a> <a id="4940" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="4943" href="Class.Show.Core.html#178" class="Field">show</a> <a id="4948" class="Symbol">(</a><a id="4949" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="4961" href="Ledger.Utxo.Properties.html#3906" class="Bound">pp</a> <a id="4964" href="Ledger.Utxo.Properties.html#2909" class="Bound">s</a> <a id="4966" href="Ledger.Utxo.Properties.html#3957" class="Bound">txb</a><a id="4969" class="Symbol">)</a>
                            <a id="4999" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="5002" class="String">&quot;\n    donation  =\t\t&quot;</a> <a id="5026" href="Ledger.Utxo.Properties.html#584" class="Function Operator">+ˢ</a> <a id="5029" href="Class.Show.Core.html#178" class="Field">show</a> <a id="5034" class="Symbol">(</a><a id="5035" href="Ledger.Utxo.Properties.html#3957" class="Bound">txb</a> <a id="5039" class="Symbol">.</a><a id="5040" href="Ledger.Transaction.html#4552" class="Field">TxBody.txdonation</a><a id="5057" class="Symbol">)</a>
                            <a id="5087" class="Symbol">)</a>
                        <a id="5113" class="Symbol">(</a><a id="5114" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5119" href="Ledger.Utxo.Properties.html#5119" class="Bound">b₄</a><a id="5121" class="Symbol">)</a> <a id="5123" class="Symbol">→</a> <a id="5125" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5130" href="Ledger.Prelude.html#1296" class="Function">dec-de-morgan</a> <a id="5144" href="Ledger.Utxo.Properties.html#5119" class="Bound">b₄</a> <a id="5147" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5150" class="Symbol">λ</a> <a id="5152" class="Keyword">where</a>
                          <a id="5184" class="Symbol">(</a><a id="5185" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5190" href="Ledger.Utxo.Properties.html#5190" class="Bound">a₅</a><a id="5192" class="Symbol">)</a> <a id="5194" class="Symbol">→</a> <a id="5196" class="String">&quot;¬ coin (TxBody.mint (Tx.body tx)) ≡ 0&quot;</a>
                          <a id="5262" class="Symbol">(</a><a id="5263" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5268" href="Ledger.Utxo.Properties.html#5268" class="Bound">b₅</a><a id="5270" class="Symbol">)</a> <a id="5272" class="Symbol">→</a> <a id="5274" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5279" href="Ledger.Prelude.html#1296" class="Function">dec-de-morgan</a> <a id="5293" href="Ledger.Utxo.Properties.html#5268" class="Bound">b₅</a> <a id="5296" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5299" class="Symbol">λ</a> <a id="5301" class="Keyword">where</a>
                              <a id="5337" class="Symbol">(</a><a id="5338" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5343" href="Ledger.Utxo.Properties.html#5343" class="Bound">a₆</a><a id="5345" class="Symbol">)</a> <a id="5347" class="Symbol">→</a> <a id="5349" class="String">&quot;¬(TxBody.txsize (Tx.body tx) Data.Nat.Base.≤ maxTxSize (UTxOEnv.pparams Γ))&quot;</a>
                              <a id="5457" class="Symbol">(</a><a id="5458" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5463" href="Ledger.Utxo.Properties.html#5463" class="Bound">b₆</a><a id="5465" class="Symbol">)</a> <a id="5467" class="Symbol">→</a> <a id="5469" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5474" href="Ledger.Prelude.html#1296" class="Function">dec-de-morgan</a> <a id="5488" href="Ledger.Utxo.Properties.html#5463" class="Bound">b₆</a> <a id="5491" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5494" class="Symbol">λ</a> <a id="5496" class="Keyword">where</a>
                                <a id="5534" class="Symbol">(</a><a id="5535" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5540" href="Ledger.Utxo.Properties.html#5540" class="Bound">a₇</a><a id="5542" class="Symbol">)</a> <a id="5544" class="Symbol">→</a> <a id="5546" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] inject (utxoEntrySize txout * minUTxOValue pp) ≤ᵗ getValue txout&quot;</a>
                                <a id="5678" class="Symbol">(</a><a id="5679" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5684" href="Ledger.Utxo.Properties.html#5684" class="Bound">b₇</a><a id="5686" class="Symbol">)</a> <a id="5688" class="Symbol">→</a> <a id="5690" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5695" href="Ledger.Prelude.html#1296" class="Function">dec-de-morgan</a> <a id="5709" href="Ledger.Utxo.Properties.html#5684" class="Bound">b₇</a> <a id="5712" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5715" class="Symbol">λ</a> <a id="5717" class="Keyword">where</a>
                                    <a id="5759" class="Symbol">(</a><a id="5760" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5765" href="Ledger.Utxo.Properties.html#5765" class="Bound">a₈</a><a id="5767" class="Symbol">)</a> <a id="5769" class="Symbol">→</a> <a id="5771" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] serSize (getValue txout) ≤ maxValSize pp&quot;</a>
                                    <a id="5883" class="Symbol">(</a><a id="5884" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5889" href="Ledger.Utxo.Properties.html#5889" class="Bound">b₈</a><a id="5891" class="Symbol">)</a> <a id="5893" class="Symbol">→</a> <a id="5895" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5900" href="Ledger.Prelude.html#1296" class="Function">dec-de-morgan</a> <a id="5914" href="Ledger.Utxo.Properties.html#5889" class="Bound">b₈</a> <a id="5917" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5920" class="Symbol">λ</a> <a id="5922" class="Keyword">where</a>
                                      <a id="5966" class="Symbol">(</a><a id="5967" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5972" href="Ledger.Utxo.Properties.html#5972" class="Bound">a₉</a><a id="5974" class="Symbol">)</a> <a id="5976" class="Symbol">→</a> <a id="5978" class="String">&quot;∀[ (a , _) ∈ range txouts ] Sum.All (const ⊤) (λ a → a .BootstrapAddr.attrsSize ≤ 64) a&quot;</a>
                                      <a id="6106" class="Symbol">(</a><a id="6107" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6112" class="Symbol">_)</a> <a id="6115" class="Symbol">→</a> <a id="6117" class="String">&quot;something else broke&quot;</a>

        <a id="6149" href="Ledger.Utxo.Properties.html#6149" class="Function">computeProofH</a> <a id="6163" class="Symbol">:</a> <a id="6165" href="Relation.Nullary.Decidable.Core.html#1485" class="Record">Dec</a> <a id="6169" href="Ledger.Utxo.Properties.html#2919" class="Bound">H</a> <a id="6171" class="Symbol">→</a> <a id="6173" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6191" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6198" class="Symbol">(</a><a id="6199" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6202" href="Ledger.Utxo.Properties.html#6202" class="Bound">s&#39;</a> <a id="6205" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6207" href="Ledger.Utxo.Properties.html#2907" class="Bound">Γ</a> <a id="6209" href="Ledger.Utxo.html#5513" class="Datatype Operator">⊢</a> <a id="6211" href="Ledger.Utxo.Properties.html#2909" class="Bound">s</a> <a id="6213" href="Ledger.Utxo.html#5513" class="Datatype Operator">⇀⦇</a> <a id="6216" href="Ledger.Utxo.Properties.html#2911" class="Bound">tx</a> <a id="6219" href="Ledger.Utxo.html#5513" class="Datatype Operator">,UTXO⦈</a> <a id="6226" href="Ledger.Utxo.Properties.html#6202" class="Bound">s&#39;</a><a id="6228" class="Symbol">)</a>
        <a id="6238" href="Ledger.Utxo.Properties.html#6149" class="Function">computeProofH</a> <a id="6252" class="Symbol">(</a><a id="6253" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6257" class="Symbol">(</a><a id="6258" href="Ledger.Utxo.Properties.html#6258" class="Bound">x</a> <a id="6260" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6262" href="Ledger.Utxo.Properties.html#6262" class="Bound">y</a> <a id="6264" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6266" href="Ledger.Utxo.Properties.html#6266" class="Bound">z</a> <a id="6268" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6270" href="Ledger.Utxo.Properties.html#6270" class="Bound">e</a> <a id="6272" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6274" href="Ledger.Utxo.Properties.html#6274" class="Bound">k</a> <a id="6276" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6278" href="Ledger.Utxo.Properties.html#6278" class="Bound">l</a> <a id="6280" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6282" href="Ledger.Utxo.Properties.html#6282" class="Bound">m</a> <a id="6284" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6286" href="Ledger.Utxo.Properties.html#6286" class="Bound">v</a> <a id="6288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6290" href="Ledger.Utxo.Properties.html#6290" class="Bound">n</a> <a id="6292" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6294" href="Ledger.Utxo.Properties.html#6294" class="Bound">o</a> <a id="6296" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6298" href="Ledger.Utxo.Properties.html#6298" class="Bound">p</a> <a id="6300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6302" href="Ledger.Utxo.Properties.html#6302" class="Bound">q</a> <a id="6304" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6306" href="Ledger.Utxo.Properties.html#6306" class="Bound">r</a> <a id="6308" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6310" href="Ledger.Utxo.Properties.html#6310" class="Bound">t</a> <a id="6312" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6314" href="Ledger.Utxo.Properties.html#6314" class="Bound">u</a><a id="6315" class="Symbol">))</a> <a id="6318" class="Symbol">=</a>
            <a id="6332" href="Class.Bifunctor.html#606" class="Function">map₂′</a> <a id="6338" class="Symbol">(</a><a id="6339" href="Ledger.Utxo.html#15648" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6355" class="Symbol">_</a> <a id="6357" class="Symbol">_</a> <a id="6359" class="Symbol">_</a> <a id="6361" href="Ledger.Utxo.Properties.html#6258" class="Bound">x</a> <a id="6363" href="Ledger.Utxo.Properties.html#6262" class="Bound">y</a> <a id="6365" href="Ledger.Utxo.Properties.html#6266" class="Bound">z</a> <a id="6367" href="Ledger.Utxo.Properties.html#6270" class="Bound">e</a> <a id="6369" href="Ledger.Utxo.Properties.html#6274" class="Bound">k</a> <a id="6371" href="Ledger.Utxo.Properties.html#6278" class="Bound">l</a> <a id="6373" href="Ledger.Utxo.Properties.html#6282" class="Bound">m</a> <a id="6375" href="Ledger.Utxo.Properties.html#6286" class="Bound">v</a> <a id="6377" href="Ledger.Utxo.Properties.html#6290" class="Bound">n</a> <a id="6379" href="Ledger.Utxo.Properties.html#6294" class="Bound">o</a> <a id="6381" href="Ledger.Utxo.Properties.html#6298" class="Bound">p</a> <a id="6383" href="Ledger.Utxo.Properties.html#6302" class="Bound">q</a> <a id="6385" href="Ledger.Utxo.Properties.html#6306" class="Bound">r</a> <a id="6387" href="Ledger.Utxo.Properties.html#6310" class="Bound">t</a> <a id="6389" href="Ledger.Utxo.Properties.html#6314" class="Bound">u</a><a id="6390" class="Symbol">)</a> <a id="6392" href="Class.Functor.Core.html#233" class="Field Operator">&lt;$&gt;</a> <a id="6396" href="Ledger.Utxo.Properties.html#3046" class="Function">computeProof&#39;</a> <a id="6410" href="Ledger.Utxo.Properties.html#2907" class="Bound">Γ</a> <a id="6412" href="Ledger.Utxo.Properties.html#2909" class="Bound">s</a> <a id="6414" href="Ledger.Utxo.Properties.html#2911" class="Bound">tx</a>
        <a id="6425" href="Ledger.Utxo.Properties.html#6149" class="Function">computeProofH</a> <a id="6439" class="Symbol">(</a><a id="6440" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6443" href="Ledger.Utxo.Properties.html#6443" class="Bound">¬p</a><a id="6445" class="Symbol">)</a> <a id="6447" class="Symbol">=</a> <a id="6449" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="6457" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6459" href="Ledger.Utxo.Properties.html#3101" class="Function">genErr</a> <a id="6466" href="Ledger.Utxo.Properties.html#6443" class="Bound">¬p</a>

        <a id="6478" href="Ledger.Utxo.Properties.html#6478" class="Function">computeProof</a> <a id="6491" class="Symbol">:</a> <a id="6493" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6511" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6518" class="Symbol">(</a><a id="6519" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6522" href="Ledger.Utxo.Properties.html#6522" class="Bound">s&#39;</a> <a id="6525" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6527" href="Ledger.Utxo.Properties.html#2907" class="Bound">Γ</a> <a id="6529" href="Ledger.Utxo.html#5513" class="Datatype Operator">⊢</a> <a id="6531" href="Ledger.Utxo.Properties.html#2909" class="Bound">s</a> <a id="6533" href="Ledger.Utxo.html#5513" class="Datatype Operator">⇀⦇</a> <a id="6536" href="Ledger.Utxo.Properties.html#2911" class="Bound">tx</a> <a id="6539" href="Ledger.Utxo.html#5513" class="Datatype Operator">,UTXO⦈</a> <a id="6546" href="Ledger.Utxo.Properties.html#6522" class="Bound">s&#39;</a><a id="6548" class="Symbol">)</a>
        <a id="6558" href="Ledger.Utxo.Properties.html#6478" class="Function">computeProof</a> <a id="6571" class="Symbol">=</a> <a id="6573" href="Ledger.Utxo.Properties.html#6149" class="Function">computeProofH</a> <a id="6587" href="Ledger.Utxo.Properties.html#2925" class="Bound">H?</a>

        <a id="6599" href="Ledger.Utxo.Properties.html#6599" class="Function">completeness</a> <a id="6612" class="Symbol">:</a> <a id="6614" class="Symbol">∀</a> <a id="6616" href="Ledger.Utxo.Properties.html#6616" class="Bound">s&#39;</a> <a id="6619" class="Symbol">→</a> <a id="6621" href="Ledger.Utxo.Properties.html#2907" class="Bound">Γ</a> <a id="6623" href="Ledger.Utxo.html#5513" class="Datatype Operator">⊢</a> <a id="6625" href="Ledger.Utxo.Properties.html#2909" class="Bound">s</a> <a id="6627" href="Ledger.Utxo.html#5513" class="Datatype Operator">⇀⦇</a> <a id="6630" href="Ledger.Utxo.Properties.html#2911" class="Bound">tx</a> <a id="6633" href="Ledger.Utxo.html#5513" class="Datatype Operator">,UTXO⦈</a> <a id="6640" href="Ledger.Utxo.Properties.html#6616" class="Bound">s&#39;</a> <a id="6643" class="Symbol">→</a> <a id="6645" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="6649" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6655" href="Ledger.Utxo.Properties.html#6478" class="Function">computeProof</a> <a id="6668" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6670" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="6678" href="Ledger.Utxo.Properties.html#6616" class="Bound">s&#39;</a>
        <a id="6689" href="Ledger.Utxo.Properties.html#6599" class="Function">completeness</a> <a id="6702" href="Ledger.Utxo.Properties.html#6702" class="Bound">s&#39;</a> <a id="6705" class="Symbol">(</a><a id="6706" href="Ledger.Utxo.html#15648" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6722" class="Symbol">_</a> <a id="6724" class="Symbol">_</a> <a id="6726" class="Symbol">_</a> <a id="6728" href="Ledger.Utxo.Properties.html#6728" class="Bound">x</a> <a id="6730" href="Ledger.Utxo.Properties.html#6730" class="Bound">y</a> <a id="6732" href="Ledger.Utxo.Properties.html#6732" class="Bound">z</a> <a id="6734" href="Ledger.Utxo.Properties.html#6734" class="Bound">w</a> <a id="6736" href="Ledger.Utxo.Properties.html#6736" class="Bound">k</a> <a id="6738" href="Ledger.Utxo.Properties.html#6738" class="Bound">l</a> <a id="6740" href="Ledger.Utxo.Properties.html#6740" class="Bound">m</a> <a id="6742" href="Ledger.Utxo.Properties.html#6742" class="Bound">v</a> <a id="6744" href="Ledger.Utxo.Properties.html#6744" class="Bound">n</a> <a id="6746" href="Ledger.Utxo.Properties.html#6746" class="Bound">o</a> <a id="6748" href="Ledger.Utxo.Properties.html#6748" class="Bound">p</a> <a id="6750" href="Ledger.Utxo.Properties.html#6750" class="Bound">q</a> <a id="6752" href="Ledger.Utxo.Properties.html#6752" class="Bound">r</a> <a id="6754" href="Ledger.Utxo.Properties.html#6754" class="Bound">t</a> <a id="6756" href="Ledger.Utxo.Properties.html#6756" class="Bound">u</a> <a id="6758" href="Ledger.Utxo.Properties.html#6758" class="Bound">h</a><a id="6759" class="Symbol">)</a> <a id="6761" class="Keyword">with</a> <a id="6766" href="Ledger.Utxo.Properties.html#2925" class="Bound">H?</a>
        <a id="6777" class="Symbol">...</a> <a id="6781" class="Symbol">|</a> <a id="6783" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="6786" href="Ledger.Utxo.Properties.html#6786" class="Bound">¬p</a> <a id="6789" class="Symbol">=</a> <a id="6791" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="6798" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6800" href="Ledger.Utxo.Properties.html#6786" class="Bound">¬p</a> <a id="6803" class="Symbol">(</a><a id="6804" class="Bound">x</a> <a id="6806" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6808" class="Bound">y</a> <a id="6810" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6812" class="Bound">z</a> <a id="6814" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6816" class="Bound">w</a> <a id="6818" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6820" class="Bound">k</a> <a id="6822" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6824" class="Bound">l</a> <a id="6826" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6828" class="Bound">m</a> <a id="6830" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6832" class="Bound">v</a> <a id="6834" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6836" class="Bound">n</a> <a id="6838" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6840" class="Bound">o</a> <a id="6842" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6844" class="Bound">p</a> <a id="6846" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6848" class="Bound">q</a> <a id="6850" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6852" class="Bound">r</a> <a id="6854" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6856" class="Bound">t</a> <a id="6858" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6860" class="Bound">u</a><a id="6861" class="Symbol">)</a>
        <a id="6871" class="Symbol">...</a> <a id="6875" class="Symbol">|</a> <a id="6877" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="6881" class="Symbol">_</a> <a id="6883" class="Keyword">with</a> <a id="6888" href="Ledger.Utxo.Properties.html#3046" class="Function">computeProof&#39;</a> <a id="6902" href="Ledger.Utxo.Properties.html#2907" class="Bound">Γ</a> <a id="6904" href="Ledger.Utxo.Properties.html#2909" class="Bound">s</a> <a id="6906" href="Ledger.Utxo.Properties.html#2911" class="Bound">tx</a> <a id="6909" class="Symbol">|</a> <a id="6911" href="Ledger.Utxo.Properties.html#3077" class="Function">completeness&#39;</a> <a id="6925" class="Symbol">_</a> <a id="6927" class="Symbol">_</a> <a id="6929" class="Symbol">_</a> <a id="6931" class="Symbol">_</a> <a id="6933" class="Bound">h</a>
        <a id="6943" class="Symbol">...</a> <a id="6947" class="Symbol">|</a> <a id="6949" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="6957" class="Symbol">_</a> <a id="6959" class="Symbol">|</a> <a id="6961" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6966" class="Symbol">=</a> <a id="6968" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="6974" class="Keyword">open</a> <a id="6979" href="Interface.ComputationalRelation.html#2801" class="Module">Computational</a> <a id="6993" class="Symbol">⦃...⦄</a>

<a id="7000" class="Keyword">opaque</a>
  <a id="7009" class="Keyword">unfolding</a> <a id="7019" href="Ledger.Set.Theory.html#137" class="Function">List-Model</a>
  <a id="Computational-UTXO"></a><a id="7032" href="Ledger.Utxo.Properties.html#7032" class="Function">Computational-UTXO</a> <a id="7051" class="Symbol">:</a> <a id="7053" href="Interface.ComputationalRelation.html#2801" class="Record">Computational</a> <a id="7067" href="Ledger.Utxo.html#5513" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="7081" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="7090" href="Ledger.Utxo.Properties.html#7032" class="Function">Computational-UTXO</a> <a id="7109" class="Symbol">=</a> <a id="7111" href="Ledger.Utxo.Properties.html#2788" class="Function">Computational-UTXO&#39;</a>

<a id="7132" class="Keyword">private</a> <a id="7140" class="Keyword">variable</a>
  <a id="7151" href="Ledger.Utxo.Properties.html#7151" class="Generalizable">tx</a>                               <a id="7184" class="Symbol">:</a> <a id="7186" href="Ledger.Transaction.html#5227" class="Record">Tx</a>
  <a id="7191" href="Ledger.Utxo.Properties.html#7191" class="Generalizable">utxo</a> <a id="7196" href="Ledger.Utxo.Properties.html#7196" class="Generalizable">utxo&#39;</a>                       <a id="7224" class="Symbol">:</a> <a id="7226" href="Ledger.Transaction.html#3882" class="Function">UTxO</a>
  <a id="7233" href="Ledger.Utxo.Properties.html#7233" class="Generalizable">Γ</a>                                <a id="7266" class="Symbol">:</a> <a id="7268" href="Ledger.Utxo.html#4994" class="Record">UTxOEnv</a>
  <a id="7278" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a> <a id="7288" href="Ledger.Utxo.Properties.html#7288" class="Generalizable">utxoState&#39;</a>             <a id="7311" class="Symbol">:</a> <a id="7313" href="Ledger.Utxo.html#5208" class="Record">UTxOState</a>
  <a id="7325" href="Ledger.Utxo.Properties.html#7325" class="Generalizable">fees</a> <a id="7330" href="Ledger.Utxo.Properties.html#7330" class="Generalizable">fees&#39;</a> <a id="7336" href="Ledger.Utxo.Properties.html#7336" class="Generalizable">donations</a> <a id="7346" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">donations&#39;</a>  <a id="7358" class="Symbol">:</a> <a id="7360" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="7367" href="Ledger.Utxo.Properties.html#7367" class="Generalizable">deposits</a> <a id="7376" href="Ledger.Utxo.Properties.html#7376" class="Generalizable">deposits&#39;</a>               <a id="7400" class="Symbol">:</a> <a id="7402" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="7417" href="Ledger.Set.Theory.html#1515" class="Function Operator">⇀</a> <a id="7419" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>

<a id="7425" class="Keyword">open</a> <a id="7430" href="Algebra.Morphism.Structures.html#2693" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>
<a id="7467" class="Keyword">private</a>
  <a id="∙-homo-Coin"></a><a id="7477" href="Ledger.Utxo.Properties.html#7477" class="Function">∙-homo-Coin</a> <a id="7489" class="Symbol">=</a> <a id="7491" href="Algebra.Morphism.Structures.html#1191" class="Field">IsMagmaHomomorphism.homo</a> <a id="7516" class="Symbol">(</a><a id="7517" href="Algebra.Morphism.Structures.html#2770" class="Field">isMagmaHomomorphism</a> <a id="7537" href="Ledger.TokenAlgebra.html#1629" class="Function">coinIsMonoidHomomorphism</a><a id="7561" class="Symbol">)</a>

<a id="7564" class="Keyword">opaque</a>
  <a id="7573" class="Keyword">unfolding</a> <a id="7583" href="Ledger.Utxo.html#5940" class="Function">balance</a>
  <a id="balance-cong"></a><a id="7593" href="Ledger.Utxo.Properties.html#7593" class="Function">balance-cong</a> <a id="7606" class="Symbol">:</a> <a id="7608" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7614" href="Ledger.Utxo.Properties.html#7191" class="Generalizable">utxo</a> <a id="7619" href="Axiom.Set.html#2413" class="Function Operator">≡ᵉ</a> <a id="7622" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7628" href="Ledger.Utxo.Properties.html#7196" class="Generalizable">utxo&#39;</a> <a id="7634" class="Symbol">→</a> <a id="7636" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="7644" href="Ledger.Utxo.Properties.html#7191" class="Generalizable">utxo</a> <a id="7649" href="Algebra.Bundles.html#6744" class="Function Operator">≈</a> <a id="7651" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="7659" href="Ledger.Utxo.Properties.html#7196" class="Generalizable">utxo&#39;</a>
  <a id="7667" href="Ledger.Utxo.Properties.html#7593" class="Function">balance-cong</a> <a id="7680" class="Symbol">{</a><a id="7681" href="Ledger.Utxo.Properties.html#7681" class="Bound">utxo</a><a id="7685" class="Symbol">}</a> <a id="7687" class="Symbol">{</a><a id="7688" href="Ledger.Utxo.Properties.html#7688" class="Bound">utxo&#39;</a><a id="7693" class="Symbol">}</a> <a id="7695" href="Ledger.Utxo.Properties.html#7695" class="Bound">eq</a> <a id="7698" class="Symbol">=</a> <a id="7700" href="Axiom.Set.Sum.html#4525" class="Function">indexedSumᵐ-cong</a> <a id="7717" class="Symbol">{</a><a id="7718" class="Argument">x</a> <a id="7720" class="Symbol">=</a> <a id="7722" class="Symbol">(</a><a id="7723" href="Axiom.Set.Map.html#6138" class="Function">mapValues</a> <a id="7733" href="Ledger.Transaction.html#5750" class="Function">txOutHash</a> <a id="7743" href="Ledger.Utxo.Properties.html#7681" class="Bound">utxo</a><a id="7747" class="Symbol">)</a> <a id="7749" href="Ledger.Set.Theory.html#2617" class="Function Operator">ᶠᵐ</a><a id="7751" class="Symbol">}</a> <a id="7753" class="Symbol">{(</a><a id="7755" href="Axiom.Set.Map.html#6138" class="Function">mapValues</a> <a id="7765" href="Ledger.Transaction.html#5750" class="Function">txOutHash</a> <a id="7775" href="Ledger.Utxo.Properties.html#7688" class="Bound">utxo&#39;</a><a id="7780" class="Symbol">)</a> <a id="7782" href="Ledger.Set.Theory.html#2617" class="Function Operator">ᶠᵐ</a><a id="7784" class="Symbol">}</a> <a id="7786" class="Symbol">(</a><a id="7787" href="Axiom.Set.Properties.html#5347" class="Function">map-≡ᵉ</a> <a id="7794" href="Ledger.Utxo.Properties.html#7695" class="Bound">eq</a><a id="7796" class="Symbol">)</a>

  <a id="balance-cong-coin"></a><a id="7801" href="Ledger.Utxo.Properties.html#7801" class="Function">balance-cong-coin</a> <a id="7819" class="Symbol">:</a> <a id="7821" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7827" href="Ledger.Utxo.Properties.html#7191" class="Generalizable">utxo</a> <a id="7832" href="Axiom.Set.html#2413" class="Function Operator">≡ᵉ</a> <a id="7835" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7841" href="Ledger.Utxo.Properties.html#7196" class="Generalizable">utxo&#39;</a> <a id="7847" class="Symbol">→</a> <a id="7849" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="7858" href="Ledger.Utxo.Properties.html#7191" class="Generalizable">utxo</a> <a id="7863" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7865" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="7874" href="Ledger.Utxo.Properties.html#7196" class="Generalizable">utxo&#39;</a>
  <a id="7882" href="Ledger.Utxo.Properties.html#7801" class="Function">balance-cong-coin</a> <a id="7900" class="Symbol">{</a><a id="7901" href="Ledger.Utxo.Properties.html#7901" class="Bound">utxo</a><a id="7905" class="Symbol">}</a> <a id="7907" class="Symbol">{</a><a id="7908" href="Ledger.Utxo.Properties.html#7908" class="Bound">utxo&#39;</a><a id="7913" class="Symbol">}</a> <a id="7915" href="Ledger.Utxo.Properties.html#7915" class="Bound">x</a> <a id="7917" class="Symbol">=</a>
    <a id="7923" href="Ledger.TokenAlgebra.html#1629" class="Function">coinIsMonoidHomomorphism</a> <a id="7948" class="Symbol">.</a><a id="7949" href="Algebra.Morphism.Structures.html#1313" class="Function">⟦⟧-cong</a> <a id="7957" class="Symbol">(</a><a id="7958" href="Ledger.Utxo.Properties.html#7593" class="Function">balance-cong</a> <a id="7971" class="Symbol">{</a><a id="7972" href="Ledger.Utxo.Properties.html#7901" class="Bound">utxo</a><a id="7976" class="Symbol">}</a> <a id="7978" class="Symbol">{</a><a id="7979" href="Ledger.Utxo.Properties.html#7908" class="Bound">utxo&#39;</a><a id="7984" class="Symbol">}</a> <a id="7986" href="Ledger.Utxo.Properties.html#7915" class="Bound">x</a><a id="7987" class="Symbol">)</a>
    <a id="7993" class="Keyword">where</a> <a id="7999" class="Keyword">open</a> <a id="8004" href="Algebra.Morphism.Structures.html#2693" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>

  <a id="balance-∪"></a><a id="8044" href="Ledger.Utxo.Properties.html#8044" class="Function">balance-∪</a> <a id="8054" class="Symbol">:</a> <a id="8056" href="Axiom.Set.html#3155" class="Function">disjoint</a> <a id="8065" class="Symbol">(</a><a id="8066" href="Interface.IsSet.html#934" class="Function">dom</a> <a id="8070" href="Ledger.Utxo.Properties.html#7191" class="Generalizable">utxo</a><a id="8074" class="Symbol">)</a> <a id="8076" class="Symbol">(</a><a id="8077" href="Interface.IsSet.html#934" class="Function">dom</a> <a id="8081" href="Ledger.Utxo.Properties.html#7196" class="Generalizable">utxo&#39;</a><a id="8086" class="Symbol">)</a>
                       <a id="8111" class="Symbol">→</a> <a id="8113" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="8122" class="Symbol">(</a><a id="8123" href="Ledger.Utxo.Properties.html#7191" class="Generalizable">utxo</a> <a id="8128" href="Axiom.Set.Map.html#6390" class="Function Operator">∪ˡ</a> <a id="8131" href="Ledger.Utxo.Properties.html#7196" class="Generalizable">utxo&#39;</a><a id="8136" class="Symbol">)</a> <a id="8138" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8140" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="8149" href="Ledger.Utxo.Properties.html#7191" class="Generalizable">utxo</a> <a id="8154" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="8156" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="8165" href="Ledger.Utxo.Properties.html#7196" class="Generalizable">utxo&#39;</a>
  <a id="8173" href="Ledger.Utxo.Properties.html#8044" class="Function">balance-∪</a> <a id="8183" class="Symbol">{</a><a id="8184" href="Ledger.Utxo.Properties.html#8184" class="Bound">utxo</a><a id="8188" class="Symbol">}</a> <a id="8190" class="Symbol">{</a><a id="8191" href="Ledger.Utxo.Properties.html#8191" class="Bound">utxo&#39;</a><a id="8196" class="Symbol">}</a> <a id="8198" href="Ledger.Utxo.Properties.html#8198" class="Bound">h</a> <a id="8200" class="Symbol">=</a> <a id="8202" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="8212" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="8221" class="Symbol">(</a><a id="8222" href="Ledger.Utxo.Properties.html#8184" class="Bound">utxo</a> <a id="8227" href="Axiom.Set.Map.html#6390" class="Function Operator">∪ˡ</a> <a id="8230" href="Ledger.Utxo.Properties.html#8191" class="Bound">utxo&#39;</a><a id="8235" class="Symbol">)</a>
      <a id="8243" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="8246" href="Algebra.Morphism.Structures.html#1313" class="Function">⟦⟧-cong</a> <a id="8254" href="Ledger.TokenAlgebra.html#1629" class="Function">coinIsMonoidHomomorphism</a>
      <a id="8285" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8287" href="Axiom.Set.Sum.html#4525" class="Function">indexedSumᵐ-cong</a> <a id="8304" class="Symbol">{</a><a id="8305" class="Argument">x</a> <a id="8307" class="Symbol">=</a> <a id="8309" class="Symbol">(</a><a id="8310" href="Axiom.Set.Map.html#6138" class="Function">mapValues</a> <a id="8320" href="Ledger.Transaction.html#5750" class="Function">txOutHash</a> <a id="8330" class="Symbol">(</a><a id="8331" href="Ledger.Utxo.Properties.html#8184" class="Bound">utxo</a> <a id="8336" href="Axiom.Set.Map.html#6390" class="Function Operator">∪ˡ</a> <a id="8339" href="Ledger.Utxo.Properties.html#8191" class="Bound">utxo&#39;</a><a id="8344" class="Symbol">))</a> <a id="8347" href="Ledger.Set.Theory.html#2617" class="Function Operator">ᶠᵐ</a><a id="8349" class="Symbol">}</a> <a id="8351" class="Symbol">{((</a><a id="8354" href="Axiom.Set.Map.html#6138" class="Function">mapValues</a> <a id="8364" href="Ledger.Transaction.html#5750" class="Function">txOutHash</a> <a id="8374" href="Ledger.Utxo.Properties.html#8184" class="Bound">utxo</a><a id="8378" class="Symbol">)</a> <a id="8380" href="Ledger.Set.Theory.html#2617" class="Function Operator">ᶠᵐ</a><a id="8382" class="Symbol">)</a> <a id="8384" href="Axiom.Set.Sum.html#5035" class="Function Operator">∪ˡᶠ</a> <a id="8388" class="Symbol">((</a><a id="8390" href="Axiom.Set.Map.html#6138" class="Function">mapValues</a> <a id="8400" href="Ledger.Transaction.html#5750" class="Function">txOutHash</a> <a id="8410" href="Ledger.Utxo.Properties.html#8191" class="Bound">utxo&#39;</a><a id="8415" class="Symbol">)</a> <a id="8417" href="Ledger.Set.Theory.html#2617" class="Function Operator">ᶠᵐ</a><a id="8419" class="Symbol">)}</a> <a id="8422" class="Symbol">(</a><a id="8423" href="Axiom.Set.Map.html#7014" class="Function">disjoint-∪ˡ-mapValues</a> <a id="8445" class="Symbol">{</a><a id="8446" class="Argument">M</a> <a id="8448" class="Symbol">=</a> <a id="8450" href="Ledger.Utxo.Properties.html#8184" class="Bound">utxo</a><a id="8454" class="Symbol">}</a> <a id="8456" class="Symbol">{</a><a id="8457" href="Ledger.Utxo.Properties.html#8191" class="Bound">utxo&#39;</a><a id="8462" class="Symbol">}</a> <a id="8464" class="Symbol">_</a> <a id="8466" href="Ledger.Utxo.Properties.html#8198" class="Bound">h</a><a id="8467" class="Symbol">)</a>
      <a id="8475" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="8481" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="8486" class="Symbol">(</a><a id="8487" href="Axiom.Set.Sum.html#4320" class="Function">indexedSumᵐ</a> <a id="8499" class="Symbol">_</a> <a id="8501" class="Symbol">(((</a><a id="8504" href="Axiom.Set.Map.html#6138" class="Function">mapValues</a> <a id="8514" href="Ledger.Transaction.html#5750" class="Function">txOutHash</a> <a id="8524" href="Ledger.Utxo.Properties.html#8184" class="Bound">utxo</a><a id="8528" class="Symbol">)</a> <a id="8530" href="Ledger.Set.Theory.html#2617" class="Function Operator">ᶠᵐ</a><a id="8532" class="Symbol">)</a> <a id="8534" href="Axiom.Set.Sum.html#5035" class="Function Operator">∪ˡᶠ</a> <a id="8538" class="Symbol">((</a><a id="8540" href="Axiom.Set.Map.html#6138" class="Function">mapValues</a> <a id="8550" href="Ledger.Transaction.html#5750" class="Function">txOutHash</a> <a id="8560" href="Ledger.Utxo.Properties.html#8191" class="Bound">utxo&#39;</a><a id="8565" class="Symbol">)</a> <a id="8567" href="Ledger.Set.Theory.html#2617" class="Function Operator">ᶠᵐ</a><a id="8569" class="Symbol">)))</a>
      <a id="8579" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="8582" href="Algebra.Morphism.Structures.html#1313" class="Function">⟦⟧-cong</a> <a id="8590" href="Ledger.TokenAlgebra.html#1629" class="Function">coinIsMonoidHomomorphism</a>
       <a id="8622" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8624" href="Axiom.Set.Sum.html#5179" class="Function">indexedSumᵐ-∪</a> <a id="8638" class="Symbol">{</a><a id="8639" class="Argument">X</a> <a id="8641" class="Symbol">=</a> <a id="8643" class="Symbol">(</a><a id="8644" href="Axiom.Set.Map.html#6138" class="Function">mapValues</a> <a id="8654" href="Ledger.Transaction.html#5750" class="Function">txOutHash</a> <a id="8664" href="Ledger.Utxo.Properties.html#8184" class="Bound">utxo</a><a id="8668" class="Symbol">)</a> <a id="8670" href="Ledger.Set.Theory.html#2617" class="Function Operator">ᶠᵐ</a><a id="8672" class="Symbol">}</a> <a id="8674" class="Symbol">{(</a><a id="8676" href="Axiom.Set.Map.html#6138" class="Function">mapValues</a> <a id="8686" href="Ledger.Transaction.html#5750" class="Function">txOutHash</a> <a id="8696" href="Ledger.Utxo.Properties.html#8191" class="Bound">utxo&#39;</a><a id="8701" class="Symbol">)</a> <a id="8703" href="Ledger.Set.Theory.html#2617" class="Function Operator">ᶠᵐ</a><a id="8705" class="Symbol">}</a>
       <a id="8714" class="Symbol">(λ</a> <a id="8717" href="Ledger.Utxo.Properties.html#8717" class="Bound">x</a> <a id="8719" href="Ledger.Utxo.Properties.html#8719" class="Bound">x₁</a> <a id="8722" class="Symbol">→</a> <a id="8724" href="Ledger.Utxo.Properties.html#8198" class="Bound">h</a> <a id="8726" class="Symbol">(</a><a id="8727" href="Axiom.Set.Rel.html#4741" class="Function">dom-mapʳ⊆</a> <a id="8737" href="Ledger.Utxo.Properties.html#8717" class="Bound">x</a><a id="8738" class="Symbol">)</a> <a id="8740" class="Symbol">(</a><a id="8741" href="Axiom.Set.Rel.html#4741" class="Function">dom-mapʳ⊆</a> <a id="8751" href="Ledger.Utxo.Properties.html#8719" class="Bound">x₁</a><a id="8753" class="Symbol">))</a>
       <a id="8763" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="8769" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="8774" class="Symbol">(</a><a id="8775" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="8783" href="Ledger.Utxo.Properties.html#8184" class="Bound">utxo</a> <a id="8788" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="8790" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="8798" href="Ledger.Utxo.Properties.html#8191" class="Bound">utxo&#39;</a><a id="8803" class="Symbol">)</a>
      <a id="8811" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="8814" href="Ledger.Utxo.Properties.html#7477" class="Function">∙-homo-Coin</a>  <a id="8827" class="Symbol">_</a> <a id="8829" class="Symbol">_</a> <a id="8831" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="8837" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="8846" href="Ledger.Utxo.Properties.html#8184" class="Bound">utxo</a> <a id="8851" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="8853" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="8862" href="Ledger.Utxo.Properties.html#8191" class="Bound">utxo&#39;</a>
      <a id="8874" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>
    <a id="8880" class="Keyword">where</a> <a id="8886" class="Keyword">open</a> <a id="8891" href="Tactic.EquationalReasoning.html#417" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="8930" class="Symbol">{</a><a id="8931" class="Argument">A</a> <a id="8933" class="Symbol">=</a> <a id="8935" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8936" class="Symbol">}</a> <a id="8938" class="Symbol">(</a><a id="8939" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a> <a id="8951" class="Symbol">(</a><a id="8952" class="Keyword">quoteTerm</a> <a id="8962" href="Data.Nat.Properties.html#16493" class="Function">+-0-monoid</a><a id="8972" class="Symbol">))</a>

<a id="8976" class="Keyword">module</a> <a id="8983" href="Ledger.Utxo.Properties.html#8983" class="Module">_</a> <a id="8985" class="Symbol">{</a><a id="8986" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a> <a id="8990" class="Symbol">:</a> <a id="8992" class="Symbol">_}</a> <a id="8995" class="Symbol">(</a><a id="8996" class="Keyword">open</a> <a id="9001" href="Ledger.Transaction.html#4126" class="Module">TxBody</a> <a id="9008" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="9011" class="Symbol">)</a> <a id="9013" class="Keyword">where</a> <a id="9019" class="Keyword">opaque</a>
  <a id="9028" class="Keyword">unfolding</a> <a id="9038" href="Ledger.Utxo.html#5869" class="Function">outs</a>
  <a id="9045" class="Keyword">open</a> <a id="9050" href="Tactic.EquationalReasoning.html#417" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="9089" class="Symbol">{</a><a id="9090" class="Argument">A</a> <a id="9092" class="Symbol">=</a> <a id="9094" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="9095" class="Symbol">}</a> <a id="9097" class="Symbol">(</a><a id="9098" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a> <a id="9110" class="Symbol">(</a><a id="9111" class="Keyword">quoteTerm</a> <a id="9121" href="Data.Nat.Properties.html#16493" class="Function">+-0-monoid</a><a id="9131" class="Symbol">))</a>

  <a id="9137" href="Ledger.Utxo.Properties.html#9137" class="Function">newTxid⇒disj</a> <a id="9150" class="Symbol">:</a> <a id="9152" href="Ledger.Transaction.html#4748" class="Field">txid</a> <a id="9157" href="Interface.IsSet.html#480" class="Function Operator">∉</a> <a id="9159" href="Ledger.Set.Theory.html#413" class="Function">mapˢ</a> <a id="9164" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9170" class="Symbol">(</a><a id="9171" href="Interface.IsSet.html#934" class="Function">dom</a> <a id="9175" href="Ledger.Utxo.Properties.html#7191" class="Generalizable">utxo</a><a id="9179" class="Symbol">)</a>
              <a id="9195" class="Symbol">→</a> <a id="9197" href="Axiom.Set.html#9296" class="Function">disjoint&#39;</a> <a id="9207" class="Symbol">(</a><a id="9208" href="Interface.IsSet.html#934" class="Function">dom</a> <a id="9212" href="Ledger.Utxo.Properties.html#7191" class="Generalizable">utxo</a><a id="9216" class="Symbol">)</a> <a id="9218" class="Symbol">(</a><a id="9219" href="Interface.IsSet.html#934" class="Function">dom</a> <a id="9223" class="Symbol">(</a><a id="9224" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="9229" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="9232" class="Symbol">))</a>
  <a id="9237" href="Ledger.Utxo.Properties.html#9137" class="Function">newTxid⇒disj</a> <a id="9250" href="Ledger.Utxo.Properties.html#9250" class="Bound">id∉utxo</a> <a id="9258" class="Symbol">=</a> <a id="9260" href="Axiom.Set.Properties.html#12779" class="Function">disjoint⇒disjoint&#39;</a> <a id="9279" class="Symbol">λ</a> <a id="9281" href="Ledger.Utxo.Properties.html#9281" class="Bound">h</a> <a id="9283" href="Ledger.Utxo.Properties.html#9283" class="Bound">h&#39;</a> <a id="9286" class="Symbol">→</a> <a id="9288" href="Ledger.Utxo.Properties.html#9250" class="Bound">id∉utxo</a> <a id="9296" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9298" href="Function.Bundles.html#4810" class="Field">to</a> <a id="9301" href="Axiom.Set.html#4853" class="Function">∈-map</a>
    <a id="9311" class="Symbol">(</a><a id="9312" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="9315" class="Symbol">(</a><a id="9316" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9321" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9326" href="Axiom.Set.html#4853" class="Function">∈-map</a> <a id="9332" href="Ledger.Utxo.Properties.html#9283" class="Bound">h&#39;</a> <a id="9335" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9338" class="Symbol">λ</a> <a id="9340" class="Keyword">where</a>
          <a id="9356" class="Symbol">(_</a> <a id="9359" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9361" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9366" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9368" href="Ledger.Utxo.Properties.html#9368" class="Bound">h&#39;&#39;</a><a id="9371" class="Symbol">)</a> <a id="9373" class="Symbol">→</a> <a id="9375" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9380" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9385" href="Axiom.Set.html#4853" class="Function">∈-map</a> <a id="9391" href="Ledger.Utxo.Properties.html#9368" class="Bound">h&#39;&#39;</a> <a id="9395" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9398" class="Symbol">λ</a> <a id="9400" class="Keyword">where</a> <a id="9406" class="Symbol">(_</a> <a id="9409" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9411" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9416" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9418" class="Symbol">_)</a> <a id="9421" class="Symbol">→</a> <a id="9423" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9427" class="Symbol">)</a> <a id="9429" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9431" href="Ledger.Utxo.Properties.html#9281" class="Bound">h</a><a id="9432" class="Symbol">)</a>

  <a id="9437" href="Ledger.Utxo.Properties.html#9437" class="Function">consumedCoinEquality</a> <a id="9458" class="Symbol">:</a> <a id="9460" class="Symbol">∀</a> <a id="9462" class="Symbol">{</a><a id="9463" href="Ledger.Utxo.Properties.html#9463" class="Bound">pp</a><a id="9465" class="Symbol">}</a>
    <a id="9471" class="Symbol">→</a> <a id="9473" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="9478" href="Ledger.Transaction.html#4338" class="Field">mint</a> <a id="9483" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9485" class="Number">0</a>
    <a id="9491" class="Symbol">→</a> <a id="9493" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="9498" class="Symbol">(</a><a id="9499" href="Ledger.Utxo.html#11416" class="Function">consumed</a> <a id="9508" href="Ledger.Utxo.Properties.html#9463" class="Bound">pp</a> <a id="9511" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a> <a id="9521" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="9524" class="Symbol">)</a>
    <a id="9530" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9532" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="9541" class="Symbol">((</a><a id="9543" href="Ledger.Utxo.html#5322" class="Field">UTxOState.utxo</a> <a id="9558" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a><a id="9567" class="Symbol">)</a> <a id="9569" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="9571" href="Ledger.Transaction.html#4216" class="Field">txins</a><a id="9576" class="Symbol">)</a> <a id="9578" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="9580" href="Ledger.Utxo.html#11158" class="Function">depositRefunds</a> <a id="9595" href="Ledger.Utxo.Properties.html#9463" class="Bound">pp</a> <a id="9598" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a> <a id="9608" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a>
  <a id="9614" href="Ledger.Utxo.Properties.html#9437" class="Function">consumedCoinEquality</a> <a id="9635" class="Symbol">{</a><a id="9636" href="Ledger.Utxo.Properties.html#9636" class="Bound">utxoState</a><a id="9645" class="Symbol">}</a> <a id="9647" class="Symbol">{</a><a id="9648" href="Ledger.Utxo.Properties.html#9648" class="Bound">pp</a><a id="9650" class="Symbol">}</a> <a id="9652" href="Ledger.Utxo.Properties.html#9652" class="Bound">h</a> <a id="9654" class="Symbol">=</a> <a id="9656" class="Keyword">let</a> <a id="9660" href="Ledger.Utxo.Properties.html#9660" class="Bound">utxo</a> <a id="9665" class="Symbol">=</a> <a id="9667" href="Ledger.Utxo.html#5322" class="Field">UTxOState.utxo</a> <a id="9682" href="Ledger.Utxo.Properties.html#9636" class="Bound">utxoState</a> <a id="9692" class="Keyword">in</a>
      <a id="9701" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="9711" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="9716" class="Symbol">(</a><a id="9717" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="9725" class="Symbol">(</a><a id="9726" href="Ledger.Utxo.Properties.html#9660" class="Bound">utxo</a> <a id="9731" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="9733" href="Ledger.Transaction.html#4216" class="Field">txins</a><a id="9738" class="Symbol">)</a> <a id="9740" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="9742" href="Ledger.Transaction.html#4338" class="Field">mint</a> <a id="9747" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="9749" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="9756" class="Symbol">(</a><a id="9757" href="Ledger.Utxo.html#11158" class="Function">depositRefunds</a> <a id="9772" href="Ledger.Utxo.Properties.html#9648" class="Bound">pp</a> <a id="9775" href="Ledger.Utxo.Properties.html#9636" class="Bound">utxoState</a> <a id="9785" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="9788" class="Symbol">))</a>
      <a id="9797" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="9800" href="Ledger.Utxo.Properties.html#7477" class="Function">∙-homo-Coin</a> <a id="9812" class="Symbol">_</a> <a id="9814" class="Symbol">_</a> <a id="9816" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="9822" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="9827" class="Symbol">(</a><a id="9828" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="9836" class="Symbol">(</a><a id="9837" href="Ledger.Utxo.Properties.html#9660" class="Bound">utxo</a> <a id="9842" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="9844" href="Ledger.Transaction.html#4216" class="Field">txins</a><a id="9849" class="Symbol">)</a> <a id="9851" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="9853" href="Ledger.Transaction.html#4338" class="Field">mint</a><a id="9857" class="Symbol">)</a> <a id="9859" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="9861" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="9866" class="Symbol">(</a><a id="9867" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="9874" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9876" href="Ledger.Utxo.html#11158" class="Function">depositRefunds</a> <a id="9891" href="Ledger.Utxo.Properties.html#9648" class="Bound">pp</a> <a id="9894" href="Ledger.Utxo.Properties.html#9636" class="Bound">utxoState</a> <a id="9904" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="9907" class="Symbol">)</a>
      <a id="9915" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="9918" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="9923" class="Symbol">(</a><a id="9924" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="9929" class="Symbol">(</a><a id="9930" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="9938" class="Symbol">(</a><a id="9939" href="Ledger.Utxo.Properties.html#9660" class="Bound">utxo</a> <a id="9944" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="9946" href="Ledger.Transaction.html#4216" class="Field">txins</a><a id="9951" class="Symbol">)</a> <a id="9953" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="9955" href="Ledger.Transaction.html#4338" class="Field">mint</a><a id="9959" class="Symbol">)</a> <a id="9961" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="9963" class="Symbol">)</a> <a id="9965" class="Symbol">(</a><a id="9966" href="Ledger.TokenAlgebra.html#1560" class="Function">property</a> <a id="9975" class="Symbol">_)</a> <a id="9978" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="9984" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="9989" class="Symbol">(</a><a id="9990" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="9998" class="Symbol">(</a><a id="9999" href="Ledger.Utxo.Properties.html#9660" class="Bound">utxo</a> <a id="10004" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="10006" href="Ledger.Transaction.html#4216" class="Field">txins</a><a id="10011" class="Symbol">)</a> <a id="10013" href="Ledger.TokenAlgebra.html#1118" class="Function Operator">+ᵛ</a> <a id="10016" href="Ledger.Transaction.html#4338" class="Field">mint</a><a id="10020" class="Symbol">)</a> <a id="10022" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="10026" href="Ledger.Utxo.html#11158" class="Function">depositRefunds</a> <a id="10041" href="Ledger.Utxo.Properties.html#9648" class="Bound">pp</a> <a id="10044" href="Ledger.Utxo.Properties.html#9636" class="Bound">utxoState</a> <a id="10054" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a>
      <a id="10064" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="10067" href="Tactic.Cong.html#8166" class="Macro">cong!</a> <a id="10073" class="Symbol">(</a><a id="10074" href="Ledger.Utxo.Properties.html#7477" class="Function">∙-homo-Coin</a> <a id="10086" class="Symbol">_</a> <a id="10088" class="Symbol">_)</a> <a id="10091" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="10097" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="10102" class="Symbol">(</a><a id="10103" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="10111" class="Symbol">(</a><a id="10112" href="Ledger.Utxo.Properties.html#9660" class="Bound">utxo</a> <a id="10117" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="10119" href="Ledger.Transaction.html#4216" class="Field">txins</a><a id="10124" class="Symbol">))</a> <a id="10127" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="10131" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="10136" class="Symbol">(</a><a id="10137" href="Ledger.Transaction.html#4338" class="Field">mint</a><a id="10141" class="Symbol">)</a> <a id="10143" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="10147" href="Ledger.Utxo.html#11158" class="Function">depositRefunds</a> <a id="10162" href="Ledger.Utxo.Properties.html#9648" class="Bound">pp</a> <a id="10165" href="Ledger.Utxo.Properties.html#9636" class="Bound">utxoState</a> <a id="10175" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a>
      <a id="10185" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="10188" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="10193" class="Symbol">(λ</a> <a id="10196" href="Ledger.Utxo.Properties.html#10196" class="Bound">x</a> <a id="10198" class="Symbol">→</a> <a id="10200" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="10209" class="Symbol">(</a><a id="10210" href="Ledger.Utxo.Properties.html#9660" class="Bound">utxo</a> <a id="10215" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="10217" href="Ledger.Transaction.html#4216" class="Field">txins</a><a id="10222" class="Symbol">)</a> <a id="10224" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="10226" href="Ledger.Utxo.Properties.html#10196" class="Bound">x</a> <a id="10228" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="10230" href="Ledger.Utxo.html#11158" class="Function">depositRefunds</a> <a id="10245" href="Ledger.Utxo.Properties.html#9648" class="Bound">pp</a> <a id="10248" href="Ledger.Utxo.Properties.html#9636" class="Bound">utxoState</a> <a id="10258" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="10261" class="Symbol">)</a> <a id="10263" href="Ledger.Utxo.Properties.html#9652" class="Bound">h</a> <a id="10265" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="10271" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="10280" class="Symbol">(</a><a id="10281" href="Ledger.Utxo.Properties.html#9660" class="Bound">utxo</a> <a id="10286" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="10288" href="Ledger.Transaction.html#4216" class="Field">txins</a><a id="10293" class="Symbol">)</a> <a id="10295" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="10299" class="Number">0</a> <a id="10301" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="10305" href="Ledger.Utxo.html#11158" class="Function">depositRefunds</a> <a id="10320" href="Ledger.Utxo.Properties.html#9648" class="Bound">pp</a> <a id="10323" href="Ledger.Utxo.Properties.html#9636" class="Bound">utxoState</a> <a id="10333" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a>
      <a id="10343" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="10346" href="Tactic.Cong.html#8166" class="Macro">cong!</a> <a id="10352" class="Symbol">(</a><a id="10353" href="Data.Nat.Properties.html#14706" class="Function">+-identityʳ</a> <a id="10365" class="Symbol">(</a><a id="10366" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="10375" class="Symbol">(</a><a id="10376" href="Ledger.Utxo.Properties.html#9660" class="Bound">utxo</a> <a id="10381" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="10383" href="Ledger.Transaction.html#4216" class="Field">txins</a><a id="10388" class="Symbol">)))</a> <a id="10392" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="10398" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="10407" class="Symbol">(</a><a id="10408" href="Ledger.Utxo.Properties.html#9660" class="Bound">utxo</a> <a id="10413" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="10415" href="Ledger.Transaction.html#4216" class="Field">txins</a><a id="10420" class="Symbol">)</a> <a id="10422" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="10426" href="Ledger.Utxo.html#11158" class="Function">depositRefunds</a> <a id="10441" href="Ledger.Utxo.Properties.html#9648" class="Bound">pp</a> <a id="10444" href="Ledger.Utxo.Properties.html#9636" class="Bound">utxoState</a> <a id="10454" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a>
      <a id="10464" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>

  <a id="10469" href="Ledger.Utxo.Properties.html#10469" class="Function">producedCoinEquality</a> <a id="10490" class="Symbol">:</a> <a id="10492" class="Symbol">∀</a> <a id="10494" class="Symbol">{</a><a id="10495" href="Ledger.Utxo.Properties.html#10495" class="Bound">pp</a><a id="10497" class="Symbol">}</a>
    <a id="10503" class="Symbol">→</a> <a id="10505" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="10510" class="Symbol">(</a><a id="10511" href="Ledger.Utxo.html#11585" class="Function">produced</a> <a id="10520" href="Ledger.Utxo.Properties.html#10495" class="Bound">pp</a> <a id="10523" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a> <a id="10533" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="10536" class="Symbol">)</a>
    <a id="10542" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10544" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="10553" class="Symbol">(</a><a id="10554" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="10559" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="10562" class="Symbol">)</a> <a id="10564" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="10566" href="Ledger.Transaction.html#4310" class="Field">txfee</a> <a id="10572" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="10574" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="10586" href="Ledger.Utxo.Properties.html#10495" class="Bound">pp</a> <a id="10589" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a> <a id="10599" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a> <a id="10603" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="10605" href="Ledger.Transaction.html#4552" class="Field">txdonation</a>
  <a id="10618" href="Ledger.Utxo.Properties.html#10469" class="Function">producedCoinEquality</a> <a id="10639" class="Symbol">{</a><a id="10640" href="Ledger.Utxo.Properties.html#10640" class="Bound">utxoState</a><a id="10649" class="Symbol">}</a> <a id="10651" class="Symbol">{</a><a id="10652" href="Ledger.Utxo.Properties.html#10652" class="Bound">pp</a><a id="10654" class="Symbol">}</a> <a id="10656" class="Symbol">=</a>
      <a id="10664" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="10674" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="10679" class="Symbol">(</a><a id="10680" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="10688" class="Symbol">(</a><a id="10689" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="10694" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="10697" class="Symbol">)</a> <a id="10699" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="10701" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="10708" href="Ledger.Transaction.html#4310" class="Field">txfee</a>
      <a id="10720" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="10722" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="10729" class="Symbol">(</a><a id="10730" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="10742" href="Ledger.Utxo.Properties.html#10652" class="Bound">pp</a> <a id="10745" href="Ledger.Utxo.Properties.html#10640" class="Bound">utxoState</a> <a id="10755" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="10758" class="Symbol">)</a> <a id="10760" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="10762" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="10769" href="Ledger.Transaction.html#4552" class="Field">txdonation</a><a id="10779" class="Symbol">)</a>
      <a id="10787" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="10790" href="Ledger.Utxo.Properties.html#7477" class="Function">∙-homo-Coin</a> <a id="10802" class="Symbol">_</a> <a id="10804" class="Symbol">_</a> <a id="10806" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="10812" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="10817" class="Symbol">(</a><a id="10818" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="10826" class="Symbol">(</a><a id="10827" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="10832" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="10835" class="Symbol">)</a> <a id="10837" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="10839" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="10846" href="Ledger.Transaction.html#4310" class="Field">txfee</a>
      <a id="10858" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="10860" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="10867" class="Symbol">(</a><a id="10868" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="10880" href="Ledger.Utxo.Properties.html#10652" class="Bound">pp</a> <a id="10883" href="Ledger.Utxo.Properties.html#10640" class="Bound">utxoState</a> <a id="10893" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="10896" class="Symbol">))</a> <a id="10899" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="10901" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="10906" class="Symbol">(</a><a id="10907" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="10914" href="Ledger.Transaction.html#4552" class="Field">txdonation</a><a id="10924" class="Symbol">)</a>
      <a id="10932" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="10935" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="10940" class="Symbol">(</a><a id="10941" href="Interface.HasAdd.html#135" class="Field Operator">_+</a> <a id="10944" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="10949" class="Symbol">(</a><a id="10950" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="10957" href="Ledger.Transaction.html#4552" class="Field">txdonation</a><a id="10967" class="Symbol">))</a> <a id="10970" class="Symbol">(</a><a id="10971" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
        <a id="10985" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="10990" class="Symbol">(</a><a id="10991" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="10999" class="Symbol">(</a><a id="11000" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="11005" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="11008" class="Symbol">)</a> <a id="11010" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11012" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="11019" href="Ledger.Transaction.html#4310" class="Field">txfee</a>
          <a id="11035" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11037" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="11044" class="Symbol">(</a><a id="11045" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="11057" href="Ledger.Utxo.Properties.html#10652" class="Bound">pp</a> <a id="11060" href="Ledger.Utxo.Properties.html#10640" class="Bound">utxoState</a> <a id="11070" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="11073" class="Symbol">))</a>
          <a id="11086" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="11089" href="Ledger.Utxo.Properties.html#7477" class="Function">∙-homo-Coin</a> <a id="11101" class="Symbol">_</a> <a id="11103" class="Symbol">_</a> <a id="11105" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="11115" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="11120" class="Symbol">(</a><a id="11121" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="11129" class="Symbol">(</a><a id="11130" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="11135" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="11138" class="Symbol">)</a> <a id="11140" href="Ledger.TokenAlgebra.html#1118" class="Function Operator">+ᵛ</a> <a id="11143" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="11150" href="Ledger.Transaction.html#4310" class="Field">txfee</a><a id="11155" class="Symbol">)</a>
          <a id="11167" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11171" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="11176" class="Symbol">(</a><a id="11177" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="11184" class="Symbol">(</a><a id="11185" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="11197" href="Ledger.Utxo.Properties.html#10652" class="Bound">pp</a> <a id="11200" href="Ledger.Utxo.Properties.html#10640" class="Bound">utxoState</a> <a id="11210" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="11213" class="Symbol">))</a>
          <a id="11226" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="11229" href="Tactic.Cong.html#8166" class="Macro">cong!</a> <a id="11235" class="Symbol">(</a><a id="11236" href="Ledger.TokenAlgebra.html#1560" class="Function">property</a> <a id="11245" class="Symbol">_)</a> <a id="11248" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="11258" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="11263" class="Symbol">(</a><a id="11264" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="11272" class="Symbol">(</a><a id="11273" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="11278" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="11281" class="Symbol">)</a> <a id="11283" href="Ledger.TokenAlgebra.html#1118" class="Function Operator">+ᵛ</a> <a id="11286" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="11293" href="Ledger.Transaction.html#4310" class="Field">txfee</a><a id="11298" class="Symbol">)</a>
          <a id="11310" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11314" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="11326" href="Ledger.Utxo.Properties.html#10652" class="Bound">pp</a> <a id="11329" href="Ledger.Utxo.Properties.html#10640" class="Bound">utxoState</a> <a id="11339" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a>
          <a id="11353" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="11356" href="Tactic.Cong.html#8166" class="Macro">cong!</a> <a id="11362" class="Symbol">(</a><a id="11363" href="Ledger.Utxo.Properties.html#7477" class="Function">∙-homo-Coin</a> <a id="11375" class="Symbol">_</a> <a id="11377" class="Symbol">_)</a> <a id="11380" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="11390" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="11395" class="Symbol">(</a><a id="11396" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="11404" class="Symbol">(</a><a id="11405" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="11410" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="11413" class="Symbol">))</a> <a id="11416" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11420" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="11425" class="Symbol">(</a><a id="11426" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="11433" href="Ledger.Transaction.html#4310" class="Field">txfee</a><a id="11438" class="Symbol">)</a>
          <a id="11450" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11454" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="11466" href="Ledger.Utxo.Properties.html#10652" class="Bound">pp</a> <a id="11469" href="Ledger.Utxo.Properties.html#10640" class="Bound">utxoState</a> <a id="11479" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a>
          <a id="11493" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="11496" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="11501" class="Symbol">(λ</a> <a id="11504" href="Ledger.Utxo.Properties.html#11504" class="Bound">x</a> <a id="11506" class="Symbol">→</a> <a id="11508" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="11517" class="Symbol">(</a><a id="11518" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="11523" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="11526" class="Symbol">)</a> <a id="11528" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11530" href="Ledger.Utxo.Properties.html#11504" class="Bound">x</a> <a id="11532" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11534" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="11546" href="Ledger.Utxo.Properties.html#10652" class="Bound">pp</a> <a id="11549" href="Ledger.Utxo.Properties.html#10640" class="Bound">utxoState</a> <a id="11559" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="11562" class="Symbol">)</a>
                <a id="11580" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11582" href="Ledger.TokenAlgebra.html#1560" class="Function">property</a> <a id="11591" href="Ledger.Transaction.html#4310" class="Field">txfee</a> <a id="11597" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="11607" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="11616" class="Symbol">(</a><a id="11617" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="11622" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="11625" class="Symbol">)</a> <a id="11627" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11629" href="Ledger.Transaction.html#4310" class="Field">txfee</a> <a id="11635" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11637" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="11649" href="Ledger.Utxo.Properties.html#10652" class="Bound">pp</a> <a id="11652" href="Ledger.Utxo.Properties.html#10640" class="Bound">utxoState</a> <a id="11662" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a>
          <a id="11676" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>
      <a id="11684" class="Symbol">)</a><a id="11685" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="11691" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="11700" class="Symbol">(</a><a id="11701" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="11706" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="11709" class="Symbol">)</a> <a id="11711" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11713" href="Ledger.Transaction.html#4310" class="Field">txfee</a>
      <a id="11725" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11727" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="11739" href="Ledger.Utxo.Properties.html#10652" class="Bound">pp</a> <a id="11742" href="Ledger.Utxo.Properties.html#10640" class="Bound">utxoState</a> <a id="11752" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a> <a id="11756" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11758" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="11763" class="Symbol">(</a><a id="11764" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="11771" href="Ledger.Transaction.html#4552" class="Field">txdonation</a><a id="11781" class="Symbol">)</a>
      <a id="11789" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="11792" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="11797" class="Symbol">(</a><a id="11798" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="11807" class="Symbol">(</a><a id="11808" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="11813" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="11816" class="Symbol">)</a> <a id="11818" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11820" href="Ledger.Transaction.html#4310" class="Field">txfee</a> <a id="11826" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11828" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="11840" href="Ledger.Utxo.Properties.html#10652" class="Bound">pp</a> <a id="11843" href="Ledger.Utxo.Properties.html#10640" class="Bound">utxoState</a> <a id="11853" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a> <a id="11857" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="11859" class="Symbol">)</a>
            <a id="11873" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11875" href="Ledger.TokenAlgebra.html#1560" class="Function">property</a> <a id="11884" class="Symbol">_</a> <a id="11886" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="11892" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="11901" class="Symbol">(</a><a id="11902" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="11907" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="11910" class="Symbol">)</a> <a id="11912" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11914" href="Ledger.Transaction.html#4310" class="Field">txfee</a> <a id="11920" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11922" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="11934" href="Ledger.Utxo.Properties.html#10652" class="Bound">pp</a> <a id="11937" href="Ledger.Utxo.Properties.html#10640" class="Bound">utxoState</a> <a id="11947" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a> <a id="11951" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="11953" href="Ledger.Transaction.html#4552" class="Field">txdonation</a>
      <a id="11970" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>

  <a id="11975" href="Ledger.Utxo.Properties.html#11975" class="Function">balValueToCoin</a> <a id="11990" class="Symbol">:</a> <a id="11992" class="Symbol">∀</a> <a id="11994" class="Symbol">{</a><a id="11995" href="Ledger.Utxo.Properties.html#11995" class="Bound">pp</a><a id="11997" class="Symbol">}</a>
    <a id="12003" class="Symbol">→</a> <a id="12005" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="12010" href="Ledger.Transaction.html#4338" class="Field">mint</a> <a id="12015" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12017" class="Number">0</a>
    <a id="12023" class="Symbol">→</a> <a id="12025" href="Ledger.Utxo.html#11416" class="Function">consumed</a> <a id="12034" href="Ledger.Utxo.Properties.html#11995" class="Bound">pp</a> <a id="12037" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a> <a id="12047" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a> <a id="12051" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12053" href="Ledger.Utxo.html#11585" class="Function">produced</a> <a id="12062" href="Ledger.Utxo.Properties.html#11995" class="Bound">pp</a> <a id="12065" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a> <a id="12075" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a>
    <a id="12083" class="Symbol">→</a> <a id="12085" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="12094" class="Symbol">((</a><a id="12096" href="Ledger.Utxo.html#5322" class="Field">UTxOState.utxo</a> <a id="12111" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a><a id="12120" class="Symbol">)</a> <a id="12122" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="12124" href="Ledger.Transaction.html#4216" class="Field">txins</a><a id="12129" class="Symbol">)</a>
    <a id="12135" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="12137" href="Ledger.Utxo.html#11158" class="Function">depositRefunds</a> <a id="12152" href="Ledger.Utxo.Properties.html#11995" class="Bound">pp</a> <a id="12155" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a> <a id="12165" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a>
    <a id="12173" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12175" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="12184" class="Symbol">(</a><a id="12185" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="12190" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="12193" class="Symbol">)</a> <a id="12195" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="12197" href="Ledger.Transaction.html#4310" class="Field">txfee</a> <a id="12203" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="12205" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="12217" href="Ledger.Utxo.Properties.html#11995" class="Bound">pp</a> <a id="12220" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a> <a id="12230" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a> <a id="12234" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="12236" href="Ledger.Transaction.html#4552" class="Field">txdonation</a>
  <a id="12249" href="Ledger.Utxo.Properties.html#11975" class="Function">balValueToCoin</a> <a id="12264" class="Symbol">{</a><a id="12265" href="Ledger.Utxo.Properties.html#12265" class="Bound">utxoState</a><a id="12274" class="Symbol">}</a> <a id="12276" class="Symbol">{</a><a id="12277" href="Ledger.Utxo.Properties.html#12277" class="Bound">pp</a><a id="12279" class="Symbol">}</a> <a id="12281" href="Ledger.Utxo.Properties.html#12281" class="Bound">h</a> <a id="12283" href="Ledger.Utxo.Properties.html#12283" class="Bound">h&#39;</a> <a id="12286" class="Symbol">=</a> <a id="12288" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="12298" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="12307" class="Symbol">((</a><a id="12309" href="Ledger.Utxo.html#5322" class="Field">UTxOState.utxo</a> <a id="12324" href="Ledger.Utxo.Properties.html#12265" class="Bound">utxoState</a><a id="12333" class="Symbol">)</a> <a id="12335" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="12337" href="Ledger.Transaction.html#4216" class="Field">txins</a><a id="12342" class="Symbol">)</a> <a id="12344" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="12346" href="Ledger.Utxo.html#11158" class="Function">depositRefunds</a> <a id="12361" href="Ledger.Utxo.Properties.html#12277" class="Bound">pp</a> <a id="12364" href="Ledger.Utxo.Properties.html#12265" class="Bound">utxoState</a> <a id="12374" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a>
      <a id="12384" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="12388" href="Ledger.Utxo.Properties.html#9437" class="Function">consumedCoinEquality</a> <a id="12409" class="Symbol">{</a><a id="12410" href="Ledger.Utxo.Properties.html#12265" class="Bound">utxoState</a><a id="12419" class="Symbol">}</a> <a id="12421" class="Symbol">{</a><a id="12422" href="Ledger.Utxo.Properties.html#12277" class="Bound">pp</a><a id="12424" class="Symbol">}</a> <a id="12426" href="Ledger.Utxo.Properties.html#12281" class="Bound">h</a> <a id="12428" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="12434" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="12439" class="Symbol">(</a><a id="12440" href="Ledger.Utxo.html#11416" class="Function">consumed</a> <a id="12449" href="Ledger.Utxo.Properties.html#12277" class="Bound">pp</a> <a id="12452" href="Ledger.Utxo.Properties.html#12265" class="Bound">utxoState</a> <a id="12462" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="12465" class="Symbol">)</a>
      <a id="12473" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="12476" href="Tactic.Cong.html#8166" class="Macro">cong!</a> <a id="12482" href="Ledger.Utxo.Properties.html#12283" class="Bound">h&#39;</a> <a id="12485" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="12491" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="12496" class="Symbol">(</a><a id="12497" href="Ledger.Utxo.html#11585" class="Function">produced</a> <a id="12506" href="Ledger.Utxo.Properties.html#12277" class="Bound">pp</a> <a id="12509" href="Ledger.Utxo.Properties.html#12265" class="Bound">utxoState</a> <a id="12519" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="12522" class="Symbol">)</a>
      <a id="12530" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="12533" href="Ledger.Utxo.Properties.html#10469" class="Function">producedCoinEquality</a> <a id="12554" class="Symbol">{</a><a id="12555" href="Ledger.Utxo.Properties.html#12265" class="Bound">utxoState</a><a id="12564" class="Symbol">}</a> <a id="12566" class="Symbol">{</a><a id="12567" href="Ledger.Utxo.Properties.html#12277" class="Bound">pp</a><a id="12569" class="Symbol">}</a> <a id="12571" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="12577" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="12586" class="Symbol">(</a><a id="12587" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="12592" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a><a id="12595" class="Symbol">)</a> <a id="12597" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="12599" href="Ledger.Transaction.html#4310" class="Field">txfee</a> <a id="12605" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="12607" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="12619" href="Ledger.Utxo.Properties.html#12277" class="Bound">pp</a> <a id="12622" href="Ledger.Utxo.Properties.html#12265" class="Bound">utxoState</a> <a id="12632" href="Ledger.Utxo.Properties.html#8986" class="Bound">txb</a> <a id="12636" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="12638" href="Ledger.Transaction.html#4552" class="Field">txdonation</a>
      <a id="12655" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>

<a id="posPart-negPart≡x"></a><a id="12658" href="Ledger.Utxo.Properties.html#12658" class="Function">posPart-negPart≡x</a> <a id="12676" class="Symbol">:</a> <a id="12678" class="Symbol">{</a><a id="12679" href="Ledger.Utxo.Properties.html#12679" class="Bound">x</a> <a id="12681" class="Symbol">:</a> <a id="12683" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="12684" class="Symbol">}</a> <a id="12686" class="Symbol">→</a> <a id="12688" href="Data.Integer.Ext.html#349" class="Function">posPart</a> <a id="12696" href="Ledger.Utxo.Properties.html#12679" class="Bound">x</a> <a id="12698" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="12700" href="Data.Integer.Ext.html#440" class="Function">negPart</a> <a id="12708" href="Ledger.Utxo.Properties.html#12679" class="Bound">x</a> <a id="12710" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12712" href="Ledger.Utxo.Properties.html#12679" class="Bound">x</a>
<a id="12714" href="Ledger.Utxo.Properties.html#12658" class="Function">posPart-negPart≡x</a> <a id="12732" class="Symbol">{</a><a id="12733" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="12738" href="Ledger.Utxo.Properties.html#12738" class="Bound">n</a><a id="12739" class="Symbol">}</a>     <a id="12745" class="Symbol">=</a> <a id="12747" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="12752" href="Ledger.Utxo.Properties.html#12658" class="Function">posPart-negPart≡x</a> <a id="12770" class="Symbol">{</a><a id="12771" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="12780" href="Ledger.Utxo.Properties.html#12780" class="Bound">n</a><a id="12781" class="Symbol">}</a> <a id="12783" class="Symbol">=</a> <a id="12785" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="12791" class="Keyword">module</a> <a id="12798" href="Ledger.Utxo.Properties.html#12798" class="Module">DepositHelpers</a>
  <a id="12815" class="Symbol">{</a><a id="12816" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="12821" href="Ledger.Utxo.Properties.html#12821" class="Bound">utxo&#39;</a> <a id="12827" class="Symbol">:</a> <a id="12829" href="Ledger.Transaction.html#3882" class="Function">UTxO</a><a id="12833" class="Symbol">}</a>
  <a id="12837" class="Symbol">{</a><a id="12838" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="12843" href="Ledger.Utxo.Properties.html#12843" class="Bound">fees&#39;</a> <a id="12849" class="Symbol">:</a> <a id="12851" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="12855" class="Symbol">}</a>
  <a id="12859" class="Symbol">{</a><a id="12860" href="Ledger.Utxo.Properties.html#12860" class="Bound">deposits</a> <a id="12869" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="12879" class="Symbol">:</a> <a id="12881" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="12896" href="Ledger.Set.Theory.html#1515" class="Function Operator">⇀</a> <a id="12898" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="12902" class="Symbol">}</a>
  <a id="12906" class="Symbol">{</a><a id="12907" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a> <a id="12917" href="Ledger.Utxo.Properties.html#12917" class="Bound">donations&#39;</a> <a id="12928" class="Symbol">:</a> <a id="12930" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="12934" class="Symbol">}</a>
  <a id="12938" class="Symbol">{</a><a id="12939" href="Ledger.Utxo.Properties.html#12939" class="Bound">tx</a> <a id="12942" class="Symbol">:</a> <a id="12944" href="Ledger.Transaction.html#5227" class="Record">Tx</a><a id="12946" class="Symbol">}</a> <a id="12948" class="Symbol">(</a><a id="12949" class="Keyword">let</a> <a id="12953" class="Keyword">open</a> <a id="12958" href="Ledger.Transaction.html#5227" class="Module">Tx</a> <a id="12961" href="Ledger.Utxo.Properties.html#12939" class="Bound">tx</a> <a id="12964" class="Keyword">renaming</a> <a id="12973" class="Symbol">(</a><a id="12974" href="Ledger.Transaction.html#5313" class="Field">body</a> <a id="12979" class="Symbol">to</a> <a id="12982" class="Field">txb</a><a id="12985" class="Symbol">);</a> <a id="12988" class="Keyword">open</a> <a id="12993" href="Ledger.Transaction.html#4126" class="Module">TxBody</a> <a id="13000" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a><a id="13003" class="Symbol">)</a>
  <a id="13007" class="Symbol">{</a><a id="13008" href="Ledger.Utxo.Properties.html#13008" class="Bound">Γ</a> <a id="13010" class="Symbol">:</a> <a id="13012" href="Ledger.Utxo.html#4994" class="Record">UTxOEnv</a><a id="13019" class="Symbol">}</a>
  <a id="13023" class="Symbol">(</a><a id="13024" href="Ledger.Utxo.Properties.html#13024" class="Bound">step</a>  <a id="13030" class="Symbol">:</a> <a id="13032" href="Ledger.Utxo.Properties.html#13008" class="Bound">Γ</a> <a id="13034" href="Ledger.Utxo.html#5513" class="Datatype Operator">⊢</a> <a id="13036" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="13038" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a>  <a id="13044" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13046" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a>  <a id="13052" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13054" href="Ledger.Utxo.Properties.html#12860" class="Bound">deposits</a>  <a id="13064" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13066" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a> <a id="13076" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a> <a id="13079" href="Ledger.Utxo.html#5513" class="Datatype Operator">⇀⦇</a> <a id="13082" href="Ledger.Utxo.Properties.html#12939" class="Bound">tx</a> <a id="13085" href="Ledger.Utxo.html#5513" class="Datatype Operator">,UTXO⦈</a>
               <a id="13107" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="13109" href="Ledger.Utxo.Properties.html#12821" class="Bound">utxo&#39;</a> <a id="13115" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13117" href="Ledger.Utxo.Properties.html#12843" class="Bound">fees&#39;</a> <a id="13123" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13125" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="13135" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13137" href="Ledger.Utxo.Properties.html#12917" class="Bound">donations&#39;</a> <a id="13148" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a><a id="13150" class="Symbol">)</a>
  <a id="13154" class="Symbol">(</a><a id="13155" href="Ledger.Utxo.Properties.html#13155" class="Bound">h&#39;</a> <a id="13158" class="Symbol">:</a> <a id="13160" href="Ledger.Transaction.html#4748" class="Function">txid</a> <a id="13165" href="Interface.IsSet.html#480" class="Function Operator">∉</a> <a id="13167" href="Ledger.Set.Theory.html#413" class="Function">mapˢ</a> <a id="13172" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13178" class="Symbol">(</a><a id="13179" href="Interface.IsSet.html#934" class="Function">dom</a> <a id="13183" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a><a id="13187" class="Symbol">))</a>
  <a id="13192" class="Keyword">where</a>
  <a id="13200" class="Keyword">open</a> <a id="13205" href="Tactic.EquationalReasoning.html#417" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="13244" class="Symbol">{</a><a id="13245" class="Argument">A</a> <a id="13247" class="Symbol">=</a> <a id="13249" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="13250" class="Symbol">}</a> <a id="13252" class="Symbol">(</a><a id="13253" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a> <a id="13265" class="Symbol">(</a><a id="13266" class="Keyword">quoteTerm</a> <a id="13276" href="Data.Nat.Properties.html#16493" class="Function">+-0-monoid</a><a id="13286" class="Symbol">))</a>

  <a id="13292" class="Keyword">private</a>
    <a id="13304" href="Ledger.Utxo.Properties.html#13304" class="Function">stepS</a> <a id="13310" class="Symbol">:</a> <a id="13312" href="Ledger.Utxo.Properties.html#13008" class="Bound">Γ</a> <a id="13314" href="Ledger.Utxo.html#12448" class="Datatype Operator">⊢</a> <a id="13316" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="13318" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a>  <a id="13324" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13326" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a>  <a id="13332" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13334" href="Ledger.Utxo.Properties.html#12860" class="Bound">deposits</a>  <a id="13344" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13346" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a>  <a id="13357" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a> <a id="13360" href="Ledger.Utxo.html#12448" class="Datatype Operator">⇀⦇</a> <a id="13363" href="Ledger.Utxo.Properties.html#12939" class="Bound">tx</a> <a id="13366" href="Ledger.Utxo.html#12448" class="Datatype Operator">,UTXOS⦈</a>
                <a id="13390" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="13392" href="Ledger.Utxo.Properties.html#12821" class="Bound">utxo&#39;</a> <a id="13398" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13400" href="Ledger.Utxo.Properties.html#12843" class="Bound">fees&#39;</a> <a id="13406" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13408" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="13418" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13420" href="Ledger.Utxo.Properties.html#12917" class="Bound">donations&#39;</a> <a id="13431" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a>
    <a id="13438" href="Ledger.Utxo.Properties.html#13304" class="Function">stepS</a> <a id="13444" class="Symbol">=</a> <a id="13446" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="13451" href="Ledger.Utxo.Properties.html#13024" class="Bound">step</a> <a id="13456" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="13459" class="Symbol">λ</a> <a id="13461" class="Keyword">where</a>
      <a id="13473" class="Symbol">(</a><a id="13474" href="Ledger.Utxo.html#15648" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="13490" class="Symbol">_</a> <a id="13492" class="Symbol">_</a> <a id="13494" class="Symbol">_</a> <a id="13496" class="Symbol">_</a> <a id="13498" class="Symbol">_</a> <a id="13500" class="Symbol">_</a> <a id="13502" class="Symbol">_</a> <a id="13504" class="Symbol">_</a> <a id="13506" class="Symbol">_</a> <a id="13508" class="Symbol">_</a> <a id="13510" class="Symbol">_</a> <a id="13512" class="Symbol">_</a> <a id="13514" class="Symbol">_</a> <a id="13516" class="Symbol">_</a> <a id="13518" class="Symbol">_</a> <a id="13520" class="Symbol">_</a> <a id="13522" class="Symbol">_</a> <a id="13524" class="Symbol">_</a> <a id="13526" href="Ledger.Utxo.Properties.html#13526" class="Bound">h</a><a id="13527" class="Symbol">)</a> <a id="13529" class="Symbol">→</a> <a id="13531" href="Ledger.Utxo.Properties.html#13526" class="Bound">h</a>

    <a id="13538" href="Ledger.Utxo.Properties.html#13538" class="Function">pp</a> <a id="13541" class="Symbol">:</a> <a id="13543" href="Ledger.PParams.html#2073" class="Record">PParams</a>
    <a id="13555" href="Ledger.Utxo.Properties.html#13538" class="Function">pp</a> <a id="13558" class="Symbol">=</a> <a id="13560" href="Ledger.Utxo.html#5102" class="Field">UTxOEnv.pparams</a> <a id="13576" href="Ledger.Utxo.Properties.html#13008" class="Bound">Γ</a>
    <a id="13582" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="13586" class="Symbol">:</a> <a id="13588" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="13597" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="13601" class="Symbol">=</a> <a id="13603" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="13611" href="Ledger.Utxo.Properties.html#12860" class="Bound">deposits</a>
    <a id="13624" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="13629" class="Symbol">:</a> <a id="13631" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="13640" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="13645" class="Symbol">=</a> <a id="13647" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="13655" class="Symbol">(</a><a id="13656" href="Ledger.Utxo.html#7587" class="Function">updateDeposits</a> <a id="13671" href="Ledger.Utxo.Properties.html#13538" class="Function">pp</a> <a id="13674" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a> <a id="13678" href="Ledger.Utxo.Properties.html#12860" class="Bound">deposits</a><a id="13686" class="Symbol">)</a>
    <a id="13692" href="Ledger.Utxo.Properties.html#13692" class="Function">Δdep</a> <a id="13697" class="Symbol">:</a> <a id="13699" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
    <a id="13705" href="Ledger.Utxo.Properties.html#13692" class="Function">Δdep</a> <a id="13710" class="Symbol">=</a> <a id="13712" href="Ledger.Utxo.html#8057" class="Function">depositsChange</a> <a id="13727" href="Ledger.Utxo.Properties.html#13538" class="Function">pp</a> <a id="13730" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a> <a id="13734" href="Ledger.Utxo.Properties.html#12860" class="Bound">deposits</a>
    <a id="13747" href="Ledger.Utxo.Properties.html#13747" class="Function">utxoSt</a> <a id="13754" class="Symbol">:</a> <a id="13756" href="Ledger.Utxo.html#5208" class="Record">UTxOState</a>
    <a id="13770" href="Ledger.Utxo.Properties.html#13747" class="Function">utxoSt</a> <a id="13777" class="Symbol">=</a> <a id="13779" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="13781" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="13786" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13788" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="13793" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13795" href="Ledger.Utxo.Properties.html#12860" class="Bound">deposits</a> <a id="13804" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="13806" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a> <a id="13816" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a>
    <a id="13823" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="13827" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="13831" class="Symbol">:</a> <a id="13833" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="13842" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="13846" class="Symbol">=</a> <a id="13848" href="Ledger.Utxo.html#11158" class="Function">depositRefunds</a> <a id="13863" href="Ledger.Utxo.Properties.html#13538" class="Function">pp</a> <a id="13866" href="Ledger.Utxo.Properties.html#13747" class="Function">utxoSt</a> <a id="13873" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a>
    <a id="13881" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="13885" class="Symbol">=</a> <a id="13887" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a>    <a id="13902" href="Ledger.Utxo.Properties.html#13538" class="Function">pp</a> <a id="13905" href="Ledger.Utxo.Properties.html#13747" class="Function">utxoSt</a> <a id="13912" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a>
    <a id="13920" href="Ledger.Utxo.Properties.html#13920" class="Function">h</a> <a id="13922" class="Symbol">:</a> <a id="13924" href="Axiom.Set.html#3155" class="Function">disjoint</a> <a id="13933" class="Symbol">(</a><a id="13934" href="Interface.IsSet.html#934" class="Function">dom</a> <a id="13938" class="Symbol">(</a><a id="13939" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="13944" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="13946" href="Ledger.Transaction.html#4216" class="Function">txins</a> <a id="13952" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="13953" class="Symbol">))</a> <a id="13956" class="Symbol">(</a><a id="13957" href="Interface.IsSet.html#934" class="Function">dom</a> <a id="13961" class="Symbol">(</a><a id="13962" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="13967" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a><a id="13970" class="Symbol">))</a>
    <a id="13977" href="Ledger.Utxo.Properties.html#13920" class="Function">h</a> <a id="13979" class="Symbol">=</a> <a id="13981" class="Symbol">λ</a> <a id="13983" href="Ledger.Utxo.Properties.html#13983" class="Bound">h₁</a> <a id="13986" href="Ledger.Utxo.Properties.html#13986" class="Bound">h₂</a> <a id="13989" class="Symbol">→</a> <a id="13991" href="Axiom.Set.Properties.html#5456" class="Function">∉-∅</a> <a id="13995" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13997" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="14003" class="Symbol">(</a><a id="14004" href="Ledger.Utxo.Properties.html#9137" class="Function">newTxid⇒disj</a> <a id="14017" class="Symbol">{</a><a id="14018" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a><a id="14021" class="Symbol">}</a> <a id="14023" class="Symbol">{</a><a id="14024" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a><a id="14028" class="Symbol">}</a> <a id="14030" href="Ledger.Utxo.Properties.html#13155" class="Bound">h&#39;</a><a id="14032" class="Symbol">)</a>
                      <a id="14056" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14058" href="Function.Bundles.html#4810" class="Field">to</a> <a id="14061" href="Axiom.Set.html#9064" class="Function">∈-∩</a> <a id="14065" class="Symbol">(</a><a id="14066" href="Axiom.Set.Rel.html#6993" class="Function">res-comp-domᵐ</a> <a id="14080" href="Ledger.Utxo.Properties.html#13983" class="Bound">h₁</a> <a id="14083" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14085" href="Ledger.Utxo.Properties.html#13986" class="Bound">h₂</a><a id="14087" class="Symbol">)</a>
    <a id="14093" href="Ledger.Utxo.Properties.html#14093" class="Function">newBal&#39;</a> <a id="14101" class="Symbol">:</a> <a id="14103" href="Ledger.Utxo.Properties.html#13008" class="Bound">Γ</a> <a id="14105" href="Ledger.Utxo.html#5513" class="Datatype Operator">⊢</a> <a id="14107" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="14109" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="14114" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="14116" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="14121" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="14123" href="Ledger.Utxo.Properties.html#12860" class="Bound">deposits</a> <a id="14132" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="14134" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a> <a id="14144" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a> <a id="14147" href="Ledger.Utxo.html#5513" class="Datatype Operator">⇀⦇</a> <a id="14150" href="Ledger.Utxo.Properties.html#12939" class="Bound">tx</a> <a id="14153" href="Ledger.Utxo.html#5513" class="Datatype Operator">,UTXO⦈</a>
                  <a id="14178" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="14180" href="Ledger.Utxo.Properties.html#12821" class="Bound">utxo&#39;</a> <a id="14186" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="14188" href="Ledger.Utxo.Properties.html#12843" class="Bound">fees&#39;</a> <a id="14194" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="14196" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="14206" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="14208" href="Ledger.Utxo.Properties.html#12917" class="Bound">donations&#39;</a> <a id="14219" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a>
            <a id="14234" class="Symbol">→</a> <a id="14236" href="Ledger.Utxo.html#11416" class="Function">consumed</a> <a id="14245" href="Ledger.Utxo.Properties.html#13538" class="Function">pp</a> <a id="14248" href="Ledger.Utxo.Properties.html#13747" class="Function">utxoSt</a> <a id="14255" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a> <a id="14259" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14261" href="Ledger.Utxo.html#11585" class="Function">produced</a> <a id="14270" href="Ledger.Utxo.Properties.html#13538" class="Function">pp</a> <a id="14273" href="Ledger.Utxo.Properties.html#13747" class="Function">utxoSt</a> <a id="14280" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a>
    <a id="14288" href="Ledger.Utxo.Properties.html#14093" class="Function">newBal&#39;</a> <a id="14296" class="Symbol">(</a><a id="14297" href="Ledger.Utxo.html#15648" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="14313" class="Symbol">_</a> <a id="14315" class="Symbol">_</a> <a id="14317" class="Symbol">_</a> <a id="14319" class="Symbol">_</a> <a id="14321" class="Symbol">_</a> <a id="14323" class="Symbol">_</a> <a id="14325" class="Symbol">_</a> <a id="14327" class="Symbol">_</a> <a id="14329" href="Ledger.Utxo.Properties.html#14329" class="Bound">x</a> <a id="14331" class="Symbol">_</a> <a id="14333" class="Symbol">_</a> <a id="14335" class="Symbol">_</a> <a id="14337" class="Symbol">_</a> <a id="14339" class="Symbol">_</a> <a id="14341" class="Symbol">_</a> <a id="14343" class="Symbol">_</a> <a id="14345" class="Symbol">_</a> <a id="14347" class="Symbol">_</a> <a id="14349" class="Symbol">_)</a> <a id="14352" class="Symbol">=</a> <a id="14354" href="Ledger.Utxo.Properties.html#14329" class="Bound">x</a>
    <a id="14360" href="Ledger.Utxo.Properties.html#14360" class="Function">newBal</a> <a id="14367" class="Symbol">:</a> <a id="14369" href="Ledger.Utxo.html#11416" class="Function">consumed</a> <a id="14378" href="Ledger.Utxo.Properties.html#13538" class="Function">pp</a> <a id="14381" href="Ledger.Utxo.Properties.html#13747" class="Function">utxoSt</a> <a id="14388" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a> <a id="14392" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14394" href="Ledger.Utxo.html#11585" class="Function">produced</a> <a id="14403" href="Ledger.Utxo.Properties.html#13538" class="Function">pp</a> <a id="14406" href="Ledger.Utxo.Properties.html#13747" class="Function">utxoSt</a> <a id="14413" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a>
    <a id="14421" href="Ledger.Utxo.Properties.html#14360" class="Function">newBal</a> <a id="14428" class="Symbol">=</a> <a id="14430" href="Ledger.Utxo.Properties.html#14093" class="Function">newBal&#39;</a> <a id="14438" href="Ledger.Utxo.Properties.html#13024" class="Bound">step</a>
    <a id="14447" href="Ledger.Utxo.Properties.html#14447" class="Function">noMintAda&#39;</a> <a id="14458" class="Symbol">:</a> <a id="14460" href="Ledger.Utxo.Properties.html#13008" class="Bound">Γ</a> <a id="14462" href="Ledger.Utxo.html#5513" class="Datatype Operator">⊢</a> <a id="14464" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="14466" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="14471" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="14473" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="14478" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="14480" href="Ledger.Utxo.Properties.html#12860" class="Bound">deposits</a> <a id="14489" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="14491" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a> <a id="14501" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a> <a id="14504" href="Ledger.Utxo.html#5513" class="Datatype Operator">⇀⦇</a> <a id="14507" href="Ledger.Utxo.Properties.html#12939" class="Bound">tx</a> <a id="14510" href="Ledger.Utxo.html#5513" class="Datatype Operator">,UTXO⦈</a>
                     <a id="14538" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="14540" href="Ledger.Utxo.Properties.html#12821" class="Bound">utxo&#39;</a> <a id="14546" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="14548" href="Ledger.Utxo.Properties.html#12843" class="Bound">fees&#39;</a> <a id="14554" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="14556" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="14566" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="14568" href="Ledger.Utxo.Properties.html#12917" class="Bound">donations&#39;</a> <a id="14579" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a>
               <a id="14597" class="Symbol">→</a> <a id="14599" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="14604" class="Symbol">(</a><a id="14605" href="Ledger.Transaction.html#4338" class="Function">mint</a><a id="14609" class="Symbol">)</a> <a id="14611" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14613" class="Number">0</a>
    <a id="14619" href="Ledger.Utxo.Properties.html#14447" class="Function">noMintAda&#39;</a> <a id="14630" class="Symbol">(</a><a id="14631" href="Ledger.Utxo.html#15648" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="14647" class="Symbol">_</a> <a id="14649" class="Symbol">_</a> <a id="14651" class="Symbol">_</a> <a id="14653" class="Symbol">_</a> <a id="14655" class="Symbol">_</a> <a id="14657" class="Symbol">_</a> <a id="14659" class="Symbol">_</a> <a id="14661" class="Symbol">_</a> <a id="14663" class="Symbol">_</a> <a id="14665" href="Ledger.Utxo.Properties.html#14665" class="Bound">x</a> <a id="14667" class="Symbol">_</a> <a id="14669" class="Symbol">_</a> <a id="14671" class="Symbol">_</a> <a id="14673" class="Symbol">_</a> <a id="14675" class="Symbol">_</a> <a id="14677" class="Symbol">_</a> <a id="14679" class="Symbol">_</a> <a id="14681" class="Symbol">_</a> <a id="14683" class="Symbol">_)</a> <a id="14686" class="Symbol">=</a> <a id="14688" href="Ledger.Utxo.Properties.html#14665" class="Bound">x</a>
    <a id="14694" href="Ledger.Utxo.Properties.html#14694" class="Function">noMintAda</a> <a id="14704" class="Symbol">:</a> <a id="14706" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="14711" href="Ledger.Transaction.html#4338" class="Function">mint</a> <a id="14716" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14718" class="Number">0</a>
    <a id="14724" href="Ledger.Utxo.Properties.html#14694" class="Function">noMintAda</a> <a id="14734" class="Symbol">=</a> <a id="14736" href="Ledger.Utxo.Properties.html#14447" class="Function">noMintAda&#39;</a> <a id="14747" href="Ledger.Utxo.Properties.html#13024" class="Bound">step</a>
    <a id="14756" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a> <a id="14766" class="Symbol">:</a> <a id="14768" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14777" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a> <a id="14787" class="Symbol">=</a> <a id="14789" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14797" href="Ledger.Utxo.Properties.html#12860" class="Bound">deposits</a> <a id="14806" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="14808" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a>

  <a id="14815" href="Ledger.Utxo.Properties.html#14815" class="Function">deposits-change&#39;</a> <a id="14832" class="Symbol">:</a> <a id="14834" href="Ledger.Utxo.Properties.html#13692" class="Function">Δdep</a> <a id="14839" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14841" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="14845" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="14847" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a>
  <a id="14853" href="Ledger.Utxo.Properties.html#14815" class="Function">deposits-change&#39;</a> <a id="14870" class="Symbol">=</a> <a id="14872" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="14876" href="Ledger.Utxo.Properties.html#12658" class="Function">posPart-negPart≡x</a>

  <a id="14897" href="Ledger.Utxo.Properties.html#14897" class="Function">dep-ref</a> <a id="14905" class="Symbol">:</a> <a id="14907" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="14911" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14913" class="Number">0</a> <a id="14915" class="Symbol">→</a> <a id="14917" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="14922" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="14924" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="14928" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14930" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a>
  <a id="14936" href="Ledger.Utxo.Properties.html#14897" class="Function">dep-ref</a> <a id="14944" href="Ledger.Utxo.Properties.html#14944" class="Bound">tot≡0</a> <a id="14950" class="Symbol">=</a> <a id="14952" href="Data.Integer.Properties.html#2490" class="Function">ℤ.+-injective</a> <a id="14966" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14968" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="14978" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="14983" class="Symbol">(</a><a id="14984" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="14989" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="14991" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a><a id="14994" class="Symbol">)</a>          <a id="15005" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="15008" href="Data.Integer.Properties.html#32424" class="Function">ℤ.pos-+</a> <a id="15016" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15021" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="15025" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="15031" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15036" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15041" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15045" class="Symbol">(</a><a id="15046" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="15050" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15052" class="Number">0</a><a id="15053" class="Symbol">)</a>    <a id="15058" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="15062" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="15067" class="Symbol">(λ</a> <a id="15070" href="Ledger.Utxo.Properties.html#15070" class="Bound">u</a> <a id="15072" class="Symbol">→</a> <a id="15074" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15079" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15084" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15088" class="Symbol">(</a><a id="15089" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="15093" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15095" href="Ledger.Utxo.Properties.html#15070" class="Bound">u</a><a id="15096" class="Symbol">))</a> <a id="15099" href="Ledger.Utxo.Properties.html#14944" class="Bound">tot≡0</a> <a id="15105" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="15111" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15116" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15121" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15125" class="Symbol">(</a><a id="15126" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="15130" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15132" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a><a id="15135" class="Symbol">)</a>  <a id="15138" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="15141" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="15146" class="Symbol">((</a><a id="15148" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="15152" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a><a id="15156" class="Symbol">)</a> <a id="15158" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="15160" class="Symbol">)</a> <a id="15162" class="Symbol">(</a><a id="15163" href="Data.Integer.Properties.html#19449" class="Function">ℤ.⊖-swap</a> <a id="15172" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="15176" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a><a id="15179" class="Symbol">)</a> <a id="15181" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="15187" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15192" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15197" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="15201" class="Symbol">(</a><a id="15202" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="15206" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15208" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a><a id="15211" class="Symbol">)</a>  <a id="15214" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="15218" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="15223" class="Symbol">(λ</a> <a id="15226" href="Ledger.Utxo.Properties.html#15226" class="Bound">u</a> <a id="15228" class="Symbol">→</a>  <a id="15231" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15236" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15241" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="15245" href="Ledger.Utxo.Properties.html#15226" class="Bound">u</a><a id="15246" class="Symbol">)</a> <a id="15248" href="Ledger.Utxo.Properties.html#14815" class="Function">deposits-change&#39;</a> <a id="15265" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="15271" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15276" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15281" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="15285" href="Ledger.Utxo.Properties.html#13692" class="Function">Δdep</a>         <a id="15298" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="15302" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="15307" class="Symbol">((</a><a id="15309" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="15313" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a><a id="15317" class="Symbol">)</a> <a id="15319" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="15321" class="Symbol">)</a> <a id="15323" class="Symbol">(</a><a id="15324" href="Data.Integer.Properties.html#19449" class="Function">ℤ.⊖-swap</a> <a id="15333" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="15337" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a><a id="15341" class="Symbol">)</a> <a id="15343" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="15349" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15354" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15359" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="15361" class="Symbol">(</a><a id="15362" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="15366" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15368" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a><a id="15372" class="Symbol">)</a>   <a id="15376" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="15379" href="Data.Integer.Properties.html#27759" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="15398" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15403" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="15407" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15412" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="15418" class="Symbol">(</a><a id="15419" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15424" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="15426" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="15429" class="Symbol">)</a> <a id="15431" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15433" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a>        <a id="15445" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="15448" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="15453" class="Symbol">(</a><a id="15454" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="15457" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a><a id="15461" class="Symbol">)</a> <a id="15463" class="Symbol">(</a><a id="15464" href="Data.Nat.Properties.html#14883" class="Function">+-comm</a> <a id="15471" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15476" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="15479" class="Symbol">)</a> <a id="15481" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="15487" class="Symbol">(</a><a id="15488" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="15492" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="15494" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a><a id="15498" class="Symbol">)</a> <a id="15500" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15502" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a>        <a id="15514" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="15518" href="Data.Integer.Properties.html#27759" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="15537" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="15541" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15546" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15551" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="15557" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15562" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="15566" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15570" class="Symbol">(</a><a id="15571" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15576" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15578" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a><a id="15582" class="Symbol">)</a> <a id="15584" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="15587" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="15592" class="Symbol">(λ</a> <a id="15595" href="Ledger.Utxo.Properties.html#15595" class="Bound">u</a> <a id="15597" class="Symbol">→</a> <a id="15599" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15604" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="15608" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15612" href="Ledger.Utxo.Properties.html#15595" class="Bound">u</a><a id="15613" class="Symbol">)</a> <a id="15615" class="Symbol">(</a><a id="15616" href="Data.Integer.Properties.html#19166" class="Function">ℤ.n⊖n≡0</a> <a id="15624" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a><a id="15628" class="Symbol">)</a> <a id="15630" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="15636" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15641" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="15645" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15649" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>          <a id="15663" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="15666" href="Data.Integer.Properties.html#26668" class="Function">ℤ.+-identityʳ</a> <a id="15680" class="Symbol">_</a> <a id="15682" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="15688" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15693" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="15697" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>

  <a id="15702" href="Ledger.Utxo.Properties.html#15702" class="Function">ref-tot-0</a> <a id="15712" class="Symbol">:</a> <a id="15714" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="15718" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="15720" class="Number">0</a> <a id="15722" class="Symbol">→</a> <a id="15724" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="15728" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15730" class="Number">0</a>
  <a id="15734" href="Ledger.Utxo.Properties.html#15702" class="Function">ref-tot-0</a> <a id="15744" href="Ledger.Utxo.Properties.html#15744" class="Bound">ref≢0</a> <a id="15750" class="Keyword">with</a> <a id="15755" href="Ledger.Utxo.Properties.html#13692" class="Function">Δdep</a>
  <a id="15762" class="Symbol">...</a> <a id="15766" class="Symbol">|</a> <a id="15768" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15773" href="Ledger.Utxo.Properties.html#15773" class="Bound">n</a>     <a id="15779" class="Symbol">=</a> <a id="15781" href="Data.Empty.html#1050" class="Function">⊥-elim</a> <a id="15788" class="Symbol">(</a><a id="15789" class="Bound">ref≢0</a> <a id="15795" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="15799" class="Symbol">)</a>
  <a id="15803" class="Symbol">...</a> <a id="15807" class="Symbol">|</a> <a id="15809" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="15818" href="Ledger.Utxo.Properties.html#15818" class="Bound">n</a> <a id="15820" class="Symbol">=</a> <a id="15822" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="15830" href="Ledger.Utxo.Properties.html#15830" class="Function">ref≤dep</a> <a id="15838" class="Symbol">:</a> <a id="15840" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="15844" href="Interface.HasOrder.html#301" class="Field Operator">≤</a> <a id="15846" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a>
  <a id="15852" href="Ledger.Utxo.Properties.html#15830" class="Function">ref≤dep</a> <a id="15860" class="Keyword">with</a> <a id="15865" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="15869" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="15871" class="Number">0</a>
  <a id="15875" href="Ledger.Utxo.Properties.html#15830" class="Function">...</a> <a id="15879" class="Symbol">|</a> <a id="15881" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="15884" href="Ledger.Utxo.Properties.html#15884" class="Bound">¬p</a> <a id="15887" class="Symbol">=</a> <a id="15889" href="Data.Nat.Properties.html#64822" class="Function">≤″⇒≤</a> <a id="15894" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15896" href="Data.Nat.Base.html#8264" class="InductiveConstructor">ℕ.less-than-or-equal</a> <a id="15917" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15919" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="15929" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="15933" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="15935" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15940" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="15943" href="Data.Nat.Properties.html#14883" class="Function">+-comm</a> <a id="15950" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="15954" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15959" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="15965" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="15970" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="15972" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="15976" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="15979" href="Ledger.Utxo.Properties.html#14897" class="Function">dep-ref</a> <a id="15987" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15989" href="Ledger.Utxo.Properties.html#15702" class="Function">ref-tot-0</a> <a id="15999" href="Ledger.Utxo.Properties.html#15884" class="Bound">¬p</a> <a id="16002" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="16008" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a>        <a id="16019" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>
  <a id="16023" href="Ledger.Utxo.Properties.html#15830" class="Function">...</a> <a id="16027" class="Symbol">|</a> <a id="16029" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="16033" href="Ledger.Utxo.Properties.html#16033" class="Bound">p</a> <a id="16035" class="Keyword">rewrite</a> <a id="16043" href="Ledger.Utxo.Properties.html#16033" class="Bound">p</a> <a id="16045" class="Symbol">=</a> <a id="16047" href="Data.Nat.Base.html#1714" class="InductiveConstructor">z≤n</a>

  <a id="16054" href="Ledger.Utxo.Properties.html#16054" class="Function">deposits-change</a> <a id="16070" class="Symbol">:</a> <a id="16072" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="16077" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16079" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="16083" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="16085" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="16089" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16091" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a>
  <a id="16097" href="Ledger.Utxo.Properties.html#16054" class="Function">deposits-change</a> <a id="16113" class="Symbol">=</a> <a id="16115" href="Data.Integer.Properties.html#2490" class="Function">ℤ.+-injective</a> <a id="16129" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16131" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="16141" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16146" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a>                                 <a id="16183" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="16187" href="Data.Integer.Properties.html#26668" class="Function">ℤ.+-identityʳ</a> <a id="16201" class="Symbol">_</a> <a id="16203" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="16209" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16214" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="16219" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16223" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>                        <a id="16251" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="16255" href="Tactic.Cong.html#8166" class="Macro">cong!</a> <a id="16261" class="Symbol">(</a><a id="16262" href="Data.Integer.Properties.html#30345" class="Function">ℤ.+-inverseˡ</a> <a id="16275" class="Symbol">(</a><a id="16276" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16281" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="16284" class="Symbol">))</a> <a id="16287" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="16293" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16298" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="16303" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16307" class="Symbol">(</a><a id="16308" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="16313" class="Symbol">(</a><a id="16314" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16319" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="16322" class="Symbol">)</a> <a id="16324" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16328" class="Symbol">(</a><a id="16329" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16334" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="16337" class="Symbol">))</a>
      <a id="16346" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="16350" href="Data.Integer.Properties.html#28332" class="Function">ℤ.+-assoc</a> <a id="16360" class="Symbol">(</a><a id="16361" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16366" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a><a id="16370" class="Symbol">)</a> <a id="16372" class="Symbol">(</a><a id="16373" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="16378" class="Symbol">(</a><a id="16379" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16384" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="16387" class="Symbol">))</a> <a id="16390" class="Symbol">(</a><a id="16391" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16396" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="16399" class="Symbol">)</a> <a id="16401" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="16407" class="Symbol">(</a><a id="16408" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16413" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="16418" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="16422" class="Symbol">(</a><a id="16423" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16428" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="16431" class="Symbol">))</a> <a id="16434" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16438" class="Symbol">(</a><a id="16439" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16444" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="16447" class="Symbol">)</a> <a id="16449" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="16452" href="Tactic.Cong.html#8166" class="Macro">cong!</a> <a id="16458" class="Symbol">(</a><a id="16459" href="Data.Integer.Properties.html#21110" class="Function">ℤ.m-n≡m⊖n</a> <a id="16469" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a> <a id="16474" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="16477" class="Symbol">)</a> <a id="16479" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="16485" href="Ledger.Utxo.Properties.html#13692" class="Function">Δdep</a> <a id="16490" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16494" class="Symbol">(</a><a id="16495" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16500" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="16503" class="Symbol">)</a>                       <a id="16527" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="16530" href="Data.Integer.Properties.html#26375" class="Function">ℤ.+-comm</a> <a id="16539" href="Ledger.Utxo.Properties.html#13692" class="Function">Δdep</a> <a id="16544" class="Symbol">(</a><a id="16545" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16550" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="16553" class="Symbol">)</a> <a id="16555" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="16561" class="Symbol">(</a><a id="16562" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16567" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="16570" class="Symbol">)</a> <a id="16572" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16576" href="Ledger.Utxo.Properties.html#13692" class="Function">Δdep</a>                       <a id="16603" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="16606" href="Tactic.Cong.html#8166" class="Macro">cong!</a> <a id="16612" href="Ledger.Utxo.Properties.html#14815" class="Function">deposits-change&#39;</a> <a id="16629" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="16635" class="Symbol">(</a><a id="16636" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16641" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="16644" class="Symbol">)</a> <a id="16646" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16650" class="Symbol">(</a><a id="16651" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="16655" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16657" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a><a id="16660" class="Symbol">)</a>                <a id="16677" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="16680" href="Data.Integer.Properties.html#27759" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="16699" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="16703" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="16707" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="16711" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="16717" class="Symbol">(</a><a id="16718" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="16722" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="16724" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a><a id="16727" class="Symbol">)</a> <a id="16729" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16731" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a>                         <a id="16759" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="16762" href="Data.Integer.Properties.html#19787" class="Function">ℤ.⊖-≥</a> <a id="16768" class="Symbol">(</a><a id="16769" href="Data.Nat.Properties.html#18316" class="Function">m≤n⇒m≤n+o</a> <a id="16779" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="16783" href="Ledger.Utxo.Properties.html#15830" class="Function">ref≤dep</a><a id="16790" class="Symbol">)</a> <a id="16792" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="16798" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16803" class="Symbol">(</a><a id="16804" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="16808" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="16810" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="16814" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16816" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a><a id="16819" class="Symbol">)</a> <a id="16821" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>

  <a id="16826" href="Ledger.Utxo.Properties.html#16826" class="Function">split-balance</a> <a id="16840" class="Symbol">:</a> <a id="16842" class="Symbol">∀</a> <a id="16844" href="Ledger.Utxo.Properties.html#16844" class="Bound">keys</a> <a id="16849" class="Symbol">→</a> <a id="16851" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="16860" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="16865" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16867" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="16876" class="Symbol">(</a><a id="16877" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="16882" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="16884" href="Ledger.Utxo.Properties.html#16844" class="Bound">keys</a> <a id="16889" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="16890" class="Symbol">)</a> <a id="16892" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="16894" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="16903" class="Symbol">(</a><a id="16904" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="16909" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="16911" href="Ledger.Utxo.Properties.html#16844" class="Bound">keys</a><a id="16915" class="Symbol">)</a>
  <a id="16919" href="Ledger.Utxo.Properties.html#16826" class="Function">split-balance</a> <a id="16933" href="Ledger.Utxo.Properties.html#16933" class="Bound">keys</a> <a id="16938" class="Symbol">=</a> <a id="16940" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
                      <a id="16968" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="16977" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a>
                        <a id="17006" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="17010" href="Ledger.Utxo.Properties.html#7801" class="Function">balance-cong-coin</a> <a id="17028" class="Symbol">{</a><a id="17029" class="Argument">utxo</a> <a id="17034" class="Symbol">=</a> <a id="17036" class="Symbol">(</a><a id="17037" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="17042" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="17044" href="Ledger.Utxo.Properties.html#16933" class="Bound">keys</a> <a id="17049" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="17050" class="Symbol">)</a> <a id="17052" href="Axiom.Set.Map.html#6390" class="Function Operator">∪ˡ</a> <a id="17055" class="Symbol">(</a><a id="17056" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="17061" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="17063" href="Ledger.Utxo.Properties.html#16933" class="Bound">keys</a><a id="17067" class="Symbol">)}{</a><a id="17070" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a><a id="17074" class="Symbol">}</a>
                          <a id="17102" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17104" href="Axiom.Set.Map.html#6562" class="Function">disjoint-∪ˡ-∪</a> <a id="17118" class="Symbol">(</a><a id="17119" href="Axiom.Set.Properties.html#12632" class="Function">disjoint-sym</a> <a id="17132" href="Axiom.Set.Rel.html#7925" class="Function">res-ex-disjoint</a><a id="17147" class="Symbol">)</a>
                          <a id="17175" href="Ledger.Utxo.Properties.html#17569" class="Function Operator">≡ᵉ-∘</a> <a id="17180" href="Axiom.Set.Properties.html#10345" class="Function">∪-sym</a>
                          <a id="17212" href="Ledger.Utxo.Properties.html#17569" class="Function Operator">≡ᵉ-∘</a> <a id="17217" href="Axiom.Set.Rel.html#7714" class="Function">res-ex-∪</a> <a id="17226" class="Symbol">(</a><a id="17227" href="Axiom.Set.html#10329" class="Function Operator">_∈?</a> <a id="17231" href="Ledger.Utxo.Properties.html#16933" class="Bound">keys</a><a id="17235" class="Symbol">)</a> <a id="17237" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
                      <a id="17261" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="17270" class="Symbol">((</a><a id="17272" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="17277" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="17279" href="Ledger.Utxo.Properties.html#16933" class="Bound">keys</a> <a id="17284" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="17285" class="Symbol">)</a> <a id="17287" href="Axiom.Set.Map.html#6390" class="Function Operator">∪ˡ</a> <a id="17290" class="Symbol">(</a><a id="17291" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="17296" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="17298" href="Ledger.Utxo.Properties.html#16933" class="Bound">keys</a><a id="17302" class="Symbol">))</a>
                        <a id="17329" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="17332" href="Ledger.Utxo.Properties.html#8044" class="Function">balance-∪</a> <a id="17342" class="Symbol">{</a><a id="17343" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="17348" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="17350" href="Ledger.Utxo.Properties.html#16933" class="Bound">keys</a> <a id="17355" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="17356" class="Symbol">}</a> <a id="17358" class="Symbol">{</a><a id="17359" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="17364" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="17366" href="Ledger.Utxo.Properties.html#16933" class="Bound">keys</a><a id="17370" class="Symbol">}</a> <a id="17372" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17374" href="Function.Base.html#1638" class="Function">flip</a> <a id="17379" href="Axiom.Set.Rel.html#7925" class="Function">res-ex-disjoint</a> <a id="17395" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
                      <a id="17419" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="17428" class="Symbol">(</a><a id="17429" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="17434" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="17436" href="Ledger.Utxo.Properties.html#16933" class="Bound">keys</a> <a id="17441" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="17442" class="Symbol">)</a> <a id="17444" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="17446" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="17455" class="Symbol">(</a><a id="17456" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="17461" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="17463" href="Ledger.Utxo.Properties.html#16933" class="Bound">keys</a><a id="17467" class="Symbol">)</a>
                        <a id="17493" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>
    <a id="17499" class="Keyword">where</a> <a id="17505" class="Keyword">open</a> <a id="17510" href="Relation.Binary.Structures.html#1550" class="Module">IsEquivalence</a> <a id="17524" href="Axiom.Set.Properties.html#3646" class="Function">≡ᵉ-isEquivalence</a> <a id="17541" class="Keyword">renaming</a> <a id="17550" class="Symbol">(</a><a id="17551" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="17557" class="Symbol">to</a> <a id="17560" class="Keyword">infixl</a> <a id="17567" class="Number">4</a> <a id="17569" class="Field">_≡ᵉ-∘_</a><a id="17575" class="Symbol">)</a>

  <a id="17580" class="Keyword">module</a> <a id="17587" href="Ledger.Utxo.Properties.html#17587" class="Module">_</a> <a id="17589" class="Symbol">(</a><a id="17590" href="Ledger.Utxo.Properties.html#17590" class="Bound">balanceUtxo</a> <a id="17602" href="Ledger.Utxo.Properties.html#17602" class="Bound">balanceIns</a> <a id="17613" href="Ledger.Utxo.Properties.html#17613" class="Bound">balanceNoIns</a> <a id="17626" href="Ledger.Utxo.Properties.html#17626" class="Bound">balanceOuts</a> <a id="17638" href="Ledger.Utxo.Properties.html#17638" class="Bound">balanceUtxo&#39;</a> <a id="17651" class="Symbol">:</a> <a id="17653" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="17657" class="Symbol">)</a>
           <a id="17670" class="Symbol">(</a><a id="17671" href="Ledger.Utxo.Properties.html#17671" class="Bound">ref</a> <a id="17675" href="Ledger.Utxo.Properties.html#17675" class="Bound">txfee</a> <a id="17681" href="Ledger.Utxo.Properties.html#17681" class="Bound">txdonation</a> <a id="17692" href="Ledger.Utxo.Properties.html#17692" class="Bound">tot</a> <a id="17696" class="Symbol">:</a> <a id="17698" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="17702" class="Symbol">)</a>
           <a id="17715" class="Symbol">(</a><a id="17716" href="Ledger.Utxo.Properties.html#17716" class="Bound">splitUtxo</a> <a id="17726" class="Symbol">:</a> <a id="17728" href="Ledger.Utxo.Properties.html#17590" class="Bound">balanceUtxo</a> <a id="17740" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="17742" href="Ledger.Utxo.Properties.html#17613" class="Bound">balanceNoIns</a> <a id="17755" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="17757" href="Ledger.Utxo.Properties.html#17602" class="Bound">balanceIns</a><a id="17767" class="Symbol">)</a>
           <a id="17780" class="Symbol">(</a><a id="17781" href="Ledger.Utxo.Properties.html#17781" class="Bound">splitUtxo&#39;</a> <a id="17792" class="Symbol">:</a> <a id="17794" href="Ledger.Utxo.Properties.html#17638" class="Bound">balanceUtxo&#39;</a> <a id="17807" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="17809" href="Ledger.Utxo.Properties.html#17613" class="Bound">balanceNoIns</a> <a id="17822" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="17824" href="Ledger.Utxo.Properties.html#17626" class="Bound">balanceOuts</a><a id="17835" class="Symbol">)</a>
           <a id="17848" class="Symbol">(</a><a id="17849" href="Ledger.Utxo.Properties.html#17849" class="Bound">balanced</a> <a id="17858" class="Symbol">:</a> <a id="17860" href="Ledger.Utxo.Properties.html#17602" class="Bound">balanceIns</a> <a id="17871" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="17873" href="Ledger.Utxo.Properties.html#17671" class="Bound">ref</a> <a id="17877" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="17879" href="Ledger.Utxo.Properties.html#17626" class="Bound">balanceOuts</a> <a id="17891" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="17893" href="Ledger.Utxo.Properties.html#17675" class="Bound">txfee</a> <a id="17899" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="17901" href="Ledger.Utxo.Properties.html#17692" class="Bound">tot</a> <a id="17905" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="17907" href="Ledger.Utxo.Properties.html#17681" class="Bound">txdonation</a><a id="17917" class="Symbol">)</a> <a id="17919" class="Keyword">where</a>

    <a id="17930" href="Ledger.Utxo.Properties.html#17930" class="Function">utxo-ref-prop-worker</a> <a id="17951" class="Symbol">:</a>
      <a id="17959" href="Ledger.Utxo.Properties.html#17590" class="Bound">balanceUtxo</a> <a id="17971" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="17973" href="Ledger.Utxo.Properties.html#17671" class="Bound">ref</a> <a id="17977" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="17979" href="Ledger.Utxo.Properties.html#17638" class="Bound">balanceUtxo&#39;</a> <a id="17992" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="17994" href="Ledger.Utxo.Properties.html#17675" class="Bound">txfee</a> <a id="18000" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="18002" href="Ledger.Utxo.Properties.html#17681" class="Bound">txdonation</a> <a id="18013" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="18015" href="Ledger.Utxo.Properties.html#17692" class="Bound">tot</a>
    <a id="18023" href="Ledger.Utxo.Properties.html#17930" class="Function">utxo-ref-prop-worker</a> <a id="18044" class="Symbol">=</a> <a id="18046" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
      <a id="18058" href="Ledger.Utxo.Properties.html#17590" class="Bound">balanceUtxo</a> <a id="18070" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="18072" href="Ledger.Utxo.Properties.html#17671" class="Bound">ref</a>
        <a id="18084" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="18087" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="18092" class="Symbol">(</a><a id="18093" href="Interface.HasAdd.html#135" class="Field Operator">_+</a> <a id="18096" href="Ledger.Utxo.Properties.html#17671" class="Bound">ref</a><a id="18099" class="Symbol">)</a> <a id="18101" href="Ledger.Utxo.Properties.html#17716" class="Bound">splitUtxo</a> <a id="18111" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="18119" href="Ledger.Utxo.Properties.html#17613" class="Bound">balanceNoIns</a> <a id="18132" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18136" href="Ledger.Utxo.Properties.html#17602" class="Bound">balanceIns</a> <a id="18147" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18151" href="Ledger.Utxo.Properties.html#17671" class="Bound">ref</a>
        <a id="18163" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
      <a id="18174" href="Ledger.Utxo.Properties.html#17613" class="Bound">balanceNoIns</a> <a id="18187" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18191" class="Symbol">(</a><a id="18192" href="Ledger.Utxo.Properties.html#17602" class="Bound">balanceIns</a> <a id="18203" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18207" href="Ledger.Utxo.Properties.html#17671" class="Bound">ref</a><a id="18210" class="Symbol">)</a>
        <a id="18220" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="18223" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="18228" class="Symbol">(</a><a id="18229" href="Ledger.Utxo.Properties.html#17613" class="Bound">balanceNoIns</a> <a id="18242" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="18244" class="Symbol">)</a> <a id="18246" href="Ledger.Utxo.Properties.html#17849" class="Bound">balanced</a> <a id="18255" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="18263" href="Ledger.Utxo.Properties.html#17613" class="Bound">balanceNoIns</a> <a id="18276" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18280" class="Symbol">(</a><a id="18281" href="Ledger.Utxo.Properties.html#17626" class="Bound">balanceOuts</a> <a id="18293" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18297" href="Ledger.Utxo.Properties.html#17675" class="Bound">txfee</a> <a id="18303" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18307" href="Ledger.Utxo.Properties.html#17692" class="Bound">tot</a> <a id="18311" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18315" href="Ledger.Utxo.Properties.html#17681" class="Bound">txdonation</a><a id="18325" class="Symbol">)</a>
        <a id="18335" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
      <a id="18346" class="Symbol">(</a><a id="18347" href="Ledger.Utxo.Properties.html#17613" class="Bound">balanceNoIns</a> <a id="18360" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18364" href="Ledger.Utxo.Properties.html#17626" class="Bound">balanceOuts</a> <a id="18376" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18380" href="Ledger.Utxo.Properties.html#17675" class="Bound">txfee</a><a id="18385" class="Symbol">)</a> <a id="18387" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18391" href="Ledger.Utxo.Properties.html#17692" class="Bound">tot</a> <a id="18395" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18399" href="Ledger.Utxo.Properties.html#17681" class="Bound">txdonation</a>
        <a id="18418" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="18422" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="18427" class="Symbol">(λ</a> <a id="18430" href="Ledger.Utxo.Properties.html#18430" class="Bound">x</a> <a id="18432" class="Symbol">→</a> <a id="18434" class="Symbol">(</a><a id="18435" href="Ledger.Utxo.Properties.html#18430" class="Bound">x</a> <a id="18437" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="18439" href="Ledger.Utxo.Properties.html#17675" class="Bound">txfee</a><a id="18444" class="Symbol">)</a> <a id="18446" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="18448" href="Ledger.Utxo.Properties.html#17692" class="Bound">tot</a> <a id="18452" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="18454" href="Ledger.Utxo.Properties.html#17681" class="Bound">txdonation</a><a id="18464" class="Symbol">)</a> <a id="18466" href="Ledger.Utxo.Properties.html#17781" class="Bound">splitUtxo&#39;</a> <a id="18477" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
      <a id="18485" class="Symbol">(</a><a id="18486" href="Ledger.Utxo.Properties.html#17638" class="Bound">balanceUtxo&#39;</a> <a id="18499" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18503" href="Ledger.Utxo.Properties.html#17675" class="Bound">txfee</a><a id="18508" class="Symbol">)</a> <a id="18510" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18514" href="Ledger.Utxo.Properties.html#17692" class="Bound">tot</a> <a id="18518" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18522" href="Ledger.Utxo.Properties.html#17681" class="Bound">txdonation</a>
        <a id="18541" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
      <a id="18552" href="Ledger.Utxo.Properties.html#17638" class="Bound">balanceUtxo&#39;</a> <a id="18565" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18569" href="Ledger.Utxo.Properties.html#17675" class="Bound">txfee</a> <a id="18575" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18579" class="Symbol">(</a><a id="18580" href="Ledger.Utxo.Properties.html#17692" class="Bound">tot</a> <a id="18584" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18588" href="Ledger.Utxo.Properties.html#17681" class="Bound">txdonation</a><a id="18598" class="Symbol">)</a>
        <a id="18608" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="18611" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="18616" class="Symbol">(</a><a id="18617" href="Ledger.Utxo.Properties.html#17638" class="Bound">balanceUtxo&#39;</a> <a id="18630" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="18632" href="Ledger.Utxo.Properties.html#17675" class="Bound">txfee</a> <a id="18638" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="18640" class="Symbol">)</a> <a id="18642" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="18644" href="Data.Nat.Properties.html#14883" class="Function">+-comm</a> <a id="18651" href="Ledger.Utxo.Properties.html#17692" class="Bound">tot</a> <a id="18655" href="Ledger.Utxo.Properties.html#17681" class="Bound">txdonation</a> <a id="18666" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="18674" href="Ledger.Utxo.Properties.html#17638" class="Bound">balanceUtxo&#39;</a> <a id="18687" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18691" href="Ledger.Utxo.Properties.html#17675" class="Bound">txfee</a> <a id="18697" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18701" class="Symbol">(</a><a id="18702" href="Ledger.Utxo.Properties.html#17681" class="Bound">txdonation</a> <a id="18713" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18717" href="Ledger.Utxo.Properties.html#17692" class="Bound">tot</a><a id="18720" class="Symbol">)</a>
        <a id="18730" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
      <a id="18741" class="Symbol">(</a><a id="18742" href="Ledger.Utxo.Properties.html#17638" class="Bound">balanceUtxo&#39;</a> <a id="18755" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18759" href="Ledger.Utxo.Properties.html#17675" class="Bound">txfee</a><a id="18764" class="Symbol">)</a> <a id="18766" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18770" href="Ledger.Utxo.Properties.html#17681" class="Bound">txdonation</a> <a id="18781" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18785" href="Ledger.Utxo.Properties.html#17692" class="Bound">tot</a>
        <a id="18797" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>

  <a id="18802" href="Ledger.Utxo.Properties.html#18802" class="Function">utxo-ref-prop</a> <a id="18816" class="Symbol">:</a>
    <a id="18822" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="18831" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="18836" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="18838" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="18842" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>
    <a id="18848" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="18857" class="Symbol">((</a><a id="18859" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="18864" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="18866" href="Ledger.Transaction.html#4216" class="Function">txins</a> <a id="18872" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="18873" class="Symbol">)</a> <a id="18875" href="Axiom.Set.Map.html#6390" class="Function Operator">∪ˡ</a> <a id="18878" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="18883" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a><a id="18886" class="Symbol">)</a> <a id="18888" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="18890" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="18896" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="18898" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="18909" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="18911" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a>
  <a id="18917" href="Ledger.Utxo.Properties.html#18802" class="Function">utxo-ref-prop</a> <a id="18931" class="Symbol">=</a> <a id="18933" href="Ledger.Utxo.Properties.html#17930" class="Function">utxo-ref-prop-worker</a>
                    <a id="18974" class="Symbol">(</a><a id="18975" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="18984" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a><a id="18988" class="Symbol">)</a>
                    <a id="19010" class="Symbol">(</a><a id="19011" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="19020" class="Symbol">(</a><a id="19021" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="19026" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="19028" href="Ledger.Transaction.html#4216" class="Function">txins</a><a id="19033" class="Symbol">))</a>
                    <a id="19056" class="Symbol">(</a><a id="19057" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="19066" class="Symbol">(</a><a id="19067" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="19072" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="19074" href="Ledger.Transaction.html#4216" class="Function">txins</a> <a id="19080" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="19081" class="Symbol">))</a>
                    <a id="19104" class="Symbol">(</a><a id="19105" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="19114" class="Symbol">(</a><a id="19115" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="19120" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a><a id="19123" class="Symbol">))</a>
                    <a id="19146" class="Symbol">(</a><a id="19147" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="19156" class="Symbol">((</a><a id="19158" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="19163" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="19165" href="Ledger.Transaction.html#4216" class="Function">txins</a> <a id="19171" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="19172" class="Symbol">)</a> <a id="19174" href="Axiom.Set.Map.html#6390" class="Function Operator">∪ˡ</a> <a id="19177" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="19182" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a><a id="19185" class="Symbol">))</a>
                    <a id="19208" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="19212" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="19218" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="19229" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a>
                    <a id="19253" class="Symbol">(</a><a id="19254" href="Ledger.Utxo.Properties.html#16826" class="Function">split-balance</a> <a id="19268" href="Ledger.Transaction.html#4216" class="Function">txins</a><a id="19273" class="Symbol">)</a>
                    <a id="19295" class="Symbol">(</a><a id="19296" href="Ledger.Utxo.Properties.html#8044" class="Function">balance-∪</a> <a id="19306" class="Symbol">{</a><a id="19307" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="19312" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="19314" href="Ledger.Transaction.html#4216" class="Function">txins</a> <a id="19320" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="19321" class="Symbol">}</a> <a id="19323" class="Symbol">{</a><a id="19324" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="19329" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a><a id="19332" class="Symbol">}</a> <a id="19334" href="Ledger.Utxo.Properties.html#13920" class="Function">h</a><a id="19335" class="Symbol">)</a>
                    <a id="19357" class="Symbol">(</a><a id="19358" href="Ledger.Utxo.Properties.html#11975" class="Function">balValueToCoin</a> <a id="19373" class="Symbol">{</a><a id="19374" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a><a id="19377" class="Symbol">}</a> <a id="19379" class="Symbol">{</a><a id="19380" href="Ledger.Utxo.Properties.html#13747" class="Function">utxoSt</a><a id="19386" class="Symbol">}</a> <a id="19388" class="Symbol">{</a><a id="19389" href="Ledger.Utxo.html#5102" class="Field">UTxOEnv.pparams</a> <a id="19405" href="Ledger.Utxo.Properties.html#13008" class="Bound">Γ</a><a id="19406" class="Symbol">}</a> <a id="19408" href="Ledger.Utxo.Properties.html#14694" class="Function">noMintAda</a> <a id="19418" href="Ledger.Utxo.Properties.html#14360" class="Function">newBal</a><a id="19424" class="Symbol">)</a>

  <a id="19429" href="Ledger.Utxo.Properties.html#19429" class="Function">rearrange0</a> <a id="19440" class="Symbol">:</a>
      <a id="19448" class="Symbol">(</a><a id="19449" href="Ledger.Utxo.Properties.html#19449" class="Bound">bal</a> <a id="19453" class="Symbol">:</a> <a id="19455" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="19456" class="Symbol">)</a>
    <a id="19462" class="Symbol">→</a> <a id="19464" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="19474" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="19476" href="Ledger.Utxo.html#7587" class="Function">updateDeposits</a> <a id="19491" href="Ledger.Utxo.Properties.html#13538" class="Function">pp</a> <a id="19494" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a> <a id="19498" href="Ledger.Utxo.Properties.html#12860" class="Bound">deposits</a>
    <a id="19511" class="Symbol">→</a> <a id="19513" href="Ledger.Utxo.Properties.html#19449" class="Bound">bal</a> <a id="19517" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="19519" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="19525" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="19527" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="19538" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="19540" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="19544" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="19546" class="Symbol">(</a><a id="19547" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a> <a id="19557" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="19559" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a><a id="19563" class="Symbol">)</a>
    <a id="19569" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="19571" href="Ledger.Utxo.Properties.html#19449" class="Bound">bal</a> <a id="19575" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="19577" class="Symbol">(</a><a id="19578" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="19583" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="19585" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="19591" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="19593" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="19601" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="19611" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="19613" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="19623" class="Symbol">)</a>
  <a id="19627" href="Ledger.Utxo.Properties.html#19429" class="Function">rearrange0</a> <a id="19638" href="Ledger.Utxo.Properties.html#19638" class="Bound">bal</a> <a id="19642" href="Ledger.Utxo.Properties.html#19642" class="Bound">h</a> <a id="19644" class="Symbol">=</a> <a id="19646" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="19656" href="Ledger.Utxo.Properties.html#19638" class="Bound">bal</a> <a id="19660" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19664" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="19670" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19674" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="19685" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19689" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="19693" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19697" class="Symbol">(</a><a id="19698" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a> <a id="19708" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19712" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a><a id="19716" class="Symbol">)</a>
      <a id="19724" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
    <a id="19733" href="Ledger.Utxo.Properties.html#19638" class="Bound">bal</a> <a id="19737" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19741" class="Symbol">(</a><a id="19742" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="19748" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19752" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="19763" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19767" class="Symbol">(</a><a id="19768" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="19772" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19776" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a><a id="19785" class="Symbol">)</a> <a id="19787" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19791" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a><a id="19795" class="Symbol">)</a>
      <a id="19803" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="19806" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="19811" class="Symbol">(</a><a id="19812" href="Ledger.Utxo.Properties.html#19638" class="Bound">bal</a> <a id="19816" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="19818" class="Symbol">)</a> <a id="19820" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="19822" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
        <a id="19836" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="19842" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="19844" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="19855" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="19857" class="Symbol">(</a><a id="19858" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="19862" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="19864" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a><a id="19873" class="Symbol">)</a> <a id="19875" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="19877" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a>
          <a id="19892" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="19895" href="Data.Nat.Properties.html#14883" class="Function">+-comm</a> <a id="19902" class="Symbol">_</a> <a id="19904" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="19909" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="19919" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="19924" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19928" class="Symbol">(</a><a id="19929" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="19935" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19939" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="19950" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19954" class="Symbol">(</a><a id="19955" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="19959" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19963" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a><a id="19972" class="Symbol">))</a>
          <a id="19985" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
        <a id="19998" class="Symbol">(</a><a id="19999" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="20004" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20008" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="20013" class="Symbol">)</a> <a id="20015" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20019" class="Symbol">(</a><a id="20020" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="20031" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20035" class="Symbol">(</a><a id="20036" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="20040" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20044" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a><a id="20053" class="Symbol">))</a>
          <a id="20066" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="20069" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="20074" class="Symbol">((</a><a id="20076" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="20081" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20083" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="20088" class="Symbol">)</a> <a id="20090" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="20092" class="Symbol">)</a> <a id="20094" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20096" href="Data.Nat.Properties.html#14883" class="Function">+-comm</a> <a id="20103" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="20114" class="Symbol">(</a><a id="20115" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="20119" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20121" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a><a id="20130" class="Symbol">)</a> <a id="20132" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="20142" class="Symbol">(</a><a id="20143" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="20148" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20150" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="20155" class="Symbol">)</a> <a id="20157" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20161" class="Symbol">((</a><a id="20163" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="20167" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20169" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a><a id="20178" class="Symbol">)</a> <a id="20180" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20184" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="20194" class="Symbol">)</a>
          <a id="20206" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
        <a id="20219" class="Symbol">(</a><a id="20220" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="20225" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20227" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="20232" class="Symbol">)</a> <a id="20234" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20238" class="Symbol">(</a><a id="20239" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="20243" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20245" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a><a id="20254" class="Symbol">)</a> <a id="20256" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20260" href="Ledger.Transaction.html#4552" class="Function">txdonation</a>
          <a id="20281" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="20284" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="20289" class="Symbol">(λ</a> <a id="20292" href="Ledger.Utxo.Properties.html#20292" class="Bound">x</a> <a id="20294" class="Symbol">→</a> <a id="20296" class="Symbol">(</a><a id="20297" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="20302" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20304" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="20309" class="Symbol">)</a> <a id="20311" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20313" href="Ledger.Utxo.Properties.html#20292" class="Bound">x</a> <a id="20315" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20317" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="20327" class="Symbol">)</a>
          <a id="20339" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20341" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a> <a id="20347" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="20351" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20353" class="Symbol">(</a><a id="20354" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="20358" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="20360" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a><a id="20363" class="Symbol">)</a> <a id="20365" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="20369" href="Data.Nat.Properties.html#49340" class="Function">+-∸-assoc</a> <a id="20379" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="20383" href="Ledger.Utxo.Properties.html#15830" class="Function">ref≤dep</a> <a id="20391" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
                  <a id="20411" class="Symbol">(</a><a id="20412" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="20416" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20418" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a><a id="20421" class="Symbol">)</a> <a id="20423" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="20425" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="20429" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="20432" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="20437" class="Symbol">(</a><a id="20438" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="20441" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a><a id="20444" class="Symbol">)</a> <a id="20446" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20448" href="Data.Nat.Properties.html#14883" class="Function">+-comm</a> <a id="20455" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="20459" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="20463" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
                  <a id="20483" class="Symbol">(</a><a id="20484" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="20488" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20490" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a><a id="20493" class="Symbol">)</a> <a id="20495" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="20497" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="20501" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="20505" href="Ledger.Utxo.Properties.html#16054" class="Function">deposits-change</a> <a id="20521" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
                  <a id="20541" href="Ledger.Utxo.Properties.html#13624" class="Function">uDep</a>              <a id="20559" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="20562" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="20567" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="20575" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20577" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="20581" href="Ledger.Utxo.Properties.html#19642" class="Bound">h</a> <a id="20583" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
                  <a id="20603" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="20611" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="20621" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="20623" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="20633" class="Symbol">(</a><a id="20634" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="20639" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20641" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="20646" class="Symbol">)</a> <a id="20648" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20650" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="20658" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="20668" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20670" href="Ledger.Transaction.html#4552" class="Function">txdonation</a>
          <a id="20691" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="20693" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="20699" href="Ledger.Utxo.Properties.html#19638" class="Bound">bal</a> <a id="20703" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20705" class="Symbol">((</a><a id="20707" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="20712" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20714" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="20719" class="Symbol">)</a> <a id="20721" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20723" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="20731" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="20741" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20743" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="20753" class="Symbol">)</a>
      <a id="20761" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>

  <a id="20766" class="Keyword">module</a> <a id="20773" href="Ledger.Utxo.Properties.html#20773" class="Module">_</a> <a id="20775" class="Symbol">(</a><a id="20776" href="Ledger.Utxo.Properties.html#20776" class="Bound">balanceUtxo</a> <a id="20788" href="Ledger.Utxo.Properties.html#20788" class="Bound">balanceUtxo&#39;</a> <a id="20801" class="Symbol">:</a> <a id="20803" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="20807" class="Symbol">)</a>
           <a id="20820" class="Symbol">(</a><a id="20821" href="Ledger.Utxo.Properties.html#20821" class="Bound">ref-prop</a> <a id="20830" class="Symbol">:</a> <a id="20832" href="Ledger.Utxo.Properties.html#20776" class="Bound">balanceUtxo</a> <a id="20844" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20846" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="20850" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20852" href="Ledger.Utxo.Properties.html#20788" class="Bound">balanceUtxo&#39;</a> <a id="20865" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20867" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="20873" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20875" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="20886" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="20888" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a><a id="20891" class="Symbol">)</a>
           <a id="20904" class="Symbol">(</a><a id="20905" href="Ledger.Utxo.Properties.html#20905" class="Bound">h</a> <a id="20907" class="Symbol">:</a> <a id="20909" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="20919" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20921" href="Ledger.Utxo.html#7587" class="Function">updateDeposits</a> <a id="20936" href="Ledger.Utxo.Properties.html#13538" class="Function">pp</a> <a id="20939" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a> <a id="20943" href="Ledger.Utxo.Properties.html#12860" class="Bound">deposits</a><a id="20951" class="Symbol">)</a>
           <a id="20964" class="Keyword">where</a>

    <a id="20975" href="Ledger.Utxo.Properties.html#20975" class="Function">pov-scripts-worker</a> <a id="20994" class="Symbol">:</a> <a id="20996" href="Ledger.Utxo.Properties.html#20776" class="Bound">balanceUtxo</a> <a id="21008" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21010" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="21015" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21017" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="21021" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21023" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a> <a id="21033" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>
                         <a id="21060" href="Ledger.Utxo.Properties.html#20788" class="Bound">balanceUtxo&#39;</a> <a id="21073" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21075" class="Symbol">(</a><a id="21076" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="21081" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21083" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="21088" class="Symbol">)</a> <a id="21090" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21092" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21100" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="21110" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21112" class="Symbol">(</a><a id="21113" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a> <a id="21123" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21125" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="21135" class="Symbol">)</a>
    <a id="21141" href="Ledger.Utxo.Properties.html#20975" class="Function">pov-scripts-worker</a> <a id="21160" class="Symbol">=</a> <a id="21162" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
      <a id="21174" href="Ledger.Utxo.Properties.html#20776" class="Bound">balanceUtxo</a> <a id="21186" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21188" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="21193" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21195" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="21199" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21201" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a>
        <a id="21219" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="21222" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="21227" class="Symbol">(</a><a id="21228" href="Interface.HasAdd.html#135" class="Field Operator">_+</a> <a id="21231" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a><a id="21240" class="Symbol">)</a>
        <a id="21250" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21252" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
            <a id="21270" href="Ledger.Utxo.Properties.html#20776" class="Bound">balanceUtxo</a> <a id="21282" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21286" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="21291" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21295" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a>
              <a id="21313" href="Tactic.EquationalReasoning.html#665" class="Function">≡tˡ⟨</a> <a id="21318" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="21323" class="Symbol">(</a><a id="21324" href="Ledger.Utxo.Properties.html#20776" class="Bound">balanceUtxo</a> <a id="21336" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+_</a><a id="21340" class="Symbol">)</a> <a id="21342" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21344" href="Data.Nat.Properties.html#14883" class="Function">+-comm</a> <a id="21351" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="21356" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="21360" href="Tactic.EquationalReasoning.html#665" class="Function">⟩</a>
            <a id="21374" href="Ledger.Utxo.Properties.html#20776" class="Bound">balanceUtxo</a> <a id="21386" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21390" class="Symbol">(</a><a id="21391" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="21395" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21399" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a><a id="21403" class="Symbol">)</a>
              <a id="21419" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="21423" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="21428" class="Symbol">(λ</a> <a id="21431" href="Ledger.Utxo.Properties.html#21431" class="Bound">x</a> <a id="21433" class="Symbol">→</a> <a id="21435" href="Ledger.Utxo.Properties.html#20776" class="Bound">balanceUtxo</a> <a id="21447" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21449" class="Symbol">(</a><a id="21450" href="Ledger.Utxo.Properties.html#21431" class="Bound">x</a> <a id="21452" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21454" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a><a id="21458" class="Symbol">))</a> <a id="21461" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21463" href="Data.Nat.Properties.html#50515" class="Function">m+[n∸m]≡n</a> <a id="21473" href="Ledger.Utxo.Properties.html#15830" class="Function">ref≤dep</a> <a id="21481" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
            <a id="21495" href="Ledger.Utxo.Properties.html#20776" class="Bound">balanceUtxo</a> <a id="21507" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21511" class="Symbol">((</a><a id="21513" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="21517" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21521" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a><a id="21530" class="Symbol">)</a> <a id="21532" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21536" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a><a id="21540" class="Symbol">)</a>
              <a id="21556" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
            <a id="21573" href="Ledger.Utxo.Properties.html#20776" class="Bound">balanceUtxo</a> <a id="21585" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21589" href="Ledger.Utxo.Properties.html#13823" class="Function">ref</a> <a id="21593" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21597" class="Symbol">(</a><a id="21598" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a> <a id="21608" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21612" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a><a id="21616" class="Symbol">)</a>
              <a id="21632" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="21635" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="21640" class="Symbol">(</a><a id="21641" href="Interface.HasAdd.html#135" class="Field Operator">_+</a> <a id="21644" class="Symbol">(</a><a id="21645" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a> <a id="21655" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21657" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a><a id="21661" class="Symbol">))</a> <a id="21664" href="Ledger.Utxo.Properties.html#20821" class="Bound">ref-prop</a> <a id="21673" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
            <a id="21687" class="Symbol">(</a><a id="21688" href="Ledger.Utxo.Properties.html#20788" class="Bound">balanceUtxo&#39;</a> <a id="21701" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21705" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="21710" class="Symbol">)</a> <a id="21712" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21716" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="21727" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21731" href="Ledger.Utxo.Properties.html#13827" class="Function">tot</a> <a id="21735" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21739" class="Symbol">(</a><a id="21740" href="Ledger.Utxo.Properties.html#14756" class="Function">remDepTot</a> <a id="21750" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21754" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a><a id="21758" class="Symbol">)</a>
              <a id="21774" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="21777" href="Ledger.Utxo.Properties.html#19429" class="Function">rearrange0</a> <a id="21788" class="Symbol">(</a><a id="21789" href="Ledger.Utxo.Properties.html#20788" class="Bound">balanceUtxo&#39;</a><a id="21801" class="Symbol">)</a> <a id="21803" href="Ledger.Utxo.Properties.html#20905" class="Bound">h</a> <a id="21805" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
            <a id="21819" href="Ledger.Utxo.Properties.html#20788" class="Bound">balanceUtxo&#39;</a> <a id="21832" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21834" class="Symbol">(</a><a id="21835" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="21840" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21842" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="21848" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21850" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21858" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="21868" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21870" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="21880" class="Symbol">)</a>
              <a id="21896" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a> <a id="21898" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="21906" href="Ledger.Utxo.Properties.html#20788" class="Bound">balanceUtxo&#39;</a> <a id="21919" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21923" class="Symbol">(</a><a id="21924" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="21929" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="21931" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="21937" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21941" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21949" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="21959" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21963" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="21973" class="Symbol">)</a> <a id="21975" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21979" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a>
        <a id="21997" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
      <a id="22008" href="Ledger.Utxo.Properties.html#20788" class="Bound">balanceUtxo&#39;</a> <a id="22021" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="22025" class="Symbol">(</a><a id="22026" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="22031" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22033" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="22038" class="Symbol">)</a> <a id="22040" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="22044" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="22052" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="22062" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="22066" class="Symbol">(</a><a id="22067" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="22078" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="22082" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a><a id="22091" class="Symbol">)</a>
        <a id="22101" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="22104" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="22109" class="Symbol">(</a><a id="22110" href="Ledger.Utxo.Properties.html#20788" class="Bound">balanceUtxo&#39;</a> <a id="22123" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22125" class="Symbol">(</a><a id="22126" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="22131" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22133" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="22138" class="Symbol">)</a> <a id="22140" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22142" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="22150" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="22160" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+_</a><a id="22164" class="Symbol">)</a>
         <a id="22175" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="22177" href="Data.Nat.Properties.html#14883" class="Function">+-comm</a> <a id="22184" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="22195" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a> <a id="22205" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
      <a id="22213" href="Ledger.Utxo.Properties.html#20788" class="Bound">balanceUtxo&#39;</a> <a id="22226" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22228" class="Symbol">(</a><a id="22229" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="22234" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22236" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="22241" class="Symbol">)</a> <a id="22243" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22245" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="22253" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="22263" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22265" class="Symbol">(</a><a id="22266" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a> <a id="22276" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22278" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="22288" class="Symbol">)</a>
        <a id="22298" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>

  <a id="22303" href="Ledger.Utxo.Properties.html#22303" class="Function">pov-scripts</a> <a id="22315" class="Symbol">:</a> <a id="22317" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="22327" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="22329" href="Ledger.Utxo.html#7587" class="Function">updateDeposits</a> <a id="22344" href="Ledger.Utxo.Properties.html#13538" class="Function">pp</a> <a id="22347" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a> <a id="22351" href="Ledger.Utxo.Properties.html#12860" class="Bound">deposits</a>
              <a id="22374" class="Symbol">→</a> <a id="22376" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="22385" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="22390" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22392" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="22397" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22399" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="22403" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22405" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a>
                 <a id="22432" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="22434" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="22443" class="Symbol">((</a><a id="22445" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="22450" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="22452" href="Ledger.Transaction.html#4216" class="Function">txins</a> <a id="22458" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="22459" class="Symbol">)</a> <a id="22461" href="Axiom.Set.Map.html#6390" class="Function Operator">∪ˡ</a> <a id="22464" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="22469" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a><a id="22472" class="Symbol">)</a>
                   <a id="22493" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22495" class="Symbol">(</a><a id="22496" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="22501" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22503" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="22508" class="Symbol">)</a> <a id="22510" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22512" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="22520" href="Ledger.Utxo.Properties.html#12869" class="Bound">deposits&#39;</a> <a id="22530" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22532" class="Symbol">(</a><a id="22533" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a> <a id="22543" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22545" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="22555" class="Symbol">)</a>
  <a id="22559" href="Ledger.Utxo.Properties.html#22303" class="Function">pov-scripts</a> <a id="22571" href="Ledger.Utxo.Properties.html#22571" class="Bound">h</a> <a id="22573" class="Symbol">=</a> <a id="22575" href="Ledger.Utxo.Properties.html#20975" class="Function">pov-scripts-worker</a> <a id="22594" class="Symbol">(</a><a id="22595" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="22604" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a><a id="22608" class="Symbol">)</a> <a id="22610" class="Symbol">(</a><a id="22611" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="22620" class="Symbol">((</a><a id="22622" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="22627" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="22629" href="Ledger.Transaction.html#4216" class="Function">txins</a> <a id="22635" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="22636" class="Symbol">)</a> <a id="22638" href="Axiom.Set.Map.html#6390" class="Function Operator">∪ˡ</a> <a id="22641" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="22646" href="Ledger.Utxo.Properties.html#12982" class="Field">txb</a><a id="22649" class="Symbol">))</a>
                                     <a id="22689" href="Ledger.Utxo.Properties.html#18802" class="Function">utxo-ref-prop</a> <a id="22703" href="Ledger.Utxo.Properties.html#22571" class="Bound">h</a>

  <a id="22708" href="Ledger.Utxo.Properties.html#22708" class="Function">pov-no-scripts</a> <a id="22723" class="Symbol">:</a> <a id="22725" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="22734" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="22739" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22741" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="22746" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22748" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="22752" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22754" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a> <a id="22764" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>
                   <a id="22785" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="22794" class="Symbol">(</a><a id="22795" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="22800" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="22802" href="Ledger.Transaction.html#4776" class="Function">collateral</a> <a id="22813" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="22814" class="Symbol">)</a> <a id="22816" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22818" class="Symbol">(</a><a id="22819" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="22824" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22826" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="22835" class="Symbol">(</a><a id="22836" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="22841" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="22843" href="Ledger.Transaction.html#4776" class="Function">collateral</a><a id="22853" class="Symbol">))</a> <a id="22856" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22858" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="22862" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22864" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a>
  <a id="22876" href="Ledger.Utxo.Properties.html#22708" class="Function">pov-no-scripts</a> <a id="22891" class="Symbol">=</a> <a id="22893" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="22898" class="Symbol">(λ</a> <a id="22901" href="Ledger.Utxo.Properties.html#22901" class="Bound">x</a> <a id="22903" class="Symbol">→</a> <a id="22905" href="Ledger.Utxo.Properties.html#22901" class="Bound">x</a> <a id="22907" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22909" href="Ledger.Utxo.Properties.html#13582" class="Function">dep</a> <a id="22913" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="22915" href="Ledger.Utxo.Properties.html#12907" class="Bound">donations</a><a id="22924" class="Symbol">)</a> <a id="22926" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="22928" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="22938" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="22947" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="22952" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="22956" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a>
      <a id="22967" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="22970" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="22975" class="Symbol">(</a><a id="22976" href="Interface.HasAdd.html#135" class="Field Operator">_+</a> <a id="22979" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a><a id="22983" class="Symbol">)</a> <a id="22985" class="Symbol">(</a><a id="22986" href="Ledger.Utxo.Properties.html#16826" class="Function">split-balance</a> <a id="23000" href="Ledger.Transaction.html#4776" class="Function">collateral</a><a id="23010" class="Symbol">)</a> <a id="23012" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="23018" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="23027" class="Symbol">(</a><a id="23028" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="23033" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="23035" href="Ledger.Transaction.html#4776" class="Function">collateral</a> <a id="23046" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="23047" class="Symbol">)</a> <a id="23049" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="23053" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="23062" class="Symbol">(</a><a id="23063" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="23068" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="23070" href="Ledger.Transaction.html#4776" class="Function">collateral</a><a id="23080" class="Symbol">)</a> <a id="23082" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="23086" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a>
      <a id="23097" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
    <a id="23106" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="23115" class="Symbol">(</a><a id="23116" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="23121" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="23123" href="Ledger.Transaction.html#4776" class="Function">collateral</a> <a id="23134" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="23135" class="Symbol">)</a> <a id="23137" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="23141" class="Symbol">(</a><a id="23142" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="23151" class="Symbol">(</a><a id="23152" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="23157" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="23159" href="Ledger.Transaction.html#4776" class="Function">collateral</a><a id="23169" class="Symbol">)</a> <a id="23171" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="23175" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a><a id="23179" class="Symbol">)</a>
      <a id="23187" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="23190" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="23195" class="Symbol">(</a><a id="23196" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="23205" class="Symbol">(</a><a id="23206" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="23211" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="23213" href="Ledger.Transaction.html#4776" class="Function">collateral</a> <a id="23224" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="23225" class="Symbol">)</a> <a id="23227" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="23229" class="Symbol">)</a> <a id="23231" class="Symbol">(</a><a id="23232" href="Data.Nat.Properties.html#14883" class="Function">+-comm</a> <a id="23239" class="Symbol">_</a> <a id="23241" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a><a id="23245" class="Symbol">)</a> <a id="23247" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="23253" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="23262" class="Symbol">(</a><a id="23263" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="23268" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="23270" href="Ledger.Transaction.html#4776" class="Function">collateral</a> <a id="23281" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="23282" class="Symbol">)</a> <a id="23284" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="23288" class="Symbol">(</a><a id="23289" href="Ledger.Utxo.Properties.html#12838" class="Bound">fees</a> <a id="23294" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="23298" href="Ledger.Utxo.html#6029" class="Function">cbalance</a> <a id="23307" class="Symbol">(</a><a id="23308" href="Ledger.Utxo.Properties.html#12816" class="Bound">utxo</a> <a id="23313" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="23315" href="Ledger.Transaction.html#4776" class="Function">collateral</a><a id="23325" class="Symbol">))</a>
      <a id="23334" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>
<a id="23336" class="Markup">\end{code}</a><a id="23346" class="Background">

Here, we state the fact that the UTxO relation is computable.

\begin{figure*}[h]
</a><a id="23430" class="Markup">\begin{code}</a>
<a id="UTXO-step"></a><a id="23443" href="Ledger.Utxo.Properties.html#23443" class="Function">UTXO-step</a> <a id="23453" class="Symbol">:</a> <a id="23455" href="Ledger.Utxo.html#4994" class="Record">UTxOEnv</a> <a id="23463" class="Symbol">→</a> <a id="23465" href="Ledger.Utxo.html#5208" class="Record">UTxOState</a> <a id="23475" class="Symbol">→</a> <a id="23477" href="Ledger.Transaction.html#5227" class="Record">Tx</a> <a id="23480" class="Symbol">→</a> <a id="23482" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="23500" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="23507" href="Ledger.Utxo.html#5208" class="Record">UTxOState</a>
<a id="23517" href="Ledger.Utxo.Properties.html#23443" class="Function">UTXO-step</a> <a id="23527" class="Symbol">=</a> <a id="23529" href="Interface.ComputationalRelation.html#2978" class="Function">compute</a> <a id="23537" class="Symbol">⦃</a> <a id="23539" href="Ledger.Utxo.Properties.html#7032" class="Function">Computational-UTXO</a> <a id="23558" class="Symbol">⦄</a>

<a id="UTXO-step-computes-UTXO"></a><a id="23561" href="Ledger.Utxo.Properties.html#23561" class="Function">UTXO-step-computes-UTXO</a>  <a id="23586" class="Symbol">:</a>  <a id="23589" href="Ledger.Utxo.Properties.html#23443" class="Function">UTXO-step</a> <a id="23599" href="Ledger.Utxo.Properties.html#7233" class="Generalizable">Γ</a> <a id="23601" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a> <a id="23611" href="Ledger.Utxo.Properties.html#7151" class="Generalizable">tx</a> <a id="23614" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="23616" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="23624" href="Ledger.Utxo.Properties.html#7288" class="Generalizable">utxoState&#39;</a>
                         <a id="23660" href="Function.Bundles.html#12039" class="Function Operator">⇔</a>  <a id="23663" href="Ledger.Utxo.Properties.html#7233" class="Generalizable">Γ</a> <a id="23665" href="Ledger.Utxo.html#5513" class="Datatype Operator">⊢</a> <a id="23667" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a> <a id="23677" href="Ledger.Utxo.html#5513" class="Datatype Operator">⇀⦇</a> <a id="23680" href="Ledger.Utxo.Properties.html#7151" class="Generalizable">tx</a> <a id="23683" href="Ledger.Utxo.html#5513" class="Datatype Operator">,UTXO⦈</a> <a id="23690" href="Ledger.Utxo.Properties.html#7288" class="Generalizable">utxoState&#39;</a>
<a id="23701" href="Ledger.Utxo.Properties.html#23561" class="Function">UTXO-step-computes-UTXO</a> <a id="23725" class="Symbol">=</a> <a id="23727" href="Interface.ComputationalRelation.html#3325" class="Function">≡-success⇔STS</a> <a id="23741" class="Symbol">⦃</a> <a id="23743" href="Ledger.Utxo.Properties.html#7032" class="Function">Computational-UTXO</a> <a id="23762" class="Symbol">⦄</a>
<a id="23764" class="Markup">\end{code}</a><a id="23774" class="Background">
\caption{Computing the UTXO transition system}
\end{figure*}

\begin{property}[\textbf{Preserve Balance}]~\\
\noindent
For all \AgdaBound{Γ} \∈ \UTxOEnv, \AgdaBound{utxo}, \AgdaBound{utxo&#39;} \∈ \UTxO,
\AgdaBound{fees}, \AgdaBound{fees&#39;} \∈ \Coin and \AgdaBound{tx} \∈ \Tx,

if
</a><a id="24051" class="Markup">\begin{code}[hide]</a>
<a id="pov"></a><a id="24070" href="Ledger.Utxo.Properties.html#24070" class="Function">pov</a> <a id="24074" class="Symbol">:</a> <a id="24076" class="Keyword">let</a> <a id="24080" class="Keyword">open</a> <a id="24085" href="Ledger.Transaction.html#5227" class="Module">Tx</a><a id="24087" class="Symbol">;</a> <a id="24089" class="Keyword">open</a> <a id="24094" href="Ledger.Transaction.html#4126" class="Module">TxBody</a> <a id="24101" class="Keyword">in</a>
<a id="24104" class="Markup">\end{code}</a><a id="24114" class="Background">
</a><a id="24115" class="Markup">\begin{code}</a>
  <a id="24130" href="Ledger.Utxo.Properties.html#7151" class="Generalizable">tx</a> <a id="24133" class="Symbol">.</a><a id="24134" href="Ledger.Transaction.html#5313" class="Field">body</a> <a id="24139" class="Symbol">.</a><a id="24140" href="Ledger.Transaction.html#4748" class="Field">txid</a> <a id="24145" href="Interface.IsSet.html#480" class="Function Operator">∉</a> <a id="24147" href="Ledger.Set.Theory.html#413" class="Function">mapˢ</a> <a id="24152" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="24158" class="Symbol">(</a><a id="24159" href="Interface.IsSet.html#934" class="Function">dom</a> <a id="24163" href="Ledger.Utxo.Properties.html#7191" class="Generalizable">utxo</a><a id="24167" class="Symbol">)</a>
<a id="24169" class="Markup">\end{code}</a><a id="24179" class="Background">

and
</a><a id="24185" class="Markup">\begin{code}[hide]</a>
  <a id="24206" class="Symbol">→</a>
<a id="24208" class="Markup">\end{code}</a><a id="24218" class="Background">
</a><a id="24219" class="Markup">\begin{code}</a>
  <a id="24234" href="Ledger.Utxo.Properties.html#7233" class="Generalizable">Γ</a> <a id="24236" href="Ledger.Utxo.html#5513" class="Datatype Operator">⊢</a>  <a id="24239" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="24241" href="Ledger.Utxo.Properties.html#7191" class="Generalizable">utxo</a>   <a id="24248" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="24250" href="Ledger.Utxo.Properties.html#7325" class="Generalizable">fees</a>   <a id="24257" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="24259" href="Ledger.Utxo.Properties.html#7367" class="Generalizable">deposits</a>   <a id="24270" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="24272" href="Ledger.Utxo.Properties.html#7336" class="Generalizable">donations</a>   <a id="24284" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a> <a id="24287" href="Ledger.Utxo.html#5513" class="Datatype Operator">⇀⦇</a> <a id="24290" href="Ledger.Utxo.Properties.html#7151" class="Generalizable">tx</a> <a id="24293" href="Ledger.Utxo.html#5513" class="Datatype Operator">,UTXO⦈</a>
       <a id="24307" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="24309" href="Ledger.Utxo.Properties.html#7196" class="Generalizable">utxo&#39;</a>  <a id="24316" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="24318" href="Ledger.Utxo.Properties.html#7330" class="Generalizable">fees&#39;</a>  <a id="24325" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="24327" href="Ledger.Utxo.Properties.html#7376" class="Generalizable">deposits&#39;</a>  <a id="24338" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="24340" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">donations&#39;</a>  <a id="24352" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a>
<a id="24355" class="Markup">\end{code}</a><a id="24365" class="Background">

then
</a><a id="24372" class="Markup">\begin{code}[hide]</a>
  <a id="24393" class="Symbol">→</a>
<a id="24395" class="Markup">\end{code}</a><a id="24405" class="Background">
</a><a id="24406" class="Markup">\begin{code}</a>
         <a id="24428" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24436" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="24438" href="Ledger.Utxo.Properties.html#7191" class="Generalizable">utxo</a>   <a id="24445" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="24447" href="Ledger.Utxo.Properties.html#7325" class="Generalizable">fees</a>   <a id="24454" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="24456" href="Ledger.Utxo.Properties.html#7367" class="Generalizable">deposits</a>   <a id="24467" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="24469" href="Ledger.Utxo.Properties.html#7336" class="Generalizable">donations</a>   <a id="24481" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a>
      <a id="24490" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>  <a id="24493" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24501" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="24503" href="Ledger.Utxo.Properties.html#7196" class="Generalizable">utxo&#39;</a>  <a id="24510" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="24512" href="Ledger.Utxo.Properties.html#7330" class="Generalizable">fees&#39;</a>  <a id="24519" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="24521" href="Ledger.Utxo.Properties.html#7376" class="Generalizable">deposits&#39;</a>  <a id="24532" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="24534" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">donations&#39;</a>  <a id="24546" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a>
<a id="24549" class="Markup">\end{code}</a><a id="24559" class="Background">
</a><a id="24560" class="Markup">\begin{code}[hide]</a>
<a id="24579" href="Ledger.Utxo.Properties.html#24070" class="Function">pov</a> <a id="24583" class="Symbol">{</a><a id="24584" href="Ledger.Utxo.Properties.html#24584" class="Bound">tx</a><a id="24586" class="Symbol">}{</a><a id="24588" href="Ledger.Utxo.Properties.html#24588" class="Bound">utxo</a><a id="24592" class="Symbol">}{_}{</a><a id="24597" href="Ledger.Utxo.Properties.html#24597" class="Bound">fees</a><a id="24601" class="Symbol">}{</a><a id="24603" href="Ledger.Utxo.Properties.html#24603" class="Bound">deposits</a><a id="24611" class="Symbol">}{</a><a id="24613" href="Ledger.Utxo.Properties.html#24613" class="Bound">donations</a><a id="24622" class="Symbol">}</a>
    <a id="24628" class="Symbol">{</a><a id="24629" class="Argument">deposits&#39;</a> <a id="24639" class="Symbol">=</a> <a id="24641" href="Ledger.Utxo.Properties.html#24641" class="Bound">deposits&#39;</a><a id="24650" class="Symbol">}</a> <a id="24652" href="Ledger.Utxo.Properties.html#24652" class="Bound">h&#39;</a>
    <a id="24659" href="Ledger.Utxo.Properties.html#24659" class="Bound">step</a><a id="24663" class="Symbol">@(</a><a id="24665" href="Ledger.Utxo.html#15648" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="24681" class="Symbol">_</a> <a id="24683" href="Ledger.Utxo.Properties.html#24683" class="Bound">Γ</a> <a id="24685" class="Symbol">_</a> <a id="24687" class="Symbol">_</a> <a id="24689" class="Symbol">_</a> <a id="24691" class="Symbol">_</a> <a id="24693" class="Symbol">_</a> <a id="24695" class="Symbol">_</a> <a id="24697" href="Ledger.Utxo.Properties.html#24697" class="Bound">newBal</a> <a id="24704" href="Ledger.Utxo.Properties.html#24704" class="Bound">noMintAda</a> <a id="24714" class="Symbol">_</a> <a id="24716" class="Symbol">_</a> <a id="24718" class="Symbol">_</a> <a id="24720" class="Symbol">_</a> <a id="24722" class="Symbol">_</a> <a id="24724" class="Symbol">_</a> <a id="24726" class="Symbol">_</a> <a id="24728" class="Symbol">_</a> <a id="24730" class="Symbol">(</a><a id="24731" href="Ledger.Utxo.html#12538" class="InductiveConstructor">Scripts-Yes</a> <a id="24743" class="Symbol">_))</a> <a id="24747" class="Symbol">=</a>
  <a id="24751" href="Ledger.Utxo.Properties.html#22303" class="Function">DepositHelpers.pov-scripts</a> <a id="24778" href="Ledger.Utxo.Properties.html#24659" class="Bound">step</a> <a id="24783" href="Ledger.Utxo.Properties.html#24652" class="Bound">h&#39;</a> <a id="24786" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="24792" href="Ledger.Utxo.Properties.html#24070" class="Function">pov</a> <a id="24796" class="Symbol">{</a><a id="24797" href="Ledger.Utxo.Properties.html#24797" class="Bound">tx</a><a id="24799" class="Symbol">}{</a><a id="24801" href="Ledger.Utxo.Properties.html#24801" class="Bound">utxo</a><a id="24805" class="Symbol">}{_}{</a><a id="24810" href="Ledger.Utxo.Properties.html#24810" class="Bound">fees</a><a id="24814" class="Symbol">}{</a><a id="24816" href="Ledger.Utxo.Properties.html#24816" class="Bound">deposits</a><a id="24824" class="Symbol">}{</a><a id="24826" href="Ledger.Utxo.Properties.html#24826" class="Bound">donations</a><a id="24835" class="Symbol">}</a> <a id="24837" href="Ledger.Utxo.Properties.html#24837" class="Bound">h&#39;</a>
    <a id="24844" href="Ledger.Utxo.Properties.html#24844" class="Bound">step</a><a id="24848" class="Symbol">@(</a><a id="24850" href="Ledger.Utxo.html#15648" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="24866" class="Symbol">_</a> <a id="24868" class="Symbol">_</a> <a id="24870" class="Symbol">_</a> <a id="24872" class="Symbol">_</a> <a id="24874" class="Symbol">_</a> <a id="24876" class="Symbol">_</a> <a id="24878" class="Symbol">_</a> <a id="24880" class="Symbol">_</a> <a id="24882" class="Symbol">_</a> <a id="24884" class="Symbol">_</a> <a id="24886" class="Symbol">_</a> <a id="24888" class="Symbol">_</a> <a id="24890" class="Symbol">_</a> <a id="24892" class="Symbol">_</a> <a id="24894" class="Symbol">_</a> <a id="24896" class="Symbol">_</a> <a id="24898" class="Symbol">_</a> <a id="24900" class="Symbol">_</a> <a id="24902" class="Symbol">(</a><a id="24903" href="Ledger.Utxo.html#13145" class="InductiveConstructor">Scripts-No</a> <a id="24914" class="Symbol">_))</a> <a id="24918" class="Symbol">=</a>
  <a id="24922" href="Ledger.Utxo.Properties.html#22708" class="Function">DepositHelpers.pov-no-scripts</a> <a id="24952" href="Ledger.Utxo.Properties.html#24844" class="Bound">step</a> <a id="24957" href="Ledger.Utxo.Properties.html#24837" class="Bound">h&#39;</a>
<a id="24960" class="Markup">\end{code}</a><a id="24970" class="Background">

\end{property}

\begin{property}[\textbf{General Minimum Spending Condition}]~\\

</a><a id="25054" class="Markup">\begin{code}[hide]</a>
<a id="isRefundCert"></a><a id="25073" href="Ledger.Utxo.Properties.html#25073" class="Function">isRefundCert</a> <a id="25086" class="Symbol">:</a> <a id="25088" href="Ledger.Certs.html#1056" class="Datatype">DCert</a> <a id="25094" class="Symbol">→</a> <a id="25096" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="25101" href="Ledger.Utxo.Properties.html#25073" class="Function">isRefundCert</a> <a id="25114" class="Symbol">(</a><a id="25115" href="Ledger.Certs.html#1150" class="InductiveConstructor">dereg</a> <a id="25121" href="Ledger.Utxo.Properties.html#25121" class="Bound">c</a> <a id="25123" class="Symbol">_)</a> <a id="25126" class="Symbol">=</a> <a id="25128" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="25133" href="Ledger.Utxo.Properties.html#25073" class="Function">isRefundCert</a> <a id="25146" class="Symbol">(</a><a id="25147" href="Ledger.Certs.html#1328" class="InductiveConstructor">deregdrep</a> <a id="25157" href="Ledger.Utxo.Properties.html#25157" class="Bound">c</a><a id="25158" class="Symbol">)</a> <a id="25160" class="Symbol">=</a> <a id="25162" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="25167" href="Ledger.Utxo.Properties.html#25073" class="CatchallClause Function">isRefundCert</a><a id="25179" class="CatchallClause"> </a><a id="25180" class="CatchallClause Symbol">_</a> <a id="25182" class="Symbol">=</a> <a id="25184" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="noRefundCert"></a><a id="25191" href="Ledger.Utxo.Properties.html#25191" class="Function">noRefundCert</a> <a id="25204" class="Symbol">:</a> <a id="25206" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="25211" href="Ledger.Certs.html#1056" class="Datatype">DCert</a> <a id="25217" class="Symbol">→</a> <a id="25219" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="25224" class="Symbol">_</a>
<a id="25226" href="Ledger.Utxo.Properties.html#25191" class="Function">noRefundCert</a> <a id="25239" href="Ledger.Utxo.Properties.html#25239" class="Bound">l</a> <a id="25241" class="Symbol">=</a> <a id="25243" href="Data.List.Relation.Unary.All.html#1627" class="Datatype">All</a> <a id="25247" class="Symbol">(λ</a> <a id="25250" href="Ledger.Utxo.Properties.html#25250" class="Bound">cert</a> <a id="25255" class="Symbol">→</a> <a id="25257" href="Ledger.Utxo.Properties.html#25073" class="Function">isRefundCert</a> <a id="25270" href="Ledger.Utxo.Properties.html#25250" class="Bound">cert</a> <a id="25275" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25277" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="25282" class="Symbol">)</a> <a id="25284" href="Ledger.Utxo.Properties.html#25239" class="Bound">l</a>

<a id="25287" class="Keyword">opaque</a>
  <a id="25296" class="Keyword">unfolding</a> <a id="25306" href="Ledger.Set.Theory.html#137" class="Function">List-Model</a>
  <a id="25319" class="Keyword">unfolding</a> <a id="25329" href="Ledger.Set.Theory.html#648" class="Function">finiteness</a>
  <a id="fin∘list[]"></a><a id="25342" href="Ledger.Utxo.Properties.html#25342" class="Function">fin∘list[]</a> <a id="25353" class="Symbol">:</a> <a id="25355" class="Symbol">{</a><a id="25356" href="Ledger.Utxo.Properties.html#25356" class="Bound">A</a> <a id="25358" class="Symbol">:</a> <a id="25360" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="25364" class="Symbol">}</a> <a id="25366" class="Symbol">→</a> <a id="25368" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="25374" class="Symbol">(</a><a id="25375" href="Ledger.Set.Theory.html#648" class="Function">finiteness</a><a id="25385" class="Symbol">{</a><a id="25386" class="Argument">A</a> <a id="25388" class="Symbol">=</a> <a id="25390" href="Ledger.Utxo.Properties.html#25356" class="Bound">A</a><a id="25391" class="Symbol">}</a> <a id="25393" href="Interface.HasEmptySet.html#150" class="Field">∅</a><a id="25394" class="Symbol">)</a> <a id="25396" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25398" class="InductiveConstructor">[]</a>
  <a id="25403" href="Ledger.Utxo.Properties.html#25342" class="Function">fin∘list[]</a> <a id="25414" class="Symbol">=</a> <a id="25416" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="fin∘list∷[]"></a><a id="25423" href="Ledger.Utxo.Properties.html#25423" class="Function">fin∘list∷[]</a> <a id="25435" class="Symbol">:</a> <a id="25437" class="Symbol">{</a><a id="25438" href="Ledger.Utxo.Properties.html#25438" class="Bound">A</a> <a id="25440" class="Symbol">:</a> <a id="25442" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="25446" class="Symbol">}</a> <a id="25448" class="Symbol">{</a><a id="25449" href="Ledger.Utxo.Properties.html#25449" class="Bound">a</a> <a id="25451" class="Symbol">:</a> <a id="25453" href="Ledger.Utxo.Properties.html#25438" class="Bound">A</a><a id="25454" class="Symbol">}</a> <a id="25456" class="Symbol">→</a> <a id="25458" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="25464" class="Symbol">(</a><a id="25465" href="Ledger.Set.Theory.html#648" class="Function">finiteness</a> <a id="25476" href="Interface.HasSingleton.html#348" class="Field Operator">❴</a> <a id="25478" href="Ledger.Utxo.Properties.html#25449" class="Bound">a</a> <a id="25480" href="Interface.HasSingleton.html#348" class="Field Operator">❵</a><a id="25481" class="Symbol">)</a> <a id="25483" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25485" href="Data.List.Base.html#5244" class="Function Operator">[</a> <a id="25487" href="Ledger.Utxo.Properties.html#25449" class="Bound">a</a> <a id="25489" href="Data.List.Base.html#5244" class="Function Operator">]</a>
  <a id="25493" href="Ledger.Utxo.Properties.html#25423" class="Function">fin∘list∷[]</a> <a id="25505" class="Symbol">=</a> <a id="25507" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="coin∅"></a><a id="25513" href="Ledger.Utxo.Properties.html#25513" class="Function">coin∅</a> <a id="25519" class="Symbol">:</a> <a id="25521" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="25528" class="Symbol">{</a><a id="25529" class="Argument">A</a> <a id="25531" class="Symbol">=</a> <a id="25533" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="25548" href="Ledger.Set.Theory.html#1515" class="Function Operator">⇀</a> <a id="25550" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="25554" class="Symbol">}</a> <a id="25556" href="Interface.HasEmptySet.html#150" class="Field">∅</a> <a id="25558" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25560" class="Number">0</a>
<a id="25562" href="Ledger.Utxo.Properties.html#25513" class="Function">coin∅</a> <a id="25568" class="Symbol">=</a> <a id="25570" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
  <a id="25578" href="Data.List.Base.html#4336" class="Function">foldr</a> <a id="25584" class="Symbol">(λ</a> <a id="25587" href="Ledger.Utxo.Properties.html#25587" class="Bound">x</a> <a id="25589" class="Symbol">→</a> <a id="25591" class="Symbol">(</a><a id="25592" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="25598" href="Ledger.Utxo.Properties.html#25587" class="Bound">x</a><a id="25599" class="Symbol">)</a> <a id="25601" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="25603" class="Symbol">)</a> <a id="25605" class="Number">0</a> <a id="25607" class="Symbol">(</a><a id="25608" href="Data.List.Base.html#13534" class="Function">deduplicate</a> <a id="25620" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="25624" class="Symbol">(</a><a id="25625" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="25631" class="Symbol">(</a><a id="25632" href="Ledger.Set.Theory.html#648" class="Function">finiteness</a> <a id="25643" href="Interface.HasEmptySet.html#150" class="Field">∅</a><a id="25644" class="Symbol">)))</a>
    <a id="25652" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="25655" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="25660" class="Symbol">(λ</a> <a id="25663" href="Ledger.Utxo.Properties.html#25663" class="Bound">u</a> <a id="25665" class="Symbol">→</a> <a id="25667" class="Symbol">(</a><a id="25668" href="Data.List.Base.html#4336" class="Function">foldr</a> <a id="25674" class="Symbol">(λ</a> <a id="25677" href="Ledger.Utxo.Properties.html#25677" class="Bound">x</a> <a id="25679" class="Symbol">→</a> <a id="25681" class="Symbol">(</a><a id="25682" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="25688" href="Ledger.Utxo.Properties.html#25677" class="Bound">x</a><a id="25689" class="Symbol">)</a> <a id="25691" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="25693" class="Symbol">)</a> <a id="25695" class="Number">0</a> <a id="25697" class="Symbol">(</a><a id="25698" href="Data.List.Base.html#13534" class="Function">deduplicate</a> <a id="25710" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="25714" href="Ledger.Utxo.Properties.html#25663" class="Bound">u</a><a id="25715" class="Symbol">)))</a> <a id="25719" href="Ledger.Utxo.Properties.html#25342" class="Function">fin∘list[]</a> <a id="25730" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
  <a id="25734" href="Data.List.Base.html#4336" class="Function">foldr</a> <a id="25740" class="Symbol">(λ</a> <a id="25743" class="Symbol">(</a><a id="25744" href="Ledger.Utxo.Properties.html#25744" class="Bound">x</a> <a id="25746" class="Symbol">:</a> <a id="25748" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="25763" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="25765" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="25769" class="Symbol">)</a> <a id="25771" class="Symbol">→</a> <a id="25773" class="Symbol">(</a><a id="25774" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="25780" href="Ledger.Utxo.Properties.html#25744" class="Bound">x</a><a id="25781" class="Symbol">)</a> <a id="25783" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="25785" class="Symbol">)</a> <a id="25787" class="Number">0</a> <a id="25789" class="Symbol">(</a><a id="25790" href="Data.List.Base.html#13534" class="Function">deduplicate</a> <a id="25802" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="25806" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="25808" class="Symbol">)</a>
    <a id="25814" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="25817" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="25822" class="Symbol">(λ</a> <a id="25825" href="Ledger.Utxo.Properties.html#25825" class="Bound">u</a> <a id="25827" class="Symbol">→</a> <a id="25829" class="Symbol">(</a><a id="25830" href="Data.List.Base.html#4336" class="Function">foldr</a> <a id="25836" class="Symbol">(λ</a> <a id="25839" class="Symbol">(</a><a id="25840" href="Ledger.Utxo.Properties.html#25840" class="Bound">x</a> <a id="25842" class="Symbol">:</a> <a id="25844" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="25859" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="25861" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="25865" class="Symbol">)</a> <a id="25867" class="Symbol">→</a> <a id="25869" class="Symbol">(</a><a id="25870" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="25876" href="Ledger.Utxo.Properties.html#25840" class="Bound">x</a><a id="25877" class="Symbol">)</a> <a id="25879" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="25881" class="Symbol">)</a> <a id="25883" class="Number">0</a>  <a id="25886" href="Ledger.Utxo.Properties.html#25825" class="Bound">u</a><a id="25887" class="Symbol">))</a>
            <a id="25902" class="Symbol">{</a><a id="25903" class="Argument">x</a> <a id="25905" class="Symbol">=</a> <a id="25907" href="Data.List.Base.html#13534" class="Function">deduplicate</a> <a id="25919" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="25923" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="25925" class="Symbol">}</a> <a id="25927" class="Symbol">{</a><a id="25928" class="Argument">y</a> <a id="25930" class="Symbol">=</a> <a id="25932" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="25934" class="Symbol">}</a> <a id="25936" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="25941" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
  <a id="25945" href="Data.List.Base.html#4336" class="Function">foldr</a> <a id="25951" class="Symbol">(λ</a> <a id="25954" class="Symbol">(</a><a id="25955" href="Ledger.Utxo.Properties.html#25955" class="Bound">x</a> <a id="25957" class="Symbol">:</a> <a id="25959" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="25974" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="25976" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="25980" class="Symbol">)</a> <a id="25982" class="Symbol">→</a> <a id="25984" class="Symbol">(</a><a id="25985" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="25991" href="Ledger.Utxo.Properties.html#25955" class="Bound">x</a><a id="25992" class="Symbol">)</a> <a id="25994" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="25996" class="Symbol">)</a> <a id="25998" class="Number">0</a> <a id="26000" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="26007" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="26010" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="26015" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
  <a id="26019" class="Number">0</a> <a id="26021" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>
  <a id="26025" class="Keyword">where</a> <a id="26031" class="Keyword">open</a> <a id="26036" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">Prelude.≡-Reasoning</a>

<a id="getCoin-singleton"></a><a id="26057" href="Ledger.Utxo.Properties.html#26057" class="Function">getCoin-singleton</a> <a id="26075" class="Symbol">:</a> <a id="26077" class="Symbol">(</a><a id="26078" href="Ledger.Utxo.Properties.html#26078" class="Bound">(</a><a id="26079" href="Ledger.Utxo.Properties.html#26079" class="Bound">dp</a> <a id="26082" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26084" href="Ledger.Utxo.Properties.html#26084" class="Bound">c</a><a id="26085" href="Ledger.Utxo.Properties.html#26078" class="Bound">)</a> <a id="26087" class="Symbol">:</a> <a id="26089" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="26104" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="26106" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="26110" class="Symbol">)</a> <a id="26112" class="Symbol">→</a> <a id="26114" href="Ledger.Set.Theory.html#3127" class="Function">indexedSumᵛ&#39;</a> <a id="26127" href="Function.Base.html#704" class="Function">id</a> <a id="26130" href="Interface.HasSingleton.html#348" class="Field Operator">❴</a> <a id="26132" class="Symbol">(</a><a id="26133" href="Ledger.Utxo.Properties.html#26079" class="Bound">dp</a> <a id="26136" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26138" href="Ledger.Utxo.Properties.html#26084" class="Bound">c</a><a id="26139" class="Symbol">)</a> <a id="26141" href="Interface.HasSingleton.html#348" class="Field Operator">❵</a> <a id="26143" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26145" href="Ledger.Utxo.Properties.html#26084" class="Bound">c</a>
<a id="26147" href="Ledger.Utxo.Properties.html#26057" class="Function">getCoin-singleton</a> <a id="26165" class="Symbol">_</a> <a id="26167" class="Symbol">=</a> <a id="26169" href="Axiom.Set.Sum.html#3980" class="Function">indexedSum-singleton&#39;</a> <a id="26191" class="Symbol">⦃</a> <a id="26193" class="Argument">M</a> <a id="26195" class="Symbol">=</a> <a id="26197" href="Data.Nat.Properties.html#16572" class="Function">+-0-commutativeMonoid</a> <a id="26219" class="Symbol">⦄</a> <a id="26221" class="Symbol">(</a><a id="26222" href="Ledger.Set.Theory.html#648" class="Function">finiteness</a> <a id="26233" class="Symbol">_)</a>

<a id="26237" class="Keyword">module</a> <a id="26244" href="Ledger.Utxo.Properties.html#26244" class="Module">_</a>
  <a id="26248" class="Comment">-- ASSUMPTION --</a>
  <a id="26267" class="Comment">{- 1 -}</a> <a id="26275" class="Symbol">{</a><a id="26276" href="Ledger.Utxo.Properties.html#26276" class="Bound">gc-hom</a> <a id="26283" class="Symbol">:</a> <a id="26285" class="Symbol">(</a><a id="26286" href="Ledger.Utxo.Properties.html#26286" class="Bound">d₁</a> <a id="26289" href="Ledger.Utxo.Properties.html#26289" class="Bound">d₂</a> <a id="26292" class="Symbol">:</a> <a id="26294" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="26309" href="Ledger.Set.Theory.html#1515" class="Function Operator">⇀</a> <a id="26311" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="26315" class="Symbol">)</a> <a id="26317" class="Symbol">→</a> <a id="26319" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26327" class="Symbol">(</a><a id="26328" href="Ledger.Utxo.Properties.html#26286" class="Bound">d₁</a> <a id="26331" href="Axiom.Set.Map.Dec.html#1956" class="Function Operator">∪⁺</a> <a id="26334" href="Ledger.Utxo.Properties.html#26289" class="Bound">d₂</a><a id="26336" class="Symbol">)</a> <a id="26338" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26340" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26348" href="Ledger.Utxo.Properties.html#26286" class="Bound">d₁</a> <a id="26351" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="26353" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26361" href="Ledger.Utxo.Properties.html#26289" class="Bound">d₂</a><a id="26363" class="Symbol">}</a>
  <a id="26367" class="Comment">{- 2 -}</a> <a id="26375" class="Symbol">{</a><a id="26376" href="Ledger.Utxo.Properties.html#26376" class="Bound">getCoin-⊆</a> <a id="26386" class="Symbol">:</a> <a id="26388" class="Symbol">(</a><a id="26389" href="Ledger.Utxo.Properties.html#26389" class="Bound">d</a> <a id="26391" href="Ledger.Utxo.Properties.html#26391" class="Bound">d&#39;</a> <a id="26394" class="Symbol">:</a> <a id="26396" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="26411" href="Ledger.Set.Theory.html#1515" class="Function Operator">⇀</a> <a id="26413" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="26417" class="Symbol">)</a> <a id="26419" class="Symbol">→</a> <a id="26421" href="Ledger.Utxo.Properties.html#26389" class="Bound">d</a> <a id="26423" href="Axiom.Set.Map.html#2282" class="Function Operator">ˢ</a> <a id="26425" href="Axiom.Set.html#1639" class="Function Operator">⊆</a> <a id="26427" href="Ledger.Utxo.Properties.html#26391" class="Bound">d&#39;</a> <a id="26430" href="Axiom.Set.Map.html#2282" class="Function Operator">ˢ</a> <a id="26432" class="Symbol">→</a> <a id="26434" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26442" href="Ledger.Utxo.Properties.html#26389" class="Bound">d</a> <a id="26444" href="Interface.HasOrder.html#301" class="Field Operator">≤</a> <a id="26446" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26454" href="Ledger.Utxo.Properties.html#26391" class="Bound">d&#39;</a><a id="26456" class="Symbol">}</a>
  <a id="26460" class="Keyword">where</a>
  <a id="26468" href="Ledger.Utxo.Properties.html#26468" class="Function">getCoin∪⁺∅≡id</a> <a id="26482" class="Symbol">:</a> <a id="26484" class="Symbol">∀</a> <a id="26486" class="Symbol">{</a><a id="26487" href="Ledger.Utxo.Properties.html#26487" class="Bound">d</a><a id="26488" class="Symbol">}</a> <a id="26490" class="Symbol">→</a> <a id="26492" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26500" href="Ledger.Utxo.Properties.html#26487" class="Bound">d</a> <a id="26502" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26504" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26512" class="Symbol">(</a><a id="26513" href="Ledger.Utxo.Properties.html#26487" class="Bound">d</a> <a id="26515" href="Axiom.Set.Map.Dec.html#1956" class="Function Operator">∪⁺</a> <a id="26518" href="Axiom.Set.Map.html#2728" class="Function">∅ᵐ</a><a id="26520" class="Symbol">)</a>
  <a id="26524" href="Ledger.Utxo.Properties.html#26468" class="Function">getCoin∪⁺∅≡id</a> <a id="26538" class="Symbol">{</a><a id="26539" href="Ledger.Utxo.Properties.html#26539" class="Bound">d</a><a id="26540" class="Symbol">}</a> <a id="26542" class="Symbol">=</a> <a id="26544" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="26554" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26562" href="Ledger.Utxo.Properties.html#26539" class="Bound">d</a>
      <a id="26570" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="26573" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="26577" class="Symbol">(</a><a id="26578" href="Data.Nat.Properties.html#14706" class="Function">+-identityʳ</a> <a id="26590" class="Symbol">(</a><a id="26591" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26599" href="Ledger.Utxo.Properties.html#26539" class="Bound">d</a><a id="26600" class="Symbol">))</a> <a id="26603" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="26609" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26617" href="Ledger.Utxo.Properties.html#26539" class="Bound">d</a> <a id="26619" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="26621" class="Number">0</a>
      <a id="26629" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="26632" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="26637" class="Symbol">(</a><a id="26638" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26646" href="Ledger.Utxo.Properties.html#26539" class="Bound">d</a> <a id="26648" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="26650" class="Symbol">)</a> <a id="26652" class="Symbol">(</a><a id="26653" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="26657" href="Ledger.Utxo.Properties.html#25513" class="Function">coin∅</a><a id="26662" class="Symbol">)</a> <a id="26664" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="26670" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26678" href="Ledger.Utxo.Properties.html#26539" class="Bound">d</a> <a id="26680" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="26682" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="26689" class="Symbol">{</a><a id="26690" class="Argument">A</a> <a id="26692" class="Symbol">=</a> <a id="26694" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="26709" href="Ledger.Set.Theory.html#1515" class="Function Operator">⇀</a> <a id="26711" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="26715" class="Symbol">}</a> <a id="26717" href="Interface.HasEmptySet.html#150" class="Field">∅</a>
      <a id="26725" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="26728" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="26732" class="Symbol">(</a><a id="26733" href="Ledger.Utxo.Properties.html#26276" class="Bound">gc-hom</a> <a id="26740" href="Ledger.Utxo.Properties.html#26539" class="Bound">d</a> <a id="26742" href="Interface.HasEmptySet.html#150" class="Field">∅</a><a id="26743" class="Symbol">)</a> <a id="26745" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="26751" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26759" class="Symbol">(</a><a id="26760" href="Ledger.Utxo.Properties.html#26539" class="Bound">d</a> <a id="26762" href="Axiom.Set.Map.Dec.html#1956" class="Function Operator">∪⁺</a> <a id="26765" href="Axiom.Set.Map.html#2728" class="Function">∅ᵐ</a><a id="26767" class="Symbol">)</a>
      <a id="26775" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>
    <a id="26781" class="Keyword">where</a> <a id="26787" class="Keyword">open</a> <a id="26792" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">Prelude.≡-Reasoning</a>

  <a id="26815" href="Ledger.Utxo.Properties.html#26815" class="Function">getCoin∣∅≡id</a> <a id="26828" class="Symbol">:</a> <a id="26830" class="Symbol">{</a><a id="26831" href="Ledger.Utxo.Properties.html#26831" class="Bound">d</a> <a id="26833" class="Symbol">:</a> <a id="26835" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="26850" href="Ledger.Set.Theory.html#1515" class="Function Operator">⇀</a> <a id="26852" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="26856" class="Symbol">}</a> <a id="26858" class="Symbol">→</a> <a id="26860" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26868" href="Ledger.Utxo.Properties.html#26831" class="Bound">d</a> <a id="26870" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26872" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26880" class="Symbol">(</a><a id="26881" href="Ledger.Utxo.Properties.html#26831" class="Bound">d</a> <a id="26883" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="26885" href="Interface.HasEmptySet.html#150" class="Field">∅</a> <a id="26887" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="26888" class="Symbol">)</a>
  <a id="26892" href="Ledger.Utxo.Properties.html#26815" class="Function">getCoin∣∅≡id</a> <a id="26905" class="Symbol">{</a><a id="26906" href="Ledger.Utxo.Properties.html#26906" class="Bound">d</a><a id="26907" class="Symbol">}</a> <a id="26909" class="Symbol">=</a> <a id="26911" href="Data.Nat.Properties.html#5292" class="Function">≤-antisym</a> <a id="26921" class="Symbol">(</a><a id="26922" href="Ledger.Utxo.Properties.html#26376" class="Bound">getCoin-⊆</a> <a id="26932" href="Ledger.Utxo.Properties.html#26906" class="Bound">d</a> <a id="26934" class="Symbol">(</a><a id="26935" href="Ledger.Utxo.Properties.html#26906" class="Bound">d</a> <a id="26937" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="26939" href="Interface.HasEmptySet.html#150" class="Field">∅</a> <a id="26941" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="26942" class="Symbol">)</a> <a id="26944" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="26946" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="26952" class="Symbol">(</a><a id="26953" href="Data.Product.Base.html#5054" class="Function">swap</a> <a id="26958" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="26960" href="Axiom.Set.Map.html#10251" class="Function">resᵐ-∅ᶜ</a> <a id="26968" class="Symbol">{</a><a id="26969" class="Argument">M</a> <a id="26971" class="Symbol">=</a> <a id="26973" href="Ledger.Utxo.Properties.html#26906" class="Bound">d</a><a id="26974" class="Symbol">}))</a>
                        <a id="27002" class="Symbol">(</a><a id="27003" href="Ledger.Utxo.Properties.html#26376" class="Bound">getCoin-⊆</a> <a id="27013" class="Symbol">(</a><a id="27014" href="Ledger.Utxo.Properties.html#26906" class="Bound">d</a> <a id="27016" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="27018" href="Interface.HasEmptySet.html#150" class="Field">∅</a> <a id="27020" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="27021" class="Symbol">)</a> <a id="27023" href="Ledger.Utxo.Properties.html#26906" class="Bound">d</a> <a id="27025" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="27027" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27033" class="Symbol">(</a><a id="27034" href="Data.Product.Base.html#5054" class="Function">swap</a> <a id="27039" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="27041" href="Axiom.Set.Map.html#10251" class="Function">resᵐ-∅ᶜ</a> <a id="27049" class="Symbol">{</a><a id="27050" class="Argument">M</a> <a id="27052" class="Symbol">=</a> <a id="27054" href="Ledger.Utxo.Properties.html#26906" class="Bound">d</a><a id="27055" class="Symbol">}))</a>

  <a id="27062" href="Ledger.Utxo.Properties.html#27062" class="Function">getCoin∪⁺∅∣∅id</a> <a id="27077" class="Symbol">:</a> <a id="27079" class="Symbol">{</a><a id="27080" href="Ledger.Utxo.Properties.html#27080" class="Bound">d</a> <a id="27082" class="Symbol">:</a> <a id="27084" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="27099" href="Ledger.Set.Theory.html#1515" class="Function Operator">⇀</a> <a id="27101" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27105" class="Symbol">}</a> <a id="27107" class="Symbol">→</a> <a id="27109" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="27117" href="Ledger.Utxo.Properties.html#27080" class="Bound">d</a> <a id="27119" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27121" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="27129" class="Symbol">((</a><a id="27131" href="Ledger.Utxo.Properties.html#27080" class="Bound">d</a> <a id="27133" href="Axiom.Set.Map.Dec.html#1956" class="Function Operator">∪⁺</a> <a id="27136" href="Interface.HasEmptySet.html#150" class="Field">∅</a><a id="27137" class="Symbol">)</a> <a id="27139" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="27141" href="Interface.HasEmptySet.html#150" class="Field">∅</a> <a id="27143" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a><a id="27144" class="Symbol">)</a>
  <a id="27148" href="Ledger.Utxo.Properties.html#27062" class="Function">getCoin∪⁺∅∣∅id</a> <a id="27163" class="Symbol">{</a><a id="27164" href="Ledger.Utxo.Properties.html#27164" class="Bound">d</a><a id="27165" class="Symbol">}</a> <a id="27167" class="Symbol">=</a> <a id="27169" href="Relation.Binary.PropositionalEquality.Core.html#1757" class="Function">trans</a> <a id="27175" href="Ledger.Utxo.Properties.html#26468" class="Function">getCoin∪⁺∅≡id</a> <a id="27189" class="Symbol">(</a><a id="27190" href="Ledger.Utxo.Properties.html#26815" class="Function">getCoin∣∅≡id</a> <a id="27203" class="Symbol">{</a><a id="27204" href="Ledger.Utxo.Properties.html#27164" class="Bound">d</a> <a id="27206" href="Axiom.Set.Map.Dec.html#1956" class="Function Operator">∪⁺</a> <a id="27209" href="Interface.HasEmptySet.html#150" class="Field">∅</a><a id="27210" class="Symbol">})</a>

  <a id="27216" href="Ledger.Utxo.Properties.html#27216" class="Function">∪⁺singleton≡</a> <a id="27229" class="Symbol">:</a> <a id="27231" class="Symbol">{</a><a id="27232" href="Ledger.Utxo.Properties.html#27232" class="Bound">deps</a> <a id="27237" class="Symbol">:</a> <a id="27239" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="27254" href="Ledger.Set.Theory.html#1515" class="Function Operator">⇀</a> <a id="27256" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27260" class="Symbol">}</a> <a id="27262" class="Symbol">{</a><a id="27263" href="Ledger.Utxo.Properties.html#27263" class="Symbol">(</a><a id="27264" href="Ledger.Utxo.Properties.html#27264" class="Bound">dp</a> <a id="27267" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27269" href="Ledger.Utxo.Properties.html#27269" class="Bound">c</a><a id="27270" href="Ledger.Utxo.Properties.html#27263" class="Symbol">)</a> <a id="27272" class="Symbol">:</a> <a id="27274" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="27289" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27291" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27295" class="Symbol">}</a>
                 <a id="27314" class="Symbol">→</a> <a id="27316" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="27324" class="Symbol">(</a><a id="27325" href="Ledger.Utxo.Properties.html#27232" class="Bound">deps</a> <a id="27330" href="Axiom.Set.Map.Dec.html#1956" class="Function Operator">∪⁺</a> <a id="27333" href="Axiom.Set.Map.html#4658" class="Function Operator">❴</a> <a id="27335" class="Symbol">(</a><a id="27336" href="Ledger.Utxo.Properties.html#27264" class="Bound">dp</a> <a id="27339" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27341" href="Ledger.Utxo.Properties.html#27269" class="Bound">c</a><a id="27342" class="Symbol">)</a> <a id="27344" href="Axiom.Set.Map.html#4658" class="Function Operator">❵ᵐ</a><a id="27346" class="Symbol">)</a> <a id="27348" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27350" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="27358" href="Ledger.Utxo.Properties.html#27232" class="Bound">deps</a> <a id="27363" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="27365" href="Ledger.Utxo.Properties.html#27269" class="Bound">c</a>
  <a id="27369" href="Ledger.Utxo.Properties.html#27216" class="Function">∪⁺singleton≡</a> <a id="27382" class="Symbol">{</a><a id="27383" href="Ledger.Utxo.Properties.html#27383" class="Bound">deps</a><a id="27387" class="Symbol">}</a> <a id="27389" class="Symbol">{(</a><a id="27391" href="Ledger.Utxo.Properties.html#27391" class="Bound">dp</a> <a id="27394" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27396" href="Ledger.Utxo.Properties.html#27396" class="Bound">c</a><a id="27397" class="Symbol">)}</a> <a id="27400" class="Symbol">=</a> <a id="27402" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="27412" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="27420" class="Symbol">(</a><a id="27421" href="Ledger.Utxo.Properties.html#27383" class="Bound">deps</a> <a id="27426" href="Axiom.Set.Map.Dec.html#1956" class="Function Operator">∪⁺</a> <a id="27429" href="Interface.HasSingleton.html#348" class="Field Operator">❴</a> <a id="27431" class="Symbol">(</a><a id="27432" href="Ledger.Utxo.Properties.html#27391" class="Bound">dp</a> <a id="27435" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27437" href="Ledger.Utxo.Properties.html#27396" class="Bound">c</a><a id="27438" class="Symbol">)</a> <a id="27440" href="Interface.HasSingleton.html#348" class="Field Operator">❵</a><a id="27441" class="Symbol">)</a>
      <a id="27449" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="27452" href="Ledger.Utxo.Properties.html#26276" class="Bound">gc-hom</a> <a id="27459" href="Ledger.Utxo.Properties.html#27383" class="Bound">deps</a> <a id="27464" href="Interface.HasSingleton.html#348" class="Field Operator">❴</a> <a id="27466" class="Symbol">(</a><a id="27467" href="Ledger.Utxo.Properties.html#27391" class="Bound">dp</a> <a id="27470" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27472" href="Ledger.Utxo.Properties.html#27396" class="Bound">c</a><a id="27473" class="Symbol">)</a> <a id="27475" href="Interface.HasSingleton.html#348" class="Field Operator">❵</a> <a id="27477" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="27483" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="27491" href="Ledger.Utxo.Properties.html#27383" class="Bound">deps</a> <a id="27496" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="27498" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="27505" class="Symbol">{</a><a id="27506" class="Argument">A</a> <a id="27508" class="Symbol">=</a> <a id="27510" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="27525" href="Ledger.Set.Theory.html#1515" class="Function Operator">⇀</a> <a id="27527" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27531" class="Symbol">}</a> <a id="27533" href="Interface.HasSingleton.html#348" class="Field Operator">❴</a> <a id="27535" class="Symbol">(</a><a id="27536" href="Ledger.Utxo.Properties.html#27391" class="Bound">dp</a> <a id="27539" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27541" href="Ledger.Utxo.Properties.html#27396" class="Bound">c</a><a id="27542" class="Symbol">)</a> <a id="27544" href="Interface.HasSingleton.html#348" class="Field Operator">❵</a>
      <a id="27552" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="27555" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="27560" class="Symbol">(</a><a id="27561" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="27569" href="Ledger.Utxo.Properties.html#27383" class="Bound">deps</a> <a id="27574" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="27576" class="Symbol">)</a> <a id="27578" class="Symbol">(</a><a id="27579" href="Ledger.Utxo.Properties.html#26057" class="Function">getCoin-singleton</a> <a id="27597" class="Symbol">(</a><a id="27598" href="Ledger.Utxo.Properties.html#27391" class="Bound">dp</a> <a id="27601" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27603" href="Ledger.Utxo.Properties.html#27396" class="Bound">c</a><a id="27604" class="Symbol">))</a> <a id="27607" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="27613" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="27621" href="Ledger.Utxo.Properties.html#27383" class="Bound">deps</a> <a id="27626" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="27628" href="Ledger.Utxo.Properties.html#27396" class="Bound">c</a>
      <a id="27636" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>
    <a id="27642" class="Keyword">where</a> <a id="27648" class="Keyword">open</a> <a id="27653" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">Prelude.≡-Reasoning</a>

  <a id="27676" class="Keyword">module</a> <a id="27683" href="Ledger.Utxo.Properties.html#27683" class="Module">_</a> <a id="27685" class="Symbol">{</a><a id="27686" href="Ledger.Utxo.Properties.html#27686" class="Bound">deposits</a> <a id="27695" class="Symbol">:</a> <a id="27697" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="27712" href="Ledger.Set.Theory.html#1515" class="Function Operator">⇀</a> <a id="27714" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27718" class="Symbol">}</a> <a id="27720" class="Symbol">{</a><a id="27721" href="Ledger.Utxo.Properties.html#27721" class="Bound">txid</a> <a id="27726" class="Symbol">:</a> <a id="27728" href="Ledger.Transaction.html#2322" class="Field">TxId</a><a id="27732" class="Symbol">}</a> <a id="27734" class="Symbol">{</a><a id="27735" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a> <a id="27741" class="Symbol">:</a> <a id="27743" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27747" class="Symbol">}</a> <a id="27749" class="Keyword">where</a>

    <a id="27760" href="Ledger.Utxo.Properties.html#27760" class="Function">≤updatePropDeps</a> <a id="27776" class="Symbol">:</a> <a id="27778" class="Symbol">(</a><a id="27779" href="Ledger.Utxo.Properties.html#27779" class="Bound">props</a> <a id="27785" class="Symbol">:</a> <a id="27787" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="27792" href="Ledger.GovernanceActions.html#8487" class="Record">GovProposal</a><a id="27803" class="Symbol">)</a>
      <a id="27811" class="Symbol">→</a> <a id="27813" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="27821" href="Ledger.Utxo.Properties.html#27686" class="Bound">deposits</a> <a id="27830" href="Interface.HasOrder.html#301" class="Field Operator">≤</a> <a id="27832" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="27840" class="Symbol">(</a><a id="27841" href="Ledger.Utxo.html#7282" class="Function">updateProposalDeposits</a> <a id="27864" href="Ledger.Utxo.Properties.html#27779" class="Bound">props</a> <a id="27870" href="Ledger.Utxo.Properties.html#27721" class="Bound">txid</a> <a id="27875" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a> <a id="27881" href="Ledger.Utxo.Properties.html#27686" class="Bound">deposits</a><a id="27889" class="Symbol">)</a>
    <a id="27895" href="Ledger.Utxo.Properties.html#27760" class="Function">≤updatePropDeps</a> <a id="27911" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="27914" class="Symbol">=</a> <a id="27916" href="Data.Nat.Properties.html#5136" class="Function">≤-reflexive</a> <a id="27928" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="27937" href="Ledger.Utxo.Properties.html#27760" class="Function">≤updatePropDeps</a> <a id="27953" class="Symbol">(</a><a id="27954" href="Ledger.Utxo.Properties.html#27954" class="Bound">x</a> <a id="27956" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="27958" href="Ledger.Utxo.Properties.html#27958" class="Bound">props</a><a id="27963" class="Symbol">)</a> <a id="27965" class="Symbol">=</a> <a id="27967" href="Data.Nat.Properties.html#5425" class="Function">≤-trans</a> <a id="27975" class="Symbol">(</a><a id="27976" href="Ledger.Utxo.Properties.html#27760" class="Function">≤updatePropDeps</a> <a id="27992" href="Ledger.Utxo.Properties.html#27958" class="Bound">props</a><a id="27997" class="Symbol">)</a>
                                          <a id="28041" class="Symbol">(</a><a id="28042" href="Data.Nat.Properties.html#5425" class="Function">≤-trans</a> <a id="28050" class="Symbol">(</a><a id="28051" href="Data.Nat.Properties.html#18419" class="Function">m≤m+n</a> <a id="28057" class="Symbol">_</a> <a id="28059" class="Symbol">_)</a>
                                                   <a id="28113" class="Symbol">(</a><a id="28114" href="Data.Nat.Properties.html#5136" class="Function">≤-reflexive</a> <a id="28126" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="28128" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="28132" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="28134" href="Ledger.Utxo.Properties.html#27216" class="Function">∪⁺singleton≡</a><a id="28146" class="Symbol">))</a>
    <a id="28153" href="Ledger.Utxo.Properties.html#28153" class="Function">updatePropDeps≡</a> <a id="28169" class="Symbol">:</a> <a id="28171" class="Symbol">(</a><a id="28172" href="Ledger.Utxo.Properties.html#28172" class="Bound">ps</a> <a id="28175" class="Symbol">:</a> <a id="28177" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="28182" href="Ledger.GovernanceActions.html#8487" class="Record">GovProposal</a><a id="28193" class="Symbol">)</a>
      <a id="28201" class="Symbol">→</a> <a id="28203" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28211" class="Symbol">(</a><a id="28212" href="Ledger.Utxo.html#7282" class="Function">updateProposalDeposits</a> <a id="28235" href="Ledger.Utxo.Properties.html#28172" class="Bound">ps</a> <a id="28238" href="Ledger.Utxo.Properties.html#27721" class="Bound">txid</a> <a id="28243" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a> <a id="28249" href="Ledger.Utxo.Properties.html#27686" class="Bound">deposits</a><a id="28257" class="Symbol">)</a> <a id="28259" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="28261" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28269" href="Ledger.Utxo.Properties.html#27686" class="Bound">deposits</a> <a id="28278" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28280" class="Symbol">(</a><a id="28281" href="Data.List.Base.html#5083" class="Function">length</a> <a id="28288" href="Ledger.Utxo.Properties.html#28172" class="Bound">ps</a><a id="28290" class="Symbol">)</a> <a id="28292" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="28294" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a>
    <a id="28304" href="Ledger.Utxo.Properties.html#28153" class="Function">updatePropDeps≡</a> <a id="28320" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="28323" class="Symbol">=</a> <a id="28325" href="Data.Nat.Properties.html#45522" class="Function">n∸n≡0</a> <a id="28331" class="Symbol">(</a><a id="28332" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28340" href="Ledger.Utxo.Properties.html#27686" class="Bound">deposits</a><a id="28348" class="Symbol">)</a>
    <a id="28354" href="Ledger.Utxo.Properties.html#28153" class="Function">updatePropDeps≡</a> <a id="28370" class="Symbol">(_</a> <a id="28373" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="28375" href="Ledger.Utxo.Properties.html#28375" class="Bound">ps</a><a id="28377" class="Symbol">)</a> <a id="28379" class="Symbol">=</a> <a id="28381" class="Keyword">let</a>
      <a id="28391" href="Ledger.Utxo.Properties.html#28391" class="Bound">upD</a> <a id="28395" class="Symbol">=</a> <a id="28397" href="Ledger.Utxo.html#7282" class="Function">updateProposalDeposits</a> <a id="28420" href="Ledger.Utxo.Properties.html#28375" class="Bound">ps</a> <a id="28423" href="Ledger.Utxo.Properties.html#27721" class="Bound">txid</a> <a id="28428" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a> <a id="28434" href="Ledger.Utxo.Properties.html#27686" class="Bound">deposits</a> <a id="28443" class="Keyword">in</a>
      <a id="28452" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
        <a id="28466" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28474" class="Symbol">(</a><a id="28475" href="Ledger.Utxo.Properties.html#28391" class="Bound">upD</a> <a id="28479" href="Axiom.Set.Map.Dec.html#1956" class="Function Operator">∪⁺</a> <a id="28482" href="Axiom.Set.Map.html#4658" class="Function Operator">❴</a> <a id="28484" href="Ledger.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="28501" class="Symbol">(</a><a id="28502" href="Ledger.Utxo.Properties.html#27721" class="Bound">txid</a> <a id="28507" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28509" href="Data.List.Base.html#5083" class="Function">length</a> <a id="28516" href="Ledger.Utxo.Properties.html#28375" class="Bound">ps</a><a id="28518" class="Symbol">)</a> <a id="28520" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28522" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a> <a id="28528" href="Axiom.Set.Map.html#4658" class="Function Operator">❵ᵐ</a><a id="28530" class="Symbol">)</a> <a id="28532" href="Data.Nat.Base.html#4456" class="Primitive Operator">∸</a> <a id="28534" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28542" href="Ledger.Utxo.Properties.html#27686" class="Bound">deposits</a>
          <a id="28561" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="28564" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="28569" class="Symbol">(</a><a id="28570" href="Data.Nat.Base.html#4456" class="Primitive Operator">_∸</a> <a id="28573" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28581" href="Ledger.Utxo.Properties.html#27686" class="Bound">deposits</a><a id="28589" class="Symbol">)</a> <a id="28591" href="Ledger.Utxo.Properties.html#27216" class="Function">∪⁺singleton≡</a> <a id="28604" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="28614" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28622" href="Ledger.Utxo.Properties.html#28391" class="Bound">upD</a> <a id="28626" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="28628" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a> <a id="28634" href="Data.Nat.Base.html#4456" class="Primitive Operator">∸</a> <a id="28636" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28644" href="Ledger.Utxo.Properties.html#27686" class="Bound">deposits</a>
          <a id="28663" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="28666" href="Data.Nat.Properties.html#48947" class="Function">+-∸-comm</a> <a id="28675" class="Symbol">_</a> <a id="28677" class="Symbol">(</a><a id="28678" href="Ledger.Utxo.Properties.html#27760" class="Function">≤updatePropDeps</a> <a id="28694" href="Ledger.Utxo.Properties.html#28375" class="Bound">ps</a><a id="28696" class="Symbol">)</a> <a id="28698" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="28708" class="Symbol">(</a><a id="28709" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28717" href="Ledger.Utxo.Properties.html#28391" class="Bound">upD</a> <a id="28721" href="Data.Nat.Base.html#4456" class="Primitive Operator">∸</a> <a id="28723" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28731" href="Ledger.Utxo.Properties.html#27686" class="Bound">deposits</a><a id="28739" class="Symbol">)</a> <a id="28741" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="28743" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a>
          <a id="28759" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="28762" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="28767" class="Symbol">(</a><a id="28768" href="Interface.HasAdd.html#135" class="Field Operator">_+</a> <a id="28771" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a><a id="28776" class="Symbol">)</a> <a id="28778" class="Symbol">(</a><a id="28779" href="Ledger.Utxo.Properties.html#28153" class="Function">updatePropDeps≡</a> <a id="28795" href="Ledger.Utxo.Properties.html#28375" class="Bound">ps</a><a id="28797" class="Symbol">)</a> <a id="28799" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="28809" class="Symbol">(</a><a id="28810" href="Data.List.Base.html#5083" class="Function">length</a> <a id="28817" href="Ledger.Utxo.Properties.html#28375" class="Bound">ps</a><a id="28819" class="Symbol">)</a> <a id="28821" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="28823" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a> <a id="28829" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="28831" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a>
          <a id="28847" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="28850" href="Data.Nat.Properties.html#14883" class="Function">+-comm</a> <a id="28857" class="Symbol">((</a><a id="28859" href="Data.List.Base.html#5083" class="Function">length</a> <a id="28866" href="Ledger.Utxo.Properties.html#28375" class="Bound">ps</a><a id="28868" class="Symbol">)</a> <a id="28870" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="28872" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a><a id="28877" class="Symbol">)</a> <a id="28879" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a> <a id="28885" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
        <a id="28895" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a> <a id="28901" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="28903" class="Symbol">(</a><a id="28904" href="Data.List.Base.html#5083" class="Function">length</a> <a id="28911" href="Ledger.Utxo.Properties.html#28375" class="Bound">ps</a><a id="28913" class="Symbol">)</a> <a id="28915" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="28917" href="Ledger.Utxo.Properties.html#27735" class="Bound">gaDep</a>
          <a id="28933" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>
        <a id="28943" class="Keyword">where</a> <a id="28949" class="Keyword">open</a> <a id="28954" href="Relation.Binary.PropositionalEquality.Properties.html#6744" class="Module">Prelude.≡-Reasoning</a>

  <a id="28977" href="Ledger.Utxo.Properties.html#28977" class="Function">≤certDeps</a>  <a id="28988" class="Symbol">:</a>  <a id="28991" class="Symbol">(</a><a id="28992" href="Ledger.Utxo.Properties.html#28992" class="Bound">certs</a> <a id="28998" class="Symbol">:</a> <a id="29000" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="29005" href="Ledger.Certs.html#1056" class="Datatype">DCert</a><a id="29010" class="Symbol">)</a>
                <a id="29028" class="Symbol">{</a><a id="29029" href="Ledger.Utxo.Properties.html#29029" class="Bound">d</a> <a id="29031" class="Symbol">:</a> <a id="29033" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="29048" href="Ledger.Set.Theory.html#1515" class="Function Operator">⇀</a> <a id="29050" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="29054" class="Symbol">}</a> <a id="29056" class="Symbol">{</a><a id="29057" href="Ledger.Utxo.Properties.html#29057" class="Symbol">(</a><a id="29058" href="Ledger.Utxo.Properties.html#29058" class="Bound">dp</a> <a id="29061" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29063" href="Ledger.Utxo.Properties.html#29063" class="Bound">c</a><a id="29064" href="Ledger.Utxo.Properties.html#29057" class="Symbol">)</a> <a id="29066" class="Symbol">:</a> <a id="29068" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="29083" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="29085" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="29089" class="Symbol">}</a>
             <a id="29104" class="Symbol">→</a>  <a id="29107" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29115" href="Ledger.Utxo.Properties.html#29029" class="Bound">d</a> <a id="29117" href="Interface.HasOrder.html#301" class="Field Operator">≤</a> <a id="29119" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29127" class="Symbol">((</a><a id="29129" href="Ledger.Utxo.Properties.html#29029" class="Bound">d</a> <a id="29131" href="Axiom.Set.Map.Dec.html#1956" class="Function Operator">∪⁺</a> <a id="29134" href="Interface.HasSingleton.html#348" class="Field Operator">❴</a> <a id="29136" class="Symbol">(</a><a id="29137" href="Ledger.Utxo.Properties.html#29058" class="Bound">dp</a> <a id="29140" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29142" href="Ledger.Utxo.Properties.html#29063" class="Bound">c</a><a id="29143" class="Symbol">)</a> <a id="29145" href="Interface.HasSingleton.html#348" class="Field Operator">❵</a><a id="29146" class="Symbol">)</a> <a id="29148" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="29150" href="Interface.HasEmptySet.html#150" class="Field">∅</a> <a id="29152" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a> <a id="29154" class="Symbol">)</a>

  <a id="29159" href="Ledger.Utxo.Properties.html#28977" class="Function">≤certDeps</a> <a id="29169" href="Ledger.Utxo.Properties.html#29169" class="Bound">certs</a> <a id="29175" class="Symbol">{</a><a id="29176" href="Ledger.Utxo.Properties.html#29176" class="Bound">d</a><a id="29177" class="Symbol">}</a> <a id="29179" class="Symbol">=</a> <a id="29181" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="29191" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29199" href="Ledger.Utxo.Properties.html#29176" class="Bound">d</a>                      <a id="29222" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">≤⟨</a> <a id="29225" href="Data.Nat.Properties.html#18419" class="Function">m≤m+n</a> <a id="29231" class="Symbol">(</a><a id="29232" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29240" href="Ledger.Utxo.Properties.html#29176" class="Bound">d</a><a id="29241" class="Symbol">)</a> <a id="29243" class="Symbol">_</a> <a id="29245" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">⟩</a>
    <a id="29251" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29259" href="Ledger.Utxo.Properties.html#29176" class="Bound">d</a> <a id="29261" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="29263" class="Symbol">_</a>                  <a id="29282" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="29285" href="Relation.Binary.PropositionalEquality.Core.html#1712" class="Function">sym</a> <a id="29289" href="Ledger.Utxo.Properties.html#27216" class="Function">∪⁺singleton≡</a> <a id="29302" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="29308" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29316" class="Symbol">(</a><a id="29317" href="Ledger.Utxo.Properties.html#29176" class="Bound">d</a> <a id="29319" href="Axiom.Set.Map.Dec.html#1956" class="Function Operator">∪⁺</a> <a id="29322" href="Interface.HasSingleton.html#348" class="Field Operator">❴</a> <a id="29324" class="Symbol">_</a> <a id="29326" href="Interface.HasSingleton.html#348" class="Field Operator">❵</a><a id="29327" class="Symbol">)</a>           <a id="29339" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="29342" href="Ledger.Utxo.Properties.html#26815" class="Function">getCoin∣∅≡id</a>  <a id="29356" class="Symbol">{</a><a id="29357" href="Ledger.Utxo.Properties.html#29176" class="Bound">d</a> <a id="29359" href="Axiom.Set.Map.Dec.html#1956" class="Function Operator">∪⁺</a> <a id="29362" href="Interface.HasSingleton.html#348" class="Field Operator">❴</a> <a id="29364" class="Symbol">_</a> <a id="29366" href="Interface.HasSingleton.html#348" class="Field Operator">❵</a><a id="29367" class="Symbol">}</a> <a id="29369" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="29375" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29383" class="Symbol">((</a><a id="29385" href="Ledger.Utxo.Properties.html#29176" class="Bound">d</a> <a id="29387" href="Axiom.Set.Map.Dec.html#1956" class="Function Operator">∪⁺</a> <a id="29390" href="Interface.HasSingleton.html#348" class="Field Operator">❴</a> <a id="29392" class="Symbol">_</a> <a id="29394" href="Interface.HasSingleton.html#348" class="Field Operator">❵</a><a id="29395" class="Symbol">)</a> <a id="29397" href="Axiom.Set.Map.html#10177" class="Function Operator">∣</a> <a id="29399" href="Interface.HasEmptySet.html#150" class="Field">∅</a> <a id="29401" href="Axiom.Set.Map.html#10177" class="Function Operator">ᶜ</a> <a id="29403" class="Symbol">)</a>  <a id="29406" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>
    <a id="29412" class="Keyword">where</a> <a id="29418" class="Keyword">open</a> <a id="29423" href="Data.Nat.Properties.html#13933" class="Module">≤-Reasoning</a>

  <a id="29438" href="Ledger.Utxo.Properties.html#29438" class="Function">≤updateCertDeps</a> <a id="29454" class="Symbol">:</a> <a id="29456" class="Symbol">(</a><a id="29457" href="Ledger.Utxo.Properties.html#29457" class="Bound">cs</a> <a id="29460" class="Symbol">:</a> <a id="29462" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="29467" href="Ledger.Certs.html#1056" class="Datatype">DCert</a><a id="29472" class="Symbol">)</a> <a id="29474" class="Symbol">{</a><a id="29475" href="Ledger.Utxo.Properties.html#29475" class="Bound">pp</a> <a id="29478" class="Symbol">:</a> <a id="29480" href="Ledger.PParams.html#2073" class="Record">PParams</a><a id="29487" class="Symbol">}</a> <a id="29489" class="Symbol">{</a><a id="29490" href="Ledger.Utxo.Properties.html#29490" class="Bound">deposits</a> <a id="29499" class="Symbol">:</a>  <a id="29502" href="Ledger.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="29517" href="Ledger.Set.Theory.html#1515" class="Function Operator">⇀</a> <a id="29519" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="29523" class="Symbol">}</a>
    <a id="29529" class="Symbol">→</a> <a id="29531" href="Ledger.Utxo.Properties.html#25191" class="Function">noRefundCert</a> <a id="29544" href="Ledger.Utxo.Properties.html#29457" class="Bound">cs</a> <a id="29547" class="Symbol">→</a> <a id="29549" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29557" href="Ledger.Utxo.Properties.html#29490" class="Bound">deposits</a> <a id="29566" href="Interface.HasOrder.html#301" class="Field Operator">≤</a> <a id="29568" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29576" class="Symbol">(</a><a id="29577" href="Ledger.Utxo.html#6975" class="Function">updateCertDeposits</a> <a id="29596" href="Ledger.Utxo.Properties.html#29475" class="Bound">pp</a> <a id="29599" href="Ledger.Utxo.Properties.html#29457" class="Bound">cs</a> <a id="29602" href="Ledger.Utxo.Properties.html#29490" class="Bound">deposits</a><a id="29610" class="Symbol">)</a>
  <a id="29614" href="Ledger.Utxo.Properties.html#29438" class="Function">≤updateCertDeps</a> <a id="29630" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="29633" href="Ledger.Utxo.Properties.html#29633" class="Bound">nrf</a> <a id="29637" class="Symbol">=</a> <a id="29639" href="Data.Nat.Properties.html#5136" class="Function">≤-reflexive</a> <a id="29651" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="29658" href="Ledger.Utxo.Properties.html#29438" class="Function">≤updateCertDeps</a> <a id="29674" class="Symbol">(</a><a id="29675" href="Ledger.Certs.html#1077" class="InductiveConstructor">delegate</a> <a id="29684" class="Symbol">_</a> <a id="29686" class="Symbol">_</a> <a id="29688" class="Symbol">_</a> <a id="29690" class="Symbol">_</a> <a id="29692" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="29694" href="Ledger.Utxo.Properties.html#29694" class="Bound">cs</a><a id="29696" class="Symbol">)</a>  <a id="29699" class="Symbol">(_</a> <a id="29702" href="Data.List.Relation.Unary.All.html#1707" class="InductiveConstructor Operator">All.∷</a> <a id="29708" href="Ledger.Utxo.Properties.html#29708" class="Bound">nrf</a><a id="29711" class="Symbol">)</a> <a id="29713" class="Symbol">=</a> <a id="29715" href="Data.Nat.Properties.html#5425" class="Function">≤-trans</a> <a id="29723" class="Symbol">(</a><a id="29724" href="Ledger.Utxo.Properties.html#29438" class="Function">≤updateCertDeps</a> <a id="29740" href="Ledger.Utxo.Properties.html#29694" class="Bound">cs</a> <a id="29743" href="Ledger.Utxo.Properties.html#29708" class="Bound">nrf</a><a id="29746" class="Symbol">)</a> <a id="29748" class="Symbol">(</a><a id="29749" href="Ledger.Utxo.Properties.html#28977" class="Function">≤certDeps</a> <a id="29759" href="Ledger.Utxo.Properties.html#29694" class="Bound">cs</a><a id="29761" class="Symbol">)</a>
  <a id="29765" href="Ledger.Utxo.Properties.html#29438" class="Function">≤updateCertDeps</a> <a id="29781" class="Symbol">(</a><a id="29782" href="Ledger.Certs.html#1192" class="InductiveConstructor">regpool</a> <a id="29790" class="Symbol">_</a> <a id="29792" class="Symbol">_</a> <a id="29794" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="29796" href="Ledger.Utxo.Properties.html#29796" class="Bound">cs</a><a id="29798" class="Symbol">)</a>       <a id="29806" class="Symbol">(_</a> <a id="29809" href="Data.List.Relation.Unary.All.html#1707" class="InductiveConstructor Operator">All.∷</a> <a id="29815" href="Ledger.Utxo.Properties.html#29815" class="Bound">nrf</a><a id="29818" class="Symbol">)</a> <a id="29820" class="Symbol">=</a> <a id="29822" href="Data.Nat.Properties.html#5425" class="Function">≤-trans</a> <a id="29830" class="Symbol">(</a><a id="29831" href="Ledger.Utxo.Properties.html#29438" class="Function">≤updateCertDeps</a> <a id="29847" href="Ledger.Utxo.Properties.html#29796" class="Bound">cs</a> <a id="29850" href="Ledger.Utxo.Properties.html#29815" class="Bound">nrf</a><a id="29853" class="Symbol">)</a> <a id="29855" class="Symbol">(</a><a id="29856" href="Ledger.Utxo.Properties.html#28977" class="Function">≤certDeps</a> <a id="29866" href="Ledger.Utxo.Properties.html#29796" class="Bound">cs</a><a id="29868" class="Symbol">)</a>
  <a id="29872" href="Ledger.Utxo.Properties.html#29438" class="Function">≤updateCertDeps</a> <a id="29888" class="Symbol">(</a><a id="29889" href="Ledger.Certs.html#1237" class="InductiveConstructor">retirepool</a> <a id="29900" class="Symbol">_</a> <a id="29902" class="Symbol">_</a> <a id="29904" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="29906" href="Ledger.Utxo.Properties.html#29906" class="Bound">cs</a><a id="29908" class="Symbol">)</a>    <a id="29913" class="Symbol">(_</a> <a id="29916" href="Data.List.Relation.Unary.All.html#1707" class="InductiveConstructor Operator">All.∷</a> <a id="29922" href="Ledger.Utxo.Properties.html#29922" class="Bound">nrf</a><a id="29925" class="Symbol">)</a> <a id="29927" class="Symbol">=</a> <a id="29929" href="Data.Nat.Properties.html#5425" class="Function">≤-trans</a> <a id="29937" class="Symbol">(</a><a id="29938" href="Ledger.Utxo.Properties.html#29438" class="Function">≤updateCertDeps</a> <a id="29954" href="Ledger.Utxo.Properties.html#29906" class="Bound">cs</a> <a id="29957" href="Ledger.Utxo.Properties.html#29922" class="Bound">nrf</a><a id="29960" class="Symbol">)</a> <a id="29962" class="Symbol">(</a><a id="29963" href="Data.Nat.Properties.html#5136" class="Function">≤-reflexive</a> <a id="29975" href="Ledger.Utxo.Properties.html#27062" class="Function">getCoin∪⁺∅∣∅id</a><a id="29989" class="Symbol">)</a>
  <a id="29993" href="Ledger.Utxo.Properties.html#29438" class="Function">≤updateCertDeps</a> <a id="30009" class="Symbol">(</a><a id="30010" href="Ledger.Certs.html#1277" class="InductiveConstructor">regdrep</a> <a id="30018" class="Symbol">_</a> <a id="30020" class="Symbol">_</a> <a id="30022" class="Symbol">_</a> <a id="30024" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30026" href="Ledger.Utxo.Properties.html#30026" class="Bound">cs</a><a id="30028" class="Symbol">)</a>     <a id="30034" class="Symbol">(_</a> <a id="30037" href="Data.List.Relation.Unary.All.html#1707" class="InductiveConstructor Operator">All.∷</a> <a id="30043" href="Ledger.Utxo.Properties.html#30043" class="Bound">nrf</a><a id="30046" class="Symbol">)</a> <a id="30048" class="Symbol">=</a> <a id="30050" href="Data.Nat.Properties.html#5425" class="Function">≤-trans</a> <a id="30058" class="Symbol">(</a><a id="30059" href="Ledger.Utxo.Properties.html#29438" class="Function">≤updateCertDeps</a> <a id="30075" href="Ledger.Utxo.Properties.html#30026" class="Bound">cs</a> <a id="30078" href="Ledger.Utxo.Properties.html#30043" class="Bound">nrf</a><a id="30081" class="Symbol">)</a> <a id="30083" class="Symbol">(</a><a id="30084" href="Ledger.Utxo.Properties.html#28977" class="Function">≤certDeps</a> <a id="30094" href="Ledger.Utxo.Properties.html#30026" class="Bound">cs</a><a id="30096" class="Symbol">)</a>
  <a id="30100" href="Ledger.Utxo.Properties.html#29438" class="Function">≤updateCertDeps</a> <a id="30116" class="Symbol">(</a><a id="30117" href="Ledger.Certs.html#1363" class="InductiveConstructor">ccreghot</a> <a id="30126" class="Symbol">_</a> <a id="30128" class="Symbol">_</a> <a id="30130" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30132" href="Ledger.Utxo.Properties.html#30132" class="Bound">cs</a><a id="30134" class="Symbol">)</a>      <a id="30141" class="Symbol">(_</a> <a id="30144" href="Data.List.Relation.Unary.All.html#1707" class="InductiveConstructor Operator">All.∷</a> <a id="30150" href="Ledger.Utxo.Properties.html#30150" class="Bound">nrf</a><a id="30153" class="Symbol">)</a> <a id="30155" class="Symbol">=</a> <a id="30157" href="Data.Nat.Properties.html#5425" class="Function">≤-trans</a> <a id="30165" class="Symbol">(</a><a id="30166" href="Ledger.Utxo.Properties.html#29438" class="Function">≤updateCertDeps</a> <a id="30182" href="Ledger.Utxo.Properties.html#30132" class="Bound">cs</a> <a id="30185" href="Ledger.Utxo.Properties.html#30150" class="Bound">nrf</a><a id="30188" class="Symbol">)</a> <a id="30190" class="Symbol">(</a><a id="30191" href="Data.Nat.Properties.html#5136" class="Function">≤-reflexive</a> <a id="30203" href="Ledger.Utxo.Properties.html#27062" class="Function">getCoin∪⁺∅∣∅id</a><a id="30217" class="Symbol">)</a>

  <a id="30222" class="Comment">-- Main Theorem: General Minimum Spending Condition --</a>
  <a id="30279" href="Ledger.Utxo.Properties.html#30279" class="Function">gmsc</a> <a id="30284" class="Symbol">:</a>  <a id="30287" class="Keyword">let</a> <a id="30291" class="Keyword">open</a> <a id="30296" href="Ledger.Transaction.html#5227" class="Module">Tx</a> <a id="30299" href="Ledger.Utxo.Properties.html#7151" class="Generalizable">tx</a> <a id="30302" class="Keyword">renaming</a> <a id="30311" class="Symbol">(</a><a id="30312" href="Ledger.Transaction.html#5313" class="Field">body</a> <a id="30317" class="Symbol">to</a> <a id="30320" class="Field">txb</a><a id="30323" class="Symbol">);</a> <a id="30326" class="Keyword">open</a> <a id="30331" href="Ledger.Transaction.html#4126" class="Module">TxBody</a> <a id="30338" href="Ledger.Utxo.Properties.html#30320" class="Function">txb</a>
              <a id="30356" href="Ledger.Utxo.Properties.html#30356" class="Bound">pp</a> <a id="30359" class="Symbol">=</a> <a id="30361" href="Ledger.Utxo.html#5102" class="Field">UTxOEnv.pparams</a> <a id="30377" href="Ledger.Utxo.Properties.html#7233" class="Generalizable">Γ</a><a id="30378" class="Symbol">;</a> <a id="30380" class="Keyword">open</a> <a id="30385" href="Ledger.PParams.html#2073" class="Module">PParams</a> <a id="30393" href="Ledger.Utxo.Properties.html#30356" class="Bound">pp</a>
              <a id="30410" class="Keyword">open</a> <a id="30415" href="Ledger.Utxo.html#5208" class="Module">UTxOState</a> <a id="30425" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a>
                <a id="30451" class="Keyword">renaming</a> <a id="30460" class="Symbol">(</a><a id="30461" href="Ledger.Utxo.html#5322" class="Field">utxo</a> <a id="30466" class="Symbol">to</a> <a id="30469" class="Field">st</a><a id="30471" class="Symbol">;</a> <a id="30473" href="Ledger.Utxo.html#5344" class="Field">fees</a> <a id="30478" class="Symbol">to</a> <a id="30481" class="Field">fs</a><a id="30483" class="Symbol">;</a> <a id="30485" href="Ledger.Utxo.html#5366" class="Field">deposits</a> <a id="30494" class="Symbol">to</a> <a id="30497" class="Field">deps</a><a id="30501" class="Symbol">;</a> <a id="30503" href="Ledger.Utxo.html#5392" class="Field">donations</a> <a id="30513" class="Symbol">to</a> <a id="30516" class="Field">dons</a><a id="30520" class="Symbol">)</a>
          <a id="30532" class="Keyword">in</a>
    <a id="30539" href="Ledger.Utxo.Properties.html#7233" class="Generalizable">Γ</a> <a id="30541" href="Ledger.Utxo.html#5513" class="Datatype Operator">⊢</a>  <a id="30544" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="30546" href="Ledger.Utxo.Properties.html#30469" class="Function">st</a>   <a id="30551" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="30553" href="Ledger.Utxo.Properties.html#30481" class="Function">fs</a>   <a id="30558" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="30560" href="Ledger.Utxo.Properties.html#30497" class="Function">deps</a>   <a id="30567" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="30569" href="Ledger.Utxo.Properties.html#30516" class="Function">dons</a>   <a id="30576" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a> <a id="30579" href="Ledger.Utxo.html#5513" class="Datatype Operator">⇀⦇</a> <a id="30582" href="Ledger.Utxo.Properties.html#7151" class="Generalizable">tx</a> <a id="30585" href="Ledger.Utxo.html#5513" class="Datatype Operator">,UTXO⦈</a>
         <a id="30601" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟦</a> <a id="30603" href="Ledger.Utxo.Properties.html#7196" class="Generalizable">utxo&#39;</a>  <a id="30610" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="30612" href="Ledger.Utxo.Properties.html#7330" class="Generalizable">fees&#39;</a>  <a id="30619" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="30621" href="Ledger.Utxo.Properties.html#7376" class="Generalizable">deposits&#39;</a>  <a id="30632" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">,</a> <a id="30634" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">donations&#39;</a>  <a id="30646" href="Ledger.Utxo.html#5275" class="InductiveConstructor Operator">⟧ᵘ</a>

    <a id="30654" class="Symbol">→</a> <a id="30656" href="Ledger.Utxo.Properties.html#25191" class="Function">noRefundCert</a> <a id="30669" href="Ledger.Transaction.html#4414" class="Function">txcerts</a> <a id="30677" class="Comment">-- FINAL ASSUMPTION --</a>

       <a id="30708" class="Comment">-------------------------------------------------------------------</a>
    <a id="30780" class="Symbol">→</a>  <a id="30783" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="30788" class="Symbol">(</a><a id="30789" href="Ledger.Utxo.html#11416" class="Function">consumed</a> <a id="30798" href="Ledger.Utxo.Properties.html#30356" class="Bound">pp</a> <a id="30801" href="Ledger.Utxo.Properties.html#7278" class="Generalizable">utxoState</a> <a id="30811" href="Ledger.Utxo.Properties.html#30320" class="Function">txb</a><a id="30814" class="Symbol">)</a> <a id="30816" href="Interface.HasOrder.html#477" class="Function Operator">≥</a> <a id="30818" href="Data.List.Base.html#5083" class="Function">length</a> <a id="30825" href="Ledger.Transaction.html#4512" class="Function">txprop</a> <a id="30832" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="30834" href="Ledger.PParams.html#3745" class="Function">govActionDeposit</a>

  <a id="30854" href="Ledger.Utxo.Properties.html#30279" class="Function">gmsc</a> <a id="30859" href="Ledger.Utxo.Properties.html#30859" class="Bound">step</a><a id="30863" class="Symbol">@(</a><a id="30865" href="Ledger.Utxo.html#15648" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="30881" href="Ledger.Utxo.Properties.html#30881" class="Bound">tx</a> <a id="30884" href="Ledger.Utxo.Properties.html#30884" class="Bound">Γ</a> <a id="30886" href="Ledger.Utxo.Properties.html#30886" class="Bound">utxoState</a> <a id="30896" class="Symbol">_</a> <a id="30898" class="Symbol">_</a> <a id="30900" class="Symbol">_</a> <a id="30902" class="Symbol">_</a> <a id="30904" class="Symbol">_</a> <a id="30906" href="Ledger.Utxo.Properties.html#30906" class="Bound">c≡p</a> <a id="30910" href="Ledger.Utxo.Properties.html#30910" class="Bound">cmint≡0</a> <a id="30918" class="Symbol">_</a> <a id="30920" class="Symbol">_</a> <a id="30922" class="Symbol">_</a> <a id="30924" class="Symbol">_</a> <a id="30926" class="Symbol">_</a> <a id="30928" class="Symbol">_</a> <a id="30930" class="Symbol">_</a> <a id="30932" class="Symbol">_</a> <a id="30934" class="Symbol">_)</a> <a id="30937" href="Ledger.Utxo.Properties.html#30937" class="Bound">nrf</a> <a id="30941" class="Symbol">=</a>
    <a id="30947" href="Relation.Binary.Reasoning.Syntax.html#1510" class="Function Operator">begin</a>
    <a id="30957" href="Data.List.Base.html#5083" class="Function">length</a> <a id="30964" href="Ledger.Transaction.html#4512" class="Function">txprop</a> <a id="30971" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="30973" href="Ledger.PParams.html#3745" class="Function">govActionDeposit</a>
      <a id="30996" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="31000" href="Ledger.Utxo.Properties.html#28153" class="Function">updatePropDeps≡</a> <a id="31016" href="Ledger.Transaction.html#4512" class="Function">txprop</a> <a id="31023" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="31029" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31037" class="Symbol">(</a><a id="31038" href="Ledger.Utxo.html#7282" class="Function">updateProposalDeposits</a> <a id="31061" href="Ledger.Transaction.html#4512" class="Function">txprop</a> <a id="31068" href="Ledger.Transaction.html#4748" class="Function">txid</a> <a id="31073" href="Ledger.PParams.html#3745" class="Function">govActionDeposit</a> <a id="31090" href="Ledger.Utxo.Properties.html#32392" class="Function">deps</a><a id="31094" class="Symbol">)</a> <a id="31096" href="Data.Nat.Base.html#4456" class="Primitive Operator">∸</a> <a id="31098" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31106" href="Ledger.Utxo.Properties.html#32392" class="Function">deps</a>
      <a id="31117" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">≤⟨</a> <a id="31120" href="Data.Nat.Properties.html#46578" class="Function">∸-monoˡ-≤</a> <a id="31130" class="Symbol">(</a><a id="31131" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31139" href="Ledger.Utxo.Properties.html#32392" class="Function">deps</a><a id="31143" class="Symbol">)</a> <a id="31145" class="Symbol">(</a><a id="31146" href="Ledger.Utxo.Properties.html#29438" class="Function">≤updateCertDeps</a> <a id="31162" href="Ledger.Transaction.html#4414" class="Function">txcerts</a> <a id="31170" href="Ledger.Utxo.Properties.html#30937" class="Bound">nrf</a><a id="31173" class="Symbol">)</a> <a id="31175" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">⟩</a>
    <a id="31181" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31189" class="Symbol">(</a><a id="31190" href="Ledger.Utxo.html#7587" class="Function">updateDeposits</a> <a id="31205" href="Ledger.Utxo.Properties.html#32205" class="Function">pp</a> <a id="31208" href="Ledger.Utxo.Properties.html#32295" class="Function">txb</a> <a id="31212" href="Ledger.Utxo.Properties.html#32392" class="Function">deps</a><a id="31216" class="Symbol">)</a> <a id="31218" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="31220" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31228" href="Ledger.Utxo.Properties.html#32392" class="Function">deps</a>
      <a id="31239" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="31242" href="Data.Integer.Ext.html#531" class="Function">∸≡posPart⊖</a> <a id="31253" class="Symbol">{</a><a id="31254" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31262" class="Symbol">(</a><a id="31263" href="Ledger.Utxo.html#7587" class="Function">updateDeposits</a> <a id="31278" href="Ledger.Utxo.Properties.html#32205" class="Function">pp</a> <a id="31281" href="Ledger.Utxo.Properties.html#32295" class="Function">txb</a> <a id="31285" href="Ledger.Utxo.Properties.html#32392" class="Function">deps</a><a id="31289" class="Symbol">)}</a> <a id="31292" class="Symbol">{</a><a id="31293" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31301" href="Ledger.Utxo.Properties.html#32392" class="Function">deps</a><a id="31305" class="Symbol">}</a> <a id="31307" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="31313" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a>
      <a id="31327" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">≤⟨</a> <a id="31330" href="Data.Nat.Properties.html#18502" class="Function">m≤n+m</a> <a id="31336" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a> <a id="31344" class="Symbol">(</a><a id="31345" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="31350" href="Ledger.Utxo.Properties.html#32545" class="Function">balOut</a> <a id="31357" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31359" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="31365" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31367" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="31377" class="Symbol">)</a> <a id="31379" href="Relation.Binary.Reasoning.Syntax.html#5482" class="Function">⟩</a>
    <a id="31385" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="31390" href="Ledger.Utxo.Properties.html#32545" class="Function">balOut</a> <a id="31397" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31399" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="31405" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31407" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="31418" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31420" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a>
      <a id="31434" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="31437" href="Data.Nat.Properties.html#14550" class="Function">+-assoc</a> <a id="31445" class="Symbol">(</a><a id="31446" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="31451" href="Ledger.Utxo.Properties.html#32545" class="Function">balOut</a> <a id="31458" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31460" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="31465" class="Symbol">)</a> <a id="31467" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="31478" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a> <a id="31486" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="31492" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="31497" href="Ledger.Utxo.Properties.html#32545" class="Function">balOut</a> <a id="31504" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31506" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="31512" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31514" class="Symbol">(</a><a id="31515" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="31526" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31528" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a><a id="31535" class="Symbol">)</a>
      <a id="31543" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">≡⟨</a> <a id="31546" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="31551" class="Symbol">(</a><a id="31552" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="31557" href="Ledger.Utxo.Properties.html#32545" class="Function">balOut</a> <a id="31564" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31566" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="31572" href="Interface.HasAdd.html#135" class="Field Operator">+_</a><a id="31574" class="Symbol">)</a> <a id="31576" class="Symbol">(</a><a id="31577" href="Data.Nat.Properties.html#14883" class="Function">+-comm</a> <a id="31584" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="31595" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a><a id="31602" class="Symbol">)</a> <a id="31604" href="Relation.Binary.Reasoning.Syntax.html#10986" class="Function">⟩</a>
    <a id="31610" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="31615" href="Ledger.Utxo.Properties.html#32545" class="Function">balOut</a> <a id="31622" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31624" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="31630" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31632" class="Symbol">(</a><a id="31633" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a> <a id="31641" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31643" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="31653" class="Symbol">)</a>
      <a id="31661" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="31665" href="Data.Nat.Properties.html#14550" class="Function">+-assoc</a> <a id="31673" class="Symbol">(</a><a id="31674" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="31679" href="Ledger.Utxo.Properties.html#32545" class="Function">balOut</a> <a id="31686" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31688" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="31693" class="Symbol">)</a> <a id="31695" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a> <a id="31703" href="Ledger.Transaction.html#4552" class="Function">txdonation</a> <a id="31714" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="31720" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="31725" href="Ledger.Utxo.Properties.html#32545" class="Function">balOut</a> <a id="31732" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31734" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="31740" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31742" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a> <a id="31750" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31752" href="Ledger.Transaction.html#4552" class="Function">txdonation</a>
      <a id="31769" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="31773" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="31778" class="Symbol">(λ</a> <a id="31781" href="Ledger.Utxo.Properties.html#31781" class="Bound">x</a> <a id="31783" class="Symbol">→</a> <a id="31785" href="Ledger.Utxo.Properties.html#31781" class="Bound">x</a> <a id="31787" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31789" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a> <a id="31797" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31799" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="31809" class="Symbol">)</a> <a id="31811" href="Ledger.TokenAlgebra.html#1857" class="Function">coin-inject-lemma</a> <a id="31829" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="31835" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="31840" class="Symbol">(</a><a id="31841" href="Ledger.Utxo.Properties.html#32545" class="Function">balOut</a> <a id="31848" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31850" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="31857" href="Ledger.Transaction.html#4310" class="Function">txfee</a><a id="31862" class="Symbol">)</a> <a id="31864" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31866" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a> <a id="31874" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31876" href="Ledger.Transaction.html#4552" class="Function">txdonation</a>
      <a id="31893" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="31897" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="31902" class="Symbol">(</a><a id="31903" href="Interface.HasAdd.html#135" class="Field Operator">_+</a> <a id="31906" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="31916" class="Symbol">)</a> <a id="31918" href="Ledger.TokenAlgebra.html#1857" class="Function">coin-inject-lemma</a> <a id="31936" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="31942" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="31947" class="Symbol">(</a><a id="31948" href="Ledger.Utxo.Properties.html#32545" class="Function">balOut</a> <a id="31955" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31957" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="31964" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="31970" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31972" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="31979" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a><a id="31986" class="Symbol">)</a> <a id="31988" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="31990" href="Ledger.Transaction.html#4552" class="Function">txdonation</a>
      <a id="32007" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="32011" href="Ledger.TokenAlgebra.html#1857" class="Function">coin-inject-lemma</a> <a id="32029" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="32035" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="32040" class="Symbol">(</a><a id="32041" href="Ledger.Utxo.Properties.html#32545" class="Function">balOut</a> <a id="32048" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="32050" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="32057" href="Ledger.Transaction.html#4310" class="Function">txfee</a> <a id="32063" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="32065" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="32072" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a> <a id="32080" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="32082" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="32089" href="Ledger.Transaction.html#4552" class="Function">txdonation</a><a id="32099" class="Symbol">)</a>
      <a id="32107" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">≡˘⟨</a> <a id="32111" href="Relation.Binary.PropositionalEquality.Core.html#1158" class="Function">cong</a> <a id="32116" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="32121" href="Ledger.Utxo.Properties.html#30906" class="Bound">c≡p</a> <a id="32125" href="Relation.Binary.Reasoning.Syntax.html#11477" class="Function">⟩</a>
    <a id="32131" href="Ledger.TokenAlgebra.html#1233" class="Function">coin</a> <a id="32136" class="Symbol">(</a><a id="32137" href="Ledger.Utxo.Properties.html#32539" class="Function">balIn</a> <a id="32143" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="32145" href="Ledger.Transaction.html#4338" class="Function">mint</a> <a id="32150" href="Interface.HasAdd.html#135" class="Field Operator">+</a> <a id="32152" href="Ledger.TokenAlgebra.html#1278" class="Function">inject</a> <a id="32159" href="Ledger.Utxo.Properties.html#32430" class="Function">refunds</a><a id="32166" class="Symbol">)</a> <a id="32168" href="Relation.Binary.Reasoning.Syntax.html#12283" class="Function Operator">∎</a>
    <a id="32174" class="Keyword">where</a>
    <a id="32184" class="Keyword">open</a> <a id="32189" href="Data.Nat.Properties.html#13933" class="Module">≤-Reasoning</a>
    <a id="32205" href="Ledger.Utxo.Properties.html#32205" class="Function">pp</a> <a id="32208" class="Symbol">:</a> <a id="32210" href="Ledger.PParams.html#2073" class="Record">PParams</a>
    <a id="32222" href="Ledger.Utxo.Properties.html#32205" class="Function">pp</a> <a id="32225" class="Symbol">=</a> <a id="32227" href="Ledger.Utxo.html#5102" class="Field">UTxOEnv.pparams</a> <a id="32243" href="Ledger.Utxo.Properties.html#30884" class="Bound">Γ</a><a id="32244" class="Symbol">;</a> <a id="32246" class="Keyword">open</a> <a id="32251" href="Ledger.PParams.html#2073" class="Module">PParams</a> <a id="32259" href="Ledger.Utxo.Properties.html#32205" class="Function">pp</a>
    <a id="32266" class="Keyword">open</a> <a id="32271" href="Ledger.Transaction.html#5227" class="Module">Tx</a> <a id="32274" href="Ledger.Utxo.Properties.html#30881" class="Bound">tx</a> <a id="32277" class="Keyword">renaming</a> <a id="32286" class="Symbol">(</a><a id="32287" href="Ledger.Transaction.html#5313" class="Field">body</a> <a id="32292" class="Symbol">to</a> <a id="32295" class="Field">txb</a><a id="32298" class="Symbol">);</a> <a id="32301" class="Keyword">open</a> <a id="32306" href="Ledger.Transaction.html#4126" class="Module">TxBody</a> <a id="32313" href="Ledger.Utxo.Properties.html#32295" class="Function">txb</a>
    <a id="32321" class="Keyword">open</a> <a id="32326" href="Ledger.Utxo.html#5208" class="Module">UTxOState</a> <a id="32336" href="Ledger.Utxo.Properties.html#30886" class="Bound">utxoState</a> <a id="32346" class="Keyword">renaming</a> <a id="32355" class="Symbol">(</a><a id="32356" href="Ledger.Utxo.html#5322" class="Field">utxo</a> <a id="32361" class="Symbol">to</a> <a id="32364" class="Field">st</a><a id="32366" class="Symbol">;</a> <a id="32368" href="Ledger.Utxo.html#5344" class="Field">fees</a> <a id="32373" class="Symbol">to</a> <a id="32376" class="Field">fs</a><a id="32378" class="Symbol">;</a> <a id="32380" href="Ledger.Utxo.html#5366" class="Field">deposits</a> <a id="32389" class="Symbol">to</a> <a id="32392" class="Field">deps</a><a id="32396" class="Symbol">;</a> <a id="32398" href="Ledger.Utxo.html#5392" class="Field">donations</a> <a id="32408" class="Symbol">to</a> <a id="32411" class="Field">dons</a><a id="32415" class="Symbol">)</a>

    <a id="32422" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a> <a id="32430" href="Ledger.Utxo.Properties.html#32430" class="Function">refunds</a> <a id="32438" class="Symbol">:</a> <a id="32440" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="32449" href="Ledger.Utxo.Properties.html#32422" class="Function">newDeps</a> <a id="32457" class="Symbol">=</a> <a id="32459" href="Ledger.Utxo.html#11290" class="Function">newDeposits</a> <a id="32471" href="Ledger.Utxo.Properties.html#32205" class="Function">pp</a> <a id="32474" href="Ledger.Utxo.Properties.html#30886" class="Bound">utxoState</a> <a id="32484" href="Ledger.Utxo.Properties.html#32295" class="Function">txb</a>
    <a id="32492" href="Ledger.Utxo.Properties.html#32430" class="Function">refunds</a> <a id="32500" class="Symbol">=</a> <a id="32502" href="Ledger.Utxo.html#11158" class="Function">depositRefunds</a> <a id="32517" href="Ledger.Utxo.Properties.html#32205" class="Function">pp</a> <a id="32520" href="Ledger.Utxo.Properties.html#30886" class="Bound">utxoState</a> <a id="32530" href="Ledger.Utxo.Properties.html#32295" class="Function">txb</a>

    <a id="32539" href="Ledger.Utxo.Properties.html#32539" class="Function">balIn</a> <a id="32545" href="Ledger.Utxo.Properties.html#32545" class="Function">balOut</a> <a id="32552" class="Symbol">:</a> <a id="32554" href="Ledger.TokenAlgebra.html#816" class="Function">Value</a>
    <a id="32564" href="Ledger.Utxo.Properties.html#32539" class="Function">balIn</a> <a id="32570" class="Symbol">=</a> <a id="32572" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="32580" class="Symbol">(</a><a id="32581" href="Ledger.Utxo.Properties.html#32364" class="Function">st</a> <a id="32584" href="Axiom.Set.Map.html#10107" class="Function Operator">∣</a> <a id="32586" href="Ledger.Transaction.html#4216" class="Function">txins</a><a id="32591" class="Symbol">)</a>
    <a id="32597" href="Ledger.Utxo.Properties.html#32545" class="Function">balOut</a> <a id="32604" class="Symbol">=</a> <a id="32606" href="Ledger.Utxo.html#5940" class="Function">balance</a> <a id="32614" class="Symbol">(</a><a id="32615" href="Ledger.Utxo.html#5869" class="Function">outs</a> <a id="32620" href="Ledger.Utxo.Properties.html#32295" class="Function">txb</a><a id="32623" class="Symbol">)</a>
<a id="32625" class="Markup">\end{code}</a><a id="32635" class="Background">
\end{property}
</a></pre></body></html>