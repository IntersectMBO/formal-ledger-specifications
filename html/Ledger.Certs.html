<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Certs</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="53" class="Keyword">renaming</a> <a id="62" class="Symbol">(</a><a id="63" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="71" class="Symbol">to</a> <a id="74" class="Function">filter</a><a id="80" class="Symbol">)</a>
<a id="82" class="Keyword">open</a> <a id="87" class="Keyword">import</a> <a id="94" href="Ledger.Types.GovStructure.html" class="Module">Ledger.Types.GovStructure</a>
<a id="120" class="Keyword">open</a> <a id="125" class="Keyword">import</a> <a id="132" href="Ledger.Types.Numeric.UnitInterval.html" class="Module">Ledger.Types.Numeric.UnitInterval</a>

<a id="167" class="Keyword">module</a> <a id="174" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="187" class="Symbol">(</a><a id="188" href="Ledger.Certs.html#188" class="Bound">gs</a> <a id="191" class="Symbol">:</a> <a id="193" class="Symbol">_)</a> <a id="196" class="Symbol">(</a><a id="197" class="Keyword">open</a> <a id="202" href="Ledger.Types.GovStructure.html#235" class="Module">GovStructure</a> <a id="215" href="Ledger.Certs.html#188" class="Bound">gs</a><a id="217" class="Symbol">)</a> <a id="219" class="Keyword">where</a>

<a id="226" class="Keyword">open</a> <a id="231" class="Keyword">import</a> <a id="238" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>

<a id="259" class="Keyword">open</a> <a id="264" class="Keyword">import</a> <a id="271" href="Ledger.GovernanceActions.html" class="Module">Ledger.GovernanceActions</a> <a id="296" href="Ledger.Certs.html#188" class="Bound">gs</a>
<a id="299" class="Keyword">open</a> <a id="304" href="Ledger.Address.html#1211" class="Module">RwdAddr</a>
<a id="312" class="Keyword">open</a> <a id="317" href="Ledger.PParams.html#1443" class="Module">PParams</a>


<a id="327" class="Keyword">data</a> <a id="DepositPurpose"></a><a id="332" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="347" class="Symbol">:</a> <a id="349" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="354" class="Keyword">where</a>
  <a id="DepositPurpose.CredentialDeposit"></a><a id="362" href="Ledger.Certs.html#362" class="InductiveConstructor">CredentialDeposit</a>  <a id="381" class="Symbol">:</a> <a id="383" href="Ledger.Address.html#273" class="Datatype">Credential</a>   <a id="396" class="Symbol">→</a> <a id="398" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a>
  <a id="DepositPurpose.PoolDeposit"></a><a id="415" href="Ledger.Certs.html#415" class="InductiveConstructor">PoolDeposit</a>        <a id="434" class="Symbol">:</a> <a id="436" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a>      <a id="449" class="Symbol">→</a> <a id="451" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a>
  <a id="DepositPurpose.DRepDeposit"></a><a id="468" href="Ledger.Certs.html#468" class="InductiveConstructor">DRepDeposit</a>        <a id="487" class="Symbol">:</a> <a id="489" href="Ledger.Address.html#273" class="Datatype">Credential</a>   <a id="502" class="Symbol">→</a> <a id="504" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a>
  <a id="DepositPurpose.GovActionDeposit"></a><a id="521" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a>   <a id="540" class="Symbol">:</a> <a id="542" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a>  <a id="555" class="Symbol">→</a> <a id="557" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a>

<a id="Deposits"></a><a id="573" href="Ledger.Certs.html#573" class="Function">Deposits</a> <a id="582" class="Symbol">=</a> <a id="584" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="599" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="601" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>


<a id="608" class="Keyword">instance</a>
  <a id="619" class="Keyword">unquoteDecl</a> <a id="DecEq-DepositPurpose"></a><a id="631" href="Ledger.Certs.html#631" class="Function">DecEq-DepositPurpose</a> <a id="652" class="Symbol">=</a> <a id="654" href="Tactic.Derive.DecEq.html#3519" class="Function">derive-DecEq</a>
    <a id="671" class="Symbol">((</a><a id="673" class="Keyword">quote</a> <a id="679" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="694" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="696" href="Ledger.Certs.html#631" class="Function">DecEq-DepositPurpose</a><a id="716" class="Symbol">)</a> <a id="718" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="720" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="722" class="Symbol">)</a>


<a id="726" class="Keyword">record</a> <a id="PoolParams"></a><a id="733" href="Ledger.Certs.html#733" class="Record">PoolParams</a> <a id="744" class="Symbol">:</a> <a id="746" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="751" class="Keyword">where</a>
  <a id="759" class="Keyword">field</a>
    <a id="PoolParams.owners"></a><a id="769" href="Ledger.Certs.html#769" class="Field">owners</a>          <a id="785" class="Symbol">:</a> <a id="787" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="789" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a>
    <a id="PoolParams.cost"></a><a id="801" href="Ledger.Certs.html#801" class="Field">cost</a>            <a id="817" class="Symbol">:</a> <a id="819" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="PoolParams.margin"></a><a id="828" href="Ledger.Certs.html#828" class="Field">margin</a>          <a id="844" class="Symbol">:</a> <a id="846" href="Ledger.Types.Numeric.UnitInterval.html#2117" class="Function">UnitInterval</a>
    <a id="PoolParams.pledge"></a><a id="863" href="Ledger.Certs.html#863" class="Field">pledge</a>          <a id="879" class="Symbol">:</a> <a id="881" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="PoolParams.rewardAccount"></a><a id="890" href="Ledger.Certs.html#890" class="Field">rewardAccount</a>   <a id="906" class="Symbol">:</a> <a id="908" href="Ledger.Address.html#273" class="Datatype">Credential</a>


<a id="921" class="Keyword">data</a> <a id="DCert"></a><a id="926" href="Ledger.Certs.html#926" class="Datatype">DCert</a> <a id="932" class="Symbol">:</a> <a id="934" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="939" class="Keyword">where</a>
  <a id="DCert.delegate"></a><a id="947" href="Ledger.Certs.html#947" class="InductiveConstructor">delegate</a>    <a id="959" class="Symbol">:</a> <a id="961" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="972" class="Symbol">→</a> <a id="974" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="980" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="987" class="Symbol">→</a> <a id="989" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="995" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a> <a id="1003" class="Symbol">→</a> <a id="1005" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a> <a id="1010" class="Symbol">→</a> <a id="1012" href="Ledger.Certs.html#926" class="Datatype">DCert</a>
  <a id="DCert.dereg"></a><a id="1020" href="Ledger.Certs.html#1020" class="InductiveConstructor">dereg</a>       <a id="1032" class="Symbol">:</a> <a id="1034" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="1045" class="Symbol">→</a> <a id="1047" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1053" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a> <a id="1058" class="Symbol">→</a> <a id="1060" href="Ledger.Certs.html#926" class="Datatype">DCert</a>
  <a id="DCert.regpool"></a><a id="1068" href="Ledger.Certs.html#1068" class="InductiveConstructor">regpool</a>     <a id="1080" class="Symbol">:</a> <a id="1082" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a> <a id="1090" class="Symbol">→</a> <a id="1092" href="Ledger.Certs.html#733" class="Record">PoolParams</a> <a id="1103" class="Symbol">→</a> <a id="1105" href="Ledger.Certs.html#926" class="Datatype">DCert</a>
  <a id="DCert.retirepool"></a><a id="1113" href="Ledger.Certs.html#1113" class="InductiveConstructor">retirepool</a>  <a id="1125" class="Symbol">:</a> <a id="1127" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a> <a id="1135" class="Symbol">→</a> <a id="1137" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a> <a id="1143" class="Symbol">→</a> <a id="1145" href="Ledger.Certs.html#926" class="Datatype">DCert</a>
  <a id="DCert.regdrep"></a><a id="1153" href="Ledger.Certs.html#1153" class="InductiveConstructor">regdrep</a>     <a id="1165" class="Symbol">:</a> <a id="1167" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="1178" class="Symbol">→</a> <a id="1180" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a> <a id="1185" class="Symbol">→</a> <a id="1187" href="Ledger.GovernanceActions.html#642" class="Record">Anchor</a> <a id="1194" class="Symbol">→</a> <a id="1196" href="Ledger.Certs.html#926" class="Datatype">DCert</a>
  <a id="DCert.deregdrep"></a><a id="1204" href="Ledger.Certs.html#1204" class="InductiveConstructor">deregdrep</a>   <a id="1216" class="Symbol">:</a> <a id="1218" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="1229" class="Symbol">→</a> <a id="1231" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a> <a id="1236" class="Symbol">→</a> <a id="1238" href="Ledger.Certs.html#926" class="Datatype">DCert</a>
  <a id="DCert.ccreghot"></a><a id="1246" href="Ledger.Certs.html#1246" class="InductiveConstructor">ccreghot</a>    <a id="1258" class="Symbol">:</a> <a id="1260" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="1271" class="Symbol">→</a> <a id="1273" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1279" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="1290" class="Symbol">→</a> <a id="1292" href="Ledger.Certs.html#926" class="Datatype">DCert</a>


  <a id="1302" class="Comment">-- The `reg` cert is deprecated in Conway, but it&#39;s still present in this era</a>
  <a id="1382" class="Comment">-- for backwards compatibility. This has been added to the spec to make</a>
  <a id="1456" class="Comment">-- conformance testing work properly. We don&#39;t talk about this certificate</a>
  <a id="1533" class="Comment">-- in the pdf because it has been deprecated and we want to discourage people</a>
  <a id="1613" class="Comment">-- from using it.</a>
  <a id="DCert.reg"></a><a id="1633" href="Ledger.Certs.html#1633" class="InductiveConstructor">reg</a>         <a id="1645" class="Symbol">:</a> <a id="1647" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="1658" class="Symbol">→</a> <a id="1660" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a> <a id="1665" class="Symbol">→</a> <a id="1667" href="Ledger.Certs.html#926" class="Datatype">DCert</a>


<a id="cwitness"></a><a id="1675" href="Ledger.Certs.html#1675" class="Function">cwitness</a> <a id="1684" class="Symbol">:</a> <a id="1686" href="Ledger.Certs.html#926" class="Datatype">DCert</a> <a id="1692" class="Symbol">→</a> <a id="1694" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1700" href="Ledger.Address.html#273" class="Datatype">Credential</a>
<a id="1711" href="Ledger.Certs.html#1675" class="Function">cwitness</a> <a id="1720" class="Symbol">(</a><a id="1721" href="Ledger.Certs.html#947" class="InductiveConstructor">delegate</a> <a id="1730" href="Ledger.Certs.html#1730" class="Bound">c</a> <a id="1732" class="Symbol">_</a> <a id="1734" class="Symbol">_</a> <a id="1736" class="Symbol">_)</a>  <a id="1740" class="Symbol">=</a> <a id="1742" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1747" href="Ledger.Certs.html#1730" class="Bound">c</a>
<a id="1749" href="Ledger.Certs.html#1675" class="Function">cwitness</a> <a id="1758" class="Symbol">(</a><a id="1759" href="Ledger.Certs.html#1020" class="InductiveConstructor">dereg</a> <a id="1765" href="Ledger.Certs.html#1765" class="Bound">c</a> <a id="1767" class="Symbol">_)</a>         <a id="1778" class="Symbol">=</a> <a id="1780" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1785" href="Ledger.Certs.html#1765" class="Bound">c</a>
<a id="1787" href="Ledger.Certs.html#1675" class="Function">cwitness</a> <a id="1796" class="Symbol">(</a><a id="1797" href="Ledger.Certs.html#1068" class="InductiveConstructor">regpool</a> <a id="1805" href="Ledger.Certs.html#1805" class="Bound">kh</a> <a id="1808" class="Symbol">_)</a>      <a id="1816" class="Symbol">=</a> <a id="1818" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1823" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="1825" href="Ledger.Address.html#299" class="InductiveConstructor">KeyHashObj</a> <a id="1836" href="Ledger.Certs.html#1805" class="Bound">kh</a>
<a id="1839" href="Ledger.Certs.html#1675" class="Function">cwitness</a> <a id="1848" class="Symbol">(</a><a id="1849" href="Ledger.Certs.html#1113" class="InductiveConstructor">retirepool</a> <a id="1860" href="Ledger.Certs.html#1860" class="Bound">kh</a> <a id="1863" class="Symbol">_)</a>   <a id="1868" class="Symbol">=</a> <a id="1870" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1875" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="1877" href="Ledger.Address.html#299" class="InductiveConstructor">KeyHashObj</a> <a id="1888" href="Ledger.Certs.html#1860" class="Bound">kh</a>
<a id="1891" href="Ledger.Certs.html#1675" class="Function">cwitness</a> <a id="1900" class="Symbol">(</a><a id="1901" href="Ledger.Certs.html#1153" class="InductiveConstructor">regdrep</a> <a id="1909" href="Ledger.Certs.html#1909" class="Bound">c</a> <a id="1911" class="Symbol">_</a> <a id="1913" class="Symbol">_)</a>     <a id="1920" class="Symbol">=</a> <a id="1922" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1927" href="Ledger.Certs.html#1909" class="Bound">c</a>
<a id="1929" href="Ledger.Certs.html#1675" class="Function">cwitness</a> <a id="1938" class="Symbol">(</a><a id="1939" href="Ledger.Certs.html#1204" class="InductiveConstructor">deregdrep</a> <a id="1949" href="Ledger.Certs.html#1949" class="Bound">c</a> <a id="1951" class="Symbol">_)</a>     <a id="1958" class="Symbol">=</a> <a id="1960" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1965" href="Ledger.Certs.html#1949" class="Bound">c</a>
<a id="1967" href="Ledger.Certs.html#1675" class="Function">cwitness</a> <a id="1976" class="Symbol">(</a><a id="1977" href="Ledger.Certs.html#1246" class="InductiveConstructor">ccreghot</a> <a id="1986" href="Ledger.Certs.html#1986" class="Bound">c</a> <a id="1988" class="Symbol">_)</a>      <a id="1996" class="Symbol">=</a> <a id="1998" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2003" href="Ledger.Certs.html#1986" class="Bound">c</a>


<a id="2007" class="Comment">-- The implementation requires the `reg` cert to be witnessed only if the</a>
<a id="2081" class="Comment">-- deposit is set. There didn&#39;t use to be a field for the deposit, but that was</a>
<a id="2161" class="Comment">-- added in the Conway era to make it easier to determine, just by looking at</a>
<a id="2239" class="Comment">-- the transaction, how much deposit was paid for that certificate.</a>
<a id="2307" href="Ledger.Certs.html#1675" class="Function">cwitness</a> <a id="2316" class="Symbol">(</a><a id="2317" href="Ledger.Certs.html#1633" class="InductiveConstructor">reg</a> <a id="2321" class="Symbol">_</a> <a id="2323" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="2327" class="Symbol">)</a>        <a id="2336" class="Symbol">=</a> <a id="2338" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="2346" href="Ledger.Certs.html#1675" class="Function">cwitness</a> <a id="2355" class="Symbol">(</a><a id="2356" href="Ledger.Certs.html#1633" class="InductiveConstructor">reg</a> <a id="2360" href="Ledger.Certs.html#2360" class="Bound">c</a> <a id="2362" class="Symbol">(</a><a id="2363" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2367" class="Symbol">_))</a>     <a id="2375" class="Symbol">=</a> <a id="2377" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2382" href="Ledger.Certs.html#2360" class="Bound">c</a>


<a id="2386" class="Keyword">record</a> <a id="CertEnv"></a><a id="2393" href="Ledger.Certs.html#2393" class="Record">CertEnv</a> <a id="2401" class="Symbol">:</a> <a id="2403" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2408" class="Keyword">where</a>
  <a id="2416" class="Keyword">field</a>
    <a id="CertEnv.epoch"></a><a id="2426" href="Ledger.Certs.html#2426" class="Field">epoch</a>     <a id="2436" class="Symbol">:</a> <a id="2438" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>
    <a id="CertEnv.pp"></a><a id="2448" href="Ledger.Certs.html#2448" class="Field">pp</a>        <a id="2458" class="Symbol">:</a> <a id="2460" href="Ledger.PParams.html#1443" class="Record">PParams</a>
    <a id="CertEnv.votes"></a><a id="2472" href="Ledger.Certs.html#2472" class="Field">votes</a>     <a id="2482" class="Symbol">:</a> <a id="2484" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2489" href="Ledger.GovernanceActions.html#1932" class="Record">GovVote</a>
    <a id="CertEnv.wdrls"></a><a id="2501" href="Ledger.Certs.html#2501" class="Field">wdrls</a>     <a id="2511" class="Symbol">:</a> <a id="2513" href="Ledger.Address.html#1211" class="Record">RwdAddr</a> <a id="2521" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2523" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="CertEnv.coldCreds"></a><a id="2532" href="Ledger.Certs.html#2532" class="Field">coldCreds</a> <a id="2542" class="Symbol">:</a> <a id="2544" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2546" href="Ledger.Address.html#273" class="Datatype">Credential</a>

<a id="2558" class="Keyword">record</a> <a id="DState"></a><a id="2565" href="Ledger.Certs.html#2565" class="Record">DState</a> <a id="2572" class="Symbol">:</a> <a id="2574" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2579" class="Keyword">where</a>


  <a id="2589" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ᵈ"></a><a id="2601" href="Ledger.Certs.html#2601" class="InductiveConstructor Operator">⟦_,_,_⟧ᵈ</a>


  <a id="2614" class="Keyword">field</a>
    <a id="DState.voteDelegs"></a><a id="2624" href="Ledger.Certs.html#2624" class="Field">voteDelegs</a>   <a id="2637" class="Symbol">:</a> <a id="2639" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="2650" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2652" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a>
    <a id="DState.stakeDelegs"></a><a id="2663" href="Ledger.Certs.html#2663" class="Field">stakeDelegs</a>  <a id="2676" class="Symbol">:</a> <a id="2678" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="2689" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2691" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a>
    <a id="DState.rewards"></a><a id="2703" href="Ledger.Certs.html#2703" class="Field">rewards</a>      <a id="2716" class="Symbol">:</a> <a id="2718" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="2729" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2731" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>



<a id="2739" class="Keyword">record</a> <a id="PState"></a><a id="2746" href="Ledger.Certs.html#2746" class="Record">PState</a> <a id="2753" class="Symbol">:</a> <a id="2755" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2760" class="Keyword">where</a>
  <a id="2768" class="Keyword">field</a>
    <a id="PState.pools"></a><a id="2778" href="Ledger.Certs.html#2778" class="Field">pools</a>     <a id="2788" class="Symbol">:</a> <a id="2790" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a> <a id="2798" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2800" href="Ledger.Certs.html#733" class="Record">PoolParams</a>
    <a id="PState.retiring"></a><a id="2815" href="Ledger.Certs.html#2815" class="Field">retiring</a>  <a id="2825" class="Symbol">:</a> <a id="2827" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a> <a id="2835" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2837" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>



<a id="2846" class="Keyword">record</a> <a id="GState"></a><a id="2853" href="Ledger.Certs.html#2853" class="Record">GState</a> <a id="2860" class="Symbol">:</a> <a id="2862" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2867" class="Keyword">where</a>


  <a id="2877" class="Keyword">constructor</a> <a id="⟦_,_⟧ᵛ"></a><a id="2889" href="Ledger.Certs.html#2889" class="InductiveConstructor Operator">⟦_,_⟧ᵛ</a>


  <a id="2900" class="Keyword">field</a>
    <a id="GState.dreps"></a><a id="2910" href="Ledger.Certs.html#2910" class="Field">dreps</a>      <a id="2921" class="Symbol">:</a> <a id="2923" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="2934" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2936" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>
    <a id="GState.ccHotKeys"></a><a id="2946" href="Ledger.Certs.html#2946" class="Field">ccHotKeys</a>  <a id="2957" class="Symbol">:</a> <a id="2959" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="2970" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2972" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2978" href="Ledger.Address.html#273" class="Datatype">Credential</a>

<a id="2990" class="Keyword">record</a> <a id="CertState"></a><a id="2997" href="Ledger.Certs.html#2997" class="Record">CertState</a> <a id="3007" class="Symbol">:</a> <a id="3009" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3014" class="Keyword">where</a>


  <a id="3024" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ᶜˢ"></a><a id="3036" href="Ledger.Certs.html#3036" class="InductiveConstructor Operator">⟦_,_,_⟧ᶜˢ</a>


  <a id="3050" class="Keyword">field</a>
    <a id="CertState.dState"></a><a id="3060" href="Ledger.Certs.html#3060" class="Field">dState</a> <a id="3067" class="Symbol">:</a> <a id="3069" href="Ledger.Certs.html#2565" class="Record">DState</a>
    <a id="CertState.pState"></a><a id="3080" href="Ledger.Certs.html#3080" class="Field">pState</a> <a id="3087" class="Symbol">:</a> <a id="3089" href="Ledger.Certs.html#2746" class="Record">PState</a>
    <a id="CertState.gState"></a><a id="3100" href="Ledger.Certs.html#3100" class="Field">gState</a> <a id="3107" class="Symbol">:</a> <a id="3109" href="Ledger.Certs.html#2853" class="Record">GState</a>

<a id="3117" class="Keyword">record</a> <a id="DelegEnv"></a><a id="3124" href="Ledger.Certs.html#3124" class="Record">DelegEnv</a> <a id="3133" class="Symbol">:</a> <a id="3135" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3140" class="Keyword">where</a>
  <a id="3148" class="Keyword">field</a>
    <a id="DelegEnv.pparams"></a><a id="3158" href="Ledger.Certs.html#3158" class="Field">pparams</a>       <a id="3172" class="Symbol">:</a> <a id="3174" href="Ledger.PParams.html#1443" class="Record">PParams</a>
    <a id="DelegEnv.pools"></a><a id="3186" href="Ledger.Certs.html#3186" class="Field">pools</a>         <a id="3200" class="Symbol">:</a> <a id="3202" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a> <a id="3210" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3212" href="Ledger.Certs.html#733" class="Record">PoolParams</a>
    <a id="DelegEnv.delegatees"></a><a id="3227" href="Ledger.Certs.html#3227" class="Field">delegatees</a>    <a id="3241" class="Symbol">:</a> <a id="3243" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3245" href="Ledger.Address.html#273" class="Datatype">Credential</a>

<a id="GovCertEnv"></a><a id="3257" href="Ledger.Certs.html#3257" class="Function">GovCertEnv</a>  <a id="3269" class="Symbol">=</a> <a id="3271" href="Ledger.Certs.html#2393" class="Record">CertEnv</a>
<a id="PoolEnv"></a><a id="3279" href="Ledger.Certs.html#3279" class="Function">PoolEnv</a>     <a id="3291" class="Symbol">=</a> <a id="3293" href="Ledger.PParams.html#1443" class="Record">PParams</a>


<a id="rewardsBalance"></a><a id="3303" href="Ledger.Certs.html#3303" class="Function">rewardsBalance</a> <a id="3318" class="Symbol">:</a> <a id="3320" href="Ledger.Certs.html#2565" class="Record">DState</a> <a id="3327" class="Symbol">→</a> <a id="3329" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
<a id="3334" href="Ledger.Certs.html#3303" class="Function">rewardsBalance</a> <a id="3349" href="Ledger.Certs.html#3349" class="Bound">ds</a> <a id="3352" class="Symbol">=</a> <a id="3354" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="3357" href="Ledger.Certs.html#3357" class="Bound">x</a> <a id="3359" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="3361" href="Ledger.Certs.html#2703" class="Field">DState.rewards</a> <a id="3376" href="Ledger.Certs.html#3349" class="Bound">ds</a> <a id="3379" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="3381" href="Ledger.Certs.html#3357" class="Bound">x</a>

<a id="3384" class="Keyword">instance</a>
  <a id="HasCoin-CertState"></a><a id="3395" href="Ledger.Certs.html#3395" class="Function">HasCoin-CertState</a> <a id="3413" class="Symbol">:</a> <a id="3415" href="Ledger.Interface.HasCoin.html#124" class="Record">HasCoin</a> <a id="3423" href="Ledger.Certs.html#2997" class="Record">CertState</a>
  <a id="3435" href="Ledger.Certs.html#3395" class="Function">HasCoin-CertState</a> <a id="3453" class="Symbol">.</a><a id="3454" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3462" class="Symbol">=</a> <a id="3464" href="Ledger.Certs.html#3303" class="Function">rewardsBalance</a> <a id="3479" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3481" href="Ledger.Certs.html#3060" class="Field">CertState.dState</a>


<a id="3500" class="Keyword">instance</a>
  <a id="3511" class="Keyword">unquoteDecl</a> <a id="To-CertEnv"></a><a id="3523" href="Ledger.Certs.html#3523" class="Function">To-CertEnv</a> <a id="To-DState"></a><a id="3534" href="Ledger.Certs.html#3534" class="Function">To-DState</a> <a id="To-PState"></a><a id="3544" href="Ledger.Certs.html#3544" class="Function">To-PState</a> <a id="To-GState"></a><a id="3554" href="Ledger.Certs.html#3554" class="Function">To-GState</a> <a id="To-CertState"></a><a id="3564" href="Ledger.Certs.html#3564" class="Function">To-CertState</a> <a id="To-DelegEnv"></a><a id="3577" href="Ledger.Certs.html#3577" class="Function">To-DelegEnv</a> <a id="3589" class="Symbol">=</a> <a id="3591" href="Class.To.html#2699" class="Function">derive-To</a>
    <a id="3605" class="Symbol">(</a>   <a id="3609" class="Symbol">(</a><a id="3610" class="Keyword">quote</a> <a id="3616" href="Ledger.Certs.html#2393" class="Record">CertEnv</a> <a id="3624" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3626" href="Ledger.Certs.html#3523" class="Function">To-CertEnv</a><a id="3636" class="Symbol">)</a>
    <a id="3642" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a>   <a id="3646" class="Symbol">(</a><a id="3647" class="Keyword">quote</a> <a id="3653" href="Ledger.Certs.html#2565" class="Record">DState</a> <a id="3660" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3662" href="Ledger.Certs.html#3534" class="Function">To-DState</a><a id="3671" class="Symbol">)</a>
    <a id="3677" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a>   <a id="3681" class="Symbol">(</a><a id="3682" class="Keyword">quote</a> <a id="3688" href="Ledger.Certs.html#2746" class="Record">PState</a> <a id="3695" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3697" href="Ledger.Certs.html#3544" class="Function">To-PState</a><a id="3706" class="Symbol">)</a>
    <a id="3712" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a>   <a id="3716" class="Symbol">(</a><a id="3717" class="Keyword">quote</a> <a id="3723" href="Ledger.Certs.html#2853" class="Record">GState</a> <a id="3730" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3732" href="Ledger.Certs.html#3554" class="Function">To-GState</a><a id="3741" class="Symbol">)</a>
    <a id="3747" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a>   <a id="3751" class="Symbol">(</a><a id="3752" class="Keyword">quote</a> <a id="3758" href="Ledger.Certs.html#2997" class="Record">CertState</a> <a id="3768" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3770" href="Ledger.Certs.html#3564" class="Function">To-CertState</a><a id="3782" class="Symbol">)</a>
    <a id="3788" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3790" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="3792" class="Symbol">(</a><a id="3793" class="Keyword">quote</a> <a id="3799" href="Ledger.Certs.html#3124" class="Record">DelegEnv</a> <a id="3808" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3810" href="Ledger.Certs.html#3577" class="Function">To-DelegEnv</a><a id="3821" class="Symbol">)</a> <a id="3823" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="3824" class="Symbol">)</a>

<a id="3827" class="Keyword">private</a> <a id="3835" class="Keyword">variable</a>
  <a id="3846" href="Ledger.Certs.html#3846" class="Generalizable">rwds</a> <a id="3851" href="Ledger.Certs.html#3851" class="Generalizable">rewards</a>           <a id="3869" class="Symbol">:</a> <a id="3871" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3882" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3884" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="3891" href="Ledger.Certs.html#3891" class="Generalizable">dReps</a>                  <a id="3914" class="Symbol">:</a> <a id="3916" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3927" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3929" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>
  <a id="3937" href="Ledger.Certs.html#3937" class="Generalizable">sDelegs</a> <a id="3945" href="Ledger.Certs.html#3945" class="Generalizable">stakeDelegs</a>    <a id="3960" class="Symbol">:</a> <a id="3962" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3973" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3975" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a>
  <a id="3985" href="Ledger.Certs.html#3985" class="Generalizable">ccKeys</a> <a id="3992" href="Ledger.Certs.html#3992" class="Generalizable">ccHotKeys</a>       <a id="4008" class="Symbol">:</a> <a id="4010" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="4021" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4023" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4029" href="Ledger.Address.html#273" class="Datatype">Credential</a>
  <a id="4042" href="Ledger.Certs.html#4042" class="Generalizable">vDelegs</a> <a id="4050" href="Ledger.Certs.html#4050" class="Generalizable">voteDelegs</a>     <a id="4065" class="Symbol">:</a> <a id="4067" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="4078" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4080" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a>
  <a id="4089" href="Ledger.Certs.html#4089" class="Generalizable">pools</a>                  <a id="4112" class="Symbol">:</a> <a id="4114" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a> <a id="4122" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4124" href="Ledger.Certs.html#733" class="Record">PoolParams</a>
  <a id="4137" href="Ledger.Certs.html#4137" class="Generalizable">retiring</a>               <a id="4160" class="Symbol">:</a> <a id="4162" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a> <a id="4170" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4172" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>
  <a id="4180" href="Ledger.Certs.html#4180" class="Generalizable">wdrls</a>                  <a id="4203" class="Symbol">:</a> <a id="4205" href="Ledger.Address.html#1211" class="Record">RwdAddr</a> <a id="4213" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4215" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>

  <a id="4223" href="Ledger.Certs.html#4223" class="Generalizable">an</a>          <a id="4235" class="Symbol">:</a> <a id="4237" href="Ledger.GovernanceActions.html#642" class="Record">Anchor</a>
  <a id="4246" href="Ledger.Certs.html#4246" class="Generalizable">Γ</a>           <a id="4258" class="Symbol">:</a> <a id="4260" href="Ledger.Certs.html#2393" class="Record">CertEnv</a>
  <a id="4270" href="Ledger.Certs.html#4270" class="Generalizable">d</a>           <a id="4282" class="Symbol">:</a> <a id="4284" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="4291" href="Ledger.Certs.html#4291" class="Generalizable">md</a>          <a id="4303" class="Symbol">:</a> <a id="4305" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4311" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="4318" href="Ledger.Certs.html#4318" class="Generalizable">c</a>           <a id="4330" class="Symbol">:</a> <a id="4332" href="Ledger.Address.html#273" class="Datatype">Credential</a>
  <a id="4345" href="Ledger.Certs.html#4345" class="Generalizable">mc</a>          <a id="4357" class="Symbol">:</a> <a id="4359" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4365" href="Ledger.Address.html#273" class="Datatype">Credential</a>
  <a id="4378" href="Ledger.Certs.html#4378" class="Generalizable">delegatees</a>  <a id="4390" class="Symbol">:</a> <a id="4392" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4394" href="Ledger.Address.html#273" class="Datatype">Credential</a>
  <a id="4407" href="Ledger.Certs.html#4407" class="Generalizable">dCert</a>       <a id="4419" class="Symbol">:</a> <a id="4421" href="Ledger.Certs.html#926" class="Datatype">DCert</a>
  <a id="4429" href="Ledger.Certs.html#4429" class="Generalizable">e</a>           <a id="4441" class="Symbol">:</a> <a id="4443" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>
  <a id="4451" href="Ledger.Certs.html#4451" class="Generalizable">vs</a>          <a id="4463" class="Symbol">:</a> <a id="4465" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4470" href="Ledger.GovernanceActions.html#1932" class="Record">GovVote</a>
  <a id="4480" href="Ledger.Certs.html#4480" class="Generalizable">kh</a>          <a id="4492" class="Symbol">:</a> <a id="4494" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a>
  <a id="4504" href="Ledger.Certs.html#4504" class="Generalizable">mkh</a>         <a id="4516" class="Symbol">:</a> <a id="4518" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4524" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a>
  <a id="4534" href="Ledger.Certs.html#4534" class="Generalizable">poolParams</a>  <a id="4546" class="Symbol">:</a> <a id="4548" href="Ledger.Certs.html#733" class="Record">PoolParams</a>
  <a id="4561" href="Ledger.Certs.html#4561" class="Generalizable">pp</a>          <a id="4573" class="Symbol">:</a> <a id="4575" href="Ledger.PParams.html#1443" class="Record">PParams</a>
  <a id="4585" href="Ledger.Certs.html#4585" class="Generalizable">mv</a>          <a id="4597" class="Symbol">:</a> <a id="4599" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4605" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a>

  <a id="4615" href="Ledger.Certs.html#4615" class="Generalizable">stᵈ</a> <a id="4619" href="Ledger.Certs.html#4619" class="Generalizable">stᵈ&#39;</a> <a id="4624" class="Symbol">:</a> <a id="4626" href="Ledger.Certs.html#2565" class="Record">DState</a>
  <a id="4635" href="Ledger.Certs.html#4635" class="Generalizable">stᵍ</a> <a id="4639" href="Ledger.Certs.html#4639" class="Generalizable">stᵍ&#39;</a> <a id="4644" class="Symbol">:</a> <a id="4646" href="Ledger.Certs.html#2853" class="Record">GState</a>
  <a id="4655" href="Ledger.Certs.html#4655" class="Generalizable">stᵖ</a> <a id="4659" href="Ledger.Certs.html#4659" class="Generalizable">stᵖ&#39;</a> <a id="4664" class="Symbol">:</a> <a id="4666" href="Ledger.Certs.html#2746" class="Record">PState</a>
  <a id="4675" href="Ledger.Certs.html#4675" class="Generalizable">cc</a> <a id="4678" class="Symbol">:</a> <a id="4680" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4682" href="Ledger.Address.html#273" class="Datatype">Credential</a>


<a id="4695" class="Keyword">data</a>


  <a id="_⊢_⇀⦇_,DELEG⦈_"></a><a id="4704" href="Ledger.Certs.html#4704" class="Datatype Operator">_⊢_⇀⦇_,DELEG⦈_</a>     <a id="4723" class="Symbol">:</a> <a id="4725" href="Ledger.Certs.html#3124" class="Record">DelegEnv</a>    <a id="4737" class="Symbol">→</a> <a id="4739" href="Ledger.Certs.html#2565" class="Record">DState</a>     <a id="4750" class="Symbol">→</a> <a id="4752" href="Ledger.Certs.html#926" class="Datatype">DCert</a>       <a id="4764" class="Symbol">→</a> <a id="4766" href="Ledger.Certs.html#2565" class="Record">DState</a>     <a id="4777" class="Symbol">→</a> <a id="4779" href="Agda.Primitive.html#388" class="Primitive">Type</a>


<a id="4786" class="Keyword">data</a>


  <a id="_⊢_⇀⦇_,POOL⦈_"></a><a id="4795" href="Ledger.Certs.html#4795" class="Datatype Operator">_⊢_⇀⦇_,POOL⦈_</a>      <a id="4814" class="Symbol">:</a> <a id="4816" href="Ledger.Certs.html#3279" class="Function">PoolEnv</a>     <a id="4828" class="Symbol">→</a> <a id="4830" href="Ledger.Certs.html#2746" class="Record">PState</a>     <a id="4841" class="Symbol">→</a> <a id="4843" href="Ledger.Certs.html#926" class="Datatype">DCert</a>       <a id="4855" class="Symbol">→</a> <a id="4857" href="Ledger.Certs.html#2746" class="Record">PState</a>     <a id="4868" class="Symbol">→</a> <a id="4870" href="Agda.Primitive.html#388" class="Primitive">Type</a>


<a id="4877" class="Keyword">data</a>


  <a id="_⊢_⇀⦇_,GOVCERT⦈_"></a><a id="4886" href="Ledger.Certs.html#4886" class="Datatype Operator">_⊢_⇀⦇_,GOVCERT⦈_</a>   <a id="4905" class="Symbol">:</a> <a id="4907" href="Ledger.Certs.html#3257" class="Function">GovCertEnv</a>  <a id="4919" class="Symbol">→</a> <a id="4921" href="Ledger.Certs.html#2853" class="Record">GState</a>     <a id="4932" class="Symbol">→</a> <a id="4934" href="Ledger.Certs.html#926" class="Datatype">DCert</a>       <a id="4946" class="Symbol">→</a> <a id="4948" href="Ledger.Certs.html#2853" class="Record">GState</a>     <a id="4959" class="Symbol">→</a> <a id="4961" href="Agda.Primitive.html#388" class="Primitive">Type</a>


<a id="4968" class="Keyword">data</a>


  <a id="_⊢_⇀⦇_,CERT⦈_"></a><a id="4977" href="Ledger.Certs.html#4977" class="Datatype Operator">_⊢_⇀⦇_,CERT⦈_</a>      <a id="4996" class="Symbol">:</a> <a id="4998" href="Ledger.Certs.html#2393" class="Record">CertEnv</a>     <a id="5010" class="Symbol">→</a> <a id="5012" href="Ledger.Certs.html#2997" class="Record">CertState</a>  <a id="5023" class="Symbol">→</a> <a id="5025" href="Ledger.Certs.html#926" class="Datatype">DCert</a>       <a id="5037" class="Symbol">→</a> <a id="5039" href="Ledger.Certs.html#2997" class="Record">CertState</a>  <a id="5050" class="Symbol">→</a> <a id="5052" href="Agda.Primitive.html#388" class="Primitive">Type</a>


<a id="5059" class="Keyword">data</a>


  <a id="_⊢_⇀⦇_,CERTBASE⦈_"></a><a id="5068" href="Ledger.Certs.html#5068" class="Datatype Operator">_⊢_⇀⦇_,CERTBASE⦈_</a>  <a id="5087" class="Symbol">:</a> <a id="5089" href="Ledger.Certs.html#2393" class="Record">CertEnv</a>     <a id="5101" class="Symbol">→</a> <a id="5103" href="Ledger.Certs.html#2997" class="Record">CertState</a>  <a id="5114" class="Symbol">→</a> <a id="5116" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>           <a id="5128" class="Symbol">→</a> <a id="5130" href="Ledger.Certs.html#2997" class="Record">CertState</a>  <a id="5141" class="Symbol">→</a> <a id="5143" href="Agda.Primitive.html#388" class="Primitive">Type</a>


<a id="5150" class="Keyword">module</a> <a id="5157" href="Ledger.Certs.html#5157" class="Module">_</a> <a id="5159" class="Keyword">where</a>  <a id="5166" class="Comment">-- achieves uniform (but perhaps misleading) alignment of type signatures in fig</a>


  <a id="5251" href="Ledger.Certs.html#5251" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a>     <a id="5270" class="Symbol">:</a> <a id="5272" href="Ledger.Certs.html#2393" class="Record">CertEnv</a>     <a id="5284" class="Symbol">→</a> <a id="5286" href="Ledger.Certs.html#2997" class="Record">CertState</a>  <a id="5297" class="Symbol">→</a> <a id="5299" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5304" href="Ledger.Certs.html#926" class="Datatype">DCert</a>  <a id="5311" class="Symbol">→</a> <a id="5313" href="Ledger.Certs.html#2997" class="Record">CertState</a>  <a id="5324" class="Symbol">→</a> <a id="5326" href="Agda.Primitive.html#388" class="Primitive">Type</a>


  <a id="5335" href="Ledger.Certs.html#5251" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a> <a id="5350" class="Symbol">=</a> <a id="5352" href="Interface.STS.html#3830" class="Function">ReflexiveTransitiveClosureᵇ&#39;</a> <a id="5381" class="Symbol">{</a><a id="5382" class="Argument">_⊢_⇀⟦_⟧ᵇ_</a> <a id="5392" class="Symbol">=</a> <a id="5394" href="Ledger.Certs.html#5068" class="Datatype Operator">_⊢_⇀⦇_,CERTBASE⦈_</a><a id="5411" class="Symbol">}</a> <a id="5413" class="Symbol">{</a><a id="5414" href="Ledger.Certs.html#4977" class="Datatype Operator">_⊢_⇀⦇_,CERT⦈_</a><a id="5427" class="Symbol">}</a>


<a id="5431" class="Keyword">data</a> <a id="5436" href="Ledger.Certs.html#4704" class="Datatype Operator">_⊢_⇀⦇_,DELEG⦈_</a> <a id="5451" class="Keyword">where</a>


  <a id="_⊢_⇀⦇_,DELEG⦈_.DELEG-delegate"></a><a id="5461" href="Ledger.Certs.html#5461" class="InductiveConstructor">DELEG-delegate</a> <a id="5476" class="Symbol">:</a>
    <a id="5482" class="Keyword">let</a> <a id="5486" href="Ledger.Certs.html#5486" class="Bound">Γ</a> <a id="5488" class="Symbol">=</a> <a id="5490" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="5492" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="5495" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5497" href="Ledger.Certs.html#4089" class="Generalizable">pools</a> <a id="5503" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5505" href="Ledger.Certs.html#4378" class="Generalizable">delegatees</a> <a id="5516" href="Class.To.html#102" class="Field Operator">⟧</a>
    <a id="5522" class="Keyword">in</a>
    <a id="5529" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="5531" class="Symbol">(</a><a id="5532" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="5534" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="5536" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5540" href="Ledger.Certs.html#3846" class="Generalizable">rwds</a> <a id="5545" class="Symbol">→</a> <a id="5547" href="Ledger.Certs.html#4270" class="Generalizable">d</a> <a id="5549" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5551" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="5554" class="Symbol">.</a><a id="5555" href="Ledger.PParams.html#1949" class="Field">keyDeposit</a><a id="5565" class="Symbol">)</a>
    <a id="5571" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="5573" class="Symbol">(</a><a id="5574" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="5576" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5578" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5582" href="Ledger.Certs.html#3846" class="Generalizable">rwds</a> <a id="5587" class="Symbol">→</a> <a id="5589" href="Ledger.Certs.html#4270" class="Generalizable">d</a> <a id="5591" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5593" class="Number">0</a><a id="5594" class="Symbol">)</a>
    <a id="5600" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="5602" href="Ledger.Certs.html#4585" class="Generalizable">mv</a> <a id="5605" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5607" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="5612" class="Symbol">(</a><a id="5613" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5618" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5620" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="5630" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a><a id="5634" class="Symbol">)</a> <a id="5636" href="Ledger.Certs.html#4378" class="Generalizable">delegatees</a> <a id="5647" href="Axiom.Set.html#8952" class="Function Operator">∪</a>
        <a id="5657" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="5666" class="Symbol">(</a> <a id="5668" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="5676" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5678" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5683" href="Ledger.GovernanceActions.html#532" class="InductiveConstructor">abstainRep</a> <a id="5694" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5696" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5701" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a> <a id="5717" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5719" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="5722" class="Symbol">)</a>
    <a id="5728" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="5730" href="Ledger.Certs.html#4504" class="Generalizable">mkh</a> <a id="5734" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5736" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="5741" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5746" class="Symbol">(</a><a id="5747" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5751" href="Ledger.Certs.html#4089" class="Generalizable">pools</a><a id="5756" class="Symbol">)</a> <a id="5758" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="5760" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="5762" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="5770" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="5778" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="5817" href="Ledger.Certs.html#5486" class="Bound">Γ</a> <a id="5819" href="Ledger.Certs.html#4704" class="Datatype Operator">⊢</a>  <a id="5822" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="5824" href="Ledger.Certs.html#4042" class="Generalizable">vDelegs</a> <a id="5832" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5834" href="Ledger.Certs.html#3937" class="Generalizable">sDelegs</a> <a id="5842" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5844" href="Ledger.Certs.html#3846" class="Generalizable">rwds</a> <a id="5849" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="5851" href="Ledger.Certs.html#4704" class="Datatype Operator">⇀⦇</a> <a id="5854" href="Ledger.Certs.html#947" class="InductiveConstructor">delegate</a> <a id="5863" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="5865" href="Ledger.Certs.html#4585" class="Generalizable">mv</a> <a id="5868" href="Ledger.Certs.html#4504" class="Generalizable">mkh</a> <a id="5872" href="Ledger.Certs.html#4270" class="Generalizable">d</a> <a id="5874" href="Ledger.Certs.html#4704" class="Datatype Operator">,DELEG⦈</a>
           <a id="5893" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="5895" href="Axiom.Set.Map.html#7168" class="Function">insertIfJust</a> <a id="5908" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="5910" href="Ledger.Certs.html#4585" class="Generalizable">mv</a> <a id="5913" href="Ledger.Certs.html#4042" class="Generalizable">vDelegs</a> <a id="5921" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5923" href="Axiom.Set.Map.html#7168" class="Function">insertIfJust</a> <a id="5936" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="5938" href="Ledger.Certs.html#4504" class="Generalizable">mkh</a> <a id="5942" href="Ledger.Certs.html#3937" class="Generalizable">sDelegs</a> <a id="5950" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5952" href="Ledger.Certs.html#3846" class="Generalizable">rwds</a> <a id="5957" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="5960" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="5962" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="5964" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5966" class="Number">0</a> <a id="5968" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="5970" href="Class.To.html#102" class="Field Operator">⟧</a>

  <a id="_⊢_⇀⦇_,DELEG⦈_.DELEG-dereg"></a><a id="5975" href="Ledger.Certs.html#5975" class="InductiveConstructor">DELEG-dereg</a> <a id="5987" class="Symbol">:</a>
    <a id="5993" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="5995" class="Symbol">(</a><a id="5996" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="5998" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6000" class="Number">0</a><a id="6001" class="Symbol">)</a> <a id="6003" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6005" href="Ledger.Certs.html#3846" class="Generalizable">rwds</a>
      <a id="6016" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="6055" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="6057" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="6060" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6062" href="Ledger.Certs.html#4089" class="Generalizable">pools</a> <a id="6068" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6070" href="Ledger.Certs.html#4378" class="Generalizable">delegatees</a> <a id="6081" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="6083" href="Ledger.Certs.html#4704" class="Datatype Operator">⊢</a> <a id="6085" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="6087" href="Ledger.Certs.html#4042" class="Generalizable">vDelegs</a> <a id="6095" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6097" href="Ledger.Certs.html#3937" class="Generalizable">sDelegs</a> <a id="6105" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6107" href="Ledger.Certs.html#3846" class="Generalizable">rwds</a> <a id="6112" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="6114" href="Ledger.Certs.html#4704" class="Datatype Operator">⇀⦇</a> <a id="6117" href="Ledger.Certs.html#1020" class="InductiveConstructor">dereg</a> <a id="6123" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="6125" href="Ledger.Certs.html#4291" class="Generalizable">md</a> <a id="6128" href="Ledger.Certs.html#4704" class="Datatype Operator">,DELEG⦈</a>
        <a id="6144" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="6146" href="Ledger.Certs.html#4042" class="Generalizable">vDelegs</a> <a id="6154" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="6156" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="6158" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="6160" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="6162" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a> <a id="6164" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6166" href="Ledger.Certs.html#3937" class="Generalizable">sDelegs</a> <a id="6174" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="6176" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="6178" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="6180" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="6182" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a> <a id="6184" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6186" href="Ledger.Certs.html#3846" class="Generalizable">rwds</a> <a id="6191" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="6193" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="6195" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="6197" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="6199" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a> <a id="6201" href="Class.To.html#102" class="Field Operator">⟧</a>

  <a id="_⊢_⇀⦇_,DELEG⦈_.DELEG-reg"></a><a id="6206" href="Ledger.Certs.html#6206" class="InductiveConstructor">DELEG-reg</a> <a id="6216" class="Symbol">:</a>
    <a id="6222" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="6224" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="6226" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6228" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6232" href="Ledger.Certs.html#3846" class="Generalizable">rwds</a>
    <a id="6241" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="6243" href="Ledger.Certs.html#4270" class="Generalizable">d</a> <a id="6245" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6247" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="6250" class="Symbol">.</a><a id="6251" href="Ledger.PParams.html#1949" class="Field">keyDeposit</a> <a id="6262" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="6264" href="Ledger.Certs.html#4270" class="Generalizable">d</a> <a id="6266" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6268" class="Number">0</a>
      <a id="6276" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="6315" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="6317" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="6320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6322" href="Ledger.Certs.html#4089" class="Generalizable">pools</a> <a id="6328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6330" href="Ledger.Certs.html#4378" class="Generalizable">delegatees</a> <a id="6341" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="6343" href="Ledger.Certs.html#4704" class="Datatype Operator">⊢</a>
        <a id="6353" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="6355" href="Ledger.Certs.html#4042" class="Generalizable">vDelegs</a> <a id="6363" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6365" href="Ledger.Certs.html#3937" class="Generalizable">sDelegs</a> <a id="6373" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6375" href="Ledger.Certs.html#3846" class="Generalizable">rwds</a> <a id="6380" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="6382" href="Ledger.Certs.html#4704" class="Datatype Operator">⇀⦇</a> <a id="6385" href="Ledger.Certs.html#1633" class="InductiveConstructor">reg</a> <a id="6389" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="6391" href="Ledger.Certs.html#4270" class="Generalizable">d</a> <a id="6393" href="Ledger.Certs.html#4704" class="Datatype Operator">,DELEG⦈</a>
        <a id="6409" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="6411" href="Ledger.Certs.html#4042" class="Generalizable">vDelegs</a> <a id="6419" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6421" href="Ledger.Certs.html#3937" class="Generalizable">sDelegs</a> <a id="6429" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6431" href="Ledger.Certs.html#3846" class="Generalizable">rwds</a> <a id="6436" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="6439" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="6441" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="6443" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6445" class="Number">0</a> <a id="6447" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="6449" href="Class.To.html#102" class="Field Operator">⟧</a>


<a id="6453" class="Keyword">data</a> <a id="6458" href="Ledger.Certs.html#4795" class="Datatype Operator">_⊢_⇀⦇_,POOL⦈_</a> <a id="6472" class="Keyword">where</a>


  <a id="_⊢_⇀⦇_,POOL⦈_.POOL-regpool"></a><a id="6482" href="Ledger.Certs.html#6482" class="InductiveConstructor">POOL-regpool</a> <a id="6495" class="Symbol">:</a>
    <a id="6501" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="6503" href="Ledger.Certs.html#4480" class="Generalizable">kh</a> <a id="6506" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6508" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6512" href="Ledger.Certs.html#4089" class="Generalizable">pools</a>
      <a id="6524" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="6563" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="6566" href="Ledger.Certs.html#4795" class="Datatype Operator">⊢</a>  <a id="6569" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="6571" href="Ledger.Certs.html#4089" class="Generalizable">pools</a> <a id="6577" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6579" href="Ledger.Certs.html#4137" class="Generalizable">retiring</a> <a id="6588" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="6590" href="Ledger.Certs.html#4795" class="Datatype Operator">⇀⦇</a> <a id="6593" href="Ledger.Certs.html#1068" class="InductiveConstructor">regpool</a> <a id="6601" href="Ledger.Certs.html#4480" class="Generalizable">kh</a> <a id="6604" href="Ledger.Certs.html#4534" class="Generalizable">poolParams</a> <a id="6615" href="Ledger.Certs.html#4795" class="Datatype Operator">,POOL⦈</a>
            <a id="6634" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="6636" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="6638" href="Ledger.Certs.html#4480" class="Generalizable">kh</a> <a id="6641" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6643" href="Ledger.Certs.html#4534" class="Generalizable">poolParams</a> <a id="6654" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="6656" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="6659" href="Ledger.Certs.html#4089" class="Generalizable">pools</a> <a id="6665" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6667" href="Ledger.Certs.html#4137" class="Generalizable">retiring</a> <a id="6676" href="Class.To.html#102" class="Field Operator">⟧</a>

  <a id="_⊢_⇀⦇_,POOL⦈_.POOL-retirepool"></a><a id="6681" href="Ledger.Certs.html#6681" class="InductiveConstructor">POOL-retirepool</a> <a id="6697" class="Symbol">:</a>
    <a id="6703" href="Interface.STS.html#216" class="Function Operator">────────────────────────────────</a>
    <a id="6740" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="6743" href="Ledger.Certs.html#4795" class="Datatype Operator">⊢</a> <a id="6745" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="6747" href="Ledger.Certs.html#4089" class="Generalizable">pools</a> <a id="6753" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6755" href="Ledger.Certs.html#4137" class="Generalizable">retiring</a> <a id="6764" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="6766" href="Ledger.Certs.html#4795" class="Datatype Operator">⇀⦇</a> <a id="6769" href="Ledger.Certs.html#1113" class="InductiveConstructor">retirepool</a> <a id="6780" href="Ledger.Certs.html#4480" class="Generalizable">kh</a> <a id="6783" href="Ledger.Certs.html#4429" class="Generalizable">e</a> <a id="6785" href="Ledger.Certs.html#4795" class="Datatype Operator">,POOL⦈</a> <a id="6792" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="6794" href="Ledger.Certs.html#4089" class="Generalizable">pools</a> <a id="6800" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6802" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="6804" href="Ledger.Certs.html#4480" class="Generalizable">kh</a> <a id="6807" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6809" href="Ledger.Certs.html#4429" class="Generalizable">e</a> <a id="6811" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="6813" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="6816" href="Ledger.Certs.html#4137" class="Generalizable">retiring</a> <a id="6825" href="Class.To.html#102" class="Field Operator">⟧</a>


<a id="6829" class="Keyword">data</a> <a id="6834" href="Ledger.Certs.html#4886" class="Datatype Operator">_⊢_⇀⦇_,GOVCERT⦈_</a> <a id="6851" class="Keyword">where</a>


  <a id="_⊢_⇀⦇_,GOVCERT⦈_.GOVCERT-regdrep"></a><a id="6861" href="Ledger.Certs.html#6861" class="InductiveConstructor">GOVCERT-regdrep</a> <a id="6877" class="Symbol">:</a>
    <a id="6883" class="Keyword">let</a> <a id="6887" href="Ledger.Certs.html#6887" class="Bound">Γ</a> <a id="6889" class="Symbol">=</a> <a id="6891" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="6893" href="Ledger.Certs.html#4429" class="Generalizable">e</a> <a id="6895" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6897" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="6900" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6902" href="Ledger.Certs.html#4451" class="Generalizable">vs</a> <a id="6905" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6907" href="Ledger.Certs.html#4180" class="Generalizable">wdrls</a> <a id="6913" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6915" href="Ledger.Certs.html#4675" class="Generalizable">cc</a> <a id="6918" href="Class.To.html#102" class="Field Operator">⟧</a>
    <a id="6924" class="Keyword">in</a>
    <a id="6931" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="6933" class="Symbol">(</a><a id="6934" href="Ledger.Certs.html#4270" class="Generalizable">d</a> <a id="6936" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6938" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="6941" class="Symbol">.</a><a id="6942" href="Ledger.PParams.html#3154" class="Field">drepDeposit</a> <a id="6954" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6956" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="6958" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6960" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6964" href="Ledger.Certs.html#3891" class="Generalizable">dReps</a><a id="6969" class="Symbol">)</a> <a id="6971" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="6973" class="Symbol">(</a><a id="6974" href="Ledger.Certs.html#4270" class="Generalizable">d</a> <a id="6976" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6978" class="Number">0</a> <a id="6980" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6982" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="6984" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6986" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6990" href="Ledger.Certs.html#3891" class="Generalizable">dReps</a><a id="6995" class="Symbol">)</a>
      <a id="7003" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="7042" href="Ledger.Certs.html#6887" class="Bound">Γ</a> <a id="7044" href="Ledger.Certs.html#4886" class="Datatype Operator">⊢</a> <a id="7046" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7048" href="Ledger.Certs.html#3891" class="Generalizable">dReps</a> <a id="7054" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7056" href="Ledger.Certs.html#3985" class="Generalizable">ccKeys</a> <a id="7063" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7065" href="Ledger.Certs.html#4886" class="Datatype Operator">⇀⦇</a> <a id="7068" href="Ledger.Certs.html#1153" class="InductiveConstructor">regdrep</a> <a id="7076" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="7078" href="Ledger.Certs.html#4270" class="Generalizable">d</a> <a id="7080" href="Ledger.Certs.html#4223" class="Generalizable">an</a> <a id="7083" href="Ledger.Certs.html#4886" class="Datatype Operator">,GOVCERT⦈</a>
          <a id="7103" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7105" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7107" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="7109" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7111" href="Ledger.Certs.html#4429" class="Generalizable">e</a> <a id="7113" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="7115" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="7118" class="Symbol">.</a><a id="7119" href="Ledger.PParams.html#3199" class="Field">drepActivity</a> <a id="7132" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="7134" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="7137" href="Ledger.Certs.html#3891" class="Generalizable">dReps</a> <a id="7143" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7145" href="Ledger.Certs.html#3985" class="Generalizable">ccKeys</a> <a id="7152" href="Class.To.html#102" class="Field Operator">⟧</a>

  <a id="_⊢_⇀⦇_,GOVCERT⦈_.GOVCERT-deregdrep"></a><a id="7157" href="Ledger.Certs.html#7157" class="InductiveConstructor">GOVCERT-deregdrep</a> <a id="7175" class="Symbol">:</a>
    <a id="7181" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="7183" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="7185" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="7187" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7191" href="Ledger.Certs.html#3891" class="Generalizable">dReps</a>
      <a id="7203" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="7242" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7244" href="Ledger.Certs.html#4429" class="Generalizable">e</a> <a id="7246" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7248" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="7251" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7253" href="Ledger.Certs.html#4451" class="Generalizable">vs</a> <a id="7256" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7258" href="Ledger.Certs.html#4180" class="Generalizable">wdrls</a> <a id="7264" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7266" href="Ledger.Certs.html#4675" class="Generalizable">cc</a> <a id="7269" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7271" href="Ledger.Certs.html#4886" class="Datatype Operator">⊢</a> <a id="7273" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7275" href="Ledger.Certs.html#3891" class="Generalizable">dReps</a> <a id="7281" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7283" href="Ledger.Certs.html#3985" class="Generalizable">ccKeys</a> <a id="7290" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7292" href="Ledger.Certs.html#4886" class="Datatype Operator">⇀⦇</a> <a id="7295" href="Ledger.Certs.html#1204" class="InductiveConstructor">deregdrep</a> <a id="7305" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="7307" href="Ledger.Certs.html#4270" class="Generalizable">d</a> <a id="7309" href="Ledger.Certs.html#4886" class="Datatype Operator">,GOVCERT⦈</a> <a id="7319" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7321" href="Ledger.Certs.html#3891" class="Generalizable">dReps</a> <a id="7327" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="7329" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7331" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="7333" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="7335" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a> <a id="7337" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7339" href="Ledger.Certs.html#3985" class="Generalizable">ccKeys</a> <a id="7346" href="Class.To.html#102" class="Field Operator">⟧</a>

  <a id="_⊢_⇀⦇_,GOVCERT⦈_.GOVCERT-ccreghot"></a><a id="7351" href="Ledger.Certs.html#7351" class="InductiveConstructor">GOVCERT-ccreghot</a> <a id="7368" class="Symbol">:</a>
    <a id="7374" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="7376" class="Symbol">(</a><a id="7377" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="7379" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7381" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="7388" class="Symbol">)</a> <a id="7390" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="7392" href="Ledger.Certs.html#3985" class="Generalizable">ccKeys</a>
    <a id="7403" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="7405" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="7407" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="7409" href="Ledger.Certs.html#4675" class="Generalizable">cc</a>
      <a id="7418" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="7457" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7459" href="Ledger.Certs.html#4429" class="Generalizable">e</a> <a id="7461" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7463" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="7466" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7468" href="Ledger.Certs.html#4451" class="Generalizable">vs</a> <a id="7471" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7473" href="Ledger.Certs.html#4180" class="Generalizable">wdrls</a> <a id="7479" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7481" href="Ledger.Certs.html#4675" class="Generalizable">cc</a> <a id="7484" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7486" href="Ledger.Certs.html#4886" class="Datatype Operator">⊢</a> <a id="7488" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7490" href="Ledger.Certs.html#3891" class="Generalizable">dReps</a> <a id="7496" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7498" href="Ledger.Certs.html#3985" class="Generalizable">ccKeys</a> <a id="7505" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7507" href="Ledger.Certs.html#4886" class="Datatype Operator">⇀⦇</a> <a id="7510" href="Ledger.Certs.html#1246" class="InductiveConstructor">ccreghot</a> <a id="7519" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="7521" href="Ledger.Certs.html#4345" class="Generalizable">mc</a> <a id="7524" href="Ledger.Certs.html#4886" class="Datatype Operator">,GOVCERT⦈</a> <a id="7534" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7536" href="Ledger.Certs.html#3891" class="Generalizable">dReps</a> <a id="7542" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7544" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7546" href="Ledger.Certs.html#4318" class="Generalizable">c</a> <a id="7548" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7550" href="Ledger.Certs.html#4345" class="Generalizable">mc</a> <a id="7553" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="7555" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="7558" href="Ledger.Certs.html#3985" class="Generalizable">ccKeys</a> <a id="7565" href="Class.To.html#102" class="Field Operator">⟧</a>


<a id="7569" class="Keyword">data</a> <a id="7574" href="Ledger.Certs.html#4977" class="Datatype Operator">_⊢_⇀⦇_,CERT⦈_</a> <a id="7588" class="Keyword">where</a>


  <a id="_⊢_⇀⦇_,CERT⦈_.CERT-deleg"></a><a id="7598" href="Ledger.Certs.html#7598" class="InductiveConstructor">CERT-deleg</a> <a id="7609" class="Symbol">:</a>
    <a id="7615" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="7617" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7619" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="7622" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7624" href="Ledger.Certs.html#2778" class="Field">PState.pools</a> <a id="7637" href="Ledger.Certs.html#4655" class="Generalizable">stᵖ</a> <a id="7641" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7643" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7647" class="Symbol">(</a><a id="7648" href="Ledger.Certs.html#2910" class="Field">GState.dreps</a> <a id="7661" href="Ledger.Certs.html#4635" class="Generalizable">stᵍ</a><a id="7664" class="Symbol">)</a> <a id="7666" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7668" href="Ledger.Certs.html#4704" class="Datatype Operator">⊢</a> <a id="7670" href="Ledger.Certs.html#4615" class="Generalizable">stᵈ</a> <a id="7674" href="Ledger.Certs.html#4704" class="Datatype Operator">⇀⦇</a> <a id="7677" href="Ledger.Certs.html#4407" class="Generalizable">dCert</a> <a id="7683" href="Ledger.Certs.html#4704" class="Datatype Operator">,DELEG⦈</a> <a id="7691" href="Ledger.Certs.html#4619" class="Generalizable">stᵈ&#39;</a>
      <a id="7702" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="7741" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7743" href="Ledger.Certs.html#4429" class="Generalizable">e</a> <a id="7745" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7747" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="7750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7752" href="Ledger.Certs.html#4451" class="Generalizable">vs</a> <a id="7755" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7757" href="Ledger.Certs.html#4180" class="Generalizable">wdrls</a> <a id="7763" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7765" href="Ledger.Certs.html#4675" class="Generalizable">cc</a> <a id="7768" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7770" href="Ledger.Certs.html#4977" class="Datatype Operator">⊢</a> <a id="7772" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7774" href="Ledger.Certs.html#4615" class="Generalizable">stᵈ</a> <a id="7778" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7780" href="Ledger.Certs.html#4655" class="Generalizable">stᵖ</a> <a id="7784" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7786" href="Ledger.Certs.html#4635" class="Generalizable">stᵍ</a> <a id="7790" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7792" href="Ledger.Certs.html#4977" class="Datatype Operator">⇀⦇</a> <a id="7795" href="Ledger.Certs.html#4407" class="Generalizable">dCert</a> <a id="7801" href="Ledger.Certs.html#4977" class="Datatype Operator">,CERT⦈</a> <a id="7808" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7810" href="Ledger.Certs.html#4619" class="Generalizable">stᵈ&#39;</a> <a id="7815" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7817" href="Ledger.Certs.html#4655" class="Generalizable">stᵖ</a> <a id="7821" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7823" href="Ledger.Certs.html#4635" class="Generalizable">stᵍ</a> <a id="7827" href="Class.To.html#102" class="Field Operator">⟧</a>

  <a id="_⊢_⇀⦇_,CERT⦈_.CERT-pool"></a><a id="7832" href="Ledger.Certs.html#7832" class="InductiveConstructor">CERT-pool</a> <a id="7842" class="Symbol">:</a>
    <a id="7848" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="7850" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="7853" href="Ledger.Certs.html#4795" class="Datatype Operator">⊢</a> <a id="7855" href="Ledger.Certs.html#4655" class="Generalizable">stᵖ</a> <a id="7859" href="Ledger.Certs.html#4795" class="Datatype Operator">⇀⦇</a> <a id="7862" href="Ledger.Certs.html#4407" class="Generalizable">dCert</a> <a id="7868" href="Ledger.Certs.html#4795" class="Datatype Operator">,POOL⦈</a> <a id="7875" href="Ledger.Certs.html#4659" class="Generalizable">stᵖ&#39;</a>
      <a id="7886" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="7925" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7927" href="Ledger.Certs.html#4429" class="Generalizable">e</a> <a id="7929" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7931" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="7934" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7936" href="Ledger.Certs.html#4451" class="Generalizable">vs</a> <a id="7939" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7941" href="Ledger.Certs.html#4180" class="Generalizable">wdrls</a> <a id="7947" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7949" href="Ledger.Certs.html#4675" class="Generalizable">cc</a> <a id="7952" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7954" href="Ledger.Certs.html#4977" class="Datatype Operator">⊢</a> <a id="7956" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7958" href="Ledger.Certs.html#4615" class="Generalizable">stᵈ</a> <a id="7962" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7964" href="Ledger.Certs.html#4655" class="Generalizable">stᵖ</a> <a id="7968" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7970" href="Ledger.Certs.html#4635" class="Generalizable">stᵍ</a> <a id="7974" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7976" href="Ledger.Certs.html#4977" class="Datatype Operator">⇀⦇</a> <a id="7979" href="Ledger.Certs.html#4407" class="Generalizable">dCert</a> <a id="7985" href="Ledger.Certs.html#4977" class="Datatype Operator">,CERT⦈</a> <a id="7992" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7994" href="Ledger.Certs.html#4615" class="Generalizable">stᵈ</a> <a id="7998" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8000" href="Ledger.Certs.html#4659" class="Generalizable">stᵖ&#39;</a> <a id="8005" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8007" href="Ledger.Certs.html#4635" class="Generalizable">stᵍ</a> <a id="8011" href="Class.To.html#102" class="Field Operator">⟧</a>

  <a id="_⊢_⇀⦇_,CERT⦈_.CERT-vdel"></a><a id="8016" href="Ledger.Certs.html#8016" class="InductiveConstructor">CERT-vdel</a> <a id="8026" class="Symbol">:</a>
    <a id="8032" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="8034" href="Ledger.Certs.html#4246" class="Generalizable">Γ</a> <a id="8036" href="Ledger.Certs.html#4886" class="Datatype Operator">⊢</a> <a id="8038" href="Ledger.Certs.html#4635" class="Generalizable">stᵍ</a> <a id="8042" href="Ledger.Certs.html#4886" class="Datatype Operator">⇀⦇</a> <a id="8045" href="Ledger.Certs.html#4407" class="Generalizable">dCert</a> <a id="8051" href="Ledger.Certs.html#4886" class="Datatype Operator">,GOVCERT⦈</a> <a id="8061" href="Ledger.Certs.html#4639" class="Generalizable">stᵍ&#39;</a>
      <a id="8072" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="8111" href="Ledger.Certs.html#4246" class="Generalizable">Γ</a> <a id="8113" href="Ledger.Certs.html#4977" class="Datatype Operator">⊢</a> <a id="8115" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="8117" href="Ledger.Certs.html#4615" class="Generalizable">stᵈ</a> <a id="8121" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8123" href="Ledger.Certs.html#4655" class="Generalizable">stᵖ</a> <a id="8127" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8129" href="Ledger.Certs.html#4635" class="Generalizable">stᵍ</a> <a id="8133" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="8135" href="Ledger.Certs.html#4977" class="Datatype Operator">⇀⦇</a> <a id="8138" href="Ledger.Certs.html#4407" class="Generalizable">dCert</a> <a id="8144" href="Ledger.Certs.html#4977" class="Datatype Operator">,CERT⦈</a> <a id="8151" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="8153" href="Ledger.Certs.html#4615" class="Generalizable">stᵈ</a> <a id="8157" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8159" href="Ledger.Certs.html#4655" class="Generalizable">stᵖ</a> <a id="8163" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8165" href="Ledger.Certs.html#4639" class="Generalizable">stᵍ&#39;</a> <a id="8170" href="Class.To.html#102" class="Field Operator">⟧</a>


<a id="8174" class="Keyword">data</a> <a id="8179" href="Ledger.Certs.html#5068" class="Datatype Operator">_⊢_⇀⦇_,CERTBASE⦈_</a> <a id="8197" class="Keyword">where</a>


  <a id="_⊢_⇀⦇_,CERTBASE⦈_.CERT-base"></a><a id="8207" href="Ledger.Certs.html#8207" class="InductiveConstructor">CERT-base</a> <a id="8217" class="Symbol">:</a>
    <a id="8223" class="Keyword">let</a> <a id="8227" href="Ledger.Certs.html#8227" class="Bound">refresh</a>          <a id="8244" class="Symbol">=</a> <a id="8246" href="Axiom.Set.html#7805" class="Function">mapPartial</a> <a id="8257" href="Ledger.GovernanceActions.html#2940" class="Function">getDRepVote</a> <a id="8269" class="Symbol">(</a><a id="8270" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="8279" href="Ledger.Certs.html#4451" class="Generalizable">vs</a><a id="8281" class="Symbol">)</a>
        <a id="8291" href="Ledger.Certs.html#8291" class="Bound">refreshedDReps</a>   <a id="8308" class="Symbol">=</a> <a id="8310" href="Axiom.Set.Map.html#10917" class="Function">mapValueRestricted</a> <a id="8329" class="Symbol">(</a><a id="8330" href="Function.Base.html#725" class="Function">const</a> <a id="8336" class="Symbol">(</a><a id="8337" href="Ledger.Certs.html#4429" class="Generalizable">e</a> <a id="8339" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8341" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="8344" class="Symbol">.</a><a id="8345" href="Ledger.PParams.html#3199" class="Field">drepActivity</a><a id="8357" class="Symbol">))</a> <a id="8360" href="Ledger.Certs.html#3891" class="Generalizable">dReps</a> <a id="8366" href="Ledger.Certs.html#8227" class="Bound">refresh</a>
        <a id="8382" href="Ledger.Certs.html#8382" class="Bound">wdrlCreds</a>        <a id="8399" class="Symbol">=</a> <a id="8401" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="8406" href="Ledger.Address.html#1265" class="Field">stake</a> <a id="8412" class="Symbol">(</a><a id="8413" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8417" href="Ledger.Certs.html#4180" class="Generalizable">wdrls</a><a id="8422" class="Symbol">)</a>
        <a id="8432" href="Ledger.Certs.html#8432" class="Bound">validVoteDelegs</a>  <a id="8449" class="Symbol">=</a> <a id="8451" href="Ledger.Certs.html#4050" class="Generalizable">voteDelegs</a> <a id="8462" href="Axiom.Set.Map.html#14048" class="Function Operator">∣^</a> <a id="8465" class="Symbol">(</a>  <a id="8468" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="8473" class="Symbol">(</a><a id="8474" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="8484" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a><a id="8488" class="Symbol">)</a> <a id="8490" class="Symbol">(</a><a id="8491" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8495" href="Ledger.Certs.html#3891" class="Generalizable">dReps</a><a id="8500" class="Symbol">)</a>
                                        <a id="8542" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="8544" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="8553" class="Symbol">(</a><a id="8554" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a> <a id="8570" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8572" href="Ledger.GovernanceActions.html#532" class="InductiveConstructor">abstainRep</a> <a id="8583" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8585" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="8587" class="Symbol">)</a> <a id="8589" class="Symbol">)</a>
    <a id="8595" class="Keyword">in</a>
    <a id="8602" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="8604" href="Ledger.Certs.html#74" class="Function">filter</a> <a id="8611" href="Ledger.Address.html#587" class="Function">isKeyHash</a> <a id="8621" href="Ledger.Certs.html#8382" class="Bound">wdrlCreds</a> <a id="8631" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="8633" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8637" href="Ledger.Certs.html#4050" class="Generalizable">voteDelegs</a>
    <a id="8652" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="8654" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="8659" class="Symbol">(</a><a id="8660" href="Class.Bifunctor.html#1045" class="Function">map₁</a> <a id="8665" href="Ledger.Address.html#1265" class="Field">stake</a><a id="8670" class="Symbol">)</a> <a id="8672" class="Symbol">(</a><a id="8673" href="Ledger.Certs.html#4180" class="Generalizable">wdrls</a> <a id="8679" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="8680" class="Symbol">)</a> <a id="8682" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="8684" href="Ledger.Certs.html#3851" class="Generalizable">rewards</a> <a id="8692" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a>
      <a id="8700" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="8739" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="8741" href="Ledger.Certs.html#4429" class="Generalizable">e</a> <a id="8743" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8745" href="Ledger.Certs.html#4561" class="Generalizable">pp</a> <a id="8748" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8750" href="Ledger.Certs.html#4451" class="Generalizable">vs</a> <a id="8753" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8755" href="Ledger.Certs.html#4180" class="Generalizable">wdrls</a> <a id="8761" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8763" href="Ledger.Certs.html#4675" class="Generalizable">cc</a> <a id="8766" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="8768" href="Ledger.Certs.html#5068" class="Datatype Operator">⊢</a>
        <a id="8778" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="8780" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="8782" href="Ledger.Certs.html#4050" class="Generalizable">voteDelegs</a> <a id="8793" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8795" href="Ledger.Certs.html#3945" class="Generalizable">stakeDelegs</a> <a id="8807" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8809" href="Ledger.Certs.html#3851" class="Generalizable">rewards</a> <a id="8817" href="Class.To.html#102" class="Field Operator">⟧</a>
        <a id="8827" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8829" href="Ledger.Certs.html#4655" class="Generalizable">stᵖ</a>
        <a id="8841" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8843" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="8845" href="Ledger.Certs.html#3891" class="Generalizable">dReps</a> <a id="8851" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8853" href="Ledger.Certs.html#3992" class="Generalizable">ccHotKeys</a> <a id="8863" href="Class.To.html#102" class="Field Operator">⟧</a>
        <a id="8873" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="8875" href="Ledger.Certs.html#5068" class="Datatype Operator">⇀⦇</a> <a id="8878" class="Symbol">_</a> <a id="8880" href="Ledger.Certs.html#5068" class="Datatype Operator">,CERTBASE⦈</a>
        <a id="8899" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="8901" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="8903" href="Ledger.Certs.html#8432" class="Bound">validVoteDelegs</a> <a id="8919" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8921" href="Ledger.Certs.html#3945" class="Generalizable">stakeDelegs</a> <a id="8933" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8935" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="8944" href="Ledger.Certs.html#8382" class="Bound">wdrlCreds</a> <a id="8954" class="Number">0</a> <a id="8956" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8959" href="Ledger.Certs.html#3851" class="Generalizable">rewards</a> <a id="8967" href="Class.To.html#102" class="Field Operator">⟧</a>
        <a id="8977" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8979" href="Ledger.Certs.html#4655" class="Generalizable">stᵖ</a>
        <a id="8991" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8993" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="8995" href="Ledger.Certs.html#8291" class="Bound">refreshedDReps</a> <a id="9010" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9012" href="Ledger.Certs.html#3992" class="Generalizable">ccHotKeys</a> <a id="9022" href="Class.To.html#102" class="Field Operator">⟧</a>
        <a id="9032" href="Class.To.html#102" class="Field Operator">⟧</a>

</pre></body></html>