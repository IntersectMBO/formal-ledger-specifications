<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Ledger</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">import</a> <a id="33" href="Data.List.html" class="Module">Data.List</a> <a id="43" class="Symbol">as</a> <a id="46" class="Module">L</a>

<a id="49" class="Keyword">open</a> <a id="54" class="Keyword">import</a> <a id="61" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="76" class="Keyword">open</a> <a id="81" class="Keyword">import</a> <a id="88" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="177" class="Keyword">using</a> <a id="183" class="Symbol">(</a><a id="184" href="Ledger.Conway.Specification.Transaction.html#1000" class="Record">TransactionStructure</a><a id="204" class="Symbol">)</a>

<a id="207" class="Keyword">module</a> <a id="214" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a>
  <a id="251" class="Symbol">(</a><a id="252" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="256" class="Symbol">:</a> <a id="258" class="Symbol">_)</a> <a id="261" class="Symbol">(</a><a id="262" class="Keyword">open</a> <a id="267" href="Ledger.Conway.Specification.Transaction.html#1000" class="Module">TransactionStructure</a> <a id="288" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a><a id="291" class="Symbol">)</a>
  <a id="295" class="Symbol">(</a><a id="296" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a> <a id="300" class="Symbol">:</a> <a id="302" href="Ledger.Conway.Specification.Abstract.html#654" class="Record">AbstractFunctions</a> <a id="320" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a><a id="323" class="Symbol">)</a> <a id="325" class="Symbol">(</a><a id="326" class="Keyword">open</a> <a id="331" href="Ledger.Conway.Specification.Abstract.html#654" class="Module">AbstractFunctions</a> <a id="349" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a><a id="352" class="Symbol">)</a>
  <a id="356" class="Keyword">where</a>

<a id="363" class="Keyword">open</a> <a id="368" class="Keyword">import</a> <a id="375" href="Ledger.Conway.Specification.Enact.html" class="Module">Ledger.Conway.Specification.Enact</a> <a id="409" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="422" class="Keyword">open</a> <a id="427" class="Keyword">import</a> <a id="434" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="466" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="515" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="519" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="569" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="573" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a>
<a id="577" class="Keyword">open</a> <a id="582" class="Keyword">import</a> <a id="589" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="623" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>

<a id="637" class="Keyword">open</a> <a id="642" href="Ledger.Conway.Specification.Transaction.html#4684" class="Module">Tx</a>
<a id="645" class="Keyword">open</a> <a id="650" href="Ledger.Conway.Specification.Certs.html#4103" class="Module">GState</a>
<a id="657" class="Keyword">open</a> <a id="662" href="Ledger.Conway.Specification.Gov.Actions.html#3768" class="Module">GovActionState</a>
<a id="677" class="Keyword">open</a> <a id="682" href="Ledger.Conway.Specification.Enact.html#448" class="Module">EnactState</a> <a id="693" class="Keyword">using</a> <a id="699" class="Symbol">(</a><a id="700" href="Ledger.Conway.Specification.Enact.html#484" class="Field">cc</a><a id="702" class="Symbol">)</a>


<a id="706" class="Keyword">record</a> <a id="LEnv"></a><a id="713" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="718" class="Symbol">:</a> <a id="720" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="725" class="Keyword">where</a>
  <a id="733" class="Keyword">field</a>
    <a id="LEnv.slot"></a><a id="743" href="Ledger.Conway.Specification.Ledger.html#743" class="Field">slot</a>        <a id="755" class="Symbol">:</a> <a id="757" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a>
    <a id="LEnv.ppolicy"></a><a id="766" href="Ledger.Conway.Specification.Ledger.html#766" class="Field">ppolicy</a>     <a id="778" class="Symbol">:</a> <a id="780" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="786" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="LEnv.pparams"></a><a id="801" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a>     <a id="813" class="Symbol">:</a> <a id="815" href="Ledger.Conway.Specification.PParams.html#1685" class="Record">PParams</a>
    <a id="LEnv.enactState"></a><a id="827" href="Ledger.Conway.Specification.Ledger.html#827" class="Field">enactState</a>  <a id="839" class="Symbol">:</a> <a id="841" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a>
    <a id="LEnv.treasury"></a><a id="856" href="Ledger.Conway.Specification.Ledger.html#856" class="Field">treasury</a>    <a id="868" class="Symbol">:</a> <a id="870" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="881" class="Keyword">instance</a>
  <a id="HasPParams-LEnv"></a><a id="892" href="Ledger.Conway.Specification.Ledger.html#892" class="Function">HasPParams-LEnv</a> <a id="908" class="Symbol">:</a> <a id="910" href="Ledger.Conway.Specification.PParams.html#3489" class="Record">HasPParams</a> <a id="921" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a>
  <a id="928" href="Ledger.Conway.Specification.Ledger.html#892" class="Function">HasPParams-LEnv</a> <a id="944" class="Symbol">.</a><a id="945" href="Ledger.Conway.Specification.PParams.html#3540" class="Field">PParamsOf</a> <a id="955" class="Symbol">=</a> <a id="957" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">LEnv.pparams</a>




<a id="974" class="Keyword">record</a> <a id="LState"></a><a id="981" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="988" class="Symbol">:</a> <a id="990" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="995" class="Keyword">where</a>


  <a id="1005" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ˡ"></a><a id="1017" href="Ledger.Conway.Specification.Ledger.html#1017" class="InductiveConstructor Operator">⟦_,_,_⟧ˡ</a>


  <a id="1030" class="Keyword">field</a>
    <a id="LState.utxoSt"></a><a id="1040" href="Ledger.Conway.Specification.Ledger.html#1040" class="Field">utxoSt</a>     <a id="1051" class="Symbol">:</a> <a id="1053" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">UTxOState</a>
    <a id="LState.govSt"></a><a id="1067" href="Ledger.Conway.Specification.Ledger.html#1067" class="Field">govSt</a>      <a id="1078" class="Symbol">:</a> <a id="1080" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a>
    <a id="LState.certState"></a><a id="1093" href="Ledger.Conway.Specification.Ledger.html#1093" class="Field">certState</a>  <a id="1104" class="Symbol">:</a> <a id="1106" href="Ledger.Conway.Specification.Certs.html#4234" class="Record">CertState</a>



<a id="1119" class="Keyword">record</a> <a id="HasLState"></a><a id="1126" href="Ledger.Conway.Specification.Ledger.html#1126" class="Record">HasLState</a> <a id="1136" class="Symbol">{</a><a id="1137" href="Ledger.Conway.Specification.Ledger.html#1137" class="Bound">a</a><a id="1138" class="Symbol">}</a> <a id="1140" class="Symbol">(</a><a id="1141" href="Ledger.Conway.Specification.Ledger.html#1141" class="Bound">A</a> <a id="1143" class="Symbol">:</a> <a id="1145" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1150" href="Ledger.Conway.Specification.Ledger.html#1137" class="Bound">a</a><a id="1151" class="Symbol">)</a> <a id="1153" class="Symbol">:</a> <a id="1155" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1160" href="Ledger.Conway.Specification.Ledger.html#1137" class="Bound">a</a> <a id="1162" class="Keyword">where</a>
  <a id="1170" class="Keyword">field</a> <a id="HasLState.LStateOf"></a><a id="1176" href="Ledger.Conway.Specification.Ledger.html#1176" class="Field">LStateOf</a> <a id="1185" class="Symbol">:</a> <a id="1187" href="Ledger.Conway.Specification.Ledger.html#1141" class="Bound">A</a> <a id="1189" class="Symbol">→</a> <a id="1191" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
<a id="1198" class="Keyword">open</a> <a id="1203" href="Ledger.Conway.Specification.Ledger.html#1126" class="Module">HasLState</a> <a id="1213" class="Symbol">⦃...⦄</a> <a id="1219" class="Keyword">public</a>

<a id="1227" class="Keyword">instance</a>
  <a id="HasUTxOState-LState"></a><a id="1238" href="Ledger.Conway.Specification.Ledger.html#1238" class="Function">HasUTxOState-LState</a> <a id="1258" class="Symbol">:</a> <a id="1260" href="Ledger.Conway.Specification.Utxo.html#1396" class="Record">HasUTxOState</a> <a id="1273" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1282" href="Ledger.Conway.Specification.Ledger.html#1238" class="Function">HasUTxOState-LState</a> <a id="1302" class="Symbol">.</a><a id="1303" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a> <a id="1315" class="Symbol">=</a> <a id="1317" href="Ledger.Conway.Specification.Ledger.html#1040" class="Field">LState.utxoSt</a>

  <a id="HasUTxO-LState"></a><a id="1334" href="Ledger.Conway.Specification.Ledger.html#1334" class="Function">HasUTxO-LState</a> <a id="1349" class="Symbol">:</a> <a id="1351" href="Ledger.Conway.Specification.Transaction.html#2891" class="Record">HasUTxO</a> <a id="1359" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1368" href="Ledger.Conway.Specification.Ledger.html#1334" class="Function">HasUTxO-LState</a> <a id="1383" class="Symbol">.</a><a id="1384" href="Ledger.Conway.Specification.Transaction.html#2941" class="Field">UTxOOf</a> <a id="1391" class="Symbol">=</a> <a id="1393" href="Ledger.Conway.Specification.Transaction.html#2941" class="Field">UTxOOf</a> <a id="1400" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1402" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

  <a id="HasGovState-LState"></a><a id="1417" href="Ledger.Conway.Specification.Ledger.html#1417" class="Function">HasGovState-LState</a> <a id="1436" class="Symbol">:</a> <a id="1438" href="Ledger.Conway.Specification.Gov.html#1553" class="Record">HasGovState</a> <a id="1450" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1459" href="Ledger.Conway.Specification.Ledger.html#1417" class="Function">HasGovState-LState</a> <a id="1478" class="Symbol">.</a><a id="1479" href="Ledger.Conway.Specification.Gov.html#1605" class="Field">GovStateOf</a> <a id="1490" class="Symbol">=</a> <a id="1492" href="Ledger.Conway.Specification.Ledger.html#1067" class="Field">LState.govSt</a>

  <a id="HasCertState-LState"></a><a id="1508" href="Ledger.Conway.Specification.Ledger.html#1508" class="Function">HasCertState-LState</a> <a id="1528" class="Symbol">:</a> <a id="1530" href="Ledger.Conway.Specification.Certs.html#4811" class="Record">HasCertState</a> <a id="1543" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1552" href="Ledger.Conway.Specification.Ledger.html#1508" class="Function">HasCertState-LState</a> <a id="1572" class="Symbol">.</a><a id="1573" href="Ledger.Conway.Specification.Certs.html#4864" class="Field">CertStateOf</a> <a id="1585" class="Symbol">=</a> <a id="1587" href="Ledger.Conway.Specification.Ledger.html#1093" class="Field">LState.certState</a>

  <a id="HasDeposits-LState"></a><a id="1607" href="Ledger.Conway.Specification.Ledger.html#1607" class="Function">HasDeposits-LState</a> <a id="1626" class="Symbol">:</a> <a id="1628" href="Ledger.Conway.Specification.Certs.html#847" class="Record">HasDeposits</a> <a id="1640" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1649" href="Ledger.Conway.Specification.Ledger.html#1607" class="Function">HasDeposits-LState</a> <a id="1668" class="Symbol">.</a><a id="1669" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="1680" class="Symbol">=</a> <a id="1682" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="1693" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1695" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

  <a id="HasPools-LState"></a><a id="1710" href="Ledger.Conway.Specification.Ledger.html#1710" class="Function">HasPools-LState</a> <a id="1726" class="Symbol">:</a> <a id="1728" href="Ledger.Conway.Specification.Certs.html#1597" class="Record">HasPools</a> <a id="1737" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1746" href="Ledger.Conway.Specification.Ledger.html#1710" class="Function">HasPools-LState</a> <a id="1762" class="Symbol">.</a><a id="1763" href="Ledger.Conway.Specification.Certs.html#1646" class="Field">PoolsOf</a> <a id="1771" class="Symbol">=</a> <a id="1773" href="Ledger.Conway.Specification.Certs.html#1646" class="Field">PoolsOf</a> <a id="1781" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1783" href="Ledger.Conway.Specification.Certs.html#4864" class="Field">CertStateOf</a>

  <a id="HasGState-LState"></a><a id="1798" href="Ledger.Conway.Specification.Ledger.html#1798" class="Function">HasGState-LState</a> <a id="1815" class="Symbol">:</a> <a id="1817" href="Ledger.Conway.Specification.Certs.html#4703" class="Record">HasGState</a> <a id="1827" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1836" href="Ledger.Conway.Specification.Ledger.html#1798" class="Function">HasGState-LState</a> <a id="1853" class="Symbol">.</a><a id="1854" href="Ledger.Conway.Specification.Certs.html#4753" class="Field">GStateOf</a> <a id="1863" class="Symbol">=</a> <a id="1865" href="Ledger.Conway.Specification.Certs.html#4753" class="Field">GStateOf</a> <a id="1874" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1876" href="Ledger.Conway.Specification.Certs.html#4864" class="Field">CertStateOf</a>

  <a id="HasDState-LState"></a><a id="1891" href="Ledger.Conway.Specification.Ledger.html#1891" class="Function">HasDState-LState</a> <a id="1908" class="Symbol">:</a> <a id="1910" href="Ledger.Conway.Specification.Certs.html#4487" class="Record">HasDState</a> <a id="1920" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1929" href="Ledger.Conway.Specification.Ledger.html#1891" class="Function">HasDState-LState</a> <a id="1946" class="Symbol">.</a><a id="1947" href="Ledger.Conway.Specification.Certs.html#4537" class="Field">DStateOf</a> <a id="1956" class="Symbol">=</a> <a id="1958" href="Ledger.Conway.Specification.Certs.html#4537" class="Field">DStateOf</a> <a id="1967" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1969" href="Ledger.Conway.Specification.Certs.html#4864" class="Field">CertStateOf</a>

  <a id="HasPState-LState"></a><a id="1984" href="Ledger.Conway.Specification.Ledger.html#1984" class="Function">HasPState-LState</a> <a id="2001" class="Symbol">:</a> <a id="2003" href="Ledger.Conway.Specification.Certs.html#4595" class="Record">HasPState</a> <a id="2013" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="2022" href="Ledger.Conway.Specification.Ledger.html#1984" class="Function">HasPState-LState</a> <a id="2039" class="Symbol">.</a><a id="2040" href="Ledger.Conway.Specification.Certs.html#4645" class="Field">PStateOf</a> <a id="2049" class="Symbol">=</a> <a id="2051" href="Ledger.Conway.Specification.Certs.html#4645" class="Field">PStateOf</a> <a id="2060" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2062" href="Ledger.Conway.Specification.Certs.html#4864" class="Field">CertStateOf</a>

  <a id="HasVoteDelegs-LState"></a><a id="2077" href="Ledger.Conway.Specification.Ledger.html#2077" class="Function">HasVoteDelegs-LState</a> <a id="2098" class="Symbol">:</a> <a id="2100" href="Ledger.Conway.Specification.Gov.Actions.html#1271" class="Record">HasVoteDelegs</a> <a id="2114" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="2123" href="Ledger.Conway.Specification.Ledger.html#2077" class="Function">HasVoteDelegs-LState</a> <a id="2144" class="Symbol">.</a><a id="2145" href="Ledger.Conway.Specification.Gov.Actions.html#1325" class="Field">VoteDelegsOf</a> <a id="2158" class="Symbol">=</a> <a id="2160" href="Ledger.Conway.Specification.Gov.Actions.html#1325" class="Field">VoteDelegsOf</a> <a id="2173" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2175" href="Ledger.Conway.Specification.Certs.html#4537" class="Field">DStateOf</a> <a id="2184" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2186" href="Ledger.Conway.Specification.Certs.html#4864" class="Field">CertStateOf</a>

  <a id="HasDonations-LState"></a><a id="2201" href="Ledger.Conway.Specification.Ledger.html#2201" class="Function">HasDonations-LState</a> <a id="2221" class="Symbol">:</a> <a id="2223" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="2236" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="2245" href="Ledger.Conway.Specification.Ledger.html#2201" class="Function">HasDonations-LState</a> <a id="2265" class="Symbol">.</a><a id="2266" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="2278" class="Symbol">=</a> <a id="2280" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="2292" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2294" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

  <a id="HasFees-LState"></a><a id="2309" href="Ledger.Conway.Specification.Ledger.html#2309" class="Function">HasFees-LState</a> <a id="2324" class="Symbol">:</a> <a id="2326" href="Ledger.Prelude.Base.html#621" class="Record">HasFees</a> <a id="2334" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="2343" href="Ledger.Conway.Specification.Ledger.html#2309" class="Function">HasFees-LState</a> <a id="2358" class="Symbol">.</a><a id="2359" href="Ledger.Prelude.Base.html#669" class="Field">FeesOf</a> <a id="2366" class="Symbol">=</a> <a id="2368" href="Ledger.Prelude.Base.html#669" class="Field">FeesOf</a> <a id="2375" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2377" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

<a id="2390" class="Keyword">open</a> <a id="2395" href="Ledger.Conway.Specification.Certs.html#4234" class="Module">CertState</a>
<a id="2405" class="Keyword">open</a> <a id="2410" href="Ledger.Conway.Specification.Certs.html#3862" class="Module">DState</a>
<a id="2417" class="Keyword">open</a> <a id="2422" href="Ledger.Conway.Specification.Gov.Actions.html#3640" class="Module">GovVotes</a>

<a id="2432" class="Keyword">instance</a>
  <a id="2443" class="Keyword">unquoteDecl</a> <a id="HasCast-LEnv"></a><a id="2455" href="Ledger.Conway.Specification.Ledger.html#2455" class="Function">HasCast-LEnv</a> <a id="HasCast-LState"></a><a id="2468" href="Ledger.Conway.Specification.Ledger.html#2468" class="Function">HasCast-LState</a> <a id="2483" class="Symbol">=</a> <a id="2485" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="2504" class="Symbol">((</a><a id="2506" class="Keyword">quote</a> <a id="2512" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="2517" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2519" href="Ledger.Conway.Specification.Ledger.html#2455" class="Function">HasCast-LEnv</a><a id="2531" class="Symbol">)</a> <a id="2533" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2535" class="Symbol">(</a><a id="2536" class="Keyword">quote</a> <a id="2542" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="2549" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2551" href="Ledger.Conway.Specification.Ledger.html#2468" class="Function">HasCast-LState</a><a id="2565" class="Symbol">)</a> <a id="2567" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2569" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2571" class="Symbol">)</a>


<a id="txgov"></a><a id="2575" href="Ledger.Conway.Specification.Ledger.html#2575" class="Function">txgov</a> <a id="2581" class="Symbol">:</a> <a id="2583" href="Ledger.Conway.Specification.Transaction.html#2998" class="Record">TxBody</a> <a id="2590" class="Symbol">→</a> <a id="2592" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2597" class="Symbol">(</a><a id="2598" href="Ledger.Conway.Specification.Gov.Actions.html#3270" class="Record">GovVote</a> <a id="2606" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2608" href="Ledger.Conway.Specification.Gov.Actions.html#3418" class="Record">GovProposal</a><a id="2619" class="Symbol">)</a>
<a id="2621" href="Ledger.Conway.Specification.Ledger.html#2575" class="Function">txgov</a> <a id="2627" href="Ledger.Conway.Specification.Ledger.html#2627" class="Bound">txb</a> <a id="2631" class="Symbol">=</a> <a id="2633" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2637" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2642" href="Ledger.Conway.Specification.Transaction.html#3507" class="Field">txGovProposals</a> <a id="2657" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="2660" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2664" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2669" href="Ledger.Conway.Specification.Transaction.html#3465" class="Field">txGovVotes</a>
  <a id="2682" class="Keyword">where</a> <a id="2688" class="Keyword">open</a> <a id="2693" href="Ledger.Conway.Specification.Transaction.html#2998" class="Module">TxBody</a> <a id="2700" href="Ledger.Conway.Specification.Ledger.html#2627" class="Bound">txb</a>

<a id="rmOrphanDRepVotes"></a><a id="2705" href="Ledger.Conway.Specification.Ledger.html#2705" class="Function">rmOrphanDRepVotes</a> <a id="2723" class="Symbol">:</a> <a id="2725" href="Ledger.Conway.Specification.Certs.html#4234" class="Record">CertState</a> <a id="2735" class="Symbol">→</a> <a id="2737" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a> <a id="2746" class="Symbol">→</a> <a id="2748" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a>
<a id="2757" href="Ledger.Conway.Specification.Ledger.html#2705" class="Function">rmOrphanDRepVotes</a> <a id="2775" href="Ledger.Conway.Specification.Ledger.html#2775" class="Bound">cs</a> <a id="2778" href="Ledger.Conway.Specification.Ledger.html#2778" class="Bound">govSt</a> <a id="2784" class="Symbol">=</a> <a id="2786" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="2792" class="Symbol">(</a><a id="2793" href="Class.Bifunctor.html#1152" class="Function">map₂</a> <a id="2798" href="Ledger.Conway.Specification.Ledger.html#2905" class="Function">go</a><a id="2800" class="Symbol">)</a> <a id="2802" href="Ledger.Conway.Specification.Ledger.html#2778" class="Bound">govSt</a>
  <a id="2810" class="Keyword">where</a>
   <a id="2819" href="Ledger.Conway.Specification.Ledger.html#2819" class="Function">ifDRepRegistered</a> <a id="2836" class="Symbol">:</a> <a id="2838" href="Ledger.Core.Specification.Address.html#260" class="Datatype">Credential</a> <a id="2849" class="Symbol">→</a> <a id="2851" href="Agda.Primitive.html#388" class="Primitive">Type</a>
   <a id="2859" href="Ledger.Conway.Specification.Ledger.html#2819" class="Function">ifDRepRegistered</a> <a id="2876" href="Ledger.Conway.Specification.Ledger.html#2876" class="Bound">c</a> <a id="2878" class="Symbol">=</a> <a id="2880" href="Ledger.Conway.Specification.Ledger.html#2876" class="Bound">c</a> <a id="2882" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="2884" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2888" class="Symbol">(</a><a id="2889" href="Ledger.Conway.Specification.Certs.html#1569" class="Field">DRepsOf</a> <a id="2897" href="Ledger.Conway.Specification.Ledger.html#2775" class="Bound">cs</a><a id="2899" class="Symbol">)</a>

   <a id="2905" href="Ledger.Conway.Specification.Ledger.html#2905" class="Function">go</a> <a id="2908" class="Symbol">:</a> <a id="2910" href="Ledger.Conway.Specification.Gov.Actions.html#3768" class="Record">GovActionState</a> <a id="2925" class="Symbol">→</a> <a id="2927" href="Ledger.Conway.Specification.Gov.Actions.html#3768" class="Record">GovActionState</a>
   <a id="2945" href="Ledger.Conway.Specification.Ledger.html#2905" class="Function">go</a> <a id="2948" href="Ledger.Conway.Specification.Ledger.html#2948" class="Bound">gas</a> <a id="2952" class="Symbol">=</a> <a id="2954" class="Keyword">record</a> <a id="2961" href="Ledger.Conway.Specification.Ledger.html#2948" class="Bound">gas</a> <a id="2965" class="Symbol">{</a> <a id="2967" href="Ledger.Conway.Specification.Gov.Actions.html#3808" class="Field">votes</a> <a id="2973" class="Symbol">=</a> <a id="2975" class="Keyword">record</a> <a id="2982" class="Symbol">(</a><a id="2983" href="Ledger.Conway.Specification.Ledger.html#2948" class="Bound">gas</a> <a id="2987" class="Symbol">.</a><a id="2988" href="Ledger.Conway.Specification.Gov.Actions.html#3808" class="Field">votes</a><a id="2993" class="Symbol">)</a> <a id="2995" class="Symbol">{</a> <a id="2997" href="Ledger.Conway.Specification.Gov.Actions.html#3705" class="Field">gvDRep</a> <a id="3004" class="Symbol">=</a> <a id="3006" href="abstract-set-theory.FiniteSetTheory.html#2989" class="Function">filterKeys</a> <a id="3017" href="Ledger.Conway.Specification.Ledger.html#2819" class="Function">ifDRepRegistered</a> <a id="3034" class="Symbol">(</a><a id="3035" href="Ledger.Conway.Specification.Ledger.html#2948" class="Bound">gas</a> <a id="3039" class="Symbol">.</a><a id="3040" href="Ledger.Conway.Specification.Gov.Actions.html#3808" class="Field">votes</a> <a id="3046" class="Symbol">.</a><a id="3047" href="Ledger.Conway.Specification.Gov.Actions.html#3705" class="Field">gvDRep</a><a id="3053" class="Symbol">)</a> <a id="3055" class="Symbol">}</a> <a id="3057" class="Symbol">}</a>

<a id="allColdCreds"></a><a id="3060" href="Ledger.Conway.Specification.Ledger.html#3060" class="Function">allColdCreds</a> <a id="3073" class="Symbol">:</a> <a id="3075" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a> <a id="3084" class="Symbol">→</a> <a id="3086" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a> <a id="3097" class="Symbol">→</a> <a id="3099" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3101" href="Ledger.Core.Specification.Address.html#260" class="Datatype">Credential</a>
<a id="3112" href="Ledger.Conway.Specification.Ledger.html#3060" class="Function">allColdCreds</a> <a id="3125" href="Ledger.Conway.Specification.Ledger.html#3125" class="Bound">govSt</a> <a id="3131" href="Ledger.Conway.Specification.Ledger.html#3131" class="Bound">es</a> <a id="3134" class="Symbol">=</a>
  <a id="3138" href="Ledger.Conway.Specification.Enact.html#1367" class="Function">ccCreds</a> <a id="3146" class="Symbol">(</a><a id="3147" href="Ledger.Conway.Specification.Ledger.html#3131" class="Bound">es</a> <a id="3150" class="Symbol">.</a><a id="3151" href="Ledger.Conway.Specification.Enact.html#484" class="Field">cc</a><a id="3153" class="Symbol">)</a> <a id="3155" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="3157" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="3168" class="Symbol">(λ</a> <a id="3171" class="Symbol">(_</a> <a id="3174" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3176" href="Ledger.Conway.Specification.Ledger.html#3176" class="Bound">st</a><a id="3178" class="Symbol">)</a> <a id="3180" class="Symbol">→</a> <a id="3182" href="Ledger.Conway.Specification.Gov.Actions.html#6254" class="Function">proposedCC</a> <a id="3193" class="Symbol">(</a><a id="3194" href="Ledger.Conway.Specification.Gov.Actions.html#2115" class="Field">GovActionOf</a> <a id="3206" href="Ledger.Conway.Specification.Ledger.html#3176" class="Bound">st</a><a id="3208" class="Symbol">))</a> <a id="3211" class="Symbol">(</a><a id="3212" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="3221" href="Ledger.Conway.Specification.Ledger.html#3125" class="Bound">govSt</a><a id="3226" class="Symbol">)</a>


<a id="3230" class="Keyword">private</a> <a id="3238" class="Keyword">variable</a>
  <a id="3249" href="Ledger.Conway.Specification.Ledger.html#3249" class="Generalizable">Γ</a> <a id="3251" class="Symbol">:</a> <a id="3253" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a>
  <a id="3260" href="Ledger.Conway.Specification.Ledger.html#3260" class="Generalizable">s</a> <a id="3262" href="Ledger.Conway.Specification.Ledger.html#3262" class="Generalizable">s&#39;</a> <a id="3265" href="Ledger.Conway.Specification.Ledger.html#3265" class="Generalizable">s&#39;&#39;</a> <a id="3269" class="Symbol">:</a> <a id="3271" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="3280" href="Ledger.Conway.Specification.Ledger.html#3280" class="Generalizable">utxoSt</a> <a id="3287" href="Ledger.Conway.Specification.Ledger.html#3287" class="Generalizable">utxoSt&#39;</a> <a id="3295" class="Symbol">:</a> <a id="3297" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">UTxOState</a>
  <a id="3309" href="Ledger.Conway.Specification.Ledger.html#3309" class="Generalizable">govSt</a> <a id="3315" href="Ledger.Conway.Specification.Ledger.html#3315" class="Generalizable">govSt&#39;</a> <a id="3322" class="Symbol">:</a> <a id="3324" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a>
  <a id="3335" href="Ledger.Conway.Specification.Ledger.html#3335" class="Generalizable">certState</a> <a id="3345" href="Ledger.Conway.Specification.Ledger.html#3345" class="Generalizable">certState&#39;</a> <a id="3356" class="Symbol">:</a> <a id="3358" href="Ledger.Conway.Specification.Certs.html#4234" class="Record">CertState</a>
  <a id="3370" href="Ledger.Conway.Specification.Ledger.html#3370" class="Generalizable">tx</a> <a id="3373" class="Symbol">:</a> <a id="3375" href="Ledger.Conway.Specification.Transaction.html#4684" class="Record">Tx</a>
  <a id="3380" href="Ledger.Conway.Specification.Ledger.html#3380" class="Generalizable">slot</a> <a id="3385" class="Symbol">:</a> <a id="3387" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a>
  <a id="3394" href="Ledger.Conway.Specification.Ledger.html#3394" class="Generalizable">ppolicy</a> <a id="3402" class="Symbol">:</a> <a id="3404" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3410" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
  <a id="3423" href="Ledger.Conway.Specification.Ledger.html#3423" class="Generalizable">pp</a> <a id="3426" class="Symbol">:</a> <a id="3428" href="Ledger.Conway.Specification.PParams.html#1685" class="Record">PParams</a>
  <a id="3438" href="Ledger.Conway.Specification.Ledger.html#3438" class="Generalizable">enactState</a> <a id="3449" class="Symbol">:</a> <a id="3451" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a>
  <a id="3464" href="Ledger.Conway.Specification.Ledger.html#3464" class="Generalizable">treasury</a> <a id="3473" class="Symbol">:</a> <a id="3475" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="3486" class="Keyword">data</a> <a id="_⊢_⇀⦇_,LEDGER⦈_"></a><a id="3491" href="Ledger.Conway.Specification.Ledger.html#3491" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="3507" class="Symbol">:</a> <a id="3509" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="3514" class="Symbol">→</a> <a id="3516" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="3523" class="Symbol">→</a> <a id="3525" href="Ledger.Conway.Specification.Transaction.html#4684" class="Record">Tx</a> <a id="3528" class="Symbol">→</a> <a id="3530" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="3537" class="Symbol">→</a> <a id="3539" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3544" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-V"></a><a id="3553" href="Ledger.Conway.Specification.Ledger.html#3553" class="InductiveConstructor">LEDGER-V</a> <a id="3562" class="Symbol">:</a>
    <a id="3568" class="Keyword">let</a>  <a id="3573" href="Ledger.Conway.Specification.Ledger.html#3573" class="Bound">txb</a>         <a id="3585" class="Symbol">=</a> <a id="3587" href="Ledger.Conway.Specification.Ledger.html#3370" class="Generalizable">tx</a> <a id="3590" class="Symbol">.</a><a id="3591" href="Ledger.Conway.Specification.Transaction.html#4716" class="Field">body</a>


         <a id="3607" class="Keyword">open</a> <a id="3612" href="Ledger.Conway.Specification.Transaction.html#2998" class="Module">TxBody</a> <a id="3619" href="Ledger.Conway.Specification.Ledger.html#3573" class="Bound">txb</a>


    <a id="3629" class="Keyword">in</a>
    <a id="3636" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3638" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a> <a id="3646" href="Ledger.Conway.Specification.Ledger.html#3370" class="Generalizable">tx</a> <a id="3649" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3651" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="3660" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3380}{\htmlId{3664}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3423}{\htmlId{3671}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3464}{\htmlId{3676}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a>  <a id="3688" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⊢</a> <a id="3690" href="Ledger.Conway.Specification.Ledger.html#3280" class="Generalizable">utxoSt</a> <a id="3697" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="3700" href="Ledger.Conway.Specification.Ledger.html#3370" class="Generalizable">tx</a> <a id="3703" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="3711" href="Ledger.Conway.Specification.Ledger.html#3287" class="Generalizable">utxoSt&#39;</a>
    <a id="3723" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#810}{\htmlId{3727}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3380}{\htmlId{3733}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3423}{\htmlId{3740}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3465}{\htmlId{3745}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3290}{\htmlId{3758}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3060}{\htmlId{3774}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3309}{\htmlId{3787}{\htmlClass{Generalizable}{\text{govSt}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3438}{\htmlId{3793}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="3806" href="Ledger.Conway.Specification.Certs.html#8228" class="Function Operator">⊢</a> <a id="3808" href="Ledger.Conway.Specification.Ledger.html#3335" class="Generalizable">certState</a> <a id="3818" href="Ledger.Conway.Specification.Certs.html#8228" class="Function Operator">⇀⦇</a> <a id="3821" href="Ledger.Conway.Specification.Transaction.html#3216" class="Function">txCerts</a> <a id="3829" href="Ledger.Conway.Specification.Certs.html#8228" class="Function Operator">,CERTS⦈</a> <a id="3837" href="Ledger.Conway.Specification.Ledger.html#3345" class="Generalizable">certState&#39;</a>
    <a id="3852" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Transaction.html#3182}{\htmlId{3856}{\htmlClass{Function}{\text{txId}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#810}{\htmlId{3863}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3380}{\htmlId{3869}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3423}{\htmlId{3876}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3394}{\htmlId{3881}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3438}{\htmlId{3891}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3345}{\htmlId{3904}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{3917}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{3921}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Certs.html#1811}{\htmlId{3922}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3335}{\htmlId{3932}{\htmlClass{Generalizable}{\text{certState}}}}\,\,\htmlId{3941}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="3945" href="Ledger.Conway.Specification.Gov.html#8029" class="Function Operator">⊢</a> <a id="3947" href="Ledger.Conway.Specification.Ledger.html#2705" class="Function">rmOrphanDRepVotes</a> <a id="3965" href="Ledger.Conway.Specification.Ledger.html#3345" class="Generalizable">certState&#39;</a> <a id="3976" href="Ledger.Conway.Specification.Ledger.html#3309" class="Generalizable">govSt</a> <a id="3982" href="Ledger.Conway.Specification.Gov.html#8029" class="Function Operator">⇀⦇</a> <a id="3985" href="Ledger.Conway.Specification.Ledger.html#2575" class="Function">txgov</a> <a id="3991" href="Ledger.Conway.Specification.Ledger.html#3573" class="Bound">txb</a> <a id="3995" href="Ledger.Conway.Specification.Gov.html#8029" class="Function Operator">,GOVS⦈</a> <a id="4002" href="Ledger.Conway.Specification.Ledger.html#3315" class="Generalizable">govSt&#39;</a>
      <a id="4015" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3380}{\htmlId{4056}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3394}{\htmlId{4063}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3423}{\htmlId{4073}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3438}{\htmlId{4078}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3464}{\htmlId{4091}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4102" href="Ledger.Conway.Specification.Ledger.html#3491" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3280}{\htmlId{4106}{\htmlClass{Generalizable}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3309}{\htmlId{4115}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3335}{\htmlId{4123}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="4135" href="Ledger.Conway.Specification.Ledger.html#3491" class="Datatype Operator">⇀⦇</a> <a id="4138" href="Ledger.Conway.Specification.Ledger.html#3370" class="Generalizable">tx</a> <a id="4141" href="Ledger.Conway.Specification.Ledger.html#3491" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3287}{\htmlId{4152}{\htmlClass{Generalizable}{\text{utxoSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3315}{\htmlId{4162}{\htmlClass{Generalizable}{\text{govSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3345}{\htmlId{4171}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-I"></a><a id="4187" href="Ledger.Conway.Specification.Ledger.html#4187" class="InductiveConstructor">LEDGER-I</a> <a id="4196" class="Symbol">:</a>
    <a id="4202" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4204" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a> <a id="4212" href="Ledger.Conway.Specification.Ledger.html#3370" class="Generalizable">tx</a> <a id="4215" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4217" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
    <a id="4227" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3380}{\htmlId{4231}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3423}{\htmlId{4238}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3464}{\htmlId{4243}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4254" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⊢</a> <a id="4256" href="Ledger.Conway.Specification.Ledger.html#3280" class="Generalizable">utxoSt</a> <a id="4263" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="4266" href="Ledger.Conway.Specification.Ledger.html#3370" class="Generalizable">tx</a> <a id="4269" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="4277" href="Ledger.Conway.Specification.Ledger.html#3287" class="Generalizable">utxoSt&#39;</a>
      <a id="4291" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3380}{\htmlId{4332}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3394}{\htmlId{4339}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3423}{\htmlId{4349}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3438}{\htmlId{4354}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3464}{\htmlId{4367}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4378" href="Ledger.Conway.Specification.Ledger.html#3491" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3280}{\htmlId{4382}{\htmlClass{Generalizable}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3309}{\htmlId{4391}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3335}{\htmlId{4399}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="4411" href="Ledger.Conway.Specification.Ledger.html#3491" class="Datatype Operator">⇀⦇</a> <a id="4414" href="Ledger.Conway.Specification.Ledger.html#3370" class="Generalizable">tx</a> <a id="4417" href="Ledger.Conway.Specification.Ledger.html#3491" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3287}{\htmlId{4428}{\htmlClass{Generalizable}{\text{utxoSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3309}{\htmlId{4438}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3335}{\htmlId{4446}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a>


<a id="4460" class="Keyword">pattern</a> <a id="LEDGER-V⋯"></a><a id="4468" href="Ledger.Conway.Specification.Ledger.html#4468" class="InductiveConstructor">LEDGER-V⋯</a> <a id="4478" href="Ledger.Conway.Specification.Ledger.html#4498" class="Bound">w</a> <a id="4480" href="Ledger.Conway.Specification.Ledger.html#4502" class="Bound">x</a> <a id="4482" href="Ledger.Conway.Specification.Ledger.html#4506" class="Bound">y</a> <a id="4484" href="Ledger.Conway.Specification.Ledger.html#4510" class="Bound">z</a> <a id="4486" class="Symbol">=</a> <a id="4488" href="Ledger.Conway.Specification.Ledger.html#3553" class="InductiveConstructor">LEDGER-V</a> <a id="4497" class="Symbol">(</a><a id="4498" href="Ledger.Conway.Specification.Ledger.html#4498" class="Bound">w</a> <a id="4500" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4502" href="Ledger.Conway.Specification.Ledger.html#4502" class="Bound">x</a> <a id="4504" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4506" href="Ledger.Conway.Specification.Ledger.html#4506" class="Bound">y</a> <a id="4508" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4510" href="Ledger.Conway.Specification.Ledger.html#4510" class="Bound">z</a><a id="4511" class="Symbol">)</a>
<a id="4513" class="Keyword">pattern</a> <a id="LEDGER-I⋯"></a><a id="4521" href="Ledger.Conway.Specification.Ledger.html#4521" class="InductiveConstructor">LEDGER-I⋯</a> <a id="4531" href="Ledger.Conway.Specification.Ledger.html#4551" class="Bound">y</a> <a id="4533" href="Ledger.Conway.Specification.Ledger.html#4555" class="Bound">z</a>     <a id="4539" class="Symbol">=</a> <a id="4541" href="Ledger.Conway.Specification.Ledger.html#4187" class="InductiveConstructor">LEDGER-I</a> <a id="4550" class="Symbol">(</a><a id="4551" href="Ledger.Conway.Specification.Ledger.html#4551" class="Bound">y</a> <a id="4553" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4555" href="Ledger.Conway.Specification.Ledger.html#4555" class="Bound">z</a><a id="4556" class="Symbol">)</a>


<a id="_⊢_⇀⦇_,LEDGERS⦈_"></a><a id="4560" href="Ledger.Conway.Specification.Ledger.html#4560" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4577" class="Symbol">:</a> <a id="4579" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="4584" class="Symbol">→</a> <a id="4586" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="4593" class="Symbol">→</a> <a id="4595" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4600" href="Ledger.Conway.Specification.Transaction.html#4684" class="Record">Tx</a> <a id="4603" class="Symbol">→</a> <a id="4605" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="4612" class="Symbol">→</a> <a id="4614" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="4619" href="Ledger.Conway.Specification.Ledger.html#4560" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4636" class="Symbol">=</a> <a id="4638" href="Interface.STS.html#1671" class="Function">ReflexiveTransitiveClosure</a> <a id="4665" class="Symbol">{</a><a id="4666" class="Argument">sts</a> <a id="4670" class="Symbol">=</a> <a id="4672" href="Ledger.Conway.Specification.Ledger.html#3491" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a><a id="4687" class="Symbol">}</a>

</pre></body></html>