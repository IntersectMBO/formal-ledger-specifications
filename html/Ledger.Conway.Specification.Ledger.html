<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Ledger</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">import</a> <a id="33" href="Data.List.html" class="Module">Data.List</a> <a id="43" class="Symbol">as</a> <a id="46" class="Module">L</a>

<a id="49" class="Keyword">open</a> <a id="54" class="Keyword">import</a> <a id="61" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="76" class="Keyword">open</a> <a id="81" class="Keyword">import</a> <a id="88" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="177" class="Keyword">using</a> <a id="183" class="Symbol">(</a><a id="184" href="Ledger.Conway.Specification.Transaction.html#1000" class="Record">TransactionStructure</a><a id="204" class="Symbol">)</a>

<a id="207" class="Keyword">module</a> <a id="214" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a>
  <a id="251" class="Symbol">(</a><a id="252" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="256" class="Symbol">:</a> <a id="258" class="Symbol">_)</a> <a id="261" class="Symbol">(</a><a id="262" class="Keyword">open</a> <a id="267" href="Ledger.Conway.Specification.Transaction.html#1000" class="Module">TransactionStructure</a> <a id="288" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a><a id="291" class="Symbol">)</a>
  <a id="295" class="Symbol">(</a><a id="296" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a> <a id="300" class="Symbol">:</a> <a id="302" href="Ledger.Conway.Specification.Abstract.html#654" class="Record">AbstractFunctions</a> <a id="320" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a><a id="323" class="Symbol">)</a> <a id="325" class="Symbol">(</a><a id="326" class="Keyword">open</a> <a id="331" href="Ledger.Conway.Specification.Abstract.html#654" class="Module">AbstractFunctions</a> <a id="349" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a><a id="352" class="Symbol">)</a>
  <a id="356" class="Keyword">where</a>

<a id="363" class="Keyword">open</a> <a id="368" class="Keyword">import</a> <a id="375" href="Ledger.Conway.Specification.Enact.html" class="Module">Ledger.Conway.Specification.Enact</a> <a id="409" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="422" class="Keyword">open</a> <a id="427" class="Keyword">import</a> <a id="434" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="466" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="515" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="519" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="569" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="573" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a>
<a id="577" class="Keyword">open</a> <a id="582" class="Keyword">import</a> <a id="589" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="623" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>

<a id="637" class="Keyword">open</a> <a id="642" href="Ledger.Conway.Specification.Transaction.html#4684" class="Module">Tx</a>
<a id="645" class="Keyword">open</a> <a id="650" href="Ledger.Conway.Specification.Certs.html#4103" class="Module">GState</a>
<a id="657" class="Keyword">open</a> <a id="662" href="Ledger.Conway.Specification.Gov.Actions.html#3768" class="Module">GovActionState</a>
<a id="677" class="Keyword">open</a> <a id="682" href="Ledger.Conway.Specification.Enact.html#448" class="Module">EnactState</a> <a id="693" class="Keyword">using</a> <a id="699" class="Symbol">(</a><a id="700" href="Ledger.Conway.Specification.Enact.html#484" class="Field">cc</a><a id="702" class="Symbol">)</a>


<a id="706" class="Keyword">record</a> <a id="LEnv"></a><a id="713" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="718" class="Symbol">:</a> <a id="720" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="725" class="Keyword">where</a>
  <a id="733" class="Keyword">field</a>
    <a id="LEnv.slot"></a><a id="743" href="Ledger.Conway.Specification.Ledger.html#743" class="Field">slot</a>        <a id="755" class="Symbol">:</a> <a id="757" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a>
    <a id="LEnv.ppolicy"></a><a id="766" href="Ledger.Conway.Specification.Ledger.html#766" class="Field">ppolicy</a>     <a id="778" class="Symbol">:</a> <a id="780" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="786" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="LEnv.pparams"></a><a id="801" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a>     <a id="813" class="Symbol">:</a> <a id="815" href="Ledger.Conway.Specification.PParams.html#1685" class="Record">PParams</a>
    <a id="LEnv.enactState"></a><a id="827" href="Ledger.Conway.Specification.Ledger.html#827" class="Field">enactState</a>  <a id="839" class="Symbol">:</a> <a id="841" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a>
    <a id="LEnv.treasury"></a><a id="856" href="Ledger.Conway.Specification.Ledger.html#856" class="Field">treasury</a>    <a id="868" class="Symbol">:</a> <a id="870" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="881" class="Keyword">instance</a>
  <a id="HasPParams-LEnv"></a><a id="892" href="Ledger.Conway.Specification.Ledger.html#892" class="Function">HasPParams-LEnv</a> <a id="908" class="Symbol">:</a> <a id="910" href="Ledger.Conway.Specification.PParams.html#3489" class="Record">HasPParams</a> <a id="921" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a>
  <a id="928" href="Ledger.Conway.Specification.Ledger.html#892" class="Function">HasPParams-LEnv</a> <a id="944" class="Symbol">.</a><a id="945" href="Ledger.Conway.Specification.PParams.html#3540" class="Field">PParamsOf</a> <a id="955" class="Symbol">=</a> <a id="957" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">LEnv.pparams</a>




<a id="974" class="Keyword">record</a> <a id="LState"></a><a id="981" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="988" class="Symbol">:</a> <a id="990" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="995" class="Keyword">where</a>


  <a id="1005" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ˡ"></a><a id="1017" href="Ledger.Conway.Specification.Ledger.html#1017" class="InductiveConstructor Operator">⟦_,_,_⟧ˡ</a>


  <a id="1030" class="Keyword">field</a>
    <a id="LState.utxoSt"></a><a id="1040" href="Ledger.Conway.Specification.Ledger.html#1040" class="Field">utxoSt</a>     <a id="1051" class="Symbol">:</a> <a id="1053" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">UTxOState</a>
    <a id="LState.govSt"></a><a id="1067" href="Ledger.Conway.Specification.Ledger.html#1067" class="Field">govSt</a>      <a id="1078" class="Symbol">:</a> <a id="1080" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a>
    <a id="LState.certState"></a><a id="1093" href="Ledger.Conway.Specification.Ledger.html#1093" class="Field">certState</a>  <a id="1104" class="Symbol">:</a> <a id="1106" href="Ledger.Conway.Specification.Certs.html#4234" class="Record">CertState</a>



<a id="1119" class="Keyword">record</a> <a id="HasLState"></a><a id="1126" href="Ledger.Conway.Specification.Ledger.html#1126" class="Record">HasLState</a> <a id="1136" class="Symbol">{</a><a id="1137" href="Ledger.Conway.Specification.Ledger.html#1137" class="Bound">a</a><a id="1138" class="Symbol">}</a> <a id="1140" class="Symbol">(</a><a id="1141" href="Ledger.Conway.Specification.Ledger.html#1141" class="Bound">A</a> <a id="1143" class="Symbol">:</a> <a id="1145" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1150" href="Ledger.Conway.Specification.Ledger.html#1137" class="Bound">a</a><a id="1151" class="Symbol">)</a> <a id="1153" class="Symbol">:</a> <a id="1155" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1160" href="Ledger.Conway.Specification.Ledger.html#1137" class="Bound">a</a> <a id="1162" class="Keyword">where</a>
  <a id="1170" class="Keyword">field</a> <a id="HasLState.LStateOf"></a><a id="1176" href="Ledger.Conway.Specification.Ledger.html#1176" class="Field">LStateOf</a> <a id="1185" class="Symbol">:</a> <a id="1187" href="Ledger.Conway.Specification.Ledger.html#1141" class="Bound">A</a> <a id="1189" class="Symbol">→</a> <a id="1191" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
<a id="1198" class="Keyword">open</a> <a id="1203" href="Ledger.Conway.Specification.Ledger.html#1126" class="Module">HasLState</a> <a id="1213" class="Symbol">⦃...⦄</a> <a id="1219" class="Keyword">public</a>

<a id="1227" class="Keyword">instance</a>
  <a id="HasUTxOState-LState"></a><a id="1238" href="Ledger.Conway.Specification.Ledger.html#1238" class="Function">HasUTxOState-LState</a> <a id="1258" class="Symbol">:</a> <a id="1260" href="Ledger.Conway.Specification.Utxo.html#1396" class="Record">HasUTxOState</a> <a id="1273" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1282" href="Ledger.Conway.Specification.Ledger.html#1238" class="Function">HasUTxOState-LState</a> <a id="1302" class="Symbol">.</a><a id="1303" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a> <a id="1315" class="Symbol">=</a> <a id="1317" href="Ledger.Conway.Specification.Ledger.html#1040" class="Field">LState.utxoSt</a>

  <a id="HasUTxO-LState"></a><a id="1334" href="Ledger.Conway.Specification.Ledger.html#1334" class="Function">HasUTxO-LState</a> <a id="1349" class="Symbol">:</a> <a id="1351" href="Ledger.Conway.Specification.Transaction.html#2891" class="Record">HasUTxO</a> <a id="1359" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1368" href="Ledger.Conway.Specification.Ledger.html#1334" class="Function">HasUTxO-LState</a> <a id="1383" class="Symbol">.</a><a id="1384" href="Ledger.Conway.Specification.Transaction.html#2941" class="Field">UTxOOf</a> <a id="1391" class="Symbol">=</a> <a id="1393" href="Ledger.Conway.Specification.Transaction.html#2941" class="Field">UTxOOf</a> <a id="1400" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1402" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

  <a id="HasGovState-LState"></a><a id="1417" href="Ledger.Conway.Specification.Ledger.html#1417" class="Function">HasGovState-LState</a> <a id="1436" class="Symbol">:</a> <a id="1438" href="Ledger.Conway.Specification.Gov.html#1553" class="Record">HasGovState</a> <a id="1450" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1459" href="Ledger.Conway.Specification.Ledger.html#1417" class="Function">HasGovState-LState</a> <a id="1478" class="Symbol">.</a><a id="1479" href="Ledger.Conway.Specification.Gov.html#1605" class="Field">GovStateOf</a> <a id="1490" class="Symbol">=</a> <a id="1492" href="Ledger.Conway.Specification.Ledger.html#1067" class="Field">LState.govSt</a>

  <a id="HasCertState-LState"></a><a id="1508" href="Ledger.Conway.Specification.Ledger.html#1508" class="Function">HasCertState-LState</a> <a id="1528" class="Symbol">:</a> <a id="1530" href="Ledger.Conway.Specification.Certs.html#4811" class="Record">HasCertState</a> <a id="1543" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1552" href="Ledger.Conway.Specification.Ledger.html#1508" class="Function">HasCertState-LState</a> <a id="1572" class="Symbol">.</a><a id="1573" href="Ledger.Conway.Specification.Certs.html#4864" class="Field">CertStateOf</a> <a id="1585" class="Symbol">=</a> <a id="1587" href="Ledger.Conway.Specification.Ledger.html#1093" class="Field">LState.certState</a>

  <a id="HasDeposits-LState"></a><a id="1607" href="Ledger.Conway.Specification.Ledger.html#1607" class="Function">HasDeposits-LState</a> <a id="1626" class="Symbol">:</a> <a id="1628" href="Ledger.Conway.Specification.Certs.html#847" class="Record">HasDeposits</a> <a id="1640" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1649" href="Ledger.Conway.Specification.Ledger.html#1607" class="Function">HasDeposits-LState</a> <a id="1668" class="Symbol">.</a><a id="1669" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="1680" class="Symbol">=</a> <a id="1682" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="1693" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1695" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

  <a id="HasPools-LState"></a><a id="1710" href="Ledger.Conway.Specification.Ledger.html#1710" class="Function">HasPools-LState</a> <a id="1726" class="Symbol">:</a> <a id="1728" href="Ledger.Conway.Specification.Certs.html#1597" class="Record">HasPools</a> <a id="1737" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1746" href="Ledger.Conway.Specification.Ledger.html#1710" class="Function">HasPools-LState</a> <a id="1762" class="Symbol">.</a><a id="1763" href="Ledger.Conway.Specification.Certs.html#1646" class="Field">PoolsOf</a> <a id="1771" class="Symbol">=</a> <a id="1773" href="Ledger.Conway.Specification.Certs.html#1646" class="Field">PoolsOf</a> <a id="1781" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1783" href="Ledger.Conway.Specification.Certs.html#4864" class="Field">CertStateOf</a>

  <a id="HasGState-LState"></a><a id="1798" href="Ledger.Conway.Specification.Ledger.html#1798" class="Function">HasGState-LState</a> <a id="1815" class="Symbol">:</a> <a id="1817" href="Ledger.Conway.Specification.Certs.html#4703" class="Record">HasGState</a> <a id="1827" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1836" href="Ledger.Conway.Specification.Ledger.html#1798" class="Function">HasGState-LState</a> <a id="1853" class="Symbol">.</a><a id="1854" href="Ledger.Conway.Specification.Certs.html#4753" class="Field">GStateOf</a> <a id="1863" class="Symbol">=</a> <a id="1865" href="Ledger.Conway.Specification.Certs.html#4753" class="Field">GStateOf</a> <a id="1874" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1876" href="Ledger.Conway.Specification.Certs.html#4864" class="Field">CertStateOf</a>

  <a id="HasDState-LState"></a><a id="1891" href="Ledger.Conway.Specification.Ledger.html#1891" class="Function">HasDState-LState</a> <a id="1908" class="Symbol">:</a> <a id="1910" href="Ledger.Conway.Specification.Certs.html#4487" class="Record">HasDState</a> <a id="1920" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1929" href="Ledger.Conway.Specification.Ledger.html#1891" class="Function">HasDState-LState</a> <a id="1946" class="Symbol">.</a><a id="1947" href="Ledger.Conway.Specification.Certs.html#4537" class="Field">DStateOf</a> <a id="1956" class="Symbol">=</a> <a id="1958" href="Ledger.Conway.Specification.Certs.html#4537" class="Field">DStateOf</a> <a id="1967" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1969" href="Ledger.Conway.Specification.Certs.html#4864" class="Field">CertStateOf</a>

  <a id="HasPState-LState"></a><a id="1984" href="Ledger.Conway.Specification.Ledger.html#1984" class="Function">HasPState-LState</a> <a id="2001" class="Symbol">:</a> <a id="2003" href="Ledger.Conway.Specification.Certs.html#4595" class="Record">HasPState</a> <a id="2013" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="2022" href="Ledger.Conway.Specification.Ledger.html#1984" class="Function">HasPState-LState</a> <a id="2039" class="Symbol">.</a><a id="2040" href="Ledger.Conway.Specification.Certs.html#4645" class="Field">PStateOf</a> <a id="2049" class="Symbol">=</a> <a id="2051" href="Ledger.Conway.Specification.Certs.html#4645" class="Field">PStateOf</a> <a id="2060" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2062" href="Ledger.Conway.Specification.Certs.html#4864" class="Field">CertStateOf</a>

  <a id="HasVoteDelegs-LState"></a><a id="2077" href="Ledger.Conway.Specification.Ledger.html#2077" class="Function">HasVoteDelegs-LState</a> <a id="2098" class="Symbol">:</a> <a id="2100" href="Ledger.Conway.Specification.Gov.Actions.html#1271" class="Record">HasVoteDelegs</a> <a id="2114" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="2123" href="Ledger.Conway.Specification.Ledger.html#2077" class="Function">HasVoteDelegs-LState</a> <a id="2144" class="Symbol">.</a><a id="2145" href="Ledger.Conway.Specification.Gov.Actions.html#1325" class="Field">VoteDelegsOf</a> <a id="2158" class="Symbol">=</a> <a id="2160" href="Ledger.Conway.Specification.Gov.Actions.html#1325" class="Field">VoteDelegsOf</a> <a id="2173" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2175" href="Ledger.Conway.Specification.Certs.html#4537" class="Field">DStateOf</a> <a id="2184" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2186" href="Ledger.Conway.Specification.Certs.html#4864" class="Field">CertStateOf</a>

  <a id="HasDonations-LState"></a><a id="2201" href="Ledger.Conway.Specification.Ledger.html#2201" class="Function">HasDonations-LState</a> <a id="2221" class="Symbol">:</a> <a id="2223" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="2236" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="2245" href="Ledger.Conway.Specification.Ledger.html#2201" class="Function">HasDonations-LState</a> <a id="2265" class="Symbol">.</a><a id="2266" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="2278" class="Symbol">=</a> <a id="2280" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="2292" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2294" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

  <a id="HasFees-LState"></a><a id="2309" href="Ledger.Conway.Specification.Ledger.html#2309" class="Function">HasFees-LState</a> <a id="2324" class="Symbol">:</a> <a id="2326" href="Ledger.Prelude.Base.html#621" class="Record">HasFees</a> <a id="2334" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="2343" href="Ledger.Conway.Specification.Ledger.html#2309" class="Function">HasFees-LState</a> <a id="2358" class="Symbol">.</a><a id="2359" href="Ledger.Prelude.Base.html#669" class="Field">FeesOf</a> <a id="2366" class="Symbol">=</a> <a id="2368" href="Ledger.Prelude.Base.html#669" class="Field">FeesOf</a> <a id="2375" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2377" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

  <a id="HasCCHotKeys-LState"></a><a id="2392" href="Ledger.Conway.Specification.Ledger.html#2392" class="Function">HasCCHotKeys-LState</a> <a id="2412" class="Symbol">:</a> <a id="2414" href="Ledger.Conway.Specification.Certs.html#1431" class="Record">HasCCHotKeys</a> <a id="2427" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="2436" href="Ledger.Conway.Specification.Ledger.html#2392" class="Function">HasCCHotKeys-LState</a> <a id="2456" class="Symbol">.</a><a id="2457" href="Ledger.Conway.Specification.Certs.html#1484" class="Field">CCHotKeysOf</a> <a id="2469" class="Symbol">=</a> <a id="2471" href="Ledger.Conway.Specification.Certs.html#1484" class="Field">CCHotKeysOf</a> <a id="2483" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2485" href="Ledger.Conway.Specification.Certs.html#4753" class="Field">GStateOf</a>

  <a id="HasDReps-LState"></a><a id="2497" href="Ledger.Conway.Specification.Ledger.html#2497" class="Function">HasDReps-LState</a> <a id="2513" class="Symbol">:</a> <a id="2515" href="Ledger.Conway.Specification.Certs.html#1520" class="Record">HasDReps</a> <a id="2524" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="2533" href="Ledger.Conway.Specification.Ledger.html#2497" class="Function">HasDReps-LState</a> <a id="2549" class="Symbol">.</a><a id="2550" href="Ledger.Conway.Specification.Certs.html#1569" class="Field">DRepsOf</a> <a id="2558" class="Symbol">=</a> <a id="2560" href="Ledger.Conway.Specification.Certs.html#1569" class="Field">DRepsOf</a> <a id="2568" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2570" href="Ledger.Conway.Specification.Certs.html#4864" class="Field">CertStateOf</a>

<a id="2583" class="Keyword">open</a> <a id="2588" href="Ledger.Conway.Specification.Certs.html#4234" class="Module">CertState</a>
<a id="2598" class="Keyword">open</a> <a id="2603" href="Ledger.Conway.Specification.Certs.html#3862" class="Module">DState</a>
<a id="2610" class="Keyword">open</a> <a id="2615" href="Ledger.Conway.Specification.Gov.Actions.html#3640" class="Module">GovVotes</a>

<a id="2625" class="Keyword">instance</a>
  <a id="2636" class="Keyword">unquoteDecl</a> <a id="HasCast-LEnv"></a><a id="2648" href="Ledger.Conway.Specification.Ledger.html#2648" class="Function">HasCast-LEnv</a> <a id="HasCast-LState"></a><a id="2661" href="Ledger.Conway.Specification.Ledger.html#2661" class="Function">HasCast-LState</a> <a id="2676" class="Symbol">=</a> <a id="2678" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="2697" class="Symbol">((</a><a id="2699" class="Keyword">quote</a> <a id="2705" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="2710" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2712" href="Ledger.Conway.Specification.Ledger.html#2648" class="Function">HasCast-LEnv</a><a id="2724" class="Symbol">)</a> <a id="2726" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2728" class="Symbol">(</a><a id="2729" class="Keyword">quote</a> <a id="2735" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="2742" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2744" href="Ledger.Conway.Specification.Ledger.html#2661" class="Function">HasCast-LState</a><a id="2758" class="Symbol">)</a> <a id="2760" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2762" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2764" class="Symbol">)</a>


<a id="txgov"></a><a id="2768" href="Ledger.Conway.Specification.Ledger.html#2768" class="Function">txgov</a> <a id="2774" class="Symbol">:</a> <a id="2776" href="Ledger.Conway.Specification.Transaction.html#2998" class="Record">TxBody</a> <a id="2783" class="Symbol">→</a> <a id="2785" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2790" class="Symbol">(</a><a id="2791" href="Ledger.Conway.Specification.Gov.Actions.html#3270" class="Record">GovVote</a> <a id="2799" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2801" href="Ledger.Conway.Specification.Gov.Actions.html#3418" class="Record">GovProposal</a><a id="2812" class="Symbol">)</a>
<a id="2814" href="Ledger.Conway.Specification.Ledger.html#2768" class="Function">txgov</a> <a id="2820" href="Ledger.Conway.Specification.Ledger.html#2820" class="Bound">txb</a> <a id="2824" class="Symbol">=</a> <a id="2826" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2830" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2835" href="Ledger.Conway.Specification.Transaction.html#3507" class="Field">txGovProposals</a> <a id="2850" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="2853" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2857" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2862" href="Ledger.Conway.Specification.Transaction.html#3465" class="Field">txGovVotes</a>
  <a id="2875" class="Keyword">where</a> <a id="2881" class="Keyword">open</a> <a id="2886" href="Ledger.Conway.Specification.Transaction.html#2998" class="Module">TxBody</a> <a id="2893" href="Ledger.Conway.Specification.Ledger.html#2820" class="Bound">txb</a>

<a id="rmOrphanDRepVotes"></a><a id="2898" href="Ledger.Conway.Specification.Ledger.html#2898" class="Function">rmOrphanDRepVotes</a> <a id="2916" class="Symbol">:</a> <a id="2918" href="Ledger.Conway.Specification.Certs.html#4234" class="Record">CertState</a> <a id="2928" class="Symbol">→</a> <a id="2930" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a> <a id="2939" class="Symbol">→</a> <a id="2941" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a>
<a id="2950" href="Ledger.Conway.Specification.Ledger.html#2898" class="Function">rmOrphanDRepVotes</a> <a id="2968" href="Ledger.Conway.Specification.Ledger.html#2968" class="Bound">cs</a> <a id="2971" href="Ledger.Conway.Specification.Ledger.html#2971" class="Bound">govSt</a> <a id="2977" class="Symbol">=</a> <a id="2979" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="2985" class="Symbol">(</a><a id="2986" href="Class.Bifunctor.html#1152" class="Function">map₂</a> <a id="2991" href="Ledger.Conway.Specification.Ledger.html#3098" class="Function">go</a><a id="2993" class="Symbol">)</a> <a id="2995" href="Ledger.Conway.Specification.Ledger.html#2971" class="Bound">govSt</a>
  <a id="3003" class="Keyword">where</a>
   <a id="3012" href="Ledger.Conway.Specification.Ledger.html#3012" class="Function">ifDRepRegistered</a> <a id="3029" class="Symbol">:</a> <a id="3031" href="Ledger.Core.Specification.Address.html#260" class="Datatype">Credential</a> <a id="3042" class="Symbol">→</a> <a id="3044" href="Agda.Primitive.html#388" class="Primitive">Type</a>
   <a id="3052" href="Ledger.Conway.Specification.Ledger.html#3012" class="Function">ifDRepRegistered</a> <a id="3069" href="Ledger.Conway.Specification.Ledger.html#3069" class="Bound">c</a> <a id="3071" class="Symbol">=</a> <a id="3073" href="Ledger.Conway.Specification.Ledger.html#3069" class="Bound">c</a> <a id="3075" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="3077" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3081" class="Symbol">(</a><a id="3082" href="Ledger.Conway.Specification.Certs.html#1569" class="Field">DRepsOf</a> <a id="3090" href="Ledger.Conway.Specification.Ledger.html#2968" class="Bound">cs</a><a id="3092" class="Symbol">)</a>

   <a id="3098" href="Ledger.Conway.Specification.Ledger.html#3098" class="Function">go</a> <a id="3101" class="Symbol">:</a> <a id="3103" href="Ledger.Conway.Specification.Gov.Actions.html#3768" class="Record">GovActionState</a> <a id="3118" class="Symbol">→</a> <a id="3120" href="Ledger.Conway.Specification.Gov.Actions.html#3768" class="Record">GovActionState</a>
   <a id="3138" href="Ledger.Conway.Specification.Ledger.html#3098" class="Function">go</a> <a id="3141" href="Ledger.Conway.Specification.Ledger.html#3141" class="Bound">gas</a> <a id="3145" class="Symbol">=</a> <a id="3147" class="Keyword">record</a> <a id="3154" href="Ledger.Conway.Specification.Ledger.html#3141" class="Bound">gas</a> <a id="3158" class="Symbol">{</a> <a id="3160" href="Ledger.Conway.Specification.Gov.Actions.html#3808" class="Field">votes</a> <a id="3166" class="Symbol">=</a> <a id="3168" class="Keyword">record</a> <a id="3175" class="Symbol">(</a><a id="3176" href="Ledger.Conway.Specification.Ledger.html#3141" class="Bound">gas</a> <a id="3180" class="Symbol">.</a><a id="3181" href="Ledger.Conway.Specification.Gov.Actions.html#3808" class="Field">votes</a><a id="3186" class="Symbol">)</a> <a id="3188" class="Symbol">{</a> <a id="3190" href="Ledger.Conway.Specification.Gov.Actions.html#3705" class="Field">gvDRep</a> <a id="3197" class="Symbol">=</a> <a id="3199" href="abstract-set-theory.FiniteSetTheory.html#2989" class="Function">filterKeys</a> <a id="3210" href="Ledger.Conway.Specification.Ledger.html#3012" class="Function">ifDRepRegistered</a> <a id="3227" class="Symbol">(</a><a id="3228" href="Ledger.Conway.Specification.Ledger.html#3141" class="Bound">gas</a> <a id="3232" class="Symbol">.</a><a id="3233" href="Ledger.Conway.Specification.Gov.Actions.html#3808" class="Field">votes</a> <a id="3239" class="Symbol">.</a><a id="3240" href="Ledger.Conway.Specification.Gov.Actions.html#3705" class="Field">gvDRep</a><a id="3246" class="Symbol">)</a> <a id="3248" class="Symbol">}</a> <a id="3250" class="Symbol">}</a>

<a id="allColdCreds"></a><a id="3253" href="Ledger.Conway.Specification.Ledger.html#3253" class="Function">allColdCreds</a> <a id="3266" class="Symbol">:</a> <a id="3268" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a> <a id="3277" class="Symbol">→</a> <a id="3279" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a> <a id="3290" class="Symbol">→</a> <a id="3292" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3294" href="Ledger.Core.Specification.Address.html#260" class="Datatype">Credential</a>
<a id="3305" href="Ledger.Conway.Specification.Ledger.html#3253" class="Function">allColdCreds</a> <a id="3318" href="Ledger.Conway.Specification.Ledger.html#3318" class="Bound">govSt</a> <a id="3324" href="Ledger.Conway.Specification.Ledger.html#3324" class="Bound">es</a> <a id="3327" class="Symbol">=</a>
  <a id="3331" href="Ledger.Conway.Specification.Enact.html#1367" class="Function">ccCreds</a> <a id="3339" class="Symbol">(</a><a id="3340" href="Ledger.Conway.Specification.Ledger.html#3324" class="Bound">es</a> <a id="3343" class="Symbol">.</a><a id="3344" href="Ledger.Conway.Specification.Enact.html#484" class="Field">cc</a><a id="3346" class="Symbol">)</a> <a id="3348" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="3350" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="3361" class="Symbol">(λ</a> <a id="3364" class="Symbol">(_</a> <a id="3367" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3369" href="Ledger.Conway.Specification.Ledger.html#3369" class="Bound">st</a><a id="3371" class="Symbol">)</a> <a id="3373" class="Symbol">→</a> <a id="3375" href="Ledger.Conway.Specification.Gov.Actions.html#6254" class="Function">proposedCC</a> <a id="3386" class="Symbol">(</a><a id="3387" href="Ledger.Conway.Specification.Gov.Actions.html#2115" class="Field">GovActionOf</a> <a id="3399" href="Ledger.Conway.Specification.Ledger.html#3369" class="Bound">st</a><a id="3401" class="Symbol">))</a> <a id="3404" class="Symbol">(</a><a id="3405" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="3414" href="Ledger.Conway.Specification.Ledger.html#3318" class="Bound">govSt</a><a id="3419" class="Symbol">)</a>


<a id="3423" class="Keyword">private</a> <a id="3431" class="Keyword">variable</a>
  <a id="3442" href="Ledger.Conway.Specification.Ledger.html#3442" class="Generalizable">Γ</a> <a id="3444" class="Symbol">:</a> <a id="3446" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a>
  <a id="3453" href="Ledger.Conway.Specification.Ledger.html#3453" class="Generalizable">s</a> <a id="3455" href="Ledger.Conway.Specification.Ledger.html#3455" class="Generalizable">s&#39;</a> <a id="3458" href="Ledger.Conway.Specification.Ledger.html#3458" class="Generalizable">s&#39;&#39;</a> <a id="3462" class="Symbol">:</a> <a id="3464" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="3473" href="Ledger.Conway.Specification.Ledger.html#3473" class="Generalizable">utxoSt</a> <a id="3480" href="Ledger.Conway.Specification.Ledger.html#3480" class="Generalizable">utxoSt&#39;</a> <a id="3488" class="Symbol">:</a> <a id="3490" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">UTxOState</a>
  <a id="3502" href="Ledger.Conway.Specification.Ledger.html#3502" class="Generalizable">govSt</a> <a id="3508" href="Ledger.Conway.Specification.Ledger.html#3508" class="Generalizable">govSt&#39;</a> <a id="3515" class="Symbol">:</a> <a id="3517" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a>
  <a id="3528" href="Ledger.Conway.Specification.Ledger.html#3528" class="Generalizable">certState</a> <a id="3538" href="Ledger.Conway.Specification.Ledger.html#3538" class="Generalizable">certState&#39;</a> <a id="3549" class="Symbol">:</a> <a id="3551" href="Ledger.Conway.Specification.Certs.html#4234" class="Record">CertState</a>
  <a id="3563" href="Ledger.Conway.Specification.Ledger.html#3563" class="Generalizable">tx</a> <a id="3566" class="Symbol">:</a> <a id="3568" href="Ledger.Conway.Specification.Transaction.html#4684" class="Record">Tx</a>
  <a id="3573" href="Ledger.Conway.Specification.Ledger.html#3573" class="Generalizable">slot</a> <a id="3578" class="Symbol">:</a> <a id="3580" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a>
  <a id="3587" href="Ledger.Conway.Specification.Ledger.html#3587" class="Generalizable">ppolicy</a> <a id="3595" class="Symbol">:</a> <a id="3597" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3603" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
  <a id="3616" href="Ledger.Conway.Specification.Ledger.html#3616" class="Generalizable">pp</a> <a id="3619" class="Symbol">:</a> <a id="3621" href="Ledger.Conway.Specification.PParams.html#1685" class="Record">PParams</a>
  <a id="3631" href="Ledger.Conway.Specification.Ledger.html#3631" class="Generalizable">enactState</a> <a id="3642" class="Symbol">:</a> <a id="3644" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a>
  <a id="3657" href="Ledger.Conway.Specification.Ledger.html#3657" class="Generalizable">treasury</a> <a id="3666" class="Symbol">:</a> <a id="3668" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="3679" class="Keyword">data</a> <a id="_⊢_⇀⦇_,LEDGER⦈_"></a><a id="3684" href="Ledger.Conway.Specification.Ledger.html#3684" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="3700" class="Symbol">:</a> <a id="3702" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="3707" class="Symbol">→</a> <a id="3709" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="3716" class="Symbol">→</a> <a id="3718" href="Ledger.Conway.Specification.Transaction.html#4684" class="Record">Tx</a> <a id="3721" class="Symbol">→</a> <a id="3723" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="3730" class="Symbol">→</a> <a id="3732" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3737" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-V"></a><a id="3746" href="Ledger.Conway.Specification.Ledger.html#3746" class="InductiveConstructor">LEDGER-V</a> <a id="3755" class="Symbol">:</a>
    <a id="3761" class="Keyword">let</a>  <a id="3766" href="Ledger.Conway.Specification.Ledger.html#3766" class="Bound">txb</a>         <a id="3778" class="Symbol">=</a> <a id="3780" href="Ledger.Conway.Specification.Ledger.html#3563" class="Generalizable">tx</a> <a id="3783" class="Symbol">.</a><a id="3784" href="Ledger.Conway.Specification.Transaction.html#4716" class="Field">body</a>


         <a id="3800" class="Keyword">open</a> <a id="3805" href="Ledger.Conway.Specification.Transaction.html#2998" class="Module">TxBody</a> <a id="3812" href="Ledger.Conway.Specification.Ledger.html#3766" class="Bound">txb</a>


    <a id="3822" class="Keyword">in</a>
    <a id="3829" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3831" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a> <a id="3839" href="Ledger.Conway.Specification.Ledger.html#3563" class="Generalizable">tx</a> <a id="3842" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3844" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="3853" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3573}{\htmlId{3857}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3616}{\htmlId{3864}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3657}{\htmlId{3869}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a>  <a id="3881" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⊢</a> <a id="3883" href="Ledger.Conway.Specification.Ledger.html#3473" class="Generalizable">utxoSt</a> <a id="3890" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="3893" href="Ledger.Conway.Specification.Ledger.html#3563" class="Generalizable">tx</a> <a id="3896" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="3904" href="Ledger.Conway.Specification.Ledger.html#3480" class="Generalizable">utxoSt&#39;</a>
    <a id="3916" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#810}{\htmlId{3920}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3573}{\htmlId{3926}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3616}{\htmlId{3933}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3465}{\htmlId{3938}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3290}{\htmlId{3951}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3253}{\htmlId{3967}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3502}{\htmlId{3980}{\htmlClass{Generalizable}{\text{govSt}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3631}{\htmlId{3986}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="3999" href="Ledger.Conway.Specification.Certs.html#8342" class="Function Operator">⊢</a> <a id="4001" href="Ledger.Conway.Specification.Ledger.html#3528" class="Generalizable">certState</a> <a id="4011" href="Ledger.Conway.Specification.Certs.html#8342" class="Function Operator">⇀⦇</a> <a id="4014" href="Ledger.Conway.Specification.Transaction.html#3216" class="Function">txCerts</a> <a id="4022" href="Ledger.Conway.Specification.Certs.html#8342" class="Function Operator">,CERTS⦈</a> <a id="4030" href="Ledger.Conway.Specification.Ledger.html#3538" class="Generalizable">certState&#39;</a>
    <a id="4045" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Transaction.html#3182}{\htmlId{4049}{\htmlClass{Function}{\text{txId}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#810}{\htmlId{4056}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3573}{\htmlId{4062}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3616}{\htmlId{4069}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3587}{\htmlId{4074}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3631}{\htmlId{4084}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3538}{\htmlId{4097}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{4110}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{4114}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Certs.html#1811}{\htmlId{4115}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3528}{\htmlId{4125}{\htmlClass{Generalizable}{\text{certState}}}}\,\,\htmlId{4134}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="4138" href="Ledger.Conway.Specification.Gov.html#8029" class="Function Operator">⊢</a> <a id="4140" href="Ledger.Conway.Specification.Ledger.html#2898" class="Function">rmOrphanDRepVotes</a> <a id="4158" href="Ledger.Conway.Specification.Ledger.html#3538" class="Generalizable">certState&#39;</a> <a id="4169" href="Ledger.Conway.Specification.Ledger.html#3502" class="Generalizable">govSt</a> <a id="4175" href="Ledger.Conway.Specification.Gov.html#8029" class="Function Operator">⇀⦇</a> <a id="4178" href="Ledger.Conway.Specification.Ledger.html#2768" class="Function">txgov</a> <a id="4184" href="Ledger.Conway.Specification.Ledger.html#3766" class="Bound">txb</a> <a id="4188" href="Ledger.Conway.Specification.Gov.html#8029" class="Function Operator">,GOVS⦈</a> <a id="4195" href="Ledger.Conway.Specification.Ledger.html#3508" class="Generalizable">govSt&#39;</a>
      <a id="4208" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3573}{\htmlId{4249}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3587}{\htmlId{4256}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3616}{\htmlId{4266}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3631}{\htmlId{4271}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3657}{\htmlId{4284}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4295" href="Ledger.Conway.Specification.Ledger.html#3684" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3473}{\htmlId{4299}{\htmlClass{Generalizable}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3502}{\htmlId{4308}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3528}{\htmlId{4316}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="4328" href="Ledger.Conway.Specification.Ledger.html#3684" class="Datatype Operator">⇀⦇</a> <a id="4331" href="Ledger.Conway.Specification.Ledger.html#3563" class="Generalizable">tx</a> <a id="4334" href="Ledger.Conway.Specification.Ledger.html#3684" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3480}{\htmlId{4345}{\htmlClass{Generalizable}{\text{utxoSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3508}{\htmlId{4355}{\htmlClass{Generalizable}{\text{govSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3538}{\htmlId{4364}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-I"></a><a id="4380" href="Ledger.Conway.Specification.Ledger.html#4380" class="InductiveConstructor">LEDGER-I</a> <a id="4389" class="Symbol">:</a>
    <a id="4395" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4397" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a> <a id="4405" href="Ledger.Conway.Specification.Ledger.html#3563" class="Generalizable">tx</a> <a id="4408" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4410" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
    <a id="4420" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3573}{\htmlId{4424}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3616}{\htmlId{4431}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3657}{\htmlId{4436}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4447" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⊢</a> <a id="4449" href="Ledger.Conway.Specification.Ledger.html#3473" class="Generalizable">utxoSt</a> <a id="4456" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="4459" href="Ledger.Conway.Specification.Ledger.html#3563" class="Generalizable">tx</a> <a id="4462" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="4470" href="Ledger.Conway.Specification.Ledger.html#3480" class="Generalizable">utxoSt&#39;</a>
      <a id="4484" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3573}{\htmlId{4525}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3587}{\htmlId{4532}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3616}{\htmlId{4542}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3631}{\htmlId{4547}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3657}{\htmlId{4560}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4571" href="Ledger.Conway.Specification.Ledger.html#3684" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3473}{\htmlId{4575}{\htmlClass{Generalizable}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3502}{\htmlId{4584}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3528}{\htmlId{4592}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="4604" href="Ledger.Conway.Specification.Ledger.html#3684" class="Datatype Operator">⇀⦇</a> <a id="4607" href="Ledger.Conway.Specification.Ledger.html#3563" class="Generalizable">tx</a> <a id="4610" href="Ledger.Conway.Specification.Ledger.html#3684" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3480}{\htmlId{4621}{\htmlClass{Generalizable}{\text{utxoSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3502}{\htmlId{4631}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3528}{\htmlId{4639}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a>


<a id="4653" class="Keyword">pattern</a> <a id="LEDGER-V⋯"></a><a id="4661" href="Ledger.Conway.Specification.Ledger.html#4661" class="InductiveConstructor">LEDGER-V⋯</a> <a id="4671" href="Ledger.Conway.Specification.Ledger.html#4691" class="Bound">w</a> <a id="4673" href="Ledger.Conway.Specification.Ledger.html#4695" class="Bound">x</a> <a id="4675" href="Ledger.Conway.Specification.Ledger.html#4699" class="Bound">y</a> <a id="4677" href="Ledger.Conway.Specification.Ledger.html#4703" class="Bound">z</a> <a id="4679" class="Symbol">=</a> <a id="4681" href="Ledger.Conway.Specification.Ledger.html#3746" class="InductiveConstructor">LEDGER-V</a> <a id="4690" class="Symbol">(</a><a id="4691" href="Ledger.Conway.Specification.Ledger.html#4691" class="Bound">w</a> <a id="4693" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4695" href="Ledger.Conway.Specification.Ledger.html#4695" class="Bound">x</a> <a id="4697" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4699" href="Ledger.Conway.Specification.Ledger.html#4699" class="Bound">y</a> <a id="4701" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4703" href="Ledger.Conway.Specification.Ledger.html#4703" class="Bound">z</a><a id="4704" class="Symbol">)</a>
<a id="4706" class="Keyword">pattern</a> <a id="LEDGER-I⋯"></a><a id="4714" href="Ledger.Conway.Specification.Ledger.html#4714" class="InductiveConstructor">LEDGER-I⋯</a> <a id="4724" href="Ledger.Conway.Specification.Ledger.html#4744" class="Bound">y</a> <a id="4726" href="Ledger.Conway.Specification.Ledger.html#4748" class="Bound">z</a>     <a id="4732" class="Symbol">=</a> <a id="4734" href="Ledger.Conway.Specification.Ledger.html#4380" class="InductiveConstructor">LEDGER-I</a> <a id="4743" class="Symbol">(</a><a id="4744" href="Ledger.Conway.Specification.Ledger.html#4744" class="Bound">y</a> <a id="4746" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4748" href="Ledger.Conway.Specification.Ledger.html#4748" class="Bound">z</a><a id="4749" class="Symbol">)</a>


<a id="_⊢_⇀⦇_,LEDGERS⦈_"></a><a id="4753" href="Ledger.Conway.Specification.Ledger.html#4753" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4770" class="Symbol">:</a> <a id="4772" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="4777" class="Symbol">→</a> <a id="4779" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="4786" class="Symbol">→</a> <a id="4788" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4793" href="Ledger.Conway.Specification.Transaction.html#4684" class="Record">Tx</a> <a id="4796" class="Symbol">→</a> <a id="4798" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="4805" class="Symbol">→</a> <a id="4807" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="4812" href="Ledger.Conway.Specification.Ledger.html#4753" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4829" class="Symbol">=</a> <a id="4831" href="Interface.STS.html#1671" class="Function">ReflexiveTransitiveClosure</a> <a id="4858" class="Symbol">{</a><a id="4859" class="Argument">sts</a> <a id="4863" class="Symbol">=</a> <a id="4865" href="Ledger.Conway.Specification.Ledger.html#3684" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a><a id="4880" class="Symbol">}</a>

</pre></body></html>