<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Ledger</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">import</a> <a id="33" href="Data.List.html" class="Module">Data.List</a> <a id="43" class="Symbol">as</a> <a id="46" class="Module">L</a>

<a id="49" class="Keyword">open</a> <a id="54" class="Keyword">import</a> <a id="61" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="76" class="Keyword">open</a> <a id="81" class="Keyword">import</a> <a id="88" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="177" class="Keyword">using</a> <a id="183" class="Symbol">(</a><a id="184" href="Ledger.Conway.Specification.Transaction.html#999" class="Record">TransactionStructure</a><a id="204" class="Symbol">)</a>

<a id="207" class="Keyword">module</a> <a id="214" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a>
  <a id="251" class="Symbol">(</a><a id="252" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="256" class="Symbol">:</a> <a id="258" class="Symbol">_)</a> <a id="261" class="Symbol">(</a><a id="262" class="Keyword">open</a> <a id="267" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="288" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a><a id="291" class="Symbol">)</a>
  <a id="295" class="Symbol">(</a><a id="296" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a> <a id="300" class="Symbol">:</a> <a id="302" href="Ledger.Conway.Specification.Abstract.html#830" class="Record">AbstractFunctions</a> <a id="320" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a><a id="323" class="Symbol">)</a> <a id="325" class="Symbol">(</a><a id="326" class="Keyword">open</a> <a id="331" href="Ledger.Conway.Specification.Abstract.html#830" class="Module">AbstractFunctions</a> <a id="349" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a><a id="352" class="Symbol">)</a>
  <a id="356" class="Keyword">where</a>

<a id="363" class="Keyword">open</a> <a id="368" class="Keyword">import</a> <a id="375" href="Ledger.Conway.Specification.Enact.html" class="Module">Ledger.Conway.Specification.Enact</a> <a id="409" href="Ledger.Conway.Specification.Transaction.html#2260" class="Function">govStructure</a>
<a id="422" class="Keyword">open</a> <a id="427" class="Keyword">import</a> <a id="434" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="466" href="Ledger.Conway.Specification.Transaction.html#2260" class="Function">govStructure</a>
<a id="479" class="Keyword">open</a> <a id="484" class="Keyword">import</a> <a id="491" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="524" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="528" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a>
<a id="532" class="Keyword">open</a> <a id="537" class="Keyword">import</a> <a id="544" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="578" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="582" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a>
<a id="586" class="Keyword">open</a> <a id="591" class="Keyword">import</a> <a id="598" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="632" href="Ledger.Conway.Specification.Transaction.html#2260" class="Function">govStructure</a>

<a id="646" class="Keyword">open</a> <a id="651" href="Ledger.Conway.Specification.Transaction.html#4865" class="Module">Tx</a>
<a id="654" class="Keyword">open</a> <a id="659" href="Ledger.Conway.Specification.Certs.html#4021" class="Module">GState</a>
<a id="666" class="Keyword">open</a> <a id="671" href="Ledger.Conway.Specification.Gov.Actions.html#3822" class="Module">GovActionState</a>
<a id="686" class="Keyword">open</a> <a id="691" href="Ledger.Conway.Specification.Enact.html#448" class="Module">EnactState</a> <a id="702" class="Keyword">using</a> <a id="708" class="Symbol">(</a><a id="709" href="Ledger.Conway.Specification.Enact.html#484" class="Field">cc</a><a id="711" class="Symbol">)</a>


<a id="715" class="Keyword">record</a> <a id="LEnv"></a><a id="722" href="Ledger.Conway.Specification.Ledger.html#722" class="Record">LEnv</a> <a id="727" class="Symbol">:</a> <a id="729" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="734" class="Keyword">where</a>
  <a id="742" class="Keyword">field</a>
    <a id="LEnv.slot"></a><a id="752" href="Ledger.Conway.Specification.Ledger.html#752" class="Field">slot</a>        <a id="764" class="Symbol">:</a> <a id="766" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
    <a id="LEnv.ppolicy"></a><a id="775" href="Ledger.Conway.Specification.Ledger.html#775" class="Field">ppolicy</a>     <a id="787" class="Symbol">:</a> <a id="789" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="795" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="LEnv.pparams"></a><a id="810" href="Ledger.Conway.Specification.Ledger.html#810" class="Field">pparams</a>     <a id="822" class="Symbol">:</a> <a id="824" href="Ledger.Conway.Specification.PParams.html#1779" class="Record">PParams</a>
    <a id="LEnv.enactState"></a><a id="836" href="Ledger.Conway.Specification.Ledger.html#836" class="Field">enactState</a>  <a id="848" class="Symbol">:</a> <a id="850" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a>
    <a id="LEnv.treasury"></a><a id="865" href="Ledger.Conway.Specification.Ledger.html#865" class="Field">treasury</a>    <a id="877" class="Symbol">:</a> <a id="879" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="890" class="Keyword">instance</a>
  <a id="HasPParams-LEnv"></a><a id="901" href="Ledger.Conway.Specification.Ledger.html#901" class="Function">HasPParams-LEnv</a> <a id="917" class="Symbol">:</a> <a id="919" href="Ledger.Conway.Specification.PParams.html#3632" class="Record">HasPParams</a> <a id="930" href="Ledger.Conway.Specification.Ledger.html#722" class="Record">LEnv</a>
  <a id="937" href="Ledger.Conway.Specification.Ledger.html#901" class="Function">HasPParams-LEnv</a> <a id="953" class="Symbol">.</a><a id="954" href="Ledger.Conway.Specification.PParams.html#3683" class="Field">PParamsOf</a> <a id="964" class="Symbol">=</a> <a id="966" href="Ledger.Conway.Specification.Ledger.html#810" class="Field">LEnv.pparams</a>


<a id="981" class="Keyword">record</a> <a id="LState"></a><a id="988" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a> <a id="995" class="Symbol">:</a> <a id="997" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1002" class="Keyword">where</a>


  <a id="1012" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ˡ"></a><a id="1024" href="Ledger.Conway.Specification.Ledger.html#1024" class="InductiveConstructor Operator">⟦_,_,_⟧ˡ</a>


  <a id="1037" class="Keyword">field</a>
    <a id="LState.utxoSt"></a><a id="1047" href="Ledger.Conway.Specification.Ledger.html#1047" class="Field">utxoSt</a>     <a id="1058" class="Symbol">:</a> <a id="1060" href="Ledger.Conway.Specification.Utxo.html#1226" class="Record">UTxOState</a>
    <a id="LState.govSt"></a><a id="1074" href="Ledger.Conway.Specification.Ledger.html#1074" class="Field">govSt</a>      <a id="1085" class="Symbol">:</a> <a id="1087" href="Ledger.Conway.Specification.Gov.html#1401" class="Function">GovState</a>
    <a id="LState.certState"></a><a id="1100" href="Ledger.Conway.Specification.Ledger.html#1100" class="Field">certState</a>  <a id="1111" class="Symbol">:</a> <a id="1113" href="Ledger.Conway.Specification.Certs.html#4152" class="Record">CertState</a>


<a id="1125" class="Keyword">record</a> <a id="HasLState"></a><a id="1132" href="Ledger.Conway.Specification.Ledger.html#1132" class="Record">HasLState</a> <a id="1142" class="Symbol">{</a><a id="1143" href="Ledger.Conway.Specification.Ledger.html#1143" class="Bound">a</a><a id="1144" class="Symbol">}</a> <a id="1146" class="Symbol">(</a><a id="1147" href="Ledger.Conway.Specification.Ledger.html#1147" class="Bound">A</a> <a id="1149" class="Symbol">:</a> <a id="1151" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1156" href="Ledger.Conway.Specification.Ledger.html#1143" class="Bound">a</a><a id="1157" class="Symbol">)</a> <a id="1159" class="Symbol">:</a> <a id="1161" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1166" href="Ledger.Conway.Specification.Ledger.html#1143" class="Bound">a</a> <a id="1168" class="Keyword">where</a>
  <a id="1176" class="Keyword">field</a> <a id="HasLState.LStateOf"></a><a id="1182" href="Ledger.Conway.Specification.Ledger.html#1182" class="Field">LStateOf</a> <a id="1191" class="Symbol">:</a> <a id="1193" href="Ledger.Conway.Specification.Ledger.html#1147" class="Bound">A</a> <a id="1195" class="Symbol">→</a> <a id="1197" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
<a id="1204" class="Keyword">open</a> <a id="1209" href="Ledger.Conway.Specification.Ledger.html#1132" class="Module">HasLState</a> <a id="1219" class="Symbol">⦃...⦄</a> <a id="1225" class="Keyword">public</a>

<a id="1233" class="Keyword">instance</a>
  <a id="HasUTxOState-LState"></a><a id="1244" href="Ledger.Conway.Specification.Ledger.html#1244" class="Function">HasUTxOState-LState</a> <a id="1264" class="Symbol">:</a> <a id="1266" href="Ledger.Conway.Specification.Utxo.html#1392" class="Record">HasUTxOState</a> <a id="1279" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="1288" href="Ledger.Conway.Specification.Ledger.html#1244" class="Function">HasUTxOState-LState</a> <a id="1308" class="Symbol">.</a><a id="1309" href="Ledger.Conway.Specification.Utxo.html#1445" class="Field">UTxOStateOf</a> <a id="1321" class="Symbol">=</a> <a id="1323" href="Ledger.Conway.Specification.Ledger.html#1047" class="Field">LState.utxoSt</a>

  <a id="HasUTxO-LState"></a><a id="1340" href="Ledger.Conway.Specification.Ledger.html#1340" class="Function">HasUTxO-LState</a> <a id="1355" class="Symbol">:</a> <a id="1357" href="Ledger.Conway.Specification.Transaction.html#3072" class="Record">HasUTxO</a> <a id="1365" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="1374" href="Ledger.Conway.Specification.Ledger.html#1340" class="Function">HasUTxO-LState</a> <a id="1389" class="Symbol">.</a><a id="1390" href="Ledger.Conway.Specification.Transaction.html#3122" class="Field">UTxOOf</a> <a id="1397" class="Symbol">=</a> <a id="1399" href="Ledger.Conway.Specification.Transaction.html#3122" class="Field">UTxOOf</a> <a id="1406" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1408" href="Ledger.Conway.Specification.Utxo.html#1445" class="Field">UTxOStateOf</a>

  <a id="HasGovState-LState"></a><a id="1423" href="Ledger.Conway.Specification.Ledger.html#1423" class="Function">HasGovState-LState</a> <a id="1442" class="Symbol">:</a> <a id="1444" href="Ledger.Conway.Specification.Gov.html#1473" class="Record">HasGovState</a> <a id="1456" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="1465" href="Ledger.Conway.Specification.Ledger.html#1423" class="Function">HasGovState-LState</a> <a id="1484" class="Symbol">.</a><a id="1485" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="1496" class="Symbol">=</a> <a id="1498" href="Ledger.Conway.Specification.Ledger.html#1074" class="Field">LState.govSt</a>

  <a id="HasCertState-LState"></a><a id="1514" href="Ledger.Conway.Specification.Ledger.html#1514" class="Function">HasCertState-LState</a> <a id="1534" class="Symbol">:</a> <a id="1536" href="Ledger.Conway.Specification.Certs.html#4729" class="Record">HasCertState</a> <a id="1549" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="1558" href="Ledger.Conway.Specification.Ledger.html#1514" class="Function">HasCertState-LState</a> <a id="1578" class="Symbol">.</a><a id="1579" href="Ledger.Conway.Specification.Certs.html#4782" class="Field">CertStateOf</a> <a id="1591" class="Symbol">=</a> <a id="1593" href="Ledger.Conway.Specification.Ledger.html#1100" class="Field">LState.certState</a>

  <a id="HasDeposits-LState"></a><a id="1613" href="Ledger.Conway.Specification.Ledger.html#1613" class="Function">HasDeposits-LState</a> <a id="1632" class="Symbol">:</a> <a id="1634" href="Ledger.Conway.Specification.Certs.html#870" class="Record">HasDeposits</a> <a id="1646" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="1655" href="Ledger.Conway.Specification.Ledger.html#1613" class="Function">HasDeposits-LState</a> <a id="1674" class="Symbol">.</a><a id="1675" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="1686" class="Symbol">=</a> <a id="1688" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="1699" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1701" href="Ledger.Conway.Specification.Utxo.html#1445" class="Field">UTxOStateOf</a>

  <a id="HasPools-LState"></a><a id="1716" href="Ledger.Conway.Specification.Ledger.html#1716" class="Function">HasPools-LState</a> <a id="1732" class="Symbol">:</a> <a id="1734" href="Ledger.Conway.Specification.Certs.html#1519" class="Record">HasPools</a> <a id="1743" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="1752" href="Ledger.Conway.Specification.Ledger.html#1716" class="Function">HasPools-LState</a> <a id="1768" class="Symbol">.</a><a id="1769" href="Ledger.Conway.Specification.Certs.html#1568" class="Field">PoolsOf</a> <a id="1777" class="Symbol">=</a> <a id="1779" href="Ledger.Conway.Specification.Certs.html#1568" class="Field">PoolsOf</a> <a id="1787" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1789" href="Ledger.Conway.Specification.Certs.html#4782" class="Field">CertStateOf</a>

  <a id="HasGState-LState"></a><a id="1804" href="Ledger.Conway.Specification.Ledger.html#1804" class="Function">HasGState-LState</a> <a id="1821" class="Symbol">:</a> <a id="1823" href="Ledger.Conway.Specification.Certs.html#4621" class="Record">HasGState</a> <a id="1833" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="1842" href="Ledger.Conway.Specification.Ledger.html#1804" class="Function">HasGState-LState</a> <a id="1859" class="Symbol">.</a><a id="1860" href="Ledger.Conway.Specification.Certs.html#4671" class="Field">GStateOf</a> <a id="1869" class="Symbol">=</a> <a id="1871" href="Ledger.Conway.Specification.Certs.html#4671" class="Field">GStateOf</a> <a id="1880" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1882" href="Ledger.Conway.Specification.Certs.html#4782" class="Field">CertStateOf</a>

  <a id="HasDState-LState"></a><a id="1897" href="Ledger.Conway.Specification.Ledger.html#1897" class="Function">HasDState-LState</a> <a id="1914" class="Symbol">:</a> <a id="1916" href="Ledger.Conway.Specification.Certs.html#4405" class="Record">HasDState</a> <a id="1926" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="1935" href="Ledger.Conway.Specification.Ledger.html#1897" class="Function">HasDState-LState</a> <a id="1952" class="Symbol">.</a><a id="1953" href="Ledger.Conway.Specification.Certs.html#4455" class="Field">DStateOf</a> <a id="1962" class="Symbol">=</a> <a id="1964" href="Ledger.Conway.Specification.Certs.html#4455" class="Field">DStateOf</a> <a id="1973" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1975" href="Ledger.Conway.Specification.Certs.html#4782" class="Field">CertStateOf</a>

  <a id="HasPState-LState"></a><a id="1990" href="Ledger.Conway.Specification.Ledger.html#1990" class="Function">HasPState-LState</a> <a id="2007" class="Symbol">:</a> <a id="2009" href="Ledger.Conway.Specification.Certs.html#4513" class="Record">HasPState</a> <a id="2019" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="2028" href="Ledger.Conway.Specification.Ledger.html#1990" class="Function">HasPState-LState</a> <a id="2045" class="Symbol">.</a><a id="2046" href="Ledger.Conway.Specification.Certs.html#4563" class="Field">PStateOf</a> <a id="2055" class="Symbol">=</a> <a id="2057" href="Ledger.Conway.Specification.Certs.html#4563" class="Field">PStateOf</a> <a id="2066" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2068" href="Ledger.Conway.Specification.Certs.html#4782" class="Field">CertStateOf</a>

  <a id="HasVoteDelegs-LState"></a><a id="2083" href="Ledger.Conway.Specification.Ledger.html#2083" class="Function">HasVoteDelegs-LState</a> <a id="2104" class="Symbol">:</a> <a id="2106" href="Ledger.Conway.Specification.Gov.Actions.html#2756" class="Record">HasVoteDelegs</a> <a id="2120" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="2129" href="Ledger.Conway.Specification.Ledger.html#2083" class="Function">HasVoteDelegs-LState</a> <a id="2150" class="Symbol">.</a><a id="2151" href="Ledger.Conway.Specification.Gov.Actions.html#2810" class="Field">VoteDelegsOf</a> <a id="2164" class="Symbol">=</a> <a id="2166" href="Ledger.Conway.Specification.Gov.Actions.html#2810" class="Field">VoteDelegsOf</a> <a id="2179" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2181" href="Ledger.Conway.Specification.Certs.html#4455" class="Field">DStateOf</a> <a id="2190" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2192" href="Ledger.Conway.Specification.Certs.html#4782" class="Field">CertStateOf</a>

  <a id="HasDonations-LState"></a><a id="2207" href="Ledger.Conway.Specification.Ledger.html#2207" class="Function">HasDonations-LState</a> <a id="2227" class="Symbol">:</a> <a id="2229" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="2242" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="2251" href="Ledger.Conway.Specification.Ledger.html#2207" class="Function">HasDonations-LState</a> <a id="2271" class="Symbol">.</a><a id="2272" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="2284" class="Symbol">=</a> <a id="2286" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="2298" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2300" href="Ledger.Conway.Specification.Utxo.html#1445" class="Field">UTxOStateOf</a>

  <a id="HasFees-LState"></a><a id="2315" href="Ledger.Conway.Specification.Ledger.html#2315" class="Function">HasFees-LState</a> <a id="2330" class="Symbol">:</a> <a id="2332" href="Ledger.Prelude.Base.html#621" class="Record">HasFees</a> <a id="2340" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="2349" href="Ledger.Conway.Specification.Ledger.html#2315" class="Function">HasFees-LState</a> <a id="2364" class="Symbol">.</a><a id="2365" href="Ledger.Prelude.Base.html#669" class="Field">FeesOf</a> <a id="2372" class="Symbol">=</a> <a id="2374" href="Ledger.Prelude.Base.html#669" class="Field">FeesOf</a> <a id="2381" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2383" href="Ledger.Conway.Specification.Utxo.html#1445" class="Field">UTxOStateOf</a>

  <a id="HasCCHotKeys-LState"></a><a id="2398" href="Ledger.Conway.Specification.Ledger.html#2398" class="Function">HasCCHotKeys-LState</a> <a id="2418" class="Symbol">:</a> <a id="2420" href="Ledger.Conway.Specification.Certs.html#1430" class="Record">HasCCHotKeys</a> <a id="2433" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="2442" href="Ledger.Conway.Specification.Ledger.html#2398" class="Function">HasCCHotKeys-LState</a> <a id="2462" class="Symbol">.</a><a id="2463" href="Ledger.Conway.Specification.Certs.html#1483" class="Field">CCHotKeysOf</a> <a id="2475" class="Symbol">=</a> <a id="2477" href="Ledger.Conway.Specification.Certs.html#1483" class="Field">CCHotKeysOf</a> <a id="2489" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2491" href="Ledger.Conway.Specification.Certs.html#4671" class="Field">GStateOf</a>

  <a id="HasDReps-LState"></a><a id="2503" href="Ledger.Conway.Specification.Ledger.html#2503" class="Function">HasDReps-LState</a> <a id="2519" class="Symbol">:</a> <a id="2521" href="Ledger.Conway.Specification.Gov.Actions.html#7047" class="Record">HasDReps</a> <a id="2530" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="2539" href="Ledger.Conway.Specification.Ledger.html#2503" class="Function">HasDReps-LState</a> <a id="2555" class="Symbol">.</a><a id="2556" href="Ledger.Conway.Specification.Gov.Actions.html#7096" class="Field">DRepsOf</a> <a id="2564" class="Symbol">=</a> <a id="2566" href="Ledger.Conway.Specification.Gov.Actions.html#7096" class="Field">DRepsOf</a> <a id="2574" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2576" href="Ledger.Conway.Specification.Certs.html#4782" class="Field">CertStateOf</a>

<a id="2589" class="Keyword">open</a> <a id="2594" href="Ledger.Conway.Specification.Certs.html#4152" class="Module">CertState</a>
<a id="2604" class="Keyword">open</a> <a id="2609" href="Ledger.Conway.Specification.Certs.html#3758" class="Module">DState</a>
<a id="2616" class="Keyword">open</a> <a id="2621" href="Ledger.Conway.Specification.Gov.Actions.html#2443" class="Module">GovVotes</a>

<a id="2631" class="Keyword">instance</a>
  <a id="2642" class="Keyword">unquoteDecl</a> <a id="HasCast-LEnv"></a><a id="2654" href="Ledger.Conway.Specification.Ledger.html#2654" class="Function">HasCast-LEnv</a> <a id="HasCast-LState"></a><a id="2667" href="Ledger.Conway.Specification.Ledger.html#2667" class="Function">HasCast-LState</a> <a id="2682" class="Symbol">=</a> <a id="2684" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="2703" class="Symbol">((</a><a id="2705" class="Keyword">quote</a> <a id="2711" href="Ledger.Conway.Specification.Ledger.html#722" class="Record">LEnv</a> <a id="2716" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2718" href="Ledger.Conway.Specification.Ledger.html#2654" class="Function">HasCast-LEnv</a><a id="2730" class="Symbol">)</a> <a id="2732" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2734" class="Symbol">(</a><a id="2735" class="Keyword">quote</a> <a id="2741" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a> <a id="2748" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2750" href="Ledger.Conway.Specification.Ledger.html#2667" class="Function">HasCast-LState</a><a id="2764" class="Symbol">)</a> <a id="2766" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2768" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2770" class="Symbol">)</a>


<a id="txgov"></a><a id="2774" href="Ledger.Conway.Specification.Ledger.html#2774" class="Function">txgov</a> <a id="2780" class="Symbol">:</a> <a id="2782" href="Ledger.Conway.Specification.Transaction.html#3179" class="Record">TxBody</a> <a id="2789" class="Symbol">→</a> <a id="2791" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2796" class="Symbol">(</a><a id="2797" href="Ledger.Conway.Specification.Gov.Actions.html#2294" class="Record">GovVote</a> <a id="2805" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2807" href="Ledger.Conway.Specification.Gov.Actions.html#3603" class="Record">GovProposal</a><a id="2818" class="Symbol">)</a>
<a id="2820" href="Ledger.Conway.Specification.Ledger.html#2774" class="Function">txgov</a> <a id="2826" href="Ledger.Conway.Specification.Ledger.html#2826" class="Bound">txb</a> <a id="2830" class="Symbol">=</a> <a id="2832" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2836" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2841" href="Ledger.Conway.Specification.Transaction.html#3688" class="Field">txGovProposals</a> <a id="2856" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="2859" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2863" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2868" href="Ledger.Conway.Specification.Transaction.html#3646" class="Field">txGovVotes</a>
  <a id="2881" class="Keyword">where</a> <a id="2887" class="Keyword">open</a> <a id="2892" href="Ledger.Conway.Specification.Transaction.html#3179" class="Module">TxBody</a> <a id="2899" href="Ledger.Conway.Specification.Ledger.html#2826" class="Bound">txb</a>

<a id="rmOrphanDRepVotes"></a><a id="2904" href="Ledger.Conway.Specification.Ledger.html#2904" class="Function">rmOrphanDRepVotes</a> <a id="2922" class="Symbol">:</a> <a id="2924" href="Ledger.Conway.Specification.Certs.html#4152" class="Record">CertState</a> <a id="2934" class="Symbol">→</a> <a id="2936" href="Ledger.Conway.Specification.Gov.html#1401" class="Function">GovState</a> <a id="2945" class="Symbol">→</a> <a id="2947" href="Ledger.Conway.Specification.Gov.html#1401" class="Function">GovState</a>
<a id="2956" href="Ledger.Conway.Specification.Ledger.html#2904" class="Function">rmOrphanDRepVotes</a> <a id="2974" href="Ledger.Conway.Specification.Ledger.html#2974" class="Bound">cs</a> <a id="2977" href="Ledger.Conway.Specification.Ledger.html#2977" class="Bound">govSt</a> <a id="2983" class="Symbol">=</a> <a id="2985" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="2991" class="Symbol">(</a><a id="2992" href="Class.Bifunctor.html#1152" class="Function">map₂</a> <a id="2997" href="Ledger.Conway.Specification.Ledger.html#3104" class="Function">go</a><a id="2999" class="Symbol">)</a> <a id="3001" href="Ledger.Conway.Specification.Ledger.html#2977" class="Bound">govSt</a>
  <a id="3009" class="Keyword">where</a>
   <a id="3018" href="Ledger.Conway.Specification.Ledger.html#3018" class="Function">ifDRepRegistered</a> <a id="3035" class="Symbol">:</a> <a id="3037" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="3048" class="Symbol">→</a> <a id="3050" href="Agda.Primitive.html#388" class="Primitive">Type</a>
   <a id="3058" href="Ledger.Conway.Specification.Ledger.html#3018" class="Function">ifDRepRegistered</a> <a id="3075" href="Ledger.Conway.Specification.Ledger.html#3075" class="Bound">c</a> <a id="3077" class="Symbol">=</a> <a id="3079" href="Ledger.Conway.Specification.Ledger.html#3075" class="Bound">c</a> <a id="3081" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="3083" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3087" class="Symbol">(</a><a id="3088" href="Ledger.Conway.Specification.Gov.Actions.html#7096" class="Field">DRepsOf</a> <a id="3096" href="Ledger.Conway.Specification.Ledger.html#2974" class="Bound">cs</a><a id="3098" class="Symbol">)</a>

   <a id="3104" href="Ledger.Conway.Specification.Ledger.html#3104" class="Function">go</a> <a id="3107" class="Symbol">:</a> <a id="3109" href="Ledger.Conway.Specification.Gov.Actions.html#3822" class="Record">GovActionState</a> <a id="3124" class="Symbol">→</a> <a id="3126" href="Ledger.Conway.Specification.Gov.Actions.html#3822" class="Record">GovActionState</a>
   <a id="3144" href="Ledger.Conway.Specification.Ledger.html#3104" class="Function">go</a> <a id="3147" href="Ledger.Conway.Specification.Ledger.html#3147" class="Bound">gas</a> <a id="3151" class="Symbol">=</a> <a id="3153" class="Keyword">record</a> <a id="3160" href="Ledger.Conway.Specification.Ledger.html#3147" class="Bound">gas</a> <a id="3164" class="Symbol">{</a> <a id="3166" href="Ledger.Conway.Specification.Gov.Actions.html#3862" class="Field">votes</a> <a id="3172" class="Symbol">=</a> <a id="3174" class="Keyword">record</a> <a id="3181" class="Symbol">(</a><a id="3182" href="Ledger.Conway.Specification.Ledger.html#3147" class="Bound">gas</a> <a id="3186" class="Symbol">.</a><a id="3187" href="Ledger.Conway.Specification.Gov.Actions.html#3862" class="Field">votes</a><a id="3192" class="Symbol">)</a> <a id="3194" class="Symbol">{</a> <a id="3196" href="Ledger.Conway.Specification.Gov.Actions.html#2508" class="Field">gvDRep</a> <a id="3203" class="Symbol">=</a> <a id="3205" href="abstract-set-theory.FiniteSetTheory.html#4196" class="Function">filterKeys</a> <a id="3216" href="Ledger.Conway.Specification.Ledger.html#3018" class="Function">ifDRepRegistered</a> <a id="3233" class="Symbol">(</a><a id="3234" href="Ledger.Conway.Specification.Ledger.html#3147" class="Bound">gas</a> <a id="3238" class="Symbol">.</a><a id="3239" href="Ledger.Conway.Specification.Gov.Actions.html#3862" class="Field">votes</a> <a id="3245" class="Symbol">.</a><a id="3246" href="Ledger.Conway.Specification.Gov.Actions.html#2508" class="Field">gvDRep</a><a id="3252" class="Symbol">)</a> <a id="3254" class="Symbol">}</a> <a id="3256" class="Symbol">}</a>

<a id="allColdCreds"></a><a id="3259" href="Ledger.Conway.Specification.Ledger.html#3259" class="Function">allColdCreds</a> <a id="3272" class="Symbol">:</a> <a id="3274" href="Ledger.Conway.Specification.Gov.html#1401" class="Function">GovState</a> <a id="3283" class="Symbol">→</a> <a id="3285" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a> <a id="3296" class="Symbol">→</a> <a id="3298" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3300" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
<a id="3311" href="Ledger.Conway.Specification.Ledger.html#3259" class="Function">allColdCreds</a> <a id="3324" href="Ledger.Conway.Specification.Ledger.html#3324" class="Bound">govSt</a> <a id="3330" href="Ledger.Conway.Specification.Ledger.html#3330" class="Bound">es</a> <a id="3333" class="Symbol">=</a>
  <a id="3337" href="Ledger.Conway.Specification.Enact.html#1366" class="Function">ccCreds</a> <a id="3345" class="Symbol">(</a><a id="3346" href="Ledger.Conway.Specification.Ledger.html#3330" class="Bound">es</a> <a id="3349" class="Symbol">.</a><a id="3350" href="Ledger.Conway.Specification.Enact.html#484" class="Field">cc</a><a id="3352" class="Symbol">)</a> <a id="3354" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="3356" href="Axiom.Set.html#7207" class="Function">concatMapˢ</a> <a id="3367" class="Symbol">(λ</a> <a id="3370" class="Symbol">(_</a> <a id="3373" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3375" href="Ledger.Conway.Specification.Ledger.html#3375" class="Bound">st</a><a id="3377" class="Symbol">)</a> <a id="3379" class="Symbol">→</a> <a id="3381" href="Ledger.Conway.Specification.Gov.Actions.html#6886" class="Function">proposedCC</a> <a id="3392" class="Symbol">(</a><a id="3393" href="Ledger.Conway.Specification.Gov.Actions.html#1649" class="Field">GovActionOf</a> <a id="3405" href="Ledger.Conway.Specification.Ledger.html#3375" class="Bound">st</a><a id="3407" class="Symbol">))</a> <a id="3410" class="Symbol">(</a><a id="3411" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="3420" href="Ledger.Conway.Specification.Ledger.html#3324" class="Bound">govSt</a><a id="3425" class="Symbol">)</a>


<a id="3429" class="Keyword">private</a> <a id="3437" class="Keyword">variable</a>
  <a id="3448" href="Ledger.Conway.Specification.Ledger.html#3448" class="Generalizable">Γ</a>                     <a id="3470" class="Symbol">:</a> <a id="3472" href="Ledger.Conway.Specification.Ledger.html#722" class="Record">LEnv</a>
  <a id="3479" href="Ledger.Conway.Specification.Ledger.html#3479" class="Generalizable">s</a> <a id="3481" href="Ledger.Conway.Specification.Ledger.html#3481" class="Generalizable">s&#39;</a> <a id="3484" href="Ledger.Conway.Specification.Ledger.html#3484" class="Generalizable">s&#39;&#39;</a>              <a id="3501" class="Symbol">:</a> <a id="3503" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a>
  <a id="3512" href="Ledger.Conway.Specification.Ledger.html#3512" class="Generalizable">utxoSt</a> <a id="3519" href="Ledger.Conway.Specification.Ledger.html#3519" class="Generalizable">utxoSt&#39;</a>        <a id="3534" class="Symbol">:</a> <a id="3536" href="Ledger.Conway.Specification.Utxo.html#1226" class="Record">UTxOState</a>
  <a id="3548" href="Ledger.Conway.Specification.Ledger.html#3548" class="Generalizable">govSt</a> <a id="3554" href="Ledger.Conway.Specification.Ledger.html#3554" class="Generalizable">govSt&#39;</a>          <a id="3570" class="Symbol">:</a> <a id="3572" href="Ledger.Conway.Specification.Gov.html#1401" class="Function">GovState</a>
  <a id="3583" href="Ledger.Conway.Specification.Ledger.html#3583" class="Generalizable">certState</a> <a id="3593" href="Ledger.Conway.Specification.Ledger.html#3593" class="Generalizable">certState&#39;</a>  <a id="3605" class="Symbol">:</a> <a id="3607" href="Ledger.Conway.Specification.Certs.html#4152" class="Record">CertState</a>
  <a id="3619" href="Ledger.Conway.Specification.Ledger.html#3619" class="Generalizable">tx</a>                    <a id="3641" class="Symbol">:</a> <a id="3643" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a>
  <a id="3648" href="Ledger.Conway.Specification.Ledger.html#3648" class="Generalizable">slot</a>                  <a id="3670" class="Symbol">:</a> <a id="3672" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
  <a id="3679" href="Ledger.Conway.Specification.Ledger.html#3679" class="Generalizable">ppolicy</a>               <a id="3701" class="Symbol">:</a> <a id="3703" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3709" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
  <a id="3722" href="Ledger.Conway.Specification.Ledger.html#3722" class="Generalizable">pp</a>                    <a id="3744" class="Symbol">:</a> <a id="3746" href="Ledger.Conway.Specification.PParams.html#1779" class="Record">PParams</a>
  <a id="3756" href="Ledger.Conway.Specification.Ledger.html#3756" class="Generalizable">enactState</a>            <a id="3778" class="Symbol">:</a> <a id="3780" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a>
  <a id="3793" href="Ledger.Conway.Specification.Ledger.html#3793" class="Generalizable">treasury</a>              <a id="3815" class="Symbol">:</a> <a id="3817" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="3828" class="Keyword">data</a> <a id="_⊢_⇀⦇_,LEDGER⦈_"></a><a id="3833" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="3849" class="Symbol">:</a> <a id="3851" href="Ledger.Conway.Specification.Ledger.html#722" class="Record">LEnv</a> <a id="3856" class="Symbol">→</a> <a id="3858" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a> <a id="3865" class="Symbol">→</a> <a id="3867" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a> <a id="3870" class="Symbol">→</a> <a id="3872" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a> <a id="3879" class="Symbol">→</a> <a id="3881" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3886" class="Keyword">where</a>
  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-V"></a><a id="3894" href="Ledger.Conway.Specification.Ledger.html#3894" class="InductiveConstructor">LEDGER-V</a> <a id="3903" class="Symbol">:</a>
    <a id="3909" class="Keyword">let</a>  <a id="3914" href="Ledger.Conway.Specification.Ledger.html#3914" class="Bound">txb</a> <a id="3918" class="Symbol">=</a> <a id="3920" href="Ledger.Conway.Specification.Ledger.html#3619" class="Generalizable">tx</a> <a id="3923" class="Symbol">.</a><a id="3924" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a>


         <a id="3940" class="Keyword">open</a> <a id="3945" href="Ledger.Conway.Specification.Transaction.html#3179" class="Module">TxBody</a> <a id="3952" href="Ledger.Conway.Specification.Ledger.html#3914" class="Bound">txb</a>


    <a id="3962" class="Keyword">in</a>
      <a id="3971" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3973" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="3981" href="Ledger.Conway.Specification.Ledger.html#3619" class="Generalizable">tx</a> <a id="3984" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3986" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3997" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3648}{\htmlId{4001}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3722}{\htmlId{4008}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3793}{\htmlId{4013}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a>  <a id="4025" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⊢</a> <a id="4027" href="Ledger.Conway.Specification.Ledger.html#3512" class="Generalizable">utxoSt</a> <a id="4034" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="4037" href="Ledger.Conway.Specification.Ledger.html#3619" class="Generalizable">tx</a> <a id="4040" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="4048" href="Ledger.Conway.Specification.Ledger.html#3519" class="Generalizable">utxoSt&#39;</a>
      <a id="4062" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{4066}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3648}{\htmlId{4072}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3722}{\htmlId{4079}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3646}{\htmlId{4084}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3471}{\htmlId{4097}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3259}{\htmlId{4113}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3548}{\htmlId{4126}{\htmlClass{Generalizable}{\text{govSt}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3756}{\htmlId{4132}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="4145" href="Ledger.Conway.Specification.Certs.html#12345" class="Function Operator">⊢</a> <a id="4147" href="Ledger.Conway.Specification.Ledger.html#3583" class="Generalizable">certState</a> <a id="4157" href="Ledger.Conway.Specification.Certs.html#12345" class="Function Operator">⇀⦇</a> <a id="4160" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a> <a id="4168" href="Ledger.Conway.Specification.Certs.html#12345" class="Function Operator">,CERTS⦈</a> <a id="4176" href="Ledger.Conway.Specification.Ledger.html#3593" class="Generalizable">certState&#39;</a>
      <a id="4193" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Transaction.html#3363}{\htmlId{4197}{\htmlClass{Function}{\text{txId}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{4204}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3648}{\htmlId{4210}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3722}{\htmlId{4217}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3679}{\htmlId{4222}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3756}{\htmlId{4232}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3593}{\htmlId{4245}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{4258}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{4262}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Certs.html#1733}{\htmlId{4263}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3583}{\htmlId{4273}{\htmlClass{Generalizable}{\text{certState}}}}\,\,\htmlId{4282}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="4286" href="Ledger.Conway.Specification.Gov.html#16465" class="Function Operator">⊢</a> <a id="4288" href="Ledger.Conway.Specification.Ledger.html#2904" class="Function">rmOrphanDRepVotes</a> <a id="4306" href="Ledger.Conway.Specification.Ledger.html#3593" class="Generalizable">certState&#39;</a> <a id="4317" href="Ledger.Conway.Specification.Ledger.html#3548" class="Generalizable">govSt</a> <a id="4323" href="Ledger.Conway.Specification.Gov.html#16465" class="Function Operator">⇀⦇</a> <a id="4326" href="Ledger.Conway.Specification.Ledger.html#2774" class="Function">txgov</a> <a id="4332" href="Ledger.Conway.Specification.Ledger.html#3914" class="Bound">txb</a> <a id="4336" href="Ledger.Conway.Specification.Gov.html#16465" class="Function Operator">,GOVS⦈</a> <a id="4343" href="Ledger.Conway.Specification.Ledger.html#3554" class="Generalizable">govSt&#39;</a>
      <a id="4356" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3648}{\htmlId{4397}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3679}{\htmlId{4404}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3722}{\htmlId{4414}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3756}{\htmlId{4419}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3793}{\htmlId{4432}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4443" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3512}{\htmlId{4447}{\htmlClass{Generalizable}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3548}{\htmlId{4456}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3583}{\htmlId{4464}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="4476" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="4479" href="Ledger.Conway.Specification.Ledger.html#3619" class="Generalizable">tx</a> <a id="4482" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3519}{\htmlId{4493}{\htmlClass{Generalizable}{\text{utxoSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3554}{\htmlId{4503}{\htmlClass{Generalizable}{\text{govSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3593}{\htmlId{4512}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-I"></a><a id="4528" href="Ledger.Conway.Specification.Ledger.html#4528" class="InductiveConstructor">LEDGER-I</a> <a id="4537" class="Symbol">:</a>
      <a id="4545" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4547" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="4555" href="Ledger.Conway.Specification.Ledger.html#3619" class="Generalizable">tx</a> <a id="4558" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4560" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
      <a id="4572" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3648}{\htmlId{4576}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3722}{\htmlId{4583}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3793}{\htmlId{4588}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4599" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⊢</a> <a id="4601" href="Ledger.Conway.Specification.Ledger.html#3512" class="Generalizable">utxoSt</a> <a id="4608" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="4611" href="Ledger.Conway.Specification.Ledger.html#3619" class="Generalizable">tx</a> <a id="4614" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="4622" href="Ledger.Conway.Specification.Ledger.html#3519" class="Generalizable">utxoSt&#39;</a>
      <a id="4636" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3648}{\htmlId{4677}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3679}{\htmlId{4684}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3722}{\htmlId{4694}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3756}{\htmlId{4699}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3793}{\htmlId{4712}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4723" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3512}{\htmlId{4727}{\htmlClass{Generalizable}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3548}{\htmlId{4736}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3583}{\htmlId{4744}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="4756" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="4759" href="Ledger.Conway.Specification.Ledger.html#3619" class="Generalizable">tx</a> <a id="4762" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3519}{\htmlId{4773}{\htmlClass{Generalizable}{\text{utxoSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3548}{\htmlId{4783}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3583}{\htmlId{4791}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a>


<a id="4805" class="Keyword">pattern</a> <a id="LEDGER-V⋯"></a><a id="4813" href="Ledger.Conway.Specification.Ledger.html#4813" class="InductiveConstructor">LEDGER-V⋯</a> <a id="4823" href="Ledger.Conway.Specification.Ledger.html#4843" class="Bound">w</a> <a id="4825" href="Ledger.Conway.Specification.Ledger.html#4847" class="Bound">x</a> <a id="4827" href="Ledger.Conway.Specification.Ledger.html#4851" class="Bound">y</a> <a id="4829" href="Ledger.Conway.Specification.Ledger.html#4855" class="Bound">z</a> <a id="4831" class="Symbol">=</a> <a id="4833" href="Ledger.Conway.Specification.Ledger.html#3894" class="InductiveConstructor">LEDGER-V</a> <a id="4842" class="Symbol">(</a><a id="4843" href="Ledger.Conway.Specification.Ledger.html#4843" class="Bound">w</a> <a id="4845" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4847" href="Ledger.Conway.Specification.Ledger.html#4847" class="Bound">x</a> <a id="4849" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4851" href="Ledger.Conway.Specification.Ledger.html#4851" class="Bound">y</a> <a id="4853" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4855" href="Ledger.Conway.Specification.Ledger.html#4855" class="Bound">z</a><a id="4856" class="Symbol">)</a>
<a id="4858" class="Keyword">pattern</a> <a id="LEDGER-I⋯"></a><a id="4866" href="Ledger.Conway.Specification.Ledger.html#4866" class="InductiveConstructor">LEDGER-I⋯</a> <a id="4876" href="Ledger.Conway.Specification.Ledger.html#4896" class="Bound">y</a> <a id="4878" href="Ledger.Conway.Specification.Ledger.html#4900" class="Bound">z</a>     <a id="4884" class="Symbol">=</a> <a id="4886" href="Ledger.Conway.Specification.Ledger.html#4528" class="InductiveConstructor">LEDGER-I</a> <a id="4895" class="Symbol">(</a><a id="4896" href="Ledger.Conway.Specification.Ledger.html#4896" class="Bound">y</a> <a id="4898" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4900" href="Ledger.Conway.Specification.Ledger.html#4900" class="Bound">z</a><a id="4901" class="Symbol">)</a>


<a id="_⊢_⇀⦇_,LEDGERS⦈_"></a><a id="4905" href="Ledger.Conway.Specification.Ledger.html#4905" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4922" class="Symbol">:</a> <a id="4924" href="Ledger.Conway.Specification.Ledger.html#722" class="Record">LEnv</a> <a id="4929" class="Symbol">→</a> <a id="4931" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a> <a id="4938" class="Symbol">→</a> <a id="4940" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4945" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a> <a id="4948" class="Symbol">→</a> <a id="4950" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a> <a id="4957" class="Symbol">→</a> <a id="4959" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="4964" href="Ledger.Conway.Specification.Ledger.html#4905" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4981" class="Symbol">=</a> <a id="4983" href="Interface.STS.html#2048" class="Function">ReflexiveTransitiveClosure</a> <a id="5010" class="Symbol">{</a><a id="5011" class="Argument">sts</a> <a id="5015" class="Symbol">=</a> <a id="5017" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a><a id="5032" class="Symbol">}</a>

</pre></body></html>