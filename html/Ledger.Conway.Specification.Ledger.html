<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Ledger</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">import</a> <a id="33" href="Data.List.html" class="Module">Data.List</a> <a id="43" class="Symbol">as</a> <a id="46" class="Module">L</a>

<a id="49" class="Keyword">open</a> <a id="54" class="Keyword">import</a> <a id="61" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="76" class="Keyword">open</a> <a id="81" class="Keyword">import</a> <a id="88" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="177" class="Keyword">using</a> <a id="183" class="Symbol">(</a><a id="184" href="Ledger.Conway.Specification.Transaction.html#1000" class="Record">TransactionStructure</a><a id="204" class="Symbol">)</a>

<a id="207" class="Keyword">module</a> <a id="214" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a>
  <a id="251" class="Symbol">(</a><a id="252" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="256" class="Symbol">:</a> <a id="258" class="Symbol">_)</a> <a id="261" class="Symbol">(</a><a id="262" class="Keyword">open</a> <a id="267" href="Ledger.Conway.Specification.Transaction.html#1000" class="Module">TransactionStructure</a> <a id="288" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a><a id="291" class="Symbol">)</a>
  <a id="295" class="Symbol">(</a><a id="296" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a> <a id="300" class="Symbol">:</a> <a id="302" href="Ledger.Conway.Specification.Abstract.html#648" class="Record">AbstractFunctions</a> <a id="320" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a><a id="323" class="Symbol">)</a> <a id="325" class="Symbol">(</a><a id="326" class="Keyword">open</a> <a id="331" href="Ledger.Conway.Specification.Abstract.html#648" class="Module">AbstractFunctions</a> <a id="349" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a><a id="352" class="Symbol">)</a>
  <a id="356" class="Keyword">where</a>

<a id="363" class="Keyword">open</a> <a id="368" class="Keyword">import</a> <a id="375" href="Ledger.Conway.Specification.Enact.html" class="Module">Ledger.Conway.Specification.Enact</a> <a id="409" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="422" class="Keyword">open</a> <a id="427" class="Keyword">import</a> <a id="434" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="466" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="515" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="519" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="569" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="573" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a>
<a id="577" class="Keyword">open</a> <a id="582" class="Keyword">import</a> <a id="589" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="623" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>

<a id="637" class="Keyword">open</a> <a id="642" href="Ledger.Conway.Specification.Transaction.html#4684" class="Module">Tx</a>
<a id="645" class="Keyword">open</a> <a id="650" href="Ledger.Conway.Specification.Certs.html#3959" class="Module">GState</a>
<a id="657" class="Keyword">open</a> <a id="662" href="Ledger.Conway.Specification.Gov.Actions.html#3372" class="Module">GovActionState</a>
<a id="677" class="Keyword">open</a> <a id="682" href="Ledger.Conway.Specification.Enact.html#448" class="Module">EnactState</a> <a id="693" class="Keyword">using</a> <a id="699" class="Symbol">(</a><a id="700" href="Ledger.Conway.Specification.Enact.html#484" class="Field">cc</a><a id="702" class="Symbol">)</a>


<a id="706" class="Keyword">record</a> <a id="LEnv"></a><a id="713" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="718" class="Symbol">:</a> <a id="720" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="725" class="Keyword">where</a>
  <a id="733" class="Keyword">field</a>
    <a id="LEnv.slot"></a><a id="743" href="Ledger.Conway.Specification.Ledger.html#743" class="Field">slot</a>        <a id="755" class="Symbol">:</a> <a id="757" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a>
    <a id="LEnv.ppolicy"></a><a id="766" href="Ledger.Conway.Specification.Ledger.html#766" class="Field">ppolicy</a>     <a id="778" class="Symbol">:</a> <a id="780" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="786" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="LEnv.pparams"></a><a id="801" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a>     <a id="813" class="Symbol">:</a> <a id="815" href="Ledger.Conway.Specification.PParams.html#1685" class="Record">PParams</a>
    <a id="LEnv.enactState"></a><a id="827" href="Ledger.Conway.Specification.Ledger.html#827" class="Field">enactState</a>  <a id="839" class="Symbol">:</a> <a id="841" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a>
    <a id="LEnv.treasury"></a><a id="856" href="Ledger.Conway.Specification.Ledger.html#856" class="Field">treasury</a>    <a id="868" class="Symbol">:</a> <a id="870" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="881" class="Keyword">instance</a>
  <a id="HasPParams-LEnv"></a><a id="892" href="Ledger.Conway.Specification.Ledger.html#892" class="Function">HasPParams-LEnv</a> <a id="908" class="Symbol">:</a> <a id="910" href="Ledger.Conway.Specification.PParams.html#3489" class="Record">HasPParams</a> <a id="921" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a>
  <a id="928" href="Ledger.Conway.Specification.Ledger.html#892" class="Function">HasPParams-LEnv</a> <a id="944" class="Symbol">.</a><a id="945" href="Ledger.Conway.Specification.PParams.html#3540" class="Field">PParamsOf</a> <a id="955" class="Symbol">=</a> <a id="957" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">LEnv.pparams</a>




<a id="974" class="Keyword">record</a> <a id="LState"></a><a id="981" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="988" class="Symbol">:</a> <a id="990" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="995" class="Keyword">where</a>


  <a id="1005" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ˡ"></a><a id="1017" href="Ledger.Conway.Specification.Ledger.html#1017" class="InductiveConstructor Operator">⟦_,_,_⟧ˡ</a>


  <a id="1030" class="Keyword">field</a>
    <a id="LState.utxoSt"></a><a id="1040" href="Ledger.Conway.Specification.Ledger.html#1040" class="Field">utxoSt</a>     <a id="1051" class="Symbol">:</a> <a id="1053" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">UTxOState</a>
    <a id="LState.govSt"></a><a id="1067" href="Ledger.Conway.Specification.Ledger.html#1067" class="Field">govSt</a>      <a id="1078" class="Symbol">:</a> <a id="1080" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a>
    <a id="LState.certState"></a><a id="1093" href="Ledger.Conway.Specification.Ledger.html#1093" class="Field">certState</a>  <a id="1104" class="Symbol">:</a> <a id="1106" href="Ledger.Conway.Specification.Certs.html#4090" class="Record">CertState</a>



<a id="1119" class="Keyword">record</a> <a id="HasLState"></a><a id="1126" href="Ledger.Conway.Specification.Ledger.html#1126" class="Record">HasLState</a> <a id="1136" class="Symbol">{</a><a id="1137" href="Ledger.Conway.Specification.Ledger.html#1137" class="Bound">a</a><a id="1138" class="Symbol">}</a> <a id="1140" class="Symbol">(</a><a id="1141" href="Ledger.Conway.Specification.Ledger.html#1141" class="Bound">A</a> <a id="1143" class="Symbol">:</a> <a id="1145" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1150" href="Ledger.Conway.Specification.Ledger.html#1137" class="Bound">a</a><a id="1151" class="Symbol">)</a> <a id="1153" class="Symbol">:</a> <a id="1155" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1160" href="Ledger.Conway.Specification.Ledger.html#1137" class="Bound">a</a> <a id="1162" class="Keyword">where</a>
  <a id="1170" class="Keyword">field</a> <a id="HasLState.LStateOf"></a><a id="1176" href="Ledger.Conway.Specification.Ledger.html#1176" class="Field">LStateOf</a> <a id="1185" class="Symbol">:</a> <a id="1187" href="Ledger.Conway.Specification.Ledger.html#1141" class="Bound">A</a> <a id="1189" class="Symbol">→</a> <a id="1191" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
<a id="1198" class="Keyword">open</a> <a id="1203" href="Ledger.Conway.Specification.Ledger.html#1126" class="Module">HasLState</a> <a id="1213" class="Symbol">⦃...⦄</a> <a id="1219" class="Keyword">public</a>

<a id="1227" class="Keyword">instance</a>
  <a id="HasUTxOState-LState"></a><a id="1238" href="Ledger.Conway.Specification.Ledger.html#1238" class="Function">HasUTxOState-LState</a> <a id="1258" class="Symbol">:</a> <a id="1260" href="Ledger.Conway.Specification.Utxo.html#1396" class="Record">HasUTxOState</a> <a id="1273" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1282" href="Ledger.Conway.Specification.Ledger.html#1238" class="Function">HasUTxOState-LState</a> <a id="1302" class="Symbol">.</a><a id="1303" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a> <a id="1315" class="Symbol">=</a> <a id="1317" href="Ledger.Conway.Specification.Ledger.html#1040" class="Field">LState.utxoSt</a>

  <a id="HasUTxO-LState"></a><a id="1334" href="Ledger.Conway.Specification.Ledger.html#1334" class="Function">HasUTxO-LState</a> <a id="1349" class="Symbol">:</a> <a id="1351" href="Ledger.Conway.Specification.Transaction.html#2891" class="Record">HasUTxO</a> <a id="1359" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1368" href="Ledger.Conway.Specification.Ledger.html#1334" class="Function">HasUTxO-LState</a> <a id="1383" class="Symbol">.</a><a id="1384" href="Ledger.Conway.Specification.Transaction.html#2941" class="Field">UTxOOf</a> <a id="1391" class="Symbol">=</a> <a id="1393" href="Ledger.Conway.Specification.Transaction.html#2941" class="Field">UTxOOf</a> <a id="1400" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1402" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

  <a id="HasGovState-LState"></a><a id="1417" href="Ledger.Conway.Specification.Ledger.html#1417" class="Function">HasGovState-LState</a> <a id="1436" class="Symbol">:</a> <a id="1438" href="Ledger.Conway.Specification.Gov.html#1553" class="Record">HasGovState</a> <a id="1450" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1459" href="Ledger.Conway.Specification.Ledger.html#1417" class="Function">HasGovState-LState</a> <a id="1478" class="Symbol">.</a><a id="1479" href="Ledger.Conway.Specification.Gov.html#1605" class="Field">GovStateOf</a> <a id="1490" class="Symbol">=</a> <a id="1492" href="Ledger.Conway.Specification.Ledger.html#1067" class="Field">LState.govSt</a>

  <a id="HasCertState-LState"></a><a id="1508" href="Ledger.Conway.Specification.Ledger.html#1508" class="Function">HasCertState-LState</a> <a id="1528" class="Symbol">:</a> <a id="1530" href="Ledger.Conway.Specification.Certs.html#4667" class="Record">HasCertState</a> <a id="1543" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1552" href="Ledger.Conway.Specification.Ledger.html#1508" class="Function">HasCertState-LState</a> <a id="1572" class="Symbol">.</a><a id="1573" href="Ledger.Conway.Specification.Certs.html#4720" class="Field">CertStateOf</a> <a id="1585" class="Symbol">=</a> <a id="1587" href="Ledger.Conway.Specification.Ledger.html#1093" class="Field">LState.certState</a>

  <a id="HasDeposits-LState"></a><a id="1607" href="Ledger.Conway.Specification.Ledger.html#1607" class="Function">HasDeposits-LState</a> <a id="1626" class="Symbol">:</a> <a id="1628" href="Ledger.Conway.Specification.Certs.html#847" class="Record">HasDeposits</a> <a id="1640" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1649" href="Ledger.Conway.Specification.Ledger.html#1607" class="Function">HasDeposits-LState</a> <a id="1668" class="Symbol">.</a><a id="1669" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="1680" class="Symbol">=</a> <a id="1682" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="1693" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1695" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

  <a id="HasPools-LState"></a><a id="1710" href="Ledger.Conway.Specification.Ledger.html#1710" class="Function">HasPools-LState</a> <a id="1726" class="Symbol">:</a> <a id="1728" href="Ledger.Conway.Specification.Certs.html#1558" class="Record">HasPools</a> <a id="1737" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1746" href="Ledger.Conway.Specification.Ledger.html#1710" class="Function">HasPools-LState</a> <a id="1762" class="Symbol">.</a><a id="1763" href="Ledger.Conway.Specification.Certs.html#1607" class="Field">PoolsOf</a> <a id="1771" class="Symbol">=</a> <a id="1773" href="Ledger.Conway.Specification.Certs.html#1607" class="Field">PoolsOf</a> <a id="1781" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1783" href="Ledger.Conway.Specification.Certs.html#4720" class="Field">CertStateOf</a>

  <a id="HasGState-LState"></a><a id="1798" href="Ledger.Conway.Specification.Ledger.html#1798" class="Function">HasGState-LState</a> <a id="1815" class="Symbol">:</a> <a id="1817" href="Ledger.Conway.Specification.Certs.html#4559" class="Record">HasGState</a> <a id="1827" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1836" href="Ledger.Conway.Specification.Ledger.html#1798" class="Function">HasGState-LState</a> <a id="1853" class="Symbol">.</a><a id="1854" href="Ledger.Conway.Specification.Certs.html#4609" class="Field">GStateOf</a> <a id="1863" class="Symbol">=</a> <a id="1865" href="Ledger.Conway.Specification.Certs.html#4609" class="Field">GStateOf</a> <a id="1874" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1876" href="Ledger.Conway.Specification.Certs.html#4720" class="Field">CertStateOf</a>

  <a id="HasDState-LState"></a><a id="1891" href="Ledger.Conway.Specification.Ledger.html#1891" class="Function">HasDState-LState</a> <a id="1908" class="Symbol">:</a> <a id="1910" href="Ledger.Conway.Specification.Certs.html#4343" class="Record">HasDState</a> <a id="1920" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="1929" href="Ledger.Conway.Specification.Ledger.html#1891" class="Function">HasDState-LState</a> <a id="1946" class="Symbol">.</a><a id="1947" href="Ledger.Conway.Specification.Certs.html#4393" class="Field">DStateOf</a> <a id="1956" class="Symbol">=</a> <a id="1958" href="Ledger.Conway.Specification.Certs.html#4393" class="Field">DStateOf</a> <a id="1967" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1969" href="Ledger.Conway.Specification.Certs.html#4720" class="Field">CertStateOf</a>

  <a id="HasPState-LState"></a><a id="1984" href="Ledger.Conway.Specification.Ledger.html#1984" class="Function">HasPState-LState</a> <a id="2001" class="Symbol">:</a> <a id="2003" href="Ledger.Conway.Specification.Certs.html#4451" class="Record">HasPState</a> <a id="2013" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="2022" href="Ledger.Conway.Specification.Ledger.html#1984" class="Function">HasPState-LState</a> <a id="2039" class="Symbol">.</a><a id="2040" href="Ledger.Conway.Specification.Certs.html#4501" class="Field">PStateOf</a> <a id="2049" class="Symbol">=</a> <a id="2051" href="Ledger.Conway.Specification.Certs.html#4501" class="Field">PStateOf</a> <a id="2060" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2062" href="Ledger.Conway.Specification.Certs.html#4720" class="Field">CertStateOf</a>

  <a id="HasVoteDelegs-LState"></a><a id="2077" href="Ledger.Conway.Specification.Ledger.html#2077" class="Function">HasVoteDelegs-LState</a> <a id="2098" class="Symbol">:</a> <a id="2100" href="Ledger.Conway.Specification.Gov.Actions.html#1083" class="Record">HasVoteDelegs</a> <a id="2114" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="2123" href="Ledger.Conway.Specification.Ledger.html#2077" class="Function">HasVoteDelegs-LState</a> <a id="2144" class="Symbol">.</a><a id="2145" href="Ledger.Conway.Specification.Gov.Actions.html#1137" class="Field">VoteDelegsOf</a> <a id="2158" class="Symbol">=</a> <a id="2160" href="Ledger.Conway.Specification.Gov.Actions.html#1137" class="Field">VoteDelegsOf</a> <a id="2173" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2175" href="Ledger.Conway.Specification.Certs.html#4393" class="Field">DStateOf</a> <a id="2184" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2186" href="Ledger.Conway.Specification.Certs.html#4720" class="Field">CertStateOf</a>

  <a id="HasDonations-LState"></a><a id="2201" href="Ledger.Conway.Specification.Ledger.html#2201" class="Function">HasDonations-LState</a> <a id="2221" class="Symbol">:</a> <a id="2223" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="2236" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="2245" href="Ledger.Conway.Specification.Ledger.html#2201" class="Function">HasDonations-LState</a> <a id="2265" class="Symbol">.</a><a id="2266" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="2278" class="Symbol">=</a> <a id="2280" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="2292" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2294" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

<a id="2307" class="Keyword">open</a> <a id="2312" href="Ledger.Conway.Specification.Certs.html#4090" class="Module">CertState</a>
<a id="2322" class="Keyword">open</a> <a id="2327" href="Ledger.Conway.Specification.Certs.html#3718" class="Module">DState</a>

<a id="2335" class="Keyword">instance</a>
  <a id="2346" class="Keyword">unquoteDecl</a> <a id="HasCast-LEnv"></a><a id="2358" href="Ledger.Conway.Specification.Ledger.html#2358" class="Function">HasCast-LEnv</a> <a id="HasCast-LState"></a><a id="2371" href="Ledger.Conway.Specification.Ledger.html#2371" class="Function">HasCast-LState</a> <a id="2386" class="Symbol">=</a> <a id="2388" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="2407" class="Symbol">((</a><a id="2409" class="Keyword">quote</a> <a id="2415" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="2420" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2422" href="Ledger.Conway.Specification.Ledger.html#2358" class="Function">HasCast-LEnv</a><a id="2434" class="Symbol">)</a> <a id="2436" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2438" class="Symbol">(</a><a id="2439" class="Keyword">quote</a> <a id="2445" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="2452" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2454" href="Ledger.Conway.Specification.Ledger.html#2371" class="Function">HasCast-LState</a><a id="2468" class="Symbol">)</a> <a id="2470" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2472" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2474" class="Symbol">)</a>


<a id="txgov"></a><a id="2478" href="Ledger.Conway.Specification.Ledger.html#2478" class="Function">txgov</a> <a id="2484" class="Symbol">:</a> <a id="2486" href="Ledger.Conway.Specification.Transaction.html#2998" class="Record">TxBody</a> <a id="2493" class="Symbol">→</a> <a id="2495" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2500" class="Symbol">(</a><a id="2501" href="Ledger.Conway.Specification.Gov.Actions.html#3005" class="Record">GovVote</a> <a id="2509" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2511" href="Ledger.Conway.Specification.Gov.Actions.html#3150" class="Record">GovProposal</a><a id="2522" class="Symbol">)</a>
<a id="2524" href="Ledger.Conway.Specification.Ledger.html#2478" class="Function">txgov</a> <a id="2530" href="Ledger.Conway.Specification.Ledger.html#2530" class="Bound">txb</a> <a id="2534" class="Symbol">=</a> <a id="2536" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2540" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2545" href="Ledger.Conway.Specification.Transaction.html#3507" class="Field">txGovProposals</a> <a id="2560" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="2563" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2567" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2572" href="Ledger.Conway.Specification.Transaction.html#3465" class="Field">txGovVotes</a>
  <a id="2585" class="Keyword">where</a> <a id="2591" class="Keyword">open</a> <a id="2596" href="Ledger.Conway.Specification.Transaction.html#2998" class="Module">TxBody</a> <a id="2603" href="Ledger.Conway.Specification.Ledger.html#2530" class="Bound">txb</a>

<a id="rmOrphanDRepVotes"></a><a id="2608" href="Ledger.Conway.Specification.Ledger.html#2608" class="Function">rmOrphanDRepVotes</a> <a id="2626" class="Symbol">:</a> <a id="2628" href="Ledger.Conway.Specification.Certs.html#4090" class="Record">CertState</a> <a id="2638" class="Symbol">→</a> <a id="2640" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a> <a id="2649" class="Symbol">→</a> <a id="2651" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a>
<a id="2660" href="Ledger.Conway.Specification.Ledger.html#2608" class="Function">rmOrphanDRepVotes</a> <a id="2678" href="Ledger.Conway.Specification.Ledger.html#2678" class="Bound">cs</a> <a id="2681" href="Ledger.Conway.Specification.Ledger.html#2681" class="Bound">govSt</a> <a id="2687" class="Symbol">=</a> <a id="2689" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="2695" class="Symbol">(</a><a id="2696" href="Class.Bifunctor.html#1152" class="Function">map₂</a> <a id="2701" href="Ledger.Conway.Specification.Ledger.html#2820" class="Function">go</a><a id="2703" class="Symbol">)</a> <a id="2705" href="Ledger.Conway.Specification.Ledger.html#2681" class="Bound">govSt</a>
  <a id="2713" class="Keyword">where</a>
   <a id="2722" href="Ledger.Conway.Specification.Ledger.html#2722" class="Function">ifDRepRegistered</a> <a id="2739" class="Symbol">:</a> <a id="2741" href="Ledger.Conway.Specification.Gov.Actions.html#591" class="Function">Voter</a> <a id="2747" class="Symbol">→</a> <a id="2749" href="Agda.Primitive.html#388" class="Primitive">Type</a>
   <a id="2757" href="Ledger.Conway.Specification.Ledger.html#2722" class="Function">ifDRepRegistered</a> <a id="2774" class="Symbol">(</a><a id="2775" href="Ledger.Conway.Specification.Ledger.html#2775" class="Bound">r</a> <a id="2777" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2779" href="Ledger.Conway.Specification.Ledger.html#2779" class="Bound">c</a><a id="2780" class="Symbol">)</a> <a id="2782" class="Symbol">=</a> <a id="2784" href="Ledger.Conway.Specification.Ledger.html#2775" class="Bound">r</a> <a id="2786" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2788" href="Ledger.Conway.Specification.Gov.Actions.html#366" class="InductiveConstructor">DRep</a> <a id="2793" class="Symbol">→</a> <a id="2795" href="Ledger.Conway.Specification.Ledger.html#2779" class="Bound">c</a> <a id="2797" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="2799" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2803" class="Symbol">(</a><a id="2804" href="Ledger.Conway.Specification.Certs.html#1530" class="Field">DRepsOf</a> <a id="2812" href="Ledger.Conway.Specification.Ledger.html#2678" class="Bound">cs</a><a id="2814" class="Symbol">)</a>

   <a id="2820" href="Ledger.Conway.Specification.Ledger.html#2820" class="Function">go</a> <a id="2823" class="Symbol">:</a> <a id="2825" href="Ledger.Conway.Specification.Gov.Actions.html#3372" class="Record">GovActionState</a> <a id="2840" class="Symbol">→</a> <a id="2842" href="Ledger.Conway.Specification.Gov.Actions.html#3372" class="Record">GovActionState</a>
   <a id="2860" href="Ledger.Conway.Specification.Ledger.html#2820" class="Function">go</a> <a id="2863" href="Ledger.Conway.Specification.Ledger.html#2863" class="Bound">gas</a> <a id="2867" class="Symbol">=</a> <a id="2869" class="Keyword">record</a> <a id="2876" href="Ledger.Conway.Specification.Ledger.html#2863" class="Bound">gas</a> <a id="2880" class="Symbol">{</a> <a id="2882" href="Ledger.Conway.Specification.Gov.Actions.html#3412" class="Field">votes</a> <a id="2888" class="Symbol">=</a> <a id="2890" href="abstract-set-theory.FiniteSetTheory.html#2989" class="Function">filterKeys</a> <a id="2901" href="Ledger.Conway.Specification.Ledger.html#2722" class="Function">ifDRepRegistered</a> <a id="2918" class="Symbol">(</a><a id="2919" href="Ledger.Conway.Specification.Ledger.html#2863" class="Bound">gas</a> <a id="2923" class="Symbol">.</a><a id="2924" href="Ledger.Conway.Specification.Gov.Actions.html#3412" class="Field">votes</a><a id="2929" class="Symbol">)</a> <a id="2931" class="Symbol">}</a>

<a id="allColdCreds"></a><a id="2934" href="Ledger.Conway.Specification.Ledger.html#2934" class="Function">allColdCreds</a> <a id="2947" class="Symbol">:</a> <a id="2949" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a> <a id="2958" class="Symbol">→</a> <a id="2960" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a> <a id="2971" class="Symbol">→</a> <a id="2973" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2975" href="Ledger.Core.Specification.Address.html#260" class="Datatype">Credential</a>
<a id="2986" href="Ledger.Conway.Specification.Ledger.html#2934" class="Function">allColdCreds</a> <a id="2999" href="Ledger.Conway.Specification.Ledger.html#2999" class="Bound">govSt</a> <a id="3005" href="Ledger.Conway.Specification.Ledger.html#3005" class="Bound">es</a> <a id="3008" class="Symbol">=</a>
  <a id="3012" href="Ledger.Conway.Specification.Enact.html#1367" class="Function">ccCreds</a> <a id="3020" class="Symbol">(</a><a id="3021" href="Ledger.Conway.Specification.Ledger.html#3005" class="Bound">es</a> <a id="3024" class="Symbol">.</a><a id="3025" href="Ledger.Conway.Specification.Enact.html#484" class="Field">cc</a><a id="3027" class="Symbol">)</a> <a id="3029" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="3031" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="3042" class="Symbol">(λ</a> <a id="3045" class="Symbol">(_</a> <a id="3048" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3050" href="Ledger.Conway.Specification.Ledger.html#3050" class="Bound">st</a><a id="3052" class="Symbol">)</a> <a id="3054" class="Symbol">→</a> <a id="3056" href="Ledger.Conway.Specification.Gov.Actions.html#4746" class="Function">proposedCC</a> <a id="3067" class="Symbol">(</a><a id="3068" href="Ledger.Conway.Specification.Gov.Actions.html#1927" class="Field">GovActionOf</a> <a id="3080" href="Ledger.Conway.Specification.Ledger.html#3050" class="Bound">st</a><a id="3082" class="Symbol">))</a> <a id="3085" class="Symbol">(</a><a id="3086" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="3095" href="Ledger.Conway.Specification.Ledger.html#2999" class="Bound">govSt</a><a id="3100" class="Symbol">)</a>


<a id="3104" class="Keyword">private</a> <a id="3112" class="Keyword">variable</a>
  <a id="3123" href="Ledger.Conway.Specification.Ledger.html#3123" class="Generalizable">Γ</a> <a id="3125" class="Symbol">:</a> <a id="3127" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a>
  <a id="3134" href="Ledger.Conway.Specification.Ledger.html#3134" class="Generalizable">s</a> <a id="3136" href="Ledger.Conway.Specification.Ledger.html#3136" class="Generalizable">s&#39;</a> <a id="3139" href="Ledger.Conway.Specification.Ledger.html#3139" class="Generalizable">s&#39;&#39;</a> <a id="3143" class="Symbol">:</a> <a id="3145" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a>
  <a id="3154" href="Ledger.Conway.Specification.Ledger.html#3154" class="Generalizable">utxoSt</a> <a id="3161" href="Ledger.Conway.Specification.Ledger.html#3161" class="Generalizable">utxoSt&#39;</a> <a id="3169" class="Symbol">:</a> <a id="3171" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">UTxOState</a>
  <a id="3183" href="Ledger.Conway.Specification.Ledger.html#3183" class="Generalizable">govSt</a> <a id="3189" href="Ledger.Conway.Specification.Ledger.html#3189" class="Generalizable">govSt&#39;</a> <a id="3196" class="Symbol">:</a> <a id="3198" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a>
  <a id="3209" href="Ledger.Conway.Specification.Ledger.html#3209" class="Generalizable">certState</a> <a id="3219" href="Ledger.Conway.Specification.Ledger.html#3219" class="Generalizable">certState&#39;</a> <a id="3230" class="Symbol">:</a> <a id="3232" href="Ledger.Conway.Specification.Certs.html#4090" class="Record">CertState</a>
  <a id="3244" href="Ledger.Conway.Specification.Ledger.html#3244" class="Generalizable">tx</a> <a id="3247" class="Symbol">:</a> <a id="3249" href="Ledger.Conway.Specification.Transaction.html#4684" class="Record">Tx</a>
  <a id="3254" href="Ledger.Conway.Specification.Ledger.html#3254" class="Generalizable">slot</a> <a id="3259" class="Symbol">:</a> <a id="3261" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a>
  <a id="3268" href="Ledger.Conway.Specification.Ledger.html#3268" class="Generalizable">ppolicy</a> <a id="3276" class="Symbol">:</a> <a id="3278" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3284" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
  <a id="3297" href="Ledger.Conway.Specification.Ledger.html#3297" class="Generalizable">pp</a> <a id="3300" class="Symbol">:</a> <a id="3302" href="Ledger.Conway.Specification.PParams.html#1685" class="Record">PParams</a>
  <a id="3312" href="Ledger.Conway.Specification.Ledger.html#3312" class="Generalizable">enactState</a> <a id="3323" class="Symbol">:</a> <a id="3325" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a>
  <a id="3338" href="Ledger.Conway.Specification.Ledger.html#3338" class="Generalizable">treasury</a> <a id="3347" class="Symbol">:</a> <a id="3349" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="3360" class="Keyword">data</a> <a id="_⊢_⇀⦇_,LEDGER⦈_"></a><a id="3365" href="Ledger.Conway.Specification.Ledger.html#3365" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="3381" class="Symbol">:</a> <a id="3383" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="3388" class="Symbol">→</a> <a id="3390" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="3397" class="Symbol">→</a> <a id="3399" href="Ledger.Conway.Specification.Transaction.html#4684" class="Record">Tx</a> <a id="3402" class="Symbol">→</a> <a id="3404" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="3411" class="Symbol">→</a> <a id="3413" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3418" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-V"></a><a id="3427" href="Ledger.Conway.Specification.Ledger.html#3427" class="InductiveConstructor">LEDGER-V</a> <a id="3436" class="Symbol">:</a>
    <a id="3442" class="Keyword">let</a>  <a id="3447" href="Ledger.Conway.Specification.Ledger.html#3447" class="Bound">txb</a>         <a id="3459" class="Symbol">=</a> <a id="3461" href="Ledger.Conway.Specification.Ledger.html#3244" class="Generalizable">tx</a> <a id="3464" class="Symbol">.</a><a id="3465" href="Ledger.Conway.Specification.Transaction.html#4716" class="Field">body</a>


         <a id="3481" class="Keyword">open</a> <a id="3486" href="Ledger.Conway.Specification.Transaction.html#2998" class="Module">TxBody</a> <a id="3493" href="Ledger.Conway.Specification.Ledger.html#3447" class="Bound">txb</a>


    <a id="3503" class="Keyword">in</a>
    <a id="3510" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3512" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a> <a id="3520" href="Ledger.Conway.Specification.Ledger.html#3244" class="Generalizable">tx</a> <a id="3523" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3525" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="3534" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3254}{\htmlId{3538}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3297}{\htmlId{3545}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3338}{\htmlId{3550}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a>  <a id="3562" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⊢</a> <a id="3564" href="Ledger.Conway.Specification.Ledger.html#3154" class="Generalizable">utxoSt</a> <a id="3571" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="3574" href="Ledger.Conway.Specification.Ledger.html#3244" class="Generalizable">tx</a> <a id="3577" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="3585" href="Ledger.Conway.Specification.Ledger.html#3161" class="Generalizable">utxoSt&#39;</a>
    <a id="3597" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#810}{\htmlId{3601}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3254}{\htmlId{3607}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3297}{\htmlId{3614}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3465}{\htmlId{3619}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3290}{\htmlId{3632}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#2934}{\htmlId{3648}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3183}{\htmlId{3661}{\htmlClass{Generalizable}{\text{govSt}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3312}{\htmlId{3667}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="3680" href="Ledger.Conway.Specification.Certs.html#8084" class="Function Operator">⊢</a> <a id="3682" href="Ledger.Conway.Specification.Ledger.html#3209" class="Generalizable">certState</a> <a id="3692" href="Ledger.Conway.Specification.Certs.html#8084" class="Function Operator">⇀⦇</a> <a id="3695" href="Ledger.Conway.Specification.Transaction.html#3216" class="Function">txCerts</a> <a id="3703" href="Ledger.Conway.Specification.Certs.html#8084" class="Function Operator">,CERTS⦈</a> <a id="3711" href="Ledger.Conway.Specification.Ledger.html#3219" class="Generalizable">certState&#39;</a>
    <a id="3726" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Transaction.html#3182}{\htmlId{3730}{\htmlClass{Function}{\text{txId}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#810}{\htmlId{3737}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3254}{\htmlId{3743}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3297}{\htmlId{3750}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3268}{\htmlId{3755}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3312}{\htmlId{3765}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3219}{\htmlId{3778}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{3791}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{3795}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Certs.html#1772}{\htmlId{3796}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3209}{\htmlId{3806}{\htmlClass{Generalizable}{\text{certState}}}}\,\,\htmlId{3815}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="3819" href="Ledger.Conway.Specification.Gov.html#7498" class="Function Operator">⊢</a> <a id="3821" href="Ledger.Conway.Specification.Ledger.html#2608" class="Function">rmOrphanDRepVotes</a> <a id="3839" href="Ledger.Conway.Specification.Ledger.html#3219" class="Generalizable">certState&#39;</a> <a id="3850" href="Ledger.Conway.Specification.Ledger.html#3183" class="Generalizable">govSt</a> <a id="3856" href="Ledger.Conway.Specification.Gov.html#7498" class="Function Operator">⇀⦇</a> <a id="3859" href="Ledger.Conway.Specification.Ledger.html#2478" class="Function">txgov</a> <a id="3865" href="Ledger.Conway.Specification.Ledger.html#3447" class="Bound">txb</a> <a id="3869" href="Ledger.Conway.Specification.Gov.html#7498" class="Function Operator">,GOVS⦈</a> <a id="3876" href="Ledger.Conway.Specification.Ledger.html#3189" class="Generalizable">govSt&#39;</a>
      <a id="3889" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3254}{\htmlId{3930}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3268}{\htmlId{3937}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3297}{\htmlId{3947}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3312}{\htmlId{3952}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3338}{\htmlId{3965}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="3976" href="Ledger.Conway.Specification.Ledger.html#3365" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3154}{\htmlId{3980}{\htmlClass{Generalizable}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3183}{\htmlId{3989}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3209}{\htmlId{3997}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="4009" href="Ledger.Conway.Specification.Ledger.html#3365" class="Datatype Operator">⇀⦇</a> <a id="4012" href="Ledger.Conway.Specification.Ledger.html#3244" class="Generalizable">tx</a> <a id="4015" href="Ledger.Conway.Specification.Ledger.html#3365" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3161}{\htmlId{4026}{\htmlClass{Generalizable}{\text{utxoSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3189}{\htmlId{4036}{\htmlClass{Generalizable}{\text{govSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3219}{\htmlId{4045}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-I"></a><a id="4061" href="Ledger.Conway.Specification.Ledger.html#4061" class="InductiveConstructor">LEDGER-I</a> <a id="4070" class="Symbol">:</a>
    <a id="4076" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4078" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a> <a id="4086" href="Ledger.Conway.Specification.Ledger.html#3244" class="Generalizable">tx</a> <a id="4089" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4091" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
    <a id="4101" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3254}{\htmlId{4105}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3297}{\htmlId{4112}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3338}{\htmlId{4117}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4128" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⊢</a> <a id="4130" href="Ledger.Conway.Specification.Ledger.html#3154" class="Generalizable">utxoSt</a> <a id="4137" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="4140" href="Ledger.Conway.Specification.Ledger.html#3244" class="Generalizable">tx</a> <a id="4143" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="4151" href="Ledger.Conway.Specification.Ledger.html#3161" class="Generalizable">utxoSt&#39;</a>
      <a id="4165" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3254}{\htmlId{4206}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3268}{\htmlId{4213}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3297}{\htmlId{4223}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3312}{\htmlId{4228}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3338}{\htmlId{4241}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4252" href="Ledger.Conway.Specification.Ledger.html#3365" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3154}{\htmlId{4256}{\htmlClass{Generalizable}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3183}{\htmlId{4265}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3209}{\htmlId{4273}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="4285" href="Ledger.Conway.Specification.Ledger.html#3365" class="Datatype Operator">⇀⦇</a> <a id="4288" href="Ledger.Conway.Specification.Ledger.html#3244" class="Generalizable">tx</a> <a id="4291" href="Ledger.Conway.Specification.Ledger.html#3365" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3161}{\htmlId{4302}{\htmlClass{Generalizable}{\text{utxoSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3183}{\htmlId{4312}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3209}{\htmlId{4320}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a>


<a id="4334" class="Keyword">pattern</a> <a id="LEDGER-V⋯"></a><a id="4342" href="Ledger.Conway.Specification.Ledger.html#4342" class="InductiveConstructor">LEDGER-V⋯</a> <a id="4352" href="Ledger.Conway.Specification.Ledger.html#4372" class="Bound">w</a> <a id="4354" href="Ledger.Conway.Specification.Ledger.html#4376" class="Bound">x</a> <a id="4356" href="Ledger.Conway.Specification.Ledger.html#4380" class="Bound">y</a> <a id="4358" href="Ledger.Conway.Specification.Ledger.html#4384" class="Bound">z</a> <a id="4360" class="Symbol">=</a> <a id="4362" href="Ledger.Conway.Specification.Ledger.html#3427" class="InductiveConstructor">LEDGER-V</a> <a id="4371" class="Symbol">(</a><a id="4372" href="Ledger.Conway.Specification.Ledger.html#4372" class="Bound">w</a> <a id="4374" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4376" href="Ledger.Conway.Specification.Ledger.html#4376" class="Bound">x</a> <a id="4378" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4380" href="Ledger.Conway.Specification.Ledger.html#4380" class="Bound">y</a> <a id="4382" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4384" href="Ledger.Conway.Specification.Ledger.html#4384" class="Bound">z</a><a id="4385" class="Symbol">)</a>
<a id="4387" class="Keyword">pattern</a> <a id="LEDGER-I⋯"></a><a id="4395" href="Ledger.Conway.Specification.Ledger.html#4395" class="InductiveConstructor">LEDGER-I⋯</a> <a id="4405" href="Ledger.Conway.Specification.Ledger.html#4425" class="Bound">y</a> <a id="4407" href="Ledger.Conway.Specification.Ledger.html#4429" class="Bound">z</a>     <a id="4413" class="Symbol">=</a> <a id="4415" href="Ledger.Conway.Specification.Ledger.html#4061" class="InductiveConstructor">LEDGER-I</a> <a id="4424" class="Symbol">(</a><a id="4425" href="Ledger.Conway.Specification.Ledger.html#4425" class="Bound">y</a> <a id="4427" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4429" href="Ledger.Conway.Specification.Ledger.html#4429" class="Bound">z</a><a id="4430" class="Symbol">)</a>


<a id="_⊢_⇀⦇_,LEDGERS⦈_"></a><a id="4434" href="Ledger.Conway.Specification.Ledger.html#4434" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4451" class="Symbol">:</a> <a id="4453" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="4458" class="Symbol">→</a> <a id="4460" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="4467" class="Symbol">→</a> <a id="4469" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4474" href="Ledger.Conway.Specification.Transaction.html#4684" class="Record">Tx</a> <a id="4477" class="Symbol">→</a> <a id="4479" href="Ledger.Conway.Specification.Ledger.html#981" class="Record">LState</a> <a id="4486" class="Symbol">→</a> <a id="4488" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="4493" href="Ledger.Conway.Specification.Ledger.html#4434" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4510" class="Symbol">=</a> <a id="4512" href="Interface.STS.html#1671" class="Function">ReflexiveTransitiveClosure</a> <a id="4539" class="Symbol">{</a><a id="4540" class="Argument">sts</a> <a id="4544" class="Symbol">=</a> <a id="4546" href="Ledger.Conway.Specification.Ledger.html#3365" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a><a id="4561" class="Symbol">}</a>

</pre></body></html>