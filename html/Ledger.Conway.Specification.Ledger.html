<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Ledger</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">import</a> <a id="33" href="Data.List.html" class="Module">Data.List</a> <a id="43" class="Symbol">as</a> <a id="46" class="Module">L</a>

<a id="49" class="Keyword">open</a> <a id="54" class="Keyword">import</a> <a id="61" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="98" class="Keyword">open</a> <a id="103" class="Keyword">import</a> <a id="110" href="Ledger.Core.Specification.Transaction.html" class="Module">Ledger.Core.Specification.Transaction</a>

<a id="149" class="Keyword">module</a> <a id="156" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a>
  <a id="193" class="Symbol">(</a><a id="194" href="Ledger.Conway.Specification.Ledger.html#194" class="Bound">txs</a> <a id="198" class="Symbol">:</a> <a id="200" href="Ledger.Core.Specification.Transaction.html#896" class="Record">TransactionStructure</a><a id="220" class="Symbol">)</a> <a id="222" class="Symbol">(</a><a id="223" class="Keyword">open</a> <a id="228" href="Ledger.Core.Specification.Transaction.html#896" class="Module">TransactionStructure</a> <a id="249" href="Ledger.Conway.Specification.Ledger.html#194" class="Bound">txs</a><a id="252" class="Symbol">)</a>
  <a id="256" class="Symbol">(</a><a id="257" href="Ledger.Conway.Specification.Ledger.html#257" class="Bound">abs</a> <a id="261" class="Symbol">:</a> <a id="263" href="Ledger.Conway.Specification.Abstract.html#653" class="Record">AbstractFunctions</a> <a id="281" href="Ledger.Conway.Specification.Ledger.html#194" class="Bound">txs</a><a id="284" class="Symbol">)</a>
  <a id="288" class="Keyword">where</a>

<a id="295" class="Keyword">open</a> <a id="300" class="Keyword">import</a> <a id="307" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="323" class="Keyword">open</a> <a id="328" class="Keyword">import</a> <a id="335" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="369" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>
<a id="382" class="Keyword">open</a> <a id="387" class="Keyword">import</a> <a id="394" href="Ledger.Conway.Specification.Enact.html" class="Module">Ledger.Conway.Specification.Enact</a> <a id="428" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>
<a id="441" class="Keyword">open</a> <a id="446" class="Keyword">import</a> <a id="453" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="485" href="Ledger.Conway.Specification.Ledger.html#194" class="Bound">txs</a>
<a id="489" class="Keyword">open</a> <a id="494" class="Keyword">import</a> <a id="501" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="541" href="Ledger.Conway.Specification.Ledger.html#194" class="Bound">txs</a> <a id="545" href="Ledger.Conway.Specification.Ledger.html#257" class="Bound">abs</a>
<a id="549" class="Keyword">open</a> <a id="554" class="Keyword">import</a> <a id="561" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="594" href="Ledger.Conway.Specification.Ledger.html#194" class="Bound">txs</a> <a id="598" href="Ledger.Conway.Specification.Ledger.html#257" class="Bound">abs</a>
<a id="602" class="Keyword">open</a> <a id="607" class="Keyword">import</a> <a id="614" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="648" href="Ledger.Conway.Specification.Ledger.html#194" class="Bound">txs</a> <a id="652" href="Ledger.Conway.Specification.Ledger.html#257" class="Bound">abs</a>

<a id="657" class="Keyword">open</a> <a id="662" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a>
<a id="665" class="Keyword">open</a> <a id="670" href="Ledger.Conway.Specification.Certs.html#4156" class="Module">GState</a>
<a id="677" class="Keyword">open</a> <a id="682" href="Ledger.Core.Specification.Gov.Actions.html#3811" class="Module">GovActionState</a>
<a id="697" class="Keyword">open</a> <a id="702" href="Ledger.Conway.Specification.Enact.html#444" class="Module">EnactState</a> <a id="713" class="Keyword">using</a> <a id="719" class="Symbol">(</a><a id="720" href="Ledger.Conway.Specification.Enact.html#480" class="Field">cc</a><a id="722" class="Symbol">)</a>


<a id="726" class="Keyword">record</a> <a id="LEnv"></a><a id="733" href="Ledger.Conway.Specification.Ledger.html#733" class="Record">LEnv</a> <a id="738" class="Symbol">:</a> <a id="740" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="745" class="Keyword">where</a>
  <a id="753" class="Keyword">field</a>
    <a id="LEnv.slot"></a><a id="763" href="Ledger.Conway.Specification.Ledger.html#763" class="Field">slot</a>        <a id="775" class="Symbol">:</a> <a id="777" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
    <a id="LEnv.ppolicy"></a><a id="786" href="Ledger.Conway.Specification.Ledger.html#786" class="Field">ppolicy</a>     <a id="798" class="Symbol">:</a> <a id="800" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="806" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="LEnv.pparams"></a><a id="821" href="Ledger.Conway.Specification.Ledger.html#821" class="Field">pparams</a>     <a id="833" class="Symbol">:</a> <a id="835" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a>
    <a id="LEnv.enactState"></a><a id="847" href="Ledger.Conway.Specification.Ledger.html#847" class="Field">enactState</a>  <a id="859" class="Symbol">:</a> <a id="861" href="Ledger.Conway.Specification.Enact.html#444" class="Record">EnactState</a>
    <a id="LEnv.treasury"></a><a id="876" href="Ledger.Conway.Specification.Ledger.html#876" class="Field">treasury</a>    <a id="888" class="Symbol">:</a> <a id="890" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="901" class="Keyword">instance</a>
  <a id="HasPParams-LEnv"></a><a id="912" href="Ledger.Conway.Specification.Ledger.html#912" class="Function">HasPParams-LEnv</a> <a id="928" class="Symbol">:</a> <a id="930" href="Ledger.Conway.Specification.PParams.html#3491" class="Record">HasPParams</a> <a id="941" href="Ledger.Conway.Specification.Ledger.html#733" class="Record">LEnv</a>
  <a id="948" href="Ledger.Conway.Specification.Ledger.html#912" class="Function">HasPParams-LEnv</a> <a id="964" class="Symbol">.</a><a id="965" href="Ledger.Conway.Specification.PParams.html#3542" class="Field">PParamsOf</a> <a id="975" class="Symbol">=</a> <a id="977" href="Ledger.Conway.Specification.Ledger.html#821" class="Field">LEnv.pparams</a>


<a id="992" class="Keyword">record</a> <a id="LState"></a><a id="999" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a> <a id="1006" class="Symbol">:</a> <a id="1008" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1013" class="Keyword">where</a>


  <a id="1023" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ˡ"></a><a id="1035" href="Ledger.Conway.Specification.Ledger.html#1035" class="InductiveConstructor Operator">⟦_,_,_⟧ˡ</a>


  <a id="1048" class="Keyword">field</a>
    <a id="LState.utxoSt"></a><a id="1058" href="Ledger.Conway.Specification.Ledger.html#1058" class="Field">utxoSt</a>     <a id="1069" class="Symbol">:</a> <a id="1071" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a>
    <a id="LState.govSt"></a><a id="1085" href="Ledger.Conway.Specification.Ledger.html#1085" class="Field">govSt</a>      <a id="1096" class="Symbol">:</a> <a id="1098" href="Ledger.Conway.Specification.Gov.html#1459" class="Function">GovState</a>
    <a id="LState.certState"></a><a id="1111" href="Ledger.Conway.Specification.Ledger.html#1111" class="Field">certState</a>  <a id="1122" class="Symbol">:</a> <a id="1124" href="Ledger.Conway.Specification.Certs.html#4287" class="Record">CertState</a>


<a id="1136" class="Keyword">record</a> <a id="HasLState"></a><a id="1143" href="Ledger.Conway.Specification.Ledger.html#1143" class="Record">HasLState</a> <a id="1153" class="Symbol">{</a><a id="1154" href="Ledger.Conway.Specification.Ledger.html#1154" class="Bound">a</a><a id="1155" class="Symbol">}</a> <a id="1157" class="Symbol">(</a><a id="1158" href="Ledger.Conway.Specification.Ledger.html#1158" class="Bound">A</a> <a id="1160" class="Symbol">:</a> <a id="1162" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1167" href="Ledger.Conway.Specification.Ledger.html#1154" class="Bound">a</a><a id="1168" class="Symbol">)</a> <a id="1170" class="Symbol">:</a> <a id="1172" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1177" href="Ledger.Conway.Specification.Ledger.html#1154" class="Bound">a</a> <a id="1179" class="Keyword">where</a>
  <a id="1187" class="Keyword">field</a> <a id="HasLState.LStateOf"></a><a id="1193" href="Ledger.Conway.Specification.Ledger.html#1193" class="Field">LStateOf</a> <a id="1202" class="Symbol">:</a> <a id="1204" href="Ledger.Conway.Specification.Ledger.html#1158" class="Bound">A</a> <a id="1206" class="Symbol">→</a> <a id="1208" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
<a id="1215" class="Keyword">open</a> <a id="1220" href="Ledger.Conway.Specification.Ledger.html#1143" class="Module">HasLState</a> <a id="1230" class="Symbol">⦃...⦄</a> <a id="1236" class="Keyword">public</a>

<a id="1244" class="Keyword">instance</a>
  <a id="HasUTxOState-LState"></a><a id="1255" href="Ledger.Conway.Specification.Ledger.html#1255" class="Function">HasUTxOState-LState</a> <a id="1275" class="Symbol">:</a> <a id="1277" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">HasUTxOState</a> <a id="1290" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="1299" href="Ledger.Conway.Specification.Ledger.html#1255" class="Function">HasUTxOState-LState</a> <a id="1319" class="Symbol">.</a><a id="1320" href="Ledger.Conway.Specification.Utxo.html#1527" class="Field">UTxOStateOf</a> <a id="1332" class="Symbol">=</a> <a id="1334" href="Ledger.Conway.Specification.Ledger.html#1058" class="Field">LState.utxoSt</a>

  <a id="HasUTxO-LState"></a><a id="1351" href="Ledger.Conway.Specification.Ledger.html#1351" class="Function">HasUTxO-LState</a> <a id="1366" class="Symbol">:</a> <a id="1368" href="Ledger.Core.Specification.Transaction.html#2780" class="Record">HasUTxO</a> <a id="1376" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="1385" href="Ledger.Conway.Specification.Ledger.html#1351" class="Function">HasUTxO-LState</a> <a id="1400" class="Symbol">.</a><a id="1401" href="Ledger.Core.Specification.Transaction.html#2830" class="Field">UTxOOf</a> <a id="1408" class="Symbol">=</a> <a id="1410" href="Ledger.Core.Specification.Transaction.html#2830" class="Field">UTxOOf</a> <a id="1417" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1419" href="Ledger.Conway.Specification.Utxo.html#1527" class="Field">UTxOStateOf</a>

  <a id="HasGovState-LState"></a><a id="1434" href="Ledger.Conway.Specification.Ledger.html#1434" class="Function">HasGovState-LState</a> <a id="1453" class="Symbol">:</a> <a id="1455" href="Ledger.Conway.Specification.Gov.html#1531" class="Record">HasGovState</a> <a id="1467" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="1476" href="Ledger.Conway.Specification.Ledger.html#1434" class="Function">HasGovState-LState</a> <a id="1495" class="Symbol">.</a><a id="1496" href="Ledger.Conway.Specification.Gov.html#1583" class="Field">GovStateOf</a> <a id="1507" class="Symbol">=</a> <a id="1509" href="Ledger.Conway.Specification.Ledger.html#1085" class="Field">LState.govSt</a>

  <a id="HasCertState-LState"></a><a id="1525" href="Ledger.Conway.Specification.Ledger.html#1525" class="Function">HasCertState-LState</a> <a id="1545" class="Symbol">:</a> <a id="1547" href="Ledger.Conway.Specification.Certs.html#4864" class="Record">HasCertState</a> <a id="1560" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="1569" href="Ledger.Conway.Specification.Ledger.html#1525" class="Function">HasCertState-LState</a> <a id="1589" class="Symbol">.</a><a id="1590" href="Ledger.Conway.Specification.Certs.html#4917" class="Field">CertStateOf</a> <a id="1602" class="Symbol">=</a> <a id="1604" href="Ledger.Conway.Specification.Ledger.html#1111" class="Field">LState.certState</a>

  <a id="HasDeposits-LState"></a><a id="1624" href="Ledger.Conway.Specification.Ledger.html#1624" class="Function">HasDeposits-LState</a> <a id="1643" class="Symbol">:</a> <a id="1645" href="Ledger.Conway.Specification.Certs.html#860" class="Record">HasDeposits</a> <a id="1657" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="1666" href="Ledger.Conway.Specification.Ledger.html#1624" class="Function">HasDeposits-LState</a> <a id="1685" class="Symbol">.</a><a id="1686" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="1697" class="Symbol">=</a> <a id="1699" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="1710" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1712" href="Ledger.Conway.Specification.Utxo.html#1527" class="Field">UTxOStateOf</a>

  <a id="HasPools-LState"></a><a id="1727" href="Ledger.Conway.Specification.Ledger.html#1727" class="Function">HasPools-LState</a> <a id="1743" class="Symbol">:</a> <a id="1745" href="Ledger.Conway.Specification.Certs.html#1627" class="Record">HasPools</a> <a id="1754" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="1763" href="Ledger.Conway.Specification.Ledger.html#1727" class="Function">HasPools-LState</a> <a id="1779" class="Symbol">.</a><a id="1780" href="Ledger.Conway.Specification.Certs.html#1676" class="Field">PoolsOf</a> <a id="1788" class="Symbol">=</a> <a id="1790" href="Ledger.Conway.Specification.Certs.html#1676" class="Field">PoolsOf</a> <a id="1798" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1800" href="Ledger.Conway.Specification.Certs.html#4917" class="Field">CertStateOf</a>

  <a id="HasGState-LState"></a><a id="1815" href="Ledger.Conway.Specification.Ledger.html#1815" class="Function">HasGState-LState</a> <a id="1832" class="Symbol">:</a> <a id="1834" href="Ledger.Conway.Specification.Certs.html#4756" class="Record">HasGState</a> <a id="1844" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="1853" href="Ledger.Conway.Specification.Ledger.html#1815" class="Function">HasGState-LState</a> <a id="1870" class="Symbol">.</a><a id="1871" href="Ledger.Conway.Specification.Certs.html#4806" class="Field">GStateOf</a> <a id="1880" class="Symbol">=</a> <a id="1882" href="Ledger.Conway.Specification.Certs.html#4806" class="Field">GStateOf</a> <a id="1891" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1893" href="Ledger.Conway.Specification.Certs.html#4917" class="Field">CertStateOf</a>

  <a id="HasDState-LState"></a><a id="1908" href="Ledger.Conway.Specification.Ledger.html#1908" class="Function">HasDState-LState</a> <a id="1925" class="Symbol">:</a> <a id="1927" href="Ledger.Conway.Specification.Certs.html#4540" class="Record">HasDState</a> <a id="1937" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="1946" href="Ledger.Conway.Specification.Ledger.html#1908" class="Function">HasDState-LState</a> <a id="1963" class="Symbol">.</a><a id="1964" href="Ledger.Conway.Specification.Certs.html#4590" class="Field">DStateOf</a> <a id="1973" class="Symbol">=</a> <a id="1975" href="Ledger.Conway.Specification.Certs.html#4590" class="Field">DStateOf</a> <a id="1984" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1986" href="Ledger.Conway.Specification.Certs.html#4917" class="Field">CertStateOf</a>

  <a id="HasPState-LState"></a><a id="2001" href="Ledger.Conway.Specification.Ledger.html#2001" class="Function">HasPState-LState</a> <a id="2018" class="Symbol">:</a> <a id="2020" href="Ledger.Conway.Specification.Certs.html#4648" class="Record">HasPState</a> <a id="2030" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="2039" href="Ledger.Conway.Specification.Ledger.html#2001" class="Function">HasPState-LState</a> <a id="2056" class="Symbol">.</a><a id="2057" href="Ledger.Conway.Specification.Certs.html#4698" class="Field">PStateOf</a> <a id="2066" class="Symbol">=</a> <a id="2068" href="Ledger.Conway.Specification.Certs.html#4698" class="Field">PStateOf</a> <a id="2077" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2079" href="Ledger.Conway.Specification.Certs.html#4917" class="Field">CertStateOf</a>

  <a id="HasVoteDelegs-LState"></a><a id="2094" href="Ledger.Conway.Specification.Ledger.html#2094" class="Function">HasVoteDelegs-LState</a> <a id="2115" class="Symbol">:</a> <a id="2117" href="Ledger.Core.Specification.Gov.Actions.html#2751" class="Record">HasVoteDelegs</a> <a id="2131" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="2140" href="Ledger.Conway.Specification.Ledger.html#2094" class="Function">HasVoteDelegs-LState</a> <a id="2161" class="Symbol">.</a><a id="2162" href="Ledger.Core.Specification.Gov.Actions.html#2805" class="Field">VoteDelegsOf</a> <a id="2175" class="Symbol">=</a> <a id="2177" href="Ledger.Core.Specification.Gov.Actions.html#2805" class="Field">VoteDelegsOf</a> <a id="2190" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2192" href="Ledger.Conway.Specification.Certs.html#4590" class="Field">DStateOf</a> <a id="2201" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2203" href="Ledger.Conway.Specification.Certs.html#4917" class="Field">CertStateOf</a>

  <a id="HasDonations-LState"></a><a id="2218" href="Ledger.Conway.Specification.Ledger.html#2218" class="Function">HasDonations-LState</a> <a id="2238" class="Symbol">:</a> <a id="2240" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="2253" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="2262" href="Ledger.Conway.Specification.Ledger.html#2218" class="Function">HasDonations-LState</a> <a id="2282" class="Symbol">.</a><a id="2283" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="2295" class="Symbol">=</a> <a id="2297" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="2309" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2311" href="Ledger.Conway.Specification.Utxo.html#1527" class="Field">UTxOStateOf</a>

  <a id="HasFees-LState"></a><a id="2326" href="Ledger.Conway.Specification.Ledger.html#2326" class="Function">HasFees-LState</a> <a id="2341" class="Symbol">:</a> <a id="2343" href="Ledger.Prelude.Base.html#621" class="Record">HasFees</a> <a id="2351" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="2360" href="Ledger.Conway.Specification.Ledger.html#2326" class="Function">HasFees-LState</a> <a id="2375" class="Symbol">.</a><a id="2376" href="Ledger.Prelude.Base.html#669" class="Field">FeesOf</a> <a id="2383" class="Symbol">=</a> <a id="2385" href="Ledger.Prelude.Base.html#669" class="Field">FeesOf</a> <a id="2392" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2394" href="Ledger.Conway.Specification.Utxo.html#1527" class="Field">UTxOStateOf</a>

  <a id="HasCCHotKeys-LState"></a><a id="2409" href="Ledger.Conway.Specification.Ledger.html#2409" class="Function">HasCCHotKeys-LState</a> <a id="2429" class="Symbol">:</a> <a id="2431" href="Ledger.Conway.Specification.Certs.html#1461" class="Record">HasCCHotKeys</a> <a id="2444" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="2453" href="Ledger.Conway.Specification.Ledger.html#2409" class="Function">HasCCHotKeys-LState</a> <a id="2473" class="Symbol">.</a><a id="2474" href="Ledger.Conway.Specification.Certs.html#1514" class="Field">CCHotKeysOf</a> <a id="2486" class="Symbol">=</a> <a id="2488" href="Ledger.Conway.Specification.Certs.html#1514" class="Field">CCHotKeysOf</a> <a id="2500" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2502" href="Ledger.Conway.Specification.Certs.html#4806" class="Field">GStateOf</a>

  <a id="HasDReps-LState"></a><a id="2514" href="Ledger.Conway.Specification.Ledger.html#2514" class="Function">HasDReps-LState</a> <a id="2530" class="Symbol">:</a> <a id="2532" href="Ledger.Conway.Specification.Certs.html#1550" class="Record">HasDReps</a> <a id="2541" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="2550" href="Ledger.Conway.Specification.Ledger.html#2514" class="Function">HasDReps-LState</a> <a id="2566" class="Symbol">.</a><a id="2567" href="Ledger.Conway.Specification.Certs.html#1599" class="Field">DRepsOf</a> <a id="2575" class="Symbol">=</a> <a id="2577" href="Ledger.Conway.Specification.Certs.html#1599" class="Field">DRepsOf</a> <a id="2585" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2587" href="Ledger.Conway.Specification.Certs.html#4917" class="Field">CertStateOf</a>

<a id="2600" class="Keyword">open</a> <a id="2605" href="Ledger.Conway.Specification.Certs.html#4287" class="Module">CertState</a>
<a id="2615" class="Keyword">open</a> <a id="2620" href="Ledger.Conway.Specification.Certs.html#3893" class="Module">DState</a>
<a id="2627" class="Keyword">open</a> <a id="2632" href="Ledger.Core.Specification.Gov.Actions.html#2438" class="Module">GovVotes</a>

<a id="2642" class="Keyword">instance</a>
  <a id="2653" class="Keyword">unquoteDecl</a> <a id="HasCast-LEnv"></a><a id="2665" href="Ledger.Conway.Specification.Ledger.html#2665" class="Function">HasCast-LEnv</a> <a id="HasCast-LState"></a><a id="2678" href="Ledger.Conway.Specification.Ledger.html#2678" class="Function">HasCast-LState</a> <a id="2693" class="Symbol">=</a> <a id="2695" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="2714" class="Symbol">((</a><a id="2716" class="Keyword">quote</a> <a id="2722" href="Ledger.Conway.Specification.Ledger.html#733" class="Record">LEnv</a> <a id="2727" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2729" href="Ledger.Conway.Specification.Ledger.html#2665" class="Function">HasCast-LEnv</a><a id="2741" class="Symbol">)</a> <a id="2743" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2745" class="Symbol">(</a><a id="2746" class="Keyword">quote</a> <a id="2752" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a> <a id="2759" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2761" href="Ledger.Conway.Specification.Ledger.html#2678" class="Function">HasCast-LState</a><a id="2775" class="Symbol">)</a> <a id="2777" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2779" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2781" class="Symbol">)</a>


<a id="txgov"></a><a id="2785" href="Ledger.Conway.Specification.Ledger.html#2785" class="Function">txgov</a> <a id="2791" class="Symbol">:</a> <a id="2793" href="Ledger.Conway.Specification.Transaction.html#352" class="Record">TxBody</a> <a id="2800" class="Symbol">→</a> <a id="2802" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2807" class="Symbol">(</a><a id="2808" href="Ledger.Core.Specification.Gov.Actions.html#2289" class="Record">GovVote</a> <a id="2816" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2818" href="Ledger.Core.Specification.Gov.Actions.html#3598" class="Record">GovProposal</a><a id="2829" class="Symbol">)</a>
<a id="2831" href="Ledger.Conway.Specification.Ledger.html#2785" class="Function">txgov</a> <a id="2837" href="Ledger.Conway.Specification.Ledger.html#2837" class="Bound">txb</a> <a id="2841" class="Symbol">=</a> <a id="2843" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2847" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2852" href="Ledger.Conway.Specification.Transaction.html#833" class="Field">txGovProposals</a> <a id="2867" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="2870" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2874" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2879" href="Ledger.Conway.Specification.Transaction.html#793" class="Field">txGovVotes</a>
  <a id="2892" class="Keyword">where</a> <a id="2898" class="Keyword">open</a> <a id="2903" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a> <a id="2910" href="Ledger.Conway.Specification.Ledger.html#2837" class="Bound">txb</a>

<a id="rmOrphanDRepVotes"></a><a id="2915" href="Ledger.Conway.Specification.Ledger.html#2915" class="Function">rmOrphanDRepVotes</a> <a id="2933" class="Symbol">:</a> <a id="2935" href="Ledger.Conway.Specification.Certs.html#4287" class="Record">CertState</a> <a id="2945" class="Symbol">→</a> <a id="2947" href="Ledger.Conway.Specification.Gov.html#1459" class="Function">GovState</a> <a id="2956" class="Symbol">→</a> <a id="2958" href="Ledger.Conway.Specification.Gov.html#1459" class="Function">GovState</a>
<a id="2967" href="Ledger.Conway.Specification.Ledger.html#2915" class="Function">rmOrphanDRepVotes</a> <a id="2985" href="Ledger.Conway.Specification.Ledger.html#2985" class="Bound">cs</a> <a id="2988" href="Ledger.Conway.Specification.Ledger.html#2988" class="Bound">govSt</a> <a id="2994" class="Symbol">=</a> <a id="2996" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="3002" class="Symbol">(</a><a id="3003" href="Class.Bifunctor.html#1152" class="Function">map₂</a> <a id="3008" href="Ledger.Conway.Specification.Ledger.html#3115" class="Function">go</a><a id="3010" class="Symbol">)</a> <a id="3012" href="Ledger.Conway.Specification.Ledger.html#2988" class="Bound">govSt</a>
  <a id="3020" class="Keyword">where</a>
   <a id="3029" href="Ledger.Conway.Specification.Ledger.html#3029" class="Function">ifDRepRegistered</a> <a id="3046" class="Symbol">:</a> <a id="3048" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="3059" class="Symbol">→</a> <a id="3061" href="Agda.Primitive.html#388" class="Primitive">Type</a>
   <a id="3069" href="Ledger.Conway.Specification.Ledger.html#3029" class="Function">ifDRepRegistered</a> <a id="3086" href="Ledger.Conway.Specification.Ledger.html#3086" class="Bound">c</a> <a id="3088" class="Symbol">=</a> <a id="3090" href="Ledger.Conway.Specification.Ledger.html#3086" class="Bound">c</a> <a id="3092" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="3094" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3098" class="Symbol">(</a><a id="3099" href="Ledger.Conway.Specification.Certs.html#1599" class="Field">DRepsOf</a> <a id="3107" href="Ledger.Conway.Specification.Ledger.html#2985" class="Bound">cs</a><a id="3109" class="Symbol">)</a>

   <a id="3115" href="Ledger.Conway.Specification.Ledger.html#3115" class="Function">go</a> <a id="3118" class="Symbol">:</a> <a id="3120" href="Ledger.Core.Specification.Gov.Actions.html#3811" class="Record">GovActionState</a> <a id="3135" class="Symbol">→</a> <a id="3137" href="Ledger.Core.Specification.Gov.Actions.html#3811" class="Record">GovActionState</a>
   <a id="3155" href="Ledger.Conway.Specification.Ledger.html#3115" class="Function">go</a> <a id="3158" href="Ledger.Conway.Specification.Ledger.html#3158" class="Bound">gas</a> <a id="3162" class="Symbol">=</a> <a id="3164" class="Keyword">record</a> <a id="3171" href="Ledger.Conway.Specification.Ledger.html#3158" class="Bound">gas</a> <a id="3175" class="Symbol">{</a> <a id="3177" href="Ledger.Core.Specification.Gov.Actions.html#3851" class="Field">votes</a> <a id="3183" class="Symbol">=</a> <a id="3185" class="Keyword">record</a> <a id="3192" class="Symbol">(</a><a id="3193" href="Ledger.Conway.Specification.Ledger.html#3158" class="Bound">gas</a> <a id="3197" class="Symbol">.</a><a id="3198" href="Ledger.Core.Specification.Gov.Actions.html#3851" class="Field">votes</a><a id="3203" class="Symbol">)</a> <a id="3205" class="Symbol">{</a> <a id="3207" href="Ledger.Core.Specification.Gov.Actions.html#2503" class="Field">gvDRep</a> <a id="3214" class="Symbol">=</a> <a id="3216" href="abstract-set-theory.FiniteSetTheory.html#4135" class="Function">filterKeys</a> <a id="3227" href="Ledger.Conway.Specification.Ledger.html#3029" class="Function">ifDRepRegistered</a> <a id="3244" class="Symbol">(</a><a id="3245" href="Ledger.Conway.Specification.Ledger.html#3158" class="Bound">gas</a> <a id="3249" class="Symbol">.</a><a id="3250" href="Ledger.Core.Specification.Gov.Actions.html#3851" class="Field">votes</a> <a id="3256" class="Symbol">.</a><a id="3257" href="Ledger.Core.Specification.Gov.Actions.html#2503" class="Field">gvDRep</a><a id="3263" class="Symbol">)</a> <a id="3265" class="Symbol">}</a> <a id="3267" class="Symbol">}</a>

<a id="allColdCreds"></a><a id="3270" href="Ledger.Conway.Specification.Ledger.html#3270" class="Function">allColdCreds</a> <a id="3283" class="Symbol">:</a> <a id="3285" href="Ledger.Conway.Specification.Gov.html#1459" class="Function">GovState</a> <a id="3294" class="Symbol">→</a> <a id="3296" href="Ledger.Conway.Specification.Enact.html#444" class="Record">EnactState</a> <a id="3307" class="Symbol">→</a> <a id="3309" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3311" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
<a id="3322" href="Ledger.Conway.Specification.Ledger.html#3270" class="Function">allColdCreds</a> <a id="3335" href="Ledger.Conway.Specification.Ledger.html#3335" class="Bound">govSt</a> <a id="3341" href="Ledger.Conway.Specification.Ledger.html#3341" class="Bound">es</a> <a id="3344" class="Symbol">=</a>
  <a id="3348" href="Ledger.Conway.Specification.Enact.html#1362" class="Function">ccCreds</a> <a id="3356" class="Symbol">(</a><a id="3357" href="Ledger.Conway.Specification.Ledger.html#3341" class="Bound">es</a> <a id="3360" class="Symbol">.</a><a id="3361" href="Ledger.Conway.Specification.Enact.html#480" class="Field">cc</a><a id="3363" class="Symbol">)</a> <a id="3365" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="3367" href="Axiom.Set.html#7207" class="Function">concatMapˢ</a> <a id="3378" class="Symbol">(λ</a> <a id="3381" class="Symbol">(_</a> <a id="3384" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3386" href="Ledger.Conway.Specification.Ledger.html#3386" class="Bound">st</a><a id="3388" class="Symbol">)</a> <a id="3390" class="Symbol">→</a> <a id="3392" href="Ledger.Core.Specification.Gov.Actions.html#6871" class="Function">proposedCC</a> <a id="3403" class="Symbol">(</a><a id="3404" href="Ledger.Core.Specification.Gov.Actions.html#1644" class="Field">GovActionOf</a> <a id="3416" href="Ledger.Conway.Specification.Ledger.html#3386" class="Bound">st</a><a id="3418" class="Symbol">))</a> <a id="3421" class="Symbol">(</a><a id="3422" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="3431" href="Ledger.Conway.Specification.Ledger.html#3335" class="Bound">govSt</a><a id="3436" class="Symbol">)</a>


<a id="3440" class="Keyword">private</a> <a id="3448" class="Keyword">variable</a>
  <a id="3459" href="Ledger.Conway.Specification.Ledger.html#3459" class="Generalizable">Γ</a>                     <a id="3481" class="Symbol">:</a> <a id="3483" href="Ledger.Conway.Specification.Ledger.html#733" class="Record">LEnv</a>
  <a id="3490" href="Ledger.Conway.Specification.Ledger.html#3490" class="Generalizable">s</a> <a id="3492" href="Ledger.Conway.Specification.Ledger.html#3492" class="Generalizable">s&#39;</a> <a id="3495" href="Ledger.Conway.Specification.Ledger.html#3495" class="Generalizable">s&#39;&#39;</a>              <a id="3512" class="Symbol">:</a> <a id="3514" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a>
  <a id="3523" href="Ledger.Conway.Specification.Ledger.html#3523" class="Generalizable">utxoSt</a> <a id="3530" href="Ledger.Conway.Specification.Ledger.html#3530" class="Generalizable">utxoSt&#39;</a>        <a id="3545" class="Symbol">:</a> <a id="3547" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a>
  <a id="3559" href="Ledger.Conway.Specification.Ledger.html#3559" class="Generalizable">govSt</a> <a id="3565" href="Ledger.Conway.Specification.Ledger.html#3565" class="Generalizable">govSt&#39;</a>          <a id="3581" class="Symbol">:</a> <a id="3583" href="Ledger.Conway.Specification.Gov.html#1459" class="Function">GovState</a>
  <a id="3594" href="Ledger.Conway.Specification.Ledger.html#3594" class="Generalizable">certState</a> <a id="3604" href="Ledger.Conway.Specification.Ledger.html#3604" class="Generalizable">certState&#39;</a>  <a id="3616" class="Symbol">:</a> <a id="3618" href="Ledger.Conway.Specification.Certs.html#4287" class="Record">CertState</a>
  <a id="3630" href="Ledger.Conway.Specification.Ledger.html#3630" class="Generalizable">tx</a>                    <a id="3652" class="Symbol">:</a> <a id="3654" href="Ledger.Conway.Specification.Transaction.html#1721" class="Record">Tx</a>
  <a id="3659" href="Ledger.Conway.Specification.Ledger.html#3659" class="Generalizable">slot</a>                  <a id="3681" class="Symbol">:</a> <a id="3683" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
  <a id="3690" href="Ledger.Conway.Specification.Ledger.html#3690" class="Generalizable">ppolicy</a>               <a id="3712" class="Symbol">:</a> <a id="3714" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3720" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
  <a id="3733" href="Ledger.Conway.Specification.Ledger.html#3733" class="Generalizable">pp</a>                    <a id="3755" class="Symbol">:</a> <a id="3757" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a>
  <a id="3767" href="Ledger.Conway.Specification.Ledger.html#3767" class="Generalizable">enactState</a>            <a id="3789" class="Symbol">:</a> <a id="3791" href="Ledger.Conway.Specification.Enact.html#444" class="Record">EnactState</a>
  <a id="3804" href="Ledger.Conway.Specification.Ledger.html#3804" class="Generalizable">treasury</a>              <a id="3826" class="Symbol">:</a> <a id="3828" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="3839" class="Keyword">data</a> <a id="_⊢_⇀⦇_,LEDGER⦈_"></a><a id="3844" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="3860" class="Symbol">:</a> <a id="3862" href="Ledger.Conway.Specification.Ledger.html#733" class="Record">LEnv</a> <a id="3867" class="Symbol">→</a> <a id="3869" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a> <a id="3876" class="Symbol">→</a> <a id="3878" href="Ledger.Conway.Specification.Transaction.html#1721" class="Record">Tx</a> <a id="3881" class="Symbol">→</a> <a id="3883" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a> <a id="3890" class="Symbol">→</a> <a id="3892" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3897" class="Keyword">where</a>
  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-V"></a><a id="3905" href="Ledger.Conway.Specification.Ledger.html#3905" class="InductiveConstructor">LEDGER-V</a> <a id="3914" class="Symbol">:</a>
    <a id="3920" class="Keyword">let</a>  <a id="3925" href="Ledger.Conway.Specification.Ledger.html#3925" class="Bound">txb</a> <a id="3929" class="Symbol">=</a> <a id="3931" href="Ledger.Conway.Specification.Ledger.html#3630" class="Generalizable">tx</a> <a id="3934" class="Symbol">.</a><a id="3935" href="Ledger.Conway.Specification.Transaction.html#1749" class="Field">body</a>


         <a id="3951" class="Keyword">open</a> <a id="3956" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a> <a id="3963" href="Ledger.Conway.Specification.Ledger.html#3925" class="Bound">txb</a>


    <a id="3973" class="Keyword">in</a>
      <a id="3982" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3984" href="Ledger.Conway.Specification.Transaction.html#1815" class="Field">isValid</a> <a id="3992" href="Ledger.Conway.Specification.Ledger.html#3630" class="Generalizable">tx</a> <a id="3995" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3997" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="4008" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3659}{\htmlId{4012}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3733}{\htmlId{4019}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3804}{\htmlId{4024}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a>  <a id="4036" href="Ledger.Conway.Specification.Utxow.html#2984" class="Datatype Operator">⊢</a> <a id="4038" href="Ledger.Conway.Specification.Ledger.html#3523" class="Generalizable">utxoSt</a> <a id="4045" href="Ledger.Conway.Specification.Utxow.html#2984" class="Datatype Operator">⇀⦇</a> <a id="4048" href="Ledger.Conway.Specification.Ledger.html#3630" class="Generalizable">tx</a> <a id="4051" href="Ledger.Conway.Specification.Utxow.html#2984" class="Datatype Operator">,UTXOW⦈</a> <a id="4059" href="Ledger.Conway.Specification.Ledger.html#3530" class="Generalizable">utxoSt&#39;</a>
      <a id="4073" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{4077}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3659}{\htmlId{4083}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3733}{\htmlId{4090}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#793}{\htmlId{4095}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#626}{\htmlId{4108}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3270}{\htmlId{4124}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3559}{\htmlId{4137}{\htmlClass{Generalizable}{\text{govSt}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3767}{\htmlId{4143}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="4156" href="Ledger.Conway.Specification.Certs.html#12480" class="Function Operator">⊢</a> <a id="4158" href="Ledger.Conway.Specification.Ledger.html#3594" class="Generalizable">certState</a> <a id="4168" href="Ledger.Conway.Specification.Certs.html#12480" class="Function Operator">⇀⦇</a> <a id="4171" href="Ledger.Conway.Specification.Transaction.html#556" class="Function">txCerts</a> <a id="4179" href="Ledger.Conway.Specification.Certs.html#12480" class="Function Operator">,CERTS⦈</a> <a id="4187" href="Ledger.Conway.Specification.Ledger.html#3604" class="Generalizable">certState&#39;</a>
      <a id="4204" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Transaction.html#524}{\htmlId{4208}{\htmlClass{Function}{\text{txId}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{4215}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3659}{\htmlId{4221}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3733}{\htmlId{4228}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3690}{\htmlId{4233}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3767}{\htmlId{4243}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3604}{\htmlId{4256}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{4269}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{4273}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Certs.html#1841}{\htmlId{4274}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3594}{\htmlId{4284}{\htmlClass{Generalizable}{\text{certState}}}}\,\,\htmlId{4293}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="4297" href="Ledger.Conway.Specification.Gov.html#16519" class="Function Operator">⊢</a> <a id="4299" href="Ledger.Conway.Specification.Ledger.html#2915" class="Function">rmOrphanDRepVotes</a> <a id="4317" href="Ledger.Conway.Specification.Ledger.html#3604" class="Generalizable">certState&#39;</a> <a id="4328" href="Ledger.Conway.Specification.Ledger.html#3559" class="Generalizable">govSt</a> <a id="4334" href="Ledger.Conway.Specification.Gov.html#16519" class="Function Operator">⇀⦇</a> <a id="4337" href="Ledger.Conway.Specification.Ledger.html#2785" class="Function">txgov</a> <a id="4343" href="Ledger.Conway.Specification.Ledger.html#3925" class="Bound">txb</a> <a id="4347" href="Ledger.Conway.Specification.Gov.html#16519" class="Function Operator">,GOVS⦈</a> <a id="4354" href="Ledger.Conway.Specification.Ledger.html#3565" class="Generalizable">govSt&#39;</a>
      <a id="4367" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3659}{\htmlId{4408}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3690}{\htmlId{4415}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3733}{\htmlId{4425}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3767}{\htmlId{4430}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3804}{\htmlId{4443}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4454" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3523}{\htmlId{4458}{\htmlClass{Generalizable}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3559}{\htmlId{4467}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3594}{\htmlId{4475}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="4487" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">⇀⦇</a> <a id="4490" href="Ledger.Conway.Specification.Ledger.html#3630" class="Generalizable">tx</a> <a id="4493" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3530}{\htmlId{4504}{\htmlClass{Generalizable}{\text{utxoSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3565}{\htmlId{4514}{\htmlClass{Generalizable}{\text{govSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3604}{\htmlId{4523}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-I"></a><a id="4539" href="Ledger.Conway.Specification.Ledger.html#4539" class="InductiveConstructor">LEDGER-I</a> <a id="4548" class="Symbol">:</a>
      <a id="4556" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4558" href="Ledger.Conway.Specification.Transaction.html#1815" class="Field">isValid</a> <a id="4566" href="Ledger.Conway.Specification.Ledger.html#3630" class="Generalizable">tx</a> <a id="4569" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4571" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
      <a id="4583" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3659}{\htmlId{4587}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3733}{\htmlId{4594}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3804}{\htmlId{4599}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4610" href="Ledger.Conway.Specification.Utxow.html#2984" class="Datatype Operator">⊢</a> <a id="4612" href="Ledger.Conway.Specification.Ledger.html#3523" class="Generalizable">utxoSt</a> <a id="4619" href="Ledger.Conway.Specification.Utxow.html#2984" class="Datatype Operator">⇀⦇</a> <a id="4622" href="Ledger.Conway.Specification.Ledger.html#3630" class="Generalizable">tx</a> <a id="4625" href="Ledger.Conway.Specification.Utxow.html#2984" class="Datatype Operator">,UTXOW⦈</a> <a id="4633" href="Ledger.Conway.Specification.Ledger.html#3530" class="Generalizable">utxoSt&#39;</a>
      <a id="4647" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3659}{\htmlId{4688}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3690}{\htmlId{4695}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3733}{\htmlId{4705}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3767}{\htmlId{4710}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3804}{\htmlId{4723}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4734" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3523}{\htmlId{4738}{\htmlClass{Generalizable}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3559}{\htmlId{4747}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3594}{\htmlId{4755}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="4767" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">⇀⦇</a> <a id="4770" href="Ledger.Conway.Specification.Ledger.html#3630" class="Generalizable">tx</a> <a id="4773" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3530}{\htmlId{4784}{\htmlClass{Generalizable}{\text{utxoSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3559}{\htmlId{4794}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3594}{\htmlId{4802}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a>


<a id="4816" class="Keyword">pattern</a> <a id="LEDGER-V⋯"></a><a id="4824" href="Ledger.Conway.Specification.Ledger.html#4824" class="InductiveConstructor">LEDGER-V⋯</a> <a id="4834" href="Ledger.Conway.Specification.Ledger.html#4854" class="Bound">w</a> <a id="4836" href="Ledger.Conway.Specification.Ledger.html#4858" class="Bound">x</a> <a id="4838" href="Ledger.Conway.Specification.Ledger.html#4862" class="Bound">y</a> <a id="4840" href="Ledger.Conway.Specification.Ledger.html#4866" class="Bound">z</a> <a id="4842" class="Symbol">=</a> <a id="4844" href="Ledger.Conway.Specification.Ledger.html#3905" class="InductiveConstructor">LEDGER-V</a> <a id="4853" class="Symbol">(</a><a id="4854" href="Ledger.Conway.Specification.Ledger.html#4854" class="Bound">w</a> <a id="4856" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4858" href="Ledger.Conway.Specification.Ledger.html#4858" class="Bound">x</a> <a id="4860" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4862" href="Ledger.Conway.Specification.Ledger.html#4862" class="Bound">y</a> <a id="4864" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4866" href="Ledger.Conway.Specification.Ledger.html#4866" class="Bound">z</a><a id="4867" class="Symbol">)</a>
<a id="4869" class="Keyword">pattern</a> <a id="LEDGER-I⋯"></a><a id="4877" href="Ledger.Conway.Specification.Ledger.html#4877" class="InductiveConstructor">LEDGER-I⋯</a> <a id="4887" href="Ledger.Conway.Specification.Ledger.html#4907" class="Bound">y</a> <a id="4889" href="Ledger.Conway.Specification.Ledger.html#4911" class="Bound">z</a>     <a id="4895" class="Symbol">=</a> <a id="4897" href="Ledger.Conway.Specification.Ledger.html#4539" class="InductiveConstructor">LEDGER-I</a> <a id="4906" class="Symbol">(</a><a id="4907" href="Ledger.Conway.Specification.Ledger.html#4907" class="Bound">y</a> <a id="4909" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4911" href="Ledger.Conway.Specification.Ledger.html#4911" class="Bound">z</a><a id="4912" class="Symbol">)</a>


<a id="_⊢_⇀⦇_,LEDGERS⦈_"></a><a id="4916" href="Ledger.Conway.Specification.Ledger.html#4916" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4933" class="Symbol">:</a> <a id="4935" href="Ledger.Conway.Specification.Ledger.html#733" class="Record">LEnv</a> <a id="4940" class="Symbol">→</a> <a id="4942" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a> <a id="4949" class="Symbol">→</a> <a id="4951" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4956" href="Ledger.Conway.Specification.Transaction.html#1721" class="Record">Tx</a> <a id="4959" class="Symbol">→</a> <a id="4961" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a> <a id="4968" class="Symbol">→</a> <a id="4970" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="4975" href="Ledger.Conway.Specification.Ledger.html#4916" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4992" class="Symbol">=</a> <a id="4994" href="Interface.STS.html#2048" class="Function">ReflexiveTransitiveClosure</a> <a id="5021" class="Symbol">{</a><a id="5022" class="Argument">sts</a> <a id="5026" class="Symbol">=</a> <a id="5028" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a><a id="5043" class="Symbol">}</a>

</pre></body></html>