<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Ledger</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">import</a> <a id="33" href="Data.List.html" class="Module">Data.List</a> <a id="43" class="Symbol">as</a> <a id="46" class="Module">L</a>

<a id="49" class="Keyword">open</a> <a id="54" class="Keyword">import</a> <a id="61" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="76" class="Keyword">open</a> <a id="81" class="Keyword">import</a> <a id="88" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="177" class="Keyword">using</a> <a id="183" class="Symbol">(</a><a id="184" href="Ledger.Conway.Specification.Transaction.html#999" class="Record">TransactionStructure</a><a id="204" class="Symbol">)</a>

<a id="207" class="Keyword">module</a> <a id="214" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a>
  <a id="251" class="Symbol">(</a><a id="252" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="256" class="Symbol">:</a> <a id="258" class="Symbol">_)</a> <a id="261" class="Symbol">(</a><a id="262" class="Keyword">open</a> <a id="267" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="288" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a><a id="291" class="Symbol">)</a>
  <a id="295" class="Symbol">(</a><a id="296" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a> <a id="300" class="Symbol">:</a> <a id="302" href="Ledger.Conway.Specification.Abstract.html#654" class="Record">AbstractFunctions</a> <a id="320" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a><a id="323" class="Symbol">)</a> <a id="325" class="Symbol">(</a><a id="326" class="Keyword">open</a> <a id="331" href="Ledger.Conway.Specification.Abstract.html#654" class="Module">AbstractFunctions</a> <a id="349" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a><a id="352" class="Symbol">)</a>
  <a id="356" class="Keyword">where</a>

<a id="363" class="Keyword">open</a> <a id="368" class="Keyword">import</a> <a id="375" href="Ledger.Conway.Specification.Enact.html" class="Module">Ledger.Conway.Specification.Enact</a> <a id="409" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a>
<a id="422" class="Keyword">open</a> <a id="427" class="Keyword">import</a> <a id="434" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="466" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="515" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="519" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="569" href="Ledger.Conway.Specification.Ledger.html#252" class="Bound">txs</a> <a id="573" href="Ledger.Conway.Specification.Ledger.html#296" class="Bound">abs</a>
<a id="577" class="Keyword">open</a> <a id="582" class="Keyword">import</a> <a id="589" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="623" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a>

<a id="637" class="Keyword">open</a> <a id="642" href="Ledger.Conway.Specification.Transaction.html#4682" class="Module">Tx</a>
<a id="645" class="Keyword">open</a> <a id="650" href="Ledger.Conway.Specification.Certs.html#4121" class="Module">GState</a>
<a id="657" class="Keyword">open</a> <a id="662" href="Ledger.Conway.Specification.Gov.Actions.html#3768" class="Module">GovActionState</a>
<a id="677" class="Keyword">open</a> <a id="682" href="Ledger.Conway.Specification.Enact.html#448" class="Module">EnactState</a> <a id="693" class="Keyword">using</a> <a id="699" class="Symbol">(</a><a id="700" href="Ledger.Conway.Specification.Enact.html#484" class="Field">cc</a><a id="702" class="Symbol">)</a>


<a id="706" class="Keyword">record</a> <a id="LEnv"></a><a id="713" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="718" class="Symbol">:</a> <a id="720" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="725" class="Keyword">where</a>
  <a id="733" class="Keyword">field</a>
    <a id="LEnv.slot"></a><a id="743" href="Ledger.Conway.Specification.Ledger.html#743" class="Field">slot</a>        <a id="755" class="Symbol">:</a> <a id="757" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a>
    <a id="LEnv.ppolicy"></a><a id="766" href="Ledger.Conway.Specification.Ledger.html#766" class="Field">ppolicy</a>     <a id="778" class="Symbol">:</a> <a id="780" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="786" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="LEnv.pparams"></a><a id="801" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">pparams</a>     <a id="813" class="Symbol">:</a> <a id="815" href="Ledger.Conway.Specification.PParams.html#1685" class="Record">PParams</a>
    <a id="LEnv.enactState"></a><a id="827" href="Ledger.Conway.Specification.Ledger.html#827" class="Field">enactState</a>  <a id="839" class="Symbol">:</a> <a id="841" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a>
    <a id="LEnv.treasury"></a><a id="856" href="Ledger.Conway.Specification.Ledger.html#856" class="Field">treasury</a>    <a id="868" class="Symbol">:</a> <a id="870" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="881" class="Keyword">instance</a>
  <a id="HasPParams-LEnv"></a><a id="892" href="Ledger.Conway.Specification.Ledger.html#892" class="Function">HasPParams-LEnv</a> <a id="908" class="Symbol">:</a> <a id="910" href="Ledger.Conway.Specification.PParams.html#3489" class="Record">HasPParams</a> <a id="921" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a>
  <a id="928" href="Ledger.Conway.Specification.Ledger.html#892" class="Function">HasPParams-LEnv</a> <a id="944" class="Symbol">.</a><a id="945" href="Ledger.Conway.Specification.PParams.html#3540" class="Field">PParamsOf</a> <a id="955" class="Symbol">=</a> <a id="957" href="Ledger.Conway.Specification.Ledger.html#801" class="Field">LEnv.pparams</a>


<a id="972" class="Keyword">record</a> <a id="LState"></a><a id="979" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a> <a id="986" class="Symbol">:</a> <a id="988" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="993" class="Keyword">where</a>


  <a id="1003" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ˡ"></a><a id="1015" href="Ledger.Conway.Specification.Ledger.html#1015" class="InductiveConstructor Operator">⟦_,_,_⟧ˡ</a>


  <a id="1028" class="Keyword">field</a>
    <a id="LState.utxoSt"></a><a id="1038" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">utxoSt</a>     <a id="1049" class="Symbol">:</a> <a id="1051" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">UTxOState</a>
    <a id="LState.govSt"></a><a id="1065" href="Ledger.Conway.Specification.Ledger.html#1065" class="Field">govSt</a>      <a id="1076" class="Symbol">:</a> <a id="1078" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a>
    <a id="LState.certState"></a><a id="1091" href="Ledger.Conway.Specification.Ledger.html#1091" class="Field">certState</a>  <a id="1102" class="Symbol">:</a> <a id="1104" href="Ledger.Conway.Specification.Certs.html#4252" class="Record">CertState</a>


<a id="1116" class="Keyword">record</a> <a id="HasLState"></a><a id="1123" href="Ledger.Conway.Specification.Ledger.html#1123" class="Record">HasLState</a> <a id="1133" class="Symbol">{</a><a id="1134" href="Ledger.Conway.Specification.Ledger.html#1134" class="Bound">a</a><a id="1135" class="Symbol">}</a> <a id="1137" class="Symbol">(</a><a id="1138" href="Ledger.Conway.Specification.Ledger.html#1138" class="Bound">A</a> <a id="1140" class="Symbol">:</a> <a id="1142" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1147" href="Ledger.Conway.Specification.Ledger.html#1134" class="Bound">a</a><a id="1148" class="Symbol">)</a> <a id="1150" class="Symbol">:</a> <a id="1152" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1157" href="Ledger.Conway.Specification.Ledger.html#1134" class="Bound">a</a> <a id="1159" class="Keyword">where</a>
  <a id="1167" class="Keyword">field</a> <a id="HasLState.LStateOf"></a><a id="1173" href="Ledger.Conway.Specification.Ledger.html#1173" class="Field">LStateOf</a> <a id="1182" class="Symbol">:</a> <a id="1184" href="Ledger.Conway.Specification.Ledger.html#1138" class="Bound">A</a> <a id="1186" class="Symbol">→</a> <a id="1188" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
<a id="1195" class="Keyword">open</a> <a id="1200" href="Ledger.Conway.Specification.Ledger.html#1123" class="Module">HasLState</a> <a id="1210" class="Symbol">⦃...⦄</a> <a id="1216" class="Keyword">public</a>

<a id="1224" class="Keyword">instance</a>
  <a id="HasUTxOState-LState"></a><a id="1235" href="Ledger.Conway.Specification.Ledger.html#1235" class="Function">HasUTxOState-LState</a> <a id="1255" class="Symbol">:</a> <a id="1257" href="Ledger.Conway.Specification.Utxo.html#1396" class="Record">HasUTxOState</a> <a id="1270" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="1279" href="Ledger.Conway.Specification.Ledger.html#1235" class="Function">HasUTxOState-LState</a> <a id="1299" class="Symbol">.</a><a id="1300" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a> <a id="1312" class="Symbol">=</a> <a id="1314" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">LState.utxoSt</a>

  <a id="HasUTxO-LState"></a><a id="1331" href="Ledger.Conway.Specification.Ledger.html#1331" class="Function">HasUTxO-LState</a> <a id="1346" class="Symbol">:</a> <a id="1348" href="Ledger.Conway.Specification.Transaction.html#2889" class="Record">HasUTxO</a> <a id="1356" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="1365" href="Ledger.Conway.Specification.Ledger.html#1331" class="Function">HasUTxO-LState</a> <a id="1380" class="Symbol">.</a><a id="1381" href="Ledger.Conway.Specification.Transaction.html#2939" class="Field">UTxOOf</a> <a id="1388" class="Symbol">=</a> <a id="1390" href="Ledger.Conway.Specification.Transaction.html#2939" class="Field">UTxOOf</a> <a id="1397" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1399" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

  <a id="HasGovState-LState"></a><a id="1414" href="Ledger.Conway.Specification.Ledger.html#1414" class="Function">HasGovState-LState</a> <a id="1433" class="Symbol">:</a> <a id="1435" href="Ledger.Conway.Specification.Gov.html#1551" class="Record">HasGovState</a> <a id="1447" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="1456" href="Ledger.Conway.Specification.Ledger.html#1414" class="Function">HasGovState-LState</a> <a id="1475" class="Symbol">.</a><a id="1476" href="Ledger.Conway.Specification.Gov.html#1603" class="Field">GovStateOf</a> <a id="1487" class="Symbol">=</a> <a id="1489" href="Ledger.Conway.Specification.Ledger.html#1065" class="Field">LState.govSt</a>

  <a id="HasCertState-LState"></a><a id="1505" href="Ledger.Conway.Specification.Ledger.html#1505" class="Function">HasCertState-LState</a> <a id="1525" class="Symbol">:</a> <a id="1527" href="Ledger.Conway.Specification.Certs.html#4829" class="Record">HasCertState</a> <a id="1540" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="1549" href="Ledger.Conway.Specification.Ledger.html#1505" class="Function">HasCertState-LState</a> <a id="1569" class="Symbol">.</a><a id="1570" href="Ledger.Conway.Specification.Certs.html#4882" class="Field">CertStateOf</a> <a id="1582" class="Symbol">=</a> <a id="1584" href="Ledger.Conway.Specification.Ledger.html#1091" class="Field">LState.certState</a>

  <a id="HasDeposits-LState"></a><a id="1604" href="Ledger.Conway.Specification.Ledger.html#1604" class="Function">HasDeposits-LState</a> <a id="1623" class="Symbol">:</a> <a id="1625" href="Ledger.Conway.Specification.Certs.html#847" class="Record">HasDeposits</a> <a id="1637" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="1646" href="Ledger.Conway.Specification.Ledger.html#1604" class="Function">HasDeposits-LState</a> <a id="1665" class="Symbol">.</a><a id="1666" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="1677" class="Symbol">=</a> <a id="1679" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="1690" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1692" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

  <a id="HasPools-LState"></a><a id="1707" href="Ledger.Conway.Specification.Ledger.html#1707" class="Function">HasPools-LState</a> <a id="1723" class="Symbol">:</a> <a id="1725" href="Ledger.Conway.Specification.Certs.html#1614" class="Record">HasPools</a> <a id="1734" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="1743" href="Ledger.Conway.Specification.Ledger.html#1707" class="Function">HasPools-LState</a> <a id="1759" class="Symbol">.</a><a id="1760" href="Ledger.Conway.Specification.Certs.html#1663" class="Field">PoolsOf</a> <a id="1768" class="Symbol">=</a> <a id="1770" href="Ledger.Conway.Specification.Certs.html#1663" class="Field">PoolsOf</a> <a id="1778" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1780" href="Ledger.Conway.Specification.Certs.html#4882" class="Field">CertStateOf</a>

  <a id="HasGState-LState"></a><a id="1795" href="Ledger.Conway.Specification.Ledger.html#1795" class="Function">HasGState-LState</a> <a id="1812" class="Symbol">:</a> <a id="1814" href="Ledger.Conway.Specification.Certs.html#4721" class="Record">HasGState</a> <a id="1824" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="1833" href="Ledger.Conway.Specification.Ledger.html#1795" class="Function">HasGState-LState</a> <a id="1850" class="Symbol">.</a><a id="1851" href="Ledger.Conway.Specification.Certs.html#4771" class="Field">GStateOf</a> <a id="1860" class="Symbol">=</a> <a id="1862" href="Ledger.Conway.Specification.Certs.html#4771" class="Field">GStateOf</a> <a id="1871" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1873" href="Ledger.Conway.Specification.Certs.html#4882" class="Field">CertStateOf</a>

  <a id="HasDState-LState"></a><a id="1888" href="Ledger.Conway.Specification.Ledger.html#1888" class="Function">HasDState-LState</a> <a id="1905" class="Symbol">:</a> <a id="1907" href="Ledger.Conway.Specification.Certs.html#4505" class="Record">HasDState</a> <a id="1917" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="1926" href="Ledger.Conway.Specification.Ledger.html#1888" class="Function">HasDState-LState</a> <a id="1943" class="Symbol">.</a><a id="1944" href="Ledger.Conway.Specification.Certs.html#4555" class="Field">DStateOf</a> <a id="1953" class="Symbol">=</a> <a id="1955" href="Ledger.Conway.Specification.Certs.html#4555" class="Field">DStateOf</a> <a id="1964" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1966" href="Ledger.Conway.Specification.Certs.html#4882" class="Field">CertStateOf</a>

  <a id="HasPState-LState"></a><a id="1981" href="Ledger.Conway.Specification.Ledger.html#1981" class="Function">HasPState-LState</a> <a id="1998" class="Symbol">:</a> <a id="2000" href="Ledger.Conway.Specification.Certs.html#4613" class="Record">HasPState</a> <a id="2010" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="2019" href="Ledger.Conway.Specification.Ledger.html#1981" class="Function">HasPState-LState</a> <a id="2036" class="Symbol">.</a><a id="2037" href="Ledger.Conway.Specification.Certs.html#4663" class="Field">PStateOf</a> <a id="2046" class="Symbol">=</a> <a id="2048" href="Ledger.Conway.Specification.Certs.html#4663" class="Field">PStateOf</a> <a id="2057" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2059" href="Ledger.Conway.Specification.Certs.html#4882" class="Field">CertStateOf</a>

  <a id="HasVoteDelegs-LState"></a><a id="2074" href="Ledger.Conway.Specification.Ledger.html#2074" class="Function">HasVoteDelegs-LState</a> <a id="2095" class="Symbol">:</a> <a id="2097" href="Ledger.Conway.Specification.Gov.Actions.html#1271" class="Record">HasVoteDelegs</a> <a id="2111" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="2120" href="Ledger.Conway.Specification.Ledger.html#2074" class="Function">HasVoteDelegs-LState</a> <a id="2141" class="Symbol">.</a><a id="2142" href="Ledger.Conway.Specification.Gov.Actions.html#1325" class="Field">VoteDelegsOf</a> <a id="2155" class="Symbol">=</a> <a id="2157" href="Ledger.Conway.Specification.Gov.Actions.html#1325" class="Field">VoteDelegsOf</a> <a id="2170" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2172" href="Ledger.Conway.Specification.Certs.html#4555" class="Field">DStateOf</a> <a id="2181" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2183" href="Ledger.Conway.Specification.Certs.html#4882" class="Field">CertStateOf</a>

  <a id="HasDonations-LState"></a><a id="2198" href="Ledger.Conway.Specification.Ledger.html#2198" class="Function">HasDonations-LState</a> <a id="2218" class="Symbol">:</a> <a id="2220" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="2233" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="2242" href="Ledger.Conway.Specification.Ledger.html#2198" class="Function">HasDonations-LState</a> <a id="2262" class="Symbol">.</a><a id="2263" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="2275" class="Symbol">=</a> <a id="2277" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="2289" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2291" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

  <a id="HasFees-LState"></a><a id="2306" href="Ledger.Conway.Specification.Ledger.html#2306" class="Function">HasFees-LState</a> <a id="2321" class="Symbol">:</a> <a id="2323" href="Ledger.Prelude.Base.html#621" class="Record">HasFees</a> <a id="2331" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="2340" href="Ledger.Conway.Specification.Ledger.html#2306" class="Function">HasFees-LState</a> <a id="2355" class="Symbol">.</a><a id="2356" href="Ledger.Prelude.Base.html#669" class="Field">FeesOf</a> <a id="2363" class="Symbol">=</a> <a id="2365" href="Ledger.Prelude.Base.html#669" class="Field">FeesOf</a> <a id="2372" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2374" href="Ledger.Conway.Specification.Utxo.html#1449" class="Field">UTxOStateOf</a>

  <a id="HasCCHotKeys-LState"></a><a id="2389" href="Ledger.Conway.Specification.Ledger.html#2389" class="Function">HasCCHotKeys-LState</a> <a id="2409" class="Symbol">:</a> <a id="2411" href="Ledger.Conway.Specification.Certs.html#1448" class="Record">HasCCHotKeys</a> <a id="2424" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="2433" href="Ledger.Conway.Specification.Ledger.html#2389" class="Function">HasCCHotKeys-LState</a> <a id="2453" class="Symbol">.</a><a id="2454" href="Ledger.Conway.Specification.Certs.html#1501" class="Field">CCHotKeysOf</a> <a id="2466" class="Symbol">=</a> <a id="2468" href="Ledger.Conway.Specification.Certs.html#1501" class="Field">CCHotKeysOf</a> <a id="2480" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2482" href="Ledger.Conway.Specification.Certs.html#4771" class="Field">GStateOf</a>

  <a id="HasDReps-LState"></a><a id="2494" href="Ledger.Conway.Specification.Ledger.html#2494" class="Function">HasDReps-LState</a> <a id="2510" class="Symbol">:</a> <a id="2512" href="Ledger.Conway.Specification.Certs.html#1537" class="Record">HasDReps</a> <a id="2521" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="2530" href="Ledger.Conway.Specification.Ledger.html#2494" class="Function">HasDReps-LState</a> <a id="2546" class="Symbol">.</a><a id="2547" href="Ledger.Conway.Specification.Certs.html#1586" class="Field">DRepsOf</a> <a id="2555" class="Symbol">=</a> <a id="2557" href="Ledger.Conway.Specification.Certs.html#1586" class="Field">DRepsOf</a> <a id="2565" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2567" href="Ledger.Conway.Specification.Certs.html#4882" class="Field">CertStateOf</a>

<a id="2580" class="Keyword">open</a> <a id="2585" href="Ledger.Conway.Specification.Certs.html#4252" class="Module">CertState</a>
<a id="2595" class="Keyword">open</a> <a id="2600" href="Ledger.Conway.Specification.Certs.html#3880" class="Module">DState</a>
<a id="2607" class="Keyword">open</a> <a id="2612" href="Ledger.Conway.Specification.Gov.Actions.html#3640" class="Module">GovVotes</a>

<a id="2622" class="Keyword">instance</a>
  <a id="2633" class="Keyword">unquoteDecl</a> <a id="HasCast-LEnv"></a><a id="2645" href="Ledger.Conway.Specification.Ledger.html#2645" class="Function">HasCast-LEnv</a> <a id="HasCast-LState"></a><a id="2658" href="Ledger.Conway.Specification.Ledger.html#2658" class="Function">HasCast-LState</a> <a id="2673" class="Symbol">=</a> <a id="2675" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="2694" class="Symbol">((</a><a id="2696" class="Keyword">quote</a> <a id="2702" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="2707" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2709" href="Ledger.Conway.Specification.Ledger.html#2645" class="Function">HasCast-LEnv</a><a id="2721" class="Symbol">)</a> <a id="2723" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2725" class="Symbol">(</a><a id="2726" class="Keyword">quote</a> <a id="2732" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a> <a id="2739" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2741" href="Ledger.Conway.Specification.Ledger.html#2658" class="Function">HasCast-LState</a><a id="2755" class="Symbol">)</a> <a id="2757" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2759" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2761" class="Symbol">)</a>


<a id="txgov"></a><a id="2765" href="Ledger.Conway.Specification.Ledger.html#2765" class="Function">txgov</a> <a id="2771" class="Symbol">:</a> <a id="2773" href="Ledger.Conway.Specification.Transaction.html#2996" class="Record">TxBody</a> <a id="2780" class="Symbol">→</a> <a id="2782" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2787" class="Symbol">(</a><a id="2788" href="Ledger.Conway.Specification.Gov.Actions.html#3270" class="Record">GovVote</a> <a id="2796" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2798" href="Ledger.Conway.Specification.Gov.Actions.html#3418" class="Record">GovProposal</a><a id="2809" class="Symbol">)</a>
<a id="2811" href="Ledger.Conway.Specification.Ledger.html#2765" class="Function">txgov</a> <a id="2817" href="Ledger.Conway.Specification.Ledger.html#2817" class="Bound">txb</a> <a id="2821" class="Symbol">=</a> <a id="2823" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2827" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2832" href="Ledger.Conway.Specification.Transaction.html#3505" class="Field">txGovProposals</a> <a id="2847" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="2850" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2854" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2859" href="Ledger.Conway.Specification.Transaction.html#3463" class="Field">txGovVotes</a>
  <a id="2872" class="Keyword">where</a> <a id="2878" class="Keyword">open</a> <a id="2883" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="2890" href="Ledger.Conway.Specification.Ledger.html#2817" class="Bound">txb</a>

<a id="rmOrphanDRepVotes"></a><a id="2895" href="Ledger.Conway.Specification.Ledger.html#2895" class="Function">rmOrphanDRepVotes</a> <a id="2913" class="Symbol">:</a> <a id="2915" href="Ledger.Conway.Specification.Certs.html#4252" class="Record">CertState</a> <a id="2925" class="Symbol">→</a> <a id="2927" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a> <a id="2936" class="Symbol">→</a> <a id="2938" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a>
<a id="2947" href="Ledger.Conway.Specification.Ledger.html#2895" class="Function">rmOrphanDRepVotes</a> <a id="2965" href="Ledger.Conway.Specification.Ledger.html#2965" class="Bound">cs</a> <a id="2968" href="Ledger.Conway.Specification.Ledger.html#2968" class="Bound">govSt</a> <a id="2974" class="Symbol">=</a> <a id="2976" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="2982" class="Symbol">(</a><a id="2983" href="Class.Bifunctor.html#1152" class="Function">map₂</a> <a id="2988" href="Ledger.Conway.Specification.Ledger.html#3095" class="Function">go</a><a id="2990" class="Symbol">)</a> <a id="2992" href="Ledger.Conway.Specification.Ledger.html#2968" class="Bound">govSt</a>
  <a id="3000" class="Keyword">where</a>
   <a id="3009" href="Ledger.Conway.Specification.Ledger.html#3009" class="Function">ifDRepRegistered</a> <a id="3026" class="Symbol">:</a> <a id="3028" href="Ledger.Core.Specification.Address.html#260" class="Datatype">Credential</a> <a id="3039" class="Symbol">→</a> <a id="3041" href="Agda.Primitive.html#388" class="Primitive">Type</a>
   <a id="3049" href="Ledger.Conway.Specification.Ledger.html#3009" class="Function">ifDRepRegistered</a> <a id="3066" href="Ledger.Conway.Specification.Ledger.html#3066" class="Bound">c</a> <a id="3068" class="Symbol">=</a> <a id="3070" href="Ledger.Conway.Specification.Ledger.html#3066" class="Bound">c</a> <a id="3072" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="3074" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3078" class="Symbol">(</a><a id="3079" href="Ledger.Conway.Specification.Certs.html#1586" class="Field">DRepsOf</a> <a id="3087" href="Ledger.Conway.Specification.Ledger.html#2965" class="Bound">cs</a><a id="3089" class="Symbol">)</a>

   <a id="3095" href="Ledger.Conway.Specification.Ledger.html#3095" class="Function">go</a> <a id="3098" class="Symbol">:</a> <a id="3100" href="Ledger.Conway.Specification.Gov.Actions.html#3768" class="Record">GovActionState</a> <a id="3115" class="Symbol">→</a> <a id="3117" href="Ledger.Conway.Specification.Gov.Actions.html#3768" class="Record">GovActionState</a>
   <a id="3135" href="Ledger.Conway.Specification.Ledger.html#3095" class="Function">go</a> <a id="3138" href="Ledger.Conway.Specification.Ledger.html#3138" class="Bound">gas</a> <a id="3142" class="Symbol">=</a> <a id="3144" class="Keyword">record</a> <a id="3151" href="Ledger.Conway.Specification.Ledger.html#3138" class="Bound">gas</a> <a id="3155" class="Symbol">{</a> <a id="3157" href="Ledger.Conway.Specification.Gov.Actions.html#3808" class="Field">votes</a> <a id="3163" class="Symbol">=</a> <a id="3165" class="Keyword">record</a> <a id="3172" class="Symbol">(</a><a id="3173" href="Ledger.Conway.Specification.Ledger.html#3138" class="Bound">gas</a> <a id="3177" class="Symbol">.</a><a id="3178" href="Ledger.Conway.Specification.Gov.Actions.html#3808" class="Field">votes</a><a id="3183" class="Symbol">)</a> <a id="3185" class="Symbol">{</a> <a id="3187" href="Ledger.Conway.Specification.Gov.Actions.html#3705" class="Field">gvDRep</a> <a id="3194" class="Symbol">=</a> <a id="3196" href="abstract-set-theory.FiniteSetTheory.html#3310" class="Function">filterKeys</a> <a id="3207" href="Ledger.Conway.Specification.Ledger.html#3009" class="Function">ifDRepRegistered</a> <a id="3224" class="Symbol">(</a><a id="3225" href="Ledger.Conway.Specification.Ledger.html#3138" class="Bound">gas</a> <a id="3229" class="Symbol">.</a><a id="3230" href="Ledger.Conway.Specification.Gov.Actions.html#3808" class="Field">votes</a> <a id="3236" class="Symbol">.</a><a id="3237" href="Ledger.Conway.Specification.Gov.Actions.html#3705" class="Field">gvDRep</a><a id="3243" class="Symbol">)</a> <a id="3245" class="Symbol">}</a> <a id="3247" class="Symbol">}</a>

<a id="allColdCreds"></a><a id="3250" href="Ledger.Conway.Specification.Ledger.html#3250" class="Function">allColdCreds</a> <a id="3263" class="Symbol">:</a> <a id="3265" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a> <a id="3274" class="Symbol">→</a> <a id="3276" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a> <a id="3287" class="Symbol">→</a> <a id="3289" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3291" href="Ledger.Core.Specification.Address.html#260" class="Datatype">Credential</a>
<a id="3302" href="Ledger.Conway.Specification.Ledger.html#3250" class="Function">allColdCreds</a> <a id="3315" href="Ledger.Conway.Specification.Ledger.html#3315" class="Bound">govSt</a> <a id="3321" href="Ledger.Conway.Specification.Ledger.html#3321" class="Bound">es</a> <a id="3324" class="Symbol">=</a>
  <a id="3328" href="Ledger.Conway.Specification.Enact.html#1366" class="Function">ccCreds</a> <a id="3336" class="Symbol">(</a><a id="3337" href="Ledger.Conway.Specification.Ledger.html#3321" class="Bound">es</a> <a id="3340" class="Symbol">.</a><a id="3341" href="Ledger.Conway.Specification.Enact.html#484" class="Field">cc</a><a id="3343" class="Symbol">)</a> <a id="3345" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="3347" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="3358" class="Symbol">(λ</a> <a id="3361" class="Symbol">(_</a> <a id="3364" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3366" href="Ledger.Conway.Specification.Ledger.html#3366" class="Bound">st</a><a id="3368" class="Symbol">)</a> <a id="3370" class="Symbol">→</a> <a id="3372" href="Ledger.Conway.Specification.Gov.Actions.html#6254" class="Function">proposedCC</a> <a id="3383" class="Symbol">(</a><a id="3384" href="Ledger.Conway.Specification.Gov.Actions.html#2115" class="Field">GovActionOf</a> <a id="3396" href="Ledger.Conway.Specification.Ledger.html#3366" class="Bound">st</a><a id="3398" class="Symbol">))</a> <a id="3401" class="Symbol">(</a><a id="3402" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="3411" href="Ledger.Conway.Specification.Ledger.html#3315" class="Bound">govSt</a><a id="3416" class="Symbol">)</a>


<a id="3420" class="Keyword">private</a> <a id="3428" class="Keyword">variable</a>
  <a id="3439" href="Ledger.Conway.Specification.Ledger.html#3439" class="Generalizable">Γ</a>                     <a id="3461" class="Symbol">:</a> <a id="3463" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a>
  <a id="3470" href="Ledger.Conway.Specification.Ledger.html#3470" class="Generalizable">s</a> <a id="3472" href="Ledger.Conway.Specification.Ledger.html#3472" class="Generalizable">s&#39;</a> <a id="3475" href="Ledger.Conway.Specification.Ledger.html#3475" class="Generalizable">s&#39;&#39;</a>              <a id="3492" class="Symbol">:</a> <a id="3494" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="3503" href="Ledger.Conway.Specification.Ledger.html#3503" class="Generalizable">utxoSt</a> <a id="3510" href="Ledger.Conway.Specification.Ledger.html#3510" class="Generalizable">utxoSt&#39;</a>        <a id="3525" class="Symbol">:</a> <a id="3527" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">UTxOState</a>
  <a id="3539" href="Ledger.Conway.Specification.Ledger.html#3539" class="Generalizable">govSt</a> <a id="3545" href="Ledger.Conway.Specification.Ledger.html#3545" class="Generalizable">govSt&#39;</a>          <a id="3561" class="Symbol">:</a> <a id="3563" href="Ledger.Conway.Specification.Gov.html#1479" class="Function">GovState</a>
  <a id="3574" href="Ledger.Conway.Specification.Ledger.html#3574" class="Generalizable">certState</a> <a id="3584" href="Ledger.Conway.Specification.Ledger.html#3584" class="Generalizable">certState&#39;</a>  <a id="3596" class="Symbol">:</a> <a id="3598" href="Ledger.Conway.Specification.Certs.html#4252" class="Record">CertState</a>
  <a id="3610" href="Ledger.Conway.Specification.Ledger.html#3610" class="Generalizable">tx</a>                    <a id="3632" class="Symbol">:</a> <a id="3634" href="Ledger.Conway.Specification.Transaction.html#4682" class="Record">Tx</a>
  <a id="3639" href="Ledger.Conway.Specification.Ledger.html#3639" class="Generalizable">slot</a>                  <a id="3661" class="Symbol">:</a> <a id="3663" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a>
  <a id="3670" href="Ledger.Conway.Specification.Ledger.html#3670" class="Generalizable">ppolicy</a>               <a id="3692" class="Symbol">:</a> <a id="3694" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3700" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
  <a id="3713" href="Ledger.Conway.Specification.Ledger.html#3713" class="Generalizable">pp</a>                    <a id="3735" class="Symbol">:</a> <a id="3737" href="Ledger.Conway.Specification.PParams.html#1685" class="Record">PParams</a>
  <a id="3747" href="Ledger.Conway.Specification.Ledger.html#3747" class="Generalizable">enactState</a>            <a id="3769" class="Symbol">:</a> <a id="3771" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a>
  <a id="3784" href="Ledger.Conway.Specification.Ledger.html#3784" class="Generalizable">treasury</a>              <a id="3806" class="Symbol">:</a> <a id="3808" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="3819" class="Keyword">data</a> <a id="_⊢_⇀⦇_,LEDGER⦈_"></a><a id="3824" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="3840" class="Symbol">:</a> <a id="3842" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="3847" class="Symbol">→</a> <a id="3849" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a> <a id="3856" class="Symbol">→</a> <a id="3858" href="Ledger.Conway.Specification.Transaction.html#4682" class="Record">Tx</a> <a id="3861" class="Symbol">→</a> <a id="3863" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a> <a id="3870" class="Symbol">→</a> <a id="3872" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3877" class="Keyword">where</a>
  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-V"></a><a id="3885" href="Ledger.Conway.Specification.Ledger.html#3885" class="InductiveConstructor">LEDGER-V</a> <a id="3894" class="Symbol">:</a>
    <a id="3900" class="Keyword">let</a>  <a id="3905" href="Ledger.Conway.Specification.Ledger.html#3905" class="Bound">txb</a> <a id="3909" class="Symbol">=</a> <a id="3911" href="Ledger.Conway.Specification.Ledger.html#3610" class="Generalizable">tx</a> <a id="3914" class="Symbol">.</a><a id="3915" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a>


         <a id="3931" class="Keyword">open</a> <a id="3936" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="3943" href="Ledger.Conway.Specification.Ledger.html#3905" class="Bound">txb</a>


    <a id="3953" class="Keyword">in</a>
      <a id="3962" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3964" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="3972" href="Ledger.Conway.Specification.Ledger.html#3610" class="Generalizable">tx</a> <a id="3975" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3977" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3988" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3639}{\htmlId{3992}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3713}{\htmlId{3999}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3784}{\htmlId{4004}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a>  <a id="4016" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⊢</a> <a id="4018" href="Ledger.Conway.Specification.Ledger.html#3503" class="Generalizable">utxoSt</a> <a id="4025" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="4028" href="Ledger.Conway.Specification.Ledger.html#3610" class="Generalizable">tx</a> <a id="4031" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="4039" href="Ledger.Conway.Specification.Ledger.html#3510" class="Generalizable">utxoSt&#39;</a>
      <a id="4053" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#810}{\htmlId{4057}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3639}{\htmlId{4063}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3713}{\htmlId{4070}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3463}{\htmlId{4075}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3288}{\htmlId{4088}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3250}{\htmlId{4104}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3539}{\htmlId{4117}{\htmlClass{Generalizable}{\text{govSt}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3747}{\htmlId{4123}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="4136" href="Ledger.Conway.Specification.Certs.html#11985" class="Function Operator">⊢</a> <a id="4138" href="Ledger.Conway.Specification.Ledger.html#3574" class="Generalizable">certState</a> <a id="4148" href="Ledger.Conway.Specification.Certs.html#11985" class="Function Operator">⇀⦇</a> <a id="4151" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="4159" href="Ledger.Conway.Specification.Certs.html#11985" class="Function Operator">,CERTS⦈</a> <a id="4167" href="Ledger.Conway.Specification.Ledger.html#3584" class="Generalizable">certState&#39;</a>
      <a id="4184" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Transaction.html#3180}{\htmlId{4188}{\htmlClass{Function}{\text{txId}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#810}{\htmlId{4195}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3639}{\htmlId{4201}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3713}{\htmlId{4208}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3670}{\htmlId{4213}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3747}{\htmlId{4223}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3584}{\htmlId{4236}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{4249}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{4253}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Certs.html#1828}{\htmlId{4254}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#3574}{\htmlId{4264}{\htmlClass{Generalizable}{\text{certState}}}}\,\,\htmlId{4273}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="4277" href="Ledger.Conway.Specification.Gov.html#16539" class="Function Operator">⊢</a> <a id="4279" href="Ledger.Conway.Specification.Ledger.html#2895" class="Function">rmOrphanDRepVotes</a> <a id="4297" href="Ledger.Conway.Specification.Ledger.html#3584" class="Generalizable">certState&#39;</a> <a id="4308" href="Ledger.Conway.Specification.Ledger.html#3539" class="Generalizable">govSt</a> <a id="4314" href="Ledger.Conway.Specification.Gov.html#16539" class="Function Operator">⇀⦇</a> <a id="4317" href="Ledger.Conway.Specification.Ledger.html#2765" class="Function">txgov</a> <a id="4323" href="Ledger.Conway.Specification.Ledger.html#3905" class="Bound">txb</a> <a id="4327" href="Ledger.Conway.Specification.Gov.html#16539" class="Function Operator">,GOVS⦈</a> <a id="4334" href="Ledger.Conway.Specification.Ledger.html#3545" class="Generalizable">govSt&#39;</a>
      <a id="4347" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3639}{\htmlId{4388}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3670}{\htmlId{4395}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3713}{\htmlId{4405}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3747}{\htmlId{4410}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3784}{\htmlId{4423}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4434" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3503}{\htmlId{4438}{\htmlClass{Generalizable}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3539}{\htmlId{4447}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3574}{\htmlId{4455}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="4467" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="4470" href="Ledger.Conway.Specification.Ledger.html#3610" class="Generalizable">tx</a> <a id="4473" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3510}{\htmlId{4484}{\htmlClass{Generalizable}{\text{utxoSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3545}{\htmlId{4494}{\htmlClass{Generalizable}{\text{govSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3584}{\htmlId{4503}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-I"></a><a id="4519" href="Ledger.Conway.Specification.Ledger.html#4519" class="InductiveConstructor">LEDGER-I</a> <a id="4528" class="Symbol">:</a>
      <a id="4536" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4538" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="4546" href="Ledger.Conway.Specification.Ledger.html#3610" class="Generalizable">tx</a> <a id="4549" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4551" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
      <a id="4563" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3639}{\htmlId{4567}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3713}{\htmlId{4574}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3784}{\htmlId{4579}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4590" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⊢</a> <a id="4592" href="Ledger.Conway.Specification.Ledger.html#3503" class="Generalizable">utxoSt</a> <a id="4599" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="4602" href="Ledger.Conway.Specification.Ledger.html#3610" class="Generalizable">tx</a> <a id="4605" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="4613" href="Ledger.Conway.Specification.Ledger.html#3510" class="Generalizable">utxoSt&#39;</a>
      <a id="4627" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3639}{\htmlId{4668}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3670}{\htmlId{4675}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3713}{\htmlId{4685}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3747}{\htmlId{4690}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3784}{\htmlId{4703}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="4714" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3503}{\htmlId{4718}{\htmlClass{Generalizable}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3539}{\htmlId{4727}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3574}{\htmlId{4735}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="4747" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">⇀⦇</a> <a id="4750" href="Ledger.Conway.Specification.Ledger.html#3610" class="Generalizable">tx</a> <a id="4753" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#3510}{\htmlId{4764}{\htmlClass{Generalizable}{\text{utxoSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3539}{\htmlId{4774}{\htmlClass{Generalizable}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#3574}{\htmlId{4782}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a>


<a id="4796" class="Keyword">pattern</a> <a id="LEDGER-V⋯"></a><a id="4804" href="Ledger.Conway.Specification.Ledger.html#4804" class="InductiveConstructor">LEDGER-V⋯</a> <a id="4814" href="Ledger.Conway.Specification.Ledger.html#4834" class="Bound">w</a> <a id="4816" href="Ledger.Conway.Specification.Ledger.html#4838" class="Bound">x</a> <a id="4818" href="Ledger.Conway.Specification.Ledger.html#4842" class="Bound">y</a> <a id="4820" href="Ledger.Conway.Specification.Ledger.html#4846" class="Bound">z</a> <a id="4822" class="Symbol">=</a> <a id="4824" href="Ledger.Conway.Specification.Ledger.html#3885" class="InductiveConstructor">LEDGER-V</a> <a id="4833" class="Symbol">(</a><a id="4834" href="Ledger.Conway.Specification.Ledger.html#4834" class="Bound">w</a> <a id="4836" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4838" href="Ledger.Conway.Specification.Ledger.html#4838" class="Bound">x</a> <a id="4840" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4842" href="Ledger.Conway.Specification.Ledger.html#4842" class="Bound">y</a> <a id="4844" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4846" href="Ledger.Conway.Specification.Ledger.html#4846" class="Bound">z</a><a id="4847" class="Symbol">)</a>
<a id="4849" class="Keyword">pattern</a> <a id="LEDGER-I⋯"></a><a id="4857" href="Ledger.Conway.Specification.Ledger.html#4857" class="InductiveConstructor">LEDGER-I⋯</a> <a id="4867" href="Ledger.Conway.Specification.Ledger.html#4887" class="Bound">y</a> <a id="4869" href="Ledger.Conway.Specification.Ledger.html#4891" class="Bound">z</a>     <a id="4875" class="Symbol">=</a> <a id="4877" href="Ledger.Conway.Specification.Ledger.html#4519" class="InductiveConstructor">LEDGER-I</a> <a id="4886" class="Symbol">(</a><a id="4887" href="Ledger.Conway.Specification.Ledger.html#4887" class="Bound">y</a> <a id="4889" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4891" href="Ledger.Conway.Specification.Ledger.html#4891" class="Bound">z</a><a id="4892" class="Symbol">)</a>


<a id="_⊢_⇀⦇_,LEDGERS⦈_"></a><a id="4896" href="Ledger.Conway.Specification.Ledger.html#4896" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4913" class="Symbol">:</a> <a id="4915" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a> <a id="4920" class="Symbol">→</a> <a id="4922" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a> <a id="4929" class="Symbol">→</a> <a id="4931" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4936" href="Ledger.Conway.Specification.Transaction.html#4682" class="Record">Tx</a> <a id="4939" class="Symbol">→</a> <a id="4941" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a> <a id="4948" class="Symbol">→</a> <a id="4950" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="4955" href="Ledger.Conway.Specification.Ledger.html#4896" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4972" class="Symbol">=</a> <a id="4974" href="Interface.STS.html#2048" class="Function">ReflexiveTransitiveClosure</a> <a id="5001" class="Symbol">{</a><a id="5002" class="Argument">sts</a> <a id="5006" class="Symbol">=</a> <a id="5008" href="Ledger.Conway.Specification.Ledger.html#3824" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a><a id="5023" class="Symbol">}</a>

</pre></body></html>