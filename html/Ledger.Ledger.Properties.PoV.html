<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Ledger.Properties.PoV</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="57" class="Keyword">open</a> <a id="62" class="Keyword">import</a> <a id="69" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>

<a id="86" class="Keyword">module</a> <a id="93" href="Ledger.Ledger.Properties.PoV.html" class="Module">Ledger.Ledger.Properties.PoV</a>
  <a id="124" class="Symbol">(</a><a id="125" href="Ledger.Ledger.Properties.PoV.html#125" class="Bound">txs</a> <a id="129" class="Symbol">:</a> <a id="131" class="Symbol">_)</a> <a id="134" class="Symbol">(</a><a id="135" class="Keyword">open</a> <a id="140" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="161" href="Ledger.Ledger.Properties.PoV.html#125" class="Bound">txs</a><a id="164" class="Symbol">)</a>
  <a id="168" class="Symbol">(</a><a id="169" href="Ledger.Ledger.Properties.PoV.html#169" class="Bound">abs</a> <a id="173" class="Symbol">:</a> <a id="175" href="Ledger.Abstract.html#578" class="Record">AbstractFunctions</a> <a id="193" href="Ledger.Ledger.Properties.PoV.html#125" class="Bound">txs</a><a id="196" class="Symbol">)</a> <a id="198" class="Symbol">(</a><a id="199" class="Keyword">open</a> <a id="204" href="Ledger.Abstract.html#578" class="Module">AbstractFunctions</a> <a id="222" href="Ledger.Ledger.Properties.PoV.html#169" class="Bound">abs</a><a id="225" class="Symbol">)</a>
  <a id="229" class="Keyword">where</a>


<a id="237" class="Keyword">open</a> <a id="242" class="Keyword">import</a> <a id="249" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="262" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="275" class="Keyword">open</a> <a id="280" class="Keyword">import</a> <a id="287" href="Ledger.Chain.html" class="Module">Ledger.Chain</a> <a id="300" href="Ledger.Ledger.Properties.PoV.html#125" class="Bound">txs</a> <a id="304" href="Ledger.Ledger.Properties.PoV.html#169" class="Bound">abs</a>
<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="Ledger.Certs.Properties.html" class="Module">Ledger.Certs.Properties</a> <a id="344" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Ledger.Ledger.html" class="Module">Ledger.Ledger</a> <a id="383" href="Ledger.Ledger.Properties.PoV.html#125" class="Bound">txs</a> <a id="387" href="Ledger.Ledger.Properties.PoV.html#169" class="Bound">abs</a>
<a id="391" class="Keyword">open</a> <a id="396" class="Keyword">import</a> <a id="403" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="418" class="Keyword">open</a> <a id="423" class="Keyword">import</a> <a id="430" href="Ledger.Utxo.html" class="Module">Ledger.Utxo</a> <a id="442" href="Ledger.Ledger.Properties.PoV.html#125" class="Bound">txs</a> <a id="446" href="Ledger.Ledger.Properties.PoV.html#169" class="Bound">abs</a>
<a id="450" class="Keyword">open</a> <a id="455" class="Keyword">import</a> <a id="462" href="Ledger.Utxo.Properties.html" class="Module">Ledger.Utxo.Properties</a> <a id="485" href="Ledger.Ledger.Properties.PoV.html#125" class="Bound">txs</a> <a id="489" href="Ledger.Ledger.Properties.PoV.html#169" class="Bound">abs</a> <a id="493" class="Keyword">using</a> <a id="499" class="Symbol">(</a><a id="500" href="Ledger.Utxo.Properties.html#13527" class="Function">χ</a><a id="501" class="Symbol">;</a> <a id="503" class="Keyword">module</a> <a id="510" href="Ledger.Utxo.Properties.html#13574" class="Module">DepositHelpers</a><a id="524" class="Symbol">)</a>
<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Ledger.Utxo.Properties.PoV.html" class="Module">Ledger.Utxo.Properties.PoV</a> <a id="565" href="Ledger.Ledger.Properties.PoV.html#125" class="Bound">txs</a> <a id="569" href="Ledger.Ledger.Properties.PoV.html#169" class="Bound">abs</a>
<a id="573" class="Keyword">open</a> <a id="578" class="Keyword">import</a> <a id="585" href="Ledger.Utxow.html" class="Module">Ledger.Utxow</a> <a id="598" href="Ledger.Ledger.Properties.PoV.html#125" class="Bound">txs</a> <a id="602" href="Ledger.Ledger.Properties.PoV.html#169" class="Bound">abs</a>

<a id="607" class="Keyword">open</a> <a id="612" class="Keyword">import</a> <a id="619" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="640" href="Axiom.Set.html#10669" class="Function">th</a>

<a id="644" class="Keyword">open</a> <a id="649" class="Keyword">import</a> <a id="656" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="676" class="Keyword">using</a> <a id="682" class="Symbol">(</a><a id="683" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="693" class="Symbol">;</a> <a id="695" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a><a id="706" class="Symbol">;</a> <a id="708" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a><a id="714" class="Symbol">;</a> <a id="716" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a><a id="723" class="Symbol">;</a> <a id="725" href="Data.Nat.Properties.html#21834" class="Function">*-identityʳ</a><a id="736" class="Symbol">;</a> <a id="738" href="Data.Nat.Properties.html#22054" class="Function">*-zeroʳ</a><a id="745" class="Symbol">)</a>

<a id="748" class="Comment">-- ** Proof that LEDGER preserves values.</a>

<a id="791" class="Keyword">instance</a>
  <a id="HasCoin-LState"></a><a id="802" href="Ledger.Ledger.Properties.PoV.html#802" class="Function">HasCoin-LState</a> <a id="817" class="Symbol">:</a> <a id="819" href="Ledger.Interface.HasCoin.html#124" class="Record">HasCoin</a> <a id="827" href="Ledger.Ledger.html#809" class="Record">LState</a>
  <a id="836" href="Ledger.Ledger.Properties.PoV.html#802" class="Function">HasCoin-LState</a> <a id="851" class="Symbol">.</a><a id="852" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="860" href="Ledger.Ledger.Properties.PoV.html#860" class="Bound">s</a> <a id="862" class="Symbol">=</a> <a id="864" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="872" class="Symbol">(</a><a id="873" href="Ledger.Ledger.html#868" class="Field">LState.utxoSt</a> <a id="887" href="Ledger.Ledger.Properties.PoV.html#860" class="Bound">s</a><a id="888" class="Symbol">)</a> <a id="890" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="892" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="900" class="Symbol">(</a><a id="901" href="Ledger.Ledger.html#921" class="Field">LState.certState</a> <a id="918" href="Ledger.Ledger.Properties.PoV.html#860" class="Bound">s</a><a id="919" class="Symbol">)</a>

<a id="922" class="Keyword">module</a> <a id="929" href="Ledger.Ledger.Properties.PoV.html#929" class="Module">_</a>
  <a id="933" class="Symbol">(</a><a id="934" href="Ledger.Ledger.Properties.PoV.html#934" class="Bound">tx</a> <a id="937" class="Symbol">:</a> <a id="939" href="Ledger.Transaction.html#4221" class="Record">Tx</a><a id="941" class="Symbol">)</a> <a id="943" class="Symbol">(</a><a id="944" class="Keyword">let</a> <a id="948" class="Keyword">open</a> <a id="953" href="Ledger.Transaction.html#4221" class="Module">Tx</a> <a id="956" href="Ledger.Ledger.Properties.PoV.html#934" class="Bound">tx</a><a id="958" class="Symbol">;</a> <a id="960" class="Keyword">open</a> <a id="965" href="Ledger.Transaction.html#2677" class="Module">TxBody</a> <a id="972" href="Ledger.Transaction.html#4253" class="Field">body</a><a id="976" class="Symbol">)</a>
  <a id="980" class="Symbol">(</a> <a id="982" href="Ledger.Ledger.Properties.PoV.html#982" class="Bound">indexedSumᵛ&#39;-∪</a>  <a id="998" class="Symbol">:</a>  <a id="1001" class="Symbol">{</a><a id="1002" href="Ledger.Ledger.Properties.PoV.html#1002" class="Bound">A</a> <a id="1004" class="Symbol">:</a> <a id="1006" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1010" class="Symbol">}</a> <a id="1012" class="Symbol">⦃</a> <a id="1014" href="Ledger.Ledger.Properties.PoV.html#1014" class="Bound">_</a> <a id="1016" class="Symbol">:</a> <a id="1018" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1024" href="Ledger.Ledger.Properties.PoV.html#1002" class="Bound">A</a> <a id="1026" class="Symbol">⦄</a> <a id="1028" class="Symbol">(</a><a id="1029" href="Ledger.Ledger.Properties.PoV.html#1029" class="Bound">m</a> <a id="1031" href="Ledger.Ledger.Properties.PoV.html#1031" class="Bound">m&#39;</a> <a id="1034" class="Symbol">:</a> <a id="1036" href="Ledger.Ledger.Properties.PoV.html#1002" class="Bound">A</a> <a id="1038" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1040" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1044" class="Symbol">)</a>
                       <a id="1069" class="Symbol">→</a> <a id="1071" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="1080" class="Symbol">(</a><a id="1081" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1085" href="Ledger.Ledger.Properties.PoV.html#1029" class="Bound">m</a><a id="1086" class="Symbol">)</a> <a id="1088" class="Symbol">(</a><a id="1089" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1093" href="Ledger.Ledger.Properties.PoV.html#1031" class="Bound">m&#39;</a><a id="1095" class="Symbol">)</a> <a id="1097" class="Symbol">→</a> <a id="1099" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1107" class="Symbol">(</a><a id="1108" href="Ledger.Ledger.Properties.PoV.html#1029" class="Bound">m</a> <a id="1110" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1113" href="Ledger.Ledger.Properties.PoV.html#1031" class="Bound">m&#39;</a><a id="1115" class="Symbol">)</a> <a id="1117" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1119" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1127" href="Ledger.Ledger.Properties.PoV.html#1029" class="Bound">m</a> <a id="1129" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="1131" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1139" href="Ledger.Ledger.Properties.PoV.html#1031" class="Bound">m&#39;</a> <a id="1142" class="Symbol">)</a>
  <a id="1146" class="Symbol">(</a> <a id="1148" href="Ledger.Ledger.Properties.PoV.html#1148" class="Bound">sumConstZero</a>    <a id="1164" class="Symbol">:</a>  <a id="1167" class="Symbol">{</a><a id="1168" href="Ledger.Ledger.Properties.PoV.html#1168" class="Bound">A</a> <a id="1170" class="Symbol">:</a> <a id="1172" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1176" class="Symbol">}</a> <a id="1178" class="Symbol">⦃</a> <a id="1180" href="Ledger.Ledger.Properties.PoV.html#1180" class="Bound">_</a> <a id="1182" class="Symbol">:</a> <a id="1184" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1190" href="Ledger.Ledger.Properties.PoV.html#1168" class="Bound">A</a> <a id="1192" class="Symbol">⦄</a> <a id="1194" class="Symbol">{</a><a id="1195" href="Ledger.Ledger.Properties.PoV.html#1195" class="Bound">X</a> <a id="1197" class="Symbol">:</a> <a id="1199" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1201" href="Ledger.Ledger.Properties.PoV.html#1168" class="Bound">A</a><a id="1202" class="Symbol">}</a> <a id="1204" class="Symbol">→</a> <a id="1206" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1214" class="Symbol">(</a><a id="1215" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="1224" href="Ledger.Ledger.Properties.PoV.html#1195" class="Bound">X</a> <a id="1226" class="Number">0</a><a id="1227" class="Symbol">)</a> <a id="1229" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1231" class="Number">0</a> <a id="1233" class="Symbol">)</a>
  <a id="1237" class="Symbol">(</a> <a id="1239" href="Ledger.Ledger.Properties.PoV.html#1239" class="Bound">res-decomp</a>      <a id="1255" class="Symbol">:</a>  <a id="1258" class="Symbol">{</a><a id="1259" href="Ledger.Ledger.Properties.PoV.html#1259" class="Bound">A</a> <a id="1261" class="Symbol">:</a> <a id="1263" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1267" class="Symbol">}</a> <a id="1269" class="Symbol">⦃</a> <a id="1271" href="Ledger.Ledger.Properties.PoV.html#1271" class="Bound">_</a> <a id="1273" class="Symbol">:</a> <a id="1275" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1281" href="Ledger.Ledger.Properties.PoV.html#1259" class="Bound">A</a> <a id="1283" class="Symbol">⦄</a> <a id="1285" class="Symbol">(</a><a id="1286" href="Ledger.Ledger.Properties.PoV.html#1286" class="Bound">m</a> <a id="1288" href="Ledger.Ledger.Properties.PoV.html#1288" class="Bound">m&#39;</a> <a id="1291" class="Symbol">:</a> <a id="1293" href="Ledger.Ledger.Properties.PoV.html#1259" class="Bound">A</a> <a id="1295" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1297" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1301" class="Symbol">)</a>
                       <a id="1326" class="Symbol">→</a> <a id="1328" class="Symbol">(</a><a id="1329" href="Ledger.Ledger.Properties.PoV.html#1286" class="Bound">m</a> <a id="1331" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1334" href="Ledger.Ledger.Properties.PoV.html#1288" class="Bound">m&#39;</a><a id="1336" class="Symbol">)</a><a id="1337" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1339" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="1342" class="Symbol">(</a><a id="1343" href="Ledger.Ledger.Properties.PoV.html#1286" class="Bound">m</a> <a id="1345" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1348" class="Symbol">(</a><a id="1349" href="Ledger.Ledger.Properties.PoV.html#1288" class="Bound">m&#39;</a> <a id="1352" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="1354" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1358" class="Symbol">(</a><a id="1359" href="Ledger.Ledger.Properties.PoV.html#1286" class="Bound">m</a> <a id="1361" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1362" class="Symbol">)</a> <a id="1364" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="1365" class="Symbol">))</a><a id="1367" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1369" class="Symbol">)</a>
  <a id="1373" class="Symbol">(</a> <a id="1375" href="Ledger.Ledger.Properties.PoV.html#1375" class="Bound">getCoin-cong</a>    <a id="1391" class="Symbol">:</a>  <a id="1394" class="Symbol">{</a><a id="1395" href="Ledger.Ledger.Properties.PoV.html#1395" class="Bound">A</a> <a id="1397" class="Symbol">:</a> <a id="1399" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1403" class="Symbol">}</a> <a id="1405" class="Symbol">⦃</a> <a id="1407" href="Ledger.Ledger.Properties.PoV.html#1407" class="Bound">_</a> <a id="1409" class="Symbol">:</a> <a id="1411" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1417" href="Ledger.Ledger.Properties.PoV.html#1395" class="Bound">A</a> <a id="1419" class="Symbol">⦄</a> <a id="1421" class="Symbol">(</a><a id="1422" href="Ledger.Ledger.Properties.PoV.html#1422" class="Bound">s</a> <a id="1424" class="Symbol">:</a> <a id="1426" href="Ledger.Ledger.Properties.PoV.html#1395" class="Bound">A</a> <a id="1428" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1430" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1434" class="Symbol">)</a> <a id="1436" class="Symbol">(</a><a id="1437" href="Ledger.Ledger.Properties.PoV.html#1437" class="Bound">s&#39;</a> <a id="1440" class="Symbol">:</a> <a id="1442" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1444" class="Symbol">(</a><a id="1445" href="Ledger.Ledger.Properties.PoV.html#1395" class="Bound">A</a> <a id="1447" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1449" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1453" class="Symbol">))</a> <a id="1456" class="Symbol">→</a> <a id="1458" href="Ledger.Ledger.Properties.PoV.html#1422" class="Bound">s</a> <a id="1460" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1462" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="1465" href="Ledger.Ledger.Properties.PoV.html#1437" class="Bound">s&#39;</a>
                       <a id="1491" class="Symbol">→</a> <a id="1493" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="1505" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1511" class="Symbol">(</a><a id="1512" href="Ledger.Ledger.Properties.PoV.html#1422" class="Bound">s</a> <a id="1514" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1515" class="Symbol">)</a> <a id="1517" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1519" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="1531" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1537" href="Ledger.Ledger.Properties.PoV.html#1437" class="Bound">s&#39;</a> <a id="1540" class="Symbol">)</a>
  <a id="1544" class="Symbol">(</a> <a id="1546" href="Ledger.Ledger.Properties.PoV.html#1546" class="Bound">≡ᵉ-getCoinˢ</a>     <a id="1562" class="Symbol">:</a>  <a id="1565" class="Symbol">{</a><a id="1566" href="Ledger.Ledger.Properties.PoV.html#1566" class="Bound">A</a> <a id="1568" href="Ledger.Ledger.Properties.PoV.html#1568" class="Bound">A&#39;</a> <a id="1571" class="Symbol">:</a> <a id="1573" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1577" class="Symbol">}</a> <a id="1579" class="Symbol">⦃</a> <a id="1581" href="Ledger.Ledger.Properties.PoV.html#1581" class="Bound">_</a> <a id="1583" class="Symbol">:</a> <a id="1585" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1591" href="Ledger.Ledger.Properties.PoV.html#1566" class="Bound">A</a> <a id="1593" class="Symbol">⦄</a> <a id="1595" class="Symbol">⦃</a> <a id="1597" href="Ledger.Ledger.Properties.PoV.html#1597" class="Bound">_</a> <a id="1599" class="Symbol">:</a> <a id="1601" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1607" href="Ledger.Ledger.Properties.PoV.html#1568" class="Bound">A&#39;</a> <a id="1610" class="Symbol">⦄</a> <a id="1612" class="Symbol">(</a><a id="1613" href="Ledger.Ledger.Properties.PoV.html#1613" class="Bound">s</a> <a id="1615" class="Symbol">:</a> <a id="1617" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1619" class="Symbol">(</a><a id="1620" href="Ledger.Ledger.Properties.PoV.html#1566" class="Bound">A</a> <a id="1622" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1624" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1628" class="Symbol">))</a> <a id="1631" class="Symbol">{</a><a id="1632" href="Ledger.Ledger.Properties.PoV.html#1632" class="Bound">f</a> <a id="1634" class="Symbol">:</a> <a id="1636" href="Ledger.Ledger.Properties.PoV.html#1566" class="Bound">A</a> <a id="1638" class="Symbol">→</a> <a id="1640" href="Ledger.Ledger.Properties.PoV.html#1568" class="Bound">A&#39;</a><a id="1642" class="Symbol">}</a>
                       <a id="1667" class="Symbol">→</a> <a id="1669" href="Axiom.Set.Map.html#5071" class="Function">InjectiveOn</a> <a id="1681" class="Symbol">(</a><a id="1682" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1686" href="Ledger.Ledger.Properties.PoV.html#1613" class="Bound">s</a><a id="1687" class="Symbol">)</a> <a id="1689" href="Ledger.Ledger.Properties.PoV.html#1632" class="Bound">f</a> <a id="1691" class="Symbol">→</a> <a id="1693" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1701" class="Symbol">(</a><a id="1702" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="1707" class="Symbol">(</a><a id="1708" href="Class.Bifunctor.html#1045" class="Function">map₁</a> <a id="1713" href="Ledger.Ledger.Properties.PoV.html#1632" class="Bound">f</a><a id="1714" class="Symbol">)</a> <a id="1716" href="Ledger.Ledger.Properties.PoV.html#1613" class="Bound">s</a><a id="1717" class="Symbol">)</a> <a id="1719" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1721" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1729" href="Ledger.Ledger.Properties.PoV.html#1613" class="Bound">s</a> <a id="1731" class="Symbol">)</a>
  <a id="1735" class="Keyword">where</a>

  <a id="1744" class="Keyword">pattern</a> <a id="1752" href="Ledger.Ledger.Properties.PoV.html#1752" class="InductiveConstructor">UTXO-induction</a> <a id="1767" href="Ledger.Ledger.Properties.PoV.html#1819" class="Bound">r</a> <a id="1769" class="Symbol">=</a> <a id="1771" href="Ledger.Utxo.html#15387" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="1787" class="Symbol">_</a> <a id="1789" class="Symbol">_</a> <a id="1791" class="Symbol">_</a> <a id="1793" class="Symbol">_</a> <a id="1795" class="Symbol">_</a> <a id="1797" class="Symbol">_</a> <a id="1799" class="Symbol">_</a> <a id="1801" class="Symbol">_</a> <a id="1803" class="Symbol">_</a> <a id="1805" class="Symbol">_</a> <a id="1807" class="Symbol">_</a> <a id="1809" class="Symbol">_</a> <a id="1811" class="Symbol">_</a> <a id="1813" class="Symbol">_</a> <a id="1815" class="Symbol">_</a> <a id="1817" class="Symbol">_</a> <a id="1819" href="Ledger.Ledger.Properties.PoV.html#1819" class="Bound">r</a> <a id="1821" class="Symbol">_</a> <a id="1823" class="Symbol">_</a> <a id="1825" class="Symbol">_</a>



  <a id="1832" href="Ledger.Ledger.Properties.PoV.html#1832" class="Function">LEDGER-pov</a> <a id="1843" class="Symbol">:</a> <a id="1845" class="Symbol">{</a><a id="1846" href="Ledger.Ledger.Properties.PoV.html#1846" class="Bound">Γ</a> <a id="1848" class="Symbol">:</a> <a id="1850" href="Ledger.Ledger.html#545" class="Record">LEnv</a><a id="1854" class="Symbol">}</a> <a id="1856" class="Symbol">{</a><a id="1857" href="Ledger.Ledger.Properties.PoV.html#1857" class="Bound">s</a> <a id="1859" href="Ledger.Ledger.Properties.PoV.html#1859" class="Bound">s&#39;</a> <a id="1862" class="Symbol">:</a> <a id="1864" href="Ledger.Ledger.html#809" class="Record">LState</a><a id="1870" class="Symbol">}</a>
    <a id="1876" class="Symbol">→</a> <a id="1878" href="Ledger.Transaction.html#3245" class="Function">txid</a> <a id="1883" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="1885" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="1890" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1896" class="Symbol">(</a><a id="1897" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1901" class="Symbol">(</a><a id="1902" href="Ledger.Transaction.html#2620" class="Field">UTxOOf</a> <a id="1909" href="Ledger.Ledger.Properties.PoV.html#1857" class="Bound">s</a><a id="1910" class="Symbol">))</a>
    <a id="1917" class="Symbol">→</a> <a id="1919" href="Ledger.Ledger.Properties.PoV.html#1846" class="Bound">Γ</a> <a id="1921" href="Ledger.Ledger.html#2581" class="Datatype Operator">⊢</a> <a id="1923" href="Ledger.Ledger.Properties.PoV.html#1857" class="Bound">s</a> <a id="1925" href="Ledger.Ledger.html#2581" class="Datatype Operator">⇀⦇</a> <a id="1928" href="Ledger.Ledger.Properties.PoV.html#934" class="Bound">tx</a> <a id="1931" href="Ledger.Ledger.html#2581" class="Datatype Operator">,LEDGER⦈</a> <a id="1940" href="Ledger.Ledger.Properties.PoV.html#1859" class="Bound">s&#39;</a> <a id="1943" class="Symbol">→</a> <a id="1945" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1953" href="Ledger.Ledger.Properties.PoV.html#1857" class="Bound">s</a> <a id="1955" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1957" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1965" href="Ledger.Ledger.Properties.PoV.html#1859" class="Bound">s&#39;</a>


  <a id="1972" class="Comment">-- Proof.</a>
  <a id="1984" href="Ledger.Ledger.Properties.PoV.html#1832" class="Function">LEDGER-pov</a>
    <a id="1999" class="Symbol">{</a><a id="2000" class="Argument">s</a>  <a id="2003" class="Symbol">=</a> <a id="2005" href="Ledger.Ledger.Properties.PoV.html#2005" class="Bound">s</a><a id="2006" class="Symbol">}</a>
    <a id="2012" class="Symbol">{</a><a id="2013" class="Argument">s&#39;</a> <a id="2016" class="Symbol">=</a> <a id="2018" href="Ledger.Ledger.Properties.PoV.html#2018" class="Bound">s&#39;</a><a id="2020" class="Symbol">}</a>
    <a id="2026" href="Ledger.Ledger.Properties.PoV.html#2026" class="Bound">h</a> <a id="2028" class="Symbol">(</a><a id="2029" href="Ledger.Ledger.html#2643" class="InductiveConstructor">LEDGER-V</a> <a id="2038" class="Symbol">{</a><a id="2039" class="Argument">utxoSt&#39;</a> <a id="2047" class="Symbol">=</a> <a id="2049" href="Ledger.Ledger.Properties.PoV.html#2049" class="Bound">utxoSt&#39;&#39;</a><a id="2057" class="Symbol">}</a> <a id="2059" class="Symbol">(</a> <a id="2061" href="Ledger.Ledger.Properties.PoV.html#2061" class="Bound">valid</a> <a id="2067" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2069" href="Ledger.Utxow.html#5375" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="2080" href="Ledger.Ledger.Properties.PoV.html#2080" class="Bound">st</a><a id="2082" class="Symbol">@(</a><a id="2084" href="Ledger.Ledger.Properties.PoV.html#1752" class="InductiveConstructor">UTXO-induction</a> <a id="2099" href="Ledger.Ledger.Properties.PoV.html#2099" class="Bound">r</a><a id="2100" class="Symbol">)</a> <a id="2102" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2104" href="Ledger.Ledger.Properties.PoV.html#2104" class="Bound">h&#39;</a> <a id="2107" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2109" class="Symbol">_</a> <a id="2111" class="Symbol">))</a> <a id="2114" class="Symbol">=</a>
    <a id="2120" class="Keyword">let</a>
      <a id="2130" class="Keyword">open</a> <a id="2135" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="2142" href="Ledger.Ledger.Properties.PoV.html#2005" class="Bound">s</a>
      <a id="2150" class="Keyword">open</a> <a id="2155" href="Ledger.Certs.html#4327" class="Module">CertState</a> <a id="2165" href="Ledger.Ledger.html#921" class="Function">certState</a>
      <a id="2181" class="Keyword">open</a> <a id="2186" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="2193" href="Ledger.Ledger.Properties.PoV.html#2018" class="Bound">s&#39;</a> <a id="2196" class="Keyword">renaming</a> <a id="2205" class="Symbol">(</a><a id="2206" href="Ledger.Ledger.html#868" class="Field">utxoSt</a> <a id="2213" class="Symbol">to</a> <a id="2216" class="Field">utxoSt&#39;</a><a id="2223" class="Symbol">;</a> <a id="2225" href="Ledger.Ledger.html#895" class="Field">govSt</a> <a id="2231" class="Symbol">to</a> <a id="2234" class="Field">govSt&#39;</a><a id="2240" class="Symbol">;</a> <a id="2242" href="Ledger.Ledger.html#921" class="Field">certState</a> <a id="2252" class="Symbol">to</a> <a id="2255" class="Field">certState&#39;</a><a id="2265" class="Symbol">)</a>
      <a id="2273" class="Keyword">open</a> <a id="2278" href="Ledger.Certs.html#4327" class="Module">CertState</a> <a id="2288" href="Ledger.Ledger.Properties.PoV.html#2255" class="Function">certState&#39;</a>
      <a id="2305" class="Keyword">open</a> <a id="2310" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>
      <a id="2328" class="Keyword">open</a> <a id="2333" href="Ledger.Certs.Properties.html#11904" class="Module">CERTSpov</a> <a id="2342" href="Ledger.Ledger.Properties.PoV.html#982" class="Bound">indexedSumᵛ&#39;-∪</a> <a id="2357" href="Ledger.Ledger.Properties.PoV.html#1148" class="Bound">sumConstZero</a> <a id="2370" href="Ledger.Ledger.Properties.PoV.html#1239" class="Bound">res-decomp</a>  <a id="2382" href="Ledger.Ledger.Properties.PoV.html#1375" class="Bound">getCoin-cong</a> <a id="2395" href="Ledger.Ledger.Properties.PoV.html#1546" class="Bound">≡ᵉ-getCoinˢ</a> <a id="2407" href="Ledger.Ledger.Properties.PoV.html#2099" class="Bound">r</a>
      <a id="2415" href="Ledger.Ledger.Properties.PoV.html#2415" class="Bound">zeroMap</a>    <a id="2426" class="Symbol">=</a> <a id="2428" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="2437" class="Symbol">(</a><a id="2438" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2443" href="Ledger.Address.html#1391" class="Field">RwdAddr.stake</a> <a id="2457" class="Symbol">(</a><a id="2458" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2462" href="Ledger.Transaction.html#2945" class="Function">txwdrls</a><a id="2469" class="Symbol">))</a> <a id="2472" class="Number">0</a>
    <a id="2478" class="Keyword">in</a>
    <a id="2485" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="2497" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2505" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="2512" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2514" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2522" href="Ledger.Ledger.html#921" class="Function">certState</a>
        <a id="2540" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="2543" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="2548" class="Symbol">(</a><a id="2549" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2557" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="2564" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="2566" class="Symbol">)</a> <a id="2568" class="Symbol">(</a><a id="2569" href="Ledger.Certs.Properties.html#15784" class="Function">CERTS-pov</a> <a id="2579" href="Ledger.Ledger.Properties.PoV.html#2104" class="Bound">h&#39;</a><a id="2581" class="Symbol">)</a> <a id="2583" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="2591" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2599" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="2606" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2608" class="Symbol">(</a><a id="2609" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2617" href="Ledger.Ledger.Properties.PoV.html#2255" class="Function">certState&#39;</a> <a id="2628" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2630" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2638" href="Ledger.Transaction.html#2945" class="Function">txwdrls</a><a id="2645" class="Symbol">)</a>
        <a id="2655" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="2659" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="2664" class="Symbol">(λ</a> <a id="2667" href="Ledger.Ledger.Properties.PoV.html#2667" class="Bound">x</a> <a id="2669" class="Symbol">→</a> <a id="2671" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2679" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="2686" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2688" class="Symbol">(</a><a id="2689" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2697" href="Ledger.Ledger.Properties.PoV.html#2255" class="Function">certState&#39;</a> <a id="2708" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2710" href="Ledger.Ledger.Properties.PoV.html#2667" class="Bound">x</a> <a id="2712" class="Symbol">))</a> <a id="2715" class="Symbol">(</a><a id="2716" href="Data.Nat.Properties.html#21834" class="Function">*-identityʳ</a> <a id="2728" class="Symbol">(</a><a id="2729" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2737" href="Ledger.Transaction.html#2945" class="Function">txwdrls</a><a id="2744" class="Symbol">))</a> <a id="2747" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>  <a id="2750" class="Comment">-- cong (λ u → getCoin utxoSt + (getCoin certState&#39; + getCoin txwdrls * χ u)) valid ⟩</a>
      <a id="2842" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2850" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="2857" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2859" class="Symbol">(</a><a id="2860" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2868" href="Ledger.Ledger.Properties.PoV.html#2255" class="Function">certState&#39;</a> <a id="2879" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2881" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2889" href="Ledger.Transaction.html#2945" class="Function">txwdrls</a> <a id="2897" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2899" class="Number">1</a><a id="2900" class="Symbol">)</a>
        <a id="2910" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="2914" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="2919" class="Symbol">(λ</a> <a id="2922" href="Ledger.Ledger.Properties.PoV.html#2922" class="Bound">u</a> <a id="2924" class="Symbol">→</a> <a id="2926" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2934" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="2941" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2943" class="Symbol">(</a><a id="2944" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2952" href="Ledger.Ledger.Properties.PoV.html#2255" class="Function">certState&#39;</a> <a id="2963" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2965" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2973" href="Ledger.Transaction.html#2945" class="Function">txwdrls</a> <a id="2981" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2983" href="Ledger.Utxo.Properties.html#13527" class="Function">χ</a> <a id="2985" href="Ledger.Ledger.Properties.PoV.html#2922" class="Bound">u</a><a id="2986" class="Symbol">))</a> <a id="2989" href="Ledger.Ledger.Properties.PoV.html#2061" class="Bound">valid</a> <a id="2995" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="3003" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3011" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="3018" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3020" class="Symbol">(</a><a id="3021" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3029" href="Ledger.Ledger.Properties.PoV.html#2255" class="Function">certState&#39;</a> <a id="3040" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3042" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3050" href="Ledger.Transaction.html#2945" class="Function">txwdrls</a> <a id="3058" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3060" href="Ledger.Utxo.Properties.html#13527" class="Function">χ</a> <a id="3062" href="Ledger.Transaction.html#4306" class="Field">isValid</a><a id="3069" class="Symbol">)</a>
        <a id="3079" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3082" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3087" class="Symbol">(</a><a id="3088" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3096" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="3103" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="3105" class="Symbol">)</a> <a id="3107" class="Symbol">(</a><a id="3108" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="3115" class="Symbol">(</a><a id="3116" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3124" href="Ledger.Ledger.Properties.PoV.html#2255" class="Function">certState&#39;</a><a id="3134" class="Symbol">)</a> <a id="3136" class="Symbol">_)</a> <a id="3139" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="3147" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3155" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="3162" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3164" class="Symbol">(</a><a id="3165" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3173" href="Ledger.Transaction.html#2945" class="Function">txwdrls</a> <a id="3181" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3183" href="Ledger.Utxo.Properties.html#13527" class="Function">χ</a> <a id="3185" href="Ledger.Transaction.html#4306" class="Field">isValid</a> <a id="3193" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3195" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3203" href="Ledger.Ledger.Properties.PoV.html#2255" class="Function">certState&#39;</a><a id="3213" class="Symbol">)</a>
        <a id="3223" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="3227" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="3235" class="Symbol">(</a><a id="3236" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3244" href="Ledger.Ledger.html#868" class="Function">utxoSt</a><a id="3250" class="Symbol">)</a> <a id="3252" class="Symbol">(</a><a id="3253" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3261" href="Ledger.Transaction.html#2945" class="Function">txwdrls</a> <a id="3269" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3271" href="Ledger.Utxo.Properties.html#13527" class="Function">χ</a> <a id="3273" href="Ledger.Transaction.html#4306" class="Field">isValid</a><a id="3280" class="Symbol">)</a> <a id="3282" class="Symbol">(</a><a id="3283" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3291" href="Ledger.Ledger.Properties.PoV.html#2255" class="Function">certState&#39;</a><a id="3301" class="Symbol">)</a> <a id="3303" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="3311" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3319" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="3326" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3328" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3336" href="Ledger.Transaction.html#2945" class="Function">txwdrls</a> <a id="3344" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3346" href="Ledger.Utxo.Properties.html#13527" class="Function">χ</a> <a id="3348" href="Ledger.Transaction.html#4306" class="Field">isValid</a> <a id="3356" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3358" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3366" href="Ledger.Ledger.Properties.PoV.html#2255" class="Function">certState&#39;</a>
        <a id="3385" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3388" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3393" class="Symbol">(</a><a id="3394" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="3397" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3405" href="Ledger.Ledger.Properties.PoV.html#2255" class="Function">certState&#39;</a><a id="3415" class="Symbol">)</a> <a id="3417" class="Symbol">(</a><a id="3418" href="Ledger.Utxo.Properties.PoV.html#418" class="Function">UTXOpov</a> <a id="3426" href="Ledger.Ledger.Properties.PoV.html#2026" class="Bound">h</a> <a id="3428" href="Ledger.Ledger.Properties.PoV.html#2080" class="Bound">st</a><a id="3430" class="Symbol">)</a> <a id="3432" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="3440" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3448" href="Ledger.Ledger.Properties.PoV.html#2216" class="Function">utxoSt&#39;</a> <a id="3456" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3458" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="3466" href="Ledger.Ledger.Properties.PoV.html#2255" class="Function">certState&#39;</a>
        <a id="3485" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="3490" href="Ledger.Ledger.Properties.PoV.html#1832" class="Function">LEDGER-pov</a>  <a id="3502" class="Symbol">{</a><a id="3503" class="Argument">s</a> <a id="3505" class="Symbol">=</a> <a id="3507" href="Ledger.Ledger.Properties.PoV.html#3507" class="Bound">s</a><a id="3508" class="Symbol">}</a>
              <a id="3524" class="Symbol">{</a><a id="3525" class="Argument">s&#39;</a> <a id="3528" class="Symbol">=</a> <a id="3530" href="Ledger.Ledger.Properties.PoV.html#3530" class="Bound">s&#39;</a><a id="3532" class="Symbol">}</a>
              <a id="3548" href="Ledger.Ledger.Properties.PoV.html#3548" class="Bound">h</a> <a id="3550" class="Symbol">(</a><a id="3551" href="Ledger.Ledger.html#3303" class="InductiveConstructor">LEDGER-I</a> <a id="3560" class="Symbol">{</a><a id="3561" class="Argument">utxoSt&#39;</a> <a id="3569" class="Symbol">=</a> <a id="3571" href="Ledger.Ledger.Properties.PoV.html#3571" class="Bound">utxoSt&#39;&#39;</a><a id="3579" class="Symbol">}</a> <a id="3581" class="Symbol">(</a><a id="3582" href="Ledger.Ledger.Properties.PoV.html#3582" class="Bound">invalid</a> <a id="3590" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3592" href="Ledger.Utxow.html#5375" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="3603" href="Ledger.Ledger.Properties.PoV.html#3603" class="Bound">st</a><a id="3605" class="Symbol">))</a> <a id="3608" class="Symbol">=</a>
    <a id="3614" class="Keyword">let</a>
        <a id="3626" class="Keyword">open</a> <a id="3631" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="3638" href="Ledger.Ledger.Properties.PoV.html#3507" class="Bound">s</a>
        <a id="3648" class="Keyword">open</a> <a id="3653" href="Ledger.Certs.html#4327" class="Module">CertState</a> <a id="3663" href="Ledger.Ledger.html#921" class="Function">certState</a>
        <a id="3681" class="Keyword">open</a> <a id="3686" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="3693" href="Ledger.Ledger.Properties.PoV.html#3530" class="Bound">s&#39;</a> <a id="3696" class="Keyword">renaming</a> <a id="3705" class="Symbol">(</a><a id="3706" href="Ledger.Ledger.html#868" class="Field">utxoSt</a> <a id="3713" class="Symbol">to</a> <a id="3716" class="Field">utxoSt&#39;</a><a id="3723" class="Symbol">;</a> <a id="3725" href="Ledger.Ledger.html#895" class="Field">govSt</a> <a id="3731" class="Symbol">to</a> <a id="3734" class="Field">govSt&#39;</a><a id="3740" class="Symbol">;</a> <a id="3742" href="Ledger.Ledger.html#921" class="Field">certState</a> <a id="3752" class="Symbol">to</a> <a id="3755" class="Field">certState&#39;</a><a id="3765" class="Symbol">)</a>
        <a id="3775" class="Keyword">open</a> <a id="3780" href="Ledger.Utxo.html#2705" class="Module">UTxOState</a> <a id="3790" href="Ledger.Ledger.html#868" class="Function">utxoSt</a>
        <a id="3805" class="Keyword">open</a> <a id="3810" href="Ledger.Utxo.html#2705" class="Module">UTxOState</a> <a id="3820" href="Ledger.Ledger.Properties.PoV.html#3716" class="Function">utxoSt&#39;</a> <a id="3828" class="Keyword">renaming</a> <a id="3837" class="Symbol">(</a><a id="3838" href="Ledger.Utxo.html#2769" class="Field">utxo</a> <a id="3843" class="Symbol">to</a> <a id="3846" class="Field">utxo&#39;</a><a id="3851" class="Symbol">;</a> <a id="3853" href="Ledger.Utxo.html#2791" class="Field">fees</a> <a id="3858" class="Symbol">to</a> <a id="3861" class="Field">fees&#39;</a>
                                        <a id="3907" class="Symbol">;</a> <a id="3909" href="Ledger.Utxo.html#2813" class="Field">deposits</a> <a id="3918" class="Symbol">to</a> <a id="3921" class="Field">deposits&#39;</a><a id="3930" class="Symbol">;</a> <a id="3932" href="Ledger.Utxo.html#2839" class="Field">donations</a> <a id="3942" class="Symbol">to</a> <a id="3945" class="Field">donations&#39;</a><a id="3955" class="Symbol">)</a> <a id="3957" class="Keyword">in</a>
    <a id="3964" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3969" class="Symbol">(</a><a id="3970" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="3973" href="Ledger.Certs.html#5252" class="Function">rewardsBalance</a> <a id="3988" href="Ledger.Certs.html#4390" class="Function">dState</a><a id="3994" class="Symbol">)</a>
    <a id="4000" class="Symbol">(</a> <a id="4002" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="4014" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4022" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="4024" href="Ledger.Utxo.html#2769" class="Function">utxo</a> <a id="4029" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4031" href="Ledger.Utxo.html#2791" class="Function">fees</a> <a id="4036" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4038" href="Ledger.Utxo.html#2813" class="Function">deposits</a> <a id="4047" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4049" href="Ledger.Utxo.html#2839" class="Function">donations</a> <a id="4059" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a>
        <a id="4069" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4073" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="4085" class="Symbol">(</a><a id="4086" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4094" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="4096" href="Ledger.Utxo.html#2769" class="Function">utxo</a> <a id="4101" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4103" href="Ledger.Utxo.html#2791" class="Function">fees</a> <a id="4108" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4110" href="Ledger.Utxo.html#2813" class="Function">deposits</a> <a id="4119" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4121" href="Ledger.Utxo.html#2839" class="Function">donations</a> <a id="4131" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a><a id="4132" class="Symbol">)</a> <a id="4134" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4142" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4150" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="4152" href="Ledger.Utxo.html#2769" class="Function">utxo</a> <a id="4157" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4159" href="Ledger.Utxo.html#2791" class="Function">fees</a> <a id="4164" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4166" href="Ledger.Utxo.html#2813" class="Function">deposits</a> <a id="4175" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4177" href="Ledger.Utxo.html#2839" class="Function">donations</a> <a id="4187" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="4189" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4191" class="Number">0</a>
        <a id="4201" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4205" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="4210" class="Symbol">(</a><a id="4211" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4219" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="4221" href="Ledger.Utxo.html#2769" class="Function">utxo</a> <a id="4226" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4228" href="Ledger.Utxo.html#2791" class="Function">fees</a> <a id="4233" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4235" href="Ledger.Utxo.html#2813" class="Function">deposits</a> <a id="4244" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4246" href="Ledger.Utxo.html#2839" class="Function">donations</a> <a id="4256" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="4258" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="4260" class="Symbol">)</a> <a id="4262" class="Symbol">(</a><a id="4263" href="Data.Nat.Properties.html#22054" class="Function">*-zeroʳ</a> <a id="4271" class="Symbol">(</a><a id="4272" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4280" href="Ledger.Transaction.html#2945" class="Function">txwdrls</a><a id="4287" class="Symbol">))</a> <a id="4290" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4298" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4306" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="4308" href="Ledger.Utxo.html#2769" class="Function">utxo</a> <a id="4313" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4315" href="Ledger.Utxo.html#2791" class="Function">fees</a> <a id="4320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4322" href="Ledger.Utxo.html#2813" class="Function">deposits</a> <a id="4331" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4333" href="Ledger.Utxo.html#2839" class="Function">donations</a> <a id="4343" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="4345" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4347" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4355" href="Ledger.Transaction.html#2945" class="Function">txwdrls</a> <a id="4363" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4365" class="Number">0</a>
        <a id="4375" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4379" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="4384" class="Symbol">(λ</a> <a id="4387" href="Ledger.Ledger.Properties.PoV.html#4387" class="Bound">x</a> <a id="4389" class="Symbol">→</a> <a id="4391" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4399" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="4401" href="Ledger.Utxo.html#2769" class="Function">utxo</a> <a id="4406" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4408" href="Ledger.Utxo.html#2791" class="Function">fees</a> <a id="4413" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4415" href="Ledger.Utxo.html#2813" class="Function">deposits</a> <a id="4424" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4426" href="Ledger.Utxo.html#2839" class="Function">donations</a> <a id="4436" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="4438" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4440" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4448" href="Ledger.Transaction.html#2945" class="Function">txwdrls</a> <a id="4456" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4458" href="Ledger.Utxo.Properties.html#13527" class="Function">χ</a> <a id="4460" href="Ledger.Ledger.Properties.PoV.html#4387" class="Bound">x</a><a id="4461" class="Symbol">)</a> <a id="4463" href="Ledger.Ledger.Properties.PoV.html#3582" class="Bound">invalid</a> <a id="4471" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4479" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4487" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="4489" href="Ledger.Utxo.html#2769" class="Function">utxo</a> <a id="4494" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4496" href="Ledger.Utxo.html#2791" class="Function">fees</a> <a id="4501" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4503" href="Ledger.Utxo.html#2813" class="Function">deposits</a> <a id="4512" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4514" href="Ledger.Utxo.html#2839" class="Function">donations</a> <a id="4524" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="4526" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4528" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4536" href="Ledger.Transaction.html#2945" class="Function">txwdrls</a> <a id="4544" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4546" href="Ledger.Utxo.Properties.html#13527" class="Function">χ</a> <a id="4548" href="Ledger.Transaction.html#4306" class="Field">isValid</a>
        <a id="4564" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="4567" href="Ledger.Utxo.Properties.PoV.html#418" class="Function">UTXOpov</a> <a id="4575" href="Ledger.Ledger.Properties.PoV.html#3548" class="Bound">h</a> <a id="4577" href="Ledger.Ledger.Properties.PoV.html#3603" class="Bound">st</a> <a id="4580" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="4588" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4596" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="4598" href="Ledger.Ledger.Properties.PoV.html#3846" class="Function">utxo&#39;</a> <a id="4604" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4606" href="Ledger.Ledger.Properties.PoV.html#3861" class="Function">fees&#39;</a> <a id="4612" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4614" href="Ledger.Ledger.Properties.PoV.html#3921" class="Function">deposits&#39;</a> <a id="4624" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4626" href="Ledger.Ledger.Properties.PoV.html#3945" class="Function">donations&#39;</a> <a id="4637" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="4639" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="4641" class="Symbol">)</a>
    <a id="4647" class="Keyword">where</a> <a id="4653" class="Keyword">open</a> <a id="4658" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>

</pre></body></html>