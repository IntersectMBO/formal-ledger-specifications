<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">

<a id="3" class="Symbol">{-#</a> <a id="7" class="Keyword">OPTIONS</a> <a id="15" class="Pragma">--safe</a> <a id="22" class="Symbol">#-}</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="79" class="Keyword">open</a> <a id="84" class="Keyword">import</a> <a id="91" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>

<a id="129" class="Keyword">module</a> <a id="136" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html" class="Module">Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch</a>
  <a id="196" class="Symbol">(</a><a id="197" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="201" class="Symbol">:</a> <a id="203" class="Symbol">_)</a> <a id="206" class="Symbol">(</a><a id="207" class="Keyword">open</a> <a id="212" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="233" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a><a id="236" class="Symbol">)</a>
  <a id="240" class="Symbol">(</a><a id="241" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a> <a id="245" class="Symbol">:</a> <a id="247" href="Ledger.Conway.Specification.Abstract.html#830" class="Record">AbstractFunctions</a> <a id="265" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a><a id="268" class="Symbol">)</a> <a id="270" class="Symbol">(</a><a id="271" class="Keyword">open</a> <a id="276" href="Ledger.Conway.Specification.Abstract.html#830" class="Module">AbstractFunctions</a> <a id="294" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a><a id="297" class="Symbol">)</a>
  <a id="301" class="Keyword">where</a>

<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="335" class="Keyword">using</a> <a id="341" class="Symbol">(</a><a id="342" href="Data.List.Base.html#10389" class="Function">filter</a><a id="348" class="Symbol">)</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a> <a id="408" class="Keyword">using</a> <a id="414" class="Symbol">(</a><a id="415" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a><a id="424" class="Symbol">;</a> <a id="426" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a><a id="432" class="Symbol">)</a>
<a id="434" class="Keyword">open</a> <a id="439" class="Keyword">import</a> <a id="446" href="stdlib.Data.List.Subpermutations.html" class="Module">stdlib.Data.List.Subpermutations</a> <a id="479" class="Keyword">using</a> <a id="485" class="Symbol">(</a><a id="486" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a><a id="499" class="Symbol">)</a>
<a id="501" class="Keyword">open</a> <a id="506" class="Keyword">import</a> <a id="513" href="Data.Product.Function.NonDependent.Propositional.html" class="Module">Data.Product.Function.NonDependent.Propositional</a> <a id="562" class="Keyword">using</a> <a id="568" class="Symbol">(</a><a id="569" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">_×-cong_</a><a id="577" class="Symbol">)</a>
<a id="579" class="Keyword">open</a> <a id="584" class="Keyword">import</a> <a id="591" href="Data.Product.Properties.html" class="Module">Data.Product.Properties</a> <a id="615" class="Keyword">using</a> <a id="621" class="Symbol">(</a><a id="622" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a><a id="629" class="Symbol">)</a>
<a id="631" class="Keyword">open</a> <a id="636" class="Keyword">import</a> <a id="643" href="Data.Product.Properties.Ext.html" class="Module">Data.Product.Properties.Ext</a> <a id="671" class="Keyword">using</a> <a id="677" class="Symbol">(</a><a id="678" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a><a id="686" class="Symbol">)</a>

<a id="689" class="Keyword">open</a> <a id="694" class="Keyword">import</a> <a id="701" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="716" class="Keyword">using</a> <a id="722" class="Symbol">(</a><a id="723" href="Relation.Unary.html#4543" class="Function">Decidable</a><a id="732" class="Symbol">)</a>

<a id="735" class="Keyword">open</a> <a id="740" class="Keyword">import</a> <a id="747" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="762" class="Keyword">renaming</a> <a id="771" class="Symbol">(</a><a id="772" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="776" class="Symbol">to</a> <a id="779" class="Function">map&#39;</a><a id="783" class="Symbol">;</a> <a id="785" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="790" class="Symbol">to</a> <a id="793" class="Function">map</a><a id="796" class="Symbol">)</a>

<a id="799" class="Keyword">open</a> <a id="804" class="Keyword">import</a> <a id="811" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="845" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a>
<a id="858" class="Keyword">open</a> <a id="863" class="Keyword">import</a> <a id="870" href="Ledger.Conway.Specification.Enact.html" class="Module">Ledger.Conway.Specification.Enact</a> <a id="904" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a>
<a id="917" class="Keyword">open</a> <a id="922" class="Keyword">import</a> <a id="929" href="Ledger.Conway.Specification.Epoch.html" class="Module">Ledger.Conway.Specification.Epoch</a> <a id="963" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="967" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>
<a id="971" class="Keyword">open</a> <a id="976" class="Keyword">import</a> <a id="983" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="1015" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a>
<a id="1028" class="Keyword">open</a> <a id="1033" class="Keyword">import</a> <a id="1040" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="1075" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="1079" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>
<a id="1083" class="Keyword">open</a> <a id="1088" class="Keyword">import</a> <a id="1095" href="Ledger.Conway.Specification.Ledger.Properties.Base.html" class="Module">Ledger.Conway.Specification.Ledger.Properties.Base</a> <a id="1146" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="1150" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>
<a id="1154" class="Keyword">open</a> <a id="1159" class="Keyword">import</a> <a id="1166" href="Ledger.Conway.Specification.PoolReap.html" class="Module">Ledger.Conway.Specification.PoolReap</a> <a id="1203" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="1207" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>
<a id="1211" class="Keyword">open</a> <a id="1216" class="Keyword">import</a> <a id="1223" href="Ledger.Conway.Specification.Ratify.html" class="Module">Ledger.Conway.Specification.Ratify</a> <a id="1258" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a>
<a id="1271" class="Keyword">open</a> <a id="1276" class="Keyword">import</a> <a id="1283" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="1316" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="1320" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>

<a id="1325" class="Keyword">open</a> <a id="1330" class="Keyword">import</a> <a id="1337" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="1358" href="Axiom.Set.html#10936" class="Function">th</a>

<a id="1362" class="Keyword">open</a> <a id="1367" href="Function.Bundles.html#4750" class="Module">Equivalence</a>

<a id="1380" class="Keyword">import</a> <a id="1387" href="Function.Related.Propositional.html" class="Module">Function.Related.Propositional</a> <a id="1418" class="Symbol">as</a> <a id="1421" class="Module">R</a>
<a id="1423" class="Keyword">import</a> <a id="1430" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1463" class="Symbol">as</a> <a id="1466" class="Module">SetoidReasoning</a>

<a id="1483" class="Keyword">module</a> <a id="EPOCH-Body"></a><a id="1490" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1490" class="Module">EPOCH-Body</a> <a id="1501" class="Symbol">(</a><a id="1502" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1502" class="Bound">eps</a> <a id="1506" class="Symbol">:</a> <a id="1508" href="Ledger.Conway.Specification.Epoch.html#1855" class="Record">EpochState</a><a id="1518" class="Symbol">)</a> <a id="1520" class="Keyword">where</a>
  <a id="1528" class="Keyword">open</a> <a id="1533" href="Ledger.Conway.Specification.Gov.Actions.html#3822" class="Module">GovActionState</a> <a id="1548" class="Keyword">public</a>
  <a id="1557" class="Keyword">open</a> <a id="1562" href="Ledger.Conway.Specification.Epoch.html#1855" class="Module">EpochState</a> <a id="1573" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1502" class="Bound">eps</a> <a id="1577" class="Keyword">hiding</a> <a id="1584" class="Symbol">(</a><a id="1585" href="Ledger.Conway.Specification.Epoch.html#1996" class="Field">es</a><a id="1587" class="Symbol">)</a> <a id="1589" class="Keyword">renaming</a> <a id="1598" class="Symbol">(</a><a id="1599" href="Ledger.Conway.Specification.Epoch.html#1972" class="Field">ls</a> <a id="1602" class="Symbol">to</a> <a id="1605" class="Field">epsLState</a><a id="1614" class="Symbol">;</a> <a id="1616" href="Ledger.Conway.Specification.Epoch.html#2024" class="Field">fut</a> <a id="1620" class="Symbol">to</a> <a id="1623" class="Field">epsRState</a><a id="1632" class="Symbol">)</a> <a id="1634" class="Keyword">public</a>
  <a id="1643" class="Keyword">open</a> <a id="1648" href="Ledger.Conway.Specification.Ratify.html#3537" class="Module">RatifyState</a> <a id="1660" class="Keyword">renaming</a> <a id="1669" class="Symbol">(</a><a id="1670" href="Ledger.Conway.Specification.Ratify.html#3574" class="Field">es</a> <a id="1673" class="Symbol">to</a> <a id="1676" class="Field">ensRState</a><a id="1685" class="Symbol">)</a> <a id="1687" class="Keyword">public</a>

  <a id="EPOCH-Body.ens"></a><a id="1697" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1697" class="Function">ens</a>      <a id="1706" class="Symbol">=</a> <a id="1708" class="Keyword">record</a> <a id="1715" class="Symbol">(</a><a id="1716" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1623" class="Field">epsRState</a> <a id="1726" class="Symbol">.</a><a id="1727" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1676" class="Field">ensRState</a><a id="1736" class="Symbol">)</a> <a id="1738" class="Symbol">{</a> <a id="1740" href="Ledger.Conway.Specification.Enact.html#700" class="Field">withdrawals</a> <a id="1752" class="Symbol">=</a> <a id="1754" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="1756" class="Symbol">}</a>
  <a id="EPOCH-Body.tmpGovSt"></a><a id="1760" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1760" class="Function">tmpGovSt</a> <a id="1769" class="Symbol">=</a> <a id="1771" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="1778" class="Symbol">(λ</a> <a id="1781" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1781" class="Bound">x</a> <a id="1783" class="Symbol">→</a> <a id="1785" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="1787" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1793" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1781" class="Bound">x</a> <a id="1795" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="1797" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#793" class="Function">map</a> <a id="1801" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1807" class="Symbol">(</a><a id="1808" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1623" class="Field">epsRState</a> <a id="1818" class="Symbol">.</a><a id="1819" href="Ledger.Conway.Specification.Ratify.html#3600" class="Field">removed</a><a id="1826" class="Symbol">)</a> <a id="1828" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a><a id="1829" class="Symbol">)</a> <a id="1831" class="Symbol">(</a><a id="1832" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="1843" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1502" class="Bound">eps</a><a id="1846" class="Symbol">)</a>
  <a id="EPOCH-Body.orphans"></a><a id="1850" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1850" class="Function">orphans</a>  <a id="1859" class="Symbol">=</a> <a id="1861" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="1870" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="1872" href="Ledger.Conway.Specification.Epoch.html#13228" class="Function">getOrphans</a> <a id="1883" class="Symbol">(</a><a id="1884" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1623" class="Field">epsRState</a> <a id="1894" class="Symbol">.</a><a id="1895" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1676" class="Field">ensRState</a><a id="1904" class="Symbol">)</a> <a id="1906" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1760" class="Function">tmpGovSt</a>
  <a id="EPOCH-Body.removed&#39;"></a><a id="1917" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1917" class="Function">removed&#39;</a> <a id="1926" class="Symbol">:</a> <a id="1928" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1930" class="Symbol">(</a><a id="1931" href="Ledger.Conway.Specification.Gov.Actions.html#1980" class="Function">GovActionID</a> <a id="1943" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1945" href="Ledger.Conway.Specification.Gov.Actions.html#3822" class="Record">GovActionState</a><a id="1959" class="Symbol">)</a>
  <a id="1963" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1917" class="Function">removed&#39;</a> <a id="1972" class="Symbol">=</a> <a id="1974" class="Symbol">(</a><a id="1975" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1623" class="Field">epsRState</a> <a id="1985" class="Symbol">.</a><a id="1986" href="Ledger.Conway.Specification.Ratify.html#3600" class="Field">removed</a><a id="1993" class="Symbol">)</a> <a id="1995" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="1997" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1850" class="Function">orphans</a>
  <a id="EPOCH-Body.removedGovActions"></a><a id="2007" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2007" class="Function">removedGovActions</a> <a id="2025" class="Symbol">=</a> <a id="2027" href="Function.Base.html#1657" class="Function">flip</a> <a id="2032" href="Axiom.Set.html#7207" class="Function">concatMapˢ</a> <a id="2043" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1917" class="Function">removed&#39;</a> <a id="2052" class="Symbol">λ</a> <a id="2054" class="Symbol">(</a><a id="2055" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2055" class="Bound">gaid</a> <a id="2060" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2062" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2062" class="Bound">gaSt</a><a id="2066" class="Symbol">)</a> <a id="2068" class="Symbol">→</a>
    <a id="2074" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#793" class="Function">map</a> <a id="2078" class="Symbol">(</a><a id="2079" href="Ledger.Conway.Specification.Gov.Actions.html#3889" class="Field">returnAddr</a> <a id="2090" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2062" class="Bound">gaSt</a> <a id="2095" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="2097" class="Symbol">)</a> <a id="2099" class="Symbol">((</a><a id="2101" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="2112" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1502" class="Bound">eps</a> <a id="2116" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="2118" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="2120" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="2137" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2055" class="Bound">gaid</a> <a id="2142" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="2143" class="Symbol">)</a> <a id="2145" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="2146" class="Symbol">)</a>

<a id="2149" class="Keyword">module</a> <a id="EPOCH-PROPS"></a><a id="2156" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2156" class="Module">EPOCH-PROPS</a> <a id="2168" class="Symbol">{</a><a id="2169" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a> <a id="2173" class="Symbol">:</a> <a id="2175" href="Ledger.Conway.Specification.Epoch.html#1855" class="Record">EpochState</a><a id="2185" class="Symbol">}</a> <a id="2187" class="Keyword">where</a>
  <a id="2195" class="Keyword">open</a> <a id="2200" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1490" class="Module">EPOCH-Body</a> <a id="2211" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a>


  <a id="EPOCH-PROPS.EPOCH-govDepsMatch"></a><a id="2219" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2219" class="Function">EPOCH-govDepsMatch</a> <a id="2238" class="Symbol">:</a>  <a id="2241" class="Symbol">{</a><a id="2242" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2242" class="Bound">eps&#39;</a> <a id="2247" class="Symbol">:</a> <a id="2249" href="Ledger.Conway.Specification.Epoch.html#1855" class="Record">EpochState</a><a id="2259" class="Symbol">}</a> <a id="2261" class="Symbol">{</a><a id="2262" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2262" class="Bound">e</a> <a id="2264" class="Symbol">:</a> <a id="2266" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a><a id="2271" class="Symbol">}</a>
    <a id="2277" class="Symbol">→</a> <a id="2279" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#793" class="Function">map</a> <a id="2283" class="Symbol">(</a><a id="2284" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="2301" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2303" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2308" class="Symbol">)</a> <a id="2310" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1917" class="Function">removed&#39;</a> <a id="2319" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="2321" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2325" class="Symbol">(</a><a id="2326" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="2337" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="2340" class="Symbol">)</a>
    <a id="2346" class="Symbol">→</a> <a id="2348" class="Symbol">_</a> <a id="2350" href="Ledger.Conway.Specification.Epoch.html#16868" class="Datatype Operator">⊢</a> <a id="2352" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a> <a id="2356" href="Ledger.Conway.Specification.Epoch.html#16868" class="Datatype Operator">⇀⦇</a> <a id="2359" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2262" class="Bound">e</a> <a id="2361" href="Ledger.Conway.Specification.Epoch.html#16868" class="Datatype Operator">,EPOCH⦈</a> <a id="2369" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2242" class="Bound">eps&#39;</a>
    <a id="2378" class="Symbol">→</a> <a id="2380" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1215" class="Function">govDepsMatch</a> <a id="2393" class="Symbol">(</a><a id="2394" href="Ledger.Conway.Specification.Ledger.html#1182" class="Field">LStateOf</a> <a id="2403" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="2406" class="Symbol">)</a> <a id="2408" class="Symbol">→</a> <a id="2410" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1215" class="Function">govDepsMatch</a> <a id="2423" class="Symbol">(</a><a id="2424" href="Ledger.Conway.Specification.Ledger.html#1182" class="Field">LStateOf</a> <a id="2433" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2242" class="Bound">eps&#39;</a><a id="2437" class="Symbol">)</a>


  <a id="2443" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2219" class="Function">EPOCH-govDepsMatch</a> <a id="2462" class="Symbol">{</a><a id="2463" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2463" class="Bound">eps&#39;</a><a id="2467" class="Symbol">}</a> <a id="2469" class="Symbol">{</a><a id="2470" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2470" class="Bound">e</a><a id="2471" class="Symbol">}</a> <a id="2473" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2473" class="Bound">ratify-removed</a> <a id="2488" class="Symbol">=</a> <a id="2490" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9327" class="Function">mainProof</a>
    <a id="2504" class="Keyword">where</a>

    <a id="2515" class="Comment">-- the combinator used in the EPOCH rule</a>
    <a id="2560" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2560" class="Function">ΔΠ</a> <a id="2563" class="Symbol">:</a> <a id="2565" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2567" href="Ledger.Conway.Specification.Certs.html#571" class="Datatype">DepositPurpose</a>
    <a id="2586" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2560" class="Function">ΔΠ</a> <a id="2589" class="Symbol">=</a> <a id="2591" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#793" class="Function">map</a> <a id="2595" class="Symbol">(</a><a id="2596" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2602" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2604" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="2609" class="Symbol">)</a> <a id="2611" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2007" class="Function">removedGovActions</a>

    <a id="2634" class="Comment">-- a simpler combinator that suffices here;</a>
    <a id="2682" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a> <a id="2686" class="Symbol">:</a> <a id="2688" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2690" href="Ledger.Conway.Specification.Certs.html#571" class="Datatype">DepositPurpose</a>
    <a id="2709" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a> <a id="2713" class="Symbol">=</a> <a id="2715" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#793" class="Function">map</a> <a id="2719" class="Symbol">(</a><a id="2720" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="2737" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2739" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2744" class="Symbol">)</a> <a id="2746" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1917" class="Function">removed&#39;</a>
    <a id="2759" class="Comment">-- Below we prove ΔΠ and ΔΠ&#39; are essentially equivalent.</a>

    <a id="2821" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2821" class="Function">P</a> <a id="2823" class="Symbol">:</a> <a id="2825" href="Ledger.Conway.Specification.Gov.Actions.html#1980" class="Function">GovActionID</a> <a id="2837" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2839" href="Ledger.Conway.Specification.Gov.Actions.html#3822" class="Record">GovActionState</a> <a id="2854" class="Symbol">→</a> <a id="2856" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="2865" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2821" class="Function">P</a> <a id="2867" class="Symbol">=</a> <a id="2869" class="Symbol">λ</a> <a id="2871" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2871" class="Bound">u</a> <a id="2873" class="Symbol">→</a> <a id="2875" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2881" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2871" class="Bound">u</a> <a id="2883" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="2885" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#793" class="Function">map</a> <a id="2889" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2895" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1917" class="Function">removed&#39;</a>

    <a id="2909" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2909" class="Function">P?</a> <a id="2912" class="Symbol">:</a> <a id="2914" href="Relation.Unary.html#4543" class="Function">Decidable</a> <a id="2924" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2821" class="Function">P</a>
    <a id="2930" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2909" class="Function">P?</a> <a id="2933" class="Symbol">=</a> <a id="2935" class="Symbol">λ</a> <a id="2937" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2937" class="Bound">u</a> <a id="2939" class="Symbol">→</a> <a id="2941" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="2943" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2821" class="Function">P</a> <a id="2945" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2937" class="Bound">u</a> <a id="2947" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>

    <a id="2954" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2954" class="Function">utxoDeps</a> <a id="2963" class="Symbol">:</a> <a id="2965" href="Ledger.Conway.Specification.Certs.html#812" class="Function">Deposits</a>
    <a id="2978" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2954" class="Function">utxoDeps</a> <a id="2987" class="Symbol">=</a> <a id="2989" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">UTxOState.deposits</a> <a id="3008" class="Symbol">(</a><a id="3009" href="Ledger.Conway.Specification.Ledger.html#1047" class="Field">LState.utxoSt</a> <a id="3023" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1605" class="Field">epsLState</a><a id="3032" class="Symbol">)</a>

    <a id="3039" class="Comment">-- utxo deposits restricted to new form of set used in EPOCH rule</a>
    <a id="3109" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3109" class="Function">utxoDeps&#39;</a> <a id="3119" class="Symbol">:</a> <a id="3121" href="Ledger.Conway.Specification.Certs.html#812" class="Function">Deposits</a>
    <a id="3134" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3109" class="Function">utxoDeps&#39;</a> <a id="3144" class="Symbol">=</a> <a id="3146" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2954" class="Function">utxoDeps</a> <a id="3155" href="Axiom.Set.Map.html#13606" class="Function Operator">∣</a> <a id="3157" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a> <a id="3161" href="Axiom.Set.Map.html#13606" class="Function Operator">ᶜ</a>

    <a id="3168" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3168" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="3175" class="Symbol">:</a> <a id="3177" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a> <a id="3181" href="Axiom.Set.html#2772" class="Function Operator">≡ᵉ</a> <a id="3184" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2560" class="Function">ΔΠ</a>
    <a id="3191" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3168" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="3198" class="Symbol">=</a> <a id="3200" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3234" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3207" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3209" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3745" class="Function">ΔΠ⊆ΔΠ&#39;</a>
      <a id="3222" class="Keyword">where</a>
      <a id="3234" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3234" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3241" class="Symbol">:</a> <a id="3243" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a> <a id="3247" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="3249" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2560" class="Function">ΔΠ</a>
      <a id="3258" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3234" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3265" class="Symbol">{</a><a id="3266" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3266" class="Bound">a</a><a id="3267" class="Symbol">}</a> <a id="3269" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3269" class="Bound">x</a> <a id="3271" class="Keyword">with</a> <a id="3276" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3281" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="3287" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3269" class="Bound">x</a>
      <a id="3295" class="Symbol">...</a> <a id="3299" class="Symbol">|</a> <a id="3301" class="Symbol">(</a><a id="3302" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3302" class="Bound">gaid</a> <a id="3307" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3309" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3309" class="Bound">gast</a><a id="3313" class="Symbol">)</a> <a id="3315" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3317" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3322" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3324" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3324" class="Bound">gaidgast∈rem</a> <a id="3337" class="Keyword">with</a> <a id="3342" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3347" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="3353" class="Symbol">(</a><a id="3354" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2473" class="Bound">ratify-removed</a> <a id="3369" class="Bound">x</a><a id="3370" class="Symbol">)</a>
      <a id="3378" class="Symbol">...</a> <a id="3382" class="Symbol">|</a> <a id="3384" class="Symbol">(</a><a id="3385" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3385" class="Bound">dp</a> <a id="3388" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3390" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3390" class="Bound">c</a><a id="3391" class="Symbol">)</a> <a id="3393" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3395" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3400" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3402" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3402" class="Bound">dpc∈utxoDeps</a> <a id="3415" class="Symbol">=</a> <a id="3417" class="Keyword">let</a> <a id="3421" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3421" class="Bound">gadc</a> <a id="3426" class="Symbol">=</a> <a id="3428" class="Symbol">(</a><a id="3429" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="3446" class="Bound">gaid</a> <a id="3451" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3453" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3390" class="Bound">c</a><a id="3454" class="Symbol">)</a> <a id="3456" class="Keyword">in</a>
        <a id="3467" href="Function.Bundles.html#4808" class="Field">to</a> <a id="3470" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="3476" class="Symbol">((</a><a id="3478" href="Ledger.Conway.Specification.Gov.Actions.html#3889" class="Field">returnAddr</a> <a id="3489" class="Symbol">{</a><a id="3490" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a><a id="3493" class="Symbol">}</a> <a id="3495" class="Bound">gast</a> <a id="3500" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3502" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3421" class="Bound">gadc</a><a id="3506" class="Symbol">)</a>
                 <a id="3525" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3527" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
                 <a id="3549" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3551" href="Function.Bundles.html#4808" class="Field">to</a> <a id="3554" href="Axiom.Set.html#7295" class="Function">∈-concatMapˢ</a> <a id="3567" class="Symbol">((</a><a id="3569" class="Bound">gaid</a> <a id="3574" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3576" class="Bound">gast</a><a id="3580" class="Symbol">)</a>
                                   <a id="3617" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3619" class="Bound">gaidgast∈rem</a>
                                   <a id="3667" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3669" href="Function.Bundles.html#4808" class="Field">to</a> <a id="3672" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="3678" class="Symbol">(</a><a id="3679" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3421" class="Bound">gadc</a> <a id="3684" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3686" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3691" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3693" href="Axiom.Set.Map.html#15772" class="Function">res-singleton⁺</a> <a id="3708" class="Symbol">{</a><a id="3709" class="Argument">m</a> <a id="3711" class="Symbol">=</a> <a id="3713" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2954" class="Function">utxoDeps</a><a id="3721" class="Symbol">}</a> <a id="3723" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3402" class="Bound">dpc∈utxoDeps</a><a id="3735" class="Symbol">)))</a>
      <a id="3745" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3745" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3752" class="Symbol">:</a> <a id="3754" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2560" class="Function">ΔΠ</a> <a id="3757" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="3759" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a>
      <a id="3769" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3745" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3776" class="Symbol">{</a><a id="3777" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3777" class="Bound">a</a><a id="3778" class="Symbol">}</a> <a id="3780" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3780" class="Bound">x</a> <a id="3782" class="Keyword">with</a> <a id="3787" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3792" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="3798" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3780" class="Bound">x</a>
      <a id="3806" class="Symbol">...</a> <a id="3810" class="Symbol">|</a> <a id="3812" class="Symbol">(</a><a id="3813" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3813" class="Bound">rwa</a> <a id="3817" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3819" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3819" class="Bound">dp</a> <a id="3822" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3824" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3824" class="Bound">c</a><a id="3825" class="Symbol">)</a> <a id="3827" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3829" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3834" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3836" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3836" class="Bound">rwa-dp-c∈</a> <a id="3846" class="Keyword">with</a> <a id="3851" class="Symbol">(</a><a id="3852" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3857" href="Axiom.Set.html#7295" class="Function">∈-concatMapˢ</a> <a id="3870" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3836" class="Bound">rwa-dp-c∈</a><a id="3879" class="Symbol">)</a>
      <a id="3887" class="Symbol">...</a> <a id="3891" class="Symbol">|</a> <a id="3893" class="Symbol">(</a><a id="3894" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3894" class="Bound">gaid</a> <a id="3899" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3901" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3901" class="Bound">gast</a><a id="3905" class="Symbol">)</a> <a id="3907" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3909" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3909" class="Bound">gaid-gast-∈-removed</a> <a id="3929" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3931" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3931" class="Bound">rwa-dp-c-∈-map</a> <a id="3946" class="Keyword">with</a> <a id="3951" class="Symbol">(</a><a id="3952" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3957" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="3963" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3931" class="Bound">rwa-dp-c-∈-map</a><a id="3977" class="Symbol">)</a>
      <a id="3985" class="Symbol">...</a> <a id="3989" class="Symbol">|</a> <a id="3991" class="Symbol">(_</a> <a id="3994" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3996" class="Symbol">_)</a> <a id="3999" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4001" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4006" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4008" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4008" class="Bound">q∈</a> <a id="4011" class="Symbol">=</a>
        <a id="4021" href="Function.Bundles.html#4808" class="Field">to</a> <a id="4024" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="4030" class="Symbol">((</a><a id="4032" class="Bound">gaid</a> <a id="4037" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4039" class="Bound">gast</a><a id="4043" class="Symbol">)</a>
                 <a id="4062" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4064" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4070" class="Symbol">(</a><a id="4071" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a> <a id="4079" class="Symbol">(</a><a id="4080" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="4086" class="Symbol">(</a><a id="4087" href="Axiom.Set.Map.html#16216" class="Function">res-singleton&#39;&#39;</a> <a id="4103" class="Symbol">{</a><a id="4104" class="Argument">m</a> <a id="4106" class="Symbol">=</a> <a id="4108" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2954" class="Function">utxoDeps</a><a id="4116" class="Symbol">}</a> <a id="4118" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4008" class="Bound">q∈</a><a id="4120" class="Symbol">)))</a>
                 <a id="4141" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4143" class="Bound">gaid-gast-∈-removed</a><a id="4162" class="Symbol">)</a>

    <a id="4169" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4169" class="Function">map-filter-decomp</a> <a id="4187" class="Symbol">:</a> <a id="4189" class="Symbol">∀</a> <a id="4191" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4191" class="Bound">a</a> <a id="4193" class="Symbol">→</a> <a id="4195" class="Symbol">(</a><a id="4196" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4191" class="Bound">a</a> <a id="4198" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4200" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a> <a id="4204" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4206" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4191" class="Bound">a</a> <a id="4208" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="4211" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#779" class="Function">map&#39;</a> <a id="4216" class="Symbol">(</a><a id="4217" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="4234" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4236" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4241" class="Symbol">)</a> <a id="4243" class="Symbol">(</a><a id="4244" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="4255" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="4258" class="Symbol">))</a>
                               <a id="4292" href="Function.Bundles.html#12398" class="Function Operator">⇔</a> <a id="4294" class="Symbol">(</a><a id="4295" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4191" class="Bound">a</a> <a id="4297" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="4300" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#779" class="Function">map&#39;</a> <a id="4305" class="Symbol">(</a><a id="4306" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="4323" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4325" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4330" class="Symbol">)(</a><a id="4332" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="4339" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2909" class="Function">P?</a> <a id="4342" class="Symbol">(</a><a id="4343" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="4354" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="4357" class="Symbol">)))</a>
    <a id="4365" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4169" class="Function">map-filter-decomp</a> <a id="4383" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4383" class="Bound">a</a> <a id="4385" class="Symbol">=</a> <a id="4387" href="Function.Bundles.html#13497" class="Function">mk⇔</a> <a id="4391" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4432" class="Function">i</a> <a id="4393" class="Symbol">(λ</a> <a id="4396" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4396" class="Bound">h</a> <a id="4398" class="Symbol">→</a> <a id="4400" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4831" class="Function">ii</a> <a id="4403" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4396" class="Bound">h</a> <a id="4405" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4407" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5112" class="Function">iii</a> <a id="4411" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4396" class="Bound">h</a><a id="4412" class="Symbol">)</a>
      <a id="4420" class="Keyword">where</a>
      <a id="4432" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4432" class="Function">i</a> <a id="4434" class="Symbol">:</a> <a id="4436" class="Symbol">((</a><a id="4438" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4383" class="Bound">a</a> <a id="4440" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4442" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a><a id="4445" class="Symbol">)</a> <a id="4447" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4449" class="Symbol">(</a><a id="4450" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4383" class="Bound">a</a> <a id="4452" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="4455" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#779" class="Function">map&#39;</a> <a id="4460" class="Symbol">(</a><a id="4461" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="4478" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4480" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4485" class="Symbol">)</a> <a id="4487" class="Symbol">(</a><a id="4488" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="4499" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="4502" class="Symbol">)))</a>
          <a id="4516" class="Symbol">→</a> <a id="4518" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4383" class="Bound">a</a> <a id="4520" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="4523" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#779" class="Function">map&#39;</a> <a id="4528" class="Symbol">(</a><a id="4529" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="4546" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4548" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4553" class="Symbol">)</a> <a id="4555" class="Symbol">(</a><a id="4556" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="4563" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2909" class="Function">P?</a> <a id="4566" class="Symbol">(</a><a id="4567" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="4578" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="4581" class="Symbol">))</a>
      <a id="4590" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4432" class="Function">i</a> <a id="4592" class="Symbol">(</a><a id="4593" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4593" class="Bound">a∉ΔΠ&#39;</a> <a id="4599" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4601" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4601" class="Bound">a∈</a><a id="4603" class="Symbol">)</a> <a id="4605" class="Keyword">with</a> <a id="4610" href="Function.Bundles.html#7416" class="Field">Inverse.from</a> <a id="4623" class="Symbol">(</a><a id="4624" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4631" class="Symbol">(</a><a id="4632" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="4649" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4651" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4656" class="Symbol">))</a> <a id="4659" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4601" class="Bound">a∈</a>
      <a id="4668" class="Symbol">...</a> <a id="4672" class="Symbol">|</a> <a id="4674" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4674" class="Bound">b</a> <a id="4676" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4678" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4678" class="Bound">b∈</a> <a id="4681" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4683" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4688" class="Symbol">=</a> <a id="4690" href="Function.Bundles.html#7392" class="Field">Inverse.to</a> <a id="4701" class="Symbol">(</a><a id="4702" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4709" class="Symbol">(</a><a id="4710" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="4727" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4729" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4734" class="Symbol">))</a>
                                       <a id="4776" class="Symbol">(</a><a id="4777" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4674" class="Bound">b</a> <a id="4779" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4781" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a> <a id="4791" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2909" class="Function">P?</a> <a id="4794" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4678" class="Bound">b∈</a> <a id="4797" class="Symbol">(</a><a id="4798" class="Bound">a∉ΔΠ&#39;</a> <a id="4804" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4806" href="Axiom.Set.Properties.html#5166" class="Function">∈-map⁺-∘</a><a id="4814" class="Symbol">)</a> <a id="4816" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4818" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="4822" class="Symbol">)</a>

      <a id="4831" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4831" class="Function">ii</a> <a id="4834" class="Symbol">:</a> <a id="4836" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4383" class="Bound">a</a> <a id="4838" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="4841" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#779" class="Function">map&#39;</a> <a id="4846" class="Symbol">(</a><a id="4847" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="4864" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4866" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4871" class="Symbol">)</a> <a id="4873" class="Symbol">(</a><a id="4874" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="4881" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2909" class="Function">P?</a> <a id="4884" class="Symbol">(</a><a id="4885" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="4896" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="4899" class="Symbol">))</a> <a id="4902" class="Symbol">→</a> <a id="4904" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4383" class="Bound">a</a> <a id="4906" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4908" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a>
      <a id="4918" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4831" class="Function">ii</a> <a id="4921" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4921" class="Bound">a∈</a> <a id="4924" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4924" class="Bound">a∈ΔΠ&#39;</a> <a id="4930" class="Keyword">with</a> <a id="4935" href="Function.Bundles.html#4832" class="Field">from</a> <a id="4940" class="Symbol">(</a><a id="4941" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a> <a id="4955" class="Symbol">{</a><a id="4956" class="Argument">l</a> <a id="4958" class="Symbol">=</a> <a id="4960" class="Symbol">(</a><a id="4961" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="4972" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="4975" class="Symbol">)}</a> <a id="4978" class="Symbol">{</a><a id="4979" class="Argument">P?</a> <a id="4982" class="Symbol">=</a> <a id="4984" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2909" class="Function">P?</a><a id="4986" class="Symbol">})</a> <a id="4989" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4921" class="Bound">a∈</a>
      <a id="4998" class="Symbol">...</a> <a id="5002" class="Symbol">|</a> <a id="5004" class="Symbol">_</a> <a id="5006" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5008" class="Symbol">_</a> <a id="5010" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5012" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5017" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5019" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5019" class="Bound">Pb</a> <a id="5022" class="Keyword">with</a> <a id="5027" href="Axiom.Set.Properties.html#1617" class="Function">∈-map⁻&#39;</a> <a id="5035" class="Bound">a∈ΔΠ&#39;</a>
      <a id="5047" class="Symbol">...</a> <a id="5051" class="Symbol">|</a> <a id="5053" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5053" class="Bound">q</a> <a id="5055" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5057" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5062" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5064" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5064" class="Bound">q∈rem</a> <a id="5070" class="Symbol">=</a> <a id="5072" class="Bound">Pb</a> <a id="5075" class="Symbol">(</a><a id="5076" href="Function.Bundles.html#4808" class="Field">to</a> <a id="5079" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="5085" class="Symbol">(</a><a id="5086" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5053" class="Bound">q</a> <a id="5088" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5090" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5095" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5097" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5064" class="Bound">q∈rem</a><a id="5102" class="Symbol">))</a>

      <a id="5112" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5112" class="Function">iii</a> <a id="5116" class="Symbol">:</a> <a id="5118" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4383" class="Bound">a</a> <a id="5120" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="5123" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#779" class="Function">map&#39;</a> <a id="5128" class="Symbol">(</a><a id="5129" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="5146" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5148" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5153" class="Symbol">)</a> <a id="5155" class="Symbol">(</a><a id="5156" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="5163" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2909" class="Function">P?</a> <a id="5166" class="Symbol">(</a><a id="5167" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="5178" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="5181" class="Symbol">))</a>
            <a id="5196" class="Symbol">→</a> <a id="5198" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4383" class="Bound">a</a> <a id="5200" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="5203" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#779" class="Function">map&#39;</a> <a id="5208" class="Symbol">(</a><a id="5209" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="5226" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5228" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5233" class="Symbol">)</a> <a id="5235" class="Symbol">(</a><a id="5236" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="5247" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="5250" class="Symbol">)</a>
      <a id="5258" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5112" class="Function">iii</a> <a id="5262" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5262" class="Bound">a∈</a> <a id="5265" class="Keyword">with</a> <a id="5270" href="Function.Bundles.html#4832" class="Field">from</a> <a id="5275" class="Symbol">(</a><a id="5276" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a> <a id="5290" class="Symbol">{</a><a id="5291" class="Argument">l</a> <a id="5293" class="Symbol">=</a> <a id="5295" class="Symbol">(</a><a id="5296" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="5307" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="5310" class="Symbol">)}</a> <a id="5313" class="Symbol">{</a><a id="5314" class="Argument">P?</a> <a id="5317" class="Symbol">=</a> <a id="5319" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2909" class="Function">P?</a><a id="5321" class="Symbol">})</a> <a id="5324" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5262" class="Bound">a∈</a>
      <a id="5333" class="Symbol">...</a> <a id="5337" class="Symbol">|</a> <a id="5339" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5339" class="Bound">b</a> <a id="5341" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5343" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5343" class="Bound">b∈</a> <a id="5346" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5348" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5353" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5355" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5355" class="Bound">Pb</a> <a id="5358" class="Symbol">=</a> <a id="5360" href="Function.Bundles.html#7392" class="Field">Inverse.to</a> <a id="5371" class="Symbol">(</a><a id="5372" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="5379" class="Symbol">(</a><a id="5380" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="5397" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5399" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5404" class="Symbol">))</a> <a id="5407" class="Symbol">(</a><a id="5408" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5339" class="Bound">b</a> <a id="5410" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5412" class="Symbol">(</a><a id="5413" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5343" class="Bound">b∈</a> <a id="5416" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5418" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5422" class="Symbol">))</a>


    <a id="5431" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5431" class="Function">main-invariance-lemma</a> <a id="5453" class="Symbol">:</a>
        <a id="5463" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="5471" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="5483" class="Symbol">(</a><a id="5484" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5488" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2954" class="Function">utxoDeps</a><a id="5496" class="Symbol">)</a> <a id="5498" href="Axiom.Set.html#2830" class="Function Operator">≡ᵉ&#39;</a> <a id="5502" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="5511" class="Symbol">(</a><a id="5512" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#779" class="Function">map&#39;</a> <a id="5517" class="Symbol">(</a><a id="5518" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="5535" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5537" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5542" class="Symbol">)</a> <a id="5544" class="Symbol">(</a><a id="5545" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="5556" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="5559" class="Symbol">))</a>
        <a id="5570" class="Comment">---------------------------------------------------------------------------------------------------</a>
      <a id="5676" class="Symbol">→</a> <a id="5678" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="5686" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="5698" class="Symbol">(</a><a id="5699" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5703" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3109" class="Function">utxoDeps&#39;</a><a id="5712" class="Symbol">)</a> <a id="5714" href="Axiom.Set.html#2830" class="Function Operator">≡ᵉ&#39;</a> <a id="5718" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="5727" class="Symbol">(</a><a id="5728" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#779" class="Function">map&#39;</a> <a id="5733" class="Symbol">(</a><a id="5734" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="5751" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5753" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5758" class="Symbol">)</a> <a id="5760" class="Symbol">(</a><a id="5761" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="5768" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2909" class="Function">P?</a> <a id="5771" class="Symbol">(</a><a id="5772" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="5783" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="5786" class="Symbol">)))</a>

    <a id="5795" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5431" class="Function">main-invariance-lemma</a> <a id="5817" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5817" class="Bound">HYP</a> <a id="5821" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="5823" class="Symbol">=</a> <a id="5825" class="Keyword">let</a> <a id="5829" class="Keyword">open</a> <a id="5834" href="Function.Related.Propositional.html#9292" class="Module">R.EquationalReasoning</a> <a id="5856" class="Keyword">in</a>
      <a id="5865" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="5867" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5869" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="5877" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="5889" class="Symbol">(</a><a id="5890" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5894" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3109" class="Function">utxoDeps&#39;</a><a id="5903" class="Symbol">)</a>                          <a id="5930" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5933" href="Function.Related.Propositional.html#8306" class="Function">R.SK-sym</a> <a id="5942" href="Axiom.Set.html#5784" class="Function">∈-filter</a> <a id="5951" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5959" class="Symbol">(</a><a id="5960" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="5972" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="5974" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5976" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="5978" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5980" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5984" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3109" class="Function">utxoDeps&#39;</a><a id="5993" class="Symbol">)</a>                              <a id="6024" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6027" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6036" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6043" href="Axiom.Set.Rel.html#8204" class="Function">∈-resᶜ-dom</a> <a id="6054" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6062" class="Symbol">(</a><a id="6063" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="6075" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6077" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6079" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6081" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6083" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a> <a id="6087" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6089" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6092" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6092" class="Bound">q</a> <a id="6094" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6096" class="Symbol">(</a><a id="6097" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6099" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6101" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6092" class="Bound">q</a><a id="6102" class="Symbol">)</a> <a id="6104" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6106" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2954" class="Function">utxoDeps</a><a id="6114" class="Symbol">)</a>             <a id="6128" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6131" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a> <a id="6140" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6148" class="Symbol">(</a><a id="6149" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6151" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6153" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a> <a id="6157" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6159" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="6171" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6173" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6175" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6178" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6178" class="Bound">q</a> <a id="6180" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6182" class="Symbol">(</a><a id="6183" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6185" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6187" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6178" class="Bound">q</a><a id="6188" class="Symbol">)</a> <a id="6190" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6192" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2954" class="Function">utxoDeps</a><a id="6200" class="Symbol">)</a>             <a id="6214" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6217" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6226" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6233" class="Symbol">(</a><a id="6234" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6243" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6250" href="Axiom.Set.Rel.html#2687" class="Function">dom∈</a><a id="6254" class="Symbol">)</a><a id="6255" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6263" class="Symbol">(</a><a id="6264" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6266" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6268" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a> <a id="6272" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6274" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="6286" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6288" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6290" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6292" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6294" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6298" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2954" class="Function">utxoDeps</a><a id="6306" class="Symbol">)</a>                      <a id="6329" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6332" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6341" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6348" href="Axiom.Set.html#5784" class="Function">∈-filter</a> <a id="6357" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6365" class="Symbol">(</a><a id="6366" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6368" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6370" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a> <a id="6374" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6376" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6378" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6380" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="6388" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="6400" class="Symbol">(</a><a id="6401" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6405" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2954" class="Function">utxoDeps</a><a id="6413" class="Symbol">))</a>                <a id="6431" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6434" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6443" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6450" class="Symbol">(</a><a id="6451" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5817" class="Bound">HYP</a> <a id="6455" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a><a id="6456" class="Symbol">)</a> <a id="6458" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6466" class="Symbol">(</a><a id="6467" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6469" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6471" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a> <a id="6475" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6477" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6479" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6481" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="6490" class="Symbol">(</a><a id="6491" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#779" class="Function">map&#39;</a> <a id="6496" class="Symbol">(</a><a id="6497" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="6514" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6516" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6521" class="Symbol">)</a> <a id="6523" class="Symbol">(</a><a id="6524" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="6535" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="6538" class="Symbol">)))</a>  <a id="6543" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6546" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6555" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6562" class="Symbol">(</a><a id="6563" href="Function.Related.Propositional.html#8306" class="Function">R.SK-sym</a> <a id="6572" href="Axiom.Set.html#5961" class="Function">∈-fromList</a><a id="6582" class="Symbol">)</a><a id="6583" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6591" class="Symbol">(</a><a id="6592" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6594" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6596" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2682" class="Function">ΔΠ&#39;</a> <a id="6600" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6602" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6604" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="6607" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#779" class="Function">map&#39;</a> <a id="6612" class="Symbol">(</a><a id="6613" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="6630" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6632" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6637" class="Symbol">)</a> <a id="6639" class="Symbol">(</a><a id="6640" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="6651" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="6654" class="Symbol">))</a>            <a id="6668" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6671" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4169" class="Function">map-filter-decomp</a> <a id="6689" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6691" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6699" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6701" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="6704" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#779" class="Function">map&#39;</a> <a id="6709" class="Symbol">(</a><a id="6710" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="6727" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6729" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6734" class="Symbol">)</a> <a id="6736" class="Symbol">(</a><a id="6737" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="6744" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2909" class="Function">P?</a> <a id="6747" class="Symbol">(</a><a id="6748" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="6759" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="6762" class="Symbol">))</a>           <a id="6775" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6778" href="Axiom.Set.html#5961" class="Function">∈-fromList</a> <a id="6789" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6797" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5821" class="Bound">a</a> <a id="6799" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6801" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="6810" class="Symbol">(</a><a id="6811" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#779" class="Function">map&#39;</a> <a id="6816" class="Symbol">(</a><a id="6817" href="Ledger.Conway.Specification.Certs.html#760" class="InductiveConstructor">GovActionDeposit</a> <a id="6834" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6836" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6841" class="Symbol">)</a> <a id="6843" class="Symbol">(</a><a id="6844" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="6851" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2909" class="Function">P?</a> <a id="6854" class="Symbol">(</a><a id="6855" href="Ledger.Conway.Specification.Gov.html#1525" class="Field">GovStateOf</a> <a id="6866" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="6869" class="Symbol">)))</a> <a id="6873" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

    <a id="6880" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="6884" class="Symbol">=</a> <a id="6886" class="Keyword">record</a> <a id="6893" class="Symbol">(</a><a id="6894" href="Ledger.Conway.Specification.Ledger.html#1182" class="Field">LStateOf</a> <a id="6903" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2463" class="Bound">eps&#39;</a><a id="6907" class="Symbol">)</a>
           <a id="6920" class="Symbol">{</a> <a id="6922" href="Ledger.Conway.Specification.Ledger.html#1047" class="Field">utxoSt</a> <a id="6929" class="Symbol">=</a> <a id="6931" href="Ledger.Conway.Specification.Epoch.html#15141" class="Function">Pre-POOLREAPUpdate.utxoSt&#39;</a> <a id="6958" class="Symbol">(</a><a id="6959" href="Ledger.Conway.Specification.Ledger.html#1182" class="Field">LStateOf</a> <a id="6968" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="6971" class="Symbol">)</a> <a id="6973" class="Symbol">(</a><a id="6974" href="Ledger.Conway.Specification.Enact.html#791" class="Field">EnactStateOf</a> <a id="6987" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="6990" class="Symbol">)</a> <a id="6992" class="Symbol">(</a><a id="6993" href="Ledger.Conway.Specification.Epoch.html#14595" class="Function">GovernanceUpdate.updates</a> <a id="7018" class="Symbol">((</a><a id="7020" href="Ledger.Conway.Specification.Ledger.html#1182" class="Field">LStateOf</a> <a id="7029" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="7032" class="Symbol">))</a> <a id="7035" class="Symbol">((</a><a id="7037" href="Ledger.Conway.Specification.Ratify.html#3728" class="Field">RatifyStateOf</a> <a id="7051" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="7054" class="Symbol">)))</a> <a id="7058" class="Symbol">}</a>

    <a id="7065" class="Keyword">open</a> <a id="7070" href="Ledger.Conway.Specification.Ledger.html#988" class="Module">LState</a>
    <a id="7081" class="Keyword">open</a> <a id="7086" href="Ledger.Conway.Specification.Certs.html#4152" class="Module">CertState</a>

    <a id="7101" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a> <a id="7117" class="Symbol">:</a> <a id="7119" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7121" href="Ledger.Conway.Specification.Certs.html#571" class="Datatype">DepositPurpose</a>
    <a id="7140" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a> <a id="7156" class="Symbol">=</a> <a id="7158" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#793" class="Function">map</a> <a id="7162" href="Ledger.Conway.Specification.Certs.html#654" class="InductiveConstructor">PoolDeposit</a> <a id="7174" class="Symbol">((</a><a id="7176" href="Ledger.Conway.Specification.Certs.html#1648" class="Field">RetiringOf</a> <a id="7187" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="7190" class="Symbol">)</a><a id="7191" href="Axiom.Set.Map.html#17957" class="Function Operator">⁻¹</a> <a id="7194" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2470" class="Bound">e</a><a id="7195" class="Symbol">)</a>

    <a id="7202" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7202" class="Function">d≡PoolDepositA</a>
      <a id="7223" class="Symbol">:</a> <a id="7225" class="Symbol">(</a><a id="7226" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7226" class="Bound">d</a> <a id="7228" class="Symbol">:</a> <a id="7230" href="Ledger.Conway.Specification.Certs.html#571" class="Datatype">DepositPurpose</a><a id="7244" class="Symbol">)</a>
      <a id="7252" class="Symbol">→</a> <a id="7254" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7226" class="Bound">d</a> <a id="7256" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="7258" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7262" class="Symbol">(</a><a id="7263" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="7274" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="7278" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="7280" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a><a id="7295" class="Symbol">)</a>
      <a id="7303" class="Symbol">→</a> <a id="7305" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="7308" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7308" class="Bound">kh</a> <a id="7311" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="7313" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7226" class="Bound">d</a> <a id="7315" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7317" href="Ledger.Conway.Specification.Certs.html#654" class="InductiveConstructor">PoolDeposit</a> <a id="7329" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7308" class="Bound">kh</a>
    <a id="7336" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7202" class="Function">d≡PoolDepositA</a> <a id="7351" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7351" class="Bound">d</a> <a id="7353" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7353" class="Bound">d∈res</a> <a id="7359" class="Symbol">=</a>
      <a id="7367" href="Data.Product.Base.html#2362" class="Function">Product.map₂</a> <a id="7380" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7386" href="Function.Base.html#1993" class="Function Operator">$</a>
        <a id="7396" href="Axiom.Set.Properties.html#1617" class="Function">∈-map⁻&#39;</a> <a id="7404" href="Function.Base.html#1993" class="Function Operator">$</a>       <a id="7412" class="Comment">-- (∃[ a ] d ≡ PoolDeposit a × a ∈ _)</a>
         <a id="7459" href="Axiom.Set.Rel.html#6896" class="Function">res-dom</a> <a id="7467" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7353" class="Bound">d∈res</a>  <a id="7474" class="Comment">-- d ∈ retiredDeposits</a>
      <a id="7503" class="Keyword">where</a> <a id="7509" class="Keyword">import</a> <a id="7516" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="7534" class="Symbol">as</a> <a id="7537" class="Module">Product</a> <a id="7545" class="Keyword">using</a> <a id="7551" class="Symbol">(</a><a id="7552" href="Data.Product.Base.html#2362" class="Function">map₂</a><a id="7556" class="Symbol">)</a>

    <a id="7563" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7563" class="Function">noGADepositIsRetired</a>
      <a id="7590" class="Symbol">:</a> <a id="7592" class="Symbol">(</a><a id="7593" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7593" class="Bound">d</a> <a id="7595" class="Symbol">:</a> <a id="7597" href="Ledger.Conway.Specification.Certs.html#571" class="Datatype">DepositPurpose</a><a id="7611" class="Symbol">)</a>
      <a id="7619" class="Symbol">→</a> <a id="7621" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7593" class="Bound">d</a> <a id="7623" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="7625" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7629" class="Symbol">(</a><a id="7630" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="7641" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="7645" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="7647" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a><a id="7662" class="Symbol">)</a>
      <a id="7670" class="Symbol">→</a> <a id="7672" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="7674" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="7686" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7593" class="Bound">d</a>
    <a id="7692" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7563" class="Function">noGADepositIsRetired</a> <a id="7713" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7713" class="Bound">d</a> <a id="7715" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7715" class="Bound">d∈res</a> <a id="7721" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7721" class="Bound">dIsGA</a>
     <a id="7732" class="Keyword">rewrite</a> <a id="7740" class="Symbol">(</a><a id="7741" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="7747" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="7749" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7202" class="Function">d≡PoolDepositA</a> <a id="7764" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7713" class="Bound">d</a> <a id="7766" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7715" class="Bound">d∈res</a><a id="7771" class="Symbol">)</a>
     <a id="7778" class="Keyword">with</a> <a id="7783" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7721" class="Bound">dIsGA</a>
    <a id="7793" class="Symbol">...</a> <a id="7797" class="Symbol">|</a> <a id="7799" class="Symbol">()</a>

    <a id="7807" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7807" class="Function">dropRetiredDeposits</a> <a id="7827" class="Symbol">:</a>
      <a id="7835" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="7843" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="7855" class="Symbol">(</a><a id="7856" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7860" class="Symbol">(</a><a id="7861" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="7872" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="7876" href="Axiom.Set.Map.html#13606" class="Function Operator">∣</a> <a id="7878" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a> <a id="7894" href="Axiom.Set.Map.html#13606" class="Function Operator">ᶜ</a><a id="7895" class="Symbol">))</a> <a id="7898" href="Axiom.Set.html#2772" class="Function Operator">≡ᵉ</a>
        <a id="7909" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="7917" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="7929" class="Symbol">(</a><a id="7930" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7934" class="Symbol">(</a><a id="7935" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="7946" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a><a id="7949" class="Symbol">))</a>
    <a id="7956" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7807" class="Function">dropRetiredDeposits</a> <a id="7976" class="Symbol">=</a> <a id="7978" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="7990" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="7998" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="8010" class="Symbol">(</a><a id="8011" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8015" class="Symbol">(</a><a id="8016" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="8027" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="8031" href="Axiom.Set.Map.html#13606" class="Function Operator">∣</a> <a id="8033" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a> <a id="8049" href="Axiom.Set.Map.html#13606" class="Function Operator">ᶜ</a><a id="8050" class="Symbol">))</a>

        <a id="8062" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="8065" href="Axiom.Set.Properties.html#13869" class="Function">∪-identityˡ</a> <a id="8077" class="Symbol">_</a> <a id="8079" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>

      <a id="8088" href="abstract-set-theory.FiniteSetTheory.html#530" class="Function">∅ˢ</a> <a id="8091" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="8093" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="8101" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="8113" class="Symbol">(</a><a id="8114" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8118" class="Symbol">(</a><a id="8119" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="8130" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="8134" href="Axiom.Set.Map.html#13606" class="Function Operator">∣</a> <a id="8136" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a> <a id="8152" href="Axiom.Set.Map.html#13606" class="Function Operator">ᶜ</a><a id="8153" class="Symbol">))</a>

        <a id="8165" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="8168" href="Axiom.Set.Properties.html#12502" class="Function">∪-cong</a>
             <a id="8188" class="Symbol">(</a><a id="8189" href="Axiom.Set.Properties.html#9294" class="Function">filter-∅</a> <a id="8198" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7563" class="Function">noGADepositIsRetired</a><a id="8218" class="Symbol">)</a>
             <a id="8233" class="Symbol">(</a><a id="8234" href="Relation.Binary.Structures.html#1641" class="Field">IsEquivalence.refl</a> <a id="8253" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a><a id="8269" class="Symbol">)</a>
         <a id="8280" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>

      <a id="8289" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="8297" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="8309" class="Symbol">(</a><a id="8310" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8314" class="Symbol">(</a><a id="8315" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="8326" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="8330" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="8332" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a><a id="8347" class="Symbol">))</a>
      <a id="8356" href="Axiom.Set.html#9137" class="Function Operator">∪</a>
      <a id="8364" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="8372" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="8384" class="Symbol">(</a><a id="8385" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8389" class="Symbol">(</a><a id="8390" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="8401" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="8405" href="Axiom.Set.Map.html#13606" class="Function Operator">∣</a> <a id="8407" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a> <a id="8423" href="Axiom.Set.Map.html#13606" class="Function Operator">ᶜ</a><a id="8424" class="Symbol">))</a>

        <a id="8436" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="8439" href="Axiom.Set.Properties.html#10954" class="Function">filter-hom-∪</a> <a id="8452" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>

      <a id="8461" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="8469" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a>
        <a id="8489" class="Symbol">(</a><a id="8490" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8494" class="Symbol">(</a><a id="8495" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="8506" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="8510" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="8512" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a><a id="8527" class="Symbol">)</a>
         <a id="8538" href="Axiom.Set.html#9137" class="Function Operator">∪</a>
         <a id="8549" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8553" class="Symbol">(</a><a id="8554" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="8565" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="8569" href="Axiom.Set.Map.html#13606" class="Function Operator">∣</a> <a id="8571" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a> <a id="8587" href="Axiom.Set.Map.html#13606" class="Function Operator">ᶜ</a><a id="8588" class="Symbol">)</a>
        <a id="8598" class="Symbol">)</a>

        <a id="8609" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="8612" href="Axiom.Set.Properties.html#9685" class="Function">filter-cong</a> <a id="8624" href="Axiom.Set.Rel.html#3951" class="Function">dom∪</a> <a id="8629" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>

      <a id="8638" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="8646" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a>
        <a id="8666" class="Symbol">(</a><a id="8667" href="Class.IsSet.html#916" class="Function">dom</a>
          <a id="8681" class="Symbol">((</a><a id="8683" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="8694" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="8698" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="8700" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a><a id="8715" class="Symbol">)</a> <a id="8717" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a>
            <a id="8731" href="Axiom.Set.html#9137" class="Function Operator">∪</a>
           <a id="8744" class="Symbol">(</a><a id="8745" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="8756" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="8760" href="Axiom.Set.Map.html#13606" class="Function Operator">∣</a> <a id="8762" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a> <a id="8778" href="Axiom.Set.Map.html#13606" class="Function Operator">ᶜ</a><a id="8779" class="Symbol">)</a> <a id="8781" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a>
          <a id="8793" class="Symbol">)</a>
        <a id="8803" class="Symbol">)</a>

        <a id="8814" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="8817" href="Relation.Binary.Structures.html#1641" class="Field">IsEquivalence.refl</a> <a id="8836" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a> <a id="8853" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>

      <a id="8862" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="8870" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a>
        <a id="8890" class="Symbol">(</a><a id="8891" href="Axiom.Set.Rel.html#1526" class="Function">Rel.dom</a>
          <a id="8909" class="Symbol">(((</a><a id="8912" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="8923" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="8927" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="8928" class="Symbol">)</a> <a id="8930" href="abstract-set-theory.FiniteSetTheory.html#1327" class="Function Operator">∣ʳ</a> <a id="8933" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a><a id="8948" class="Symbol">)</a>
            <a id="8962" href="Axiom.Set.html#9137" class="Function Operator">∪</a>
           <a id="8975" class="Symbol">((</a><a id="8977" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="8988" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="8992" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="8993" class="Symbol">)</a> <a id="8995" href="abstract-set-theory.FiniteSetTheory.html#1341" class="Function Operator">∣ʳ</a> <a id="8998" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7101" class="Function">retiredDeposits</a> <a id="9014" href="abstract-set-theory.FiniteSetTheory.html#1341" class="Function Operator">ᶜ</a><a id="9015" class="Symbol">)</a>
          <a id="9027" class="Symbol">)</a>
        <a id="9037" class="Symbol">)</a>

        <a id="9048" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="9051" href="Axiom.Set.Properties.html#9685" class="Function">filter-cong</a> <a id="9063" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="9065" href="Axiom.Set.Rel.html#4544" class="Function">dom-cong</a> <a id="9074" class="Symbol">(</a><a id="9075" href="Axiom.Set.Rel.html#8320" class="Function">res-ex-∪</a> <a id="9084" href="Class.Decidable.Core.html#680" class="Function">dec¹</a><a id="9088" class="Symbol">)</a> <a id="9090" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>

      <a id="9099" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="9107" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1004" class="Function">isGADeposit</a> <a id="9119" class="Symbol">(</a><a id="9120" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9124" class="Symbol">(</a><a id="9125" href="Ledger.Conway.Specification.Certs.html#922" class="Field">DepositsOf</a> <a id="9136" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a><a id="9139" class="Symbol">))</a>
      <a id="9148" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

      <a id="9157" class="Keyword">where</a>
        <a id="9171" class="Keyword">open</a> <a id="9176" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="9192" class="Symbol">(</a><a id="9193" href="Axiom.Set.Properties.html#3967" class="Function">≡ᵉ-Setoid</a> <a id="9203" class="Symbol">{</a><a id="9204" class="Argument">A</a> <a id="9206" class="Symbol">=</a> <a id="9208" href="Ledger.Conway.Specification.Certs.html#571" class="Datatype">DepositPurpose</a><a id="9222" class="Symbol">})</a>
        <a id="9233" class="Keyword">open</a> <a id="9238" class="Keyword">import</a> <a id="9245" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="9261" class="Keyword">using</a> <a id="9267" class="Symbol">(</a><a id="9268" href="Relation.Binary.Structures.html#1595" class="Record">IsEquivalence</a><a id="9281" class="Symbol">)</a>
        <a id="9291" class="Keyword">import</a> <a id="9298" href="Axiom.Set.Rel.html" class="Module">Axiom.Set.Rel</a> <a id="9312" href="Axiom.Set.html#10936" class="Function">th</a> <a id="9315" class="Symbol">as</a> <a id="9318" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9318" class="Module">Rel</a>

    <a id="9327" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9327" class="Function">mainProof</a>
     <a id="9342" class="Symbol">:</a> <a id="9344" class="Symbol">_</a> <a id="9346" href="Ledger.Conway.Specification.Epoch.html#16868" class="Datatype Operator">⊢</a> <a id="9348" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a> <a id="9352" href="Ledger.Conway.Specification.Epoch.html#16868" class="Datatype Operator">⇀⦇</a> <a id="9355" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2470" class="Bound">e</a> <a id="9357" href="Ledger.Conway.Specification.Epoch.html#16868" class="Datatype Operator">,EPOCH⦈</a> <a id="9365" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2463" class="Bound">eps&#39;</a>
     <a id="9375" class="Symbol">→</a> <a id="9377" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1215" class="Function">govDepsMatch</a> <a id="9390" class="Symbol">(</a><a id="9391" href="Ledger.Conway.Specification.Ledger.html#1182" class="Field">LStateOf</a> <a id="9400" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="9403" class="Symbol">)</a> <a id="9405" class="Symbol">→</a> <a id="9407" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1215" class="Function">govDepsMatch</a> <a id="9420" class="Symbol">(</a><a id="9421" href="Ledger.Conway.Specification.Ledger.html#1182" class="Field">LStateOf</a> <a id="9430" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2463" class="Bound">eps&#39;</a><a id="9434" class="Symbol">)</a>
    <a id="9440" class="Comment">-- Pattern matching POOLREAP used to be done in EPOCH-govDepsMatch directly.</a>
    <a id="9521" class="Comment">-- However, that made typechecking much slower.</a>
    <a id="9573" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9327" class="Function">mainProof</a> <a id="9583" class="Symbol">(</a><a id="9584" href="Ledger.Conway.Specification.Epoch.html#16938" class="InductiveConstructor">EPOCH</a> <a id="9590" class="Symbol">(</a><a id="9591" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9591" class="Bound">x</a> <a id="9593" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9595" href="Ledger.Conway.Specification.PoolReap.html#947" class="InductiveConstructor">POOLREAP</a> <a id="9604" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9606" class="Symbol">_))</a> <a id="9610" class="Symbol">=</a> <a id="9612" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9906" class="Function">poolReapMatch</a> <a id="9626" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9628" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9666" class="Function">ratifiesSnapMatch</a>
      <a id="9652" class="Keyword">where</a>
        <a id="9666" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9666" class="Function">ratifiesSnapMatch</a> <a id="9684" class="Symbol">:</a> <a id="9686" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1215" class="Function">govDepsMatch</a> <a id="9699" class="Symbol">(</a><a id="9700" href="Ledger.Conway.Specification.Ledger.html#1182" class="Field">LStateOf</a> <a id="9709" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2169" class="Bound">eps</a><a id="9712" class="Symbol">)</a> <a id="9714" class="Symbol">→</a> <a id="9716" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1215" class="Function">govDepsMatch</a> <a id="9729" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a>
        <a id="9741" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9666" class="Function">ratifiesSnapMatch</a> <a id="9759" class="Symbol">=</a>
          <a id="9771" href="Relation.Binary.Structures.html#1693" class="Function">≡ᵉ.trans</a> <a id="9780" class="Symbol">(</a><a id="9781" href="Axiom.Set.Properties.html#9685" class="Function">filter-cong</a> <a id="9793" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="9795" href="Axiom.Set.Rel.html#4544" class="Function">dom-cong</a> <a id="9804" class="Symbol">(</a><a id="9805" href="Axiom.Set.Rel.html#7107" class="Function">res-comp-cong</a> <a id="9819" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="9821" href="Relation.Binary.Structures.html#1667" class="Function">≡ᵉ.sym</a> <a id="9828" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3168" class="Function">ΔΠ&#39;≡ΔΠ</a><a id="9834" class="Symbol">))</a>
          <a id="9847" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9849" href="Function.Bundles.html#4832" class="Field">from</a> <a id="9854" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a> <a id="9861" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9863" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5431" class="Function">main-invariance-lemma</a> <a id="9885" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="9887" href="Function.Bundles.html#4808" class="Field">to</a> <a id="9890" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a>

        <a id="9906" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9906" class="Function">poolReapMatch</a> <a id="9920" class="Symbol">:</a> <a id="9922" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1215" class="Function">govDepsMatch</a> <a id="9935" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">ls₁</a> <a id="9939" class="Symbol">→</a> <a id="9941" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1215" class="Function">govDepsMatch</a> <a id="9954" class="Symbol">(</a><a id="9955" href="Ledger.Conway.Specification.Ledger.html#1182" class="Field">LStateOf</a> <a id="9964" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2463" class="Bound">eps&#39;</a><a id="9968" class="Symbol">)</a>
        <a id="9978" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9906" class="Function">poolReapMatch</a> <a id="9992" class="Symbol">=</a> <a id="9994" href="Relation.Binary.Structures.html#1693" class="Function">≡ᵉ.trans</a> <a id="10003" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7807" class="Function">dropRetiredDeposits</a>

</pre></body></html>