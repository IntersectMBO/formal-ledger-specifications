<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="78" class="Keyword">open</a> <a id="83" class="Keyword">import</a> <a id="90" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>

<a id="128" class="Keyword">module</a> <a id="135" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html" class="Module">Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch</a>
  <a id="195" class="Symbol">(</a><a id="196" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#196" class="Bound">txs</a> <a id="200" class="Symbol">:</a> <a id="202" class="Symbol">_)</a> <a id="205" class="Symbol">(</a><a id="206" class="Keyword">open</a> <a id="211" href="Ledger.Conway.Specification.Transaction.html#1000" class="Module">TransactionStructure</a> <a id="232" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#196" class="Bound">txs</a><a id="235" class="Symbol">)</a>
  <a id="239" class="Symbol">(</a><a id="240" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#240" class="Bound">abs</a> <a id="244" class="Symbol">:</a> <a id="246" href="Ledger.Conway.Specification.Abstract.html#641" class="Record">AbstractFunctions</a> <a id="264" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#196" class="Bound">txs</a><a id="267" class="Symbol">)</a> <a id="269" class="Symbol">(</a><a id="270" class="Keyword">open</a> <a id="275" href="Ledger.Conway.Specification.Abstract.html#641" class="Module">AbstractFunctions</a> <a id="293" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#240" class="Bound">abs</a><a id="296" class="Symbol">)</a>
  <a id="300" class="Keyword">where</a>


<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="354" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="367" class="Keyword">open</a> <a id="372" class="Keyword">import</a> <a id="379" href="Ledger.Conway.Specification.Epoch.html" class="Module">Ledger.Conway.Specification.Epoch</a> <a id="413" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#196" class="Bound">txs</a> <a id="417" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#240" class="Bound">abs</a>
<a id="421" class="Keyword">open</a> <a id="426" class="Keyword">import</a> <a id="433" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="468" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#196" class="Bound">txs</a> <a id="472" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#240" class="Bound">abs</a>
<a id="476" class="Keyword">open</a> <a id="481" class="Keyword">import</a> <a id="488" href="Ledger.Conway.Specification.Ledger.Properties.html" class="Module">Ledger.Conway.Specification.Ledger.Properties</a> <a id="534" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#196" class="Bound">txs</a> <a id="538" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#240" class="Bound">abs</a>
<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="569" class="Keyword">renaming</a> <a id="578" class="Symbol">(</a><a id="579" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="583" class="Symbol">to</a> <a id="586" class="Function">map&#39;</a><a id="590" class="Symbol">;</a> <a id="592" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="597" class="Symbol">to</a> <a id="600" class="Function">map</a><a id="603" class="Symbol">)</a>
<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="Ledger.Conway.Specification.Ratify.html" class="Module">Ledger.Conway.Specification.Ratify</a> <a id="652" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#196" class="Bound">txs</a> <a id="656" class="Keyword">hiding</a> <a id="663" class="Symbol">(</a><a id="664" href="Ledger.Conway.Specification.Ratify.html#880" class="Function">vote</a><a id="668" class="Symbol">)</a>
<a id="670" class="Keyword">open</a> <a id="675" class="Keyword">import</a> <a id="682" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="715" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#196" class="Bound">txs</a> <a id="719" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#240" class="Bound">abs</a>

<a id="724" class="Keyword">open</a> <a id="729" class="Keyword">import</a> <a id="736" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="757" href="Axiom.Set.html#10669" class="Function">th</a>

<a id="761" class="Keyword">open</a> <a id="766" class="Keyword">import</a> <a id="773" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="788" class="Keyword">using</a> <a id="794" class="Symbol">(</a><a id="795" href="Data.List.Base.html#10687" class="Function">filter</a><a id="801" class="Symbol">)</a>
<a id="803" class="Keyword">open</a> <a id="808" class="Keyword">import</a> <a id="815" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a> <a id="861" class="Keyword">using</a> <a id="867" class="Symbol">(</a><a id="868" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a><a id="877" class="Symbol">;</a> <a id="879" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a><a id="885" class="Symbol">)</a>
<a id="887" class="Keyword">open</a> <a id="892" class="Keyword">import</a> <a id="899" href="stdlib.Data.List.Subpermutations.html" class="Module">stdlib.Data.List.Subpermutations</a> <a id="932" class="Keyword">using</a> <a id="938" class="Symbol">(</a><a id="939" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a><a id="952" class="Symbol">)</a>
<a id="954" class="Keyword">open</a> <a id="959" class="Keyword">import</a> <a id="966" href="Data.Product.Function.NonDependent.Propositional.html" class="Module">Data.Product.Function.NonDependent.Propositional</a> <a id="1015" class="Keyword">using</a> <a id="1021" class="Symbol">(</a><a id="1022" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">_×-cong_</a><a id="1030" class="Symbol">)</a>
<a id="1032" class="Keyword">open</a> <a id="1037" class="Keyword">import</a> <a id="1044" href="Data.Product.Properties.html" class="Module">Data.Product.Properties</a> <a id="1068" class="Keyword">using</a> <a id="1074" class="Symbol">(</a><a id="1075" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a><a id="1082" class="Symbol">)</a>
<a id="1084" class="Keyword">open</a> <a id="1089" class="Keyword">import</a> <a id="1096" href="Data.Product.Properties.Ext.html" class="Module">Data.Product.Properties.Ext</a> <a id="1124" class="Keyword">using</a> <a id="1130" class="Symbol">(</a><a id="1131" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a><a id="1139" class="Symbol">)</a>

<a id="1142" class="Keyword">open</a> <a id="1147" class="Keyword">import</a> <a id="1154" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1169" class="Keyword">using</a> <a id="1175" class="Symbol">(</a><a id="1176" href="Relation.Unary.html#4543" class="Function">Decidable</a><a id="1185" class="Symbol">)</a>

<a id="1188" class="Keyword">open</a> <a id="1193" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="1206" class="Keyword">import</a> <a id="1213" href="Function.Related.Propositional.html" class="Module">Function.Related.Propositional</a> <a id="1244" class="Symbol">as</a> <a id="1247" class="Module">R</a>
<a id="1249" class="Keyword">import</a> <a id="1256" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1289" class="Symbol">as</a> <a id="1292" class="Module">SetoidReasoning</a>

<a id="1309" class="Keyword">module</a> <a id="EPOCH-Body"></a><a id="1316" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1316" class="Module">EPOCH-Body</a> <a id="1327" class="Symbol">(</a><a id="1328" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1328" class="Bound">eps</a> <a id="1332" class="Symbol">:</a> <a id="1334" href="Ledger.Conway.Specification.Epoch.html#1604" class="Record">EpochState</a><a id="1344" class="Symbol">)</a> <a id="1346" class="Keyword">where</a>
  <a id="1354" class="Keyword">open</a> <a id="1359" href="Ledger.Conway.Specification.Epoch.html#1604" class="Module">EpochState</a> <a id="1370" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1328" class="Bound">eps</a> <a id="1374" class="Keyword">hiding</a> <a id="1381" class="Symbol">(</a><a id="1382" href="Ledger.Conway.Specification.Epoch.html#1745" class="Field">es</a><a id="1384" class="Symbol">)</a> <a id="1386" class="Keyword">renaming</a> <a id="1395" class="Symbol">(</a><a id="1396" href="Ledger.Conway.Specification.Epoch.html#1721" class="Field">ls</a> <a id="1399" class="Symbol">to</a> <a id="1402" class="Field">epsLState</a><a id="1411" class="Symbol">;</a> <a id="1413" href="Ledger.Conway.Specification.Epoch.html#1773" class="Field">fut</a> <a id="1417" class="Symbol">to</a> <a id="1420" class="Field">epsRState</a><a id="1429" class="Symbol">)</a> <a id="1431" class="Keyword">public</a>
  <a id="1440" class="Keyword">open</a> <a id="1445" href="Ledger.Conway.Specification.Ratify.html#3378" class="Module">RatifyState</a> <a id="1457" class="Keyword">renaming</a> <a id="1466" class="Symbol">(</a><a id="1467" href="Ledger.Conway.Specification.Ratify.html#3415" class="Field">es</a> <a id="1470" class="Symbol">to</a> <a id="1473" class="Field">ensRState</a><a id="1482" class="Symbol">)</a> <a id="1484" class="Keyword">public</a>
  <a id="1493" class="Keyword">open</a> <a id="1498" href="Ledger.Conway.Specification.Ledger.html#977" class="Module">LState</a> <a id="1505" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1402" class="Field">epsLState</a> <a id="1515" class="Keyword">public</a>
  <a id="1524" class="Keyword">open</a> <a id="1529" href="Ledger.Conway.Specification.Gov.Actions.html#2740" class="Module">GovActionState</a> <a id="1544" class="Keyword">public</a>
  <a id="1553" class="Keyword">open</a> <a id="1558" href="Ledger.Conway.Specification.Utxo.html#1474" class="Module">UTxOState</a> <a id="1568" class="Keyword">public</a>

  <a id="EPOCH-Body.ens"></a><a id="1578" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1578" class="Function">ens</a>      <a id="1587" class="Symbol">=</a> <a id="1589" class="Keyword">record</a> <a id="1596" class="Symbol">(</a><a id="1597" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1420" class="Field">epsRState</a> <a id="1607" class="Symbol">.</a><a id="1608" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1473" class="Field">ensRState</a><a id="1617" class="Symbol">)</a> <a id="1619" class="Symbol">{</a> <a id="1621" href="Ledger.Conway.Specification.Enact.html#696" class="Field">withdrawals</a> <a id="1633" class="Symbol">=</a> <a id="1635" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="1637" class="Symbol">}</a>
  <a id="EPOCH-Body.tmpGovSt"></a><a id="1641" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1641" class="Function">tmpGovSt</a> <a id="1650" class="Symbol">=</a> <a id="1652" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="1659" class="Symbol">(λ</a> <a id="1662" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1662" class="Bound">x</a> <a id="1664" class="Symbol">→</a> <a id="1666" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="1668" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1674" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1662" class="Bound">x</a> <a id="1676" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="1678" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#600" class="Function">map</a> <a id="1682" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1688" class="Symbol">(</a><a id="1689" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1420" class="Field">epsRState</a> <a id="1699" class="Symbol">.</a><a id="1700" href="Ledger.Conway.Specification.Ratify.html#3448" class="Field">removed</a><a id="1707" class="Symbol">)</a> <a id="1709" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a><a id="1710" class="Symbol">)</a> <a id="1712" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a>
  <a id="EPOCH-Body.orphans"></a><a id="1720" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1720" class="Function">orphans</a>  <a id="1729" class="Symbol">=</a> <a id="1731" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="1740" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="1742" href="Ledger.Conway.Specification.Epoch.html#7822" class="Function">getOrphans</a> <a id="1753" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1578" class="Function">ens</a> <a id="1757" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1641" class="Function">tmpGovSt</a>
  <a id="EPOCH-Body.removed&#39;"></a><a id="1768" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1768" class="Function">removed&#39;</a> <a id="1777" class="Symbol">:</a> <a id="1779" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1781" class="Symbol">(</a><a id="1782" href="Ledger.Conway.Specification.Gov.Actions.html#422" class="Function">GovActionID</a> <a id="1794" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1796" href="Ledger.Conway.Specification.Gov.Actions.html#2740" class="Record">GovActionState</a><a id="1810" class="Symbol">)</a>
  <a id="1814" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1768" class="Function">removed&#39;</a> <a id="1823" class="Symbol">=</a> <a id="1825" class="Symbol">(</a><a id="1826" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1420" class="Field">epsRState</a> <a id="1836" class="Symbol">.</a><a id="1837" href="Ledger.Conway.Specification.Ratify.html#3448" class="Field">removed</a><a id="1844" class="Symbol">)</a> <a id="1846" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="1848" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1720" class="Function">orphans</a>
  <a id="EPOCH-Body.removedGovActions"></a><a id="1858" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1858" class="Function">removedGovActions</a> <a id="1876" class="Symbol">=</a> <a id="1878" href="Function.Base.html#1638" class="Function">flip</a> <a id="1883" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="1894" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1768" class="Function">removed&#39;</a> <a id="1903" class="Symbol">λ</a> <a id="1905" class="Symbol">(</a><a id="1906" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1906" class="Bound">gaid</a> <a id="1911" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1913" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1913" class="Bound">gaSt</a><a id="1917" class="Symbol">)</a> <a id="1919" class="Symbol">→</a>
    <a id="1925" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#600" class="Function">map</a> <a id="1929" class="Symbol">(</a><a id="1930" href="Ledger.Conway.Specification.Gov.Actions.html#2811" class="Field">returnAddr</a> <a id="1941" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1913" class="Bound">gaSt</a> <a id="1946" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="1948" class="Symbol">)</a> <a id="1950" class="Symbol">((</a><a id="1952" href="Ledger.Conway.Specification.Utxo.html#1582" class="Field">deposits</a> <a id="1961" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="1968" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="1970" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="1972" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="1989" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1906" class="Bound">gaid</a> <a id="1994" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="1995" class="Symbol">)</a> <a id="1997" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1998" class="Symbol">)</a>

<a id="2001" class="Keyword">module</a> <a id="EPOCH-PROPS"></a><a id="2008" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2008" class="Module">EPOCH-PROPS</a> <a id="2020" class="Symbol">{</a><a id="2021" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2021" class="Bound">eps</a> <a id="2025" class="Symbol">:</a> <a id="2027" href="Ledger.Conway.Specification.Epoch.html#1604" class="Record">EpochState</a><a id="2037" class="Symbol">}</a> <a id="2039" class="Keyword">where</a>
  <a id="2047" class="Keyword">open</a> <a id="2052" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1316" class="Module">EPOCH-Body</a> <a id="2063" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2021" class="Bound">eps</a>
  <a id="2069" class="Keyword">open</a> <a id="2074" href="Ledger.Conway.Specification.Epoch.html#1604" class="Module">EpochState</a>


  <a id="EPOCH-PROPS.EPOCH-govDepsMatch"></a><a id="2089" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2089" class="Function">EPOCH-govDepsMatch</a> <a id="2108" class="Symbol">:</a>  <a id="2111" class="Symbol">{</a><a id="2112" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2112" class="Bound">eps&#39;</a> <a id="2117" class="Symbol">:</a> <a id="2119" href="Ledger.Conway.Specification.Epoch.html#1604" class="Record">EpochState</a><a id="2129" class="Symbol">}</a> <a id="2131" class="Symbol">{</a><a id="2132" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2132" class="Bound">e</a> <a id="2134" class="Symbol">:</a> <a id="2136" href="Ledger.Core.Specification.Epoch.html#598" class="Function">Epoch</a><a id="2141" class="Symbol">}</a>
    <a id="2147" class="Symbol">→</a> <a id="2149" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#600" class="Function">map</a> <a id="2153" class="Symbol">(</a><a id="2154" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="2171" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2173" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2178" class="Symbol">)</a> <a id="2180" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1768" class="Function">removed&#39;</a> <a id="2189" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="2191" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2195" class="Symbol">(</a><a id="2196" href="Ledger.Conway.Specification.Certs.html#746" class="Field">DepositsOf</a> <a id="2207" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2021" class="Bound">eps</a><a id="2210" class="Symbol">)</a>
    <a id="2216" class="Symbol">→</a> <a id="2218" class="Symbol">_</a> <a id="2220" href="Ledger.Conway.Specification.Epoch.html#9144" class="Datatype Operator">⊢</a> <a id="2222" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2021" class="Bound">eps</a> <a id="2226" href="Ledger.Conway.Specification.Epoch.html#9144" class="Datatype Operator">⇀⦇</a> <a id="2229" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2132" class="Bound">e</a> <a id="2231" href="Ledger.Conway.Specification.Epoch.html#9144" class="Datatype Operator">,EPOCH⦈</a> <a id="2239" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2112" class="Bound">eps&#39;</a>
    <a id="2248" class="Symbol">→</a> <a id="2250" href="Ledger.Conway.Specification.Ledger.Properties.html#4434" class="Function">govDepsMatch</a> <a id="2263" class="Symbol">(</a><a id="2264" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2021" class="Bound">eps</a> <a id="2268" class="Symbol">.</a><a id="2269" href="Ledger.Conway.Specification.Epoch.html#1721" class="Field">ls</a><a id="2271" class="Symbol">)</a> <a id="2273" class="Symbol">→</a> <a id="2275" href="Ledger.Conway.Specification.Ledger.Properties.html#4434" class="Function">govDepsMatch</a> <a id="2288" class="Symbol">(</a><a id="2289" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2112" class="Bound">eps&#39;</a> <a id="2294" class="Symbol">.</a><a id="2295" href="Ledger.Conway.Specification.Epoch.html#1721" class="Field">ls</a><a id="2297" class="Symbol">)</a>


  <a id="2303" class="Comment">-- Proof.</a>
  <a id="2315" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2089" class="Function">EPOCH-govDepsMatch</a> <a id="2334" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2334" class="Bound">ratify-removed</a> <a id="2349" class="Symbol">(</a><a id="2350" href="Ledger.Conway.Specification.Epoch.html#9214" class="InductiveConstructor">EPOCH</a> <a id="2356" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2356" class="Bound">x</a> <a id="2358" class="Symbol">_)</a> <a id="2361" class="Symbol">=</a>
      <a id="2369" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="2378" class="Symbol">(</a><a id="2379" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="2394" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2396" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="2405" class="Symbol">(</a><a id="2406" href="Axiom.Set.Rel.html#6892" class="Function">res-comp-cong</a> <a id="2420" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2422" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="2429" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3162" class="Function">ΔΠ&#39;≡ΔΠ</a><a id="2435" class="Symbol">))</a>
      <a id="2444" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2446" href="Function.Bundles.html#4834" class="Field">from</a> <a id="2451" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a> <a id="2458" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2460" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5326" class="Function">main-invariance-lemma</a> <a id="2482" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2484" href="Function.Bundles.html#4810" class="Field">to</a> <a id="2487" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a>
    <a id="2498" class="Keyword">where</a>

    <a id="2509" class="Comment">-- the combinator used in the EPOCH rule</a>
    <a id="2554" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2554" class="Function">ΔΠ</a> <a id="2557" class="Symbol">:</a> <a id="2559" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2561" href="Ledger.Conway.Specification.Certs.html#349" class="Datatype">DepositPurpose</a>
    <a id="2580" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2554" class="Function">ΔΠ</a> <a id="2583" class="Symbol">=</a> <a id="2585" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#600" class="Function">map</a> <a id="2589" class="Symbol">(</a><a id="2590" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2596" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2598" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="2603" class="Symbol">)</a> <a id="2605" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1858" class="Function">removedGovActions</a>

    <a id="2628" class="Comment">-- a simpler combinator that suffices here;</a>
    <a id="2676" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a> <a id="2680" class="Symbol">:</a> <a id="2682" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2684" href="Ledger.Conway.Specification.Certs.html#349" class="Datatype">DepositPurpose</a>
    <a id="2703" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a> <a id="2707" class="Symbol">=</a> <a id="2709" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#600" class="Function">map</a> <a id="2713" class="Symbol">(</a><a id="2714" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="2731" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2733" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2738" class="Symbol">)</a> <a id="2740" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1768" class="Function">removed&#39;</a>
    <a id="2753" class="Comment">-- Below we prove ΔΠ and ΔΠ&#39; are essentially equivalent.</a>

    <a id="2815" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2815" class="Function">P</a> <a id="2817" class="Symbol">:</a> <a id="2819" href="Ledger.Conway.Specification.Gov.Actions.html#422" class="Function">GovActionID</a> <a id="2831" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2833" href="Ledger.Conway.Specification.Gov.Actions.html#2740" class="Record">GovActionState</a> <a id="2848" class="Symbol">→</a> <a id="2850" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="2859" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2815" class="Function">P</a> <a id="2861" class="Symbol">=</a> <a id="2863" class="Symbol">λ</a> <a id="2865" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2865" class="Bound">u</a> <a id="2867" class="Symbol">→</a> <a id="2869" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2875" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2865" class="Bound">u</a> <a id="2877" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="2879" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#600" class="Function">map</a> <a id="2883" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2889" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1768" class="Function">removed&#39;</a>

    <a id="2903" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2903" class="Function">P?</a> <a id="2906" class="Symbol">:</a> <a id="2908" href="Relation.Unary.html#4543" class="Function">Decidable</a> <a id="2918" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2815" class="Function">P</a>
    <a id="2924" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2903" class="Function">P?</a> <a id="2927" class="Symbol">=</a> <a id="2929" class="Symbol">λ</a> <a id="2931" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2931" class="Bound">u</a> <a id="2933" class="Symbol">→</a> <a id="2935" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="2937" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2815" class="Function">P</a> <a id="2939" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2931" class="Bound">u</a> <a id="2941" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a>

    <a id="2948" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2948" class="Function">utxoDeps</a> <a id="2957" class="Symbol">:</a> <a id="2959" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a>
    <a id="2972" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2948" class="Function">utxoDeps</a> <a id="2981" class="Symbol">=</a> <a id="2983" href="Ledger.Conway.Specification.Utxo.html#1582" class="Field">UTxOState.deposits</a> <a id="3002" class="Symbol">(</a><a id="3003" href="Ledger.Conway.Specification.Ledger.html#1036" class="Field">LState.utxoSt</a> <a id="3017" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1402" class="Field">epsLState</a><a id="3026" class="Symbol">)</a>

    <a id="3033" class="Comment">-- utxo deposits restricted to new form of set used in EPOCH rule</a>
    <a id="3103" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3103" class="Function">utxoDeps&#39;</a> <a id="3113" class="Symbol">:</a> <a id="3115" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a>
    <a id="3128" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3103" class="Function">utxoDeps&#39;</a> <a id="3138" class="Symbol">=</a> <a id="3140" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2948" class="Function">utxoDeps</a> <a id="3149" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="3151" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a> <a id="3155" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a>

    <a id="3162" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3162" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="3169" class="Symbol">:</a> <a id="3171" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a> <a id="3175" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="3178" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2554" class="Function">ΔΠ</a>
    <a id="3185" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3162" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="3192" class="Symbol">=</a> <a id="3194" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3228" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3201" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3203" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3739" class="Function">ΔΠ⊆ΔΠ&#39;</a>
      <a id="3216" class="Keyword">where</a>
      <a id="3228" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3228" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3235" class="Symbol">:</a> <a id="3237" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a> <a id="3241" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="3243" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2554" class="Function">ΔΠ</a>
      <a id="3252" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3228" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3259" class="Symbol">{</a><a id="3260" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3260" class="Bound">a</a><a id="3261" class="Symbol">}</a> <a id="3263" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3263" class="Bound">x</a> <a id="3265" class="Keyword">with</a> <a id="3270" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3275" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3281" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3263" class="Bound">x</a>
      <a id="3289" class="Symbol">...</a> <a id="3293" class="Symbol">|</a> <a id="3295" class="Symbol">(</a><a id="3296" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3296" class="Bound">gaid</a> <a id="3301" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3303" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3303" class="Bound">gast</a><a id="3307" class="Symbol">)</a> <a id="3309" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3311" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3316" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3318" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3318" class="Bound">gaidgast∈rem</a> <a id="3331" class="Keyword">with</a> <a id="3336" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3341" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3347" class="Symbol">(</a><a id="3348" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2334" class="Bound">ratify-removed</a> <a id="3363" class="Bound">x</a><a id="3364" class="Symbol">)</a>
      <a id="3372" class="Symbol">...</a> <a id="3376" class="Symbol">|</a> <a id="3378" class="Symbol">(</a><a id="3379" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3379" class="Bound">dp</a> <a id="3382" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3384" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3384" class="Bound">c</a><a id="3385" class="Symbol">)</a> <a id="3387" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3389" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3394" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3396" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3396" class="Bound">dpc∈utxoDeps</a> <a id="3409" class="Symbol">=</a> <a id="3411" class="Keyword">let</a> <a id="3415" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3415" class="Bound">gadc</a> <a id="3420" class="Symbol">=</a> <a id="3422" class="Symbol">(</a><a id="3423" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="3440" class="Bound">gaid</a> <a id="3445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3447" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3384" class="Bound">c</a><a id="3448" class="Symbol">)</a> <a id="3450" class="Keyword">in</a>
        <a id="3461" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3464" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3470" class="Symbol">((</a><a id="3472" href="Ledger.Conway.Specification.Gov.Actions.html#2811" class="Field">returnAddr</a> <a id="3483" class="Symbol">{</a><a id="3484" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#196" class="Bound">txs</a><a id="3487" class="Symbol">}</a> <a id="3489" class="Bound">gast</a> <a id="3494" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3496" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3415" class="Bound">gadc</a><a id="3500" class="Symbol">)</a>
                 <a id="3519" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3521" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
                 <a id="3543" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3545" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3548" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="3561" class="Symbol">((</a><a id="3563" class="Bound">gaid</a> <a id="3568" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3570" class="Bound">gast</a><a id="3574" class="Symbol">)</a>
                                   <a id="3611" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3613" class="Bound">gaidgast∈rem</a>
                                   <a id="3661" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3663" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3666" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3672" class="Symbol">(</a><a id="3673" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3415" class="Bound">gadc</a> <a id="3678" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3680" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3685" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3687" href="Axiom.Set.Map.html#12520" class="Function">res-singleton⁺</a> <a id="3702" class="Symbol">{</a><a id="3703" class="Argument">m</a> <a id="3705" class="Symbol">=</a> <a id="3707" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2948" class="Function">utxoDeps</a><a id="3715" class="Symbol">}</a> <a id="3717" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3396" class="Bound">dpc∈utxoDeps</a><a id="3729" class="Symbol">)))</a>
      <a id="3739" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3739" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3746" class="Symbol">:</a> <a id="3748" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2554" class="Function">ΔΠ</a> <a id="3751" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="3753" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a>
      <a id="3763" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3739" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3770" class="Symbol">{</a><a id="3771" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3771" class="Bound">a</a><a id="3772" class="Symbol">}</a> <a id="3774" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3774" class="Bound">x</a> <a id="3776" class="Keyword">with</a> <a id="3781" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3786" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3792" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3774" class="Bound">x</a>
      <a id="3800" class="Symbol">...</a> <a id="3804" class="Symbol">|</a> <a id="3806" class="Symbol">(</a><a id="3807" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3807" class="Bound">rwa</a> <a id="3811" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3813" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3813" class="Bound">dp</a> <a id="3816" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3818" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3818" class="Bound">c</a><a id="3819" class="Symbol">)</a> <a id="3821" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3823" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3828" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3830" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3830" class="Bound">rwa-dp-c∈</a> <a id="3840" class="Keyword">with</a> <a id="3845" class="Symbol">(</a><a id="3846" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3851" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="3864" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3830" class="Bound">rwa-dp-c∈</a><a id="3873" class="Symbol">)</a>
      <a id="3881" class="Symbol">...</a> <a id="3885" class="Symbol">|</a> <a id="3887" class="Symbol">(</a><a id="3888" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3888" class="Bound">gaid</a> <a id="3893" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3895" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3895" class="Bound">gast</a><a id="3899" class="Symbol">)</a> <a id="3901" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3903" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3903" class="Bound">gaid-gast-∈-removed</a> <a id="3923" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3925" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3925" class="Bound">rwa-dp-c-∈-map</a> <a id="3940" class="Keyword">with</a> <a id="3945" class="Symbol">(</a><a id="3946" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3951" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3957" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3925" class="Bound">rwa-dp-c-∈-map</a><a id="3971" class="Symbol">)</a>
      <a id="3979" class="Symbol">...</a> <a id="3983" class="Symbol">|</a> <a id="3985" class="Symbol">(_</a> <a id="3988" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3990" class="Symbol">_)</a> <a id="3993" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3995" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4000" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4002" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4002" class="Bound">q∈</a> <a id="4005" class="Symbol">=</a>
        <a id="4015" href="Function.Bundles.html#4810" class="Field">to</a> <a id="4018" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="4024" class="Symbol">((</a><a id="4026" class="Bound">gaid</a> <a id="4031" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4033" class="Bound">gast</a><a id="4037" class="Symbol">)</a>
                 <a id="4056" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4058" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4064" class="Symbol">(</a><a id="4065" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a> <a id="4073" class="Symbol">(</a><a id="4074" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="4080" class="Symbol">(</a><a id="4081" href="Axiom.Set.Map.html#12964" class="Function">res-singleton&#39;&#39;</a> <a id="4097" class="Symbol">{</a><a id="4098" class="Argument">m</a> <a id="4100" class="Symbol">=</a> <a id="4102" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2948" class="Function">utxoDeps</a><a id="4110" class="Symbol">}</a> <a id="4112" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4002" class="Bound">q∈</a><a id="4114" class="Symbol">)))</a>
                 <a id="4135" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4137" class="Bound">gaid-gast-∈-removed</a><a id="4156" class="Symbol">)</a>

    <a id="4163" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4163" class="Function">map-filter-decomp</a> <a id="4181" class="Symbol">:</a> <a id="4183" class="Symbol">∀</a> <a id="4185" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4185" class="Bound">a</a> <a id="4187" class="Symbol">→</a> <a id="4189" class="Symbol">(</a><a id="4190" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4185" class="Bound">a</a> <a id="4192" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4194" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a> <a id="4198" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4200" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4185" class="Bound">a</a> <a id="4202" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4205" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="4210" class="Symbol">(</a><a id="4211" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4228" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4230" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4235" class="Symbol">)</a> <a id="4237" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="4242" class="Symbol">)</a>
                               <a id="4275" href="Function.Bundles.html#12400" class="Function Operator">⇔</a> <a id="4277" class="Symbol">(</a><a id="4278" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4185" class="Bound">a</a> <a id="4280" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4283" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="4288" class="Symbol">(</a><a id="4289" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4306" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4308" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4313" class="Symbol">)(</a><a id="4315" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4322" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2903" class="Function">P?</a> <a id="4325" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="4330" class="Symbol">))</a>
    <a id="4337" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4163" class="Function">map-filter-decomp</a> <a id="4355" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4355" class="Bound">a</a> <a id="4357" class="Symbol">=</a> <a id="4359" href="Function.Bundles.html#13499" class="Function">mk⇔</a> <a id="4363" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4404" class="Function">i</a> <a id="4365" class="Symbol">(λ</a> <a id="4368" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4368" class="Bound">h</a> <a id="4370" class="Symbol">→</a> <a id="4372" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4781" class="Function">ii</a> <a id="4375" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4368" class="Bound">h</a> <a id="4377" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4379" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5040" class="Function">iii</a> <a id="4383" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4368" class="Bound">h</a><a id="4384" class="Symbol">)</a>
      <a id="4392" class="Keyword">where</a>
      <a id="4404" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4404" class="Function">i</a> <a id="4406" class="Symbol">:</a> <a id="4408" class="Symbol">((</a><a id="4410" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4355" class="Bound">a</a> <a id="4412" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4414" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a><a id="4417" class="Symbol">)</a> <a id="4419" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4421" class="Symbol">(</a><a id="4422" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4355" class="Bound">a</a> <a id="4424" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4427" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="4432" class="Symbol">(</a><a id="4433" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4450" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4452" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4457" class="Symbol">)</a> <a id="4459" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="4464" class="Symbol">))</a>
          <a id="4477" class="Symbol">→</a> <a id="4479" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4355" class="Bound">a</a> <a id="4481" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4484" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="4489" class="Symbol">(</a><a id="4490" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4507" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4509" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4514" class="Symbol">)</a> <a id="4516" class="Symbol">(</a><a id="4517" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4524" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2903" class="Function">P?</a> <a id="4527" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="4532" class="Symbol">)</a>
      <a id="4540" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4404" class="Function">i</a> <a id="4542" class="Symbol">(</a><a id="4543" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4543" class="Bound">a∉ΔΠ&#39;</a> <a id="4549" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4551" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4551" class="Bound">a∈</a><a id="4553" class="Symbol">)</a> <a id="4555" class="Keyword">with</a> <a id="4560" href="Function.Bundles.html#7418" class="Field">Inverse.from</a> <a id="4573" class="Symbol">(</a><a id="4574" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4581" class="Symbol">(</a><a id="4582" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4599" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4601" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4606" class="Symbol">))</a> <a id="4609" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4551" class="Bound">a∈</a>
      <a id="4618" class="Symbol">...</a> <a id="4622" class="Symbol">|</a> <a id="4624" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4624" class="Bound">b</a> <a id="4626" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4628" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4628" class="Bound">b∈</a> <a id="4631" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4633" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4638" class="Symbol">=</a> <a id="4640" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="4651" class="Symbol">(</a><a id="4652" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4659" class="Symbol">(</a><a id="4660" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4677" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4679" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4684" class="Symbol">))</a>
                                       <a id="4726" class="Symbol">(</a><a id="4727" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4624" class="Bound">b</a> <a id="4729" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4731" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a> <a id="4741" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2903" class="Function">P?</a> <a id="4744" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4628" class="Bound">b∈</a> <a id="4747" class="Symbol">(</a><a id="4748" class="Bound">a∉ΔΠ&#39;</a> <a id="4754" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4756" href="Axiom.Set.Properties.html#5166" class="Function">∈-map⁺-∘</a><a id="4764" class="Symbol">)</a> <a id="4766" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4768" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="4772" class="Symbol">)</a>

      <a id="4781" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4781" class="Function">ii</a> <a id="4784" class="Symbol">:</a> <a id="4786" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4355" class="Bound">a</a> <a id="4788" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4791" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="4796" class="Symbol">(</a><a id="4797" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4814" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4816" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4821" class="Symbol">)</a> <a id="4823" class="Symbol">(</a><a id="4824" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4831" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2903" class="Function">P?</a> <a id="4834" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="4839" class="Symbol">)</a> <a id="4841" class="Symbol">→</a> <a id="4843" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4355" class="Bound">a</a> <a id="4845" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4847" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a>
      <a id="4857" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4781" class="Function">ii</a> <a id="4860" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4860" class="Bound">a∈</a> <a id="4863" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4863" class="Bound">a∈ΔΠ&#39;</a> <a id="4869" class="Keyword">with</a> <a id="4874" href="Function.Bundles.html#4834" class="Field">from</a> <a id="4879" class="Symbol">(</a><a id="4880" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a> <a id="4894" class="Symbol">{</a><a id="4895" class="Argument">l</a> <a id="4897" class="Symbol">=</a> <a id="4899" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="4904" class="Symbol">}</a> <a id="4906" class="Symbol">{</a><a id="4907" class="Argument">P?</a> <a id="4910" class="Symbol">=</a> <a id="4912" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2903" class="Function">P?</a><a id="4914" class="Symbol">})</a> <a id="4917" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4860" class="Bound">a∈</a>
      <a id="4926" class="Symbol">...</a> <a id="4930" class="Symbol">|</a> <a id="4932" class="Symbol">_</a> <a id="4934" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4936" class="Symbol">_</a> <a id="4938" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4940" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4945" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4947" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4947" class="Bound">Pb</a> <a id="4950" class="Keyword">with</a> <a id="4955" href="Axiom.Set.Properties.html#1617" class="Function">∈-map⁻&#39;</a> <a id="4963" class="Bound">a∈ΔΠ&#39;</a>
      <a id="4975" class="Symbol">...</a> <a id="4979" class="Symbol">|</a> <a id="4981" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4981" class="Bound">q</a> <a id="4983" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4985" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4990" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4992" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4992" class="Bound">q∈rem</a> <a id="4998" class="Symbol">=</a> <a id="5000" class="Bound">Pb</a> <a id="5003" class="Symbol">(</a><a id="5004" href="Function.Bundles.html#4810" class="Field">to</a> <a id="5007" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="5013" class="Symbol">(</a><a id="5014" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4981" class="Bound">q</a> <a id="5016" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5018" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5023" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5025" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4992" class="Bound">q∈rem</a><a id="5030" class="Symbol">))</a>

      <a id="5040" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5040" class="Function">iii</a> <a id="5044" class="Symbol">:</a> <a id="5046" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4355" class="Bound">a</a> <a id="5048" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="5051" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="5056" class="Symbol">(</a><a id="5057" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="5074" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5076" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5081" class="Symbol">)</a> <a id="5083" class="Symbol">(</a><a id="5084" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="5091" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2903" class="Function">P?</a> <a id="5094" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="5099" class="Symbol">)</a>
            <a id="5113" class="Symbol">→</a> <a id="5115" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4355" class="Bound">a</a> <a id="5117" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="5120" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="5125" class="Symbol">(</a><a id="5126" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="5143" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5145" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5150" class="Symbol">)</a> <a id="5152" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a>
      <a id="5164" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5040" class="Function">iii</a> <a id="5168" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5168" class="Bound">a∈</a> <a id="5171" class="Keyword">with</a> <a id="5176" href="Function.Bundles.html#4834" class="Field">from</a> <a id="5181" class="Symbol">(</a><a id="5182" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a> <a id="5196" class="Symbol">{</a><a id="5197" class="Argument">l</a> <a id="5199" class="Symbol">=</a> <a id="5201" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="5206" class="Symbol">}</a> <a id="5208" class="Symbol">{</a><a id="5209" class="Argument">P?</a> <a id="5212" class="Symbol">=</a> <a id="5214" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2903" class="Function">P?</a><a id="5216" class="Symbol">})</a> <a id="5219" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5168" class="Bound">a∈</a>
      <a id="5228" class="Symbol">...</a> <a id="5232" class="Symbol">|</a> <a id="5234" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5234" class="Bound">b</a> <a id="5236" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5238" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5238" class="Bound">b∈</a> <a id="5241" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5243" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5248" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5250" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5250" class="Bound">Pb</a> <a id="5253" class="Symbol">=</a> <a id="5255" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="5266" class="Symbol">(</a><a id="5267" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="5274" class="Symbol">(</a><a id="5275" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="5292" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5294" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5299" class="Symbol">))</a> <a id="5302" class="Symbol">(</a><a id="5303" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5234" class="Bound">b</a> <a id="5305" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5307" class="Symbol">(</a><a id="5308" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5238" class="Bound">b∈</a> <a id="5311" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5313" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5317" class="Symbol">))</a>


    <a id="5326" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5326" class="Function">main-invariance-lemma</a> <a id="5348" class="Symbol">:</a>
        <a id="5358" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="5366" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="5378" class="Symbol">(</a><a id="5379" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5383" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2948" class="Function">utxoDeps</a><a id="5391" class="Symbol">)</a> <a id="5393" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="5397" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="5406" class="Symbol">(</a><a id="5407" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="5412" class="Symbol">(</a><a id="5413" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="5430" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5432" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5437" class="Symbol">)</a> <a id="5439" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="5444" class="Symbol">)</a>
        <a id="5454" class="Comment">---------------------------------------------------------------------------------------------------</a>
      <a id="5560" class="Symbol">→</a> <a id="5562" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="5570" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="5582" class="Symbol">(</a><a id="5583" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5587" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3103" class="Function">utxoDeps&#39;</a><a id="5596" class="Symbol">)</a> <a id="5598" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="5602" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="5611" class="Symbol">(</a><a id="5612" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="5617" class="Symbol">(</a><a id="5618" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="5635" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5637" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5642" class="Symbol">)</a> <a id="5644" class="Symbol">(</a><a id="5645" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="5652" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2903" class="Function">P?</a> <a id="5655" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="5660" class="Symbol">))</a>

    <a id="5668" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5326" class="Function">main-invariance-lemma</a> <a id="5690" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5690" class="Bound">HYP</a> <a id="5694" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="5696" class="Symbol">=</a> <a id="5698" class="Keyword">let</a> <a id="5702" class="Keyword">open</a> <a id="5707" href="Function.Related.Propositional.html#9123" class="Module">R.EquationalReasoning</a> <a id="5729" class="Keyword">in</a>
      <a id="5738" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="5740" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5742" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="5750" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="5762" class="Symbol">(</a><a id="5763" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5767" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3103" class="Function">utxoDeps&#39;</a><a id="5776" class="Symbol">)</a>                          <a id="5803" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5806" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="5815" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="5824" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5832" class="Symbol">(</a><a id="5833" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="5845" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="5847" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5849" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="5851" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5853" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5857" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3103" class="Function">utxoDeps&#39;</a><a id="5866" class="Symbol">)</a>                              <a id="5897" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5900" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="5909" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="5916" href="Axiom.Set.Rel.html#7819" class="Function">∈-resᶜ-dom</a> <a id="5927" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5935" class="Symbol">(</a><a id="5936" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="5948" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="5950" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5952" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="5954" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="5956" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a> <a id="5960" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5962" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="5965" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5965" class="Bound">q</a> <a id="5967" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="5969" class="Symbol">(</a><a id="5970" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="5972" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5974" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5965" class="Bound">q</a><a id="5975" class="Symbol">)</a> <a id="5977" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5979" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2948" class="Function">utxoDeps</a><a id="5987" class="Symbol">)</a>             <a id="6001" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6004" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a> <a id="6013" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6021" class="Symbol">(</a><a id="6022" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6024" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6026" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a> <a id="6030" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6032" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="6044" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6046" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6048" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6051" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6051" class="Bound">q</a> <a id="6053" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6055" class="Symbol">(</a><a id="6056" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6058" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6060" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6051" class="Bound">q</a><a id="6061" class="Symbol">)</a> <a id="6063" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6065" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2948" class="Function">utxoDeps</a><a id="6073" class="Symbol">)</a>             <a id="6087" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6090" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6099" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6106" class="Symbol">(</a><a id="6107" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6116" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6123" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a><a id="6127" class="Symbol">)</a><a id="6128" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6136" class="Symbol">(</a><a id="6137" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6139" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6141" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a> <a id="6145" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6147" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="6159" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6161" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6163" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6165" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6167" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6171" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2948" class="Function">utxoDeps</a><a id="6179" class="Symbol">)</a>                      <a id="6202" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6205" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6214" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6221" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="6230" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6238" class="Symbol">(</a><a id="6239" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6241" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6243" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a> <a id="6247" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6249" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6251" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6253" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="6261" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="6273" class="Symbol">(</a><a id="6274" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6278" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2948" class="Function">utxoDeps</a><a id="6286" class="Symbol">))</a>                <a id="6304" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6307" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6316" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6323" class="Symbol">(</a><a id="6324" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5690" class="Bound">HYP</a> <a id="6328" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a><a id="6329" class="Symbol">)</a> <a id="6331" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6339" class="Symbol">(</a><a id="6340" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6342" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6344" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a> <a id="6348" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6350" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6352" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6354" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="6363" class="Symbol">(</a><a id="6364" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="6369" class="Symbol">(</a><a id="6370" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="6387" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6389" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6394" class="Symbol">)</a> <a id="6396" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="6401" class="Symbol">))</a>  <a id="6405" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6408" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6417" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6424" class="Symbol">(</a><a id="6425" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="6434" href="Axiom.Set.html#5776" class="Function">∈-fromList</a><a id="6444" class="Symbol">)</a><a id="6445" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6453" class="Symbol">(</a><a id="6454" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6456" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6458" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2676" class="Function">ΔΠ&#39;</a> <a id="6462" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6464" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6466" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="6469" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="6474" class="Symbol">(</a><a id="6475" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="6492" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6494" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6499" class="Symbol">)</a> <a id="6501" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="6506" class="Symbol">)</a>            <a id="6519" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6522" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4163" class="Function">map-filter-decomp</a> <a id="6540" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6542" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6550" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6552" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="6555" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="6560" class="Symbol">(</a><a id="6561" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="6578" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6580" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6585" class="Symbol">)</a> <a id="6587" class="Symbol">(</a><a id="6588" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="6595" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2903" class="Function">P?</a> <a id="6598" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="6603" class="Symbol">)</a>           <a id="6615" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6618" href="Axiom.Set.html#5776" class="Function">∈-fromList</a> <a id="6629" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6637" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5694" class="Bound">a</a> <a id="6639" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6641" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="6650" class="Symbol">(</a><a id="6651" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="6656" class="Symbol">(</a><a id="6657" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="6674" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6676" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6681" class="Symbol">)</a> <a id="6683" class="Symbol">(</a><a id="6684" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="6691" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2903" class="Function">P?</a> <a id="6694" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="6699" class="Symbol">))</a> <a id="6702" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

</pre></body></html>