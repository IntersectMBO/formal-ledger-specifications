<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">

<a id="3" class="Symbol">{-#</a> <a id="7" class="Keyword">OPTIONS</a> <a id="15" class="Pragma">--safe</a> <a id="22" class="Symbol">#-}</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="79" class="Keyword">open</a> <a id="84" class="Keyword">import</a> <a id="91" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>

<a id="129" class="Keyword">module</a> <a id="136" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html" class="Module">Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch</a>
  <a id="196" class="Symbol">(</a><a id="197" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="201" class="Symbol">:</a> <a id="203" class="Symbol">_)</a> <a id="206" class="Symbol">(</a><a id="207" class="Keyword">open</a> <a id="212" href="Ledger.Conway.Specification.Transaction.html#1000" class="Module">TransactionStructure</a> <a id="233" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a><a id="236" class="Symbol">)</a>
  <a id="240" class="Symbol">(</a><a id="241" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a> <a id="245" class="Symbol">:</a> <a id="247" href="Ledger.Conway.Specification.Abstract.html#641" class="Record">AbstractFunctions</a> <a id="265" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a><a id="268" class="Symbol">)</a> <a id="270" class="Symbol">(</a><a id="271" class="Keyword">open</a> <a id="276" href="Ledger.Conway.Specification.Abstract.html#641" class="Module">AbstractFunctions</a> <a id="294" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a><a id="297" class="Symbol">)</a>
  <a id="301" class="Keyword">where</a>

<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="354" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="367" class="Keyword">open</a> <a id="372" class="Keyword">import</a> <a id="379" href="Ledger.Conway.Specification.Epoch.html" class="Module">Ledger.Conway.Specification.Epoch</a> <a id="413" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="417" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>
<a id="421" class="Keyword">open</a> <a id="426" class="Keyword">import</a> <a id="433" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="468" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="472" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>
<a id="476" class="Keyword">open</a> <a id="481" class="Keyword">import</a> <a id="488" href="Ledger.Conway.Specification.Ledger.Properties.html" class="Module">Ledger.Conway.Specification.Ledger.Properties</a> <a id="534" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="538" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>
<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="569" class="Keyword">renaming</a> <a id="578" class="Symbol">(</a><a id="579" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="583" class="Symbol">to</a> <a id="586" class="Function">map&#39;</a><a id="590" class="Symbol">;</a> <a id="592" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="597" class="Symbol">to</a> <a id="600" class="Function">map</a><a id="603" class="Symbol">)</a>
<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="Ledger.Conway.Specification.Ratify.html" class="Module">Ledger.Conway.Specification.Ratify</a> <a id="652" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="656" class="Keyword">hiding</a> <a id="663" class="Symbol">(</a><a id="664" href="Ledger.Conway.Specification.Ratify.html#880" class="Function">vote</a><a id="668" class="Symbol">)</a>
<a id="670" class="Keyword">open</a> <a id="675" class="Keyword">import</a> <a id="682" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="715" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="719" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>

<a id="724" class="Keyword">open</a> <a id="729" class="Keyword">import</a> <a id="736" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="757" href="Axiom.Set.html#10669" class="Function">th</a>

<a id="761" class="Keyword">open</a> <a id="766" class="Keyword">import</a> <a id="773" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="788" class="Keyword">using</a> <a id="794" class="Symbol">(</a><a id="795" href="Data.List.Base.html#10687" class="Function">filter</a><a id="801" class="Symbol">)</a>
<a id="803" class="Keyword">open</a> <a id="808" class="Keyword">import</a> <a id="815" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a> <a id="861" class="Keyword">using</a> <a id="867" class="Symbol">(</a><a id="868" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a><a id="877" class="Symbol">;</a> <a id="879" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a><a id="885" class="Symbol">)</a>
<a id="887" class="Keyword">open</a> <a id="892" class="Keyword">import</a> <a id="899" href="stdlib.Data.List.Subpermutations.html" class="Module">stdlib.Data.List.Subpermutations</a> <a id="932" class="Keyword">using</a> <a id="938" class="Symbol">(</a><a id="939" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a><a id="952" class="Symbol">)</a>
<a id="954" class="Keyword">open</a> <a id="959" class="Keyword">import</a> <a id="966" href="Data.Product.Function.NonDependent.Propositional.html" class="Module">Data.Product.Function.NonDependent.Propositional</a> <a id="1015" class="Keyword">using</a> <a id="1021" class="Symbol">(</a><a id="1022" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">_×-cong_</a><a id="1030" class="Symbol">)</a>
<a id="1032" class="Keyword">open</a> <a id="1037" class="Keyword">import</a> <a id="1044" href="Data.Product.Properties.html" class="Module">Data.Product.Properties</a> <a id="1068" class="Keyword">using</a> <a id="1074" class="Symbol">(</a><a id="1075" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a><a id="1082" class="Symbol">)</a>
<a id="1084" class="Keyword">open</a> <a id="1089" class="Keyword">import</a> <a id="1096" href="Data.Product.Properties.Ext.html" class="Module">Data.Product.Properties.Ext</a> <a id="1124" class="Keyword">using</a> <a id="1130" class="Symbol">(</a><a id="1131" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a><a id="1139" class="Symbol">)</a>

<a id="1142" class="Keyword">open</a> <a id="1147" class="Keyword">import</a> <a id="1154" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1169" class="Keyword">using</a> <a id="1175" class="Symbol">(</a><a id="1176" href="Relation.Unary.html#4543" class="Function">Decidable</a><a id="1185" class="Symbol">)</a>

<a id="1188" class="Keyword">open</a> <a id="1193" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="1206" class="Keyword">import</a> <a id="1213" href="Function.Related.Propositional.html" class="Module">Function.Related.Propositional</a> <a id="1244" class="Symbol">as</a> <a id="1247" class="Module">R</a>
<a id="1249" class="Keyword">import</a> <a id="1256" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1289" class="Symbol">as</a> <a id="1292" class="Module">SetoidReasoning</a>

<a id="1309" class="Keyword">module</a> <a id="EPOCH-Body"></a><a id="1316" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1316" class="Module">EPOCH-Body</a> <a id="1327" class="Symbol">(</a><a id="1328" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1328" class="Bound">eps</a> <a id="1332" class="Symbol">:</a> <a id="1334" href="Ledger.Conway.Specification.Epoch.html#1604" class="Record">EpochState</a><a id="1344" class="Symbol">)</a> <a id="1346" class="Keyword">where</a>
  <a id="1354" class="Keyword">open</a> <a id="1359" href="Ledger.Conway.Specification.Epoch.html#1604" class="Module">EpochState</a> <a id="1370" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1328" class="Bound">eps</a> <a id="1374" class="Keyword">hiding</a> <a id="1381" class="Symbol">(</a><a id="1382" href="Ledger.Conway.Specification.Epoch.html#1745" class="Field">es</a><a id="1384" class="Symbol">)</a> <a id="1386" class="Keyword">renaming</a> <a id="1395" class="Symbol">(</a><a id="1396" href="Ledger.Conway.Specification.Epoch.html#1721" class="Field">ls</a> <a id="1399" class="Symbol">to</a> <a id="1402" class="Field">epsLState</a><a id="1411" class="Symbol">;</a> <a id="1413" href="Ledger.Conway.Specification.Epoch.html#1773" class="Field">fut</a> <a id="1417" class="Symbol">to</a> <a id="1420" class="Field">epsRState</a><a id="1429" class="Symbol">)</a> <a id="1431" class="Keyword">public</a>
  <a id="1440" class="Keyword">open</a> <a id="1445" href="Ledger.Conway.Specification.Ratify.html#3378" class="Module">RatifyState</a> <a id="1457" class="Keyword">renaming</a> <a id="1466" class="Symbol">(</a><a id="1467" href="Ledger.Conway.Specification.Ratify.html#3415" class="Field">es</a> <a id="1470" class="Symbol">to</a> <a id="1473" class="Field">ensRState</a><a id="1482" class="Symbol">)</a> <a id="1484" class="Keyword">public</a>
  <a id="1493" class="Keyword">open</a> <a id="1498" href="Ledger.Conway.Specification.Ledger.html#977" class="Module">LState</a> <a id="1505" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1402" class="Field">epsLState</a> <a id="1515" class="Keyword">public</a>
  <a id="1524" class="Keyword">open</a> <a id="1529" href="Ledger.Conway.Specification.Gov.Actions.html#2740" class="Module">GovActionState</a> <a id="1544" class="Keyword">public</a>
  <a id="1553" class="Keyword">open</a> <a id="1558" href="Ledger.Conway.Specification.Utxo.html#1474" class="Module">UTxOState</a> <a id="1568" class="Keyword">public</a>

  <a id="EPOCH-Body.ens"></a><a id="1578" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1578" class="Function">ens</a>      <a id="1587" class="Symbol">=</a> <a id="1589" class="Keyword">record</a> <a id="1596" class="Symbol">(</a><a id="1597" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1420" class="Field">epsRState</a> <a id="1607" class="Symbol">.</a><a id="1608" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1473" class="Field">ensRState</a><a id="1617" class="Symbol">)</a> <a id="1619" class="Symbol">{</a> <a id="1621" href="Ledger.Conway.Specification.Enact.html#696" class="Field">withdrawals</a> <a id="1633" class="Symbol">=</a> <a id="1635" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="1637" class="Symbol">}</a>
  <a id="EPOCH-Body.tmpGovSt"></a><a id="1641" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1641" class="Function">tmpGovSt</a> <a id="1650" class="Symbol">=</a> <a id="1652" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="1659" class="Symbol">(λ</a> <a id="1662" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1662" class="Bound">x</a> <a id="1664" class="Symbol">→</a> <a id="1666" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="1668" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1674" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1662" class="Bound">x</a> <a id="1676" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="1678" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#600" class="Function">map</a> <a id="1682" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1688" class="Symbol">(</a><a id="1689" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1420" class="Field">epsRState</a> <a id="1699" class="Symbol">.</a><a id="1700" href="Ledger.Conway.Specification.Ratify.html#3448" class="Field">removed</a><a id="1707" class="Symbol">)</a> <a id="1709" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a><a id="1710" class="Symbol">)</a> <a id="1712" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a>
  <a id="EPOCH-Body.orphans"></a><a id="1720" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1720" class="Function">orphans</a>  <a id="1729" class="Symbol">=</a> <a id="1731" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="1740" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="1742" href="Ledger.Conway.Specification.Epoch.html#7822" class="Function">getOrphans</a> <a id="1753" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1578" class="Function">ens</a> <a id="1757" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1641" class="Function">tmpGovSt</a>
  <a id="EPOCH-Body.removed&#39;"></a><a id="1768" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1768" class="Function">removed&#39;</a> <a id="1777" class="Symbol">:</a> <a id="1779" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1781" class="Symbol">(</a><a id="1782" href="Ledger.Conway.Specification.Gov.Actions.html#422" class="Function">GovActionID</a> <a id="1794" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1796" href="Ledger.Conway.Specification.Gov.Actions.html#2740" class="Record">GovActionState</a><a id="1810" class="Symbol">)</a>
  <a id="1814" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1768" class="Function">removed&#39;</a> <a id="1823" class="Symbol">=</a> <a id="1825" class="Symbol">(</a><a id="1826" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1420" class="Field">epsRState</a> <a id="1836" class="Symbol">.</a><a id="1837" href="Ledger.Conway.Specification.Ratify.html#3448" class="Field">removed</a><a id="1844" class="Symbol">)</a> <a id="1846" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="1848" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1720" class="Function">orphans</a>
  <a id="EPOCH-Body.removedGovActions"></a><a id="1858" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1858" class="Function">removedGovActions</a> <a id="1876" class="Symbol">=</a> <a id="1878" href="Function.Base.html#1638" class="Function">flip</a> <a id="1883" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="1894" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1768" class="Function">removed&#39;</a> <a id="1903" class="Symbol">λ</a> <a id="1905" class="Symbol">(</a><a id="1906" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1906" class="Bound">gaid</a> <a id="1911" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1913" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1913" class="Bound">gaSt</a><a id="1917" class="Symbol">)</a> <a id="1919" class="Symbol">→</a>
    <a id="1925" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#600" class="Function">map</a> <a id="1929" class="Symbol">(</a><a id="1930" href="Ledger.Conway.Specification.Gov.Actions.html#2811" class="Field">returnAddr</a> <a id="1941" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1913" class="Bound">gaSt</a> <a id="1946" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="1948" class="Symbol">)</a> <a id="1950" class="Symbol">((</a><a id="1952" href="Ledger.Conway.Specification.Utxo.html#1582" class="Field">deposits</a> <a id="1961" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="1968" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="1970" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="1972" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="1989" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1906" class="Bound">gaid</a> <a id="1994" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="1995" class="Symbol">)</a> <a id="1997" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1998" class="Symbol">)</a>

<a id="2001" class="Keyword">module</a> <a id="EPOCH-PROPS"></a><a id="2008" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2008" class="Module">EPOCH-PROPS</a> <a id="2020" class="Symbol">{</a><a id="2021" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2021" class="Bound">eps</a> <a id="2025" class="Symbol">:</a> <a id="2027" href="Ledger.Conway.Specification.Epoch.html#1604" class="Record">EpochState</a><a id="2037" class="Symbol">}</a> <a id="2039" class="Keyword">where</a>
  <a id="2047" class="Keyword">open</a> <a id="2052" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1316" class="Module">EPOCH-Body</a> <a id="2063" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2021" class="Bound">eps</a>
  <a id="2069" class="Keyword">open</a> <a id="2074" href="Ledger.Conway.Specification.Epoch.html#1604" class="Module">EpochState</a>


  <a id="EPOCH-PROPS.EPOCH-govDepsMatch"></a><a id="2089" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2089" class="Function">EPOCH-govDepsMatch</a> <a id="2108" class="Symbol">:</a>  <a id="2111" class="Symbol">{</a><a id="2112" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2112" class="Bound">eps&#39;</a> <a id="2117" class="Symbol">:</a> <a id="2119" href="Ledger.Conway.Specification.Epoch.html#1604" class="Record">EpochState</a><a id="2129" class="Symbol">}</a> <a id="2131" class="Symbol">{</a><a id="2132" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2132" class="Bound">e</a> <a id="2134" class="Symbol">:</a> <a id="2136" href="Ledger.Core.Specification.Epoch.html#598" class="Function">Epoch</a><a id="2141" class="Symbol">}</a>
    <a id="2147" class="Symbol">→</a> <a id="2149" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#600" class="Function">map</a> <a id="2153" class="Symbol">(</a><a id="2154" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="2171" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2173" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2178" class="Symbol">)</a> <a id="2180" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1768" class="Function">removed&#39;</a> <a id="2189" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="2191" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2195" class="Symbol">(</a><a id="2196" href="Ledger.Conway.Specification.Certs.html#746" class="Field">DepositsOf</a> <a id="2207" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2021" class="Bound">eps</a><a id="2210" class="Symbol">)</a>
    <a id="2216" class="Symbol">→</a> <a id="2218" class="Symbol">_</a> <a id="2220" href="Ledger.Conway.Specification.Epoch.html#9144" class="Datatype Operator">⊢</a> <a id="2222" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2021" class="Bound">eps</a> <a id="2226" href="Ledger.Conway.Specification.Epoch.html#9144" class="Datatype Operator">⇀⦇</a> <a id="2229" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2132" class="Bound">e</a> <a id="2231" href="Ledger.Conway.Specification.Epoch.html#9144" class="Datatype Operator">,EPOCH⦈</a> <a id="2239" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2112" class="Bound">eps&#39;</a>
    <a id="2248" class="Symbol">→</a> <a id="2250" href="Ledger.Conway.Specification.Ledger.Properties.html#4434" class="Function">govDepsMatch</a> <a id="2263" class="Symbol">(</a><a id="2264" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2021" class="Bound">eps</a> <a id="2268" class="Symbol">.</a><a id="2269" href="Ledger.Conway.Specification.Epoch.html#1721" class="Field">ls</a><a id="2271" class="Symbol">)</a> <a id="2273" class="Symbol">→</a> <a id="2275" href="Ledger.Conway.Specification.Ledger.Properties.html#4434" class="Function">govDepsMatch</a> <a id="2288" class="Symbol">(</a><a id="2289" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2112" class="Bound">eps&#39;</a> <a id="2294" class="Symbol">.</a><a id="2295" href="Ledger.Conway.Specification.Epoch.html#1721" class="Field">ls</a><a id="2297" class="Symbol">)</a>



  <a id="2304" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2089" class="Function">EPOCH-govDepsMatch</a> <a id="2323" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2323" class="Bound">ratify-removed</a> <a id="2338" class="Symbol">(</a><a id="2339" href="Ledger.Conway.Specification.Epoch.html#9214" class="InductiveConstructor">EPOCH</a> <a id="2345" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2345" class="Bound">x</a> <a id="2347" class="Symbol">_)</a> <a id="2350" class="Symbol">=</a>
      <a id="2358" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="2367" class="Symbol">(</a><a id="2368" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="2383" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2385" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="2394" class="Symbol">(</a><a id="2395" href="Axiom.Set.Rel.html#6892" class="Function">res-comp-cong</a> <a id="2409" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2411" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="2418" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3151" class="Function">ΔΠ&#39;≡ΔΠ</a><a id="2424" class="Symbol">))</a>
      <a id="2433" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2435" href="Function.Bundles.html#4834" class="Field">from</a> <a id="2440" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a> <a id="2447" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2449" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5315" class="Function">main-invariance-lemma</a> <a id="2471" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2473" href="Function.Bundles.html#4810" class="Field">to</a> <a id="2476" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a>
    <a id="2487" class="Keyword">where</a>

    <a id="2498" class="Comment">-- the combinator used in the EPOCH rule</a>
    <a id="2543" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2543" class="Function">ΔΠ</a> <a id="2546" class="Symbol">:</a> <a id="2548" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2550" href="Ledger.Conway.Specification.Certs.html#349" class="Datatype">DepositPurpose</a>
    <a id="2569" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2543" class="Function">ΔΠ</a> <a id="2572" class="Symbol">=</a> <a id="2574" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#600" class="Function">map</a> <a id="2578" class="Symbol">(</a><a id="2579" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2585" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2587" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="2592" class="Symbol">)</a> <a id="2594" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1858" class="Function">removedGovActions</a>

    <a id="2617" class="Comment">-- a simpler combinator that suffices here;</a>
    <a id="2665" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a> <a id="2669" class="Symbol">:</a> <a id="2671" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2673" href="Ledger.Conway.Specification.Certs.html#349" class="Datatype">DepositPurpose</a>
    <a id="2692" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a> <a id="2696" class="Symbol">=</a> <a id="2698" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#600" class="Function">map</a> <a id="2702" class="Symbol">(</a><a id="2703" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="2720" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2722" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2727" class="Symbol">)</a> <a id="2729" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1768" class="Function">removed&#39;</a>
    <a id="2742" class="Comment">-- Below we prove ΔΠ and ΔΠ&#39; are essentially equivalent.</a>

    <a id="2804" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2804" class="Function">P</a> <a id="2806" class="Symbol">:</a> <a id="2808" href="Ledger.Conway.Specification.Gov.Actions.html#422" class="Function">GovActionID</a> <a id="2820" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2822" href="Ledger.Conway.Specification.Gov.Actions.html#2740" class="Record">GovActionState</a> <a id="2837" class="Symbol">→</a> <a id="2839" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="2848" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2804" class="Function">P</a> <a id="2850" class="Symbol">=</a> <a id="2852" class="Symbol">λ</a> <a id="2854" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2854" class="Bound">u</a> <a id="2856" class="Symbol">→</a> <a id="2858" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2864" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2854" class="Bound">u</a> <a id="2866" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="2868" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#600" class="Function">map</a> <a id="2872" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2878" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1768" class="Function">removed&#39;</a>

    <a id="2892" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2892" class="Function">P?</a> <a id="2895" class="Symbol">:</a> <a id="2897" href="Relation.Unary.html#4543" class="Function">Decidable</a> <a id="2907" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2804" class="Function">P</a>
    <a id="2913" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2892" class="Function">P?</a> <a id="2916" class="Symbol">=</a> <a id="2918" class="Symbol">λ</a> <a id="2920" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2920" class="Bound">u</a> <a id="2922" class="Symbol">→</a> <a id="2924" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="2926" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2804" class="Function">P</a> <a id="2928" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2920" class="Bound">u</a> <a id="2930" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a>

    <a id="2937" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2937" class="Function">utxoDeps</a> <a id="2946" class="Symbol">:</a> <a id="2948" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a>
    <a id="2961" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2937" class="Function">utxoDeps</a> <a id="2970" class="Symbol">=</a> <a id="2972" href="Ledger.Conway.Specification.Utxo.html#1582" class="Field">UTxOState.deposits</a> <a id="2991" class="Symbol">(</a><a id="2992" href="Ledger.Conway.Specification.Ledger.html#1036" class="Field">LState.utxoSt</a> <a id="3006" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1402" class="Field">epsLState</a><a id="3015" class="Symbol">)</a>

    <a id="3022" class="Comment">-- utxo deposits restricted to new form of set used in EPOCH rule</a>
    <a id="3092" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3092" class="Function">utxoDeps&#39;</a> <a id="3102" class="Symbol">:</a> <a id="3104" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a>
    <a id="3117" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3092" class="Function">utxoDeps&#39;</a> <a id="3127" class="Symbol">=</a> <a id="3129" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2937" class="Function">utxoDeps</a> <a id="3138" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="3140" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a> <a id="3144" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a>

    <a id="3151" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3151" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="3158" class="Symbol">:</a> <a id="3160" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a> <a id="3164" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="3167" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2543" class="Function">ΔΠ</a>
    <a id="3174" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3151" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="3181" class="Symbol">=</a> <a id="3183" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3217" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3190" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3192" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3728" class="Function">ΔΠ⊆ΔΠ&#39;</a>
      <a id="3205" class="Keyword">where</a>
      <a id="3217" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3217" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3224" class="Symbol">:</a> <a id="3226" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a> <a id="3230" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="3232" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2543" class="Function">ΔΠ</a>
      <a id="3241" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3217" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3248" class="Symbol">{</a><a id="3249" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3249" class="Bound">a</a><a id="3250" class="Symbol">}</a> <a id="3252" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3252" class="Bound">x</a> <a id="3254" class="Keyword">with</a> <a id="3259" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3264" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3270" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3252" class="Bound">x</a>
      <a id="3278" class="Symbol">...</a> <a id="3282" class="Symbol">|</a> <a id="3284" class="Symbol">(</a><a id="3285" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3285" class="Bound">gaid</a> <a id="3290" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3292" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3292" class="Bound">gast</a><a id="3296" class="Symbol">)</a> <a id="3298" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3300" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3305" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3307" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3307" class="Bound">gaidgast∈rem</a> <a id="3320" class="Keyword">with</a> <a id="3325" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3330" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3336" class="Symbol">(</a><a id="3337" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2323" class="Bound">ratify-removed</a> <a id="3352" class="Bound">x</a><a id="3353" class="Symbol">)</a>
      <a id="3361" class="Symbol">...</a> <a id="3365" class="Symbol">|</a> <a id="3367" class="Symbol">(</a><a id="3368" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3368" class="Bound">dp</a> <a id="3371" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3373" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3373" class="Bound">c</a><a id="3374" class="Symbol">)</a> <a id="3376" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3378" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3383" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3385" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3385" class="Bound">dpc∈utxoDeps</a> <a id="3398" class="Symbol">=</a> <a id="3400" class="Keyword">let</a> <a id="3404" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3404" class="Bound">gadc</a> <a id="3409" class="Symbol">=</a> <a id="3411" class="Symbol">(</a><a id="3412" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="3429" class="Bound">gaid</a> <a id="3434" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3436" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3373" class="Bound">c</a><a id="3437" class="Symbol">)</a> <a id="3439" class="Keyword">in</a>
        <a id="3450" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3453" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3459" class="Symbol">((</a><a id="3461" href="Ledger.Conway.Specification.Gov.Actions.html#2811" class="Field">returnAddr</a> <a id="3472" class="Symbol">{</a><a id="3473" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a><a id="3476" class="Symbol">}</a> <a id="3478" class="Bound">gast</a> <a id="3483" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3485" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3404" class="Bound">gadc</a><a id="3489" class="Symbol">)</a>
                 <a id="3508" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3510" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
                 <a id="3532" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3534" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3537" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="3550" class="Symbol">((</a><a id="3552" class="Bound">gaid</a> <a id="3557" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3559" class="Bound">gast</a><a id="3563" class="Symbol">)</a>
                                   <a id="3600" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3602" class="Bound">gaidgast∈rem</a>
                                   <a id="3650" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3652" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3655" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3661" class="Symbol">(</a><a id="3662" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3404" class="Bound">gadc</a> <a id="3667" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3669" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3674" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3676" href="Axiom.Set.Map.html#12520" class="Function">res-singleton⁺</a> <a id="3691" class="Symbol">{</a><a id="3692" class="Argument">m</a> <a id="3694" class="Symbol">=</a> <a id="3696" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2937" class="Function">utxoDeps</a><a id="3704" class="Symbol">}</a> <a id="3706" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3385" class="Bound">dpc∈utxoDeps</a><a id="3718" class="Symbol">)))</a>
      <a id="3728" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3728" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3735" class="Symbol">:</a> <a id="3737" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2543" class="Function">ΔΠ</a> <a id="3740" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="3742" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a>
      <a id="3752" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3728" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3759" class="Symbol">{</a><a id="3760" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3760" class="Bound">a</a><a id="3761" class="Symbol">}</a> <a id="3763" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3763" class="Bound">x</a> <a id="3765" class="Keyword">with</a> <a id="3770" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3775" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3781" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3763" class="Bound">x</a>
      <a id="3789" class="Symbol">...</a> <a id="3793" class="Symbol">|</a> <a id="3795" class="Symbol">(</a><a id="3796" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3796" class="Bound">rwa</a> <a id="3800" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3802" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3802" class="Bound">dp</a> <a id="3805" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3807" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3807" class="Bound">c</a><a id="3808" class="Symbol">)</a> <a id="3810" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3812" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3817" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3819" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3819" class="Bound">rwa-dp-c∈</a> <a id="3829" class="Keyword">with</a> <a id="3834" class="Symbol">(</a><a id="3835" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3840" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="3853" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3819" class="Bound">rwa-dp-c∈</a><a id="3862" class="Symbol">)</a>
      <a id="3870" class="Symbol">...</a> <a id="3874" class="Symbol">|</a> <a id="3876" class="Symbol">(</a><a id="3877" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3877" class="Bound">gaid</a> <a id="3882" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3884" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3884" class="Bound">gast</a><a id="3888" class="Symbol">)</a> <a id="3890" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3892" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3892" class="Bound">gaid-gast-∈-removed</a> <a id="3912" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3914" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3914" class="Bound">rwa-dp-c-∈-map</a> <a id="3929" class="Keyword">with</a> <a id="3934" class="Symbol">(</a><a id="3935" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3940" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3946" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3914" class="Bound">rwa-dp-c-∈-map</a><a id="3960" class="Symbol">)</a>
      <a id="3968" class="Symbol">...</a> <a id="3972" class="Symbol">|</a> <a id="3974" class="Symbol">(_</a> <a id="3977" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3979" class="Symbol">_)</a> <a id="3982" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3984" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3989" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3991" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3991" class="Bound">q∈</a> <a id="3994" class="Symbol">=</a>
        <a id="4004" href="Function.Bundles.html#4810" class="Field">to</a> <a id="4007" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="4013" class="Symbol">((</a><a id="4015" class="Bound">gaid</a> <a id="4020" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4022" class="Bound">gast</a><a id="4026" class="Symbol">)</a>
                 <a id="4045" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4047" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4053" class="Symbol">(</a><a id="4054" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a> <a id="4062" class="Symbol">(</a><a id="4063" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="4069" class="Symbol">(</a><a id="4070" href="Axiom.Set.Map.html#12964" class="Function">res-singleton&#39;&#39;</a> <a id="4086" class="Symbol">{</a><a id="4087" class="Argument">m</a> <a id="4089" class="Symbol">=</a> <a id="4091" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2937" class="Function">utxoDeps</a><a id="4099" class="Symbol">}</a> <a id="4101" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3991" class="Bound">q∈</a><a id="4103" class="Symbol">)))</a>
                 <a id="4124" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4126" class="Bound">gaid-gast-∈-removed</a><a id="4145" class="Symbol">)</a>

    <a id="4152" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4152" class="Function">map-filter-decomp</a> <a id="4170" class="Symbol">:</a> <a id="4172" class="Symbol">∀</a> <a id="4174" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4174" class="Bound">a</a> <a id="4176" class="Symbol">→</a> <a id="4178" class="Symbol">(</a><a id="4179" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4174" class="Bound">a</a> <a id="4181" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4183" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a> <a id="4187" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4189" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4174" class="Bound">a</a> <a id="4191" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4194" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="4199" class="Symbol">(</a><a id="4200" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4217" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4219" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4224" class="Symbol">)</a> <a id="4226" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="4231" class="Symbol">)</a>
                               <a id="4264" href="Function.Bundles.html#12400" class="Function Operator">⇔</a> <a id="4266" class="Symbol">(</a><a id="4267" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4174" class="Bound">a</a> <a id="4269" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4272" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="4277" class="Symbol">(</a><a id="4278" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4295" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4297" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4302" class="Symbol">)(</a><a id="4304" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4311" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2892" class="Function">P?</a> <a id="4314" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="4319" class="Symbol">))</a>
    <a id="4326" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4152" class="Function">map-filter-decomp</a> <a id="4344" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4344" class="Bound">a</a> <a id="4346" class="Symbol">=</a> <a id="4348" href="Function.Bundles.html#13499" class="Function">mk⇔</a> <a id="4352" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4393" class="Function">i</a> <a id="4354" class="Symbol">(λ</a> <a id="4357" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4357" class="Bound">h</a> <a id="4359" class="Symbol">→</a> <a id="4361" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4770" class="Function">ii</a> <a id="4364" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4357" class="Bound">h</a> <a id="4366" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4368" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5029" class="Function">iii</a> <a id="4372" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4357" class="Bound">h</a><a id="4373" class="Symbol">)</a>
      <a id="4381" class="Keyword">where</a>
      <a id="4393" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4393" class="Function">i</a> <a id="4395" class="Symbol">:</a> <a id="4397" class="Symbol">((</a><a id="4399" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4344" class="Bound">a</a> <a id="4401" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4403" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a><a id="4406" class="Symbol">)</a> <a id="4408" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4410" class="Symbol">(</a><a id="4411" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4344" class="Bound">a</a> <a id="4413" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4416" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="4421" class="Symbol">(</a><a id="4422" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4439" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4441" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4446" class="Symbol">)</a> <a id="4448" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="4453" class="Symbol">))</a>
          <a id="4466" class="Symbol">→</a> <a id="4468" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4344" class="Bound">a</a> <a id="4470" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4473" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="4478" class="Symbol">(</a><a id="4479" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4496" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4498" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4503" class="Symbol">)</a> <a id="4505" class="Symbol">(</a><a id="4506" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4513" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2892" class="Function">P?</a> <a id="4516" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="4521" class="Symbol">)</a>
      <a id="4529" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4393" class="Function">i</a> <a id="4531" class="Symbol">(</a><a id="4532" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4532" class="Bound">a∉ΔΠ&#39;</a> <a id="4538" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4540" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4540" class="Bound">a∈</a><a id="4542" class="Symbol">)</a> <a id="4544" class="Keyword">with</a> <a id="4549" href="Function.Bundles.html#7418" class="Field">Inverse.from</a> <a id="4562" class="Symbol">(</a><a id="4563" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4570" class="Symbol">(</a><a id="4571" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4588" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4590" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4595" class="Symbol">))</a> <a id="4598" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4540" class="Bound">a∈</a>
      <a id="4607" class="Symbol">...</a> <a id="4611" class="Symbol">|</a> <a id="4613" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4613" class="Bound">b</a> <a id="4615" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4617" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4617" class="Bound">b∈</a> <a id="4620" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4622" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4627" class="Symbol">=</a> <a id="4629" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="4640" class="Symbol">(</a><a id="4641" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4648" class="Symbol">(</a><a id="4649" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4666" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4668" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4673" class="Symbol">))</a>
                                       <a id="4715" class="Symbol">(</a><a id="4716" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4613" class="Bound">b</a> <a id="4718" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4720" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a> <a id="4730" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2892" class="Function">P?</a> <a id="4733" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4617" class="Bound">b∈</a> <a id="4736" class="Symbol">(</a><a id="4737" class="Bound">a∉ΔΠ&#39;</a> <a id="4743" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4745" href="Axiom.Set.Properties.html#5166" class="Function">∈-map⁺-∘</a><a id="4753" class="Symbol">)</a> <a id="4755" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4757" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="4761" class="Symbol">)</a>

      <a id="4770" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4770" class="Function">ii</a> <a id="4773" class="Symbol">:</a> <a id="4775" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4344" class="Bound">a</a> <a id="4777" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4780" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="4785" class="Symbol">(</a><a id="4786" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="4803" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4805" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4810" class="Symbol">)</a> <a id="4812" class="Symbol">(</a><a id="4813" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4820" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2892" class="Function">P?</a> <a id="4823" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="4828" class="Symbol">)</a> <a id="4830" class="Symbol">→</a> <a id="4832" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4344" class="Bound">a</a> <a id="4834" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4836" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a>
      <a id="4846" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4770" class="Function">ii</a> <a id="4849" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4849" class="Bound">a∈</a> <a id="4852" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4852" class="Bound">a∈ΔΠ&#39;</a> <a id="4858" class="Keyword">with</a> <a id="4863" href="Function.Bundles.html#4834" class="Field">from</a> <a id="4868" class="Symbol">(</a><a id="4869" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a> <a id="4883" class="Symbol">{</a><a id="4884" class="Argument">l</a> <a id="4886" class="Symbol">=</a> <a id="4888" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="4893" class="Symbol">}</a> <a id="4895" class="Symbol">{</a><a id="4896" class="Argument">P?</a> <a id="4899" class="Symbol">=</a> <a id="4901" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2892" class="Function">P?</a><a id="4903" class="Symbol">})</a> <a id="4906" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4849" class="Bound">a∈</a>
      <a id="4915" class="Symbol">...</a> <a id="4919" class="Symbol">|</a> <a id="4921" class="Symbol">_</a> <a id="4923" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4925" class="Symbol">_</a> <a id="4927" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4929" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4934" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4936" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4936" class="Bound">Pb</a> <a id="4939" class="Keyword">with</a> <a id="4944" href="Axiom.Set.Properties.html#1617" class="Function">∈-map⁻&#39;</a> <a id="4952" class="Bound">a∈ΔΠ&#39;</a>
      <a id="4964" class="Symbol">...</a> <a id="4968" class="Symbol">|</a> <a id="4970" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4970" class="Bound">q</a> <a id="4972" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4974" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4979" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4981" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4981" class="Bound">q∈rem</a> <a id="4987" class="Symbol">=</a> <a id="4989" class="Bound">Pb</a> <a id="4992" class="Symbol">(</a><a id="4993" href="Function.Bundles.html#4810" class="Field">to</a> <a id="4996" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="5002" class="Symbol">(</a><a id="5003" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4970" class="Bound">q</a> <a id="5005" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5007" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5012" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5014" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4981" class="Bound">q∈rem</a><a id="5019" class="Symbol">))</a>

      <a id="5029" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5029" class="Function">iii</a> <a id="5033" class="Symbol">:</a> <a id="5035" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4344" class="Bound">a</a> <a id="5037" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="5040" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="5045" class="Symbol">(</a><a id="5046" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="5063" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5065" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5070" class="Symbol">)</a> <a id="5072" class="Symbol">(</a><a id="5073" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="5080" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2892" class="Function">P?</a> <a id="5083" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="5088" class="Symbol">)</a>
            <a id="5102" class="Symbol">→</a> <a id="5104" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4344" class="Bound">a</a> <a id="5106" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="5109" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="5114" class="Symbol">(</a><a id="5115" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="5132" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5134" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5139" class="Symbol">)</a> <a id="5141" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a>
      <a id="5153" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5029" class="Function">iii</a> <a id="5157" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5157" class="Bound">a∈</a> <a id="5160" class="Keyword">with</a> <a id="5165" href="Function.Bundles.html#4834" class="Field">from</a> <a id="5170" class="Symbol">(</a><a id="5171" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a> <a id="5185" class="Symbol">{</a><a id="5186" class="Argument">l</a> <a id="5188" class="Symbol">=</a> <a id="5190" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="5195" class="Symbol">}</a> <a id="5197" class="Symbol">{</a><a id="5198" class="Argument">P?</a> <a id="5201" class="Symbol">=</a> <a id="5203" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2892" class="Function">P?</a><a id="5205" class="Symbol">})</a> <a id="5208" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5157" class="Bound">a∈</a>
      <a id="5217" class="Symbol">...</a> <a id="5221" class="Symbol">|</a> <a id="5223" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5223" class="Bound">b</a> <a id="5225" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5227" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5227" class="Bound">b∈</a> <a id="5230" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5232" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5237" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5239" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5239" class="Bound">Pb</a> <a id="5242" class="Symbol">=</a> <a id="5244" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="5255" class="Symbol">(</a><a id="5256" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="5263" class="Symbol">(</a><a id="5264" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="5281" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5283" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5288" class="Symbol">))</a> <a id="5291" class="Symbol">(</a><a id="5292" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5223" class="Bound">b</a> <a id="5294" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5296" class="Symbol">(</a><a id="5297" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5227" class="Bound">b∈</a> <a id="5300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5302" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5306" class="Symbol">))</a>


    <a id="5315" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5315" class="Function">main-invariance-lemma</a> <a id="5337" class="Symbol">:</a>
        <a id="5347" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="5355" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="5367" class="Symbol">(</a><a id="5368" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5372" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2937" class="Function">utxoDeps</a><a id="5380" class="Symbol">)</a> <a id="5382" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="5386" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="5395" class="Symbol">(</a><a id="5396" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="5401" class="Symbol">(</a><a id="5402" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="5419" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5421" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5426" class="Symbol">)</a> <a id="5428" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="5433" class="Symbol">)</a>
        <a id="5443" class="Comment">---------------------------------------------------------------------------------------------------</a>
      <a id="5549" class="Symbol">→</a> <a id="5551" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="5559" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="5571" class="Symbol">(</a><a id="5572" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5576" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3092" class="Function">utxoDeps&#39;</a><a id="5585" class="Symbol">)</a> <a id="5587" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="5591" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="5600" class="Symbol">(</a><a id="5601" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="5606" class="Symbol">(</a><a id="5607" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="5624" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5626" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5631" class="Symbol">)</a> <a id="5633" class="Symbol">(</a><a id="5634" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="5641" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2892" class="Function">P?</a> <a id="5644" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="5649" class="Symbol">))</a>

    <a id="5657" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5315" class="Function">main-invariance-lemma</a> <a id="5679" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5679" class="Bound">HYP</a> <a id="5683" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="5685" class="Symbol">=</a> <a id="5687" class="Keyword">let</a> <a id="5691" class="Keyword">open</a> <a id="5696" href="Function.Related.Propositional.html#9123" class="Module">R.EquationalReasoning</a> <a id="5718" class="Keyword">in</a>
      <a id="5727" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="5729" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5731" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="5739" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="5751" class="Symbol">(</a><a id="5752" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5756" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3092" class="Function">utxoDeps&#39;</a><a id="5765" class="Symbol">)</a>                          <a id="5792" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5795" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="5804" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="5813" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5821" class="Symbol">(</a><a id="5822" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="5834" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="5836" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5838" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="5840" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5842" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5846" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3092" class="Function">utxoDeps&#39;</a><a id="5855" class="Symbol">)</a>                              <a id="5886" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5889" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="5898" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="5905" href="Axiom.Set.Rel.html#7819" class="Function">∈-resᶜ-dom</a> <a id="5916" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5924" class="Symbol">(</a><a id="5925" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="5937" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="5939" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5941" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="5943" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="5945" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a> <a id="5949" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5951" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="5954" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5954" class="Bound">q</a> <a id="5956" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="5958" class="Symbol">(</a><a id="5959" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="5961" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5963" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5954" class="Bound">q</a><a id="5964" class="Symbol">)</a> <a id="5966" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5968" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2937" class="Function">utxoDeps</a><a id="5976" class="Symbol">)</a>             <a id="5990" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5993" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a> <a id="6002" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6010" class="Symbol">(</a><a id="6011" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6013" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6015" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a> <a id="6019" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6021" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="6033" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6035" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6037" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6040" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6040" class="Bound">q</a> <a id="6042" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6044" class="Symbol">(</a><a id="6045" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6047" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6049" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6040" class="Bound">q</a><a id="6050" class="Symbol">)</a> <a id="6052" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6054" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2937" class="Function">utxoDeps</a><a id="6062" class="Symbol">)</a>             <a id="6076" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6079" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6088" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6095" class="Symbol">(</a><a id="6096" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6105" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6112" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a><a id="6116" class="Symbol">)</a><a id="6117" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6125" class="Symbol">(</a><a id="6126" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6128" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6130" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a> <a id="6134" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6136" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="6148" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6150" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6152" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6154" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6156" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6160" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2937" class="Function">utxoDeps</a><a id="6168" class="Symbol">)</a>                      <a id="6191" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6194" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6203" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6210" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="6219" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6227" class="Symbol">(</a><a id="6228" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6230" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6232" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a> <a id="6236" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6238" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6240" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6242" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="6250" href="Ledger.Conway.Specification.Ledger.Properties.html#4222" class="Function">isGADeposit</a> <a id="6262" class="Symbol">(</a><a id="6263" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6267" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2937" class="Function">utxoDeps</a><a id="6275" class="Symbol">))</a>                <a id="6293" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6296" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6305" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6312" class="Symbol">(</a><a id="6313" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5679" class="Bound">HYP</a> <a id="6317" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a><a id="6318" class="Symbol">)</a> <a id="6320" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6328" class="Symbol">(</a><a id="6329" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6331" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6333" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a> <a id="6337" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6339" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6341" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6343" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="6352" class="Symbol">(</a><a id="6353" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="6358" class="Symbol">(</a><a id="6359" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="6376" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6378" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6383" class="Symbol">)</a> <a id="6385" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="6390" class="Symbol">))</a>  <a id="6394" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6397" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6406" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6413" class="Symbol">(</a><a id="6414" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="6423" href="Axiom.Set.html#5776" class="Function">∈-fromList</a><a id="6433" class="Symbol">)</a><a id="6434" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6442" class="Symbol">(</a><a id="6443" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6445" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6447" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2665" class="Function">ΔΠ&#39;</a> <a id="6451" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6453" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6455" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="6458" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="6463" class="Symbol">(</a><a id="6464" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="6481" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6483" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6488" class="Symbol">)</a> <a id="6490" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="6495" class="Symbol">)</a>            <a id="6508" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6511" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4152" class="Function">map-filter-decomp</a> <a id="6529" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6531" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6539" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6541" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="6544" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="6549" class="Symbol">(</a><a id="6550" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="6567" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6569" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6574" class="Symbol">)</a> <a id="6576" class="Symbol">(</a><a id="6577" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="6584" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2892" class="Function">P?</a> <a id="6587" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="6592" class="Symbol">)</a>           <a id="6604" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6607" href="Axiom.Set.html#5776" class="Function">∈-fromList</a> <a id="6618" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6626" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5683" class="Bound">a</a> <a id="6628" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6630" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="6639" class="Symbol">(</a><a id="6640" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#586" class="Function">map&#39;</a> <a id="6645" class="Symbol">(</a><a id="6646" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="6663" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6665" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6670" class="Symbol">)</a> <a id="6672" class="Symbol">(</a><a id="6673" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="6680" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2892" class="Function">P?</a> <a id="6683" href="Ledger.Conway.Specification.Ledger.html#1063" class="Function">govSt</a><a id="6688" class="Symbol">))</a> <a id="6691" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

</pre></body></html>