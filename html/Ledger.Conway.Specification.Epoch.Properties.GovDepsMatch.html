<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">

<a id="3" class="Symbol">{-#</a> <a id="7" class="Keyword">OPTIONS</a> <a id="15" class="Pragma">--safe</a> <a id="22" class="Symbol">#-}</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="Ledger.Core.Specification.Transaction.html" class="Module">Ledger.Core.Specification.Transaction</a>
<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>

<a id="127" class="Keyword">module</a> <a id="134" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html" class="Module">Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch</a>
  <a id="194" class="Symbol">(</a><a id="195" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#195" class="Bound">txs</a> <a id="199" class="Symbol">:</a> <a id="201" class="Symbol">_)</a> <a id="204" class="Symbol">(</a><a id="205" class="Keyword">open</a> <a id="210" href="Ledger.Core.Specification.Transaction.html#896" class="Module">TransactionStructure</a> <a id="231" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#195" class="Bound">txs</a><a id="234" class="Symbol">)</a>
  <a id="238" class="Symbol">(</a><a id="239" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#239" class="Bound">abs</a> <a id="243" class="Symbol">:</a> <a id="245" href="Ledger.Conway.Specification.Abstract.html#653" class="Record">AbstractFunctions</a> <a id="263" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#195" class="Bound">txs</a><a id="266" class="Symbol">)</a> <a id="268" class="Symbol">(</a><a id="269" class="Keyword">open</a> <a id="274" href="Ledger.Conway.Specification.Abstract.html#653" class="Module">AbstractFunctions</a> <a id="292" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#239" class="Bound">abs</a><a id="295" class="Symbol">)</a>
  <a id="299" class="Keyword">where</a>

<a id="306" class="Keyword">open</a> <a id="311" class="Keyword">import</a> <a id="318" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="333" class="Keyword">using</a> <a id="339" class="Symbol">(</a><a id="340" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a><a id="344" class="Symbol">)</a>
<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="392" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>
<a id="405" class="Keyword">open</a> <a id="410" class="Keyword">import</a> <a id="417" href="Ledger.Conway.Specification.Enact.html" class="Module">Ledger.Conway.Specification.Enact</a> <a id="451" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>
<a id="464" class="Keyword">open</a> <a id="469" class="Keyword">import</a> <a id="476" href="Ledger.Conway.Specification.Epoch.html" class="Module">Ledger.Conway.Specification.Epoch</a> <a id="510" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#195" class="Bound">txs</a> <a id="514" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#239" class="Bound">abs</a>
<a id="518" class="Keyword">open</a> <a id="523" class="Keyword">import</a> <a id="530" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="565" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#195" class="Bound">txs</a> <a id="569" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#239" class="Bound">abs</a>
<a id="573" class="Keyword">open</a> <a id="578" class="Keyword">import</a> <a id="585" href="Ledger.Conway.Specification.Ledger.Properties.Base.html" class="Module">Ledger.Conway.Specification.Ledger.Properties.Base</a> <a id="636" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#195" class="Bound">txs</a> <a id="640" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#239" class="Bound">abs</a>
<a id="644" class="Keyword">open</a> <a id="649" class="Keyword">import</a> <a id="656" href="Ledger.Conway.Specification.PoolReap.html" class="Module">Ledger.Conway.Specification.PoolReap</a> <a id="693" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#195" class="Bound">txs</a> <a id="697" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#239" class="Bound">abs</a>
<a id="701" class="Keyword">open</a> <a id="706" class="Keyword">import</a> <a id="713" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="728" class="Keyword">renaming</a> <a id="737" class="Symbol">(</a><a id="738" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="742" class="Symbol">to</a> <a id="745" class="Function">map&#39;</a><a id="749" class="Symbol">;</a> <a id="751" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="756" class="Symbol">to</a> <a id="759" class="Function">map</a><a id="762" class="Symbol">)</a>
<a id="764" class="Keyword">open</a> <a id="769" class="Keyword">import</a> <a id="776" href="Ledger.Conway.Specification.Ratify.html" class="Module">Ledger.Conway.Specification.Ratify</a> <a id="811" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#195" class="Bound">txs</a>
<a id="815" class="Keyword">open</a> <a id="820" class="Keyword">import</a> <a id="827" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="860" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#195" class="Bound">txs</a> <a id="864" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#239" class="Bound">abs</a>

<a id="869" class="Keyword">open</a> <a id="874" class="Keyword">import</a> <a id="881" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="902" href="Axiom.Set.html#10936" class="Function">th</a>

<a id="906" class="Keyword">open</a> <a id="911" class="Keyword">import</a> <a id="918" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="933" class="Keyword">using</a> <a id="939" class="Symbol">(</a><a id="940" href="Data.List.Base.html#10389" class="Function">filter</a><a id="946" class="Symbol">)</a>
<a id="948" class="Keyword">open</a> <a id="953" class="Keyword">import</a> <a id="960" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a> <a id="1006" class="Keyword">using</a> <a id="1012" class="Symbol">(</a><a id="1013" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a><a id="1022" class="Symbol">;</a> <a id="1024" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a><a id="1030" class="Symbol">)</a>
<a id="1032" class="Keyword">open</a> <a id="1037" class="Keyword">import</a> <a id="1044" href="stdlib.Data.List.Subpermutations.html" class="Module">stdlib.Data.List.Subpermutations</a> <a id="1077" class="Keyword">using</a> <a id="1083" class="Symbol">(</a><a id="1084" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a><a id="1097" class="Symbol">)</a>
<a id="1099" class="Keyword">open</a> <a id="1104" class="Keyword">import</a> <a id="1111" href="Data.Product.Function.NonDependent.Propositional.html" class="Module">Data.Product.Function.NonDependent.Propositional</a> <a id="1160" class="Keyword">using</a> <a id="1166" class="Symbol">(</a><a id="1167" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">_×-cong_</a><a id="1175" class="Symbol">)</a>
<a id="1177" class="Keyword">open</a> <a id="1182" class="Keyword">import</a> <a id="1189" href="Data.Product.Properties.html" class="Module">Data.Product.Properties</a> <a id="1213" class="Keyword">using</a> <a id="1219" class="Symbol">(</a><a id="1220" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a><a id="1227" class="Symbol">)</a>
<a id="1229" class="Keyword">open</a> <a id="1234" class="Keyword">import</a> <a id="1241" href="Data.Product.Properties.Ext.html" class="Module">Data.Product.Properties.Ext</a> <a id="1269" class="Keyword">using</a> <a id="1275" class="Symbol">(</a><a id="1276" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a><a id="1284" class="Symbol">)</a>

<a id="1287" class="Keyword">open</a> <a id="1292" class="Keyword">import</a> <a id="1299" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1314" class="Keyword">using</a> <a id="1320" class="Symbol">(</a><a id="1321" href="Relation.Unary.html#4543" class="Function">Decidable</a><a id="1330" class="Symbol">)</a>

<a id="1333" class="Keyword">open</a> <a id="1338" href="Function.Bundles.html#4750" class="Module">Equivalence</a>

<a id="1351" class="Keyword">import</a> <a id="1358" href="Function.Related.Propositional.html" class="Module">Function.Related.Propositional</a> <a id="1389" class="Symbol">as</a> <a id="1392" class="Module">R</a>
<a id="1394" class="Keyword">import</a> <a id="1401" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1434" class="Symbol">as</a> <a id="1437" class="Module">SetoidReasoning</a>

<a id="1454" class="Keyword">module</a> <a id="EPOCH-Body"></a><a id="1461" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1461" class="Module">EPOCH-Body</a> <a id="1472" class="Symbol">(</a><a id="1473" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1473" class="Bound">eps</a> <a id="1477" class="Symbol">:</a> <a id="1479" href="Ledger.Conway.Specification.Epoch.html#1835" class="Record">EpochState</a><a id="1489" class="Symbol">)</a> <a id="1491" class="Keyword">where</a>
  <a id="1499" class="Keyword">open</a> <a id="1504" href="Ledger.Conway.Specification.Epoch.html#1835" class="Module">EpochState</a> <a id="1515" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1473" class="Bound">eps</a> <a id="1519" class="Keyword">hiding</a> <a id="1526" class="Symbol">(</a><a id="1527" href="Ledger.Conway.Specification.Epoch.html#1976" class="Field">es</a><a id="1529" class="Symbol">)</a> <a id="1531" class="Keyword">renaming</a> <a id="1540" class="Symbol">(</a><a id="1541" href="Ledger.Conway.Specification.Epoch.html#1952" class="Field">ls</a> <a id="1544" class="Symbol">to</a> <a id="1547" class="Field">epsLState</a><a id="1556" class="Symbol">;</a> <a id="1558" href="Ledger.Conway.Specification.Epoch.html#2004" class="Field">fut</a> <a id="1562" class="Symbol">to</a> <a id="1565" class="Field">epsRState</a><a id="1574" class="Symbol">)</a> <a id="1576" class="Keyword">public</a>
  <a id="1585" class="Keyword">open</a> <a id="1590" href="Ledger.Conway.Specification.Ratify.html#3526" class="Module">RatifyState</a> <a id="1602" class="Keyword">renaming</a> <a id="1611" class="Symbol">(</a><a id="1612" href="Ledger.Conway.Specification.Ratify.html#3563" class="Field">es</a> <a id="1615" class="Symbol">to</a> <a id="1618" class="Field">ensRState</a><a id="1627" class="Symbol">)</a> <a id="1629" class="Keyword">public</a>
  <a id="1638" class="Keyword">open</a> <a id="1643" href="Ledger.Conway.Specification.Ledger.html#999" class="Module">LState</a> <a id="1650" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1547" class="Field">epsLState</a> <a id="1660" class="Keyword">public</a>
  <a id="1669" class="Keyword">open</a> <a id="1674" href="Ledger.Conway.Specification.Certs.html#4044" class="Module">PState</a> <a id="1681" class="Keyword">public</a>
  <a id="1690" class="Keyword">open</a> <a id="1695" href="Ledger.Core.Specification.Gov.Actions.html#3811" class="Module">GovActionState</a> <a id="1710" class="Keyword">public</a>

  <a id="EPOCH-Body.ens"></a><a id="1720" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1720" class="Function">ens</a>      <a id="1729" class="Symbol">=</a> <a id="1731" class="Keyword">record</a> <a id="1738" class="Symbol">(</a><a id="1739" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1565" class="Field">epsRState</a> <a id="1749" class="Symbol">.</a><a id="1750" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1618" class="Field">ensRState</a><a id="1759" class="Symbol">)</a> <a id="1761" class="Symbol">{</a> <a id="1763" href="Ledger.Conway.Specification.Enact.html#696" class="Field">withdrawals</a> <a id="1775" class="Symbol">=</a> <a id="1777" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="1779" class="Symbol">}</a>
  <a id="EPOCH-Body.tmpGovSt"></a><a id="1783" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1783" class="Function">tmpGovSt</a> <a id="1792" class="Symbol">=</a> <a id="1794" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="1801" class="Symbol">(λ</a> <a id="1804" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1804" class="Bound">x</a> <a id="1806" class="Symbol">→</a> <a id="1808" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="1810" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1816" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1804" class="Bound">x</a> <a id="1818" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="1820" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#759" class="Function">map</a> <a id="1824" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1830" class="Symbol">(</a><a id="1831" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1565" class="Field">epsRState</a> <a id="1841" class="Symbol">.</a><a id="1842" href="Ledger.Conway.Specification.Ratify.html#3589" class="Field">removed</a><a id="1849" class="Symbol">)</a> <a id="1851" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a><a id="1852" class="Symbol">)</a> <a id="1854" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a>
  <a id="EPOCH-Body.orphans"></a><a id="1862" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1862" class="Function">orphans</a>  <a id="1871" class="Symbol">=</a> <a id="1873" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="1882" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="1884" href="Ledger.Conway.Specification.Epoch.html#13059" class="Function">getOrphans</a> <a id="1895" class="Symbol">(</a><a id="1896" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1565" class="Field">epsRState</a> <a id="1906" class="Symbol">.</a><a id="1907" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1618" class="Field">ensRState</a><a id="1916" class="Symbol">)</a> <a id="1918" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1783" class="Function">tmpGovSt</a>
  <a id="EPOCH-Body.removed&#39;"></a><a id="1929" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1929" class="Function">removed&#39;</a> <a id="1938" class="Symbol">:</a> <a id="1940" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1942" class="Symbol">(</a><a id="1943" href="Ledger.Core.Specification.Gov.Actions.html#1975" class="Function">GovActionID</a> <a id="1955" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1957" href="Ledger.Core.Specification.Gov.Actions.html#3811" class="Record">GovActionState</a><a id="1971" class="Symbol">)</a>
  <a id="1975" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1929" class="Function">removed&#39;</a> <a id="1984" class="Symbol">=</a> <a id="1986" class="Symbol">(</a><a id="1987" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1565" class="Field">epsRState</a> <a id="1997" class="Symbol">.</a><a id="1998" href="Ledger.Conway.Specification.Ratify.html#3589" class="Field">removed</a><a id="2005" class="Symbol">)</a> <a id="2007" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="2009" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1862" class="Function">orphans</a>
  <a id="EPOCH-Body.removedGovActions"></a><a id="2019" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2019" class="Function">removedGovActions</a> <a id="2037" class="Symbol">=</a> <a id="2039" href="Function.Base.html#1657" class="Function">flip</a> <a id="2044" href="Axiom.Set.html#7207" class="Function">concatMapˢ</a> <a id="2055" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1929" class="Function">removed&#39;</a> <a id="2064" class="Symbol">λ</a> <a id="2066" class="Symbol">(</a><a id="2067" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2067" class="Bound">gaid</a> <a id="2072" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2074" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2074" class="Bound">gaSt</a><a id="2078" class="Symbol">)</a> <a id="2080" class="Symbol">→</a>
    <a id="2086" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#759" class="Function">map</a> <a id="2090" class="Symbol">(</a><a id="2091" href="Ledger.Core.Specification.Gov.Actions.html#3878" class="Field">returnAddr</a> <a id="2102" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2074" class="Bound">gaSt</a> <a id="2107" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="2109" class="Symbol">)</a> <a id="2111" class="Symbol">((</a><a id="2113" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="2124" href="Ledger.Conway.Specification.Ledger.html#1058" class="Function">utxoSt</a> <a id="2131" href="Axiom.Set.Map.html#13534" class="Function Operator">∣</a> <a id="2133" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="2135" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="2152" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2067" class="Bound">gaid</a> <a id="2157" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="2158" class="Symbol">)</a> <a id="2160" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="2161" class="Symbol">)</a>

<a id="2164" class="Keyword">module</a> <a id="EPOCH-PROPS"></a><a id="2171" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2171" class="Module">EPOCH-PROPS</a> <a id="2183" class="Symbol">{</a><a id="2184" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2184" class="Bound">eps</a> <a id="2188" class="Symbol">:</a> <a id="2190" href="Ledger.Conway.Specification.Epoch.html#1835" class="Record">EpochState</a><a id="2200" class="Symbol">}</a> <a id="2202" class="Keyword">where</a>
  <a id="2210" class="Keyword">open</a> <a id="2215" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1461" class="Module">EPOCH-Body</a> <a id="2226" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2184" class="Bound">eps</a>


  <a id="EPOCH-PROPS.EPOCH-govDepsMatch"></a><a id="2234" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2234" class="Function">EPOCH-govDepsMatch</a> <a id="2253" class="Symbol">:</a>  <a id="2256" class="Symbol">{</a><a id="2257" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2257" class="Bound">eps&#39;</a> <a id="2262" class="Symbol">:</a> <a id="2264" href="Ledger.Conway.Specification.Epoch.html#1835" class="Record">EpochState</a><a id="2274" class="Symbol">}</a> <a id="2276" class="Symbol">{</a><a id="2277" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2277" class="Bound">e</a> <a id="2279" class="Symbol">:</a> <a id="2281" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a><a id="2286" class="Symbol">}</a>
    <a id="2292" class="Symbol">→</a> <a id="2294" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#759" class="Function">map</a> <a id="2298" class="Symbol">(</a><a id="2299" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="2316" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2318" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2323" class="Symbol">)</a> <a id="2325" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1929" class="Function">removed&#39;</a> <a id="2334" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="2336" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2340" class="Symbol">(</a><a id="2341" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="2352" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2184" class="Bound">eps</a><a id="2355" class="Symbol">)</a>
    <a id="2361" class="Symbol">→</a> <a id="2363" class="Symbol">_</a> <a id="2365" href="Ledger.Conway.Specification.Epoch.html#16669" class="Datatype Operator">⊢</a> <a id="2367" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2184" class="Bound">eps</a> <a id="2371" href="Ledger.Conway.Specification.Epoch.html#16669" class="Datatype Operator">⇀⦇</a> <a id="2374" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2277" class="Bound">e</a> <a id="2376" href="Ledger.Conway.Specification.Epoch.html#16669" class="Datatype Operator">,EPOCH⦈</a> <a id="2384" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2257" class="Bound">eps&#39;</a>
    <a id="2393" class="Symbol">→</a> <a id="2395" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1564" class="Function">govDepsMatch</a> <a id="2408" class="Symbol">(</a><a id="2409" href="Ledger.Conway.Specification.Ledger.html#1193" class="Field">LStateOf</a> <a id="2418" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2184" class="Bound">eps</a><a id="2421" class="Symbol">)</a> <a id="2423" class="Symbol">→</a> <a id="2425" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1564" class="Function">govDepsMatch</a> <a id="2438" class="Symbol">(</a><a id="2439" href="Ledger.Conway.Specification.Ledger.html#1193" class="Field">LStateOf</a> <a id="2448" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2257" class="Bound">eps&#39;</a><a id="2452" class="Symbol">)</a>


  <a id="2458" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2234" class="Function">EPOCH-govDepsMatch</a> <a id="2477" class="Symbol">{</a><a id="2478" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2478" class="Bound">eps&#39;</a><a id="2482" class="Symbol">}</a> <a id="2484" class="Symbol">{</a><a id="2485" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2485" class="Bound">e</a><a id="2486" class="Symbol">}</a> <a id="2488" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2488" class="Bound">ratify-removed</a> <a id="2503" class="Symbol">(</a><a id="2504" href="Ledger.Conway.Specification.Epoch.html#16739" class="InductiveConstructor">EPOCH</a> <a id="2510" class="Symbol">(</a><a id="2511" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2511" class="Bound">x</a> <a id="2513" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2515" href="Ledger.Conway.Specification.PoolReap.html#945" class="InductiveConstructor">POOLREAP</a> <a id="2524" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2526" class="Symbol">_))</a> <a id="2530" class="Symbol">=</a>
      <a id="2538" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9470" class="Function">poolReapMatch</a> <a id="2552" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2554" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7480" class="Function">ratifiesSnapMatch</a>
    <a id="2576" class="Keyword">where</a>

    <a id="2587" class="Comment">-- the combinator used in the EPOCH rule</a>
    <a id="2632" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2632" class="Function">ΔΠ</a> <a id="2635" class="Symbol">:</a> <a id="2637" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2639" href="Ledger.Conway.Specification.Certs.html#561" class="Datatype">DepositPurpose</a>
    <a id="2658" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2632" class="Function">ΔΠ</a> <a id="2661" class="Symbol">=</a> <a id="2663" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#759" class="Function">map</a> <a id="2667" class="Symbol">(</a><a id="2668" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2674" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2676" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="2681" class="Symbol">)</a> <a id="2683" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2019" class="Function">removedGovActions</a>

    <a id="2706" class="Comment">-- a simpler combinator that suffices here;</a>
    <a id="2754" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a> <a id="2758" class="Symbol">:</a> <a id="2760" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2762" href="Ledger.Conway.Specification.Certs.html#561" class="Datatype">DepositPurpose</a>
    <a id="2781" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a> <a id="2785" class="Symbol">=</a> <a id="2787" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#759" class="Function">map</a> <a id="2791" class="Symbol">(</a><a id="2792" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="2809" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2811" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2816" class="Symbol">)</a> <a id="2818" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1929" class="Function">removed&#39;</a>
    <a id="2831" class="Comment">-- Below we prove ΔΠ and ΔΠ&#39; are essentially equivalent.</a>

    <a id="2893" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2893" class="Function">P</a> <a id="2895" class="Symbol">:</a> <a id="2897" href="Ledger.Core.Specification.Gov.Actions.html#1975" class="Function">GovActionID</a> <a id="2909" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2911" href="Ledger.Core.Specification.Gov.Actions.html#3811" class="Record">GovActionState</a> <a id="2926" class="Symbol">→</a> <a id="2928" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="2937" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2893" class="Function">P</a> <a id="2939" class="Symbol">=</a> <a id="2941" class="Symbol">λ</a> <a id="2943" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2943" class="Bound">u</a> <a id="2945" class="Symbol">→</a> <a id="2947" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2953" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2943" class="Bound">u</a> <a id="2955" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="2957" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#759" class="Function">map</a> <a id="2961" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2967" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1929" class="Function">removed&#39;</a>

    <a id="2981" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2981" class="Function">P?</a> <a id="2984" class="Symbol">:</a> <a id="2986" href="Relation.Unary.html#4543" class="Function">Decidable</a> <a id="2996" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2893" class="Function">P</a>
    <a id="3002" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2981" class="Function">P?</a> <a id="3005" class="Symbol">=</a> <a id="3007" class="Symbol">λ</a> <a id="3009" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3009" class="Bound">u</a> <a id="3011" class="Symbol">→</a> <a id="3013" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="3015" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2893" class="Function">P</a> <a id="3017" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3009" class="Bound">u</a> <a id="3019" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>

    <a id="3026" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3026" class="Function">utxoDeps</a> <a id="3035" class="Symbol">:</a> <a id="3037" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a>
    <a id="3050" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3026" class="Function">utxoDeps</a> <a id="3059" class="Symbol">=</a> <a id="3061" href="Ledger.Conway.Specification.Utxo.html#1416" class="Field">UTxOState.deposits</a> <a id="3080" class="Symbol">(</a><a id="3081" href="Ledger.Conway.Specification.Ledger.html#1058" class="Field">LState.utxoSt</a> <a id="3095" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1547" class="Field">epsLState</a><a id="3104" class="Symbol">)</a>

    <a id="3111" class="Comment">-- utxo deposits restricted to new form of set used in EPOCH rule</a>
    <a id="3181" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3181" class="Function">utxoDeps&#39;</a> <a id="3191" class="Symbol">:</a> <a id="3193" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a>
    <a id="3206" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3181" class="Function">utxoDeps&#39;</a> <a id="3216" class="Symbol">=</a> <a id="3218" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3026" class="Function">utxoDeps</a> <a id="3227" href="Axiom.Set.Map.html#13604" class="Function Operator">∣</a> <a id="3229" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a> <a id="3233" href="Axiom.Set.Map.html#13604" class="Function Operator">ᶜ</a>

    <a id="3240" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3240" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="3247" class="Symbol">:</a> <a id="3249" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a> <a id="3253" href="Axiom.Set.html#2772" class="Function Operator">≡ᵉ</a> <a id="3256" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2632" class="Function">ΔΠ</a>
    <a id="3263" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3240" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="3270" class="Symbol">=</a> <a id="3272" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3306" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3279" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3281" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3817" class="Function">ΔΠ⊆ΔΠ&#39;</a>
      <a id="3294" class="Keyword">where</a>
      <a id="3306" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3306" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3313" class="Symbol">:</a> <a id="3315" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a> <a id="3319" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="3321" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2632" class="Function">ΔΠ</a>
      <a id="3330" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3306" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3337" class="Symbol">{</a><a id="3338" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3338" class="Bound">a</a><a id="3339" class="Symbol">}</a> <a id="3341" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3341" class="Bound">x</a> <a id="3343" class="Keyword">with</a> <a id="3348" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3353" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="3359" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3341" class="Bound">x</a>
      <a id="3367" class="Symbol">...</a> <a id="3371" class="Symbol">|</a> <a id="3373" class="Symbol">(</a><a id="3374" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3374" class="Bound">gaid</a> <a id="3379" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3381" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3381" class="Bound">gast</a><a id="3385" class="Symbol">)</a> <a id="3387" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3389" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3394" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3396" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3396" class="Bound">gaidgast∈rem</a> <a id="3409" class="Keyword">with</a> <a id="3414" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3419" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="3425" class="Symbol">(</a><a id="3426" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2488" class="Bound">ratify-removed</a> <a id="3441" class="Bound">x</a><a id="3442" class="Symbol">)</a>
      <a id="3450" class="Symbol">...</a> <a id="3454" class="Symbol">|</a> <a id="3456" class="Symbol">(</a><a id="3457" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3457" class="Bound">dp</a> <a id="3460" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3462" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3462" class="Bound">c</a><a id="3463" class="Symbol">)</a> <a id="3465" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3467" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3472" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3474" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3474" class="Bound">dpc∈utxoDeps</a> <a id="3487" class="Symbol">=</a> <a id="3489" class="Keyword">let</a> <a id="3493" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3493" class="Bound">gadc</a> <a id="3498" class="Symbol">=</a> <a id="3500" class="Symbol">(</a><a id="3501" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="3518" class="Bound">gaid</a> <a id="3523" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3525" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3462" class="Bound">c</a><a id="3526" class="Symbol">)</a> <a id="3528" class="Keyword">in</a>
        <a id="3539" href="Function.Bundles.html#4808" class="Field">to</a> <a id="3542" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="3548" class="Symbol">((</a><a id="3550" href="Ledger.Core.Specification.Gov.Actions.html#3878" class="Field">returnAddr</a> <a id="3561" class="Symbol">{</a><a id="3562" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#195" class="Bound">txs</a><a id="3565" class="Symbol">}</a> <a id="3567" class="Bound">gast</a> <a id="3572" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3574" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3493" class="Bound">gadc</a><a id="3578" class="Symbol">)</a>
                 <a id="3597" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3599" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
                 <a id="3621" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3623" href="Function.Bundles.html#4808" class="Field">to</a> <a id="3626" href="Axiom.Set.html#7295" class="Function">∈-concatMapˢ</a> <a id="3639" class="Symbol">((</a><a id="3641" class="Bound">gaid</a> <a id="3646" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3648" class="Bound">gast</a><a id="3652" class="Symbol">)</a>
                                   <a id="3689" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3691" class="Bound">gaidgast∈rem</a>
                                   <a id="3739" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3741" href="Function.Bundles.html#4808" class="Field">to</a> <a id="3744" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="3750" class="Symbol">(</a><a id="3751" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3493" class="Bound">gadc</a> <a id="3756" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3758" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3763" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3765" href="Axiom.Set.Map.html#15770" class="Function">res-singleton⁺</a> <a id="3780" class="Symbol">{</a><a id="3781" class="Argument">m</a> <a id="3783" class="Symbol">=</a> <a id="3785" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3026" class="Function">utxoDeps</a><a id="3793" class="Symbol">}</a> <a id="3795" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3474" class="Bound">dpc∈utxoDeps</a><a id="3807" class="Symbol">)))</a>
      <a id="3817" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3817" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3824" class="Symbol">:</a> <a id="3826" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2632" class="Function">ΔΠ</a> <a id="3829" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="3831" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a>
      <a id="3841" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3817" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3848" class="Symbol">{</a><a id="3849" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3849" class="Bound">a</a><a id="3850" class="Symbol">}</a> <a id="3852" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3852" class="Bound">x</a> <a id="3854" class="Keyword">with</a> <a id="3859" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3864" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="3870" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3852" class="Bound">x</a>
      <a id="3878" class="Symbol">...</a> <a id="3882" class="Symbol">|</a> <a id="3884" class="Symbol">(</a><a id="3885" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3885" class="Bound">rwa</a> <a id="3889" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3891" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3891" class="Bound">dp</a> <a id="3894" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3896" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3896" class="Bound">c</a><a id="3897" class="Symbol">)</a> <a id="3899" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3901" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3906" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3908" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3908" class="Bound">rwa-dp-c∈</a> <a id="3918" class="Keyword">with</a> <a id="3923" class="Symbol">(</a><a id="3924" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3929" href="Axiom.Set.html#7295" class="Function">∈-concatMapˢ</a> <a id="3942" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3908" class="Bound">rwa-dp-c∈</a><a id="3951" class="Symbol">)</a>
      <a id="3959" class="Symbol">...</a> <a id="3963" class="Symbol">|</a> <a id="3965" class="Symbol">(</a><a id="3966" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3966" class="Bound">gaid</a> <a id="3971" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3973" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3973" class="Bound">gast</a><a id="3977" class="Symbol">)</a> <a id="3979" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3981" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3981" class="Bound">gaid-gast-∈-removed</a> <a id="4001" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4003" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4003" class="Bound">rwa-dp-c-∈-map</a> <a id="4018" class="Keyword">with</a> <a id="4023" class="Symbol">(</a><a id="4024" href="Function.Bundles.html#4832" class="Field">from</a> <a id="4029" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="4035" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4003" class="Bound">rwa-dp-c-∈-map</a><a id="4049" class="Symbol">)</a>
      <a id="4057" class="Symbol">...</a> <a id="4061" class="Symbol">|</a> <a id="4063" class="Symbol">(_</a> <a id="4066" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4068" class="Symbol">_)</a> <a id="4071" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4073" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4078" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4080" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4080" class="Bound">q∈</a> <a id="4083" class="Symbol">=</a>
        <a id="4093" href="Function.Bundles.html#4808" class="Field">to</a> <a id="4096" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="4102" class="Symbol">((</a><a id="4104" class="Bound">gaid</a> <a id="4109" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4111" class="Bound">gast</a><a id="4115" class="Symbol">)</a>
                 <a id="4134" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4136" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4142" class="Symbol">(</a><a id="4143" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a> <a id="4151" class="Symbol">(</a><a id="4152" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="4158" class="Symbol">(</a><a id="4159" href="Axiom.Set.Map.html#16214" class="Function">res-singleton&#39;&#39;</a> <a id="4175" class="Symbol">{</a><a id="4176" class="Argument">m</a> <a id="4178" class="Symbol">=</a> <a id="4180" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3026" class="Function">utxoDeps</a><a id="4188" class="Symbol">}</a> <a id="4190" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4080" class="Bound">q∈</a><a id="4192" class="Symbol">)))</a>
                 <a id="4213" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4215" class="Bound">gaid-gast-∈-removed</a><a id="4234" class="Symbol">)</a>

    <a id="4241" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4241" class="Function">map-filter-decomp</a> <a id="4259" class="Symbol">:</a> <a id="4261" class="Symbol">∀</a> <a id="4263" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4263" class="Bound">a</a> <a id="4265" class="Symbol">→</a> <a id="4267" class="Symbol">(</a><a id="4268" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4263" class="Bound">a</a> <a id="4270" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4272" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a> <a id="4276" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4278" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4263" class="Bound">a</a> <a id="4280" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="4283" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#745" class="Function">map&#39;</a> <a id="4288" class="Symbol">(</a><a id="4289" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="4306" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4308" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4313" class="Symbol">)</a> <a id="4315" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="4320" class="Symbol">)</a>
                               <a id="4353" href="Function.Bundles.html#12398" class="Function Operator">⇔</a> <a id="4355" class="Symbol">(</a><a id="4356" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4263" class="Bound">a</a> <a id="4358" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="4361" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#745" class="Function">map&#39;</a> <a id="4366" class="Symbol">(</a><a id="4367" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="4384" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4386" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4391" class="Symbol">)(</a><a id="4393" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="4400" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2981" class="Function">P?</a> <a id="4403" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="4408" class="Symbol">))</a>
    <a id="4415" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4241" class="Function">map-filter-decomp</a> <a id="4433" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4433" class="Bound">a</a> <a id="4435" class="Symbol">=</a> <a id="4437" href="Function.Bundles.html#13497" class="Function">mk⇔</a> <a id="4441" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4482" class="Function">i</a> <a id="4443" class="Symbol">(λ</a> <a id="4446" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4446" class="Bound">h</a> <a id="4448" class="Symbol">→</a> <a id="4450" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4859" class="Function">ii</a> <a id="4453" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4446" class="Bound">h</a> <a id="4455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4457" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5118" class="Function">iii</a> <a id="4461" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4446" class="Bound">h</a><a id="4462" class="Symbol">)</a>
      <a id="4470" class="Keyword">where</a>
      <a id="4482" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4482" class="Function">i</a> <a id="4484" class="Symbol">:</a> <a id="4486" class="Symbol">((</a><a id="4488" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4433" class="Bound">a</a> <a id="4490" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4492" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a><a id="4495" class="Symbol">)</a> <a id="4497" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4499" class="Symbol">(</a><a id="4500" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4433" class="Bound">a</a> <a id="4502" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="4505" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#745" class="Function">map&#39;</a> <a id="4510" class="Symbol">(</a><a id="4511" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="4528" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4530" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4535" class="Symbol">)</a> <a id="4537" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="4542" class="Symbol">))</a>
          <a id="4555" class="Symbol">→</a> <a id="4557" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4433" class="Bound">a</a> <a id="4559" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="4562" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#745" class="Function">map&#39;</a> <a id="4567" class="Symbol">(</a><a id="4568" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="4585" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4587" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4592" class="Symbol">)</a> <a id="4594" class="Symbol">(</a><a id="4595" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="4602" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2981" class="Function">P?</a> <a id="4605" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="4610" class="Symbol">)</a>
      <a id="4618" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4482" class="Function">i</a> <a id="4620" class="Symbol">(</a><a id="4621" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4621" class="Bound">a∉ΔΠ&#39;</a> <a id="4627" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4629" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4629" class="Bound">a∈</a><a id="4631" class="Symbol">)</a> <a id="4633" class="Keyword">with</a> <a id="4638" href="Function.Bundles.html#7416" class="Field">Inverse.from</a> <a id="4651" class="Symbol">(</a><a id="4652" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4659" class="Symbol">(</a><a id="4660" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="4677" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4679" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4684" class="Symbol">))</a> <a id="4687" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4629" class="Bound">a∈</a>
      <a id="4696" class="Symbol">...</a> <a id="4700" class="Symbol">|</a> <a id="4702" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4702" class="Bound">b</a> <a id="4704" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4706" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4706" class="Bound">b∈</a> <a id="4709" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4711" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4716" class="Symbol">=</a> <a id="4718" href="Function.Bundles.html#7392" class="Field">Inverse.to</a> <a id="4729" class="Symbol">(</a><a id="4730" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4737" class="Symbol">(</a><a id="4738" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="4755" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4757" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4762" class="Symbol">))</a>
                                       <a id="4804" class="Symbol">(</a><a id="4805" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4702" class="Bound">b</a> <a id="4807" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4809" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a> <a id="4819" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2981" class="Function">P?</a> <a id="4822" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4706" class="Bound">b∈</a> <a id="4825" class="Symbol">(</a><a id="4826" class="Bound">a∉ΔΠ&#39;</a> <a id="4832" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4834" href="Axiom.Set.Properties.html#5166" class="Function">∈-map⁺-∘</a><a id="4842" class="Symbol">)</a> <a id="4844" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4846" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="4850" class="Symbol">)</a>

      <a id="4859" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4859" class="Function">ii</a> <a id="4862" class="Symbol">:</a> <a id="4864" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4433" class="Bound">a</a> <a id="4866" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="4869" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#745" class="Function">map&#39;</a> <a id="4874" class="Symbol">(</a><a id="4875" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="4892" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4894" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4899" class="Symbol">)</a> <a id="4901" class="Symbol">(</a><a id="4902" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="4909" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2981" class="Function">P?</a> <a id="4912" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="4917" class="Symbol">)</a> <a id="4919" class="Symbol">→</a> <a id="4921" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4433" class="Bound">a</a> <a id="4923" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4925" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a>
      <a id="4935" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4859" class="Function">ii</a> <a id="4938" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4938" class="Bound">a∈</a> <a id="4941" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4941" class="Bound">a∈ΔΠ&#39;</a> <a id="4947" class="Keyword">with</a> <a id="4952" href="Function.Bundles.html#4832" class="Field">from</a> <a id="4957" class="Symbol">(</a><a id="4958" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a> <a id="4972" class="Symbol">{</a><a id="4973" class="Argument">l</a> <a id="4975" class="Symbol">=</a> <a id="4977" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="4982" class="Symbol">}</a> <a id="4984" class="Symbol">{</a><a id="4985" class="Argument">P?</a> <a id="4988" class="Symbol">=</a> <a id="4990" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2981" class="Function">P?</a><a id="4992" class="Symbol">})</a> <a id="4995" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4938" class="Bound">a∈</a>
      <a id="5004" class="Symbol">...</a> <a id="5008" class="Symbol">|</a> <a id="5010" class="Symbol">_</a> <a id="5012" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5014" class="Symbol">_</a> <a id="5016" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5018" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5023" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5025" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5025" class="Bound">Pb</a> <a id="5028" class="Keyword">with</a> <a id="5033" href="Axiom.Set.Properties.html#1617" class="Function">∈-map⁻&#39;</a> <a id="5041" class="Bound">a∈ΔΠ&#39;</a>
      <a id="5053" class="Symbol">...</a> <a id="5057" class="Symbol">|</a> <a id="5059" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5059" class="Bound">q</a> <a id="5061" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5063" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5068" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5070" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5070" class="Bound">q∈rem</a> <a id="5076" class="Symbol">=</a> <a id="5078" class="Bound">Pb</a> <a id="5081" class="Symbol">(</a><a id="5082" href="Function.Bundles.html#4808" class="Field">to</a> <a id="5085" href="Axiom.Set.html#5325" class="Function">∈-map</a> <a id="5091" class="Symbol">(</a><a id="5092" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5059" class="Bound">q</a> <a id="5094" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5096" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5101" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5103" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5070" class="Bound">q∈rem</a><a id="5108" class="Symbol">))</a>

      <a id="5118" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5118" class="Function">iii</a> <a id="5122" class="Symbol">:</a> <a id="5124" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4433" class="Bound">a</a> <a id="5126" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="5129" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#745" class="Function">map&#39;</a> <a id="5134" class="Symbol">(</a><a id="5135" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="5152" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5154" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5159" class="Symbol">)</a> <a id="5161" class="Symbol">(</a><a id="5162" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="5169" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2981" class="Function">P?</a> <a id="5172" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="5177" class="Symbol">)</a>
            <a id="5191" class="Symbol">→</a> <a id="5193" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4433" class="Bound">a</a> <a id="5195" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="5198" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#745" class="Function">map&#39;</a> <a id="5203" class="Symbol">(</a><a id="5204" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="5221" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5223" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5228" class="Symbol">)</a> <a id="5230" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a>
      <a id="5242" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5118" class="Function">iii</a> <a id="5246" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5246" class="Bound">a∈</a> <a id="5249" class="Keyword">with</a> <a id="5254" href="Function.Bundles.html#4832" class="Field">from</a> <a id="5259" class="Symbol">(</a><a id="5260" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a> <a id="5274" class="Symbol">{</a><a id="5275" class="Argument">l</a> <a id="5277" class="Symbol">=</a> <a id="5279" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="5284" class="Symbol">}</a> <a id="5286" class="Symbol">{</a><a id="5287" class="Argument">P?</a> <a id="5290" class="Symbol">=</a> <a id="5292" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2981" class="Function">P?</a><a id="5294" class="Symbol">})</a> <a id="5297" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5246" class="Bound">a∈</a>
      <a id="5306" class="Symbol">...</a> <a id="5310" class="Symbol">|</a> <a id="5312" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5312" class="Bound">b</a> <a id="5314" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5316" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5316" class="Bound">b∈</a> <a id="5319" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5321" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5326" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5328" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5328" class="Bound">Pb</a> <a id="5331" class="Symbol">=</a> <a id="5333" href="Function.Bundles.html#7392" class="Field">Inverse.to</a> <a id="5344" class="Symbol">(</a><a id="5345" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="5352" class="Symbol">(</a><a id="5353" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="5370" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5372" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5377" class="Symbol">))</a> <a id="5380" class="Symbol">(</a><a id="5381" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5312" class="Bound">b</a> <a id="5383" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5385" class="Symbol">(</a><a id="5386" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5316" class="Bound">b∈</a> <a id="5389" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5391" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5395" class="Symbol">))</a>


    <a id="5404" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5404" class="Function">main-invariance-lemma</a> <a id="5426" class="Symbol">:</a>
        <a id="5436" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="5444" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="5456" class="Symbol">(</a><a id="5457" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5461" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3026" class="Function">utxoDeps</a><a id="5469" class="Symbol">)</a> <a id="5471" href="Axiom.Set.html#2830" class="Function Operator">≡ᵉ&#39;</a> <a id="5475" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="5484" class="Symbol">(</a><a id="5485" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#745" class="Function">map&#39;</a> <a id="5490" class="Symbol">(</a><a id="5491" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="5508" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5510" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5515" class="Symbol">)</a> <a id="5517" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="5522" class="Symbol">)</a>
        <a id="5532" class="Comment">---------------------------------------------------------------------------------------------------</a>
      <a id="5638" class="Symbol">→</a> <a id="5640" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="5648" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="5660" class="Symbol">(</a><a id="5661" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5665" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3181" class="Function">utxoDeps&#39;</a><a id="5674" class="Symbol">)</a> <a id="5676" href="Axiom.Set.html#2830" class="Function Operator">≡ᵉ&#39;</a> <a id="5680" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="5689" class="Symbol">(</a><a id="5690" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#745" class="Function">map&#39;</a> <a id="5695" class="Symbol">(</a><a id="5696" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="5713" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5715" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5720" class="Symbol">)</a> <a id="5722" class="Symbol">(</a><a id="5723" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="5730" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2981" class="Function">P?</a> <a id="5733" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="5738" class="Symbol">))</a>

    <a id="5746" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5404" class="Function">main-invariance-lemma</a> <a id="5768" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5768" class="Bound">HYP</a> <a id="5772" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="5774" class="Symbol">=</a> <a id="5776" class="Keyword">let</a> <a id="5780" class="Keyword">open</a> <a id="5785" href="Function.Related.Propositional.html#9292" class="Module">R.EquationalReasoning</a> <a id="5807" class="Keyword">in</a>
      <a id="5816" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="5818" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5820" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="5828" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="5840" class="Symbol">(</a><a id="5841" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5845" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3181" class="Function">utxoDeps&#39;</a><a id="5854" class="Symbol">)</a>                          <a id="5881" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5884" href="Function.Related.Propositional.html#8306" class="Function">R.SK-sym</a> <a id="5893" href="Axiom.Set.html#5784" class="Function">∈-filter</a> <a id="5902" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5910" class="Symbol">(</a><a id="5911" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="5923" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="5925" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5927" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="5929" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5931" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5935" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3181" class="Function">utxoDeps&#39;</a><a id="5944" class="Symbol">)</a>                              <a id="5975" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5978" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="5987" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="5994" href="Axiom.Set.Rel.html#8204" class="Function">∈-resᶜ-dom</a> <a id="6005" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6013" class="Symbol">(</a><a id="6014" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="6026" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6028" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6030" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6032" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6034" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a> <a id="6038" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6040" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6043" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6043" class="Bound">q</a> <a id="6045" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6047" class="Symbol">(</a><a id="6048" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6050" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6052" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6043" class="Bound">q</a><a id="6053" class="Symbol">)</a> <a id="6055" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6057" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3026" class="Function">utxoDeps</a><a id="6065" class="Symbol">)</a>             <a id="6079" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6082" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a> <a id="6091" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6099" class="Symbol">(</a><a id="6100" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6102" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6104" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a> <a id="6108" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6110" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="6122" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6124" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6126" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6129" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6129" class="Bound">q</a> <a id="6131" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6133" class="Symbol">(</a><a id="6134" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6136" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6138" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6129" class="Bound">q</a><a id="6139" class="Symbol">)</a> <a id="6141" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6143" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3026" class="Function">utxoDeps</a><a id="6151" class="Symbol">)</a>             <a id="6165" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6168" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6177" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6184" class="Symbol">(</a><a id="6185" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6194" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6201" href="Axiom.Set.Rel.html#2687" class="Function">dom∈</a><a id="6205" class="Symbol">)</a><a id="6206" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6214" class="Symbol">(</a><a id="6215" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6217" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6219" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a> <a id="6223" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6225" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="6237" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6239" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6241" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6243" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6245" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6249" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3026" class="Function">utxoDeps</a><a id="6257" class="Symbol">)</a>                      <a id="6280" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6283" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6292" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6299" href="Axiom.Set.html#5784" class="Function">∈-filter</a> <a id="6308" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6316" class="Symbol">(</a><a id="6317" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6319" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6321" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a> <a id="6325" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6327" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6329" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6331" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="6339" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="6351" class="Symbol">(</a><a id="6352" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6356" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3026" class="Function">utxoDeps</a><a id="6364" class="Symbol">))</a>                <a id="6382" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6385" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6394" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6401" class="Symbol">(</a><a id="6402" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5768" class="Bound">HYP</a> <a id="6406" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a><a id="6407" class="Symbol">)</a> <a id="6409" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6417" class="Symbol">(</a><a id="6418" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6420" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6422" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a> <a id="6426" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6428" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6430" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6432" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="6441" class="Symbol">(</a><a id="6442" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#745" class="Function">map&#39;</a> <a id="6447" class="Symbol">(</a><a id="6448" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="6465" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6467" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6472" class="Symbol">)</a> <a id="6474" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="6479" class="Symbol">))</a>  <a id="6483" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6486" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6495" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6502" class="Symbol">(</a><a id="6503" href="Function.Related.Propositional.html#8306" class="Function">R.SK-sym</a> <a id="6512" href="Axiom.Set.html#5961" class="Function">∈-fromList</a><a id="6522" class="Symbol">)</a><a id="6523" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6531" class="Symbol">(</a><a id="6532" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6534" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6536" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2754" class="Function">ΔΠ&#39;</a> <a id="6540" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6542" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6544" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="6547" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#745" class="Function">map&#39;</a> <a id="6552" class="Symbol">(</a><a id="6553" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="6570" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6572" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6577" class="Symbol">)</a> <a id="6579" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="6584" class="Symbol">)</a>            <a id="6597" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6600" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4241" class="Function">map-filter-decomp</a> <a id="6618" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6620" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6628" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6630" href="Prelude.html#617" class="Function Operator">∈ˡ</a> <a id="6633" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#745" class="Function">map&#39;</a> <a id="6638" class="Symbol">(</a><a id="6639" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="6656" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6658" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6663" class="Symbol">)</a> <a id="6665" class="Symbol">(</a><a id="6666" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="6673" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2981" class="Function">P?</a> <a id="6676" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="6681" class="Symbol">)</a>           <a id="6693" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6696" href="Axiom.Set.html#5961" class="Function">∈-fromList</a> <a id="6707" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6715" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5772" class="Bound">a</a> <a id="6717" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6719" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="6728" class="Symbol">(</a><a id="6729" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#745" class="Function">map&#39;</a> <a id="6734" class="Symbol">(</a><a id="6735" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="6752" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6754" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6759" class="Symbol">)</a> <a id="6761" class="Symbol">(</a><a id="6762" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="6769" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2981" class="Function">P?</a> <a id="6772" href="Ledger.Conway.Specification.Ledger.html#1085" class="Function">govSt</a><a id="6777" class="Symbol">))</a> <a id="6780" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

    <a id="6787" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="6791" class="Symbol">=</a> <a id="6793" class="Keyword">record</a> <a id="6800" class="Symbol">(</a><a id="6801" href="Ledger.Conway.Specification.Ledger.html#1193" class="Field">LStateOf</a> <a id="6810" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2478" class="Bound">eps&#39;</a><a id="6814" class="Symbol">)</a>
           <a id="6827" class="Symbol">{</a> <a id="6829" href="Ledger.Conway.Specification.Ledger.html#1058" class="Field">utxoSt</a> <a id="6836" class="Symbol">=</a> <a id="6838" href="Ledger.Conway.Specification.Epoch.html#14960" class="Function">Pre-POOLREAPUpdate.utxoSt&#39;</a> <a id="6865" class="Symbol">(</a><a id="6866" href="Ledger.Conway.Specification.Ledger.html#1193" class="Field">LStateOf</a> <a id="6875" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2184" class="Bound">eps</a><a id="6878" class="Symbol">)</a> <a id="6880" class="Symbol">(</a><a id="6881" href="Ledger.Conway.Specification.Enact.html#787" class="Field">EnactStateOf</a> <a id="6894" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2184" class="Bound">eps</a><a id="6897" class="Symbol">)</a> <a id="6899" class="Symbol">(</a><a id="6900" href="Ledger.Conway.Specification.Epoch.html#14414" class="Function">GovernanceUpdate.updates</a> <a id="6925" class="Symbol">((</a><a id="6927" href="Ledger.Conway.Specification.Ledger.html#1193" class="Field">LStateOf</a> <a id="6936" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2184" class="Bound">eps</a><a id="6939" class="Symbol">))</a> <a id="6942" class="Symbol">((</a><a id="6944" href="Ledger.Conway.Specification.Ratify.html#3717" class="Field">RatifyStateOf</a> <a id="6958" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2184" class="Bound">eps</a><a id="6961" class="Symbol">)))</a> <a id="6965" class="Symbol">}</a>

    <a id="6972" class="Keyword">open</a> <a id="6977" href="Ledger.Conway.Specification.Ledger.html#999" class="Module">LState</a>
    <a id="6988" class="Keyword">open</a> <a id="6993" href="Ledger.Conway.Specification.Certs.html#4287" class="Module">CertState</a>

    <a id="7008" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a> <a id="7024" class="Symbol">:</a> <a id="7026" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7028" href="Ledger.Conway.Specification.Certs.html#561" class="Datatype">DepositPurpose</a>
    <a id="7047" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a> <a id="7063" class="Symbol">=</a> <a id="7065" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="7070" href="Ledger.Conway.Specification.Certs.html#644" class="InductiveConstructor">PoolDeposit</a> <a id="7082" class="Symbol">((</a><a id="7084" href="Ledger.Conway.Specification.Certs.html#4698" class="Field">PStateOf</a> <a id="7093" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2184" class="Bound">eps</a><a id="7096" class="Symbol">)</a> <a id="7098" class="Symbol">.</a><a id="7099" href="Ledger.Conway.Specification.Certs.html#4120" class="Field">retiring</a> <a id="7108" href="Axiom.Set.Map.html#17955" class="Function Operator">⁻¹</a> <a id="7111" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2485" class="Bound">e</a><a id="7112" class="Symbol">)</a>

    <a id="7119" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7119" class="Function">d≡PoolDepositA</a>
      <a id="7140" class="Symbol">:</a> <a id="7142" class="Symbol">(</a><a id="7143" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7143" class="Bound">d</a> <a id="7145" class="Symbol">:</a> <a id="7147" href="Ledger.Conway.Specification.Certs.html#561" class="Datatype">DepositPurpose</a><a id="7161" class="Symbol">)</a>
      <a id="7169" class="Symbol">→</a> <a id="7171" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7143" class="Bound">d</a> <a id="7173" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="7175" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7179" class="Symbol">(</a><a id="7180" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="7191" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="7195" href="Axiom.Set.Map.html#13534" class="Function Operator">∣</a> <a id="7197" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a><a id="7212" class="Symbol">)</a>
      <a id="7220" class="Symbol">→</a> <a id="7222" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="7225" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7225" class="Bound">kh</a> <a id="7228" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="7230" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7143" class="Bound">d</a> <a id="7232" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7234" href="Ledger.Conway.Specification.Certs.html#644" class="InductiveConstructor">PoolDeposit</a> <a id="7246" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7225" class="Bound">kh</a>
    <a id="7253" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7119" class="Function">d≡PoolDepositA</a> <a id="7268" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7268" class="Bound">d</a> <a id="7270" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7270" class="Bound">d∈res</a> <a id="7276" class="Symbol">=</a>
      <a id="7284" href="Data.Product.Base.html#2362" class="Function">Product.map₂</a> <a id="7297" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7303" href="Function.Base.html#1993" class="Function Operator">$</a>
        <a id="7313" href="Axiom.Set.Properties.html#1617" class="Function">∈-map⁻&#39;</a> <a id="7321" href="Function.Base.html#1993" class="Function Operator">$</a>       <a id="7329" class="Comment">-- (∃[ a ] d ≡ PoolDeposit a × a ∈ _)</a>
         <a id="7376" href="Axiom.Set.Rel.html#6896" class="Function">res-dom</a> <a id="7384" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7270" class="Bound">d∈res</a>  <a id="7391" class="Comment">-- d ∈ retiredDeposits</a>
      <a id="7420" class="Keyword">where</a> <a id="7426" class="Keyword">import</a> <a id="7433" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="7451" class="Symbol">as</a> <a id="7454" class="Module">Product</a> <a id="7462" class="Keyword">using</a> <a id="7468" class="Symbol">(</a><a id="7469" href="Data.Product.Base.html#2362" class="Function">map₂</a><a id="7473" class="Symbol">)</a>

    <a id="7480" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7480" class="Function">ratifiesSnapMatch</a> <a id="7498" class="Symbol">:</a> <a id="7500" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1564" class="Function">govDepsMatch</a> <a id="7513" class="Symbol">(</a><a id="7514" href="Ledger.Conway.Specification.Ledger.html#1193" class="Field">LStateOf</a> <a id="7523" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2184" class="Bound">eps</a><a id="7526" class="Symbol">)</a> <a id="7528" class="Symbol">→</a> <a id="7530" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1564" class="Function">govDepsMatch</a> <a id="7543" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a>
    <a id="7551" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7480" class="Function">ratifiesSnapMatch</a> <a id="7569" class="Symbol">=</a>
       <a id="7578" href="Relation.Binary.Structures.html#1693" class="Function">≡ᵉ.trans</a> <a id="7587" class="Symbol">(</a><a id="7588" href="Axiom.Set.Properties.html#9685" class="Function">filter-cong</a> <a id="7600" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="7602" href="Axiom.Set.Rel.html#4544" class="Function">dom-cong</a> <a id="7611" class="Symbol">(</a><a id="7612" href="Axiom.Set.Rel.html#7107" class="Function">res-comp-cong</a> <a id="7626" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="7628" href="Relation.Binary.Structures.html#1667" class="Function">≡ᵉ.sym</a> <a id="7635" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3240" class="Function">ΔΠ&#39;≡ΔΠ</a><a id="7641" class="Symbol">))</a>
       <a id="7651" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7653" href="Function.Bundles.html#4832" class="Field">from</a> <a id="7658" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a> <a id="7665" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7667" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5404" class="Function">main-invariance-lemma</a> <a id="7689" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7691" href="Function.Bundles.html#4808" class="Field">to</a> <a id="7694" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a>

    <a id="7706" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7706" class="Function">noGADepositIsRetired</a>
      <a id="7733" class="Symbol">:</a> <a id="7735" class="Symbol">(</a><a id="7736" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7736" class="Bound">d</a> <a id="7738" class="Symbol">:</a> <a id="7740" href="Ledger.Conway.Specification.Certs.html#561" class="Datatype">DepositPurpose</a><a id="7754" class="Symbol">)</a>
      <a id="7762" class="Symbol">→</a> <a id="7764" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7736" class="Bound">d</a> <a id="7766" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="7768" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7772" class="Symbol">(</a><a id="7773" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="7784" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="7788" href="Axiom.Set.Map.html#13534" class="Function Operator">∣</a> <a id="7790" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a><a id="7805" class="Symbol">)</a>
      <a id="7813" class="Symbol">→</a> <a id="7815" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="7817" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="7829" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7736" class="Bound">d</a>
    <a id="7835" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7706" class="Function">noGADepositIsRetired</a> <a id="7856" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7856" class="Bound">d</a> <a id="7858" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7858" class="Bound">d∈res</a> <a id="7864" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7864" class="Bound">dIsGA</a>
     <a id="7875" class="Keyword">rewrite</a> <a id="7883" class="Symbol">(</a><a id="7884" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="7890" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="7892" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7119" class="Function">d≡PoolDepositA</a> <a id="7907" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7856" class="Bound">d</a> <a id="7909" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7858" class="Bound">d∈res</a><a id="7914" class="Symbol">)</a>
     <a id="7921" class="Keyword">with</a> <a id="7926" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7864" class="Bound">dIsGA</a>
    <a id="7936" class="Symbol">...</a> <a id="7940" class="Symbol">|</a> <a id="7942" class="Symbol">()</a>

    <a id="7950" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7950" class="Function">dropRetiredDeposits</a> <a id="7970" class="Symbol">:</a>
      <a id="7978" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="7986" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="7998" class="Symbol">(</a><a id="7999" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8003" class="Symbol">(</a><a id="8004" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="8015" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="8019" href="Axiom.Set.Map.html#13604" class="Function Operator">∣</a> <a id="8021" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a> <a id="8037" href="Axiom.Set.Map.html#13604" class="Function Operator">ᶜ</a><a id="8038" class="Symbol">))</a> <a id="8041" href="Axiom.Set.html#2772" class="Function Operator">≡ᵉ</a>
        <a id="8052" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8060" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="8072" class="Symbol">(</a><a id="8073" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8077" class="Symbol">(</a><a id="8078" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="8089" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a><a id="8092" class="Symbol">))</a>
    <a id="8099" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7950" class="Function">dropRetiredDeposits</a> <a id="8119" class="Symbol">=</a> <a id="8121" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="8133" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8141" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="8153" class="Symbol">(</a><a id="8154" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8158" class="Symbol">(</a><a id="8159" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="8170" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="8174" href="Axiom.Set.Map.html#13604" class="Function Operator">∣</a> <a id="8176" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a> <a id="8192" href="Axiom.Set.Map.html#13604" class="Function Operator">ᶜ</a><a id="8193" class="Symbol">))</a>

        <a id="8205" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="8208" href="Axiom.Set.Properties.html#13869" class="Function">∪-identityˡ</a> <a id="8220" class="Symbol">_</a> <a id="8222" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>

      <a id="8231" href="abstract-set-theory.FiniteSetTheory.html#530" class="Function">∅ˢ</a> <a id="8234" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="8236" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8244" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="8256" class="Symbol">(</a><a id="8257" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8261" class="Symbol">(</a><a id="8262" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="8273" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="8277" href="Axiom.Set.Map.html#13604" class="Function Operator">∣</a> <a id="8279" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a> <a id="8295" href="Axiom.Set.Map.html#13604" class="Function Operator">ᶜ</a><a id="8296" class="Symbol">))</a>

        <a id="8308" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="8311" href="Axiom.Set.Properties.html#12502" class="Function">∪-cong</a>
             <a id="8331" class="Symbol">(</a><a id="8332" href="Axiom.Set.Properties.html#9294" class="Function">filter-∅</a> <a id="8341" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7706" class="Function">noGADepositIsRetired</a><a id="8361" class="Symbol">)</a>
             <a id="8376" class="Symbol">(</a><a id="8377" href="Relation.Binary.Structures.html#1641" class="Field">IsEquivalence.refl</a> <a id="8396" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a><a id="8412" class="Symbol">)</a>
         <a id="8423" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>

      <a id="8432" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8440" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="8452" class="Symbol">(</a><a id="8453" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8457" class="Symbol">(</a><a id="8458" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="8469" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="8473" href="Axiom.Set.Map.html#13534" class="Function Operator">∣</a> <a id="8475" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a><a id="8490" class="Symbol">))</a>
      <a id="8499" href="Axiom.Set.html#9137" class="Function Operator">∪</a>
      <a id="8507" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8515" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="8527" class="Symbol">(</a><a id="8528" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8532" class="Symbol">(</a><a id="8533" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="8544" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="8548" href="Axiom.Set.Map.html#13604" class="Function Operator">∣</a> <a id="8550" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a> <a id="8566" href="Axiom.Set.Map.html#13604" class="Function Operator">ᶜ</a><a id="8567" class="Symbol">))</a>

        <a id="8579" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="8582" href="Axiom.Set.Properties.html#10954" class="Function">filter-hom-∪</a> <a id="8595" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>

      <a id="8604" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8612" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a>
        <a id="8632" class="Symbol">(</a><a id="8633" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8637" class="Symbol">(</a><a id="8638" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="8649" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="8653" href="Axiom.Set.Map.html#13534" class="Function Operator">∣</a> <a id="8655" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a><a id="8670" class="Symbol">)</a>
         <a id="8681" href="Axiom.Set.html#9137" class="Function Operator">∪</a>
         <a id="8692" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8696" class="Symbol">(</a><a id="8697" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="8708" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="8712" href="Axiom.Set.Map.html#13604" class="Function Operator">∣</a> <a id="8714" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a> <a id="8730" href="Axiom.Set.Map.html#13604" class="Function Operator">ᶜ</a><a id="8731" class="Symbol">)</a>
        <a id="8741" class="Symbol">)</a>

        <a id="8752" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="8755" href="Axiom.Set.Properties.html#9685" class="Function">filter-cong</a> <a id="8767" href="Axiom.Set.Rel.html#3951" class="Function">dom∪</a> <a id="8772" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>

      <a id="8781" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8789" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a>
        <a id="8809" class="Symbol">(</a><a id="8810" href="Class.IsSet.html#916" class="Function">dom</a>
          <a id="8824" class="Symbol">((</a><a id="8826" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="8837" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="8841" href="Axiom.Set.Map.html#13534" class="Function Operator">∣</a> <a id="8843" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a><a id="8858" class="Symbol">)</a> <a id="8860" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a>
            <a id="8874" href="Axiom.Set.html#9137" class="Function Operator">∪</a>
           <a id="8887" class="Symbol">(</a><a id="8888" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="8899" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="8903" href="Axiom.Set.Map.html#13604" class="Function Operator">∣</a> <a id="8905" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a> <a id="8921" href="Axiom.Set.Map.html#13604" class="Function Operator">ᶜ</a><a id="8922" class="Symbol">)</a> <a id="8924" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a>
          <a id="8936" class="Symbol">)</a>
        <a id="8946" class="Symbol">)</a>

        <a id="8957" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="8960" href="Relation.Binary.Structures.html#1641" class="Field">IsEquivalence.refl</a> <a id="8979" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a> <a id="8996" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>

      <a id="9005" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="9013" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a>
        <a id="9033" class="Symbol">(</a><a id="9034" href="Axiom.Set.Rel.html#1526" class="Function">Rel.dom</a>
          <a id="9052" class="Symbol">(((</a><a id="9055" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="9066" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="9070" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="9071" class="Symbol">)</a> <a id="9073" href="abstract-set-theory.FiniteSetTheory.html#1266" class="Function Operator">∣ʳ</a> <a id="9076" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a><a id="9091" class="Symbol">)</a>
            <a id="9105" href="Axiom.Set.html#9137" class="Function Operator">∪</a>
           <a id="9118" class="Symbol">((</a><a id="9120" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="9131" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="9135" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="9136" class="Symbol">)</a> <a id="9138" href="abstract-set-theory.FiniteSetTheory.html#1280" class="Function Operator">∣ʳ</a> <a id="9141" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7008" class="Function">retiredDeposits</a> <a id="9157" href="abstract-set-theory.FiniteSetTheory.html#1280" class="Function Operator">ᶜ</a><a id="9158" class="Symbol">)</a>
          <a id="9170" class="Symbol">)</a>
        <a id="9180" class="Symbol">)</a>

        <a id="9191" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="9194" href="Axiom.Set.Properties.html#9685" class="Function">filter-cong</a> <a id="9206" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="9208" href="Axiom.Set.Rel.html#4544" class="Function">dom-cong</a> <a id="9217" class="Symbol">(</a><a id="9218" href="Axiom.Set.Rel.html#8320" class="Function">res-ex-∪</a> <a id="9227" href="Class.Decidable.Core.html#680" class="Function">dec¹</a><a id="9231" class="Symbol">)</a> <a id="9233" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>

      <a id="9242" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="9250" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1353" class="Function">isGADeposit</a> <a id="9262" class="Symbol">(</a><a id="9263" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9267" class="Symbol">(</a><a id="9268" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="9279" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a><a id="9282" class="Symbol">))</a>
      <a id="9291" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

      <a id="9300" class="Keyword">where</a>
        <a id="9314" class="Keyword">open</a> <a id="9319" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="9335" class="Symbol">(</a><a id="9336" href="Axiom.Set.Properties.html#3967" class="Function">≡ᵉ-Setoid</a> <a id="9346" class="Symbol">{</a><a id="9347" class="Argument">A</a> <a id="9349" class="Symbol">=</a> <a id="9351" href="Ledger.Conway.Specification.Certs.html#561" class="Datatype">DepositPurpose</a><a id="9365" class="Symbol">})</a>
        <a id="9376" class="Keyword">open</a> <a id="9381" class="Keyword">import</a> <a id="9388" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="9404" class="Keyword">using</a> <a id="9410" class="Symbol">(</a><a id="9411" href="Relation.Binary.Structures.html#1595" class="Record">IsEquivalence</a><a id="9424" class="Symbol">)</a>
        <a id="9434" class="Keyword">import</a> <a id="9441" href="Axiom.Set.Rel.html" class="Module">Axiom.Set.Rel</a> <a id="9455" href="Axiom.Set.html#10936" class="Function">th</a> <a id="9458" class="Symbol">as</a> <a id="9461" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9461" class="Module">Rel</a>

    <a id="9470" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9470" class="Function">poolReapMatch</a> <a id="9484" class="Symbol">:</a> <a id="9486" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1564" class="Function">govDepsMatch</a> <a id="9499" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6787" class="Function">ls₁</a> <a id="9503" class="Symbol">→</a> <a id="9505" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1564" class="Function">govDepsMatch</a> <a id="9518" class="Symbol">(</a><a id="9519" href="Ledger.Conway.Specification.Ledger.html#1193" class="Field">LStateOf</a> <a id="9528" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2478" class="Bound">eps&#39;</a><a id="9532" class="Symbol">)</a>
    <a id="9538" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9470" class="Function">poolReapMatch</a> <a id="9552" class="Symbol">=</a> <a id="9554" href="Relation.Binary.Structures.html#1693" class="Function">≡ᵉ.trans</a> <a id="9563" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7950" class="Function">dropRetiredDeposits</a>


</pre></body></html>