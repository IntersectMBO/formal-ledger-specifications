<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Gov</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>
<a id="53" class="Keyword">open</a> <a id="58" class="Keyword">import</a> <a id="65" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="80" class="Keyword">open</a> <a id="85" class="Keyword">import</a> <a id="92" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a> <a id="111" class="Keyword">using</a> <a id="117" class="Symbol">(</a><a id="118" href="Ledger.Transaction.html#867" class="Record">TransactionStructure</a><a id="138" class="Symbol">)</a>

<a id="141" class="Keyword">module</a> <a id="148" href="Ledger.Conway.Conformance.Gov.html" class="Module">Ledger.Conway.Conformance.Gov</a>
  <a id="180" class="Symbol">(</a><a id="181" href="Ledger.Conway.Conformance.Gov.html#181" class="Bound">txs</a> <a id="185" class="Symbol">:</a> <a id="187" class="Symbol">_)</a> <a id="190" class="Symbol">(</a><a id="191" class="Keyword">open</a> <a id="196" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="217" href="Ledger.Conway.Conformance.Gov.html#181" class="Bound">txs</a> <a id="221" class="Keyword">hiding</a> <a id="228" class="Symbol">(</a><a id="229" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a><a id="234" class="Symbol">))</a>
  <a id="239" class="Symbol">(</a><a id="240" href="Ledger.Conway.Conformance.Gov.html#240" class="Bound">abs</a> <a id="244" class="Symbol">:</a> <a id="246" href="Ledger.Abstract.html#578" class="Record">AbstractFunctions</a> <a id="264" href="Ledger.Conway.Conformance.Gov.html#181" class="Bound">txs</a><a id="267" class="Symbol">)</a> <a id="269" class="Symbol">(</a><a id="270" class="Keyword">open</a> <a id="275" href="Ledger.Abstract.html#578" class="Module">AbstractFunctions</a> <a id="293" href="Ledger.Conway.Conformance.Gov.html#240" class="Bound">abs</a><a id="296" class="Symbol">)</a>
  <a id="300" class="Keyword">where</a>

<a id="307" class="Keyword">open</a> <a id="312" class="Keyword">import</a> <a id="319" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="340" href="Axiom.Set.html#10669" class="Function">th</a> <a id="343" class="Keyword">using</a> <a id="349" class="Symbol">(</a><a id="350" href="Axiom.Set.Properties.html#15458" class="Function">∃-sublist-⇔</a><a id="361" class="Symbol">)</a>

<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Ledger.Enact.html" class="Module">Ledger.Enact</a> <a id="389" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="402" class="Keyword">open</a> <a id="407" class="Keyword">import</a> <a id="414" href="Ledger.Ledger.html" class="Module">Ledger.Ledger</a> <a id="428" href="Ledger.Conway.Conformance.Gov.html#181" class="Bound">txs</a> <a id="432" href="Ledger.Conway.Conformance.Gov.html#240" class="Bound">abs</a>

<a id="437" class="Keyword">open</a> <a id="442" class="Keyword">import</a> <a id="449" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="481" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Ledger.Conway.Conformance.Equivalence.Certs.html" class="Module">Ledger.Conway.Conformance.Equivalence.Certs</a> <a id="550" href="Ledger.Conway.Conformance.Gov.html#181" class="Bound">txs</a> <a id="554" href="Ledger.Conway.Conformance.Gov.html#240" class="Bound">abs</a>
<a id="558" class="Keyword">open</a> <a id="563" class="Keyword">import</a> <a id="570" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>

<a id="617" class="Keyword">open</a> <a id="622" class="Keyword">import</a> <a id="629" href="Ledger.Gov.html" class="Module">Ledger.Gov</a> <a id="640" href="Ledger.Conway.Conformance.Gov.html#181" class="Bound">txs</a> <a id="644" class="Keyword">using</a> <a id="650" class="Symbol">(</a><a id="651" href="Ledger.Gov.html#1334" class="Function">GovState</a><a id="659" class="Symbol">)</a> <a id="661" class="Keyword">public</a>
<a id="668" class="Keyword">import</a> <a id="675" href="Ledger.Gov.html" class="Module">Ledger.Gov</a> <a id="686" href="Ledger.Conway.Conformance.Gov.html#181" class="Bound">txs</a> <a id="690" class="Symbol">as</a> <a id="L"></a><a id="693" href="Ledger.Conway.Conformance.Gov.html#693" class="Module">L</a>

<a id="696" class="Keyword">record</a> <a id="GovEnv"></a><a id="703" href="Ledger.Conway.Conformance.Gov.html#703" class="Record">GovEnv</a> <a id="710" class="Symbol">:</a> <a id="712" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="717" class="Keyword">where</a>
  <a id="725" class="Keyword">field</a>
    <a id="GovEnv.txid"></a><a id="735" href="Ledger.Conway.Conformance.Gov.html#735" class="Field">txid</a>        <a id="747" class="Symbol">:</a> <a id="749" href="Ledger.Transaction.html#919" class="Field">TxId</a>
    <a id="GovEnv.epoch"></a><a id="758" href="Ledger.Conway.Conformance.Gov.html#758" class="Field">epoch</a>       <a id="770" class="Symbol">:</a> <a id="772" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>
    <a id="GovEnv.pparams"></a><a id="782" href="Ledger.Conway.Conformance.Gov.html#782" class="Field">pparams</a>     <a id="794" class="Symbol">:</a> <a id="796" href="Ledger.PParams.html#1570" class="Record">PParams</a>
    <a id="GovEnv.ppolicy"></a><a id="808" href="Ledger.Conway.Conformance.Gov.html#808" class="Field">ppolicy</a>     <a id="820" class="Symbol">:</a> <a id="822" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="828" href="Ledger.Crypto.html#1166" class="Function">ScriptHash</a>
    <a id="GovEnv.enactState"></a><a id="843" href="Ledger.Conway.Conformance.Gov.html#843" class="Field">enactState</a>  <a id="855" class="Symbol">:</a> <a id="857" href="Ledger.Enact.html#397" class="Record">EnactState</a>
    <a id="GovEnv.certState"></a><a id="872" href="Ledger.Conway.Conformance.Gov.html#872" class="Field">certState</a>   <a id="884" class="Symbol">:</a> <a id="886" href="Ledger.Conway.Conformance.Certs.html#934" class="Record">CertState</a>
    <a id="GovEnv.rewardCreds"></a><a id="900" href="Ledger.Conway.Conformance.Gov.html#900" class="Field">rewardCreds</a> <a id="912" class="Symbol">:</a> <a id="914" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="916" href="Ledger.Address.html#273" class="Datatype">Credential</a>

<a id="928" class="Keyword">instance</a>
  <a id="939" class="Keyword">unquoteDecl</a> <a id="HasCast-GovEnv"></a><a id="951" href="Ledger.Conway.Conformance.Gov.html#951" class="Function">HasCast-GovEnv</a> <a id="966" class="Symbol">=</a> <a id="968" href="Class.HasCast.Derive.html#2660" class="Function">derive-HasCast</a>
    <a id="987" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="989" class="Symbol">(</a><a id="990" class="Keyword">quote</a> <a id="996" href="Ledger.Conway.Conformance.Gov.html#703" class="Record">GovEnv</a> <a id="1003" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1005" href="Ledger.Conway.Conformance.Gov.html#951" class="Function">HasCast-GovEnv</a><a id="1019" class="Symbol">)</a> <a id="1021" href="Data.List.Base.html#5205" class="Function Operator">]</a>

<a id="_⊢_⇀⦇_,GOVS⦈_"></a><a id="1024" href="Ledger.Conway.Conformance.Gov.html#1024" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a> <a id="1038" class="Symbol">:</a> <a id="1040" href="Ledger.Conway.Conformance.Gov.html#703" class="Record">GovEnv</a> <a id="1047" class="Symbol">→</a> <a id="1049" href="Ledger.Gov.html#1334" class="Function">GovState</a> <a id="1058" class="Symbol">→</a> <a id="1060" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1065" class="Symbol">(</a><a id="1066" href="Ledger.GovernanceActions.html#2379" class="Record">GovVote</a> <a id="1074" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1076" href="Ledger.GovernanceActions.html#2524" class="Record">GovProposal</a><a id="1087" class="Symbol">)</a> <a id="1089" class="Symbol">→</a> <a id="1091" href="Ledger.Gov.html#1334" class="Function">GovState</a> <a id="1100" class="Symbol">→</a> <a id="1102" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1107" href="Ledger.Conway.Conformance.Gov.html#1107" class="Bound">Γ</a> <a id="1109" href="Ledger.Conway.Conformance.Gov.html#1024" class="Function Operator">⊢</a> <a id="1111" href="Ledger.Conway.Conformance.Gov.html#1111" class="Bound">govSt</a> <a id="1117" href="Ledger.Conway.Conformance.Gov.html#1024" class="Function Operator">⇀⦇</a> <a id="1120" href="Ledger.Conway.Conformance.Gov.html#1120" class="Bound">gvps</a> <a id="1125" href="Ledger.Conway.Conformance.Gov.html#1024" class="Function Operator">,GOVS⦈</a> <a id="1132" href="Ledger.Conway.Conformance.Gov.html#1132" class="Bound">govSt&#39;</a>
  <a id="1141" class="Symbol">=</a> <a id="1143" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="1145" href="Ledger.Conway.Conformance.Gov.html#735" class="Function">txid</a> <a id="1150" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1152" href="Ledger.Conway.Conformance.Gov.html#758" class="Function">epoch</a> <a id="1158" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1160" href="Ledger.Conway.Conformance.Gov.html#782" class="Function">pparams</a> <a id="1168" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1170" href="Ledger.Conway.Conformance.Gov.html#808" class="Function">ppolicy</a> <a id="1178" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1180" href="Ledger.Conway.Conformance.Gov.html#843" class="Function">enactState</a> <a id="1191" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1193" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="1198" href="Ledger.Conway.Conformance.Gov.html#872" class="Function">certState</a> <a id="1208" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
  <a id="1212" href="Ledger.Conway.Conformance.Gov.html#900" class="Function">rewardCreds</a> <a id="1224" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="1226" href="Ledger.Gov.html#6869" class="Function Operator">L.⊢</a> <a id="1230" href="Ledger.Ledger.html#1825" class="Function">rmOrphanDRepVotes</a> <a id="1248" class="Symbol">(</a><a id="1249" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="1254" href="Ledger.Conway.Conformance.Gov.html#872" class="Function">certState</a><a id="1263" class="Symbol">)</a> <a id="1265" href="Ledger.Conway.Conformance.Gov.html#1111" class="Bound">govSt</a>  <a id="1272" href="Ledger.Gov.html#6869" class="Function Operator">⇀⦇</a> <a id="1275" href="Ledger.Conway.Conformance.Gov.html#1120" class="Bound">gvps</a> <a id="1280" href="Ledger.Gov.html#6869" class="Function Operator">,GOVS⦈</a> <a id="1287" href="Ledger.Conway.Conformance.Gov.html#1132" class="Bound">govSt&#39;</a>
  <a id="1296" class="Keyword">where</a> <a id="1302" class="Keyword">open</a> <a id="1307" href="Ledger.Conway.Conformance.Gov.html#703" class="Module">GovEnv</a> <a id="1314" href="Ledger.Conway.Conformance.Gov.html#1107" class="Bound">Γ</a>
</pre></body></html>