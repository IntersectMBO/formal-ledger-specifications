<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Gov</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Core.Specification.Abstract.html" class="Module">Ledger.Core.Specification.Abstract</a>
<a id="72" class="Keyword">open</a> <a id="77" class="Keyword">import</a> <a id="84" href="Ledger.Core.Specification.Transaction.html" class="Module">Ledger.Core.Specification.Transaction</a>

<a id="123" class="Keyword">module</a> <a id="130" href="Ledger.Conway.Conformance.Gov.html" class="Module">Ledger.Conway.Conformance.Gov</a>
  <a id="162" class="Symbol">(</a><a id="163" href="Ledger.Conway.Conformance.Gov.html#163" class="Bound">txs</a> <a id="167" class="Symbol">:</a> <a id="169" href="Ledger.Core.Specification.Transaction.html#896" class="Record">TransactionStructure</a><a id="189" class="Symbol">)</a> <a id="191" class="Symbol">(</a><a id="192" class="Keyword">open</a> <a id="197" href="Ledger.Core.Specification.Transaction.html#896" class="Module">TransactionStructure</a> <a id="218" href="Ledger.Conway.Conformance.Gov.html#163" class="Bound">txs</a> <a id="222" class="Keyword">hiding</a> <a id="229" class="Symbol">(</a><a id="230" href="Ledger.Core.Specification.Epoch.html#858" class="Function">epoch</a><a id="235" class="Symbol">))</a>
  <a id="240" class="Symbol">(</a><a id="241" href="Ledger.Conway.Conformance.Gov.html#241" class="Bound">abs</a> <a id="245" class="Symbol">:</a> <a id="247" href="Ledger.Core.Specification.Abstract.html#651" class="Record">AbstractFunctions</a> <a id="265" href="Ledger.Conway.Conformance.Gov.html#163" class="Bound">txs</a><a id="268" class="Symbol">)</a>
  <a id="272" class="Keyword">where</a>

<a id="279" class="Keyword">open</a> <a id="284" class="Keyword">import</a> <a id="291" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="307" class="Keyword">open</a> <a id="312" class="Keyword">import</a> <a id="319" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="351" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>
<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Ledger.Conway.Conformance.Equivalence.Certs.html" class="Module">Ledger.Conway.Conformance.Equivalence.Certs</a> <a id="420" href="Ledger.Conway.Conformance.Gov.html#163" class="Bound">txs</a> <a id="424" href="Ledger.Conway.Conformance.Gov.html#241" class="Bound">abs</a>
<a id="428" class="Keyword">open</a> <a id="433" class="Keyword">import</a> <a id="440" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>

<a id="487" class="Keyword">open</a> <a id="492" class="Keyword">import</a> <a id="499" href="Ledger.Conway.Specification.Enact.html" class="Module">Ledger.Conway.Specification.Enact</a> <a id="533" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>
<a id="546" class="Keyword">open</a> <a id="551" class="Keyword">import</a> <a id="558" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="590" href="Ledger.Conway.Conformance.Gov.html#163" class="Bound">txs</a> <a id="594" class="Keyword">using</a> <a id="600" class="Symbol">(</a><a id="601" href="Ledger.Conway.Specification.Gov.html#1459" class="Function">GovState</a><a id="609" class="Symbol">)</a> <a id="611" class="Keyword">public</a>
<a id="618" class="Keyword">import</a> <a id="625" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="657" href="Ledger.Conway.Conformance.Gov.html#163" class="Bound">txs</a> <a id="661" class="Symbol">as</a> <a id="L"></a><a id="664" href="Ledger.Conway.Conformance.Gov.html#664" class="Module">L</a>
<a id="666" class="Keyword">open</a> <a id="671" class="Keyword">import</a> <a id="678" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="713" href="Ledger.Conway.Conformance.Gov.html#163" class="Bound">txs</a> <a id="717" href="Ledger.Conway.Conformance.Gov.html#241" class="Bound">abs</a>


<a id="723" class="Keyword">record</a> <a id="GovEnv"></a><a id="730" href="Ledger.Conway.Conformance.Gov.html#730" class="Record">GovEnv</a> <a id="737" class="Symbol">:</a> <a id="739" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="744" class="Keyword">where</a>
  <a id="752" class="Keyword">field</a>
    <a id="GovEnv.txid"></a><a id="762" href="Ledger.Conway.Conformance.Gov.html#762" class="Field">txid</a>        <a id="774" class="Symbol">:</a> <a id="776" href="Ledger.Core.Specification.Transaction.html#948" class="Field">TxId</a>
    <a id="GovEnv.epoch"></a><a id="785" href="Ledger.Conway.Conformance.Gov.html#785" class="Field">epoch</a>       <a id="797" class="Symbol">:</a> <a id="799" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a>
    <a id="GovEnv.pparams"></a><a id="809" href="Ledger.Conway.Conformance.Gov.html#809" class="Field">pparams</a>     <a id="821" class="Symbol">:</a> <a id="823" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a>
    <a id="GovEnv.ppolicy"></a><a id="835" href="Ledger.Conway.Conformance.Gov.html#835" class="Field">ppolicy</a>     <a id="847" class="Symbol">:</a> <a id="849" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="855" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="GovEnv.enactState"></a><a id="870" href="Ledger.Conway.Conformance.Gov.html#870" class="Field">enactState</a>  <a id="882" class="Symbol">:</a> <a id="884" href="Ledger.Conway.Specification.Enact.html#444" class="Record">EnactState</a>
    <a id="GovEnv.certState"></a><a id="899" href="Ledger.Conway.Conformance.Gov.html#899" class="Field">certState</a>   <a id="911" class="Symbol">:</a> <a id="913" href="Ledger.Conway.Conformance.Certs.html#952" class="Record">CertState</a>
    <a id="GovEnv.rewardCreds"></a><a id="927" href="Ledger.Conway.Conformance.Gov.html#927" class="Field">rewardCreds</a> <a id="939" class="Symbol">:</a> <a id="941" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="943" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>

<a id="955" class="Keyword">instance</a>
  <a id="966" class="Keyword">unquoteDecl</a> <a id="HasCast-GovEnv"></a><a id="978" href="Ledger.Conway.Conformance.Gov.html#978" class="Function">HasCast-GovEnv</a> <a id="993" class="Symbol">=</a> <a id="995" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="1014" href="Data.List.Base.html#4907" class="Function Operator">[</a> <a id="1016" class="Symbol">(</a><a id="1017" class="Keyword">quote</a> <a id="1023" href="Ledger.Conway.Conformance.Gov.html#730" class="Record">GovEnv</a> <a id="1030" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1032" href="Ledger.Conway.Conformance.Gov.html#978" class="Function">HasCast-GovEnv</a><a id="1046" class="Symbol">)</a> <a id="1048" href="Data.List.Base.html#4907" class="Function Operator">]</a>

<a id="_⊢_⇀⦇_,GOVS⦈_"></a><a id="1051" href="Ledger.Conway.Conformance.Gov.html#1051" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a> <a id="1065" class="Symbol">:</a> <a id="1067" href="Ledger.Conway.Conformance.Gov.html#730" class="Record">GovEnv</a> <a id="1074" class="Symbol">→</a> <a id="1076" href="Ledger.Conway.Specification.Gov.html#1459" class="Function">GovState</a> <a id="1085" class="Symbol">→</a> <a id="1087" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1092" class="Symbol">(</a><a id="1093" href="Ledger.Core.Specification.Gov.Actions.html#2289" class="Record">GovVote</a> <a id="1101" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1103" href="Ledger.Core.Specification.Gov.Actions.html#3598" class="Record">GovProposal</a><a id="1114" class="Symbol">)</a> <a id="1116" class="Symbol">→</a> <a id="1118" href="Ledger.Conway.Specification.Gov.html#1459" class="Function">GovState</a> <a id="1127" class="Symbol">→</a> <a id="1129" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1134" href="Ledger.Conway.Conformance.Gov.html#1134" class="Bound">Γ</a> <a id="1136" href="Ledger.Conway.Conformance.Gov.html#1051" class="Function Operator">⊢</a> <a id="1138" href="Ledger.Conway.Conformance.Gov.html#1138" class="Bound">govSt</a> <a id="1144" href="Ledger.Conway.Conformance.Gov.html#1051" class="Function Operator">⇀⦇</a> <a id="1147" href="Ledger.Conway.Conformance.Gov.html#1147" class="Bound">gvps</a> <a id="1152" href="Ledger.Conway.Conformance.Gov.html#1051" class="Function Operator">,GOVS⦈</a> <a id="1159" href="Ledger.Conway.Conformance.Gov.html#1159" class="Bound">govSt&#39;</a>
  <a id="1168" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Gov.html#762}{\htmlId{1172}{\htmlClass{Function}{\text{txid}}}}\, \\ \,\href{Ledger.Conway.Conformance.Gov.html#785}{\htmlId{1179}{\htmlClass{Function}{\text{epoch}}}}\, \\ \,\href{Ledger.Conway.Conformance.Gov.html#809}{\htmlId{1187}{\htmlClass{Function}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Conformance.Gov.html#835}{\htmlId{1197}{\htmlClass{Function}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Conformance.Gov.html#870}{\htmlId{1207}{\htmlClass{Function}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#452}{\htmlId{1220}{\htmlClass{Function}{\text{conv}}}}\, \,\href{Ledger.Conway.Conformance.Gov.html#899}{\htmlId{1225}{\htmlClass{Function}{\text{certState}}}}\, \\
  \,\href{Ledger.Conway.Conformance.Gov.html#927}{\htmlId{1239}{\htmlClass{Function}{\text{rewardCreds}}}}\, \end{pmatrix}$</a> <a id="1253" href="Ledger.Conway.Specification.Gov.html#16519" class="Function Operator">L.⊢</a> <a id="1257" href="Ledger.Conway.Specification.Ledger.html#2913" class="Function">rmOrphanDRepVotes</a> <a id="1275" class="Symbol">(</a><a id="1276" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="1281" href="Ledger.Conway.Conformance.Gov.html#899" class="Function">certState</a><a id="1290" class="Symbol">)</a> <a id="1292" href="Ledger.Conway.Conformance.Gov.html#1138" class="Bound">govSt</a>  <a id="1299" href="Ledger.Conway.Specification.Gov.html#16519" class="Function Operator">⇀⦇</a> <a id="1302" href="Ledger.Conway.Conformance.Gov.html#1147" class="Bound">gvps</a> <a id="1307" href="Ledger.Conway.Specification.Gov.html#16519" class="Function Operator">,GOVS⦈</a> <a id="1314" href="Ledger.Conway.Conformance.Gov.html#1159" class="Bound">govSt&#39;</a>
  <a id="1323" class="Keyword">where</a> <a id="1329" class="Keyword">open</a> <a id="1334" href="Ledger.Conway.Conformance.Gov.html#730" class="Module">GovEnv</a> <a id="1341" href="Ledger.Conway.Conformance.Gov.html#1134" class="Bound">Γ</a>
</pre></body></html>