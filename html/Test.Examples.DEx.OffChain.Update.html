<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Test.Examples.DEx.OffChain.Update</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">module</a> <a id="32" href="Test.Examples.DEx.OffChain.Update.html" class="Module">Test.Examples.DEx.OffChain.Update</a> <a id="66" class="Keyword">where</a>

<a id="73" class="Keyword">open</a> <a id="78" class="Keyword">import</a> <a id="85" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="100" class="Keyword">open</a> <a id="105" class="Keyword">import</a> <a id="112" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>

<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="Test.Examples.DEx.Datum.html" class="Module">Test.Examples.DEx.Datum</a>
<a id="189" class="Keyword">open</a> <a id="194" class="Keyword">import</a> <a id="201" href="Test.Examples.DEx.Validator.html" class="Module">Test.Examples.DEx.Validator</a>
<a id="229" class="Keyword">open</a> <a id="234" class="Keyword">import</a> <a id="241" href="Test.Examples.DEx.OffChain.Lib.html" class="Module">Test.Examples.DEx.OffChain.Lib</a>
<a id="272" class="Keyword">open</a> <a id="277" class="Keyword">import</a> <a id="284" href="Test.Prelude.html" class="Module">Test.Prelude</a> <a id="297" href="Test.Examples.DEx.Datum.html#695" class="Function">DExData</a>
<a id="305" class="Keyword">open</a> <a id="310" class="Keyword">import</a> <a id="317" href="Test.SymbolicData.html" class="Module">Test.SymbolicData</a> <a id="335" href="Test.Examples.DEx.Datum.html#695" class="Function">DExData</a>
<a id="343" class="Keyword">open</a> <a id="348" class="Keyword">import</a> <a id="355" href="Test.LedgerImplementation.html" class="Module">Test.LedgerImplementation</a> <a id="381" href="Test.SymbolicData.html#240" class="Function">SData</a> <a id="387" href="Test.SymbolicData.html#240" class="Function">SData</a>
<a id="393" class="Keyword">open</a> <a id="398" class="Keyword">import</a> <a id="405" href="Test.AbstractImplementation.html" class="Module">Test.AbstractImplementation</a> <a id="433" href="Test.SymbolicData.html#2904" class="Function">valContext</a>
<a id="444" class="Keyword">open</a> <a id="449" class="Keyword">import</a> <a id="456" href="Test.Lib.html" class="Module">Test.Lib</a> <a id="465" href="Test.SymbolicData.html#2904" class="Function">valContext</a>

<a id="477" class="Keyword">open</a> <a id="482" class="Keyword">import</a> <a id="489" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="529" class="Keyword">open</a> <a id="534" class="Keyword">import</a> <a id="541" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="574" href="Test.LedgerImplementation.html#4277" class="Function">SVTransactionStructure</a> <a id="597" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>

<a id="618" class="Keyword">open</a> <a id="623" href="Ledger.Conway.Specification.Transaction.html#991" class="Module">TransactionStructure</a> <a id="644" href="Test.LedgerImplementation.html#4277" class="Function">SVTransactionStructure</a>
<a id="667" class="Keyword">open</a> <a id="672" href="Test.LedgerImplementation.html#1058" class="Module">Implementation</a>

<a id="688" class="Keyword">import</a> <a id="695" href="Data.Rational.Base.html" class="Module">Data.Rational.Base</a> <a id="714" class="Symbol">as</a> <a id="717" class="Module">Q</a>



<a id="makeUpdateTxOut"></a><a id="722" href="Test.Examples.DEx.OffChain.Update.html#722" class="Function">makeUpdateTxOut</a> <a id="738" class="Symbol">:</a> <a id="740" href="Test.Examples.DEx.Datum.html#349" class="Datatype">Label</a> <a id="746" class="Symbol">→</a> <a id="748" class="Symbol">(</a><a id="749" href="Test.Examples.DEx.OffChain.Update.html#749" class="Bound">scriptIx</a> <a id="758" href="Test.Examples.DEx.OffChain.Update.html#758" class="Bound">w</a> <a id="760" class="Symbol">:</a> <a id="762" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="763" class="Symbol">)</a> <a id="765" class="Symbol">→</a> <a id="767" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a> <a id="773" class="Symbol">→</a> <a id="775" href="Data.Rational.Base.html#1421" class="Record">Q.ℚ</a> <a id="779" class="Symbol">→</a> <a id="781" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a> <a id="787" class="Symbol">→</a> <a id="789" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="794" class="Symbol">(</a><a id="795" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="797" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="799" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a><a id="804" class="Symbol">)</a>
<a id="806" href="Test.Examples.DEx.OffChain.Update.html#722" class="Function">makeUpdateTxOut</a> <a id="822" class="Symbol">(</a><a id="823" href="Test.Examples.DEx.Datum.html#389" class="InductiveConstructor">Always</a> <a id="830" href="Test.Examples.DEx.OffChain.Update.html#830" class="Bound">q</a> <a id="832" href="Test.Examples.DEx.OffChain.Update.html#832" class="Bound">o</a><a id="833" class="Symbol">)</a> <a id="835" href="Test.Examples.DEx.OffChain.Update.html#835" class="Bound">ix</a> <a id="838" href="Test.Examples.DEx.OffChain.Update.html#838" class="Bound">w</a> <a id="840" href="Test.Examples.DEx.OffChain.Update.html#840" class="Bound">v</a> <a id="842" href="Test.Examples.DEx.OffChain.Update.html#842" class="Bound">r</a> <a id="844" class="Symbol">(</a><a id="845" href="Test.Examples.DEx.OffChain.Update.html#845" class="Bound">fst</a> <a id="849" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="851" href="Test.Examples.DEx.OffChain.Update.html#851" class="Bound">txValue</a> <a id="859" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="861" href="Test.Examples.DEx.OffChain.Update.html#861" class="Bound">snd</a><a id="864" class="Symbol">)</a> <a id="866" class="Symbol">=</a>
  <a id="870" class="Symbol">(</a><a id="871" href="Test.Examples.DEx.OffChain.Update.html#835" class="Bound">ix</a> <a id="874" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="876" class="Symbol">(</a><a id="877" href="Test.Examples.DEx.OffChain.Update.html#845" class="Bound">fst</a> <a id="881" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="883" href="Test.Examples.DEx.OffChain.Update.html#840" class="Bound">v</a> <a id="885" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>  <a id="888" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="893" class="Symbol">(</a><a id="894" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="899" class="Symbol">(</a><a id="900" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="905" class="Symbol">(</a><a id="906" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="911" class="Symbol">(</a><a id="912" href="Test.Examples.DEx.Datum.html#389" class="InductiveConstructor">Always</a> <a id="919" href="Test.Examples.DEx.OffChain.Update.html#842" class="Bound">r</a> <a id="921" href="Test.Examples.DEx.OffChain.Update.html#832" class="Bound">o</a><a id="922" class="Symbol">))))</a> <a id="927" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="929" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="936" class="Symbol">))</a> <a id="939" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="941" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="makeUpdateTx"></a><a id="945" href="Test.Examples.DEx.OffChain.Update.html#945" class="Function">makeUpdateTx</a> <a id="958" class="Symbol">:</a> <a id="960" class="Symbol">(</a><a id="961" href="Test.Examples.DEx.OffChain.Update.html#961" class="Bound">id</a> <a id="964" class="Symbol">:</a> <a id="966" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="967" class="Symbol">)</a> <a id="969" class="Symbol">→</a> <a id="971" href="Ledger.Conway.Specification.Utxo.html#1300" class="Record">UTxOState</a> <a id="981" class="Symbol">→</a> <a id="983" href="Test.LedgerImplementation.html#1452" class="Function">PlutusScript</a> <a id="996" class="Symbol">→</a> <a id="998" class="Symbol">(</a><a id="999" href="Test.Examples.DEx.OffChain.Update.html#999" class="Bound">w</a> <a id="1001" class="Symbol">:</a> <a id="1003" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1004" class="Symbol">)</a> <a id="1006" class="Symbol">→</a> <a id="1008" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a> <a id="1014" class="Symbol">→</a> <a id="1016" href="Data.Rational.Base.html#1421" class="Record">Q.ℚ</a> <a id="1020" class="Symbol">→</a> <a id="1022" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1028" href="Ledger.Conway.Specification.Transaction.html#4668" class="Record">Tx</a>
<a id="1031" href="Test.Examples.DEx.OffChain.Update.html#945" class="Function">makeUpdateTx</a> <a id="1044" href="Test.Examples.DEx.OffChain.Update.html#1044" class="Bound">id</a> <a id="1047" href="Test.Examples.DEx.OffChain.Update.html#1047" class="Bound">state</a> <a id="1053" href="Test.Examples.DEx.OffChain.Update.html#1053" class="Bound">script</a><a id="1059" class="Symbol">@(</a><a id="1061" href="Test.Examples.DEx.OffChain.Update.html#1061" class="Bound">sh</a> <a id="1064" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1066" class="Symbol">_)</a> <a id="1069" href="Test.Examples.DEx.OffChain.Update.html#1069" class="Bound">w</a> <a id="1071" href="Test.Examples.DEx.OffChain.Update.html#1071" class="Bound">v</a> <a id="1073" href="Test.Examples.DEx.OffChain.Update.html#1073" class="Bound">r</a> <a id="1075" class="Symbol">=</a>
  <a id="1079" class="Keyword">let</a>
    <a id="1087" href="Test.Examples.DEx.OffChain.Update.html#1087" class="Bound">wutxo</a> <a id="1093" class="Symbol">=</a> <a id="1095" href="Test.Examples.DEx.OffChain.Lib.html#2170" class="Function">getWalletUTxO</a> <a id="1109" href="Test.Examples.DEx.OffChain.Update.html#1069" class="Bound">w</a> <a id="1111" class="Symbol">(</a><a id="1112" href="Ledger.Conway.Specification.Utxo.html#1364" class="Field">UTxOState.utxo</a> <a id="1127" href="Test.Examples.DEx.OffChain.Update.html#1047" class="Bound">state</a><a id="1132" class="Symbol">)</a>
  <a id="1136" class="Keyword">in</a>
    <a id="1143" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="1149" class="Symbol">(λ</a> <a id="1152" class="Symbol">{</a> <a id="1154" class="Symbol">(</a><a id="1155" href="Test.Examples.DEx.OffChain.Update.html#1155" class="Bound">scIn</a> <a id="1160" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1162" class="Symbol">(</a><a id="1163" href="Test.Examples.DEx.OffChain.Update.html#1163" class="Bound">fst</a> <a id="1167" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1169" href="Test.Examples.DEx.OffChain.Update.html#1169" class="Bound">txValue</a> <a id="1177" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1179" href="Test.Examples.DEx.OffChain.Update.html#1179" class="Bound">snd</a><a id="1182" class="Symbol">))</a> <a id="1185" class="Symbol">→</a> <a id="1187" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="1193" class="Symbol">(λ</a> <a id="1196" href="Test.Examples.DEx.OffChain.Update.html#1196" class="Bound">label</a> <a id="1202" class="Symbol">→</a>
    <a id="1208" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1213" class="Symbol">(</a>
          <a id="1225" class="Keyword">record</a> <a id="1232" class="Symbol">{</a> <a id="1234" href="Ledger.Conway.Specification.Transaction.html#4700" class="Field">body</a> <a id="1239" class="Symbol">=</a> <a id="1241" class="Keyword">record</a> <a id="1248" href="Test.Examples.DEx.OffChain.Lib.html#570" class="Function">defaultTxBody</a>
                         <a id="1287" class="Symbol">{</a> <a id="1289" href="Ledger.Conway.Specification.Transaction.html#3018" class="Field">txIns</a> <a id="1295" class="Symbol">=</a> <a id="1297" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1321" class="Symbol">((</a><a id="1323" href="Test.Examples.DEx.OffChain.Update.html#1155" class="Bound">scIn</a> <a id="1328" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1330" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1332" class="Symbol">)</a> <a id="1334" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="1337" class="Symbol">(</a><a id="1338" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="1342" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1348" href="Test.Examples.DEx.OffChain.Update.html#1087" class="Bound">wutxo</a><a id="1353" class="Symbol">))</a>
                         <a id="1381" class="Symbol">;</a> <a id="1383" href="Ledger.Conway.Specification.Transaction.html#3126" class="Field">txOuts</a> <a id="1390" class="Symbol">=</a> <a id="1392" href="Test.Lib.html#5515" class="Function">fromListIx</a> <a id="1403" class="Symbol">(</a><a id="1404" href="Test.Examples.DEx.OffChain.Lib.html#3747" class="Function">makeFeeSwapTxOut</a> <a id="1421" href="Test.Examples.DEx.OffChain.Update.html#1087" class="Bound">wutxo</a> <a id="1427" href="Test.Examples.DEx.OffChain.Update.html#1169" class="Bound">txValue</a> <a id="1435" href="Test.Examples.DEx.OffChain.Update.html#1071" class="Bound">v</a> <a id="1437" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="1440" href="Test.Examples.DEx.OffChain.Update.html#722" class="Function">makeUpdateTxOut</a> <a id="1456" href="Test.Examples.DEx.OffChain.Update.html#1196" class="Bound">label</a> <a id="1462" class="Symbol">(</a><a id="1463" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1469" href="Test.Examples.DEx.OffChain.Update.html#1155" class="Bound">scIn</a><a id="1473" class="Symbol">)</a> <a id="1475" href="Test.Examples.DEx.OffChain.Update.html#1069" class="Bound">w</a> <a id="1477" href="Test.Examples.DEx.OffChain.Update.html#1071" class="Bound">v</a> <a id="1479" href="Test.Examples.DEx.OffChain.Update.html#1073" class="Bound">r</a> <a id="1481" class="Symbol">(</a><a id="1482" href="Test.Examples.DEx.OffChain.Update.html#1163" class="Bound">fst</a> <a id="1486" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1488" href="Test.Examples.DEx.OffChain.Update.html#1169" class="Bound">txValue</a> <a id="1496" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1498" href="Test.Examples.DEx.OffChain.Update.html#1179" class="Bound">snd</a><a id="1501" class="Symbol">)</a> <a id="1503" class="Symbol">)</a>
                         <a id="1530" class="Symbol">;</a> <a id="1532" href="Ledger.Conway.Specification.Transaction.html#3166" class="Field">txId</a> <a id="1537" class="Symbol">=</a> <a id="1539" href="Test.Examples.DEx.OffChain.Update.html#1044" class="Bound">id</a>
                         <a id="1567" class="Symbol">;</a> <a id="1569" href="Ledger.Conway.Specification.Transaction.html#3090" class="Field">collateralInputs</a> <a id="1586" class="Symbol">=</a> <a id="1588" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1612" class="Symbol">(</a><a id="1613" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="1617" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1623" href="Test.Examples.DEx.OffChain.Update.html#1087" class="Bound">wutxo</a><a id="1628" class="Symbol">)</a>
                         <a id="1655" class="Symbol">;</a> <a id="1657" href="Ledger.Conway.Specification.Transaction.html#3659" class="Field">reqSignerHashes</a> <a id="1673" class="Symbol">=</a> <a id="1675" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1699" class="Symbol">(</a><a id="1700" href="Test.Examples.DEx.OffChain.Update.html#1069" class="Bound">w</a> <a id="1702" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1704" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1706" class="Symbol">)</a>
                         <a id="1733" class="Symbol">}</a> <a id="1735" class="Symbol">;</a>
                <a id="1753" href="Ledger.Conway.Specification.Transaction.html#4724" class="Field">wits</a> <a id="1758" class="Symbol">=</a> <a id="1760" class="Keyword">record</a> <a id="1767" class="Symbol">{</a> <a id="1769" href="Ledger.Conway.Specification.Transaction.html#4464" class="Field">vkSigs</a> <a id="1776" class="Symbol">=</a> <a id="1778" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="1788" class="Symbol">((</a><a id="1790" href="Test.Examples.DEx.OffChain.Update.html#1069" class="Bound">w</a> <a id="1792" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1794" class="Symbol">(</a><a id="1795" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="1799" class="Symbol">{{</a><a id="1801" href="Class.HasAdd.Instances.html#143" class="Function">addNat</a><a id="1807" class="Symbol">}}</a> <a id="1810" class="Symbol">(</a><a id="1811" href="Test.Examples.DEx.OffChain.Lib.html#4040" class="Function">getTxId</a> <a id="1819" href="Test.Examples.DEx.OffChain.Update.html#1087" class="Bound">wutxo</a><a id="1824" class="Symbol">)</a> <a id="1826" href="Test.Examples.DEx.OffChain.Update.html#1069" class="Bound">w</a><a id="1827" class="Symbol">))</a> <a id="1830" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1832" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1834" class="Symbol">)</a> <a id="1836" class="Symbol">;</a>
                                <a id="1870" href="Ledger.Conway.Specification.Transaction.html#4492" class="Field">scripts</a> <a id="1878" class="Symbol">=</a> <a id="1880" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1904" class="Symbol">((</a><a id="1906" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1911" href="Test.Examples.DEx.OffChain.Update.html#1053" class="Bound">script</a><a id="1917" class="Symbol">)</a> <a id="1919" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1921" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1923" class="Symbol">)</a> <a id="1925" class="Symbol">;</a>
                                <a id="1959" href="Ledger.Conway.Specification.Transaction.html#4518" class="Field">txdats</a> <a id="1966" class="Symbol">=</a> <a id="1968" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="1970" class="Symbol">;</a>
                                <a id="2004" href="Ledger.Conway.Specification.Transaction.html#4543" class="Field">txrdmrs</a> <a id="2012" class="Symbol">=</a> <a id="2014" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="2024" class="Symbol">(((</a><a id="2027" href="Ledger.Conway.Specification.Transaction.html#873" class="InductiveConstructor">Spend</a> <a id="2033" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2035" class="Symbol">(</a><a id="2036" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2042" href="Test.Examples.DEx.OffChain.Update.html#1155" class="Bound">scIn</a><a id="2046" class="Symbol">))</a> <a id="2049" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
                                                      <a id="2105" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2110" class="Symbol">(</a><a id="2111" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2116" class="Symbol">(</a><a id="2117" href="Test.Examples.DEx.Datum.html#530" class="InductiveConstructor">Input.Update</a> <a id="2130" href="Test.Examples.DEx.OffChain.Update.html#1071" class="Bound">v</a> <a id="2132" href="Test.Examples.DEx.OffChain.Update.html#1073" class="Bound">r</a><a id="2133" class="Symbol">))</a> <a id="2136" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
                                                      <a id="2192" class="Symbol">((</a><a id="2194" href="Test.Examples.DEx.OffChain.Lib.html#4040" class="Function">getTxId</a> <a id="2202" href="Test.Examples.DEx.OffChain.Update.html#1087" class="Bound">wutxo</a><a id="2207" class="Symbol">)</a> <a id="2209" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2211" href="Test.Examples.DEx.OffChain.Update.html#1069" class="Bound">w</a><a id="2212" class="Symbol">))</a> <a id="2215" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2217" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2219" class="Symbol">)</a> <a id="2221" class="Symbol">}</a> <a id="2223" class="Symbol">;</a>
                <a id="2241" href="Ledger.Conway.Specification.Transaction.html#4753" class="Field">txsize</a> <a id="2248" class="Symbol">=</a> <a id="2250" class="Number">10</a> <a id="2253" class="Symbol">;</a>
                <a id="2271" href="Ledger.Conway.Specification.Transaction.html#4772" class="Field">isValid</a> <a id="2279" class="Symbol">=</a> <a id="2281" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2286" class="Symbol">;</a>
                <a id="2304" href="Ledger.Conway.Specification.Transaction.html#4794" class="Field">txAD</a> <a id="2309" class="Symbol">=</a> <a id="2311" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2319" class="Symbol">}</a>
                <a id="2337" class="Symbol">))</a>
            <a id="2352" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
            <a id="2372" class="Symbol">(</a><a id="2373" href="Test.Examples.DEx.OffChain.Lib.html#2626" class="Function">getLabel</a> <a id="2382" class="Symbol">(</a><a id="2383" href="Test.Examples.DEx.OffChain.Update.html#1163" class="Bound">fst</a> <a id="2387" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2389" href="Test.Examples.DEx.OffChain.Update.html#1169" class="Bound">txValue</a> <a id="2397" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2399" href="Test.Examples.DEx.OffChain.Update.html#1179" class="Bound">snd</a><a id="2402" class="Symbol">))})</a>
          <a id="2417" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
          <a id="2435" class="Symbol">(</a><a id="2436" href="Test.Examples.DEx.OffChain.Lib.html#1661" class="Function">getScriptUTxO</a> <a id="2450" href="Test.Examples.DEx.OffChain.Update.html#1061" class="Bound">sh</a> <a id="2453" class="Symbol">(</a><a id="2454" href="Ledger.Conway.Specification.Utxo.html#1364" class="Field">UTxOState.utxo</a> <a id="2469" href="Test.Examples.DEx.OffChain.Update.html#1047" class="Bound">state</a><a id="2474" class="Symbol">))</a>

</pre></body></html>