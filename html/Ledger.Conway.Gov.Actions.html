<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Gov.Actions</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="58" class="Keyword">using</a> <a id="64" class="Symbol">(</a><a id="65" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="75" class="Symbol">)</a>
<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="103" class="Keyword">using</a> <a id="109" class="Symbol">(</a><a id="110" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="111" class="Symbol">;</a> <a id="113" href="Data.Rational.Base.html#4325" class="Function">0ℚ</a><a id="115" class="Symbol">;</a> <a id="117" href="Data.Rational.Base.html#4346" class="Function">1ℚ</a><a id="119" class="Symbol">)</a>

<a id="122" class="Keyword">open</a> <a id="127" class="Keyword">import</a> <a id="134" href="Tactic.Derive.Show.html" class="Module">Tactic.Derive.Show</a>

<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="181" class="Keyword">hiding</a> <a id="188" class="Symbol">(</a><a id="189" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a><a id="192" class="Symbol">;</a> <a id="194" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a><a id="196" class="Symbol">)</a>
<a id="198" class="Keyword">open</a> <a id="203" class="Keyword">import</a> <a id="210" href="Ledger.Conway.Gov.Base.html" class="Module">Ledger.Conway.Gov.Base</a>

<a id="234" class="Keyword">module</a> <a id="241" href="Ledger.Conway.Gov.Actions.html" class="Module">Ledger.Conway.Gov.Actions</a> <a id="267" class="Symbol">(</a><a id="268" href="Ledger.Conway.Gov.Actions.html#268" class="Bound">gs</a> <a id="271" class="Symbol">:</a> <a id="273" class="Symbol">_)</a> <a id="276" class="Symbol">(</a><a id="277" class="Keyword">open</a> <a id="282" href="Ledger.Conway.Gov.Base.html#265" class="Module">GovStructure</a> <a id="295" href="Ledger.Conway.Gov.Actions.html#268" class="Bound">gs</a><a id="297" class="Symbol">)</a> <a id="299" class="Keyword">where</a>


<a id="307" class="Keyword">data</a> <a id="GovRole"></a><a id="312" href="Ledger.Conway.Gov.Actions.html#312" class="Datatype">GovRole</a> <a id="320" class="Symbol">:</a> <a id="322" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="327" class="Keyword">where</a>
  <a id="GovRole.CC"></a><a id="335" href="Ledger.Conway.Gov.Actions.html#335" class="InductiveConstructor">CC</a> <a id="GovRole.DRep"></a><a id="338" href="Ledger.Conway.Gov.Actions.html#338" class="InductiveConstructor">DRep</a> <a id="GovRole.SPO"></a><a id="343" href="Ledger.Conway.Gov.Actions.html#343" class="InductiveConstructor">SPO</a> <a id="347" class="Symbol">:</a> <a id="349" href="Ledger.Conway.Gov.Actions.html#312" class="Datatype">GovRole</a>

<a id="Voter"></a><a id="358" href="Ledger.Conway.Gov.Actions.html#358" class="Function">Voter</a>        <a id="371" class="Symbol">=</a> <a id="373" href="Ledger.Conway.Gov.Actions.html#312" class="Datatype">GovRole</a> <a id="381" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="383" href="Ledger.Conway.Address.html#248" class="Datatype">Credential</a>
<a id="GovActionID"></a><a id="394" href="Ledger.Conway.Gov.Actions.html#394" class="Function">GovActionID</a>  <a id="407" class="Symbol">=</a> <a id="409" href="Ledger.Conway.Gov.Base.html#300" class="Field">TxId</a> <a id="414" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="416" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

<a id="419" class="Keyword">data</a> <a id="VDeleg"></a><a id="424" href="Ledger.Conway.Gov.Actions.html#424" class="Datatype">VDeleg</a> <a id="431" class="Symbol">:</a> <a id="433" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="438" class="Keyword">where</a>
  <a id="VDeleg.credVoter"></a><a id="446" href="Ledger.Conway.Gov.Actions.html#446" class="InductiveConstructor">credVoter</a>        <a id="463" class="Symbol">:</a> <a id="465" href="Ledger.Conway.Gov.Actions.html#312" class="Datatype">GovRole</a> <a id="473" class="Symbol">→</a> <a id="475" href="Ledger.Conway.Address.html#248" class="Datatype">Credential</a> <a id="486" class="Symbol">→</a>  <a id="489" href="Ledger.Conway.Gov.Actions.html#424" class="Datatype">VDeleg</a>
  <a id="VDeleg.abstainRep"></a><a id="498" href="Ledger.Conway.Gov.Actions.html#498" class="InductiveConstructor">abstainRep</a>       <a id="515" class="Symbol">:</a>                         <a id="541" href="Ledger.Conway.Gov.Actions.html#424" class="Datatype">VDeleg</a>
  <a id="VDeleg.noConfidenceRep"></a><a id="550" href="Ledger.Conway.Gov.Actions.html#550" class="InductiveConstructor">noConfidenceRep</a>  <a id="567" class="Symbol">:</a>                         <a id="593" href="Ledger.Conway.Gov.Actions.html#424" class="Datatype">VDeleg</a>

<a id="601" class="Keyword">record</a> <a id="Anchor"></a><a id="608" href="Ledger.Conway.Gov.Actions.html#608" class="Record">Anchor</a> <a id="615" class="Symbol">:</a> <a id="617" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="622" class="Keyword">where</a>
  <a id="630" class="Keyword">field</a>
    <a id="Anchor.url"></a><a id="640" href="Ledger.Conway.Gov.Actions.html#640" class="Field">url</a>   <a id="646" class="Symbol">:</a> <a id="648" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
    <a id="Anchor.hash"></a><a id="659" href="Ledger.Conway.Gov.Actions.html#659" class="Field">hash</a>  <a id="665" class="Symbol">:</a> <a id="667" href="Ledger.Conway.Gov.Base.html#305" class="Field">DocHash</a>

<a id="676" class="Keyword">data</a> <a id="GovActionType"></a><a id="681" href="Ledger.Conway.Gov.Actions.html#681" class="Datatype">GovActionType</a> <a id="695" class="Symbol">:</a> <a id="697" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="702" class="Keyword">where</a>
  <a id="GovActionType.NoConfidence"></a><a id="710" href="Ledger.Conway.Gov.Actions.html#710" class="InductiveConstructor">NoConfidence</a>     <a id="727" class="Symbol">:</a> <a id="729" href="Ledger.Conway.Gov.Actions.html#681" class="Datatype">GovActionType</a>
  <a id="GovActionType.UpdateCommittee"></a><a id="745" href="Ledger.Conway.Gov.Actions.html#745" class="InductiveConstructor">UpdateCommittee</a>  <a id="762" class="Symbol">:</a> <a id="764" href="Ledger.Conway.Gov.Actions.html#681" class="Datatype">GovActionType</a>
  <a id="GovActionType.NewConstitution"></a><a id="780" href="Ledger.Conway.Gov.Actions.html#780" class="InductiveConstructor">NewConstitution</a>  <a id="797" class="Symbol">:</a> <a id="799" href="Ledger.Conway.Gov.Actions.html#681" class="Datatype">GovActionType</a>
  <a id="GovActionType.TriggerHF"></a><a id="815" href="Ledger.Conway.Gov.Actions.html#815" class="InductiveConstructor">TriggerHF</a>        <a id="832" class="Symbol">:</a> <a id="834" href="Ledger.Conway.Gov.Actions.html#681" class="Datatype">GovActionType</a>
  <a id="GovActionType.ChangePParams"></a><a id="850" href="Ledger.Conway.Gov.Actions.html#850" class="InductiveConstructor">ChangePParams</a>    <a id="867" class="Symbol">:</a> <a id="869" href="Ledger.Conway.Gov.Actions.html#681" class="Datatype">GovActionType</a>
  <a id="GovActionType.TreasuryWdrl"></a><a id="885" href="Ledger.Conway.Gov.Actions.html#885" class="InductiveConstructor">TreasuryWdrl</a>     <a id="902" class="Symbol">:</a> <a id="904" href="Ledger.Conway.Gov.Actions.html#681" class="Datatype">GovActionType</a>
  <a id="GovActionType.Info"></a><a id="920" href="Ledger.Conway.Gov.Actions.html#920" class="InductiveConstructor">Info</a>             <a id="937" class="Symbol">:</a> <a id="939" href="Ledger.Conway.Gov.Actions.html#681" class="Datatype">GovActionType</a>

<a id="GovActionData"></a><a id="954" href="Ledger.Conway.Gov.Actions.html#954" class="Function">GovActionData</a> <a id="968" class="Symbol">:</a> <a id="970" href="Ledger.Conway.Gov.Actions.html#681" class="Datatype">GovActionType</a> <a id="984" class="Symbol">→</a> <a id="986" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="991" href="Ledger.Conway.Gov.Actions.html#954" class="Function">GovActionData</a> <a id="1005" href="Ledger.Conway.Gov.Actions.html#710" class="InductiveConstructor">NoConfidence</a>     <a id="1022" class="Symbol">=</a> <a id="1024" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="1026" href="Ledger.Conway.Gov.Actions.html#954" class="Function">GovActionData</a> <a id="1040" href="Ledger.Conway.Gov.Actions.html#745" class="InductiveConstructor">UpdateCommittee</a>  <a id="1057" class="Symbol">=</a> <a id="1059" class="Symbol">(</a><a id="1060" href="Ledger.Conway.Address.html#248" class="Datatype">Credential</a> <a id="1071" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1073" href="Ledger.Conway.Types.Epoch.html#592" class="Function">Epoch</a><a id="1078" class="Symbol">)</a> <a id="1080" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1082" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1084" href="Ledger.Conway.Address.html#248" class="Datatype">Credential</a> <a id="1095" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1097" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="1099" href="Ledger.Conway.Gov.Actions.html#954" class="Function">GovActionData</a> <a id="1113" href="Ledger.Conway.Gov.Actions.html#780" class="InductiveConstructor">NewConstitution</a>  <a id="1130" class="Symbol">=</a> <a id="1132" href="Ledger.Conway.Gov.Base.html#305" class="Field">DocHash</a> <a id="1140" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1142" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1148" href="Ledger.Conway.Crypto.html#1173" class="Function">ScriptHash</a>
<a id="1159" href="Ledger.Conway.Gov.Actions.html#954" class="Function">GovActionData</a> <a id="1173" href="Ledger.Conway.Gov.Actions.html#815" class="InductiveConstructor">TriggerHF</a>        <a id="1190" class="Symbol">=</a> <a id="1192" href="Ledger.Conway.PParams.html#991" class="Function">ProtVer</a>
<a id="1200" href="Ledger.Conway.Gov.Actions.html#954" class="Function">GovActionData</a> <a id="1214" href="Ledger.Conway.Gov.Actions.html#850" class="InductiveConstructor">ChangePParams</a>    <a id="1231" class="Symbol">=</a> <a id="1233" href="Ledger.Conway.PParams.html#14397" class="Function">PParamsUpdate</a>
<a id="1247" href="Ledger.Conway.Gov.Actions.html#954" class="Function">GovActionData</a> <a id="1261" href="Ledger.Conway.Gov.Actions.html#885" class="InductiveConstructor">TreasuryWdrl</a>     <a id="1278" class="Symbol">=</a> <a id="1280" href="Ledger.Conway.Address.html#1312" class="Record">RwdAddr</a> <a id="1288" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1290" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
<a id="1295" href="Ledger.Conway.Gov.Actions.html#954" class="Function">GovActionData</a> <a id="1309" href="Ledger.Conway.Gov.Actions.html#920" class="InductiveConstructor">Info</a>             <a id="1326" class="Symbol">=</a> <a id="1328" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="1331" class="Keyword">record</a> <a id="GovAction"></a><a id="1338" href="Ledger.Conway.Gov.Actions.html#1338" class="Record">GovAction</a> <a id="1348" class="Symbol">:</a> <a id="1350" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1355" class="Keyword">where</a>


  <a id="1365" class="Keyword">constructor</a> <a id="⟦_,_⟧ᵍᵃ"></a><a id="1377" href="Ledger.Conway.Gov.Actions.html#1377" class="InductiveConstructor Operator">⟦_,_⟧ᵍᵃ</a>


  <a id="1389" class="Keyword">field</a>
    <a id="GovAction.gaType"></a><a id="1399" href="Ledger.Conway.Gov.Actions.html#1399" class="Field">gaType</a> <a id="1406" class="Symbol">:</a> <a id="1408" href="Ledger.Conway.Gov.Actions.html#681" class="Datatype">GovActionType</a>
    <a id="GovAction.gaData"></a><a id="1426" href="Ledger.Conway.Gov.Actions.html#1426" class="Field">gaData</a> <a id="1433" class="Symbol">:</a> <a id="1435" href="Ledger.Conway.Gov.Actions.html#954" class="Function">GovActionData</a> <a id="1449" href="Ledger.Conway.Gov.Actions.html#1399" class="Field">gaType</a>


<a id="1458" class="Keyword">open</a> <a id="1463" href="Ledger.Conway.Gov.Actions.html#1338" class="Module">GovAction</a> <a id="1473" class="Keyword">public</a>


<a id="1482" class="Keyword">instance</a>
  <a id="HasCast-GovAction-Sigma"></a><a id="1493" href="Ledger.Conway.Gov.Actions.html#1493" class="Function">HasCast-GovAction-Sigma</a> <a id="1517" class="Symbol">:</a> <a id="1519" href="stdlib-classes.Class.HasCast.Base.html#131" class="Record">HasCast</a> <a id="1527" href="Ledger.Conway.Gov.Actions.html#1338" class="Record">GovAction</a> <a id="1537" class="Symbol">(</a><a id="1538" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="1540" href="Ledger.Conway.Gov.Actions.html#681" class="Datatype">GovActionType</a> <a id="1554" href="Ledger.Conway.Gov.Actions.html#954" class="Function">GovActionData</a><a id="1567" class="Symbol">)</a>
  <a id="1571" href="Ledger.Conway.Gov.Actions.html#1493" class="Function">HasCast-GovAction-Sigma</a> <a id="1595" class="Symbol">.</a><a id="1596" href="stdlib-classes.Class.HasCast.Base.html#201" class="Field">cast</a> <a id="1601" href="Ledger.Conway.Gov.Actions.html#1601" class="Bound">x</a> <a id="1603" class="Symbol">=</a> <a id="1605" href="Ledger.Conway.Gov.Actions.html#1601" class="Bound">x</a> <a id="1607" class="Symbol">.</a><a id="1608" href="Ledger.Conway.Gov.Actions.html#1399" class="Field">gaType</a> <a id="1615" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1617" href="Ledger.Conway.Gov.Actions.html#1601" class="Bound">x</a> <a id="1619" class="Symbol">.</a><a id="1620" href="Ledger.Conway.Gov.Actions.html#1426" class="Field">gaData</a>


<a id="NeedsHash"></a><a id="1629" href="Ledger.Conway.Gov.Actions.html#1629" class="Function">NeedsHash</a> <a id="1639" class="Symbol">:</a> <a id="1641" href="Ledger.Conway.Gov.Actions.html#681" class="Datatype">GovActionType</a> <a id="1655" class="Symbol">→</a> <a id="1657" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1662" href="Ledger.Conway.Gov.Actions.html#1629" class="Function">NeedsHash</a> <a id="1672" href="Ledger.Conway.Gov.Actions.html#710" class="InductiveConstructor">NoConfidence</a>     <a id="1689" class="Symbol">=</a> <a id="1691" href="Ledger.Conway.Gov.Actions.html#394" class="Function">GovActionID</a>
<a id="1703" href="Ledger.Conway.Gov.Actions.html#1629" class="Function">NeedsHash</a> <a id="1713" href="Ledger.Conway.Gov.Actions.html#745" class="InductiveConstructor">UpdateCommittee</a>  <a id="1730" class="Symbol">=</a> <a id="1732" href="Ledger.Conway.Gov.Actions.html#394" class="Function">GovActionID</a>
<a id="1744" href="Ledger.Conway.Gov.Actions.html#1629" class="Function">NeedsHash</a> <a id="1754" href="Ledger.Conway.Gov.Actions.html#780" class="InductiveConstructor">NewConstitution</a>  <a id="1771" class="Symbol">=</a> <a id="1773" href="Ledger.Conway.Gov.Actions.html#394" class="Function">GovActionID</a>
<a id="1785" href="Ledger.Conway.Gov.Actions.html#1629" class="Function">NeedsHash</a> <a id="1795" href="Ledger.Conway.Gov.Actions.html#815" class="InductiveConstructor">TriggerHF</a>        <a id="1812" class="Symbol">=</a> <a id="1814" href="Ledger.Conway.Gov.Actions.html#394" class="Function">GovActionID</a>
<a id="1826" href="Ledger.Conway.Gov.Actions.html#1629" class="Function">NeedsHash</a> <a id="1836" href="Ledger.Conway.Gov.Actions.html#850" class="InductiveConstructor">ChangePParams</a>    <a id="1853" class="Symbol">=</a> <a id="1855" href="Ledger.Conway.Gov.Actions.html#394" class="Function">GovActionID</a>
<a id="1867" href="Ledger.Conway.Gov.Actions.html#1629" class="Function">NeedsHash</a> <a id="1877" href="Ledger.Conway.Gov.Actions.html#885" class="InductiveConstructor">TreasuryWdrl</a>     <a id="1894" class="Symbol">=</a> <a id="1896" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="1898" href="Ledger.Conway.Gov.Actions.html#1629" class="Function">NeedsHash</a> <a id="1908" href="Ledger.Conway.Gov.Actions.html#920" class="InductiveConstructor">Info</a>             <a id="1925" class="Symbol">=</a> <a id="1927" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="HashProtected"></a><a id="1930" href="Ledger.Conway.Gov.Actions.html#1930" class="Function">HashProtected</a> <a id="1944" class="Symbol">:</a> <a id="1946" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1951" class="Symbol">→</a> <a id="1953" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1958" href="Ledger.Conway.Gov.Actions.html#1930" class="Function">HashProtected</a> <a id="1972" href="Ledger.Conway.Gov.Actions.html#1972" class="Bound">A</a> <a id="1974" class="Symbol">=</a> <a id="1976" href="Ledger.Conway.Gov.Actions.html#1972" class="Bound">A</a> <a id="1978" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1980" href="Ledger.Conway.Gov.Actions.html#394" class="Function">GovActionID</a>


<a id="1994" class="Keyword">instance</a>
  <a id="HasCast-HashProtected"></a><a id="2005" href="Ledger.Conway.Gov.Actions.html#2005" class="Function">HasCast-HashProtected</a> <a id="2027" class="Symbol">:</a> <a id="2029" class="Symbol">∀</a> <a id="2031" class="Symbol">{</a><a id="2032" href="Ledger.Conway.Gov.Actions.html#2032" class="Bound">A</a> <a id="2034" class="Symbol">:</a> <a id="2036" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="2040" class="Symbol">}</a> <a id="2042" class="Symbol">→</a> <a id="2044" href="stdlib-classes.Class.HasCast.Base.html#131" class="Record">HasCast</a> <a id="2052" class="Symbol">(</a><a id="2053" href="Ledger.Conway.Gov.Actions.html#1930" class="Function">HashProtected</a> <a id="2067" href="Ledger.Conway.Gov.Actions.html#2032" class="Bound">A</a><a id="2068" class="Symbol">)</a> <a id="2070" href="Ledger.Conway.Gov.Actions.html#2032" class="Bound">A</a>
  <a id="2074" href="Ledger.Conway.Gov.Actions.html#2005" class="Function">HasCast-HashProtected</a> <a id="2096" class="Symbol">.</a><a id="2097" href="stdlib-classes.Class.HasCast.Base.html#201" class="Field">cast</a> <a id="2102" class="Symbol">=</a> <a id="2104" href="Data.Product.Base.html#636" class="Field">proj₁</a>

  <a id="HasCast-HashProtected-MaybeScriptHash"></a><a id="2113" href="Ledger.Conway.Gov.Actions.html#2113" class="Function">HasCast-HashProtected-MaybeScriptHash</a> <a id="2151" class="Symbol">:</a> <a id="2153" href="stdlib-classes.Class.HasCast.Base.html#131" class="Record">HasCast</a> <a id="2161" class="Symbol">(</a><a id="2162" href="Ledger.Conway.Gov.Actions.html#1930" class="Function">HashProtected</a> <a id="2176" class="Symbol">(</a><a id="2177" href="Ledger.Conway.Gov.Base.html#305" class="Field">DocHash</a> <a id="2185" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2187" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2193" href="Ledger.Conway.Crypto.html#1173" class="Function">ScriptHash</a><a id="2203" class="Symbol">))</a> <a id="2206" class="Symbol">(</a><a id="2207" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2213" href="Ledger.Conway.Crypto.html#1173" class="Function">ScriptHash</a><a id="2223" class="Symbol">)</a>
  <a id="2227" href="Ledger.Conway.Gov.Actions.html#2113" class="Function">HasCast-HashProtected-MaybeScriptHash</a> <a id="2265" class="Symbol">.</a><a id="2266" href="stdlib-classes.Class.HasCast.Base.html#201" class="Field">cast</a> <a id="2271" class="Symbol">=</a> <a id="2273" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2279" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2281" href="Data.Product.Base.html#636" class="Field">proj₁</a>


<a id="2289" class="Keyword">data</a> <a id="Vote"></a><a id="2294" href="Ledger.Conway.Gov.Actions.html#2294" class="Datatype">Vote</a> <a id="2299" class="Symbol">:</a> <a id="2301" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2306" class="Keyword">where</a>
  <a id="Vote.yes"></a><a id="2314" href="Ledger.Conway.Gov.Actions.html#2314" class="InductiveConstructor">yes</a> <a id="Vote.no"></a><a id="2318" href="Ledger.Conway.Gov.Actions.html#2318" class="InductiveConstructor">no</a> <a id="Vote.abstain"></a><a id="2321" href="Ledger.Conway.Gov.Actions.html#2321" class="InductiveConstructor">abstain</a>  <a id="2330" class="Symbol">:</a> <a id="2332" href="Ledger.Conway.Gov.Actions.html#2294" class="Datatype">Vote</a>

<a id="2338" class="Keyword">record</a> <a id="GovVote"></a><a id="2345" href="Ledger.Conway.Gov.Actions.html#2345" class="Record">GovVote</a> <a id="2353" class="Symbol">:</a> <a id="2355" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2360" class="Keyword">where</a>
  <a id="2368" class="Keyword">field</a>
    <a id="GovVote.gid"></a><a id="2378" href="Ledger.Conway.Gov.Actions.html#2378" class="Field">gid</a>         <a id="2390" class="Symbol">:</a> <a id="2392" href="Ledger.Conway.Gov.Actions.html#394" class="Function">GovActionID</a>
    <a id="GovVote.voter"></a><a id="2408" href="Ledger.Conway.Gov.Actions.html#2408" class="Field">voter</a>       <a id="2420" class="Symbol">:</a> <a id="2422" href="Ledger.Conway.Gov.Actions.html#358" class="Function">Voter</a>
    <a id="GovVote.vote"></a><a id="2432" href="Ledger.Conway.Gov.Actions.html#2432" class="Field">vote</a>        <a id="2444" class="Symbol">:</a> <a id="2446" href="Ledger.Conway.Gov.Actions.html#2294" class="Datatype">Vote</a>
    <a id="GovVote.anchor"></a><a id="2455" href="Ledger.Conway.Gov.Actions.html#2455" class="Field">anchor</a>      <a id="2467" class="Symbol">:</a> <a id="2469" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2475" href="Ledger.Conway.Gov.Actions.html#608" class="Record">Anchor</a>

<a id="2483" class="Keyword">record</a> <a id="GovProposal"></a><a id="2490" href="Ledger.Conway.Gov.Actions.html#2490" class="Record">GovProposal</a> <a id="2502" class="Symbol">:</a> <a id="2504" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2509" class="Keyword">where</a>
  <a id="2517" class="Keyword">field</a>
    <a id="GovProposal.action"></a><a id="2527" href="Ledger.Conway.Gov.Actions.html#2527" class="Field">action</a>      <a id="2539" class="Symbol">:</a> <a id="2541" href="Ledger.Conway.Gov.Actions.html#1338" class="Record">GovAction</a>
    <a id="GovProposal.prevAction"></a><a id="2555" href="Ledger.Conway.Gov.Actions.html#2555" class="Field">prevAction</a>  <a id="2567" class="Symbol">:</a> <a id="2569" href="Ledger.Conway.Gov.Actions.html#1629" class="Function">NeedsHash</a> <a id="2579" class="Symbol">(</a><a id="2580" href="Ledger.Conway.Gov.Actions.html#1399" class="Field">gaType</a> <a id="2587" href="Ledger.Conway.Gov.Actions.html#2527" class="Field">action</a><a id="2593" class="Symbol">)</a>
    <a id="GovProposal.policy"></a><a id="2599" href="Ledger.Conway.Gov.Actions.html#2599" class="Field">policy</a>      <a id="2611" class="Symbol">:</a> <a id="2613" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2619" href="Ledger.Conway.Crypto.html#1173" class="Function">ScriptHash</a>
    <a id="GovProposal.deposit"></a><a id="2634" href="Ledger.Conway.Gov.Actions.html#2634" class="Field">deposit</a>     <a id="2646" class="Symbol">:</a> <a id="2648" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="GovProposal.returnAddr"></a><a id="2657" href="Ledger.Conway.Gov.Actions.html#2657" class="Field">returnAddr</a>  <a id="2669" class="Symbol">:</a> <a id="2671" href="Ledger.Conway.Address.html#1312" class="Record">RwdAddr</a>
    <a id="GovProposal.anchor"></a><a id="2683" href="Ledger.Conway.Gov.Actions.html#2683" class="Field">anchor</a>      <a id="2695" class="Symbol">:</a> <a id="2697" href="Ledger.Conway.Gov.Actions.html#608" class="Record">Anchor</a>

<a id="2705" class="Keyword">record</a> <a id="GovActionState"></a><a id="2712" href="Ledger.Conway.Gov.Actions.html#2712" class="Record">GovActionState</a> <a id="2727" class="Symbol">:</a> <a id="2729" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2734" class="Keyword">where</a>
  <a id="2742" class="Keyword">field</a>
    <a id="GovActionState.votes"></a><a id="2752" href="Ledger.Conway.Gov.Actions.html#2752" class="Field">votes</a>       <a id="2764" class="Symbol">:</a> <a id="2766" href="Ledger.Conway.Gov.Actions.html#358" class="Function">Voter</a> <a id="2772" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2774" href="Ledger.Conway.Gov.Actions.html#2294" class="Datatype">Vote</a>
    <a id="GovActionState.returnAddr"></a><a id="2783" href="Ledger.Conway.Gov.Actions.html#2783" class="Field">returnAddr</a>  <a id="2795" class="Symbol">:</a> <a id="2797" href="Ledger.Conway.Address.html#1312" class="Record">RwdAddr</a>
    <a id="GovActionState.expiresIn"></a><a id="2809" href="Ledger.Conway.Gov.Actions.html#2809" class="Field">expiresIn</a>   <a id="2821" class="Symbol">:</a> <a id="2823" href="Ledger.Conway.Types.Epoch.html#592" class="Function">Epoch</a>
    <a id="GovActionState.action"></a><a id="2833" href="Ledger.Conway.Gov.Actions.html#2833" class="Field">action</a>      <a id="2845" class="Symbol">:</a> <a id="2847" href="Ledger.Conway.Gov.Actions.html#1338" class="Record">GovAction</a>
    <a id="GovActionState.prevAction"></a><a id="2861" href="Ledger.Conway.Gov.Actions.html#2861" class="Field">prevAction</a>  <a id="2873" class="Symbol">:</a> <a id="2875" href="Ledger.Conway.Gov.Actions.html#1629" class="Function">NeedsHash</a> <a id="2885" class="Symbol">(</a><a id="2886" href="Ledger.Conway.Gov.Actions.html#1399" class="Field">gaType</a> <a id="2893" href="Ledger.Conway.Gov.Actions.html#2833" class="Field">action</a><a id="2899" class="Symbol">)</a>


<a id="2903" class="Keyword">instance</a>
  <a id="2914" class="Keyword">unquoteDecl</a> <a id="DecEq-GovActionType"></a><a id="2926" href="Ledger.Conway.Gov.Actions.html#2926" class="Function">DecEq-GovActionType</a> <a id="2946" class="Symbol">=</a> <a id="2948" href="Tactic.Derive.DecEq.html#3519" class="Function">derive-DecEq</a> <a id="2961" class="Symbol">((</a><a id="2963" class="Keyword">quote</a> <a id="2969" href="Ledger.Conway.Gov.Actions.html#681" class="Datatype">GovActionType</a> <a id="2983" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2985" href="Ledger.Conway.Gov.Actions.html#2926" class="Function">DecEq-GovActionType</a><a id="3004" class="Symbol">)</a> <a id="3006" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3008" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3010" class="Symbol">)</a>
  <a id="3014" class="Keyword">unquoteDecl</a> <a id="DecEq-GovRole"></a><a id="3026" href="Ledger.Conway.Gov.Actions.html#3026" class="Function">DecEq-GovRole</a>       <a id="3046" class="Symbol">=</a> <a id="3048" href="Tactic.Derive.DecEq.html#3519" class="Function">derive-DecEq</a> <a id="3061" class="Symbol">((</a><a id="3063" class="Keyword">quote</a> <a id="3069" href="Ledger.Conway.Gov.Actions.html#312" class="Datatype">GovRole</a> <a id="3077" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3079" href="Ledger.Conway.Gov.Actions.html#3026" class="Function">DecEq-GovRole</a><a id="3092" class="Symbol">)</a> <a id="3094" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3096" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3098" class="Symbol">)</a>
  <a id="3102" class="Keyword">unquoteDecl</a> <a id="DecEq-Vote"></a><a id="3114" href="Ledger.Conway.Gov.Actions.html#3114" class="Function">DecEq-Vote</a>          <a id="3134" class="Symbol">=</a> <a id="3136" href="Tactic.Derive.DecEq.html#3519" class="Function">derive-DecEq</a> <a id="3149" class="Symbol">((</a><a id="3151" class="Keyword">quote</a> <a id="3157" href="Ledger.Conway.Gov.Actions.html#2294" class="Datatype">Vote</a>    <a id="3165" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3167" href="Ledger.Conway.Gov.Actions.html#3114" class="Function">DecEq-Vote</a><a id="3177" class="Symbol">)</a>    <a id="3182" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3184" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3186" class="Symbol">)</a>
  <a id="3190" class="Keyword">unquoteDecl</a> <a id="DecEq-VDeleg"></a><a id="3202" href="Ledger.Conway.Gov.Actions.html#3202" class="Function">DecEq-VDeleg</a>        <a id="3222" class="Symbol">=</a> <a id="3224" href="Tactic.Derive.DecEq.html#3519" class="Function">derive-DecEq</a> <a id="3237" class="Symbol">((</a><a id="3239" class="Keyword">quote</a> <a id="3245" href="Ledger.Conway.Gov.Actions.html#424" class="Datatype">VDeleg</a>  <a id="3253" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3255" href="Ledger.Conway.Gov.Actions.html#3202" class="Function">DecEq-VDeleg</a><a id="3267" class="Symbol">)</a>  <a id="3270" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3272" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3274" class="Symbol">)</a>

  <a id="3279" class="Keyword">unquoteDecl</a> <a id="HasCast-GovVote"></a><a id="3291" href="Ledger.Conway.Gov.Actions.html#3291" class="Function">HasCast-GovVote</a> <a id="3307" class="Symbol">=</a> <a id="3309" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a> <a id="3324" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="3326" class="Symbol">(</a><a id="3327" class="Keyword">quote</a> <a id="3333" href="Ledger.Conway.Gov.Actions.html#2345" class="Record">GovVote</a> <a id="3341" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3343" href="Ledger.Conway.Gov.Actions.html#3291" class="Function">HasCast-GovVote</a><a id="3358" class="Symbol">)</a> <a id="3360" href="Data.List.Base.html#5205" class="Function Operator">]</a>


<a id="getDRepVote"></a><a id="3364" href="Ledger.Conway.Gov.Actions.html#3364" class="Function">getDRepVote</a> <a id="3376" class="Symbol">:</a> <a id="3378" href="Ledger.Conway.Gov.Actions.html#2345" class="Record">GovVote</a> <a id="3386" class="Symbol">→</a> <a id="3388" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3394" href="Ledger.Conway.Address.html#248" class="Datatype">Credential</a>
<a id="3405" href="Ledger.Conway.Gov.Actions.html#3364" class="Function">getDRepVote</a> <a id="3417" class="Keyword">record</a> <a id="3424" class="Symbol">{</a> <a id="3426" href="Ledger.Conway.Gov.Actions.html#2408" class="Field">voter</a> <a id="3432" class="Symbol">=</a> <a id="3434" class="Symbol">(</a><a id="3435" href="Ledger.Conway.Gov.Actions.html#338" class="InductiveConstructor">DRep</a> <a id="3440" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3442" href="Ledger.Conway.Gov.Actions.html#3442" class="Bound">credential</a><a id="3452" class="Symbol">)</a> <a id="3454" class="Symbol">}</a>  <a id="3457" class="Symbol">=</a> <a id="3459" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3464" href="Ledger.Conway.Gov.Actions.html#3442" class="Bound">credential</a>
<a id="3475" href="Ledger.Conway.Gov.Actions.html#3364" class="CatchallClause Function">getDRepVote</a><a id="3486" class="CatchallClause"> </a><a id="3487" class="CatchallClause Symbol">_</a>                                       <a id="3527" class="Symbol">=</a> <a id="3529" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="proposedCC"></a><a id="3538" href="Ledger.Conway.Gov.Actions.html#3538" class="Function">proposedCC</a> <a id="3549" class="Symbol">:</a> <a id="3551" href="Ledger.Conway.Gov.Actions.html#1338" class="Record">GovAction</a> <a id="3561" class="Symbol">→</a> <a id="3563" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3565" href="Ledger.Conway.Address.html#248" class="Datatype">Credential</a>
<a id="3576" href="Ledger.Conway.Gov.Actions.html#3538" class="Function">proposedCC</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Gov.Actions.html#745}{\htmlId{3589}{\htmlClass{InductiveConstructor}{\text{UpdateCommittee}}}}\, \\ (\,\href{Ledger.Conway.Gov.Actions.html#3608}{\htmlId{3608}{\htmlClass{Bound}{\text{x}}}}\, , \,\htmlId{3612}{\htmlClass{Symbol}{\text{\_}}}\, , \,\htmlId{3616}{\htmlClass{Symbol}{\text{\_)}}}\, \end{pmatrix}$</a>  <a id="3624" class="Symbol">=</a> <a id="3626" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3630" href="Ledger.Conway.Gov.Actions.html#3608" class="Bound">x</a>
<a id="3632" href="Ledger.Conway.Gov.Actions.html#3538" class="CatchallClause Function">proposedCC</a><a id="3642" class="CatchallClause"> </a><a id="3643" class="CatchallClause Symbol">_</a>                                    <a id="3680" class="Symbol">=</a> <a id="3682" href="Class.HasEmptySet.html#287" class="Field">∅</a>

</pre></body></html>