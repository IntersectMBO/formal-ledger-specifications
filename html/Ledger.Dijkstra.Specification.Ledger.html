<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Dijkstra.Specification.Ledger</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">import</a> <a id="33" href="Data.List.html" class="Module">Data.List</a> <a id="43" class="Symbol">as</a> <a id="46" class="Module">L</a>

<a id="49" class="Keyword">open</a> <a id="54" class="Keyword">import</a> <a id="61" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="76" class="Keyword">open</a> <a id="81" class="Keyword">import</a> <a id="88" href="Ledger.Dijkstra.Specification.Abstract.html" class="Module">Ledger.Dijkstra.Specification.Abstract</a>
<a id="127" class="Keyword">open</a> <a id="132" class="Keyword">import</a> <a id="139" href="Ledger.Dijkstra.Specification.Transaction.html" class="Module">Ledger.Dijkstra.Specification.Transaction</a> <a id="181" class="Keyword">using</a> <a id="187" class="Symbol">(</a><a id="188" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Record">TransactionStructure</a><a id="208" class="Symbol">)</a>

<a id="211" class="Keyword">module</a> <a id="218" href="Ledger.Dijkstra.Specification.Ledger.html" class="Module">Ledger.Dijkstra.Specification.Ledger</a>
  <a id="257" class="Symbol">(</a><a id="258" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a> <a id="262" class="Symbol">:</a> <a id="264" class="Symbol">_)</a> <a id="267" class="Symbol">(</a><a id="268" class="Keyword">open</a> <a id="273" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Module">TransactionStructure</a> <a id="294" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a><a id="297" class="Symbol">)</a>
  <a id="301" class="Symbol">(</a><a id="302" href="Ledger.Dijkstra.Specification.Ledger.html#302" class="Bound">abs</a> <a id="306" class="Symbol">:</a> <a id="308" href="Ledger.Dijkstra.Specification.Abstract.html#912" class="Record">AbstractFunctions</a> <a id="326" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a><a id="329" class="Symbol">)</a> <a id="331" class="Symbol">(</a><a id="332" class="Keyword">open</a> <a id="337" href="Ledger.Dijkstra.Specification.Abstract.html#912" class="Module">AbstractFunctions</a> <a id="355" href="Ledger.Dijkstra.Specification.Ledger.html#302" class="Bound">abs</a><a id="358" class="Symbol">)</a>
  <a id="362" class="Keyword">where</a>

<a id="369" class="Keyword">open</a> <a id="374" class="Keyword">import</a> <a id="381" href="Ledger.Dijkstra.Specification.Enact.html" class="Module">Ledger.Dijkstra.Specification.Enact</a> <a id="417" href="Ledger.Dijkstra.Specification.Transaction.html#2505" class="Function">govStructure</a>
<a id="430" class="Keyword">open</a> <a id="435" class="Keyword">import</a> <a id="442" href="Ledger.Dijkstra.Specification.Gov.html" class="Module">Ledger.Dijkstra.Specification.Gov</a> <a id="476" href="Ledger.Dijkstra.Specification.Transaction.html#2505" class="Function">govStructure</a>
<a id="489" class="Keyword">open</a> <a id="494" class="Keyword">import</a> <a id="501" href="Ledger.Dijkstra.Specification.Utxo.html" class="Module">Ledger.Dijkstra.Specification.Utxo</a> <a id="536" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a> <a id="540" href="Ledger.Dijkstra.Specification.Ledger.html#302" class="Bound">abs</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Ledger.Dijkstra.Specification.Utxow.html" class="Module">Ledger.Dijkstra.Specification.Utxow</a> <a id="592" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a> <a id="596" href="Ledger.Dijkstra.Specification.Ledger.html#302" class="Bound">abs</a>
<a id="600" class="Keyword">open</a> <a id="605" class="Keyword">import</a> <a id="612" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a> <a id="648" href="Ledger.Dijkstra.Specification.Transaction.html#2505" class="Function">govStructure</a>

<a id="662" class="Keyword">open</a> <a id="667" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Module">EnactState</a> <a id="678" class="Keyword">using</a> <a id="684" class="Symbol">(</a><a id="685" href="Ledger.Dijkstra.Specification.Enact.html#618" class="Field">cc</a><a id="687" class="Symbol">)</a>


<a id="691" class="Keyword">record</a> <a id="SubLedgerEnv"></a><a id="698" href="Ledger.Dijkstra.Specification.Ledger.html#698" class="Record">SubLedgerEnv</a> <a id="711" class="Symbol">:</a> <a id="713" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="718" class="Keyword">where</a>
  <a id="726" class="Keyword">field</a>
    <a id="SubLedgerEnv.slot"></a><a id="736" href="Ledger.Dijkstra.Specification.Ledger.html#736" class="Field">slot</a>             <a id="753" class="Symbol">:</a> <a id="755" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
    <a id="SubLedgerEnv.ppolicy"></a><a id="764" href="Ledger.Dijkstra.Specification.Ledger.html#764" class="Field">ppolicy</a>          <a id="781" class="Symbol">:</a> <a id="783" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="789" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="SubLedgerEnv.pparams"></a><a id="804" href="Ledger.Dijkstra.Specification.Ledger.html#804" class="Field">pparams</a>          <a id="821" class="Symbol">:</a> <a id="823" href="Ledger.Dijkstra.Specification.PParams.html#1960" class="Record">PParams</a>
    <a id="SubLedgerEnv.enactState"></a><a id="835" href="Ledger.Dijkstra.Specification.Ledger.html#835" class="Field">enactState</a>       <a id="852" class="Symbol">:</a> <a id="854" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a>
    <a id="SubLedgerEnv.treasury"></a><a id="869" href="Ledger.Dijkstra.Specification.Ledger.html#869" class="Field">treasury</a>         <a id="886" class="Symbol">:</a> <a id="888" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>
    <a id="SubLedgerEnv.utxo₀"></a><a id="901" href="Ledger.Dijkstra.Specification.Ledger.html#901" class="Field">utxo₀</a>            <a id="918" class="Symbol">:</a> <a id="920" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a>
    <a id="SubLedgerEnv.isTopLevelValid"></a><a id="929" href="Ledger.Dijkstra.Specification.Ledger.html#929" class="Field">isTopLevelValid</a>  <a id="946" class="Symbol">:</a> <a id="948" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
    <a id="SubLedgerEnv.allScripts"></a><a id="957" href="Ledger.Dijkstra.Specification.Ledger.html#957" class="Field">allScripts</a>       <a id="974" class="Symbol">:</a> <a id="976" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="978" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
    <a id="SubLedgerEnv.allData"></a><a id="989" href="Ledger.Dijkstra.Specification.Ledger.html#989" class="Field">allData</a>          <a id="1006" class="Symbol">:</a> <a id="1008" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a> <a id="1017" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1019" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>

<a id="1026" class="Keyword">record</a> <a id="LedgerEnv"></a><a id="1033" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a> <a id="1043" class="Symbol">:</a> <a id="1045" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1050" class="Keyword">where</a>
  <a id="1058" class="Keyword">field</a>
    <a id="LedgerEnv.slot"></a><a id="1068" href="Ledger.Dijkstra.Specification.Ledger.html#1068" class="Field">slot</a>        <a id="1080" class="Symbol">:</a> <a id="1082" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
    <a id="LedgerEnv.ppolicy"></a><a id="1091" href="Ledger.Dijkstra.Specification.Ledger.html#1091" class="Field">ppolicy</a>     <a id="1103" class="Symbol">:</a> <a id="1105" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1111" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="LedgerEnv.pparams"></a><a id="1126" href="Ledger.Dijkstra.Specification.Ledger.html#1126" class="Field">pparams</a>     <a id="1138" class="Symbol">:</a> <a id="1140" href="Ledger.Dijkstra.Specification.PParams.html#1960" class="Record">PParams</a>
    <a id="LedgerEnv.enactState"></a><a id="1152" href="Ledger.Dijkstra.Specification.Ledger.html#1152" class="Field">enactState</a>  <a id="1164" class="Symbol">:</a> <a id="1166" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a>
    <a id="LedgerEnv.treasury"></a><a id="1181" href="Ledger.Dijkstra.Specification.Ledger.html#1181" class="Field">treasury</a>    <a id="1193" class="Symbol">:</a> <a id="1195" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="1206" class="Keyword">instance</a>
  <a id="1217" class="Keyword">unquoteDecl</a> <a id="HasCast-LedgerEnv"></a><a id="1229" href="Ledger.Dijkstra.Specification.Ledger.html#1229" class="Function">HasCast-LedgerEnv</a> <a id="HasCast-SubLedgerEnv"></a><a id="1247" href="Ledger.Dijkstra.Specification.Ledger.html#1247" class="Function">HasCast-SubLedgerEnv</a> <a id="1268" class="Symbol">=</a> <a id="1270" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="1289" class="Symbol">((</a><a id="1291" class="Keyword">quote</a> <a id="1297" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a> <a id="1307" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1309" href="Ledger.Dijkstra.Specification.Ledger.html#1229" class="Function">HasCast-LedgerEnv</a><a id="1326" class="Symbol">)</a> <a id="1328" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1330" class="Symbol">(</a><a id="1331" class="Keyword">quote</a> <a id="1337" href="Ledger.Dijkstra.Specification.Ledger.html#698" class="Record">SubLedgerEnv</a> <a id="1350" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1352" href="Ledger.Dijkstra.Specification.Ledger.html#1247" class="Function">HasCast-SubLedgerEnv</a><a id="1372" class="Symbol">)</a> <a id="1374" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1376" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1378" class="Symbol">)</a>

  <a id="HasPParams-LedgerEnv"></a><a id="1383" href="Ledger.Dijkstra.Specification.Ledger.html#1383" class="Function">HasPParams-LedgerEnv</a> <a id="1404" class="Symbol">:</a> <a id="1406" href="Ledger.Dijkstra.Specification.PParams.html#4403" class="Record">HasPParams</a> <a id="1417" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a>
  <a id="1429" href="Ledger.Dijkstra.Specification.Ledger.html#1383" class="Function">HasPParams-LedgerEnv</a> <a id="1450" class="Symbol">.</a><a id="1451" href="Ledger.Dijkstra.Specification.PParams.html#4454" class="Field">PParamsOf</a> <a id="1461" class="Symbol">=</a> <a id="1463" href="Ledger.Dijkstra.Specification.Ledger.html#1126" class="Field">LedgerEnv.pparams</a>

  <a id="HasPParams-SubLedgerEnv"></a><a id="1484" href="Ledger.Dijkstra.Specification.Ledger.html#1484" class="Function">HasPParams-SubLedgerEnv</a> <a id="1508" class="Symbol">:</a> <a id="1510" href="Ledger.Dijkstra.Specification.PParams.html#4403" class="Record">HasPParams</a> <a id="1521" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a>
  <a id="1533" href="Ledger.Dijkstra.Specification.Ledger.html#1484" class="Function">HasPParams-SubLedgerEnv</a> <a id="1557" class="Symbol">.</a><a id="1558" href="Ledger.Dijkstra.Specification.PParams.html#4454" class="Field">PParamsOf</a> <a id="1568" class="Symbol">=</a> <a id="1570" href="Ledger.Dijkstra.Specification.Ledger.html#1126" class="Field">LedgerEnv.pparams</a>


<a id="1590" class="Keyword">record</a> <a id="LState"></a><a id="1597" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="1604" class="Symbol">:</a> <a id="1606" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1611" class="Keyword">where</a>


  <a id="1621" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ˡ"></a><a id="1633" href="Ledger.Dijkstra.Specification.Ledger.html#1633" class="InductiveConstructor Operator">⟦_,_,_⟧ˡ</a>


  <a id="1646" class="Keyword">field</a>
    <a id="LState.utxoSt"></a><a id="1656" href="Ledger.Dijkstra.Specification.Ledger.html#1656" class="Field">utxoSt</a>     <a id="1667" class="Symbol">:</a> <a id="1669" href="Ledger.Dijkstra.Specification.Utxo.html#1524" class="Record">UTxOState</a>
    <a id="LState.govSt"></a><a id="1683" href="Ledger.Dijkstra.Specification.Ledger.html#1683" class="Field">govSt</a>      <a id="1694" class="Symbol">:</a> <a id="1696" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
    <a id="LState.certState"></a><a id="1709" href="Ledger.Dijkstra.Specification.Ledger.html#1709" class="Field">certState</a>  <a id="1720" class="Symbol">:</a> <a id="1722" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a>


<a id="1734" class="Keyword">record</a> <a id="HasLState"></a><a id="1741" href="Ledger.Dijkstra.Specification.Ledger.html#1741" class="Record">HasLState</a> <a id="1751" class="Symbol">{</a><a id="1752" href="Ledger.Dijkstra.Specification.Ledger.html#1752" class="Bound">a</a><a id="1753" class="Symbol">}</a> <a id="1755" class="Symbol">(</a><a id="1756" href="Ledger.Dijkstra.Specification.Ledger.html#1756" class="Bound">A</a> <a id="1758" class="Symbol">:</a> <a id="1760" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1765" href="Ledger.Dijkstra.Specification.Ledger.html#1752" class="Bound">a</a><a id="1766" class="Symbol">)</a> <a id="1768" class="Symbol">:</a> <a id="1770" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1775" href="Ledger.Dijkstra.Specification.Ledger.html#1752" class="Bound">a</a> <a id="1777" class="Keyword">where</a>
  <a id="1785" class="Keyword">field</a> <a id="HasLState.LStateOf"></a><a id="1791" href="Ledger.Dijkstra.Specification.Ledger.html#1791" class="Field">LStateOf</a> <a id="1800" class="Symbol">:</a> <a id="1802" href="Ledger.Dijkstra.Specification.Ledger.html#1756" class="Bound">A</a> <a id="1804" class="Symbol">→</a> <a id="1806" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a>
<a id="1813" class="Keyword">open</a> <a id="1818" href="Ledger.Dijkstra.Specification.Ledger.html#1741" class="Module">HasLState</a> <a id="1828" class="Symbol">⦃...⦄</a> <a id="1834" class="Keyword">public</a>

<a id="1842" class="Comment">-- instance</a>
<a id="1854" class="Comment">--   HasUTxOState-LState : HasUTxOState LState</a>
<a id="1901" class="Comment">--   HasUTxOState-LState .UTxOStateOf = LState.utxoSt</a>

<a id="1956" class="Comment">--   HasUTxO-LState : HasUTxO LState</a>
<a id="1993" class="Comment">--   HasUTxO-LState .UTxOOf = UTxOOf ∘ UTxOStateOf</a>

<a id="2045" class="Comment">--   HasGovState-LState : HasGovState LState</a>
<a id="2090" class="Comment">--   HasGovState-LState .GovStateOf = LState.govSt</a>

<a id="2142" class="Comment">--   HasCertState-LState : HasCertState LState</a>
<a id="2189" class="Comment">--   HasCertState-LState .CertStateOf = LState.certState</a>

<a id="2247" class="Comment">--   HasDeposits-LState : HasDeposits LState</a>
<a id="2292" class="Comment">--   HasDeposits-LState .DepositsOf = DepositsOf ∘ UTxOStateOf</a>

<a id="2356" class="Comment">--   HasPools-LState : HasPools LState</a>
<a id="2395" class="Comment">--   HasPools-LState .PoolsOf = PoolsOf ∘ CertStateOf</a>

<a id="2450" class="Comment">--   HasGState-LState : HasGState LState</a>
<a id="2491" class="Comment">--   HasGState-LState .GStateOf = GStateOf ∘ CertStateOf</a>

<a id="2549" class="Comment">--   HasDState-LState : HasDState LState</a>
<a id="2590" class="Comment">--   HasDState-LState .DStateOf = DStateOf ∘ CertStateOf</a>

<a id="2648" class="Comment">--   HasPState-LState : HasPState LState</a>
<a id="2689" class="Comment">--   HasPState-LState .PStateOf = PStateOf ∘ CertStateOf</a>

<a id="2747" class="Comment">--   HasVoteDelegs-LState : HasVoteDelegs LState</a>
<a id="2796" class="Comment">--   HasVoteDelegs-LState .VoteDelegsOf = VoteDelegsOf ∘ DStateOf ∘ CertStateOf</a>

<a id="2877" class="Comment">--   HasDonations-LState : HasDonations LState</a>
<a id="2924" class="Comment">--   HasDonations-LState .DonationsOf = DonationsOf ∘ UTxOStateOf</a>

<a id="2991" class="Comment">--   HasFees-LState : HasFees LState</a>
<a id="3028" class="Comment">--   HasFees-LState .FeesOf = FeesOf ∘ UTxOStateOf</a>

<a id="3080" class="Comment">--   HasCCHotKeys-LState : HasCCHotKeys LState</a>
<a id="3127" class="Comment">--   HasCCHotKeys-LState .CCHotKeysOf = CCHotKeysOf ∘ GStateOf</a>

<a id="3191" class="Comment">--   HasDReps-LState : HasDReps LState</a>
<a id="3230" class="Comment">--   HasDReps-LState .DRepsOf = DRepsOf ∘ CertStateOf</a>

<a id="3285" class="Comment">-- open CertState</a>
<a id="3303" class="Comment">-- open DState</a>
<a id="3318" class="Comment">-- open GovVotes</a>

<a id="3336" class="Keyword">instance</a>
  <a id="3347" class="Keyword">unquoteDecl</a> <a id="HasCast-LState"></a><a id="3359" href="Ledger.Dijkstra.Specification.Ledger.html#3359" class="Function">HasCast-LState</a> <a id="3374" class="Symbol">=</a> <a id="3376" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="3395" class="Symbol">((</a><a id="3397" class="Keyword">quote</a> <a id="3403" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="3410" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3412" href="Ledger.Dijkstra.Specification.Ledger.html#3359" class="Function">HasCast-LState</a><a id="3426" class="Symbol">)</a> <a id="3428" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3430" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3432" class="Symbol">)</a>


<a id="txgov"></a><a id="3436" href="Ledger.Dijkstra.Specification.Ledger.html#3436" class="Function">txgov</a> <a id="3442" class="Symbol">:</a> <a id="3444" class="Symbol">∀</a> <a id="3446" class="Symbol">{</a><a id="3447" href="Ledger.Dijkstra.Specification.Ledger.html#3447" class="Bound">ℓ</a><a id="3448" class="Symbol">}</a> <a id="3450" class="Symbol">→</a> <a id="3452" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="3459" href="Ledger.Dijkstra.Specification.Ledger.html#3447" class="Bound">ℓ</a> <a id="3461" class="Symbol">→</a> <a id="3463" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3468" class="Symbol">(</a><a id="3469" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a> <a id="3477" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3479" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a><a id="3490" class="Symbol">)</a>
<a id="3492" href="Ledger.Dijkstra.Specification.Ledger.html#3436" class="Function">txgov</a> <a id="3498" href="Ledger.Dijkstra.Specification.Ledger.html#3498" class="Bound">txb</a> <a id="3502" class="Symbol">=</a> <a id="3504" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3508" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3513" href="Ledger.Dijkstra.Specification.Transaction.html#4407" class="Field">txGovProposals</a> <a id="3528" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="3531" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3535" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3540" href="Ledger.Dijkstra.Specification.Transaction.html#4363" class="Field">txGovVotes</a>
  <a id="3553" class="Keyword">where</a> <a id="3559" class="Keyword">open</a> <a id="3564" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Module">TxBody</a> <a id="3571" href="Ledger.Dijkstra.Specification.Ledger.html#3498" class="Bound">txb</a>

<a id="GovProposals+Votes"></a><a id="3576" href="Ledger.Dijkstra.Specification.Ledger.html#3576" class="Function">GovProposals+Votes</a> <a id="3595" class="Symbol">:</a> <a id="3597" class="Symbol">∀</a> <a id="3599" class="Symbol">{</a><a id="3600" href="Ledger.Dijkstra.Specification.Ledger.html#3600" class="Bound">ℓ</a><a id="3601" class="Symbol">}</a> <a id="3603" class="Symbol">→</a> <a id="3605" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="3608" href="Ledger.Dijkstra.Specification.Ledger.html#3600" class="Bound">ℓ</a> <a id="3610" class="Symbol">→</a> <a id="3612" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3617" class="Symbol">(</a><a id="3618" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a> <a id="3626" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3628" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a><a id="3639" class="Symbol">)</a>
<a id="3641" href="Ledger.Dijkstra.Specification.Ledger.html#3576" class="Function">GovProposals+Votes</a> <a id="3660" href="Ledger.Dijkstra.Specification.Ledger.html#3660" class="Bound">tx</a> <a id="3663" class="Symbol">=</a> <a id="3665" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3669" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3674" class="Symbol">(</a><a id="3675" href="Ledger.Dijkstra.Specification.Transaction.html#7952" class="Field">ListOfGovProposalsOf</a> <a id="3696" href="Ledger.Dijkstra.Specification.Ledger.html#3660" class="Bound">tx</a><a id="3698" class="Symbol">)</a> <a id="3700" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="3703" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3707" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3712" class="Symbol">(</a><a id="3713" href="Ledger.Dijkstra.Specification.Transaction.html#8108" class="Field">ListOfGovVotesOf</a> <a id="3730" href="Ledger.Dijkstra.Specification.Ledger.html#3660" class="Bound">tx</a><a id="3732" class="Symbol">)</a>

<a id="rmOrphanDRepVotes"></a><a id="3735" href="Ledger.Dijkstra.Specification.Ledger.html#3735" class="Function">rmOrphanDRepVotes</a> <a id="3753" class="Symbol">:</a> <a id="3755" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a> <a id="3765" class="Symbol">→</a> <a id="3767" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="3776" class="Symbol">→</a> <a id="3778" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
<a id="3787" href="Ledger.Dijkstra.Specification.Ledger.html#3735" class="Function">rmOrphanDRepVotes</a> <a id="3805" href="Ledger.Dijkstra.Specification.Ledger.html#3805" class="Bound">cs</a> <a id="3808" href="Ledger.Dijkstra.Specification.Ledger.html#3808" class="Bound">govSt</a> <a id="3814" class="Symbol">=</a> <a id="3816" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="3822" class="Symbol">(</a><a id="3823" href="Class.Bifunctor.html#1152" class="Function">map₂</a> <a id="3828" href="Ledger.Dijkstra.Specification.Ledger.html#3935" class="Function">go</a><a id="3830" class="Symbol">)</a> <a id="3832" href="Ledger.Dijkstra.Specification.Ledger.html#3808" class="Bound">govSt</a>
  <a id="3840" class="Keyword">where</a>
   <a id="3849" href="Ledger.Dijkstra.Specification.Ledger.html#3849" class="Function">ifDRepRegistered</a> <a id="3866" class="Symbol">:</a> <a id="3868" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="3879" class="Symbol">→</a> <a id="3881" href="Agda.Primitive.html#388" class="Primitive">Type</a>
   <a id="3889" href="Ledger.Dijkstra.Specification.Ledger.html#3849" class="Function">ifDRepRegistered</a> <a id="3906" href="Ledger.Dijkstra.Specification.Ledger.html#3906" class="Bound">c</a> <a id="3908" class="Symbol">=</a> <a id="3910" href="Ledger.Dijkstra.Specification.Ledger.html#3906" class="Bound">c</a> <a id="3912" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="3914" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3918" class="Symbol">(</a><a id="3919" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4927" class="Field">DRepsOf</a> <a id="3927" href="Ledger.Dijkstra.Specification.Ledger.html#3805" class="Bound">cs</a><a id="3929" class="Symbol">)</a>

   <a id="3935" href="Ledger.Dijkstra.Specification.Ledger.html#3935" class="Function">go</a> <a id="3938" class="Symbol">:</a> <a id="3940" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a> <a id="3955" class="Symbol">→</a> <a id="3957" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a>
   <a id="3975" href="Ledger.Dijkstra.Specification.Ledger.html#3935" class="Function">go</a> <a id="3978" href="Ledger.Dijkstra.Specification.Ledger.html#3978" class="Bound">gas</a> <a id="3982" class="Symbol">=</a> <a id="3984" class="Keyword">record</a> <a id="3991" href="Ledger.Dijkstra.Specification.Ledger.html#3978" class="Bound">gas</a> <a id="3995" class="Symbol">{</a> <a id="3997" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3446" class="Field">votes</a> <a id="4003" class="Symbol">=</a> <a id="4005" class="Keyword">record</a> <a id="4012" class="Symbol">(</a><a id="4013" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4606" class="Field">GovVotesOf</a> <a id="4024" href="Ledger.Dijkstra.Specification.Ledger.html#3978" class="Bound">gas</a><a id="4027" class="Symbol">)</a> <a id="4029" class="Symbol">{</a> <a id="4031" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2139" class="Field">gvDRep</a> <a id="4038" class="Symbol">=</a> <a id="4040" href="abstract-set-theory.FiniteSetTheory.html#4196" class="Function">filterKeys</a> <a id="4051" href="Ledger.Dijkstra.Specification.Ledger.html#3849" class="Function">ifDRepRegistered</a> <a id="4068" class="Symbol">(</a><a id="4069" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2139" class="Field">GovVotes.gvDRep</a> <a id="4085" class="Symbol">(</a><a id="4086" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4606" class="Field">GovVotesOf</a> <a id="4097" href="Ledger.Dijkstra.Specification.Ledger.html#3978" class="Bound">gas</a><a id="4100" class="Symbol">))</a> <a id="4103" class="Symbol">}</a> <a id="4105" class="Symbol">}</a>

<a id="allColdCreds"></a><a id="4108" href="Ledger.Dijkstra.Specification.Ledger.html#4108" class="Function">allColdCreds</a> <a id="4121" class="Symbol">:</a> <a id="4123" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="4132" class="Symbol">→</a> <a id="4134" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a> <a id="4145" class="Symbol">→</a> <a id="4147" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4149" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
<a id="4160" href="Ledger.Dijkstra.Specification.Ledger.html#4108" class="Function">allColdCreds</a> <a id="4173" href="Ledger.Dijkstra.Specification.Ledger.html#4173" class="Bound">govSt</a> <a id="4179" href="Ledger.Dijkstra.Specification.Ledger.html#4179" class="Bound">es</a> <a id="4182" class="Symbol">=</a>
  <a id="4186" href="Ledger.Dijkstra.Specification.Enact.html#1500" class="Function">ccCreds</a> <a id="4194" class="Symbol">(</a><a id="4195" href="Ledger.Dijkstra.Specification.Ledger.html#4179" class="Bound">es</a> <a id="4198" class="Symbol">.</a><a id="4199" href="Ledger.Dijkstra.Specification.Enact.html#618" class="Field">cc</a><a id="4201" class="Symbol">)</a> <a id="4203" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="4205" href="Axiom.Set.html#7207" class="Function">concatMapˢ</a> <a id="4216" class="Symbol">(λ</a> <a id="4219" class="Symbol">(_</a> <a id="4222" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4224" href="Ledger.Dijkstra.Specification.Ledger.html#4224" class="Bound">st</a><a id="4226" class="Symbol">)</a> <a id="4228" class="Symbol">→</a> <a id="4230" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3914" class="Function">proposedCC</a> <a id="4241" class="Symbol">(</a><a id="4242" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4371" class="Field">GovActionOf</a> <a id="4254" href="Ledger.Dijkstra.Specification.Ledger.html#4224" class="Bound">st</a><a id="4256" class="Symbol">))</a> <a id="4259" class="Symbol">(</a><a id="4260" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="4269" href="Ledger.Dijkstra.Specification.Ledger.html#4173" class="Bound">govSt</a><a id="4274" class="Symbol">)</a>

<a id="calculateDepositsChange"></a><a id="4277" href="Ledger.Dijkstra.Specification.Ledger.html#4277" class="Function">calculateDepositsChange</a> <a id="4301" class="Symbol">:</a> <a id="4303" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a> <a id="4313" class="Symbol">→</a> <a id="4315" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a> <a id="4325" class="Symbol">→</a> <a id="4327" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
<a id="4329" href="Ledger.Dijkstra.Specification.Ledger.html#4277" class="Function">calculateDepositsChange</a> <a id="4353" href="Ledger.Dijkstra.Specification.Ledger.html#4353" class="Bound">certState</a> <a id="4363" href="Ledger.Dijkstra.Specification.Ledger.html#4363" class="Bound">certState&#39;</a> <a id="4374" class="Symbol">=</a> <a id="4376" href="Ledger.Dijkstra.Specification.Ledger.html#4617" class="Function">finalCoin</a> <a id="4386" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="4388" href="Ledger.Dijkstra.Specification.Ledger.html#4412" class="Function">initialCoin</a>
  <a id="4402" class="Keyword">where</a>
    <a id="4412" href="Ledger.Dijkstra.Specification.Ledger.html#4412" class="Function">initialCoin</a> <a id="4424" class="Symbol">:</a> <a id="4426" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="4432" href="Ledger.Dijkstra.Specification.Ledger.html#4412" class="Function">initialCoin</a> <a id="4444" class="Symbol">=</a> <a id="4446" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="4454" class="Symbol">(</a><a id="4455" href="Ledger.Dijkstra.Specification.Certs.html#2693" class="Field">DepositsOf</a> <a id="4466" class="Symbol">(</a><a id="4467" href="Ledger.Dijkstra.Specification.Certs.html#3493" class="Field">DStateOf</a> <a id="4476" href="Ledger.Dijkstra.Specification.Ledger.html#4353" class="Bound">certState</a><a id="4485" class="Symbol">))</a>
                  <a id="4506" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4508" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="4516" class="Symbol">(</a><a id="4517" href="Ledger.Dijkstra.Specification.Certs.html#2693" class="Field">DepositsOf</a> <a id="4528" class="Symbol">(</a><a id="4529" href="Ledger.Dijkstra.Specification.Certs.html#3601" class="Field">PStateOf</a> <a id="4538" href="Ledger.Dijkstra.Specification.Ledger.html#4353" class="Bound">certState</a><a id="4547" class="Symbol">))</a>
                  <a id="4568" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4570" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="4578" class="Symbol">(</a><a id="4579" href="Ledger.Dijkstra.Specification.Certs.html#2693" class="Field">DepositsOf</a> <a id="4590" class="Symbol">(</a><a id="4591" href="Ledger.Dijkstra.Specification.Certs.html#3709" class="Field">GStateOf</a> <a id="4600" href="Ledger.Dijkstra.Specification.Ledger.html#4353" class="Bound">certState</a><a id="4609" class="Symbol">))</a>

    <a id="4617" href="Ledger.Dijkstra.Specification.Ledger.html#4617" class="Function">finalCoin</a> <a id="4627" class="Symbol">:</a> <a id="4629" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="4635" href="Ledger.Dijkstra.Specification.Ledger.html#4617" class="Function">finalCoin</a> <a id="4645" class="Symbol">=</a> <a id="4647" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="4655" class="Symbol">(</a><a id="4656" href="Ledger.Dijkstra.Specification.Certs.html#2693" class="Field">DepositsOf</a> <a id="4667" class="Symbol">(</a><a id="4668" href="Ledger.Dijkstra.Specification.Certs.html#3493" class="Field">DStateOf</a> <a id="4677" href="Ledger.Dijkstra.Specification.Ledger.html#4363" class="Bound">certState&#39;</a><a id="4687" class="Symbol">))</a>
                <a id="4706" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4708" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="4716" class="Symbol">(</a><a id="4717" href="Ledger.Dijkstra.Specification.Certs.html#2693" class="Field">DepositsOf</a> <a id="4728" class="Symbol">(</a><a id="4729" href="Ledger.Dijkstra.Specification.Certs.html#3601" class="Field">PStateOf</a> <a id="4738" href="Ledger.Dijkstra.Specification.Ledger.html#4363" class="Bound">certState&#39;</a><a id="4748" class="Symbol">))</a>
                <a id="4767" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4769" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="4777" class="Symbol">(</a><a id="4778" href="Ledger.Dijkstra.Specification.Certs.html#2693" class="Field">DepositsOf</a> <a id="4789" class="Symbol">(</a><a id="4790" href="Ledger.Dijkstra.Specification.Certs.html#3709" class="Field">GStateOf</a> <a id="4799" href="Ledger.Dijkstra.Specification.Ledger.html#4363" class="Bound">certState&#39;</a><a id="4809" class="Symbol">))</a>



<a id="4815" class="Keyword">private</a> <a id="4823" class="Keyword">variable</a>
  <a id="4834" href="Ledger.Dijkstra.Specification.Ledger.html#4834" class="Generalizable">utxo₀</a>                             <a id="4868" class="Symbol">:</a> <a id="4870" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a>
  <a id="4877" href="Ledger.Dijkstra.Specification.Ledger.html#4877" class="Generalizable">utxoState₀</a> <a id="4888" href="Ledger.Dijkstra.Specification.Ledger.html#4888" class="Generalizable">utxoState₁</a> <a id="4899" href="Ledger.Dijkstra.Specification.Ledger.html#4899" class="Generalizable">utxoState₂</a>  <a id="4911" class="Symbol">:</a> <a id="4913" href="Ledger.Dijkstra.Specification.Utxo.html#1524" class="Record">UTxOState</a>
  <a id="4925" href="Ledger.Dijkstra.Specification.Ledger.html#4925" class="Generalizable">certState₀</a> <a id="4936" href="Ledger.Dijkstra.Specification.Ledger.html#4936" class="Generalizable">certState₁</a> <a id="4947" href="Ledger.Dijkstra.Specification.Ledger.html#4947" class="Generalizable">certState₂</a>  <a id="4959" class="Symbol">:</a> <a id="4961" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a>
  <a id="4973" href="Ledger.Dijkstra.Specification.Ledger.html#4973" class="Generalizable">govState₀</a>  <a id="4984" href="Ledger.Dijkstra.Specification.Ledger.html#4984" class="Generalizable">govState₁</a>  <a id="4995" href="Ledger.Dijkstra.Specification.Ledger.html#4995" class="Generalizable">govState₂</a>   <a id="5007" class="Symbol">:</a> <a id="5009" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
  <a id="5020" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a>                                <a id="5054" class="Symbol">:</a> <a id="5056" href="Ledger.Dijkstra.Specification.Transaction.html#5346" class="Function">TopLevelTx</a>
  <a id="5069" href="Ledger.Dijkstra.Specification.Ledger.html#5069" class="Generalizable">stx</a>                               <a id="5103" class="Symbol">:</a> <a id="5105" href="Ledger.Dijkstra.Specification.Transaction.html#5396" class="Function">SubLevelTx</a>
  <a id="5118" href="Ledger.Dijkstra.Specification.Ledger.html#5118" class="Generalizable">slot</a>                              <a id="5152" class="Symbol">:</a> <a id="5154" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
  <a id="5161" href="Ledger.Dijkstra.Specification.Ledger.html#5161" class="Generalizable">ppolicy</a>                           <a id="5195" class="Symbol">:</a> <a id="5197" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5203" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
  <a id="5216" href="Ledger.Dijkstra.Specification.Ledger.html#5216" class="Generalizable">pp</a>                                <a id="5250" class="Symbol">:</a> <a id="5252" href="Ledger.Dijkstra.Specification.PParams.html#1960" class="Record">PParams</a>
  <a id="5262" href="Ledger.Dijkstra.Specification.Ledger.html#5262" class="Generalizable">enactState</a>                        <a id="5296" class="Symbol">:</a> <a id="5298" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a>
  <a id="5311" href="Ledger.Dijkstra.Specification.Ledger.html#5311" class="Generalizable">treasury</a>                          <a id="5345" class="Symbol">:</a> <a id="5347" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>
  <a id="5358" href="Ledger.Dijkstra.Specification.Ledger.html#5358" class="Generalizable">isTopLevelValid</a>                   <a id="5392" class="Symbol">:</a> <a id="5394" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="5401" href="Ledger.Dijkstra.Specification.Ledger.html#5401" class="Generalizable">allScripts</a>                        <a id="5435" class="Symbol">:</a> <a id="5437" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5439" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="5448" href="Ledger.Dijkstra.Specification.Ledger.html#5448" class="Generalizable">allData</a>                           <a id="5482" class="Symbol">:</a> <a id="5484" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a> <a id="5493" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5495" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>


<a id="5503" class="Keyword">data</a> <a id="_⊢_⇀⦇_,SUBLEDGER⦈_"></a><a id="5508" href="Ledger.Dijkstra.Specification.Ledger.html#5508" class="Datatype Operator">_⊢_⇀⦇_,SUBLEDGER⦈_</a> <a id="5527" class="Symbol">:</a> <a id="5529" href="Ledger.Dijkstra.Specification.Ledger.html#698" class="Record">SubLedgerEnv</a> <a id="5542" class="Symbol">→</a> <a id="5544" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="5551" class="Symbol">→</a> <a id="5553" href="Ledger.Dijkstra.Specification.Transaction.html#5396" class="Function">SubLevelTx</a> <a id="5564" class="Symbol">→</a> <a id="5566" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="5573" class="Symbol">→</a> <a id="5575" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5580" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,SUBLEDGER⦈_.SUBLEDGER-V"></a><a id="5589" href="Ledger.Dijkstra.Specification.Ledger.html#5589" class="InductiveConstructor">SUBLEDGER-V</a> <a id="5601" class="Symbol">:</a>
      <a id="5609" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="5611" href="Ledger.Dijkstra.Specification.Ledger.html#5358" class="Generalizable">isTopLevelValid</a> <a id="5627" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5629" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="5640" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{5644}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{5651}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5311}{\htmlId{5656}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4834}{\htmlId{5667}{\htmlClass{Generalizable}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5358}{\htmlId{5675}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5401}{\htmlId{5693}{\htmlClass{Generalizable}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5448}{\htmlId{5706}{\htmlClass{Generalizable}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="5716" href="Ledger.Dijkstra.Specification.Utxow.html#3043" class="Datatype Operator">⊢</a> <a id="5718" href="Ledger.Dijkstra.Specification.Ledger.html#4877" class="Generalizable">utxoState₀</a> <a id="5729" href="Ledger.Dijkstra.Specification.Utxow.html#3043" class="Datatype Operator">⇀⦇</a> <a id="5732" href="Ledger.Dijkstra.Specification.Ledger.html#5069" class="Generalizable">stx</a> <a id="5736" href="Ledger.Dijkstra.Specification.Utxow.html#3043" class="Datatype Operator">,SUBUTXOW⦈</a> <a id="5747" href="Ledger.Dijkstra.Specification.Ledger.html#4888" class="Generalizable">utxoState₁</a>
      <a id="5764" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{5768}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{5774}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{5781}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#8108}{\htmlId{5786}{\htmlClass{Field}{\text{ListOfGovVotesOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5069}{\htmlId{5803}{\htmlClass{Generalizable}{\text{stx}}}}\, \\ \,\href{Ledger.Core.Specification.Address.html#1975}{\htmlId{5809}{\htmlClass{Field}{\text{WithdrawalsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5069}{\htmlId{5823}{\htmlClass{Generalizable}{\text{stx}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4108}{\htmlId{5829}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4973}{\htmlId{5842}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5262}{\htmlId{5852}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="5865" href="Ledger.Dijkstra.Specification.Certs.html#12390" class="Function Operator">⊢</a> <a id="5867" href="Ledger.Dijkstra.Specification.Ledger.html#4925" class="Generalizable">certState₀</a> <a id="5878" href="Ledger.Dijkstra.Specification.Certs.html#12390" class="Function Operator">⇀⦇</a> <a id="5881" href="Ledger.Dijkstra.Specification.Transaction.html#7713" class="Field">DCertsOf</a> <a id="5890" href="Ledger.Dijkstra.Specification.Ledger.html#5069" class="Generalizable">stx</a> <a id="5894" href="Ledger.Dijkstra.Specification.Certs.html#12390" class="Function Operator">,CERTS⦈</a> <a id="5902" href="Ledger.Dijkstra.Specification.Ledger.html#4936" class="Generalizable">certState₁</a>
      <a id="5919" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Transaction.html#6837}{\htmlId{5923}{\htmlClass{Field}{\text{TxIdOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5069}{\htmlId{5930}{\htmlClass{Generalizable}{\text{stx}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{5936}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{5942}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{5949}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5161}{\htmlId{5954}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5262}{\htmlId{5964}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4936}{\htmlId{5977}{\htmlClass{Generalizable}{\text{certState₁}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{5990}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{5994}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Dijkstra.Specification.Certs.html#3148}{\htmlId{5995}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4936}{\htmlId{6005}{\htmlClass{Generalizable}{\text{certState₁}}}}\,\,\htmlId{6015}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="6019" href="Ledger.Dijkstra.Specification.Gov.html#17650" class="Function Operator">⊢</a> <a id="6021" href="Ledger.Dijkstra.Specification.Ledger.html#4973" class="Generalizable">govState₀</a> <a id="6031" href="Ledger.Dijkstra.Specification.Gov.html#17650" class="Function Operator">⇀⦇</a> <a id="6034" href="Ledger.Dijkstra.Specification.Ledger.html#3576" class="Function">GovProposals+Votes</a> <a id="6053" href="Ledger.Dijkstra.Specification.Ledger.html#5069" class="Generalizable">stx</a> <a id="6057" href="Ledger.Dijkstra.Specification.Gov.html#17650" class="Function Operator">,GOVS⦈</a> <a id="6064" href="Ledger.Dijkstra.Specification.Ledger.html#4984" class="Generalizable">govState₁</a>
        <a id="6082" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
        <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{6125}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5161}{\htmlId{6132}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{6142}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5262}{\htmlId{6147}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5311}{\htmlId{6160}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4834}{\htmlId{6171}{\htmlClass{Generalizable}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5358}{\htmlId{6179}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5401}{\htmlId{6197}{\htmlClass{Generalizable}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5448}{\htmlId{6210}{\htmlClass{Generalizable}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="6220" href="Ledger.Dijkstra.Specification.Ledger.html#5508" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4877}{\htmlId{6224}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4973}{\htmlId{6237}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4925}{\htmlId{6249}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="6262" href="Ledger.Dijkstra.Specification.Ledger.html#5508" class="Datatype Operator">⇀⦇</a> <a id="6265" href="Ledger.Dijkstra.Specification.Ledger.html#5069" class="Generalizable">stx</a> <a id="6269" href="Ledger.Dijkstra.Specification.Ledger.html#5508" class="Datatype Operator">,SUBLEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4888}{\htmlId{6283}{\htmlClass{Generalizable}{\text{utxoState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4984}{\htmlId{6296}{\htmlClass{Generalizable}{\text{govState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4936}{\htmlId{6308}{\htmlClass{Generalizable}{\text{certState₁}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,SUBLEDGER⦈_.SUBLEDGER-I"></a><a id="6324" href="Ledger.Dijkstra.Specification.Ledger.html#6324" class="InductiveConstructor">SUBLEDGER-I</a> <a id="6336" class="Symbol">:</a>
      <a id="6344" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="6346" href="Ledger.Dijkstra.Specification.Ledger.html#5358" class="Generalizable">isTopLevelValid</a> <a id="6362" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6364" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
      <a id="6376" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{6380}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{6387}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5311}{\htmlId{6392}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4834}{\htmlId{6403}{\htmlClass{Generalizable}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5358}{\htmlId{6411}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5401}{\htmlId{6429}{\htmlClass{Generalizable}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5448}{\htmlId{6442}{\htmlClass{Generalizable}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="6452" href="Ledger.Dijkstra.Specification.Utxow.html#3043" class="Datatype Operator">⊢</a> <a id="6454" href="Ledger.Dijkstra.Specification.Ledger.html#4877" class="Generalizable">utxoState₀</a> <a id="6465" href="Ledger.Dijkstra.Specification.Utxow.html#3043" class="Datatype Operator">⇀⦇</a> <a id="6468" href="Ledger.Dijkstra.Specification.Ledger.html#5069" class="Generalizable">stx</a> <a id="6472" href="Ledger.Dijkstra.Specification.Utxow.html#3043" class="Datatype Operator">,SUBUTXOW⦈</a> <a id="6483" href="Ledger.Dijkstra.Specification.Ledger.html#4877" class="Generalizable">utxoState₀</a>
        <a id="6502" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
        <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{6545}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5161}{\htmlId{6552}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{6562}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5262}{\htmlId{6567}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5311}{\htmlId{6580}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4834}{\htmlId{6591}{\htmlClass{Generalizable}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5358}{\htmlId{6599}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5401}{\htmlId{6617}{\htmlClass{Generalizable}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5448}{\htmlId{6630}{\htmlClass{Generalizable}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="6640" href="Ledger.Dijkstra.Specification.Ledger.html#5508" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4877}{\htmlId{6644}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4973}{\htmlId{6657}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4925}{\htmlId{6669}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="6682" href="Ledger.Dijkstra.Specification.Ledger.html#5508" class="Datatype Operator">⇀⦇</a> <a id="6685" href="Ledger.Dijkstra.Specification.Ledger.html#5069" class="Generalizable">stx</a> <a id="6689" href="Ledger.Dijkstra.Specification.Ledger.html#5508" class="Datatype Operator">,SUBLEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4877}{\htmlId{6703}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4973}{\htmlId{6716}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4925}{\htmlId{6728}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a>

<a id="_⊢_⇀⦇_,SUBLEDGERS⦈_"></a><a id="6742" href="Ledger.Dijkstra.Specification.Ledger.html#6742" class="Function Operator">_⊢_⇀⦇_,SUBLEDGERS⦈_</a> <a id="6762" class="Symbol">:</a> <a id="6764" href="Ledger.Dijkstra.Specification.Ledger.html#698" class="Record">SubLedgerEnv</a> <a id="6777" class="Symbol">→</a> <a id="6779" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="6786" class="Symbol">→</a> <a id="6788" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6793" href="Ledger.Dijkstra.Specification.Transaction.html#5396" class="Function">SubLevelTx</a> <a id="6804" class="Symbol">→</a> <a id="6806" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="6813" class="Symbol">→</a> <a id="6815" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="6820" href="Ledger.Dijkstra.Specification.Ledger.html#6742" class="Function Operator">_⊢_⇀⦇_,SUBLEDGERS⦈_</a> <a id="6840" class="Symbol">=</a> <a id="6842" href="Interface.STS.html#2048" class="Function">ReflexiveTransitiveClosure</a> <a id="6869" class="Symbol">{</a><a id="6870" class="Argument">sts</a> <a id="6874" class="Symbol">=</a> <a id="6876" href="Ledger.Dijkstra.Specification.Ledger.html#5508" class="Datatype Operator">_⊢_⇀⦇_,SUBLEDGER⦈_</a><a id="6894" class="Symbol">}</a>


<a id="6898" class="Keyword">data</a> <a id="_⊢_⇀⦇_,LEDGER⦈_"></a><a id="6903" href="Ledger.Dijkstra.Specification.Ledger.html#6903" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="6919" class="Symbol">:</a> <a id="6921" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a> <a id="6931" class="Symbol">→</a> <a id="6933" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="6940" class="Symbol">→</a> <a id="6942" href="Ledger.Dijkstra.Specification.Transaction.html#5346" class="Function">TopLevelTx</a> <a id="6953" class="Symbol">→</a> <a id="6955" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="6962" class="Symbol">→</a> <a id="6964" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6969" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-V"></a><a id="6978" href="Ledger.Dijkstra.Specification.Ledger.html#6978" class="InductiveConstructor">LEDGER-V</a> <a id="6987" class="Symbol">:</a>
    <a id="6993" class="Keyword">let</a>  <a id="6998" href="Ledger.Dijkstra.Specification.Ledger.html#6998" class="Bound">utxo₀</a> <a id="7004" class="Symbol">:</a> <a id="7006" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a>
         <a id="7020" href="Ledger.Dijkstra.Specification.Ledger.html#6998" class="Bound">utxo₀</a> <a id="7026" class="Symbol">=</a> <a id="7028" href="Ledger.Dijkstra.Specification.Transaction.html#3454" class="Field">UTxOOf</a> <a id="7035" href="Ledger.Dijkstra.Specification.Ledger.html#4877" class="Generalizable">utxoState₀</a>

         <a id="7056" href="Ledger.Dijkstra.Specification.Ledger.html#7056" class="Bound">allScripts</a> <a id="7067" class="Symbol">:</a> <a id="7069" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7071" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
         <a id="7087" href="Ledger.Dijkstra.Specification.Ledger.html#7056" class="Bound">allScripts</a> <a id="7098" class="Symbol">=</a> <a id="7100" href="Ledger.Dijkstra.Specification.Transaction.html#17515" class="Function">getAllScripts</a> <a id="7114" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="7117" href="Ledger.Dijkstra.Specification.Ledger.html#6998" class="Bound">utxo₀</a>

         <a id="7133" href="Ledger.Dijkstra.Specification.Ledger.html#7133" class="Bound">allData</a> <a id="7141" class="Symbol">:</a> <a id="7143" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a> <a id="7152" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="7154" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
         <a id="7169" href="Ledger.Dijkstra.Specification.Ledger.html#7133" class="Bound">allData</a> <a id="7177" class="Symbol">=</a> <a id="7179" href="Ledger.Prelude.html#1894" class="Function">setToMap</a> <a id="7188" class="Symbol">(</a><a id="7189" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="7194" href="Data.Product.Base.html#2000" class="Function Operator">&lt;</a> <a id="7196" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="7201" href="Data.Product.Base.html#2000" class="Function Operator">,</a> <a id="7203" href="Function.Base.html#704" class="Function">id</a> <a id="7206" href="Data.Product.Base.html#2000" class="Function Operator">&gt;</a> <a id="7208" class="Symbol">(</a><a id="7209" href="Ledger.Dijkstra.Specification.Transaction.html#18687" class="Function">getAllData</a> <a id="7220" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="7223" href="Ledger.Dijkstra.Specification.Ledger.html#6998" class="Bound">utxo₀</a><a id="7228" class="Symbol">))</a>

         <a id="7241" href="Ledger.Dijkstra.Specification.Ledger.html#7241" class="Bound">depositsChange</a> <a id="7256" class="Symbol">:</a> <a id="7258" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
         <a id="7269" href="Ledger.Dijkstra.Specification.Ledger.html#7241" class="Bound">depositsChange</a> <a id="7284" class="Symbol">=</a> <a id="7286" href="Ledger.Dijkstra.Specification.Ledger.html#4277" class="Function">calculateDepositsChange</a> <a id="7310" href="Ledger.Dijkstra.Specification.Ledger.html#4925" class="Generalizable">certState₀</a> <a id="7321" href="Ledger.Dijkstra.Specification.Ledger.html#4947" class="Generalizable">certState₂</a>
    <a id="7336" class="Keyword">in</a>
      <a id="7345" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="7347" href="Ledger.Dijkstra.Specification.Transaction.html#8926" class="Field">IsValidFlagOf</a> <a id="7361" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="7364" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7366" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="7377" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{7381}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5161}{\htmlId{7388}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{7398}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5262}{\htmlId{7403}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5311}{\htmlId{7416}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#6998}{\htmlId{7427}{\htmlClass{Bound}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#8926}{\htmlId{7435}{\htmlClass{Field}{\text{IsValidFlagOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5020}{\htmlId{7449}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7056}{\htmlId{7454}{\htmlClass{Bound}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7133}{\htmlId{7467}{\htmlClass{Bound}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="7477" href="Ledger.Dijkstra.Specification.Ledger.html#6742" class="Function Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4877}{\htmlId{7481}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4973}{\htmlId{7494}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4925}{\htmlId{7506}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="7519" href="Ledger.Dijkstra.Specification.Ledger.html#6742" class="Function Operator">⇀⦇</a> <a id="7522" href="Ledger.Dijkstra.Specification.Transaction.html#6416" class="Field">SubTransactionsOf</a> <a id="7540" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="7543" href="Ledger.Dijkstra.Specification.Ledger.html#6742" class="Function Operator">,SUBLEDGERS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4888}{\htmlId{7558}{\htmlClass{Generalizable}{\text{utxoState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4984}{\htmlId{7571}{\htmlClass{Generalizable}{\text{govState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4936}{\htmlId{7583}{\htmlClass{Generalizable}{\text{certState₁}}}}\, \end{pmatrix}$</a>
      <a id="7602" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{7606}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{7612}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{7619}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#8108}{\htmlId{7624}{\htmlClass{Field}{\text{ListOfGovVotesOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5020}{\htmlId{7641}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Core.Specification.Address.html#1975}{\htmlId{7646}{\htmlClass{Field}{\text{WithdrawalsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5020}{\htmlId{7660}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4108}{\htmlId{7665}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4984}{\htmlId{7678}{\htmlClass{Generalizable}{\text{govState₁}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5262}{\htmlId{7688}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="7701" href="Ledger.Dijkstra.Specification.Certs.html#12390" class="Function Operator">⊢</a> <a id="7703" href="Ledger.Dijkstra.Specification.Ledger.html#4936" class="Generalizable">certState₁</a> <a id="7714" href="Ledger.Dijkstra.Specification.Certs.html#12390" class="Function Operator">⇀⦇</a> <a id="7717" href="Ledger.Dijkstra.Specification.Transaction.html#7713" class="Field">DCertsOf</a> <a id="7726" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="7729" href="Ledger.Dijkstra.Specification.Certs.html#12390" class="Function Operator">,CERTS⦈</a> <a id="7737" href="Ledger.Dijkstra.Specification.Ledger.html#4947" class="Generalizable">certState₂</a>
      <a id="7754" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Transaction.html#6837}{\htmlId{7758}{\htmlClass{Field}{\text{TxIdOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5020}{\htmlId{7765}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{7770}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{7776}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{7783}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5161}{\htmlId{7788}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5262}{\htmlId{7798}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4947}{\htmlId{7811}{\htmlClass{Generalizable}{\text{certState₂}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{7824}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{7828}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Dijkstra.Specification.Certs.html#3148}{\htmlId{7829}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4947}{\htmlId{7839}{\htmlClass{Generalizable}{\text{certState₂}}}}\,\,\htmlId{7849}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="7853" href="Ledger.Dijkstra.Specification.Gov.html#17650" class="Function Operator">⊢</a> <a id="7855" href="Ledger.Dijkstra.Specification.Ledger.html#4984" class="Generalizable">govState₁</a> <a id="7865" href="Ledger.Dijkstra.Specification.Gov.html#17650" class="Function Operator">⇀⦇</a> <a id="7868" href="Ledger.Dijkstra.Specification.Ledger.html#3576" class="Function">GovProposals+Votes</a> <a id="7887" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="7890" href="Ledger.Dijkstra.Specification.Gov.html#17650" class="Function Operator">,GOVS⦈</a> <a id="7897" href="Ledger.Dijkstra.Specification.Ledger.html#4995" class="Generalizable">govState₂</a>
      <a id="7913" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{7917}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{7924}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5311}{\htmlId{7929}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#6998}{\htmlId{7940}{\htmlClass{Bound}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7241}{\htmlId{7948}{\htmlClass{Bound}{\text{depositsChange}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7056}{\htmlId{7965}{\htmlClass{Bound}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7133}{\htmlId{7978}{\htmlClass{Bound}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="7988" href="Ledger.Dijkstra.Specification.Utxow.html#4910" class="Datatype Operator">⊢</a> <a id="7990" href="Ledger.Dijkstra.Specification.Ledger.html#4888" class="Generalizable">utxoState₁</a> <a id="8001" href="Ledger.Dijkstra.Specification.Utxow.html#4910" class="Datatype Operator">⇀⦇</a> <a id="8004" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="8007" href="Ledger.Dijkstra.Specification.Utxow.html#4910" class="Datatype Operator">,UTXOW⦈</a> <a id="8015" href="Ledger.Dijkstra.Specification.Ledger.html#4899" class="Generalizable">utxoState₂</a>
        <a id="8034" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
        <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{8077}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5161}{\htmlId{8084}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{8094}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5262}{\htmlId{8099}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5311}{\htmlId{8112}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="8123" href="Ledger.Dijkstra.Specification.Ledger.html#6903" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4877}{\htmlId{8127}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4973}{\htmlId{8140}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4925}{\htmlId{8152}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="8165" href="Ledger.Dijkstra.Specification.Ledger.html#6903" class="Datatype Operator">⇀⦇</a> <a id="8168" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="8171" href="Ledger.Dijkstra.Specification.Ledger.html#6903" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4899}{\htmlId{8182}{\htmlClass{Generalizable}{\text{utxoState₂}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#3735}{\htmlId{8195}{\htmlClass{Function}{\text{rmOrphanDRepVotes}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4947}{\htmlId{8213}{\htmlClass{Generalizable}{\text{certState₂}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4995}{\htmlId{8224}{\htmlClass{Generalizable}{\text{govState₂}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4947}{\htmlId{8236}{\htmlClass{Generalizable}{\text{certState₂}}}}\, \end{pmatrix}$</a>


  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-I"></a><a id="8253" href="Ledger.Dijkstra.Specification.Ledger.html#8253" class="InductiveConstructor">LEDGER-I</a> <a id="8262" class="Symbol">:</a>
    <a id="8268" class="Keyword">let</a>  <a id="8273" href="Ledger.Dijkstra.Specification.Ledger.html#8273" class="Bound">utxo₀</a> <a id="8279" class="Symbol">:</a> <a id="8281" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a>
         <a id="8295" href="Ledger.Dijkstra.Specification.Ledger.html#8273" class="Bound">utxo₀</a> <a id="8301" class="Symbol">=</a> <a id="8303" href="Ledger.Dijkstra.Specification.Transaction.html#3454" class="Field">UTxOOf</a> <a id="8310" href="Ledger.Dijkstra.Specification.Ledger.html#4877" class="Generalizable">utxoState₀</a>

         <a id="8331" href="Ledger.Dijkstra.Specification.Ledger.html#8331" class="Bound">allScripts</a> <a id="8342" class="Symbol">:</a> <a id="8344" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8346" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
         <a id="8362" href="Ledger.Dijkstra.Specification.Ledger.html#8331" class="Bound">allScripts</a> <a id="8373" class="Symbol">=</a> <a id="8375" href="Ledger.Dijkstra.Specification.Transaction.html#17515" class="Function">getAllScripts</a> <a id="8389" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="8392" href="Ledger.Dijkstra.Specification.Ledger.html#8273" class="Bound">utxo₀</a>

         <a id="8408" href="Ledger.Dijkstra.Specification.Ledger.html#8408" class="Bound">allData</a> <a id="8416" class="Symbol">:</a> <a id="8418" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a> <a id="8427" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="8429" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
         <a id="8444" href="Ledger.Dijkstra.Specification.Ledger.html#8408" class="Bound">allData</a> <a id="8452" class="Symbol">=</a> <a id="8454" href="Ledger.Prelude.html#1894" class="Function">setToMap</a> <a id="8463" class="Symbol">(</a><a id="8464" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="8469" href="Data.Product.Base.html#2000" class="Function Operator">&lt;</a> <a id="8471" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="8476" href="Data.Product.Base.html#2000" class="Function Operator">,</a> <a id="8478" href="Function.Base.html#704" class="Function">id</a> <a id="8481" href="Data.Product.Base.html#2000" class="Function Operator">&gt;</a> <a id="8483" class="Symbol">(</a><a id="8484" href="Ledger.Dijkstra.Specification.Transaction.html#18687" class="Function">getAllData</a> <a id="8495" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="8498" href="Ledger.Dijkstra.Specification.Ledger.html#8273" class="Bound">utxo₀</a><a id="8503" class="Symbol">))</a>
    <a id="8510" class="Keyword">in</a>
      <a id="8519" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="8521" href="Ledger.Dijkstra.Specification.Transaction.html#8926" class="Field">IsValidFlagOf</a> <a id="8535" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="8538" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8540" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
      <a id="8552" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{8556}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5161}{\htmlId{8563}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{8573}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5262}{\htmlId{8578}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5311}{\htmlId{8591}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8273}{\htmlId{8602}{\htmlClass{Bound}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#8926}{\htmlId{8610}{\htmlClass{Field}{\text{IsValidFlagOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5020}{\htmlId{8624}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8331}{\htmlId{8629}{\htmlClass{Bound}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8408}{\htmlId{8642}{\htmlClass{Bound}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="8652" href="Ledger.Dijkstra.Specification.Ledger.html#6742" class="Function Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4877}{\htmlId{8656}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4973}{\htmlId{8669}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4925}{\htmlId{8681}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="8694" href="Ledger.Dijkstra.Specification.Ledger.html#6742" class="Function Operator">⇀⦇</a> <a id="8697" href="Ledger.Dijkstra.Specification.Transaction.html#6416" class="Field">SubTransactionsOf</a> <a id="8715" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="8718" href="Ledger.Dijkstra.Specification.Ledger.html#6742" class="Function Operator">,SUBLEDGERS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4877}{\htmlId{8733}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4973}{\htmlId{8746}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4925}{\htmlId{8758}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a>
      <a id="8777" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{8781}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{8788}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5311}{\htmlId{8793}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8273}{\htmlId{8804}{\htmlClass{Bound}{\text{utxo₀}}}}\, \\ \,\href{Data.Integer.Base.html#1545}{\htmlId{8812}{\htmlClass{Function}{\text{0ℤ}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8331}{\htmlId{8817}{\htmlClass{Bound}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8408}{\htmlId{8830}{\htmlClass{Bound}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="8840" href="Ledger.Dijkstra.Specification.Utxow.html#4910" class="Datatype Operator">⊢</a> <a id="8842" href="Ledger.Dijkstra.Specification.Ledger.html#4877" class="Generalizable">utxoState₀</a> <a id="8853" href="Ledger.Dijkstra.Specification.Utxow.html#4910" class="Datatype Operator">⇀⦇</a> <a id="8856" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="8859" href="Ledger.Dijkstra.Specification.Utxow.html#4910" class="Datatype Operator">,UTXOW⦈</a> <a id="8867" href="Ledger.Dijkstra.Specification.Ledger.html#4888" class="Generalizable">utxoState₁</a>
        <a id="8886" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
        <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5118}{\htmlId{8929}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5161}{\htmlId{8936}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5216}{\htmlId{8946}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5262}{\htmlId{8951}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5311}{\htmlId{8964}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="8975" href="Ledger.Dijkstra.Specification.Ledger.html#6903" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4877}{\htmlId{8979}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4973}{\htmlId{8992}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4925}{\htmlId{9004}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="9017" href="Ledger.Dijkstra.Specification.Ledger.html#6903" class="Datatype Operator">⇀⦇</a> <a id="9020" href="Ledger.Dijkstra.Specification.Ledger.html#5020" class="Generalizable">tx</a> <a id="9023" href="Ledger.Dijkstra.Specification.Ledger.html#6903" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4888}{\htmlId{9034}{\htmlClass{Generalizable}{\text{utxoState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4973}{\htmlId{9047}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4925}{\htmlId{9059}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a>

<a id="_⊢_⇀⦇_,LEDGERS⦈_"></a><a id="9073" href="Ledger.Dijkstra.Specification.Ledger.html#9073" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="9090" class="Symbol">:</a> <a id="9092" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a> <a id="9102" class="Symbol">→</a> <a id="9104" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="9111" class="Symbol">→</a> <a id="9113" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="9118" href="Ledger.Dijkstra.Specification.Transaction.html#5346" class="Function">TopLevelTx</a> <a id="9129" class="Symbol">→</a> <a id="9131" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="9138" class="Symbol">→</a> <a id="9140" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="9145" href="Ledger.Dijkstra.Specification.Ledger.html#9073" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="9162" class="Symbol">=</a> <a id="9164" href="Interface.STS.html#2048" class="Function">ReflexiveTransitiveClosure</a> <a id="9191" class="Symbol">{</a><a id="9192" class="Argument">sts</a> <a id="9196" class="Symbol">=</a> <a id="9198" href="Ledger.Dijkstra.Specification.Ledger.html#6903" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a><a id="9213" class="Symbol">}</a>

</pre></body></html>