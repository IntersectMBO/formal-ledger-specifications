<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Dijkstra.Specification.Ledger</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">

<a id="3" class="Keyword">import</a> <a id="10" href="Data.List.html" class="Module">Data.List</a> <a id="20" class="Symbol">as</a> <a id="23" class="Module">L</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="53" class="Keyword">open</a> <a id="58" class="Keyword">import</a> <a id="65" href="Ledger.Dijkstra.Specification.Abstract.html" class="Module">Ledger.Dijkstra.Specification.Abstract</a>
<a id="104" class="Keyword">open</a> <a id="109" class="Keyword">import</a> <a id="116" href="Ledger.Dijkstra.Specification.Transaction.html" class="Module">Ledger.Dijkstra.Specification.Transaction</a> <a id="158" class="Keyword">using</a> <a id="164" class="Symbol">(</a><a id="165" href="Ledger.Dijkstra.Specification.Transaction.html#1279" class="Record">TransactionStructure</a><a id="185" class="Symbol">)</a>

<a id="188" class="Keyword">module</a> <a id="195" href="Ledger.Dijkstra.Specification.Ledger.html" class="Module">Ledger.Dijkstra.Specification.Ledger</a>
  <a id="234" class="Symbol">(</a><a id="235" href="Ledger.Dijkstra.Specification.Ledger.html#235" class="Bound">txs</a> <a id="239" class="Symbol">:</a> <a id="241" class="Symbol">_)</a> <a id="244" class="Symbol">(</a><a id="245" class="Keyword">open</a> <a id="250" href="Ledger.Dijkstra.Specification.Transaction.html#1279" class="Module">TransactionStructure</a> <a id="271" href="Ledger.Dijkstra.Specification.Ledger.html#235" class="Bound">txs</a><a id="274" class="Symbol">)</a>
  <a id="278" class="Symbol">(</a><a id="279" href="Ledger.Dijkstra.Specification.Ledger.html#279" class="Bound">abs</a> <a id="283" class="Symbol">:</a> <a id="285" href="Ledger.Dijkstra.Specification.Abstract.html#845" class="Record">AbstractFunctions</a> <a id="303" href="Ledger.Dijkstra.Specification.Ledger.html#235" class="Bound">txs</a><a id="306" class="Symbol">)</a> <a id="308" class="Symbol">(</a><a id="309" class="Keyword">open</a> <a id="314" href="Ledger.Dijkstra.Specification.Abstract.html#845" class="Module">AbstractFunctions</a> <a id="332" href="Ledger.Dijkstra.Specification.Ledger.html#279" class="Bound">abs</a><a id="335" class="Symbol">)</a>
  <a id="339" class="Keyword">where</a>

<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Ledger.Conway.Specification.Enact.html" class="Module">Ledger.Conway.Specification.Enact</a> <a id="392" href="Ledger.Dijkstra.Specification.Transaction.html#2455" class="Function">govStructure</a>
<a id="405" class="Keyword">open</a> <a id="410" class="Keyword">import</a> <a id="417" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="449" href="Ledger.Dijkstra.Specification.Transaction.html#2455" class="Function">govStructure</a>
<a id="462" class="Keyword">open</a> <a id="467" class="Keyword">import</a> <a id="474" href="Ledger.Dijkstra.Specification.Utxo.html" class="Module">Ledger.Dijkstra.Specification.Utxo</a> <a id="509" href="Ledger.Dijkstra.Specification.Ledger.html#235" class="Bound">txs</a> <a id="513" href="Ledger.Dijkstra.Specification.Ledger.html#279" class="Bound">abs</a>
<a id="517" class="Keyword">open</a> <a id="522" class="Keyword">import</a> <a id="529" href="Ledger.Dijkstra.Specification.Utxow.html" class="Module">Ledger.Dijkstra.Specification.Utxow</a> <a id="565" href="Ledger.Dijkstra.Specification.Ledger.html#235" class="Bound">txs</a> <a id="569" href="Ledger.Dijkstra.Specification.Ledger.html#279" class="Bound">abs</a>
<a id="573" class="Keyword">open</a> <a id="578" class="Keyword">import</a> <a id="585" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a> <a id="621" href="Ledger.Dijkstra.Specification.Transaction.html#2455" class="Function">govStructure</a>

<a id="635" class="Keyword">open</a> <a id="640" href="Ledger.Dijkstra.Specification.Transaction.html#3472" class="Module">Tx</a>
<a id="643" class="Keyword">open</a> <a id="648" href="Ledger.Conway.Specification.Certs.html#4021" class="Module">GState</a>
<a id="655" class="Keyword">open</a> <a id="660" href="Ledger.Conway.Specification.Gov.Actions.html#3822" class="Module">GovActionState</a>
<a id="675" class="Keyword">open</a> <a id="680" href="Ledger.Conway.Specification.Enact.html#448" class="Module">EnactState</a> <a id="691" class="Keyword">using</a> <a id="697" class="Symbol">(</a><a id="698" href="Ledger.Conway.Specification.Enact.html#484" class="Field">cc</a><a id="700" class="Symbol">)</a>
<a id="702" class="Comment">--</a>


<a id="707" class="Keyword">record</a> <a id="SubLedgerEnv"></a><a id="714" href="Ledger.Dijkstra.Specification.Ledger.html#714" class="Record">SubLedgerEnv</a> <a id="727" class="Symbol">:</a> <a id="729" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="734" class="Keyword">where</a>
  <a id="742" class="Keyword">field</a>
    <a id="SubLedgerEnv.slot"></a><a id="752" href="Ledger.Dijkstra.Specification.Ledger.html#752" class="Field">slot</a>        <a id="764" class="Symbol">:</a> <a id="766" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
    <a id="SubLedgerEnv.ppolicy"></a><a id="775" href="Ledger.Dijkstra.Specification.Ledger.html#775" class="Field">ppolicy</a>     <a id="787" class="Symbol">:</a> <a id="789" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="795" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="SubLedgerEnv.pparams"></a><a id="810" href="Ledger.Dijkstra.Specification.Ledger.html#810" class="Field">pparams</a>     <a id="822" class="Symbol">:</a> <a id="824" href="Ledger.Conway.Specification.PParams.html#1689" class="Record">PParams</a>
    <a id="SubLedgerEnv.enactState"></a><a id="836" href="Ledger.Dijkstra.Specification.Ledger.html#836" class="Field">enactState</a>  <a id="848" class="Symbol">:</a> <a id="850" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a>
    <a id="SubLedgerEnv.treasury"></a><a id="865" href="Ledger.Dijkstra.Specification.Ledger.html#865" class="Field">treasury</a>    <a id="877" class="Symbol">:</a> <a id="879" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>
    <a id="SubLedgerEnv.isValid"></a><a id="892" href="Ledger.Dijkstra.Specification.Ledger.html#892" class="Field">isValid</a>     <a id="904" class="Symbol">:</a> <a id="906" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

<a id="912" class="Keyword">record</a> <a id="LedgerEnv"></a><a id="919" href="Ledger.Dijkstra.Specification.Ledger.html#919" class="Record">LedgerEnv</a> <a id="929" class="Symbol">:</a> <a id="931" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="936" class="Keyword">where</a>
  <a id="944" class="Keyword">field</a>
    <a id="LedgerEnv.slot"></a><a id="954" href="Ledger.Dijkstra.Specification.Ledger.html#954" class="Field">slot</a>        <a id="966" class="Symbol">:</a> <a id="968" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
    <a id="LedgerEnv.ppolicy"></a><a id="977" href="Ledger.Dijkstra.Specification.Ledger.html#977" class="Field">ppolicy</a>     <a id="989" class="Symbol">:</a> <a id="991" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="997" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="LedgerEnv.pparams"></a><a id="1012" href="Ledger.Dijkstra.Specification.Ledger.html#1012" class="Field">pparams</a>     <a id="1024" class="Symbol">:</a> <a id="1026" href="Ledger.Conway.Specification.PParams.html#1689" class="Record">PParams</a>
    <a id="LedgerEnv.enactState"></a><a id="1038" href="Ledger.Dijkstra.Specification.Ledger.html#1038" class="Field">enactState</a>  <a id="1050" class="Symbol">:</a> <a id="1052" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a>
    <a id="LedgerEnv.treasury"></a><a id="1067" href="Ledger.Dijkstra.Specification.Ledger.html#1067" class="Field">treasury</a>    <a id="1079" class="Symbol">:</a> <a id="1081" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="1092" class="Keyword">instance</a>
  <a id="1103" class="Keyword">unquoteDecl</a> <a id="HasCast-LedgerEnv"></a><a id="1115" href="Ledger.Dijkstra.Specification.Ledger.html#1115" class="Function">HasCast-LedgerEnv</a> <a id="HasCast-SubLedgerEnv"></a><a id="1133" href="Ledger.Dijkstra.Specification.Ledger.html#1133" class="Function">HasCast-SubLedgerEnv</a> <a id="1154" class="Symbol">=</a> <a id="1156" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="1175" class="Symbol">((</a><a id="1177" class="Keyword">quote</a> <a id="1183" href="Ledger.Dijkstra.Specification.Ledger.html#919" class="Record">LedgerEnv</a> <a id="1193" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1195" href="Ledger.Dijkstra.Specification.Ledger.html#1115" class="Function">HasCast-LedgerEnv</a><a id="1212" class="Symbol">)</a> <a id="1214" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1216" class="Symbol">(</a><a id="1217" class="Keyword">quote</a> <a id="1223" href="Ledger.Dijkstra.Specification.Ledger.html#714" class="Record">SubLedgerEnv</a> <a id="1236" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1238" href="Ledger.Dijkstra.Specification.Ledger.html#1133" class="Function">HasCast-SubLedgerEnv</a><a id="1258" class="Symbol">)</a> <a id="1260" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1262" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1264" class="Symbol">)</a>

  <a id="HasPParams-LedgerEnv"></a><a id="1269" href="Ledger.Dijkstra.Specification.Ledger.html#1269" class="Function">HasPParams-LedgerEnv</a> <a id="1290" class="Symbol">:</a> <a id="1292" href="Ledger.Conway.Specification.PParams.html#3493" class="Record">HasPParams</a> <a id="1303" href="Ledger.Dijkstra.Specification.Ledger.html#919" class="Record">LedgerEnv</a>
  <a id="1315" href="Ledger.Dijkstra.Specification.Ledger.html#1269" class="Function">HasPParams-LedgerEnv</a> <a id="1336" class="Symbol">.</a><a id="1337" href="Ledger.Conway.Specification.PParams.html#3544" class="Field">PParamsOf</a> <a id="1347" class="Symbol">=</a> <a id="1349" href="Ledger.Dijkstra.Specification.Ledger.html#1012" class="Field">LedgerEnv.pparams</a>

  <a id="HasPParams-SubLedgerEnv"></a><a id="1370" href="Ledger.Dijkstra.Specification.Ledger.html#1370" class="Function">HasPParams-SubLedgerEnv</a> <a id="1394" class="Symbol">:</a> <a id="1396" href="Ledger.Conway.Specification.PParams.html#3493" class="Record">HasPParams</a> <a id="1407" href="Ledger.Dijkstra.Specification.Ledger.html#919" class="Record">LedgerEnv</a>
  <a id="1419" href="Ledger.Dijkstra.Specification.Ledger.html#1370" class="Function">HasPParams-SubLedgerEnv</a> <a id="1443" class="Symbol">.</a><a id="1444" href="Ledger.Conway.Specification.PParams.html#3544" class="Field">PParamsOf</a> <a id="1454" class="Symbol">=</a> <a id="1456" href="Ledger.Dijkstra.Specification.Ledger.html#1012" class="Field">LedgerEnv.pparams</a>


<a id="1476" class="Keyword">record</a> <a id="LState"></a><a id="1483" href="Ledger.Dijkstra.Specification.Ledger.html#1483" class="Record">LState</a> <a id="1490" class="Symbol">:</a> <a id="1492" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1497" class="Keyword">where</a>


  <a id="1507" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ˡ"></a><a id="1519" href="Ledger.Dijkstra.Specification.Ledger.html#1519" class="InductiveConstructor Operator">⟦_,_,_⟧ˡ</a>


  <a id="1532" class="Keyword">field</a>
    <a id="LState.utxoSt"></a><a id="1542" href="Ledger.Dijkstra.Specification.Ledger.html#1542" class="Field">utxoSt</a>     <a id="1553" class="Symbol">:</a> <a id="1555" href="Ledger.Dijkstra.Specification.Utxo.html#560" class="Record">UTxOState</a>
    <a id="LState.govSt"></a><a id="1569" href="Ledger.Dijkstra.Specification.Ledger.html#1569" class="Field">govSt</a>      <a id="1580" class="Symbol">:</a> <a id="1582" href="Ledger.Conway.Specification.Gov.html#1401" class="Function">GovState</a>
    <a id="LState.certState"></a><a id="1595" href="Ledger.Dijkstra.Specification.Ledger.html#1595" class="Field">certState</a>  <a id="1606" class="Symbol">:</a> <a id="1608" href="Ledger.Conway.Specification.Certs.html#4152" class="Record">CertState</a>


<a id="1620" class="Keyword">record</a> <a id="HasLState"></a><a id="1627" href="Ledger.Dijkstra.Specification.Ledger.html#1627" class="Record">HasLState</a> <a id="1637" class="Symbol">{</a><a id="1638" href="Ledger.Dijkstra.Specification.Ledger.html#1638" class="Bound">a</a><a id="1639" class="Symbol">}</a> <a id="1641" class="Symbol">(</a><a id="1642" href="Ledger.Dijkstra.Specification.Ledger.html#1642" class="Bound">A</a> <a id="1644" class="Symbol">:</a> <a id="1646" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1651" href="Ledger.Dijkstra.Specification.Ledger.html#1638" class="Bound">a</a><a id="1652" class="Symbol">)</a> <a id="1654" class="Symbol">:</a> <a id="1656" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1661" href="Ledger.Dijkstra.Specification.Ledger.html#1638" class="Bound">a</a> <a id="1663" class="Keyword">where</a>
  <a id="1671" class="Keyword">field</a> <a id="HasLState.LStateOf"></a><a id="1677" href="Ledger.Dijkstra.Specification.Ledger.html#1677" class="Field">LStateOf</a> <a id="1686" class="Symbol">:</a> <a id="1688" href="Ledger.Dijkstra.Specification.Ledger.html#1642" class="Bound">A</a> <a id="1690" class="Symbol">→</a> <a id="1692" href="Ledger.Dijkstra.Specification.Ledger.html#1483" class="Record">LState</a>
<a id="1699" class="Keyword">open</a> <a id="1704" href="Ledger.Dijkstra.Specification.Ledger.html#1627" class="Module">HasLState</a> <a id="1714" class="Symbol">⦃...⦄</a> <a id="1720" class="Keyword">public</a>

<a id="1728" class="Comment">-- instance</a>
<a id="1740" class="Comment">--   HasUTxOState-LState : HasUTxOState LState</a>
<a id="1787" class="Comment">--   HasUTxOState-LState .UTxOStateOf = LState.utxoSt</a>

<a id="1842" class="Comment">--   HasUTxO-LState : HasUTxO LState</a>
<a id="1879" class="Comment">--   HasUTxO-LState .UTxOOf = UTxOOf ∘ UTxOStateOf</a>

<a id="1931" class="Comment">--   HasGovState-LState : HasGovState LState</a>
<a id="1976" class="Comment">--   HasGovState-LState .GovStateOf = LState.govSt</a>

<a id="2028" class="Comment">--   HasCertState-LState : HasCertState LState</a>
<a id="2075" class="Comment">--   HasCertState-LState .CertStateOf = LState.certState</a>

<a id="2133" class="Comment">--   HasDeposits-LState : HasDeposits LState</a>
<a id="2178" class="Comment">--   HasDeposits-LState .DepositsOf = DepositsOf ∘ UTxOStateOf</a>

<a id="2242" class="Comment">--   HasPools-LState : HasPools LState</a>
<a id="2281" class="Comment">--   HasPools-LState .PoolsOf = PoolsOf ∘ CertStateOf</a>

<a id="2336" class="Comment">--   HasGState-LState : HasGState LState</a>
<a id="2377" class="Comment">--   HasGState-LState .GStateOf = GStateOf ∘ CertStateOf</a>

<a id="2435" class="Comment">--   HasDState-LState : HasDState LState</a>
<a id="2476" class="Comment">--   HasDState-LState .DStateOf = DStateOf ∘ CertStateOf</a>

<a id="2534" class="Comment">--   HasPState-LState : HasPState LState</a>
<a id="2575" class="Comment">--   HasPState-LState .PStateOf = PStateOf ∘ CertStateOf</a>

<a id="2633" class="Comment">--   HasVoteDelegs-LState : HasVoteDelegs LState</a>
<a id="2682" class="Comment">--   HasVoteDelegs-LState .VoteDelegsOf = VoteDelegsOf ∘ DStateOf ∘ CertStateOf</a>

<a id="2763" class="Comment">--   HasDonations-LState : HasDonations LState</a>
<a id="2810" class="Comment">--   HasDonations-LState .DonationsOf = DonationsOf ∘ UTxOStateOf</a>

<a id="2877" class="Comment">--   HasFees-LState : HasFees LState</a>
<a id="2914" class="Comment">--   HasFees-LState .FeesOf = FeesOf ∘ UTxOStateOf</a>

<a id="2966" class="Comment">--   HasCCHotKeys-LState : HasCCHotKeys LState</a>
<a id="3013" class="Comment">--   HasCCHotKeys-LState .CCHotKeysOf = CCHotKeysOf ∘ GStateOf</a>

<a id="3077" class="Comment">--   HasDReps-LState : HasDReps LState</a>
<a id="3116" class="Comment">--   HasDReps-LState .DRepsOf = DRepsOf ∘ CertStateOf</a>

<a id="3171" class="Comment">-- open CertState</a>
<a id="3189" class="Comment">-- open DState</a>
<a id="3204" class="Comment">-- open GovVotes</a>

<a id="3222" class="Keyword">instance</a>
  <a id="3233" class="Keyword">unquoteDecl</a> <a id="HasCast-LState"></a><a id="3245" href="Ledger.Dijkstra.Specification.Ledger.html#3245" class="Function">HasCast-LState</a> <a id="3260" class="Symbol">=</a> <a id="3262" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="3281" class="Symbol">((</a><a id="3283" class="Keyword">quote</a> <a id="3289" href="Ledger.Dijkstra.Specification.Ledger.html#1483" class="Record">LState</a> <a id="3296" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3298" href="Ledger.Dijkstra.Specification.Ledger.html#3245" class="Function">HasCast-LState</a><a id="3312" class="Symbol">)</a> <a id="3314" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3316" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3318" class="Symbol">)</a>


<a id="txgov"></a><a id="3322" href="Ledger.Dijkstra.Specification.Ledger.html#3322" class="Function">txgov</a> <a id="3328" class="Symbol">:</a> <a id="3330" class="Symbol">∀</a> <a id="3332" class="Symbol">{</a><a id="3333" href="Ledger.Dijkstra.Specification.Ledger.html#3333" class="Bound">ℓ</a><a id="3334" class="Symbol">}</a> <a id="3336" class="Symbol">→</a> <a id="3338" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Record">TxBody</a> <a id="3345" href="Ledger.Dijkstra.Specification.Ledger.html#3333" class="Bound">ℓ</a> <a id="3347" class="Symbol">→</a> <a id="3349" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3354" class="Symbol">(</a><a id="3355" href="Ledger.Conway.Specification.Gov.Actions.html#2294" class="Record">GovVote</a> <a id="3363" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3365" href="Ledger.Conway.Specification.Gov.Actions.html#3603" class="Record">GovProposal</a><a id="3376" class="Symbol">)</a>
<a id="3378" href="Ledger.Dijkstra.Specification.Ledger.html#3322" class="Function">txgov</a> <a id="3384" href="Ledger.Dijkstra.Specification.Ledger.html#3384" class="Bound">txb</a> <a id="3388" class="Symbol">=</a> <a id="3390" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3394" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3399" href="Ledger.Dijkstra.Specification.Transaction.html#4332" class="Field">txGovProposals</a> <a id="3414" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="3417" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3421" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3426" href="Ledger.Dijkstra.Specification.Transaction.html#4288" class="Field">txGovVotes</a>
  <a id="3439" class="Keyword">where</a> <a id="3445" class="Keyword">open</a> <a id="3450" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Module">TxBody</a> <a id="3457" href="Ledger.Dijkstra.Specification.Ledger.html#3384" class="Bound">txb</a>

<a id="3462" class="Comment">-- rmOrphanDRepVotes : CertState → GovState → GovState</a>
<a id="3517" class="Comment">-- rmOrphanDRepVotes cs govSt = L.map (map₂ go) govSt</a>
<a id="3571" class="Comment">--   where</a>
<a id="3582" class="Comment">--    ifDRepRegistered : Credential → Type</a>
<a id="3625" class="Comment">--    ifDRepRegistered c = c ∈ dom (DRepsOf cs)</a>

<a id="3674" class="Comment">--    go : GovActionState → GovActionState</a>
<a id="3717" class="Comment">--    go gas = record gas { votes = record (gas .votes) { gvDRep = filterKeys ifDRepRegistered (gas .votes .gvDRep) } }</a>

<a id="allColdCreds"></a><a id="3838" href="Ledger.Dijkstra.Specification.Ledger.html#3838" class="Function">allColdCreds</a> <a id="3851" class="Symbol">:</a> <a id="3853" href="Ledger.Conway.Specification.Gov.html#1401" class="Function">GovState</a> <a id="3862" class="Symbol">→</a> <a id="3864" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a> <a id="3875" class="Symbol">→</a> <a id="3877" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3879" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
<a id="3890" href="Ledger.Dijkstra.Specification.Ledger.html#3838" class="Function">allColdCreds</a> <a id="3903" href="Ledger.Dijkstra.Specification.Ledger.html#3903" class="Bound">govSt</a> <a id="3909" href="Ledger.Dijkstra.Specification.Ledger.html#3909" class="Bound">es</a> <a id="3912" class="Symbol">=</a>
  <a id="3916" href="Ledger.Conway.Specification.Enact.html#1366" class="Function">ccCreds</a> <a id="3924" class="Symbol">(</a><a id="3925" href="Ledger.Dijkstra.Specification.Ledger.html#3909" class="Bound">es</a> <a id="3928" class="Symbol">.</a><a id="3929" href="Ledger.Conway.Specification.Enact.html#484" class="Field">cc</a><a id="3931" class="Symbol">)</a> <a id="3933" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="3935" href="Axiom.Set.html#7207" class="Function">concatMapˢ</a> <a id="3946" class="Symbol">(λ</a> <a id="3949" class="Symbol">(_</a> <a id="3952" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3954" href="Ledger.Dijkstra.Specification.Ledger.html#3954" class="Bound">st</a><a id="3956" class="Symbol">)</a> <a id="3958" class="Symbol">→</a> <a id="3960" href="Ledger.Conway.Specification.Gov.Actions.html#6888" class="Function">proposedCC</a> <a id="3971" class="Symbol">(</a><a id="3972" href="Ledger.Conway.Specification.Gov.Actions.html#1649" class="Field">GovActionOf</a> <a id="3984" href="Ledger.Dijkstra.Specification.Ledger.html#3954" class="Bound">st</a><a id="3986" class="Symbol">))</a> <a id="3989" class="Symbol">(</a><a id="3990" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="3999" href="Ledger.Dijkstra.Specification.Ledger.html#3903" class="Bound">govSt</a><a id="4004" class="Symbol">)</a>


<a id="4008" class="Keyword">private</a> <a id="4016" class="Keyword">variable</a>
  <a id="4027" href="Ledger.Dijkstra.Specification.Ledger.html#4027" class="Generalizable">Γ</a>                     <a id="4049" class="Symbol">:</a> <a id="4051" href="Ledger.Dijkstra.Specification.Ledger.html#919" class="Record">LedgerEnv</a>
  <a id="4063" href="Ledger.Dijkstra.Specification.Ledger.html#4063" class="Generalizable">s</a> <a id="4065" href="Ledger.Dijkstra.Specification.Ledger.html#4065" class="Generalizable">s&#39;</a> <a id="4068" href="Ledger.Dijkstra.Specification.Ledger.html#4068" class="Generalizable">s&#39;&#39;</a>              <a id="4085" class="Symbol">:</a> <a id="4087" href="Ledger.Dijkstra.Specification.Ledger.html#1483" class="Record">LState</a>
  <a id="4096" href="Ledger.Dijkstra.Specification.Ledger.html#4096" class="Generalizable">utxoState</a> <a id="4106" href="Ledger.Dijkstra.Specification.Ledger.html#4106" class="Generalizable">utxoState&#39;</a>  <a id="4118" class="Symbol">:</a> <a id="4120" href="Ledger.Dijkstra.Specification.Utxo.html#560" class="Record">UTxOState</a>
  <a id="4132" href="Ledger.Dijkstra.Specification.Ledger.html#4132" class="Generalizable">govState</a> <a id="4141" href="Ledger.Dijkstra.Specification.Ledger.html#4141" class="Generalizable">govState&#39;</a>    <a id="4154" class="Symbol">:</a> <a id="4156" href="Ledger.Conway.Specification.Gov.html#1401" class="Function">GovState</a>
  <a id="4167" href="Ledger.Dijkstra.Specification.Ledger.html#4167" class="Generalizable">certState</a> <a id="4177" href="Ledger.Dijkstra.Specification.Ledger.html#4177" class="Generalizable">certState&#39;</a>  <a id="4189" class="Symbol">:</a> <a id="4191" href="Ledger.Conway.Specification.Certs.html#4152" class="Record">CertState</a>
  <a id="4203" href="Ledger.Dijkstra.Specification.Ledger.html#4203" class="Generalizable">stx</a>                   <a id="4225" class="Symbol">:</a> <a id="4227" href="Ledger.Dijkstra.Specification.Transaction.html#5294" class="Function">SubLevelTx</a>
  <a id="4240" href="Ledger.Dijkstra.Specification.Ledger.html#4240" class="Generalizable">slot</a>                  <a id="4262" class="Symbol">:</a> <a id="4264" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
  <a id="4271" href="Ledger.Dijkstra.Specification.Ledger.html#4271" class="Generalizable">ppolicy</a>               <a id="4293" class="Symbol">:</a> <a id="4295" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4301" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
  <a id="4314" href="Ledger.Dijkstra.Specification.Ledger.html#4314" class="Generalizable">pp</a>                    <a id="4336" class="Symbol">:</a> <a id="4338" href="Ledger.Conway.Specification.PParams.html#1689" class="Record">PParams</a>
  <a id="4348" href="Ledger.Dijkstra.Specification.Ledger.html#4348" class="Generalizable">enactState</a>            <a id="4370" class="Symbol">:</a> <a id="4372" href="Ledger.Conway.Specification.Enact.html#448" class="Record">EnactState</a>
  <a id="4385" href="Ledger.Dijkstra.Specification.Ledger.html#4385" class="Generalizable">treasury</a>              <a id="4407" class="Symbol">:</a> <a id="4409" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>
  <a id="4420" href="Ledger.Dijkstra.Specification.Ledger.html#4420" class="Generalizable">isTopLevelValid</a>       <a id="4442" class="Symbol">:</a> <a id="4444" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>


<a id="4451" class="Keyword">data</a> <a id="_⊢_⇀⦇_,SUBLEDGER⦈_"></a><a id="4456" href="Ledger.Dijkstra.Specification.Ledger.html#4456" class="Datatype Operator">_⊢_⇀⦇_,SUBLEDGER⦈_</a> <a id="4475" class="Symbol">:</a> <a id="4477" href="Ledger.Dijkstra.Specification.Ledger.html#714" class="Record">SubLedgerEnv</a> <a id="4490" class="Symbol">→</a> <a id="4492" href="Ledger.Dijkstra.Specification.Ledger.html#1483" class="Record">LState</a> <a id="4499" class="Symbol">→</a> <a id="4501" href="Ledger.Dijkstra.Specification.Transaction.html#5294" class="Function">SubLevelTx</a> <a id="4512" class="Symbol">→</a> <a id="4514" href="Ledger.Dijkstra.Specification.Ledger.html#1483" class="Record">LState</a> <a id="4521" class="Symbol">→</a> <a id="4523" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4528" class="Keyword">where</a>
  <a id="_⊢_⇀⦇_,SUBLEDGER⦈_.SUBLEDGER-V"></a><a id="4536" href="Ledger.Dijkstra.Specification.Ledger.html#4536" class="InductiveConstructor">SUBLEDGER-V</a> <a id="4548" class="Symbol">:</a>
    <a id="4554" class="Keyword">let</a>  <a id="4559" href="Ledger.Dijkstra.Specification.Ledger.html#4559" class="Bound">txb</a> <a id="4563" class="Symbol">=</a> <a id="4565" href="Ledger.Dijkstra.Specification.Ledger.html#4203" class="Generalizable">stx</a> <a id="4569" class="Symbol">.</a><a id="4570" href="Ledger.Dijkstra.Specification.Transaction.html#3544" class="Field">txBody</a>


         <a id="4588" class="Keyword">open</a> <a id="4593" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Module">TxBody</a> <a id="4600" href="Ledger.Dijkstra.Specification.Ledger.html#4559" class="Bound">txb</a>


    <a id="4610" class="Keyword">in</a>
      <a id="4619" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4621" href="Ledger.Dijkstra.Specification.Ledger.html#4420" class="Generalizable">isTopLevelValid</a> <a id="4637" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4639" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="4650" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{4654}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{4661}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4385}{\htmlId{4666}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a>  <a id="4678" href="Ledger.Dijkstra.Specification.Utxow.html#467" class="Datatype Operator">⊢</a> <a id="4680" href="Ledger.Dijkstra.Specification.Ledger.html#4096" class="Generalizable">utxoState</a> <a id="4690" href="Ledger.Dijkstra.Specification.Utxow.html#467" class="Datatype Operator">⇀⦇</a> <a id="4693" href="Ledger.Dijkstra.Specification.Ledger.html#4203" class="Generalizable">stx</a> <a id="4697" href="Ledger.Dijkstra.Specification.Utxow.html#467" class="Datatype Operator">,SUBUTXOW⦈</a> <a id="4708" href="Ledger.Dijkstra.Specification.Ledger.html#4106" class="Generalizable">utxoState&#39;</a>
      <a id="4725" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{4729}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{4735}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{4742}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#4288}{\htmlId{4747}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#4105}{\htmlId{4760}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#3838}{\htmlId{4776}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4132}{\htmlId{4789}{\htmlClass{Generalizable}{\text{govState}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4348}{\htmlId{4798}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="4811" href="Ledger.Conway.Specification.Certs.html#12345" class="Function Operator">⊢</a> <a id="4813" href="Ledger.Dijkstra.Specification.Ledger.html#4167" class="Generalizable">certState</a> <a id="4823" href="Ledger.Conway.Specification.Certs.html#12345" class="Function Operator">⇀⦇</a> <a id="4826" href="Ledger.Dijkstra.Specification.Transaction.html#4008" class="Function">txCerts</a> <a id="4834" href="Ledger.Conway.Specification.Certs.html#12345" class="Function Operator">,CERTS⦈</a> <a id="4842" href="Ledger.Dijkstra.Specification.Ledger.html#4177" class="Generalizable">certState&#39;</a>
      <a id="4859" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Transaction.html#3972}{\htmlId{4863}{\htmlClass{Function}{\text{txId}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{4870}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{4876}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{4883}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4271}{\htmlId{4888}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4348}{\htmlId{4898}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4177}{\htmlId{4911}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{4924}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{4928}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Certs.html#1733}{\htmlId{4929}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4167}{\htmlId{4939}{\htmlClass{Generalizable}{\text{certState}}}}\,\,\htmlId{4948}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="4952" href="Ledger.Conway.Specification.Gov.html#16465" class="Function Operator">⊢</a> <a id="4954" class="Comment">{- rmOrphanDRepVotes certState&#39; -}</a> <a id="4989" href="Ledger.Dijkstra.Specification.Ledger.html#4132" class="Generalizable">govState</a> <a id="4998" href="Ledger.Conway.Specification.Gov.html#16465" class="Function Operator">⇀⦇</a> <a id="5001" href="Ledger.Dijkstra.Specification.Ledger.html#3322" class="Function">txgov</a> <a id="5007" href="Ledger.Dijkstra.Specification.Ledger.html#4559" class="Bound">txb</a> <a id="5011" href="Ledger.Conway.Specification.Gov.html#16465" class="Function Operator">,GOVS⦈</a> <a id="5018" href="Ledger.Dijkstra.Specification.Ledger.html#4141" class="Generalizable">govState&#39;</a>
      <a id="5034" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{5075}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4271}{\htmlId{5082}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{5092}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4348}{\htmlId{5097}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4385}{\htmlId{5110}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4420}{\htmlId{5121}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \end{pmatrix}$</a> <a id="5139" href="Ledger.Dijkstra.Specification.Ledger.html#4456" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4096}{\htmlId{5143}{\htmlClass{Generalizable}{\text{utxoState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4132}{\htmlId{5155}{\htmlClass{Generalizable}{\text{govState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4167}{\htmlId{5166}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="5178" href="Ledger.Dijkstra.Specification.Ledger.html#4456" class="Datatype Operator">⇀⦇</a> <a id="5181" href="Ledger.Dijkstra.Specification.Ledger.html#4203" class="Generalizable">stx</a> <a id="5185" href="Ledger.Dijkstra.Specification.Ledger.html#4456" class="Datatype Operator">,SUBLEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4106}{\htmlId{5199}{\htmlClass{Generalizable}{\text{utxoState&#39;}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4141}{\htmlId{5212}{\htmlClass{Generalizable}{\text{govState&#39;}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4177}{\htmlId{5224}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,SUBLEDGER⦈_.SUBLEDGER-I"></a><a id="5240" href="Ledger.Dijkstra.Specification.Ledger.html#5240" class="InductiveConstructor">SUBLEDGER-I</a> <a id="5252" class="Symbol">:</a>
      <a id="5260" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="5262" href="Ledger.Dijkstra.Specification.Ledger.html#4420" class="Generalizable">isTopLevelValid</a> <a id="5278" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5280" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
      <a id="5292" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{5296}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{5303}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4385}{\htmlId{5308}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="5319" href="Ledger.Dijkstra.Specification.Utxow.html#467" class="Datatype Operator">⊢</a> <a id="5321" href="Ledger.Dijkstra.Specification.Ledger.html#4096" class="Generalizable">utxoState</a> <a id="5331" href="Ledger.Dijkstra.Specification.Utxow.html#467" class="Datatype Operator">⇀⦇</a> <a id="5334" href="Ledger.Dijkstra.Specification.Ledger.html#4203" class="Generalizable">stx</a> <a id="5338" href="Ledger.Dijkstra.Specification.Utxow.html#467" class="Datatype Operator">,SUBUTXOW⦈</a> <a id="5349" href="Ledger.Dijkstra.Specification.Ledger.html#4096" class="Generalizable">utxoState</a>
      <a id="5365" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{5406}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4271}{\htmlId{5413}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{5423}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4348}{\htmlId{5428}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4385}{\htmlId{5441}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4420}{\htmlId{5452}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \end{pmatrix}$</a> <a id="5470" href="Ledger.Dijkstra.Specification.Ledger.html#4456" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4096}{\htmlId{5474}{\htmlClass{Generalizable}{\text{utxoState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4132}{\htmlId{5486}{\htmlClass{Generalizable}{\text{govState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4167}{\htmlId{5497}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="5509" href="Ledger.Dijkstra.Specification.Ledger.html#4456" class="Datatype Operator">⇀⦇</a> <a id="5512" href="Ledger.Dijkstra.Specification.Ledger.html#4203" class="Generalizable">stx</a> <a id="5516" href="Ledger.Dijkstra.Specification.Ledger.html#4456" class="Datatype Operator">,SUBLEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4096}{\htmlId{5530}{\htmlClass{Generalizable}{\text{utxoState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4132}{\htmlId{5542}{\htmlClass{Generalizable}{\text{govState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4167}{\htmlId{5553}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a>

<a id="_⊢_⇀⦇_,SUBLEDGERS⦈_"></a><a id="5566" href="Ledger.Dijkstra.Specification.Ledger.html#5566" class="Function Operator">_⊢_⇀⦇_,SUBLEDGERS⦈_</a> <a id="5586" class="Symbol">:</a> <a id="5588" href="Ledger.Dijkstra.Specification.Ledger.html#714" class="Record">SubLedgerEnv</a> <a id="5601" class="Symbol">→</a> <a id="5603" href="Ledger.Dijkstra.Specification.Ledger.html#1483" class="Record">LState</a> <a id="5610" class="Symbol">→</a> <a id="5612" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5617" href="Ledger.Dijkstra.Specification.Transaction.html#5294" class="Function">SubLevelTx</a> <a id="5628" class="Symbol">→</a> <a id="5630" href="Ledger.Dijkstra.Specification.Ledger.html#1483" class="Record">LState</a> <a id="5637" class="Symbol">→</a> <a id="5639" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="5644" href="Ledger.Dijkstra.Specification.Ledger.html#5566" class="Function Operator">_⊢_⇀⦇_,SUBLEDGERS⦈_</a> <a id="5664" class="Symbol">=</a> <a id="5666" href="Interface.STS.html#2048" class="Function">ReflexiveTransitiveClosure</a> <a id="5693" class="Symbol">{</a><a id="5694" class="Argument">sts</a> <a id="5698" class="Symbol">=</a> <a id="5700" href="Ledger.Dijkstra.Specification.Ledger.html#4456" class="Datatype Operator">_⊢_⇀⦇_,SUBLEDGER⦈_</a><a id="5718" class="Symbol">}</a>


<a id="5722" class="Keyword">private</a> <a id="5730" class="Keyword">variable</a>
  <a id="5741" href="Ledger.Dijkstra.Specification.Ledger.html#5741" class="Generalizable">utxoState&#39;&#39;</a> <a id="5753" class="Symbol">:</a> <a id="5755" href="Ledger.Dijkstra.Specification.Utxo.html#560" class="Record">UTxOState</a>
  <a id="5767" href="Ledger.Dijkstra.Specification.Ledger.html#5767" class="Generalizable">govState&#39;&#39;</a>  <a id="5779" class="Symbol">:</a> <a id="5781" href="Ledger.Conway.Specification.Gov.html#1401" class="Function">GovState</a>
  <a id="5792" href="Ledger.Dijkstra.Specification.Ledger.html#5792" class="Generalizable">certState&#39;&#39;</a> <a id="5804" class="Symbol">:</a> <a id="5806" href="Ledger.Conway.Specification.Certs.html#4152" class="Record">CertState</a>
  <a id="5818" href="Ledger.Dijkstra.Specification.Ledger.html#5818" class="Generalizable">tx</a>          <a id="5830" class="Symbol">:</a> <a id="5832" href="Ledger.Dijkstra.Specification.Transaction.html#5244" class="Function">TopLevelTx</a>


<a id="5845" class="Keyword">data</a> <a id="_⊢_⇀⦇_,LEDGER⦈_"></a><a id="5850" href="Ledger.Dijkstra.Specification.Ledger.html#5850" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="5866" class="Symbol">:</a> <a id="5868" href="Ledger.Dijkstra.Specification.Ledger.html#919" class="Record">LedgerEnv</a> <a id="5878" class="Symbol">→</a> <a id="5880" href="Ledger.Dijkstra.Specification.Ledger.html#1483" class="Record">LState</a> <a id="5887" class="Symbol">→</a> <a id="5889" href="Ledger.Dijkstra.Specification.Transaction.html#5244" class="Function">TopLevelTx</a> <a id="5900" class="Symbol">→</a> <a id="5902" href="Ledger.Dijkstra.Specification.Ledger.html#1483" class="Record">LState</a> <a id="5909" class="Symbol">→</a> <a id="5911" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5916" class="Keyword">where</a>
  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-V"></a><a id="5924" href="Ledger.Dijkstra.Specification.Ledger.html#5924" class="InductiveConstructor">LEDGER-V</a> <a id="5933" class="Symbol">:</a>
    <a id="5939" class="Keyword">let</a>  <a id="5944" href="Ledger.Dijkstra.Specification.Ledger.html#5944" class="Bound">txb</a> <a id="5948" class="Symbol">=</a> <a id="5950" href="Ledger.Dijkstra.Specification.Ledger.html#5818" class="Generalizable">tx</a> <a id="5953" class="Symbol">.</a><a id="5954" href="Ledger.Dijkstra.Specification.Transaction.html#3544" class="Field">txBody</a>


         <a id="5972" class="Keyword">open</a> <a id="5977" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Module">TxBody</a> <a id="5984" href="Ledger.Dijkstra.Specification.Ledger.html#5944" class="Bound">txb</a>


    <a id="5994" class="Keyword">in</a>
      <a id="6003" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="6005" href="Ledger.Dijkstra.Specification.Transaction.html#3625" class="Field">isValid</a> <a id="6013" href="Ledger.Dijkstra.Specification.Ledger.html#5818" class="Generalizable">tx</a> <a id="6016" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6018" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="6029" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{6033}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4271}{\htmlId{6040}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{6050}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4348}{\htmlId{6055}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4385}{\htmlId{6068}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#3625}{\htmlId{6079}{\htmlClass{Field}{\text{isValid}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5818}{\htmlId{6087}{\htmlClass{Generalizable}{\text{tx}}}}\, \end{pmatrix}$</a> <a id="6092" href="Ledger.Dijkstra.Specification.Ledger.html#5566" class="Function Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4096}{\htmlId{6096}{\htmlClass{Generalizable}{\text{utxoState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4132}{\htmlId{6108}{\htmlClass{Generalizable}{\text{govState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4167}{\htmlId{6119}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="6131" href="Ledger.Dijkstra.Specification.Ledger.html#5566" class="Function Operator">⇀⦇</a> <a id="6134" href="Ledger.Dijkstra.Specification.Transaction.html#4583" class="Function">txSubTransactions</a> <a id="6152" href="Ledger.Dijkstra.Specification.Ledger.html#5566" class="Function Operator">,SUBLEDGERS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4106}{\htmlId{6167}{\htmlClass{Generalizable}{\text{utxoState&#39;}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4141}{\htmlId{6180}{\htmlClass{Generalizable}{\text{govState&#39;}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4177}{\htmlId{6192}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \end{pmatrix}$</a>
      <a id="6211" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{6215}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{6222}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4385}{\htmlId{6227}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a>  <a id="6239" href="Ledger.Dijkstra.Specification.Utxow.html#669" class="Datatype Operator">⊢</a> <a id="6241" href="Ledger.Dijkstra.Specification.Ledger.html#4106" class="Generalizable">utxoState&#39;</a> <a id="6252" href="Ledger.Dijkstra.Specification.Utxow.html#669" class="Datatype Operator">⇀⦇</a> <a id="6255" href="Ledger.Dijkstra.Specification.Ledger.html#5818" class="Generalizable">tx</a> <a id="6258" href="Ledger.Dijkstra.Specification.Utxow.html#669" class="Datatype Operator">,UTXOW⦈</a> <a id="6266" href="Ledger.Dijkstra.Specification.Ledger.html#5741" class="Generalizable">utxoState&#39;&#39;</a>
      <a id="6284" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{6288}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{6294}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{6301}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#4288}{\htmlId{6306}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#4105}{\htmlId{6319}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#3838}{\htmlId{6335}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4132}{\htmlId{6348}{\htmlClass{Generalizable}{\text{govState}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4348}{\htmlId{6357}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="6370" href="Ledger.Conway.Specification.Certs.html#12345" class="Function Operator">⊢</a> <a id="6372" href="Ledger.Dijkstra.Specification.Ledger.html#4177" class="Generalizable">certState&#39;</a> <a id="6383" href="Ledger.Conway.Specification.Certs.html#12345" class="Function Operator">⇀⦇</a> <a id="6386" href="Ledger.Dijkstra.Specification.Transaction.html#4008" class="Function">txCerts</a> <a id="6394" href="Ledger.Conway.Specification.Certs.html#12345" class="Function Operator">,CERTS⦈</a> <a id="6402" href="Ledger.Dijkstra.Specification.Ledger.html#5792" class="Generalizable">certState&#39;&#39;</a>
      <a id="6420" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Transaction.html#3972}{\htmlId{6424}{\htmlClass{Function}{\text{txId}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{6431}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{6437}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{6444}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4271}{\htmlId{6449}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4348}{\htmlId{6459}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4177}{\htmlId{6472}{\htmlClass{Generalizable}{\text{certState&#39;}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{6485}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{6489}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Certs.html#1733}{\htmlId{6490}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4167}{\htmlId{6500}{\htmlClass{Generalizable}{\text{certState}}}}\,\,\htmlId{6509}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="6513" href="Ledger.Conway.Specification.Gov.html#16465" class="Function Operator">⊢</a> <a id="6515" class="Comment">{- rmOrphanDRepVotes certState&#39; -}</a> <a id="6550" href="Ledger.Dijkstra.Specification.Ledger.html#4132" class="Generalizable">govState</a> <a id="6559" href="Ledger.Conway.Specification.Gov.html#16465" class="Function Operator">⇀⦇</a> <a id="6562" href="Ledger.Dijkstra.Specification.Ledger.html#3322" class="Function">txgov</a> <a id="6568" href="Ledger.Dijkstra.Specification.Ledger.html#5944" class="Bound">txb</a> <a id="6572" href="Ledger.Conway.Specification.Gov.html#16465" class="Function Operator">,GOVS⦈</a> <a id="6579" href="Ledger.Dijkstra.Specification.Ledger.html#4141" class="Generalizable">govState&#39;</a>
      <a id="6595" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{6636}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4271}{\htmlId{6643}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{6653}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4348}{\htmlId{6658}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4385}{\htmlId{6671}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="6682" href="Ledger.Dijkstra.Specification.Ledger.html#5850" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4096}{\htmlId{6686}{\htmlClass{Generalizable}{\text{utxoState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4132}{\htmlId{6698}{\htmlClass{Generalizable}{\text{govState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4167}{\htmlId{6709}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="6721" href="Ledger.Dijkstra.Specification.Ledger.html#5850" class="Datatype Operator">⇀⦇</a> <a id="6724" href="Ledger.Dijkstra.Specification.Ledger.html#5818" class="Generalizable">tx</a> <a id="6727" href="Ledger.Dijkstra.Specification.Ledger.html#5850" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5741}{\htmlId{6738}{\htmlClass{Generalizable}{\text{utxoState&#39;&#39;}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5767}{\htmlId{6752}{\htmlClass{Generalizable}{\text{govState&#39;&#39;}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5792}{\htmlId{6765}{\htmlClass{Generalizable}{\text{certState&#39;&#39;}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-I"></a><a id="6782" href="Ledger.Dijkstra.Specification.Ledger.html#6782" class="InductiveConstructor">LEDGER-I</a> <a id="6791" class="Symbol">:</a>
    <a id="6797" class="Keyword">let</a>  <a id="6802" href="Ledger.Dijkstra.Specification.Ledger.html#6802" class="Bound">txb</a> <a id="6806" class="Symbol">=</a> <a id="6808" href="Ledger.Dijkstra.Specification.Ledger.html#5818" class="Generalizable">tx</a> <a id="6811" class="Symbol">.</a><a id="6812" href="Ledger.Dijkstra.Specification.Transaction.html#3544" class="Field">txBody</a>


         <a id="6830" class="Keyword">open</a> <a id="6835" href="Ledger.Dijkstra.Specification.Transaction.html#3719" class="Module">TxBody</a> <a id="6842" href="Ledger.Dijkstra.Specification.Ledger.html#6802" class="Bound">txb</a>


    <a id="6852" class="Keyword">in</a>
      <a id="6861" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="6863" href="Ledger.Dijkstra.Specification.Transaction.html#3625" class="Field">isValid</a> <a id="6871" href="Ledger.Dijkstra.Specification.Ledger.html#5818" class="Generalizable">tx</a> <a id="6874" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6876" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
      <a id="6888" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{6892}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4271}{\htmlId{6899}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{6909}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4348}{\htmlId{6914}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4385}{\htmlId{6927}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#3625}{\htmlId{6938}{\htmlClass{Field}{\text{isValid}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5818}{\htmlId{6946}{\htmlClass{Generalizable}{\text{tx}}}}\, \end{pmatrix}$</a> <a id="6951" href="Ledger.Dijkstra.Specification.Ledger.html#5566" class="Function Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4096}{\htmlId{6955}{\htmlClass{Generalizable}{\text{utxoState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4132}{\htmlId{6967}{\htmlClass{Generalizable}{\text{govState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4167}{\htmlId{6978}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="6990" href="Ledger.Dijkstra.Specification.Ledger.html#5566" class="Function Operator">⇀⦇</a> <a id="6993" href="Ledger.Dijkstra.Specification.Transaction.html#4583" class="Function">txSubTransactions</a>  <a id="7012" href="Ledger.Dijkstra.Specification.Ledger.html#5566" class="Function Operator">,SUBLEDGERS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4096}{\htmlId{7027}{\htmlClass{Generalizable}{\text{utxoState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4132}{\htmlId{7039}{\htmlClass{Generalizable}{\text{govState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4167}{\htmlId{7050}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a>
      <a id="7068" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{7072}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{7079}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4385}{\htmlId{7084}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="7095" href="Ledger.Dijkstra.Specification.Utxow.html#669" class="Datatype Operator">⊢</a> <a id="7097" href="Ledger.Dijkstra.Specification.Ledger.html#4096" class="Generalizable">utxoState</a> <a id="7107" href="Ledger.Dijkstra.Specification.Utxow.html#669" class="Datatype Operator">⇀⦇</a> <a id="7110" href="Ledger.Dijkstra.Specification.Ledger.html#5818" class="Generalizable">tx</a> <a id="7113" href="Ledger.Dijkstra.Specification.Utxow.html#669" class="Datatype Operator">,UTXOW⦈</a> <a id="7121" href="Ledger.Dijkstra.Specification.Ledger.html#4106" class="Generalizable">utxoState&#39;</a>
      <a id="7138" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4240}{\htmlId{7179}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4271}{\htmlId{7186}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4314}{\htmlId{7196}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4348}{\htmlId{7201}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4385}{\htmlId{7214}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="7225" href="Ledger.Dijkstra.Specification.Ledger.html#5850" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4096}{\htmlId{7229}{\htmlClass{Generalizable}{\text{utxoState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4132}{\htmlId{7241}{\htmlClass{Generalizable}{\text{govState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4167}{\htmlId{7252}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a> <a id="7264" href="Ledger.Dijkstra.Specification.Ledger.html#5850" class="Datatype Operator">⇀⦇</a> <a id="7267" href="Ledger.Dijkstra.Specification.Ledger.html#5818" class="Generalizable">tx</a> <a id="7270" href="Ledger.Dijkstra.Specification.Ledger.html#5850" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4106}{\htmlId{7281}{\htmlClass{Generalizable}{\text{utxoState&#39;}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4132}{\htmlId{7294}{\htmlClass{Generalizable}{\text{govState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4167}{\htmlId{7305}{\htmlClass{Generalizable}{\text{certState}}}}\, \end{pmatrix}$</a>

</pre></body></html>