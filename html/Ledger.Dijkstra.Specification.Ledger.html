<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Dijkstra.Specification.Ledger</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">import</a> <a id="33" href="Data.List.html" class="Module">Data.List</a> <a id="43" class="Symbol">as</a> <a id="46" class="Module">L</a>

<a id="49" class="Keyword">open</a> <a id="54" class="Keyword">import</a> <a id="61" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="76" class="Keyword">open</a> <a id="81" class="Keyword">import</a> <a id="88" href="Ledger.Dijkstra.Specification.Abstract.html" class="Module">Ledger.Dijkstra.Specification.Abstract</a>
<a id="127" class="Keyword">open</a> <a id="132" class="Keyword">import</a> <a id="139" href="Ledger.Dijkstra.Specification.Transaction.html" class="Module">Ledger.Dijkstra.Specification.Transaction</a> <a id="181" class="Keyword">using</a> <a id="187" class="Symbol">(</a><a id="188" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Record">TransactionStructure</a><a id="208" class="Symbol">)</a>

<a id="211" class="Keyword">module</a> <a id="218" href="Ledger.Dijkstra.Specification.Ledger.html" class="Module">Ledger.Dijkstra.Specification.Ledger</a>
  <a id="257" class="Symbol">(</a><a id="258" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a> <a id="262" class="Symbol">:</a> <a id="264" class="Symbol">_)</a> <a id="267" class="Symbol">(</a><a id="268" class="Keyword">open</a> <a id="273" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Module">TransactionStructure</a> <a id="294" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a><a id="297" class="Symbol">)</a>
  <a id="301" class="Symbol">(</a><a id="302" href="Ledger.Dijkstra.Specification.Ledger.html#302" class="Bound">abs</a> <a id="306" class="Symbol">:</a> <a id="308" href="Ledger.Dijkstra.Specification.Abstract.html#912" class="Record">AbstractFunctions</a> <a id="326" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a><a id="329" class="Symbol">)</a> <a id="331" class="Symbol">(</a><a id="332" class="Keyword">open</a> <a id="337" href="Ledger.Dijkstra.Specification.Abstract.html#912" class="Module">AbstractFunctions</a> <a id="355" href="Ledger.Dijkstra.Specification.Ledger.html#302" class="Bound">abs</a><a id="358" class="Symbol">)</a>
  <a id="362" class="Keyword">where</a>

<a id="369" class="Keyword">open</a> <a id="374" class="Keyword">import</a> <a id="381" href="Ledger.Dijkstra.Specification.Enact.html" class="Module">Ledger.Dijkstra.Specification.Enact</a> <a id="417" href="Ledger.Dijkstra.Specification.Transaction.html#2505" class="Function">govStructure</a>
<a id="430" class="Keyword">open</a> <a id="435" class="Keyword">import</a> <a id="442" href="Ledger.Dijkstra.Specification.Gov.html" class="Module">Ledger.Dijkstra.Specification.Gov</a> <a id="476" href="Ledger.Dijkstra.Specification.Transaction.html#2505" class="Function">govStructure</a>
<a id="489" class="Keyword">open</a> <a id="494" class="Keyword">import</a> <a id="501" href="Ledger.Dijkstra.Specification.Utxo.html" class="Module">Ledger.Dijkstra.Specification.Utxo</a> <a id="536" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a> <a id="540" href="Ledger.Dijkstra.Specification.Ledger.html#302" class="Bound">abs</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Ledger.Dijkstra.Specification.Utxow.html" class="Module">Ledger.Dijkstra.Specification.Utxow</a> <a id="592" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a> <a id="596" href="Ledger.Dijkstra.Specification.Ledger.html#302" class="Bound">abs</a>
<a id="600" class="Keyword">open</a> <a id="605" class="Keyword">import</a> <a id="612" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a> <a id="648" href="Ledger.Dijkstra.Specification.Transaction.html#2505" class="Function">govStructure</a>

<a id="662" class="Keyword">open</a> <a id="667" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Module">EnactState</a> <a id="678" class="Keyword">using</a> <a id="684" class="Symbol">(</a><a id="685" href="Ledger.Dijkstra.Specification.Enact.html#618" class="Field">cc</a><a id="687" class="Symbol">)</a>


<a id="691" class="Keyword">record</a> <a id="SubLedgerEnv"></a><a id="698" href="Ledger.Dijkstra.Specification.Ledger.html#698" class="Record">SubLedgerEnv</a> <a id="711" class="Symbol">:</a> <a id="713" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="718" class="Keyword">where</a>
  <a id="726" class="Keyword">field</a>
    <a id="SubLedgerEnv.slot"></a><a id="736" href="Ledger.Dijkstra.Specification.Ledger.html#736" class="Field">slot</a>             <a id="753" class="Symbol">:</a> <a id="755" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
    <a id="SubLedgerEnv.ppolicy"></a><a id="764" href="Ledger.Dijkstra.Specification.Ledger.html#764" class="Field">ppolicy</a>          <a id="781" class="Symbol">:</a> <a id="783" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="789" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="SubLedgerEnv.pparams"></a><a id="804" href="Ledger.Dijkstra.Specification.Ledger.html#804" class="Field">pparams</a>          <a id="821" class="Symbol">:</a> <a id="823" href="Ledger.Dijkstra.Specification.PParams.html#1960" class="Record">PParams</a>
    <a id="SubLedgerEnv.enactState"></a><a id="835" href="Ledger.Dijkstra.Specification.Ledger.html#835" class="Field">enactState</a>       <a id="852" class="Symbol">:</a> <a id="854" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a>
    <a id="SubLedgerEnv.treasury"></a><a id="869" href="Ledger.Dijkstra.Specification.Ledger.html#869" class="Field">treasury</a>         <a id="886" class="Symbol">:</a> <a id="888" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>
    <a id="SubLedgerEnv.utxo₀"></a><a id="901" href="Ledger.Dijkstra.Specification.Ledger.html#901" class="Field">utxo₀</a>            <a id="918" class="Symbol">:</a> <a id="920" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a>
    <a id="SubLedgerEnv.isTopLevelValid"></a><a id="929" href="Ledger.Dijkstra.Specification.Ledger.html#929" class="Field">isTopLevelValid</a>  <a id="946" class="Symbol">:</a> <a id="948" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
    <a id="SubLedgerEnv.allScripts"></a><a id="957" href="Ledger.Dijkstra.Specification.Ledger.html#957" class="Field">allScripts</a>       <a id="974" class="Symbol">:</a> <a id="976" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="978" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
    <a id="SubLedgerEnv.allData"></a><a id="989" href="Ledger.Dijkstra.Specification.Ledger.html#989" class="Field">allData</a>          <a id="1006" class="Symbol">:</a> <a id="1008" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a> <a id="1017" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1019" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>

<a id="1026" class="Keyword">record</a> <a id="LedgerEnv"></a><a id="1033" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a> <a id="1043" class="Symbol">:</a> <a id="1045" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1050" class="Keyword">where</a>
  <a id="1058" class="Keyword">field</a>
    <a id="LedgerEnv.slot"></a><a id="1068" href="Ledger.Dijkstra.Specification.Ledger.html#1068" class="Field">slot</a>        <a id="1080" class="Symbol">:</a> <a id="1082" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
    <a id="LedgerEnv.ppolicy"></a><a id="1091" href="Ledger.Dijkstra.Specification.Ledger.html#1091" class="Field">ppolicy</a>     <a id="1103" class="Symbol">:</a> <a id="1105" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1111" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="LedgerEnv.pparams"></a><a id="1126" href="Ledger.Dijkstra.Specification.Ledger.html#1126" class="Field">pparams</a>     <a id="1138" class="Symbol">:</a> <a id="1140" href="Ledger.Dijkstra.Specification.PParams.html#1960" class="Record">PParams</a>
    <a id="LedgerEnv.enactState"></a><a id="1152" href="Ledger.Dijkstra.Specification.Ledger.html#1152" class="Field">enactState</a>  <a id="1164" class="Symbol">:</a> <a id="1166" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a>
    <a id="LedgerEnv.treasury"></a><a id="1181" href="Ledger.Dijkstra.Specification.Ledger.html#1181" class="Field">treasury</a>    <a id="1193" class="Symbol">:</a> <a id="1195" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="1206" class="Keyword">instance</a>
  <a id="1217" class="Keyword">unquoteDecl</a> <a id="HasCast-LedgerEnv"></a><a id="1229" href="Ledger.Dijkstra.Specification.Ledger.html#1229" class="Function">HasCast-LedgerEnv</a> <a id="HasCast-SubLedgerEnv"></a><a id="1247" href="Ledger.Dijkstra.Specification.Ledger.html#1247" class="Function">HasCast-SubLedgerEnv</a> <a id="1268" class="Symbol">=</a> <a id="1270" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="1289" class="Symbol">((</a><a id="1291" class="Keyword">quote</a> <a id="1297" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a> <a id="1307" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1309" href="Ledger.Dijkstra.Specification.Ledger.html#1229" class="Function">HasCast-LedgerEnv</a><a id="1326" class="Symbol">)</a> <a id="1328" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1330" class="Symbol">(</a><a id="1331" class="Keyword">quote</a> <a id="1337" href="Ledger.Dijkstra.Specification.Ledger.html#698" class="Record">SubLedgerEnv</a> <a id="1350" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1352" href="Ledger.Dijkstra.Specification.Ledger.html#1247" class="Function">HasCast-SubLedgerEnv</a><a id="1372" class="Symbol">)</a> <a id="1374" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1376" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1378" class="Symbol">)</a>

  <a id="HasPParams-LedgerEnv"></a><a id="1383" href="Ledger.Dijkstra.Specification.Ledger.html#1383" class="Function">HasPParams-LedgerEnv</a> <a id="1404" class="Symbol">:</a> <a id="1406" href="Ledger.Dijkstra.Specification.PParams.html#4403" class="Record">HasPParams</a> <a id="1417" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a>
  <a id="1429" href="Ledger.Dijkstra.Specification.Ledger.html#1383" class="Function">HasPParams-LedgerEnv</a> <a id="1450" class="Symbol">.</a><a id="1451" href="Ledger.Dijkstra.Specification.PParams.html#4454" class="Field">PParamsOf</a> <a id="1461" class="Symbol">=</a> <a id="1463" href="Ledger.Dijkstra.Specification.Ledger.html#1126" class="Field">LedgerEnv.pparams</a>

  <a id="HasPParams-SubLedgerEnv"></a><a id="1484" href="Ledger.Dijkstra.Specification.Ledger.html#1484" class="Function">HasPParams-SubLedgerEnv</a> <a id="1508" class="Symbol">:</a> <a id="1510" href="Ledger.Dijkstra.Specification.PParams.html#4403" class="Record">HasPParams</a> <a id="1521" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a>
  <a id="1533" href="Ledger.Dijkstra.Specification.Ledger.html#1484" class="Function">HasPParams-SubLedgerEnv</a> <a id="1557" class="Symbol">.</a><a id="1558" href="Ledger.Dijkstra.Specification.PParams.html#4454" class="Field">PParamsOf</a> <a id="1568" class="Symbol">=</a> <a id="1570" href="Ledger.Dijkstra.Specification.Ledger.html#1126" class="Field">LedgerEnv.pparams</a>


<a id="1590" class="Keyword">record</a> <a id="LState"></a><a id="1597" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="1604" class="Symbol">:</a> <a id="1606" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1611" class="Keyword">where</a>


  <a id="1621" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ˡ"></a><a id="1633" href="Ledger.Dijkstra.Specification.Ledger.html#1633" class="InductiveConstructor Operator">⟦_,_,_⟧ˡ</a>


  <a id="1646" class="Keyword">field</a>
    <a id="LState.utxoSt"></a><a id="1656" href="Ledger.Dijkstra.Specification.Ledger.html#1656" class="Field">utxoSt</a>     <a id="1667" class="Symbol">:</a> <a id="1669" href="Ledger.Dijkstra.Specification.Utxo.html#1633" class="Record">UTxOState</a>
    <a id="LState.govSt"></a><a id="1683" href="Ledger.Dijkstra.Specification.Ledger.html#1683" class="Field">govSt</a>      <a id="1694" class="Symbol">:</a> <a id="1696" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
    <a id="LState.certState"></a><a id="1709" href="Ledger.Dijkstra.Specification.Ledger.html#1709" class="Field">certState</a>  <a id="1720" class="Symbol">:</a> <a id="1722" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a>


<a id="1734" class="Keyword">record</a> <a id="HasLState"></a><a id="1741" href="Ledger.Dijkstra.Specification.Ledger.html#1741" class="Record">HasLState</a> <a id="1751" class="Symbol">{</a><a id="1752" href="Ledger.Dijkstra.Specification.Ledger.html#1752" class="Bound">a</a><a id="1753" class="Symbol">}</a> <a id="1755" class="Symbol">(</a><a id="1756" href="Ledger.Dijkstra.Specification.Ledger.html#1756" class="Bound">A</a> <a id="1758" class="Symbol">:</a> <a id="1760" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1765" href="Ledger.Dijkstra.Specification.Ledger.html#1752" class="Bound">a</a><a id="1766" class="Symbol">)</a> <a id="1768" class="Symbol">:</a> <a id="1770" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1775" href="Ledger.Dijkstra.Specification.Ledger.html#1752" class="Bound">a</a> <a id="1777" class="Keyword">where</a>
  <a id="1785" class="Keyword">field</a> <a id="HasLState.LStateOf"></a><a id="1791" href="Ledger.Dijkstra.Specification.Ledger.html#1791" class="Field">LStateOf</a> <a id="1800" class="Symbol">:</a> <a id="1802" href="Ledger.Dijkstra.Specification.Ledger.html#1756" class="Bound">A</a> <a id="1804" class="Symbol">→</a> <a id="1806" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a>
<a id="1813" class="Keyword">open</a> <a id="1818" href="Ledger.Dijkstra.Specification.Ledger.html#1741" class="Module">HasLState</a> <a id="1828" class="Symbol">⦃...⦄</a> <a id="1834" class="Keyword">public</a>

<a id="1842" class="Comment">-- instance</a>
<a id="1854" class="Comment">--   HasUTxOState-LState : HasUTxOState LState</a>
<a id="1901" class="Comment">--   HasUTxOState-LState .UTxOStateOf = LState.utxoSt</a>

<a id="1956" class="Comment">--   HasUTxO-LState : HasUTxO LState</a>
<a id="1993" class="Comment">--   HasUTxO-LState .UTxOOf = UTxOOf ∘ UTxOStateOf</a>

<a id="2045" class="Comment">--   HasGovState-LState : HasGovState LState</a>
<a id="2090" class="Comment">--   HasGovState-LState .GovStateOf = LState.govSt</a>

<a id="2142" class="Comment">--   HasCertState-LState : HasCertState LState</a>
<a id="2189" class="Comment">--   HasCertState-LState .CertStateOf = LState.certState</a>

<a id="2247" class="Comment">--   HasDeposits-LState : HasDeposits LState</a>
<a id="2292" class="Comment">--   HasDeposits-LState .DepositsOf = DepositsOf ∘ UTxOStateOf</a>

<a id="2356" class="Comment">--   HasPools-LState : HasPools LState</a>
<a id="2395" class="Comment">--   HasPools-LState .PoolsOf = PoolsOf ∘ CertStateOf</a>

<a id="2450" class="Comment">--   HasGState-LState : HasGState LState</a>
<a id="2491" class="Comment">--   HasGState-LState .GStateOf = GStateOf ∘ CertStateOf</a>

<a id="2549" class="Comment">--   HasDState-LState : HasDState LState</a>
<a id="2590" class="Comment">--   HasDState-LState .DStateOf = DStateOf ∘ CertStateOf</a>

<a id="2648" class="Comment">--   HasPState-LState : HasPState LState</a>
<a id="2689" class="Comment">--   HasPState-LState .PStateOf = PStateOf ∘ CertStateOf</a>

<a id="2747" class="Comment">--   HasVoteDelegs-LState : HasVoteDelegs LState</a>
<a id="2796" class="Comment">--   HasVoteDelegs-LState .VoteDelegsOf = VoteDelegsOf ∘ DStateOf ∘ CertStateOf</a>

<a id="2877" class="Comment">--   HasDonations-LState : HasDonations LState</a>
<a id="2924" class="Comment">--   HasDonations-LState .DonationsOf = DonationsOf ∘ UTxOStateOf</a>

<a id="2991" class="Comment">--   HasFees-LState : HasFees LState</a>
<a id="3028" class="Comment">--   HasFees-LState .FeesOf = FeesOf ∘ UTxOStateOf</a>

<a id="3080" class="Comment">--   HasCCHotKeys-LState : HasCCHotKeys LState</a>
<a id="3127" class="Comment">--   HasCCHotKeys-LState .CCHotKeysOf = CCHotKeysOf ∘ GStateOf</a>

<a id="3191" class="Comment">--   HasDReps-LState : HasDReps LState</a>
<a id="3230" class="Comment">--   HasDReps-LState .DRepsOf = DRepsOf ∘ CertStateOf</a>

<a id="3285" class="Comment">-- open CertState</a>
<a id="3303" class="Comment">-- open DState</a>
<a id="3318" class="Comment">-- open GovVotes</a>

<a id="3336" class="Keyword">instance</a>
  <a id="3347" class="Keyword">unquoteDecl</a> <a id="HasCast-LState"></a><a id="3359" href="Ledger.Dijkstra.Specification.Ledger.html#3359" class="Function">HasCast-LState</a> <a id="3374" class="Symbol">=</a> <a id="3376" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="3395" class="Symbol">((</a><a id="3397" class="Keyword">quote</a> <a id="3403" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="3410" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3412" href="Ledger.Dijkstra.Specification.Ledger.html#3359" class="Function">HasCast-LState</a><a id="3426" class="Symbol">)</a> <a id="3428" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3430" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3432" class="Symbol">)</a>


<a id="txgov"></a><a id="3436" href="Ledger.Dijkstra.Specification.Ledger.html#3436" class="Function">txgov</a> <a id="3442" class="Symbol">:</a> <a id="3444" class="Symbol">∀</a> <a id="3446" class="Symbol">{</a><a id="3447" href="Ledger.Dijkstra.Specification.Ledger.html#3447" class="Bound">ℓ</a><a id="3448" class="Symbol">}</a> <a id="3450" class="Symbol">→</a> <a id="3452" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="3459" href="Ledger.Dijkstra.Specification.Ledger.html#3447" class="Bound">ℓ</a> <a id="3461" class="Symbol">→</a> <a id="3463" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3468" class="Symbol">(</a><a id="3469" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a> <a id="3477" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3479" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a><a id="3490" class="Symbol">)</a>
<a id="3492" href="Ledger.Dijkstra.Specification.Ledger.html#3436" class="Function">txgov</a> <a id="3498" href="Ledger.Dijkstra.Specification.Ledger.html#3498" class="Bound">txb</a> <a id="3502" class="Symbol">=</a> <a id="3504" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3508" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3513" href="Ledger.Dijkstra.Specification.Transaction.html#4407" class="Field">txGovProposals</a> <a id="3528" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="3531" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3535" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3540" href="Ledger.Dijkstra.Specification.Transaction.html#4363" class="Field">txGovVotes</a>
  <a id="3553" class="Keyword">where</a> <a id="3559" class="Keyword">open</a> <a id="3564" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Module">TxBody</a> <a id="3571" href="Ledger.Dijkstra.Specification.Ledger.html#3498" class="Bound">txb</a>

<a id="GovProposals+Votes"></a><a id="3576" href="Ledger.Dijkstra.Specification.Ledger.html#3576" class="Function">GovProposals+Votes</a> <a id="3595" class="Symbol">:</a> <a id="3597" class="Symbol">∀</a> <a id="3599" class="Symbol">{</a><a id="3600" href="Ledger.Dijkstra.Specification.Ledger.html#3600" class="Bound">ℓ</a><a id="3601" class="Symbol">}</a> <a id="3603" class="Symbol">→</a> <a id="3605" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="3608" href="Ledger.Dijkstra.Specification.Ledger.html#3600" class="Bound">ℓ</a> <a id="3610" class="Symbol">→</a> <a id="3612" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3617" class="Symbol">(</a><a id="3618" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a> <a id="3626" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3628" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a><a id="3639" class="Symbol">)</a>
<a id="3641" href="Ledger.Dijkstra.Specification.Ledger.html#3576" class="Function">GovProposals+Votes</a> <a id="3660" href="Ledger.Dijkstra.Specification.Ledger.html#3660" class="Bound">tx</a> <a id="3663" class="Symbol">=</a> <a id="3665" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3669" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3674" class="Symbol">(</a><a id="3675" href="Ledger.Dijkstra.Specification.Transaction.html#7926" class="Field">ListOfGovProposalsOf</a> <a id="3696" href="Ledger.Dijkstra.Specification.Ledger.html#3660" class="Bound">tx</a><a id="3698" class="Symbol">)</a> <a id="3700" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="3703" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3707" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3712" class="Symbol">(</a><a id="3713" href="Ledger.Dijkstra.Specification.Transaction.html#8082" class="Field">ListOfGovVotesOf</a> <a id="3730" href="Ledger.Dijkstra.Specification.Ledger.html#3660" class="Bound">tx</a><a id="3732" class="Symbol">)</a>

<a id="rmOrphanDRepVotes"></a><a id="3735" href="Ledger.Dijkstra.Specification.Ledger.html#3735" class="Function">rmOrphanDRepVotes</a> <a id="3753" class="Symbol">:</a> <a id="3755" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a> <a id="3765" class="Symbol">→</a> <a id="3767" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="3776" class="Symbol">→</a> <a id="3778" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
<a id="3787" href="Ledger.Dijkstra.Specification.Ledger.html#3735" class="Function">rmOrphanDRepVotes</a> <a id="3805" href="Ledger.Dijkstra.Specification.Ledger.html#3805" class="Bound">cs</a> <a id="3808" href="Ledger.Dijkstra.Specification.Ledger.html#3808" class="Bound">govSt</a> <a id="3814" class="Symbol">=</a> <a id="3816" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="3822" class="Symbol">(</a><a id="3823" href="Class.Bifunctor.html#1152" class="Function">map₂</a> <a id="3828" href="Ledger.Dijkstra.Specification.Ledger.html#3935" class="Function">go</a><a id="3830" class="Symbol">)</a> <a id="3832" href="Ledger.Dijkstra.Specification.Ledger.html#3808" class="Bound">govSt</a>
  <a id="3840" class="Keyword">where</a>
   <a id="3849" href="Ledger.Dijkstra.Specification.Ledger.html#3849" class="Function">ifDRepRegistered</a> <a id="3866" class="Symbol">:</a> <a id="3868" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="3879" class="Symbol">→</a> <a id="3881" href="Agda.Primitive.html#388" class="Primitive">Type</a>
   <a id="3889" href="Ledger.Dijkstra.Specification.Ledger.html#3849" class="Function">ifDRepRegistered</a> <a id="3906" href="Ledger.Dijkstra.Specification.Ledger.html#3906" class="Bound">c</a> <a id="3908" class="Symbol">=</a> <a id="3910" href="Ledger.Dijkstra.Specification.Ledger.html#3906" class="Bound">c</a> <a id="3912" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="3914" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3918" class="Symbol">(</a><a id="3919" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4927" class="Field">DRepsOf</a> <a id="3927" href="Ledger.Dijkstra.Specification.Ledger.html#3805" class="Bound">cs</a><a id="3929" class="Symbol">)</a>

   <a id="3935" href="Ledger.Dijkstra.Specification.Ledger.html#3935" class="Function">go</a> <a id="3938" class="Symbol">:</a> <a id="3940" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a> <a id="3955" class="Symbol">→</a> <a id="3957" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a>
   <a id="3975" href="Ledger.Dijkstra.Specification.Ledger.html#3935" class="Function">go</a> <a id="3978" href="Ledger.Dijkstra.Specification.Ledger.html#3978" class="Bound">gas</a> <a id="3982" class="Symbol">=</a> <a id="3984" class="Keyword">record</a> <a id="3991" href="Ledger.Dijkstra.Specification.Ledger.html#3978" class="Bound">gas</a> <a id="3995" class="Symbol">{</a> <a id="3997" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3446" class="Field">votes</a> <a id="4003" class="Symbol">=</a> <a id="4005" class="Keyword">record</a> <a id="4012" class="Symbol">(</a><a id="4013" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4606" class="Field">GovVotesOf</a> <a id="4024" href="Ledger.Dijkstra.Specification.Ledger.html#3978" class="Bound">gas</a><a id="4027" class="Symbol">)</a> <a id="4029" class="Symbol">{</a> <a id="4031" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2139" class="Field">gvDRep</a> <a id="4038" class="Symbol">=</a> <a id="4040" href="abstract-set-theory.FiniteSetTheory.html#4196" class="Function">filterKeys</a> <a id="4051" href="Ledger.Dijkstra.Specification.Ledger.html#3849" class="Function">ifDRepRegistered</a> <a id="4068" class="Symbol">(</a><a id="4069" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2139" class="Field">GovVotes.gvDRep</a> <a id="4085" class="Symbol">(</a><a id="4086" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4606" class="Field">GovVotesOf</a> <a id="4097" href="Ledger.Dijkstra.Specification.Ledger.html#3978" class="Bound">gas</a><a id="4100" class="Symbol">))</a> <a id="4103" class="Symbol">}</a> <a id="4105" class="Symbol">}</a>

<a id="allColdCreds"></a><a id="4108" href="Ledger.Dijkstra.Specification.Ledger.html#4108" class="Function">allColdCreds</a> <a id="4121" class="Symbol">:</a> <a id="4123" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="4132" class="Symbol">→</a> <a id="4134" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a> <a id="4145" class="Symbol">→</a> <a id="4147" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4149" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
<a id="4160" href="Ledger.Dijkstra.Specification.Ledger.html#4108" class="Function">allColdCreds</a> <a id="4173" href="Ledger.Dijkstra.Specification.Ledger.html#4173" class="Bound">govSt</a> <a id="4179" href="Ledger.Dijkstra.Specification.Ledger.html#4179" class="Bound">es</a> <a id="4182" class="Symbol">=</a>
  <a id="4186" href="Ledger.Dijkstra.Specification.Enact.html#1500" class="Function">ccCreds</a> <a id="4194" class="Symbol">(</a><a id="4195" href="Ledger.Dijkstra.Specification.Ledger.html#4179" class="Bound">es</a> <a id="4198" class="Symbol">.</a><a id="4199" href="Ledger.Dijkstra.Specification.Enact.html#618" class="Field">cc</a><a id="4201" class="Symbol">)</a> <a id="4203" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="4205" href="Axiom.Set.html#7207" class="Function">concatMapˢ</a> <a id="4216" class="Symbol">(λ</a> <a id="4219" class="Symbol">(_</a> <a id="4222" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4224" href="Ledger.Dijkstra.Specification.Ledger.html#4224" class="Bound">st</a><a id="4226" class="Symbol">)</a> <a id="4228" class="Symbol">→</a> <a id="4230" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3914" class="Function">proposedCC</a> <a id="4241" class="Symbol">(</a><a id="4242" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4371" class="Field">GovActionOf</a> <a id="4254" href="Ledger.Dijkstra.Specification.Ledger.html#4224" class="Bound">st</a><a id="4256" class="Symbol">))</a> <a id="4259" class="Symbol">(</a><a id="4260" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="4269" href="Ledger.Dijkstra.Specification.Ledger.html#4173" class="Bound">govSt</a><a id="4274" class="Symbol">)</a>

<a id="calculateDepositsChange"></a><a id="4277" href="Ledger.Dijkstra.Specification.Ledger.html#4277" class="Function">calculateDepositsChange</a> <a id="4301" class="Symbol">:</a> <a id="4303" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a> <a id="4313" class="Symbol">→</a> <a id="4315" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a> <a id="4325" class="Symbol">→</a> <a id="4327" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a> <a id="4337" class="Symbol">→</a> <a id="4339" href="Ledger.Dijkstra.Specification.Utxo.html#1004" class="Record">DepositsChange</a>
<a id="4354" href="Ledger.Dijkstra.Specification.Ledger.html#4277" class="Function">calculateDepositsChange</a> <a id="4378" href="Ledger.Dijkstra.Specification.Ledger.html#4378" class="Bound">certState₀</a> <a id="4389" href="Ledger.Dijkstra.Specification.Ledger.html#4389" class="Bound">certState₁</a> <a id="4400" href="Ledger.Dijkstra.Specification.Ledger.html#4400" class="Bound">certState₂</a>
  <a id="4413" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4909}{\htmlId{4417}{\htmlClass{Function}{\text{coinChangeTop}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4852}{\htmlId{4433}{\htmlClass{Function}{\text{coinChangeSub}}}}\, \end{pmatrix}$</a>
  <a id="4451" class="Keyword">where</a>
    <a id="4461" href="Ledger.Dijkstra.Specification.Ledger.html#4461" class="Function">coinFromDeposit</a> <a id="4477" class="Symbol">:</a> <a id="4479" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a> <a id="4489" class="Symbol">→</a> <a id="4491" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
    <a id="4500" href="Ledger.Dijkstra.Specification.Ledger.html#4461" class="Function">coinFromDeposit</a> <a id="4516" href="Ledger.Dijkstra.Specification.Ledger.html#4516" class="Bound">certState</a> <a id="4526" class="Symbol">=</a>
      <a id="4534" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="4542" class="Symbol">(</a><a id="4543" href="Ledger.Dijkstra.Specification.Certs.html#2693" class="Field">DepositsOf</a> <a id="4554" class="Symbol">(</a><a id="4555" href="Ledger.Dijkstra.Specification.Certs.html#3493" class="Field">DStateOf</a> <a id="4564" href="Ledger.Dijkstra.Specification.Ledger.html#4516" class="Bound">certState</a><a id="4573" class="Symbol">))</a>
      <a id="4582" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4584" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="4592" class="Symbol">(</a><a id="4593" href="Ledger.Dijkstra.Specification.Certs.html#2693" class="Field">DepositsOf</a> <a id="4604" class="Symbol">(</a><a id="4605" href="Ledger.Dijkstra.Specification.Certs.html#3601" class="Field">PStateOf</a> <a id="4614" href="Ledger.Dijkstra.Specification.Ledger.html#4516" class="Bound">certState</a><a id="4623" class="Symbol">))</a>
      <a id="4632" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4634" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="4642" class="Symbol">(</a><a id="4643" href="Ledger.Dijkstra.Specification.Certs.html#2693" class="Field">DepositsOf</a> <a id="4654" class="Symbol">(</a><a id="4655" href="Ledger.Dijkstra.Specification.Certs.html#3709" class="Field">GStateOf</a> <a id="4664" href="Ledger.Dijkstra.Specification.Ledger.html#4516" class="Bound">certState</a><a id="4673" class="Symbol">))</a>

    <a id="4681" href="Ledger.Dijkstra.Specification.Ledger.html#4681" class="Function">coin₀</a> <a id="4687" class="Symbol">:</a> <a id="4689" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
    <a id="4698" href="Ledger.Dijkstra.Specification.Ledger.html#4681" class="Function">coin₀</a> <a id="4704" class="Symbol">=</a> <a id="4706" href="Ledger.Dijkstra.Specification.Ledger.html#4461" class="Function">coinFromDeposit</a> <a id="4722" href="Ledger.Dijkstra.Specification.Ledger.html#4378" class="Bound">certState₀</a>

    <a id="4738" href="Ledger.Dijkstra.Specification.Ledger.html#4738" class="Function">coin₁</a> <a id="4744" class="Symbol">:</a> <a id="4746" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
    <a id="4755" href="Ledger.Dijkstra.Specification.Ledger.html#4738" class="Function">coin₁</a> <a id="4761" class="Symbol">=</a> <a id="4763" href="Ledger.Dijkstra.Specification.Ledger.html#4461" class="Function">coinFromDeposit</a> <a id="4779" href="Ledger.Dijkstra.Specification.Ledger.html#4389" class="Bound">certState₁</a>

    <a id="4795" href="Ledger.Dijkstra.Specification.Ledger.html#4795" class="Function">coin₂</a> <a id="4801" class="Symbol">:</a> <a id="4803" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
    <a id="4812" href="Ledger.Dijkstra.Specification.Ledger.html#4795" class="Function">coin₂</a> <a id="4818" class="Symbol">=</a> <a id="4820" href="Ledger.Dijkstra.Specification.Ledger.html#4461" class="Function">coinFromDeposit</a> <a id="4836" href="Ledger.Dijkstra.Specification.Ledger.html#4400" class="Bound">certState₂</a>

    <a id="4852" href="Ledger.Dijkstra.Specification.Ledger.html#4852" class="Function">coinChangeSub</a> <a id="4866" class="Symbol">:</a> <a id="4868" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
    <a id="4874" href="Ledger.Dijkstra.Specification.Ledger.html#4852" class="Function">coinChangeSub</a> <a id="4888" class="Symbol">=</a> <a id="4890" href="Ledger.Dijkstra.Specification.Ledger.html#4738" class="Function">coin₁</a> <a id="4896" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="4898" href="Ledger.Dijkstra.Specification.Ledger.html#4681" class="Function">coin₀</a>

    <a id="4909" href="Ledger.Dijkstra.Specification.Ledger.html#4909" class="Function">coinChangeTop</a> <a id="4923" class="Symbol">:</a> <a id="4925" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
    <a id="4931" href="Ledger.Dijkstra.Specification.Ledger.html#4909" class="Function">coinChangeTop</a> <a id="4945" class="Symbol">=</a> <a id="4947" href="Ledger.Dijkstra.Specification.Ledger.html#4795" class="Function">coin₂</a> <a id="4953" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="4955" href="Ledger.Dijkstra.Specification.Ledger.html#4738" class="Function">coin₁</a>


<a id="4963" class="Keyword">private</a> <a id="4971" class="Keyword">variable</a>
  <a id="4982" href="Ledger.Dijkstra.Specification.Ledger.html#4982" class="Generalizable">utxo₀</a>                             <a id="5016" class="Symbol">:</a> <a id="5018" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a>
  <a id="5025" href="Ledger.Dijkstra.Specification.Ledger.html#5025" class="Generalizable">utxoState₀</a> <a id="5036" href="Ledger.Dijkstra.Specification.Ledger.html#5036" class="Generalizable">utxoState₁</a> <a id="5047" href="Ledger.Dijkstra.Specification.Ledger.html#5047" class="Generalizable">utxoState₂</a>  <a id="5059" class="Symbol">:</a> <a id="5061" href="Ledger.Dijkstra.Specification.Utxo.html#1633" class="Record">UTxOState</a>
  <a id="5073" href="Ledger.Dijkstra.Specification.Ledger.html#5073" class="Generalizable">certState₀</a> <a id="5084" href="Ledger.Dijkstra.Specification.Ledger.html#5084" class="Generalizable">certState₁</a> <a id="5095" href="Ledger.Dijkstra.Specification.Ledger.html#5095" class="Generalizable">certState₂</a>  <a id="5107" class="Symbol">:</a> <a id="5109" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a>
  <a id="5121" href="Ledger.Dijkstra.Specification.Ledger.html#5121" class="Generalizable">govState₀</a>  <a id="5132" href="Ledger.Dijkstra.Specification.Ledger.html#5132" class="Generalizable">govState₁</a>  <a id="5143" href="Ledger.Dijkstra.Specification.Ledger.html#5143" class="Generalizable">govState₂</a>   <a id="5155" class="Symbol">:</a> <a id="5157" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
  <a id="5168" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a>                                <a id="5202" class="Symbol">:</a> <a id="5204" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a>
  <a id="5217" href="Ledger.Dijkstra.Specification.Ledger.html#5217" class="Generalizable">stx</a>                               <a id="5251" class="Symbol">:</a> <a id="5253" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a>
  <a id="5266" href="Ledger.Dijkstra.Specification.Ledger.html#5266" class="Generalizable">slot</a>                              <a id="5300" class="Symbol">:</a> <a id="5302" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
  <a id="5309" href="Ledger.Dijkstra.Specification.Ledger.html#5309" class="Generalizable">ppolicy</a>                           <a id="5343" class="Symbol">:</a> <a id="5345" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5351" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
  <a id="5364" href="Ledger.Dijkstra.Specification.Ledger.html#5364" class="Generalizable">pp</a>                                <a id="5398" class="Symbol">:</a> <a id="5400" href="Ledger.Dijkstra.Specification.PParams.html#1960" class="Record">PParams</a>
  <a id="5410" href="Ledger.Dijkstra.Specification.Ledger.html#5410" class="Generalizable">enactState</a>                        <a id="5444" class="Symbol">:</a> <a id="5446" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a>
  <a id="5459" href="Ledger.Dijkstra.Specification.Ledger.html#5459" class="Generalizable">treasury</a>                          <a id="5493" class="Symbol">:</a> <a id="5495" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>
  <a id="5506" href="Ledger.Dijkstra.Specification.Ledger.html#5506" class="Generalizable">isTopLevelValid</a>                   <a id="5540" class="Symbol">:</a> <a id="5542" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="5549" href="Ledger.Dijkstra.Specification.Ledger.html#5549" class="Generalizable">allScripts</a>                        <a id="5583" class="Symbol">:</a> <a id="5585" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5587" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="5596" href="Ledger.Dijkstra.Specification.Ledger.html#5596" class="Generalizable">allData</a>                           <a id="5630" class="Symbol">:</a> <a id="5632" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a> <a id="5641" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5643" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>


<a id="5651" class="Keyword">data</a> <a id="_⊢_⇀⦇_,SUBLEDGER⦈_"></a><a id="5656" href="Ledger.Dijkstra.Specification.Ledger.html#5656" class="Datatype Operator">_⊢_⇀⦇_,SUBLEDGER⦈_</a> <a id="5675" class="Symbol">:</a> <a id="5677" href="Ledger.Dijkstra.Specification.Ledger.html#698" class="Record">SubLedgerEnv</a> <a id="5690" class="Symbol">→</a> <a id="5692" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="5699" class="Symbol">→</a> <a id="5701" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a> <a id="5712" class="Symbol">→</a> <a id="5714" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="5721" class="Symbol">→</a> <a id="5723" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5728" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,SUBLEDGER⦈_.SUBLEDGER-V"></a><a id="5737" href="Ledger.Dijkstra.Specification.Ledger.html#5737" class="InductiveConstructor">SUBLEDGER-V</a> <a id="5749" class="Symbol">:</a>
      <a id="5757" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="5759" href="Ledger.Dijkstra.Specification.Ledger.html#5506" class="Generalizable">isTopLevelValid</a> <a id="5775" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5777" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="5788" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{5792}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{5799}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5459}{\htmlId{5804}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4982}{\htmlId{5815}{\htmlClass{Generalizable}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5506}{\htmlId{5823}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5549}{\htmlId{5841}{\htmlClass{Generalizable}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5596}{\htmlId{5854}{\htmlClass{Generalizable}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="5864" href="Ledger.Dijkstra.Specification.Utxow.html#2954" class="Datatype Operator">⊢</a> <a id="5866" href="Ledger.Dijkstra.Specification.Ledger.html#5025" class="Generalizable">utxoState₀</a> <a id="5877" href="Ledger.Dijkstra.Specification.Utxow.html#2954" class="Datatype Operator">⇀⦇</a> <a id="5880" href="Ledger.Dijkstra.Specification.Ledger.html#5217" class="Generalizable">stx</a> <a id="5884" href="Ledger.Dijkstra.Specification.Utxow.html#2954" class="Datatype Operator">,SUBUTXOW⦈</a> <a id="5895" href="Ledger.Dijkstra.Specification.Ledger.html#5036" class="Generalizable">utxoState₁</a>
      <a id="5912" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{5916}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{5922}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{5929}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#8082}{\htmlId{5934}{\htmlClass{Field}{\text{ListOfGovVotesOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5217}{\htmlId{5951}{\htmlClass{Generalizable}{\text{stx}}}}\, \\ \,\href{Ledger.Core.Specification.Address.html#1975}{\htmlId{5957}{\htmlClass{Field}{\text{WithdrawalsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5217}{\htmlId{5971}{\htmlClass{Generalizable}{\text{stx}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4108}{\htmlId{5977}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5121}{\htmlId{5990}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5410}{\htmlId{6000}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="6013" href="Ledger.Dijkstra.Specification.Certs.html#12390" class="Function Operator">⊢</a> <a id="6015" href="Ledger.Dijkstra.Specification.Ledger.html#5073" class="Generalizable">certState₀</a> <a id="6026" href="Ledger.Dijkstra.Specification.Certs.html#12390" class="Function Operator">⇀⦇</a> <a id="6029" href="Ledger.Dijkstra.Specification.Transaction.html#7687" class="Field">DCertsOf</a> <a id="6038" href="Ledger.Dijkstra.Specification.Ledger.html#5217" class="Generalizable">stx</a> <a id="6042" href="Ledger.Dijkstra.Specification.Certs.html#12390" class="Function Operator">,CERTS⦈</a> <a id="6050" href="Ledger.Dijkstra.Specification.Ledger.html#5084" class="Generalizable">certState₁</a>
      <a id="6067" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Transaction.html#6811}{\htmlId{6071}{\htmlClass{Field}{\text{TxIdOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5217}{\htmlId{6078}{\htmlClass{Generalizable}{\text{stx}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{6084}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{6090}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{6097}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5309}{\htmlId{6102}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5410}{\htmlId{6112}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5084}{\htmlId{6125}{\htmlClass{Generalizable}{\text{certState₁}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{6138}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{6142}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Dijkstra.Specification.Certs.html#3148}{\htmlId{6143}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5084}{\htmlId{6153}{\htmlClass{Generalizable}{\text{certState₁}}}}\,\,\htmlId{6163}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="6167" href="Ledger.Dijkstra.Specification.Gov.html#17650" class="Function Operator">⊢</a> <a id="6169" href="Ledger.Dijkstra.Specification.Ledger.html#5121" class="Generalizable">govState₀</a> <a id="6179" href="Ledger.Dijkstra.Specification.Gov.html#17650" class="Function Operator">⇀⦇</a> <a id="6182" href="Ledger.Dijkstra.Specification.Ledger.html#3576" class="Function">GovProposals+Votes</a> <a id="6201" href="Ledger.Dijkstra.Specification.Ledger.html#5217" class="Generalizable">stx</a> <a id="6205" href="Ledger.Dijkstra.Specification.Gov.html#17650" class="Function Operator">,GOVS⦈</a> <a id="6212" href="Ledger.Dijkstra.Specification.Ledger.html#5132" class="Generalizable">govState₁</a>
        <a id="6230" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
        <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{6273}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5309}{\htmlId{6280}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{6290}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5410}{\htmlId{6295}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5459}{\htmlId{6308}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4982}{\htmlId{6319}{\htmlClass{Generalizable}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5506}{\htmlId{6327}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5549}{\htmlId{6345}{\htmlClass{Generalizable}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5596}{\htmlId{6358}{\htmlClass{Generalizable}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="6368" href="Ledger.Dijkstra.Specification.Ledger.html#5656" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5025}{\htmlId{6372}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5121}{\htmlId{6385}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5073}{\htmlId{6397}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="6410" href="Ledger.Dijkstra.Specification.Ledger.html#5656" class="Datatype Operator">⇀⦇</a> <a id="6413" href="Ledger.Dijkstra.Specification.Ledger.html#5217" class="Generalizable">stx</a> <a id="6417" href="Ledger.Dijkstra.Specification.Ledger.html#5656" class="Datatype Operator">,SUBLEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5036}{\htmlId{6431}{\htmlClass{Generalizable}{\text{utxoState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5132}{\htmlId{6444}{\htmlClass{Generalizable}{\text{govState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5084}{\htmlId{6456}{\htmlClass{Generalizable}{\text{certState₁}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,SUBLEDGER⦈_.SUBLEDGER-I"></a><a id="6472" href="Ledger.Dijkstra.Specification.Ledger.html#6472" class="InductiveConstructor">SUBLEDGER-I</a> <a id="6484" class="Symbol">:</a>
      <a id="6492" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="6494" href="Ledger.Dijkstra.Specification.Ledger.html#5506" class="Generalizable">isTopLevelValid</a> <a id="6510" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6512" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
      <a id="6524" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{6528}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{6535}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5459}{\htmlId{6540}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4982}{\htmlId{6551}{\htmlClass{Generalizable}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5506}{\htmlId{6559}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5549}{\htmlId{6577}{\htmlClass{Generalizable}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5596}{\htmlId{6590}{\htmlClass{Generalizable}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="6600" href="Ledger.Dijkstra.Specification.Utxow.html#2954" class="Datatype Operator">⊢</a> <a id="6602" href="Ledger.Dijkstra.Specification.Ledger.html#5025" class="Generalizable">utxoState₀</a> <a id="6613" href="Ledger.Dijkstra.Specification.Utxow.html#2954" class="Datatype Operator">⇀⦇</a> <a id="6616" href="Ledger.Dijkstra.Specification.Ledger.html#5217" class="Generalizable">stx</a> <a id="6620" href="Ledger.Dijkstra.Specification.Utxow.html#2954" class="Datatype Operator">,SUBUTXOW⦈</a> <a id="6631" href="Ledger.Dijkstra.Specification.Ledger.html#5025" class="Generalizable">utxoState₀</a>
        <a id="6650" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
        <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{6693}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5309}{\htmlId{6700}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{6710}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5410}{\htmlId{6715}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5459}{\htmlId{6728}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4982}{\htmlId{6739}{\htmlClass{Generalizable}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5506}{\htmlId{6747}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5549}{\htmlId{6765}{\htmlClass{Generalizable}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5596}{\htmlId{6778}{\htmlClass{Generalizable}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="6788" href="Ledger.Dijkstra.Specification.Ledger.html#5656" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5025}{\htmlId{6792}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5121}{\htmlId{6805}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5073}{\htmlId{6817}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="6830" href="Ledger.Dijkstra.Specification.Ledger.html#5656" class="Datatype Operator">⇀⦇</a> <a id="6833" href="Ledger.Dijkstra.Specification.Ledger.html#5217" class="Generalizable">stx</a> <a id="6837" href="Ledger.Dijkstra.Specification.Ledger.html#5656" class="Datatype Operator">,SUBLEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5025}{\htmlId{6851}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5121}{\htmlId{6864}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5073}{\htmlId{6876}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a>

<a id="_⊢_⇀⦇_,SUBLEDGERS⦈_"></a><a id="6890" href="Ledger.Dijkstra.Specification.Ledger.html#6890" class="Function Operator">_⊢_⇀⦇_,SUBLEDGERS⦈_</a> <a id="6910" class="Symbol">:</a> <a id="6912" href="Ledger.Dijkstra.Specification.Ledger.html#698" class="Record">SubLedgerEnv</a> <a id="6925" class="Symbol">→</a> <a id="6927" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="6934" class="Symbol">→</a> <a id="6936" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6941" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a> <a id="6952" class="Symbol">→</a> <a id="6954" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="6961" class="Symbol">→</a> <a id="6963" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="6968" href="Ledger.Dijkstra.Specification.Ledger.html#6890" class="Function Operator">_⊢_⇀⦇_,SUBLEDGERS⦈_</a> <a id="6988" class="Symbol">=</a> <a id="6990" href="Interface.STS.html#2048" class="Function">ReflexiveTransitiveClosure</a> <a id="7017" class="Symbol">{</a><a id="7018" class="Argument">sts</a> <a id="7022" class="Symbol">=</a> <a id="7024" href="Ledger.Dijkstra.Specification.Ledger.html#5656" class="Datatype Operator">_⊢_⇀⦇_,SUBLEDGER⦈_</a><a id="7042" class="Symbol">}</a>


<a id="7046" class="Keyword">data</a> <a id="_⊢_⇀⦇_,LEDGER⦈_"></a><a id="7051" href="Ledger.Dijkstra.Specification.Ledger.html#7051" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="7067" class="Symbol">:</a> <a id="7069" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a> <a id="7079" class="Symbol">→</a> <a id="7081" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="7088" class="Symbol">→</a> <a id="7090" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="7101" class="Symbol">→</a> <a id="7103" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="7110" class="Symbol">→</a> <a id="7112" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7117" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-V"></a><a id="7126" href="Ledger.Dijkstra.Specification.Ledger.html#7126" class="InductiveConstructor">LEDGER-V</a> <a id="7135" class="Symbol">:</a>
    <a id="7141" class="Keyword">let</a>  <a id="7146" href="Ledger.Dijkstra.Specification.Ledger.html#7146" class="Bound">utxo₀</a> <a id="7152" class="Symbol">:</a> <a id="7154" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a>
         <a id="7168" href="Ledger.Dijkstra.Specification.Ledger.html#7146" class="Bound">utxo₀</a> <a id="7174" class="Symbol">=</a> <a id="7176" href="Ledger.Dijkstra.Specification.Transaction.html#3454" class="Field">UTxOOf</a> <a id="7183" href="Ledger.Dijkstra.Specification.Ledger.html#5025" class="Generalizable">utxoState₀</a>

         <a id="7204" href="Ledger.Dijkstra.Specification.Ledger.html#7204" class="Bound">allScripts</a> <a id="7215" class="Symbol">:</a> <a id="7217" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7219" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
         <a id="7235" href="Ledger.Dijkstra.Specification.Ledger.html#7204" class="Bound">allScripts</a> <a id="7246" class="Symbol">=</a> <a id="7248" href="Ledger.Dijkstra.Specification.Transaction.html#17473" class="Function">getAllScripts</a> <a id="7262" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="7265" href="Ledger.Dijkstra.Specification.Ledger.html#7146" class="Bound">utxo₀</a>

         <a id="7281" href="Ledger.Dijkstra.Specification.Ledger.html#7281" class="Bound">allData</a> <a id="7289" class="Symbol">:</a> <a id="7291" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a> <a id="7300" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="7302" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
         <a id="7317" href="Ledger.Dijkstra.Specification.Ledger.html#7281" class="Bound">allData</a> <a id="7325" class="Symbol">=</a> <a id="7327" href="Ledger.Prelude.html#1894" class="Function">setToMap</a> <a id="7336" class="Symbol">(</a><a id="7337" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="7342" href="Data.Product.Base.html#2000" class="Function Operator">&lt;</a> <a id="7344" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="7349" href="Data.Product.Base.html#2000" class="Function Operator">,</a> <a id="7351" href="Function.Base.html#704" class="Function">id</a> <a id="7354" href="Data.Product.Base.html#2000" class="Function Operator">&gt;</a> <a id="7356" class="Symbol">(</a><a id="7357" href="Ledger.Dijkstra.Specification.Transaction.html#18645" class="Function">getAllData</a> <a id="7368" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="7371" href="Ledger.Dijkstra.Specification.Ledger.html#7146" class="Bound">utxo₀</a><a id="7376" class="Symbol">))</a>

         <a id="7389" href="Ledger.Dijkstra.Specification.Ledger.html#7389" class="Bound">depositsChange</a> <a id="7404" class="Symbol">:</a> <a id="7406" href="Ledger.Dijkstra.Specification.Utxo.html#1004" class="Record">DepositsChange</a>
         <a id="7430" href="Ledger.Dijkstra.Specification.Ledger.html#7389" class="Bound">depositsChange</a> <a id="7445" class="Symbol">=</a> <a id="7447" href="Ledger.Dijkstra.Specification.Ledger.html#4277" class="Function">calculateDepositsChange</a> <a id="7471" href="Ledger.Dijkstra.Specification.Ledger.html#5073" class="Generalizable">certState₀</a> <a id="7482" href="Ledger.Dijkstra.Specification.Ledger.html#5084" class="Generalizable">certState₁</a> <a id="7493" href="Ledger.Dijkstra.Specification.Ledger.html#5095" class="Generalizable">certState₂</a>
    <a id="7508" class="Keyword">in</a>
      <a id="7517" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="7519" href="Ledger.Dijkstra.Specification.Transaction.html#8884" class="Field">IsValidFlagOf</a> <a id="7533" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="7536" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7538" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="7549" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{7553}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5309}{\htmlId{7560}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{7570}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5410}{\htmlId{7575}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5459}{\htmlId{7588}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7146}{\htmlId{7599}{\htmlClass{Bound}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#8884}{\htmlId{7607}{\htmlClass{Field}{\text{IsValidFlagOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5168}{\htmlId{7621}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7204}{\htmlId{7626}{\htmlClass{Bound}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7281}{\htmlId{7639}{\htmlClass{Bound}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="7649" href="Ledger.Dijkstra.Specification.Ledger.html#6890" class="Function Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5025}{\htmlId{7653}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5121}{\htmlId{7666}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5073}{\htmlId{7678}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="7691" href="Ledger.Dijkstra.Specification.Ledger.html#6890" class="Function Operator">⇀⦇</a> <a id="7694" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="7712" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="7715" href="Ledger.Dijkstra.Specification.Ledger.html#6890" class="Function Operator">,SUBLEDGERS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5036}{\htmlId{7730}{\htmlClass{Generalizable}{\text{utxoState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5132}{\htmlId{7743}{\htmlClass{Generalizable}{\text{govState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5084}{\htmlId{7755}{\htmlClass{Generalizable}{\text{certState₁}}}}\, \end{pmatrix}$</a>
      <a id="7774" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{7778}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{7784}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{7791}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#8082}{\htmlId{7796}{\htmlClass{Field}{\text{ListOfGovVotesOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5168}{\htmlId{7813}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Core.Specification.Address.html#1975}{\htmlId{7818}{\htmlClass{Field}{\text{WithdrawalsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5168}{\htmlId{7832}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4108}{\htmlId{7837}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5132}{\htmlId{7850}{\htmlClass{Generalizable}{\text{govState₁}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5410}{\htmlId{7860}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="7873" href="Ledger.Dijkstra.Specification.Certs.html#12390" class="Function Operator">⊢</a> <a id="7875" href="Ledger.Dijkstra.Specification.Ledger.html#5084" class="Generalizable">certState₁</a> <a id="7886" href="Ledger.Dijkstra.Specification.Certs.html#12390" class="Function Operator">⇀⦇</a> <a id="7889" href="Ledger.Dijkstra.Specification.Transaction.html#7687" class="Field">DCertsOf</a> <a id="7898" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="7901" href="Ledger.Dijkstra.Specification.Certs.html#12390" class="Function Operator">,CERTS⦈</a> <a id="7909" href="Ledger.Dijkstra.Specification.Ledger.html#5095" class="Generalizable">certState₂</a>
      <a id="7926" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Transaction.html#6811}{\htmlId{7930}{\htmlClass{Field}{\text{TxIdOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5168}{\htmlId{7937}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{7942}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{7948}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{7955}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5309}{\htmlId{7960}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5410}{\htmlId{7970}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5095}{\htmlId{7983}{\htmlClass{Generalizable}{\text{certState₂}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{7996}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{8000}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Dijkstra.Specification.Certs.html#3148}{\htmlId{8001}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5095}{\htmlId{8011}{\htmlClass{Generalizable}{\text{certState₂}}}}\,\,\htmlId{8021}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="8025" href="Ledger.Dijkstra.Specification.Gov.html#17650" class="Function Operator">⊢</a> <a id="8027" href="Ledger.Dijkstra.Specification.Ledger.html#5132" class="Generalizable">govState₁</a> <a id="8037" href="Ledger.Dijkstra.Specification.Gov.html#17650" class="Function Operator">⇀⦇</a> <a id="8040" href="Ledger.Dijkstra.Specification.Ledger.html#3576" class="Function">GovProposals+Votes</a> <a id="8059" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="8062" href="Ledger.Dijkstra.Specification.Gov.html#17650" class="Function Operator">,GOVS⦈</a> <a id="8069" href="Ledger.Dijkstra.Specification.Ledger.html#5143" class="Generalizable">govState₂</a>
      <a id="8085" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{8089}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{8096}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5459}{\htmlId{8101}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7146}{\htmlId{8112}{\htmlClass{Bound}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7389}{\htmlId{8120}{\htmlClass{Bound}{\text{depositsChange}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7204}{\htmlId{8137}{\htmlClass{Bound}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7281}{\htmlId{8150}{\htmlClass{Bound}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="8160" href="Ledger.Dijkstra.Specification.Utxow.html#4882" class="Datatype Operator">⊢</a> <a id="8162" href="Ledger.Dijkstra.Specification.Ledger.html#5036" class="Generalizable">utxoState₁</a> <a id="8173" href="Ledger.Dijkstra.Specification.Utxow.html#4882" class="Datatype Operator">⇀⦇</a> <a id="8176" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="8179" href="Ledger.Dijkstra.Specification.Utxow.html#4882" class="Datatype Operator">,UTXOW⦈</a> <a id="8187" href="Ledger.Dijkstra.Specification.Ledger.html#5047" class="Generalizable">utxoState₂</a>
        <a id="8206" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
        <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{8249}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5309}{\htmlId{8256}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{8266}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5410}{\htmlId{8271}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5459}{\htmlId{8284}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="8295" href="Ledger.Dijkstra.Specification.Ledger.html#7051" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5025}{\htmlId{8299}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5121}{\htmlId{8312}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5073}{\htmlId{8324}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="8337" href="Ledger.Dijkstra.Specification.Ledger.html#7051" class="Datatype Operator">⇀⦇</a> <a id="8340" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="8343" href="Ledger.Dijkstra.Specification.Ledger.html#7051" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5047}{\htmlId{8354}{\htmlClass{Generalizable}{\text{utxoState₂}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#3735}{\htmlId{8367}{\htmlClass{Function}{\text{rmOrphanDRepVotes}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5095}{\htmlId{8385}{\htmlClass{Generalizable}{\text{certState₂}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5143}{\htmlId{8396}{\htmlClass{Generalizable}{\text{govState₂}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5095}{\htmlId{8408}{\htmlClass{Generalizable}{\text{certState₂}}}}\, \end{pmatrix}$</a>


  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-I"></a><a id="8425" href="Ledger.Dijkstra.Specification.Ledger.html#8425" class="InductiveConstructor">LEDGER-I</a> <a id="8434" class="Symbol">:</a>
    <a id="8440" class="Keyword">let</a>  <a id="8445" href="Ledger.Dijkstra.Specification.Ledger.html#8445" class="Bound">utxo₀</a> <a id="8451" class="Symbol">:</a> <a id="8453" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a>
         <a id="8467" href="Ledger.Dijkstra.Specification.Ledger.html#8445" class="Bound">utxo₀</a> <a id="8473" class="Symbol">=</a> <a id="8475" href="Ledger.Dijkstra.Specification.Transaction.html#3454" class="Field">UTxOOf</a> <a id="8482" href="Ledger.Dijkstra.Specification.Ledger.html#5025" class="Generalizable">utxoState₀</a>

         <a id="8503" href="Ledger.Dijkstra.Specification.Ledger.html#8503" class="Bound">allScripts</a> <a id="8514" class="Symbol">:</a> <a id="8516" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8518" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
         <a id="8534" href="Ledger.Dijkstra.Specification.Ledger.html#8503" class="Bound">allScripts</a> <a id="8545" class="Symbol">=</a> <a id="8547" href="Ledger.Dijkstra.Specification.Transaction.html#17473" class="Function">getAllScripts</a> <a id="8561" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="8564" href="Ledger.Dijkstra.Specification.Ledger.html#8445" class="Bound">utxo₀</a>

         <a id="8580" href="Ledger.Dijkstra.Specification.Ledger.html#8580" class="Bound">allData</a> <a id="8588" class="Symbol">:</a> <a id="8590" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a> <a id="8599" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="8601" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
         <a id="8616" href="Ledger.Dijkstra.Specification.Ledger.html#8580" class="Bound">allData</a> <a id="8624" class="Symbol">=</a> <a id="8626" href="Ledger.Prelude.html#1894" class="Function">setToMap</a> <a id="8635" class="Symbol">(</a><a id="8636" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="8641" href="Data.Product.Base.html#2000" class="Function Operator">&lt;</a> <a id="8643" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="8648" href="Data.Product.Base.html#2000" class="Function Operator">,</a> <a id="8650" href="Function.Base.html#704" class="Function">id</a> <a id="8653" href="Data.Product.Base.html#2000" class="Function Operator">&gt;</a> <a id="8655" class="Symbol">(</a><a id="8656" href="Ledger.Dijkstra.Specification.Transaction.html#18645" class="Function">getAllData</a> <a id="8667" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="8670" href="Ledger.Dijkstra.Specification.Ledger.html#8445" class="Bound">utxo₀</a><a id="8675" class="Symbol">))</a>
    <a id="8682" class="Keyword">in</a>
      <a id="8691" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="8693" href="Ledger.Dijkstra.Specification.Transaction.html#8884" class="Field">IsValidFlagOf</a> <a id="8707" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="8710" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8712" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
      <a id="8724" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{8728}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5309}{\htmlId{8735}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{8745}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5410}{\htmlId{8750}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5459}{\htmlId{8763}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8445}{\htmlId{8774}{\htmlClass{Bound}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#8884}{\htmlId{8782}{\htmlClass{Field}{\text{IsValidFlagOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5168}{\htmlId{8796}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8503}{\htmlId{8801}{\htmlClass{Bound}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8580}{\htmlId{8814}{\htmlClass{Bound}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="8824" href="Ledger.Dijkstra.Specification.Ledger.html#6890" class="Function Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5025}{\htmlId{8828}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5121}{\htmlId{8841}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5073}{\htmlId{8853}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="8866" href="Ledger.Dijkstra.Specification.Ledger.html#6890" class="Function Operator">⇀⦇</a> <a id="8869" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="8887" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="8890" href="Ledger.Dijkstra.Specification.Ledger.html#6890" class="Function Operator">,SUBLEDGERS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5025}{\htmlId{8905}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5121}{\htmlId{8918}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5073}{\htmlId{8930}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a>
      <a id="8949" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{8953}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{8960}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5459}{\htmlId{8965}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8445}{\htmlId{8976}{\htmlClass{Bound}{\text{utxo₀}}}}\, \\ \begin{pmatrix} \,\href{Data.Integer.Base.html#1545}{\htmlId{8986}{\htmlClass{Function}{\text{0ℤ}}}}\, \\ \,\href{Data.Integer.Base.html#1545}{\htmlId{8991}{\htmlClass{Function}{\text{0ℤ}}}}\, \end{pmatrix} \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8503}{\htmlId{8998}{\htmlClass{Bound}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8580}{\htmlId{9011}{\htmlClass{Bound}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="9021" href="Ledger.Dijkstra.Specification.Utxow.html#4882" class="Datatype Operator">⊢</a> <a id="9023" href="Ledger.Dijkstra.Specification.Ledger.html#5025" class="Generalizable">utxoState₀</a> <a id="9034" href="Ledger.Dijkstra.Specification.Utxow.html#4882" class="Datatype Operator">⇀⦇</a> <a id="9037" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="9040" href="Ledger.Dijkstra.Specification.Utxow.html#4882" class="Datatype Operator">,UTXOW⦈</a> <a id="9048" href="Ledger.Dijkstra.Specification.Ledger.html#5036" class="Generalizable">utxoState₁</a>
        <a id="9067" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
        <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5266}{\htmlId{9110}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5309}{\htmlId{9117}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5364}{\htmlId{9127}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5410}{\htmlId{9132}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5459}{\htmlId{9145}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="9156" href="Ledger.Dijkstra.Specification.Ledger.html#7051" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5025}{\htmlId{9160}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5121}{\htmlId{9173}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5073}{\htmlId{9185}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="9198" href="Ledger.Dijkstra.Specification.Ledger.html#7051" class="Datatype Operator">⇀⦇</a> <a id="9201" href="Ledger.Dijkstra.Specification.Ledger.html#5168" class="Generalizable">tx</a> <a id="9204" href="Ledger.Dijkstra.Specification.Ledger.html#7051" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5036}{\htmlId{9215}{\htmlClass{Generalizable}{\text{utxoState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5121}{\htmlId{9228}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5073}{\htmlId{9240}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a>

<a id="_⊢_⇀⦇_,LEDGERS⦈_"></a><a id="9254" href="Ledger.Dijkstra.Specification.Ledger.html#9254" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="9271" class="Symbol">:</a> <a id="9273" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a> <a id="9283" class="Symbol">→</a> <a id="9285" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="9292" class="Symbol">→</a> <a id="9294" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="9299" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="9310" class="Symbol">→</a> <a id="9312" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="9319" class="Symbol">→</a> <a id="9321" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="9326" href="Ledger.Dijkstra.Specification.Ledger.html#9254" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="9343" class="Symbol">=</a> <a id="9345" href="Interface.STS.html#2048" class="Function">ReflexiveTransitiveClosure</a> <a id="9372" class="Symbol">{</a><a id="9373" class="Argument">sts</a> <a id="9377" class="Symbol">=</a> <a id="9379" href="Ledger.Dijkstra.Specification.Ledger.html#7051" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a><a id="9394" class="Symbol">}</a>

</pre></body></html>