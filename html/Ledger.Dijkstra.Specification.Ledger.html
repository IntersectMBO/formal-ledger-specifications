<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Dijkstra.Specification.Ledger</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">import</a> <a id="33" href="Data.List.html" class="Module">Data.List</a> <a id="43" class="Symbol">as</a> <a id="46" class="Module">L</a>

<a id="49" class="Keyword">open</a> <a id="54" class="Keyword">import</a> <a id="61" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="76" class="Keyword">open</a> <a id="81" class="Keyword">import</a> <a id="88" href="Ledger.Dijkstra.Specification.Abstract.html" class="Module">Ledger.Dijkstra.Specification.Abstract</a>
<a id="127" class="Keyword">open</a> <a id="132" class="Keyword">import</a> <a id="139" href="Ledger.Dijkstra.Specification.Transaction.html" class="Module">Ledger.Dijkstra.Specification.Transaction</a> <a id="181" class="Keyword">using</a> <a id="187" class="Symbol">(</a><a id="188" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Record">TransactionStructure</a><a id="208" class="Symbol">)</a>

<a id="211" class="Keyword">module</a> <a id="218" href="Ledger.Dijkstra.Specification.Ledger.html" class="Module">Ledger.Dijkstra.Specification.Ledger</a>
  <a id="257" class="Symbol">(</a><a id="258" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a> <a id="262" class="Symbol">:</a> <a id="264" class="Symbol">_)</a> <a id="267" class="Symbol">(</a><a id="268" class="Keyword">open</a> <a id="273" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Module">TransactionStructure</a> <a id="294" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a><a id="297" class="Symbol">)</a>
  <a id="301" class="Symbol">(</a><a id="302" href="Ledger.Dijkstra.Specification.Ledger.html#302" class="Bound">abs</a> <a id="306" class="Symbol">:</a> <a id="308" href="Ledger.Dijkstra.Specification.Abstract.html#912" class="Record">AbstractFunctions</a> <a id="326" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a><a id="329" class="Symbol">)</a> <a id="331" class="Symbol">(</a><a id="332" class="Keyword">open</a> <a id="337" href="Ledger.Dijkstra.Specification.Abstract.html#912" class="Module">AbstractFunctions</a> <a id="355" href="Ledger.Dijkstra.Specification.Ledger.html#302" class="Bound">abs</a><a id="358" class="Symbol">)</a>
  <a id="362" class="Keyword">where</a>

<a id="369" class="Keyword">open</a> <a id="374" class="Keyword">import</a> <a id="381" href="Ledger.Dijkstra.Specification.Enact.html" class="Module">Ledger.Dijkstra.Specification.Enact</a> <a id="417" href="Ledger.Dijkstra.Specification.Transaction.html#2505" class="Function">govStructure</a>
<a id="430" class="Keyword">open</a> <a id="435" class="Keyword">import</a> <a id="442" href="Ledger.Dijkstra.Specification.Gov.html" class="Module">Ledger.Dijkstra.Specification.Gov</a> <a id="476" href="Ledger.Dijkstra.Specification.Transaction.html#2505" class="Function">govStructure</a>
<a id="489" class="Keyword">open</a> <a id="494" class="Keyword">import</a> <a id="501" href="Ledger.Dijkstra.Specification.Utxo.html" class="Module">Ledger.Dijkstra.Specification.Utxo</a> <a id="536" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a> <a id="540" href="Ledger.Dijkstra.Specification.Ledger.html#302" class="Bound">abs</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Ledger.Dijkstra.Specification.Utxow.html" class="Module">Ledger.Dijkstra.Specification.Utxow</a> <a id="592" href="Ledger.Dijkstra.Specification.Ledger.html#258" class="Bound">txs</a> <a id="596" href="Ledger.Dijkstra.Specification.Ledger.html#302" class="Bound">abs</a>
<a id="600" class="Keyword">open</a> <a id="605" class="Keyword">import</a> <a id="612" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a> <a id="648" href="Ledger.Dijkstra.Specification.Transaction.html#2505" class="Function">govStructure</a>

<a id="662" class="Keyword">open</a> <a id="667" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Module">EnactState</a> <a id="678" class="Keyword">using</a> <a id="684" class="Symbol">(</a><a id="685" href="Ledger.Dijkstra.Specification.Enact.html#618" class="Field">cc</a><a id="687" class="Symbol">)</a>


<a id="691" class="Keyword">record</a> <a id="SubLedgerEnv"></a><a id="698" href="Ledger.Dijkstra.Specification.Ledger.html#698" class="Record">SubLedgerEnv</a> <a id="711" class="Symbol">:</a> <a id="713" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="718" class="Keyword">where</a>
  <a id="726" class="Keyword">field</a>
    <a id="SubLedgerEnv.slot"></a><a id="736" href="Ledger.Dijkstra.Specification.Ledger.html#736" class="Field">slot</a>             <a id="753" class="Symbol">:</a> <a id="755" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
    <a id="SubLedgerEnv.ppolicy"></a><a id="764" href="Ledger.Dijkstra.Specification.Ledger.html#764" class="Field">ppolicy</a>          <a id="781" class="Symbol">:</a> <a id="783" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="789" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="SubLedgerEnv.pparams"></a><a id="804" href="Ledger.Dijkstra.Specification.Ledger.html#804" class="Field">pparams</a>          <a id="821" class="Symbol">:</a> <a id="823" href="Ledger.Dijkstra.Specification.PParams.html#1960" class="Record">PParams</a>
    <a id="SubLedgerEnv.enactState"></a><a id="835" href="Ledger.Dijkstra.Specification.Ledger.html#835" class="Field">enactState</a>       <a id="852" class="Symbol">:</a> <a id="854" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a>
    <a id="SubLedgerEnv.treasury"></a><a id="869" href="Ledger.Dijkstra.Specification.Ledger.html#869" class="Field">treasury</a>         <a id="886" class="Symbol">:</a> <a id="888" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>
    <a id="SubLedgerEnv.utxo₀"></a><a id="901" href="Ledger.Dijkstra.Specification.Ledger.html#901" class="Field">utxo₀</a>            <a id="918" class="Symbol">:</a> <a id="920" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a>
    <a id="SubLedgerEnv.isTopLevelValid"></a><a id="929" href="Ledger.Dijkstra.Specification.Ledger.html#929" class="Field">isTopLevelValid</a>  <a id="946" class="Symbol">:</a> <a id="948" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
    <a id="SubLedgerEnv.allScripts"></a><a id="957" href="Ledger.Dijkstra.Specification.Ledger.html#957" class="Field">allScripts</a>       <a id="974" class="Symbol">:</a> <a id="976" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="978" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
    <a id="SubLedgerEnv.allData"></a><a id="989" href="Ledger.Dijkstra.Specification.Ledger.html#989" class="Field">allData</a>          <a id="1006" class="Symbol">:</a> <a id="1008" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a> <a id="1017" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1019" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>

<a id="1026" class="Keyword">record</a> <a id="LedgerEnv"></a><a id="1033" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a> <a id="1043" class="Symbol">:</a> <a id="1045" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1050" class="Keyword">where</a>
  <a id="1058" class="Keyword">field</a>
    <a id="LedgerEnv.slot"></a><a id="1068" href="Ledger.Dijkstra.Specification.Ledger.html#1068" class="Field">slot</a>        <a id="1080" class="Symbol">:</a> <a id="1082" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
    <a id="LedgerEnv.ppolicy"></a><a id="1091" href="Ledger.Dijkstra.Specification.Ledger.html#1091" class="Field">ppolicy</a>     <a id="1103" class="Symbol">:</a> <a id="1105" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1111" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="LedgerEnv.pparams"></a><a id="1126" href="Ledger.Dijkstra.Specification.Ledger.html#1126" class="Field">pparams</a>     <a id="1138" class="Symbol">:</a> <a id="1140" href="Ledger.Dijkstra.Specification.PParams.html#1960" class="Record">PParams</a>
    <a id="LedgerEnv.enactState"></a><a id="1152" href="Ledger.Dijkstra.Specification.Ledger.html#1152" class="Field">enactState</a>  <a id="1164" class="Symbol">:</a> <a id="1166" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a>
    <a id="LedgerEnv.treasury"></a><a id="1181" href="Ledger.Dijkstra.Specification.Ledger.html#1181" class="Field">treasury</a>    <a id="1193" class="Symbol">:</a> <a id="1195" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>


<a id="1206" class="Keyword">instance</a>
  <a id="1217" class="Keyword">unquoteDecl</a> <a id="HasCast-LedgerEnv"></a><a id="1229" href="Ledger.Dijkstra.Specification.Ledger.html#1229" class="Function">HasCast-LedgerEnv</a> <a id="HasCast-SubLedgerEnv"></a><a id="1247" href="Ledger.Dijkstra.Specification.Ledger.html#1247" class="Function">HasCast-SubLedgerEnv</a> <a id="1268" class="Symbol">=</a> <a id="1270" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="1289" class="Symbol">((</a><a id="1291" class="Keyword">quote</a> <a id="1297" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a> <a id="1307" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1309" href="Ledger.Dijkstra.Specification.Ledger.html#1229" class="Function">HasCast-LedgerEnv</a><a id="1326" class="Symbol">)</a> <a id="1328" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1330" class="Symbol">(</a><a id="1331" class="Keyword">quote</a> <a id="1337" href="Ledger.Dijkstra.Specification.Ledger.html#698" class="Record">SubLedgerEnv</a> <a id="1350" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1352" href="Ledger.Dijkstra.Specification.Ledger.html#1247" class="Function">HasCast-SubLedgerEnv</a><a id="1372" class="Symbol">)</a> <a id="1374" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1376" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1378" class="Symbol">)</a>

  <a id="HasPParams-LedgerEnv"></a><a id="1383" href="Ledger.Dijkstra.Specification.Ledger.html#1383" class="Function">HasPParams-LedgerEnv</a> <a id="1404" class="Symbol">:</a> <a id="1406" href="Ledger.Dijkstra.Specification.PParams.html#4403" class="Record">HasPParams</a> <a id="1417" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a>
  <a id="1429" href="Ledger.Dijkstra.Specification.Ledger.html#1383" class="Function">HasPParams-LedgerEnv</a> <a id="1450" class="Symbol">.</a><a id="1451" href="Ledger.Dijkstra.Specification.PParams.html#4454" class="Field">PParamsOf</a> <a id="1461" class="Symbol">=</a> <a id="1463" href="Ledger.Dijkstra.Specification.Ledger.html#1126" class="Field">LedgerEnv.pparams</a>

  <a id="HasPParams-SubLedgerEnv"></a><a id="1484" href="Ledger.Dijkstra.Specification.Ledger.html#1484" class="Function">HasPParams-SubLedgerEnv</a> <a id="1508" class="Symbol">:</a> <a id="1510" href="Ledger.Dijkstra.Specification.PParams.html#4403" class="Record">HasPParams</a> <a id="1521" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a>
  <a id="1533" href="Ledger.Dijkstra.Specification.Ledger.html#1484" class="Function">HasPParams-SubLedgerEnv</a> <a id="1557" class="Symbol">.</a><a id="1558" href="Ledger.Dijkstra.Specification.PParams.html#4454" class="Field">PParamsOf</a> <a id="1568" class="Symbol">=</a> <a id="1570" href="Ledger.Dijkstra.Specification.Ledger.html#1126" class="Field">LedgerEnv.pparams</a>


<a id="1590" class="Keyword">record</a> <a id="LState"></a><a id="1597" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="1604" class="Symbol">:</a> <a id="1606" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1611" class="Keyword">where</a>


  <a id="1621" class="Keyword">constructor</a> <a id="⟦_,_,_⟧ˡ"></a><a id="1633" href="Ledger.Dijkstra.Specification.Ledger.html#1633" class="InductiveConstructor Operator">⟦_,_,_⟧ˡ</a>


  <a id="1646" class="Keyword">field</a>
    <a id="LState.utxoSt"></a><a id="1656" href="Ledger.Dijkstra.Specification.Ledger.html#1656" class="Field">utxoSt</a>     <a id="1667" class="Symbol">:</a> <a id="1669" href="Ledger.Dijkstra.Specification.Utxo.html#1583" class="Record">UTxOState</a>
    <a id="LState.govSt"></a><a id="1683" href="Ledger.Dijkstra.Specification.Ledger.html#1683" class="Field">govSt</a>      <a id="1694" class="Symbol">:</a> <a id="1696" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
    <a id="LState.certState"></a><a id="1709" href="Ledger.Dijkstra.Specification.Ledger.html#1709" class="Field">certState</a>  <a id="1720" class="Symbol">:</a> <a id="1722" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a>


<a id="1734" class="Keyword">record</a> <a id="HasLState"></a><a id="1741" href="Ledger.Dijkstra.Specification.Ledger.html#1741" class="Record">HasLState</a> <a id="1751" class="Symbol">{</a><a id="1752" href="Ledger.Dijkstra.Specification.Ledger.html#1752" class="Bound">a</a><a id="1753" class="Symbol">}</a> <a id="1755" class="Symbol">(</a><a id="1756" href="Ledger.Dijkstra.Specification.Ledger.html#1756" class="Bound">A</a> <a id="1758" class="Symbol">:</a> <a id="1760" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1765" href="Ledger.Dijkstra.Specification.Ledger.html#1752" class="Bound">a</a><a id="1766" class="Symbol">)</a> <a id="1768" class="Symbol">:</a> <a id="1770" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1775" href="Ledger.Dijkstra.Specification.Ledger.html#1752" class="Bound">a</a> <a id="1777" class="Keyword">where</a>
  <a id="1785" class="Keyword">field</a> <a id="HasLState.LStateOf"></a><a id="1791" href="Ledger.Dijkstra.Specification.Ledger.html#1791" class="Field">LStateOf</a> <a id="1800" class="Symbol">:</a> <a id="1802" href="Ledger.Dijkstra.Specification.Ledger.html#1756" class="Bound">A</a> <a id="1804" class="Symbol">→</a> <a id="1806" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a>
<a id="1813" class="Keyword">open</a> <a id="1818" href="Ledger.Dijkstra.Specification.Ledger.html#1741" class="Module">HasLState</a> <a id="1828" class="Symbol">⦃...⦄</a> <a id="1834" class="Keyword">public</a>

<a id="1842" class="Comment">-- instance</a>
<a id="1854" class="Comment">--   HasUTxOState-LState : HasUTxOState LState</a>
<a id="1901" class="Comment">--   HasUTxOState-LState .UTxOStateOf = LState.utxoSt</a>

<a id="1956" class="Comment">--   HasUTxO-LState : HasUTxO LState</a>
<a id="1993" class="Comment">--   HasUTxO-LState .UTxOOf = UTxOOf ∘ UTxOStateOf</a>

<a id="2045" class="Comment">--   HasGovState-LState : HasGovState LState</a>
<a id="2090" class="Comment">--   HasGovState-LState .GovStateOf = LState.govSt</a>

<a id="2142" class="Comment">--   HasCertState-LState : HasCertState LState</a>
<a id="2189" class="Comment">--   HasCertState-LState .CertStateOf = LState.certState</a>

<a id="2247" class="Comment">--   HasDeposits-LState : HasDeposits LState</a>
<a id="2292" class="Comment">--   HasDeposits-LState .DepositsOf = DepositsOf ∘ UTxOStateOf</a>

<a id="2356" class="Comment">--   HasPools-LState : HasPools LState</a>
<a id="2395" class="Comment">--   HasPools-LState .PoolsOf = PoolsOf ∘ CertStateOf</a>

<a id="2450" class="Comment">--   HasGState-LState : HasGState LState</a>
<a id="2491" class="Comment">--   HasGState-LState .GStateOf = GStateOf ∘ CertStateOf</a>

<a id="2549" class="Comment">--   HasDState-LState : HasDState LState</a>
<a id="2590" class="Comment">--   HasDState-LState .DStateOf = DStateOf ∘ CertStateOf</a>

<a id="2648" class="Comment">--   HasPState-LState : HasPState LState</a>
<a id="2689" class="Comment">--   HasPState-LState .PStateOf = PStateOf ∘ CertStateOf</a>

<a id="2747" class="Comment">--   HasVoteDelegs-LState : HasVoteDelegs LState</a>
<a id="2796" class="Comment">--   HasVoteDelegs-LState .VoteDelegsOf = VoteDelegsOf ∘ DStateOf ∘ CertStateOf</a>

<a id="2877" class="Comment">--   HasDonations-LState : HasDonations LState</a>
<a id="2924" class="Comment">--   HasDonations-LState .DonationsOf = DonationsOf ∘ UTxOStateOf</a>

<a id="2991" class="Comment">--   HasFees-LState : HasFees LState</a>
<a id="3028" class="Comment">--   HasFees-LState .FeesOf = FeesOf ∘ UTxOStateOf</a>

<a id="3080" class="Comment">--   HasCCHotKeys-LState : HasCCHotKeys LState</a>
<a id="3127" class="Comment">--   HasCCHotKeys-LState .CCHotKeysOf = CCHotKeysOf ∘ GStateOf</a>

<a id="3191" class="Comment">--   HasDReps-LState : HasDReps LState</a>
<a id="3230" class="Comment">--   HasDReps-LState .DRepsOf = DRepsOf ∘ CertStateOf</a>

<a id="3285" class="Comment">-- open CertState</a>
<a id="3303" class="Comment">-- open DState</a>
<a id="3318" class="Comment">-- open GovVotes</a>

<a id="3336" class="Keyword">instance</a>
  <a id="3347" class="Keyword">unquoteDecl</a> <a id="HasCast-LState"></a><a id="3359" href="Ledger.Dijkstra.Specification.Ledger.html#3359" class="Function">HasCast-LState</a> <a id="3374" class="Symbol">=</a> <a id="3376" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="3395" class="Symbol">((</a><a id="3397" class="Keyword">quote</a> <a id="3403" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="3410" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3412" href="Ledger.Dijkstra.Specification.Ledger.html#3359" class="Function">HasCast-LState</a><a id="3426" class="Symbol">)</a> <a id="3428" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3430" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3432" class="Symbol">)</a>


<a id="txgov"></a><a id="3436" href="Ledger.Dijkstra.Specification.Ledger.html#3436" class="Function">txgov</a> <a id="3442" class="Symbol">:</a> <a id="3444" class="Symbol">∀</a> <a id="3446" class="Symbol">{</a><a id="3447" href="Ledger.Dijkstra.Specification.Ledger.html#3447" class="Bound">ℓ</a><a id="3448" class="Symbol">}</a> <a id="3450" class="Symbol">→</a> <a id="3452" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Record">TxBody</a> <a id="3459" href="Ledger.Dijkstra.Specification.Ledger.html#3447" class="Bound">ℓ</a> <a id="3461" class="Symbol">→</a> <a id="3463" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3468" class="Symbol">(</a><a id="3469" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a> <a id="3477" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3479" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a><a id="3490" class="Symbol">)</a>
<a id="3492" href="Ledger.Dijkstra.Specification.Ledger.html#3436" class="Function">txgov</a> <a id="3498" href="Ledger.Dijkstra.Specification.Ledger.html#3498" class="Bound">txb</a> <a id="3502" class="Symbol">=</a> <a id="3504" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3508" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3513" href="Ledger.Dijkstra.Specification.Transaction.html#4407" class="Field">txGovProposals</a> <a id="3528" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="3531" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3535" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3540" href="Ledger.Dijkstra.Specification.Transaction.html#4363" class="Field">txGovVotes</a>
  <a id="3553" class="Keyword">where</a> <a id="3559" class="Keyword">open</a> <a id="3564" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Module">TxBody</a> <a id="3571" href="Ledger.Dijkstra.Specification.Ledger.html#3498" class="Bound">txb</a>

<a id="GovProposals+Votes"></a><a id="3576" href="Ledger.Dijkstra.Specification.Ledger.html#3576" class="Function">GovProposals+Votes</a> <a id="3595" class="Symbol">:</a> <a id="3597" class="Symbol">∀</a> <a id="3599" class="Symbol">{</a><a id="3600" href="Ledger.Dijkstra.Specification.Ledger.html#3600" class="Bound">ℓ</a><a id="3601" class="Symbol">}</a> <a id="3603" class="Symbol">→</a> <a id="3605" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Record">Tx</a> <a id="3608" href="Ledger.Dijkstra.Specification.Ledger.html#3600" class="Bound">ℓ</a> <a id="3610" class="Symbol">→</a> <a id="3612" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3617" class="Symbol">(</a><a id="3618" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a> <a id="3626" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3628" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a><a id="3639" class="Symbol">)</a>
<a id="3641" href="Ledger.Dijkstra.Specification.Ledger.html#3576" class="Function">GovProposals+Votes</a> <a id="3660" href="Ledger.Dijkstra.Specification.Ledger.html#3660" class="Bound">tx</a> <a id="3663" class="Symbol">=</a> <a id="3665" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3669" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3674" class="Symbol">(</a><a id="3675" href="Ledger.Dijkstra.Specification.Transaction.html#7926" class="Field">ListOfGovProposalsOf</a> <a id="3696" href="Ledger.Dijkstra.Specification.Ledger.html#3660" class="Bound">tx</a><a id="3698" class="Symbol">)</a> <a id="3700" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="3703" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3707" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3712" class="Symbol">(</a><a id="3713" href="Ledger.Dijkstra.Specification.Transaction.html#8082" class="Field">ListOfGovVotesOf</a> <a id="3730" href="Ledger.Dijkstra.Specification.Ledger.html#3660" class="Bound">tx</a><a id="3732" class="Symbol">)</a>

<a id="rmOrphanDRepVotes"></a><a id="3735" href="Ledger.Dijkstra.Specification.Ledger.html#3735" class="Function">rmOrphanDRepVotes</a> <a id="3753" class="Symbol">:</a> <a id="3755" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a> <a id="3765" class="Symbol">→</a> <a id="3767" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="3776" class="Symbol">→</a> <a id="3778" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
<a id="3787" href="Ledger.Dijkstra.Specification.Ledger.html#3735" class="Function">rmOrphanDRepVotes</a> <a id="3805" href="Ledger.Dijkstra.Specification.Ledger.html#3805" class="Bound">cs</a> <a id="3808" href="Ledger.Dijkstra.Specification.Ledger.html#3808" class="Bound">govSt</a> <a id="3814" class="Symbol">=</a> <a id="3816" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="3822" class="Symbol">(</a><a id="3823" href="Class.Bifunctor.html#1152" class="Function">map₂</a> <a id="3828" href="Ledger.Dijkstra.Specification.Ledger.html#3935" class="Function">go</a><a id="3830" class="Symbol">)</a> <a id="3832" href="Ledger.Dijkstra.Specification.Ledger.html#3808" class="Bound">govSt</a>
  <a id="3840" class="Keyword">where</a>
   <a id="3849" href="Ledger.Dijkstra.Specification.Ledger.html#3849" class="Function">ifDRepRegistered</a> <a id="3866" class="Symbol">:</a> <a id="3868" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="3879" class="Symbol">→</a> <a id="3881" href="Agda.Primitive.html#388" class="Primitive">Type</a>
   <a id="3889" href="Ledger.Dijkstra.Specification.Ledger.html#3849" class="Function">ifDRepRegistered</a> <a id="3906" href="Ledger.Dijkstra.Specification.Ledger.html#3906" class="Bound">c</a> <a id="3908" class="Symbol">=</a> <a id="3910" href="Ledger.Dijkstra.Specification.Ledger.html#3906" class="Bound">c</a> <a id="3912" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="3914" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3918" class="Symbol">(</a><a id="3919" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4927" class="Field">DRepsOf</a> <a id="3927" href="Ledger.Dijkstra.Specification.Ledger.html#3805" class="Bound">cs</a><a id="3929" class="Symbol">)</a>

   <a id="3935" href="Ledger.Dijkstra.Specification.Ledger.html#3935" class="Function">go</a> <a id="3938" class="Symbol">:</a> <a id="3940" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a> <a id="3955" class="Symbol">→</a> <a id="3957" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a>
   <a id="3975" href="Ledger.Dijkstra.Specification.Ledger.html#3935" class="Function">go</a> <a id="3978" href="Ledger.Dijkstra.Specification.Ledger.html#3978" class="Bound">gas</a> <a id="3982" class="Symbol">=</a> <a id="3984" class="Keyword">record</a> <a id="3991" href="Ledger.Dijkstra.Specification.Ledger.html#3978" class="Bound">gas</a> <a id="3995" class="Symbol">{</a> <a id="3997" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3446" class="Field">votes</a> <a id="4003" class="Symbol">=</a> <a id="4005" class="Keyword">record</a> <a id="4012" class="Symbol">(</a><a id="4013" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4606" class="Field">GovVotesOf</a> <a id="4024" href="Ledger.Dijkstra.Specification.Ledger.html#3978" class="Bound">gas</a><a id="4027" class="Symbol">)</a> <a id="4029" class="Symbol">{</a> <a id="4031" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2139" class="Field">gvDRep</a> <a id="4038" class="Symbol">=</a> <a id="4040" href="abstract-set-theory.FiniteSetTheory.html#4196" class="Function">filterKeys</a> <a id="4051" href="Ledger.Dijkstra.Specification.Ledger.html#3849" class="Function">ifDRepRegistered</a> <a id="4068" class="Symbol">(</a><a id="4069" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2139" class="Field">GovVotes.gvDRep</a> <a id="4085" class="Symbol">(</a><a id="4086" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4606" class="Field">GovVotesOf</a> <a id="4097" href="Ledger.Dijkstra.Specification.Ledger.html#3978" class="Bound">gas</a><a id="4100" class="Symbol">))</a> <a id="4103" class="Symbol">}</a> <a id="4105" class="Symbol">}</a>

<a id="allColdCreds"></a><a id="4108" href="Ledger.Dijkstra.Specification.Ledger.html#4108" class="Function">allColdCreds</a> <a id="4121" class="Symbol">:</a> <a id="4123" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="4132" class="Symbol">→</a> <a id="4134" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a> <a id="4145" class="Symbol">→</a> <a id="4147" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4149" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
<a id="4160" href="Ledger.Dijkstra.Specification.Ledger.html#4108" class="Function">allColdCreds</a> <a id="4173" href="Ledger.Dijkstra.Specification.Ledger.html#4173" class="Bound">govSt</a> <a id="4179" href="Ledger.Dijkstra.Specification.Ledger.html#4179" class="Bound">es</a> <a id="4182" class="Symbol">=</a>
  <a id="4186" href="Ledger.Dijkstra.Specification.Enact.html#1500" class="Function">ccCreds</a> <a id="4194" class="Symbol">(</a><a id="4195" href="Ledger.Dijkstra.Specification.Ledger.html#4179" class="Bound">es</a> <a id="4198" class="Symbol">.</a><a id="4199" href="Ledger.Dijkstra.Specification.Enact.html#618" class="Field">cc</a><a id="4201" class="Symbol">)</a> <a id="4203" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="4205" href="Axiom.Set.html#7207" class="Function">concatMapˢ</a> <a id="4216" class="Symbol">(λ</a> <a id="4219" class="Symbol">(_</a> <a id="4222" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4224" href="Ledger.Dijkstra.Specification.Ledger.html#4224" class="Bound">st</a><a id="4226" class="Symbol">)</a> <a id="4228" class="Symbol">→</a> <a id="4230" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3914" class="Function">proposedCC</a> <a id="4241" class="Symbol">(</a><a id="4242" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4371" class="Field">GovActionOf</a> <a id="4254" href="Ledger.Dijkstra.Specification.Ledger.html#4224" class="Bound">st</a><a id="4256" class="Symbol">))</a> <a id="4259" class="Symbol">(</a><a id="4260" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="4269" href="Ledger.Dijkstra.Specification.Ledger.html#4173" class="Bound">govSt</a><a id="4274" class="Symbol">)</a>

<a id="calculateDepositsChange"></a><a id="4277" href="Ledger.Dijkstra.Specification.Ledger.html#4277" class="Function">calculateDepositsChange</a> <a id="4301" class="Symbol">:</a> <a id="4303" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a> <a id="4313" class="Symbol">→</a> <a id="4315" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a> <a id="4325" class="Symbol">→</a> <a id="4327" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a> <a id="4337" class="Symbol">→</a> <a id="4339" href="Ledger.Dijkstra.Specification.Utxo.html#997" class="Function">DepositsChange</a>
<a id="4354" href="Ledger.Dijkstra.Specification.Ledger.html#4277" class="Function">calculateDepositsChange</a> <a id="4378" href="Ledger.Dijkstra.Specification.Ledger.html#4378" class="Bound">certState₀</a> <a id="4389" href="Ledger.Dijkstra.Specification.Ledger.html#4389" class="Bound">certState₁</a> <a id="4400" href="Ledger.Dijkstra.Specification.Ledger.html#4400" class="Bound">certState₂</a>
  <a id="4413" class="Symbol">=</a> <a id="4415" class="Symbol">(</a><a id="4416" href="Ledger.Dijkstra.Specification.Ledger.html#4738" class="Function">coin₁</a> <a id="4422" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="4424" href="Ledger.Dijkstra.Specification.Ledger.html#4681" class="Function">coin₀</a><a id="4429" class="Symbol">)</a> <a id="4431" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4433" class="Symbol">(</a><a id="4434" href="Ledger.Dijkstra.Specification.Ledger.html#4795" class="Function">coin₂</a> <a id="4440" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="4442" href="Ledger.Dijkstra.Specification.Ledger.html#4738" class="Function">coin₁</a><a id="4447" class="Symbol">)</a>
  <a id="4451" class="Keyword">where</a>
    <a id="4461" href="Ledger.Dijkstra.Specification.Ledger.html#4461" class="Function">coinFromDeposit</a> <a id="4477" class="Symbol">:</a> <a id="4479" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a> <a id="4489" class="Symbol">→</a> <a id="4491" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
    <a id="4500" href="Ledger.Dijkstra.Specification.Ledger.html#4461" class="Function">coinFromDeposit</a> <a id="4516" href="Ledger.Dijkstra.Specification.Ledger.html#4516" class="Bound">certState</a> <a id="4526" class="Symbol">=</a>
      <a id="4534" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="4542" class="Symbol">(</a><a id="4543" href="Ledger.Dijkstra.Specification.Certs.html#2693" class="Field">DepositsOf</a> <a id="4554" class="Symbol">(</a><a id="4555" href="Ledger.Dijkstra.Specification.Certs.html#3493" class="Field">DStateOf</a> <a id="4564" href="Ledger.Dijkstra.Specification.Ledger.html#4516" class="Bound">certState</a><a id="4573" class="Symbol">))</a>
      <a id="4582" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4584" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="4592" class="Symbol">(</a><a id="4593" href="Ledger.Dijkstra.Specification.Certs.html#2693" class="Field">DepositsOf</a> <a id="4604" class="Symbol">(</a><a id="4605" href="Ledger.Dijkstra.Specification.Certs.html#3601" class="Field">PStateOf</a> <a id="4614" href="Ledger.Dijkstra.Specification.Ledger.html#4516" class="Bound">certState</a><a id="4623" class="Symbol">))</a>
      <a id="4632" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4634" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="4642" class="Symbol">(</a><a id="4643" href="Ledger.Dijkstra.Specification.Certs.html#2693" class="Field">DepositsOf</a> <a id="4654" class="Symbol">(</a><a id="4655" href="Ledger.Dijkstra.Specification.Certs.html#3709" class="Field">GStateOf</a> <a id="4664" href="Ledger.Dijkstra.Specification.Ledger.html#4516" class="Bound">certState</a><a id="4673" class="Symbol">))</a>

    <a id="4681" href="Ledger.Dijkstra.Specification.Ledger.html#4681" class="Function">coin₀</a> <a id="4687" class="Symbol">:</a> <a id="4689" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
    <a id="4698" href="Ledger.Dijkstra.Specification.Ledger.html#4681" class="Function">coin₀</a> <a id="4704" class="Symbol">=</a> <a id="4706" href="Ledger.Dijkstra.Specification.Ledger.html#4461" class="Function">coinFromDeposit</a> <a id="4722" href="Ledger.Dijkstra.Specification.Ledger.html#4378" class="Bound">certState₀</a>

    <a id="4738" href="Ledger.Dijkstra.Specification.Ledger.html#4738" class="Function">coin₁</a> <a id="4744" class="Symbol">:</a> <a id="4746" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
    <a id="4755" href="Ledger.Dijkstra.Specification.Ledger.html#4738" class="Function">coin₁</a> <a id="4761" class="Symbol">=</a> <a id="4763" href="Ledger.Dijkstra.Specification.Ledger.html#4461" class="Function">coinFromDeposit</a> <a id="4779" href="Ledger.Dijkstra.Specification.Ledger.html#4389" class="Bound">certState₁</a>

    <a id="4795" href="Ledger.Dijkstra.Specification.Ledger.html#4795" class="Function">coin₂</a> <a id="4801" class="Symbol">:</a> <a id="4803" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
    <a id="4812" href="Ledger.Dijkstra.Specification.Ledger.html#4795" class="Function">coin₂</a> <a id="4818" class="Symbol">=</a> <a id="4820" href="Ledger.Dijkstra.Specification.Ledger.html#4461" class="Function">coinFromDeposit</a> <a id="4836" href="Ledger.Dijkstra.Specification.Ledger.html#4400" class="Bound">certState₂</a>


<a id="4849" class="Keyword">private</a> <a id="4857" class="Keyword">variable</a>
  <a id="4868" href="Ledger.Dijkstra.Specification.Ledger.html#4868" class="Generalizable">utxo₀</a>                             <a id="4902" class="Symbol">:</a> <a id="4904" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a>
  <a id="4911" href="Ledger.Dijkstra.Specification.Ledger.html#4911" class="Generalizable">utxoState₀</a> <a id="4922" href="Ledger.Dijkstra.Specification.Ledger.html#4922" class="Generalizable">utxoState₁</a> <a id="4933" href="Ledger.Dijkstra.Specification.Ledger.html#4933" class="Generalizable">utxoState₂</a>  <a id="4945" class="Symbol">:</a> <a id="4947" href="Ledger.Dijkstra.Specification.Utxo.html#1583" class="Record">UTxOState</a>
  <a id="4959" href="Ledger.Dijkstra.Specification.Ledger.html#4959" class="Generalizable">certState₀</a> <a id="4970" href="Ledger.Dijkstra.Specification.Ledger.html#4970" class="Generalizable">certState₁</a> <a id="4981" href="Ledger.Dijkstra.Specification.Ledger.html#4981" class="Generalizable">certState₂</a>  <a id="4993" class="Symbol">:</a> <a id="4995" href="Ledger.Dijkstra.Specification.Certs.html#2389" class="Record">CertState</a>
  <a id="5007" href="Ledger.Dijkstra.Specification.Ledger.html#5007" class="Generalizable">govState₀</a>  <a id="5018" href="Ledger.Dijkstra.Specification.Ledger.html#5018" class="Generalizable">govState₁</a>  <a id="5029" href="Ledger.Dijkstra.Specification.Ledger.html#5029" class="Generalizable">govState₂</a>   <a id="5041" class="Symbol">:</a> <a id="5043" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
  <a id="5054" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a>                                <a id="5088" class="Symbol">:</a> <a id="5090" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a>
  <a id="5103" href="Ledger.Dijkstra.Specification.Ledger.html#5103" class="Generalizable">stx</a>                               <a id="5137" class="Symbol">:</a> <a id="5139" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a>
  <a id="5152" href="Ledger.Dijkstra.Specification.Ledger.html#5152" class="Generalizable">slot</a>                              <a id="5186" class="Symbol">:</a> <a id="5188" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
  <a id="5195" href="Ledger.Dijkstra.Specification.Ledger.html#5195" class="Generalizable">ppolicy</a>                           <a id="5229" class="Symbol">:</a> <a id="5231" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5237" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
  <a id="5250" href="Ledger.Dijkstra.Specification.Ledger.html#5250" class="Generalizable">pp</a>                                <a id="5284" class="Symbol">:</a> <a id="5286" href="Ledger.Dijkstra.Specification.PParams.html#1960" class="Record">PParams</a>
  <a id="5296" href="Ledger.Dijkstra.Specification.Ledger.html#5296" class="Generalizable">enactState</a>                        <a id="5330" class="Symbol">:</a> <a id="5332" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a>
  <a id="5345" href="Ledger.Dijkstra.Specification.Ledger.html#5345" class="Generalizable">treasury</a>                          <a id="5379" class="Symbol">:</a> <a id="5381" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>
  <a id="5392" href="Ledger.Dijkstra.Specification.Ledger.html#5392" class="Generalizable">isTopLevelValid</a>                   <a id="5426" class="Symbol">:</a> <a id="5428" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="5435" href="Ledger.Dijkstra.Specification.Ledger.html#5435" class="Generalizable">allScripts</a>                        <a id="5469" class="Symbol">:</a> <a id="5471" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5473" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
  <a id="5482" href="Ledger.Dijkstra.Specification.Ledger.html#5482" class="Generalizable">allData</a>                           <a id="5516" class="Symbol">:</a> <a id="5518" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a> <a id="5527" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5529" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>


<a id="5537" class="Keyword">data</a> <a id="_⊢_⇀⦇_,SUBLEDGER⦈_"></a><a id="5542" href="Ledger.Dijkstra.Specification.Ledger.html#5542" class="Datatype Operator">_⊢_⇀⦇_,SUBLEDGER⦈_</a> <a id="5561" class="Symbol">:</a> <a id="5563" href="Ledger.Dijkstra.Specification.Ledger.html#698" class="Record">SubLedgerEnv</a> <a id="5576" class="Symbol">→</a> <a id="5578" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="5585" class="Symbol">→</a> <a id="5587" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a> <a id="5598" class="Symbol">→</a> <a id="5600" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="5607" class="Symbol">→</a> <a id="5609" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5614" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,SUBLEDGER⦈_.SUBLEDGER-V"></a><a id="5623" href="Ledger.Dijkstra.Specification.Ledger.html#5623" class="InductiveConstructor">SUBLEDGER-V</a> <a id="5635" class="Symbol">:</a>
      <a id="5643" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="5645" href="Ledger.Dijkstra.Specification.Ledger.html#5392" class="Generalizable">isTopLevelValid</a> <a id="5661" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5663" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="5674" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{5678}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{5685}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5345}{\htmlId{5690}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4868}{\htmlId{5701}{\htmlClass{Generalizable}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5392}{\htmlId{5709}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5435}{\htmlId{5727}{\htmlClass{Generalizable}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5482}{\htmlId{5740}{\htmlClass{Generalizable}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="5750" href="Ledger.Dijkstra.Specification.Utxow.html#3051" class="Datatype Operator">⊢</a> <a id="5752" href="Ledger.Dijkstra.Specification.Ledger.html#4911" class="Generalizable">utxoState₀</a> <a id="5763" href="Ledger.Dijkstra.Specification.Utxow.html#3051" class="Datatype Operator">⇀⦇</a> <a id="5766" href="Ledger.Dijkstra.Specification.Ledger.html#5103" class="Generalizable">stx</a> <a id="5770" href="Ledger.Dijkstra.Specification.Utxow.html#3051" class="Datatype Operator">,SUBUTXOW⦈</a> <a id="5781" href="Ledger.Dijkstra.Specification.Ledger.html#4922" class="Generalizable">utxoState₁</a>
      <a id="5798" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{5802}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{5808}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{5815}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#8082}{\htmlId{5820}{\htmlClass{Field}{\text{ListOfGovVotesOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5103}{\htmlId{5837}{\htmlClass{Generalizable}{\text{stx}}}}\, \\ \,\href{Ledger.Core.Specification.Address.html#1839}{\htmlId{5843}{\htmlClass{Field}{\text{WithdrawalsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5103}{\htmlId{5857}{\htmlClass{Generalizable}{\text{stx}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4108}{\htmlId{5863}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5007}{\htmlId{5876}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5296}{\htmlId{5886}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="5899" href="Ledger.Dijkstra.Specification.Certs.html#12307" class="Function Operator">⊢</a> <a id="5901" href="Ledger.Dijkstra.Specification.Ledger.html#4959" class="Generalizable">certState₀</a> <a id="5912" href="Ledger.Dijkstra.Specification.Certs.html#12307" class="Function Operator">⇀⦇</a> <a id="5915" href="Ledger.Dijkstra.Specification.Transaction.html#7687" class="Field">DCertsOf</a> <a id="5924" href="Ledger.Dijkstra.Specification.Ledger.html#5103" class="Generalizable">stx</a> <a id="5928" href="Ledger.Dijkstra.Specification.Certs.html#12307" class="Function Operator">,CERTS⦈</a> <a id="5936" href="Ledger.Dijkstra.Specification.Ledger.html#4970" class="Generalizable">certState₁</a>
      <a id="5953" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Transaction.html#6811}{\htmlId{5957}{\htmlClass{Field}{\text{TxIdOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5103}{\htmlId{5964}{\htmlClass{Generalizable}{\text{stx}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{5970}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{5976}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{5983}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5195}{\htmlId{5988}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5296}{\htmlId{5998}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4970}{\htmlId{6011}{\htmlClass{Generalizable}{\text{certState₁}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{6024}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{6028}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Dijkstra.Specification.Certs.html#3148}{\htmlId{6029}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4970}{\htmlId{6039}{\htmlClass{Generalizable}{\text{certState₁}}}}\,\,\htmlId{6049}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="6053" href="Ledger.Dijkstra.Specification.Gov.html#17187" class="Function Operator">⊢</a> <a id="6055" href="Ledger.Dijkstra.Specification.Ledger.html#5007" class="Generalizable">govState₀</a> <a id="6065" href="Ledger.Dijkstra.Specification.Gov.html#17187" class="Function Operator">⇀⦇</a> <a id="6068" href="Ledger.Dijkstra.Specification.Ledger.html#3576" class="Function">GovProposals+Votes</a> <a id="6087" href="Ledger.Dijkstra.Specification.Ledger.html#5103" class="Generalizable">stx</a> <a id="6091" href="Ledger.Dijkstra.Specification.Gov.html#17187" class="Function Operator">,GOVS⦈</a> <a id="6098" href="Ledger.Dijkstra.Specification.Ledger.html#5018" class="Generalizable">govState₁</a>
        <a id="6116" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
        <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{6159}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5195}{\htmlId{6166}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{6176}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5296}{\htmlId{6181}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5345}{\htmlId{6194}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4868}{\htmlId{6205}{\htmlClass{Generalizable}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5392}{\htmlId{6213}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5435}{\htmlId{6231}{\htmlClass{Generalizable}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5482}{\htmlId{6244}{\htmlClass{Generalizable}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="6254" href="Ledger.Dijkstra.Specification.Ledger.html#5542" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4911}{\htmlId{6258}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5007}{\htmlId{6271}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4959}{\htmlId{6283}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="6296" href="Ledger.Dijkstra.Specification.Ledger.html#5542" class="Datatype Operator">⇀⦇</a> <a id="6299" href="Ledger.Dijkstra.Specification.Ledger.html#5103" class="Generalizable">stx</a> <a id="6303" href="Ledger.Dijkstra.Specification.Ledger.html#5542" class="Datatype Operator">,SUBLEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4922}{\htmlId{6317}{\htmlClass{Generalizable}{\text{utxoState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5018}{\htmlId{6330}{\htmlClass{Generalizable}{\text{govState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4970}{\htmlId{6342}{\htmlClass{Generalizable}{\text{certState₁}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,SUBLEDGER⦈_.SUBLEDGER-I"></a><a id="6358" href="Ledger.Dijkstra.Specification.Ledger.html#6358" class="InductiveConstructor">SUBLEDGER-I</a> <a id="6370" class="Symbol">:</a>
      <a id="6378" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="6380" href="Ledger.Dijkstra.Specification.Ledger.html#5392" class="Generalizable">isTopLevelValid</a> <a id="6396" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6398" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
      <a id="6410" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{6414}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{6421}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5345}{\htmlId{6426}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4868}{\htmlId{6437}{\htmlClass{Generalizable}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5392}{\htmlId{6445}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5435}{\htmlId{6463}{\htmlClass{Generalizable}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5482}{\htmlId{6476}{\htmlClass{Generalizable}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="6486" href="Ledger.Dijkstra.Specification.Utxow.html#3051" class="Datatype Operator">⊢</a> <a id="6488" href="Ledger.Dijkstra.Specification.Ledger.html#4911" class="Generalizable">utxoState₀</a> <a id="6499" href="Ledger.Dijkstra.Specification.Utxow.html#3051" class="Datatype Operator">⇀⦇</a> <a id="6502" href="Ledger.Dijkstra.Specification.Ledger.html#5103" class="Generalizable">stx</a> <a id="6506" href="Ledger.Dijkstra.Specification.Utxow.html#3051" class="Datatype Operator">,SUBUTXOW⦈</a> <a id="6517" href="Ledger.Dijkstra.Specification.Ledger.html#4911" class="Generalizable">utxoState₀</a>
        <a id="6536" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
        <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{6579}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5195}{\htmlId{6586}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{6596}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5296}{\htmlId{6601}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5345}{\htmlId{6614}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4868}{\htmlId{6625}{\htmlClass{Generalizable}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5392}{\htmlId{6633}{\htmlClass{Generalizable}{\text{isTopLevelValid}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5435}{\htmlId{6651}{\htmlClass{Generalizable}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5482}{\htmlId{6664}{\htmlClass{Generalizable}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="6674" href="Ledger.Dijkstra.Specification.Ledger.html#5542" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4911}{\htmlId{6678}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5007}{\htmlId{6691}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4959}{\htmlId{6703}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="6716" href="Ledger.Dijkstra.Specification.Ledger.html#5542" class="Datatype Operator">⇀⦇</a> <a id="6719" href="Ledger.Dijkstra.Specification.Ledger.html#5103" class="Generalizable">stx</a> <a id="6723" href="Ledger.Dijkstra.Specification.Ledger.html#5542" class="Datatype Operator">,SUBLEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4911}{\htmlId{6737}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5007}{\htmlId{6750}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4959}{\htmlId{6762}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a>

<a id="_⊢_⇀⦇_,SUBLEDGERS⦈_"></a><a id="6776" href="Ledger.Dijkstra.Specification.Ledger.html#6776" class="Function Operator">_⊢_⇀⦇_,SUBLEDGERS⦈_</a> <a id="6796" class="Symbol">:</a> <a id="6798" href="Ledger.Dijkstra.Specification.Ledger.html#698" class="Record">SubLedgerEnv</a> <a id="6811" class="Symbol">→</a> <a id="6813" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="6820" class="Symbol">→</a> <a id="6822" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6827" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a> <a id="6838" class="Symbol">→</a> <a id="6840" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="6847" class="Symbol">→</a> <a id="6849" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="6854" href="Ledger.Dijkstra.Specification.Ledger.html#6776" class="Function Operator">_⊢_⇀⦇_,SUBLEDGERS⦈_</a> <a id="6874" class="Symbol">=</a> <a id="6876" href="Interface.STS.html#2048" class="Function">ReflexiveTransitiveClosure</a> <a id="6903" class="Symbol">{</a><a id="6904" class="Argument">sts</a> <a id="6908" class="Symbol">=</a> <a id="6910" href="Ledger.Dijkstra.Specification.Ledger.html#5542" class="Datatype Operator">_⊢_⇀⦇_,SUBLEDGER⦈_</a><a id="6928" class="Symbol">}</a>


<a id="6932" class="Keyword">data</a> <a id="_⊢_⇀⦇_,LEDGER⦈_"></a><a id="6937" href="Ledger.Dijkstra.Specification.Ledger.html#6937" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="6953" class="Symbol">:</a> <a id="6955" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a> <a id="6965" class="Symbol">→</a> <a id="6967" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="6974" class="Symbol">→</a> <a id="6976" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="6987" class="Symbol">→</a> <a id="6989" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="6996" class="Symbol">→</a> <a id="6998" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="7003" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-V"></a><a id="7012" href="Ledger.Dijkstra.Specification.Ledger.html#7012" class="InductiveConstructor">LEDGER-V</a> <a id="7021" class="Symbol">:</a>
    <a id="7027" class="Keyword">let</a>  <a id="7032" href="Ledger.Dijkstra.Specification.Ledger.html#7032" class="Bound">utxo₀</a> <a id="7038" class="Symbol">:</a> <a id="7040" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a>
         <a id="7054" href="Ledger.Dijkstra.Specification.Ledger.html#7032" class="Bound">utxo₀</a> <a id="7060" class="Symbol">=</a> <a id="7062" href="Ledger.Dijkstra.Specification.Transaction.html#3454" class="Field">UTxOOf</a> <a id="7069" href="Ledger.Dijkstra.Specification.Ledger.html#4911" class="Generalizable">utxoState₀</a>

         <a id="7090" href="Ledger.Dijkstra.Specification.Ledger.html#7090" class="Bound">allScripts</a> <a id="7101" class="Symbol">:</a> <a id="7103" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7105" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
         <a id="7121" href="Ledger.Dijkstra.Specification.Ledger.html#7090" class="Bound">allScripts</a> <a id="7132" class="Symbol">=</a> <a id="7134" href="Ledger.Dijkstra.Specification.Transaction.html#17613" class="Function">getAllScripts</a> <a id="7148" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="7151" href="Ledger.Dijkstra.Specification.Ledger.html#7032" class="Bound">utxo₀</a>

         <a id="7167" href="Ledger.Dijkstra.Specification.Ledger.html#7167" class="Bound">allData</a> <a id="7175" class="Symbol">:</a> <a id="7177" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a> <a id="7186" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="7188" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
         <a id="7203" href="Ledger.Dijkstra.Specification.Ledger.html#7167" class="Bound">allData</a> <a id="7211" class="Symbol">=</a> <a id="7213" href="Ledger.Prelude.html#1832" class="Function">setToMap</a> <a id="7222" class="Symbol">(</a><a id="7223" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="7228" href="Data.Product.Base.html#2000" class="Function Operator">&lt;</a> <a id="7230" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="7235" href="Data.Product.Base.html#2000" class="Function Operator">,</a> <a id="7237" href="Function.Base.html#704" class="Function">id</a> <a id="7240" href="Data.Product.Base.html#2000" class="Function Operator">&gt;</a> <a id="7242" class="Symbol">(</a><a id="7243" href="Ledger.Dijkstra.Specification.Transaction.html#18785" class="Function">getAllData</a> <a id="7254" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="7257" href="Ledger.Dijkstra.Specification.Ledger.html#7032" class="Bound">utxo₀</a><a id="7262" class="Symbol">))</a>

         <a id="7275" href="Ledger.Dijkstra.Specification.Ledger.html#7275" class="Bound">depositsChange</a> <a id="7290" class="Symbol">:</a> <a id="7292" href="Ledger.Dijkstra.Specification.Utxo.html#997" class="Function">DepositsChange</a>
         <a id="7316" href="Ledger.Dijkstra.Specification.Ledger.html#7275" class="Bound">depositsChange</a> <a id="7331" class="Symbol">=</a> <a id="7333" href="Ledger.Dijkstra.Specification.Ledger.html#4277" class="Function">calculateDepositsChange</a> <a id="7357" href="Ledger.Dijkstra.Specification.Ledger.html#4959" class="Generalizable">certState₀</a> <a id="7368" href="Ledger.Dijkstra.Specification.Ledger.html#4970" class="Generalizable">certState₁</a> <a id="7379" href="Ledger.Dijkstra.Specification.Ledger.html#4981" class="Generalizable">certState₂</a>
    <a id="7394" class="Keyword">in</a>
      <a id="7403" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="7405" href="Ledger.Dijkstra.Specification.Transaction.html#8884" class="Field">IsValidFlagOf</a> <a id="7419" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="7422" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7424" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="7435" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{7439}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5195}{\htmlId{7446}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{7456}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5296}{\htmlId{7461}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5345}{\htmlId{7474}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7032}{\htmlId{7485}{\htmlClass{Bound}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#8884}{\htmlId{7493}{\htmlClass{Field}{\text{IsValidFlagOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5054}{\htmlId{7507}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7090}{\htmlId{7512}{\htmlClass{Bound}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7167}{\htmlId{7525}{\htmlClass{Bound}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="7535" href="Ledger.Dijkstra.Specification.Ledger.html#6776" class="Function Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4911}{\htmlId{7539}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5007}{\htmlId{7552}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4959}{\htmlId{7564}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="7577" href="Ledger.Dijkstra.Specification.Ledger.html#6776" class="Function Operator">⇀⦇</a> <a id="7580" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="7598" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="7601" href="Ledger.Dijkstra.Specification.Ledger.html#6776" class="Function Operator">,SUBLEDGERS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4922}{\htmlId{7616}{\htmlClass{Generalizable}{\text{utxoState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5018}{\htmlId{7629}{\htmlClass{Generalizable}{\text{govState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4970}{\htmlId{7641}{\htmlClass{Generalizable}{\text{certState₁}}}}\, \end{pmatrix}$</a>
      <a id="7660" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{7664}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{7670}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{7677}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#8082}{\htmlId{7682}{\htmlClass{Field}{\text{ListOfGovVotesOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5054}{\htmlId{7699}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Core.Specification.Address.html#1839}{\htmlId{7704}{\htmlClass{Field}{\text{WithdrawalsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5054}{\htmlId{7718}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4108}{\htmlId{7723}{\htmlClass{Function}{\text{allColdCreds}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5018}{\htmlId{7736}{\htmlClass{Generalizable}{\text{govState₁}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5296}{\htmlId{7746}{\htmlClass{Generalizable}{\text{enactState}}}}\, \end{pmatrix}$</a> <a id="7759" href="Ledger.Dijkstra.Specification.Certs.html#12307" class="Function Operator">⊢</a> <a id="7761" href="Ledger.Dijkstra.Specification.Ledger.html#4970" class="Generalizable">certState₁</a> <a id="7772" href="Ledger.Dijkstra.Specification.Certs.html#12307" class="Function Operator">⇀⦇</a> <a id="7775" href="Ledger.Dijkstra.Specification.Transaction.html#7687" class="Field">DCertsOf</a> <a id="7784" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="7787" href="Ledger.Dijkstra.Specification.Certs.html#12307" class="Function Operator">,CERTS⦈</a> <a id="7795" href="Ledger.Dijkstra.Specification.Ledger.html#4981" class="Generalizable">certState₂</a>
      <a id="7812" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Transaction.html#6811}{\htmlId{7816}{\htmlClass{Field}{\text{TxIdOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5054}{\htmlId{7823}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{7828}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{7834}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{7841}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5195}{\htmlId{7846}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5296}{\htmlId{7856}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4981}{\htmlId{7869}{\htmlClass{Generalizable}{\text{certState₂}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{7882}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{7886}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Dijkstra.Specification.Certs.html#3148}{\htmlId{7887}{\htmlClass{Field}{\text{RewardsOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4981}{\htmlId{7897}{\htmlClass{Generalizable}{\text{certState₂}}}}\,\,\htmlId{7907}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="7911" href="Ledger.Dijkstra.Specification.Gov.html#17187" class="Function Operator">⊢</a> <a id="7913" href="Ledger.Dijkstra.Specification.Ledger.html#5018" class="Generalizable">govState₁</a> <a id="7923" href="Ledger.Dijkstra.Specification.Gov.html#17187" class="Function Operator">⇀⦇</a> <a id="7926" href="Ledger.Dijkstra.Specification.Ledger.html#3576" class="Function">GovProposals+Votes</a> <a id="7945" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="7948" href="Ledger.Dijkstra.Specification.Gov.html#17187" class="Function Operator">,GOVS⦈</a> <a id="7955" href="Ledger.Dijkstra.Specification.Ledger.html#5029" class="Generalizable">govState₂</a>
      <a id="7971" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{7975}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{7982}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5345}{\htmlId{7987}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7032}{\htmlId{7998}{\htmlClass{Bound}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7275}{\htmlId{8006}{\htmlClass{Bound}{\text{depositsChange}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7090}{\htmlId{8023}{\htmlClass{Bound}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#7167}{\htmlId{8036}{\htmlClass{Bound}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="8046" href="Ledger.Dijkstra.Specification.Utxow.html#4830" class="Datatype Operator">⊢</a> <a id="8048" href="Ledger.Dijkstra.Specification.Ledger.html#4922" class="Generalizable">utxoState₁</a> <a id="8059" href="Ledger.Dijkstra.Specification.Utxow.html#4830" class="Datatype Operator">⇀⦇</a> <a id="8062" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="8065" href="Ledger.Dijkstra.Specification.Utxow.html#4830" class="Datatype Operator">,UTXOW⦈</a> <a id="8073" href="Ledger.Dijkstra.Specification.Ledger.html#4933" class="Generalizable">utxoState₂</a>
        <a id="8092" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
        <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{8135}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5195}{\htmlId{8142}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{8152}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5296}{\htmlId{8157}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5345}{\htmlId{8170}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="8181" href="Ledger.Dijkstra.Specification.Ledger.html#6937" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4911}{\htmlId{8185}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5007}{\htmlId{8198}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4959}{\htmlId{8210}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="8223" href="Ledger.Dijkstra.Specification.Ledger.html#6937" class="Datatype Operator">⇀⦇</a> <a id="8226" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="8229" href="Ledger.Dijkstra.Specification.Ledger.html#6937" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4933}{\htmlId{8240}{\htmlClass{Generalizable}{\text{utxoState₂}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#3735}{\htmlId{8253}{\htmlClass{Function}{\text{rmOrphanDRepVotes}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#4981}{\htmlId{8271}{\htmlClass{Generalizable}{\text{certState₂}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5029}{\htmlId{8282}{\htmlClass{Generalizable}{\text{govState₂}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4981}{\htmlId{8294}{\htmlClass{Generalizable}{\text{certState₂}}}}\, \end{pmatrix}$</a>


  <a id="_⊢_⇀⦇_,LEDGER⦈_.LEDGER-I"></a><a id="8311" href="Ledger.Dijkstra.Specification.Ledger.html#8311" class="InductiveConstructor">LEDGER-I</a> <a id="8320" class="Symbol">:</a>
    <a id="8326" class="Keyword">let</a>  <a id="8331" href="Ledger.Dijkstra.Specification.Ledger.html#8331" class="Bound">utxo₀</a> <a id="8337" class="Symbol">:</a> <a id="8339" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a>
         <a id="8353" href="Ledger.Dijkstra.Specification.Ledger.html#8331" class="Bound">utxo₀</a> <a id="8359" class="Symbol">=</a> <a id="8361" href="Ledger.Dijkstra.Specification.Transaction.html#3454" class="Field">UTxOOf</a> <a id="8368" href="Ledger.Dijkstra.Specification.Ledger.html#4911" class="Generalizable">utxoState₀</a>

         <a id="8389" href="Ledger.Dijkstra.Specification.Ledger.html#8389" class="Bound">allScripts</a> <a id="8400" class="Symbol">:</a> <a id="8402" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8404" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
         <a id="8420" href="Ledger.Dijkstra.Specification.Ledger.html#8389" class="Bound">allScripts</a> <a id="8431" class="Symbol">=</a> <a id="8433" href="Ledger.Dijkstra.Specification.Transaction.html#17613" class="Function">getAllScripts</a> <a id="8447" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="8450" href="Ledger.Dijkstra.Specification.Ledger.html#8331" class="Bound">utxo₀</a>

         <a id="8466" href="Ledger.Dijkstra.Specification.Ledger.html#8466" class="Bound">allData</a> <a id="8474" class="Symbol">:</a> <a id="8476" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a> <a id="8485" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="8487" href="Ledger.Dijkstra.Specification.Script.Base.html#1835" class="Function">Datum</a>
         <a id="8502" href="Ledger.Dijkstra.Specification.Ledger.html#8466" class="Bound">allData</a> <a id="8510" class="Symbol">=</a> <a id="8512" href="Ledger.Prelude.html#1832" class="Function">setToMap</a> <a id="8521" class="Symbol">(</a><a id="8522" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="8527" href="Data.Product.Base.html#2000" class="Function Operator">&lt;</a> <a id="8529" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="8534" href="Data.Product.Base.html#2000" class="Function Operator">,</a> <a id="8536" href="Function.Base.html#704" class="Function">id</a> <a id="8539" href="Data.Product.Base.html#2000" class="Function Operator">&gt;</a> <a id="8541" class="Symbol">(</a><a id="8542" href="Ledger.Dijkstra.Specification.Transaction.html#18785" class="Function">getAllData</a> <a id="8553" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="8556" href="Ledger.Dijkstra.Specification.Ledger.html#8331" class="Bound">utxo₀</a><a id="8561" class="Symbol">))</a>
    <a id="8568" class="Keyword">in</a>
      <a id="8577" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="8579" href="Ledger.Dijkstra.Specification.Transaction.html#8884" class="Field">IsValidFlagOf</a> <a id="8593" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="8596" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8598" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
      <a id="8610" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{8614}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5195}{\htmlId{8621}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{8631}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5296}{\htmlId{8636}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5345}{\htmlId{8649}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8331}{\htmlId{8660}{\htmlClass{Bound}{\text{utxo₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Transaction.html#8884}{\htmlId{8668}{\htmlClass{Field}{\text{IsValidFlagOf}}}}\, \,\href{Ledger.Dijkstra.Specification.Ledger.html#5054}{\htmlId{8682}{\htmlClass{Generalizable}{\text{tx}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8389}{\htmlId{8687}{\htmlClass{Bound}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8466}{\htmlId{8700}{\htmlClass{Bound}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="8710" href="Ledger.Dijkstra.Specification.Ledger.html#6776" class="Function Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4911}{\htmlId{8714}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5007}{\htmlId{8727}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4959}{\htmlId{8739}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="8752" href="Ledger.Dijkstra.Specification.Ledger.html#6776" class="Function Operator">⇀⦇</a> <a id="8755" href="Ledger.Dijkstra.Specification.Transaction.html#6390" class="Field">SubTransactionsOf</a> <a id="8773" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="8776" href="Ledger.Dijkstra.Specification.Ledger.html#6776" class="Function Operator">,SUBLEDGERS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4911}{\htmlId{8791}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5007}{\htmlId{8804}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4959}{\htmlId{8816}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a>
      <a id="8835" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{8839}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{8846}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5345}{\htmlId{8851}{\htmlClass{Generalizable}{\text{treasury}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8331}{\htmlId{8862}{\htmlClass{Bound}{\text{utxo₀}}}}\, \\ \,\htmlId{8870}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Data.Integer.Base.html#1545}{\htmlId{8871}{\htmlClass{Function}{\text{0ℤ}}}}\, , \,\href{Data.Integer.Base.html#1545}{\htmlId{8876}{\htmlClass{Function}{\text{0ℤ}}}}\,\,\htmlId{8878}{\htmlClass{Symbol}{\text{)}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8389}{\htmlId{8882}{\htmlClass{Bound}{\text{allScripts}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#8466}{\htmlId{8895}{\htmlClass{Bound}{\text{allData}}}}\, \end{pmatrix}$</a> <a id="8905" href="Ledger.Dijkstra.Specification.Utxow.html#4830" class="Datatype Operator">⊢</a> <a id="8907" href="Ledger.Dijkstra.Specification.Ledger.html#4911" class="Generalizable">utxoState₀</a> <a id="8918" href="Ledger.Dijkstra.Specification.Utxow.html#4830" class="Datatype Operator">⇀⦇</a> <a id="8921" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="8924" href="Ledger.Dijkstra.Specification.Utxow.html#4830" class="Datatype Operator">,UTXOW⦈</a> <a id="8932" href="Ledger.Dijkstra.Specification.Ledger.html#4922" class="Generalizable">utxoState₁</a>
        <a id="8951" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
        <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#5152}{\htmlId{8994}{\htmlClass{Generalizable}{\text{slot}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5195}{\htmlId{9001}{\htmlClass{Generalizable}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5250}{\htmlId{9011}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5296}{\htmlId{9016}{\htmlClass{Generalizable}{\text{enactState}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5345}{\htmlId{9029}{\htmlClass{Generalizable}{\text{treasury}}}}\, \end{pmatrix}$</a> <a id="9040" href="Ledger.Dijkstra.Specification.Ledger.html#6937" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4911}{\htmlId{9044}{\htmlClass{Generalizable}{\text{utxoState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5007}{\htmlId{9057}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4959}{\htmlId{9069}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a> <a id="9082" href="Ledger.Dijkstra.Specification.Ledger.html#6937" class="Datatype Operator">⇀⦇</a> <a id="9085" href="Ledger.Dijkstra.Specification.Ledger.html#5054" class="Generalizable">tx</a> <a id="9088" href="Ledger.Dijkstra.Specification.Ledger.html#6937" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Ledger.html#4922}{\htmlId{9099}{\htmlClass{Generalizable}{\text{utxoState₁}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#5007}{\htmlId{9112}{\htmlClass{Generalizable}{\text{govState₀}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Ledger.html#4959}{\htmlId{9124}{\htmlClass{Generalizable}{\text{certState₀}}}}\, \end{pmatrix}$</a>

<a id="_⊢_⇀⦇_,LEDGERS⦈_"></a><a id="9138" href="Ledger.Dijkstra.Specification.Ledger.html#9138" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="9155" class="Symbol">:</a> <a id="9157" href="Ledger.Dijkstra.Specification.Ledger.html#1033" class="Record">LedgerEnv</a> <a id="9167" class="Symbol">→</a> <a id="9169" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="9176" class="Symbol">→</a> <a id="9178" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="9183" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="9194" class="Symbol">→</a> <a id="9196" href="Ledger.Dijkstra.Specification.Ledger.html#1597" class="Record">LState</a> <a id="9203" class="Symbol">→</a> <a id="9205" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="9210" href="Ledger.Dijkstra.Specification.Ledger.html#9138" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="9227" class="Symbol">=</a> <a id="9229" href="Interface.STS.html#2048" class="Function">ReflexiveTransitiveClosure</a> <a id="9256" class="Symbol">{</a><a id="9257" class="Argument">sts</a> <a id="9261" class="Symbol">=</a> <a id="9263" href="Ledger.Dijkstra.Specification.Ledger.html#6937" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a><a id="9278" class="Symbol">}</a>

</pre></body></html>