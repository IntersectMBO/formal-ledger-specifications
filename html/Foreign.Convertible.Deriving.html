<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Foreign.Convertible.Deriving</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Foreign.Convertible.Deriving.html" class="Module">Foreign.Convertible.Deriving</a> <a id="37" class="Keyword">where</a>

<a id="44" class="Keyword">open</a> <a id="49" class="Keyword">import</a> <a id="56" href="Level.html" class="Module">Level</a>
<a id="62" class="Keyword">open</a> <a id="67" class="Keyword">import</a> <a id="74" href="Meta.Prelude.html" class="Module">Meta.Prelude</a>
<a id="87" class="Keyword">open</a> <a id="92" class="Keyword">import</a> <a id="99" href="Meta.Init.html" class="Module">Meta.Init</a>

<a id="110" class="Keyword">import</a> <a id="117" href="Data.List.html" class="Module">Data.List</a> <a id="127" class="Symbol">as</a> <a id="130" class="Module">L</a>
<a id="132" class="Keyword">import</a> <a id="139" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="158" class="Symbol">as</a> <a id="161" class="Module">NE</a>
<a id="164" class="Keyword">import</a> <a id="171" href="Data.String.html" class="Module">Data.String</a> <a id="183" class="Symbol">as</a> <a id="186" class="Module">S</a>
<a id="188" class="Keyword">import</a> <a id="195" href="Data.Product.html" class="Module">Data.Product</a> <a id="208" class="Symbol">as</a> <a id="211" class="Module">P</a>

<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="243" class="Keyword">open</a> <a id="248" class="Keyword">import</a> <a id="255" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>

<a id="283" class="Keyword">open</a> <a id="288" class="Keyword">import</a> <a id="295" href="Reflection.Tactic.html" class="Module">Reflection.Tactic</a>
<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="Reflection.AST.Term.html" class="Module">Reflection.AST.Term</a>
<a id="345" class="Keyword">open</a> <a id="350" class="Keyword">import</a> <a id="357" href="Reflection.AST.DeBruijn.html" class="Module">Reflection.AST.DeBruijn</a>
<a id="381" class="Keyword">import</a> <a id="388" href="Reflection.TCM.html" class="Module">Reflection.TCM</a> <a id="403" class="Symbol">as</a> <a id="406" class="Module">R</a>
<a id="408" class="Keyword">open</a> <a id="413" class="Keyword">import</a> <a id="420" href="Reflection.Utils.html" class="Module">Reflection.Utils</a>
<a id="437" class="Keyword">open</a> <a id="442" class="Keyword">import</a> <a id="449" href="Reflection.Utils.TCI.html" class="Module">Reflection.Utils.TCI</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Reflection.Utils.Substitute.html" class="Module">Reflection.Utils.Substitute</a>
<a id="510" class="Keyword">import</a> <a id="517" href="Function.Identity.Effectful.html" class="Module">Function.Identity.Effectful</a> <a id="545" class="Symbol">as</a> <a id="548" class="Module">Identity</a>

<a id="558" class="Keyword">open</a> <a id="563" class="Keyword">import</a> <a id="570" href="Class.DecEq.html" class="Module">Class.DecEq</a>
<a id="582" class="Keyword">open</a> <a id="587" class="Keyword">import</a> <a id="594" href="Class.DecEq.html" class="Module">Class.DecEq</a>
<a id="606" class="Keyword">open</a> <a id="611" class="Keyword">import</a> <a id="618" href="Class.Functor.html" class="Module">Class.Functor</a>
<a id="632" class="Keyword">open</a> <a id="637" class="Keyword">import</a> <a id="644" href="Class.Monad.html" class="Module">Class.Monad</a>
<a id="656" class="Keyword">open</a> <a id="661" class="Keyword">import</a> <a id="668" href="Class.MonadTC.Instances.html" class="Module">Class.MonadTC.Instances</a>
<a id="692" class="Keyword">open</a> <a id="697" class="Keyword">import</a> <a id="704" href="Class.Traversable.html" class="Module">Class.Traversable</a>
<a id="722" class="Keyword">open</a> <a id="727" class="Keyword">import</a> <a id="734" href="Class.Show.html" class="Module">Class.Show</a>
<a id="745" class="Keyword">open</a> <a id="750" class="Keyword">import</a> <a id="757" href="Class.MonadReader.html" class="Module">Class.MonadReader</a>

<a id="776" class="Keyword">open</a> <a id="781" class="Keyword">import</a> <a id="788" href="Foreign.Convertible.html" class="Module">Foreign.Convertible</a>
<a id="808" class="Keyword">open</a> <a id="813" class="Keyword">import</a> <a id="820" href="Foreign.HaskellTypes.html" class="Module">Foreign.HaskellTypes</a>
<a id="841" class="Keyword">open</a> <a id="846" class="Keyword">import</a> <a id="853" href="Foreign.HaskellTypes.Deriving.html" class="Module">Foreign.HaskellTypes.Deriving</a>

<a id="884" class="Keyword">private</a> <a id="892" class="Keyword">instance</a>
  <a id="903" href="Foreign.Convertible.Deriving.html#903" class="Function">_</a> <a id="905" class="Symbol">=</a> <a id="907" href="Class.Monad.Core.html#699" class="Function">Functor-M</a> <a id="917" class="Symbol">{</a><a id="918" href="Reflection.TCI.html#554" class="Function">TC</a><a id="920" class="Symbol">}</a>

<a id="923" class="Keyword">private</a>

  <a id="934" class="Keyword">open</a> <a id="939" href="Class.MonadReader.html#258" class="Module">MonadReader</a> <a id="951" class="Symbol">⦃...⦄</a>

  <a id="TyViewTel"></a><a id="960" href="Foreign.Convertible.Deriving.html#960" class="Function">TyViewTel</a> <a id="970" class="Symbol">=</a> <a id="972" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="977" class="Symbol">(</a><a id="978" href="Agda.Builtin.Reflection.html#4249" class="Datatype">Abs</a> <a id="982" class="Symbol">(</a><a id="983" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="987" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a><a id="991" class="Symbol">))</a>

  <a id="substTel"></a><a id="997" href="Foreign.Convertible.Deriving.html#997" class="Function">substTel</a> <a id="1006" class="Symbol">:</a> <a id="1008" href="Reflection.Utils.Substitute.html#451" class="Function">Subst</a> <a id="1014" href="Foreign.Convertible.Deriving.html#960" class="Function">TyViewTel</a>
  <a id="1026" href="Foreign.Convertible.Deriving.html#997" class="Function">substTel</a> <a id="1035" href="Foreign.Convertible.Deriving.html#1035" class="Bound">x</a> <a id="1037" href="Foreign.Convertible.Deriving.html#1037" class="Bound">s</a> <a id="1039" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1042" class="Symbol">=</a> <a id="1044" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="1049" href="Foreign.Convertible.Deriving.html#997" class="Function">substTel</a> <a id="1058" href="Foreign.Convertible.Deriving.html#1058" class="Bound">x</a> <a id="1060" href="Foreign.Convertible.Deriving.html#1060" class="Bound">s</a> <a id="1062" class="Symbol">(</a><a id="1063" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="1067" href="Foreign.Convertible.Deriving.html#1067" class="Bound">z</a> <a id="1069" href="Foreign.Convertible.Deriving.html#1069" class="Bound">t</a> <a id="1071" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1073" href="Foreign.Convertible.Deriving.html#1073" class="Bound">tel</a><a id="1076" class="Symbol">)</a> <a id="1078" class="Symbol">=</a> <a id="1080" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="1084" href="Foreign.Convertible.Deriving.html#1067" class="Bound">z</a> <a id="1086" class="Symbol">(</a><a id="1087" href="Reflection.Utils.Substitute.html#1279" class="Function">substArg</a> <a id="1096" href="Foreign.Convertible.Deriving.html#1058" class="Bound">x</a> <a id="1098" href="Foreign.Convertible.Deriving.html#1060" class="Bound">s</a> <a id="1100" href="Foreign.Convertible.Deriving.html#1069" class="Bound">t</a><a id="1101" class="Symbol">)</a> <a id="1103" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1105" class="Symbol">(</a><a id="1106" href="Foreign.Convertible.Deriving.html#997" class="Function">substTel</a> <a id="1115" class="Symbol">(</a><a id="1116" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">ℕ.suc</a> <a id="1122" href="Foreign.Convertible.Deriving.html#1058" class="Bound">x</a><a id="1123" class="Symbol">)</a> <a id="1125" href="Foreign.Convertible.Deriving.html#1060" class="Bound">s</a> <a id="1127" href="Foreign.Convertible.Deriving.html#1073" class="Bound">tel</a><a id="1130" class="Symbol">)</a>
    <a id="1136" class="Comment">-- Note: `abs` is abused in TyViewTel and doesn&#39;t actually scope over the `t`</a>

  <a id="1217" class="Comment">-- Substitute leading level parameters with lzero</a>
  <a id="smashLevels"></a><a id="1269" href="Foreign.Convertible.Deriving.html#1269" class="Function">smashLevels</a> <a id="1281" class="Symbol">:</a> <a id="1283" href="Foreign.Convertible.Deriving.html#960" class="Function">TyViewTel</a> <a id="1293" class="Symbol">→</a> <a id="1295" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1297" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1299" href="Foreign.Convertible.Deriving.html#960" class="Function">TyViewTel</a>
  <a id="1311" href="Foreign.Convertible.Deriving.html#1269" class="Function">smashLevels</a> <a id="1323" class="Symbol">(</a><a id="1324" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="1328" href="Foreign.Convertible.Deriving.html#1328" class="Bound">s</a> <a id="1330" class="Symbol">(</a><a id="1331" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="1335" href="Foreign.Convertible.Deriving.html#1335" class="Bound">i</a> <a id="1337" class="Symbol">(</a><a id="1338" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="1342" class="Symbol">(</a><a id="1343" class="Keyword">quote</a> <a id="1349" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="1354" class="Symbol">)</a> <a id="1356" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1358" class="Symbol">))</a> <a id="1361" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1363" href="Foreign.Convertible.Deriving.html#1363" class="Bound">tel</a><a id="1366" class="Symbol">)</a> <a id="1368" class="Symbol">=</a>
    <a id="1374" href="Data.Product.Base.html#2173" class="Function">P.map</a> <a id="1380" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">ℕ.suc</a> <a id="1386" class="Symbol">(</a><a id="1387" href="Foreign.Convertible.Deriving.html#997" class="Function">substTel</a> <a id="1396" class="Number">0</a> <a id="1398" class="Symbol">(</a><a id="1399" class="Keyword">quote</a> <a id="1405" href="Level.html#521" class="Function">0ℓ</a> <a id="1408" href="Reflection.Syntax.html#3023" class="InductiveConstructor Operator">∙</a><a id="1409" class="Symbol">))</a> <a id="1412" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="1414" href="Foreign.Convertible.Deriving.html#1269" class="Function">smashLevels</a> <a id="1426" href="Foreign.Convertible.Deriving.html#1363" class="Bound">tel</a>
  <a id="1432" href="Foreign.Convertible.Deriving.html#1269" class="CatchallClause Function">smashLevels</a><a id="1443" class="CatchallClause"> </a><a id="1444" href="Foreign.Convertible.Deriving.html#1444" class="CatchallClause Bound">tel</a> <a id="1448" class="Symbol">=</a> <a id="1450" class="Symbol">(</a><a id="1451" class="Number">0</a> <a id="1453" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1455" href="Foreign.Convertible.Deriving.html#1444" class="Bound">tel</a><a id="1458" class="Symbol">)</a>

  <a id="tyViewToTel"></a><a id="1463" href="Foreign.Convertible.Deriving.html#1463" class="Function">tyViewToTel</a> <a id="1475" class="Symbol">:</a> <a id="1477" href="Foreign.Convertible.Deriving.html#960" class="Function">TyViewTel</a> <a id="1487" class="Symbol">→</a> <a id="1489" href="Reflection.AST.Term.html#1887" class="Function">Telescope</a>
  <a id="1501" href="Foreign.Convertible.Deriving.html#1463" class="Function">tyViewToTel</a> <a id="1513" class="Symbol">=</a> <a id="1515" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="1521" class="Symbol">λ</a> <a id="1523" class="Keyword">where</a> <a id="1529" class="Symbol">(</a><a id="1530" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="1534" href="Foreign.Convertible.Deriving.html#1534" class="Bound">s</a> <a id="1536" href="Foreign.Convertible.Deriving.html#1536" class="Bound">a</a><a id="1537" class="Symbol">)</a> <a id="1539" class="Symbol">→</a> <a id="1541" href="Foreign.Convertible.Deriving.html#1534" class="Bound">s</a> <a id="1543" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1545" href="Foreign.Convertible.Deriving.html#1536" class="Bound">a</a>

  <a id="hideTyView"></a><a id="1550" href="Foreign.Convertible.Deriving.html#1550" class="Function">hideTyView</a> <a id="1561" class="Symbol">:</a> <a id="1563" href="Agda.Builtin.Reflection.html#4249" class="Datatype">Abs</a> <a id="1567" class="Symbol">(</a><a id="1568" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="1572" href="Meta.Prelude.html#195" class="Generalizable">A</a><a id="1573" class="Symbol">)</a> <a id="1575" class="Symbol">→</a> <a id="1577" href="Agda.Builtin.Reflection.html#4249" class="Datatype">Abs</a> <a id="1581" class="Symbol">(</a><a id="1582" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="1586" href="Meta.Prelude.html#195" class="Generalizable">A</a><a id="1587" class="Symbol">)</a>
  <a id="1591" href="Foreign.Convertible.Deriving.html#1550" class="Function">hideTyView</a> <a id="1602" class="Symbol">(</a><a id="1603" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="1607" href="Foreign.Convertible.Deriving.html#1607" class="Bound">s</a> <a id="1609" class="Symbol">(</a><a id="1610" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="1614" class="Symbol">(</a><a id="1615" href="Agda.Builtin.Reflection.html#3637" class="InductiveConstructor">arg-info</a> <a id="1624" class="Symbol">_</a> <a id="1626" href="Foreign.Convertible.Deriving.html#1626" class="Bound">m</a><a id="1627" class="Symbol">)</a> <a id="1629" href="Foreign.Convertible.Deriving.html#1629" class="Bound">x</a><a id="1630" class="Symbol">))</a> <a id="1633" class="Symbol">=</a> <a id="1635" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="1639" href="Foreign.Convertible.Deriving.html#1607" class="Bound">s</a> <a id="1641" class="Symbol">(</a><a id="1642" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="1646" class="Symbol">(</a><a id="1647" href="Agda.Builtin.Reflection.html#3637" class="InductiveConstructor">arg-info</a> <a id="1656" href="Agda.Builtin.Reflection.html#2770" class="InductiveConstructor">hidden</a> <a id="1663" href="Foreign.Convertible.Deriving.html#1626" class="Bound">m</a><a id="1664" class="Symbol">)</a> <a id="1666" href="Foreign.Convertible.Deriving.html#1629" class="Bound">x</a><a id="1667" class="Symbol">)</a>

  <a id="1672" class="Comment">-- The type of a Convertible instance. For parameterised types adds the appropriate instance</a>
  <a id="1767" class="Comment">-- arguments and instantiates level arguments to lzero. For instance,</a>
  <a id="1839" class="Comment">-- instanceType _⊎_ Hs.Either = {A B : Set} {a b : Set} → ⦃ Convertible A a ⦄ → ⦃ Convertible B b ⦄</a>
  <a id="1941" class="Comment">--                              Convertible (A ⊎ B) (Hs.Either a b)</a>
  <a id="instanceType"></a><a id="2011" href="Foreign.Convertible.Deriving.html#2011" class="Function">instanceType</a> <a id="2024" class="Symbol">:</a> <a id="2026" class="Symbol">(</a><a id="2027" href="Foreign.Convertible.Deriving.html#2027" class="Bound">agdaName</a> <a id="2036" href="Foreign.Convertible.Deriving.html#2036" class="Bound">hsName</a> <a id="2043" class="Symbol">:</a> <a id="2045" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2049" class="Symbol">)</a> <a id="2051" class="Symbol">→</a> <a id="2053" href="Reflection.TCI.html#554" class="Function">TC</a> <a id="2056" href="Reflection.Utils.Core.html#536" class="Function">TypeView</a>
  <a id="2067" href="Foreign.Convertible.Deriving.html#2011" class="Function">instanceType</a> <a id="2080" href="Foreign.Convertible.Deriving.html#2080" class="Bound">agdaName</a> <a id="2089" href="Foreign.Convertible.Deriving.html#2089" class="Bound">hsName</a> <a id="2096" class="Symbol">=</a> <a id="2098" class="Keyword">do</a>
    <a id="2105" href="Foreign.Convertible.Deriving.html#2105" class="Bound">aLvls</a> <a id="2111" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2113" href="Foreign.Convertible.Deriving.html#2113" class="Bound">agdaParams</a> <a id="2124" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2126" href="Foreign.Convertible.Deriving.html#1269" class="Function">smashLevels</a> <a id="2138" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="2142" href="Reflection.Utils.TCI.html#7769" class="Function">getParamsAndIndices</a> <a id="2162" href="Foreign.Convertible.Deriving.html#2080" class="Bound">agdaName</a>
    <a id="2175" href="Foreign.Convertible.Deriving.html#2175" class="Bound">hLvls</a> <a id="2181" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2183" href="Foreign.Convertible.Deriving.html#2183" class="Bound">hsParams</a>   <a id="2194" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2196" href="Foreign.Convertible.Deriving.html#1269" class="Function">smashLevels</a> <a id="2208" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="2212" href="Reflection.Utils.TCI.html#7769" class="Function">getParamsAndIndices</a> <a id="2232" href="Foreign.Convertible.Deriving.html#2089" class="Bound">hsName</a>
    <a id="2243" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2248" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2250" href="Class.Monad.Core.html#316" class="Field">return</a> <a id="2257" class="Symbol">(</a><a id="2258" href="Data.List.Base.html#4746" class="Function">length</a> <a id="2265" href="Foreign.Convertible.Deriving.html#2113" class="Bound">agdaParams</a> <a id="2276" href="Class.DecEq.Core.html#197" class="Function Operator">==</a> <a id="2279" href="Data.List.Base.html#4746" class="Function">length</a> <a id="2286" href="Foreign.Convertible.Deriving.html#2183" class="Bound">hsParams</a><a id="2294" class="Symbol">)</a>
      <a id="2302" class="Keyword">where</a> <a id="2308" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2314" class="Symbol">→</a> <a id="2316" href="Reflection.TCI.html#1770" class="Function">liftTC</a> <a id="2323" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="2325" href="Reflection.TCM.Format.html#2592" class="Function">R.typeErrorFmt</a> <a id="2340" class="String">&quot;%q and %q have different number of parameters&quot;</a> <a id="2388" href="Foreign.Convertible.Deriving.html#2080" class="Bound">agdaName</a> <a id="2397" href="Foreign.Convertible.Deriving.html#2089" class="Bound">hsName</a>
    <a id="2408" class="Keyword">let</a> <a id="2412" href="Foreign.Convertible.Deriving.html#2412" class="Bound">n</a> <a id="2414" class="Symbol">=</a> <a id="2416" href="Data.List.Base.html#4746" class="Function">length</a> <a id="2423" href="Foreign.Convertible.Deriving.html#2113" class="Bound">agdaParams</a>
        <a id="2442" href="Foreign.Convertible.Deriving.html#2442" class="Bound">l₀</a> <a id="2445" class="Symbol">=</a> <a id="2447" class="Keyword">quote</a> <a id="2453" href="Level.html#521" class="Function">0ℓ</a> <a id="2456" href="Reflection.Syntax.html#3023" class="InductiveConstructor Operator">∙</a>
    <a id="2462" href="Foreign.Convertible.Deriving.html#2462" class="Bound">agdaTy</a> <a id="2469" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2471" href="Reflection.Utils.TCI.html#9110" class="Function">applyWithVisibility</a> <a id="2491" href="Foreign.Convertible.Deriving.html#2080" class="Bound">agdaName</a> <a id="2500" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="2502" href="Data.List.Base.html#5021" class="Function">L.replicate</a> <a id="2514" href="Foreign.Convertible.Deriving.html#2105" class="Bound">aLvls</a> <a id="2520" href="Foreign.Convertible.Deriving.html#2442" class="Bound">l₀</a> <a id="2523" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="2526" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="2532" href="Reflection.Syntax.html#1576" class="InductiveConstructor">♯</a> <a id="2534" class="Symbol">(</a><a id="2535" href="Data.List.Base.html#8389" class="Function">take</a> <a id="2540" href="Foreign.Convertible.Deriving.html#2412" class="Bound">n</a> <a id="2542" class="Symbol">(</a><a id="2543" href="Data.List.Base.html#6430" class="Function">downFrom</a> <a id="2552" class="Symbol">(</a><a id="2553" href="Foreign.Convertible.Deriving.html#2412" class="Bound">n</a> <a id="2555" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2557" href="Foreign.Convertible.Deriving.html#2412" class="Bound">n</a><a id="2558" class="Symbol">)))</a>
    <a id="2566" href="Foreign.Convertible.Deriving.html#2566" class="Bound">hsTy</a>   <a id="2573" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2575" href="Reflection.Utils.TCI.html#9110" class="Function">applyWithVisibility</a> <a id="2595" href="Foreign.Convertible.Deriving.html#2089" class="Bound">hsName</a>   <a id="2604" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="2606" href="Data.List.Base.html#5021" class="Function">L.replicate</a> <a id="2618" href="Foreign.Convertible.Deriving.html#2175" class="Bound">hLvls</a> <a id="2624" href="Foreign.Convertible.Deriving.html#2442" class="Bound">l₀</a> <a id="2627" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="2630" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="2636" href="Reflection.Syntax.html#1576" class="InductiveConstructor">♯</a> <a id="2638" class="Symbol">(</a><a id="2639" href="Data.List.Base.html#6430" class="Function">downFrom</a> <a id="2648" href="Foreign.Convertible.Deriving.html#2412" class="Bound">n</a><a id="2649" class="Symbol">)</a>
    <a id="2655" class="Keyword">let</a> <a id="2659" href="Foreign.Convertible.Deriving.html#2659" class="Bound">instHead</a> <a id="2668" class="Symbol">=</a> <a id="2670" href="Reflection.AST.DeBruijn.html#1515" class="Function">weaken</a> <a id="2677" href="Foreign.Convertible.Deriving.html#2412" class="Bound">n</a> <a id="2679" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="2681" class="Keyword">quote</a> <a id="2687" href="Foreign.Convertible.html#103" class="Record">Convertible</a> <a id="2699" href="Reflection.Syntax.html#3087" class="InductiveConstructor Operator">∙⟦</a> <a id="2702" href="Foreign.Convertible.Deriving.html#2462" class="Bound">agdaTy</a> <a id="2709" href="Reflection.Syntax.html#3087" class="InductiveConstructor Operator">∣</a> <a id="2711" href="Foreign.Convertible.Deriving.html#2566" class="Bound">hsTy</a> <a id="2716" href="Reflection.Syntax.html#3087" class="InductiveConstructor Operator">⟧</a>
        <a id="2726" href="Foreign.Convertible.Deriving.html#2726" class="Bound">tel</a>      <a id="2735" class="Symbol">=</a> <a id="2737" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="2743" href="Foreign.Convertible.Deriving.html#1550" class="Function">hideTyView</a> <a id="2754" class="Symbol">(</a><a id="2755" href="Foreign.Convertible.Deriving.html#2113" class="Bound">agdaParams</a> <a id="2766" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="2769" href="Foreign.Convertible.Deriving.html#2183" class="Bound">hsParams</a><a id="2777" class="Symbol">)</a> <a id="2779" href="Data.List.Base.html#1712" class="Function Operator">++</a>
                   <a id="2801" href="Data.List.Base.html#5021" class="Function">L.replicate</a> <a id="2813" href="Foreign.Convertible.Deriving.html#2412" class="Bound">n</a> <a id="2815" class="Symbol">(</a><a id="2816" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="2820" class="String">&quot;_&quot;</a> <a id="2824" class="Symbol">(</a><a id="2825" href="Reflection.AST.Argument.html#1395" class="InductiveConstructor">iArg</a> <a id="2830" class="Symbol">(</a><a id="2831" class="Keyword">quote</a> <a id="2837" href="Foreign.Convertible.html#103" class="Record">Convertible</a> <a id="2849" href="Reflection.Syntax.html#3087" class="InductiveConstructor Operator">∙⟦</a> <a id="2852" href="Reflection.Syntax.html#1576" class="InductiveConstructor">♯</a> <a id="2854" class="Symbol">(</a><a id="2855" href="Foreign.Convertible.Deriving.html#2412" class="Bound">n</a> <a id="2857" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="2859" href="Foreign.Convertible.Deriving.html#2412" class="Bound">n</a> <a id="2861" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="2863" class="Number">1</a><a id="2864" class="Symbol">)</a> <a id="2866" href="Reflection.Syntax.html#3087" class="InductiveConstructor Operator">∣</a> <a id="2868" href="Reflection.Syntax.html#1576" class="InductiveConstructor">♯</a> <a id="2870" class="Symbol">(</a><a id="2871" href="Foreign.Convertible.Deriving.html#2412" class="Bound">n</a> <a id="2873" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="2875" class="Number">1</a><a id="2876" class="Symbol">)</a> <a id="2878" href="Reflection.Syntax.html#3087" class="InductiveConstructor Operator">⟧</a><a id="2879" class="Symbol">)))</a>
    <a id="2887" href="Class.Monad.Core.html#316" class="Field">return</a> <a id="2894" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="2896" href="Foreign.Convertible.Deriving.html#2726" class="Bound">tel</a> <a id="2900" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2902" href="Foreign.Convertible.Deriving.html#2659" class="Bound">instHead</a>

  <a id="2914" class="Comment">-- Compute one clause of the Convertible instance. For instance,</a>
  <a id="2981" class="Comment">-- conversionClause Convertible.to to ((c₁ , _) , (c₂ , _)) generates</a>
  <a id="3053" class="Comment">-- .to (c₁ x₁ .. xn) = c₂ (to x₁) .. (to xn)</a>
  <a id="3100" class="Comment">-- where the xi are the visible constructor arguments.</a>
  <a id="conversionClause"></a><a id="3157" href="Foreign.Convertible.Deriving.html#3157" class="Function">conversionClause</a> <a id="3174" class="Symbol">:</a> <a id="3176" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="3181" class="Symbol">→</a> <a id="3183" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="3188" class="Symbol">→</a> <a id="3190" class="Symbol">(</a><a id="3191" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="3196" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3198" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a><a id="3202" class="Symbol">)</a> <a id="3204" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3206" class="Symbol">(</a><a id="3207" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="3212" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3214" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a><a id="3218" class="Symbol">)</a> <a id="3220" class="Symbol">→</a> <a id="3222" href="Reflection.TCI.html#554" class="Function">TC</a> <a id="3225" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a>
  <a id="3234" href="Foreign.Convertible.Deriving.html#3157" class="Function">conversionClause</a> <a id="3251" href="Foreign.Convertible.Deriving.html#3251" class="Bound">prjP</a> <a id="3256" href="Foreign.Convertible.Deriving.html#3256" class="Bound">prjE</a> <a id="3261" class="Symbol">((</a><a id="3263" href="Foreign.Convertible.Deriving.html#3263" class="Bound">fromC</a> <a id="3269" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3271" href="Foreign.Convertible.Deriving.html#3271" class="Bound">fromTy</a><a id="3277" class="Symbol">)</a> <a id="3279" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3281" class="Symbol">(</a><a id="3282" href="Foreign.Convertible.Deriving.html#3282" class="Bound">toC</a> <a id="3286" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3288" href="Foreign.Convertible.Deriving.html#3288" class="Bound">toTy</a><a id="3292" class="Symbol">))</a> <a id="3295" class="Symbol">=</a> <a id="3297" class="Keyword">do</a>
    <a id="3304" class="Keyword">let</a> <a id="3308" href="Foreign.Convertible.Deriving.html#3308" class="Bound">isVis</a>   <a id="3316" class="Symbol">=</a> <a id="3318" class="Symbol">λ</a> <a id="3320" class="Symbol">{</a> <a id="3322" class="Symbol">(</a><a id="3323" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="3327" class="Symbol">_</a> <a id="3329" class="Symbol">(</a><a id="3330" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="3334" class="Symbol">(</a><a id="3335" href="Agda.Builtin.Reflection.html#3637" class="InductiveConstructor">arg-info</a> <a id="3344" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="3352" class="Symbol">_)</a> <a id="3355" class="Symbol">_))</a> <a id="3359" class="Symbol">→</a> <a id="3361" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="3365" class="Symbol">;</a> <a id="3367" class="CatchallClause Symbol">_</a> <a id="3369" class="Symbol">→</a> <a id="3371" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3377" class="Symbol">}</a>
        <a id="3387" href="Foreign.Convertible.Deriving.html#3387" class="Bound">fromTel</a> <a id="3395" class="Symbol">=</a> <a id="3397" href="Data.List.Base.html#10560" class="Function">L.filterᵇ</a> <a id="3407" href="Foreign.Convertible.Deriving.html#3308" class="Bound">isVis</a> <a id="3413" class="Symbol">(</a><a id="3414" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3420" class="Symbol">(</a><a id="3421" href="Reflection.Utils.Core.html#577" class="Function">viewTy</a> <a id="3428" href="Foreign.Convertible.Deriving.html#3271" class="Bound">fromTy</a><a id="3434" class="Symbol">))</a>
        <a id="3445" href="Foreign.Convertible.Deriving.html#3445" class="Bound">toTel</a>   <a id="3453" class="Symbol">=</a> <a id="3455" href="Data.List.Base.html#10560" class="Function">L.filterᵇ</a> <a id="3465" href="Foreign.Convertible.Deriving.html#3308" class="Bound">isVis</a> <a id="3471" class="Symbol">(</a><a id="3472" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3478" class="Symbol">(</a><a id="3479" href="Reflection.Utils.Core.html#577" class="Function">viewTy</a> <a id="3486" href="Foreign.Convertible.Deriving.html#3288" class="Bound">toTy</a><a id="3490" class="Symbol">))</a>
        <a id="3501" href="Foreign.Convertible.Deriving.html#3501" class="Bound">n</a>       <a id="3509" class="Symbol">=</a> <a id="3511" href="Data.List.Base.html#4746" class="Function">length</a> <a id="3518" href="Foreign.Convertible.Deriving.html#3387" class="Bound">fromTel</a>
        <a id="3534" href="Foreign.Convertible.Deriving.html#3534" class="Bound">mkCon</a>  <a id="3541" href="Foreign.Convertible.Deriving.html#3541" class="Bound">c</a> <a id="3543" href="Foreign.Convertible.Deriving.html#3543" class="Bound">mkArg</a> <a id="3549" class="Symbol">=</a> <a id="3551" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">Term.con</a> <a id="3560" href="Foreign.Convertible.Deriving.html#3541" class="Bound">c</a>    <a id="3565" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="3567" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="3573" class="Symbol">(</a><a id="3574" href="Reflection.AST.Argument.html#1271" class="InductiveConstructor">vArg</a> <a id="3579" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="3581" href="Foreign.Convertible.Deriving.html#3543" class="Bound">mkArg</a> <a id="3587" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="3589" href="Reflection.Syntax.html#1576" class="InductiveConstructor">♯</a><a id="3590" class="Symbol">)</a>  <a id="3593" class="Symbol">(</a><a id="3594" href="Data.List.Base.html#6430" class="Function">downFrom</a> <a id="3603" href="Foreign.Convertible.Deriving.html#3501" class="Bound">n</a><a id="3604" class="Symbol">)</a>
        <a id="3614" href="Foreign.Convertible.Deriving.html#3614" class="Bound">mkConP</a> <a id="3621" href="Foreign.Convertible.Deriving.html#3621" class="Bound">c</a> <a id="3623" href="Foreign.Convertible.Deriving.html#3623" class="Bound">mkArg</a> <a id="3629" class="Symbol">=</a> <a id="3631" href="Agda.Builtin.Reflection.html#5814" class="InductiveConstructor">Pattern.con</a> <a id="3643" href="Foreign.Convertible.Deriving.html#3621" class="Bound">c</a> <a id="3645" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="3647" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="3653" class="Symbol">(</a><a id="3654" href="Reflection.AST.Argument.html#1271" class="InductiveConstructor">vArg</a> <a id="3659" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="3661" href="Foreign.Convertible.Deriving.html#3623" class="Bound">mkArg</a> <a id="3667" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="3669" href="Reflection.Syntax.html#1705" class="InductiveConstructor Operator">`_</a><a id="3671" class="Symbol">)</a> <a id="3673" class="Symbol">(</a><a id="3674" href="Data.List.Base.html#6430" class="Function">downFrom</a> <a id="3683" href="Foreign.Convertible.Deriving.html#3501" class="Bound">n</a><a id="3684" class="Symbol">)</a>
    <a id="3690" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="3695" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="3697" href="Class.Monad.Core.html#316" class="Field">return</a> <a id="3704" class="Symbol">(</a><a id="3705" href="Foreign.Convertible.Deriving.html#3501" class="Bound">n</a> <a id="3707" href="Class.DecEq.Core.html#197" class="Function Operator">==</a> <a id="3710" href="Data.List.Base.html#4746" class="Function">length</a> <a id="3717" href="Foreign.Convertible.Deriving.html#3445" class="Bound">toTel</a><a id="3722" class="Symbol">)</a>
      <a id="3730" class="Keyword">where</a> <a id="3736" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3742" class="Symbol">→</a> <a id="3744" href="Reflection.TCI.html#1770" class="Function">liftTC</a> <a id="3751" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="3753" href="Reflection.TCM.Format.html#2592" class="Function">R.typeErrorFmt</a> <a id="3768" class="String">&quot;%q and %q have different number of arguments&quot;</a> <a id="3815" href="Foreign.Convertible.Deriving.html#3263" class="Bound">fromC</a> <a id="3821" href="Foreign.Convertible.Deriving.html#3282" class="Bound">toC</a>
    <a id="3829" href="Class.Monad.Core.html#316" class="Field">return</a> <a id="3836" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="3838" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">clause</a> <a id="3845" class="Symbol">(</a><a id="3846" href="Foreign.Convertible.Deriving.html#1463" class="Function">tyViewToTel</a> <a id="3858" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="3860" href="Data.List.Base.html#1612" class="Function">L.map</a> <a id="3866" class="Symbol">(λ</a> <a id="3869" class="Keyword">where</a> <a id="3875" class="Symbol">(</a><a id="3876" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="3880" href="Foreign.Convertible.Deriving.html#3880" class="Bound">x</a> <a id="3882" class="Symbol">(</a><a id="3883" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="3887" href="Foreign.Convertible.Deriving.html#3887" class="Bound">i</a> <a id="3889" class="Symbol">_))</a> <a id="3893" class="Symbol">→</a> <a id="3895" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="3899" href="Foreign.Convertible.Deriving.html#3880" class="Bound">x</a> <a id="3901" class="Symbol">(</a><a id="3902" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="3906" href="Foreign.Convertible.Deriving.html#3887" class="Bound">i</a> <a id="3908" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a><a id="3915" class="Symbol">))</a> <a id="3918" href="Foreign.Convertible.Deriving.html#3387" class="Bound">fromTel</a><a id="3925" class="Symbol">)</a>
                    <a id="3947" class="Symbol">(</a><a id="3948" href="Reflection.AST.Argument.html#1271" class="InductiveConstructor">vArg</a> <a id="3953" class="Symbol">(</a><a id="3954" href="Agda.Builtin.Reflection.html#5977" class="InductiveConstructor">proj</a> <a id="3959" href="Foreign.Convertible.Deriving.html#3251" class="Bound">prjP</a><a id="3963" class="Symbol">)</a> <a id="3965" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3967" href="Reflection.AST.Argument.html#1271" class="InductiveConstructor">vArg</a> <a id="3972" class="Symbol">(</a><a id="3973" href="Foreign.Convertible.Deriving.html#3614" class="Bound">mkConP</a> <a id="3980" href="Foreign.Convertible.Deriving.html#3263" class="Bound">fromC</a> <a id="3986" href="Function.Base.html#704" class="Function">id</a><a id="3988" class="Symbol">)</a> <a id="3990" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3992" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3994" class="Symbol">)</a>
                    <a id="4016" class="Symbol">(</a><a id="4017" href="Foreign.Convertible.Deriving.html#3534" class="Bound">mkCon</a> <a id="4023" href="Foreign.Convertible.Deriving.html#3282" class="Bound">toC</a> <a id="4027" class="Symbol">(</a><a id="4028" href="Foreign.Convertible.Deriving.html#3256" class="Bound">prjE</a> <a id="4033" href="Reflection.Syntax.html#3047" class="InductiveConstructor Operator">∙⟦_⟧</a><a id="4037" class="Symbol">))</a>

  <a id="4043" class="Comment">-- Compute the clauses of a convertible instance.</a>
  <a id="instanceClauses"></a><a id="4095" href="Foreign.Convertible.Deriving.html#4095" class="Function">instanceClauses</a> <a id="4111" class="Symbol">:</a> <a id="4113" class="Symbol">(</a><a id="4114" href="Foreign.Convertible.Deriving.html#4114" class="Bound">agdaName</a> <a id="4123" href="Foreign.Convertible.Deriving.html#4123" class="Bound">hsName</a> <a id="4130" class="Symbol">:</a> <a id="4132" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="4136" class="Symbol">)</a> <a id="4138" class="Symbol">→</a> <a id="4140" href="Reflection.TCI.html#554" class="Function">TC</a> <a id="4143" class="Symbol">(</a><a id="4144" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4149" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a><a id="4155" class="Symbol">)</a>
  <a id="4159" href="Foreign.Convertible.Deriving.html#4095" class="Function">instanceClauses</a> <a id="4175" href="Foreign.Convertible.Deriving.html#4175" class="Bound">agdaName</a> <a id="4184" href="Foreign.Convertible.Deriving.html#4184" class="Bound">hsName</a> <a id="4191" class="Symbol">=</a> <a id="4193" class="Keyword">do</a>
    <a id="4200" href="Foreign.Convertible.Deriving.html#4200" class="Bound">agdaCons</a> <a id="4209" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="4211" href="Class.MonadTC.html#12000" class="Function">getConstrs</a> <a id="4222" href="Foreign.Convertible.Deriving.html#4175" class="Bound">agdaName</a>
    <a id="4235" href="Foreign.Convertible.Deriving.html#4235" class="Bound">hsCons</a>   <a id="4244" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="4246" href="Class.MonadTC.html#12000" class="Function">getConstrs</a> <a id="4257" href="Foreign.Convertible.Deriving.html#4184" class="Bound">hsName</a>
    <a id="4268" href="Foreign.Convertible.Deriving.html#4268" class="Bound">agdaPars</a> <a id="4277" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="4279" href="Data.List.Base.html#4746" class="Function">length</a> <a id="4286" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="4290" href="Reflection.Utils.TCI.html#7769" class="Function">getParamsAndIndices</a> <a id="4310" href="Foreign.Convertible.Deriving.html#4175" class="Bound">agdaName</a>
    <a id="4323" href="Foreign.Convertible.Deriving.html#4323" class="Bound">hsPars</a>   <a id="4332" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="4334" href="Data.List.Base.html#4746" class="Function">length</a> <a id="4341" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="4345" href="Reflection.Utils.TCI.html#7769" class="Function">getParamsAndIndices</a> <a id="4365" href="Foreign.Convertible.Deriving.html#4184" class="Bound">hsName</a>
    <a id="4376" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="4381" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="4383" href="Class.Monad.Core.html#316" class="Field">return</a> <a id="4390" class="Symbol">(</a><a id="4391" href="Data.List.Base.html#4746" class="Function">length</a> <a id="4398" href="Foreign.Convertible.Deriving.html#4200" class="Bound">agdaCons</a> <a id="4407" href="Class.DecEq.Core.html#197" class="Function Operator">==</a> <a id="4410" href="Data.List.Base.html#4746" class="Function">length</a> <a id="4417" href="Foreign.Convertible.Deriving.html#4235" class="Bound">hsCons</a><a id="4423" class="Symbol">)</a>
      <a id="4431" class="Keyword">where</a> <a id="4437" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="4443" class="Symbol">→</a> <a id="4445" href="Reflection.TCI.html#1770" class="Function">liftTC</a> <a id="4452" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="4454" href="Reflection.TCM.Format.html#2592" class="Function">R.typeErrorFmt</a> <a id="4469" class="String">&quot;%q and %q have different number of constructors&quot;</a> <a id="4519" href="Foreign.Convertible.Deriving.html#4175" class="Bound">agdaName</a> <a id="4528" href="Foreign.Convertible.Deriving.html#4184" class="Bound">hsName</a>
    <a id="4539" href="Foreign.Convertible.Deriving.html#4539" class="Bound">toClauses</a>   <a id="4551" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="4553" href="Class.Monad.Core.html#832" class="Function">mapM</a> <a id="4558" class="Symbol">(</a><a id="4559" href="Foreign.Convertible.Deriving.html#3157" class="Function">conversionClause</a> <a id="4576" class="Symbol">(</a><a id="4577" class="Keyword">quote</a> <a id="4583" href="Foreign.Convertible.html#149" class="Field">Convertible.to</a><a id="4597" class="Symbol">)</a>   <a id="4601" class="Symbol">(</a><a id="4602" class="Keyword">quote</a> <a id="4608" href="Foreign.Convertible.html#149" class="Field">to</a><a id="4610" class="Symbol">)</a>  <a id="4613" class="Symbol">)</a> <a id="4615" class="Symbol">(</a><a id="4616" href="Data.List.Base.html#3484" class="Function">L.zip</a> <a id="4622" href="Foreign.Convertible.Deriving.html#4200" class="Bound">agdaCons</a> <a id="4631" href="Foreign.Convertible.Deriving.html#4235" class="Bound">hsCons</a><a id="4637" class="Symbol">)</a>
    <a id="4643" href="Foreign.Convertible.Deriving.html#4643" class="Bound">fromClauses</a> <a id="4655" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="4657" href="Class.Monad.Core.html#832" class="Function">mapM</a> <a id="4662" class="Symbol">(</a><a id="4663" href="Foreign.Convertible.Deriving.html#3157" class="Function">conversionClause</a> <a id="4680" class="Symbol">(</a><a id="4681" class="Keyword">quote</a> <a id="4687" href="Foreign.Convertible.html#170" class="Field">Convertible.from</a><a id="4703" class="Symbol">)</a> <a id="4705" class="Symbol">(</a><a id="4706" class="Keyword">quote</a> <a id="4712" href="Foreign.Convertible.html#170" class="Field">from</a><a id="4716" class="Symbol">))</a> <a id="4719" class="Symbol">(</a><a id="4720" href="Data.List.Base.html#3484" class="Function">L.zip</a> <a id="4726" href="Foreign.Convertible.Deriving.html#4235" class="Bound">hsCons</a> <a id="4733" href="Foreign.Convertible.Deriving.html#4200" class="Bound">agdaCons</a><a id="4741" class="Symbol">)</a>
    <a id="4747" href="Class.Monad.Core.html#316" class="Field">return</a> <a id="4754" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="4756" href="Foreign.Convertible.Deriving.html#4539" class="Bound">toClauses</a> <a id="4766" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="4769" href="Foreign.Convertible.Deriving.html#4643" class="Bound">fromClauses</a>

  <a id="absurdClause"></a><a id="4784" href="Foreign.Convertible.Deriving.html#4784" class="Function">absurdClause</a> <a id="4797" class="Symbol">:</a> <a id="4799" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="4804" class="Symbol">→</a> <a id="4806" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a>
  <a id="4815" href="Foreign.Convertible.Deriving.html#4784" class="Function">absurdClause</a> <a id="4828" href="Foreign.Convertible.Deriving.html#4828" class="Bound">prj</a> <a id="4832" class="Symbol">=</a> <a id="4834" href="Agda.Builtin.Reflection.html#6188" class="InductiveConstructor">absurd-clause</a> <a id="4848" class="Symbol">((</a><a id="4850" class="String">&quot;x&quot;</a> <a id="4854" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4856" href="Reflection.AST.Argument.html#1271" class="InductiveConstructor">vArg</a> <a id="4861" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a><a id="4868" class="Symbol">)</a> <a id="4870" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4872" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4874" class="Symbol">)</a> <a id="4876" class="Symbol">(</a><a id="4877" href="Reflection.AST.Argument.html#1271" class="InductiveConstructor">vArg</a> <a id="4882" class="Symbol">(</a><a id="4883" href="Agda.Builtin.Reflection.html#5977" class="InductiveConstructor">proj</a> <a id="4888" href="Foreign.Convertible.Deriving.html#4828" class="Bound">prj</a><a id="4891" class="Symbol">)</a> <a id="4893" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4895" href="Reflection.AST.Argument.html#1271" class="InductiveConstructor">vArg</a> <a id="4900" class="Symbol">(</a><a id="4901" href="Agda.Builtin.Reflection.html#6012" class="InductiveConstructor">absurd</a> <a id="4908" class="Number">0</a><a id="4909" class="Symbol">)</a> <a id="4911" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4913" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4915" class="Symbol">)</a>

  <a id="4920" class="Comment">-- Compute conversion clauses for the current goal and wrap them in a pattern lambda.</a>
  <a id="patternLambda"></a><a id="5008" href="Foreign.Convertible.Deriving.html#5008" class="Function">patternLambda</a> <a id="5022" class="Symbol">:</a> <a id="5024" href="Reflection.TCI.html#554" class="Function">TC</a> <a id="5027" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="5034" href="Foreign.Convertible.Deriving.html#5008" class="Function">patternLambda</a> <a id="5048" class="Symbol">=</a> <a id="5050" class="Keyword">do</a>
    <a id="5057" class="Keyword">quote</a> <a id="5063" href="Foreign.Convertible.html#103" class="Record">Convertible</a> <a id="5075" href="Reflection.Syntax.html#3087" class="InductiveConstructor Operator">∙⟦</a> <a id="5078" href="Foreign.Convertible.Deriving.html#5078" class="Bound">`A</a> <a id="5081" href="Reflection.Syntax.html#3087" class="InductiveConstructor Operator">∣</a> <a id="5083" href="Foreign.Convertible.Deriving.html#5083" class="Bound">`B</a> <a id="5086" href="Reflection.Syntax.html#3087" class="InductiveConstructor Operator">⟧</a> <a id="5088" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="5090" href="Class.MonadTC.html#1854" class="Field">reduce</a> <a id="5097" href="Class.Monad.Core.html#426" class="Function Operator">=&lt;&lt;</a> <a id="5101" href="Class.MonadTC.html#11510" class="Function">goalTy</a>
      <a id="5114" class="Keyword">where</a> <a id="5120" href="Foreign.Convertible.Deriving.html#5120" class="CatchallClause Bound">t</a> <a id="5122" class="Symbol">→</a> <a id="5124" href="Reflection.TCI.html#1770" class="Function">liftTC</a> <a id="5131" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="5133" href="Reflection.TCM.Format.html#2592" class="Function">R.typeErrorFmt</a> <a id="5148" class="String">&quot;Expected Convertible A B, got %t&quot;</a> <a id="5183" href="Foreign.Convertible.Deriving.html#5120" class="Bound">t</a>
    <a id="5189" href="Foreign.Convertible.Deriving.html#5189" class="Bound">agdaCons</a> <a id="5198" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="5200" href="Class.MonadTC.html#12352" class="Function">getConstrsForType</a> <a id="5218" href="Foreign.Convertible.Deriving.html#5078" class="Bound">`A</a>
    <a id="5225" href="Foreign.Convertible.Deriving.html#5225" class="Bound">hsCons</a>   <a id="5234" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="5236" href="Class.MonadTC.html#12352" class="Function">getConstrsForType</a> <a id="5254" href="Foreign.Convertible.Deriving.html#5083" class="Bound">`B</a>
    <a id="5261" href="Foreign.Convertible.Deriving.html#5261" class="Bound">toClauses</a>   <a id="5273" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="5275" href="Class.Monad.Core.html#832" class="Function">mapM</a> <a id="5280" class="Symbol">(</a><a id="5281" href="Foreign.Convertible.Deriving.html#3157" class="Function">conversionClause</a> <a id="5298" class="Symbol">(</a><a id="5299" class="Keyword">quote</a> <a id="5305" href="Foreign.Convertible.html#149" class="Field">Convertible.to</a><a id="5319" class="Symbol">)</a>   <a id="5323" class="Symbol">(</a><a id="5324" class="Keyword">quote</a> <a id="5330" href="Foreign.Convertible.html#149" class="Field">to</a><a id="5332" class="Symbol">)</a>  <a id="5335" class="Symbol">)</a> <a id="5337" class="Symbol">(</a><a id="5338" href="Data.List.Base.html#3484" class="Function">L.zip</a> <a id="5344" href="Foreign.Convertible.Deriving.html#5189" class="Bound">agdaCons</a> <a id="5353" href="Foreign.Convertible.Deriving.html#5225" class="Bound">hsCons</a><a id="5359" class="Symbol">)</a>
    <a id="5365" href="Foreign.Convertible.Deriving.html#5365" class="Bound">fromClauses</a> <a id="5377" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="5379" href="Class.Monad.Core.html#832" class="Function">mapM</a> <a id="5384" class="Symbol">(</a><a id="5385" href="Foreign.Convertible.Deriving.html#3157" class="Function">conversionClause</a> <a id="5402" class="Symbol">(</a><a id="5403" class="Keyword">quote</a> <a id="5409" href="Foreign.Convertible.html#170" class="Field">Convertible.from</a><a id="5425" class="Symbol">)</a> <a id="5427" class="Symbol">(</a><a id="5428" class="Keyword">quote</a> <a id="5434" href="Foreign.Convertible.html#170" class="Field">from</a><a id="5438" class="Symbol">))</a> <a id="5441" class="Symbol">(</a><a id="5442" href="Data.List.Base.html#3484" class="Function">L.zip</a> <a id="5448" href="Foreign.Convertible.Deriving.html#5225" class="Bound">hsCons</a> <a id="5455" href="Foreign.Convertible.Deriving.html#5189" class="Bound">agdaCons</a><a id="5463" class="Symbol">)</a>
    <a id="5469" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="5474" href="Foreign.Convertible.Deriving.html#5261" class="Bound">toClauses</a> <a id="5484" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="5487" href="Foreign.Convertible.Deriving.html#5365" class="Bound">fromClauses</a> <a id="5499" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="5502" class="Symbol">λ</a> <a id="5504" class="Keyword">where</a>
      <a id="5516" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>  <a id="5520" class="Symbol">→</a> <a id="5522" href="Class.Monad.Core.html#316" class="Field">return</a> <a id="5529" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="5531" href="Agda.Builtin.Reflection.html#5361" class="InductiveConstructor">pat-lam</a> <a id="5539" class="Symbol">(</a><a id="5540" href="Foreign.Convertible.Deriving.html#4784" class="Function">absurdClause</a> <a id="5553" class="Symbol">(</a><a id="5554" class="Keyword">quote</a> <a id="5560" href="Foreign.Convertible.html#149" class="Field">Convertible.to</a><a id="5574" class="Symbol">)</a> <a id="5576" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5578" href="Foreign.Convertible.Deriving.html#4784" class="Function">absurdClause</a> <a id="5591" class="Symbol">(</a><a id="5592" class="Keyword">quote</a> <a id="5598" href="Foreign.Convertible.html#170" class="Field">Convertible.from</a><a id="5614" class="Symbol">)</a> <a id="5616" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5618" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="5620" class="Symbol">)</a> <a id="5622" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="5631" href="Foreign.Convertible.Deriving.html#5631" class="CatchallClause Bound">cls</a> <a id="5635" class="Symbol">→</a> <a id="5637" href="Class.Monad.Core.html#316" class="Field">return</a> <a id="5644" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="5646" href="Agda.Builtin.Reflection.html#5361" class="InductiveConstructor">pat-lam</a> <a id="5654" href="Foreign.Convertible.Deriving.html#5631" class="Bound">cls</a> <a id="5658" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="doPatternLambda"></a><a id="5662" href="Foreign.Convertible.Deriving.html#5662" class="Function">doPatternLambda</a> <a id="5678" class="Symbol">:</a> <a id="5680" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="5685" class="Symbol">→</a> <a id="5687" href="Agda.Builtin.Reflection.html#8617" class="Postulate">R.TC</a> <a id="5692" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="5697" href="Foreign.Convertible.Deriving.html#5662" class="Function">doPatternLambda</a> <a id="5713" href="Foreign.Convertible.Deriving.html#5713" class="Bound">hole</a> <a id="5718" class="Symbol">=</a> <a id="5720" href="Foreign.Convertible.Deriving.html#5008" class="Function">patternLambda</a> <a id="5734" href="Class.Monad.Core.html#426" class="Function Operator">=&lt;&lt;</a> <a id="5738" href="Class.MonadTC.html#1120" class="Function">initTCEnvWithGoal</a> <a id="5756" href="Foreign.Convertible.Deriving.html#5713" class="Bound">hole</a>

<a id="5762" class="Comment">-- Deriving a Convertible instance. Usage</a>
<a id="5804" class="Comment">--   unquoteDecl iName = deriveConvertible iName (quote AgdaTy) (quote HsTy)</a>
<a id="deriveConvertible"></a><a id="5881" href="Foreign.Convertible.Deriving.html#5881" class="Function">deriveConvertible</a> <a id="5899" class="Symbol">:</a> <a id="5901" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="5906" class="Symbol">→</a> <a id="5908" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="5913" class="Symbol">→</a> <a id="5915" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="5920" class="Symbol">→</a> <a id="5922" href="Agda.Builtin.Reflection.html#8617" class="Postulate">R.TC</a> <a id="5927" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="5929" href="Foreign.Convertible.Deriving.html#5881" class="Function">deriveConvertible</a> <a id="5947" href="Foreign.Convertible.Deriving.html#5947" class="Bound">instName</a> <a id="5956" href="Foreign.Convertible.Deriving.html#5956" class="Bound">agdaName</a> <a id="5965" href="Foreign.Convertible.Deriving.html#5965" class="Bound">hsName</a> <a id="5972" class="Symbol">=</a> <a id="5974" href="Reflection.Tactic.html#868" class="Function">initUnquoteWithGoal</a> <a id="5994" class="Symbol">⦃</a> <a id="5996" href="Class.MonadTC.html#706" class="Function">defaultTCOptions</a> <a id="6013" class="Symbol">⦄</a> <a id="6015" class="Symbol">(</a><a id="6016" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">sort</a> <a id="6021" class="Symbol">(</a><a id="6022" href="Agda.Builtin.Reflection.html#5660" class="InductiveConstructor">lit</a> <a id="6026" class="Number">0</a><a id="6027" class="Symbol">))</a> <a id="6030" class="Keyword">do</a>
  <a id="6035" href="Foreign.Convertible.Deriving.html#6035" class="Bound">agdaDef</a> <a id="6043" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="6045" href="Class.MonadTC.html#2222" class="Field">getDefinition</a> <a id="6059" href="Foreign.Convertible.Deriving.html#5956" class="Bound">agdaName</a>
  <a id="6070" href="Foreign.Convertible.Deriving.html#6070" class="Bound">hsDef</a>   <a id="6078" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="6080" href="Class.MonadTC.html#2222" class="Field">getDefinition</a> <a id="6094" href="Foreign.Convertible.Deriving.html#5965" class="Bound">hsName</a>
  <a id="6103" class="Comment">-- instName ← freshName $ &quot;Convertible&quot; S.++ show hsName</a>
  <a id="6162" href="Foreign.Convertible.Deriving.html#6162" class="Bound">instTel</a> <a id="6170" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6172" href="Foreign.Convertible.Deriving.html#6172" class="Bound">instTy</a> <a id="6179" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="6181" href="Foreign.Convertible.Deriving.html#2011" class="Function">instanceType</a> <a id="6194" href="Foreign.Convertible.Deriving.html#5956" class="Bound">agdaName</a> <a id="6203" href="Foreign.Convertible.Deriving.html#5965" class="Bound">hsName</a>
  <a id="6212" href="Foreign.Convertible.Deriving.html#6212" class="Bound">inst</a>    <a id="6220" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="6222" href="Class.MonadTC.html#2047" class="Field">declareDef</a> <a id="6233" class="Symbol">(</a><a id="6234" href="Reflection.AST.Argument.html#1395" class="InductiveConstructor">iArg</a> <a id="6239" href="Foreign.Convertible.Deriving.html#5947" class="Bound">instName</a><a id="6247" class="Symbol">)</a> <a id="6249" class="Symbol">(</a><a id="6250" href="Reflection.Utils.Core.html#693" class="Function">tyView</a> <a id="6257" class="Symbol">(</a><a id="6258" href="Foreign.Convertible.Deriving.html#6162" class="Bound">instTel</a> <a id="6266" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6268" href="Foreign.Convertible.Deriving.html#6172" class="Bound">instTy</a><a id="6274" class="Symbol">))</a>
  <a id="6279" href="Foreign.Convertible.Deriving.html#6279" class="Bound">clauses</a> <a id="6287" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="6289" href="Foreign.Convertible.Deriving.html#4095" class="Function">instanceClauses</a> <a id="6305" href="Foreign.Convertible.Deriving.html#5956" class="Bound">agdaName</a> <a id="6314" href="Foreign.Convertible.Deriving.html#5965" class="Bound">hsName</a>
  <a id="6323" href="Class.MonadTC.html#2137" class="Field">defineFun</a> <a id="6333" href="Foreign.Convertible.Deriving.html#5947" class="Bound">instName</a> <a id="6342" href="Foreign.Convertible.Deriving.html#6279" class="Bound">clauses</a>
  <a id="6352" href="Class.Monad.Core.html#316" class="Field">return</a> <a id="6359" class="Symbol">_</a>

<a id="6362" class="Comment">-- Macros providing an alternative interface. Usage</a>
<a id="6414" class="Comment">--   iName : ConvertibleType AgdaTy HsTy</a>
<a id="6455" class="Comment">--   iName = autoConvertible</a>
<a id="6484" class="Comment">-- or</a>
<a id="6490" class="Comment">--   iName = autoConvert AgdaTy</a>
<a id="6522" class="Keyword">macro</a>
  <a id="ConvertibleType"></a><a id="6530" href="Foreign.Convertible.Deriving.html#6530" class="Macro">ConvertibleType</a> <a id="6546" class="Symbol">:</a> <a id="6548" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="6553" class="Symbol">→</a> <a id="6555" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="6560" class="Symbol">→</a> <a id="6562" href="Reflection.Tactic.html#453" class="Function">Tactic</a>
  <a id="6571" href="Foreign.Convertible.Deriving.html#6530" class="Macro">ConvertibleType</a> <a id="6587" href="Foreign.Convertible.Deriving.html#6587" class="Bound">agdaName</a> <a id="6596" href="Foreign.Convertible.Deriving.html#6596" class="Bound">hsName</a> <a id="6603" class="Symbol">=</a> <a id="6605" href="Reflection.Tactic.html#801" class="Function">initTac</a> <a id="6613" class="Symbol">⦃</a> <a id="6615" href="Class.MonadTC.html#706" class="Function">defaultTCOptions</a> <a id="6632" class="Symbol">⦄</a> <a id="6634" href="Function.Base.html#1993" class="Function Operator">$</a>
    <a id="6640" href="Class.MonadTC.html#12881" class="Function">unifyWithGoal</a> <a id="6654" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6656" href="Reflection.Utils.Core.html#693" class="Function">tyView</a> <a id="6663" href="Class.Monad.Core.html#426" class="Function Operator">=&lt;&lt;</a> <a id="6667" href="Foreign.Convertible.Deriving.html#2011" class="Function">instanceType</a> <a id="6680" href="Foreign.Convertible.Deriving.html#6587" class="Bound">agdaName</a> <a id="6689" href="Foreign.Convertible.Deriving.html#6596" class="Bound">hsName</a>

  <a id="autoConvertible"></a><a id="6699" href="Foreign.Convertible.Deriving.html#6699" class="Macro">autoConvertible</a> <a id="6715" class="Symbol">:</a> <a id="6717" href="Reflection.Tactic.html#453" class="Function">Tactic</a>
  <a id="6726" href="Foreign.Convertible.Deriving.html#6699" class="Macro">autoConvertible</a> <a id="6742" class="Symbol">=</a> <a id="6744" href="Reflection.Tactic.html#801" class="Function">initTac</a> <a id="6752" class="Symbol">⦃</a> <a id="6754" href="Class.MonadTC.html#706" class="Function">defaultTCOptions</a> <a id="6771" class="Symbol">⦄</a> <a id="6773" href="Function.Base.html#1993" class="Function Operator">$</a>
    <a id="6779" href="Class.MonadTC.html#12881" class="Function">unifyWithGoal</a> <a id="6793" href="Class.Monad.Core.html#426" class="Function Operator">=&lt;&lt;</a> <a id="6797" href="Foreign.Convertible.Deriving.html#5008" class="Function">patternLambda</a>

  <a id="autoConvert"></a><a id="6814" href="Foreign.Convertible.Deriving.html#6814" class="Macro">autoConvert</a> <a id="6826" class="Symbol">:</a> <a id="6828" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="6833" class="Symbol">→</a> <a id="6835" href="Reflection.Tactic.html#453" class="Function">Tactic</a>
  <a id="6844" href="Foreign.Convertible.Deriving.html#6814" class="Macro">autoConvert</a> <a id="6856" href="Foreign.Convertible.Deriving.html#6856" class="Bound">d</a> <a id="6858" href="Foreign.Convertible.Deriving.html#6858" class="Bound">hole</a> <a id="6863" class="Symbol">=</a> <a id="6865" class="Keyword">do</a>
    <a id="6872" href="Foreign.Convertible.Deriving.html#6872" class="Bound">hsTyMeta</a> <a id="6881" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="6883" href="Reflection.TCM.html#1261" class="Function">R.newMeta</a> <a id="6893" href="Reflection.Syntax.html#3546" class="InductiveConstructor">`Set</a>
    <a id="6902" href="Agda.Builtin.Reflection.html#8929" class="Postulate">R.checkType</a> <a id="6914" href="Foreign.Convertible.Deriving.html#6858" class="Bound">hole</a> <a id="6919" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="6921" class="Keyword">quote</a> <a id="6927" href="Foreign.Convertible.html#103" class="Record">Convertible</a> <a id="6939" href="Reflection.Syntax.html#3087" class="InductiveConstructor Operator">∙⟦</a> <a id="6942" href="Foreign.Convertible.Deriving.html#6856" class="Bound">d</a> <a id="6944" href="Reflection.Syntax.html#3023" class="InductiveConstructor Operator">∙</a> <a id="6946" href="Reflection.Syntax.html#3087" class="InductiveConstructor Operator">∣</a> <a id="6948" href="Foreign.Convertible.Deriving.html#6872" class="Bound">hsTyMeta</a> <a id="6957" href="Reflection.Syntax.html#3087" class="InductiveConstructor Operator">⟧</a>
    <a id="6963" href="Foreign.Convertible.Deriving.html#6963" class="Bound">hsTy</a> <a id="6968" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="6970" href="Foreign.HaskellTypes.Deriving.html#3890" class="Function">solveHsType</a> <a id="6982" class="Symbol">(</a><a id="6983" href="Foreign.Convertible.Deriving.html#6856" class="Bound">d</a> <a id="6985" href="Reflection.Syntax.html#3023" class="InductiveConstructor Operator">∙</a><a id="6986" class="Symbol">)</a>
    <a id="6992" href="Agda.Builtin.Reflection.html#8790" class="Postulate">R.unify</a> <a id="7000" href="Foreign.Convertible.Deriving.html#6872" class="Bound">hsTyMeta</a> <a id="7009" href="Foreign.Convertible.Deriving.html#6963" class="Bound">hsTy</a>
    <a id="7018" href="Agda.Builtin.Reflection.html#8790" class="Postulate">R.unify</a> <a id="7026" href="Foreign.Convertible.Deriving.html#6858" class="Bound">hole</a> <a id="7031" href="Class.Monad.Core.html#426" class="Function Operator">=&lt;&lt;</a> <a id="7035" href="Foreign.Convertible.Deriving.html#5662" class="Function">doPatternLambda</a> <a id="7051" href="Foreign.Convertible.Deriving.html#6858" class="Bound">hole</a>
</pre></body></html>