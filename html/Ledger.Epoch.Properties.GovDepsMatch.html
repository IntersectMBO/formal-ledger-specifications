<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Epoch.Properties.GovDepsMatch</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="57" class="Keyword">open</a> <a id="62" class="Keyword">import</a> <a id="69" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>

<a id="86" class="Keyword">module</a> <a id="93" href="Ledger.Epoch.Properties.GovDepsMatch.html" class="Module">Ledger.Epoch.Properties.GovDepsMatch</a>
  <a id="132" class="Symbol">(</a><a id="133" href="Ledger.Epoch.Properties.GovDepsMatch.html#133" class="Bound">txs</a> <a id="137" class="Symbol">:</a> <a id="139" class="Symbol">_)</a> <a id="142" class="Symbol">(</a><a id="143" class="Keyword">open</a> <a id="148" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="169" href="Ledger.Epoch.Properties.GovDepsMatch.html#133" class="Bound">txs</a><a id="172" class="Symbol">)</a>
  <a id="176" class="Symbol">(</a><a id="177" href="Ledger.Epoch.Properties.GovDepsMatch.html#177" class="Bound">abs</a> <a id="181" class="Symbol">:</a> <a id="183" href="Ledger.Abstract.html#578" class="Record">AbstractFunctions</a> <a id="201" href="Ledger.Epoch.Properties.GovDepsMatch.html#133" class="Bound">txs</a><a id="204" class="Symbol">)</a> <a id="206" class="Symbol">(</a><a id="207" class="Keyword">open</a> <a id="212" href="Ledger.Abstract.html#578" class="Module">AbstractFunctions</a> <a id="230" href="Ledger.Epoch.Properties.GovDepsMatch.html#177" class="Bound">abs</a><a id="233" class="Symbol">)</a>
  <a id="237" class="Keyword">where</a>


<a id="245" class="Keyword">open</a> <a id="250" class="Keyword">import</a> <a id="257" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="270" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="283" class="Keyword">open</a> <a id="288" class="Keyword">import</a> <a id="295" href="Ledger.Epoch.html" class="Module">Ledger.Epoch</a> <a id="308" href="Ledger.Epoch.Properties.GovDepsMatch.html#133" class="Bound">txs</a> <a id="312" href="Ledger.Epoch.Properties.GovDepsMatch.html#177" class="Bound">abs</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Ledger.Ledger.html" class="Module">Ledger.Ledger</a> <a id="342" href="Ledger.Epoch.Properties.GovDepsMatch.html#133" class="Bound">txs</a> <a id="346" href="Ledger.Epoch.Properties.GovDepsMatch.html#177" class="Bound">abs</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Ledger.Ledger.Properties.html" class="Module">Ledger.Ledger.Properties</a> <a id="387" href="Ledger.Epoch.Properties.GovDepsMatch.html#133" class="Bound">txs</a> <a id="391" href="Ledger.Epoch.Properties.GovDepsMatch.html#177" class="Bound">abs</a>
<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="422" class="Keyword">renaming</a> <a id="431" class="Symbol">(</a><a id="432" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="436" class="Symbol">to</a> <a id="439" class="Function">map&#39;</a><a id="443" class="Symbol">;</a> <a id="445" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="450" class="Symbol">to</a> <a id="453" class="Function">map</a><a id="456" class="Symbol">)</a>
<a id="458" class="Keyword">open</a> <a id="463" class="Keyword">import</a> <a id="470" href="Ledger.Ratify.html" class="Module">Ledger.Ratify</a> <a id="484" href="Ledger.Epoch.Properties.GovDepsMatch.html#133" class="Bound">txs</a> <a id="488" class="Keyword">hiding</a> <a id="495" class="Symbol">(</a><a id="496" href="Ledger.Ratify.html#781" class="Function">vote</a><a id="500" class="Symbol">)</a>
<a id="502" class="Keyword">open</a> <a id="507" class="Keyword">import</a> <a id="514" href="Ledger.Utxo.html" class="Module">Ledger.Utxo</a> <a id="526" href="Ledger.Epoch.Properties.GovDepsMatch.html#133" class="Bound">txs</a> <a id="530" href="Ledger.Epoch.Properties.GovDepsMatch.html#177" class="Bound">abs</a>

<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="568" href="Axiom.Set.html#10669" class="Function">th</a>

<a id="572" class="Keyword">open</a> <a id="577" class="Keyword">import</a> <a id="584" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="599" class="Keyword">using</a> <a id="605" class="Symbol">(</a><a id="606" href="Data.List.Base.html#10687" class="Function">filter</a><a id="612" class="Symbol">)</a>
<a id="614" class="Keyword">open</a> <a id="619" class="Keyword">import</a> <a id="626" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a> <a id="672" class="Keyword">using</a> <a id="678" class="Symbol">(</a><a id="679" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a><a id="688" class="Symbol">;</a> <a id="690" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a><a id="696" class="Symbol">)</a>
<a id="698" class="Keyword">open</a> <a id="703" class="Keyword">import</a> <a id="710" href="Data.List.Subpermutations.html" class="Module">Data.List.Subpermutations</a> <a id="736" class="Keyword">using</a> <a id="742" class="Symbol">(</a><a id="743" href="Data.List.Subpermutations.html#1933" class="Function">∈ˡ-map-filter</a><a id="756" class="Symbol">)</a>
<a id="758" class="Keyword">open</a> <a id="763" class="Keyword">import</a> <a id="770" href="Data.Product.Function.NonDependent.Propositional.html" class="Module">Data.Product.Function.NonDependent.Propositional</a> <a id="819" class="Keyword">using</a> <a id="825" class="Symbol">(</a><a id="826" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">_×-cong_</a><a id="834" class="Symbol">)</a>
<a id="836" class="Keyword">open</a> <a id="841" class="Keyword">import</a> <a id="848" href="Data.Product.Properties.html" class="Module">Data.Product.Properties</a> <a id="872" class="Keyword">using</a> <a id="878" class="Symbol">(</a><a id="879" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a><a id="886" class="Symbol">)</a>
<a id="888" class="Keyword">open</a> <a id="893" class="Keyword">import</a> <a id="900" href="Data.Product.Properties.Ext.html" class="Module">Data.Product.Properties.Ext</a> <a id="928" class="Keyword">using</a> <a id="934" class="Symbol">(</a><a id="935" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a><a id="943" class="Symbol">)</a>

<a id="946" class="Keyword">open</a> <a id="951" class="Keyword">import</a> <a id="958" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="973" class="Keyword">using</a> <a id="979" class="Symbol">(</a><a id="980" href="Relation.Unary.html#4543" class="Function">Decidable</a><a id="989" class="Symbol">)</a>

<a id="992" class="Keyword">open</a> <a id="997" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="1010" class="Keyword">import</a> <a id="1017" href="Function.Related.Propositional.html" class="Module">Function.Related.Propositional</a> <a id="1048" class="Symbol">as</a> <a id="1051" class="Module">R</a>
<a id="1053" class="Keyword">import</a> <a id="1060" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1093" class="Symbol">as</a> <a id="1096" class="Module">SetoidReasoning</a>

<a id="1113" class="Keyword">module</a> <a id="EPOCH-Body"></a><a id="1120" href="Ledger.Epoch.Properties.GovDepsMatch.html#1120" class="Module">EPOCH-Body</a> <a id="1131" class="Symbol">(</a><a id="1132" href="Ledger.Epoch.Properties.GovDepsMatch.html#1132" class="Bound">eps</a> <a id="1136" class="Symbol">:</a> <a id="1138" href="Ledger.Epoch.html#1290" class="Record">EpochState</a><a id="1148" class="Symbol">)</a> <a id="1150" class="Keyword">where</a>
  <a id="1158" class="Keyword">open</a> <a id="1163" href="Ledger.Epoch.html#1290" class="Module">EpochState</a> <a id="1174" href="Ledger.Epoch.Properties.GovDepsMatch.html#1132" class="Bound">eps</a> <a id="1178" class="Keyword">hiding</a> <a id="1185" class="Symbol">(</a><a id="1186" href="Ledger.Epoch.html#1431" class="Field">es</a><a id="1188" class="Symbol">)</a> <a id="1190" class="Keyword">renaming</a> <a id="1199" class="Symbol">(</a><a id="1200" href="Ledger.Epoch.html#1407" class="Field">ls</a> <a id="1203" class="Symbol">to</a> <a id="1206" class="Field">epsLState</a><a id="1215" class="Symbol">;</a> <a id="1217" href="Ledger.Epoch.html#1459" class="Field">fut</a> <a id="1221" class="Symbol">to</a> <a id="1224" class="Field">epsRState</a><a id="1233" class="Symbol">)</a> <a id="1235" class="Keyword">public</a>
  <a id="1244" class="Keyword">open</a> <a id="1249" href="Ledger.Ratify.html#3279" class="Module">RatifyState</a> <a id="1261" class="Keyword">renaming</a> <a id="1270" class="Symbol">(</a><a id="1271" href="Ledger.Ratify.html#3316" class="Field">es</a> <a id="1274" class="Symbol">to</a> <a id="1277" class="Field">ensRState</a><a id="1286" class="Symbol">)</a> <a id="1288" class="Keyword">public</a>
  <a id="1297" class="Keyword">open</a> <a id="1302" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="1309" href="Ledger.Epoch.Properties.GovDepsMatch.html#1206" class="Field">epsLState</a> <a id="1319" class="Keyword">public</a>
  <a id="1328" class="Keyword">open</a> <a id="1333" href="Ledger.GovernanceActions.html#2746" class="Module">GovActionState</a> <a id="1348" class="Keyword">public</a>
  <a id="1357" class="Keyword">open</a> <a id="1362" href="Ledger.Utxo.html#2705" class="Module">UTxOState</a> <a id="1372" class="Keyword">public</a>

  <a id="EPOCH-Body.ens"></a><a id="1382" href="Ledger.Epoch.Properties.GovDepsMatch.html#1382" class="Function">ens</a>      <a id="1391" class="Symbol">=</a> <a id="1393" class="Keyword">record</a> <a id="1400" class="Symbol">(</a><a id="1401" href="Ledger.Epoch.Properties.GovDepsMatch.html#1224" class="Field">epsRState</a> <a id="1411" class="Symbol">.</a><a id="1412" href="Ledger.Epoch.Properties.GovDepsMatch.html#1277" class="Field">ensRState</a><a id="1421" class="Symbol">)</a> <a id="1423" class="Symbol">{</a> <a id="1425" href="Ledger.Enact.html#649" class="Field">withdrawals</a> <a id="1437" class="Symbol">=</a> <a id="1439" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="1441" class="Symbol">}</a>
  <a id="EPOCH-Body.tmpGovSt"></a><a id="1445" href="Ledger.Epoch.Properties.GovDepsMatch.html#1445" class="Function">tmpGovSt</a> <a id="1454" class="Symbol">=</a> <a id="1456" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="1463" class="Symbol">(λ</a> <a id="1466" href="Ledger.Epoch.Properties.GovDepsMatch.html#1466" class="Bound">x</a> <a id="1468" class="Symbol">→</a> <a id="1470" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="1472" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1478" href="Ledger.Epoch.Properties.GovDepsMatch.html#1466" class="Bound">x</a> <a id="1480" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="1482" href="Ledger.Epoch.Properties.GovDepsMatch.html#453" class="Function">map</a> <a id="1486" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1492" class="Symbol">(</a><a id="1493" href="Ledger.Epoch.Properties.GovDepsMatch.html#1224" class="Field">epsRState</a> <a id="1503" class="Symbol">.</a><a id="1504" href="Ledger.Ratify.html#3349" class="Field">removed</a><a id="1511" class="Symbol">)</a> <a id="1513" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a><a id="1514" class="Symbol">)</a> <a id="1516" href="Ledger.Ledger.html#895" class="Function">govSt</a>
  <a id="EPOCH-Body.orphans"></a><a id="1524" href="Ledger.Epoch.Properties.GovDepsMatch.html#1524" class="Function">orphans</a>  <a id="1533" class="Symbol">=</a> <a id="1535" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="1544" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="1546" href="Ledger.Epoch.html#5758" class="Function">getOrphans</a> <a id="1557" href="Ledger.Epoch.Properties.GovDepsMatch.html#1382" class="Function">ens</a> <a id="1561" href="Ledger.Epoch.Properties.GovDepsMatch.html#1445" class="Function">tmpGovSt</a>
  <a id="EPOCH-Body.removed&#39;"></a><a id="1572" href="Ledger.Epoch.Properties.GovDepsMatch.html#1572" class="Function">removed&#39;</a> <a id="1581" class="Symbol">:</a> <a id="1583" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1585" class="Symbol">(</a><a id="1586" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="1598" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1600" href="Ledger.GovernanceActions.html#2746" class="Record">GovActionState</a><a id="1614" class="Symbol">)</a>
  <a id="1618" href="Ledger.Epoch.Properties.GovDepsMatch.html#1572" class="Function">removed&#39;</a> <a id="1627" class="Symbol">=</a> <a id="1629" class="Symbol">(</a><a id="1630" href="Ledger.Epoch.Properties.GovDepsMatch.html#1224" class="Field">epsRState</a> <a id="1640" class="Symbol">.</a><a id="1641" href="Ledger.Ratify.html#3349" class="Field">removed</a><a id="1648" class="Symbol">)</a> <a id="1650" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="1652" href="Ledger.Epoch.Properties.GovDepsMatch.html#1524" class="Function">orphans</a>
  <a id="EPOCH-Body.removedGovActions"></a><a id="1662" href="Ledger.Epoch.Properties.GovDepsMatch.html#1662" class="Function">removedGovActions</a> <a id="1680" class="Symbol">=</a> <a id="1682" href="Function.Base.html#1638" class="Function">flip</a> <a id="1687" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="1698" href="Ledger.Epoch.Properties.GovDepsMatch.html#1572" class="Function">removed&#39;</a> <a id="1707" class="Symbol">λ</a> <a id="1709" class="Symbol">(</a><a id="1710" href="Ledger.Epoch.Properties.GovDepsMatch.html#1710" class="Bound">gaid</a> <a id="1715" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1717" href="Ledger.Epoch.Properties.GovDepsMatch.html#1717" class="Bound">gaSt</a><a id="1721" class="Symbol">)</a> <a id="1723" class="Symbol">→</a>
    <a id="1729" href="Ledger.Epoch.Properties.GovDepsMatch.html#453" class="Function">map</a> <a id="1733" class="Symbol">(</a><a id="1734" href="Ledger.GovernanceActions.html#2817" class="Field">returnAddr</a> <a id="1745" href="Ledger.Epoch.Properties.GovDepsMatch.html#1717" class="Bound">gaSt</a> <a id="1750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="1752" class="Symbol">)</a> <a id="1754" class="Symbol">((</a><a id="1756" href="Ledger.Utxo.html#2813" class="Field">deposits</a> <a id="1765" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="1772" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="1774" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="1776" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="1793" href="Ledger.Epoch.Properties.GovDepsMatch.html#1710" class="Bound">gaid</a> <a id="1798" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="1799" class="Symbol">)</a> <a id="1801" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1802" class="Symbol">)</a>

<a id="1805" class="Keyword">module</a> <a id="EPOCH-PROPS"></a><a id="1812" href="Ledger.Epoch.Properties.GovDepsMatch.html#1812" class="Module">EPOCH-PROPS</a> <a id="1824" class="Symbol">{</a><a id="1825" href="Ledger.Epoch.Properties.GovDepsMatch.html#1825" class="Bound">eps</a> <a id="1829" class="Symbol">:</a> <a id="1831" href="Ledger.Epoch.html#1290" class="Record">EpochState</a><a id="1841" class="Symbol">}</a> <a id="1843" class="Keyword">where</a>
  <a id="1851" class="Keyword">open</a> <a id="1856" href="Ledger.Epoch.Properties.GovDepsMatch.html#1120" class="Module">EPOCH-Body</a> <a id="1867" href="Ledger.Epoch.Properties.GovDepsMatch.html#1825" class="Bound">eps</a>
  <a id="1873" class="Keyword">open</a> <a id="1878" href="Ledger.Epoch.html#1290" class="Module">EpochState</a>


  <a id="EPOCH-PROPS.EPOCH-govDepsMatch"></a><a id="1893" href="Ledger.Epoch.Properties.GovDepsMatch.html#1893" class="Function">EPOCH-govDepsMatch</a> <a id="1912" class="Symbol">:</a>  <a id="1915" class="Symbol">{</a><a id="1916" href="Ledger.Epoch.Properties.GovDepsMatch.html#1916" class="Bound">eps&#39;</a> <a id="1921" class="Symbol">:</a> <a id="1923" href="Ledger.Epoch.html#1290" class="Record">EpochState</a><a id="1933" class="Symbol">}</a> <a id="1935" class="Symbol">{</a><a id="1936" href="Ledger.Epoch.Properties.GovDepsMatch.html#1936" class="Bound">e</a> <a id="1938" class="Symbol">:</a> <a id="1940" href="Ledger.Types.Epoch.html#543" class="Function">Epoch</a><a id="1945" class="Symbol">}</a>
    <a id="1951" class="Symbol">→</a> <a id="1953" href="Ledger.Epoch.Properties.GovDepsMatch.html#453" class="Function">map</a> <a id="1957" class="Symbol">(</a><a id="1958" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="1975" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1977" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="1982" class="Symbol">)</a> <a id="1984" href="Ledger.Epoch.Properties.GovDepsMatch.html#1572" class="Function">removed&#39;</a> <a id="1993" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="1995" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1999" class="Symbol">(</a><a id="2000" href="Ledger.Certs.html#729" class="Field">DepositsOf</a> <a id="2011" href="Ledger.Epoch.Properties.GovDepsMatch.html#1825" class="Bound">eps</a><a id="2014" class="Symbol">)</a>
    <a id="2020" class="Symbol">→</a> <a id="2022" class="Symbol">_</a> <a id="2024" href="Ledger.Epoch.html#7737" class="Datatype Operator">⊢</a> <a id="2026" href="Ledger.Epoch.Properties.GovDepsMatch.html#1825" class="Bound">eps</a> <a id="2030" href="Ledger.Epoch.html#7737" class="Datatype Operator">⇀⦇</a> <a id="2033" href="Ledger.Epoch.Properties.GovDepsMatch.html#1936" class="Bound">e</a> <a id="2035" href="Ledger.Epoch.html#7737" class="Datatype Operator">,EPOCH⦈</a> <a id="2043" href="Ledger.Epoch.Properties.GovDepsMatch.html#1916" class="Bound">eps&#39;</a>
    <a id="2052" class="Symbol">→</a> <a id="2054" href="Ledger.Ledger.Properties.html#4161" class="Function">govDepsMatch</a> <a id="2067" class="Symbol">(</a><a id="2068" href="Ledger.Epoch.Properties.GovDepsMatch.html#1825" class="Bound">eps</a> <a id="2072" class="Symbol">.</a><a id="2073" href="Ledger.Epoch.html#1407" class="Field">ls</a><a id="2075" class="Symbol">)</a> <a id="2077" class="Symbol">→</a> <a id="2079" href="Ledger.Ledger.Properties.html#4161" class="Function">govDepsMatch</a> <a id="2092" class="Symbol">(</a><a id="2093" href="Ledger.Epoch.Properties.GovDepsMatch.html#1916" class="Bound">eps&#39;</a> <a id="2098" class="Symbol">.</a><a id="2099" href="Ledger.Epoch.html#1407" class="Field">ls</a><a id="2101" class="Symbol">)</a>


  <a id="2107" class="Comment">-- Proof.</a>
  <a id="2119" href="Ledger.Epoch.Properties.GovDepsMatch.html#1893" class="Function">EPOCH-govDepsMatch</a> <a id="2138" href="Ledger.Epoch.Properties.GovDepsMatch.html#2138" class="Bound">ratify-removed</a> <a id="2153" class="Symbol">(</a><a id="2154" href="Ledger.Epoch.html#7807" class="InductiveConstructor">EPOCH</a> <a id="2160" href="Ledger.Epoch.Properties.GovDepsMatch.html#2160" class="Bound">x</a> <a id="2162" class="Symbol">_)</a> <a id="2165" class="Symbol">=</a>
      <a id="2173" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="2182" class="Symbol">(</a><a id="2183" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="2198" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2200" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="2209" class="Symbol">(</a><a id="2210" href="Axiom.Set.Rel.html#6892" class="Function">res-comp-cong</a> <a id="2224" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2226" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="2233" href="Ledger.Epoch.Properties.GovDepsMatch.html#2966" class="Function">ΔΠ&#39;≡ΔΠ</a><a id="2239" class="Symbol">))</a>
      <a id="2248" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2250" href="Function.Bundles.html#4834" class="Field">from</a> <a id="2255" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a> <a id="2262" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2264" href="Ledger.Epoch.Properties.GovDepsMatch.html#5130" class="Function">main-invariance-lemma</a> <a id="2286" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2288" href="Function.Bundles.html#4810" class="Field">to</a> <a id="2291" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a>
    <a id="2302" class="Keyword">where</a>

    <a id="2313" class="Comment">-- the combinator used in the EPOCH rule</a>
    <a id="2358" href="Ledger.Epoch.Properties.GovDepsMatch.html#2358" class="Function">ΔΠ</a> <a id="2361" class="Symbol">:</a> <a id="2363" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2365" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a>
    <a id="2384" href="Ledger.Epoch.Properties.GovDepsMatch.html#2358" class="Function">ΔΠ</a> <a id="2387" class="Symbol">=</a> <a id="2389" href="Ledger.Epoch.Properties.GovDepsMatch.html#453" class="Function">map</a> <a id="2393" class="Symbol">(</a><a id="2394" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2400" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2402" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="2407" class="Symbol">)</a> <a id="2409" href="Ledger.Epoch.Properties.GovDepsMatch.html#1662" class="Function">removedGovActions</a>

    <a id="2432" class="Comment">-- a simpler combinator that suffices here;</a>
    <a id="2480" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a> <a id="2484" class="Symbol">:</a> <a id="2486" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2488" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a>
    <a id="2507" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a> <a id="2511" class="Symbol">=</a> <a id="2513" href="Ledger.Epoch.Properties.GovDepsMatch.html#453" class="Function">map</a> <a id="2517" class="Symbol">(</a><a id="2518" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="2535" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2537" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2542" class="Symbol">)</a> <a id="2544" href="Ledger.Epoch.Properties.GovDepsMatch.html#1572" class="Function">removed&#39;</a>
    <a id="2557" class="Comment">-- Below we prove ΔΠ and ΔΠ&#39; are essentially equivalent.</a>

    <a id="2619" href="Ledger.Epoch.Properties.GovDepsMatch.html#2619" class="Function">P</a> <a id="2621" class="Symbol">:</a> <a id="2623" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="2635" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2637" href="Ledger.GovernanceActions.html#2746" class="Record">GovActionState</a> <a id="2652" class="Symbol">→</a> <a id="2654" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="2663" href="Ledger.Epoch.Properties.GovDepsMatch.html#2619" class="Function">P</a> <a id="2665" class="Symbol">=</a> <a id="2667" class="Symbol">λ</a> <a id="2669" href="Ledger.Epoch.Properties.GovDepsMatch.html#2669" class="Bound">u</a> <a id="2671" class="Symbol">→</a> <a id="2673" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2679" href="Ledger.Epoch.Properties.GovDepsMatch.html#2669" class="Bound">u</a> <a id="2681" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="2683" href="Ledger.Epoch.Properties.GovDepsMatch.html#453" class="Function">map</a> <a id="2687" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2693" href="Ledger.Epoch.Properties.GovDepsMatch.html#1572" class="Function">removed&#39;</a>

    <a id="2707" href="Ledger.Epoch.Properties.GovDepsMatch.html#2707" class="Function">P?</a> <a id="2710" class="Symbol">:</a> <a id="2712" href="Relation.Unary.html#4543" class="Function">Decidable</a> <a id="2722" href="Ledger.Epoch.Properties.GovDepsMatch.html#2619" class="Function">P</a>
    <a id="2728" href="Ledger.Epoch.Properties.GovDepsMatch.html#2707" class="Function">P?</a> <a id="2731" class="Symbol">=</a> <a id="2733" class="Symbol">λ</a> <a id="2735" href="Ledger.Epoch.Properties.GovDepsMatch.html#2735" class="Bound">u</a> <a id="2737" class="Symbol">→</a> <a id="2739" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="2741" href="Ledger.Epoch.Properties.GovDepsMatch.html#2619" class="Function">P</a> <a id="2743" href="Ledger.Epoch.Properties.GovDepsMatch.html#2735" class="Bound">u</a> <a id="2745" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a>

    <a id="2752" href="Ledger.Epoch.Properties.GovDepsMatch.html#2752" class="Function">utxoDeps</a> <a id="2761" class="Symbol">:</a> <a id="2763" href="Ledger.Certs.html#573" class="Function">Deposits</a>
    <a id="2776" href="Ledger.Epoch.Properties.GovDepsMatch.html#2752" class="Function">utxoDeps</a> <a id="2785" class="Symbol">=</a> <a id="2787" href="Ledger.Utxo.html#2813" class="Field">UTxOState.deposits</a> <a id="2806" class="Symbol">(</a><a id="2807" href="Ledger.Ledger.html#868" class="Field">LState.utxoSt</a> <a id="2821" href="Ledger.Epoch.Properties.GovDepsMatch.html#1206" class="Field">epsLState</a><a id="2830" class="Symbol">)</a>

    <a id="2837" class="Comment">-- utxo deposits restricted to new form of set used in EPOCH rule</a>
    <a id="2907" href="Ledger.Epoch.Properties.GovDepsMatch.html#2907" class="Function">utxoDeps&#39;</a> <a id="2917" class="Symbol">:</a> <a id="2919" href="Ledger.Certs.html#573" class="Function">Deposits</a>
    <a id="2932" href="Ledger.Epoch.Properties.GovDepsMatch.html#2907" class="Function">utxoDeps&#39;</a> <a id="2942" class="Symbol">=</a> <a id="2944" href="Ledger.Epoch.Properties.GovDepsMatch.html#2752" class="Function">utxoDeps</a> <a id="2953" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="2955" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a> <a id="2959" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a>

    <a id="2966" href="Ledger.Epoch.Properties.GovDepsMatch.html#2966" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="2973" class="Symbol">:</a> <a id="2975" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a> <a id="2979" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="2982" href="Ledger.Epoch.Properties.GovDepsMatch.html#2358" class="Function">ΔΠ</a>
    <a id="2989" href="Ledger.Epoch.Properties.GovDepsMatch.html#2966" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="2996" class="Symbol">=</a> <a id="2998" href="Ledger.Epoch.Properties.GovDepsMatch.html#3032" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3005" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3007" href="Ledger.Epoch.Properties.GovDepsMatch.html#3543" class="Function">ΔΠ⊆ΔΠ&#39;</a>
      <a id="3020" class="Keyword">where</a>
      <a id="3032" href="Ledger.Epoch.Properties.GovDepsMatch.html#3032" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3039" class="Symbol">:</a> <a id="3041" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a> <a id="3045" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="3047" href="Ledger.Epoch.Properties.GovDepsMatch.html#2358" class="Function">ΔΠ</a>
      <a id="3056" href="Ledger.Epoch.Properties.GovDepsMatch.html#3032" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3063" class="Symbol">{</a><a id="3064" href="Ledger.Epoch.Properties.GovDepsMatch.html#3064" class="Bound">a</a><a id="3065" class="Symbol">}</a> <a id="3067" href="Ledger.Epoch.Properties.GovDepsMatch.html#3067" class="Bound">x</a> <a id="3069" class="Keyword">with</a> <a id="3074" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3079" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3085" href="Ledger.Epoch.Properties.GovDepsMatch.html#3067" class="Bound">x</a>
      <a id="3093" class="Symbol">...</a> <a id="3097" class="Symbol">|</a> <a id="3099" class="Symbol">(</a><a id="3100" href="Ledger.Epoch.Properties.GovDepsMatch.html#3100" class="Bound">gaid</a> <a id="3105" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3107" href="Ledger.Epoch.Properties.GovDepsMatch.html#3107" class="Bound">gast</a><a id="3111" class="Symbol">)</a> <a id="3113" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3115" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3120" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3122" href="Ledger.Epoch.Properties.GovDepsMatch.html#3122" class="Bound">gaidgast∈rem</a> <a id="3135" class="Keyword">with</a> <a id="3140" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3145" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3151" class="Symbol">(</a><a id="3152" href="Ledger.Epoch.Properties.GovDepsMatch.html#2138" class="Bound">ratify-removed</a> <a id="3167" class="Bound">x</a><a id="3168" class="Symbol">)</a>
      <a id="3176" class="Symbol">...</a> <a id="3180" class="Symbol">|</a> <a id="3182" class="Symbol">(</a><a id="3183" href="Ledger.Epoch.Properties.GovDepsMatch.html#3183" class="Bound">dp</a> <a id="3186" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3188" href="Ledger.Epoch.Properties.GovDepsMatch.html#3188" class="Bound">c</a><a id="3189" class="Symbol">)</a> <a id="3191" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3193" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3198" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3200" href="Ledger.Epoch.Properties.GovDepsMatch.html#3200" class="Bound">dpc∈utxoDeps</a> <a id="3213" class="Symbol">=</a> <a id="3215" class="Keyword">let</a> <a id="3219" href="Ledger.Epoch.Properties.GovDepsMatch.html#3219" class="Bound">gadc</a> <a id="3224" class="Symbol">=</a> <a id="3226" class="Symbol">(</a><a id="3227" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="3244" class="Bound">gaid</a> <a id="3249" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3251" href="Ledger.Epoch.Properties.GovDepsMatch.html#3188" class="Bound">c</a><a id="3252" class="Symbol">)</a> <a id="3254" class="Keyword">in</a>
        <a id="3265" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3268" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3274" class="Symbol">((</a><a id="3276" href="Ledger.GovernanceActions.html#2817" class="Field">returnAddr</a> <a id="3287" class="Symbol">{</a><a id="3288" href="Ledger.Epoch.Properties.GovDepsMatch.html#133" class="Bound">txs</a><a id="3291" class="Symbol">}</a> <a id="3293" class="Bound">gast</a> <a id="3298" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3300" href="Ledger.Epoch.Properties.GovDepsMatch.html#3219" class="Bound">gadc</a><a id="3304" class="Symbol">)</a>
                 <a id="3323" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3325" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
                 <a id="3347" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3349" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3352" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="3365" class="Symbol">((</a><a id="3367" class="Bound">gaid</a> <a id="3372" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3374" class="Bound">gast</a><a id="3378" class="Symbol">)</a>
                                   <a id="3415" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3417" class="Bound">gaidgast∈rem</a>
                                   <a id="3465" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3467" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3470" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3476" class="Symbol">(</a><a id="3477" href="Ledger.Epoch.Properties.GovDepsMatch.html#3219" class="Bound">gadc</a> <a id="3482" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3484" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3489" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3491" href="Axiom.Set.Map.html#12520" class="Function">res-singleton⁺</a> <a id="3506" class="Symbol">{</a><a id="3507" class="Argument">m</a> <a id="3509" class="Symbol">=</a> <a id="3511" href="Ledger.Epoch.Properties.GovDepsMatch.html#2752" class="Function">utxoDeps</a><a id="3519" class="Symbol">}</a> <a id="3521" href="Ledger.Epoch.Properties.GovDepsMatch.html#3200" class="Bound">dpc∈utxoDeps</a><a id="3533" class="Symbol">)))</a>
      <a id="3543" href="Ledger.Epoch.Properties.GovDepsMatch.html#3543" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3550" class="Symbol">:</a> <a id="3552" href="Ledger.Epoch.Properties.GovDepsMatch.html#2358" class="Function">ΔΠ</a> <a id="3555" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="3557" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a>
      <a id="3567" href="Ledger.Epoch.Properties.GovDepsMatch.html#3543" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3574" class="Symbol">{</a><a id="3575" href="Ledger.Epoch.Properties.GovDepsMatch.html#3575" class="Bound">a</a><a id="3576" class="Symbol">}</a> <a id="3578" href="Ledger.Epoch.Properties.GovDepsMatch.html#3578" class="Bound">x</a> <a id="3580" class="Keyword">with</a> <a id="3585" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3590" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3596" href="Ledger.Epoch.Properties.GovDepsMatch.html#3578" class="Bound">x</a>
      <a id="3604" class="Symbol">...</a> <a id="3608" class="Symbol">|</a> <a id="3610" class="Symbol">(</a><a id="3611" href="Ledger.Epoch.Properties.GovDepsMatch.html#3611" class="Bound">rwa</a> <a id="3615" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3617" href="Ledger.Epoch.Properties.GovDepsMatch.html#3617" class="Bound">dp</a> <a id="3620" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3622" href="Ledger.Epoch.Properties.GovDepsMatch.html#3622" class="Bound">c</a><a id="3623" class="Symbol">)</a> <a id="3625" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3627" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3632" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3634" href="Ledger.Epoch.Properties.GovDepsMatch.html#3634" class="Bound">rwa-dp-c∈</a> <a id="3644" class="Keyword">with</a> <a id="3649" class="Symbol">(</a><a id="3650" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3655" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="3668" href="Ledger.Epoch.Properties.GovDepsMatch.html#3634" class="Bound">rwa-dp-c∈</a><a id="3677" class="Symbol">)</a>
      <a id="3685" class="Symbol">...</a> <a id="3689" class="Symbol">|</a> <a id="3691" class="Symbol">(</a><a id="3692" href="Ledger.Epoch.Properties.GovDepsMatch.html#3692" class="Bound">gaid</a> <a id="3697" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3699" href="Ledger.Epoch.Properties.GovDepsMatch.html#3699" class="Bound">gast</a><a id="3703" class="Symbol">)</a> <a id="3705" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3707" href="Ledger.Epoch.Properties.GovDepsMatch.html#3707" class="Bound">gaid-gast-∈-removed</a> <a id="3727" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3729" href="Ledger.Epoch.Properties.GovDepsMatch.html#3729" class="Bound">rwa-dp-c-∈-map</a> <a id="3744" class="Keyword">with</a> <a id="3749" class="Symbol">(</a><a id="3750" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3755" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3761" href="Ledger.Epoch.Properties.GovDepsMatch.html#3729" class="Bound">rwa-dp-c-∈-map</a><a id="3775" class="Symbol">)</a>
      <a id="3783" class="Symbol">...</a> <a id="3787" class="Symbol">|</a> <a id="3789" class="Symbol">(_</a> <a id="3792" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3794" class="Symbol">_)</a> <a id="3797" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3799" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3804" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3806" href="Ledger.Epoch.Properties.GovDepsMatch.html#3806" class="Bound">q∈</a> <a id="3809" class="Symbol">=</a>
        <a id="3819" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3822" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3828" class="Symbol">((</a><a id="3830" class="Bound">gaid</a> <a id="3835" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3837" class="Bound">gast</a><a id="3841" class="Symbol">)</a>
                 <a id="3860" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3862" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3868" class="Symbol">(</a><a id="3869" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a> <a id="3877" class="Symbol">(</a><a id="3878" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="3884" class="Symbol">(</a><a id="3885" href="Axiom.Set.Map.html#12964" class="Function">res-singleton&#39;&#39;</a> <a id="3901" class="Symbol">{</a><a id="3902" class="Argument">m</a> <a id="3904" class="Symbol">=</a> <a id="3906" href="Ledger.Epoch.Properties.GovDepsMatch.html#2752" class="Function">utxoDeps</a><a id="3914" class="Symbol">}</a> <a id="3916" href="Ledger.Epoch.Properties.GovDepsMatch.html#3806" class="Bound">q∈</a><a id="3918" class="Symbol">)))</a>
                 <a id="3939" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3941" class="Bound">gaid-gast-∈-removed</a><a id="3960" class="Symbol">)</a>

    <a id="3967" href="Ledger.Epoch.Properties.GovDepsMatch.html#3967" class="Function">map-filter-decomp</a> <a id="3985" class="Symbol">:</a> <a id="3987" class="Symbol">∀</a> <a id="3989" href="Ledger.Epoch.Properties.GovDepsMatch.html#3989" class="Bound">a</a> <a id="3991" class="Symbol">→</a> <a id="3993" class="Symbol">(</a><a id="3994" href="Ledger.Epoch.Properties.GovDepsMatch.html#3989" class="Bound">a</a> <a id="3996" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="3998" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a> <a id="4002" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4004" href="Ledger.Epoch.Properties.GovDepsMatch.html#3989" class="Bound">a</a> <a id="4006" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="4009" href="Ledger.Epoch.Properties.GovDepsMatch.html#439" class="Function">map&#39;</a> <a id="4014" class="Symbol">(</a><a id="4015" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="4032" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4034" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4039" class="Symbol">)</a> <a id="4041" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="4046" class="Symbol">)</a>
                               <a id="4079" href="Function.Bundles.html#12400" class="Function Operator">⇔</a> <a id="4081" class="Symbol">(</a><a id="4082" href="Ledger.Epoch.Properties.GovDepsMatch.html#3989" class="Bound">a</a> <a id="4084" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="4087" href="Ledger.Epoch.Properties.GovDepsMatch.html#439" class="Function">map&#39;</a> <a id="4092" class="Symbol">(</a><a id="4093" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="4110" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4112" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4117" class="Symbol">)(</a><a id="4119" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4126" href="Ledger.Epoch.Properties.GovDepsMatch.html#2707" class="Function">P?</a> <a id="4129" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="4134" class="Symbol">))</a>
    <a id="4141" href="Ledger.Epoch.Properties.GovDepsMatch.html#3967" class="Function">map-filter-decomp</a> <a id="4159" href="Ledger.Epoch.Properties.GovDepsMatch.html#4159" class="Bound">a</a> <a id="4161" class="Symbol">=</a> <a id="4163" href="Function.Bundles.html#13499" class="Function">mk⇔</a> <a id="4167" href="Ledger.Epoch.Properties.GovDepsMatch.html#4208" class="Function">i</a> <a id="4169" class="Symbol">(λ</a> <a id="4172" href="Ledger.Epoch.Properties.GovDepsMatch.html#4172" class="Bound">h</a> <a id="4174" class="Symbol">→</a> <a id="4176" href="Ledger.Epoch.Properties.GovDepsMatch.html#4585" class="Function">ii</a> <a id="4179" href="Ledger.Epoch.Properties.GovDepsMatch.html#4172" class="Bound">h</a> <a id="4181" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4183" href="Ledger.Epoch.Properties.GovDepsMatch.html#4844" class="Function">iii</a> <a id="4187" href="Ledger.Epoch.Properties.GovDepsMatch.html#4172" class="Bound">h</a><a id="4188" class="Symbol">)</a>
      <a id="4196" class="Keyword">where</a>
      <a id="4208" href="Ledger.Epoch.Properties.GovDepsMatch.html#4208" class="Function">i</a> <a id="4210" class="Symbol">:</a> <a id="4212" class="Symbol">((</a><a id="4214" href="Ledger.Epoch.Properties.GovDepsMatch.html#4159" class="Bound">a</a> <a id="4216" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4218" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a><a id="4221" class="Symbol">)</a> <a id="4223" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4225" class="Symbol">(</a><a id="4226" href="Ledger.Epoch.Properties.GovDepsMatch.html#4159" class="Bound">a</a> <a id="4228" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="4231" href="Ledger.Epoch.Properties.GovDepsMatch.html#439" class="Function">map&#39;</a> <a id="4236" class="Symbol">(</a><a id="4237" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="4254" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4256" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4261" class="Symbol">)</a> <a id="4263" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="4268" class="Symbol">))</a>
          <a id="4281" class="Symbol">→</a> <a id="4283" href="Ledger.Epoch.Properties.GovDepsMatch.html#4159" class="Bound">a</a> <a id="4285" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="4288" href="Ledger.Epoch.Properties.GovDepsMatch.html#439" class="Function">map&#39;</a> <a id="4293" class="Symbol">(</a><a id="4294" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="4311" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4313" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4318" class="Symbol">)</a> <a id="4320" class="Symbol">(</a><a id="4321" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4328" href="Ledger.Epoch.Properties.GovDepsMatch.html#2707" class="Function">P?</a> <a id="4331" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="4336" class="Symbol">)</a>
      <a id="4344" href="Ledger.Epoch.Properties.GovDepsMatch.html#4208" class="Function">i</a> <a id="4346" class="Symbol">(</a><a id="4347" href="Ledger.Epoch.Properties.GovDepsMatch.html#4347" class="Bound">a∉ΔΠ&#39;</a> <a id="4353" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4355" href="Ledger.Epoch.Properties.GovDepsMatch.html#4355" class="Bound">a∈</a><a id="4357" class="Symbol">)</a> <a id="4359" class="Keyword">with</a> <a id="4364" href="Function.Bundles.html#7418" class="Field">Inverse.from</a> <a id="4377" class="Symbol">(</a><a id="4378" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4385" class="Symbol">(</a><a id="4386" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="4403" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4405" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4410" class="Symbol">))</a> <a id="4413" href="Ledger.Epoch.Properties.GovDepsMatch.html#4355" class="Bound">a∈</a>
      <a id="4422" class="Symbol">...</a> <a id="4426" class="Symbol">|</a> <a id="4428" href="Ledger.Epoch.Properties.GovDepsMatch.html#4428" class="Bound">b</a> <a id="4430" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4432" href="Ledger.Epoch.Properties.GovDepsMatch.html#4432" class="Bound">b∈</a> <a id="4435" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4437" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4442" class="Symbol">=</a> <a id="4444" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="4455" class="Symbol">(</a><a id="4456" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4463" class="Symbol">(</a><a id="4464" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="4481" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4483" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4488" class="Symbol">))</a>
                                       <a id="4530" class="Symbol">(</a><a id="4531" href="Ledger.Epoch.Properties.GovDepsMatch.html#4428" class="Bound">b</a> <a id="4533" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4535" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a> <a id="4545" href="Ledger.Epoch.Properties.GovDepsMatch.html#2707" class="Function">P?</a> <a id="4548" href="Ledger.Epoch.Properties.GovDepsMatch.html#4432" class="Bound">b∈</a> <a id="4551" class="Symbol">(</a><a id="4552" class="Bound">a∉ΔΠ&#39;</a> <a id="4558" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4560" href="Axiom.Set.Properties.html#5166" class="Function">∈-map⁺-∘</a><a id="4568" class="Symbol">)</a> <a id="4570" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4572" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="4576" class="Symbol">)</a>

      <a id="4585" href="Ledger.Epoch.Properties.GovDepsMatch.html#4585" class="Function">ii</a> <a id="4588" class="Symbol">:</a> <a id="4590" href="Ledger.Epoch.Properties.GovDepsMatch.html#4159" class="Bound">a</a> <a id="4592" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="4595" href="Ledger.Epoch.Properties.GovDepsMatch.html#439" class="Function">map&#39;</a> <a id="4600" class="Symbol">(</a><a id="4601" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="4618" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4620" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4625" class="Symbol">)</a> <a id="4627" class="Symbol">(</a><a id="4628" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4635" href="Ledger.Epoch.Properties.GovDepsMatch.html#2707" class="Function">P?</a> <a id="4638" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="4643" class="Symbol">)</a> <a id="4645" class="Symbol">→</a> <a id="4647" href="Ledger.Epoch.Properties.GovDepsMatch.html#4159" class="Bound">a</a> <a id="4649" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4651" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a>
      <a id="4661" href="Ledger.Epoch.Properties.GovDepsMatch.html#4585" class="Function">ii</a> <a id="4664" href="Ledger.Epoch.Properties.GovDepsMatch.html#4664" class="Bound">a∈</a> <a id="4667" href="Ledger.Epoch.Properties.GovDepsMatch.html#4667" class="Bound">a∈ΔΠ&#39;</a> <a id="4673" class="Keyword">with</a> <a id="4678" href="Function.Bundles.html#4834" class="Field">from</a> <a id="4683" class="Symbol">(</a><a id="4684" href="Data.List.Subpermutations.html#1933" class="Function">∈ˡ-map-filter</a> <a id="4698" class="Symbol">{</a><a id="4699" class="Argument">l</a> <a id="4701" class="Symbol">=</a> <a id="4703" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="4708" class="Symbol">}</a> <a id="4710" class="Symbol">{</a><a id="4711" class="Argument">P?</a> <a id="4714" class="Symbol">=</a> <a id="4716" href="Ledger.Epoch.Properties.GovDepsMatch.html#2707" class="Function">P?</a><a id="4718" class="Symbol">})</a> <a id="4721" href="Ledger.Epoch.Properties.GovDepsMatch.html#4664" class="Bound">a∈</a>
      <a id="4730" class="Symbol">...</a> <a id="4734" class="Symbol">|</a> <a id="4736" class="Symbol">_</a> <a id="4738" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4740" class="Symbol">_</a> <a id="4742" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4744" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4749" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4751" href="Ledger.Epoch.Properties.GovDepsMatch.html#4751" class="Bound">Pb</a> <a id="4754" class="Keyword">with</a> <a id="4759" href="Axiom.Set.Properties.html#1617" class="Function">∈-map⁻&#39;</a> <a id="4767" class="Bound">a∈ΔΠ&#39;</a>
      <a id="4779" class="Symbol">...</a> <a id="4783" class="Symbol">|</a> <a id="4785" href="Ledger.Epoch.Properties.GovDepsMatch.html#4785" class="Bound">q</a> <a id="4787" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4789" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4794" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4796" href="Ledger.Epoch.Properties.GovDepsMatch.html#4796" class="Bound">q∈rem</a> <a id="4802" class="Symbol">=</a> <a id="4804" class="Bound">Pb</a> <a id="4807" class="Symbol">(</a><a id="4808" href="Function.Bundles.html#4810" class="Field">to</a> <a id="4811" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="4817" class="Symbol">(</a><a id="4818" href="Ledger.Epoch.Properties.GovDepsMatch.html#4785" class="Bound">q</a> <a id="4820" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4822" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4827" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4829" href="Ledger.Epoch.Properties.GovDepsMatch.html#4796" class="Bound">q∈rem</a><a id="4834" class="Symbol">))</a>

      <a id="4844" href="Ledger.Epoch.Properties.GovDepsMatch.html#4844" class="Function">iii</a> <a id="4848" class="Symbol">:</a> <a id="4850" href="Ledger.Epoch.Properties.GovDepsMatch.html#4159" class="Bound">a</a> <a id="4852" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="4855" href="Ledger.Epoch.Properties.GovDepsMatch.html#439" class="Function">map&#39;</a> <a id="4860" class="Symbol">(</a><a id="4861" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="4878" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4880" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4885" class="Symbol">)</a> <a id="4887" class="Symbol">(</a><a id="4888" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4895" href="Ledger.Epoch.Properties.GovDepsMatch.html#2707" class="Function">P?</a> <a id="4898" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="4903" class="Symbol">)</a>
            <a id="4917" class="Symbol">→</a> <a id="4919" href="Ledger.Epoch.Properties.GovDepsMatch.html#4159" class="Bound">a</a> <a id="4921" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="4924" href="Ledger.Epoch.Properties.GovDepsMatch.html#439" class="Function">map&#39;</a> <a id="4929" class="Symbol">(</a><a id="4930" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="4947" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4949" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4954" class="Symbol">)</a> <a id="4956" href="Ledger.Ledger.html#895" class="Function">govSt</a>
      <a id="4968" href="Ledger.Epoch.Properties.GovDepsMatch.html#4844" class="Function">iii</a> <a id="4972" href="Ledger.Epoch.Properties.GovDepsMatch.html#4972" class="Bound">a∈</a> <a id="4975" class="Keyword">with</a> <a id="4980" href="Function.Bundles.html#4834" class="Field">from</a> <a id="4985" class="Symbol">(</a><a id="4986" href="Data.List.Subpermutations.html#1933" class="Function">∈ˡ-map-filter</a> <a id="5000" class="Symbol">{</a><a id="5001" class="Argument">l</a> <a id="5003" class="Symbol">=</a> <a id="5005" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="5010" class="Symbol">}</a> <a id="5012" class="Symbol">{</a><a id="5013" class="Argument">P?</a> <a id="5016" class="Symbol">=</a> <a id="5018" href="Ledger.Epoch.Properties.GovDepsMatch.html#2707" class="Function">P?</a><a id="5020" class="Symbol">})</a> <a id="5023" href="Ledger.Epoch.Properties.GovDepsMatch.html#4972" class="Bound">a∈</a>
      <a id="5032" class="Symbol">...</a> <a id="5036" class="Symbol">|</a> <a id="5038" href="Ledger.Epoch.Properties.GovDepsMatch.html#5038" class="Bound">b</a> <a id="5040" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5042" href="Ledger.Epoch.Properties.GovDepsMatch.html#5042" class="Bound">b∈</a> <a id="5045" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5047" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5052" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5054" href="Ledger.Epoch.Properties.GovDepsMatch.html#5054" class="Bound">Pb</a> <a id="5057" class="Symbol">=</a> <a id="5059" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="5070" class="Symbol">(</a><a id="5071" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="5078" class="Symbol">(</a><a id="5079" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="5096" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5098" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5103" class="Symbol">))</a> <a id="5106" class="Symbol">(</a><a id="5107" href="Ledger.Epoch.Properties.GovDepsMatch.html#5038" class="Bound">b</a> <a id="5109" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5111" class="Symbol">(</a><a id="5112" href="Ledger.Epoch.Properties.GovDepsMatch.html#5042" class="Bound">b∈</a> <a id="5115" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5117" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5121" class="Symbol">))</a>


    <a id="5130" href="Ledger.Epoch.Properties.GovDepsMatch.html#5130" class="Function">main-invariance-lemma</a> <a id="5152" class="Symbol">:</a>
        <a id="5162" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="5170" href="Ledger.Ledger.Properties.html#3949" class="Function">isGADeposit</a> <a id="5182" class="Symbol">(</a><a id="5183" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5187" href="Ledger.Epoch.Properties.GovDepsMatch.html#2752" class="Function">utxoDeps</a><a id="5195" class="Symbol">)</a> <a id="5197" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="5201" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="5210" class="Symbol">(</a><a id="5211" href="Ledger.Epoch.Properties.GovDepsMatch.html#439" class="Function">map&#39;</a> <a id="5216" class="Symbol">(</a><a id="5217" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="5234" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5236" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5241" class="Symbol">)</a> <a id="5243" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="5248" class="Symbol">)</a>
        <a id="5258" class="Comment">---------------------------------------------------------------------------------------------------</a>
      <a id="5364" class="Symbol">→</a> <a id="5366" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="5374" href="Ledger.Ledger.Properties.html#3949" class="Function">isGADeposit</a> <a id="5386" class="Symbol">(</a><a id="5387" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5391" href="Ledger.Epoch.Properties.GovDepsMatch.html#2907" class="Function">utxoDeps&#39;</a><a id="5400" class="Symbol">)</a> <a id="5402" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="5406" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="5415" class="Symbol">(</a><a id="5416" href="Ledger.Epoch.Properties.GovDepsMatch.html#439" class="Function">map&#39;</a> <a id="5421" class="Symbol">(</a><a id="5422" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="5439" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5441" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5446" class="Symbol">)</a> <a id="5448" class="Symbol">(</a><a id="5449" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="5456" href="Ledger.Epoch.Properties.GovDepsMatch.html#2707" class="Function">P?</a> <a id="5459" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="5464" class="Symbol">))</a>

    <a id="5472" href="Ledger.Epoch.Properties.GovDepsMatch.html#5130" class="Function">main-invariance-lemma</a> <a id="5494" href="Ledger.Epoch.Properties.GovDepsMatch.html#5494" class="Bound">HYP</a> <a id="5498" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="5500" class="Symbol">=</a> <a id="5502" class="Keyword">let</a> <a id="5506" class="Keyword">open</a> <a id="5511" href="Function.Related.Propositional.html#9123" class="Module">R.EquationalReasoning</a> <a id="5533" class="Keyword">in</a>
      <a id="5542" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="5544" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5546" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="5554" href="Ledger.Ledger.Properties.html#3949" class="Function">isGADeposit</a> <a id="5566" class="Symbol">(</a><a id="5567" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5571" href="Ledger.Epoch.Properties.GovDepsMatch.html#2907" class="Function">utxoDeps&#39;</a><a id="5580" class="Symbol">)</a>                          <a id="5607" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5610" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="5619" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="5628" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5636" class="Symbol">(</a><a id="5637" href="Ledger.Ledger.Properties.html#3949" class="Function">isGADeposit</a> <a id="5649" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="5651" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5653" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="5655" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5657" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5661" href="Ledger.Epoch.Properties.GovDepsMatch.html#2907" class="Function">utxoDeps&#39;</a><a id="5670" class="Symbol">)</a>                              <a id="5701" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5704" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="5713" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="5720" href="Axiom.Set.Rel.html#7819" class="Function">∈-resᶜ-dom</a> <a id="5731" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5739" class="Symbol">(</a><a id="5740" href="Ledger.Ledger.Properties.html#3949" class="Function">isGADeposit</a> <a id="5752" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="5754" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5756" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="5758" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="5760" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a> <a id="5764" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5766" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="5769" href="Ledger.Epoch.Properties.GovDepsMatch.html#5769" class="Bound">q</a> <a id="5771" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="5773" class="Symbol">(</a><a id="5774" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="5776" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5778" href="Ledger.Epoch.Properties.GovDepsMatch.html#5769" class="Bound">q</a><a id="5779" class="Symbol">)</a> <a id="5781" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5783" href="Ledger.Epoch.Properties.GovDepsMatch.html#2752" class="Function">utxoDeps</a><a id="5791" class="Symbol">)</a>             <a id="5805" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5808" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a> <a id="5817" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5825" class="Symbol">(</a><a id="5826" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="5828" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="5830" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a> <a id="5834" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5836" href="Ledger.Ledger.Properties.html#3949" class="Function">isGADeposit</a> <a id="5848" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="5850" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5852" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="5855" href="Ledger.Epoch.Properties.GovDepsMatch.html#5855" class="Bound">q</a> <a id="5857" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="5859" class="Symbol">(</a><a id="5860" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="5862" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5864" href="Ledger.Epoch.Properties.GovDepsMatch.html#5855" class="Bound">q</a><a id="5865" class="Symbol">)</a> <a id="5867" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5869" href="Ledger.Epoch.Properties.GovDepsMatch.html#2752" class="Function">utxoDeps</a><a id="5877" class="Symbol">)</a>             <a id="5891" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5894" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="5903" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="5910" class="Symbol">(</a><a id="5911" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="5920" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="5927" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a><a id="5931" class="Symbol">)</a><a id="5932" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5940" class="Symbol">(</a><a id="5941" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="5943" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="5945" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a> <a id="5949" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5951" href="Ledger.Ledger.Properties.html#3949" class="Function">isGADeposit</a> <a id="5963" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="5965" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5967" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="5969" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5971" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5975" href="Ledger.Epoch.Properties.GovDepsMatch.html#2752" class="Function">utxoDeps</a><a id="5983" class="Symbol">)</a>                      <a id="6006" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6009" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6018" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6025" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="6034" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6042" class="Symbol">(</a><a id="6043" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="6045" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6047" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a> <a id="6051" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6053" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="6055" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6057" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="6065" href="Ledger.Ledger.Properties.html#3949" class="Function">isGADeposit</a> <a id="6077" class="Symbol">(</a><a id="6078" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6082" href="Ledger.Epoch.Properties.GovDepsMatch.html#2752" class="Function">utxoDeps</a><a id="6090" class="Symbol">))</a>                <a id="6108" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6111" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6120" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6127" class="Symbol">(</a><a id="6128" href="Ledger.Epoch.Properties.GovDepsMatch.html#5494" class="Bound">HYP</a> <a id="6132" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a><a id="6133" class="Symbol">)</a> <a id="6135" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6143" class="Symbol">(</a><a id="6144" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="6146" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6148" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a> <a id="6152" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6154" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="6156" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6158" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="6167" class="Symbol">(</a><a id="6168" href="Ledger.Epoch.Properties.GovDepsMatch.html#439" class="Function">map&#39;</a> <a id="6173" class="Symbol">(</a><a id="6174" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="6191" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6193" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6198" class="Symbol">)</a> <a id="6200" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="6205" class="Symbol">))</a>  <a id="6209" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6212" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6221" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6228" class="Symbol">(</a><a id="6229" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="6238" href="Axiom.Set.html#5776" class="Function">∈-fromList</a><a id="6248" class="Symbol">)</a><a id="6249" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6257" class="Symbol">(</a><a id="6258" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="6260" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6262" href="Ledger.Epoch.Properties.GovDepsMatch.html#2480" class="Function">ΔΠ&#39;</a> <a id="6266" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6268" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="6270" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="6273" href="Ledger.Epoch.Properties.GovDepsMatch.html#439" class="Function">map&#39;</a> <a id="6278" class="Symbol">(</a><a id="6279" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="6296" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6298" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6303" class="Symbol">)</a> <a id="6305" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="6310" class="Symbol">)</a>            <a id="6323" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6326" href="Ledger.Epoch.Properties.GovDepsMatch.html#3967" class="Function">map-filter-decomp</a> <a id="6344" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="6346" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6354" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="6356" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="6359" href="Ledger.Epoch.Properties.GovDepsMatch.html#439" class="Function">map&#39;</a> <a id="6364" class="Symbol">(</a><a id="6365" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="6382" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6384" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6389" class="Symbol">)</a> <a id="6391" class="Symbol">(</a><a id="6392" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="6399" href="Ledger.Epoch.Properties.GovDepsMatch.html#2707" class="Function">P?</a> <a id="6402" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="6407" class="Symbol">)</a>           <a id="6419" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6422" href="Axiom.Set.html#5776" class="Function">∈-fromList</a> <a id="6433" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6441" href="Ledger.Epoch.Properties.GovDepsMatch.html#5498" class="Bound">a</a> <a id="6443" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6445" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="6454" class="Symbol">(</a><a id="6455" href="Ledger.Epoch.Properties.GovDepsMatch.html#439" class="Function">map&#39;</a> <a id="6460" class="Symbol">(</a><a id="6461" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="6478" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6480" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6485" class="Symbol">)</a> <a id="6487" class="Symbol">(</a><a id="6488" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="6495" href="Ledger.Epoch.Properties.GovDepsMatch.html#2707" class="Function">P?</a> <a id="6498" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="6503" class="Symbol">))</a> <a id="6506" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

</pre></body></html>