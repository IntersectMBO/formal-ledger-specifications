<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Utxo.Properties.PoV</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>
<a id="54" class="Keyword">open</a> <a id="59" class="Keyword">import</a> <a id="66" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>

<a id="86" class="Keyword">module</a> <a id="93" href="Ledger.Utxo.Properties.PoV.html" class="Module">Ledger.Utxo.Properties.PoV</a>
  <a id="122" class="Symbol">(</a><a id="123" href="Ledger.Utxo.Properties.PoV.html#123" class="Bound">txs</a> <a id="127" class="Symbol">:</a> <a id="129" class="Symbol">_)</a> <a id="132" class="Symbol">(</a><a id="133" class="Keyword">open</a> <a id="138" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="159" href="Ledger.Utxo.Properties.PoV.html#123" class="Bound">txs</a><a id="162" class="Symbol">)</a>
  <a id="166" class="Symbol">(</a><a id="167" href="Ledger.Utxo.Properties.PoV.html#167" class="Bound">abs</a> <a id="171" class="Symbol">:</a> <a id="173" href="Ledger.Abstract.html#578" class="Record">AbstractFunctions</a> <a id="191" href="Ledger.Utxo.Properties.PoV.html#123" class="Bound">txs</a><a id="194" class="Symbol">)</a>
  <a id="198" class="Keyword">where</a>


<a id="206" class="Keyword">open</a> <a id="211" class="Keyword">import</a> <a id="218" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="231" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="244" class="Keyword">open</a> <a id="249" class="Keyword">import</a> <a id="256" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="271" class="Keyword">open</a> <a id="276" class="Keyword">import</a> <a id="283" href="Ledger.Utxo.html" class="Module">Ledger.Utxo</a> <a id="295" href="Ledger.Utxo.Properties.PoV.html#123" class="Bound">txs</a> <a id="299" href="Ledger.Utxo.Properties.PoV.html#167" class="Bound">abs</a>
<a id="303" class="Keyword">open</a> <a id="308" class="Keyword">import</a> <a id="315" href="Ledger.Utxo.Properties.html" class="Module">Ledger.Utxo.Properties</a> <a id="338" href="Ledger.Utxo.Properties.PoV.html#123" class="Bound">txs</a> <a id="342" href="Ledger.Utxo.Properties.PoV.html#167" class="Bound">abs</a> <a id="346" class="Keyword">using</a> <a id="352" class="Symbol">(</a><a id="353" href="Ledger.Utxo.Properties.html#13527" class="Function">χ</a><a id="354" class="Symbol">;</a> <a id="356" class="Keyword">module</a> <a id="363" href="Ledger.Utxo.Properties.html#13574" class="Module">DepositHelpers</a><a id="377" class="Symbol">)</a>
<a id="379" class="Keyword">open</a> <a id="384" href="Ledger.Utxo.html#2705" class="Module">UTxOState</a><a id="393" class="Symbol">;</a> <a id="395" class="Keyword">open</a> <a id="400" href="Ledger.Transaction.html#4221" class="Module">Tx</a><a id="402" class="Symbol">;</a> <a id="404" class="Keyword">open</a> <a id="409" href="Ledger.Transaction.html#2677" class="Module">TxBody</a>


<a id="UTXOpov"></a><a id="418" href="Ledger.Utxo.Properties.PoV.html#418" class="Function">UTXOpov</a> <a id="426" class="Symbol">:</a> <a id="428" class="Symbol">{</a><a id="429" href="Ledger.Utxo.Properties.PoV.html#429" class="Bound">Γ</a> <a id="431" class="Symbol">:</a> <a id="433" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a><a id="440" class="Symbol">}</a> <a id="442" class="Symbol">{</a><a id="443" href="Ledger.Utxo.Properties.PoV.html#443" class="Bound">tx</a> <a id="446" class="Symbol">:</a> <a id="448" href="Ledger.Transaction.html#4221" class="Record">Tx</a><a id="450" class="Symbol">}</a> <a id="452" class="Symbol">{</a><a id="453" href="Ledger.Utxo.Properties.PoV.html#453" class="Bound">s</a> <a id="455" href="Ledger.Utxo.Properties.PoV.html#455" class="Bound">s&#39;</a> <a id="458" class="Symbol">:</a> <a id="460" href="Ledger.Utxo.html#2705" class="Record">UTxOState</a><a id="469" class="Symbol">}</a>
  <a id="473" class="Symbol">→</a> <a id="475" href="Ledger.Transaction.html#3908" class="Field">txidOf</a> <a id="482" href="Ledger.Utxo.Properties.PoV.html#443" class="Bound">tx</a> <a id="485" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="487" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="492" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="498" class="Symbol">(</a><a id="499" href="Class.IsSet.html#916" class="Function">dom</a> <a id="503" class="Symbol">(</a><a id="504" href="Ledger.Transaction.html#2620" class="Field">UTxOOf</a> <a id="511" href="Ledger.Utxo.Properties.PoV.html#453" class="Bound">s</a><a id="512" class="Symbol">))</a>
  <a id="517" class="Symbol">→</a> <a id="519" href="Ledger.Utxo.Properties.PoV.html#429" class="Bound">Γ</a> <a id="521" href="Ledger.Utxo.html#3350" class="Datatype Operator">⊢</a> <a id="523" href="Ledger.Utxo.Properties.PoV.html#453" class="Bound">s</a> <a id="525" href="Ledger.Utxo.html#3350" class="Datatype Operator">⇀⦇</a> <a id="528" href="Ledger.Utxo.Properties.PoV.html#443" class="Bound">tx</a> <a id="531" href="Ledger.Utxo.html#3350" class="Datatype Operator">,UTXO⦈</a> <a id="538" href="Ledger.Utxo.Properties.PoV.html#455" class="Bound">s&#39;</a>
  <a id="543" class="Symbol">→</a> <a id="545" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="553" href="Ledger.Utxo.Properties.PoV.html#453" class="Bound">s</a> <a id="555" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="557" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="565" class="Symbol">(</a><a id="566" href="Ledger.Certs.html#3013" class="Field">wdrlsOf</a> <a id="574" href="Ledger.Utxo.Properties.PoV.html#443" class="Bound">tx</a><a id="576" class="Symbol">)</a> <a id="578" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="580" href="Ledger.Utxo.Properties.html#13527" class="Function">χ</a> <a id="582" class="Symbol">(</a><a id="583" href="Ledger.Utxo.Properties.PoV.html#443" class="Bound">tx</a> <a id="586" class="Symbol">.</a><a id="587" href="Ledger.Transaction.html#4306" class="Field">isValid</a><a id="594" class="Symbol">)</a> <a id="596" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="598" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="606" href="Ledger.Utxo.Properties.PoV.html#455" class="Bound">s&#39;</a>


<a id="611" class="Comment">-- Proof.</a>
<a id="621" href="Ledger.Utxo.Properties.PoV.html#418" class="Function">UTXOpov</a> <a id="629" href="Ledger.Utxo.Properties.PoV.html#629" class="Bound">h&#39;</a> <a id="632" href="Ledger.Utxo.Properties.PoV.html#632" class="Bound">step</a><a id="636" class="Symbol">@(</a><a id="638" href="Ledger.Utxo.html#15387" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="654" class="Symbol">_</a> <a id="656" href="Ledger.Utxo.Properties.PoV.html#656" class="Bound">Γ</a> <a id="658" class="Symbol">_</a> <a id="660" class="Symbol">_</a> <a id="662" class="Symbol">_</a> <a id="664" class="Symbol">_</a> <a id="666" class="Symbol">_</a> <a id="668" class="Symbol">_</a> <a id="670" href="Ledger.Utxo.Properties.PoV.html#670" class="Bound">newBal</a> <a id="677" href="Ledger.Utxo.Properties.PoV.html#677" class="Bound">noMintAda</a> <a id="687" class="Symbol">_</a> <a id="689" class="Symbol">_</a> <a id="691" class="Symbol">_</a> <a id="693" class="Symbol">_</a> <a id="695" class="Symbol">_</a> <a id="697" class="Symbol">_</a> <a id="699" class="Symbol">_</a> <a id="701" class="Symbol">_</a> <a id="703" class="Symbol">_</a> <a id="705" class="Symbol">(</a><a id="706" href="Ledger.Utxo.html#12960" class="InductiveConstructor">Scripts-Yes</a> <a id="718" class="Symbol">(_</a> <a id="721" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="723" class="Symbol">_</a> <a id="725" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="727" href="Ledger.Utxo.Properties.PoV.html#727" class="Bound">valid</a><a id="732" class="Symbol">)))</a>
  <a id="738" class="Symbol">=</a> <a id="740" href="Ledger.Utxo.Properties.html#24810" class="Function">DepositHelpers.pov-scripts</a> <a id="767" href="Ledger.Utxo.Properties.PoV.html#632" class="Bound">step</a> <a id="772" href="Ledger.Utxo.Properties.PoV.html#629" class="Bound">h&#39;</a> <a id="775" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="780" href="Ledger.Utxo.Properties.PoV.html#727" class="Bound">valid</a>

<a id="787" href="Ledger.Utxo.Properties.PoV.html#418" class="Function">UTXOpov</a> <a id="795" href="Ledger.Utxo.Properties.PoV.html#795" class="Bound">h&#39;</a> <a id="798" href="Ledger.Utxo.Properties.PoV.html#798" class="Bound">step</a><a id="802" class="Symbol">@(</a><a id="804" href="Ledger.Utxo.html#15387" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="820" class="Symbol">_</a> <a id="822" class="Symbol">_</a> <a id="824" class="Symbol">_</a> <a id="826" class="Symbol">_</a> <a id="828" class="Symbol">_</a> <a id="830" class="Symbol">_</a> <a id="832" class="Symbol">_</a> <a id="834" class="Symbol">_</a> <a id="836" class="Symbol">_</a> <a id="838" class="Symbol">_</a> <a id="840" class="Symbol">_</a> <a id="842" class="Symbol">_</a> <a id="844" class="Symbol">_</a> <a id="846" class="Symbol">_</a> <a id="848" class="Symbol">_</a> <a id="850" class="Symbol">_</a> <a id="852" class="Symbol">_</a> <a id="854" class="Symbol">_</a> <a id="856" class="Symbol">_</a> <a id="858" class="Symbol">(</a><a id="859" href="Ledger.Utxo.html#13474" class="InductiveConstructor">Scripts-No</a> <a id="870" class="Symbol">(_</a> <a id="873" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="875" href="Ledger.Utxo.Properties.PoV.html#875" class="Bound">invalid</a><a id="882" class="Symbol">)))</a>
  <a id="888" class="Symbol">=</a> <a id="890" href="Ledger.Utxo.Properties.html#25258" class="Function">DepositHelpers.pov-no-scripts</a> <a id="920" href="Ledger.Utxo.Properties.PoV.html#798" class="Bound">step</a> <a id="925" href="Ledger.Utxo.Properties.PoV.html#795" class="Bound">h&#39;</a> <a id="928" href="Ledger.Utxo.Properties.PoV.html#875" class="Bound">invalid</a>

</pre></body></html>