<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Certs</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Core.Specification.Gov.Base.html" class="Module">Ledger.Core.Specification.Gov.Base</a>

<a id="74" class="Keyword">module</a> <a id="81" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="115" class="Symbol">(</a><a id="116" href="Ledger.Conway.Specification.Certs.html#116" class="Bound">gs</a> <a id="119" class="Symbol">:</a> <a id="121" class="Symbol">_)</a> <a id="124" class="Symbol">(</a><a id="125" class="Keyword">open</a> <a id="130" href="Ledger.Core.Specification.Gov.Base.html#322" class="Module">GovStructure</a> <a id="143" href="Ledger.Conway.Specification.Certs.html#116" class="Bound">gs</a><a id="145" class="Symbol">)</a> <a id="147" class="Keyword">where</a>

<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="181" class="Keyword">renaming</a> <a id="190" class="Symbol">(</a><a id="191" href="abstract-set-theory.FiniteSetTheory.html#2967" class="Function">filterˢ</a> <a id="199" class="Symbol">to</a> <a id="202" class="Function">filter</a><a id="208" class="Symbol">)</a>

<a id="211" class="Keyword">open</a> <a id="216" class="Keyword">import</a> <a id="223" href="Ledger.Core.Specification.Gov.Actions.html" class="Module">Ledger.Core.Specification.Gov.Actions</a> <a id="261" href="Ledger.Conway.Specification.Certs.html#116" class="Bound">gs</a> <a id="264" class="Keyword">hiding</a> <a id="271" class="Symbol">(</a><a id="272" href="Ledger.Core.Specification.Gov.Actions.html#2046" class="InductiveConstructor">yes</a><a id="275" class="Symbol">;</a> <a id="277" href="Ledger.Core.Specification.Gov.Actions.html#2050" class="InductiveConstructor">no</a><a id="279" class="Symbol">)</a>
<a id="281" class="Keyword">open</a> <a id="286" class="Keyword">import</a> <a id="293" href="Ledger.Core.Specification.Certs.html" class="Module">Ledger.Core.Specification.Certs</a> <a id="325" href="Ledger.Conway.Specification.Certs.html#116" class="Bound">gs</a> <a id="328" class="Keyword">public</a>
<a id="335" class="Keyword">open</a> <a id="340" href="Ledger.Core.Specification.Address.html#1313" class="Module">RewardAddress</a>
<a id="354" class="Keyword">open</a> <a id="359" href="Ledger.Conway.Specification.PParams.html#1687" class="Module">PParams</a>

<a id="368" class="Keyword">private</a> <a id="376" class="Keyword">variable</a>
  <a id="387" href="Ledger.Conway.Specification.Certs.html#387" class="Generalizable">an</a>                  <a id="407" class="Symbol">:</a> <a id="409" href="Ledger.Core.Specification.Gov.Actions.html#2214" class="Record">Anchor</a>
  <a id="418" href="Ledger.Conway.Specification.Certs.html#418" class="Generalizable">dReps</a>               <a id="438" class="Symbol">:</a> <a id="440" href="Ledger.Core.Specification.Gov.Actions.html#6996" class="Function">DReps</a>
  <a id="448" href="Ledger.Conway.Specification.Certs.html#448" class="Generalizable">ccKeys</a> <a id="455" href="Ledger.Conway.Specification.Certs.html#455" class="Generalizable">ccHotKeys</a>    <a id="468" class="Symbol">:</a> <a id="470" href="Ledger.Core.Specification.Certs.html#1060" class="Function">CCHotKeys</a>
  <a id="482" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a>                   <a id="502" class="Symbol">:</a> <a id="504" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="517" href="Ledger.Conway.Specification.Certs.html#517" class="Generalizable">cc</a>                  <a id="537" class="Symbol">:</a> <a id="539" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="541" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="554" href="Ledger.Conway.Specification.Certs.html#554" class="Generalizable">d</a>                   <a id="574" class="Symbol">:</a> <a id="576" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="583" href="Ledger.Conway.Specification.Certs.html#583" class="Generalizable">delegatees</a>          <a id="603" class="Symbol">:</a> <a id="605" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="607" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="620" href="Ledger.Conway.Specification.Certs.html#620" class="Generalizable">e</a>                   <a id="640" class="Symbol">:</a> <a id="642" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a>
  <a id="650" href="Ledger.Conway.Specification.Certs.html#650" class="Generalizable">Γ</a>                   <a id="670" class="Symbol">:</a> <a id="672" href="Ledger.Core.Specification.Certs.html#3552" class="Record">CertEnv</a>
  <a id="682" href="Ledger.Conway.Specification.Certs.html#682" class="Generalizable">kh</a>                  <a id="702" class="Symbol">:</a> <a id="704" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
  <a id="714" href="Ledger.Conway.Specification.Certs.html#714" class="Generalizable">mc</a>                  <a id="734" class="Symbol">:</a> <a id="736" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="742" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="755" href="Ledger.Conway.Specification.Certs.html#755" class="Generalizable">md</a>                  <a id="775" class="Symbol">:</a> <a id="777" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="783" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="790" href="Ledger.Conway.Specification.Certs.html#790" class="Generalizable">mkh</a>                 <a id="810" class="Symbol">:</a> <a id="812" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="818" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
  <a id="828" href="Ledger.Conway.Specification.Certs.html#828" class="Generalizable">mvd</a>                 <a id="848" class="Symbol">:</a> <a id="850" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="856" href="Ledger.Core.Specification.Gov.Actions.html#2566" class="Datatype">VDeleg</a>
  <a id="865" href="Ledger.Conway.Specification.Certs.html#865" class="Generalizable">pools</a> <a id="871" href="Ledger.Conway.Specification.Certs.html#871" class="Generalizable">fPools</a>        <a id="885" class="Symbol">:</a> <a id="887" href="Ledger.Core.Specification.Certs.html#1154" class="Function">Pools</a>
  <a id="895" href="Ledger.Conway.Specification.Certs.html#895" class="Generalizable">poolParams</a>          <a id="915" class="Symbol">:</a> <a id="917" href="Ledger.Core.Specification.Certs.html#336" class="Record">StakePoolParams</a>
  <a id="935" href="Ledger.Conway.Specification.Certs.html#935" class="Generalizable">pp</a>                  <a id="955" class="Symbol">:</a> <a id="957" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a>
  <a id="967" href="Ledger.Conway.Specification.Certs.html#967" class="Generalizable">retiring</a>            <a id="987" class="Symbol">:</a> <a id="989" href="Ledger.Core.Specification.Certs.html#1202" class="Function">Retiring</a>
  <a id="1000" href="Ledger.Conway.Specification.Certs.html#1000" class="Generalizable">rwds</a> <a id="1005" href="Ledger.Conway.Specification.Certs.html#1005" class="Generalizable">rewards</a>        <a id="1020" class="Symbol">:</a> <a id="1022" href="Ledger.Core.Specification.Certs.html#1246" class="Function">Rewards</a>
  <a id="1032" href="Ledger.Conway.Specification.Certs.html#1032" class="Generalizable">sDelegs</a> <a id="1040" href="Ledger.Conway.Specification.Certs.html#1040" class="Generalizable">stakeDelegs</a> <a id="1052" class="Symbol">:</a> <a id="1054" href="Ledger.Core.Specification.Certs.html#1330" class="Function">StakeDelegs</a>
  <a id="1068" href="Ledger.Conway.Specification.Certs.html#1068" class="Generalizable">stᵈ</a> <a id="1072" href="Ledger.Conway.Specification.Certs.html#1072" class="Generalizable">stᵈ&#39;</a>            <a id="1088" class="Symbol">:</a> <a id="1090" href="Ledger.Core.Specification.Certs.html#3721" class="Record">DState</a>
  <a id="1099" href="Ledger.Conway.Specification.Certs.html#1099" class="Generalizable">stᵍ</a> <a id="1103" href="Ledger.Conway.Specification.Certs.html#1103" class="Generalizable">stᵍ&#39;</a>            <a id="1119" class="Symbol">:</a> <a id="1121" href="Ledger.Core.Specification.Certs.html#3984" class="Record">GState</a>
  <a id="1130" href="Ledger.Conway.Specification.Certs.html#1130" class="Generalizable">stᵖ</a> <a id="1134" href="Ledger.Conway.Specification.Certs.html#1134" class="Generalizable">stᵖ&#39;</a>            <a id="1150" class="Symbol">:</a> <a id="1152" href="Ledger.Core.Specification.Certs.html#3872" class="Record">PState</a>
  <a id="1161" href="Ledger.Conway.Specification.Certs.html#1161" class="Generalizable">vDelegs</a> <a id="1169" href="Ledger.Conway.Specification.Certs.html#1169" class="Generalizable">voteDelegs</a>  <a id="1181" class="Symbol">:</a> <a id="1183" href="Ledger.Core.Specification.Gov.Actions.html#2690" class="Function">VoteDelegs</a>
  <a id="1196" href="Ledger.Conway.Specification.Certs.html#1196" class="Generalizable">dCert</a>               <a id="1216" class="Symbol">:</a> <a id="1218" href="Ledger.Core.Specification.Certs.html#2079" class="Datatype">DCert</a>
  <a id="1226" href="Ledger.Conway.Specification.Certs.html#1226" class="Generalizable">vs</a>                  <a id="1246" class="Symbol">:</a> <a id="1248" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1253" href="Ledger.Core.Specification.Gov.Actions.html#2290" class="Record">GovVote</a>
  <a id="1263" href="Ledger.Conway.Specification.Certs.html#1263" class="Generalizable">wdrls</a>               <a id="1283" class="Symbol">:</a> <a id="1285" href="Ledger.Core.Specification.Address.html#1394" class="Function">Withdrawals</a>


<a id="1299" class="Keyword">data</a> <a id="_⊢_⇀⦇_,DELEG⦈_"></a><a id="1304" href="Ledger.Conway.Specification.Certs.html#1304" class="Datatype Operator">_⊢_⇀⦇_,DELEG⦈_</a> <a id="1319" class="Symbol">:</a> <a id="1321" href="Ledger.Core.Specification.Certs.html#4242" class="Record">DelegEnv</a> <a id="1330" class="Symbol">→</a> <a id="1332" href="Ledger.Core.Specification.Certs.html#3721" class="Record">DState</a> <a id="1339" class="Symbol">→</a> <a id="1341" href="Ledger.Core.Specification.Certs.html#2079" class="Datatype">DCert</a> <a id="1347" class="Symbol">→</a> <a id="1349" href="Ledger.Core.Specification.Certs.html#3721" class="Record">DState</a> <a id="1356" class="Symbol">→</a> <a id="1358" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1363" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,DELEG⦈_.DELEG-delegate"></a><a id="1372" href="Ledger.Conway.Specification.Certs.html#1372" class="InductiveConstructor">DELEG-delegate</a> <a id="1387" class="Symbol">:</a>
    <a id="1393" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="1395" class="Symbol">(</a><a id="1396" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="1398" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="1400" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1404" href="Ledger.Conway.Specification.Certs.html#1000" class="Generalizable">rwds</a> <a id="1409" class="Symbol">→</a> <a id="1411" href="Ledger.Conway.Specification.Certs.html#554" class="Generalizable">d</a> <a id="1413" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1415" href="Ledger.Conway.Specification.Certs.html#935" class="Generalizable">pp</a> <a id="1418" class="Symbol">.</a><a id="1419" href="Ledger.Conway.Specification.PParams.html#2193" class="Field">keyDeposit</a><a id="1429" class="Symbol">)</a>
    <a id="1435" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="1437" class="Symbol">(</a><a id="1438" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="1440" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="1442" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1446" href="Ledger.Conway.Specification.Certs.html#1000" class="Generalizable">rwds</a> <a id="1451" class="Symbol">→</a> <a id="1453" href="Ledger.Conway.Specification.Certs.html#554" class="Generalizable">d</a> <a id="1455" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1457" class="Number">0</a><a id="1458" class="Symbol">)</a>
    <a id="1464" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="1466" href="Ledger.Conway.Specification.Certs.html#828" class="Generalizable">mvd</a> <a id="1470" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="1472" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="1477" class="Symbol">(</a><a id="1478" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1483" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1485" href="Ledger.Core.Specification.Gov.Actions.html#2588" class="InductiveConstructor">vDelegCredential</a><a id="1501" class="Symbol">)</a> <a id="1503" href="Ledger.Conway.Specification.Certs.html#583" class="Generalizable">delegatees</a> <a id="1514" href="Axiom.Set.html#9137" class="Function Operator">∪</a>
            <a id="1528" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="1537" class="Symbol">(</a> <a id="1539" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="1547" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1549" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1554" href="Ledger.Core.Specification.Gov.Actions.html#2631" class="InductiveConstructor">vDelegAbstain</a> <a id="1568" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1570" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1575" href="Ledger.Core.Specification.Gov.Actions.html#2661" class="InductiveConstructor">vDelegNoConfidence</a> <a id="1594" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1596" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1599" class="Symbol">)</a>
    <a id="1605" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="1607" href="Ledger.Conway.Specification.Certs.html#790" class="Generalizable">mkh</a> <a id="1611" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="1613" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="1618" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1623" class="Symbol">(</a><a id="1624" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1628" href="Ledger.Conway.Specification.Certs.html#865" class="Generalizable">pools</a><a id="1633" class="Symbol">)</a> <a id="1635" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="1637" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="1639" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="1647" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="1655" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#935}{\htmlId{1696}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#865}{\htmlId{1701}{\htmlClass{Generalizable}{\text{pools}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#583}{\htmlId{1709}{\htmlClass{Generalizable}{\text{delegatees}}}}\, \end{pmatrix}$</a> <a id="1722" href="Ledger.Conway.Specification.Certs.html#1304" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1161}{\htmlId{1726}{\htmlClass{Generalizable}{\text{vDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1032}{\htmlId{1736}{\htmlClass{Generalizable}{\text{sDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1000}{\htmlId{1746}{\htmlClass{Generalizable}{\text{rwds}}}}\, \end{pmatrix}$</a> <a id="1753" href="Ledger.Conway.Specification.Certs.html#1304" class="Datatype Operator">⇀⦇</a> <a id="1756" href="Ledger.Core.Specification.Certs.html#2100" class="InductiveConstructor">delegate</a> <a id="1765" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="1767" href="Ledger.Conway.Specification.Certs.html#828" class="Generalizable">mvd</a> <a id="1771" href="Ledger.Conway.Specification.Certs.html#790" class="Generalizable">mkh</a> <a id="1775" href="Ledger.Conway.Specification.Certs.html#554" class="Generalizable">d</a> <a id="1777" href="Ledger.Conway.Specification.Certs.html#1304" class="Datatype Operator">,DELEG⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Axiom.Set.Map.html#9262}{\htmlId{1787}{\htmlClass{Function}{\text{insertIfJust}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#482}{\htmlId{1800}{\htmlClass{Generalizable}{\text{c}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#828}{\htmlId{1802}{\htmlClass{Generalizable}{\text{mvd}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#1161}{\htmlId{1806}{\htmlClass{Generalizable}{\text{vDelegs}}}}\, \\ \,\href{Axiom.Set.Map.html#9262}{\htmlId{1816}{\htmlClass{Function}{\text{insertIfJust}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#482}{\htmlId{1829}{\htmlClass{Generalizable}{\text{c}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#790}{\htmlId{1831}{\htmlClass{Generalizable}{\text{mkh}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#1032}{\htmlId{1835}{\htmlClass{Generalizable}{\text{sDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1000}{\htmlId{1845}{\htmlClass{Generalizable}{\text{rwds}}}}\, \,\href{Axiom.Set.Map.html#7640}{\htmlId{1850}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{1853}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#482}{\htmlId{1855}{\htmlClass{Generalizable}{\text{c}}}}\, , \,\htmlId{1859}{\htmlClass{Number}{\text{0}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{1861}{\htmlClass{Field Operator}{\text{❵}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,DELEG⦈_.DELEG-dereg"></a><a id="1868" href="Ledger.Conway.Specification.Certs.html#1868" class="InductiveConstructor">DELEG-dereg</a> <a id="1880" class="Symbol">:</a>
    <a id="1886" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="1888" class="Symbol">(</a><a id="1889" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="1891" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1893" class="Number">0</a><a id="1894" class="Symbol">)</a> <a id="1896" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="1898" href="Ledger.Conway.Specification.Certs.html#1000" class="Generalizable">rwds</a>
      <a id="1909" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#935}{\htmlId{1950}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#865}{\htmlId{1955}{\htmlClass{Generalizable}{\text{pools}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#583}{\htmlId{1963}{\htmlClass{Generalizable}{\text{delegatees}}}}\, \end{pmatrix}$</a> <a id="1976" href="Ledger.Conway.Specification.Certs.html#1304" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1161}{\htmlId{1980}{\htmlClass{Generalizable}{\text{vDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1032}{\htmlId{1990}{\htmlClass{Generalizable}{\text{sDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1000}{\htmlId{2000}{\htmlClass{Generalizable}{\text{rwds}}}}\, \end{pmatrix}$</a> <a id="2007" href="Ledger.Conway.Specification.Certs.html#1304" class="Datatype Operator">⇀⦇</a> <a id="2010" href="Ledger.Core.Specification.Certs.html#2173" class="InductiveConstructor">dereg</a> <a id="2016" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="2018" href="Ledger.Conway.Specification.Certs.html#755" class="Generalizable">md</a> <a id="2021" href="Ledger.Conway.Specification.Certs.html#1304" class="Datatype Operator">,DELEG⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1161}{\htmlId{2031}{\htmlClass{Generalizable}{\text{vDelegs}}}}\, \,\href{Axiom.Set.Map.html#13606}{\htmlId{2039}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2041}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#482}{\htmlId{2043}{\htmlClass{Generalizable}{\text{c}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2045}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#13606}{\htmlId{2047}{\htmlClass{Function Operator}{\text{ᶜ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1032}{\htmlId{2051}{\htmlClass{Generalizable}{\text{sDelegs}}}}\, \,\href{Axiom.Set.Map.html#13606}{\htmlId{2059}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2061}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#482}{\htmlId{2063}{\htmlClass{Generalizable}{\text{c}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2065}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#13606}{\htmlId{2067}{\htmlClass{Function Operator}{\text{ᶜ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1000}{\htmlId{2071}{\htmlClass{Generalizable}{\text{rwds}}}}\, \,\href{Axiom.Set.Map.html#13606}{\htmlId{2076}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2078}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#482}{\htmlId{2080}{\htmlClass{Generalizable}{\text{c}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2082}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#13606}{\htmlId{2084}{\htmlClass{Function Operator}{\text{ᶜ}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,DELEG⦈_.DELEG-reg"></a><a id="2091" href="Ledger.Conway.Specification.Certs.html#2091" class="InductiveConstructor">DELEG-reg</a> <a id="2101" class="Symbol">:</a>
    <a id="2107" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="2109" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="2111" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="2113" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2117" href="Ledger.Conway.Specification.Certs.html#1000" class="Generalizable">rwds</a>
    <a id="2126" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="2128" href="Ledger.Conway.Specification.Certs.html#554" class="Generalizable">d</a> <a id="2130" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2132" href="Ledger.Conway.Specification.Certs.html#935" class="Generalizable">pp</a> <a id="2135" class="Symbol">.</a><a id="2136" href="Ledger.Conway.Specification.PParams.html#2193" class="Field">keyDeposit</a> <a id="2147" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2149" href="Ledger.Conway.Specification.Certs.html#554" class="Generalizable">d</a> <a id="2151" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2153" class="Number">0</a>
      <a id="2161" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#935}{\htmlId{2202}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#865}{\htmlId{2207}{\htmlClass{Generalizable}{\text{pools}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#583}{\htmlId{2215}{\htmlClass{Generalizable}{\text{delegatees}}}}\, \end{pmatrix}$</a> <a id="2228" href="Ledger.Conway.Specification.Certs.html#1304" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1161}{\htmlId{2232}{\htmlClass{Generalizable}{\text{vDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1032}{\htmlId{2242}{\htmlClass{Generalizable}{\text{sDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1000}{\htmlId{2252}{\htmlClass{Generalizable}{\text{rwds}}}}\, \end{pmatrix}$</a> <a id="2259" href="Ledger.Conway.Specification.Certs.html#1304" class="Datatype Operator">⇀⦇</a> <a id="2262" href="Ledger.Core.Specification.Certs.html#2792" class="InductiveConstructor">reg</a> <a id="2266" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="2268" href="Ledger.Conway.Specification.Certs.html#554" class="Generalizable">d</a> <a id="2270" href="Ledger.Conway.Specification.Certs.html#1304" class="Datatype Operator">,DELEG⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1161}{\htmlId{2280}{\htmlClass{Generalizable}{\text{vDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1032}{\htmlId{2290}{\htmlClass{Generalizable}{\text{sDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1000}{\htmlId{2300}{\htmlClass{Generalizable}{\text{rwds}}}}\, \,\href{Axiom.Set.Map.html#7640}{\htmlId{2305}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2308}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#482}{\htmlId{2310}{\htmlClass{Generalizable}{\text{c}}}}\, , \,\htmlId{2314}{\htmlClass{Number}{\text{0}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2316}{\htmlClass{Field Operator}{\text{❵}}}}\, \end{pmatrix}$</a>


<a id="isPoolRegistered"></a><a id="2322" href="Ledger.Conway.Specification.Certs.html#2322" class="Function">isPoolRegistered</a> <a id="2339" class="Symbol">:</a> <a id="2341" href="Ledger.Core.Specification.Certs.html#1154" class="Function">Pools</a> <a id="2347" class="Symbol">-&gt;</a> <a id="2350" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="2358" class="Symbol">-&gt;</a> <a id="2361" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2367" href="Ledger.Core.Specification.Certs.html#336" class="Record">StakePoolParams</a>
<a id="2383" href="Ledger.Conway.Specification.Certs.html#2322" class="Function">isPoolRegistered</a> <a id="2400" href="Ledger.Conway.Specification.Certs.html#2400" class="Bound">ps</a> <a id="2403" href="Ledger.Conway.Specification.Certs.html#2403" class="Bound">kh</a> <a id="2406" class="Symbol">=</a> <a id="2408" href="Axiom.Set.Map.html#17169" class="Function">lookupᵐ?</a> <a id="2417" href="Ledger.Conway.Specification.Certs.html#2400" class="Bound">ps</a> <a id="2420" href="Ledger.Conway.Specification.Certs.html#2403" class="Bound">kh</a>

<a id="2424" class="Keyword">data</a> <a id="_⊢_⇀⦇_,POOL⦈_"></a><a id="2429" href="Ledger.Conway.Specification.Certs.html#2429" class="Datatype Operator">_⊢_⇀⦇_,POOL⦈_</a> <a id="2443" class="Symbol">:</a> <a id="2445" href="Ledger.Core.Specification.Certs.html#1120" class="Function">PoolEnv</a> <a id="2453" class="Symbol">→</a> <a id="2455" href="Ledger.Core.Specification.Certs.html#3872" class="Record">PState</a> <a id="2462" class="Symbol">→</a> <a id="2464" href="Ledger.Core.Specification.Certs.html#2079" class="Datatype">DCert</a> <a id="2470" class="Symbol">→</a> <a id="2472" href="Ledger.Core.Specification.Certs.html#3872" class="Record">PState</a> <a id="2479" class="Symbol">→</a> <a id="2481" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2486" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,POOL⦈_.POOL-regpool"></a><a id="2495" href="Ledger.Conway.Specification.Certs.html#2495" class="InductiveConstructor">POOL-regpool</a> <a id="2508" class="Symbol">:</a>
    <a id="2514" class="Keyword">let</a>
      <a id="2524" href="Ledger.Conway.Specification.Certs.html#2524" class="Bound">fPool&#39;</a> <a id="2531" class="Symbol">=</a>
        <a id="2541" href="Class.ToBool.html#342" class="Function Operator">if</a> <a id="2544" href="Ledger.Conway.Specification.Certs.html#2322" class="Function">isPoolRegistered</a> <a id="2561" href="Ledger.Conway.Specification.Certs.html#865" class="Generalizable">pools</a> <a id="2567" href="Ledger.Conway.Specification.Certs.html#682" class="Generalizable">kh</a>
          <a id="2580" href="Class.ToBool.html#342" class="Function Operator">then</a> <a id="2585" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="2587" href="Ledger.Conway.Specification.Certs.html#682" class="Generalizable">kh</a> <a id="2590" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2592" href="Ledger.Conway.Specification.Certs.html#895" class="Generalizable">poolParams</a> <a id="2603" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="2605" href="Axiom.Set.Map.html#7640" class="Function Operator">∪ˡ</a> <a id="2608" href="Ledger.Conway.Specification.Certs.html#871" class="Generalizable">fPools</a>
          <a id="2625" href="Class.ToBool.html#342" class="Function Operator">else</a> <a id="2630" href="Ledger.Conway.Specification.Certs.html#871" class="Generalizable">fPools</a>
     <a id="2642" class="Keyword">in</a>
    <a id="2649" href="Prelude.InferenceRules.html#45235" class="Function Operator">────────────────────────────────</a>
    <a id="2686" href="Ledger.Conway.Specification.Certs.html#935" class="Generalizable">pp</a> <a id="2689" href="Ledger.Conway.Specification.Certs.html#2429" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#865}{\htmlId{2693}{\htmlClass{Generalizable}{\text{pools}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#871}{\htmlId{2710}{\htmlClass{Generalizable}{\text{fPools}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#967}{\htmlId{2728}{\htmlClass{Generalizable}{\text{retiring}}}}\,
         \end{pmatrix}$</a> <a id="2748" href="Ledger.Conway.Specification.Certs.html#2429" class="Datatype Operator">⇀⦇</a> <a id="2751" href="Ledger.Core.Specification.Certs.html#2221" class="InductiveConstructor">regpool</a> <a id="2759" href="Ledger.Conway.Specification.Certs.html#682" class="Generalizable">kh</a> <a id="2762" href="Ledger.Conway.Specification.Certs.html#895" class="Generalizable">poolParams</a> <a id="2773" href="Ledger.Conway.Specification.Certs.html#2429" class="Datatype Operator">,POOL⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix}
           \,\href{Ledger.Conway.Specification.Certs.html#865}{\htmlId{2793}{\htmlClass{Generalizable}{\text{pools}}}}\, \,\href{Axiom.Set.Map.html#7640}{\htmlId{2799}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2802}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#682}{\htmlId{2804}{\htmlClass{Generalizable}{\text{kh}}}}\, , \,\href{Ledger.Conway.Specification.Certs.html#895}{\htmlId{2809}{\htmlClass{Generalizable}{\text{poolParams}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2820}{\htmlClass{Field Operator}{\text{❵}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#2524}{\htmlId{2833}{\htmlClass{Bound}{\text{fPool&#39;}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#967}{\htmlId{2851}{\htmlClass{Generalizable}{\text{retiring}}}}\, \,\href{Axiom.Set.Map.html#13606}{\htmlId{2860}{\htmlClass{Function Operator}{\text{∣}}}}\,  \,\href{Class.HasSingleton.html#288}{\htmlId{2863}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#682}{\htmlId{2865}{\htmlClass{Generalizable}{\text{kh}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2868}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#13606}{\htmlId{2870}{\htmlClass{Function Operator}{\text{ᶜ}}}}\,
         \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,POOL⦈_.POOL-retirepool"></a><a id="2886" href="Ledger.Conway.Specification.Certs.html#2886" class="InductiveConstructor">POOL-retirepool</a> <a id="2902" class="Symbol">:</a>
    <a id="2908" href="Prelude.InferenceRules.html#45235" class="Function Operator">────────────────────────────────</a>
    <a id="2945" href="Ledger.Conway.Specification.Certs.html#935" class="Generalizable">pp</a> <a id="2948" href="Ledger.Conway.Specification.Certs.html#2429" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#865}{\htmlId{2952}{\htmlClass{Generalizable}{\text{pools}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#871}{\htmlId{2969}{\htmlClass{Generalizable}{\text{fPools}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#967}{\htmlId{2987}{\htmlClass{Generalizable}{\text{retiring}}}}\,
         \end{pmatrix}$</a> <a id="3007" href="Ledger.Conway.Specification.Certs.html#2429" class="Datatype Operator">⇀⦇</a> <a id="3010" href="Ledger.Core.Specification.Certs.html#2271" class="InductiveConstructor">retirepool</a> <a id="3021" href="Ledger.Conway.Specification.Certs.html#682" class="Generalizable">kh</a> <a id="3024" href="Ledger.Conway.Specification.Certs.html#620" class="Generalizable">e</a> <a id="3026" href="Ledger.Conway.Specification.Certs.html#2429" class="Datatype Operator">,POOL⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix}
           \,\href{Ledger.Conway.Specification.Certs.html#865}{\htmlId{3046}{\htmlClass{Generalizable}{\text{pools}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#871}{\htmlId{3063}{\htmlClass{Generalizable}{\text{fPools}}}}\,
         \\ \,\href{Class.HasSingleton.html#288}{\htmlId{3081}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#682}{\htmlId{3083}{\htmlClass{Generalizable}{\text{kh}}}}\, , \,\href{Ledger.Conway.Specification.Certs.html#620}{\htmlId{3088}{\htmlClass{Generalizable}{\text{e}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{3090}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#7640}{\htmlId{3092}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#967}{\htmlId{3095}{\htmlClass{Generalizable}{\text{retiring}}}}\,
         \end{pmatrix}$</a>


<a id="3117" class="Keyword">data</a> <a id="_⊢_⇀⦇_,GOVCERT⦈_"></a><a id="3122" href="Ledger.Conway.Specification.Certs.html#3122" class="Datatype Operator">_⊢_⇀⦇_,GOVCERT⦈_</a> <a id="3139" class="Symbol">:</a> <a id="3141" href="Ledger.Core.Specification.Certs.html#3552" class="Record">CertEnv</a> <a id="3149" class="Symbol">→</a> <a id="3151" href="Ledger.Core.Specification.Certs.html#3984" class="Record">GState</a> <a id="3158" class="Symbol">→</a> <a id="3160" href="Ledger.Core.Specification.Certs.html#2079" class="Datatype">DCert</a> <a id="3166" class="Symbol">→</a> <a id="3168" href="Ledger.Core.Specification.Certs.html#3984" class="Record">GState</a> <a id="3175" class="Symbol">→</a> <a id="3177" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3182" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,GOVCERT⦈_.GOVCERT-regdrep"></a><a id="3191" href="Ledger.Conway.Specification.Certs.html#3191" class="InductiveConstructor">GOVCERT-regdrep</a> <a id="3207" class="Symbol">:</a>
    <a id="3213" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3215" class="Symbol">(</a><a id="3216" href="Ledger.Conway.Specification.Certs.html#554" class="Generalizable">d</a> <a id="3218" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3220" href="Ledger.Conway.Specification.Certs.html#935" class="Generalizable">pp</a> <a id="3223" class="Symbol">.</a><a id="3224" href="Ledger.Conway.Specification.PParams.html#3399" class="Field">drepDeposit</a> <a id="3236" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3238" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="3240" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="3242" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3246" href="Ledger.Conway.Specification.Certs.html#418" class="Generalizable">dReps</a><a id="3251" class="Symbol">)</a> <a id="3253" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3255" class="Symbol">(</a><a id="3256" href="Ledger.Conway.Specification.Certs.html#554" class="Generalizable">d</a> <a id="3258" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3260" class="Number">0</a> <a id="3262" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3264" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="3266" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="3268" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3272" href="Ledger.Conway.Specification.Certs.html#418" class="Generalizable">dReps</a><a id="3277" class="Symbol">)</a>
      <a id="3285" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#620}{\htmlId{3326}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#935}{\htmlId{3330}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1226}{\htmlId{3335}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1263}{\htmlId{3340}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#517}{\htmlId{3348}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="3353" href="Ledger.Conway.Specification.Certs.html#3122" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#418}{\htmlId{3357}{\htmlClass{Generalizable}{\text{dReps}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#448}{\htmlId{3365}{\htmlClass{Generalizable}{\text{ccKeys}}}}\, \end{pmatrix}$</a> <a id="3374" href="Ledger.Conway.Specification.Certs.html#3122" class="Datatype Operator">⇀⦇</a> <a id="3377" href="Ledger.Core.Specification.Certs.html#2311" class="InductiveConstructor">regdrep</a> <a id="3385" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="3387" href="Ledger.Conway.Specification.Certs.html#554" class="Generalizable">d</a> <a id="3389" href="Ledger.Conway.Specification.Certs.html#387" class="Generalizable">an</a> <a id="3392" href="Ledger.Conway.Specification.Certs.html#3122" class="Datatype Operator">,GOVCERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Class.HasSingleton.html#288}{\htmlId{3404}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#482}{\htmlId{3406}{\htmlClass{Generalizable}{\text{c}}}}\, , \,\href{Ledger.Conway.Specification.Certs.html#620}{\htmlId{3410}{\htmlClass{Generalizable}{\text{e}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{3412}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#935}{\htmlId{3414}{\htmlClass{Generalizable}{\text{pp}}}}\, \,\htmlId{3417}{\htmlClass{Symbol}{\text{.}}}\,\,\href{Ledger.Conway.Specification.PParams.html#3444}{\htmlId{3418}{\htmlClass{Field}{\text{drepActivity}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{3431}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#7640}{\htmlId{3433}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#418}{\htmlId{3436}{\htmlClass{Generalizable}{\text{dReps}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#448}{\htmlId{3444}{\htmlClass{Generalizable}{\text{ccKeys}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,GOVCERT⦈_.GOVCERT-deregdrep"></a><a id="3456" href="Ledger.Conway.Specification.Certs.html#3456" class="InductiveConstructor">GOVCERT-deregdrep</a> <a id="3474" class="Symbol">:</a>
    <a id="3480" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3482" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="3484" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="3486" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3490" href="Ledger.Conway.Specification.Certs.html#418" class="Generalizable">dReps</a>
      <a id="3502" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#620}{\htmlId{3543}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#935}{\htmlId{3547}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1226}{\htmlId{3552}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1263}{\htmlId{3557}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#517}{\htmlId{3565}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="3570" href="Ledger.Conway.Specification.Certs.html#3122" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#418}{\htmlId{3574}{\htmlClass{Generalizable}{\text{dReps}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#448}{\htmlId{3582}{\htmlClass{Generalizable}{\text{ccKeys}}}}\, \end{pmatrix}$</a> <a id="3591" href="Ledger.Conway.Specification.Certs.html#3122" class="Datatype Operator">⇀⦇</a> <a id="3594" href="Ledger.Core.Specification.Certs.html#2362" class="InductiveConstructor">deregdrep</a> <a id="3604" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="3606" href="Ledger.Conway.Specification.Certs.html#554" class="Generalizable">d</a> <a id="3608" href="Ledger.Conway.Specification.Certs.html#3122" class="Datatype Operator">,GOVCERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#418}{\htmlId{3620}{\htmlClass{Generalizable}{\text{dReps}}}}\, \,\href{Axiom.Set.Map.html#13606}{\htmlId{3626}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{3628}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#482}{\htmlId{3630}{\htmlClass{Generalizable}{\text{c}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{3632}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#13606}{\htmlId{3634}{\htmlClass{Function Operator}{\text{ᶜ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#448}{\htmlId{3638}{\htmlClass{Generalizable}{\text{ccKeys}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,GOVCERT⦈_.GOVCERT-ccreghot"></a><a id="3650" href="Ledger.Conway.Specification.Certs.html#3650" class="InductiveConstructor">GOVCERT-ccreghot</a> <a id="3667" class="Symbol">:</a>
    <a id="3673" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3675" class="Symbol">(</a><a id="3676" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="3678" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3680" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="3687" class="Symbol">)</a> <a id="3689" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="3691" href="Ledger.Conway.Specification.Certs.html#448" class="Generalizable">ccKeys</a>
    <a id="3702" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="3704" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="3706" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="3708" href="Ledger.Conway.Specification.Certs.html#517" class="Generalizable">cc</a>
      <a id="3717" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#620}{\htmlId{3758}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#935}{\htmlId{3762}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1226}{\htmlId{3767}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1263}{\htmlId{3772}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#517}{\htmlId{3780}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="3785" href="Ledger.Conway.Specification.Certs.html#3122" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#418}{\htmlId{3789}{\htmlClass{Generalizable}{\text{dReps}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#448}{\htmlId{3797}{\htmlClass{Generalizable}{\text{ccKeys}}}}\, \end{pmatrix}$</a> <a id="3806" href="Ledger.Conway.Specification.Certs.html#3122" class="Datatype Operator">⇀⦇</a> <a id="3809" href="Ledger.Core.Specification.Certs.html#2404" class="InductiveConstructor">ccreghot</a> <a id="3818" href="Ledger.Conway.Specification.Certs.html#482" class="Generalizable">c</a> <a id="3820" href="Ledger.Conway.Specification.Certs.html#714" class="Generalizable">mc</a> <a id="3823" href="Ledger.Conway.Specification.Certs.html#3122" class="Datatype Operator">,GOVCERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#418}{\htmlId{3835}{\htmlClass{Generalizable}{\text{dReps}}}}\, \\ \,\href{Class.HasSingleton.html#288}{\htmlId{3843}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#482}{\htmlId{3845}{\htmlClass{Generalizable}{\text{c}}}}\, , \,\href{Ledger.Conway.Specification.Certs.html#714}{\htmlId{3849}{\htmlClass{Generalizable}{\text{mc}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{3852}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#7640}{\htmlId{3854}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#448}{\htmlId{3857}{\htmlClass{Generalizable}{\text{ccKeys}}}}\, \end{pmatrix}$</a>


<a id="3868" class="Keyword">data</a> <a id="_⊢_⇀⦇_,CERT⦈_"></a><a id="3873" href="Ledger.Conway.Specification.Certs.html#3873" class="Datatype Operator">_⊢_⇀⦇_,CERT⦈_</a>  <a id="3888" class="Symbol">:</a> <a id="3890" href="Ledger.Core.Specification.Certs.html#3552" class="Record">CertEnv</a> <a id="3898" class="Symbol">→</a> <a id="3900" href="Ledger.Core.Specification.Certs.html#4115" class="Record">CertState</a> <a id="3910" class="Symbol">→</a> <a id="3912" href="Ledger.Core.Specification.Certs.html#2079" class="Datatype">DCert</a> <a id="3918" class="Symbol">→</a> <a id="3920" href="Ledger.Core.Specification.Certs.html#4115" class="Record">CertState</a> <a id="3930" class="Symbol">→</a> <a id="3932" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3937" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,CERT⦈_.CERT-deleg"></a><a id="3946" href="Ledger.Conway.Specification.Certs.html#3946" class="InductiveConstructor">CERT-deleg</a> <a id="3957" class="Symbol">:</a>
    <a id="3963" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#935}{\htmlId{3967}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Core.Specification.Certs.html#3904}{\htmlId{3972}{\htmlClass{Field}{\text{PState.pools}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#1130}{\htmlId{3985}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{3991}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{3995}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Core.Specification.Certs.html#4041}{\htmlId{3996}{\htmlClass{Field}{\text{GState.dreps}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#1099}{\htmlId{4009}{\htmlClass{Generalizable}{\text{stᵍ}}}}\,\,\htmlId{4012}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="4016" href="Ledger.Conway.Specification.Certs.html#1304" class="Datatype Operator">⊢</a> <a id="4018" href="Ledger.Conway.Specification.Certs.html#1068" class="Generalizable">stᵈ</a> <a id="4022" href="Ledger.Conway.Specification.Certs.html#1304" class="Datatype Operator">⇀⦇</a> <a id="4025" href="Ledger.Conway.Specification.Certs.html#1196" class="Generalizable">dCert</a> <a id="4031" href="Ledger.Conway.Specification.Certs.html#1304" class="Datatype Operator">,DELEG⦈</a> <a id="4039" href="Ledger.Conway.Specification.Certs.html#1072" class="Generalizable">stᵈ&#39;</a>
      <a id="4050" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#620}{\htmlId{4091}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#935}{\htmlId{4095}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1226}{\htmlId{4100}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1263}{\htmlId{4105}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#517}{\htmlId{4113}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="4118" href="Ledger.Conway.Specification.Certs.html#3873" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1068}{\htmlId{4122}{\htmlClass{Generalizable}{\text{stᵈ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1130}{\htmlId{4128}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1099}{\htmlId{4134}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a> <a id="4140" href="Ledger.Conway.Specification.Certs.html#3873" class="Datatype Operator">⇀⦇</a> <a id="4143" href="Ledger.Conway.Specification.Certs.html#1196" class="Generalizable">dCert</a> <a id="4149" href="Ledger.Conway.Specification.Certs.html#3873" class="Datatype Operator">,CERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1072}{\htmlId{4158}{\htmlClass{Generalizable}{\text{stᵈ&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1130}{\htmlId{4165}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1099}{\htmlId{4171}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,CERT⦈_.CERT-pool"></a><a id="4180" href="Ledger.Conway.Specification.Certs.html#4180" class="InductiveConstructor">CERT-pool</a> <a id="4190" class="Symbol">:</a>
    <a id="4196" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4198" href="Ledger.Conway.Specification.Certs.html#935" class="Generalizable">pp</a> <a id="4201" href="Ledger.Conway.Specification.Certs.html#2429" class="Datatype Operator">⊢</a> <a id="4203" href="Ledger.Conway.Specification.Certs.html#1130" class="Generalizable">stᵖ</a> <a id="4207" href="Ledger.Conway.Specification.Certs.html#2429" class="Datatype Operator">⇀⦇</a> <a id="4210" href="Ledger.Conway.Specification.Certs.html#1196" class="Generalizable">dCert</a> <a id="4216" href="Ledger.Conway.Specification.Certs.html#2429" class="Datatype Operator">,POOL⦈</a> <a id="4223" href="Ledger.Conway.Specification.Certs.html#1134" class="Generalizable">stᵖ&#39;</a>
      <a id="4234" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#620}{\htmlId{4275}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#935}{\htmlId{4279}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1226}{\htmlId{4284}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1263}{\htmlId{4289}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#517}{\htmlId{4297}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="4302" href="Ledger.Conway.Specification.Certs.html#3873" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1068}{\htmlId{4306}{\htmlClass{Generalizable}{\text{stᵈ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1130}{\htmlId{4312}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1099}{\htmlId{4318}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a> <a id="4324" href="Ledger.Conway.Specification.Certs.html#3873" class="Datatype Operator">⇀⦇</a> <a id="4327" href="Ledger.Conway.Specification.Certs.html#1196" class="Generalizable">dCert</a> <a id="4333" href="Ledger.Conway.Specification.Certs.html#3873" class="Datatype Operator">,CERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1068}{\htmlId{4342}{\htmlClass{Generalizable}{\text{stᵈ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1134}{\htmlId{4348}{\htmlClass{Generalizable}{\text{stᵖ&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1099}{\htmlId{4355}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,CERT⦈_.CERT-vdel"></a><a id="4364" href="Ledger.Conway.Specification.Certs.html#4364" class="InductiveConstructor">CERT-vdel</a> <a id="4374" class="Symbol">:</a>
    <a id="4380" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4382" href="Ledger.Conway.Specification.Certs.html#650" class="Generalizable">Γ</a> <a id="4384" href="Ledger.Conway.Specification.Certs.html#3122" class="Datatype Operator">⊢</a> <a id="4386" href="Ledger.Conway.Specification.Certs.html#1099" class="Generalizable">stᵍ</a> <a id="4390" href="Ledger.Conway.Specification.Certs.html#3122" class="Datatype Operator">⇀⦇</a> <a id="4393" href="Ledger.Conway.Specification.Certs.html#1196" class="Generalizable">dCert</a> <a id="4399" href="Ledger.Conway.Specification.Certs.html#3122" class="Datatype Operator">,GOVCERT⦈</a> <a id="4409" href="Ledger.Conway.Specification.Certs.html#1103" class="Generalizable">stᵍ&#39;</a>
      <a id="4420" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a id="4459" href="Ledger.Conway.Specification.Certs.html#650" class="Generalizable">Γ</a> <a id="4461" href="Ledger.Conway.Specification.Certs.html#3873" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1068}{\htmlId{4465}{\htmlClass{Generalizable}{\text{stᵈ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1130}{\htmlId{4471}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1099}{\htmlId{4477}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a> <a id="4483" href="Ledger.Conway.Specification.Certs.html#3873" class="Datatype Operator">⇀⦇</a> <a id="4486" href="Ledger.Conway.Specification.Certs.html#1196" class="Generalizable">dCert</a> <a id="4492" href="Ledger.Conway.Specification.Certs.html#3873" class="Datatype Operator">,CERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1068}{\htmlId{4501}{\htmlClass{Generalizable}{\text{stᵈ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1130}{\htmlId{4507}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1103}{\htmlId{4513}{\htmlClass{Generalizable}{\text{stᵍ&#39;}}}}\, \end{pmatrix}$</a>


<a id="4522" class="Keyword">open</a> <a id="4527" href="Ledger.Core.Specification.Gov.Actions.html#2290" class="Module">GovVote</a> <a id="4535" class="Keyword">using</a> <a id="4541" class="Symbol">(</a><a id="4542" href="Ledger.Core.Specification.Gov.Actions.html#2353" class="Field">voter</a><a id="4547" class="Symbol">)</a>


<a id="4551" class="Keyword">data</a> <a id="_⊢_⇀⦇_,PRE-CERT⦈_"></a><a id="4556" href="Ledger.Conway.Specification.Certs.html#4556" class="Datatype Operator">_⊢_⇀⦇_,PRE-CERT⦈_</a> <a id="4574" class="Symbol">:</a> <a id="4576" href="Ledger.Core.Specification.Certs.html#3552" class="Record">CertEnv</a> <a id="4584" class="Symbol">→</a> <a id="4586" href="Ledger.Core.Specification.Certs.html#4115" class="Record">CertState</a> <a id="4596" class="Symbol">→</a> <a id="4598" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="4600" class="Symbol">→</a> <a id="4602" href="Ledger.Core.Specification.Certs.html#4115" class="Record">CertState</a> <a id="4612" class="Symbol">→</a> <a id="4614" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4619" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,PRE-CERT⦈_.CERT-pre"></a><a id="4628" href="Ledger.Conway.Specification.Certs.html#4628" class="InductiveConstructor">CERT-pre</a> <a id="4637" class="Symbol">:</a>
    <a id="4643" class="Keyword">let</a> <a id="4647" href="Ledger.Conway.Specification.Certs.html#4647" class="Bound">refresh</a>         <a id="4663" class="Symbol">=</a> <a id="4665" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="4676" class="Symbol">(</a><a id="4677" href="Ledger.Core.Specification.Gov.Actions.html#6597" class="Function">isGovVoterDRep</a> <a id="4692" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4694" href="Ledger.Core.Specification.Gov.Actions.html#2353" class="Field">voter</a><a id="4699" class="Symbol">)</a> <a id="4701" class="Symbol">(</a><a id="4702" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="4711" href="Ledger.Conway.Specification.Certs.html#1226" class="Generalizable">vs</a><a id="4713" class="Symbol">)</a>
        <a id="4723" href="Ledger.Conway.Specification.Certs.html#4723" class="Bound">refreshedDReps</a>  <a id="4739" class="Symbol">=</a> <a id="4741" href="Axiom.Set.Map.html#13775" class="Function">mapValueRestricted</a> <a id="4760" class="Symbol">(</a><a id="4761" href="Function.Base.html#725" class="Function">const</a> <a id="4767" class="Symbol">(</a><a id="4768" href="Ledger.Conway.Specification.Certs.html#620" class="Generalizable">e</a> <a id="4770" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4772" href="Ledger.Conway.Specification.Certs.html#935" class="Generalizable">pp</a> <a id="4775" class="Symbol">.</a><a id="4776" href="Ledger.Conway.Specification.PParams.html#3444" class="Field">drepActivity</a><a id="4788" class="Symbol">))</a> <a id="4791" href="Ledger.Conway.Specification.Certs.html#418" class="Generalizable">dReps</a> <a id="4797" href="Ledger.Conway.Specification.Certs.html#4647" class="Bound">refresh</a>
        <a id="4813" href="Ledger.Conway.Specification.Certs.html#4813" class="Bound">wdrlCreds</a>       <a id="4829" class="Symbol">=</a> <a id="4831" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="4836" href="Ledger.Core.Specification.Address.html#1373" class="Field">stake</a> <a id="4842" class="Symbol">(</a><a id="4843" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4847" href="Ledger.Conway.Specification.Certs.html#1263" class="Generalizable">wdrls</a><a id="4852" class="Symbol">)</a>
    <a id="4858" class="Keyword">in</a>
    <a id="4865" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4867" href="Ledger.Conway.Specification.Certs.html#202" class="Function">filter</a> <a id="4874" href="Ledger.Core.Specification.Address.html#697" class="Function">isKeyHash</a> <a id="4884" href="Ledger.Conway.Specification.Certs.html#4813" class="Bound">wdrlCreds</a> <a id="4894" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="4896" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4900" href="Ledger.Conway.Specification.Certs.html#1169" class="Generalizable">voteDelegs</a>
    <a id="4915" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="4917" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="4922" class="Symbol">(</a><a id="4923" href="Class.Bifunctor.html#1045" class="Function">map₁</a> <a id="4928" href="Ledger.Core.Specification.Address.html#1373" class="Field">stake</a><a id="4933" class="Symbol">)</a> <a id="4935" class="Symbol">(</a><a id="4936" href="Ledger.Conway.Specification.Certs.html#1263" class="Generalizable">wdrls</a> <a id="4942" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="4943" class="Symbol">)</a> <a id="4945" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="4947" href="Ledger.Conway.Specification.Certs.html#1005" class="Generalizable">rewards</a> <a id="4955" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a>
      <a id="4963" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#620}{\htmlId{5004}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#935}{\htmlId{5008}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1226}{\htmlId{5013}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1263}{\htmlId{5018}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#517}{\htmlId{5026}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="5031" href="Ledger.Conway.Specification.Certs.html#4556" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1169}{\htmlId{5037}{\htmlClass{Generalizable}{\text{voteDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1040}{\htmlId{5050}{\htmlClass{Generalizable}{\text{stakeDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1005}{\htmlId{5064}{\htmlClass{Generalizable}{\text{rewards}}}}\, \end{pmatrix} \\ \,\href{Ledger.Conway.Specification.Certs.html#1130}{\htmlId{5076}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#418}{\htmlId{5084}{\htmlClass{Generalizable}{\text{dReps}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#455}{\htmlId{5092}{\htmlClass{Generalizable}{\text{ccHotKeys}}}}\, \end{pmatrix} \end{pmatrix}$</a> <a id="5106" href="Ledger.Conway.Specification.Certs.html#4556" class="Datatype Operator">⇀⦇</a> <a id="5109" class="Symbol">_</a> <a id="5111" href="Ledger.Conway.Specification.Certs.html#4556" class="Datatype Operator">,PRE-CERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1169}{\htmlId{5126}{\htmlClass{Generalizable}{\text{voteDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1040}{\htmlId{5139}{\htmlClass{Generalizable}{\text{stakeDelegs}}}}\, \\ \,\href{Axiom.Set.Map.html#11988}{\htmlId{5153}{\htmlClass{Function}{\text{constMap}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#4813}{\htmlId{5162}{\htmlClass{Bound}{\text{wdrlCreds}}}}\, \,\htmlId{5172}{\htmlClass{Number}{\text{0}}}\, \,\href{Axiom.Set.Map.html#7640}{\htmlId{5174}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#1005}{\htmlId{5177}{\htmlClass{Generalizable}{\text{rewards}}}}\, \end{pmatrix} \\ \,\href{Ledger.Conway.Specification.Certs.html#1130}{\htmlId{5189}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#4723}{\htmlId{5197}{\htmlClass{Bound}{\text{refreshedDReps}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#455}{\htmlId{5214}{\htmlClass{Generalizable}{\text{ccHotKeys}}}}\, \end{pmatrix} \end{pmatrix}$</a>


<a id="5230" class="Keyword">data</a> <a id="_⊢_⇀⦇_,POST-CERT⦈_"></a><a id="5235" href="Ledger.Conway.Specification.Certs.html#5235" class="Datatype Operator">_⊢_⇀⦇_,POST-CERT⦈_</a> <a id="5254" class="Symbol">:</a> <a id="5256" href="Ledger.Core.Specification.Certs.html#3552" class="Record">CertEnv</a> <a id="5264" class="Symbol">→</a> <a id="5266" href="Ledger.Core.Specification.Certs.html#4115" class="Record">CertState</a> <a id="5276" class="Symbol">→</a> <a id="5278" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="5280" class="Symbol">→</a> <a id="5282" href="Ledger.Core.Specification.Certs.html#4115" class="Record">CertState</a> <a id="5292" class="Symbol">→</a> <a id="5294" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5299" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,POST-CERT⦈_.CERT-post"></a><a id="5308" href="Ledger.Conway.Specification.Certs.html#5308" class="InductiveConstructor">CERT-post</a> <a id="5318" class="Symbol">:</a>
    <a id="5324" class="Keyword">let</a> <a id="5328" href="Ledger.Conway.Specification.Certs.html#5328" class="Bound">activeVDelegs</a> <a id="5342" class="Symbol">=</a> <a id="5344" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="5349" href="Ledger.Core.Specification.Gov.Actions.html#2588" class="InductiveConstructor">vDelegCredential</a> <a id="5366" class="Symbol">(</a><a id="5367" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5371" class="Symbol">(</a><a id="5372" href="Ledger.Core.Specification.Gov.Actions.html#7094" class="Field">DRepsOf</a> <a id="5380" href="Ledger.Conway.Specification.Certs.html#1099" class="Generalizable">stᵍ</a><a id="5383" class="Symbol">))</a>
                         <a id="5411" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="5413" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="5422" class="Symbol">(</a><a id="5423" href="Ledger.Core.Specification.Gov.Actions.html#2661" class="InductiveConstructor">vDelegNoConfidence</a> <a id="5442" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5444" href="Ledger.Core.Specification.Gov.Actions.html#2631" class="InductiveConstructor">vDelegAbstain</a> <a id="5458" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5460" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="5462" class="Symbol">)</a>
    <a id="5468" class="Keyword">in</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#620}{\htmlId{5479}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#935}{\htmlId{5483}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1226}{\htmlId{5488}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1263}{\htmlId{5493}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#517}{\htmlId{5501}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="5506" href="Ledger.Conway.Specification.Certs.html#5235" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1169}{\htmlId{5512}{\htmlClass{Generalizable}{\text{voteDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1040}{\htmlId{5525}{\htmlClass{Generalizable}{\text{stakeDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1005}{\htmlId{5539}{\htmlClass{Generalizable}{\text{rewards}}}}\, \end{pmatrix} \\ \,\href{Ledger.Conway.Specification.Certs.html#1130}{\htmlId{5551}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1099}{\htmlId{5557}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a> <a id="5563" href="Ledger.Conway.Specification.Certs.html#5235" class="Datatype Operator">⇀⦇</a> <a id="5566" class="Symbol">_</a> <a id="5568" href="Ledger.Conway.Specification.Certs.html#5235" class="Datatype Operator">,POST-CERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1169}{\htmlId{5584}{\htmlClass{Generalizable}{\text{voteDelegs}}}}\, \,\href{Axiom.Set.Map.html#17775}{\htmlId{5595}{\htmlClass{Function Operator}{\text{∣\^{}}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#5328}{\htmlId{5598}{\htmlClass{Bound}{\text{activeVDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1040}{\htmlId{5614}{\htmlClass{Generalizable}{\text{stakeDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1005}{\htmlId{5628}{\htmlClass{Generalizable}{\text{rewards}}}}\, \end{pmatrix} \\ \,\href{Ledger.Conway.Specification.Certs.html#1130}{\htmlId{5640}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1099}{\htmlId{5646}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a>

<a id="_⊢_⇀⦇_,CERTS⦈_"></a><a id="5653" href="Ledger.Conway.Specification.Certs.html#5653" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a>  <a id="5669" class="Symbol">:</a> <a id="5671" href="Ledger.Core.Specification.Certs.html#3552" class="Record">CertEnv</a> <a id="5679" class="Symbol">→</a> <a id="5681" href="Ledger.Core.Specification.Certs.html#4115" class="Record">CertState</a>  <a id="5692" class="Symbol">→</a> <a id="5694" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5699" href="Ledger.Core.Specification.Certs.html#2079" class="Datatype">DCert</a>  <a id="5706" class="Symbol">→</a> <a id="5708" href="Ledger.Core.Specification.Certs.html#4115" class="Record">CertState</a>  <a id="5719" class="Symbol">→</a> <a id="5721" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="5726" href="Ledger.Conway.Specification.Certs.html#5653" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a> <a id="5741" class="Symbol">=</a> <a id="5743" href="Interface.STS.html#600" class="Datatype">RunTraceAfterAndThen</a> <a id="5764" href="Ledger.Conway.Specification.Certs.html#4556" class="Datatype Operator">_⊢_⇀⦇_,PRE-CERT⦈_</a> <a id="5782" href="Ledger.Conway.Specification.Certs.html#3873" class="Datatype Operator">_⊢_⇀⦇_,CERT⦈_</a> <a id="5796" href="Ledger.Conway.Specification.Certs.html#5235" class="Datatype Operator">_⊢_⇀⦇_,POST-CERT⦈_</a>

</pre></body></html>