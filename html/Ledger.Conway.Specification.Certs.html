<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Certs</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Core.Specification.Gov.Base.html" class="Module">Ledger.Core.Specification.Gov.Base</a>

<a id="74" class="Keyword">module</a> <a id="81" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="115" class="Symbol">(</a><a id="116" href="Ledger.Conway.Specification.Certs.html#116" class="Bound">gs</a> <a id="119" class="Symbol">:</a> <a id="121" class="Symbol">_)</a> <a id="124" class="Symbol">(</a><a id="125" class="Keyword">open</a> <a id="130" href="Ledger.Core.Specification.Gov.Base.html#322" class="Module">GovStructure</a> <a id="143" href="Ledger.Conway.Specification.Certs.html#116" class="Bound">gs</a><a id="145" class="Symbol">)</a> <a id="147" class="Keyword">where</a>

<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="181" class="Keyword">renaming</a> <a id="190" class="Symbol">(</a><a id="191" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="199" class="Symbol">to</a> <a id="202" class="Function">filter</a><a id="208" class="Symbol">)</a>

<a id="211" class="Keyword">open</a> <a id="216" class="Keyword">import</a> <a id="223" href="Ledger.Core.Specification.Gov.Actions.html" class="Module">Ledger.Core.Specification.Gov.Actions</a> <a id="261" href="Ledger.Conway.Specification.Certs.html#116" class="Bound">gs</a> <a id="264" class="Keyword">hiding</a> <a id="271" class="Symbol">(</a><a id="272" href="Ledger.Core.Specification.Gov.Actions.html#2045" class="InductiveConstructor">yes</a><a id="275" class="Symbol">;</a> <a id="277" href="Ledger.Core.Specification.Gov.Actions.html#2049" class="InductiveConstructor">no</a><a id="279" class="Symbol">)</a>
<a id="281" class="Keyword">open</a> <a id="286" class="Keyword">import</a> <a id="293" href="Ledger.Core.Specification.Certs.html" class="Module">Ledger.Core.Specification.Certs</a> <a id="325" href="Ledger.Conway.Specification.Certs.html#116" class="Bound">gs</a> <a id="328" class="Keyword">public</a>
<a id="335" class="Keyword">open</a> <a id="340" href="Ledger.Core.Specification.Address.html#1313" class="Module">RwdAddr</a>
<a id="348" class="Keyword">open</a> <a id="353" href="Ledger.Conway.Specification.PParams.html#1687" class="Module">PParams</a>

<a id="362" class="Keyword">private</a> <a id="370" class="Keyword">variable</a>
  <a id="381" href="Ledger.Conway.Specification.Certs.html#381" class="Generalizable">an</a>                  <a id="401" class="Symbol">:</a> <a id="403" href="Ledger.Core.Specification.Gov.Actions.html#2213" class="Record">Anchor</a>
  <a id="412" href="Ledger.Conway.Specification.Certs.html#412" class="Generalizable">dReps</a>               <a id="432" class="Symbol">:</a> <a id="434" href="Ledger.Core.Specification.Certs.html#1120" class="Function">DReps</a>
  <a id="442" href="Ledger.Conway.Specification.Certs.html#442" class="Generalizable">ccKeys</a> <a id="449" href="Ledger.Conway.Specification.Certs.html#449" class="Generalizable">ccHotKeys</a>    <a id="462" class="Symbol">:</a> <a id="464" href="Ledger.Core.Specification.Certs.html#1060" class="Function">CCHotKeys</a>
  <a id="476" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a>                   <a id="496" class="Symbol">:</a> <a id="498" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="511" href="Ledger.Conway.Specification.Certs.html#511" class="Generalizable">cc</a>                  <a id="531" class="Symbol">:</a> <a id="533" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="535" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="548" href="Ledger.Conway.Specification.Certs.html#548" class="Generalizable">d</a>                   <a id="568" class="Symbol">:</a> <a id="570" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="577" href="Ledger.Conway.Specification.Certs.html#577" class="Generalizable">delegatees</a>          <a id="597" class="Symbol">:</a> <a id="599" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="601" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="614" href="Ledger.Conway.Specification.Certs.html#614" class="Generalizable">e</a>                   <a id="634" class="Symbol">:</a> <a id="636" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a>
  <a id="644" href="Ledger.Conway.Specification.Certs.html#644" class="Generalizable">Γ</a>                   <a id="664" class="Symbol">:</a> <a id="666" href="Ledger.Core.Specification.Certs.html#3697" class="Record">CertEnv</a>
  <a id="676" href="Ledger.Conway.Specification.Certs.html#676" class="Generalizable">kh</a>                  <a id="696" class="Symbol">:</a> <a id="698" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
  <a id="708" href="Ledger.Conway.Specification.Certs.html#708" class="Generalizable">mc</a>                  <a id="728" class="Symbol">:</a> <a id="730" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="736" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>
  <a id="749" href="Ledger.Conway.Specification.Certs.html#749" class="Generalizable">md</a>                  <a id="769" class="Symbol">:</a> <a id="771" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="777" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="784" href="Ledger.Conway.Specification.Certs.html#784" class="Generalizable">mkh</a>                 <a id="804" class="Symbol">:</a> <a id="806" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="812" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
  <a id="822" href="Ledger.Conway.Specification.Certs.html#822" class="Generalizable">mvd</a>                 <a id="842" class="Symbol">:</a> <a id="844" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="850" href="Ledger.Core.Specification.Gov.Actions.html#2565" class="Datatype">VDeleg</a>
  <a id="859" href="Ledger.Conway.Specification.Certs.html#859" class="Generalizable">pools</a> <a id="865" href="Ledger.Conway.Specification.Certs.html#865" class="Generalizable">fPools</a>        <a id="879" class="Symbol">:</a> <a id="881" href="Ledger.Core.Specification.Certs.html#1195" class="Function">Pools</a>
  <a id="889" href="Ledger.Conway.Specification.Certs.html#889" class="Generalizable">poolParams</a>          <a id="909" class="Symbol">:</a> <a id="911" href="Ledger.Core.Specification.Certs.html#336" class="Record">StakePoolParams</a>
  <a id="929" href="Ledger.Conway.Specification.Certs.html#929" class="Generalizable">pp</a>                  <a id="949" class="Symbol">:</a> <a id="951" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a>
  <a id="961" href="Ledger.Conway.Specification.Certs.html#961" class="Generalizable">retiring</a>            <a id="981" class="Symbol">:</a> <a id="983" href="Ledger.Core.Specification.Certs.html#1243" class="Function">Retiring</a>
  <a id="994" href="Ledger.Conway.Specification.Certs.html#994" class="Generalizable">rwds</a> <a id="999" href="Ledger.Conway.Specification.Certs.html#999" class="Generalizable">rewards</a>        <a id="1014" class="Symbol">:</a> <a id="1016" href="Ledger.Core.Specification.Certs.html#1287" class="Function">Rewards</a>
  <a id="1026" href="Ledger.Conway.Specification.Certs.html#1026" class="Generalizable">sDelegs</a> <a id="1034" href="Ledger.Conway.Specification.Certs.html#1034" class="Generalizable">stakeDelegs</a> <a id="1046" class="Symbol">:</a> <a id="1048" href="Ledger.Core.Specification.Certs.html#1371" class="Function">StakeDelegs</a>
  <a id="1062" href="Ledger.Conway.Specification.Certs.html#1062" class="Generalizable">stᵈ</a> <a id="1066" href="Ledger.Conway.Specification.Certs.html#1066" class="Generalizable">stᵈ&#39;</a>            <a id="1082" class="Symbol">:</a> <a id="1084" href="Ledger.Core.Specification.Certs.html#3866" class="Record">DState</a>
  <a id="1093" href="Ledger.Conway.Specification.Certs.html#1093" class="Generalizable">stᵍ</a> <a id="1097" href="Ledger.Conway.Specification.Certs.html#1097" class="Generalizable">stᵍ&#39;</a>            <a id="1113" class="Symbol">:</a> <a id="1115" href="Ledger.Core.Specification.Certs.html#4129" class="Record">GState</a>
  <a id="1124" href="Ledger.Conway.Specification.Certs.html#1124" class="Generalizable">stᵖ</a> <a id="1128" href="Ledger.Conway.Specification.Certs.html#1128" class="Generalizable">stᵖ&#39;</a>            <a id="1144" class="Symbol">:</a> <a id="1146" href="Ledger.Core.Specification.Certs.html#4017" class="Record">PState</a>
  <a id="1155" href="Ledger.Conway.Specification.Certs.html#1155" class="Generalizable">vDelegs</a> <a id="1163" href="Ledger.Conway.Specification.Certs.html#1163" class="Generalizable">voteDelegs</a>  <a id="1175" class="Symbol">:</a> <a id="1177" href="Ledger.Core.Specification.Gov.Actions.html#2689" class="Function">VoteDelegs</a>
  <a id="1190" href="Ledger.Conway.Specification.Certs.html#1190" class="Generalizable">dCert</a>               <a id="1210" class="Symbol">:</a> <a id="1212" href="Ledger.Core.Specification.Certs.html#2224" class="Datatype">DCert</a>
  <a id="1220" href="Ledger.Conway.Specification.Certs.html#1220" class="Generalizable">vs</a>                  <a id="1240" class="Symbol">:</a> <a id="1242" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1247" href="Ledger.Core.Specification.Gov.Actions.html#2289" class="Record">GovVote</a>
  <a id="1257" href="Ledger.Conway.Specification.Certs.html#1257" class="Generalizable">wdrls</a>               <a id="1277" class="Symbol">:</a> <a id="1279" href="Ledger.Core.Specification.Address.html#1388" class="Function">Withdrawals</a>


<a id="1293" class="Keyword">data</a> <a id="_⊢_⇀⦇_,DELEG⦈_"></a><a id="1298" href="Ledger.Conway.Specification.Certs.html#1298" class="Datatype Operator">_⊢_⇀⦇_,DELEG⦈_</a> <a id="1313" class="Symbol">:</a> <a id="1315" href="Ledger.Core.Specification.Certs.html#4387" class="Record">DelegEnv</a> <a id="1324" class="Symbol">→</a> <a id="1326" href="Ledger.Core.Specification.Certs.html#3866" class="Record">DState</a> <a id="1333" class="Symbol">→</a> <a id="1335" href="Ledger.Core.Specification.Certs.html#2224" class="Datatype">DCert</a> <a id="1341" class="Symbol">→</a> <a id="1343" href="Ledger.Core.Specification.Certs.html#3866" class="Record">DState</a> <a id="1350" class="Symbol">→</a> <a id="1352" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1357" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,DELEG⦈_.DELEG-delegate"></a><a id="1366" href="Ledger.Conway.Specification.Certs.html#1366" class="InductiveConstructor">DELEG-delegate</a> <a id="1381" class="Symbol">:</a>
    <a id="1387" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="1389" class="Symbol">(</a><a id="1390" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="1392" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="1394" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1398" href="Ledger.Conway.Specification.Certs.html#994" class="Generalizable">rwds</a> <a id="1403" class="Symbol">→</a> <a id="1405" href="Ledger.Conway.Specification.Certs.html#548" class="Generalizable">d</a> <a id="1407" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1409" href="Ledger.Conway.Specification.Certs.html#929" class="Generalizable">pp</a> <a id="1412" class="Symbol">.</a><a id="1413" href="Ledger.Conway.Specification.PParams.html#2193" class="Field">keyDeposit</a><a id="1423" class="Symbol">)</a>
    <a id="1429" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="1431" class="Symbol">(</a><a id="1432" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="1434" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="1436" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1440" href="Ledger.Conway.Specification.Certs.html#994" class="Generalizable">rwds</a> <a id="1445" class="Symbol">→</a> <a id="1447" href="Ledger.Conway.Specification.Certs.html#548" class="Generalizable">d</a> <a id="1449" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1451" class="Number">0</a><a id="1452" class="Symbol">)</a>
    <a id="1458" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="1460" href="Ledger.Conway.Specification.Certs.html#822" class="Generalizable">mvd</a> <a id="1464" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="1466" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="1471" class="Symbol">(</a><a id="1472" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1477" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1479" href="Ledger.Core.Specification.Gov.Actions.html#2587" class="InductiveConstructor">vDelegCredential</a><a id="1495" class="Symbol">)</a> <a id="1497" href="Ledger.Conway.Specification.Certs.html#577" class="Generalizable">delegatees</a> <a id="1508" href="Axiom.Set.html#9137" class="Function Operator">∪</a>
            <a id="1522" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="1531" class="Symbol">(</a> <a id="1533" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="1541" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1543" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1548" href="Ledger.Core.Specification.Gov.Actions.html#2630" class="InductiveConstructor">vDelegAbstain</a> <a id="1562" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1564" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1569" href="Ledger.Core.Specification.Gov.Actions.html#2660" class="InductiveConstructor">vDelegNoConfidence</a> <a id="1588" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1590" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1593" class="Symbol">)</a>
    <a id="1599" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="1601" href="Ledger.Conway.Specification.Certs.html#784" class="Generalizable">mkh</a> <a id="1605" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="1607" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="1612" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1617" class="Symbol">(</a><a id="1618" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1622" href="Ledger.Conway.Specification.Certs.html#859" class="Generalizable">pools</a><a id="1627" class="Symbol">)</a> <a id="1629" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="1631" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="1633" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="1641" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="1649" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#929}{\htmlId{1690}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#859}{\htmlId{1695}{\htmlClass{Generalizable}{\text{pools}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#577}{\htmlId{1703}{\htmlClass{Generalizable}{\text{delegatees}}}}\, \end{pmatrix}$</a> <a id="1716" href="Ledger.Conway.Specification.Certs.html#1298" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1155}{\htmlId{1720}{\htmlClass{Generalizable}{\text{vDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1026}{\htmlId{1730}{\htmlClass{Generalizable}{\text{sDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#994}{\htmlId{1740}{\htmlClass{Generalizable}{\text{rwds}}}}\, \end{pmatrix}$</a> <a id="1747" href="Ledger.Conway.Specification.Certs.html#1298" class="Datatype Operator">⇀⦇</a> <a id="1750" href="Ledger.Core.Specification.Certs.html#2245" class="InductiveConstructor">delegate</a> <a id="1759" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="1761" href="Ledger.Conway.Specification.Certs.html#822" class="Generalizable">mvd</a> <a id="1765" href="Ledger.Conway.Specification.Certs.html#784" class="Generalizable">mkh</a> <a id="1769" href="Ledger.Conway.Specification.Certs.html#548" class="Generalizable">d</a> <a id="1771" href="Ledger.Conway.Specification.Certs.html#1298" class="Datatype Operator">,DELEG⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Axiom.Set.Map.html#9260}{\htmlId{1781}{\htmlClass{Function}{\text{insertIfJust}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#476}{\htmlId{1794}{\htmlClass{Generalizable}{\text{c}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#822}{\htmlId{1796}{\htmlClass{Generalizable}{\text{mvd}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#1155}{\htmlId{1800}{\htmlClass{Generalizable}{\text{vDelegs}}}}\, \\ \,\href{Axiom.Set.Map.html#9260}{\htmlId{1810}{\htmlClass{Function}{\text{insertIfJust}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#476}{\htmlId{1823}{\htmlClass{Generalizable}{\text{c}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#784}{\htmlId{1825}{\htmlClass{Generalizable}{\text{mkh}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#1026}{\htmlId{1829}{\htmlClass{Generalizable}{\text{sDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#994}{\htmlId{1839}{\htmlClass{Generalizable}{\text{rwds}}}}\, \,\href{Axiom.Set.Map.html#7638}{\htmlId{1844}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{1847}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#476}{\htmlId{1849}{\htmlClass{Generalizable}{\text{c}}}}\, , \,\htmlId{1853}{\htmlClass{Number}{\text{0}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{1855}{\htmlClass{Field Operator}{\text{❵}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,DELEG⦈_.DELEG-dereg"></a><a id="1862" href="Ledger.Conway.Specification.Certs.html#1862" class="InductiveConstructor">DELEG-dereg</a> <a id="1874" class="Symbol">:</a>
    <a id="1880" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="1882" class="Symbol">(</a><a id="1883" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="1885" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1887" class="Number">0</a><a id="1888" class="Symbol">)</a> <a id="1890" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="1892" href="Ledger.Conway.Specification.Certs.html#994" class="Generalizable">rwds</a>
      <a id="1903" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#929}{\htmlId{1944}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#859}{\htmlId{1949}{\htmlClass{Generalizable}{\text{pools}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#577}{\htmlId{1957}{\htmlClass{Generalizable}{\text{delegatees}}}}\, \end{pmatrix}$</a> <a id="1970" href="Ledger.Conway.Specification.Certs.html#1298" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1155}{\htmlId{1974}{\htmlClass{Generalizable}{\text{vDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1026}{\htmlId{1984}{\htmlClass{Generalizable}{\text{sDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#994}{\htmlId{1994}{\htmlClass{Generalizable}{\text{rwds}}}}\, \end{pmatrix}$</a> <a id="2001" href="Ledger.Conway.Specification.Certs.html#1298" class="Datatype Operator">⇀⦇</a> <a id="2004" href="Ledger.Core.Specification.Certs.html#2318" class="InductiveConstructor">dereg</a> <a id="2010" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="2012" href="Ledger.Conway.Specification.Certs.html#749" class="Generalizable">md</a> <a id="2015" href="Ledger.Conway.Specification.Certs.html#1298" class="Datatype Operator">,DELEG⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1155}{\htmlId{2025}{\htmlClass{Generalizable}{\text{vDelegs}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{2033}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2035}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#476}{\htmlId{2037}{\htmlClass{Generalizable}{\text{c}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2039}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{2041}{\htmlClass{Function Operator}{\text{ᶜ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1026}{\htmlId{2045}{\htmlClass{Generalizable}{\text{sDelegs}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{2053}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2055}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#476}{\htmlId{2057}{\htmlClass{Generalizable}{\text{c}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2059}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{2061}{\htmlClass{Function Operator}{\text{ᶜ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#994}{\htmlId{2065}{\htmlClass{Generalizable}{\text{rwds}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{2070}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2072}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#476}{\htmlId{2074}{\htmlClass{Generalizable}{\text{c}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2076}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{2078}{\htmlClass{Function Operator}{\text{ᶜ}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,DELEG⦈_.DELEG-reg"></a><a id="2085" href="Ledger.Conway.Specification.Certs.html#2085" class="InductiveConstructor">DELEG-reg</a> <a id="2095" class="Symbol">:</a>
    <a id="2101" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="2103" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="2105" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="2107" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2111" href="Ledger.Conway.Specification.Certs.html#994" class="Generalizable">rwds</a>
    <a id="2120" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="2122" href="Ledger.Conway.Specification.Certs.html#548" class="Generalizable">d</a> <a id="2124" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2126" href="Ledger.Conway.Specification.Certs.html#929" class="Generalizable">pp</a> <a id="2129" class="Symbol">.</a><a id="2130" href="Ledger.Conway.Specification.PParams.html#2193" class="Field">keyDeposit</a> <a id="2141" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2143" href="Ledger.Conway.Specification.Certs.html#548" class="Generalizable">d</a> <a id="2145" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2147" class="Number">0</a>
      <a id="2155" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#929}{\htmlId{2196}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#859}{\htmlId{2201}{\htmlClass{Generalizable}{\text{pools}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#577}{\htmlId{2209}{\htmlClass{Generalizable}{\text{delegatees}}}}\, \end{pmatrix}$</a> <a id="2222" href="Ledger.Conway.Specification.Certs.html#1298" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1155}{\htmlId{2226}{\htmlClass{Generalizable}{\text{vDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1026}{\htmlId{2236}{\htmlClass{Generalizable}{\text{sDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#994}{\htmlId{2246}{\htmlClass{Generalizable}{\text{rwds}}}}\, \end{pmatrix}$</a> <a id="2253" href="Ledger.Conway.Specification.Certs.html#1298" class="Datatype Operator">⇀⦇</a> <a id="2256" href="Ledger.Core.Specification.Certs.html#2937" class="InductiveConstructor">reg</a> <a id="2260" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="2262" href="Ledger.Conway.Specification.Certs.html#548" class="Generalizable">d</a> <a id="2264" href="Ledger.Conway.Specification.Certs.html#1298" class="Datatype Operator">,DELEG⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1155}{\htmlId{2274}{\htmlClass{Generalizable}{\text{vDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1026}{\htmlId{2284}{\htmlClass{Generalizable}{\text{sDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#994}{\htmlId{2294}{\htmlClass{Generalizable}{\text{rwds}}}}\, \,\href{Axiom.Set.Map.html#7638}{\htmlId{2299}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2302}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#476}{\htmlId{2304}{\htmlClass{Generalizable}{\text{c}}}}\, , \,\htmlId{2308}{\htmlClass{Number}{\text{0}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2310}{\htmlClass{Field Operator}{\text{❵}}}}\, \end{pmatrix}$</a>


<a id="isPoolRegistered"></a><a id="2316" href="Ledger.Conway.Specification.Certs.html#2316" class="Function">isPoolRegistered</a> <a id="2333" class="Symbol">:</a> <a id="2335" href="Ledger.Core.Specification.Certs.html#1195" class="Function">Pools</a> <a id="2341" class="Symbol">-&gt;</a> <a id="2344" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="2352" class="Symbol">-&gt;</a> <a id="2355" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2361" href="Ledger.Core.Specification.Certs.html#336" class="Record">StakePoolParams</a>
<a id="2377" href="Ledger.Conway.Specification.Certs.html#2316" class="Function">isPoolRegistered</a> <a id="2394" href="Ledger.Conway.Specification.Certs.html#2394" class="Bound">ps</a> <a id="2397" href="Ledger.Conway.Specification.Certs.html#2397" class="Bound">kh</a> <a id="2400" class="Symbol">=</a> <a id="2402" href="Axiom.Set.Map.html#17167" class="Function">lookupᵐ?</a> <a id="2411" href="Ledger.Conway.Specification.Certs.html#2394" class="Bound">ps</a> <a id="2414" href="Ledger.Conway.Specification.Certs.html#2397" class="Bound">kh</a>

<a id="2418" class="Keyword">data</a> <a id="_⊢_⇀⦇_,POOL⦈_"></a><a id="2423" href="Ledger.Conway.Specification.Certs.html#2423" class="Datatype Operator">_⊢_⇀⦇_,POOL⦈_</a> <a id="2437" class="Symbol">:</a> <a id="2439" href="Ledger.Core.Specification.Certs.html#1161" class="Function">PoolEnv</a> <a id="2447" class="Symbol">→</a> <a id="2449" href="Ledger.Core.Specification.Certs.html#4017" class="Record">PState</a> <a id="2456" class="Symbol">→</a> <a id="2458" href="Ledger.Core.Specification.Certs.html#2224" class="Datatype">DCert</a> <a id="2464" class="Symbol">→</a> <a id="2466" href="Ledger.Core.Specification.Certs.html#4017" class="Record">PState</a> <a id="2473" class="Symbol">→</a> <a id="2475" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2480" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,POOL⦈_.POOL-regpool"></a><a id="2489" href="Ledger.Conway.Specification.Certs.html#2489" class="InductiveConstructor">POOL-regpool</a> <a id="2502" class="Symbol">:</a>
    <a id="2508" class="Keyword">let</a>
      <a id="2518" href="Ledger.Conway.Specification.Certs.html#2518" class="Bound">fPool&#39;</a> <a id="2525" class="Symbol">=</a>
        <a id="2535" href="Class.ToBool.html#342" class="Function Operator">if</a> <a id="2538" href="Ledger.Conway.Specification.Certs.html#2316" class="Function">isPoolRegistered</a> <a id="2555" href="Ledger.Conway.Specification.Certs.html#859" class="Generalizable">pools</a> <a id="2561" href="Ledger.Conway.Specification.Certs.html#676" class="Generalizable">kh</a>
          <a id="2574" href="Class.ToBool.html#342" class="Function Operator">then</a> <a id="2579" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="2581" href="Ledger.Conway.Specification.Certs.html#676" class="Generalizable">kh</a> <a id="2584" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2586" href="Ledger.Conway.Specification.Certs.html#889" class="Generalizable">poolParams</a> <a id="2597" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="2599" href="Axiom.Set.Map.html#7638" class="Function Operator">∪ˡ</a> <a id="2602" href="Ledger.Conway.Specification.Certs.html#865" class="Generalizable">fPools</a>
          <a id="2619" href="Class.ToBool.html#342" class="Function Operator">else</a> <a id="2624" href="Ledger.Conway.Specification.Certs.html#865" class="Generalizable">fPools</a>
     <a id="2636" class="Keyword">in</a>
    <a id="2643" href="Prelude.InferenceRules.html#45235" class="Function Operator">────────────────────────────────</a>
    <a id="2680" href="Ledger.Conway.Specification.Certs.html#929" class="Generalizable">pp</a> <a id="2683" href="Ledger.Conway.Specification.Certs.html#2423" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#859}{\htmlId{2687}{\htmlClass{Generalizable}{\text{pools}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#865}{\htmlId{2704}{\htmlClass{Generalizable}{\text{fPools}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#961}{\htmlId{2722}{\htmlClass{Generalizable}{\text{retiring}}}}\,
         \end{pmatrix}$</a> <a id="2742" href="Ledger.Conway.Specification.Certs.html#2423" class="Datatype Operator">⇀⦇</a> <a id="2745" href="Ledger.Core.Specification.Certs.html#2366" class="InductiveConstructor">regpool</a> <a id="2753" href="Ledger.Conway.Specification.Certs.html#676" class="Generalizable">kh</a> <a id="2756" href="Ledger.Conway.Specification.Certs.html#889" class="Generalizable">poolParams</a> <a id="2767" href="Ledger.Conway.Specification.Certs.html#2423" class="Datatype Operator">,POOL⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix}
           \,\href{Ledger.Conway.Specification.Certs.html#859}{\htmlId{2787}{\htmlClass{Generalizable}{\text{pools}}}}\, \,\href{Axiom.Set.Map.html#7638}{\htmlId{2793}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2796}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#676}{\htmlId{2798}{\htmlClass{Generalizable}{\text{kh}}}}\, , \,\href{Ledger.Conway.Specification.Certs.html#889}{\htmlId{2803}{\htmlClass{Generalizable}{\text{poolParams}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2814}{\htmlClass{Field Operator}{\text{❵}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#2518}{\htmlId{2827}{\htmlClass{Bound}{\text{fPool&#39;}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#961}{\htmlId{2845}{\htmlClass{Generalizable}{\text{retiring}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{2854}{\htmlClass{Function Operator}{\text{∣}}}}\,  \,\href{Class.HasSingleton.html#288}{\htmlId{2857}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#676}{\htmlId{2859}{\htmlClass{Generalizable}{\text{kh}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{2862}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{2864}{\htmlClass{Function Operator}{\text{ᶜ}}}}\,
         \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,POOL⦈_.POOL-retirepool"></a><a id="2880" href="Ledger.Conway.Specification.Certs.html#2880" class="InductiveConstructor">POOL-retirepool</a> <a id="2896" class="Symbol">:</a>
    <a id="2902" href="Prelude.InferenceRules.html#45235" class="Function Operator">────────────────────────────────</a>
    <a id="2939" href="Ledger.Conway.Specification.Certs.html#929" class="Generalizable">pp</a> <a id="2942" href="Ledger.Conway.Specification.Certs.html#2423" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#859}{\htmlId{2946}{\htmlClass{Generalizable}{\text{pools}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#865}{\htmlId{2963}{\htmlClass{Generalizable}{\text{fPools}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#961}{\htmlId{2981}{\htmlClass{Generalizable}{\text{retiring}}}}\,
         \end{pmatrix}$</a> <a id="3001" href="Ledger.Conway.Specification.Certs.html#2423" class="Datatype Operator">⇀⦇</a> <a id="3004" href="Ledger.Core.Specification.Certs.html#2416" class="InductiveConstructor">retirepool</a> <a id="3015" href="Ledger.Conway.Specification.Certs.html#676" class="Generalizable">kh</a> <a id="3018" href="Ledger.Conway.Specification.Certs.html#614" class="Generalizable">e</a> <a id="3020" href="Ledger.Conway.Specification.Certs.html#2423" class="Datatype Operator">,POOL⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix}
           \,\href{Ledger.Conway.Specification.Certs.html#859}{\htmlId{3040}{\htmlClass{Generalizable}{\text{pools}}}}\,
         \\ \,\href{Ledger.Conway.Specification.Certs.html#865}{\htmlId{3057}{\htmlClass{Generalizable}{\text{fPools}}}}\,
         \\ \,\href{Class.HasSingleton.html#288}{\htmlId{3075}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#676}{\htmlId{3077}{\htmlClass{Generalizable}{\text{kh}}}}\, , \,\href{Ledger.Conway.Specification.Certs.html#614}{\htmlId{3082}{\htmlClass{Generalizable}{\text{e}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{3084}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#7638}{\htmlId{3086}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#961}{\htmlId{3089}{\htmlClass{Generalizable}{\text{retiring}}}}\,
         \end{pmatrix}$</a>


<a id="3111" class="Keyword">data</a> <a id="_⊢_⇀⦇_,GOVCERT⦈_"></a><a id="3116" href="Ledger.Conway.Specification.Certs.html#3116" class="Datatype Operator">_⊢_⇀⦇_,GOVCERT⦈_</a> <a id="3133" class="Symbol">:</a> <a id="3135" href="Ledger.Core.Specification.Certs.html#3697" class="Record">CertEnv</a> <a id="3143" class="Symbol">→</a> <a id="3145" href="Ledger.Core.Specification.Certs.html#4129" class="Record">GState</a> <a id="3152" class="Symbol">→</a> <a id="3154" href="Ledger.Core.Specification.Certs.html#2224" class="Datatype">DCert</a> <a id="3160" class="Symbol">→</a> <a id="3162" href="Ledger.Core.Specification.Certs.html#4129" class="Record">GState</a> <a id="3169" class="Symbol">→</a> <a id="3171" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3176" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,GOVCERT⦈_.GOVCERT-regdrep"></a><a id="3185" href="Ledger.Conway.Specification.Certs.html#3185" class="InductiveConstructor">GOVCERT-regdrep</a> <a id="3201" class="Symbol">:</a>
    <a id="3207" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3209" class="Symbol">(</a><a id="3210" href="Ledger.Conway.Specification.Certs.html#548" class="Generalizable">d</a> <a id="3212" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3214" href="Ledger.Conway.Specification.Certs.html#929" class="Generalizable">pp</a> <a id="3217" class="Symbol">.</a><a id="3218" href="Ledger.Conway.Specification.PParams.html#3399" class="Field">drepDeposit</a> <a id="3230" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3232" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="3234" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="3236" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3240" href="Ledger.Conway.Specification.Certs.html#412" class="Generalizable">dReps</a><a id="3245" class="Symbol">)</a> <a id="3247" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3249" class="Symbol">(</a><a id="3250" href="Ledger.Conway.Specification.Certs.html#548" class="Generalizable">d</a> <a id="3252" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3254" class="Number">0</a> <a id="3256" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3258" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="3260" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="3262" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3266" href="Ledger.Conway.Specification.Certs.html#412" class="Generalizable">dReps</a><a id="3271" class="Symbol">)</a>
      <a id="3279" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#614}{\htmlId{3320}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#929}{\htmlId{3324}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1220}{\htmlId{3329}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1257}{\htmlId{3334}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#511}{\htmlId{3342}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="3347" href="Ledger.Conway.Specification.Certs.html#3116" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#412}{\htmlId{3351}{\htmlClass{Generalizable}{\text{dReps}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#442}{\htmlId{3359}{\htmlClass{Generalizable}{\text{ccKeys}}}}\, \end{pmatrix}$</a> <a id="3368" href="Ledger.Conway.Specification.Certs.html#3116" class="Datatype Operator">⇀⦇</a> <a id="3371" href="Ledger.Core.Specification.Certs.html#2456" class="InductiveConstructor">regdrep</a> <a id="3379" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="3381" href="Ledger.Conway.Specification.Certs.html#548" class="Generalizable">d</a> <a id="3383" href="Ledger.Conway.Specification.Certs.html#381" class="Generalizable">an</a> <a id="3386" href="Ledger.Conway.Specification.Certs.html#3116" class="Datatype Operator">,GOVCERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Class.HasSingleton.html#288}{\htmlId{3398}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#476}{\htmlId{3400}{\htmlClass{Generalizable}{\text{c}}}}\, , \,\href{Ledger.Conway.Specification.Certs.html#614}{\htmlId{3404}{\htmlClass{Generalizable}{\text{e}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{3406}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#929}{\htmlId{3408}{\htmlClass{Generalizable}{\text{pp}}}}\, \,\htmlId{3411}{\htmlClass{Symbol}{\text{.}}}\,\,\href{Ledger.Conway.Specification.PParams.html#3444}{\htmlId{3412}{\htmlClass{Field}{\text{drepActivity}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{3425}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#7638}{\htmlId{3427}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#412}{\htmlId{3430}{\htmlClass{Generalizable}{\text{dReps}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#442}{\htmlId{3438}{\htmlClass{Generalizable}{\text{ccKeys}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,GOVCERT⦈_.GOVCERT-deregdrep"></a><a id="3450" href="Ledger.Conway.Specification.Certs.html#3450" class="InductiveConstructor">GOVCERT-deregdrep</a> <a id="3468" class="Symbol">:</a>
    <a id="3474" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3476" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="3478" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="3480" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3484" href="Ledger.Conway.Specification.Certs.html#412" class="Generalizable">dReps</a>
      <a id="3496" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#614}{\htmlId{3537}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#929}{\htmlId{3541}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1220}{\htmlId{3546}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1257}{\htmlId{3551}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#511}{\htmlId{3559}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="3564" href="Ledger.Conway.Specification.Certs.html#3116" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#412}{\htmlId{3568}{\htmlClass{Generalizable}{\text{dReps}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#442}{\htmlId{3576}{\htmlClass{Generalizable}{\text{ccKeys}}}}\, \end{pmatrix}$</a> <a id="3585" href="Ledger.Conway.Specification.Certs.html#3116" class="Datatype Operator">⇀⦇</a> <a id="3588" href="Ledger.Core.Specification.Certs.html#2507" class="InductiveConstructor">deregdrep</a> <a id="3598" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="3600" href="Ledger.Conway.Specification.Certs.html#548" class="Generalizable">d</a> <a id="3602" href="Ledger.Conway.Specification.Certs.html#3116" class="Datatype Operator">,GOVCERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#412}{\htmlId{3614}{\htmlClass{Generalizable}{\text{dReps}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{3620}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{3622}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#476}{\htmlId{3624}{\htmlClass{Generalizable}{\text{c}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{3626}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{3628}{\htmlClass{Function Operator}{\text{ᶜ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#442}{\htmlId{3632}{\htmlClass{Generalizable}{\text{ccKeys}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,GOVCERT⦈_.GOVCERT-ccreghot"></a><a id="3644" href="Ledger.Conway.Specification.Certs.html#3644" class="InductiveConstructor">GOVCERT-ccreghot</a> <a id="3661" class="Symbol">:</a>
    <a id="3667" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="3669" class="Symbol">(</a><a id="3670" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="3672" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3674" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="3681" class="Symbol">)</a> <a id="3683" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="3685" href="Ledger.Conway.Specification.Certs.html#442" class="Generalizable">ccKeys</a>
    <a id="3696" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="3698" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="3700" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="3702" href="Ledger.Conway.Specification.Certs.html#511" class="Generalizable">cc</a>
      <a id="3711" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#614}{\htmlId{3752}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#929}{\htmlId{3756}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1220}{\htmlId{3761}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1257}{\htmlId{3766}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#511}{\htmlId{3774}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="3779" href="Ledger.Conway.Specification.Certs.html#3116" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#412}{\htmlId{3783}{\htmlClass{Generalizable}{\text{dReps}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#442}{\htmlId{3791}{\htmlClass{Generalizable}{\text{ccKeys}}}}\, \end{pmatrix}$</a> <a id="3800" href="Ledger.Conway.Specification.Certs.html#3116" class="Datatype Operator">⇀⦇</a> <a id="3803" href="Ledger.Core.Specification.Certs.html#2549" class="InductiveConstructor">ccreghot</a> <a id="3812" href="Ledger.Conway.Specification.Certs.html#476" class="Generalizable">c</a> <a id="3814" href="Ledger.Conway.Specification.Certs.html#708" class="Generalizable">mc</a> <a id="3817" href="Ledger.Conway.Specification.Certs.html#3116" class="Datatype Operator">,GOVCERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#412}{\htmlId{3829}{\htmlClass{Generalizable}{\text{dReps}}}}\, \\ \,\href{Class.HasSingleton.html#288}{\htmlId{3837}{\htmlClass{Field Operator}{\text{❴}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#476}{\htmlId{3839}{\htmlClass{Generalizable}{\text{c}}}}\, , \,\href{Ledger.Conway.Specification.Certs.html#708}{\htmlId{3843}{\htmlClass{Generalizable}{\text{mc}}}}\, \,\href{Class.HasSingleton.html#288}{\htmlId{3846}{\htmlClass{Field Operator}{\text{❵}}}}\, \,\href{Axiom.Set.Map.html#7638}{\htmlId{3848}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#442}{\htmlId{3851}{\htmlClass{Generalizable}{\text{ccKeys}}}}\, \end{pmatrix}$</a>


<a id="3862" class="Keyword">data</a> <a id="_⊢_⇀⦇_,CERT⦈_"></a><a id="3867" href="Ledger.Conway.Specification.Certs.html#3867" class="Datatype Operator">_⊢_⇀⦇_,CERT⦈_</a>  <a id="3882" class="Symbol">:</a> <a id="3884" href="Ledger.Core.Specification.Certs.html#3697" class="Record">CertEnv</a> <a id="3892" class="Symbol">→</a> <a id="3894" href="Ledger.Core.Specification.Certs.html#4260" class="Record">CertState</a> <a id="3904" class="Symbol">→</a> <a id="3906" href="Ledger.Core.Specification.Certs.html#2224" class="Datatype">DCert</a> <a id="3912" class="Symbol">→</a> <a id="3914" href="Ledger.Core.Specification.Certs.html#4260" class="Record">CertState</a> <a id="3924" class="Symbol">→</a> <a id="3926" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3931" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,CERT⦈_.CERT-deleg"></a><a id="3940" href="Ledger.Conway.Specification.Certs.html#3940" class="InductiveConstructor">CERT-deleg</a> <a id="3951" class="Symbol">:</a>
    <a id="3957" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#929}{\htmlId{3961}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Core.Specification.Certs.html#4049}{\htmlId{3966}{\htmlClass{Field}{\text{PState.pools}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#1124}{\htmlId{3979}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{3985}{\htmlClass{Function}{\text{dom}}}}\, \,\htmlId{3989}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Core.Specification.Certs.html#4186}{\htmlId{3990}{\htmlClass{Field}{\text{GState.dreps}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#1093}{\htmlId{4003}{\htmlClass{Generalizable}{\text{stᵍ}}}}\,\,\htmlId{4006}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="4010" href="Ledger.Conway.Specification.Certs.html#1298" class="Datatype Operator">⊢</a> <a id="4012" href="Ledger.Conway.Specification.Certs.html#1062" class="Generalizable">stᵈ</a> <a id="4016" href="Ledger.Conway.Specification.Certs.html#1298" class="Datatype Operator">⇀⦇</a> <a id="4019" href="Ledger.Conway.Specification.Certs.html#1190" class="Generalizable">dCert</a> <a id="4025" href="Ledger.Conway.Specification.Certs.html#1298" class="Datatype Operator">,DELEG⦈</a> <a id="4033" href="Ledger.Conway.Specification.Certs.html#1066" class="Generalizable">stᵈ&#39;</a>
      <a id="4044" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#614}{\htmlId{4085}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#929}{\htmlId{4089}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1220}{\htmlId{4094}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1257}{\htmlId{4099}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#511}{\htmlId{4107}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="4112" href="Ledger.Conway.Specification.Certs.html#3867" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1062}{\htmlId{4116}{\htmlClass{Generalizable}{\text{stᵈ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1124}{\htmlId{4122}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1093}{\htmlId{4128}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a> <a id="4134" href="Ledger.Conway.Specification.Certs.html#3867" class="Datatype Operator">⇀⦇</a> <a id="4137" href="Ledger.Conway.Specification.Certs.html#1190" class="Generalizable">dCert</a> <a id="4143" href="Ledger.Conway.Specification.Certs.html#3867" class="Datatype Operator">,CERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1066}{\htmlId{4152}{\htmlClass{Generalizable}{\text{stᵈ&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1124}{\htmlId{4159}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1093}{\htmlId{4165}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,CERT⦈_.CERT-pool"></a><a id="4174" href="Ledger.Conway.Specification.Certs.html#4174" class="InductiveConstructor">CERT-pool</a> <a id="4184" class="Symbol">:</a>
    <a id="4190" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4192" href="Ledger.Conway.Specification.Certs.html#929" class="Generalizable">pp</a> <a id="4195" href="Ledger.Conway.Specification.Certs.html#2423" class="Datatype Operator">⊢</a> <a id="4197" href="Ledger.Conway.Specification.Certs.html#1124" class="Generalizable">stᵖ</a> <a id="4201" href="Ledger.Conway.Specification.Certs.html#2423" class="Datatype Operator">⇀⦇</a> <a id="4204" href="Ledger.Conway.Specification.Certs.html#1190" class="Generalizable">dCert</a> <a id="4210" href="Ledger.Conway.Specification.Certs.html#2423" class="Datatype Operator">,POOL⦈</a> <a id="4217" href="Ledger.Conway.Specification.Certs.html#1128" class="Generalizable">stᵖ&#39;</a>
      <a id="4228" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#614}{\htmlId{4269}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#929}{\htmlId{4273}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1220}{\htmlId{4278}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1257}{\htmlId{4283}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#511}{\htmlId{4291}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="4296" href="Ledger.Conway.Specification.Certs.html#3867" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1062}{\htmlId{4300}{\htmlClass{Generalizable}{\text{stᵈ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1124}{\htmlId{4306}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1093}{\htmlId{4312}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a> <a id="4318" href="Ledger.Conway.Specification.Certs.html#3867" class="Datatype Operator">⇀⦇</a> <a id="4321" href="Ledger.Conway.Specification.Certs.html#1190" class="Generalizable">dCert</a> <a id="4327" href="Ledger.Conway.Specification.Certs.html#3867" class="Datatype Operator">,CERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1062}{\htmlId{4336}{\htmlClass{Generalizable}{\text{stᵈ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1128}{\htmlId{4342}{\htmlClass{Generalizable}{\text{stᵖ&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1093}{\htmlId{4349}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a>

  <a id="_⊢_⇀⦇_,CERT⦈_.CERT-vdel"></a><a id="4358" href="Ledger.Conway.Specification.Certs.html#4358" class="InductiveConstructor">CERT-vdel</a> <a id="4368" class="Symbol">:</a>
    <a id="4374" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4376" href="Ledger.Conway.Specification.Certs.html#644" class="Generalizable">Γ</a> <a id="4378" href="Ledger.Conway.Specification.Certs.html#3116" class="Datatype Operator">⊢</a> <a id="4380" href="Ledger.Conway.Specification.Certs.html#1093" class="Generalizable">stᵍ</a> <a id="4384" href="Ledger.Conway.Specification.Certs.html#3116" class="Datatype Operator">⇀⦇</a> <a id="4387" href="Ledger.Conway.Specification.Certs.html#1190" class="Generalizable">dCert</a> <a id="4393" href="Ledger.Conway.Specification.Certs.html#3116" class="Datatype Operator">,GOVCERT⦈</a> <a id="4403" href="Ledger.Conway.Specification.Certs.html#1097" class="Generalizable">stᵍ&#39;</a>
      <a id="4414" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a id="4453" href="Ledger.Conway.Specification.Certs.html#644" class="Generalizable">Γ</a> <a id="4455" href="Ledger.Conway.Specification.Certs.html#3867" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1062}{\htmlId{4459}{\htmlClass{Generalizable}{\text{stᵈ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1124}{\htmlId{4465}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1093}{\htmlId{4471}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a> <a id="4477" href="Ledger.Conway.Specification.Certs.html#3867" class="Datatype Operator">⇀⦇</a> <a id="4480" href="Ledger.Conway.Specification.Certs.html#1190" class="Generalizable">dCert</a> <a id="4486" href="Ledger.Conway.Specification.Certs.html#3867" class="Datatype Operator">,CERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1062}{\htmlId{4495}{\htmlClass{Generalizable}{\text{stᵈ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1124}{\htmlId{4501}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1097}{\htmlId{4507}{\htmlClass{Generalizable}{\text{stᵍ&#39;}}}}\, \end{pmatrix}$</a>


<a id="4516" class="Keyword">open</a> <a id="4521" href="Ledger.Core.Specification.Gov.Actions.html#2289" class="Module">GovVote</a> <a id="4529" class="Keyword">using</a> <a id="4535" class="Symbol">(</a><a id="4536" href="Ledger.Core.Specification.Gov.Actions.html#2352" class="Field">voter</a><a id="4541" class="Symbol">)</a>


<a id="4545" class="Keyword">data</a> <a id="_⊢_⇀⦇_,PRE-CERT⦈_"></a><a id="4550" href="Ledger.Conway.Specification.Certs.html#4550" class="Datatype Operator">_⊢_⇀⦇_,PRE-CERT⦈_</a> <a id="4568" class="Symbol">:</a> <a id="4570" href="Ledger.Core.Specification.Certs.html#3697" class="Record">CertEnv</a> <a id="4578" class="Symbol">→</a> <a id="4580" href="Ledger.Core.Specification.Certs.html#4260" class="Record">CertState</a> <a id="4590" class="Symbol">→</a> <a id="4592" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="4594" class="Symbol">→</a> <a id="4596" href="Ledger.Core.Specification.Certs.html#4260" class="Record">CertState</a> <a id="4606" class="Symbol">→</a> <a id="4608" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4613" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,PRE-CERT⦈_.CERT-pre"></a><a id="4622" href="Ledger.Conway.Specification.Certs.html#4622" class="InductiveConstructor">CERT-pre</a> <a id="4631" class="Symbol">:</a>
    <a id="4637" class="Keyword">let</a> <a id="4641" href="Ledger.Conway.Specification.Certs.html#4641" class="Bound">refresh</a>         <a id="4657" class="Symbol">=</a> <a id="4659" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="4670" class="Symbol">(</a><a id="4671" href="Ledger.Core.Specification.Gov.Actions.html#6584" class="Function">isGovVoterDRep</a> <a id="4686" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4688" href="Ledger.Core.Specification.Gov.Actions.html#2352" class="Field">voter</a><a id="4693" class="Symbol">)</a> <a id="4695" class="Symbol">(</a><a id="4696" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="4705" href="Ledger.Conway.Specification.Certs.html#1220" class="Generalizable">vs</a><a id="4707" class="Symbol">)</a>
        <a id="4717" href="Ledger.Conway.Specification.Certs.html#4717" class="Bound">refreshedDReps</a>  <a id="4733" class="Symbol">=</a> <a id="4735" href="Axiom.Set.Map.html#13773" class="Function">mapValueRestricted</a> <a id="4754" class="Symbol">(</a><a id="4755" href="Function.Base.html#725" class="Function">const</a> <a id="4761" class="Symbol">(</a><a id="4762" href="Ledger.Conway.Specification.Certs.html#614" class="Generalizable">e</a> <a id="4764" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4766" href="Ledger.Conway.Specification.Certs.html#929" class="Generalizable">pp</a> <a id="4769" class="Symbol">.</a><a id="4770" href="Ledger.Conway.Specification.PParams.html#3444" class="Field">drepActivity</a><a id="4782" class="Symbol">))</a> <a id="4785" href="Ledger.Conway.Specification.Certs.html#412" class="Generalizable">dReps</a> <a id="4791" href="Ledger.Conway.Specification.Certs.html#4641" class="Bound">refresh</a>
        <a id="4807" href="Ledger.Conway.Specification.Certs.html#4807" class="Bound">wdrlCreds</a>       <a id="4823" class="Symbol">=</a> <a id="4825" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="4830" href="Ledger.Core.Specification.Address.html#1367" class="Field">stake</a> <a id="4836" class="Symbol">(</a><a id="4837" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4841" href="Ledger.Conway.Specification.Certs.html#1257" class="Generalizable">wdrls</a><a id="4846" class="Symbol">)</a>
    <a id="4852" class="Keyword">in</a>
    <a id="4859" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="4861" href="Ledger.Conway.Specification.Certs.html#202" class="Function">filter</a> <a id="4868" href="Ledger.Core.Specification.Address.html#697" class="Function">isKeyHash</a> <a id="4878" href="Ledger.Conway.Specification.Certs.html#4807" class="Bound">wdrlCreds</a> <a id="4888" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="4890" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4894" href="Ledger.Conway.Specification.Certs.html#1163" class="Generalizable">voteDelegs</a>
    <a id="4909" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="4911" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="4916" class="Symbol">(</a><a id="4917" href="Class.Bifunctor.html#1045" class="Function">map₁</a> <a id="4922" href="Ledger.Core.Specification.Address.html#1367" class="Field">stake</a><a id="4927" class="Symbol">)</a> <a id="4929" class="Symbol">(</a><a id="4930" href="Ledger.Conway.Specification.Certs.html#1257" class="Generalizable">wdrls</a> <a id="4936" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="4937" class="Symbol">)</a> <a id="4939" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="4941" href="Ledger.Conway.Specification.Certs.html#999" class="Generalizable">rewards</a> <a id="4949" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a>
      <a id="4957" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#614}{\htmlId{4998}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#929}{\htmlId{5002}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1220}{\htmlId{5007}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1257}{\htmlId{5012}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#511}{\htmlId{5020}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="5025" href="Ledger.Conway.Specification.Certs.html#4550" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1163}{\htmlId{5031}{\htmlClass{Generalizable}{\text{voteDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1034}{\htmlId{5044}{\htmlClass{Generalizable}{\text{stakeDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#999}{\htmlId{5058}{\htmlClass{Generalizable}{\text{rewards}}}}\, \end{pmatrix} \\ \,\href{Ledger.Conway.Specification.Certs.html#1124}{\htmlId{5070}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#412}{\htmlId{5078}{\htmlClass{Generalizable}{\text{dReps}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#449}{\htmlId{5086}{\htmlClass{Generalizable}{\text{ccHotKeys}}}}\, \end{pmatrix} \end{pmatrix}$</a> <a id="5100" href="Ledger.Conway.Specification.Certs.html#4550" class="Datatype Operator">⇀⦇</a> <a id="5103" class="Symbol">_</a> <a id="5105" href="Ledger.Conway.Specification.Certs.html#4550" class="Datatype Operator">,PRE-CERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1163}{\htmlId{5120}{\htmlClass{Generalizable}{\text{voteDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1034}{\htmlId{5133}{\htmlClass{Generalizable}{\text{stakeDelegs}}}}\, \\ \,\href{Axiom.Set.Map.html#11986}{\htmlId{5147}{\htmlClass{Function}{\text{constMap}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#4807}{\htmlId{5156}{\htmlClass{Bound}{\text{wdrlCreds}}}}\, \,\htmlId{5166}{\htmlClass{Number}{\text{0}}}\, \,\href{Axiom.Set.Map.html#7638}{\htmlId{5168}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#999}{\htmlId{5171}{\htmlClass{Generalizable}{\text{rewards}}}}\, \end{pmatrix} \\ \,\href{Ledger.Conway.Specification.Certs.html#1124}{\htmlId{5183}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#4717}{\htmlId{5191}{\htmlClass{Bound}{\text{refreshedDReps}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#449}{\htmlId{5208}{\htmlClass{Generalizable}{\text{ccHotKeys}}}}\, \end{pmatrix} \end{pmatrix}$</a>


<a id="5224" class="Keyword">data</a> <a id="_⊢_⇀⦇_,POST-CERT⦈_"></a><a id="5229" href="Ledger.Conway.Specification.Certs.html#5229" class="Datatype Operator">_⊢_⇀⦇_,POST-CERT⦈_</a> <a id="5248" class="Symbol">:</a> <a id="5250" href="Ledger.Core.Specification.Certs.html#3697" class="Record">CertEnv</a> <a id="5258" class="Symbol">→</a> <a id="5260" href="Ledger.Core.Specification.Certs.html#4260" class="Record">CertState</a> <a id="5270" class="Symbol">→</a> <a id="5272" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="5274" class="Symbol">→</a> <a id="5276" href="Ledger.Core.Specification.Certs.html#4260" class="Record">CertState</a> <a id="5286" class="Symbol">→</a> <a id="5288" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5293" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,POST-CERT⦈_.CERT-post"></a><a id="5302" href="Ledger.Conway.Specification.Certs.html#5302" class="InductiveConstructor">CERT-post</a> <a id="5312" class="Symbol">:</a>
    <a id="5318" class="Keyword">let</a> <a id="5322" href="Ledger.Conway.Specification.Certs.html#5322" class="Bound">activeVDelegs</a> <a id="5336" class="Symbol">=</a> <a id="5338" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="5343" href="Ledger.Core.Specification.Gov.Actions.html#2587" class="InductiveConstructor">vDelegCredential</a> <a id="5360" class="Symbol">(</a><a id="5361" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5365" class="Symbol">(</a><a id="5366" href="Ledger.Core.Specification.Certs.html#1572" class="Field">DRepsOf</a> <a id="5374" href="Ledger.Conway.Specification.Certs.html#1093" class="Generalizable">stᵍ</a><a id="5377" class="Symbol">))</a>
                         <a id="5405" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="5407" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="5416" class="Symbol">(</a><a id="5417" href="Ledger.Core.Specification.Gov.Actions.html#2660" class="InductiveConstructor">vDelegNoConfidence</a> <a id="5436" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5438" href="Ledger.Core.Specification.Gov.Actions.html#2630" class="InductiveConstructor">vDelegAbstain</a> <a id="5452" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5454" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="5456" class="Symbol">)</a>
    <a id="5462" class="Keyword">in</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#614}{\htmlId{5473}{\htmlClass{Generalizable}{\text{e}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#929}{\htmlId{5477}{\htmlClass{Generalizable}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1220}{\htmlId{5482}{\htmlClass{Generalizable}{\text{vs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1257}{\htmlId{5487}{\htmlClass{Generalizable}{\text{wdrls}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#511}{\htmlId{5495}{\htmlClass{Generalizable}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="5500" href="Ledger.Conway.Specification.Certs.html#5229" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1163}{\htmlId{5506}{\htmlClass{Generalizable}{\text{voteDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1034}{\htmlId{5519}{\htmlClass{Generalizable}{\text{stakeDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#999}{\htmlId{5533}{\htmlClass{Generalizable}{\text{rewards}}}}\, \end{pmatrix} \\ \,\href{Ledger.Conway.Specification.Certs.html#1124}{\htmlId{5545}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1093}{\htmlId{5551}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a> <a id="5557" href="Ledger.Conway.Specification.Certs.html#5229" class="Datatype Operator">⇀⦇</a> <a id="5560" class="Symbol">_</a> <a id="5562" href="Ledger.Conway.Specification.Certs.html#5229" class="Datatype Operator">,POST-CERT⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\href{Ledger.Conway.Specification.Certs.html#1163}{\htmlId{5578}{\htmlClass{Generalizable}{\text{voteDelegs}}}}\, \,\href{Axiom.Set.Map.html#17773}{\htmlId{5589}{\htmlClass{Function Operator}{\text{∣\^{}}}}}\, \,\href{Ledger.Conway.Specification.Certs.html#5322}{\htmlId{5592}{\htmlClass{Bound}{\text{activeVDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1034}{\htmlId{5608}{\htmlClass{Generalizable}{\text{stakeDelegs}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#999}{\htmlId{5622}{\htmlClass{Generalizable}{\text{rewards}}}}\, \end{pmatrix} \\ \,\href{Ledger.Conway.Specification.Certs.html#1124}{\htmlId{5634}{\htmlClass{Generalizable}{\text{stᵖ}}}}\, \\ \,\href{Ledger.Conway.Specification.Certs.html#1093}{\htmlId{5640}{\htmlClass{Generalizable}{\text{stᵍ}}}}\, \end{pmatrix}$</a>

<a id="_⊢_⇀⦇_,CERTS⦈_"></a><a id="5647" href="Ledger.Conway.Specification.Certs.html#5647" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a>  <a id="5663" class="Symbol">:</a> <a id="5665" href="Ledger.Core.Specification.Certs.html#3697" class="Record">CertEnv</a> <a id="5673" class="Symbol">→</a> <a id="5675" href="Ledger.Core.Specification.Certs.html#4260" class="Record">CertState</a>  <a id="5686" class="Symbol">→</a> <a id="5688" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5693" href="Ledger.Core.Specification.Certs.html#2224" class="Datatype">DCert</a>  <a id="5700" class="Symbol">→</a> <a id="5702" href="Ledger.Core.Specification.Certs.html#4260" class="Record">CertState</a>  <a id="5713" class="Symbol">→</a> <a id="5715" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="5720" href="Ledger.Conway.Specification.Certs.html#5647" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a> <a id="5735" class="Symbol">=</a> <a id="5737" href="Interface.STS.html#600" class="Datatype">RunTraceAfterAndThen</a> <a id="5758" href="Ledger.Conway.Specification.Certs.html#4550" class="Datatype Operator">_⊢_⇀⦇_,PRE-CERT⦈_</a> <a id="5776" href="Ledger.Conway.Specification.Certs.html#3867" class="Datatype Operator">_⊢_⇀⦇_,CERT⦈_</a> <a id="5790" href="Ledger.Conway.Specification.Certs.html#5229" class="Datatype Operator">_⊢_⇀⦇_,POST-CERT⦈_</a>

</pre></body></html>