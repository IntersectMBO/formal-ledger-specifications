<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Ratify</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">import</a> <a id="33" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="46" class="Symbol">as</a> <a id="49" class="Module">ℤ</a>
<a id="51" class="Keyword">open</a> <a id="56" class="Keyword">import</a> <a id="63" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="77" class="Symbol">as</a> <a id="80" class="Module">ℚ</a> <a id="82" class="Keyword">using</a> <a id="88" class="Symbol">(</a><a id="89" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="90" class="Symbol">;</a> <a id="92" href="Data.Rational.Base.html#4325" class="Function">0ℚ</a><a id="94" class="Symbol">;</a> <a id="96" href="Data.Rational.Base.html#6776" class="Function Operator">_⊔_</a><a id="99" class="Symbol">)</a>
<a id="101" class="Keyword">open</a> <a id="106" class="Keyword">import</a> <a id="113" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="133" class="Keyword">hiding</a> <a id="140" class="Symbol">(</a><a id="141" href="Data.Nat.Properties.html#3874" class="Function Operator">_≟_</a><a id="144" class="Symbol">;</a> <a id="146" href="Data.Nat.Properties.html#6709" class="Function Operator">_≤?_</a><a id="150" class="Symbol">)</a>

<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="180" class="Keyword">hiding</a> <a id="187" class="Symbol">(</a><a id="188" href="Data.Bool.Base.html#995" class="Function Operator">_∧_</a><a id="191" class="Symbol">;</a> <a id="193" href="Data.Nat.Base.html#5485" class="Function Operator">_⊔_</a><a id="196" class="Symbol">)</a> <a id="198" class="Keyword">renaming</a> <a id="207" class="Symbol">(</a><a id="208" href="abstract-set-theory.FiniteSetTheory.html#2895" class="Function">filterᵐ</a> <a id="216" class="Symbol">to</a> <a id="219" class="Function">filter</a><a id="225" class="Symbol">;</a> <a id="227" href="Ledger.Prelude.html#2410" class="Function Operator">∣_∣</a> <a id="231" class="Symbol">to</a> <a id="234" class="Function Operator">_↓</a><a id="236" class="Symbol">)</a>
<a id="238" class="Keyword">open</a> <a id="243" class="Keyword">import</a> <a id="250" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a> <a id="269" class="Keyword">hiding</a> <a id="276" class="Symbol">(</a><a id="277" href="Ledger.Transaction.html#770" class="InductiveConstructor">Vote</a><a id="281" class="Symbol">)</a>

<a id="284" class="Keyword">module</a> <a id="291" href="Ledger.Ratify.html" class="Module">Ledger.Ratify</a> <a id="305" class="Symbol">(</a><a id="306" href="Ledger.Ratify.html#306" class="Bound">txs</a> <a id="310" class="Symbol">:</a> <a id="312" class="Symbol">_)</a> <a id="315" class="Symbol">(</a><a id="316" class="Keyword">open</a> <a id="321" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="342" href="Ledger.Ratify.html#306" class="Bound">txs</a><a id="345" class="Symbol">)</a> <a id="347" class="Keyword">where</a>

<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="379" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="392" class="Keyword">open</a> <a id="397" class="Keyword">import</a> <a id="404" href="Ledger.Enact.html" class="Module">Ledger.Enact</a> <a id="417" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="430" class="Keyword">open</a> <a id="435" class="Keyword">import</a> <a id="442" href="Ledger.GovernanceActions.html" class="Module">Ledger.GovernanceActions</a> <a id="467" href="Ledger.Transaction.html#1809" class="Function">govStructure</a> <a id="480" class="Keyword">using</a> <a id="486" class="Symbol">(</a><a id="487" href="Ledger.GovernanceActions.html#2328" class="Datatype">Vote</a><a id="491" class="Symbol">)</a>

<a id="494" class="Keyword">infixr</a> <a id="501" class="Number">2</a> <a id="503" href="Ledger.Ratify.html#507" class="Function Operator">_∧_</a>
<a id="_∧_"></a><a id="507" href="Ledger.Ratify.html#507" class="Function Operator">_∧_</a> <a id="511" class="Symbol">=</a> <a id="513" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a>

<a id="518" class="Keyword">instance</a>
  <a id="529" href="Ledger.Ratify.html#529" class="Function">_</a> <a id="531" class="Symbol">=</a> <a id="533" href="Data.Nat.Properties.html#17331" class="Function">+-0-commutativeMonoid</a>


<a id="557" class="Keyword">private</a>
  <a id="∣_∣_∣_∣"></a><a id="567" href="Ledger.Ratify.html#567" class="Function Operator">∣_∣_∣_∣</a> <a id="575" class="Symbol">:</a> <a id="577" class="Symbol">{</a><a id="578" href="Ledger.Ratify.html#578" class="Bound">A</a> <a id="580" class="Symbol">:</a> <a id="582" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="586" class="Symbol">}</a> <a id="588" class="Symbol">→</a> <a id="590" href="Ledger.Ratify.html#578" class="Bound">A</a> <a id="592" class="Symbol">→</a> <a id="594" href="Ledger.Ratify.html#578" class="Bound">A</a> <a id="596" class="Symbol">→</a> <a id="598" href="Ledger.Ratify.html#578" class="Bound">A</a> <a id="600" class="Symbol">→</a> <a id="602" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="610" class="Symbol">→</a> <a id="612" href="Ledger.Ratify.html#578" class="Bound">A</a>
  <a id="616" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="618" href="Ledger.Ratify.html#618" class="Bound">q₁</a> <a id="621" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="623" href="Ledger.Ratify.html#623" class="Bound">q₂</a> <a id="626" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="628" href="Ledger.Ratify.html#628" class="Bound">q₃</a> <a id="631" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="633" class="Symbol">=</a> <a id="635" class="Symbol">λ</a> <a id="637" class="Symbol">{</a> <a id="639" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="642" class="Symbol">→</a> <a id="644" href="Ledger.Ratify.html#618" class="Bound">q₁</a> <a id="647" class="Symbol">;</a> <a id="649" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a> <a id="654" class="Symbol">→</a> <a id="656" href="Ledger.Ratify.html#623" class="Bound">q₂</a> <a id="659" class="Symbol">;</a> <a id="661" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a> <a id="665" class="Symbol">→</a> <a id="667" href="Ledger.Ratify.html#628" class="Bound">q₃</a> <a id="670" class="Symbol">}</a>

  <a id="∣_∥_∣"></a><a id="675" href="Ledger.Ratify.html#675" class="Function Operator">∣_∥_∣</a> <a id="681" class="Symbol">:</a> <a id="683" class="Symbol">{</a><a id="684" href="Ledger.Ratify.html#684" class="Bound">A</a> <a id="686" class="Symbol">:</a> <a id="688" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="692" class="Symbol">}</a> <a id="694" class="Symbol">→</a> <a id="696" href="Ledger.Ratify.html#684" class="Bound">A</a> <a id="698" class="Symbol">→</a> <a id="700" href="Ledger.Ratify.html#684" class="Bound">A</a> <a id="702" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="704" href="Ledger.Ratify.html#684" class="Bound">A</a> <a id="706" class="Symbol">→</a> <a id="708" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="716" class="Symbol">→</a> <a id="718" href="Ledger.Ratify.html#684" class="Bound">A</a>
  <a id="722" href="Ledger.Ratify.html#675" class="Function Operator">∣</a> <a id="724" href="Ledger.Ratify.html#724" class="Bound">q₁</a> <a id="727" href="Ledger.Ratify.html#675" class="Function Operator">∥</a> <a id="729" class="Symbol">(</a><a id="730" href="Ledger.Ratify.html#730" class="Bound">q₂</a> <a id="733" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="735" href="Ledger.Ratify.html#735" class="Bound">q₃</a><a id="737" class="Symbol">)</a> <a id="739" href="Ledger.Ratify.html#675" class="Function Operator">∣</a> <a id="741" class="Symbol">=</a> <a id="743" class="Symbol">λ</a> <a id="745" class="Symbol">{</a> <a id="747" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="750" class="Symbol">→</a> <a id="752" href="Ledger.Ratify.html#724" class="Bound">q₁</a> <a id="755" class="Symbol">;</a> <a id="757" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a> <a id="762" class="Symbol">→</a> <a id="764" href="Ledger.Ratify.html#730" class="Bound">q₂</a> <a id="767" class="Symbol">;</a> <a id="769" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a> <a id="773" class="Symbol">→</a> <a id="775" href="Ledger.Ratify.html#735" class="Bound">q₃</a> <a id="778" class="Symbol">}</a>

<a id="vote"></a><a id="781" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="786" class="Symbol">:</a> <a id="788" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="790" class="Symbol">→</a> <a id="792" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="798" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="800" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="805" class="Symbol">=</a> <a id="807" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a>

<a id="defer"></a><a id="813" href="Ledger.Ratify.html#813" class="Function">defer</a> <a id="819" class="Symbol">:</a> <a id="821" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="823" href="Ledger.Ratify.html#813" class="Function">defer</a> <a id="829" class="Symbol">=</a> <a id="831" href="Data.Rational.Base.html#4346" class="Function">ℚ.1ℚ</a> <a id="836" href="Data.Rational.Base.html#6206" class="Function Operator">ℚ.+</a> <a id="840" href="Data.Rational.Base.html#4346" class="Function">ℚ.1ℚ</a>

<a id="maxThreshold"></a><a id="846" href="Ledger.Ratify.html#846" class="Function">maxThreshold</a> <a id="859" class="Symbol">:</a> <a id="861" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="863" class="Symbol">(</a><a id="864" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="870" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="871" class="Symbol">)</a> <a id="873" class="Symbol">→</a> <a id="875" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="881" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="883" href="Ledger.Ratify.html#846" class="Function">maxThreshold</a> <a id="896" href="Ledger.Ratify.html#896" class="Bound">x</a> <a id="898" class="Symbol">=</a> <a id="900" href="Data.List.Base.html#4249" class="Function">foldl</a> <a id="906" href="Ledger.Ratify.html#954" class="Function">comb</a> <a id="911" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="919" class="Symbol">(</a><a id="920" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="926" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="928" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="939" href="Ledger.Ratify.html#896" class="Bound">x</a><a id="940" class="Symbol">)</a>
  <a id="944" class="Keyword">where</a>
    <a id="954" href="Ledger.Ratify.html#954" class="Function">comb</a> <a id="959" class="Symbol">:</a> <a id="961" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="967" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="969" class="Symbol">→</a> <a id="971" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="977" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="979" class="Symbol">→</a> <a id="981" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="987" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
    <a id="993" href="Ledger.Ratify.html#954" class="Function">comb</a> <a id="998" class="Symbol">(</a><a id="999" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1004" href="Ledger.Ratify.html#1004" class="Bound">x</a><a id="1005" class="Symbol">)</a> <a id="1007" class="Symbol">(</a><a id="1008" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1013" href="Ledger.Ratify.html#1013" class="Bound">y</a><a id="1014" class="Symbol">)</a> <a id="1016" class="Symbol">=</a> <a id="1018" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1023" class="Symbol">(</a><a id="1024" href="Ledger.Ratify.html#1004" class="Bound">x</a> <a id="1026" href="Data.Rational.Base.html#6776" class="Function Operator">⊔</a> <a id="1028" href="Ledger.Ratify.html#1013" class="Bound">y</a><a id="1029" class="Symbol">)</a>
    <a id="1035" href="Ledger.Ratify.html#954" class="Function">comb</a> <a id="1040" class="Symbol">(</a><a id="1041" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1046" href="Ledger.Ratify.html#1046" class="Bound">x</a><a id="1047" class="Symbol">)</a> <a id="1049" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="1058" class="Symbol">=</a> <a id="1060" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1065" href="Ledger.Ratify.html#1046" class="Bound">x</a>
    <a id="1071" href="Ledger.Ratify.html#954" class="Function">comb</a> <a id="1076" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="1085" class="Symbol">(</a><a id="1086" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1091" href="Ledger.Ratify.html#1091" class="Bound">y</a><a id="1092" class="Symbol">)</a> <a id="1094" class="Symbol">=</a> <a id="1096" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1101" href="Ledger.Ratify.html#1091" class="Bound">y</a>
    <a id="1107" href="Ledger.Ratify.html#954" class="Function">comb</a> <a id="1112" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="1121" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="1130" class="Symbol">=</a> <a id="1132" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="─"></a><a id="1141" href="Ledger.Ratify.html#1141" class="Function">─</a> <a id="1143" class="Symbol">:</a> <a id="1145" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1151" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="1153" href="Ledger.Ratify.html#1141" class="Function">─</a> <a id="1155" class="Symbol">=</a> <a id="1157" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="✓†"></a><a id="1165" href="Ledger.Ratify.html#1165" class="Function">✓†</a> <a id="1168" class="Symbol">=</a> <a id="1170" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="1175" href="Ledger.Ratify.html#813" class="Function">defer</a>


<a id="threshold"></a><a id="1183" href="Ledger.Ratify.html#1183" class="Function">threshold</a> <a id="1193" class="Symbol">:</a> <a id="1195" href="Ledger.PParams.html#1570" class="Record">PParams</a> <a id="1203" class="Symbol">→</a> <a id="1205" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1211" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="1213" class="Symbol">→</a> <a id="1215" href="Ledger.GovernanceActions.html#1372" class="Record">GovAction</a> <a id="1225" class="Symbol">→</a> <a id="1227" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="1235" class="Symbol">→</a> <a id="1237" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1243" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="1245" href="Ledger.Ratify.html#1183" class="Function">threshold</a> <a id="1255" href="Ledger.Ratify.html#1255" class="Bound">pp</a> <a id="1258" href="Ledger.Ratify.html#1258" class="Bound">ccThreshold</a> <a id="1270" href="Ledger.Ratify.html#1270" class="Bound">ga</a> <a id="1273" class="Symbol">=</a>
  <a id="1277" href="Function.Base.html#4042" class="Function Operator">case</a>  <a id="1283" href="Ledger.Ratify.html#1270" class="Bound">ga</a> <a id="1286" href="Ledger.Ratify.html#234" class="Function Operator">↓</a> <a id="1288" href="Function.Base.html#4042" class="Function Operator">of</a>


        <a id="1301" class="Symbol">λ</a> <a id="1303" class="Keyword">where</a>


        <a id="1319" class="Symbol">(</a><a id="1320" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>     <a id="1337" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1339" class="Symbol">_)</a> <a id="1342" class="Symbol">→</a> <a id="1344" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1346" href="Ledger.Ratify.html#1141" class="Function">─</a>   <a id="1350" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1352" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="1357" href="Ledger.PParams.html#1452" class="Function">P1</a>      <a id="1365" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1367" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="1372" href="Ledger.PParams.html#1540" class="Function">Q1</a>  <a id="1376" href="Ledger.Ratify.html#567" class="Function Operator">∣</a>
        <a id="1386" class="Symbol">(</a><a id="1387" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a>  <a id="1404" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1406" class="Symbol">_)</a> <a id="1409" class="Symbol">→</a> <a id="1411" href="Ledger.Ratify.html#675" class="Function Operator">∣</a> <a id="1413" href="Ledger.Ratify.html#1141" class="Function">─</a>   <a id="1417" href="Ledger.Ratify.html#675" class="Function Operator">∥</a> <a id="1419" href="Ledger.Ratify.html#1967" class="Function">P/Q2a/b</a>                 <a id="1443" href="Ledger.Ratify.html#675" class="Function Operator">∣</a>
        <a id="1453" class="Symbol">(</a><a id="1454" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a>  <a id="1471" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1473" class="Symbol">_)</a> <a id="1476" class="Symbol">→</a> <a id="1478" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1480" href="Ledger.Ratify.html#1925" class="Function">✓</a>   <a id="1484" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1486" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="1491" href="Ledger.PParams.html#1463" class="Function">P3</a>      <a id="1499" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1501" href="Ledger.Ratify.html#1141" class="Function">─</a>        <a id="1510" href="Ledger.Ratify.html#567" class="Function Operator">∣</a>
        <a id="1520" class="Symbol">(</a><a id="1521" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>        <a id="1538" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1540" class="Symbol">_)</a> <a id="1543" class="Symbol">→</a> <a id="1545" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1547" href="Ledger.Ratify.html#1925" class="Function">✓</a>   <a id="1551" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1553" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="1558" href="Ledger.PParams.html#1466" class="Function">P4</a>      <a id="1566" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1568" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="1573" href="Ledger.PParams.html#1551" class="Function">Q4</a>  <a id="1577" href="Ledger.Ratify.html#567" class="Function Operator">∣</a>
        <a id="1587" class="Symbol">(</a><a id="1588" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>    <a id="1605" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1607" href="Ledger.Ratify.html#1607" class="Bound">x</a><a id="1608" class="Symbol">)</a> <a id="1610" class="Symbol">→</a> <a id="1612" href="Ledger.Ratify.html#675" class="Function Operator">∣</a> <a id="1614" href="Ledger.Ratify.html#1925" class="Function">✓</a>   <a id="1618" href="Ledger.Ratify.html#675" class="Function Operator">∥</a> <a id="1620" href="Ledger.Ratify.html#2592" class="Function">P/Q5</a> <a id="1625" href="Ledger.Ratify.html#1607" class="Bound">x</a>                  <a id="1644" href="Ledger.Ratify.html#675" class="Function Operator">∣</a>
        <a id="1654" class="Symbol">(</a><a id="1655" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>     <a id="1672" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1674" class="Symbol">_)</a> <a id="1677" class="Symbol">→</a> <a id="1679" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1681" href="Ledger.Ratify.html#1925" class="Function">✓</a>   <a id="1685" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1687" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="1692" href="Ledger.PParams.html#1485" class="Function">P6</a>      <a id="1700" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1702" href="Ledger.Ratify.html#1141" class="Function">─</a>        <a id="1711" href="Ledger.Ratify.html#567" class="Function Operator">∣</a>
        <a id="1721" class="Symbol">(</a><a id="1722" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>             <a id="1739" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1741" class="Symbol">_)</a> <a id="1744" class="Symbol">→</a> <a id="1746" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1748" href="Ledger.Ratify.html#1165" class="Function">✓†</a>  <a id="1752" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1754" href="Ledger.Ratify.html#1165" class="Function">✓†</a>           <a id="1767" href="Ledger.Ratify.html#567" class="Function Operator">∣</a> <a id="1769" href="Ledger.Ratify.html#1165" class="Function">✓†</a>       <a id="1778" href="Ledger.Ratify.html#567" class="Function Operator">∣</a>
          <a id="1790" class="Keyword">where</a>


          <a id="1808" class="Keyword">open</a> <a id="1813" href="Ledger.PParams.html#1570" class="Module">PParams</a> <a id="1821" href="Ledger.Ratify.html#1255" class="Bound">pp</a>
          <a id="1834" class="Keyword">open</a> <a id="1839" href="Ledger.PParams.html#1412" class="Module">DrepThresholds</a> <a id="1854" href="Ledger.PParams.html#3055" class="Function">drepThresholds</a>
          <a id="1879" class="Keyword">open</a> <a id="1884" href="Ledger.PParams.html#1500" class="Module">PoolThresholds</a> <a id="1899" href="Ledger.PParams.html#3000" class="Function">poolThresholds</a>

          <a id="1925" href="Ledger.Ratify.html#1925" class="Function">✓</a> <a id="1927" class="Symbol">=</a> <a id="1929" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="1935" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1940" href="Ledger.Ratify.html#1165" class="Function">✓†</a> <a id="1943" href="Ledger.Ratify.html#1258" class="Bound">ccThreshold</a>


          <a id="1967" href="Ledger.Ratify.html#1967" class="Function">P/Q2a/b</a> <a id="1975" class="Symbol">:</a> <a id="1977" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1983" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="1985" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1987" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1993" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
          <a id="2005" href="Ledger.Ratify.html#1967" class="Function">P/Q2a/b</a> <a id="2013" class="Symbol">=</a>  <a id="2016" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2021" href="Ledger.Ratify.html#1258" class="Bound">ccThreshold</a> <a id="2033" href="Function.Base.html#4042" class="Function Operator">of</a>


            <a id="2050" class="Symbol">λ</a> <a id="2052" class="Keyword">where</a>


                     <a id="2081" class="Symbol">(</a><a id="2082" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2087" class="Symbol">_)</a>  <a id="2091" class="Symbol">→</a> <a id="2093" class="Symbol">(</a><a id="2094" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="2099" href="Ledger.PParams.html#1455" class="Function">P2a</a> <a id="2103" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2105" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="2110" href="Ledger.PParams.html#1543" class="Function">Q2a</a><a id="2113" class="Symbol">)</a>
                     <a id="2136" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>   <a id="2146" class="Symbol">→</a> <a id="2148" class="Symbol">(</a><a id="2149" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="2154" href="Ledger.PParams.html#1459" class="Function">P2b</a> <a id="2158" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2160" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="2165" href="Ledger.PParams.html#1547" class="Function">Q2b</a><a id="2168" class="Symbol">)</a>

          <a id="2181" href="Ledger.Ratify.html#2181" class="Function">pparamThreshold</a> <a id="2197" class="Symbol">:</a> <a id="2199" href="Ledger.PParams.html#1213" class="Datatype">PParamGroup</a> <a id="2211" class="Symbol">→</a> <a id="2213" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2219" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="2221" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2223" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2229" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
          <a id="2241" href="Ledger.Ratify.html#2181" class="Function">pparamThreshold</a> <a id="2257" href="Ledger.PParams.html#1240" class="InductiveConstructor">NetworkGroup</a>     <a id="2274" class="Symbol">=</a> <a id="2276" class="Symbol">(</a><a id="2277" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="2282" href="Ledger.PParams.html#1469" class="Function">P5a</a>  <a id="2287" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2289" href="Ledger.Ratify.html#1141" class="Function">─</a>         <a id="2299" class="Symbol">)</a>
          <a id="2311" href="Ledger.Ratify.html#2181" class="Function">pparamThreshold</a> <a id="2327" href="Ledger.PParams.html#1273" class="InductiveConstructor">EconomicGroup</a>    <a id="2344" class="Symbol">=</a> <a id="2346" class="Symbol">(</a><a id="2347" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="2352" href="Ledger.PParams.html#1473" class="Function">P5b</a>  <a id="2357" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2359" href="Ledger.Ratify.html#1141" class="Function">─</a>         <a id="2369" class="Symbol">)</a>
          <a id="2381" href="Ledger.Ratify.html#2181" class="Function">pparamThreshold</a> <a id="2397" href="Ledger.PParams.html#1306" class="InductiveConstructor">TechnicalGroup</a>   <a id="2414" class="Symbol">=</a> <a id="2416" class="Symbol">(</a><a id="2417" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="2422" href="Ledger.PParams.html#1477" class="Function">P5c</a>  <a id="2427" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2429" href="Ledger.Ratify.html#1141" class="Function">─</a>         <a id="2439" class="Symbol">)</a>
          <a id="2451" href="Ledger.Ratify.html#2181" class="Function">pparamThreshold</a> <a id="2467" href="Ledger.PParams.html#1339" class="InductiveConstructor">GovernanceGroup</a>  <a id="2484" class="Symbol">=</a> <a id="2486" class="Symbol">(</a><a id="2487" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="2492" href="Ledger.PParams.html#1481" class="Function">P5d</a>  <a id="2497" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2499" href="Ledger.Ratify.html#1141" class="Function">─</a>         <a id="2509" class="Symbol">)</a>
          <a id="2521" href="Ledger.Ratify.html#2181" class="Function">pparamThreshold</a> <a id="2537" href="Ledger.PParams.html#1372" class="InductiveConstructor">SecurityGroup</a>    <a id="2554" class="Symbol">=</a> <a id="2556" class="Symbol">(</a><a id="2557" href="Ledger.Ratify.html#1141" class="Function">─</a>         <a id="2567" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2569" href="Ledger.Ratify.html#781" class="Function">vote</a> <a id="2574" href="Ledger.PParams.html#1554" class="Function">Q5</a>   <a id="2579" class="Symbol">)</a>

          <a id="2592" href="Ledger.Ratify.html#2592" class="Function">P/Q5</a> <a id="2597" class="Symbol">:</a> <a id="2599" href="Ledger.PParams.html#14522" class="Function">PParamsUpdate</a> <a id="2613" class="Symbol">→</a> <a id="2615" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2621" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="2623" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2625" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2631" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
          <a id="2643" href="Ledger.Ratify.html#2592" class="Function">P/Q5</a> <a id="2648" href="Ledger.Ratify.html#2648" class="Bound">ppu</a> <a id="2652" class="Symbol">=</a> <a id="2654" href="Ledger.Ratify.html#846" class="Function">maxThreshold</a> <a id="2667" class="Symbol">(</a><a id="2668" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2673" class="Symbol">(</a><a id="2674" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2680" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2682" href="Ledger.Ratify.html#2181" class="Function">pparamThreshold</a><a id="2697" class="Symbol">)</a> <a id="2699" class="Symbol">(</a><a id="2700" href="Ledger.PParams.html#14134" class="Function">updateGroups</a> <a id="2713" href="Ledger.Ratify.html#2648" class="Bound">ppu</a><a id="2716" class="Symbol">))</a>
                   <a id="2738" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2740" href="Ledger.Ratify.html#846" class="Function">maxThreshold</a> <a id="2753" class="Symbol">(</a><a id="2754" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2759" class="Symbol">(</a><a id="2760" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2766" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2768" href="Ledger.Ratify.html#2181" class="Function">pparamThreshold</a><a id="2783" class="Symbol">)</a> <a id="2785" class="Symbol">(</a><a id="2786" href="Ledger.PParams.html#14134" class="Function">updateGroups</a> <a id="2799" href="Ledger.Ratify.html#2648" class="Bound">ppu</a><a id="2802" class="Symbol">))</a>

<a id="canVote"></a><a id="2806" href="Ledger.Ratify.html#2806" class="Function">canVote</a> <a id="2814" class="Symbol">:</a> <a id="2816" href="Ledger.PParams.html#1570" class="Record">PParams</a> <a id="2824" class="Symbol">→</a> <a id="2826" href="Ledger.GovernanceActions.html#1372" class="Record">GovAction</a> <a id="2836" class="Symbol">→</a> <a id="2838" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="2846" class="Symbol">→</a> <a id="2848" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="2853" href="Ledger.Ratify.html#2806" class="Function">canVote</a> <a id="2861" href="Ledger.Ratify.html#2861" class="Bound">pp</a> <a id="2864" href="Ledger.Ratify.html#2864" class="Bound">a</a> <a id="2866" href="Ledger.Ratify.html#2866" class="Bound">r</a> <a id="2868" class="Symbol">=</a> <a id="2870" href="Data.Maybe.html#845" class="Function">Is-just</a> <a id="2878" class="Symbol">(</a><a id="2879" href="Ledger.Ratify.html#1183" class="Function">threshold</a> <a id="2889" href="Ledger.Ratify.html#2861" class="Bound">pp</a> <a id="2892" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2900" href="Ledger.Ratify.html#2864" class="Bound">a</a> <a id="2902" href="Ledger.Ratify.html#2866" class="Bound">r</a><a id="2903" class="Symbol">)</a>


<a id="2907" class="Keyword">record</a> <a id="StakeDistrs"></a><a id="2914" href="Ledger.Ratify.html#2914" class="Record">StakeDistrs</a> <a id="2926" class="Symbol">:</a> <a id="2928" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2933" class="Keyword">where</a>
  <a id="2941" class="Keyword">field</a>
    <a id="StakeDistrs.stakeDistr"></a><a id="2951" href="Ledger.Ratify.html#2951" class="Field">stakeDistr</a>  <a id="2963" class="Symbol">:</a> <a id="2965" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="2972" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2974" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>

<a id="2980" class="Keyword">record</a> <a id="RatifyEnv"></a><a id="2987" href="Ledger.Ratify.html#2987" class="Record">RatifyEnv</a> <a id="2997" class="Symbol">:</a> <a id="2999" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3004" class="Keyword">where</a>
  <a id="3012" class="Keyword">field</a>
    <a id="RatifyEnv.stakeDistrs"></a><a id="3022" href="Ledger.Ratify.html#3022" class="Field">stakeDistrs</a>   <a id="3036" class="Symbol">:</a> <a id="3038" href="Ledger.Ratify.html#2914" class="Record">StakeDistrs</a>
    <a id="RatifyEnv.currentEpoch"></a><a id="3054" href="Ledger.Ratify.html#3054" class="Field">currentEpoch</a>  <a id="3068" class="Symbol">:</a> <a id="3070" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>
    <a id="RatifyEnv.dreps"></a><a id="3080" href="Ledger.Ratify.html#3080" class="Field">dreps</a>         <a id="3094" class="Symbol">:</a> <a id="3096" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3107" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3109" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>
    <a id="RatifyEnv.ccHotKeys"></a><a id="3119" href="Ledger.Ratify.html#3119" class="Field">ccHotKeys</a>     <a id="3133" class="Symbol">:</a> <a id="3135" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3146" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3148" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3154" href="Ledger.Address.html#273" class="Datatype">Credential</a>
    <a id="RatifyEnv.treasury"></a><a id="3169" href="Ledger.Ratify.html#3169" class="Field">treasury</a>      <a id="3183" class="Symbol">:</a> <a id="3185" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="RatifyEnv.pools"></a><a id="3194" href="Ledger.Ratify.html#3194" class="Field">pools</a>         <a id="3208" class="Symbol">:</a> <a id="3210" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a> <a id="3218" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3220" href="Ledger.Certs.html#1131" class="Record">PoolParams</a>
    <a id="RatifyEnv.delegatees"></a><a id="3235" href="Ledger.Ratify.html#3235" class="Field">delegatees</a>    <a id="3249" class="Symbol">:</a> <a id="3251" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3262" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3264" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a>

<a id="3272" class="Keyword">record</a> <a id="RatifyState"></a><a id="3279" href="Ledger.Ratify.html#3279" class="Record">RatifyState</a> <a id="3291" class="Symbol">:</a> <a id="3293" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3298" class="Keyword">where</a>
  <a id="3306" class="Keyword">field</a>
    <a id="RatifyState.es"></a><a id="3316" href="Ledger.Ratify.html#3316" class="Field">es</a>              <a id="3332" class="Symbol">:</a> <a id="3334" href="Ledger.Enact.html#397" class="Record">EnactState</a>
    <a id="RatifyState.removed"></a><a id="3349" href="Ledger.Ratify.html#3349" class="Field">removed</a>         <a id="3365" class="Symbol">:</a> <a id="3367" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3369" class="Symbol">(</a><a id="3370" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="3382" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3384" href="Ledger.GovernanceActions.html#2746" class="Record">GovActionState</a><a id="3398" class="Symbol">)</a>
    <a id="RatifyState.delay"></a><a id="3404" href="Ledger.Ratify.html#3404" class="Field">delay</a>           <a id="3420" class="Symbol">:</a> <a id="3422" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>


<a id="3429" class="Keyword">record</a> <a id="HasRatifyState"></a><a id="3436" href="Ledger.Ratify.html#3436" class="Record">HasRatifyState</a> <a id="3451" class="Symbol">{</a><a id="3452" href="Ledger.Ratify.html#3452" class="Bound">a</a><a id="3453" class="Symbol">}</a> <a id="3455" class="Symbol">(</a><a id="3456" href="Ledger.Ratify.html#3456" class="Bound">A</a> <a id="3458" class="Symbol">:</a> <a id="3460" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3465" href="Ledger.Ratify.html#3452" class="Bound">a</a><a id="3466" class="Symbol">)</a> <a id="3468" class="Symbol">:</a> <a id="3470" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3475" href="Ledger.Ratify.html#3452" class="Bound">a</a> <a id="3477" class="Keyword">where</a>
  <a id="3485" class="Keyword">field</a> <a id="HasRatifyState.RatifyStateOf"></a><a id="3491" href="Ledger.Ratify.html#3491" class="Field">RatifyStateOf</a> <a id="3505" class="Symbol">:</a> <a id="3507" href="Ledger.Ratify.html#3456" class="Bound">A</a> <a id="3509" class="Symbol">→</a> <a id="3511" href="Ledger.Ratify.html#3279" class="Record">RatifyState</a>
<a id="3523" class="Keyword">open</a> <a id="3528" href="Ledger.Ratify.html#3436" class="Module">HasRatifyState</a> <a id="3543" class="Symbol">⦃...⦄</a> <a id="3549" class="Keyword">public</a>

<a id="3557" class="Keyword">instance</a>
  <a id="HasEnactState-RatifyState"></a><a id="3568" href="Ledger.Ratify.html#3568" class="Function">HasEnactState-RatifyState</a> <a id="3594" class="Symbol">:</a> <a id="3596" href="Ledger.Enact.html#689" class="Record">HasEnactState</a> <a id="3610" href="Ledger.Ratify.html#3279" class="Record">RatifyState</a>
  <a id="3624" href="Ledger.Ratify.html#3568" class="Function">HasEnactState-RatifyState</a> <a id="3650" class="Symbol">.</a><a id="3651" href="Ledger.Enact.html#743" class="Field">EnactStateOf</a> <a id="3664" class="Symbol">=</a> <a id="3666" href="Ledger.Ratify.html#3316" class="Field">RatifyState.es</a>



<a id="CCData"></a><a id="3684" href="Ledger.Ratify.html#3684" class="Function">CCData</a> <a id="3691" class="Symbol">:</a> <a id="3693" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="3698" href="Ledger.Ratify.html#3684" class="Function">CCData</a> <a id="3705" class="Symbol">=</a> <a id="3707" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3713" class="Symbol">((</a><a id="3715" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3726" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3728" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a><a id="3733" class="Symbol">)</a> <a id="3735" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3737" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="3738" class="Symbol">)</a>

<a id="govRole"></a><a id="3741" href="Ledger.Ratify.html#3741" class="Function">govRole</a> <a id="3749" class="Symbol">:</a> <a id="3751" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="3758" class="Symbol">→</a> <a id="3760" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a>
<a id="3768" href="Ledger.Ratify.html#3741" class="Function">govRole</a> <a id="3776" class="Symbol">(</a><a id="3777" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="3787" href="Ledger.Ratify.html#3787" class="Bound">gv</a> <a id="3790" class="Symbol">_)</a>  <a id="3794" class="Symbol">=</a> <a id="3796" href="Ledger.Ratify.html#3787" class="Bound">gv</a>
<a id="3799" href="Ledger.Ratify.html#3741" class="Function">govRole</a> <a id="3807" href="Ledger.GovernanceActions.html#532" class="InductiveConstructor">abstainRep</a>        <a id="3825" class="Symbol">=</a> <a id="3827" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>
<a id="3832" href="Ledger.Ratify.html#3741" class="Function">govRole</a> <a id="3840" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a>   <a id="3858" class="Symbol">=</a> <a id="3860" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>

<a id="IsCC"></a><a id="3866" href="Ledger.Ratify.html#3866" class="Function">IsCC</a> <a id="IsDRep"></a><a id="3871" href="Ledger.Ratify.html#3871" class="Function">IsDRep</a> <a id="IsSPO"></a><a id="3878" href="Ledger.Ratify.html#3878" class="Function">IsSPO</a> <a id="3884" class="Symbol">:</a> <a id="3886" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="3893" class="Symbol">→</a> <a id="3895" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="3900" href="Ledger.Ratify.html#3866" class="Function">IsCC</a>    <a id="3908" href="Ledger.Ratify.html#3908" class="Bound">v</a> <a id="3910" class="Symbol">=</a> <a id="3912" href="Ledger.Ratify.html#3741" class="Function">govRole</a> <a id="3920" href="Ledger.Ratify.html#3908" class="Bound">v</a> <a id="3922" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3924" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a>
<a id="3927" href="Ledger.Ratify.html#3871" class="Function">IsDRep</a>  <a id="3935" href="Ledger.Ratify.html#3935" class="Bound">v</a> <a id="3937" class="Symbol">=</a> <a id="3939" href="Ledger.Ratify.html#3741" class="Function">govRole</a> <a id="3947" href="Ledger.Ratify.html#3935" class="Bound">v</a> <a id="3949" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3951" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>
<a id="3956" href="Ledger.Ratify.html#3878" class="Function">IsSPO</a>   <a id="3964" href="Ledger.Ratify.html#3964" class="Bound">v</a> <a id="3966" class="Symbol">=</a> <a id="3968" href="Ledger.Ratify.html#3741" class="Function">govRole</a> <a id="3976" href="Ledger.Ratify.html#3964" class="Bound">v</a> <a id="3978" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3980" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a>


<a id="3986" class="Keyword">instance</a>
  <a id="3997" class="Keyword">unquoteDecl</a> <a id="HasCast-RatifyState"></a><a id="4009" href="Ledger.Ratify.html#4009" class="Function">HasCast-RatifyState</a> <a id="4029" class="Symbol">=</a> <a id="4031" href="Class.HasCast.Derive.html#2660" class="Function">derive-HasCast</a>
    <a id="4050" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="4052" class="Symbol">(</a><a id="4053" class="Keyword">quote</a> <a id="4059" href="Ledger.Ratify.html#3279" class="Record">RatifyState</a> <a id="4071" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4073" href="Ledger.Ratify.html#4009" class="Function">HasCast-RatifyState</a><a id="4092" class="Symbol">)</a> <a id="4094" href="Data.List.Base.html#5205" class="Function Operator">]</a>

<a id="4097" class="Keyword">open</a> <a id="4102" href="Ledger.Ratify.html#2914" class="Module">StakeDistrs</a>


<a id="actualVotes"></a><a id="4116" href="Ledger.Ratify.html#4116" class="Function">actualVotes</a>  <a id="4129" class="Symbol">:</a> <a id="4131" href="Ledger.Ratify.html#2987" class="Record">RatifyEnv</a> <a id="4141" class="Symbol">→</a> <a id="4143" href="Ledger.PParams.html#1570" class="Record">PParams</a> <a id="4151" class="Symbol">→</a> <a id="4153" href="Ledger.Ratify.html#3684" class="Function">CCData</a> <a id="4160" class="Symbol">→</a> <a id="4162" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a>
             <a id="4189" class="Symbol">→</a> <a id="4191" class="Symbol">(</a><a id="4192" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="4200" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4202" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="4213" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4215" href="Ledger.GovernanceActions.html#2328" class="Datatype">Vote</a><a id="4219" class="Symbol">)</a> <a id="4221" class="Symbol">→</a> <a id="4223" class="Symbol">(</a><a id="4224" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="4231" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4233" href="Ledger.GovernanceActions.html#2328" class="Datatype">Vote</a><a id="4237" class="Symbol">)</a>
<a id="4239" href="Ledger.Ratify.html#4116" class="Function">actualVotes</a> <a id="4251" href="Ledger.Ratify.html#4251" class="Bound">Γ</a> <a id="4253" href="Ledger.Ratify.html#4253" class="Bound">pparams</a> <a id="4261" href="Ledger.Ratify.html#4261" class="Bound">cc</a> <a id="4264" href="Ledger.Ratify.html#4264" class="Bound">gaTy</a> <a id="4269" href="Ledger.Ratify.html#4269" class="Bound">votes</a>
  <a id="4277" class="Symbol">=</a>   <a id="4281" href="Axiom.Set.Map.html#5896" class="Function">mapKeys</a> <a id="4289" class="Symbol">(</a><a id="4290" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="4300" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a><a id="4302" class="Symbol">)</a> <a id="4304" href="Ledger.Ratify.html#5777" class="Function">actualCCVotes</a>  <a id="4319" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="4322" href="Ledger.Ratify.html#6094" class="Function">actualPDRepVotes</a> <a id="4339" href="Ledger.Ratify.html#4264" class="Bound">gaTy</a>
  <a id="4346" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a>  <a id="4350" href="Ledger.Ratify.html#6353" class="Function">actualDRepVotes</a>                       <a id="4388" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="4391" href="Ledger.Ratify.html#6502" class="Function">actualSPOVotes</a> <a id="4406" href="Ledger.Ratify.html#4264" class="Bound">gaTy</a>
  <a id="4413" class="Keyword">where</a>


  <a id="4423" class="Keyword">open</a> <a id="4428" href="Ledger.Ratify.html#2987" class="Module">RatifyEnv</a> <a id="4438" href="Ledger.Ratify.html#4251" class="Bound">Γ</a>
  <a id="4442" class="Keyword">open</a> <a id="4447" href="Ledger.PParams.html#1570" class="Module">PParams</a> <a id="4455" href="Ledger.Ratify.html#4253" class="Bound">pparams</a>


  <a id="4467" href="Ledger.Ratify.html#4467" class="Function">roleVotes</a> <a id="4477" class="Symbol">:</a> <a id="4479" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="4487" class="Symbol">→</a> <a id="4489" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="4496" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4498" href="Ledger.GovernanceActions.html#2328" class="Datatype">Vote</a>
  <a id="4505" href="Ledger.Ratify.html#4467" class="Function">roleVotes</a> <a id="4515" href="Ledger.Ratify.html#4515" class="Bound">r</a> <a id="4517" class="Symbol">=</a> <a id="4519" href="Axiom.Set.Map.html#5896" class="Function">mapKeys</a> <a id="4527" class="Symbol">(</a><a id="4528" href="Data.Product.Base.html#3109" class="Function">uncurry</a> <a id="4536" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a><a id="4545" class="Symbol">)</a> <a id="4547" class="Symbol">(</a><a id="4548" href="Ledger.Ratify.html#219" class="Function">filter</a> <a id="4555" class="Symbol">(λ</a> <a id="4558" class="Symbol">(</a><a id="4559" href="Ledger.Ratify.html#4559" class="Bound">x</a> <a id="4561" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4563" class="Symbol">_)</a> <a id="4566" class="Symbol">→</a> <a id="4568" href="Ledger.Ratify.html#4515" class="Bound">r</a> <a id="4570" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4572" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4578" href="Ledger.Ratify.html#4559" class="Bound">x</a><a id="4579" class="Symbol">)</a> <a id="4581" href="Ledger.Ratify.html#4269" class="Bound">votes</a><a id="4586" class="Symbol">)</a>

  <a id="4591" href="Ledger.Ratify.html#4591" class="Function">activeDReps</a> <a id="4603" class="Symbol">=</a> <a id="4605" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4609" class="Symbol">(</a><a id="4610" href="Ledger.Ratify.html#219" class="Function">filter</a> <a id="4617" class="Symbol">(λ</a> <a id="4620" class="Symbol">(_</a> <a id="4623" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4625" href="Ledger.Ratify.html#4625" class="Bound">e</a><a id="4626" class="Symbol">)</a> <a id="4628" class="Symbol">→</a> <a id="4630" href="Ledger.Ratify.html#3054" class="Function">currentEpoch</a> <a id="4643" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="4645" href="Ledger.Ratify.html#4625" class="Bound">e</a><a id="4646" class="Symbol">)</a> <a id="4648" href="Ledger.Ratify.html#3080" class="Function">dreps</a><a id="4653" class="Symbol">)</a>
  <a id="4657" href="Ledger.Ratify.html#4657" class="Function">spos</a>  <a id="4663" class="Symbol">=</a> <a id="4665" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="4673" href="Ledger.Ratify.html#3878" class="Function">IsSPO</a> <a id="4679" class="Symbol">(</a><a id="4680" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4684" class="Symbol">(</a><a id="4685" href="Ledger.Ratify.html#2951" class="Field">stakeDistr</a> <a id="4696" href="Ledger.Ratify.html#3022" class="Function">stakeDistrs</a><a id="4707" class="Symbol">))</a>



  <a id="4715" href="Ledger.Ratify.html#4715" class="Function">getCCHotCred</a> <a id="4728" class="Symbol">:</a> <a id="4730" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="4741" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4743" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a> <a id="4749" class="Symbol">→</a> <a id="4751" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4757" href="Ledger.Address.html#273" class="Datatype">Credential</a>
  <a id="4770" href="Ledger.Ratify.html#4715" class="Function">getCCHotCred</a> <a id="4783" class="Symbol">(</a><a id="4784" href="Ledger.Ratify.html#4784" class="Bound">c</a> <a id="4786" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4788" href="Ledger.Ratify.html#4788" class="Bound">e</a><a id="4789" class="Symbol">)</a> <a id="4791" class="Symbol">=</a> <a id="4793" href="Class.ToBool.html#389" class="Function Operator">if</a> <a id="4796" href="Ledger.Ratify.html#3054" class="Function">currentEpoch</a> <a id="4809" href="Class.HasOrder.Core.html#843" class="Function Operator">&gt;</a> <a id="4811" href="Ledger.Ratify.html#4788" class="Bound">e</a> <a id="4813" href="Class.ToBool.html#389" class="Function Operator">then</a> <a id="4818" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="4830" href="Class.ToBool.html#389" class="Function Operator">else</a> <a id="4835" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4840" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="4849" href="Ledger.Ratify.html#3119" class="Function">ccHotKeys</a> <a id="4859" href="Ledger.Ratify.html#4784" class="Bound">c</a> <a id="4861" href="Function.Base.html#4042" class="Function Operator">of</a>


      <a id="4872" class="Symbol">λ</a> <a id="4874" class="Keyword">where</a>


        <a id="4890" class="Symbol">(</a><a id="4891" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4896" class="Symbol">(</a><a id="4897" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4902" href="Ledger.Ratify.html#4902" class="Bound">c&#39;</a><a id="4904" class="Symbol">))</a>  <a id="4908" class="Symbol">→</a> <a id="4910" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4915" href="Ledger.Ratify.html#4902" class="Bound">c&#39;</a>
        <a id="4926" class="CatchallClause Symbol">_</a>                 <a id="4944" class="Symbol">→</a> <a id="4946" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4954" class="Comment">-- no hot key or resigned</a>

  <a id="4983" href="Ledger.Ratify.html#4983" class="Function">SPODefaultVote</a> <a id="4998" class="Symbol">:</a> <a id="5000" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="5014" class="Symbol">→</a> <a id="5016" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="5023" class="Symbol">→</a> <a id="5025" href="Ledger.GovernanceActions.html#2328" class="Datatype">Vote</a>
  <a id="5032" href="Ledger.Ratify.html#4983" class="Function">SPODefaultVote</a> <a id="5047" href="Ledger.Ratify.html#5047" class="Bound">gaT</a> <a id="5051" class="Symbol">(</a><a id="5052" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="5062" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a> <a id="5066" class="Symbol">(</a><a id="5067" href="Ledger.Address.html#299" class="InductiveConstructor">KeyHashObj</a> <a id="5078" href="Ledger.Ratify.html#5078" class="Bound">kh</a><a id="5080" class="Symbol">))</a> <a id="5083" class="Symbol">=</a> <a id="5085" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5090" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="5099" href="Ledger.Ratify.html#3194" class="Function">pools</a> <a id="5105" href="Ledger.Ratify.html#5078" class="Bound">kh</a> <a id="5108" href="Function.Base.html#4042" class="Function Operator">of</a>


      <a id="5119" class="Symbol">λ</a> <a id="5121" class="Keyword">where</a>


        <a id="5137" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="5145" class="Symbol">→</a> <a id="5147" href="Ledger.GovernanceActions.html#2352" class="InductiveConstructor">Vote.no</a>
        <a id="5163" class="Symbol">(</a><a id="5164" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a>  <a id="5170" href="Ledger.Ratify.html#5170" class="Bound">p</a><a id="5171" class="Symbol">)</a> <a id="5173" class="Symbol">→</a> <a id="5175" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5180" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="5189" href="Ledger.Ratify.html#3235" class="Function">delegatees</a> <a id="5200" class="Symbol">(</a><a id="5201" href="Ledger.Certs.html#1288" class="Field">PoolParams.rewardAccount</a> <a id="5226" href="Ledger.Ratify.html#5170" class="Bound">p</a><a id="5227" class="Symbol">)</a> <a id="5229" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5231" href="Ledger.Ratify.html#4264" class="Bound">gaTy</a> <a id="5236" href="Function.Base.html#4042" class="Function Operator">of</a>


               <a id="5256" class="Symbol">λ</a> <a id="5258" class="Keyword">where</a>


               <a id="5281" class="Symbol">(_</a>                     <a id="5304" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5306" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a><a id="5315" class="Symbol">)</a>     <a id="5321" class="Symbol">→</a> <a id="5323" href="Ledger.GovernanceActions.html#2352" class="InductiveConstructor">Vote.no</a>
               <a id="5346" class="Symbol">(</a><a id="5347" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5352" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a>  <a id="5369" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5371" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a><a id="5383" class="Symbol">)</a>  <a id="5386" class="Symbol">→</a> <a id="5388" href="Ledger.GovernanceActions.html#2348" class="InductiveConstructor">Vote.yes</a>
               <a id="5412" class="CatchallClause Symbol">(</a><a id="5413" href="Agda.Builtin.Maybe.html#173" class="CatchallClause InductiveConstructor">just</a><a id="5417" class="CatchallClause"> </a><a id="5418" href="Ledger.GovernanceActions.html#532" class="CatchallClause InductiveConstructor">abstainRep</a><a id="5428" class="CatchallClause">       </a><a id="5435" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="5436" class="CatchallClause"> </a><a id="5437" class="CatchallClause Symbol">_</a><a id="5438" class="CatchallClause">           </a><a id="5449" class="CatchallClause Symbol">)</a>  <a id="5452" class="Symbol">→</a> <a id="5454" href="Ledger.GovernanceActions.html#2355" class="InductiveConstructor">Vote.abstain</a>
               <a id="5482" class="CatchallClause Symbol">_</a>                                       <a id="5522" class="Symbol">→</a> <a id="5524" href="Ledger.GovernanceActions.html#2352" class="InductiveConstructor">Vote.no</a>
  <a id="5534" href="Ledger.Ratify.html#4983" class="CatchallClause Function">SPODefaultVote</a><a id="5548" class="CatchallClause"> </a><a id="5549" class="CatchallClause Symbol">_</a><a id="5550" class="CatchallClause"> </a><a id="5551" class="CatchallClause Symbol">_</a> <a id="5553" class="Symbol">=</a> <a id="5555" href="Ledger.GovernanceActions.html#2352" class="InductiveConstructor">Vote.no</a>

  <a id="5566" href="Ledger.Ratify.html#5566" class="Function">actualCCVote</a> <a id="5579" class="Symbol">:</a> <a id="5581" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="5592" class="Symbol">→</a> <a id="5594" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a> <a id="5600" class="Symbol">→</a> <a id="5602" href="Ledger.GovernanceActions.html#2328" class="Datatype">Vote</a>
  <a id="5609" href="Ledger.Ratify.html#5566" class="Function">actualCCVote</a> <a id="5622" href="Ledger.Ratify.html#5622" class="Bound">c</a> <a id="5624" href="Ledger.Ratify.html#5624" class="Bound">e</a> <a id="5626" class="Symbol">=</a> <a id="5628" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5633" href="Ledger.Ratify.html#4715" class="Function">getCCHotCred</a> <a id="5646" class="Symbol">(</a><a id="5647" href="Ledger.Ratify.html#5622" class="Bound">c</a> <a id="5649" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5651" href="Ledger.Ratify.html#5624" class="Bound">e</a><a id="5652" class="Symbol">)</a> <a id="5654" href="Function.Base.html#4042" class="Function Operator">of</a>


      <a id="5665" class="Symbol">λ</a> <a id="5667" class="Keyword">where</a>


        <a id="5683" class="Symbol">(</a><a id="5684" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5689" href="Ledger.Ratify.html#5689" class="Bound">c&#39;</a><a id="5691" class="Symbol">)</a>  <a id="5694" class="Symbol">→</a> <a id="5696" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="5702" href="Function.Base.html#704" class="Function">id</a> <a id="5705" href="Ledger.GovernanceActions.html#2352" class="InductiveConstructor">Vote.no</a> <a id="5713" class="Symbol">(</a><a id="5714" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="5723" href="Ledger.Ratify.html#4269" class="Bound">votes</a> <a id="5729" class="Symbol">(</a><a id="5730" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="5733" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5735" href="Ledger.Ratify.html#5689" class="Bound">c&#39;</a><a id="5737" class="Symbol">))</a>
        <a id="5748" class="CatchallClause Symbol">_</a>          <a id="5759" class="Symbol">→</a> <a id="5761" href="Ledger.GovernanceActions.html#2355" class="InductiveConstructor">Vote.abstain</a>

  <a id="5777" href="Ledger.Ratify.html#5777" class="Function">actualCCVotes</a> <a id="5791" class="Symbol">:</a> <a id="5793" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="5804" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5806" href="Ledger.GovernanceActions.html#2328" class="Datatype">Vote</a>
  <a id="5813" href="Ledger.Ratify.html#5777" class="Function">actualCCVotes</a> <a id="5827" class="Symbol">=</a> <a id="5829" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5834" href="Ledger.Ratify.html#4261" class="Bound">cc</a> <a id="5837" href="Function.Base.html#4042" class="Function Operator">of</a>


      <a id="5848" class="Symbol">λ</a> <a id="5850" class="Keyword">where</a>


        <a id="5866" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>         <a id="5882" class="Symbol">→</a>  <a id="5885" href="Class.HasEmptySet.html#287" class="Field">∅</a>
        <a id="5895" class="Symbol">(</a><a id="5896" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5901" class="Symbol">(</a><a id="5902" href="Ledger.Ratify.html#5902" class="Bound">m</a> <a id="5904" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5906" href="Ledger.Ratify.html#5906" class="Bound">q</a><a id="5907" class="Symbol">))</a>  <a id="5911" class="Symbol">→</a>  <a id="5914" href="Class.ToBool.html#389" class="Function Operator">if</a> <a id="5917" href="Ledger.PParams.html#3110" class="Function">ccMinSize</a> <a id="5927" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="5929" href="abstract-set-theory.FiniteSetTheory.html#2063" class="Function">lengthˢ</a> <a id="5937" class="Symbol">(</a><a id="5938" href="Axiom.Set.Map.html#10460" class="Function">mapFromPartialFun</a> <a id="5956" href="Ledger.Ratify.html#4715" class="Function">getCCHotCred</a> <a id="5969" class="Symbol">(</a><a id="5970" href="Ledger.Ratify.html#5902" class="Bound">m</a> <a id="5972" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="5973" class="Symbol">))</a>
                           <a id="6003" href="Class.ToBool.html#389" class="Function Operator">then</a> <a id="6008" href="Axiom.Set.Map.html#8706" class="Function">mapWithKey</a> <a id="6019" href="Ledger.Ratify.html#5566" class="Function">actualCCVote</a> <a id="6032" href="Ledger.Ratify.html#5902" class="Bound">m</a>
                           <a id="6061" href="Class.ToBool.html#389" class="Function Operator">else</a> <a id="6066" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="6075" class="Symbol">(</a><a id="6076" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6080" href="Ledger.Ratify.html#5902" class="Bound">m</a><a id="6081" class="Symbol">)</a> <a id="6083" href="Ledger.GovernanceActions.html#2352" class="InductiveConstructor">Vote.no</a>

  <a id="6094" href="Ledger.Ratify.html#6094" class="Function">actualPDRepVotes</a> <a id="6111" class="Symbol">:</a> <a id="6113" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="6127" class="Symbol">→</a> <a id="6129" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6136" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="6138" href="Ledger.GovernanceActions.html#2328" class="Datatype">Vote</a>
  <a id="6145" href="Ledger.Ratify.html#6094" class="Function">actualPDRepVotes</a> <a id="6162" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>
                      <a id="6197" class="Symbol">=</a> <a id="6199" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="6201" href="Ledger.GovernanceActions.html#532" class="InductiveConstructor">abstainRep</a> <a id="6212" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6214" href="Ledger.GovernanceActions.html#2355" class="InductiveConstructor">Vote.abstain</a> <a id="6227" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="6229" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="6232" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="6234" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a> <a id="6250" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6252" href="Ledger.GovernanceActions.html#2348" class="InductiveConstructor">Vote.yes</a> <a id="6261" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
  <a id="6265" href="Ledger.Ratify.html#6094" class="CatchallClause Function">actualPDRepVotes</a><a id="6281" class="CatchallClause"> </a><a id="6282" class="CatchallClause Symbol">_</a>  <a id="6285" class="Symbol">=</a> <a id="6287" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="6289" href="Ledger.GovernanceActions.html#532" class="InductiveConstructor">abstainRep</a> <a id="6300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6302" href="Ledger.GovernanceActions.html#2355" class="InductiveConstructor">Vote.abstain</a> <a id="6315" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="6317" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="6320" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="6322" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a> <a id="6338" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6340" href="Ledger.GovernanceActions.html#2352" class="InductiveConstructor">Vote.no</a> <a id="6348" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>

  <a id="6353" href="Ledger.Ratify.html#6353" class="Function">actualDRepVotes</a> <a id="6369" class="Symbol">:</a> <a id="6371" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6378" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="6380" href="Ledger.GovernanceActions.html#2328" class="Datatype">Vote</a>
  <a id="6387" href="Ledger.Ratify.html#6353" class="Function">actualDRepVotes</a>  <a id="6404" class="Symbol">=</a>   <a id="6408" href="Ledger.Ratify.html#4467" class="Function">roleVotes</a> <a id="6418" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>
                   <a id="6442" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a>  <a id="6446" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="6455" class="Symbol">(</a><a id="6456" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="6461" class="Symbol">(</a><a id="6462" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="6472" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a><a id="6476" class="Symbol">)</a> <a id="6478" href="Ledger.Ratify.html#4591" class="Function">activeDReps</a><a id="6489" class="Symbol">)</a> <a id="6491" href="Ledger.GovernanceActions.html#2352" class="InductiveConstructor">Vote.no</a>

  <a id="6502" href="Ledger.Ratify.html#6502" class="Function">actualSPOVotes</a> <a id="6517" class="Symbol">:</a> <a id="6519" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="6533" class="Symbol">→</a> <a id="6535" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6542" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="6544" href="Ledger.GovernanceActions.html#2328" class="Datatype">Vote</a>
  <a id="6551" href="Ledger.Ratify.html#6502" class="Function">actualSPOVotes</a> <a id="6566" href="Ledger.Ratify.html#6566" class="Bound">gaTy</a> <a id="6571" class="Symbol">=</a> <a id="6573" href="Ledger.Ratify.html#4467" class="Function">roleVotes</a> <a id="6583" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a> <a id="6587" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="6590" href="Axiom.Set.Map.html#8368" class="Function">mapFromFun</a> <a id="6601" class="Symbol">(</a><a id="6602" href="Ledger.Ratify.html#4983" class="Function">SPODefaultVote</a> <a id="6617" href="Ledger.Ratify.html#6566" class="Bound">gaTy</a><a id="6621" class="Symbol">)</a> <a id="6623" href="Ledger.Ratify.html#4657" class="Function">spos</a>


<a id="6630" class="Keyword">open</a> <a id="6635" href="Ledger.Ratify.html#2987" class="Module">RatifyEnv</a> <a id="6645" class="Keyword">using</a> <a id="6651" class="Symbol">(</a><a id="6652" href="Ledger.Ratify.html#3022" class="Field">stakeDistrs</a><a id="6663" class="Symbol">)</a>

<a id="6666" class="Keyword">abstract</a>
  <a id="6677" class="Comment">-- unused, keep until we know for sure that there&#39;ll be no minimum AVS</a>
  <a id="6750" class="Comment">-- activeVotingStake : ℙ VDeleg → StakeDistrs → (VDeleg ⇀ Vote) → Coin</a>
  <a id="6823" class="Comment">-- activeVotingStake cc dists votes =</a>
  <a id="6863" class="Comment">--   ∑[ x  ← getStakeDist DRep cc dists ∣ dom votes ᶜ ᶠᵐ ] x</a>

<a id="6925" class="Comment">--  _/₀_ : ℕ → ℕ → ℚ</a>
<a id="6946" class="Comment">--  x /₀ 0 = 0ℚ</a>
<a id="6962" class="Comment">--  x /₀ y@(suc _) = ℤ.+ x ℚ./ y</a>



  <a id="getStakeDist"></a><a id="7000" href="Ledger.Ratify.html#7000" class="Function">getStakeDist</a> <a id="7013" class="Symbol">:</a> <a id="7015" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="7023" class="Symbol">→</a> <a id="7025" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7027" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="7034" class="Symbol">→</a> <a id="7036" href="Ledger.Ratify.html#2914" class="Record">StakeDistrs</a> <a id="7048" class="Symbol">→</a> <a id="7050" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="7057" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="7059" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="7066" href="Ledger.Ratify.html#7000" class="Function">getStakeDist</a> <a id="7079" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a>    <a id="7085" href="Ledger.Ratify.html#7085" class="Bound">cc</a>  <a id="7089" href="Ledger.Ratify.html#7089" class="Bound">sd</a>  <a id="7093" class="Symbol">=</a> <a id="7095" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="7104" class="Symbol">(</a><a id="7105" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="7113" href="Ledger.Ratify.html#3866" class="Function">IsCC</a> <a id="7118" href="Ledger.Ratify.html#7085" class="Bound">cc</a><a id="7120" class="Symbol">)</a> <a id="7122" class="Number">1</a>
  <a id="7126" href="Ledger.Ratify.html#7000" class="Function">getStakeDist</a> <a id="7139" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>  <a id="7145" class="Symbol">_</a>   <a id="7149" href="Ledger.Ratify.html#7149" class="Bound">sd</a>  <a id="7153" class="Symbol">=</a> <a id="7155" href="abstract-set-theory.FiniteSetTheory.html#2989" class="Function">filterKeys</a> <a id="7166" href="Ledger.Ratify.html#3871" class="Function">IsDRep</a>  <a id="7174" class="Symbol">(</a><a id="7175" href="Ledger.Ratify.html#7149" class="Bound">sd</a> <a id="7178" class="Symbol">.</a><a id="7179" href="Ledger.Ratify.html#2951" class="Field">stakeDistr</a><a id="7189" class="Symbol">)</a>
  <a id="7193" href="Ledger.Ratify.html#7000" class="Function">getStakeDist</a> <a id="7206" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a>   <a id="7212" class="Symbol">_</a>   <a id="7216" href="Ledger.Ratify.html#7216" class="Bound">sd</a>  <a id="7220" class="Symbol">=</a> <a id="7222" href="abstract-set-theory.FiniteSetTheory.html#2989" class="Function">filterKeys</a> <a id="7233" href="Ledger.Ratify.html#3878" class="Function">IsSPO</a>   <a id="7241" class="Symbol">(</a><a id="7242" href="Ledger.Ratify.html#7216" class="Bound">sd</a> <a id="7245" class="Symbol">.</a><a id="7246" href="Ledger.Ratify.html#2951" class="Field">stakeDistr</a><a id="7256" class="Symbol">)</a>

  <a id="acceptedStakeRatio"></a><a id="7261" href="Ledger.Ratify.html#7261" class="Function">acceptedStakeRatio</a> <a id="7280" class="Symbol">:</a> <a id="7282" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="7290" class="Symbol">→</a> <a id="7292" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7294" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="7301" class="Symbol">→</a> <a id="7303" href="Ledger.Ratify.html#2914" class="Record">StakeDistrs</a> <a id="7315" class="Symbol">→</a> <a id="7317" class="Symbol">(</a><a id="7318" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="7325" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="7327" href="Ledger.GovernanceActions.html#2328" class="Datatype">Vote</a><a id="7331" class="Symbol">)</a> <a id="7333" class="Symbol">→</a> <a id="7335" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
  <a id="7339" href="Ledger.Ratify.html#7261" class="Function">acceptedStakeRatio</a> <a id="7358" href="Ledger.Ratify.html#7358" class="Bound">r</a> <a id="7360" href="Ledger.Ratify.html#7360" class="Bound">cc</a> <a id="7363" href="Ledger.Ratify.html#7363" class="Bound">dists</a> <a id="7369" href="Ledger.Ratify.html#7369" class="Bound">votes</a> <a id="7375" class="Symbol">=</a> <a id="7377" href="Ledger.Ratify.html#7485" class="Function">acceptedStake</a> <a id="7391" href="Ledger.Prelude.html#2053" class="Function Operator">/₀</a> <a id="7394" href="Ledger.Ratify.html#7499" class="Function">totalStake</a>
    <a id="7409" class="Keyword">where</a>
      <a id="7421" href="Ledger.Ratify.html#7421" class="Function">dist</a> <a id="7426" class="Symbol">:</a> <a id="7428" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="7435" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="7437" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
      <a id="7448" href="Ledger.Ratify.html#7421" class="Function">dist</a> <a id="7453" class="Symbol">=</a> <a id="7455" href="Ledger.Ratify.html#7000" class="Function">getStakeDist</a> <a id="7468" href="Ledger.Ratify.html#7358" class="Bound">r</a> <a id="7470" href="Ledger.Ratify.html#7360" class="Bound">cc</a> <a id="7473" href="Ledger.Ratify.html#7363" class="Bound">dists</a>
      <a id="7485" href="Ledger.Ratify.html#7485" class="Function">acceptedStake</a> <a id="7499" href="Ledger.Ratify.html#7499" class="Function">totalStake</a> <a id="7510" class="Symbol">:</a> <a id="7512" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
      <a id="7523" href="Ledger.Ratify.html#7485" class="Function">acceptedStake</a>  <a id="7538" class="Symbol">=</a> <a id="7540" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="7543" href="Ledger.Ratify.html#7543" class="Bound">x</a> <a id="7545" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="7547" href="Ledger.Ratify.html#7421" class="Function">dist</a> <a id="7552" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="7554" href="Ledger.Ratify.html#7369" class="Bound">votes</a> <a id="7560" href="Axiom.Set.Map.html#14230" class="Function Operator">⁻¹</a> <a id="7563" href="Ledger.GovernanceActions.html#2348" class="InductiveConstructor">Vote.yes</a>                              <a id="7601" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="7603" href="Ledger.Ratify.html#7543" class="Bound">x</a>
      <a id="7611" href="Ledger.Ratify.html#7499" class="Function">totalStake</a>     <a id="7626" class="Symbol">=</a> <a id="7628" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="7631" href="Ledger.Ratify.html#7631" class="Bound">x</a> <a id="7633" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="7635" href="Ledger.Ratify.html#7421" class="Function">dist</a> <a id="7640" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="7642" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7646" class="Symbol">(</a><a id="7647" href="Ledger.Ratify.html#7369" class="Bound">votes</a> <a id="7653" href="Axiom.Set.Map.html#14048" class="Function Operator">∣^</a> <a id="7656" class="Symbol">(</a><a id="7657" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7659" href="Ledger.GovernanceActions.html#2348" class="InductiveConstructor">Vote.yes</a> <a id="7668" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="7670" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="7672" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7674" href="Ledger.GovernanceActions.html#2352" class="InductiveConstructor">Vote.no</a> <a id="7682" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="7683" class="Symbol">))</a>  <a id="7687" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="7689" href="Ledger.Ratify.html#7631" class="Bound">x</a>

  <a id="acceptedBy"></a><a id="7694" href="Ledger.Ratify.html#7694" class="Function">acceptedBy</a> <a id="7705" class="Symbol">:</a> <a id="7707" href="Ledger.Ratify.html#2987" class="Record">RatifyEnv</a> <a id="7717" class="Symbol">→</a> <a id="7719" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="7730" class="Symbol">→</a> <a id="7732" href="Ledger.GovernanceActions.html#2746" class="Record">GovActionState</a> <a id="7747" class="Symbol">→</a> <a id="7749" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="7757" class="Symbol">→</a> <a id="7759" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="7766" href="Ledger.Ratify.html#7694" class="Function">acceptedBy</a> <a id="7777" href="Ledger.Ratify.html#7777" class="Bound">Γ</a> <a id="7779" class="Symbol">(</a><a id="7780" class="Keyword">record</a> <a id="7787" class="Symbol">{</a> <a id="7789" href="Ledger.Enact.html#433" class="Field">cc</a> <a id="7792" class="Symbol">=</a> <a id="7794" href="Ledger.Ratify.html#7794" class="Bound">cc</a> <a id="7797" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7799" class="Symbol">_;</a> <a id="7802" href="Ledger.Enact.html#607" class="Field">pparams</a> <a id="7810" class="Symbol">=</a> <a id="7812" href="Ledger.Ratify.html#7812" class="Bound">pparams</a> <a id="7820" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7822" class="Symbol">_</a> <a id="7824" class="Symbol">})</a> <a id="7827" href="Ledger.Ratify.html#7827" class="Bound">gs</a> <a id="7830" href="Ledger.Ratify.html#7830" class="Bound">role</a> <a id="7835" class="Symbol">=</a>
    <a id="7841" class="Keyword">let</a> <a id="7845" class="Keyword">open</a> <a id="7850" href="Ledger.GovernanceActions.html#2746" class="Module">GovActionState</a> <a id="7865" href="Ledger.Ratify.html#7827" class="Bound">gs</a><a id="7867" class="Symbol">;</a> <a id="7869" class="Keyword">open</a> <a id="7874" href="Ledger.PParams.html#1570" class="Module">PParams</a> <a id="7882" href="Ledger.Ratify.html#7812" class="Bound">pparams</a>
        <a id="7898" href="Ledger.Ratify.html#7898" class="Bound">votes&#39;</a>  <a id="7906" class="Symbol">=</a> <a id="7908" href="Ledger.Ratify.html#4116" class="Function">actualVotes</a> <a id="7920" href="Ledger.Ratify.html#7777" class="Bound">Γ</a> <a id="7922" href="Ledger.Ratify.html#7812" class="Bound">pparams</a> <a id="7930" href="Ledger.Ratify.html#7794" class="Bound">cc</a> <a id="7933" class="Symbol">(</a><a id="7934" href="Ledger.GovernanceActions.html#1433" class="Field">gaType</a> <a id="7941" href="Ledger.GovernanceActions.html#2867" class="Function">action</a><a id="7947" class="Symbol">)</a> <a id="7949" href="Ledger.GovernanceActions.html#2786" class="Function">votes</a>
        <a id="7963" href="Ledger.Ratify.html#7963" class="Bound">mbyT</a>    <a id="7971" class="Symbol">=</a> <a id="7973" href="Ledger.Ratify.html#1183" class="Function">threshold</a> <a id="7983" href="Ledger.Ratify.html#7812" class="Bound">pparams</a> <a id="7991" class="Symbol">(</a><a id="7992" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="7998" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="8002" href="Ledger.Ratify.html#7794" class="Bound">cc</a><a id="8004" class="Symbol">)</a> <a id="8006" href="Ledger.GovernanceActions.html#2867" class="Function">action</a> <a id="8013" href="Ledger.Ratify.html#7830" class="Bound">role</a>
        <a id="8026" href="Ledger.Ratify.html#8026" class="Bound">t</a>       <a id="8034" class="Symbol">=</a> <a id="8036" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="8042" href="Function.Base.html#704" class="Function">id</a> <a id="8045" href="Data.Rational.Base.html#4325" class="Function">0ℚ</a> <a id="8048" href="Ledger.Ratify.html#7963" class="Bound">mbyT</a>
    <a id="8057" class="Keyword">in</a> <a id="8060" href="Ledger.Ratify.html#7261" class="Function">acceptedStakeRatio</a> <a id="8079" href="Ledger.Ratify.html#7830" class="Bound">role</a> <a id="8084" class="Symbol">(</a><a id="8085" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8089" href="Ledger.Ratify.html#7898" class="Bound">votes&#39;</a><a id="8095" class="Symbol">)</a> <a id="8097" class="Symbol">(</a><a id="8098" href="Ledger.Ratify.html#3022" class="Field">stakeDistrs</a> <a id="8110" href="Ledger.Ratify.html#7777" class="Bound">Γ</a><a id="8111" class="Symbol">)</a> <a id="8113" href="Ledger.Ratify.html#7898" class="Bound">votes&#39;</a> <a id="8120" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="8122" href="Ledger.Ratify.html#8026" class="Bound">t</a>
     <a id="8129" href="Ledger.Ratify.html#507" class="Function Operator">∧</a> <a id="8131" class="Symbol">(</a><a id="8132" href="Ledger.Ratify.html#7830" class="Bound">role</a> <a id="8137" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8139" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="8142" class="Symbol">→</a> <a id="8144" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="8150" class="Symbol">(λ</a> <a id="8153" class="Symbol">(</a><a id="8154" href="Ledger.Ratify.html#8154" class="Bound">m</a> <a id="8156" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8158" class="Symbol">_)</a> <a id="8161" class="Symbol">→</a> <a id="8163" href="abstract-set-theory.FiniteSetTheory.html#2063" class="Function">lengthˢ</a> <a id="8171" href="Ledger.Ratify.html#8154" class="Bound">m</a><a id="8172" class="Symbol">)</a> <a id="8174" class="Number">0</a> <a id="8176" href="Ledger.Ratify.html#7794" class="Bound">cc</a> <a id="8179" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="8181" href="Ledger.PParams.html#3110" class="Function">ccMinSize</a> <a id="8191" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="8193" href="Data.Maybe.html#896" class="Function">Is-nothing</a> <a id="8204" href="Ledger.Ratify.html#7963" class="Bound">mbyT</a><a id="8208" class="Symbol">)</a>

  <a id="accepted"></a><a id="8213" href="Ledger.Ratify.html#8213" class="Function">accepted</a> <a id="8222" class="Symbol">:</a> <a id="8224" href="Ledger.Ratify.html#2987" class="Record">RatifyEnv</a> <a id="8234" class="Symbol">→</a> <a id="8236" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="8247" class="Symbol">→</a> <a id="8249" href="Ledger.GovernanceActions.html#2746" class="Record">GovActionState</a> <a id="8264" class="Symbol">→</a> <a id="8266" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="8273" href="Ledger.Ratify.html#8213" class="Function">accepted</a> <a id="8282" href="Ledger.Ratify.html#8282" class="Bound">Γ</a> <a id="8284" href="Ledger.Ratify.html#8284" class="Bound">es</a> <a id="8287" href="Ledger.Ratify.html#8287" class="Bound">gs</a> <a id="8290" class="Symbol">=</a> <a id="8292" href="Ledger.Ratify.html#7694" class="Function">acceptedBy</a> <a id="8303" href="Ledger.Ratify.html#8282" class="Bound">Γ</a> <a id="8305" href="Ledger.Ratify.html#8284" class="Bound">es</a> <a id="8308" href="Ledger.Ratify.html#8287" class="Bound">gs</a> <a id="8311" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="8314" href="Ledger.Ratify.html#507" class="Function Operator">∧</a> <a id="8316" href="Ledger.Ratify.html#7694" class="Function">acceptedBy</a> <a id="8327" href="Ledger.Ratify.html#8282" class="Bound">Γ</a> <a id="8329" href="Ledger.Ratify.html#8284" class="Bound">es</a> <a id="8332" href="Ledger.Ratify.html#8287" class="Bound">gs</a> <a id="8335" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a> <a id="8340" href="Ledger.Ratify.html#507" class="Function Operator">∧</a> <a id="8342" href="Ledger.Ratify.html#7694" class="Function">acceptedBy</a> <a id="8353" href="Ledger.Ratify.html#8282" class="Bound">Γ</a> <a id="8355" href="Ledger.Ratify.html#8284" class="Bound">es</a> <a id="8358" href="Ledger.Ratify.html#8287" class="Bound">gs</a> <a id="8361" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a>

  <a id="expired"></a><a id="8368" href="Ledger.Ratify.html#8368" class="Function">expired</a> <a id="8376" class="Symbol">:</a> <a id="8378" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a> <a id="8384" class="Symbol">→</a> <a id="8386" href="Ledger.GovernanceActions.html#2746" class="Record">GovActionState</a> <a id="8401" class="Symbol">→</a> <a id="8403" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="8410" href="Ledger.Ratify.html#8368" class="Function">expired</a> <a id="8418" href="Ledger.Ratify.html#8418" class="Bound">current</a> <a id="8426" class="Keyword">record</a> <a id="8433" class="Symbol">{</a> <a id="8435" href="Ledger.GovernanceActions.html#2843" class="Field">expiresIn</a> <a id="8445" class="Symbol">=</a> <a id="8447" href="Ledger.Ratify.html#8447" class="Bound">expiresIn</a> <a id="8457" class="Symbol">}</a> <a id="8459" class="Symbol">=</a> <a id="8461" href="Ledger.Ratify.html#8447" class="Bound">expiresIn</a> <a id="8471" href="Class.HasOrder.Core.html#641" class="Field Operator">&lt;</a> <a id="8473" href="Ledger.Ratify.html#8418" class="Bound">current</a>


<a id="8483" class="Keyword">open</a> <a id="8488" href="Ledger.Enact.html#397" class="Module">EnactState</a>


<a id="verifyPrev"></a><a id="8501" href="Ledger.Ratify.html#8501" class="Function">verifyPrev</a> <a id="8512" class="Symbol">:</a> <a id="8514" class="Symbol">(</a><a id="8515" href="Ledger.Ratify.html#8515" class="Bound">a</a> <a id="8517" class="Symbol">:</a> <a id="8519" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a><a id="8532" class="Symbol">)</a> <a id="8534" class="Symbol">→</a> <a id="8536" href="Ledger.GovernanceActions.html#1663" class="Function">NeedsHash</a> <a id="8546" href="Ledger.Ratify.html#8515" class="Bound">a</a> <a id="8548" class="Symbol">→</a> <a id="8550" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="8561" class="Symbol">→</a> <a id="8563" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8568" href="Ledger.Ratify.html#8501" class="Function">verifyPrev</a> <a id="8579" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>     <a id="8596" href="Ledger.Ratify.html#8596" class="Bound">h</a> <a id="8598" href="Ledger.Ratify.html#8598" class="Bound">es</a>  <a id="8602" class="Symbol">=</a> <a id="8604" href="Ledger.Ratify.html#8596" class="Bound">h</a> <a id="8606" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8608" href="Ledger.Ratify.html#8598" class="Bound">es</a> <a id="8611" class="Symbol">.</a><a id="8612" href="Ledger.Enact.html#433" class="Field">cc</a> <a id="8615" class="Symbol">.</a><a id="8616" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8622" href="Ledger.Ratify.html#8501" class="Function">verifyPrev</a> <a id="8633" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a>  <a id="8650" href="Ledger.Ratify.html#8650" class="Bound">h</a> <a id="8652" href="Ledger.Ratify.html#8652" class="Bound">es</a>  <a id="8656" class="Symbol">=</a> <a id="8658" href="Ledger.Ratify.html#8650" class="Bound">h</a> <a id="8660" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8662" href="Ledger.Ratify.html#8652" class="Bound">es</a> <a id="8665" class="Symbol">.</a><a id="8666" href="Ledger.Enact.html#433" class="Field">cc</a> <a id="8669" class="Symbol">.</a><a id="8670" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8676" href="Ledger.Ratify.html#8501" class="Function">verifyPrev</a> <a id="8687" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a>  <a id="8704" href="Ledger.Ratify.html#8704" class="Bound">h</a> <a id="8706" href="Ledger.Ratify.html#8706" class="Bound">es</a>  <a id="8710" class="Symbol">=</a> <a id="8712" href="Ledger.Ratify.html#8704" class="Bound">h</a> <a id="8714" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8716" href="Ledger.Ratify.html#8706" class="Bound">es</a> <a id="8719" class="Symbol">.</a><a id="8720" href="Ledger.Enact.html#502" class="Field">constitution</a> <a id="8733" class="Symbol">.</a><a id="8734" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8740" href="Ledger.Ratify.html#8501" class="Function">verifyPrev</a> <a id="8751" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>        <a id="8768" href="Ledger.Ratify.html#8768" class="Bound">h</a> <a id="8770" href="Ledger.Ratify.html#8770" class="Bound">es</a>  <a id="8774" class="Symbol">=</a> <a id="8776" href="Ledger.Ratify.html#8768" class="Bound">h</a> <a id="8778" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8780" href="Ledger.Ratify.html#8770" class="Bound">es</a> <a id="8783" class="Symbol">.</a><a id="8784" href="Ledger.Enact.html#565" class="Field">pv</a> <a id="8787" class="Symbol">.</a><a id="8788" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8794" href="Ledger.Ratify.html#8501" class="Function">verifyPrev</a> <a id="8805" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>    <a id="8822" href="Ledger.Ratify.html#8822" class="Bound">h</a> <a id="8824" href="Ledger.Ratify.html#8824" class="Bound">es</a>  <a id="8828" class="Symbol">=</a> <a id="8830" href="Ledger.Ratify.html#8822" class="Bound">h</a> <a id="8832" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8834" href="Ledger.Ratify.html#8824" class="Bound">es</a> <a id="8837" class="Symbol">.</a><a id="8838" href="Ledger.Enact.html#607" class="Field">pparams</a> <a id="8846" class="Symbol">.</a><a id="8847" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8853" href="Ledger.Ratify.html#8501" class="Function">verifyPrev</a> <a id="8864" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>     <a id="8881" class="Symbol">_</a> <a id="8883" class="Symbol">_</a>   <a id="8887" class="Symbol">=</a> <a id="8889" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="8891" href="Ledger.Ratify.html#8501" class="Function">verifyPrev</a> <a id="8902" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>             <a id="8919" class="Symbol">_</a> <a id="8921" class="Symbol">_</a>   <a id="8925" class="Symbol">=</a> <a id="8927" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="delayingAction"></a><a id="8930" href="Ledger.Ratify.html#8930" class="Function">delayingAction</a> <a id="8945" class="Symbol">:</a> <a id="8947" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="8961" class="Symbol">→</a> <a id="8963" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="8968" href="Ledger.Ratify.html#8930" class="Function">delayingAction</a> <a id="8983" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>     <a id="9000" class="Symbol">=</a> <a id="9002" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="9007" href="Ledger.Ratify.html#8930" class="Function">delayingAction</a> <a id="9022" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a>  <a id="9039" class="Symbol">=</a> <a id="9041" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="9046" href="Ledger.Ratify.html#8930" class="Function">delayingAction</a> <a id="9061" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a>  <a id="9078" class="Symbol">=</a> <a id="9080" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="9085" href="Ledger.Ratify.html#8930" class="Function">delayingAction</a> <a id="9100" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>        <a id="9117" class="Symbol">=</a> <a id="9119" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="9124" href="Ledger.Ratify.html#8930" class="Function">delayingAction</a> <a id="9139" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>    <a id="9156" class="Symbol">=</a> <a id="9158" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
<a id="9164" href="Ledger.Ratify.html#8930" class="Function">delayingAction</a> <a id="9179" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>     <a id="9196" class="Symbol">=</a> <a id="9198" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
<a id="9204" href="Ledger.Ratify.html#8930" class="Function">delayingAction</a> <a id="9219" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>             <a id="9236" class="Symbol">=</a> <a id="9238" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="delayed"></a><a id="9245" href="Ledger.Ratify.html#9245" class="Function">delayed</a> <a id="9253" class="Symbol">:</a> <a id="9255" class="Symbol">(</a><a id="9256" href="Ledger.Ratify.html#9256" class="Bound">a</a> <a id="9258" class="Symbol">:</a> <a id="9260" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a><a id="9273" class="Symbol">)</a> <a id="9275" class="Symbol">→</a> <a id="9277" href="Ledger.GovernanceActions.html#1663" class="Function">NeedsHash</a> <a id="9287" href="Ledger.Ratify.html#9256" class="Bound">a</a> <a id="9289" class="Symbol">→</a> <a id="9291" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="9302" class="Symbol">→</a> <a id="9304" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="9309" class="Symbol">→</a> <a id="9311" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="9316" href="Ledger.Ratify.html#9245" class="Function">delayed</a> <a id="9324" href="Ledger.Ratify.html#9324" class="Bound">gaTy</a> <a id="9329" href="Ledger.Ratify.html#9329" class="Bound">h</a> <a id="9331" href="Ledger.Ratify.html#9331" class="Bound">es</a> <a id="9334" href="Ledger.Ratify.html#9334" class="Bound">d</a> <a id="9336" class="Symbol">=</a> <a id="9338" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="9340" href="Ledger.Ratify.html#8501" class="Function">verifyPrev</a> <a id="9351" href="Ledger.Ratify.html#9324" class="Bound">gaTy</a> <a id="9356" href="Ledger.Ratify.html#9329" class="Bound">h</a> <a id="9358" href="Ledger.Ratify.html#9331" class="Bound">es</a> <a id="9361" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="9363" href="Ledger.Ratify.html#9334" class="Bound">d</a> <a id="9365" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9367" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>

<a id="acceptConds"></a><a id="9373" href="Ledger.Ratify.html#9373" class="Function">acceptConds</a> <a id="9385" class="Symbol">:</a> <a id="9387" href="Ledger.Ratify.html#2987" class="Record">RatifyEnv</a> <a id="9397" class="Symbol">→</a> <a id="9399" href="Ledger.Ratify.html#3279" class="Record">RatifyState</a> <a id="9411" class="Symbol">→</a> <a id="9413" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="9425" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9427" href="Ledger.GovernanceActions.html#2746" class="Record">GovActionState</a> <a id="9442" class="Symbol">→</a> <a id="9444" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="9449" href="Ledger.Ratify.html#9373" class="Function">acceptConds</a> <a id="9461" href="Ledger.Ratify.html#9461" class="Bound">Γ</a> <a id="9463" href="Ledger.Ratify.html#9463" class="Bound">stʳ</a> <a id="9467" class="Symbol">(</a><a id="9468" href="Ledger.Ratify.html#9468" class="Bound">id</a> <a id="9471" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9473" href="Ledger.Ratify.html#9473" class="Bound">st</a><a id="9475" class="Symbol">)</a> <a id="9477" class="Symbol">=</a>
       <a id="9486" href="Ledger.Ratify.html#8213" class="Function">accepted</a> <a id="9495" href="Ledger.Ratify.html#9461" class="Bound">Γ</a> <a id="9497" href="Ledger.Ratify.html#3316" class="Function">es</a> <a id="9500" href="Ledger.Ratify.html#9473" class="Bound">st</a>
    <a id="9507" href="Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="9510" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="9512" href="Ledger.Ratify.html#9245" class="Function">delayed</a> <a id="9520" class="Symbol">(</a><a id="9521" href="Ledger.GovernanceActions.html#1433" class="Field">gaType</a> <a id="9528" href="Ledger.GovernanceActions.html#2867" class="Field">action</a><a id="9534" class="Symbol">)</a> <a id="9536" href="Ledger.GovernanceActions.html#2895" class="Field">prevAction</a> <a id="9547" href="Ledger.Ratify.html#3316" class="Function">es</a> <a id="9550" href="Ledger.Ratify.html#3404" class="Function">delay</a>
    <a id="9560" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9562" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="9565" href="Ledger.Ratify.html#9565" class="Bound">es&#39;</a> <a id="9569" href="Data.Product.Base.html#1371" class="Function">]</a>  <a id="9572" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="9574" href="Ledger.Ratify.html#9468" class="Bound">id</a> <a id="9577" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9579" href="Ledger.Ratify.html#3169" class="Function">treasury</a> <a id="9588" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9590" href="Ledger.Ratify.html#3054" class="Function">currentEpoch</a> <a id="9603" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="9605" href="Ledger.Enact.html#2101" class="Datatype Operator">⊢</a> <a id="9607" href="Ledger.Ratify.html#3316" class="Function">es</a> <a id="9610" href="Ledger.Enact.html#2101" class="Datatype Operator">⇀⦇</a> <a id="9613" href="Ledger.GovernanceActions.html#2867" class="Field">action</a> <a id="9620" href="Ledger.Enact.html#2101" class="Datatype Operator">,ENACT⦈</a> <a id="9628" href="Ledger.Ratify.html#9565" class="Bound">es&#39;</a>


    <a id="9638" class="Keyword">where</a> <a id="9644" class="Keyword">open</a> <a id="9649" href="Ledger.Ratify.html#2987" class="Module">RatifyEnv</a> <a id="9659" href="Ledger.Ratify.html#9461" class="Bound">Γ</a>
          <a id="9671" class="Keyword">open</a> <a id="9676" href="Ledger.Ratify.html#3279" class="Module">RatifyState</a> <a id="9688" href="Ledger.Ratify.html#9463" class="Bound">stʳ</a>
          <a id="9702" class="Keyword">open</a> <a id="9707" href="Ledger.GovernanceActions.html#2746" class="Module">GovActionState</a> <a id="9722" href="Ledger.Ratify.html#9473" class="Bound">st</a>
<a id="9725" class="Keyword">abstract</a>
  <a id="verifyPrev?"></a><a id="9736" href="Ledger.Ratify.html#9736" class="Function">verifyPrev?</a> <a id="9748" class="Symbol">:</a> <a id="9750" class="Symbol">∀</a> <a id="9752" href="Ledger.Ratify.html#9752" class="Bound">a</a> <a id="9754" href="Ledger.Ratify.html#9754" class="Bound">h</a> <a id="9756" href="Ledger.Ratify.html#9756" class="Bound">es</a> <a id="9759" class="Symbol">→</a> <a id="9761" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="9765" class="Symbol">(</a><a id="9766" href="Ledger.Ratify.html#8501" class="Function">verifyPrev</a> <a id="9777" href="Ledger.Ratify.html#9752" class="Bound">a</a> <a id="9779" href="Ledger.Ratify.html#9754" class="Bound">h</a> <a id="9781" href="Ledger.Ratify.html#9756" class="Bound">es</a><a id="9783" class="Symbol">)</a>
  <a id="9787" href="Ledger.Ratify.html#9736" class="Function">verifyPrev?</a> <a id="9799" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>              <a id="9825" href="Ledger.Ratify.html#9825" class="Bound">h</a> <a id="9827" href="Ledger.Ratify.html#9827" class="Bound">es</a> <a id="9830" class="Symbol">=</a> <a id="9832" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9838" href="Ledger.Ratify.html#9736" class="Function">verifyPrev?</a> <a id="9850" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="9866" href="Ledger.Ratify.html#9866" class="Bound">h</a> <a id="9868" href="Ledger.Ratify.html#9868" class="Bound">es</a> <a id="9871" class="Symbol">=</a> <a id="9873" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9879" href="Ledger.Ratify.html#9736" class="Function">verifyPrev?</a> <a id="9891" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="9907" href="Ledger.Ratify.html#9907" class="Bound">h</a> <a id="9909" href="Ledger.Ratify.html#9909" class="Bound">es</a> <a id="9912" class="Symbol">=</a> <a id="9914" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9920" href="Ledger.Ratify.html#9736" class="Function">verifyPrev?</a> <a id="9932" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>       <a id="9948" href="Ledger.Ratify.html#9948" class="Bound">h</a> <a id="9950" href="Ledger.Ratify.html#9950" class="Bound">es</a> <a id="9953" class="Symbol">=</a> <a id="9955" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9961" href="Ledger.Ratify.html#9736" class="Function">verifyPrev?</a> <a id="9973" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>   <a id="9989" href="Ledger.Ratify.html#9989" class="Bound">h</a> <a id="9991" href="Ledger.Ratify.html#9991" class="Bound">es</a> <a id="9994" class="Symbol">=</a> <a id="9996" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="10002" href="Ledger.Ratify.html#9736" class="Function">verifyPrev?</a> <a id="10014" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>    <a id="10030" href="Ledger.Ratify.html#10030" class="Bound">h</a> <a id="10032" href="Ledger.Ratify.html#10032" class="Bound">es</a> <a id="10035" class="Symbol">=</a> <a id="10037" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="10043" href="Ledger.Ratify.html#9736" class="Function">verifyPrev?</a> <a id="10055" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>            <a id="10071" href="Ledger.Ratify.html#10071" class="Bound">h</a> <a id="10073" href="Ledger.Ratify.html#10073" class="Bound">es</a> <a id="10076" class="Symbol">=</a> <a id="10078" href="Class.Decidable.Core.html#264" class="Field">dec</a>

  <a id="delayed?"></a><a id="10085" href="Ledger.Ratify.html#10085" class="Function">delayed?</a> <a id="10094" class="Symbol">:</a> <a id="10096" class="Symbol">∀</a> <a id="10098" href="Ledger.Ratify.html#10098" class="Bound">a</a> <a id="10100" href="Ledger.Ratify.html#10100" class="Bound">h</a> <a id="10102" href="Ledger.Ratify.html#10102" class="Bound">es</a> <a id="10105" href="Ledger.Ratify.html#10105" class="Bound">d</a> <a id="10107" class="Symbol">→</a> <a id="10109" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="10113" class="Symbol">(</a><a id="10114" href="Ledger.Ratify.html#9245" class="Function">delayed</a> <a id="10122" href="Ledger.Ratify.html#10098" class="Bound">a</a> <a id="10124" href="Ledger.Ratify.html#10100" class="Bound">h</a> <a id="10126" href="Ledger.Ratify.html#10102" class="Bound">es</a> <a id="10129" href="Ledger.Ratify.html#10105" class="Bound">d</a><a id="10130" class="Symbol">)</a>
  <a id="10134" href="Ledger.Ratify.html#10085" class="Function">delayed?</a> <a id="10143" href="Ledger.Ratify.html#10143" class="Bound">a</a> <a id="10145" href="Ledger.Ratify.html#10145" class="Bound">h</a> <a id="10147" href="Ledger.Ratify.html#10147" class="Bound">es</a> <a id="10150" href="Ledger.Ratify.html#10150" class="Bound">d</a> <a id="10152" class="Symbol">=</a> <a id="10154" class="Keyword">let</a> <a id="10158" class="Keyword">instance</a> <a id="10167" href="Ledger.Ratify.html#10167" class="Bound">_</a> <a id="10169" class="Symbol">=</a> <a id="10171" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="10173" href="Ledger.Ratify.html#9736" class="Function">verifyPrev?</a> <a id="10185" href="Ledger.Ratify.html#10143" class="Bound">a</a> <a id="10187" href="Ledger.Ratify.html#10145" class="Bound">h</a> <a id="10189" href="Ledger.Ratify.html#10147" class="Bound">es</a> <a id="10192" class="Keyword">in</a> <a id="10195" href="Class.Decidable.Core.html#264" class="Field">dec</a>

  <a id="Is-nothing?"></a><a id="10202" href="Ledger.Ratify.html#10202" class="Function">Is-nothing?</a> <a id="10214" class="Symbol">:</a> <a id="10216" class="Symbol">∀</a> <a id="10218" class="Symbol">{</a><a id="10219" href="Ledger.Ratify.html#10219" class="Bound">A</a> <a id="10221" class="Symbol">:</a> <a id="10223" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="10226" class="Symbol">}</a> <a id="10228" class="Symbol">{</a><a id="10229" href="Ledger.Ratify.html#10229" class="Bound">x</a> <a id="10231" class="Symbol">:</a> <a id="10233" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="10239" href="Ledger.Ratify.html#10219" class="Bound">A</a><a id="10240" class="Symbol">}</a> <a id="10242" class="Symbol">→</a> <a id="10244" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="10248" class="Symbol">(</a><a id="10249" href="Data.Maybe.html#896" class="Function">Is-nothing</a> <a id="10260" href="Ledger.Ratify.html#10229" class="Bound">x</a><a id="10261" class="Symbol">)</a>
  <a id="10265" href="Ledger.Ratify.html#10202" class="Function">Is-nothing?</a> <a id="10277" class="Symbol">{</a><a id="10278" class="Argument">x</a> <a id="10280" class="Symbol">=</a> <a id="10282" href="Ledger.Ratify.html#10282" class="Bound">x</a><a id="10283" class="Symbol">}</a> <a id="10285" class="Symbol">=</a> <a id="10287" href="Data.Maybe.Relation.Unary.All.html#3335" class="Function">All.dec</a> <a id="10295" class="Symbol">(</a><a id="10296" href="Function.Base.html#725" class="Function">const</a> <a id="10302" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10304" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="10307" href="Function.Base.html#704" class="Function">id</a><a id="10309" class="Symbol">)</a> <a id="10311" href="Ledger.Ratify.html#10282" class="Bound">x</a>
    <a id="10317" class="Keyword">where</a>
        <a id="10331" class="Keyword">import</a> <a id="10338" href="Data.Maybe.Relation.Unary.All.html" class="Module">Data.Maybe.Relation.Unary.All</a> <a id="10368" class="Symbol">as</a> <a id="10371" class="Module">All</a>

  <a id="acceptedBy?"></a><a id="10378" href="Ledger.Ratify.html#10378" class="Function">acceptedBy?</a> <a id="10390" class="Symbol">:</a> <a id="10392" class="Symbol">∀</a> <a id="10394" href="Ledger.Ratify.html#10394" class="Bound">Γ</a> <a id="10396" href="Ledger.Ratify.html#10396" class="Bound">es</a> <a id="10399" href="Ledger.Ratify.html#10399" class="Bound">st</a> <a id="10402" href="Ledger.Ratify.html#10402" class="Bound">role</a> <a id="10407" class="Symbol">→</a> <a id="10409" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="10413" class="Symbol">(</a><a id="10414" href="Ledger.Ratify.html#7694" class="Function">acceptedBy</a> <a id="10425" href="Ledger.Ratify.html#10394" class="Bound">Γ</a> <a id="10427" href="Ledger.Ratify.html#10396" class="Bound">es</a> <a id="10430" href="Ledger.Ratify.html#10399" class="Bound">st</a> <a id="10433" href="Ledger.Ratify.html#10402" class="Bound">role</a><a id="10437" class="Symbol">)</a>
  <a id="10441" href="Ledger.Ratify.html#10378" class="Function">acceptedBy?</a> <a id="10453" class="Symbol">_</a> <a id="10455" class="Symbol">_</a> <a id="10457" class="Symbol">_</a> <a id="10459" class="Symbol">_</a> <a id="10461" class="Symbol">=</a> <a id="10463" class="Symbol">_</a> <a id="10465" href="Data.Rational.Properties.html#19360" class="Function Operator">ℚ.≤?</a> <a id="10470" class="Symbol">_</a> <a id="10472" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="10478" class="Symbol">_</a> <a id="10480" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="10482" class="Symbol">_</a> <a id="10484" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a> <a id="10490" class="Symbol">(_</a> <a id="10493" href="Data.Nat.Properties.html#6775" class="Function Operator">≥?</a> <a id="10496" class="Symbol">_</a> <a id="10498" href="Relation.Nullary.Decidable.Core.html#3233" class="Function Operator">⊎-dec</a> <a id="10504" href="Ledger.Ratify.html#10202" class="Function">Is-nothing?</a><a id="10515" class="Symbol">)</a>
    <a id="10521" class="Keyword">where</a>
      <a id="10533" class="Keyword">import</a> <a id="10540" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="10567" class="Symbol">as</a> <a id="10570" class="Module">Dec</a>

  <a id="accepted?"></a><a id="10577" href="Ledger.Ratify.html#10577" class="Function">accepted?</a> <a id="10587" class="Symbol">:</a> <a id="10589" class="Symbol">∀</a> <a id="10591" href="Ledger.Ratify.html#10591" class="Bound">Γ</a> <a id="10593" href="Ledger.Ratify.html#10593" class="Bound">es</a> <a id="10596" href="Ledger.Ratify.html#10596" class="Bound">st</a> <a id="10599" class="Symbol">→</a> <a id="10601" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="10605" class="Symbol">(</a><a id="10606" href="Ledger.Ratify.html#8213" class="Function">accepted</a> <a id="10615" href="Ledger.Ratify.html#10591" class="Bound">Γ</a> <a id="10617" href="Ledger.Ratify.html#10593" class="Bound">es</a> <a id="10620" href="Ledger.Ratify.html#10596" class="Bound">st</a><a id="10622" class="Symbol">)</a>
  <a id="10626" href="Ledger.Ratify.html#10577" class="Function">accepted?</a> <a id="10636" href="Ledger.Ratify.html#10636" class="Bound">Γ</a> <a id="10638" href="Ledger.Ratify.html#10638" class="Bound">es</a> <a id="10641" href="Ledger.Ratify.html#10641" class="Bound">st</a> <a id="10644" class="Symbol">=</a> <a id="10646" class="Keyword">let</a> <a id="10650" href="Ledger.Ratify.html#10650" class="Bound">a</a> <a id="10652" class="Symbol">=</a> <a id="10654" class="Symbol">λ</a> <a id="10656" class="Symbol">{</a><a id="10657" href="Ledger.Ratify.html#10657" class="Bound">x</a><a id="10658" class="Symbol">}</a> <a id="10660" class="Symbol">→</a> <a id="10662" href="Ledger.Ratify.html#10378" class="Function">acceptedBy?</a> <a id="10674" href="Ledger.Ratify.html#10636" class="Bound">Γ</a> <a id="10676" href="Ledger.Ratify.html#10638" class="Bound">es</a> <a id="10679" href="Ledger.Ratify.html#10641" class="Bound">st</a> <a id="10682" href="Ledger.Ratify.html#10657" class="Bound">x</a> <a id="10684" class="Keyword">in</a> <a id="10687" href="Ledger.Ratify.html#10650" class="Bound">a</a> <a id="10689" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="10695" href="Ledger.Ratify.html#10650" class="Bound">a</a> <a id="10697" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="10703" href="Ledger.Ratify.html#10650" class="Bound">a</a>

  <a id="expired?"></a><a id="10708" href="Ledger.Ratify.html#10708" class="Function">expired?</a> <a id="10717" class="Symbol">:</a> <a id="10719" class="Symbol">∀</a> <a id="10721" href="Ledger.Ratify.html#10721" class="Bound">e</a> <a id="10723" href="Ledger.Ratify.html#10723" class="Bound">st</a> <a id="10726" class="Symbol">→</a> <a id="10728" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="10732" class="Symbol">(</a><a id="10733" href="Ledger.Ratify.html#8368" class="Function">expired</a> <a id="10741" href="Ledger.Ratify.html#10721" class="Bound">e</a> <a id="10743" href="Ledger.Ratify.html#10723" class="Bound">st</a><a id="10745" class="Symbol">)</a>
  <a id="10749" href="Ledger.Ratify.html#10708" class="Function">expired?</a> <a id="10758" href="Ledger.Ratify.html#10758" class="Bound">e</a> <a id="10760" href="Ledger.Ratify.html#10760" class="Bound">st</a> <a id="10763" class="Symbol">=</a> <a id="10765" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="10767" href="Ledger.Ratify.html#8368" class="Function">expired</a> <a id="10775" href="Ledger.Ratify.html#10758" class="Bound">e</a> <a id="10777" href="Ledger.Ratify.html#10760" class="Bound">st</a> <a id="10780" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a>


<a id="10784" class="Keyword">private</a> <a id="10792" class="Keyword">variable</a>
  <a id="10803" href="Ledger.Ratify.html#10803" class="Generalizable">Γ</a> <a id="10805" class="Symbol">:</a> <a id="10807" href="Ledger.Ratify.html#2987" class="Record">RatifyEnv</a>
  <a id="10819" href="Ledger.Ratify.html#10819" class="Generalizable">es</a> <a id="10822" href="Ledger.Ratify.html#10822" class="Generalizable">es&#39;</a> <a id="10826" class="Symbol">:</a> <a id="10828" href="Ledger.Enact.html#397" class="Record">EnactState</a>
  <a id="10841" href="Ledger.Ratify.html#10841" class="Generalizable">a</a> <a id="10843" class="Symbol">:</a> <a id="10845" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="10857" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10859" href="Ledger.GovernanceActions.html#2746" class="Record">GovActionState</a>
  <a id="10876" href="Ledger.Ratify.html#10876" class="Generalizable">removed</a> <a id="10884" class="Symbol">:</a> <a id="10886" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="10888" class="Symbol">(</a><a id="10889" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="10901" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10903" href="Ledger.GovernanceActions.html#2746" class="Record">GovActionState</a><a id="10917" class="Symbol">)</a>
  <a id="10921" href="Ledger.Ratify.html#10921" class="Generalizable">d</a> <a id="10923" class="Symbol">:</a> <a id="10925" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

<a id="10931" class="Keyword">open</a> <a id="10936" href="Ledger.Ratify.html#2987" class="Module">RatifyEnv</a>
<a id="10946" class="Keyword">open</a> <a id="10951" href="Ledger.GovernanceActions.html#2746" class="Module">GovActionState</a>


<a id="10968" class="Keyword">data</a>


  <a id="_⊢_⇀⦇_,RATIFY⦈_"></a><a id="10977" href="Ledger.Ratify.html#10977" class="Datatype Operator">_⊢_⇀⦇_,RATIFY⦈_</a> <a id="10993" class="Symbol">:</a> <a id="10995" href="Ledger.Ratify.html#2987" class="Record">RatifyEnv</a> <a id="11005" class="Symbol">→</a> <a id="11007" href="Ledger.Ratify.html#3279" class="Record">RatifyState</a> <a id="11019" class="Symbol">→</a> <a id="11021" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="11033" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="11035" href="Ledger.GovernanceActions.html#2746" class="Record">GovActionState</a> <a id="11050" class="Symbol">→</a> <a id="11052" href="Ledger.Ratify.html#3279" class="Record">RatifyState</a> <a id="11064" class="Symbol">→</a> <a id="11066" href="Agda.Primitive.html#388" class="Primitive">Type</a>

<a id="_⊢_⇀⦇_,RATIFIES⦈_"></a><a id="11072" href="Ledger.Ratify.html#11072" class="Function Operator">_⊢_⇀⦇_,RATIFIES⦈_</a>  <a id="11091" class="Symbol">:</a> <a id="11093" href="Ledger.Ratify.html#2987" class="Record">RatifyEnv</a> <a id="11103" class="Symbol">→</a> <a id="11105" href="Ledger.Ratify.html#3279" class="Record">RatifyState</a> <a id="11117" class="Symbol">→</a> <a id="11119" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="11124" class="Symbol">(</a><a id="11125" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="11137" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="11139" href="Ledger.GovernanceActions.html#2746" class="Record">GovActionState</a><a id="11153" class="Symbol">)</a>
                   <a id="11174" class="Symbol">→</a> <a id="11176" href="Ledger.Ratify.html#3279" class="Record">RatifyState</a> <a id="11188" class="Symbol">→</a> <a id="11190" href="Agda.Primitive.html#388" class="Primitive">Type</a>


<a id="11197" class="Keyword">data</a> <a id="11202" href="Ledger.Ratify.html#10977" class="Datatype Operator">_⊢_⇀⦇_,RATIFY⦈_</a> <a id="11218" class="Keyword">where</a>


  <a id="_⊢_⇀⦇_,RATIFY⦈_.RATIFY-Accept"></a><a id="11228" href="Ledger.Ratify.html#11228" class="InductiveConstructor">RATIFY-Accept</a> <a id="11242" class="Symbol">:</a>
    <a id="11248" class="Keyword">let</a> <a id="11252" href="Ledger.Ratify.html#11252" class="Bound">treasury</a>       <a id="11267" class="Symbol">=</a> <a id="11269" href="Ledger.Ratify.html#10803" class="Generalizable">Γ</a> <a id="11271" class="Symbol">.</a><a id="11272" href="Ledger.Ratify.html#3169" class="Field">treasury</a>
        <a id="11289" href="Ledger.Ratify.html#11289" class="Bound">e</a>              <a id="11304" class="Symbol">=</a> <a id="11306" href="Ledger.Ratify.html#10803" class="Generalizable">Γ</a> <a id="11308" class="Symbol">.</a><a id="11309" href="Ledger.Ratify.html#3054" class="Field">currentEpoch</a>
        <a id="11330" class="Symbol">(</a><a id="11331" href="Ledger.Ratify.html#11331" class="Bound">gaId</a> <a id="11336" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11338" href="Ledger.Ratify.html#11338" class="Bound">gaSt</a><a id="11342" class="Symbol">)</a>  <a id="11345" class="Symbol">=</a> <a id="11347" href="Ledger.Ratify.html#10841" class="Generalizable">a</a>
        <a id="11357" href="Ledger.Ratify.html#11357" class="Bound">action</a>         <a id="11372" class="Symbol">=</a> <a id="11374" href="Ledger.Ratify.html#11338" class="Bound">gaSt</a> <a id="11379" class="Symbol">.</a><a id="11380" href="Ledger.GovernanceActions.html#2867" class="Field">action</a>
    <a id="11391" class="Keyword">in</a>
    <a id="11398" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="11400" href="Ledger.Ratify.html#9373" class="Function">acceptConds</a> <a id="11412" href="Ledger.Ratify.html#10803" class="Generalizable">Γ</a> <a id="11414" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="11416" href="Ledger.Ratify.html#10819" class="Generalizable">es</a> <a id="11419" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11421" href="Ledger.Ratify.html#10876" class="Generalizable">removed</a> <a id="11429" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11431" href="Ledger.Ratify.html#10921" class="Generalizable">d</a> <a id="11433" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="11435" href="Ledger.Ratify.html#10841" class="Generalizable">a</a>
    <a id="11441" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="11443" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="11445" href="Ledger.Ratify.html#11331" class="Bound">gaId</a> <a id="11450" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11452" href="Ledger.Ratify.html#11252" class="Bound">treasury</a> <a id="11461" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11463" href="Ledger.Ratify.html#11289" class="Bound">e</a> <a id="11465" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="11467" href="Ledger.Enact.html#2101" class="Datatype Operator">⊢</a> <a id="11469" href="Ledger.Ratify.html#10819" class="Generalizable">es</a> <a id="11472" href="Ledger.Enact.html#2101" class="Datatype Operator">⇀⦇</a> <a id="11475" href="Ledger.Ratify.html#11357" class="Bound">action</a> <a id="11482" href="Ledger.Enact.html#2101" class="Datatype Operator">,ENACT⦈</a> <a id="11490" href="Ledger.Ratify.html#10822" class="Generalizable">es&#39;</a>
      <a id="11500" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="11539" href="Ledger.Ratify.html#10803" class="Generalizable">Γ</a> <a id="11541" href="Ledger.Ratify.html#10977" class="Datatype Operator">⊢</a> <a id="11543" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="11545" href="Ledger.Ratify.html#10819" class="Generalizable">es</a>  <a id="11549" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11551" href="Ledger.Ratify.html#10876" class="Generalizable">removed</a>         <a id="11567" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11569" href="Ledger.Ratify.html#10921" class="Generalizable">d</a>                     <a id="11591" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="11593" href="Ledger.Ratify.html#10977" class="Datatype Operator">⇀⦇</a> <a id="11596" href="Ledger.Ratify.html#10841" class="Generalizable">a</a> <a id="11598" href="Ledger.Ratify.html#10977" class="Datatype Operator">,RATIFY⦈</a>
          <a id="11617" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="11619" href="Ledger.Ratify.html#10822" class="Generalizable">es&#39;</a> <a id="11623" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11625" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="11627" href="Ledger.Ratify.html#10841" class="Generalizable">a</a> <a id="11629" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="11631" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="11633" href="Ledger.Ratify.html#10876" class="Generalizable">removed</a> <a id="11641" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11643" href="Ledger.Ratify.html#8930" class="Function">delayingAction</a> <a id="11658" class="Symbol">(</a><a id="11659" href="Ledger.GovernanceActions.html#1433" class="Field">gaType</a> <a id="11666" href="Ledger.Ratify.html#11357" class="Bound">action</a><a id="11672" class="Symbol">)</a> <a id="11674" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a>

  <a id="_⊢_⇀⦇_,RATIFY⦈_.RATIFY-Reject"></a><a id="11679" href="Ledger.Ratify.html#11679" class="InductiveConstructor">RATIFY-Reject</a> <a id="11693" class="Symbol">:</a>
    <a id="11699" class="Keyword">let</a> <a id="11703" href="Ledger.Ratify.html#11703" class="Bound">e</a>              <a id="11718" class="Symbol">=</a> <a id="11720" href="Ledger.Ratify.html#10803" class="Generalizable">Γ</a> <a id="11722" class="Symbol">.</a><a id="11723" href="Ledger.Ratify.html#3054" class="Field">currentEpoch</a>
        <a id="11744" class="Symbol">(</a><a id="11745" href="Ledger.Ratify.html#11745" class="Bound">gaId</a> <a id="11750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11752" href="Ledger.Ratify.html#11752" class="Bound">gaSt</a><a id="11756" class="Symbol">)</a>  <a id="11759" class="Symbol">=</a> <a id="11761" href="Ledger.Ratify.html#10841" class="Generalizable">a</a>
    <a id="11767" class="Keyword">in</a>
    <a id="11774" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="11776" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11778" href="Ledger.Ratify.html#9373" class="Function">acceptConds</a> <a id="11790" href="Ledger.Ratify.html#10803" class="Generalizable">Γ</a> <a id="11792" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="11794" href="Ledger.Ratify.html#10819" class="Generalizable">es</a> <a id="11797" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11799" href="Ledger.Ratify.html#10876" class="Generalizable">removed</a> <a id="11807" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11809" href="Ledger.Ratify.html#10921" class="Generalizable">d</a> <a id="11811" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="11813" href="Ledger.Ratify.html#10841" class="Generalizable">a</a>
    <a id="11819" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="11821" href="Ledger.Ratify.html#8368" class="Function">expired</a> <a id="11829" href="Ledger.Ratify.html#11703" class="Bound">e</a> <a id="11831" href="Ledger.Ratify.html#11752" class="Bound">gaSt</a>
      <a id="11842" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="11881" href="Ledger.Ratify.html#10803" class="Generalizable">Γ</a> <a id="11883" href="Ledger.Ratify.html#10977" class="Datatype Operator">⊢</a> <a id="11885" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="11887" href="Ledger.Ratify.html#10819" class="Generalizable">es</a> <a id="11890" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11892" href="Ledger.Ratify.html#10876" class="Generalizable">removed</a> <a id="11900" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11902" href="Ledger.Ratify.html#10921" class="Generalizable">d</a> <a id="11904" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="11906" href="Ledger.Ratify.html#10977" class="Datatype Operator">⇀⦇</a> <a id="11909" href="Ledger.Ratify.html#10841" class="Generalizable">a</a> <a id="11911" href="Ledger.Ratify.html#10977" class="Datatype Operator">,RATIFY⦈</a> <a id="11920" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="11922" href="Ledger.Ratify.html#10819" class="Generalizable">es</a> <a id="11925" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11927" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="11929" href="Ledger.Ratify.html#10841" class="Generalizable">a</a> <a id="11931" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="11933" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="11935" href="Ledger.Ratify.html#10876" class="Generalizable">removed</a> <a id="11943" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11945" href="Ledger.Ratify.html#10921" class="Generalizable">d</a> <a id="11947" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a>

  <a id="_⊢_⇀⦇_,RATIFY⦈_.RATIFY-Continue"></a><a id="11952" href="Ledger.Ratify.html#11952" class="InductiveConstructor">RATIFY-Continue</a> <a id="11968" class="Symbol">:</a>
     <a id="11975" class="Keyword">let</a> <a id="11979" href="Ledger.Ratify.html#11979" class="Bound">e</a>              <a id="11994" class="Symbol">=</a> <a id="11996" href="Ledger.Ratify.html#10803" class="Generalizable">Γ</a> <a id="11998" class="Symbol">.</a><a id="11999" href="Ledger.Ratify.html#3054" class="Field">currentEpoch</a>
         <a id="12021" class="Symbol">(</a><a id="12022" href="Ledger.Ratify.html#12022" class="Bound">gaId</a> <a id="12027" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12029" href="Ledger.Ratify.html#12029" class="Bound">gaSt</a><a id="12033" class="Symbol">)</a>  <a id="12036" class="Symbol">=</a> <a id="12038" href="Ledger.Ratify.html#10841" class="Generalizable">a</a>
     <a id="12045" class="Keyword">in</a>
     <a id="12053" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="12055" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12057" href="Ledger.Ratify.html#9373" class="Function">acceptConds</a> <a id="12069" href="Ledger.Ratify.html#10803" class="Generalizable">Γ</a> <a id="12071" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="12073" href="Ledger.Ratify.html#10819" class="Generalizable">es</a> <a id="12076" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12078" href="Ledger.Ratify.html#10876" class="Generalizable">removed</a> <a id="12086" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12088" href="Ledger.Ratify.html#10921" class="Generalizable">d</a> <a id="12090" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="12092" href="Ledger.Ratify.html#10841" class="Generalizable">a</a>
     <a id="12099" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="12101" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12103" href="Ledger.Ratify.html#8368" class="Function">expired</a> <a id="12111" href="Ledger.Ratify.html#11979" class="Bound">e</a> <a id="12113" href="Ledger.Ratify.html#12029" class="Bound">gaSt</a>
       <a id="12125" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
       <a id="12165" href="Ledger.Ratify.html#10803" class="Generalizable">Γ</a> <a id="12167" href="Ledger.Ratify.html#10977" class="Datatype Operator">⊢</a> <a id="12169" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="12171" href="Ledger.Ratify.html#10819" class="Generalizable">es</a> <a id="12174" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12176" href="Ledger.Ratify.html#10876" class="Generalizable">removed</a> <a id="12184" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12186" href="Ledger.Ratify.html#10921" class="Generalizable">d</a> <a id="12188" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="12190" href="Ledger.Ratify.html#10977" class="Datatype Operator">⇀⦇</a> <a id="12193" href="Ledger.Ratify.html#10841" class="Generalizable">a</a> <a id="12195" href="Ledger.Ratify.html#10977" class="Datatype Operator">,RATIFY⦈</a> <a id="12204" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="12206" href="Ledger.Ratify.html#10819" class="Generalizable">es</a> <a id="12209" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12211" href="Ledger.Ratify.html#10876" class="Generalizable">removed</a> <a id="12219" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12221" href="Ledger.Ratify.html#10921" class="Generalizable">d</a> <a id="12223" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a>

<a id="12226" href="Ledger.Ratify.html#11072" class="Function Operator">_⊢_⇀⦇_,RATIFIES⦈_</a> <a id="12244" class="Symbol">=</a> <a id="12246" href="Interface.STS.html#2329" class="Function">ReflexiveTransitiveClosure</a> <a id="12273" class="Symbol">{</a><a id="12274" class="Argument">sts</a> <a id="12278" class="Symbol">=</a> <a id="12280" href="Ledger.Ratify.html#10977" class="Datatype Operator">_⊢_⇀⦇_,RATIFY⦈_</a><a id="12295" class="Symbol">}</a>

</pre></body></html>