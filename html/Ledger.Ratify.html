<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Ratify</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">import</a> <a id="33" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="46" class="Symbol">as</a> <a id="49" class="Module">ℤ</a>
<a id="51" class="Keyword">open</a> <a id="56" class="Keyword">import</a> <a id="63" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="77" class="Symbol">as</a> <a id="80" class="Module">ℚ</a> <a id="82" class="Keyword">using</a> <a id="88" class="Symbol">(</a><a id="89" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="90" class="Symbol">;</a> <a id="92" href="Data.Rational.Base.html#4325" class="Function">0ℚ</a><a id="94" class="Symbol">;</a> <a id="96" href="Data.Rational.Base.html#6776" class="Function Operator">_⊔_</a><a id="99" class="Symbol">)</a>
<a id="101" class="Keyword">open</a> <a id="106" class="Keyword">import</a> <a id="113" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="133" class="Keyword">hiding</a> <a id="140" class="Symbol">(</a><a id="141" href="Data.Nat.Properties.html#3874" class="Function Operator">_≟_</a><a id="144" class="Symbol">;</a> <a id="146" href="Data.Nat.Properties.html#6709" class="Function Operator">_≤?_</a><a id="150" class="Symbol">)</a>

<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="180" class="Keyword">hiding</a> <a id="187" class="Symbol">(</a><a id="188" href="Data.Bool.Base.html#995" class="Function Operator">_∧_</a><a id="191" class="Symbol">;</a> <a id="193" href="Data.Nat.Base.html#5485" class="Function Operator">_⊔_</a><a id="196" class="Symbol">)</a> <a id="198" class="Keyword">renaming</a> <a id="207" class="Symbol">(</a><a id="208" href="abstract-set-theory.FiniteSetTheory.html#2895" class="Function">filterᵐ</a> <a id="216" class="Symbol">to</a> <a id="219" class="Function">filter</a><a id="225" class="Symbol">)</a>
<a id="227" class="Keyword">open</a> <a id="232" class="Keyword">import</a> <a id="239" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a> <a id="258" class="Keyword">hiding</a> <a id="265" class="Symbol">(</a><a id="266" href="Ledger.Transaction.html#770" class="InductiveConstructor">Vote</a><a id="270" class="Symbol">)</a>

<a id="273" class="Keyword">module</a> <a id="280" href="Ledger.Ratify.html" class="Module">Ledger.Ratify</a> <a id="294" class="Symbol">(</a><a id="295" href="Ledger.Ratify.html#295" class="Bound">txs</a> <a id="299" class="Symbol">:</a> <a id="301" class="Symbol">_)</a> <a id="304" class="Symbol">(</a><a id="305" class="Keyword">open</a> <a id="310" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="331" href="Ledger.Ratify.html#295" class="Bound">txs</a><a id="334" class="Symbol">)</a> <a id="336" class="Keyword">where</a>

<a id="343" class="Keyword">open</a> <a id="348" class="Keyword">import</a> <a id="355" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="368" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="381" class="Keyword">open</a> <a id="386" class="Keyword">import</a> <a id="393" href="Ledger.Enact.html" class="Module">Ledger.Enact</a> <a id="406" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="419" class="Keyword">open</a> <a id="424" class="Keyword">import</a> <a id="431" href="Ledger.GovernanceActions.html" class="Module">Ledger.GovernanceActions</a> <a id="456" href="Ledger.Transaction.html#1809" class="Function">govStructure</a> <a id="469" class="Keyword">using</a> <a id="475" class="Symbol">(</a><a id="476" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a><a id="480" class="Symbol">)</a>

<a id="483" class="Keyword">infixr</a> <a id="490" class="Number">2</a> <a id="492" href="Ledger.Ratify.html#496" class="Function Operator">_∧_</a>
<a id="_∧_"></a><a id="496" href="Ledger.Ratify.html#496" class="Function Operator">_∧_</a> <a id="500" class="Symbol">=</a> <a id="502" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a>

<a id="507" class="Keyword">instance</a>
  <a id="518" href="Ledger.Ratify.html#518" class="Function">_</a> <a id="520" class="Symbol">=</a> <a id="522" href="Data.Nat.Properties.html#17331" class="Function">+-0-commutativeMonoid</a>


<a id="546" class="Keyword">private</a>
  <a id="∣_∣_∣_∣"></a><a id="556" href="Ledger.Ratify.html#556" class="Function Operator">∣_∣_∣_∣</a> <a id="564" class="Symbol">:</a> <a id="566" class="Symbol">{</a><a id="567" href="Ledger.Ratify.html#567" class="Bound">A</a> <a id="569" class="Symbol">:</a> <a id="571" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="575" class="Symbol">}</a> <a id="577" class="Symbol">→</a> <a id="579" href="Ledger.Ratify.html#567" class="Bound">A</a> <a id="581" class="Symbol">→</a> <a id="583" href="Ledger.Ratify.html#567" class="Bound">A</a> <a id="585" class="Symbol">→</a> <a id="587" href="Ledger.Ratify.html#567" class="Bound">A</a> <a id="589" class="Symbol">→</a> <a id="591" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="599" class="Symbol">→</a> <a id="601" href="Ledger.Ratify.html#567" class="Bound">A</a>
  <a id="605" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="607" href="Ledger.Ratify.html#607" class="Bound">q₁</a> <a id="610" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="612" href="Ledger.Ratify.html#612" class="Bound">q₂</a> <a id="615" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="617" href="Ledger.Ratify.html#617" class="Bound">q₃</a> <a id="620" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="622" class="Symbol">=</a> <a id="624" class="Symbol">λ</a> <a id="626" class="Symbol">{</a> <a id="628" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="631" class="Symbol">→</a> <a id="633" href="Ledger.Ratify.html#607" class="Bound">q₁</a> <a id="636" class="Symbol">;</a> <a id="638" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a> <a id="643" class="Symbol">→</a> <a id="645" href="Ledger.Ratify.html#612" class="Bound">q₂</a> <a id="648" class="Symbol">;</a> <a id="650" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a> <a id="654" class="Symbol">→</a> <a id="656" href="Ledger.Ratify.html#617" class="Bound">q₃</a> <a id="659" class="Symbol">}</a>

  <a id="∣_∥_∣"></a><a id="664" href="Ledger.Ratify.html#664" class="Function Operator">∣_∥_∣</a> <a id="670" class="Symbol">:</a> <a id="672" class="Symbol">{</a><a id="673" href="Ledger.Ratify.html#673" class="Bound">A</a> <a id="675" class="Symbol">:</a> <a id="677" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="681" class="Symbol">}</a> <a id="683" class="Symbol">→</a> <a id="685" href="Ledger.Ratify.html#673" class="Bound">A</a> <a id="687" class="Symbol">→</a> <a id="689" href="Ledger.Ratify.html#673" class="Bound">A</a> <a id="691" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="693" href="Ledger.Ratify.html#673" class="Bound">A</a> <a id="695" class="Symbol">→</a> <a id="697" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="705" class="Symbol">→</a> <a id="707" href="Ledger.Ratify.html#673" class="Bound">A</a>
  <a id="711" href="Ledger.Ratify.html#664" class="Function Operator">∣</a> <a id="713" href="Ledger.Ratify.html#713" class="Bound">q₁</a> <a id="716" href="Ledger.Ratify.html#664" class="Function Operator">∥</a> <a id="718" class="Symbol">(</a><a id="719" href="Ledger.Ratify.html#719" class="Bound">q₂</a> <a id="722" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="724" href="Ledger.Ratify.html#724" class="Bound">q₃</a><a id="726" class="Symbol">)</a> <a id="728" href="Ledger.Ratify.html#664" class="Function Operator">∣</a> <a id="730" class="Symbol">=</a> <a id="732" class="Symbol">λ</a> <a id="734" class="Symbol">{</a> <a id="736" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="739" class="Symbol">→</a> <a id="741" href="Ledger.Ratify.html#713" class="Bound">q₁</a> <a id="744" class="Symbol">;</a> <a id="746" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a> <a id="751" class="Symbol">→</a> <a id="753" href="Ledger.Ratify.html#719" class="Bound">q₂</a> <a id="756" class="Symbol">;</a> <a id="758" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a> <a id="762" class="Symbol">→</a> <a id="764" href="Ledger.Ratify.html#724" class="Bound">q₃</a> <a id="767" class="Symbol">}</a>

<a id="vote"></a><a id="770" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="775" class="Symbol">:</a> <a id="777" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="779" class="Symbol">→</a> <a id="781" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="787" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="789" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="794" class="Symbol">=</a> <a id="796" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a>

<a id="defer"></a><a id="802" href="Ledger.Ratify.html#802" class="Function">defer</a> <a id="808" class="Symbol">:</a> <a id="810" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="812" href="Ledger.Ratify.html#802" class="Function">defer</a> <a id="818" class="Symbol">=</a> <a id="820" href="Data.Rational.Base.html#4346" class="Function">ℚ.1ℚ</a> <a id="825" href="Data.Rational.Base.html#6206" class="Function Operator">ℚ.+</a> <a id="829" href="Data.Rational.Base.html#4346" class="Function">ℚ.1ℚ</a>

<a id="maxThreshold"></a><a id="835" href="Ledger.Ratify.html#835" class="Function">maxThreshold</a> <a id="848" class="Symbol">:</a> <a id="850" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="852" class="Symbol">(</a><a id="853" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="859" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="860" class="Symbol">)</a> <a id="862" class="Symbol">→</a> <a id="864" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="870" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="872" href="Ledger.Ratify.html#835" class="Function">maxThreshold</a> <a id="885" href="Ledger.Ratify.html#885" class="Bound">x</a> <a id="887" class="Symbol">=</a> <a id="889" href="Data.List.Base.html#4249" class="Function">foldl</a> <a id="895" href="Ledger.Ratify.html#943" class="Function">comb</a> <a id="900" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="908" class="Symbol">(</a><a id="909" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="915" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="917" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="928" href="Ledger.Ratify.html#885" class="Bound">x</a><a id="929" class="Symbol">)</a>
  <a id="933" class="Keyword">where</a>
    <a id="943" href="Ledger.Ratify.html#943" class="Function">comb</a> <a id="948" class="Symbol">:</a> <a id="950" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="956" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="958" class="Symbol">→</a> <a id="960" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="966" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="968" class="Symbol">→</a> <a id="970" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="976" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
    <a id="982" href="Ledger.Ratify.html#943" class="Function">comb</a> <a id="987" class="Symbol">(</a><a id="988" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="993" href="Ledger.Ratify.html#993" class="Bound">x</a><a id="994" class="Symbol">)</a> <a id="996" class="Symbol">(</a><a id="997" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1002" href="Ledger.Ratify.html#1002" class="Bound">y</a><a id="1003" class="Symbol">)</a> <a id="1005" class="Symbol">=</a> <a id="1007" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1012" class="Symbol">(</a><a id="1013" href="Ledger.Ratify.html#993" class="Bound">x</a> <a id="1015" href="Data.Rational.Base.html#6776" class="Function Operator">⊔</a> <a id="1017" href="Ledger.Ratify.html#1002" class="Bound">y</a><a id="1018" class="Symbol">)</a>
    <a id="1024" href="Ledger.Ratify.html#943" class="Function">comb</a> <a id="1029" class="Symbol">(</a><a id="1030" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1035" href="Ledger.Ratify.html#1035" class="Bound">x</a><a id="1036" class="Symbol">)</a> <a id="1038" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="1047" class="Symbol">=</a> <a id="1049" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1054" href="Ledger.Ratify.html#1035" class="Bound">x</a>
    <a id="1060" href="Ledger.Ratify.html#943" class="Function">comb</a> <a id="1065" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="1074" class="Symbol">(</a><a id="1075" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1080" href="Ledger.Ratify.html#1080" class="Bound">y</a><a id="1081" class="Symbol">)</a> <a id="1083" class="Symbol">=</a> <a id="1085" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1090" href="Ledger.Ratify.html#1080" class="Bound">y</a>
    <a id="1096" href="Ledger.Ratify.html#943" class="Function">comb</a> <a id="1101" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="1110" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="1119" class="Symbol">=</a> <a id="1121" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="─"></a><a id="1130" href="Ledger.Ratify.html#1130" class="Function">─</a> <a id="1132" class="Symbol">:</a> <a id="1134" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1140" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="1142" href="Ledger.Ratify.html#1130" class="Function">─</a> <a id="1144" class="Symbol">=</a> <a id="1146" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="✓†"></a><a id="1154" href="Ledger.Ratify.html#1154" class="Function">✓†</a> <a id="1157" class="Symbol">=</a> <a id="1159" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1164" href="Ledger.Ratify.html#802" class="Function">defer</a>


<a id="threshold"></a><a id="1172" href="Ledger.Ratify.html#1172" class="Function">threshold</a> <a id="1182" class="Symbol">:</a> <a id="1184" href="Ledger.PParams.html#1443" class="Record">PParams</a> <a id="1192" class="Symbol">→</a> <a id="1194" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1200" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="1202" class="Symbol">→</a> <a id="1204" href="Ledger.GovernanceActions.html#1372" class="Record">GovAction</a> <a id="1214" class="Symbol">→</a> <a id="1216" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="1224" class="Symbol">→</a> <a id="1226" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1232" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="1234" href="Ledger.Ratify.html#1172" class="Function">threshold</a> <a id="1244" href="Ledger.Ratify.html#1244" class="Bound">pp</a> <a id="1247" href="Ledger.Ratify.html#1247" class="Bound">ccThreshold</a> <a id="1259" class="Symbol">=</a>


  <a id="1265" class="Symbol">λ</a> <a id="1267" class="Keyword">where</a>


      <a id="1281" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1283" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>     <a id="1300" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1302" class="Symbol">_</a> <a id="1304" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1308" class="Symbol">→</a> <a id="1310" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1312" href="Ledger.Ratify.html#1130" class="Function">─</a>   <a id="1316" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1318" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1323" href="Ledger.PParams.html#1325" class="Function">P1</a>      <a id="1331" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1333" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1338" href="Ledger.PParams.html#1413" class="Function">Q1</a>  <a id="1342" href="Ledger.Ratify.html#556" class="Function Operator">∣</a>
      <a id="1350" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1352" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a>  <a id="1369" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1371" class="Symbol">_</a> <a id="1373" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1377" class="Symbol">→</a> <a id="1379" href="Ledger.Ratify.html#664" class="Function Operator">∣</a> <a id="1381" href="Ledger.Ratify.html#1130" class="Function">─</a>   <a id="1385" href="Ledger.Ratify.html#664" class="Function Operator">∥</a> <a id="1387" href="Ledger.Ratify.html#1933" class="Function">P/Q2a/b</a>                 <a id="1411" href="Ledger.Ratify.html#664" class="Function Operator">∣</a>
      <a id="1419" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1421" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a>  <a id="1438" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1440" class="Symbol">_</a> <a id="1442" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1446" class="Symbol">→</a> <a id="1448" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1450" href="Ledger.Ratify.html#1893" class="Function">✓</a>   <a id="1454" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1456" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1461" href="Ledger.PParams.html#1336" class="Function">P3</a>      <a id="1469" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1471" href="Ledger.Ratify.html#1130" class="Function">─</a>        <a id="1480" href="Ledger.Ratify.html#556" class="Function Operator">∣</a>
      <a id="1488" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1490" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>        <a id="1507" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1509" class="Symbol">_</a> <a id="1511" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1515" class="Symbol">→</a> <a id="1517" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1519" href="Ledger.Ratify.html#1893" class="Function">✓</a>   <a id="1523" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1525" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1530" href="Ledger.PParams.html#1339" class="Function">P4</a>      <a id="1538" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1540" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1545" href="Ledger.PParams.html#1424" class="Function">Q4</a>  <a id="1549" href="Ledger.Ratify.html#556" class="Function Operator">∣</a>
      <a id="1557" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1559" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>    <a id="1576" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1578" href="Ledger.Ratify.html#1578" class="Bound">x</a> <a id="1580" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1584" class="Symbol">→</a> <a id="1586" href="Ledger.Ratify.html#664" class="Function Operator">∣</a> <a id="1588" href="Ledger.Ratify.html#1893" class="Function">✓</a>   <a id="1592" href="Ledger.Ratify.html#664" class="Function Operator">∥</a> <a id="1594" href="Ledger.Ratify.html#2536" class="Function">P/Q5</a> <a id="1599" href="Ledger.Ratify.html#1578" class="Bound">x</a>                  <a id="1618" href="Ledger.Ratify.html#664" class="Function Operator">∣</a>
      <a id="1626" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1628" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>     <a id="1645" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1647" class="Symbol">_</a> <a id="1649" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1653" class="Symbol">→</a> <a id="1655" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1657" href="Ledger.Ratify.html#1893" class="Function">✓</a>   <a id="1661" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1663" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1668" href="Ledger.PParams.html#1358" class="Function">P6</a>      <a id="1676" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1678" href="Ledger.Ratify.html#1130" class="Function">─</a>        <a id="1687" href="Ledger.Ratify.html#556" class="Function Operator">∣</a>
      <a id="1695" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1697" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>             <a id="1714" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1716" class="Symbol">_</a> <a id="1718" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1722" class="Symbol">→</a> <a id="1724" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1726" href="Ledger.Ratify.html#1154" class="Function">✓†</a>  <a id="1730" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1732" href="Ledger.Ratify.html#1154" class="Function">✓†</a>           <a id="1745" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1747" href="Ledger.Ratify.html#1154" class="Function">✓†</a>       <a id="1756" href="Ledger.Ratify.html#556" class="Function Operator">∣</a>
        <a id="1766" class="Keyword">where</a>


        <a id="1782" class="Keyword">open</a> <a id="1787" href="Ledger.PParams.html#1443" class="Module">PParams</a> <a id="1795" href="Ledger.Ratify.html#1244" class="Bound">pp</a>
        <a id="1806" class="Keyword">open</a> <a id="1811" href="Ledger.PParams.html#1285" class="Module">DrepThresholds</a> <a id="1826" href="Ledger.PParams.html#2928" class="Function">drepThresholds</a>
        <a id="1849" class="Keyword">open</a> <a id="1854" href="Ledger.PParams.html#1373" class="Module">PoolThresholds</a> <a id="1869" href="Ledger.PParams.html#2873" class="Function">poolThresholds</a>

        <a id="1893" href="Ledger.Ratify.html#1893" class="Function">✓</a> <a id="1895" class="Symbol">=</a> <a id="1897" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="1903" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1908" href="Ledger.Ratify.html#1154" class="Function">✓†</a> <a id="1911" href="Ledger.Ratify.html#1247" class="Bound">ccThreshold</a>


        <a id="1933" href="Ledger.Ratify.html#1933" class="Function">P/Q2a/b</a> <a id="1941" class="Symbol">:</a> <a id="1943" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1949" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="1951" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1953" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1959" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
        <a id="1969" href="Ledger.Ratify.html#1933" class="Function">P/Q2a/b</a> <a id="1977" class="Symbol">=</a>  <a id="1980" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="1985" href="Ledger.Ratify.html#1247" class="Bound">ccThreshold</a> <a id="1997" href="Function.Base.html#4042" class="Function Operator">of</a>


          <a id="2012" class="Symbol">λ</a> <a id="2014" class="Keyword">where</a>


                   <a id="2041" class="Symbol">(</a><a id="2042" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2047" class="Symbol">_)</a>  <a id="2051" class="Symbol">→</a> <a id="2053" class="Symbol">(</a><a id="2054" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2059" href="Ledger.PParams.html#1328" class="Function">P2a</a> <a id="2063" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2065" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2070" href="Ledger.PParams.html#1416" class="Function">Q2a</a><a id="2073" class="Symbol">)</a>
                   <a id="2094" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>   <a id="2104" class="Symbol">→</a> <a id="2106" class="Symbol">(</a><a id="2107" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2112" href="Ledger.PParams.html#1332" class="Function">P2b</a> <a id="2116" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2118" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2123" href="Ledger.PParams.html#1420" class="Function">Q2b</a><a id="2126" class="Symbol">)</a>

        <a id="2137" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a> <a id="2153" class="Symbol">:</a> <a id="2155" href="Ledger.PParams.html#1086" class="Datatype">PParamGroup</a> <a id="2167" class="Symbol">→</a> <a id="2169" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2175" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="2177" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2179" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2185" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
        <a id="2195" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a> <a id="2211" href="Ledger.PParams.html#1113" class="InductiveConstructor">NetworkGroup</a>     <a id="2228" class="Symbol">=</a> <a id="2230" class="Symbol">(</a><a id="2231" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2236" href="Ledger.PParams.html#1342" class="Function">P5a</a>  <a id="2241" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2243" href="Ledger.Ratify.html#1130" class="Function">─</a>         <a id="2253" class="Symbol">)</a>
        <a id="2263" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a> <a id="2279" href="Ledger.PParams.html#1146" class="InductiveConstructor">EconomicGroup</a>    <a id="2296" class="Symbol">=</a> <a id="2298" class="Symbol">(</a><a id="2299" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2304" href="Ledger.PParams.html#1346" class="Function">P5b</a>  <a id="2309" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2311" href="Ledger.Ratify.html#1130" class="Function">─</a>         <a id="2321" class="Symbol">)</a>
        <a id="2331" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a> <a id="2347" href="Ledger.PParams.html#1179" class="InductiveConstructor">TechnicalGroup</a>   <a id="2364" class="Symbol">=</a> <a id="2366" class="Symbol">(</a><a id="2367" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2372" href="Ledger.PParams.html#1350" class="Function">P5c</a>  <a id="2377" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2379" href="Ledger.Ratify.html#1130" class="Function">─</a>         <a id="2389" class="Symbol">)</a>
        <a id="2399" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a> <a id="2415" href="Ledger.PParams.html#1212" class="InductiveConstructor">GovernanceGroup</a>  <a id="2432" class="Symbol">=</a> <a id="2434" class="Symbol">(</a><a id="2435" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2440" href="Ledger.PParams.html#1354" class="Function">P5d</a>  <a id="2445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2447" href="Ledger.Ratify.html#1130" class="Function">─</a>         <a id="2457" class="Symbol">)</a>
        <a id="2467" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a> <a id="2483" href="Ledger.PParams.html#1245" class="InductiveConstructor">SecurityGroup</a>    <a id="2500" class="Symbol">=</a> <a id="2502" class="Symbol">(</a><a id="2503" href="Ledger.Ratify.html#1130" class="Function">─</a>         <a id="2513" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2515" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2520" href="Ledger.PParams.html#1427" class="Function">Q5</a>   <a id="2525" class="Symbol">)</a>

        <a id="2536" href="Ledger.Ratify.html#2536" class="Function">P/Q5</a> <a id="2541" class="Symbol">:</a> <a id="2543" href="Ledger.PParams.html#13870" class="Function">PParamsUpdate</a> <a id="2557" class="Symbol">→</a> <a id="2559" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2565" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="2567" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2569" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2575" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
        <a id="2585" href="Ledger.Ratify.html#2536" class="Function">P/Q5</a> <a id="2590" href="Ledger.Ratify.html#2590" class="Bound">ppu</a> <a id="2594" class="Symbol">=</a> <a id="2596" href="Ledger.Ratify.html#835" class="Function">maxThreshold</a> <a id="2609" class="Symbol">(</a><a id="2610" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2615" class="Symbol">(</a><a id="2616" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2622" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2624" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a><a id="2639" class="Symbol">)</a> <a id="2641" class="Symbol">(</a><a id="2642" href="Ledger.PParams.html#13482" class="Function">updateGroups</a> <a id="2655" href="Ledger.Ratify.html#2590" class="Bound">ppu</a><a id="2658" class="Symbol">))</a>
                 <a id="2678" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2680" href="Ledger.Ratify.html#835" class="Function">maxThreshold</a> <a id="2693" class="Symbol">(</a><a id="2694" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2699" class="Symbol">(</a><a id="2700" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2706" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2708" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a><a id="2723" class="Symbol">)</a> <a id="2725" class="Symbol">(</a><a id="2726" href="Ledger.PParams.html#13482" class="Function">updateGroups</a> <a id="2739" href="Ledger.Ratify.html#2590" class="Bound">ppu</a><a id="2742" class="Symbol">))</a>

<a id="canVote"></a><a id="2746" href="Ledger.Ratify.html#2746" class="Function">canVote</a> <a id="2754" class="Symbol">:</a> <a id="2756" href="Ledger.PParams.html#1443" class="Record">PParams</a> <a id="2764" class="Symbol">→</a> <a id="2766" href="Ledger.GovernanceActions.html#1372" class="Record">GovAction</a> <a id="2776" class="Symbol">→</a> <a id="2778" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="2786" class="Symbol">→</a> <a id="2788" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="2793" href="Ledger.Ratify.html#2746" class="Function">canVote</a> <a id="2801" href="Ledger.Ratify.html#2801" class="Bound">pp</a> <a id="2804" href="Ledger.Ratify.html#2804" class="Bound">a</a> <a id="2806" href="Ledger.Ratify.html#2806" class="Bound">r</a> <a id="2808" class="Symbol">=</a> <a id="2810" href="Data.Maybe.html#845" class="Function">Is-just</a> <a id="2818" class="Symbol">(</a><a id="2819" href="Ledger.Ratify.html#1172" class="Function">threshold</a> <a id="2829" href="Ledger.Ratify.html#2801" class="Bound">pp</a> <a id="2832" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2840" href="Ledger.Ratify.html#2804" class="Bound">a</a> <a id="2842" href="Ledger.Ratify.html#2806" class="Bound">r</a><a id="2843" class="Symbol">)</a>


<a id="2847" class="Keyword">record</a> <a id="StakeDistrs"></a><a id="2854" href="Ledger.Ratify.html#2854" class="Record">StakeDistrs</a> <a id="2866" class="Symbol">:</a> <a id="2868" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2873" class="Keyword">where</a>
  <a id="2881" class="Keyword">field</a>
    <a id="StakeDistrs.stakeDistr"></a><a id="2891" href="Ledger.Ratify.html#2891" class="Field">stakeDistr</a>  <a id="2903" class="Symbol">:</a> <a id="2905" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="2912" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2914" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>

<a id="2920" class="Keyword">record</a> <a id="RatifyEnv"></a><a id="2927" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="2937" class="Symbol">:</a> <a id="2939" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2944" class="Keyword">where</a>
  <a id="2952" class="Keyword">field</a>
    <a id="RatifyEnv.stakeDistrs"></a><a id="2962" href="Ledger.Ratify.html#2962" class="Field">stakeDistrs</a>   <a id="2976" class="Symbol">:</a> <a id="2978" href="Ledger.Ratify.html#2854" class="Record">StakeDistrs</a>
    <a id="RatifyEnv.currentEpoch"></a><a id="2994" href="Ledger.Ratify.html#2994" class="Field">currentEpoch</a>  <a id="3008" class="Symbol">:</a> <a id="3010" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>
    <a id="RatifyEnv.dreps"></a><a id="3020" href="Ledger.Ratify.html#3020" class="Field">dreps</a>         <a id="3034" class="Symbol">:</a> <a id="3036" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3047" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3049" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>
    <a id="RatifyEnv.ccHotKeys"></a><a id="3059" href="Ledger.Ratify.html#3059" class="Field">ccHotKeys</a>     <a id="3073" class="Symbol">:</a> <a id="3075" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3086" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3088" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3094" href="Ledger.Address.html#273" class="Datatype">Credential</a>
    <a id="RatifyEnv.treasury"></a><a id="3109" href="Ledger.Ratify.html#3109" class="Field">treasury</a>      <a id="3123" class="Symbol">:</a> <a id="3125" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="RatifyEnv.pools"></a><a id="3134" href="Ledger.Ratify.html#3134" class="Field">pools</a>         <a id="3148" class="Symbol">:</a> <a id="3150" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a> <a id="3158" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3160" href="Ledger.Certs.html#733" class="Record">PoolParams</a>
    <a id="RatifyEnv.delegatees"></a><a id="3175" href="Ledger.Ratify.html#3175" class="Field">delegatees</a>    <a id="3189" class="Symbol">:</a> <a id="3191" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3202" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3204" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a>

<a id="3212" class="Keyword">record</a> <a id="RatifyState"></a><a id="3219" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="3231" class="Symbol">:</a> <a id="3233" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3238" class="Keyword">where</a>
  <a id="3246" class="Keyword">field</a>
    <a id="RatifyState.es"></a><a id="3256" href="Ledger.Ratify.html#3256" class="Field">es</a>              <a id="3272" class="Symbol">:</a> <a id="3274" href="Ledger.Enact.html#397" class="Record">EnactState</a>
    <a id="RatifyState.removed"></a><a id="3289" href="Ledger.Ratify.html#3289" class="Field">removed</a>         <a id="3305" class="Symbol">:</a> <a id="3307" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3309" class="Symbol">(</a><a id="3310" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="3322" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3324" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a><a id="3338" class="Symbol">)</a>
    <a id="RatifyState.delay"></a><a id="3344" href="Ledger.Ratify.html#3344" class="Field">delay</a>           <a id="3360" class="Symbol">:</a> <a id="3362" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

<a id="CCData"></a><a id="3368" href="Ledger.Ratify.html#3368" class="Function">CCData</a> <a id="3375" class="Symbol">:</a> <a id="3377" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="3382" href="Ledger.Ratify.html#3368" class="Function">CCData</a> <a id="3389" class="Symbol">=</a> <a id="3391" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3397" class="Symbol">((</a><a id="3399" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3410" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3412" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a><a id="3417" class="Symbol">)</a> <a id="3419" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3421" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="3422" class="Symbol">)</a>

<a id="govRole"></a><a id="3425" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3433" class="Symbol">:</a> <a id="3435" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="3442" class="Symbol">→</a> <a id="3444" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a>
<a id="3452" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3460" class="Symbol">(</a><a id="3461" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="3471" href="Ledger.Ratify.html#3471" class="Bound">gv</a> <a id="3474" class="Symbol">_)</a>  <a id="3478" class="Symbol">=</a> <a id="3480" href="Ledger.Ratify.html#3471" class="Bound">gv</a>
<a id="3483" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3491" href="Ledger.GovernanceActions.html#532" class="InductiveConstructor">abstainRep</a>        <a id="3509" class="Symbol">=</a> <a id="3511" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>
<a id="3516" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3524" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a>   <a id="3542" class="Symbol">=</a> <a id="3544" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>

<a id="IsCC"></a><a id="3550" href="Ledger.Ratify.html#3550" class="Function">IsCC</a> <a id="IsDRep"></a><a id="3555" href="Ledger.Ratify.html#3555" class="Function">IsDRep</a> <a id="IsSPO"></a><a id="3562" href="Ledger.Ratify.html#3562" class="Function">IsSPO</a> <a id="3568" class="Symbol">:</a> <a id="3570" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="3577" class="Symbol">→</a> <a id="3579" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="3584" href="Ledger.Ratify.html#3550" class="Function">IsCC</a>    <a id="3592" href="Ledger.Ratify.html#3592" class="Bound">v</a> <a id="3594" class="Symbol">=</a> <a id="3596" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3604" href="Ledger.Ratify.html#3592" class="Bound">v</a> <a id="3606" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3608" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a>
<a id="3611" href="Ledger.Ratify.html#3555" class="Function">IsDRep</a>  <a id="3619" href="Ledger.Ratify.html#3619" class="Bound">v</a> <a id="3621" class="Symbol">=</a> <a id="3623" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3631" href="Ledger.Ratify.html#3619" class="Bound">v</a> <a id="3633" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3635" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>
<a id="3640" href="Ledger.Ratify.html#3562" class="Function">IsSPO</a>   <a id="3648" href="Ledger.Ratify.html#3648" class="Bound">v</a> <a id="3650" class="Symbol">=</a> <a id="3652" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3660" href="Ledger.Ratify.html#3648" class="Bound">v</a> <a id="3662" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3664" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a>


<a id="3670" class="Keyword">instance</a>
  <a id="3681" class="Keyword">unquoteDecl</a> <a id="To-RatifyState"></a><a id="3693" href="Ledger.Ratify.html#3693" class="Function">To-RatifyState</a> <a id="3708" class="Symbol">=</a> <a id="3710" href="Class.To.html#2699" class="Function">derive-To</a>
    <a id="3724" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="3726" class="Symbol">(</a><a id="3727" class="Keyword">quote</a> <a id="3733" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="3745" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3747" href="Ledger.Ratify.html#3693" class="Function">To-RatifyState</a><a id="3761" class="Symbol">)</a> <a id="3763" href="Data.List.Base.html#5205" class="Function Operator">]</a>

<a id="3766" class="Keyword">open</a> <a id="3771" href="Ledger.Ratify.html#2854" class="Module">StakeDistrs</a>


<a id="actualVotes"></a><a id="3785" href="Ledger.Ratify.html#3785" class="Function">actualVotes</a>  <a id="3798" class="Symbol">:</a> <a id="3800" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="3810" class="Symbol">→</a> <a id="3812" href="Ledger.PParams.html#1443" class="Record">PParams</a> <a id="3820" class="Symbol">→</a> <a id="3822" href="Ledger.Ratify.html#3368" class="Function">CCData</a> <a id="3829" class="Symbol">→</a> <a id="3831" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a>
             <a id="3858" class="Symbol">→</a> <a id="3860" class="Symbol">(</a><a id="3861" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="3869" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3871" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3882" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3884" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a><a id="3888" class="Symbol">)</a> <a id="3890" class="Symbol">→</a> <a id="3892" class="Symbol">(</a><a id="3893" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="3900" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3902" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a><a id="3906" class="Symbol">)</a>
<a id="3908" href="Ledger.Ratify.html#3785" class="Function">actualVotes</a> <a id="3920" href="Ledger.Ratify.html#3920" class="Bound">Γ</a> <a id="3922" href="Ledger.Ratify.html#3922" class="Bound">pparams</a> <a id="3930" href="Ledger.Ratify.html#3930" class="Bound">cc</a> <a id="3933" href="Ledger.Ratify.html#3933" class="Bound">gaTy</a> <a id="3938" href="Ledger.Ratify.html#3938" class="Bound">votes</a>
  <a id="3946" class="Symbol">=</a>   <a id="3950" href="Axiom.Set.Map.html#5896" class="Function">mapKeys</a> <a id="3958" class="Symbol">(</a><a id="3959" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="3969" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a><a id="3971" class="Symbol">)</a> <a id="3973" href="Ledger.Ratify.html#5451" class="Function">actualCCVotes</a>  <a id="3988" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="3991" href="Ledger.Ratify.html#5768" class="Function">actualPDRepVotes</a> <a id="4008" href="Ledger.Ratify.html#3933" class="Bound">gaTy</a>
  <a id="4015" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a>  <a id="4019" href="Ledger.Ratify.html#6027" class="Function">actualDRepVotes</a>                       <a id="4057" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="4060" href="Ledger.Ratify.html#6176" class="Function">actualSPOVotes</a> <a id="4075" href="Ledger.Ratify.html#3933" class="Bound">gaTy</a>
  <a id="4082" class="Keyword">where</a>


  <a id="4092" class="Keyword">open</a> <a id="4097" href="Ledger.Ratify.html#2927" class="Module">RatifyEnv</a> <a id="4107" href="Ledger.Ratify.html#3920" class="Bound">Γ</a>
  <a id="4111" class="Keyword">open</a> <a id="4116" href="Ledger.PParams.html#1443" class="Module">PParams</a> <a id="4124" href="Ledger.Ratify.html#3922" class="Bound">pparams</a>


  <a id="4136" href="Ledger.Ratify.html#4136" class="Function">roleVotes</a> <a id="4146" class="Symbol">:</a> <a id="4148" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="4156" class="Symbol">→</a> <a id="4158" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="4165" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4167" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="4174" href="Ledger.Ratify.html#4136" class="Function">roleVotes</a> <a id="4184" href="Ledger.Ratify.html#4184" class="Bound">r</a> <a id="4186" class="Symbol">=</a> <a id="4188" href="Axiom.Set.Map.html#5896" class="Function">mapKeys</a> <a id="4196" class="Symbol">(</a><a id="4197" href="Data.Product.Base.html#3109" class="Function">uncurry</a> <a id="4205" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a><a id="4214" class="Symbol">)</a> <a id="4216" class="Symbol">(</a><a id="4217" href="Ledger.Ratify.html#219" class="Function">filter</a> <a id="4224" class="Symbol">(λ</a> <a id="4227" class="Symbol">(</a><a id="4228" href="Ledger.Ratify.html#4228" class="Bound">x</a> <a id="4230" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4232" class="Symbol">_)</a> <a id="4235" class="Symbol">→</a> <a id="4237" href="Ledger.Ratify.html#4184" class="Bound">r</a> <a id="4239" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4241" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4247" href="Ledger.Ratify.html#4228" class="Bound">x</a><a id="4248" class="Symbol">)</a> <a id="4250" href="Ledger.Ratify.html#3938" class="Bound">votes</a><a id="4255" class="Symbol">)</a>

  <a id="4260" href="Ledger.Ratify.html#4260" class="Function">activeDReps</a> <a id="4272" class="Symbol">=</a> <a id="4274" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4278" class="Symbol">(</a><a id="4279" href="Ledger.Ratify.html#219" class="Function">filter</a> <a id="4286" class="Symbol">(λ</a> <a id="4289" class="Symbol">(_</a> <a id="4292" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4294" href="Ledger.Ratify.html#4294" class="Bound">e</a><a id="4295" class="Symbol">)</a> <a id="4297" class="Symbol">→</a> <a id="4299" href="Ledger.Ratify.html#2994" class="Function">currentEpoch</a> <a id="4312" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="4314" href="Ledger.Ratify.html#4294" class="Bound">e</a><a id="4315" class="Symbol">)</a> <a id="4317" href="Ledger.Ratify.html#3020" class="Function">dreps</a><a id="4322" class="Symbol">)</a>
  <a id="4326" href="Ledger.Ratify.html#4326" class="Function">spos</a>  <a id="4332" class="Symbol">=</a> <a id="4334" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="4342" href="Ledger.Ratify.html#3562" class="Function">IsSPO</a> <a id="4348" class="Symbol">(</a><a id="4349" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4353" class="Symbol">(</a><a id="4354" href="Ledger.Ratify.html#2891" class="Field">stakeDistr</a> <a id="4365" href="Ledger.Ratify.html#2962" class="Function">stakeDistrs</a><a id="4376" class="Symbol">))</a>



  <a id="4384" href="Ledger.Ratify.html#4384" class="Function">getCCHotCred</a> <a id="4397" class="Symbol">:</a> <a id="4399" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="4410" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4412" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a> <a id="4418" class="Symbol">→</a> <a id="4420" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4426" href="Ledger.Address.html#273" class="Datatype">Credential</a>
  <a id="4439" href="Ledger.Ratify.html#4384" class="Function">getCCHotCred</a> <a id="4452" class="Symbol">(</a><a id="4453" href="Ledger.Ratify.html#4453" class="Bound">c</a> <a id="4455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4457" href="Ledger.Ratify.html#4457" class="Bound">e</a><a id="4458" class="Symbol">)</a> <a id="4460" class="Symbol">=</a> <a id="4462" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4467" href="Class.Decidable.Core.html#513" class="Function Operator">¿</a> <a id="4469" href="Ledger.Ratify.html#2994" class="Function">currentEpoch</a> <a id="4482" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="4484" href="Ledger.Ratify.html#4457" class="Bound">e</a> <a id="4486" href="Class.Decidable.Core.html#513" class="Function Operator">¿ᵇ</a> <a id="4489" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4491" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="4500" href="Ledger.Ratify.html#3059" class="Function">ccHotKeys</a> <a id="4510" href="Ledger.Ratify.html#4453" class="Bound">c</a> <a id="4512" href="Function.Base.html#4042" class="Function Operator">of</a>


      <a id="4523" class="Symbol">λ</a> <a id="4525" class="Keyword">where</a>


        <a id="4541" class="Symbol">(</a><a id="4542" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="4547" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4549" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4554" class="Symbol">(</a><a id="4555" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4560" href="Ledger.Ratify.html#4560" class="Bound">c&#39;</a><a id="4562" class="Symbol">))</a>  <a id="4566" class="Symbol">→</a> <a id="4568" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4573" href="Ledger.Ratify.html#4560" class="Bound">c&#39;</a>
        <a id="4584" class="CatchallClause Symbol">_</a>                        <a id="4609" class="Symbol">→</a> <a id="4611" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4619" class="Comment">-- expired, no hot key or resigned</a>

  <a id="4657" href="Ledger.Ratify.html#4657" class="Function">SPODefaultVote</a> <a id="4672" class="Symbol">:</a> <a id="4674" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="4688" class="Symbol">→</a> <a id="4690" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="4697" class="Symbol">→</a> <a id="4699" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="4706" href="Ledger.Ratify.html#4657" class="Function">SPODefaultVote</a> <a id="4721" href="Ledger.Ratify.html#4721" class="Bound">gaT</a> <a id="4725" class="Symbol">(</a><a id="4726" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="4736" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a> <a id="4740" class="Symbol">(</a><a id="4741" href="Ledger.Address.html#299" class="InductiveConstructor">KeyHashObj</a> <a id="4752" href="Ledger.Ratify.html#4752" class="Bound">kh</a><a id="4754" class="Symbol">))</a> <a id="4757" class="Symbol">=</a> <a id="4759" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4764" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="4773" href="Ledger.Ratify.html#3134" class="Function">pools</a> <a id="4779" href="Ledger.Ratify.html#4752" class="Bound">kh</a> <a id="4782" href="Function.Base.html#4042" class="Function Operator">of</a>


      <a id="4793" class="Symbol">λ</a> <a id="4795" class="Keyword">where</a>


        <a id="4811" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4819" class="Symbol">→</a> <a id="4821" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a>
        <a id="4837" class="Symbol">(</a><a id="4838" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a>  <a id="4844" href="Ledger.Ratify.html#4844" class="Bound">p</a><a id="4845" class="Symbol">)</a> <a id="4847" class="Symbol">→</a> <a id="4849" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4854" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="4863" href="Ledger.Ratify.html#3175" class="Function">delegatees</a> <a id="4874" class="Symbol">(</a><a id="4875" href="Ledger.Certs.html#890" class="Field">PoolParams.rewardAccount</a> <a id="4900" href="Ledger.Ratify.html#4844" class="Bound">p</a><a id="4901" class="Symbol">)</a> <a id="4903" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4905" href="Ledger.Ratify.html#3933" class="Bound">gaTy</a> <a id="4910" href="Function.Base.html#4042" class="Function Operator">of</a>


               <a id="4930" class="Symbol">λ</a> <a id="4932" class="Keyword">where</a>


               <a id="4955" class="Symbol">(_</a>                     <a id="4978" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4980" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a><a id="4989" class="Symbol">)</a>     <a id="4995" class="Symbol">→</a> <a id="4997" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a>
               <a id="5020" class="Symbol">(</a><a id="5021" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5026" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a>  <a id="5043" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5045" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a><a id="5057" class="Symbol">)</a>  <a id="5060" class="Symbol">→</a> <a id="5062" href="Ledger.GovernanceActions.html#1901" class="InductiveConstructor">Vote.yes</a>
               <a id="5086" class="CatchallClause Symbol">(</a><a id="5087" href="Agda.Builtin.Maybe.html#173" class="CatchallClause InductiveConstructor">just</a><a id="5091" class="CatchallClause"> </a><a id="5092" href="Ledger.GovernanceActions.html#532" class="CatchallClause InductiveConstructor">abstainRep</a><a id="5102" class="CatchallClause">       </a><a id="5109" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="5110" class="CatchallClause"> </a><a id="5111" class="CatchallClause Symbol">_</a><a id="5112" class="CatchallClause">           </a><a id="5123" class="CatchallClause Symbol">)</a>  <a id="5126" class="Symbol">→</a> <a id="5128" href="Ledger.GovernanceActions.html#1908" class="InductiveConstructor">Vote.abstain</a>
               <a id="5156" class="CatchallClause Symbol">_</a>                                       <a id="5196" class="Symbol">→</a> <a id="5198" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a>
  <a id="5208" href="Ledger.Ratify.html#4657" class="CatchallClause Function">SPODefaultVote</a><a id="5222" class="CatchallClause"> </a><a id="5223" class="CatchallClause Symbol">_</a><a id="5224" class="CatchallClause"> </a><a id="5225" class="CatchallClause Symbol">_</a> <a id="5227" class="Symbol">=</a> <a id="5229" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a>

  <a id="5240" href="Ledger.Ratify.html#5240" class="Function">actualCCVote</a> <a id="5253" class="Symbol">:</a> <a id="5255" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="5266" class="Symbol">→</a> <a id="5268" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a> <a id="5274" class="Symbol">→</a> <a id="5276" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="5283" href="Ledger.Ratify.html#5240" class="Function">actualCCVote</a> <a id="5296" href="Ledger.Ratify.html#5296" class="Bound">c</a> <a id="5298" href="Ledger.Ratify.html#5298" class="Bound">e</a> <a id="5300" class="Symbol">=</a> <a id="5302" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5307" href="Ledger.Ratify.html#4384" class="Function">getCCHotCred</a> <a id="5320" class="Symbol">(</a><a id="5321" href="Ledger.Ratify.html#5296" class="Bound">c</a> <a id="5323" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5325" href="Ledger.Ratify.html#5298" class="Bound">e</a><a id="5326" class="Symbol">)</a> <a id="5328" href="Function.Base.html#4042" class="Function Operator">of</a>


      <a id="5339" class="Symbol">λ</a> <a id="5341" class="Keyword">where</a>


        <a id="5357" class="Symbol">(</a><a id="5358" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5363" href="Ledger.Ratify.html#5363" class="Bound">c&#39;</a><a id="5365" class="Symbol">)</a>  <a id="5368" class="Symbol">→</a> <a id="5370" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="5376" href="Function.Base.html#704" class="Function">id</a> <a id="5379" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a> <a id="5387" class="Symbol">(</a><a id="5388" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="5397" href="Ledger.Ratify.html#3938" class="Bound">votes</a> <a id="5403" class="Symbol">(</a><a id="5404" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="5407" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5409" href="Ledger.Ratify.html#5363" class="Bound">c&#39;</a><a id="5411" class="Symbol">))</a>
        <a id="5422" class="CatchallClause Symbol">_</a>          <a id="5433" class="Symbol">→</a> <a id="5435" href="Ledger.GovernanceActions.html#1908" class="InductiveConstructor">Vote.abstain</a>

  <a id="5451" href="Ledger.Ratify.html#5451" class="Function">actualCCVotes</a> <a id="5465" class="Symbol">:</a> <a id="5467" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="5478" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5480" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="5487" href="Ledger.Ratify.html#5451" class="Function">actualCCVotes</a> <a id="5501" class="Symbol">=</a> <a id="5503" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5508" href="Ledger.Ratify.html#3930" class="Bound">cc</a> <a id="5511" href="Function.Base.html#4042" class="Function Operator">of</a>


      <a id="5522" class="Symbol">λ</a> <a id="5524" class="Keyword">where</a>


        <a id="5540" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>         <a id="5556" class="Symbol">→</a>  <a id="5559" href="Class.HasEmptySet.html#287" class="Field">∅</a>
        <a id="5569" class="Symbol">(</a><a id="5570" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5575" class="Symbol">(</a><a id="5576" href="Ledger.Ratify.html#5576" class="Bound">m</a> <a id="5578" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5580" href="Ledger.Ratify.html#5580" class="Bound">q</a><a id="5581" class="Symbol">))</a>  <a id="5585" class="Symbol">→</a>  <a id="5588" href="Class.ToBool.html#389" class="Function Operator">if</a> <a id="5591" href="Ledger.PParams.html#2983" class="Function">ccMinSize</a> <a id="5601" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="5603" href="abstract-set-theory.FiniteSetTheory.html#2063" class="Function">lengthˢ</a> <a id="5611" class="Symbol">(</a><a id="5612" href="Axiom.Set.Map.html#10460" class="Function">mapFromPartialFun</a> <a id="5630" href="Ledger.Ratify.html#4384" class="Function">getCCHotCred</a> <a id="5643" class="Symbol">(</a><a id="5644" href="Ledger.Ratify.html#5576" class="Bound">m</a> <a id="5646" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="5647" class="Symbol">))</a>
                           <a id="5677" href="Class.ToBool.html#389" class="Function Operator">then</a> <a id="5682" href="Axiom.Set.Map.html#8706" class="Function">mapWithKey</a> <a id="5693" href="Ledger.Ratify.html#5240" class="Function">actualCCVote</a> <a id="5706" href="Ledger.Ratify.html#5576" class="Bound">m</a>
                           <a id="5735" href="Class.ToBool.html#389" class="Function Operator">else</a> <a id="5740" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="5749" class="Symbol">(</a><a id="5750" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5754" href="Ledger.Ratify.html#5576" class="Bound">m</a><a id="5755" class="Symbol">)</a> <a id="5757" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a>

  <a id="5768" href="Ledger.Ratify.html#5768" class="Function">actualPDRepVotes</a> <a id="5785" class="Symbol">:</a> <a id="5787" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="5801" class="Symbol">→</a> <a id="5803" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="5810" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5812" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="5819" href="Ledger.Ratify.html#5768" class="Function">actualPDRepVotes</a> <a id="5836" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>
                      <a id="5871" class="Symbol">=</a> <a id="5873" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="5875" href="Ledger.GovernanceActions.html#532" class="InductiveConstructor">abstainRep</a> <a id="5886" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5888" href="Ledger.GovernanceActions.html#1908" class="InductiveConstructor">Vote.abstain</a> <a id="5901" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="5903" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="5906" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="5908" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a> <a id="5924" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5926" href="Ledger.GovernanceActions.html#1901" class="InductiveConstructor">Vote.yes</a> <a id="5935" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
  <a id="5939" href="Ledger.Ratify.html#5768" class="CatchallClause Function">actualPDRepVotes</a><a id="5955" class="CatchallClause"> </a><a id="5956" class="CatchallClause Symbol">_</a>  <a id="5959" class="Symbol">=</a> <a id="5961" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="5963" href="Ledger.GovernanceActions.html#532" class="InductiveConstructor">abstainRep</a> <a id="5974" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5976" href="Ledger.GovernanceActions.html#1908" class="InductiveConstructor">Vote.abstain</a> <a id="5989" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="5991" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="5994" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="5996" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a> <a id="6012" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6014" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a> <a id="6022" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>

  <a id="6027" href="Ledger.Ratify.html#6027" class="Function">actualDRepVotes</a> <a id="6043" class="Symbol">:</a> <a id="6045" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6052" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="6054" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="6061" href="Ledger.Ratify.html#6027" class="Function">actualDRepVotes</a>  <a id="6078" class="Symbol">=</a>   <a id="6082" href="Ledger.Ratify.html#4136" class="Function">roleVotes</a> <a id="6092" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>
                   <a id="6116" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a>  <a id="6120" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="6129" class="Symbol">(</a><a id="6130" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="6135" class="Symbol">(</a><a id="6136" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="6146" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a><a id="6150" class="Symbol">)</a> <a id="6152" href="Ledger.Ratify.html#4260" class="Function">activeDReps</a><a id="6163" class="Symbol">)</a> <a id="6165" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a>

  <a id="6176" href="Ledger.Ratify.html#6176" class="Function">actualSPOVotes</a> <a id="6191" class="Symbol">:</a> <a id="6193" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="6207" class="Symbol">→</a> <a id="6209" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6216" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="6218" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="6225" href="Ledger.Ratify.html#6176" class="Function">actualSPOVotes</a> <a id="6240" href="Ledger.Ratify.html#6240" class="Bound">gaTy</a> <a id="6245" class="Symbol">=</a> <a id="6247" href="Ledger.Ratify.html#4136" class="Function">roleVotes</a> <a id="6257" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a> <a id="6261" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="6264" href="Axiom.Set.Map.html#8368" class="Function">mapFromFun</a> <a id="6275" class="Symbol">(</a><a id="6276" href="Ledger.Ratify.html#4657" class="Function">SPODefaultVote</a> <a id="6291" href="Ledger.Ratify.html#6240" class="Bound">gaTy</a><a id="6295" class="Symbol">)</a> <a id="6297" href="Ledger.Ratify.html#4326" class="Function">spos</a>


<a id="6304" class="Keyword">open</a> <a id="6309" href="Ledger.Ratify.html#2927" class="Module">RatifyEnv</a> <a id="6319" class="Keyword">using</a> <a id="6325" class="Symbol">(</a><a id="6326" href="Ledger.Ratify.html#2962" class="Field">stakeDistrs</a><a id="6337" class="Symbol">)</a>

<a id="6340" class="Keyword">abstract</a>
  <a id="6351" class="Comment">-- unused, keep until we know for sure that there&#39;ll be no minimum AVS</a>
  <a id="6424" class="Comment">-- activeVotingStake : ℙ VDeleg → StakeDistrs → (VDeleg ⇀ Vote) → Coin</a>
  <a id="6497" class="Comment">-- activeVotingStake cc dists votes =</a>
  <a id="6537" class="Comment">--   ∑[ x  ← getStakeDist DRep cc dists ∣ dom votes ᶜ ᶠᵐ ] x</a>

  <a id="_/₀_"></a><a id="6601" href="Ledger.Ratify.html#6601" class="Function Operator">_/₀_</a> <a id="6606" class="Symbol">:</a> <a id="6608" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6610" class="Symbol">→</a> <a id="6612" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6614" class="Symbol">→</a> <a id="6616" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
  <a id="6620" href="Ledger.Ratify.html#6620" class="Bound">x</a> <a id="6622" href="Ledger.Ratify.html#6601" class="Function Operator">/₀</a> <a id="6625" class="Number">0</a> <a id="6627" class="Symbol">=</a> <a id="6629" href="Data.Rational.Base.html#4325" class="Function">0ℚ</a>
  <a id="6634" href="Ledger.Ratify.html#6634" class="Bound">x</a> <a id="6636" href="Ledger.Ratify.html#6601" class="Function Operator">/₀</a> <a id="6639" href="Ledger.Ratify.html#6639" class="Bound">y</a><a id="6640" class="Symbol">@(</a><a id="6642" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6646" class="Symbol">_)</a> <a id="6649" class="Symbol">=</a> <a id="6651" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="6655" href="Ledger.Ratify.html#6634" class="Bound">x</a> <a id="6657" href="Data.Rational.Base.html#3884" class="Function Operator">ℚ./</a> <a id="6661" href="Ledger.Ratify.html#6639" class="Bound">y</a>


  <a id="getStakeDist"></a><a id="6667" href="Ledger.Ratify.html#6667" class="Function">getStakeDist</a> <a id="6680" class="Symbol">:</a> <a id="6682" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="6690" class="Symbol">→</a> <a id="6692" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6694" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6701" class="Symbol">→</a> <a id="6703" href="Ledger.Ratify.html#2854" class="Record">StakeDistrs</a> <a id="6715" class="Symbol">→</a> <a id="6717" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6724" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="6726" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="6733" href="Ledger.Ratify.html#6667" class="Function">getStakeDist</a> <a id="6746" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a>    <a id="6752" href="Ledger.Ratify.html#6752" class="Bound">cc</a>  <a id="6756" href="Ledger.Ratify.html#6756" class="Bound">sd</a>  <a id="6760" class="Symbol">=</a> <a id="6762" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="6771" class="Symbol">(</a><a id="6772" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="6780" href="Ledger.Ratify.html#3550" class="Function">IsCC</a> <a id="6785" href="Ledger.Ratify.html#6752" class="Bound">cc</a><a id="6787" class="Symbol">)</a> <a id="6789" class="Number">1</a>
  <a id="6793" href="Ledger.Ratify.html#6667" class="Function">getStakeDist</a> <a id="6806" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>  <a id="6812" class="Symbol">_</a>   <a id="6816" href="Ledger.Ratify.html#6816" class="Bound">sd</a>  <a id="6820" class="Symbol">=</a> <a id="6822" href="abstract-set-theory.FiniteSetTheory.html#2989" class="Function">filterKeys</a> <a id="6833" href="Ledger.Ratify.html#3555" class="Function">IsDRep</a>  <a id="6841" class="Symbol">(</a><a id="6842" href="Ledger.Ratify.html#6816" class="Bound">sd</a> <a id="6845" class="Symbol">.</a><a id="6846" href="Ledger.Ratify.html#2891" class="Field">stakeDistr</a><a id="6856" class="Symbol">)</a>
  <a id="6860" href="Ledger.Ratify.html#6667" class="Function">getStakeDist</a> <a id="6873" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a>   <a id="6879" class="Symbol">_</a>   <a id="6883" href="Ledger.Ratify.html#6883" class="Bound">sd</a>  <a id="6887" class="Symbol">=</a> <a id="6889" href="abstract-set-theory.FiniteSetTheory.html#2989" class="Function">filterKeys</a> <a id="6900" href="Ledger.Ratify.html#3562" class="Function">IsSPO</a>   <a id="6908" class="Symbol">(</a><a id="6909" href="Ledger.Ratify.html#6883" class="Bound">sd</a> <a id="6912" class="Symbol">.</a><a id="6913" href="Ledger.Ratify.html#2891" class="Field">stakeDistr</a><a id="6923" class="Symbol">)</a>

  <a id="acceptedStakeRatio"></a><a id="6928" href="Ledger.Ratify.html#6928" class="Function">acceptedStakeRatio</a> <a id="6947" class="Symbol">:</a> <a id="6949" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="6957" class="Symbol">→</a> <a id="6959" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6961" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6968" class="Symbol">→</a> <a id="6970" href="Ledger.Ratify.html#2854" class="Record">StakeDistrs</a> <a id="6982" class="Symbol">→</a> <a id="6984" class="Symbol">(</a><a id="6985" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6992" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="6994" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a><a id="6998" class="Symbol">)</a> <a id="7000" class="Symbol">→</a> <a id="7002" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
  <a id="7006" href="Ledger.Ratify.html#6928" class="Function">acceptedStakeRatio</a> <a id="7025" href="Ledger.Ratify.html#7025" class="Bound">r</a> <a id="7027" href="Ledger.Ratify.html#7027" class="Bound">cc</a> <a id="7030" href="Ledger.Ratify.html#7030" class="Bound">dists</a> <a id="7036" href="Ledger.Ratify.html#7036" class="Bound">votes</a> <a id="7042" class="Symbol">=</a> <a id="7044" href="Ledger.Ratify.html#7152" class="Function">acceptedStake</a> <a id="7058" href="Ledger.Ratify.html#6601" class="Function Operator">/₀</a> <a id="7061" href="Ledger.Ratify.html#7166" class="Function">totalStake</a>
    <a id="7076" class="Keyword">where</a>
      <a id="7088" href="Ledger.Ratify.html#7088" class="Function">dist</a> <a id="7093" class="Symbol">:</a> <a id="7095" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="7102" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="7104" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
      <a id="7115" href="Ledger.Ratify.html#7088" class="Function">dist</a> <a id="7120" class="Symbol">=</a> <a id="7122" href="Ledger.Ratify.html#6667" class="Function">getStakeDist</a> <a id="7135" href="Ledger.Ratify.html#7025" class="Bound">r</a> <a id="7137" href="Ledger.Ratify.html#7027" class="Bound">cc</a> <a id="7140" href="Ledger.Ratify.html#7030" class="Bound">dists</a>
      <a id="7152" href="Ledger.Ratify.html#7152" class="Function">acceptedStake</a> <a id="7166" href="Ledger.Ratify.html#7166" class="Function">totalStake</a> <a id="7177" class="Symbol">:</a> <a id="7179" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
      <a id="7190" href="Ledger.Ratify.html#7152" class="Function">acceptedStake</a>  <a id="7205" class="Symbol">=</a> <a id="7207" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="7210" href="Ledger.Ratify.html#7210" class="Bound">x</a> <a id="7212" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="7214" href="Ledger.Ratify.html#7088" class="Function">dist</a> <a id="7219" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="7221" href="Ledger.Ratify.html#7036" class="Bound">votes</a> <a id="7227" href="Axiom.Set.Map.html#14230" class="Function Operator">⁻¹</a> <a id="7230" href="Ledger.GovernanceActions.html#1901" class="InductiveConstructor">Vote.yes</a>                              <a id="7268" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="7270" href="Ledger.Ratify.html#7210" class="Bound">x</a>
      <a id="7278" href="Ledger.Ratify.html#7166" class="Function">totalStake</a>     <a id="7293" class="Symbol">=</a> <a id="7295" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="7298" href="Ledger.Ratify.html#7298" class="Bound">x</a> <a id="7300" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="7302" href="Ledger.Ratify.html#7088" class="Function">dist</a> <a id="7307" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="7309" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7313" class="Symbol">(</a><a id="7314" href="Ledger.Ratify.html#7036" class="Bound">votes</a> <a id="7320" href="Axiom.Set.Map.html#14048" class="Function Operator">∣^</a> <a id="7323" class="Symbol">(</a><a id="7324" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7326" href="Ledger.GovernanceActions.html#1901" class="InductiveConstructor">Vote.yes</a> <a id="7335" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="7337" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="7339" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7341" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a> <a id="7349" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="7350" class="Symbol">))</a>  <a id="7354" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="7356" href="Ledger.Ratify.html#7298" class="Bound">x</a>

  <a id="acceptedBy"></a><a id="7361" href="Ledger.Ratify.html#7361" class="Function">acceptedBy</a> <a id="7372" class="Symbol">:</a> <a id="7374" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="7384" class="Symbol">→</a> <a id="7386" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="7397" class="Symbol">→</a> <a id="7399" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="7414" class="Symbol">→</a> <a id="7416" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="7424" class="Symbol">→</a> <a id="7426" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="7433" href="Ledger.Ratify.html#7361" class="Function">acceptedBy</a> <a id="7444" href="Ledger.Ratify.html#7444" class="Bound">Γ</a> <a id="7446" class="Symbol">(</a><a id="7447" class="Keyword">record</a> <a id="7454" class="Symbol">{</a> <a id="7456" href="Ledger.Enact.html#433" class="Field">cc</a> <a id="7459" class="Symbol">=</a> <a id="7461" href="Ledger.Ratify.html#7461" class="Bound">cc</a> <a id="7464" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7466" class="Symbol">_;</a> <a id="7469" href="Ledger.Enact.html#607" class="Field">pparams</a> <a id="7477" class="Symbol">=</a> <a id="7479" href="Ledger.Ratify.html#7479" class="Bound">pparams</a> <a id="7487" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7489" class="Symbol">_</a> <a id="7491" class="Symbol">})</a> <a id="7494" href="Ledger.Ratify.html#7494" class="Bound">gs</a> <a id="7497" href="Ledger.Ratify.html#7497" class="Bound">role</a> <a id="7502" class="Symbol">=</a>
    <a id="7508" class="Keyword">let</a> <a id="7512" class="Keyword">open</a> <a id="7517" href="Ledger.GovernanceActions.html#2299" class="Module">GovActionState</a> <a id="7532" href="Ledger.Ratify.html#7494" class="Bound">gs</a><a id="7534" class="Symbol">;</a> <a id="7536" class="Keyword">open</a> <a id="7541" href="Ledger.PParams.html#1443" class="Module">PParams</a> <a id="7549" href="Ledger.Ratify.html#7479" class="Bound">pparams</a>
        <a id="7565" href="Ledger.Ratify.html#7565" class="Bound">votes&#39;</a>  <a id="7573" class="Symbol">=</a> <a id="7575" href="Ledger.Ratify.html#3785" class="Function">actualVotes</a> <a id="7587" href="Ledger.Ratify.html#7444" class="Bound">Γ</a> <a id="7589" href="Ledger.Ratify.html#7479" class="Bound">pparams</a> <a id="7597" href="Ledger.Ratify.html#7461" class="Bound">cc</a> <a id="7600" class="Symbol">(</a><a id="7601" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a> <a id="7608" href="Ledger.GovernanceActions.html#2420" class="Function">action</a><a id="7614" class="Symbol">)</a> <a id="7616" href="Ledger.GovernanceActions.html#2339" class="Function">votes</a>
        <a id="7630" href="Ledger.Ratify.html#7630" class="Bound">mbyT</a>    <a id="7638" class="Symbol">=</a> <a id="7640" href="Ledger.Ratify.html#1172" class="Function">threshold</a> <a id="7650" href="Ledger.Ratify.html#7479" class="Bound">pparams</a> <a id="7658" class="Symbol">(</a><a id="7659" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="7665" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="7669" href="Ledger.Ratify.html#7461" class="Bound">cc</a><a id="7671" class="Symbol">)</a> <a id="7673" href="Ledger.GovernanceActions.html#2420" class="Function">action</a> <a id="7680" href="Ledger.Ratify.html#7497" class="Bound">role</a>
        <a id="7693" href="Ledger.Ratify.html#7693" class="Bound">t</a>       <a id="7701" class="Symbol">=</a> <a id="7703" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="7709" href="Function.Base.html#704" class="Function">id</a> <a id="7712" href="Data.Rational.Base.html#4325" class="Function">0ℚ</a> <a id="7715" href="Ledger.Ratify.html#7630" class="Bound">mbyT</a>
    <a id="7724" class="Keyword">in</a> <a id="7727" href="Ledger.Ratify.html#6928" class="Function">acceptedStakeRatio</a> <a id="7746" href="Ledger.Ratify.html#7497" class="Bound">role</a> <a id="7751" class="Symbol">(</a><a id="7752" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7756" href="Ledger.Ratify.html#7565" class="Bound">votes&#39;</a><a id="7762" class="Symbol">)</a> <a id="7764" class="Symbol">(</a><a id="7765" href="Ledger.Ratify.html#2962" class="Field">stakeDistrs</a> <a id="7777" href="Ledger.Ratify.html#7444" class="Bound">Γ</a><a id="7778" class="Symbol">)</a> <a id="7780" href="Ledger.Ratify.html#7565" class="Bound">votes&#39;</a> <a id="7787" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="7789" href="Ledger.Ratify.html#7693" class="Bound">t</a>
     <a id="7796" href="Ledger.Ratify.html#496" class="Function Operator">∧</a> <a id="7798" class="Symbol">(</a><a id="7799" href="Ledger.Ratify.html#7497" class="Bound">role</a> <a id="7804" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7806" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="7809" class="Symbol">→</a> <a id="7811" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="7817" class="Symbol">(λ</a> <a id="7820" class="Symbol">(</a><a id="7821" href="Ledger.Ratify.html#7821" class="Bound">m</a> <a id="7823" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7825" class="Symbol">_)</a> <a id="7828" class="Symbol">→</a> <a id="7830" href="abstract-set-theory.FiniteSetTheory.html#2063" class="Function">lengthˢ</a> <a id="7838" href="Ledger.Ratify.html#7821" class="Bound">m</a><a id="7839" class="Symbol">)</a> <a id="7841" class="Number">0</a> <a id="7843" href="Ledger.Ratify.html#7461" class="Bound">cc</a> <a id="7846" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="7848" href="Ledger.PParams.html#2983" class="Function">ccMinSize</a> <a id="7858" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="7860" href="Data.Maybe.html#896" class="Function">Is-nothing</a> <a id="7871" href="Ledger.Ratify.html#7630" class="Bound">mbyT</a><a id="7875" class="Symbol">)</a>

  <a id="accepted"></a><a id="7880" href="Ledger.Ratify.html#7880" class="Function">accepted</a> <a id="7889" class="Symbol">:</a> <a id="7891" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="7901" class="Symbol">→</a> <a id="7903" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="7914" class="Symbol">→</a> <a id="7916" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="7931" class="Symbol">→</a> <a id="7933" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="7940" href="Ledger.Ratify.html#7880" class="Function">accepted</a> <a id="7949" href="Ledger.Ratify.html#7949" class="Bound">Γ</a> <a id="7951" href="Ledger.Ratify.html#7951" class="Bound">es</a> <a id="7954" href="Ledger.Ratify.html#7954" class="Bound">gs</a> <a id="7957" class="Symbol">=</a> <a id="7959" href="Ledger.Ratify.html#7361" class="Function">acceptedBy</a> <a id="7970" href="Ledger.Ratify.html#7949" class="Bound">Γ</a> <a id="7972" href="Ledger.Ratify.html#7951" class="Bound">es</a> <a id="7975" href="Ledger.Ratify.html#7954" class="Bound">gs</a> <a id="7978" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="7981" href="Ledger.Ratify.html#496" class="Function Operator">∧</a> <a id="7983" href="Ledger.Ratify.html#7361" class="Function">acceptedBy</a> <a id="7994" href="Ledger.Ratify.html#7949" class="Bound">Γ</a> <a id="7996" href="Ledger.Ratify.html#7951" class="Bound">es</a> <a id="7999" href="Ledger.Ratify.html#7954" class="Bound">gs</a> <a id="8002" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a> <a id="8007" href="Ledger.Ratify.html#496" class="Function Operator">∧</a> <a id="8009" href="Ledger.Ratify.html#7361" class="Function">acceptedBy</a> <a id="8020" href="Ledger.Ratify.html#7949" class="Bound">Γ</a> <a id="8022" href="Ledger.Ratify.html#7951" class="Bound">es</a> <a id="8025" href="Ledger.Ratify.html#7954" class="Bound">gs</a> <a id="8028" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a>

  <a id="expired"></a><a id="8035" href="Ledger.Ratify.html#8035" class="Function">expired</a> <a id="8043" class="Symbol">:</a> <a id="8045" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a> <a id="8051" class="Symbol">→</a> <a id="8053" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="8068" class="Symbol">→</a> <a id="8070" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="8077" href="Ledger.Ratify.html#8035" class="Function">expired</a> <a id="8085" href="Ledger.Ratify.html#8085" class="Bound">current</a> <a id="8093" class="Keyword">record</a> <a id="8100" class="Symbol">{</a> <a id="8102" href="Ledger.GovernanceActions.html#2396" class="Field">expiresIn</a> <a id="8112" class="Symbol">=</a> <a id="8114" href="Ledger.Ratify.html#8114" class="Bound">expiresIn</a> <a id="8124" class="Symbol">}</a> <a id="8126" class="Symbol">=</a> <a id="8128" href="Ledger.Ratify.html#8114" class="Bound">expiresIn</a> <a id="8138" href="Class.HasOrder.Core.html#641" class="Field Operator">&lt;</a> <a id="8140" href="Ledger.Ratify.html#8085" class="Bound">current</a>


<a id="8150" class="Keyword">open</a> <a id="8155" href="Ledger.Enact.html#397" class="Module">EnactState</a>


<a id="verifyPrev"></a><a id="8168" href="Ledger.Ratify.html#8168" class="Function">verifyPrev</a> <a id="8179" class="Symbol">:</a> <a id="8181" class="Symbol">(</a><a id="8182" href="Ledger.Ratify.html#8182" class="Bound">a</a> <a id="8184" class="Symbol">:</a> <a id="8186" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a><a id="8199" class="Symbol">)</a> <a id="8201" class="Symbol">→</a> <a id="8203" href="Ledger.GovernanceActions.html#1511" class="Function">NeedsHash</a> <a id="8213" href="Ledger.Ratify.html#8182" class="Bound">a</a> <a id="8215" class="Symbol">→</a> <a id="8217" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="8228" class="Symbol">→</a> <a id="8230" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8235" href="Ledger.Ratify.html#8168" class="Function">verifyPrev</a> <a id="8246" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>     <a id="8263" href="Ledger.Ratify.html#8263" class="Bound">h</a> <a id="8265" href="Ledger.Ratify.html#8265" class="Bound">es</a>  <a id="8269" class="Symbol">=</a> <a id="8271" href="Ledger.Ratify.html#8263" class="Bound">h</a> <a id="8273" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8275" href="Ledger.Ratify.html#8265" class="Bound">es</a> <a id="8278" class="Symbol">.</a><a id="8279" href="Ledger.Enact.html#433" class="Field">cc</a> <a id="8282" class="Symbol">.</a><a id="8283" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8289" href="Ledger.Ratify.html#8168" class="Function">verifyPrev</a> <a id="8300" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a>  <a id="8317" href="Ledger.Ratify.html#8317" class="Bound">h</a> <a id="8319" href="Ledger.Ratify.html#8319" class="Bound">es</a>  <a id="8323" class="Symbol">=</a> <a id="8325" href="Ledger.Ratify.html#8317" class="Bound">h</a> <a id="8327" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8329" href="Ledger.Ratify.html#8319" class="Bound">es</a> <a id="8332" class="Symbol">.</a><a id="8333" href="Ledger.Enact.html#433" class="Field">cc</a> <a id="8336" class="Symbol">.</a><a id="8337" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8343" href="Ledger.Ratify.html#8168" class="Function">verifyPrev</a> <a id="8354" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a>  <a id="8371" href="Ledger.Ratify.html#8371" class="Bound">h</a> <a id="8373" href="Ledger.Ratify.html#8373" class="Bound">es</a>  <a id="8377" class="Symbol">=</a> <a id="8379" href="Ledger.Ratify.html#8371" class="Bound">h</a> <a id="8381" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8383" href="Ledger.Ratify.html#8373" class="Bound">es</a> <a id="8386" class="Symbol">.</a><a id="8387" href="Ledger.Enact.html#502" class="Field">constitution</a> <a id="8400" class="Symbol">.</a><a id="8401" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8407" href="Ledger.Ratify.html#8168" class="Function">verifyPrev</a> <a id="8418" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>        <a id="8435" href="Ledger.Ratify.html#8435" class="Bound">h</a> <a id="8437" href="Ledger.Ratify.html#8437" class="Bound">es</a>  <a id="8441" class="Symbol">=</a> <a id="8443" href="Ledger.Ratify.html#8435" class="Bound">h</a> <a id="8445" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8447" href="Ledger.Ratify.html#8437" class="Bound">es</a> <a id="8450" class="Symbol">.</a><a id="8451" href="Ledger.Enact.html#565" class="Field">pv</a> <a id="8454" class="Symbol">.</a><a id="8455" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8461" href="Ledger.Ratify.html#8168" class="Function">verifyPrev</a> <a id="8472" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>    <a id="8489" href="Ledger.Ratify.html#8489" class="Bound">h</a> <a id="8491" href="Ledger.Ratify.html#8491" class="Bound">es</a>  <a id="8495" class="Symbol">=</a> <a id="8497" href="Ledger.Ratify.html#8489" class="Bound">h</a> <a id="8499" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8501" href="Ledger.Ratify.html#8491" class="Bound">es</a> <a id="8504" class="Symbol">.</a><a id="8505" href="Ledger.Enact.html#607" class="Field">pparams</a> <a id="8513" class="Symbol">.</a><a id="8514" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8520" href="Ledger.Ratify.html#8168" class="Function">verifyPrev</a> <a id="8531" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>     <a id="8548" class="Symbol">_</a> <a id="8550" class="Symbol">_</a>   <a id="8554" class="Symbol">=</a> <a id="8556" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="8558" href="Ledger.Ratify.html#8168" class="Function">verifyPrev</a> <a id="8569" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>             <a id="8586" class="Symbol">_</a> <a id="8588" class="Symbol">_</a>   <a id="8592" class="Symbol">=</a> <a id="8594" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="delayingAction"></a><a id="8597" href="Ledger.Ratify.html#8597" class="Function">delayingAction</a> <a id="8612" class="Symbol">:</a> <a id="8614" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="8628" class="Symbol">→</a> <a id="8630" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="8635" href="Ledger.Ratify.html#8597" class="Function">delayingAction</a> <a id="8650" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>     <a id="8667" class="Symbol">=</a> <a id="8669" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="8674" href="Ledger.Ratify.html#8597" class="Function">delayingAction</a> <a id="8689" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a>  <a id="8706" class="Symbol">=</a> <a id="8708" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="8713" href="Ledger.Ratify.html#8597" class="Function">delayingAction</a> <a id="8728" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a>  <a id="8745" class="Symbol">=</a> <a id="8747" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="8752" href="Ledger.Ratify.html#8597" class="Function">delayingAction</a> <a id="8767" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>        <a id="8784" class="Symbol">=</a> <a id="8786" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="8791" href="Ledger.Ratify.html#8597" class="Function">delayingAction</a> <a id="8806" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>    <a id="8823" class="Symbol">=</a> <a id="8825" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
<a id="8831" href="Ledger.Ratify.html#8597" class="Function">delayingAction</a> <a id="8846" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>     <a id="8863" class="Symbol">=</a> <a id="8865" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
<a id="8871" href="Ledger.Ratify.html#8597" class="Function">delayingAction</a> <a id="8886" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>             <a id="8903" class="Symbol">=</a> <a id="8905" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="delayed"></a><a id="8912" href="Ledger.Ratify.html#8912" class="Function">delayed</a> <a id="8920" class="Symbol">:</a> <a id="8922" class="Symbol">(</a><a id="8923" href="Ledger.Ratify.html#8923" class="Bound">a</a> <a id="8925" class="Symbol">:</a> <a id="8927" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a><a id="8940" class="Symbol">)</a> <a id="8942" class="Symbol">→</a> <a id="8944" href="Ledger.GovernanceActions.html#1511" class="Function">NeedsHash</a> <a id="8954" href="Ledger.Ratify.html#8923" class="Bound">a</a> <a id="8956" class="Symbol">→</a> <a id="8958" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="8969" class="Symbol">→</a> <a id="8971" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="8976" class="Symbol">→</a> <a id="8978" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8983" href="Ledger.Ratify.html#8912" class="Function">delayed</a> <a id="8991" href="Ledger.Ratify.html#8991" class="Bound">gaTy</a> <a id="8996" href="Ledger.Ratify.html#8996" class="Bound">h</a> <a id="8998" href="Ledger.Ratify.html#8998" class="Bound">es</a> <a id="9001" href="Ledger.Ratify.html#9001" class="Bound">d</a> <a id="9003" class="Symbol">=</a> <a id="9005" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="9007" href="Ledger.Ratify.html#8168" class="Function">verifyPrev</a> <a id="9018" href="Ledger.Ratify.html#8991" class="Bound">gaTy</a> <a id="9023" href="Ledger.Ratify.html#8996" class="Bound">h</a> <a id="9025" href="Ledger.Ratify.html#8998" class="Bound">es</a> <a id="9028" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="9030" href="Ledger.Ratify.html#9001" class="Bound">d</a> <a id="9032" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9034" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>

<a id="acceptConds"></a><a id="9040" href="Ledger.Ratify.html#9040" class="Function">acceptConds</a> <a id="9052" class="Symbol">:</a> <a id="9054" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="9064" class="Symbol">→</a> <a id="9066" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="9078" class="Symbol">→</a> <a id="9080" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="9092" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9094" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="9109" class="Symbol">→</a> <a id="9111" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="9116" href="Ledger.Ratify.html#9040" class="Function">acceptConds</a> <a id="9128" href="Ledger.Ratify.html#9128" class="Bound">Γ</a> <a id="9130" href="Ledger.Ratify.html#9130" class="Bound">stʳ</a> <a id="9134" class="Symbol">(</a><a id="9135" href="Ledger.Ratify.html#9135" class="Bound">id</a> <a id="9138" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9140" href="Ledger.Ratify.html#9140" class="Bound">st</a><a id="9142" class="Symbol">)</a> <a id="9144" class="Symbol">=</a>
       <a id="9153" href="Ledger.Ratify.html#7880" class="Function">accepted</a> <a id="9162" href="Ledger.Ratify.html#9128" class="Bound">Γ</a> <a id="9164" href="Ledger.Ratify.html#3256" class="Function">es</a> <a id="9167" href="Ledger.Ratify.html#9140" class="Bound">st</a>
    <a id="9174" href="Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="9177" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="9179" href="Ledger.Ratify.html#8912" class="Function">delayed</a> <a id="9187" class="Symbol">(</a><a id="9188" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a> <a id="9195" href="Ledger.GovernanceActions.html#2420" class="Field">action</a><a id="9201" class="Symbol">)</a> <a id="9203" href="Ledger.GovernanceActions.html#2448" class="Field">prevAction</a> <a id="9214" href="Ledger.Ratify.html#3256" class="Function">es</a> <a id="9217" href="Ledger.Ratify.html#3344" class="Function">delay</a>
    <a id="9227" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9229" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="9232" href="Ledger.Ratify.html#9232" class="Bound">es&#39;</a> <a id="9236" href="Data.Product.Base.html#1371" class="Function">]</a>  <a id="9239" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="9241" href="Ledger.Ratify.html#9135" class="Bound">id</a> <a id="9244" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9246" href="Ledger.Ratify.html#3109" class="Function">treasury</a> <a id="9255" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9257" href="Ledger.Ratify.html#2994" class="Function">currentEpoch</a> <a id="9270" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="9272" href="Ledger.Enact.html#1695" class="Datatype Operator">⊢</a> <a id="9274" href="Ledger.Ratify.html#3256" class="Function">es</a> <a id="9277" href="Ledger.Enact.html#1695" class="Datatype Operator">⇀⦇</a> <a id="9280" href="Ledger.GovernanceActions.html#2420" class="Field">action</a> <a id="9287" href="Ledger.Enact.html#1695" class="Datatype Operator">,ENACT⦈</a> <a id="9295" href="Ledger.Ratify.html#9232" class="Bound">es&#39;</a>


    <a id="9305" class="Keyword">where</a> <a id="9311" class="Keyword">open</a> <a id="9316" href="Ledger.Ratify.html#2927" class="Module">RatifyEnv</a> <a id="9326" href="Ledger.Ratify.html#9128" class="Bound">Γ</a>
          <a id="9338" class="Keyword">open</a> <a id="9343" href="Ledger.Ratify.html#3219" class="Module">RatifyState</a> <a id="9355" href="Ledger.Ratify.html#9130" class="Bound">stʳ</a>
          <a id="9369" class="Keyword">open</a> <a id="9374" href="Ledger.GovernanceActions.html#2299" class="Module">GovActionState</a> <a id="9389" href="Ledger.Ratify.html#9140" class="Bound">st</a>
<a id="9392" class="Keyword">abstract</a>
  <a id="verifyPrev?"></a><a id="9403" href="Ledger.Ratify.html#9403" class="Function">verifyPrev?</a> <a id="9415" class="Symbol">:</a> <a id="9417" class="Symbol">∀</a> <a id="9419" href="Ledger.Ratify.html#9419" class="Bound">a</a> <a id="9421" href="Ledger.Ratify.html#9421" class="Bound">h</a> <a id="9423" href="Ledger.Ratify.html#9423" class="Bound">es</a> <a id="9426" class="Symbol">→</a> <a id="9428" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="9432" class="Symbol">(</a><a id="9433" href="Ledger.Ratify.html#8168" class="Function">verifyPrev</a> <a id="9444" href="Ledger.Ratify.html#9419" class="Bound">a</a> <a id="9446" href="Ledger.Ratify.html#9421" class="Bound">h</a> <a id="9448" href="Ledger.Ratify.html#9423" class="Bound">es</a><a id="9450" class="Symbol">)</a>
  <a id="9454" href="Ledger.Ratify.html#9403" class="Function">verifyPrev?</a> <a id="9466" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>              <a id="9492" href="Ledger.Ratify.html#9492" class="Bound">h</a> <a id="9494" href="Ledger.Ratify.html#9494" class="Bound">es</a> <a id="9497" class="Symbol">=</a> <a id="9499" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9505" href="Ledger.Ratify.html#9403" class="Function">verifyPrev?</a> <a id="9517" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="9533" href="Ledger.Ratify.html#9533" class="Bound">h</a> <a id="9535" href="Ledger.Ratify.html#9535" class="Bound">es</a> <a id="9538" class="Symbol">=</a> <a id="9540" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9546" href="Ledger.Ratify.html#9403" class="Function">verifyPrev?</a> <a id="9558" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="9574" href="Ledger.Ratify.html#9574" class="Bound">h</a> <a id="9576" href="Ledger.Ratify.html#9576" class="Bound">es</a> <a id="9579" class="Symbol">=</a> <a id="9581" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9587" href="Ledger.Ratify.html#9403" class="Function">verifyPrev?</a> <a id="9599" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>       <a id="9615" href="Ledger.Ratify.html#9615" class="Bound">h</a> <a id="9617" href="Ledger.Ratify.html#9617" class="Bound">es</a> <a id="9620" class="Symbol">=</a> <a id="9622" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9628" href="Ledger.Ratify.html#9403" class="Function">verifyPrev?</a> <a id="9640" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>   <a id="9656" href="Ledger.Ratify.html#9656" class="Bound">h</a> <a id="9658" href="Ledger.Ratify.html#9658" class="Bound">es</a> <a id="9661" class="Symbol">=</a> <a id="9663" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9669" href="Ledger.Ratify.html#9403" class="Function">verifyPrev?</a> <a id="9681" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>    <a id="9697" href="Ledger.Ratify.html#9697" class="Bound">h</a> <a id="9699" href="Ledger.Ratify.html#9699" class="Bound">es</a> <a id="9702" class="Symbol">=</a> <a id="9704" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9710" href="Ledger.Ratify.html#9403" class="Function">verifyPrev?</a> <a id="9722" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>            <a id="9738" href="Ledger.Ratify.html#9738" class="Bound">h</a> <a id="9740" href="Ledger.Ratify.html#9740" class="Bound">es</a> <a id="9743" class="Symbol">=</a> <a id="9745" href="Class.Decidable.Core.html#264" class="Field">dec</a>

  <a id="delayed?"></a><a id="9752" href="Ledger.Ratify.html#9752" class="Function">delayed?</a> <a id="9761" class="Symbol">:</a> <a id="9763" class="Symbol">∀</a> <a id="9765" href="Ledger.Ratify.html#9765" class="Bound">a</a> <a id="9767" href="Ledger.Ratify.html#9767" class="Bound">h</a> <a id="9769" href="Ledger.Ratify.html#9769" class="Bound">es</a> <a id="9772" href="Ledger.Ratify.html#9772" class="Bound">d</a> <a id="9774" class="Symbol">→</a> <a id="9776" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="9780" class="Symbol">(</a><a id="9781" href="Ledger.Ratify.html#8912" class="Function">delayed</a> <a id="9789" href="Ledger.Ratify.html#9765" class="Bound">a</a> <a id="9791" href="Ledger.Ratify.html#9767" class="Bound">h</a> <a id="9793" href="Ledger.Ratify.html#9769" class="Bound">es</a> <a id="9796" href="Ledger.Ratify.html#9772" class="Bound">d</a><a id="9797" class="Symbol">)</a>
  <a id="9801" href="Ledger.Ratify.html#9752" class="Function">delayed?</a> <a id="9810" href="Ledger.Ratify.html#9810" class="Bound">a</a> <a id="9812" href="Ledger.Ratify.html#9812" class="Bound">h</a> <a id="9814" href="Ledger.Ratify.html#9814" class="Bound">es</a> <a id="9817" href="Ledger.Ratify.html#9817" class="Bound">d</a> <a id="9819" class="Symbol">=</a> <a id="9821" class="Keyword">let</a> <a id="9825" class="Keyword">instance</a> <a id="9834" href="Ledger.Ratify.html#9834" class="Bound">_</a> <a id="9836" class="Symbol">=</a> <a id="9838" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="9840" href="Ledger.Ratify.html#9403" class="Function">verifyPrev?</a> <a id="9852" href="Ledger.Ratify.html#9810" class="Bound">a</a> <a id="9854" href="Ledger.Ratify.html#9812" class="Bound">h</a> <a id="9856" href="Ledger.Ratify.html#9814" class="Bound">es</a> <a id="9859" class="Keyword">in</a> <a id="9862" href="Class.Decidable.Core.html#264" class="Field">dec</a>

  <a id="Is-nothing?"></a><a id="9869" href="Ledger.Ratify.html#9869" class="Function">Is-nothing?</a> <a id="9881" class="Symbol">:</a> <a id="9883" class="Symbol">∀</a> <a id="9885" class="Symbol">{</a><a id="9886" href="Ledger.Ratify.html#9886" class="Bound">A</a> <a id="9888" class="Symbol">:</a> <a id="9890" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="9893" class="Symbol">}</a> <a id="9895" class="Symbol">{</a><a id="9896" href="Ledger.Ratify.html#9896" class="Bound">x</a> <a id="9898" class="Symbol">:</a> <a id="9900" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="9906" href="Ledger.Ratify.html#9886" class="Bound">A</a><a id="9907" class="Symbol">}</a> <a id="9909" class="Symbol">→</a> <a id="9911" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="9915" class="Symbol">(</a><a id="9916" href="Data.Maybe.html#896" class="Function">Is-nothing</a> <a id="9927" href="Ledger.Ratify.html#9896" class="Bound">x</a><a id="9928" class="Symbol">)</a>
  <a id="9932" href="Ledger.Ratify.html#9869" class="Function">Is-nothing?</a> <a id="9944" class="Symbol">{</a><a id="9945" class="Argument">x</a> <a id="9947" class="Symbol">=</a> <a id="9949" href="Ledger.Ratify.html#9949" class="Bound">x</a><a id="9950" class="Symbol">}</a> <a id="9952" class="Symbol">=</a> <a id="9954" href="Data.Maybe.Relation.Unary.All.html#3335" class="Function">All.dec</a> <a id="9962" class="Symbol">(</a><a id="9963" href="Function.Base.html#725" class="Function">const</a> <a id="9969" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9971" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="9974" href="Function.Base.html#704" class="Function">id</a><a id="9976" class="Symbol">)</a> <a id="9978" href="Ledger.Ratify.html#9949" class="Bound">x</a>
    <a id="9984" class="Keyword">where</a>
        <a id="9998" class="Keyword">import</a> <a id="10005" href="Data.Maybe.Relation.Unary.All.html" class="Module">Data.Maybe.Relation.Unary.All</a> <a id="10035" class="Symbol">as</a> <a id="10038" class="Module">All</a>

  <a id="acceptedBy?"></a><a id="10045" href="Ledger.Ratify.html#10045" class="Function">acceptedBy?</a> <a id="10057" class="Symbol">:</a> <a id="10059" class="Symbol">∀</a> <a id="10061" href="Ledger.Ratify.html#10061" class="Bound">Γ</a> <a id="10063" href="Ledger.Ratify.html#10063" class="Bound">es</a> <a id="10066" href="Ledger.Ratify.html#10066" class="Bound">st</a> <a id="10069" href="Ledger.Ratify.html#10069" class="Bound">role</a> <a id="10074" class="Symbol">→</a> <a id="10076" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="10080" class="Symbol">(</a><a id="10081" href="Ledger.Ratify.html#7361" class="Function">acceptedBy</a> <a id="10092" href="Ledger.Ratify.html#10061" class="Bound">Γ</a> <a id="10094" href="Ledger.Ratify.html#10063" class="Bound">es</a> <a id="10097" href="Ledger.Ratify.html#10066" class="Bound">st</a> <a id="10100" href="Ledger.Ratify.html#10069" class="Bound">role</a><a id="10104" class="Symbol">)</a>
  <a id="10108" href="Ledger.Ratify.html#10045" class="Function">acceptedBy?</a> <a id="10120" class="Symbol">_</a> <a id="10122" class="Symbol">_</a> <a id="10124" class="Symbol">_</a> <a id="10126" class="Symbol">_</a> <a id="10128" class="Symbol">=</a> <a id="10130" class="Symbol">_</a> <a id="10132" href="Data.Rational.Properties.html#19360" class="Function Operator">ℚ.≤?</a> <a id="10137" class="Symbol">_</a> <a id="10139" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="10145" class="Symbol">_</a> <a id="10147" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="10149" class="Symbol">_</a> <a id="10151" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a> <a id="10157" class="Symbol">(_</a> <a id="10160" href="Data.Nat.Properties.html#6775" class="Function Operator">≥?</a> <a id="10163" class="Symbol">_</a> <a id="10165" href="Relation.Nullary.Decidable.Core.html#3233" class="Function Operator">⊎-dec</a> <a id="10171" href="Ledger.Ratify.html#9869" class="Function">Is-nothing?</a><a id="10182" class="Symbol">)</a>
    <a id="10188" class="Keyword">where</a>
      <a id="10200" class="Keyword">import</a> <a id="10207" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="10234" class="Symbol">as</a> <a id="10237" class="Module">Dec</a>

  <a id="accepted?"></a><a id="10244" href="Ledger.Ratify.html#10244" class="Function">accepted?</a> <a id="10254" class="Symbol">:</a> <a id="10256" class="Symbol">∀</a> <a id="10258" href="Ledger.Ratify.html#10258" class="Bound">Γ</a> <a id="10260" href="Ledger.Ratify.html#10260" class="Bound">es</a> <a id="10263" href="Ledger.Ratify.html#10263" class="Bound">st</a> <a id="10266" class="Symbol">→</a> <a id="10268" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="10272" class="Symbol">(</a><a id="10273" href="Ledger.Ratify.html#7880" class="Function">accepted</a> <a id="10282" href="Ledger.Ratify.html#10258" class="Bound">Γ</a> <a id="10284" href="Ledger.Ratify.html#10260" class="Bound">es</a> <a id="10287" href="Ledger.Ratify.html#10263" class="Bound">st</a><a id="10289" class="Symbol">)</a>
  <a id="10293" href="Ledger.Ratify.html#10244" class="Function">accepted?</a> <a id="10303" href="Ledger.Ratify.html#10303" class="Bound">Γ</a> <a id="10305" href="Ledger.Ratify.html#10305" class="Bound">es</a> <a id="10308" href="Ledger.Ratify.html#10308" class="Bound">st</a> <a id="10311" class="Symbol">=</a> <a id="10313" class="Keyword">let</a> <a id="10317" href="Ledger.Ratify.html#10317" class="Bound">a</a> <a id="10319" class="Symbol">=</a> <a id="10321" class="Symbol">λ</a> <a id="10323" class="Symbol">{</a><a id="10324" href="Ledger.Ratify.html#10324" class="Bound">x</a><a id="10325" class="Symbol">}</a> <a id="10327" class="Symbol">→</a> <a id="10329" href="Ledger.Ratify.html#10045" class="Function">acceptedBy?</a> <a id="10341" href="Ledger.Ratify.html#10303" class="Bound">Γ</a> <a id="10343" href="Ledger.Ratify.html#10305" class="Bound">es</a> <a id="10346" href="Ledger.Ratify.html#10308" class="Bound">st</a> <a id="10349" href="Ledger.Ratify.html#10324" class="Bound">x</a> <a id="10351" class="Keyword">in</a> <a id="10354" href="Ledger.Ratify.html#10317" class="Bound">a</a> <a id="10356" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="10362" href="Ledger.Ratify.html#10317" class="Bound">a</a> <a id="10364" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="10370" href="Ledger.Ratify.html#10317" class="Bound">a</a>

  <a id="expired?"></a><a id="10375" href="Ledger.Ratify.html#10375" class="Function">expired?</a> <a id="10384" class="Symbol">:</a> <a id="10386" class="Symbol">∀</a> <a id="10388" href="Ledger.Ratify.html#10388" class="Bound">e</a> <a id="10390" href="Ledger.Ratify.html#10390" class="Bound">st</a> <a id="10393" class="Symbol">→</a> <a id="10395" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="10399" class="Symbol">(</a><a id="10400" href="Ledger.Ratify.html#8035" class="Function">expired</a> <a id="10408" href="Ledger.Ratify.html#10388" class="Bound">e</a> <a id="10410" href="Ledger.Ratify.html#10390" class="Bound">st</a><a id="10412" class="Symbol">)</a>
  <a id="10416" href="Ledger.Ratify.html#10375" class="Function">expired?</a> <a id="10425" href="Ledger.Ratify.html#10425" class="Bound">e</a> <a id="10427" href="Ledger.Ratify.html#10427" class="Bound">st</a> <a id="10430" class="Symbol">=</a> <a id="10432" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="10434" href="Ledger.Ratify.html#8035" class="Function">expired</a> <a id="10442" href="Ledger.Ratify.html#10425" class="Bound">e</a> <a id="10444" href="Ledger.Ratify.html#10427" class="Bound">st</a> <a id="10447" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a>


<a id="10451" class="Keyword">private</a> <a id="10459" class="Keyword">variable</a>
  <a id="10470" href="Ledger.Ratify.html#10470" class="Generalizable">Γ</a> <a id="10472" class="Symbol">:</a> <a id="10474" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a>
  <a id="10486" href="Ledger.Ratify.html#10486" class="Generalizable">es</a> <a id="10489" href="Ledger.Ratify.html#10489" class="Generalizable">es&#39;</a> <a id="10493" class="Symbol">:</a> <a id="10495" href="Ledger.Enact.html#397" class="Record">EnactState</a>
  <a id="10508" href="Ledger.Ratify.html#10508" class="Generalizable">a</a> <a id="10510" class="Symbol">:</a> <a id="10512" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="10524" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10526" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a>
  <a id="10543" href="Ledger.Ratify.html#10543" class="Generalizable">removed</a> <a id="10551" class="Symbol">:</a> <a id="10553" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="10555" class="Symbol">(</a><a id="10556" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="10568" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10570" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a><a id="10584" class="Symbol">)</a>
  <a id="10588" href="Ledger.Ratify.html#10588" class="Generalizable">d</a> <a id="10590" class="Symbol">:</a> <a id="10592" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

<a id="10598" class="Keyword">open</a> <a id="10603" href="Ledger.Ratify.html#2927" class="Module">RatifyEnv</a>
<a id="10613" class="Keyword">open</a> <a id="10618" href="Ledger.GovernanceActions.html#2299" class="Module">GovActionState</a>


<a id="10635" class="Keyword">data</a> <a id="_⊢_⇀⦇_,RATIFY⦈_"></a><a id="10640" href="Ledger.Ratify.html#10640" class="Datatype Operator">_⊢_⇀⦇_,RATIFY⦈_</a> <a id="10656" class="Symbol">:</a>
  <a id="10660" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="10670" class="Symbol">→</a> <a id="10672" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="10684" class="Symbol">→</a> <a id="10686" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="10698" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10700" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="10715" class="Symbol">→</a> <a id="10717" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="10729" class="Symbol">→</a> <a id="10731" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="10736" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,RATIFY⦈_.RATIFY-Accept"></a><a id="10745" href="Ledger.Ratify.html#10745" class="InductiveConstructor">RATIFY-Accept</a> <a id="10759" class="Symbol">:</a>
    <a id="10765" class="Keyword">let</a> <a id="10769" href="Ledger.Ratify.html#10769" class="Bound">treasury</a>       <a id="10784" class="Symbol">=</a> <a id="10786" href="Ledger.Ratify.html#10470" class="Generalizable">Γ</a> <a id="10788" class="Symbol">.</a><a id="10789" href="Ledger.Ratify.html#3109" class="Field">treasury</a>
        <a id="10806" href="Ledger.Ratify.html#10806" class="Bound">e</a>              <a id="10821" class="Symbol">=</a> <a id="10823" href="Ledger.Ratify.html#10470" class="Generalizable">Γ</a> <a id="10825" class="Symbol">.</a><a id="10826" href="Ledger.Ratify.html#2994" class="Field">currentEpoch</a>
        <a id="10847" class="Symbol">(</a><a id="10848" href="Ledger.Ratify.html#10848" class="Bound">gaId</a> <a id="10853" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10855" href="Ledger.Ratify.html#10855" class="Bound">gaSt</a><a id="10859" class="Symbol">)</a>  <a id="10862" class="Symbol">=</a> <a id="10864" href="Ledger.Ratify.html#10508" class="Generalizable">a</a>
        <a id="10874" href="Ledger.Ratify.html#10874" class="Bound">action</a>         <a id="10889" class="Symbol">=</a> <a id="10891" href="Ledger.Ratify.html#10855" class="Bound">gaSt</a> <a id="10896" class="Symbol">.</a><a id="10897" href="Ledger.GovernanceActions.html#2420" class="Field">action</a>
    <a id="10908" class="Keyword">in</a>
    <a id="10915" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="10917" href="Ledger.Ratify.html#9040" class="Function">acceptConds</a> <a id="10929" href="Ledger.Ratify.html#10470" class="Generalizable">Γ</a> <a id="10931" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="10933" href="Ledger.Ratify.html#10486" class="Generalizable">es</a> <a id="10936" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10938" href="Ledger.Ratify.html#10543" class="Generalizable">removed</a> <a id="10946" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10948" href="Ledger.Ratify.html#10588" class="Generalizable">d</a> <a id="10950" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="10952" href="Ledger.Ratify.html#10508" class="Generalizable">a</a>
    <a id="10958" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="10960" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="10962" href="Ledger.Ratify.html#10848" class="Bound">gaId</a> <a id="10967" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10969" href="Ledger.Ratify.html#10769" class="Bound">treasury</a> <a id="10978" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10980" href="Ledger.Ratify.html#10806" class="Bound">e</a> <a id="10982" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="10984" href="Ledger.Enact.html#1695" class="Datatype Operator">⊢</a> <a id="10986" href="Ledger.Ratify.html#10486" class="Generalizable">es</a> <a id="10989" href="Ledger.Enact.html#1695" class="Datatype Operator">⇀⦇</a> <a id="10992" href="Ledger.Ratify.html#10874" class="Bound">action</a> <a id="10999" href="Ledger.Enact.html#1695" class="Datatype Operator">,ENACT⦈</a> <a id="11007" href="Ledger.Ratify.html#10489" class="Generalizable">es&#39;</a>
      <a id="11017" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="11056" href="Ledger.Ratify.html#10470" class="Generalizable">Γ</a> <a id="11058" href="Ledger.Ratify.html#10640" class="Datatype Operator">⊢</a> <a id="11060" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11062" href="Ledger.Ratify.html#10486" class="Generalizable">es</a>  <a id="11066" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11068" href="Ledger.Ratify.html#10543" class="Generalizable">removed</a>         <a id="11084" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11086" href="Ledger.Ratify.html#10588" class="Generalizable">d</a>                     <a id="11108" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="11110" href="Ledger.Ratify.html#10640" class="Datatype Operator">⇀⦇</a> <a id="11113" href="Ledger.Ratify.html#10508" class="Generalizable">a</a> <a id="11115" href="Ledger.Ratify.html#10640" class="Datatype Operator">,RATIFY⦈</a>
          <a id="11134" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11136" href="Ledger.Ratify.html#10489" class="Generalizable">es&#39;</a> <a id="11140" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11142" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="11144" href="Ledger.Ratify.html#10508" class="Generalizable">a</a> <a id="11146" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="11148" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="11150" href="Ledger.Ratify.html#10543" class="Generalizable">removed</a> <a id="11158" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11160" href="Ledger.Ratify.html#8597" class="Function">delayingAction</a> <a id="11175" class="Symbol">(</a><a id="11176" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a> <a id="11183" href="Ledger.Ratify.html#10874" class="Bound">action</a><a id="11189" class="Symbol">)</a> <a id="11191" href="Class.To.html#102" class="Field Operator">⟧</a>

  <a id="_⊢_⇀⦇_,RATIFY⦈_.RATIFY-Reject"></a><a id="11196" href="Ledger.Ratify.html#11196" class="InductiveConstructor">RATIFY-Reject</a> <a id="11210" class="Symbol">:</a>
    <a id="11216" class="Keyword">let</a> <a id="11220" href="Ledger.Ratify.html#11220" class="Bound">e</a>              <a id="11235" class="Symbol">=</a> <a id="11237" href="Ledger.Ratify.html#10470" class="Generalizable">Γ</a> <a id="11239" class="Symbol">.</a><a id="11240" href="Ledger.Ratify.html#2994" class="Field">currentEpoch</a>
        <a id="11261" class="Symbol">(</a><a id="11262" href="Ledger.Ratify.html#11262" class="Bound">gaId</a> <a id="11267" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11269" href="Ledger.Ratify.html#11269" class="Bound">gaSt</a><a id="11273" class="Symbol">)</a>  <a id="11276" class="Symbol">=</a> <a id="11278" href="Ledger.Ratify.html#10508" class="Generalizable">a</a>
    <a id="11284" class="Keyword">in</a>
    <a id="11291" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="11293" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11295" href="Ledger.Ratify.html#9040" class="Function">acceptConds</a> <a id="11307" href="Ledger.Ratify.html#10470" class="Generalizable">Γ</a> <a id="11309" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11311" href="Ledger.Ratify.html#10486" class="Generalizable">es</a> <a id="11314" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11316" href="Ledger.Ratify.html#10543" class="Generalizable">removed</a> <a id="11324" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11326" href="Ledger.Ratify.html#10588" class="Generalizable">d</a> <a id="11328" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="11330" href="Ledger.Ratify.html#10508" class="Generalizable">a</a>
    <a id="11336" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="11338" href="Ledger.Ratify.html#8035" class="Function">expired</a> <a id="11346" href="Ledger.Ratify.html#11220" class="Bound">e</a> <a id="11348" href="Ledger.Ratify.html#11269" class="Bound">gaSt</a>
      <a id="11359" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="11398" href="Ledger.Ratify.html#10470" class="Generalizable">Γ</a> <a id="11400" href="Ledger.Ratify.html#10640" class="Datatype Operator">⊢</a> <a id="11402" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11404" href="Ledger.Ratify.html#10486" class="Generalizable">es</a> <a id="11407" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11409" href="Ledger.Ratify.html#10543" class="Generalizable">removed</a> <a id="11417" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11419" href="Ledger.Ratify.html#10588" class="Generalizable">d</a> <a id="11421" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="11423" href="Ledger.Ratify.html#10640" class="Datatype Operator">⇀⦇</a> <a id="11426" href="Ledger.Ratify.html#10508" class="Generalizable">a</a> <a id="11428" href="Ledger.Ratify.html#10640" class="Datatype Operator">,RATIFY⦈</a> <a id="11437" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11439" href="Ledger.Ratify.html#10486" class="Generalizable">es</a> <a id="11442" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11444" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="11446" href="Ledger.Ratify.html#10508" class="Generalizable">a</a> <a id="11448" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="11450" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="11452" href="Ledger.Ratify.html#10543" class="Generalizable">removed</a> <a id="11460" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11462" href="Ledger.Ratify.html#10588" class="Generalizable">d</a> <a id="11464" href="Class.To.html#102" class="Field Operator">⟧</a>

  <a id="_⊢_⇀⦇_,RATIFY⦈_.RATIFY-Continue"></a><a id="11469" href="Ledger.Ratify.html#11469" class="InductiveConstructor">RATIFY-Continue</a> <a id="11485" class="Symbol">:</a>
     <a id="11492" class="Keyword">let</a> <a id="11496" href="Ledger.Ratify.html#11496" class="Bound">e</a>              <a id="11511" class="Symbol">=</a> <a id="11513" href="Ledger.Ratify.html#10470" class="Generalizable">Γ</a> <a id="11515" class="Symbol">.</a><a id="11516" href="Ledger.Ratify.html#2994" class="Field">currentEpoch</a>
         <a id="11538" class="Symbol">(</a><a id="11539" href="Ledger.Ratify.html#11539" class="Bound">gaId</a> <a id="11544" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11546" href="Ledger.Ratify.html#11546" class="Bound">gaSt</a><a id="11550" class="Symbol">)</a>  <a id="11553" class="Symbol">=</a> <a id="11555" href="Ledger.Ratify.html#10508" class="Generalizable">a</a>
     <a id="11562" class="Keyword">in</a>
     <a id="11570" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="11572" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11574" href="Ledger.Ratify.html#9040" class="Function">acceptConds</a> <a id="11586" href="Ledger.Ratify.html#10470" class="Generalizable">Γ</a> <a id="11588" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11590" href="Ledger.Ratify.html#10486" class="Generalizable">es</a> <a id="11593" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11595" href="Ledger.Ratify.html#10543" class="Generalizable">removed</a> <a id="11603" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11605" href="Ledger.Ratify.html#10588" class="Generalizable">d</a> <a id="11607" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="11609" href="Ledger.Ratify.html#10508" class="Generalizable">a</a>
     <a id="11616" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="11618" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11620" href="Ledger.Ratify.html#8035" class="Function">expired</a> <a id="11628" href="Ledger.Ratify.html#11496" class="Bound">e</a> <a id="11630" href="Ledger.Ratify.html#11546" class="Bound">gaSt</a>
       <a id="11642" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
       <a id="11682" href="Ledger.Ratify.html#10470" class="Generalizable">Γ</a> <a id="11684" href="Ledger.Ratify.html#10640" class="Datatype Operator">⊢</a> <a id="11686" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11688" href="Ledger.Ratify.html#10486" class="Generalizable">es</a> <a id="11691" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11693" href="Ledger.Ratify.html#10543" class="Generalizable">removed</a> <a id="11701" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11703" href="Ledger.Ratify.html#10588" class="Generalizable">d</a> <a id="11705" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="11707" href="Ledger.Ratify.html#10640" class="Datatype Operator">⇀⦇</a> <a id="11710" href="Ledger.Ratify.html#10508" class="Generalizable">a</a> <a id="11712" href="Ledger.Ratify.html#10640" class="Datatype Operator">,RATIFY⦈</a> <a id="11721" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11723" href="Ledger.Ratify.html#10486" class="Generalizable">es</a> <a id="11726" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11728" href="Ledger.Ratify.html#10543" class="Generalizable">removed</a> <a id="11736" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11738" href="Ledger.Ratify.html#10588" class="Generalizable">d</a> <a id="11740" href="Class.To.html#102" class="Field Operator">⟧</a>

<a id="_⊢_⇀⦇_,RATIFIES⦈_"></a><a id="11743" href="Ledger.Ratify.html#11743" class="Function Operator">_⊢_⇀⦇_,RATIFIES⦈_</a>  <a id="11762" class="Symbol">:</a> <a id="11764" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="11774" class="Symbol">→</a> <a id="11776" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="11788" class="Symbol">→</a> <a id="11790" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="11795" class="Symbol">(</a><a id="11796" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="11808" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="11810" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a><a id="11824" class="Symbol">)</a>
                 <a id="11843" class="Symbol">→</a> <a id="11845" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="11857" class="Symbol">→</a> <a id="11859" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="11864" href="Ledger.Ratify.html#11743" class="Function Operator">_⊢_⇀⦇_,RATIFIES⦈_</a> <a id="11882" class="Symbol">=</a> <a id="11884" href="Interface.STS.html#2329" class="Function">ReflexiveTransitiveClosure</a> <a id="11911" class="Symbol">{</a><a id="11912" class="Argument">sts</a> <a id="11916" class="Symbol">=</a> <a id="11918" href="Ledger.Ratify.html#10640" class="Datatype Operator">_⊢_⇀⦇_,RATIFY⦈_</a><a id="11933" class="Symbol">}</a>

</pre></body></html>