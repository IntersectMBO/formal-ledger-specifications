<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Ratify</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">import</a> <a id="33" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="46" class="Symbol">as</a> <a id="49" class="Module">ℤ</a>
<a id="51" class="Keyword">open</a> <a id="56" class="Keyword">import</a> <a id="63" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="77" class="Symbol">as</a> <a id="80" class="Module">ℚ</a> <a id="82" class="Keyword">using</a> <a id="88" class="Symbol">(</a><a id="89" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="90" class="Symbol">;</a> <a id="92" href="Data.Rational.Base.html#4325" class="Function">0ℚ</a><a id="94" class="Symbol">;</a> <a id="96" href="Data.Rational.Base.html#6776" class="Function Operator">_⊔_</a><a id="99" class="Symbol">)</a>
<a id="101" class="Keyword">open</a> <a id="106" class="Keyword">import</a> <a id="113" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="133" class="Keyword">hiding</a> <a id="140" class="Symbol">(</a><a id="141" href="Data.Nat.Properties.html#3874" class="Function Operator">_≟_</a><a id="144" class="Symbol">;</a> <a id="146" href="Data.Nat.Properties.html#6709" class="Function Operator">_≤?_</a><a id="150" class="Symbol">)</a>

<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="180" class="Keyword">hiding</a> <a id="187" class="Symbol">(</a><a id="188" href="Data.Bool.Base.html#995" class="Function Operator">_∧_</a><a id="191" class="Symbol">;</a> <a id="193" href="Data.Nat.Base.html#5485" class="Function Operator">_⊔_</a><a id="196" class="Symbol">)</a> <a id="198" class="Keyword">renaming</a> <a id="207" class="Symbol">(</a><a id="208" href="abstract-set-theory.FiniteSetTheory.html#2895" class="Function">filterᵐ</a> <a id="216" class="Symbol">to</a> <a id="219" class="Function">filter</a><a id="225" class="Symbol">)</a>
<a id="227" class="Keyword">open</a> <a id="232" class="Keyword">import</a> <a id="239" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a> <a id="258" class="Keyword">hiding</a> <a id="265" class="Symbol">(</a><a id="266" href="Ledger.Transaction.html#770" class="InductiveConstructor">Vote</a><a id="270" class="Symbol">)</a>

<a id="273" class="Keyword">module</a> <a id="280" href="Ledger.Ratify.html" class="Module">Ledger.Ratify</a> <a id="294" class="Symbol">(</a><a id="295" href="Ledger.Ratify.html#295" class="Bound">txs</a> <a id="299" class="Symbol">:</a> <a id="301" class="Symbol">_)</a> <a id="304" class="Symbol">(</a><a id="305" class="Keyword">open</a> <a id="310" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="331" href="Ledger.Ratify.html#295" class="Bound">txs</a><a id="334" class="Symbol">)</a> <a id="336" class="Keyword">where</a>

<a id="343" class="Keyword">open</a> <a id="348" class="Keyword">import</a> <a id="355" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="368" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="381" class="Keyword">open</a> <a id="386" class="Keyword">import</a> <a id="393" href="Ledger.Enact.html" class="Module">Ledger.Enact</a> <a id="406" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="419" class="Keyword">open</a> <a id="424" class="Keyword">import</a> <a id="431" href="Ledger.GovernanceActions.html" class="Module">Ledger.GovernanceActions</a> <a id="456" href="Ledger.Transaction.html#1809" class="Function">govStructure</a> <a id="469" class="Keyword">using</a> <a id="475" class="Symbol">(</a><a id="476" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a><a id="480" class="Symbol">)</a>

<a id="483" class="Keyword">infixr</a> <a id="490" class="Number">2</a> <a id="492" href="Ledger.Ratify.html#496" class="Function Operator">_∧_</a>
<a id="_∧_"></a><a id="496" href="Ledger.Ratify.html#496" class="Function Operator">_∧_</a> <a id="500" class="Symbol">=</a> <a id="502" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a>

<a id="507" class="Keyword">instance</a>
  <a id="518" href="Ledger.Ratify.html#518" class="Function">_</a> <a id="520" class="Symbol">=</a> <a id="522" href="Data.Nat.Properties.html#17331" class="Function">+-0-commutativeMonoid</a>


<a id="546" class="Keyword">private</a>
  <a id="∣_∣_∣_∣"></a><a id="556" href="Ledger.Ratify.html#556" class="Function Operator">∣_∣_∣_∣</a> <a id="564" class="Symbol">:</a> <a id="566" class="Symbol">{</a><a id="567" href="Ledger.Ratify.html#567" class="Bound">A</a> <a id="569" class="Symbol">:</a> <a id="571" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="575" class="Symbol">}</a> <a id="577" class="Symbol">→</a> <a id="579" href="Ledger.Ratify.html#567" class="Bound">A</a> <a id="581" class="Symbol">→</a> <a id="583" href="Ledger.Ratify.html#567" class="Bound">A</a> <a id="585" class="Symbol">→</a> <a id="587" href="Ledger.Ratify.html#567" class="Bound">A</a> <a id="589" class="Symbol">→</a> <a id="591" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="599" class="Symbol">→</a> <a id="601" href="Ledger.Ratify.html#567" class="Bound">A</a>
  <a id="605" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="607" href="Ledger.Ratify.html#607" class="Bound">q₁</a> <a id="610" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="612" href="Ledger.Ratify.html#612" class="Bound">q₂</a> <a id="615" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="617" href="Ledger.Ratify.html#617" class="Bound">q₃</a> <a id="620" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="622" class="Symbol">=</a> <a id="624" class="Symbol">λ</a> <a id="626" class="Symbol">{</a> <a id="628" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="631" class="Symbol">→</a> <a id="633" href="Ledger.Ratify.html#607" class="Bound">q₁</a> <a id="636" class="Symbol">;</a> <a id="638" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a> <a id="643" class="Symbol">→</a> <a id="645" href="Ledger.Ratify.html#612" class="Bound">q₂</a> <a id="648" class="Symbol">;</a> <a id="650" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a> <a id="654" class="Symbol">→</a> <a id="656" href="Ledger.Ratify.html#617" class="Bound">q₃</a> <a id="659" class="Symbol">}</a>

  <a id="∣_∥_∣"></a><a id="664" href="Ledger.Ratify.html#664" class="Function Operator">∣_∥_∣</a> <a id="670" class="Symbol">:</a> <a id="672" class="Symbol">{</a><a id="673" href="Ledger.Ratify.html#673" class="Bound">A</a> <a id="675" class="Symbol">:</a> <a id="677" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="681" class="Symbol">}</a> <a id="683" class="Symbol">→</a> <a id="685" href="Ledger.Ratify.html#673" class="Bound">A</a> <a id="687" class="Symbol">→</a> <a id="689" href="Ledger.Ratify.html#673" class="Bound">A</a> <a id="691" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="693" href="Ledger.Ratify.html#673" class="Bound">A</a> <a id="695" class="Symbol">→</a> <a id="697" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="705" class="Symbol">→</a> <a id="707" href="Ledger.Ratify.html#673" class="Bound">A</a>
  <a id="711" href="Ledger.Ratify.html#664" class="Function Operator">∣</a> <a id="713" href="Ledger.Ratify.html#713" class="Bound">q₁</a> <a id="716" href="Ledger.Ratify.html#664" class="Function Operator">∥</a> <a id="718" class="Symbol">(</a><a id="719" href="Ledger.Ratify.html#719" class="Bound">q₂</a> <a id="722" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="724" href="Ledger.Ratify.html#724" class="Bound">q₃</a><a id="726" class="Symbol">)</a> <a id="728" href="Ledger.Ratify.html#664" class="Function Operator">∣</a> <a id="730" class="Symbol">=</a> <a id="732" class="Symbol">λ</a> <a id="734" class="Symbol">{</a> <a id="736" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="739" class="Symbol">→</a> <a id="741" href="Ledger.Ratify.html#713" class="Bound">q₁</a> <a id="744" class="Symbol">;</a> <a id="746" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a> <a id="751" class="Symbol">→</a> <a id="753" href="Ledger.Ratify.html#719" class="Bound">q₂</a> <a id="756" class="Symbol">;</a> <a id="758" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a> <a id="762" class="Symbol">→</a> <a id="764" href="Ledger.Ratify.html#724" class="Bound">q₃</a> <a id="767" class="Symbol">}</a>

<a id="vote"></a><a id="770" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="775" class="Symbol">:</a> <a id="777" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="779" class="Symbol">→</a> <a id="781" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="787" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="789" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="794" class="Symbol">=</a> <a id="796" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a>

<a id="defer"></a><a id="802" href="Ledger.Ratify.html#802" class="Function">defer</a> <a id="808" class="Symbol">:</a> <a id="810" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="812" href="Ledger.Ratify.html#802" class="Function">defer</a> <a id="818" class="Symbol">=</a> <a id="820" href="Data.Rational.Base.html#4346" class="Function">ℚ.1ℚ</a> <a id="825" href="Data.Rational.Base.html#6206" class="Function Operator">ℚ.+</a> <a id="829" href="Data.Rational.Base.html#4346" class="Function">ℚ.1ℚ</a>

<a id="maxThreshold"></a><a id="835" href="Ledger.Ratify.html#835" class="Function">maxThreshold</a> <a id="848" class="Symbol">:</a> <a id="850" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="852" class="Symbol">(</a><a id="853" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="859" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="860" class="Symbol">)</a> <a id="862" class="Symbol">→</a> <a id="864" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="870" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="872" href="Ledger.Ratify.html#835" class="Function">maxThreshold</a> <a id="885" href="Ledger.Ratify.html#885" class="Bound">x</a> <a id="887" class="Symbol">=</a> <a id="889" href="Data.List.Base.html#4249" class="Function">foldl</a> <a id="895" href="Ledger.Ratify.html#943" class="Function">comb</a> <a id="900" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="908" class="Symbol">(</a><a id="909" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="915" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="917" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="928" href="Ledger.Ratify.html#885" class="Bound">x</a><a id="929" class="Symbol">)</a>
  <a id="933" class="Keyword">where</a>
    <a id="943" href="Ledger.Ratify.html#943" class="Function">comb</a> <a id="948" class="Symbol">:</a> <a id="950" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="956" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="958" class="Symbol">→</a> <a id="960" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="966" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="968" class="Symbol">→</a> <a id="970" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="976" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
    <a id="982" href="Ledger.Ratify.html#943" class="Function">comb</a> <a id="987" class="Symbol">(</a><a id="988" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="993" href="Ledger.Ratify.html#993" class="Bound">x</a><a id="994" class="Symbol">)</a> <a id="996" class="Symbol">(</a><a id="997" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1002" href="Ledger.Ratify.html#1002" class="Bound">y</a><a id="1003" class="Symbol">)</a> <a id="1005" class="Symbol">=</a> <a id="1007" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1012" class="Symbol">(</a><a id="1013" href="Ledger.Ratify.html#993" class="Bound">x</a> <a id="1015" href="Data.Rational.Base.html#6776" class="Function Operator">⊔</a> <a id="1017" href="Ledger.Ratify.html#1002" class="Bound">y</a><a id="1018" class="Symbol">)</a>
    <a id="1024" href="Ledger.Ratify.html#943" class="Function">comb</a> <a id="1029" class="Symbol">(</a><a id="1030" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1035" href="Ledger.Ratify.html#1035" class="Bound">x</a><a id="1036" class="Symbol">)</a> <a id="1038" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="1047" class="Symbol">=</a> <a id="1049" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1054" href="Ledger.Ratify.html#1035" class="Bound">x</a>
    <a id="1060" href="Ledger.Ratify.html#943" class="Function">comb</a> <a id="1065" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="1074" class="Symbol">(</a><a id="1075" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1080" href="Ledger.Ratify.html#1080" class="Bound">y</a><a id="1081" class="Symbol">)</a> <a id="1083" class="Symbol">=</a> <a id="1085" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1090" href="Ledger.Ratify.html#1080" class="Bound">y</a>
    <a id="1096" href="Ledger.Ratify.html#943" class="Function">comb</a> <a id="1101" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="1110" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="1119" class="Symbol">=</a> <a id="1121" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="─"></a><a id="1130" href="Ledger.Ratify.html#1130" class="Function">─</a> <a id="1132" class="Symbol">:</a> <a id="1134" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1140" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="1142" href="Ledger.Ratify.html#1130" class="Function">─</a> <a id="1144" class="Symbol">=</a> <a id="1146" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="✓†"></a><a id="1154" href="Ledger.Ratify.html#1154" class="Function">✓†</a> <a id="1157" class="Symbol">=</a> <a id="1159" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1164" href="Ledger.Ratify.html#802" class="Function">defer</a>


<a id="threshold"></a><a id="1172" href="Ledger.Ratify.html#1172" class="Function">threshold</a> <a id="1182" class="Symbol">:</a> <a id="1184" href="Ledger.PParams.html#1443" class="Record">PParams</a> <a id="1192" class="Symbol">→</a> <a id="1194" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1200" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="1202" class="Symbol">→</a> <a id="1204" href="Ledger.GovernanceActions.html#1372" class="Record">GovAction</a> <a id="1214" class="Symbol">→</a> <a id="1216" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="1224" class="Symbol">→</a> <a id="1226" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1232" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="1234" href="Ledger.Ratify.html#1172" class="Function">threshold</a> <a id="1244" href="Ledger.Ratify.html#1244" class="Bound">pp</a> <a id="1247" href="Ledger.Ratify.html#1247" class="Bound">ccThreshold</a> <a id="1259" class="Symbol">=</a>


  <a id="1265" class="Symbol">λ</a> <a id="1267" class="Keyword">where</a>


      <a id="1281" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1283" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>     <a id="1300" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1302" class="Symbol">_</a> <a id="1304" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1308" class="Symbol">→</a> <a id="1310" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1312" href="Ledger.Ratify.html#1130" class="Function">─</a>   <a id="1316" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1318" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1323" href="Ledger.PParams.html#1325" class="Function">P1</a>      <a id="1331" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1333" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1338" href="Ledger.PParams.html#1413" class="Function">Q1</a>  <a id="1342" href="Ledger.Ratify.html#556" class="Function Operator">∣</a>
      <a id="1350" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1352" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a>  <a id="1369" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1371" class="Symbol">_</a> <a id="1373" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1377" class="Symbol">→</a> <a id="1379" href="Ledger.Ratify.html#664" class="Function Operator">∣</a> <a id="1381" href="Ledger.Ratify.html#1130" class="Function">─</a>   <a id="1385" href="Ledger.Ratify.html#664" class="Function Operator">∥</a> <a id="1387" href="Ledger.Ratify.html#1933" class="Function">P/Q2a/b</a>                 <a id="1411" href="Ledger.Ratify.html#664" class="Function Operator">∣</a>
      <a id="1419" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1421" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a>  <a id="1438" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1440" class="Symbol">_</a> <a id="1442" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1446" class="Symbol">→</a> <a id="1448" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1450" href="Ledger.Ratify.html#1893" class="Function">✓</a>   <a id="1454" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1456" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1461" href="Ledger.PParams.html#1336" class="Function">P3</a>      <a id="1469" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1471" href="Ledger.Ratify.html#1130" class="Function">─</a>        <a id="1480" href="Ledger.Ratify.html#556" class="Function Operator">∣</a>
      <a id="1488" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1490" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>        <a id="1507" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1509" class="Symbol">_</a> <a id="1511" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1515" class="Symbol">→</a> <a id="1517" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1519" href="Ledger.Ratify.html#1893" class="Function">✓</a>   <a id="1523" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1525" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1530" href="Ledger.PParams.html#1339" class="Function">P4</a>      <a id="1538" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1540" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1545" href="Ledger.PParams.html#1424" class="Function">Q4</a>  <a id="1549" href="Ledger.Ratify.html#556" class="Function Operator">∣</a>
      <a id="1557" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1559" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>    <a id="1576" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1578" href="Ledger.Ratify.html#1578" class="Bound">x</a> <a id="1580" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1584" class="Symbol">→</a> <a id="1586" href="Ledger.Ratify.html#664" class="Function Operator">∣</a> <a id="1588" href="Ledger.Ratify.html#1893" class="Function">✓</a>   <a id="1592" href="Ledger.Ratify.html#664" class="Function Operator">∥</a> <a id="1594" href="Ledger.Ratify.html#2536" class="Function">P/Q5</a> <a id="1599" href="Ledger.Ratify.html#1578" class="Bound">x</a>                  <a id="1618" href="Ledger.Ratify.html#664" class="Function Operator">∣</a>
      <a id="1626" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1628" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>     <a id="1645" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1647" class="Symbol">_</a> <a id="1649" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1653" class="Symbol">→</a> <a id="1655" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1657" href="Ledger.Ratify.html#1893" class="Function">✓</a>   <a id="1661" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1663" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="1668" href="Ledger.PParams.html#1358" class="Function">P6</a>      <a id="1676" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1678" href="Ledger.Ratify.html#1130" class="Function">─</a>        <a id="1687" href="Ledger.Ratify.html#556" class="Function Operator">∣</a>
      <a id="1695" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="1697" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>             <a id="1714" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="1716" class="Symbol">_</a> <a id="1718" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="1722" class="Symbol">→</a> <a id="1724" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1726" href="Ledger.Ratify.html#1154" class="Function">✓†</a>  <a id="1730" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1732" href="Ledger.Ratify.html#1154" class="Function">✓†</a>           <a id="1745" href="Ledger.Ratify.html#556" class="Function Operator">∣</a> <a id="1747" href="Ledger.Ratify.html#1154" class="Function">✓†</a>       <a id="1756" href="Ledger.Ratify.html#556" class="Function Operator">∣</a>
        <a id="1766" class="Keyword">where</a>


        <a id="1782" class="Keyword">open</a> <a id="1787" href="Ledger.PParams.html#1443" class="Module">PParams</a> <a id="1795" href="Ledger.Ratify.html#1244" class="Bound">pp</a>
        <a id="1806" class="Keyword">open</a> <a id="1811" href="Ledger.PParams.html#1285" class="Module">DrepThresholds</a> <a id="1826" href="Ledger.PParams.html#2928" class="Function">drepThresholds</a>
        <a id="1849" class="Keyword">open</a> <a id="1854" href="Ledger.PParams.html#1373" class="Module">PoolThresholds</a> <a id="1869" href="Ledger.PParams.html#2873" class="Function">poolThresholds</a>

        <a id="1893" href="Ledger.Ratify.html#1893" class="Function">✓</a> <a id="1895" class="Symbol">=</a> <a id="1897" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="1903" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1908" href="Ledger.Ratify.html#1154" class="Function">✓†</a> <a id="1911" href="Ledger.Ratify.html#1247" class="Bound">ccThreshold</a>


        <a id="1933" href="Ledger.Ratify.html#1933" class="Function">P/Q2a/b</a> <a id="1941" class="Symbol">:</a> <a id="1943" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1949" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="1951" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1953" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1959" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
        <a id="1969" href="Ledger.Ratify.html#1933" class="Function">P/Q2a/b</a> <a id="1977" class="Symbol">=</a>  <a id="1980" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="1985" href="Ledger.Ratify.html#1247" class="Bound">ccThreshold</a> <a id="1997" href="Function.Base.html#4042" class="Function Operator">of</a>


          <a id="2012" class="Symbol">λ</a> <a id="2014" class="Keyword">where</a>


                   <a id="2041" class="Symbol">(</a><a id="2042" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2047" class="Symbol">_)</a>  <a id="2051" class="Symbol">→</a> <a id="2053" class="Symbol">(</a><a id="2054" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2059" href="Ledger.PParams.html#1328" class="Function">P2a</a> <a id="2063" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2065" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2070" href="Ledger.PParams.html#1416" class="Function">Q2a</a><a id="2073" class="Symbol">)</a>
                   <a id="2094" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>   <a id="2104" class="Symbol">→</a> <a id="2106" class="Symbol">(</a><a id="2107" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2112" href="Ledger.PParams.html#1332" class="Function">P2b</a> <a id="2116" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2118" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2123" href="Ledger.PParams.html#1420" class="Function">Q2b</a><a id="2126" class="Symbol">)</a>

        <a id="2137" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a> <a id="2153" class="Symbol">:</a> <a id="2155" href="Ledger.PParams.html#1086" class="Datatype">PParamGroup</a> <a id="2167" class="Symbol">→</a> <a id="2169" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2175" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="2177" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2179" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2185" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
        <a id="2195" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a> <a id="2211" href="Ledger.PParams.html#1113" class="InductiveConstructor">NetworkGroup</a>     <a id="2228" class="Symbol">=</a> <a id="2230" class="Symbol">(</a><a id="2231" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2236" href="Ledger.PParams.html#1342" class="Function">P5a</a>  <a id="2241" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2243" href="Ledger.Ratify.html#1130" class="Function">─</a>         <a id="2253" class="Symbol">)</a>
        <a id="2263" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a> <a id="2279" href="Ledger.PParams.html#1146" class="InductiveConstructor">EconomicGroup</a>    <a id="2296" class="Symbol">=</a> <a id="2298" class="Symbol">(</a><a id="2299" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2304" href="Ledger.PParams.html#1346" class="Function">P5b</a>  <a id="2309" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2311" href="Ledger.Ratify.html#1130" class="Function">─</a>         <a id="2321" class="Symbol">)</a>
        <a id="2331" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a> <a id="2347" href="Ledger.PParams.html#1179" class="InductiveConstructor">TechnicalGroup</a>   <a id="2364" class="Symbol">=</a> <a id="2366" class="Symbol">(</a><a id="2367" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2372" href="Ledger.PParams.html#1350" class="Function">P5c</a>  <a id="2377" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2379" href="Ledger.Ratify.html#1130" class="Function">─</a>         <a id="2389" class="Symbol">)</a>
        <a id="2399" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a> <a id="2415" href="Ledger.PParams.html#1212" class="InductiveConstructor">GovernanceGroup</a>  <a id="2432" class="Symbol">=</a> <a id="2434" class="Symbol">(</a><a id="2435" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2440" href="Ledger.PParams.html#1354" class="Function">P5d</a>  <a id="2445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2447" href="Ledger.Ratify.html#1130" class="Function">─</a>         <a id="2457" class="Symbol">)</a>
        <a id="2467" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a> <a id="2483" href="Ledger.PParams.html#1245" class="InductiveConstructor">SecurityGroup</a>    <a id="2500" class="Symbol">=</a> <a id="2502" class="Symbol">(</a><a id="2503" href="Ledger.Ratify.html#1130" class="Function">─</a>         <a id="2513" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2515" href="Ledger.Ratify.html#770" class="Function">vote</a> <a id="2520" href="Ledger.PParams.html#1427" class="Function">Q5</a>   <a id="2525" class="Symbol">)</a>

        <a id="2536" href="Ledger.Ratify.html#2536" class="Function">P/Q5</a> <a id="2541" class="Symbol">:</a> <a id="2543" href="Ledger.PParams.html#13870" class="Function">PParamsUpdate</a> <a id="2557" class="Symbol">→</a> <a id="2559" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2565" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="2567" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2569" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2575" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
        <a id="2585" href="Ledger.Ratify.html#2536" class="Function">P/Q5</a> <a id="2590" href="Ledger.Ratify.html#2590" class="Bound">ppu</a> <a id="2594" class="Symbol">=</a> <a id="2596" href="Ledger.Ratify.html#835" class="Function">maxThreshold</a> <a id="2609" class="Symbol">(</a><a id="2610" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2615" class="Symbol">(</a><a id="2616" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2622" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2624" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a><a id="2639" class="Symbol">)</a> <a id="2641" class="Symbol">(</a><a id="2642" href="Ledger.PParams.html#13482" class="Function">updateGroups</a> <a id="2655" href="Ledger.Ratify.html#2590" class="Bound">ppu</a><a id="2658" class="Symbol">))</a>
                 <a id="2678" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2680" href="Ledger.Ratify.html#835" class="Function">maxThreshold</a> <a id="2693" class="Symbol">(</a><a id="2694" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2699" class="Symbol">(</a><a id="2700" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2706" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2708" href="Ledger.Ratify.html#2137" class="Function">pparamThreshold</a><a id="2723" class="Symbol">)</a> <a id="2725" class="Symbol">(</a><a id="2726" href="Ledger.PParams.html#13482" class="Function">updateGroups</a> <a id="2739" href="Ledger.Ratify.html#2590" class="Bound">ppu</a><a id="2742" class="Symbol">))</a>

<a id="canVote"></a><a id="2746" href="Ledger.Ratify.html#2746" class="Function">canVote</a> <a id="2754" class="Symbol">:</a> <a id="2756" href="Ledger.PParams.html#1443" class="Record">PParams</a> <a id="2764" class="Symbol">→</a> <a id="2766" href="Ledger.GovernanceActions.html#1372" class="Record">GovAction</a> <a id="2776" class="Symbol">→</a> <a id="2778" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="2786" class="Symbol">→</a> <a id="2788" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="2793" href="Ledger.Ratify.html#2746" class="Function">canVote</a> <a id="2801" href="Ledger.Ratify.html#2801" class="Bound">pp</a> <a id="2804" href="Ledger.Ratify.html#2804" class="Bound">a</a> <a id="2806" href="Ledger.Ratify.html#2806" class="Bound">r</a> <a id="2808" class="Symbol">=</a> <a id="2810" href="Data.Maybe.html#845" class="Function">Is-just</a> <a id="2818" class="Symbol">(</a><a id="2819" href="Ledger.Ratify.html#1172" class="Function">threshold</a> <a id="2829" href="Ledger.Ratify.html#2801" class="Bound">pp</a> <a id="2832" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2840" href="Ledger.Ratify.html#2804" class="Bound">a</a> <a id="2842" href="Ledger.Ratify.html#2806" class="Bound">r</a><a id="2843" class="Symbol">)</a>


<a id="2847" class="Keyword">record</a> <a id="StakeDistrs"></a><a id="2854" href="Ledger.Ratify.html#2854" class="Record">StakeDistrs</a> <a id="2866" class="Symbol">:</a> <a id="2868" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2873" class="Keyword">where</a>
  <a id="2881" class="Keyword">field</a>
    <a id="StakeDistrs.stakeDistr"></a><a id="2891" href="Ledger.Ratify.html#2891" class="Field">stakeDistr</a>  <a id="2903" class="Symbol">:</a> <a id="2905" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="2912" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2914" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>

<a id="2920" class="Keyword">record</a> <a id="RatifyEnv"></a><a id="2927" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="2937" class="Symbol">:</a> <a id="2939" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2944" class="Keyword">where</a>
  <a id="2952" class="Keyword">field</a>
    <a id="RatifyEnv.stakeDistrs"></a><a id="2962" href="Ledger.Ratify.html#2962" class="Field">stakeDistrs</a>   <a id="2976" class="Symbol">:</a> <a id="2978" href="Ledger.Ratify.html#2854" class="Record">StakeDistrs</a>
    <a id="RatifyEnv.currentEpoch"></a><a id="2994" href="Ledger.Ratify.html#2994" class="Field">currentEpoch</a>  <a id="3008" class="Symbol">:</a> <a id="3010" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>
    <a id="RatifyEnv.dreps"></a><a id="3020" href="Ledger.Ratify.html#3020" class="Field">dreps</a>         <a id="3034" class="Symbol">:</a> <a id="3036" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3047" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3049" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>
    <a id="RatifyEnv.ccHotKeys"></a><a id="3059" href="Ledger.Ratify.html#3059" class="Field">ccHotKeys</a>     <a id="3073" class="Symbol">:</a> <a id="3075" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3086" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3088" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3094" href="Ledger.Address.html#273" class="Datatype">Credential</a>
    <a id="RatifyEnv.treasury"></a><a id="3109" href="Ledger.Ratify.html#3109" class="Field">treasury</a>      <a id="3123" class="Symbol">:</a> <a id="3125" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="RatifyEnv.pools"></a><a id="3134" href="Ledger.Ratify.html#3134" class="Field">pools</a>         <a id="3148" class="Symbol">:</a> <a id="3150" href="Ledger.Crypto.html#1310" class="Function">KeyHash</a> <a id="3158" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3160" href="Ledger.Certs.html#687" class="Record">PoolParams</a>
    <a id="RatifyEnv.delegatees"></a><a id="3175" href="Ledger.Ratify.html#3175" class="Field">delegatees</a>    <a id="3189" class="Symbol">:</a> <a id="3191" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3202" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3204" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a>

<a id="3212" class="Keyword">record</a> <a id="RatifyState"></a><a id="3219" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="3231" class="Symbol">:</a> <a id="3233" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3238" class="Keyword">where</a>
  <a id="3246" class="Keyword">field</a>
    <a id="RatifyState.es"></a><a id="3256" href="Ledger.Ratify.html#3256" class="Field">es</a>              <a id="3272" class="Symbol">:</a> <a id="3274" href="Ledger.Enact.html#397" class="Record">EnactState</a>
    <a id="RatifyState.removed"></a><a id="3289" href="Ledger.Ratify.html#3289" class="Field">removed</a>         <a id="3305" class="Symbol">:</a> <a id="3307" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3309" class="Symbol">(</a><a id="3310" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="3322" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3324" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a><a id="3338" class="Symbol">)</a>
    <a id="RatifyState.delay"></a><a id="3344" href="Ledger.Ratify.html#3344" class="Field">delay</a>           <a id="3360" class="Symbol">:</a> <a id="3362" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

<a id="CCData"></a><a id="3368" href="Ledger.Ratify.html#3368" class="Function">CCData</a> <a id="3375" class="Symbol">:</a> <a id="3377" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="3382" href="Ledger.Ratify.html#3368" class="Function">CCData</a> <a id="3389" class="Symbol">=</a> <a id="3391" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3397" class="Symbol">((</a><a id="3399" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3410" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3412" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a><a id="3417" class="Symbol">)</a> <a id="3419" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3421" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="3422" class="Symbol">)</a>

<a id="govRole"></a><a id="3425" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3433" class="Symbol">:</a> <a id="3435" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="3442" class="Symbol">→</a> <a id="3444" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a>
<a id="3452" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3460" class="Symbol">(</a><a id="3461" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="3471" href="Ledger.Ratify.html#3471" class="Bound">gv</a> <a id="3474" class="Symbol">_)</a>  <a id="3478" class="Symbol">=</a> <a id="3480" href="Ledger.Ratify.html#3471" class="Bound">gv</a>
<a id="3483" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3491" href="Ledger.GovernanceActions.html#532" class="InductiveConstructor">abstainRep</a>        <a id="3509" class="Symbol">=</a> <a id="3511" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>
<a id="3516" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3524" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a>   <a id="3542" class="Symbol">=</a> <a id="3544" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>

<a id="IsCC"></a><a id="3550" href="Ledger.Ratify.html#3550" class="Function">IsCC</a> <a id="IsDRep"></a><a id="3555" href="Ledger.Ratify.html#3555" class="Function">IsDRep</a> <a id="IsSPO"></a><a id="3562" href="Ledger.Ratify.html#3562" class="Function">IsSPO</a> <a id="3568" class="Symbol">:</a> <a id="3570" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="3577" class="Symbol">→</a> <a id="3579" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="3584" href="Ledger.Ratify.html#3550" class="Function">IsCC</a>    <a id="3592" href="Ledger.Ratify.html#3592" class="Bound">v</a> <a id="3594" class="Symbol">=</a> <a id="3596" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3604" href="Ledger.Ratify.html#3592" class="Bound">v</a> <a id="3606" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3608" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a>
<a id="3611" href="Ledger.Ratify.html#3555" class="Function">IsDRep</a>  <a id="3619" href="Ledger.Ratify.html#3619" class="Bound">v</a> <a id="3621" class="Symbol">=</a> <a id="3623" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3631" href="Ledger.Ratify.html#3619" class="Bound">v</a> <a id="3633" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3635" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>
<a id="3640" href="Ledger.Ratify.html#3562" class="Function">IsSPO</a>   <a id="3648" href="Ledger.Ratify.html#3648" class="Bound">v</a> <a id="3650" class="Symbol">=</a> <a id="3652" href="Ledger.Ratify.html#3425" class="Function">govRole</a> <a id="3660" href="Ledger.Ratify.html#3648" class="Bound">v</a> <a id="3662" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3664" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a>


<a id="3670" class="Keyword">instance</a>
  <a id="3681" class="Keyword">unquoteDecl</a> <a id="To-RatifyState"></a><a id="3693" href="Ledger.Ratify.html#3693" class="Function">To-RatifyState</a> <a id="3708" class="Symbol">=</a> <a id="3710" href="Class.To.html#2699" class="Function">derive-To</a>
    <a id="3724" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="3726" class="Symbol">(</a><a id="3727" class="Keyword">quote</a> <a id="3733" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="3745" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3747" href="Ledger.Ratify.html#3693" class="Function">To-RatifyState</a><a id="3761" class="Symbol">)</a> <a id="3763" href="Data.List.Base.html#5205" class="Function Operator">]</a>

<a id="3766" class="Keyword">open</a> <a id="3771" href="Ledger.Ratify.html#2854" class="Module">StakeDistrs</a>


<a id="actualVotes"></a><a id="3785" href="Ledger.Ratify.html#3785" class="Function">actualVotes</a>  <a id="3798" class="Symbol">:</a> <a id="3800" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="3810" class="Symbol">→</a> <a id="3812" href="Ledger.PParams.html#1443" class="Record">PParams</a> <a id="3820" class="Symbol">→</a> <a id="3822" href="Ledger.Ratify.html#3368" class="Function">CCData</a> <a id="3829" class="Symbol">→</a> <a id="3831" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a>
             <a id="3858" class="Symbol">→</a> <a id="3860" class="Symbol">(</a><a id="3861" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="3869" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3871" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="3882" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3884" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a><a id="3888" class="Symbol">)</a> <a id="3890" class="Symbol">→</a> <a id="3892" class="Symbol">(</a><a id="3893" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="3900" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3902" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a><a id="3906" class="Symbol">)</a>
<a id="3908" href="Ledger.Ratify.html#3785" class="Function">actualVotes</a> <a id="3920" href="Ledger.Ratify.html#3920" class="Bound">Γ</a> <a id="3922" href="Ledger.Ratify.html#3922" class="Bound">pparams</a> <a id="3930" href="Ledger.Ratify.html#3930" class="Bound">cc</a> <a id="3933" href="Ledger.Ratify.html#3933" class="Bound">gaTy</a> <a id="3938" href="Ledger.Ratify.html#3938" class="Bound">votes</a>
  <a id="3946" class="Symbol">=</a>   <a id="3950" href="Axiom.Set.Map.html#5896" class="Function">mapKeys</a> <a id="3958" class="Symbol">(</a><a id="3959" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="3969" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a><a id="3971" class="Symbol">)</a> <a id="3973" href="Ledger.Ratify.html#5448" class="Function">actualCCVotes</a>  <a id="3988" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="3991" href="Ledger.Ratify.html#5765" class="Function">actualPDRepVotes</a> <a id="4008" href="Ledger.Ratify.html#3933" class="Bound">gaTy</a>
  <a id="4015" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a>  <a id="4019" href="Ledger.Ratify.html#6024" class="Function">actualDRepVotes</a>                       <a id="4057" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="4060" href="Ledger.Ratify.html#6173" class="Function">actualSPOVotes</a> <a id="4075" href="Ledger.Ratify.html#3933" class="Bound">gaTy</a>
  <a id="4082" class="Keyword">where</a>


  <a id="4092" class="Keyword">open</a> <a id="4097" href="Ledger.Ratify.html#2927" class="Module">RatifyEnv</a> <a id="4107" href="Ledger.Ratify.html#3920" class="Bound">Γ</a>
  <a id="4111" class="Keyword">open</a> <a id="4116" href="Ledger.PParams.html#1443" class="Module">PParams</a> <a id="4124" href="Ledger.Ratify.html#3922" class="Bound">pparams</a>


  <a id="4136" href="Ledger.Ratify.html#4136" class="Function">roleVotes</a> <a id="4146" class="Symbol">:</a> <a id="4148" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="4156" class="Symbol">→</a> <a id="4158" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="4165" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4167" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="4174" href="Ledger.Ratify.html#4136" class="Function">roleVotes</a> <a id="4184" href="Ledger.Ratify.html#4184" class="Bound">r</a> <a id="4186" class="Symbol">=</a> <a id="4188" href="Axiom.Set.Map.html#5896" class="Function">mapKeys</a> <a id="4196" class="Symbol">(</a><a id="4197" href="Data.Product.Base.html#3109" class="Function">uncurry</a> <a id="4205" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a><a id="4214" class="Symbol">)</a> <a id="4216" class="Symbol">(</a><a id="4217" href="Ledger.Ratify.html#219" class="Function">filter</a> <a id="4224" class="Symbol">(λ</a> <a id="4227" class="Symbol">(</a><a id="4228" href="Ledger.Ratify.html#4228" class="Bound">x</a> <a id="4230" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4232" class="Symbol">_)</a> <a id="4235" class="Symbol">→</a> <a id="4237" href="Ledger.Ratify.html#4184" class="Bound">r</a> <a id="4239" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4241" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4247" href="Ledger.Ratify.html#4228" class="Bound">x</a><a id="4248" class="Symbol">)</a> <a id="4250" href="Ledger.Ratify.html#3938" class="Bound">votes</a><a id="4255" class="Symbol">)</a>

  <a id="4260" href="Ledger.Ratify.html#4260" class="Function">activeDReps</a> <a id="4272" class="Symbol">=</a> <a id="4274" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4278" class="Symbol">(</a><a id="4279" href="Ledger.Ratify.html#219" class="Function">filter</a> <a id="4286" class="Symbol">(λ</a> <a id="4289" class="Symbol">(_</a> <a id="4292" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4294" href="Ledger.Ratify.html#4294" class="Bound">e</a><a id="4295" class="Symbol">)</a> <a id="4297" class="Symbol">→</a> <a id="4299" href="Ledger.Ratify.html#2994" class="Function">currentEpoch</a> <a id="4312" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="4314" href="Ledger.Ratify.html#4294" class="Bound">e</a><a id="4315" class="Symbol">)</a> <a id="4317" href="Ledger.Ratify.html#3020" class="Function">dreps</a><a id="4322" class="Symbol">)</a>
  <a id="4326" href="Ledger.Ratify.html#4326" class="Function">spos</a>  <a id="4332" class="Symbol">=</a> <a id="4334" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="4342" href="Ledger.Ratify.html#3562" class="Function">IsSPO</a> <a id="4348" class="Symbol">(</a><a id="4349" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4353" class="Symbol">(</a><a id="4354" href="Ledger.Ratify.html#2891" class="Field">stakeDistr</a> <a id="4365" href="Ledger.Ratify.html#2962" class="Function">stakeDistrs</a><a id="4376" class="Symbol">))</a>



  <a id="4384" href="Ledger.Ratify.html#4384" class="Function">getCCHotCred</a> <a id="4397" class="Symbol">:</a> <a id="4399" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="4410" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4412" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a> <a id="4418" class="Symbol">→</a> <a id="4420" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4426" href="Ledger.Address.html#273" class="Datatype">Credential</a>
  <a id="4439" href="Ledger.Ratify.html#4384" class="Function">getCCHotCred</a> <a id="4452" class="Symbol">(</a><a id="4453" href="Ledger.Ratify.html#4453" class="Bound">c</a> <a id="4455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4457" href="Ledger.Ratify.html#4457" class="Bound">e</a><a id="4458" class="Symbol">)</a> <a id="4460" class="Symbol">=</a> <a id="4462" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4467" href="Class.Decidable.Core.html#513" class="Function Operator">¿</a> <a id="4469" href="Ledger.Ratify.html#2994" class="Function">currentEpoch</a> <a id="4482" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="4484" href="Ledger.Ratify.html#4457" class="Bound">e</a> <a id="4486" href="Class.Decidable.Core.html#513" class="Function Operator">¿ᵇ</a> <a id="4489" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4491" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="4500" href="Ledger.Ratify.html#3059" class="Function">ccHotKeys</a> <a id="4510" href="Ledger.Ratify.html#4453" class="Bound">c</a> <a id="4512" href="Function.Base.html#4042" class="Function Operator">of</a>


      <a id="4523" class="Symbol">λ</a> <a id="4525" class="Keyword">where</a>


        <a id="4541" class="Symbol">(</a><a id="4542" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="4547" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4549" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4554" class="Symbol">(</a><a id="4555" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4560" href="Ledger.Ratify.html#4560" class="Bound">c&#39;</a><a id="4562" class="Symbol">))</a>  <a id="4566" class="Symbol">→</a> <a id="4568" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4573" href="Ledger.Ratify.html#4560" class="Bound">c&#39;</a>
        <a id="4584" class="CatchallClause Symbol">_</a>                        <a id="4609" class="Symbol">→</a> <a id="4611" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4619" class="Comment">-- expired, no hot key or resigned</a>

  <a id="4657" href="Ledger.Ratify.html#4657" class="Function">SPODefaultVote</a> <a id="4672" class="Symbol">:</a> <a id="4674" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="4688" class="Symbol">→</a> <a id="4690" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="4697" class="Symbol">→</a> <a id="4699" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="4706" href="Ledger.Ratify.html#4657" class="Function">SPODefaultVote</a> <a id="4721" href="Ledger.Ratify.html#4721" class="Bound">gaT</a> <a id="4725" class="Symbol">(</a><a id="4726" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="4736" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a> <a id="4740" class="Symbol">(</a><a id="4741" href="Ledger.Address.html#299" class="InductiveConstructor">KeyHashObj</a> <a id="4752" href="Ledger.Ratify.html#4752" class="Bound">kh</a><a id="4754" class="Symbol">))</a> <a id="4757" class="Symbol">=</a> <a id="4759" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4764" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="4773" href="Ledger.Ratify.html#3134" class="Function">pools</a> <a id="4779" href="Ledger.Ratify.html#4752" class="Bound">kh</a> <a id="4782" href="Function.Base.html#4042" class="Function Operator">of</a>


      <a id="4793" class="Symbol">λ</a> <a id="4795" class="Keyword">where</a>


        <a id="4811" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4819" class="Symbol">→</a> <a id="4821" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a>
        <a id="4837" class="Symbol">(</a><a id="4838" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a>  <a id="4844" href="Ledger.Ratify.html#4844" class="Bound">p</a><a id="4845" class="Symbol">)</a> <a id="4847" class="Symbol">→</a> <a id="4849" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="4854" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="4863" href="Ledger.Ratify.html#3175" class="Function">delegatees</a> <a id="4874" class="Symbol">(</a><a id="4875" href="Ledger.Certs.html#723" class="Field">PoolParams.rewardAddr</a> <a id="4897" href="Ledger.Ratify.html#4844" class="Bound">p</a><a id="4898" class="Symbol">)</a> <a id="4900" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4902" href="Ledger.Ratify.html#3933" class="Bound">gaTy</a> <a id="4907" href="Function.Base.html#4042" class="Function Operator">of</a>


               <a id="4927" class="Symbol">λ</a> <a id="4929" class="Keyword">where</a>


               <a id="4952" class="Symbol">(_</a>                     <a id="4975" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4977" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a><a id="4986" class="Symbol">)</a>     <a id="4992" class="Symbol">→</a> <a id="4994" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a>
               <a id="5017" class="Symbol">(</a><a id="5018" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5023" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a>  <a id="5040" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5042" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a><a id="5054" class="Symbol">)</a>  <a id="5057" class="Symbol">→</a> <a id="5059" href="Ledger.GovernanceActions.html#1901" class="InductiveConstructor">Vote.yes</a>
               <a id="5083" class="CatchallClause Symbol">(</a><a id="5084" href="Agda.Builtin.Maybe.html#173" class="CatchallClause InductiveConstructor">just</a><a id="5088" class="CatchallClause"> </a><a id="5089" href="Ledger.GovernanceActions.html#532" class="CatchallClause InductiveConstructor">abstainRep</a><a id="5099" class="CatchallClause">       </a><a id="5106" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="5107" class="CatchallClause"> </a><a id="5108" class="CatchallClause Symbol">_</a><a id="5109" class="CatchallClause">           </a><a id="5120" class="CatchallClause Symbol">)</a>  <a id="5123" class="Symbol">→</a> <a id="5125" href="Ledger.GovernanceActions.html#1908" class="InductiveConstructor">Vote.abstain</a>
               <a id="5153" class="CatchallClause Symbol">_</a>                                       <a id="5193" class="Symbol">→</a> <a id="5195" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a>
  <a id="5205" href="Ledger.Ratify.html#4657" class="CatchallClause Function">SPODefaultVote</a><a id="5219" class="CatchallClause"> </a><a id="5220" class="CatchallClause Symbol">_</a><a id="5221" class="CatchallClause"> </a><a id="5222" class="CatchallClause Symbol">_</a> <a id="5224" class="Symbol">=</a> <a id="5226" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a>

  <a id="5237" href="Ledger.Ratify.html#5237" class="Function">actualCCVote</a> <a id="5250" class="Symbol">:</a> <a id="5252" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="5263" class="Symbol">→</a> <a id="5265" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a> <a id="5271" class="Symbol">→</a> <a id="5273" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="5280" href="Ledger.Ratify.html#5237" class="Function">actualCCVote</a> <a id="5293" href="Ledger.Ratify.html#5293" class="Bound">c</a> <a id="5295" href="Ledger.Ratify.html#5295" class="Bound">e</a> <a id="5297" class="Symbol">=</a> <a id="5299" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5304" href="Ledger.Ratify.html#4384" class="Function">getCCHotCred</a> <a id="5317" class="Symbol">(</a><a id="5318" href="Ledger.Ratify.html#5293" class="Bound">c</a> <a id="5320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5322" href="Ledger.Ratify.html#5295" class="Bound">e</a><a id="5323" class="Symbol">)</a> <a id="5325" href="Function.Base.html#4042" class="Function Operator">of</a>


      <a id="5336" class="Symbol">λ</a> <a id="5338" class="Keyword">where</a>


        <a id="5354" class="Symbol">(</a><a id="5355" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5360" href="Ledger.Ratify.html#5360" class="Bound">c&#39;</a><a id="5362" class="Symbol">)</a>  <a id="5365" class="Symbol">→</a> <a id="5367" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="5373" href="Function.Base.html#704" class="Function">id</a> <a id="5376" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a> <a id="5384" class="Symbol">(</a><a id="5385" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="5394" href="Ledger.Ratify.html#3938" class="Bound">votes</a> <a id="5400" class="Symbol">(</a><a id="5401" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="5404" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5406" href="Ledger.Ratify.html#5360" class="Bound">c&#39;</a><a id="5408" class="Symbol">))</a>
        <a id="5419" class="CatchallClause Symbol">_</a>          <a id="5430" class="Symbol">→</a> <a id="5432" href="Ledger.GovernanceActions.html#1908" class="InductiveConstructor">Vote.abstain</a>

  <a id="5448" href="Ledger.Ratify.html#5448" class="Function">actualCCVotes</a> <a id="5462" class="Symbol">:</a> <a id="5464" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="5475" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5477" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="5484" href="Ledger.Ratify.html#5448" class="Function">actualCCVotes</a> <a id="5498" class="Symbol">=</a> <a id="5500" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5505" href="Ledger.Ratify.html#3930" class="Bound">cc</a> <a id="5508" href="Function.Base.html#4042" class="Function Operator">of</a>


      <a id="5519" class="Symbol">λ</a> <a id="5521" class="Keyword">where</a>


        <a id="5537" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>         <a id="5553" class="Symbol">→</a>  <a id="5556" href="Class.HasEmptySet.html#287" class="Field">∅</a>
        <a id="5566" class="Symbol">(</a><a id="5567" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5572" class="Symbol">(</a><a id="5573" href="Ledger.Ratify.html#5573" class="Bound">m</a> <a id="5575" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5577" href="Ledger.Ratify.html#5577" class="Bound">q</a><a id="5578" class="Symbol">))</a>  <a id="5582" class="Symbol">→</a>  <a id="5585" href="Class.ToBool.html#389" class="Function Operator">if</a> <a id="5588" href="Ledger.PParams.html#2983" class="Function">ccMinSize</a> <a id="5598" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="5600" href="abstract-set-theory.FiniteSetTheory.html#2063" class="Function">lengthˢ</a> <a id="5608" class="Symbol">(</a><a id="5609" href="Axiom.Set.Map.html#10460" class="Function">mapFromPartialFun</a> <a id="5627" href="Ledger.Ratify.html#4384" class="Function">getCCHotCred</a> <a id="5640" class="Symbol">(</a><a id="5641" href="Ledger.Ratify.html#5573" class="Bound">m</a> <a id="5643" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="5644" class="Symbol">))</a>
                           <a id="5674" href="Class.ToBool.html#389" class="Function Operator">then</a> <a id="5679" href="Axiom.Set.Map.html#8706" class="Function">mapWithKey</a> <a id="5690" href="Ledger.Ratify.html#5237" class="Function">actualCCVote</a> <a id="5703" href="Ledger.Ratify.html#5573" class="Bound">m</a>
                           <a id="5732" href="Class.ToBool.html#389" class="Function Operator">else</a> <a id="5737" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="5746" class="Symbol">(</a><a id="5747" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5751" href="Ledger.Ratify.html#5573" class="Bound">m</a><a id="5752" class="Symbol">)</a> <a id="5754" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a>

  <a id="5765" href="Ledger.Ratify.html#5765" class="Function">actualPDRepVotes</a> <a id="5782" class="Symbol">:</a> <a id="5784" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="5798" class="Symbol">→</a> <a id="5800" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="5807" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5809" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="5816" href="Ledger.Ratify.html#5765" class="Function">actualPDRepVotes</a> <a id="5833" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>
                      <a id="5868" class="Symbol">=</a> <a id="5870" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="5872" href="Ledger.GovernanceActions.html#532" class="InductiveConstructor">abstainRep</a> <a id="5883" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5885" href="Ledger.GovernanceActions.html#1908" class="InductiveConstructor">Vote.abstain</a> <a id="5898" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="5900" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="5903" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="5905" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a> <a id="5921" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5923" href="Ledger.GovernanceActions.html#1901" class="InductiveConstructor">Vote.yes</a> <a id="5932" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
  <a id="5936" href="Ledger.Ratify.html#5765" class="CatchallClause Function">actualPDRepVotes</a><a id="5952" class="CatchallClause"> </a><a id="5953" class="CatchallClause Symbol">_</a>  <a id="5956" class="Symbol">=</a> <a id="5958" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="5960" href="Ledger.GovernanceActions.html#532" class="InductiveConstructor">abstainRep</a> <a id="5971" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5973" href="Ledger.GovernanceActions.html#1908" class="InductiveConstructor">Vote.abstain</a> <a id="5986" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="5988" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="5991" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="5993" href="Ledger.GovernanceActions.html#584" class="InductiveConstructor">noConfidenceRep</a> <a id="6009" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6011" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a> <a id="6019" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>

  <a id="6024" href="Ledger.Ratify.html#6024" class="Function">actualDRepVotes</a> <a id="6040" class="Symbol">:</a> <a id="6042" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6049" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="6051" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="6058" href="Ledger.Ratify.html#6024" class="Function">actualDRepVotes</a>  <a id="6075" class="Symbol">=</a>   <a id="6079" href="Ledger.Ratify.html#4136" class="Function">roleVotes</a> <a id="6089" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>
                   <a id="6113" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a>  <a id="6117" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="6126" class="Symbol">(</a><a id="6127" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="6132" class="Symbol">(</a><a id="6133" href="Ledger.GovernanceActions.html#480" class="InductiveConstructor">credVoter</a> <a id="6143" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a><a id="6147" class="Symbol">)</a> <a id="6149" href="Ledger.Ratify.html#4260" class="Function">activeDReps</a><a id="6160" class="Symbol">)</a> <a id="6162" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a>

  <a id="6173" href="Ledger.Ratify.html#6173" class="Function">actualSPOVotes</a> <a id="6188" class="Symbol">:</a> <a id="6190" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="6204" class="Symbol">→</a> <a id="6206" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6213" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="6215" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="6222" href="Ledger.Ratify.html#6173" class="Function">actualSPOVotes</a> <a id="6237" href="Ledger.Ratify.html#6237" class="Bound">gaTy</a> <a id="6242" class="Symbol">=</a> <a id="6244" href="Ledger.Ratify.html#4136" class="Function">roleVotes</a> <a id="6254" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a> <a id="6258" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="6261" href="Axiom.Set.Map.html#8368" class="Function">mapFromFun</a> <a id="6272" class="Symbol">(</a><a id="6273" href="Ledger.Ratify.html#4657" class="Function">SPODefaultVote</a> <a id="6288" href="Ledger.Ratify.html#6237" class="Bound">gaTy</a><a id="6292" class="Symbol">)</a> <a id="6294" href="Ledger.Ratify.html#4326" class="Function">spos</a>


<a id="6301" class="Keyword">open</a> <a id="6306" href="Ledger.Ratify.html#2927" class="Module">RatifyEnv</a> <a id="6316" class="Keyword">using</a> <a id="6322" class="Symbol">(</a><a id="6323" href="Ledger.Ratify.html#2962" class="Field">stakeDistrs</a><a id="6334" class="Symbol">)</a>

<a id="6337" class="Keyword">abstract</a>
  <a id="6348" class="Comment">-- unused, keep until we know for sure that there&#39;ll be no minimum AVS</a>
  <a id="6421" class="Comment">-- activeVotingStake : ℙ VDeleg → StakeDistrs → (VDeleg ⇀ Vote) → Coin</a>
  <a id="6494" class="Comment">-- activeVotingStake cc dists votes =</a>
  <a id="6534" class="Comment">--   ∑[ x  ← getStakeDist DRep cc dists ∣ dom votes ᶜ ᶠᵐ ] x</a>

  <a id="_/₀_"></a><a id="6598" href="Ledger.Ratify.html#6598" class="Function Operator">_/₀_</a> <a id="6603" class="Symbol">:</a> <a id="6605" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6607" class="Symbol">→</a> <a id="6609" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6611" class="Symbol">→</a> <a id="6613" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
  <a id="6617" href="Ledger.Ratify.html#6617" class="Bound">x</a> <a id="6619" href="Ledger.Ratify.html#6598" class="Function Operator">/₀</a> <a id="6622" class="Number">0</a> <a id="6624" class="Symbol">=</a> <a id="6626" href="Data.Rational.Base.html#4325" class="Function">0ℚ</a>
  <a id="6631" href="Ledger.Ratify.html#6631" class="Bound">x</a> <a id="6633" href="Ledger.Ratify.html#6598" class="Function Operator">/₀</a> <a id="6636" href="Ledger.Ratify.html#6636" class="Bound">y</a><a id="6637" class="Symbol">@(</a><a id="6639" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6643" class="Symbol">_)</a> <a id="6646" class="Symbol">=</a> <a id="6648" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="6652" href="Ledger.Ratify.html#6631" class="Bound">x</a> <a id="6654" href="Data.Rational.Base.html#3884" class="Function Operator">ℚ./</a> <a id="6658" href="Ledger.Ratify.html#6636" class="Bound">y</a>


  <a id="getStakeDist"></a><a id="6664" href="Ledger.Ratify.html#6664" class="Function">getStakeDist</a> <a id="6677" class="Symbol">:</a> <a id="6679" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="6687" class="Symbol">→</a> <a id="6689" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6691" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6698" class="Symbol">→</a> <a id="6700" href="Ledger.Ratify.html#2854" class="Record">StakeDistrs</a> <a id="6712" class="Symbol">→</a> <a id="6714" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6721" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="6723" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="6730" href="Ledger.Ratify.html#6664" class="Function">getStakeDist</a> <a id="6743" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a>    <a id="6749" href="Ledger.Ratify.html#6749" class="Bound">cc</a>  <a id="6753" href="Ledger.Ratify.html#6753" class="Bound">sd</a>  <a id="6757" class="Symbol">=</a> <a id="6759" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="6768" class="Symbol">(</a><a id="6769" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="6777" href="Ledger.Ratify.html#3550" class="Function">IsCC</a> <a id="6782" href="Ledger.Ratify.html#6749" class="Bound">cc</a><a id="6784" class="Symbol">)</a> <a id="6786" class="Number">1</a>
  <a id="6790" href="Ledger.Ratify.html#6664" class="Function">getStakeDist</a> <a id="6803" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>  <a id="6809" class="Symbol">_</a>   <a id="6813" href="Ledger.Ratify.html#6813" class="Bound">sd</a>  <a id="6817" class="Symbol">=</a> <a id="6819" href="abstract-set-theory.FiniteSetTheory.html#2989" class="Function">filterKeys</a> <a id="6830" href="Ledger.Ratify.html#3555" class="Function">IsDRep</a>  <a id="6838" class="Symbol">(</a><a id="6839" href="Ledger.Ratify.html#6813" class="Bound">sd</a> <a id="6842" class="Symbol">.</a><a id="6843" href="Ledger.Ratify.html#2891" class="Field">stakeDistr</a><a id="6853" class="Symbol">)</a>
  <a id="6857" href="Ledger.Ratify.html#6664" class="Function">getStakeDist</a> <a id="6870" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a>   <a id="6876" class="Symbol">_</a>   <a id="6880" href="Ledger.Ratify.html#6880" class="Bound">sd</a>  <a id="6884" class="Symbol">=</a> <a id="6886" href="abstract-set-theory.FiniteSetTheory.html#2989" class="Function">filterKeys</a> <a id="6897" href="Ledger.Ratify.html#3562" class="Function">IsSPO</a>   <a id="6905" class="Symbol">(</a><a id="6906" href="Ledger.Ratify.html#6880" class="Bound">sd</a> <a id="6909" class="Symbol">.</a><a id="6910" href="Ledger.Ratify.html#2891" class="Field">stakeDistr</a><a id="6920" class="Symbol">)</a>

  <a id="acceptedStakeRatio"></a><a id="6925" href="Ledger.Ratify.html#6925" class="Function">acceptedStakeRatio</a> <a id="6944" class="Symbol">:</a> <a id="6946" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="6954" class="Symbol">→</a> <a id="6956" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6958" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6965" class="Symbol">→</a> <a id="6967" href="Ledger.Ratify.html#2854" class="Record">StakeDistrs</a> <a id="6979" class="Symbol">→</a> <a id="6981" class="Symbol">(</a><a id="6982" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="6989" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="6991" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a><a id="6995" class="Symbol">)</a> <a id="6997" class="Symbol">→</a> <a id="6999" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
  <a id="7003" href="Ledger.Ratify.html#6925" class="Function">acceptedStakeRatio</a> <a id="7022" href="Ledger.Ratify.html#7022" class="Bound">r</a> <a id="7024" href="Ledger.Ratify.html#7024" class="Bound">cc</a> <a id="7027" href="Ledger.Ratify.html#7027" class="Bound">dists</a> <a id="7033" href="Ledger.Ratify.html#7033" class="Bound">votes</a> <a id="7039" class="Symbol">=</a> <a id="7041" href="Ledger.Ratify.html#7149" class="Function">acceptedStake</a> <a id="7055" href="Ledger.Ratify.html#6598" class="Function Operator">/₀</a> <a id="7058" href="Ledger.Ratify.html#7163" class="Function">totalStake</a>
    <a id="7073" class="Keyword">where</a>
      <a id="7085" href="Ledger.Ratify.html#7085" class="Function">dist</a> <a id="7090" class="Symbol">:</a> <a id="7092" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="7099" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="7101" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
      <a id="7112" href="Ledger.Ratify.html#7085" class="Function">dist</a> <a id="7117" class="Symbol">=</a> <a id="7119" href="Ledger.Ratify.html#6664" class="Function">getStakeDist</a> <a id="7132" href="Ledger.Ratify.html#7022" class="Bound">r</a> <a id="7134" href="Ledger.Ratify.html#7024" class="Bound">cc</a> <a id="7137" href="Ledger.Ratify.html#7027" class="Bound">dists</a>
      <a id="7149" href="Ledger.Ratify.html#7149" class="Function">acceptedStake</a> <a id="7163" href="Ledger.Ratify.html#7163" class="Function">totalStake</a> <a id="7174" class="Symbol">:</a> <a id="7176" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
      <a id="7187" href="Ledger.Ratify.html#7149" class="Function">acceptedStake</a>  <a id="7202" class="Symbol">=</a> <a id="7204" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="7207" href="Ledger.Ratify.html#7207" class="Bound">x</a> <a id="7209" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="7211" href="Ledger.Ratify.html#7085" class="Function">dist</a> <a id="7216" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="7218" href="Ledger.Ratify.html#7033" class="Bound">votes</a> <a id="7224" href="Axiom.Set.Map.html#14230" class="Function Operator">⁻¹</a> <a id="7227" href="Ledger.GovernanceActions.html#1901" class="InductiveConstructor">Vote.yes</a>                              <a id="7265" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="7267" href="Ledger.Ratify.html#7207" class="Bound">x</a>
      <a id="7275" href="Ledger.Ratify.html#7163" class="Function">totalStake</a>     <a id="7290" class="Symbol">=</a> <a id="7292" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="7295" href="Ledger.Ratify.html#7295" class="Bound">x</a> <a id="7297" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="7299" href="Ledger.Ratify.html#7085" class="Function">dist</a> <a id="7304" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="7306" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7310" class="Symbol">(</a><a id="7311" href="Ledger.Ratify.html#7033" class="Bound">votes</a> <a id="7317" href="Axiom.Set.Map.html#14048" class="Function Operator">∣^</a> <a id="7320" class="Symbol">(</a><a id="7321" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7323" href="Ledger.GovernanceActions.html#1901" class="InductiveConstructor">Vote.yes</a> <a id="7332" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="7334" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="7336" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="7338" href="Ledger.GovernanceActions.html#1905" class="InductiveConstructor">Vote.no</a> <a id="7346" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="7347" class="Symbol">))</a>  <a id="7351" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="7353" href="Ledger.Ratify.html#7295" class="Bound">x</a>

  <a id="acceptedBy"></a><a id="7358" href="Ledger.Ratify.html#7358" class="Function">acceptedBy</a> <a id="7369" class="Symbol">:</a> <a id="7371" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="7381" class="Symbol">→</a> <a id="7383" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="7394" class="Symbol">→</a> <a id="7396" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="7411" class="Symbol">→</a> <a id="7413" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a> <a id="7421" class="Symbol">→</a> <a id="7423" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="7430" href="Ledger.Ratify.html#7358" class="Function">acceptedBy</a> <a id="7441" href="Ledger.Ratify.html#7441" class="Bound">Γ</a> <a id="7443" class="Symbol">(</a><a id="7444" class="Keyword">record</a> <a id="7451" class="Symbol">{</a> <a id="7453" href="Ledger.Enact.html#433" class="Field">cc</a> <a id="7456" class="Symbol">=</a> <a id="7458" href="Ledger.Ratify.html#7458" class="Bound">cc</a> <a id="7461" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7463" class="Symbol">_;</a> <a id="7466" href="Ledger.Enact.html#607" class="Field">pparams</a> <a id="7474" class="Symbol">=</a> <a id="7476" href="Ledger.Ratify.html#7476" class="Bound">pparams</a> <a id="7484" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7486" class="Symbol">_</a> <a id="7488" class="Symbol">})</a> <a id="7491" href="Ledger.Ratify.html#7491" class="Bound">gs</a> <a id="7494" href="Ledger.Ratify.html#7494" class="Bound">role</a> <a id="7499" class="Symbol">=</a>
    <a id="7505" class="Keyword">let</a> <a id="7509" class="Keyword">open</a> <a id="7514" href="Ledger.GovernanceActions.html#2299" class="Module">GovActionState</a> <a id="7529" href="Ledger.Ratify.html#7491" class="Bound">gs</a><a id="7531" class="Symbol">;</a> <a id="7533" class="Keyword">open</a> <a id="7538" href="Ledger.PParams.html#1443" class="Module">PParams</a> <a id="7546" href="Ledger.Ratify.html#7476" class="Bound">pparams</a>
        <a id="7562" href="Ledger.Ratify.html#7562" class="Bound">votes&#39;</a>  <a id="7570" class="Symbol">=</a> <a id="7572" href="Ledger.Ratify.html#3785" class="Function">actualVotes</a> <a id="7584" href="Ledger.Ratify.html#7441" class="Bound">Γ</a> <a id="7586" href="Ledger.Ratify.html#7476" class="Bound">pparams</a> <a id="7594" href="Ledger.Ratify.html#7458" class="Bound">cc</a> <a id="7597" class="Symbol">(</a><a id="7598" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a> <a id="7605" href="Ledger.GovernanceActions.html#2420" class="Function">action</a><a id="7611" class="Symbol">)</a> <a id="7613" href="Ledger.GovernanceActions.html#2339" class="Function">votes</a>
        <a id="7627" href="Ledger.Ratify.html#7627" class="Bound">mbyT</a>    <a id="7635" class="Symbol">=</a> <a id="7637" href="Ledger.Ratify.html#1172" class="Function">threshold</a> <a id="7647" href="Ledger.Ratify.html#7476" class="Bound">pparams</a> <a id="7655" class="Symbol">(</a><a id="7656" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="7662" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="7666" href="Ledger.Ratify.html#7458" class="Bound">cc</a><a id="7668" class="Symbol">)</a> <a id="7670" href="Ledger.GovernanceActions.html#2420" class="Function">action</a> <a id="7677" href="Ledger.Ratify.html#7494" class="Bound">role</a>
        <a id="7690" href="Ledger.Ratify.html#7690" class="Bound">t</a>       <a id="7698" class="Symbol">=</a> <a id="7700" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="7706" href="Function.Base.html#704" class="Function">id</a> <a id="7709" href="Data.Rational.Base.html#4325" class="Function">0ℚ</a> <a id="7712" href="Ledger.Ratify.html#7627" class="Bound">mbyT</a>
    <a id="7721" class="Keyword">in</a> <a id="7724" href="Ledger.Ratify.html#6925" class="Function">acceptedStakeRatio</a> <a id="7743" href="Ledger.Ratify.html#7494" class="Bound">role</a> <a id="7748" class="Symbol">(</a><a id="7749" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7753" href="Ledger.Ratify.html#7562" class="Bound">votes&#39;</a><a id="7759" class="Symbol">)</a> <a id="7761" class="Symbol">(</a><a id="7762" href="Ledger.Ratify.html#2962" class="Field">stakeDistrs</a> <a id="7774" href="Ledger.Ratify.html#7441" class="Bound">Γ</a><a id="7775" class="Symbol">)</a> <a id="7777" href="Ledger.Ratify.html#7562" class="Bound">votes&#39;</a> <a id="7784" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="7786" href="Ledger.Ratify.html#7690" class="Bound">t</a>
     <a id="7793" href="Ledger.Ratify.html#496" class="Function Operator">∧</a> <a id="7795" class="Symbol">(</a><a id="7796" href="Ledger.Ratify.html#7494" class="Bound">role</a> <a id="7801" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7803" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="7806" class="Symbol">→</a> <a id="7808" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="7814" class="Symbol">(λ</a> <a id="7817" class="Symbol">(</a><a id="7818" href="Ledger.Ratify.html#7818" class="Bound">m</a> <a id="7820" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7822" class="Symbol">_)</a> <a id="7825" class="Symbol">→</a> <a id="7827" href="abstract-set-theory.FiniteSetTheory.html#2063" class="Function">lengthˢ</a> <a id="7835" href="Ledger.Ratify.html#7818" class="Bound">m</a><a id="7836" class="Symbol">)</a> <a id="7838" class="Number">0</a> <a id="7840" href="Ledger.Ratify.html#7458" class="Bound">cc</a> <a id="7843" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="7845" href="Ledger.PParams.html#2983" class="Function">ccMinSize</a> <a id="7855" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="7857" href="Data.Maybe.html#896" class="Function">Is-nothing</a> <a id="7868" href="Ledger.Ratify.html#7627" class="Bound">mbyT</a><a id="7872" class="Symbol">)</a>

  <a id="accepted"></a><a id="7877" href="Ledger.Ratify.html#7877" class="Function">accepted</a> <a id="7886" class="Symbol">:</a> <a id="7888" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="7898" class="Symbol">→</a> <a id="7900" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="7911" class="Symbol">→</a> <a id="7913" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="7928" class="Symbol">→</a> <a id="7930" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="7937" href="Ledger.Ratify.html#7877" class="Function">accepted</a> <a id="7946" href="Ledger.Ratify.html#7946" class="Bound">Γ</a> <a id="7948" href="Ledger.Ratify.html#7948" class="Bound">es</a> <a id="7951" href="Ledger.Ratify.html#7951" class="Bound">gs</a> <a id="7954" class="Symbol">=</a> <a id="7956" href="Ledger.Ratify.html#7358" class="Function">acceptedBy</a> <a id="7967" href="Ledger.Ratify.html#7946" class="Bound">Γ</a> <a id="7969" href="Ledger.Ratify.html#7948" class="Bound">es</a> <a id="7972" href="Ledger.Ratify.html#7951" class="Bound">gs</a> <a id="7975" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a> <a id="7978" href="Ledger.Ratify.html#496" class="Function Operator">∧</a> <a id="7980" href="Ledger.Ratify.html#7358" class="Function">acceptedBy</a> <a id="7991" href="Ledger.Ratify.html#7946" class="Bound">Γ</a> <a id="7993" href="Ledger.Ratify.html#7948" class="Bound">es</a> <a id="7996" href="Ledger.Ratify.html#7951" class="Bound">gs</a> <a id="7999" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a> <a id="8004" href="Ledger.Ratify.html#496" class="Function Operator">∧</a> <a id="8006" href="Ledger.Ratify.html#7358" class="Function">acceptedBy</a> <a id="8017" href="Ledger.Ratify.html#7946" class="Bound">Γ</a> <a id="8019" href="Ledger.Ratify.html#7948" class="Bound">es</a> <a id="8022" href="Ledger.Ratify.html#7951" class="Bound">gs</a> <a id="8025" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a>

  <a id="expired"></a><a id="8032" href="Ledger.Ratify.html#8032" class="Function">expired</a> <a id="8040" class="Symbol">:</a> <a id="8042" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a> <a id="8048" class="Symbol">→</a> <a id="8050" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="8065" class="Symbol">→</a> <a id="8067" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="8074" href="Ledger.Ratify.html#8032" class="Function">expired</a> <a id="8082" href="Ledger.Ratify.html#8082" class="Bound">current</a> <a id="8090" class="Keyword">record</a> <a id="8097" class="Symbol">{</a> <a id="8099" href="Ledger.GovernanceActions.html#2396" class="Field">expiresIn</a> <a id="8109" class="Symbol">=</a> <a id="8111" href="Ledger.Ratify.html#8111" class="Bound">expiresIn</a> <a id="8121" class="Symbol">}</a> <a id="8123" class="Symbol">=</a> <a id="8125" href="Ledger.Ratify.html#8111" class="Bound">expiresIn</a> <a id="8135" href="Class.HasOrder.Core.html#641" class="Field Operator">&lt;</a> <a id="8137" href="Ledger.Ratify.html#8082" class="Bound">current</a>


<a id="8147" class="Keyword">open</a> <a id="8152" href="Ledger.Enact.html#397" class="Module">EnactState</a>


<a id="verifyPrev"></a><a id="8165" href="Ledger.Ratify.html#8165" class="Function">verifyPrev</a> <a id="8176" class="Symbol">:</a> <a id="8178" class="Symbol">(</a><a id="8179" href="Ledger.Ratify.html#8179" class="Bound">a</a> <a id="8181" class="Symbol">:</a> <a id="8183" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a><a id="8196" class="Symbol">)</a> <a id="8198" class="Symbol">→</a> <a id="8200" href="Ledger.GovernanceActions.html#1511" class="Function">NeedsHash</a> <a id="8210" href="Ledger.Ratify.html#8179" class="Bound">a</a> <a id="8212" class="Symbol">→</a> <a id="8214" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="8225" class="Symbol">→</a> <a id="8227" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8232" href="Ledger.Ratify.html#8165" class="Function">verifyPrev</a> <a id="8243" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>     <a id="8260" href="Ledger.Ratify.html#8260" class="Bound">h</a> <a id="8262" href="Ledger.Ratify.html#8262" class="Bound">es</a>  <a id="8266" class="Symbol">=</a> <a id="8268" href="Ledger.Ratify.html#8260" class="Bound">h</a> <a id="8270" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8272" href="Ledger.Ratify.html#8262" class="Bound">es</a> <a id="8275" class="Symbol">.</a><a id="8276" href="Ledger.Enact.html#433" class="Field">cc</a> <a id="8279" class="Symbol">.</a><a id="8280" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8286" href="Ledger.Ratify.html#8165" class="Function">verifyPrev</a> <a id="8297" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a>  <a id="8314" href="Ledger.Ratify.html#8314" class="Bound">h</a> <a id="8316" href="Ledger.Ratify.html#8316" class="Bound">es</a>  <a id="8320" class="Symbol">=</a> <a id="8322" href="Ledger.Ratify.html#8314" class="Bound">h</a> <a id="8324" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8326" href="Ledger.Ratify.html#8316" class="Bound">es</a> <a id="8329" class="Symbol">.</a><a id="8330" href="Ledger.Enact.html#433" class="Field">cc</a> <a id="8333" class="Symbol">.</a><a id="8334" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8340" href="Ledger.Ratify.html#8165" class="Function">verifyPrev</a> <a id="8351" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a>  <a id="8368" href="Ledger.Ratify.html#8368" class="Bound">h</a> <a id="8370" href="Ledger.Ratify.html#8370" class="Bound">es</a>  <a id="8374" class="Symbol">=</a> <a id="8376" href="Ledger.Ratify.html#8368" class="Bound">h</a> <a id="8378" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8380" href="Ledger.Ratify.html#8370" class="Bound">es</a> <a id="8383" class="Symbol">.</a><a id="8384" href="Ledger.Enact.html#502" class="Field">constitution</a> <a id="8397" class="Symbol">.</a><a id="8398" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8404" href="Ledger.Ratify.html#8165" class="Function">verifyPrev</a> <a id="8415" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>        <a id="8432" href="Ledger.Ratify.html#8432" class="Bound">h</a> <a id="8434" href="Ledger.Ratify.html#8434" class="Bound">es</a>  <a id="8438" class="Symbol">=</a> <a id="8440" href="Ledger.Ratify.html#8432" class="Bound">h</a> <a id="8442" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8444" href="Ledger.Ratify.html#8434" class="Bound">es</a> <a id="8447" class="Symbol">.</a><a id="8448" href="Ledger.Enact.html#565" class="Field">pv</a> <a id="8451" class="Symbol">.</a><a id="8452" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8458" href="Ledger.Ratify.html#8165" class="Function">verifyPrev</a> <a id="8469" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>    <a id="8486" href="Ledger.Ratify.html#8486" class="Bound">h</a> <a id="8488" href="Ledger.Ratify.html#8488" class="Bound">es</a>  <a id="8492" class="Symbol">=</a> <a id="8494" href="Ledger.Ratify.html#8486" class="Bound">h</a> <a id="8496" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8498" href="Ledger.Ratify.html#8488" class="Bound">es</a> <a id="8501" class="Symbol">.</a><a id="8502" href="Ledger.Enact.html#607" class="Field">pparams</a> <a id="8510" class="Symbol">.</a><a id="8511" href="Data.Product.Base.html#650" class="Field">proj₂</a>
<a id="8517" href="Ledger.Ratify.html#8165" class="Function">verifyPrev</a> <a id="8528" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>     <a id="8545" class="Symbol">_</a> <a id="8547" class="Symbol">_</a>   <a id="8551" class="Symbol">=</a> <a id="8553" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="8555" href="Ledger.Ratify.html#8165" class="Function">verifyPrev</a> <a id="8566" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>             <a id="8583" class="Symbol">_</a> <a id="8585" class="Symbol">_</a>   <a id="8589" class="Symbol">=</a> <a id="8591" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="delayingAction"></a><a id="8594" href="Ledger.Ratify.html#8594" class="Function">delayingAction</a> <a id="8609" class="Symbol">:</a> <a id="8611" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="8625" class="Symbol">→</a> <a id="8627" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="8632" href="Ledger.Ratify.html#8594" class="Function">delayingAction</a> <a id="8647" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>     <a id="8664" class="Symbol">=</a> <a id="8666" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="8671" href="Ledger.Ratify.html#8594" class="Function">delayingAction</a> <a id="8686" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a>  <a id="8703" class="Symbol">=</a> <a id="8705" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="8710" href="Ledger.Ratify.html#8594" class="Function">delayingAction</a> <a id="8725" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a>  <a id="8742" class="Symbol">=</a> <a id="8744" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="8749" href="Ledger.Ratify.html#8594" class="Function">delayingAction</a> <a id="8764" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>        <a id="8781" class="Symbol">=</a> <a id="8783" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="8788" href="Ledger.Ratify.html#8594" class="Function">delayingAction</a> <a id="8803" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>    <a id="8820" class="Symbol">=</a> <a id="8822" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
<a id="8828" href="Ledger.Ratify.html#8594" class="Function">delayingAction</a> <a id="8843" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>     <a id="8860" class="Symbol">=</a> <a id="8862" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
<a id="8868" href="Ledger.Ratify.html#8594" class="Function">delayingAction</a> <a id="8883" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>             <a id="8900" class="Symbol">=</a> <a id="8902" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="delayed"></a><a id="8909" href="Ledger.Ratify.html#8909" class="Function">delayed</a> <a id="8917" class="Symbol">:</a> <a id="8919" class="Symbol">(</a><a id="8920" href="Ledger.Ratify.html#8920" class="Bound">a</a> <a id="8922" class="Symbol">:</a> <a id="8924" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a><a id="8937" class="Symbol">)</a> <a id="8939" class="Symbol">→</a> <a id="8941" href="Ledger.GovernanceActions.html#1511" class="Function">NeedsHash</a> <a id="8951" href="Ledger.Ratify.html#8920" class="Bound">a</a> <a id="8953" class="Symbol">→</a> <a id="8955" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="8966" class="Symbol">→</a> <a id="8968" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="8973" class="Symbol">→</a> <a id="8975" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8980" href="Ledger.Ratify.html#8909" class="Function">delayed</a> <a id="8988" href="Ledger.Ratify.html#8988" class="Bound">gaTy</a> <a id="8993" href="Ledger.Ratify.html#8993" class="Bound">h</a> <a id="8995" href="Ledger.Ratify.html#8995" class="Bound">es</a> <a id="8998" href="Ledger.Ratify.html#8998" class="Bound">d</a> <a id="9000" class="Symbol">=</a> <a id="9002" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="9004" href="Ledger.Ratify.html#8165" class="Function">verifyPrev</a> <a id="9015" href="Ledger.Ratify.html#8988" class="Bound">gaTy</a> <a id="9020" href="Ledger.Ratify.html#8993" class="Bound">h</a> <a id="9022" href="Ledger.Ratify.html#8995" class="Bound">es</a> <a id="9025" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="9027" href="Ledger.Ratify.html#8998" class="Bound">d</a> <a id="9029" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9031" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>

<a id="acceptConds"></a><a id="9037" href="Ledger.Ratify.html#9037" class="Function">acceptConds</a> <a id="9049" class="Symbol">:</a> <a id="9051" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="9061" class="Symbol">→</a> <a id="9063" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="9075" class="Symbol">→</a> <a id="9077" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="9089" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9091" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="9106" class="Symbol">→</a> <a id="9108" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="9113" href="Ledger.Ratify.html#9037" class="Function">acceptConds</a> <a id="9125" href="Ledger.Ratify.html#9125" class="Bound">Γ</a> <a id="9127" href="Ledger.Ratify.html#9127" class="Bound">stʳ</a> <a id="9131" class="Symbol">(</a><a id="9132" href="Ledger.Ratify.html#9132" class="Bound">id</a> <a id="9135" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9137" href="Ledger.Ratify.html#9137" class="Bound">st</a><a id="9139" class="Symbol">)</a> <a id="9141" class="Symbol">=</a>
       <a id="9150" href="Ledger.Ratify.html#7877" class="Function">accepted</a> <a id="9159" href="Ledger.Ratify.html#9125" class="Bound">Γ</a> <a id="9161" href="Ledger.Ratify.html#3256" class="Function">es</a> <a id="9164" href="Ledger.Ratify.html#9137" class="Bound">st</a>
    <a id="9171" href="Data.Product.Base.html#1618" class="Function Operator">×</a>  <a id="9174" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="9176" href="Ledger.Ratify.html#8909" class="Function">delayed</a> <a id="9184" class="Symbol">(</a><a id="9185" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a> <a id="9192" href="Ledger.GovernanceActions.html#2420" class="Field">action</a><a id="9198" class="Symbol">)</a> <a id="9200" href="Ledger.GovernanceActions.html#2448" class="Field">prevAction</a> <a id="9211" href="Ledger.Ratify.html#3256" class="Function">es</a> <a id="9214" href="Ledger.Ratify.html#3344" class="Function">delay</a>
    <a id="9224" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9226" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="9229" href="Ledger.Ratify.html#9229" class="Bound">es&#39;</a> <a id="9233" href="Data.Product.Base.html#1371" class="Function">]</a>  <a id="9236" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="9238" href="Ledger.Ratify.html#9132" class="Bound">id</a> <a id="9241" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9243" href="Ledger.Ratify.html#3109" class="Function">treasury</a> <a id="9252" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9254" href="Ledger.Ratify.html#2994" class="Function">currentEpoch</a> <a id="9267" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="9269" href="Ledger.Enact.html#1695" class="Datatype Operator">⊢</a> <a id="9271" href="Ledger.Ratify.html#3256" class="Function">es</a> <a id="9274" href="Ledger.Enact.html#1695" class="Datatype Operator">⇀⦇</a> <a id="9277" href="Ledger.GovernanceActions.html#2420" class="Field">action</a> <a id="9284" href="Ledger.Enact.html#1695" class="Datatype Operator">,ENACT⦈</a> <a id="9292" href="Ledger.Ratify.html#9229" class="Bound">es&#39;</a>


    <a id="9302" class="Keyword">where</a> <a id="9308" class="Keyword">open</a> <a id="9313" href="Ledger.Ratify.html#2927" class="Module">RatifyEnv</a> <a id="9323" href="Ledger.Ratify.html#9125" class="Bound">Γ</a>
          <a id="9335" class="Keyword">open</a> <a id="9340" href="Ledger.Ratify.html#3219" class="Module">RatifyState</a> <a id="9352" href="Ledger.Ratify.html#9127" class="Bound">stʳ</a>
          <a id="9366" class="Keyword">open</a> <a id="9371" href="Ledger.GovernanceActions.html#2299" class="Module">GovActionState</a> <a id="9386" href="Ledger.Ratify.html#9137" class="Bound">st</a>
<a id="9389" class="Keyword">abstract</a>
  <a id="verifyPrev?"></a><a id="9400" href="Ledger.Ratify.html#9400" class="Function">verifyPrev?</a> <a id="9412" class="Symbol">:</a> <a id="9414" class="Symbol">∀</a> <a id="9416" href="Ledger.Ratify.html#9416" class="Bound">a</a> <a id="9418" href="Ledger.Ratify.html#9418" class="Bound">h</a> <a id="9420" href="Ledger.Ratify.html#9420" class="Bound">es</a> <a id="9423" class="Symbol">→</a> <a id="9425" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="9429" class="Symbol">(</a><a id="9430" href="Ledger.Ratify.html#8165" class="Function">verifyPrev</a> <a id="9441" href="Ledger.Ratify.html#9416" class="Bound">a</a> <a id="9443" href="Ledger.Ratify.html#9418" class="Bound">h</a> <a id="9445" href="Ledger.Ratify.html#9420" class="Bound">es</a><a id="9447" class="Symbol">)</a>
  <a id="9451" href="Ledger.Ratify.html#9400" class="Function">verifyPrev?</a> <a id="9463" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>              <a id="9489" href="Ledger.Ratify.html#9489" class="Bound">h</a> <a id="9491" href="Ledger.Ratify.html#9491" class="Bound">es</a> <a id="9494" class="Symbol">=</a> <a id="9496" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9502" href="Ledger.Ratify.html#9400" class="Function">verifyPrev?</a> <a id="9514" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="9530" href="Ledger.Ratify.html#9530" class="Bound">h</a> <a id="9532" href="Ledger.Ratify.html#9532" class="Bound">es</a> <a id="9535" class="Symbol">=</a> <a id="9537" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9543" href="Ledger.Ratify.html#9400" class="Function">verifyPrev?</a> <a id="9555" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="9571" href="Ledger.Ratify.html#9571" class="Bound">h</a> <a id="9573" href="Ledger.Ratify.html#9573" class="Bound">es</a> <a id="9576" class="Symbol">=</a> <a id="9578" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9584" href="Ledger.Ratify.html#9400" class="Function">verifyPrev?</a> <a id="9596" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>       <a id="9612" href="Ledger.Ratify.html#9612" class="Bound">h</a> <a id="9614" href="Ledger.Ratify.html#9614" class="Bound">es</a> <a id="9617" class="Symbol">=</a> <a id="9619" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9625" href="Ledger.Ratify.html#9400" class="Function">verifyPrev?</a> <a id="9637" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>   <a id="9653" href="Ledger.Ratify.html#9653" class="Bound">h</a> <a id="9655" href="Ledger.Ratify.html#9655" class="Bound">es</a> <a id="9658" class="Symbol">=</a> <a id="9660" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9666" href="Ledger.Ratify.html#9400" class="Function">verifyPrev?</a> <a id="9678" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>    <a id="9694" href="Ledger.Ratify.html#9694" class="Bound">h</a> <a id="9696" href="Ledger.Ratify.html#9696" class="Bound">es</a> <a id="9699" class="Symbol">=</a> <a id="9701" href="Class.Decidable.Core.html#264" class="Field">dec</a>
  <a id="9707" href="Ledger.Ratify.html#9400" class="Function">verifyPrev?</a> <a id="9719" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>            <a id="9735" href="Ledger.Ratify.html#9735" class="Bound">h</a> <a id="9737" href="Ledger.Ratify.html#9737" class="Bound">es</a> <a id="9740" class="Symbol">=</a> <a id="9742" href="Class.Decidable.Core.html#264" class="Field">dec</a>

  <a id="delayed?"></a><a id="9749" href="Ledger.Ratify.html#9749" class="Function">delayed?</a> <a id="9758" class="Symbol">:</a> <a id="9760" class="Symbol">∀</a> <a id="9762" href="Ledger.Ratify.html#9762" class="Bound">a</a> <a id="9764" href="Ledger.Ratify.html#9764" class="Bound">h</a> <a id="9766" href="Ledger.Ratify.html#9766" class="Bound">es</a> <a id="9769" href="Ledger.Ratify.html#9769" class="Bound">d</a> <a id="9771" class="Symbol">→</a> <a id="9773" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="9777" class="Symbol">(</a><a id="9778" href="Ledger.Ratify.html#8909" class="Function">delayed</a> <a id="9786" href="Ledger.Ratify.html#9762" class="Bound">a</a> <a id="9788" href="Ledger.Ratify.html#9764" class="Bound">h</a> <a id="9790" href="Ledger.Ratify.html#9766" class="Bound">es</a> <a id="9793" href="Ledger.Ratify.html#9769" class="Bound">d</a><a id="9794" class="Symbol">)</a>
  <a id="9798" href="Ledger.Ratify.html#9749" class="Function">delayed?</a> <a id="9807" href="Ledger.Ratify.html#9807" class="Bound">a</a> <a id="9809" href="Ledger.Ratify.html#9809" class="Bound">h</a> <a id="9811" href="Ledger.Ratify.html#9811" class="Bound">es</a> <a id="9814" href="Ledger.Ratify.html#9814" class="Bound">d</a> <a id="9816" class="Symbol">=</a> <a id="9818" class="Keyword">let</a> <a id="9822" class="Keyword">instance</a> <a id="9831" href="Ledger.Ratify.html#9831" class="Bound">_</a> <a id="9833" class="Symbol">=</a> <a id="9835" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="9837" href="Ledger.Ratify.html#9400" class="Function">verifyPrev?</a> <a id="9849" href="Ledger.Ratify.html#9807" class="Bound">a</a> <a id="9851" href="Ledger.Ratify.html#9809" class="Bound">h</a> <a id="9853" href="Ledger.Ratify.html#9811" class="Bound">es</a> <a id="9856" class="Keyword">in</a> <a id="9859" href="Class.Decidable.Core.html#264" class="Field">dec</a>

  <a id="Is-nothing?"></a><a id="9866" href="Ledger.Ratify.html#9866" class="Function">Is-nothing?</a> <a id="9878" class="Symbol">:</a> <a id="9880" class="Symbol">∀</a> <a id="9882" class="Symbol">{</a><a id="9883" href="Ledger.Ratify.html#9883" class="Bound">A</a> <a id="9885" class="Symbol">:</a> <a id="9887" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="9890" class="Symbol">}</a> <a id="9892" class="Symbol">{</a><a id="9893" href="Ledger.Ratify.html#9893" class="Bound">x</a> <a id="9895" class="Symbol">:</a> <a id="9897" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="9903" href="Ledger.Ratify.html#9883" class="Bound">A</a><a id="9904" class="Symbol">}</a> <a id="9906" class="Symbol">→</a> <a id="9908" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="9912" class="Symbol">(</a><a id="9913" href="Data.Maybe.html#896" class="Function">Is-nothing</a> <a id="9924" href="Ledger.Ratify.html#9893" class="Bound">x</a><a id="9925" class="Symbol">)</a>
  <a id="9929" href="Ledger.Ratify.html#9866" class="Function">Is-nothing?</a> <a id="9941" class="Symbol">{</a><a id="9942" class="Argument">x</a> <a id="9944" class="Symbol">=</a> <a id="9946" href="Ledger.Ratify.html#9946" class="Bound">x</a><a id="9947" class="Symbol">}</a> <a id="9949" class="Symbol">=</a> <a id="9951" href="Data.Maybe.Relation.Unary.All.html#3335" class="Function">All.dec</a> <a id="9959" class="Symbol">(</a><a id="9960" href="Function.Base.html#725" class="Function">const</a> <a id="9966" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9968" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="9971" href="Function.Base.html#704" class="Function">id</a><a id="9973" class="Symbol">)</a> <a id="9975" href="Ledger.Ratify.html#9946" class="Bound">x</a>
    <a id="9981" class="Keyword">where</a>
        <a id="9995" class="Keyword">import</a> <a id="10002" href="Data.Maybe.Relation.Unary.All.html" class="Module">Data.Maybe.Relation.Unary.All</a> <a id="10032" class="Symbol">as</a> <a id="10035" class="Module">All</a>

  <a id="acceptedBy?"></a><a id="10042" href="Ledger.Ratify.html#10042" class="Function">acceptedBy?</a> <a id="10054" class="Symbol">:</a> <a id="10056" class="Symbol">∀</a> <a id="10058" href="Ledger.Ratify.html#10058" class="Bound">Γ</a> <a id="10060" href="Ledger.Ratify.html#10060" class="Bound">es</a> <a id="10063" href="Ledger.Ratify.html#10063" class="Bound">st</a> <a id="10066" href="Ledger.Ratify.html#10066" class="Bound">role</a> <a id="10071" class="Symbol">→</a> <a id="10073" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="10077" class="Symbol">(</a><a id="10078" href="Ledger.Ratify.html#7358" class="Function">acceptedBy</a> <a id="10089" href="Ledger.Ratify.html#10058" class="Bound">Γ</a> <a id="10091" href="Ledger.Ratify.html#10060" class="Bound">es</a> <a id="10094" href="Ledger.Ratify.html#10063" class="Bound">st</a> <a id="10097" href="Ledger.Ratify.html#10066" class="Bound">role</a><a id="10101" class="Symbol">)</a>
  <a id="10105" href="Ledger.Ratify.html#10042" class="Function">acceptedBy?</a> <a id="10117" class="Symbol">_</a> <a id="10119" class="Symbol">_</a> <a id="10121" class="Symbol">_</a> <a id="10123" class="Symbol">_</a> <a id="10125" class="Symbol">=</a> <a id="10127" class="Symbol">_</a> <a id="10129" href="Data.Rational.Properties.html#19360" class="Function Operator">ℚ.≤?</a> <a id="10134" class="Symbol">_</a> <a id="10136" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="10142" class="Symbol">_</a> <a id="10144" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="10146" class="Symbol">_</a> <a id="10148" href="Relation.Nullary.Decidable.Core.html#3363" class="Function Operator">→-dec</a> <a id="10154" class="Symbol">(_</a> <a id="10157" href="Data.Nat.Properties.html#6775" class="Function Operator">≥?</a> <a id="10160" class="Symbol">_</a> <a id="10162" href="Relation.Nullary.Decidable.Core.html#3233" class="Function Operator">⊎-dec</a> <a id="10168" href="Ledger.Ratify.html#9866" class="Function">Is-nothing?</a><a id="10179" class="Symbol">)</a>
    <a id="10185" class="Keyword">where</a>
      <a id="10197" class="Keyword">import</a> <a id="10204" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="10231" class="Symbol">as</a> <a id="10234" class="Module">Dec</a>

  <a id="accepted?"></a><a id="10241" href="Ledger.Ratify.html#10241" class="Function">accepted?</a> <a id="10251" class="Symbol">:</a> <a id="10253" class="Symbol">∀</a> <a id="10255" href="Ledger.Ratify.html#10255" class="Bound">Γ</a> <a id="10257" href="Ledger.Ratify.html#10257" class="Bound">es</a> <a id="10260" href="Ledger.Ratify.html#10260" class="Bound">st</a> <a id="10263" class="Symbol">→</a> <a id="10265" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="10269" class="Symbol">(</a><a id="10270" href="Ledger.Ratify.html#7877" class="Function">accepted</a> <a id="10279" href="Ledger.Ratify.html#10255" class="Bound">Γ</a> <a id="10281" href="Ledger.Ratify.html#10257" class="Bound">es</a> <a id="10284" href="Ledger.Ratify.html#10260" class="Bound">st</a><a id="10286" class="Symbol">)</a>
  <a id="10290" href="Ledger.Ratify.html#10241" class="Function">accepted?</a> <a id="10300" href="Ledger.Ratify.html#10300" class="Bound">Γ</a> <a id="10302" href="Ledger.Ratify.html#10302" class="Bound">es</a> <a id="10305" href="Ledger.Ratify.html#10305" class="Bound">st</a> <a id="10308" class="Symbol">=</a> <a id="10310" class="Keyword">let</a> <a id="10314" href="Ledger.Ratify.html#10314" class="Bound">a</a> <a id="10316" class="Symbol">=</a> <a id="10318" class="Symbol">λ</a> <a id="10320" class="Symbol">{</a><a id="10321" href="Ledger.Ratify.html#10321" class="Bound">x</a><a id="10322" class="Symbol">}</a> <a id="10324" class="Symbol">→</a> <a id="10326" href="Ledger.Ratify.html#10042" class="Function">acceptedBy?</a> <a id="10338" href="Ledger.Ratify.html#10300" class="Bound">Γ</a> <a id="10340" href="Ledger.Ratify.html#10302" class="Bound">es</a> <a id="10343" href="Ledger.Ratify.html#10305" class="Bound">st</a> <a id="10346" href="Ledger.Ratify.html#10321" class="Bound">x</a> <a id="10348" class="Keyword">in</a> <a id="10351" href="Ledger.Ratify.html#10314" class="Bound">a</a> <a id="10353" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="10359" href="Ledger.Ratify.html#10314" class="Bound">a</a> <a id="10361" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="10367" href="Ledger.Ratify.html#10314" class="Bound">a</a>

  <a id="expired?"></a><a id="10372" href="Ledger.Ratify.html#10372" class="Function">expired?</a> <a id="10381" class="Symbol">:</a> <a id="10383" class="Symbol">∀</a> <a id="10385" href="Ledger.Ratify.html#10385" class="Bound">e</a> <a id="10387" href="Ledger.Ratify.html#10387" class="Bound">st</a> <a id="10390" class="Symbol">→</a> <a id="10392" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="10396" class="Symbol">(</a><a id="10397" href="Ledger.Ratify.html#8032" class="Function">expired</a> <a id="10405" href="Ledger.Ratify.html#10385" class="Bound">e</a> <a id="10407" href="Ledger.Ratify.html#10387" class="Bound">st</a><a id="10409" class="Symbol">)</a>
  <a id="10413" href="Ledger.Ratify.html#10372" class="Function">expired?</a> <a id="10422" href="Ledger.Ratify.html#10422" class="Bound">e</a> <a id="10424" href="Ledger.Ratify.html#10424" class="Bound">st</a> <a id="10427" class="Symbol">=</a> <a id="10429" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="10431" href="Ledger.Ratify.html#8032" class="Function">expired</a> <a id="10439" href="Ledger.Ratify.html#10422" class="Bound">e</a> <a id="10441" href="Ledger.Ratify.html#10424" class="Bound">st</a> <a id="10444" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a>


<a id="10448" class="Keyword">private</a> <a id="10456" class="Keyword">variable</a>
  <a id="10467" href="Ledger.Ratify.html#10467" class="Generalizable">Γ</a> <a id="10469" class="Symbol">:</a> <a id="10471" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a>
  <a id="10483" href="Ledger.Ratify.html#10483" class="Generalizable">es</a> <a id="10486" href="Ledger.Ratify.html#10486" class="Generalizable">es&#39;</a> <a id="10490" class="Symbol">:</a> <a id="10492" href="Ledger.Enact.html#397" class="Record">EnactState</a>
  <a id="10505" href="Ledger.Ratify.html#10505" class="Generalizable">a</a> <a id="10507" class="Symbol">:</a> <a id="10509" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="10521" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10523" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a>
  <a id="10540" href="Ledger.Ratify.html#10540" class="Generalizable">removed</a> <a id="10548" class="Symbol">:</a> <a id="10550" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="10552" class="Symbol">(</a><a id="10553" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="10565" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10567" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a><a id="10581" class="Symbol">)</a>
  <a id="10585" href="Ledger.Ratify.html#10585" class="Generalizable">d</a> <a id="10587" class="Symbol">:</a> <a id="10589" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

<a id="10595" class="Keyword">open</a> <a id="10600" href="Ledger.Ratify.html#2927" class="Module">RatifyEnv</a>
<a id="10610" class="Keyword">open</a> <a id="10615" href="Ledger.GovernanceActions.html#2299" class="Module">GovActionState</a>


<a id="10632" class="Keyword">data</a> <a id="_⊢_⇀⦇_,RATIFY⦈_"></a><a id="10637" href="Ledger.Ratify.html#10637" class="Datatype Operator">_⊢_⇀⦇_,RATIFY⦈_</a> <a id="10653" class="Symbol">:</a>
  <a id="10657" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="10667" class="Symbol">→</a> <a id="10669" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="10681" class="Symbol">→</a> <a id="10683" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="10695" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10697" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="10712" class="Symbol">→</a> <a id="10714" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="10726" class="Symbol">→</a> <a id="10728" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="10733" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,RATIFY⦈_.RATIFY-Accept"></a><a id="10742" href="Ledger.Ratify.html#10742" class="InductiveConstructor">RATIFY-Accept</a> <a id="10756" class="Symbol">:</a>
    <a id="10762" class="Keyword">let</a> <a id="10766" href="Ledger.Ratify.html#10766" class="Bound">treasury</a>       <a id="10781" class="Symbol">=</a> <a id="10783" href="Ledger.Ratify.html#10467" class="Generalizable">Γ</a> <a id="10785" class="Symbol">.</a><a id="10786" href="Ledger.Ratify.html#3109" class="Field">treasury</a>
        <a id="10803" href="Ledger.Ratify.html#10803" class="Bound">e</a>              <a id="10818" class="Symbol">=</a> <a id="10820" href="Ledger.Ratify.html#10467" class="Generalizable">Γ</a> <a id="10822" class="Symbol">.</a><a id="10823" href="Ledger.Ratify.html#2994" class="Field">currentEpoch</a>
        <a id="10844" class="Symbol">(</a><a id="10845" href="Ledger.Ratify.html#10845" class="Bound">gaId</a> <a id="10850" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10852" href="Ledger.Ratify.html#10852" class="Bound">gaSt</a><a id="10856" class="Symbol">)</a>  <a id="10859" class="Symbol">=</a> <a id="10861" href="Ledger.Ratify.html#10505" class="Generalizable">a</a>
        <a id="10871" href="Ledger.Ratify.html#10871" class="Bound">action</a>         <a id="10886" class="Symbol">=</a> <a id="10888" href="Ledger.Ratify.html#10852" class="Bound">gaSt</a> <a id="10893" class="Symbol">.</a><a id="10894" href="Ledger.GovernanceActions.html#2420" class="Field">action</a>
    <a id="10905" class="Keyword">in</a>
    <a id="10912" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="10914" href="Ledger.Ratify.html#9037" class="Function">acceptConds</a> <a id="10926" href="Ledger.Ratify.html#10467" class="Generalizable">Γ</a> <a id="10928" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="10930" href="Ledger.Ratify.html#10483" class="Generalizable">es</a> <a id="10933" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10935" href="Ledger.Ratify.html#10540" class="Generalizable">removed</a> <a id="10943" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10945" href="Ledger.Ratify.html#10585" class="Generalizable">d</a> <a id="10947" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="10949" href="Ledger.Ratify.html#10505" class="Generalizable">a</a>
    <a id="10955" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="10957" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="10959" href="Ledger.Ratify.html#10845" class="Bound">gaId</a> <a id="10964" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10966" href="Ledger.Ratify.html#10766" class="Bound">treasury</a> <a id="10975" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10977" href="Ledger.Ratify.html#10803" class="Bound">e</a> <a id="10979" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="10981" href="Ledger.Enact.html#1695" class="Datatype Operator">⊢</a> <a id="10983" href="Ledger.Ratify.html#10483" class="Generalizable">es</a> <a id="10986" href="Ledger.Enact.html#1695" class="Datatype Operator">⇀⦇</a> <a id="10989" href="Ledger.Ratify.html#10871" class="Bound">action</a> <a id="10996" href="Ledger.Enact.html#1695" class="Datatype Operator">,ENACT⦈</a> <a id="11004" href="Ledger.Ratify.html#10486" class="Generalizable">es&#39;</a>
      <a id="11014" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="11053" href="Ledger.Ratify.html#10467" class="Generalizable">Γ</a> <a id="11055" href="Ledger.Ratify.html#10637" class="Datatype Operator">⊢</a> <a id="11057" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11059" href="Ledger.Ratify.html#10483" class="Generalizable">es</a>  <a id="11063" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11065" href="Ledger.Ratify.html#10540" class="Generalizable">removed</a>         <a id="11081" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11083" href="Ledger.Ratify.html#10585" class="Generalizable">d</a>                     <a id="11105" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="11107" href="Ledger.Ratify.html#10637" class="Datatype Operator">⇀⦇</a> <a id="11110" href="Ledger.Ratify.html#10505" class="Generalizable">a</a> <a id="11112" href="Ledger.Ratify.html#10637" class="Datatype Operator">,RATIFY⦈</a>
          <a id="11131" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11133" href="Ledger.Ratify.html#10486" class="Generalizable">es&#39;</a> <a id="11137" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11139" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="11141" href="Ledger.Ratify.html#10505" class="Generalizable">a</a> <a id="11143" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="11145" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="11147" href="Ledger.Ratify.html#10540" class="Generalizable">removed</a> <a id="11155" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11157" href="Ledger.Ratify.html#8594" class="Function">delayingAction</a> <a id="11172" class="Symbol">(</a><a id="11173" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a> <a id="11180" href="Ledger.Ratify.html#10871" class="Bound">action</a><a id="11186" class="Symbol">)</a> <a id="11188" href="Class.To.html#102" class="Field Operator">⟧</a>

  <a id="_⊢_⇀⦇_,RATIFY⦈_.RATIFY-Reject"></a><a id="11193" href="Ledger.Ratify.html#11193" class="InductiveConstructor">RATIFY-Reject</a> <a id="11207" class="Symbol">:</a>
    <a id="11213" class="Keyword">let</a> <a id="11217" href="Ledger.Ratify.html#11217" class="Bound">e</a>              <a id="11232" class="Symbol">=</a> <a id="11234" href="Ledger.Ratify.html#10467" class="Generalizable">Γ</a> <a id="11236" class="Symbol">.</a><a id="11237" href="Ledger.Ratify.html#2994" class="Field">currentEpoch</a>
        <a id="11258" class="Symbol">(</a><a id="11259" href="Ledger.Ratify.html#11259" class="Bound">gaId</a> <a id="11264" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11266" href="Ledger.Ratify.html#11266" class="Bound">gaSt</a><a id="11270" class="Symbol">)</a>  <a id="11273" class="Symbol">=</a> <a id="11275" href="Ledger.Ratify.html#10505" class="Generalizable">a</a>
    <a id="11281" class="Keyword">in</a>
    <a id="11288" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="11290" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11292" href="Ledger.Ratify.html#9037" class="Function">acceptConds</a> <a id="11304" href="Ledger.Ratify.html#10467" class="Generalizable">Γ</a> <a id="11306" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11308" href="Ledger.Ratify.html#10483" class="Generalizable">es</a> <a id="11311" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11313" href="Ledger.Ratify.html#10540" class="Generalizable">removed</a> <a id="11321" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11323" href="Ledger.Ratify.html#10585" class="Generalizable">d</a> <a id="11325" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="11327" href="Ledger.Ratify.html#10505" class="Generalizable">a</a>
    <a id="11333" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="11335" href="Ledger.Ratify.html#8032" class="Function">expired</a> <a id="11343" href="Ledger.Ratify.html#11217" class="Bound">e</a> <a id="11345" href="Ledger.Ratify.html#11266" class="Bound">gaSt</a>
      <a id="11356" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
      <a id="11395" href="Ledger.Ratify.html#10467" class="Generalizable">Γ</a> <a id="11397" href="Ledger.Ratify.html#10637" class="Datatype Operator">⊢</a> <a id="11399" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11401" href="Ledger.Ratify.html#10483" class="Generalizable">es</a> <a id="11404" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11406" href="Ledger.Ratify.html#10540" class="Generalizable">removed</a> <a id="11414" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11416" href="Ledger.Ratify.html#10585" class="Generalizable">d</a> <a id="11418" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="11420" href="Ledger.Ratify.html#10637" class="Datatype Operator">⇀⦇</a> <a id="11423" href="Ledger.Ratify.html#10505" class="Generalizable">a</a> <a id="11425" href="Ledger.Ratify.html#10637" class="Datatype Operator">,RATIFY⦈</a> <a id="11434" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11436" href="Ledger.Ratify.html#10483" class="Generalizable">es</a> <a id="11439" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11441" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="11443" href="Ledger.Ratify.html#10505" class="Generalizable">a</a> <a id="11445" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="11447" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="11449" href="Ledger.Ratify.html#10540" class="Generalizable">removed</a> <a id="11457" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11459" href="Ledger.Ratify.html#10585" class="Generalizable">d</a> <a id="11461" href="Class.To.html#102" class="Field Operator">⟧</a>

  <a id="_⊢_⇀⦇_,RATIFY⦈_.RATIFY-Continue"></a><a id="11466" href="Ledger.Ratify.html#11466" class="InductiveConstructor">RATIFY-Continue</a> <a id="11482" class="Symbol">:</a>
     <a id="11489" class="Keyword">let</a> <a id="11493" href="Ledger.Ratify.html#11493" class="Bound">e</a>              <a id="11508" class="Symbol">=</a> <a id="11510" href="Ledger.Ratify.html#10467" class="Generalizable">Γ</a> <a id="11512" class="Symbol">.</a><a id="11513" href="Ledger.Ratify.html#2994" class="Field">currentEpoch</a>
         <a id="11535" class="Symbol">(</a><a id="11536" href="Ledger.Ratify.html#11536" class="Bound">gaId</a> <a id="11541" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11543" href="Ledger.Ratify.html#11543" class="Bound">gaSt</a><a id="11547" class="Symbol">)</a>  <a id="11550" class="Symbol">=</a> <a id="11552" href="Ledger.Ratify.html#10505" class="Generalizable">a</a>
     <a id="11559" class="Keyword">in</a>
     <a id="11567" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="11569" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11571" href="Ledger.Ratify.html#9037" class="Function">acceptConds</a> <a id="11583" href="Ledger.Ratify.html#10467" class="Generalizable">Γ</a> <a id="11585" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11587" href="Ledger.Ratify.html#10483" class="Generalizable">es</a> <a id="11590" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11592" href="Ledger.Ratify.html#10540" class="Generalizable">removed</a> <a id="11600" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11602" href="Ledger.Ratify.html#10585" class="Generalizable">d</a> <a id="11604" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="11606" href="Ledger.Ratify.html#10505" class="Generalizable">a</a>
     <a id="11613" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="11615" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="11617" href="Ledger.Ratify.html#8032" class="Function">expired</a> <a id="11625" href="Ledger.Ratify.html#11493" class="Bound">e</a> <a id="11627" href="Ledger.Ratify.html#11543" class="Bound">gaSt</a>
       <a id="11639" href="Interface.STS.html#350" class="Function Operator">────────────────────────────────</a>
       <a id="11679" href="Ledger.Ratify.html#10467" class="Generalizable">Γ</a> <a id="11681" href="Ledger.Ratify.html#10637" class="Datatype Operator">⊢</a> <a id="11683" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11685" href="Ledger.Ratify.html#10483" class="Generalizable">es</a> <a id="11688" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11690" href="Ledger.Ratify.html#10540" class="Generalizable">removed</a> <a id="11698" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11700" href="Ledger.Ratify.html#10585" class="Generalizable">d</a> <a id="11702" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="11704" href="Ledger.Ratify.html#10637" class="Datatype Operator">⇀⦇</a> <a id="11707" href="Ledger.Ratify.html#10505" class="Generalizable">a</a> <a id="11709" href="Ledger.Ratify.html#10637" class="Datatype Operator">,RATIFY⦈</a> <a id="11718" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="11720" href="Ledger.Ratify.html#10483" class="Generalizable">es</a> <a id="11723" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11725" href="Ledger.Ratify.html#10540" class="Generalizable">removed</a> <a id="11733" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11735" href="Ledger.Ratify.html#10585" class="Generalizable">d</a> <a id="11737" href="Class.To.html#102" class="Field Operator">⟧</a>

<a id="_⊢_⇀⦇_,RATIFIES⦈_"></a><a id="11740" href="Ledger.Ratify.html#11740" class="Function Operator">_⊢_⇀⦇_,RATIFIES⦈_</a>  <a id="11759" class="Symbol">:</a> <a id="11761" href="Ledger.Ratify.html#2927" class="Record">RatifyEnv</a> <a id="11771" class="Symbol">→</a> <a id="11773" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="11785" class="Symbol">→</a> <a id="11787" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="11792" class="Symbol">(</a><a id="11793" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="11805" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="11807" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a><a id="11821" class="Symbol">)</a>
                 <a id="11840" class="Symbol">→</a> <a id="11842" href="Ledger.Ratify.html#3219" class="Record">RatifyState</a> <a id="11854" class="Symbol">→</a> <a id="11856" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="11861" href="Ledger.Ratify.html#11740" class="Function Operator">_⊢_⇀⦇_,RATIFIES⦈_</a> <a id="11879" class="Symbol">=</a> <a id="11881" href="Interface.STS.html#2329" class="Function">ReflexiveTransitiveClosure</a> <a id="11908" class="Symbol">{</a><a id="11909" class="Argument">sts</a> <a id="11913" class="Symbol">=</a> <a id="11915" href="Ledger.Ratify.html#10637" class="Datatype Operator">_⊢_⇀⦇_,RATIFY⦈_</a><a id="11930" class="Symbol">}</a>

</pre></body></html>