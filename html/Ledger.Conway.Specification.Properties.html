<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Properties</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="75" class="Keyword">open</a> <a id="80" class="Keyword">import</a> <a id="87" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>

<a id="128" class="Keyword">module</a> <a id="135" href="Ledger.Conway.Specification.Properties.html" class="Module">Ledger.Conway.Specification.Properties</a>
  <a id="176" class="Symbol">(</a><a id="177" href="Ledger.Conway.Specification.Properties.html#177" class="Bound">txs</a> <a id="181" class="Symbol">:</a> <a id="183" class="Symbol">_)</a> <a id="186" class="Symbol">(</a><a id="187" class="Keyword">open</a> <a id="192" href="Ledger.Conway.Specification.Transaction.html#1000" class="Module">TransactionStructure</a> <a id="213" href="Ledger.Conway.Specification.Properties.html#177" class="Bound">txs</a><a id="216" class="Symbol">)</a>
  <a id="220" class="Symbol">(</a><a id="221" href="Ledger.Conway.Specification.Properties.html#221" class="Bound">abs</a> <a id="225" class="Symbol">:</a> <a id="227" href="Ledger.Conway.Specification.Abstract.html#641" class="Record">AbstractFunctions</a> <a id="245" href="Ledger.Conway.Specification.Properties.html#177" class="Bound">txs</a><a id="248" class="Symbol">)</a> <a id="250" class="Symbol">(</a><a id="251" class="Keyword">open</a> <a id="256" href="Ledger.Conway.Specification.Abstract.html#641" class="Module">AbstractFunctions</a> <a id="274" href="Ledger.Conway.Specification.Properties.html#221" class="Bound">abs</a><a id="277" class="Symbol">)</a>
  <a id="281" class="Keyword">where</a>
<a id="287" class="Keyword">open</a> <a id="292" class="Keyword">import</a> <a id="299" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="333" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Ledger.Conway.Specification.Chain.html" class="Module">Ledger.Conway.Specification.Chain</a> <a id="392" href="Ledger.Conway.Specification.Properties.html#177" class="Bound">txs</a> <a id="396" href="Ledger.Conway.Specification.Properties.html#221" class="Bound">abs</a>
<a id="400" class="Keyword">open</a> <a id="405" class="Keyword">import</a> <a id="412" href="Ledger.Conway.Specification.Enact.html" class="Module">Ledger.Conway.Specification.Enact</a> <a id="446" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="459" class="Keyword">open</a> <a id="464" class="Keyword">import</a> <a id="471" href="Ledger.Conway.Specification.Epoch.html" class="Module">Ledger.Conway.Specification.Epoch</a> <a id="505" href="Ledger.Conway.Specification.Properties.html#177" class="Bound">txs</a> <a id="509" href="Ledger.Conway.Specification.Properties.html#221" class="Bound">abs</a>
<a id="513" class="Keyword">open</a> <a id="518" class="Keyword">import</a> <a id="525" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="560" href="Ledger.Conway.Specification.Properties.html#177" class="Bound">txs</a> <a id="564" href="Ledger.Conway.Specification.Properties.html#221" class="Bound">abs</a>
<a id="568" class="Keyword">open</a> <a id="573" class="Keyword">import</a> <a id="580" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="isCredDeposit"></a><a id="595" href="Ledger.Conway.Specification.Properties.html#595" class="Function">isCredDeposit</a> <a id="609" class="Symbol">:</a> <a id="611" href="Ledger.Conway.Specification.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="626" class="Symbol">→</a> <a id="628" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="633" href="Ledger.Conway.Specification.Properties.html#595" class="Function">isCredDeposit</a> <a id="647" class="Symbol">(</a><a id="648" href="Ledger.Conway.Specification.Certs.html#379" class="InductiveConstructor">CredentialDeposit</a> <a id="666" href="Ledger.Conway.Specification.Properties.html#666" class="Bound">x</a><a id="667" class="Symbol">)</a> <a id="669" class="Symbol">=</a> <a id="671" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="673" href="Ledger.Conway.Specification.Properties.html#595" class="CatchallClause Function">isCredDeposit</a><a id="686" class="CatchallClause"> </a><a id="687" class="CatchallClause Symbol">_</a> <a id="689" class="Symbol">=</a> <a id="691" href="Data.Empty.html#914" class="Function">⊥</a>

<a id="694" class="Keyword">instance</a>
  <a id="isCredDeposit?"></a><a id="705" href="Ledger.Conway.Specification.Properties.html#705" class="Function">isCredDeposit?</a> <a id="720" class="Symbol">:</a> <a id="722" href="Ledger.Conway.Specification.Properties.html#595" class="Function">isCredDeposit</a> <a id="736" href="Class.Decidable.Core.html#762" class="Function Operator">⁇¹</a>
  <a id="741" href="Ledger.Conway.Specification.Properties.html#705" class="Function">isCredDeposit?</a> <a id="756" class="Symbol">{</a><a id="757" href="Ledger.Conway.Specification.Certs.html#379" class="InductiveConstructor">CredentialDeposit</a> <a id="775" href="Ledger.Conway.Specification.Properties.html#775" class="Bound">x</a><a id="776" class="Symbol">}</a> <a id="778" class="Symbol">=</a> <a id="780" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="782" class="Symbol">(</a><a id="783" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="787" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="789" class="Symbol">)</a>
  <a id="793" href="Ledger.Conway.Specification.Properties.html#705" class="Function">isCredDeposit?</a> <a id="808" class="Symbol">{</a><a id="809" href="Ledger.Conway.Specification.Certs.html#432" class="InductiveConstructor">PoolDeposit</a> <a id="821" href="Ledger.Conway.Specification.Properties.html#821" class="Bound">x</a><a id="822" class="Symbol">}</a> <a id="824" class="Symbol">=</a> <a id="826" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="828" class="Symbol">(</a><a id="829" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="832" class="Symbol">λ</a> <a id="834" class="Symbol">())</a>
  <a id="840" href="Ledger.Conway.Specification.Properties.html#705" class="Function">isCredDeposit?</a> <a id="855" class="Symbol">{</a><a id="856" href="Ledger.Conway.Specification.Certs.html#485" class="InductiveConstructor">DRepDeposit</a> <a id="868" href="Ledger.Conway.Specification.Properties.html#868" class="Bound">x</a><a id="869" class="Symbol">}</a> <a id="871" class="Symbol">=</a> <a id="873" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="875" class="Symbol">(</a><a id="876" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="879" class="Symbol">λ</a> <a id="881" class="Symbol">())</a>
  <a id="887" href="Ledger.Conway.Specification.Properties.html#705" class="Function">isCredDeposit?</a> <a id="902" class="Symbol">{</a><a id="903" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="920" href="Ledger.Conway.Specification.Properties.html#920" class="Bound">x</a><a id="921" class="Symbol">}</a> <a id="923" class="Symbol">=</a> <a id="925" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="927" class="Symbol">(</a><a id="928" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="931" class="Symbol">λ</a> <a id="933" class="Symbol">())</a>

<a id="isGADeposit"></a><a id="938" href="Ledger.Conway.Specification.Properties.html#938" class="Function">isGADeposit</a> <a id="950" class="Symbol">:</a> <a id="952" href="Ledger.Conway.Specification.Certs.html#349" class="Datatype">DepositPurpose</a> <a id="967" class="Symbol">→</a> <a id="969" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="974" href="Ledger.Conway.Specification.Properties.html#938" class="Function">isGADeposit</a> <a id="986" class="Symbol">(</a><a id="987" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="1004" href="Ledger.Conway.Specification.Properties.html#1004" class="Bound">x</a><a id="1005" class="Symbol">)</a> <a id="1007" class="Symbol">=</a> <a id="1009" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="1011" href="Ledger.Conway.Specification.Properties.html#938" class="CatchallClause Function">isGADeposit</a><a id="1022" class="CatchallClause"> </a><a id="1023" class="CatchallClause Symbol">_</a> <a id="1025" class="Symbol">=</a> <a id="1027" href="Data.Empty.html#914" class="Function">⊥</a>

<a id="1030" class="Keyword">instance</a>
  <a id="isGADeposit?"></a><a id="1041" href="Ledger.Conway.Specification.Properties.html#1041" class="Function">isGADeposit?</a> <a id="1054" class="Symbol">:</a> <a id="1056" href="Ledger.Conway.Specification.Properties.html#938" class="Function">isGADeposit</a> <a id="1068" href="Class.Decidable.Core.html#762" class="Function Operator">⁇¹</a>
  <a id="1073" href="Ledger.Conway.Specification.Properties.html#1041" class="Function">isGADeposit?</a> <a id="1086" class="Symbol">{</a><a id="1087" href="Ledger.Conway.Specification.Certs.html#379" class="InductiveConstructor">CredentialDeposit</a> <a id="1105" href="Ledger.Conway.Specification.Properties.html#1105" class="Bound">x</a><a id="1106" class="Symbol">}</a> <a id="1108" class="Symbol">=</a> <a id="1110" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1112" class="Symbol">(</a><a id="1113" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1116" class="Symbol">λ</a> <a id="1118" class="Symbol">())</a>
  <a id="1124" href="Ledger.Conway.Specification.Properties.html#1041" class="Function">isGADeposit?</a> <a id="1137" class="Symbol">{</a><a id="1138" href="Ledger.Conway.Specification.Certs.html#432" class="InductiveConstructor">PoolDeposit</a> <a id="1150" href="Ledger.Conway.Specification.Properties.html#1150" class="Bound">x</a><a id="1151" class="Symbol">}</a> <a id="1153" class="Symbol">=</a> <a id="1155" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1157" class="Symbol">(</a><a id="1158" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1161" class="Symbol">λ</a> <a id="1163" class="Symbol">())</a>
  <a id="1169" href="Ledger.Conway.Specification.Properties.html#1041" class="Function">isGADeposit?</a> <a id="1182" class="Symbol">{</a><a id="1183" href="Ledger.Conway.Specification.Certs.html#485" class="InductiveConstructor">DRepDeposit</a> <a id="1195" href="Ledger.Conway.Specification.Properties.html#1195" class="Bound">x</a><a id="1196" class="Symbol">}</a> <a id="1198" class="Symbol">=</a> <a id="1200" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1202" class="Symbol">(</a><a id="1203" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1206" class="Symbol">λ</a> <a id="1208" class="Symbol">())</a>
  <a id="1214" href="Ledger.Conway.Specification.Properties.html#1041" class="Function">isGADeposit?</a> <a id="1227" class="Symbol">{</a><a id="1228" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="1245" href="Ledger.Conway.Specification.Properties.html#1245" class="Bound">x</a><a id="1246" class="Symbol">}</a> <a id="1248" class="Symbol">=</a> <a id="1250" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1252" class="Symbol">(</a><a id="1253" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1257" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="1259" class="Symbol">)</a>

<a id="activeDReps"></a><a id="1262" href="Ledger.Conway.Specification.Properties.html#1262" class="Function">activeDReps</a> <a id="1274" class="Symbol">:</a> <a id="1276" href="Ledger.Core.Specification.Epoch.html#598" class="Function">Epoch</a> <a id="1282" class="Symbol">→</a> <a id="1284" href="Ledger.Conway.Specification.Epoch.html#2618" class="Record">NewEpochState</a> <a id="1298" class="Symbol">→</a> <a id="1300" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1302" href="Ledger.Core.Specification.Address.html#260" class="Datatype">Credential</a>
<a id="1313" href="Ledger.Conway.Specification.Properties.html#1262" class="Function">activeDReps</a> <a id="1325" href="Ledger.Conway.Specification.Properties.html#1325" class="Bound">currentEpoch</a> <a id="1338" href="Ledger.Conway.Specification.Properties.html#1338" class="Bound">s</a> <a id="1340" class="Symbol">=</a> <a id="1342" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1346" class="Symbol">(</a><a id="1347" href="abstract-set-theory.FiniteSetTheory.html#2895" class="Function">filterᵐ</a> <a id="1355" class="Symbol">(λ</a> <a id="1358" class="Symbol">(_</a> <a id="1361" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1363" href="Ledger.Conway.Specification.Properties.html#1363" class="Bound">e</a><a id="1364" class="Symbol">)</a> <a id="1366" class="Symbol">→</a> <a id="1368" href="Ledger.Conway.Specification.Properties.html#1325" class="Bound">currentEpoch</a> <a id="1381" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="1383" href="Ledger.Conway.Specification.Properties.html#1363" class="Bound">e</a><a id="1384" class="Symbol">)</a> <a id="1386" class="Symbol">(</a><a id="1387" href="Ledger.Conway.Specification.Certs.html#972" class="Field">DRepsOf</a> <a id="1395" href="Ledger.Conway.Specification.Properties.html#1338" class="Bound">s</a><a id="1396" class="Symbol">))</a>

<a id="1400" class="Keyword">instance</a>
  <a id="1411" href="Ledger.Conway.Specification.Properties.html#1411" class="Function">_</a> <a id="1413" class="Symbol">:</a> <a id="1415" href="Class.IsSet.html#375" class="Record">IsSet</a> <a id="1421" href="Ledger.Conway.Specification.Chain.html#863" class="Record">Block</a> <a id="1427" href="Ledger.Conway.Specification.Transaction.html#4500" class="Record">Tx</a>
  <a id="1432" class="Symbol">_</a> <a id="1434" class="Symbol">=</a> <a id="1436" class="Keyword">record</a> <a id="1443" class="Symbol">{</a> <a id="1445" href="Class.IsSet.html#419" class="Field">toSet</a> <a id="1451" class="Symbol">=</a> <a id="1453" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="1462" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1464" href="Ledger.Conway.Specification.Chain.html#894" class="Field">Block.ts</a> <a id="1473" class="Symbol">}</a>

  <a id="1478" href="Ledger.Conway.Specification.Properties.html#1478" class="Function">_</a> <a id="1480" class="Symbol">:</a> <a id="1482" href="Class.IsSet.html#375" class="Record">IsSet</a> <a id="1488" href="Ledger.Conway.Specification.Transaction.html#2987" class="Record">TxBody</a> <a id="1495" href="Ledger.Conway.Specification.Gov.Actions.html#2518" class="Record">GovProposal</a>
  <a id="1509" class="Symbol">_</a> <a id="1511" class="Symbol">=</a> <a id="1513" class="Keyword">record</a> <a id="1520" class="Symbol">{</a> <a id="1522" href="Class.IsSet.html#419" class="Field">toSet</a> <a id="1528" class="Symbol">=</a> <a id="1530" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="1539" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1541" href="Ledger.Conway.Specification.Transaction.html#3319" class="Field">TxBody.txprop</a> <a id="1555" class="Symbol">}</a>

<a id="validBlockIn"></a><a id="1558" href="Ledger.Conway.Specification.Properties.html#1558" class="Function">validBlockIn</a> <a id="1571" class="Symbol">:</a> <a id="1573" href="Ledger.Conway.Specification.Chain.html#788" class="Record">ChainState</a> <a id="1584" class="Symbol">→</a> <a id="1586" href="Ledger.Conway.Specification.Chain.html#863" class="Record">Block</a> <a id="1592" class="Symbol">→</a> <a id="1594" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1599" href="Ledger.Conway.Specification.Properties.html#1558" class="Function">validBlockIn</a> <a id="1612" href="Ledger.Conway.Specification.Properties.html#1612" class="Bound">s</a> <a id="1614" href="Ledger.Conway.Specification.Properties.html#1614" class="Bound">b</a> <a id="1616" class="Symbol">=</a> <a id="1618" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="1621" href="Ledger.Conway.Specification.Properties.html#1621" class="Bound">s&#39;</a> <a id="1624" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="1626" class="Symbol">_</a> <a id="1628" href="Ledger.Conway.Specification.Chain.html#4023" class="Datatype Operator">⊢</a> <a id="1630" href="Ledger.Conway.Specification.Properties.html#1612" class="Bound">s</a> <a id="1632" href="Ledger.Conway.Specification.Chain.html#4023" class="Datatype Operator">⇀⦇</a> <a id="1635" href="Ledger.Conway.Specification.Properties.html#1614" class="Bound">b</a> <a id="1637" href="Ledger.Conway.Specification.Chain.html#4023" class="Datatype Operator">,CHAIN⦈</a> <a id="1645" href="Ledger.Conway.Specification.Properties.html#1621" class="Bound">s&#39;</a>

<a id="validBlock"></a><a id="1649" href="Ledger.Conway.Specification.Properties.html#1649" class="Function">validBlock</a> <a id="1660" class="Symbol">:</a> <a id="1662" href="Ledger.Conway.Specification.Chain.html#863" class="Record">Block</a> <a id="1668" class="Symbol">→</a> <a id="1670" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1675" href="Ledger.Conway.Specification.Properties.html#1649" class="Function">validBlock</a> <a id="1686" href="Ledger.Conway.Specification.Properties.html#1686" class="Bound">b</a> <a id="1688" class="Symbol">=</a> <a id="1690" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="1693" href="Ledger.Conway.Specification.Properties.html#1693" class="Bound">s</a> <a id="1695" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="1697" href="Ledger.Conway.Specification.Properties.html#1558" class="Function">validBlockIn</a> <a id="1710" href="Ledger.Conway.Specification.Properties.html#1693" class="Bound">s</a> <a id="1712" href="Ledger.Conway.Specification.Properties.html#1686" class="Bound">b</a>

<a id="1715" class="Comment">-- Transaction validity is complicated. In the truest sense, a</a>
<a id="1778" class="Comment">-- transaction is valid if it is part of a valid block,</a>
<a id="1834" class="Comment">-- i.e. `validTxIn₁`. However, a transaction can also be seen as valid</a>
<a id="1905" class="Comment">-- if it could be applied at a certain slot (with no knowledge of an</a>
<a id="1974" class="Comment">-- actual block). This is closer to how the mempool sees transaction</a>
<a id="2043" class="Comment">-- validity and is expressed by `validTxIn₂`.</a>

<a id="2090" class="Comment">-- Note that these two are not equivalent and in fact there is no</a>
<a id="2156" class="Comment">-- implication between the two in either direction. `2 =&gt; 1` would</a>
<a id="2223" class="Comment">-- require one to come up with a block, which we can&#39;t, but `1 =&gt; 2`</a>
<a id="2292" class="Comment">-- is also not true, since the transaction might depend on a previous</a>
<a id="2362" class="Comment">-- transaction in the same block. Maybe this means that `validTxIn₂`</a>
<a id="2431" class="Comment">-- should be changed so that it allows for applying a list of</a>
<a id="2493" class="Comment">-- transactions before the final transaction? However, the downside</a>
<a id="2561" class="Comment">-- then becomes that the transaction isn&#39;t applied to the given state</a>
<a id="2631" class="Comment">-- but to some intermediate one. Maybe we&#39;ll gain some insight on this</a>
<a id="2702" class="Comment">-- matter once we have proven more theorems.</a>

<a id="validTxIn₁"></a><a id="2748" href="Ledger.Conway.Specification.Properties.html#2748" class="Function">validTxIn₁</a> <a id="2759" class="Symbol">:</a> <a id="2761" href="Ledger.Conway.Specification.Chain.html#788" class="Record">ChainState</a> <a id="2772" class="Symbol">→</a> <a id="2774" href="Ledger.Conway.Specification.Transaction.html#4500" class="Record">Tx</a> <a id="2777" class="Symbol">→</a> <a id="2779" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="2784" href="Ledger.Conway.Specification.Properties.html#2748" class="Function">validTxIn₁</a> <a id="2795" href="Ledger.Conway.Specification.Properties.html#2795" class="Bound">s</a> <a id="2797" href="Ledger.Conway.Specification.Properties.html#2797" class="Bound">tx</a> <a id="2800" class="Symbol">=</a> <a id="2802" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="2805" href="Ledger.Conway.Specification.Properties.html#2805" class="Bound">b</a> <a id="2807" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="2809" href="Ledger.Conway.Specification.Properties.html#2797" class="Bound">tx</a> <a id="2812" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="2814" href="Ledger.Conway.Specification.Properties.html#2805" class="Bound">b</a> <a id="2816" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2818" href="Ledger.Conway.Specification.Properties.html#1558" class="Function">validBlockIn</a> <a id="2831" href="Ledger.Conway.Specification.Properties.html#2795" class="Bound">s</a> <a id="2833" href="Ledger.Conway.Specification.Properties.html#2805" class="Bound">b</a>

<a id="2836" class="Keyword">module</a> <a id="2843" href="Ledger.Conway.Specification.Properties.html#2843" class="Module">_</a> <a id="2845" class="Symbol">(</a><a id="2846" href="Ledger.Conway.Specification.Properties.html#2846" class="Bound">s</a> <a id="2848" class="Symbol">:</a> <a id="2850" href="Ledger.Conway.Specification.Chain.html#788" class="Record">ChainState</a><a id="2860" class="Symbol">)</a> <a id="2862" class="Symbol">(</a><a id="2863" href="Ledger.Conway.Specification.Properties.html#2863" class="Bound">slot</a> <a id="2868" class="Symbol">:</a> <a id="2870" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a><a id="2874" class="Symbol">)</a> <a id="2876" class="Keyword">where</a>

  <a id="2885" class="Keyword">open</a> <a id="2890" href="Ledger.Conway.Specification.Chain.html#788" class="Module">ChainState</a> <a id="2901" href="Ledger.Conway.Specification.Properties.html#2846" class="Bound">s</a><a id="2902" class="Symbol">;</a> <a id="2904" class="Keyword">open</a> <a id="2909" href="Ledger.Conway.Specification.Epoch.html#2618" class="Module">NewEpochState</a> <a id="2923" href="Ledger.Conway.Specification.Chain.html#824" class="Function">newEpochState</a>
  <a id="2939" class="Keyword">open</a> <a id="2944" href="Ledger.Conway.Specification.Epoch.html#1604" class="Module">EpochState</a> <a id="2955" href="Ledger.Conway.Specification.Epoch.html#2681" class="Function">epochState</a><a id="2965" class="Symbol">;</a> <a id="2967" class="Keyword">open</a> <a id="2972" href="Ledger.Conway.Specification.Enact.html#444" class="Module">EnactState</a> <a id="2983" href="Ledger.Conway.Specification.Epoch.html#1745" class="Function">es</a>

  <a id="2989" class="Keyword">private</a>
    <a id="3001" href="Ledger.Conway.Specification.Properties.html#3001" class="Function">ledgerEnv</a> <a id="3011" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Properties.html#2863}{\htmlId{3015}{\htmlClass{Bound}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Enact.html#549}{\htmlId{3022}{\htmlClass{Function}{\text{constitution}}}}\, \,\htmlId{3035}{\htmlClass{Symbol}{\text{.}}}\,\,\href{Data.Product.Base.html#636}{\htmlId{3036}{\htmlClass{Field}{\text{proj₁}}}}\, \,\htmlId{3042}{\htmlClass{Symbol}{\text{.}}}\,\,\href{Data.Product.Base.html#650}{\htmlId{3043}{\htmlClass{Field}{\text{proj₂}}}}\, \\ \,\href{Ledger.Conway.Specification.Enact.html#654}{\htmlId{3051}{\htmlClass{Function}{\text{pparams}}}}\, \,\htmlId{3059}{\htmlClass{Symbol}{\text{.}}}\,\,\href{Data.Product.Base.html#636}{\htmlId{3060}{\htmlClass{Field}{\text{proj₁}}}}\, \\ \,\href{Ledger.Conway.Specification.Epoch.html#1745}{\htmlId{3068}{\htmlClass{Function}{\text{es}}}}\, \\ \,\href{Ledger.Conway.Specification.PParams.html#775}{\htmlId{3073}{\htmlClass{Field}{\text{Acnt.treasury}}}}\, \,\href{Ledger.Conway.Specification.Epoch.html#1672}{\htmlId{3087}{\htmlClass{Function}{\text{acnt}}}}\, \end{pmatrix}$</a>

  <a id="3097" href="Ledger.Conway.Specification.Properties.html#3097" class="Function">validTxIn₂</a> <a id="3108" class="Symbol">:</a> <a id="3110" href="Ledger.Conway.Specification.Transaction.html#4500" class="Record">Tx</a> <a id="3113" class="Symbol">→</a> <a id="3115" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3122" href="Ledger.Conway.Specification.Properties.html#3097" class="Function">validTxIn₂</a> <a id="3133" href="Ledger.Conway.Specification.Properties.html#3133" class="Bound">tx</a> <a id="3136" class="Symbol">=</a> <a id="3138" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="3141" href="Ledger.Conway.Specification.Properties.html#3141" class="Bound">ls&#39;</a> <a id="3145" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="3147" href="Ledger.Conway.Specification.Properties.html#3001" class="Function">ledgerEnv</a> <a id="3157" href="Ledger.Conway.Specification.Ledger.html#2749" class="Datatype Operator">⊢</a> <a id="3159" href="Ledger.Conway.Specification.Epoch.html#1721" class="Function">ls</a> <a id="3162" href="Ledger.Conway.Specification.Ledger.html#2749" class="Datatype Operator">⇀⦇</a> <a id="3165" href="Ledger.Conway.Specification.Properties.html#3133" class="Bound">tx</a> <a id="3168" href="Ledger.Conway.Specification.Ledger.html#2749" class="Datatype Operator">,LEDGER⦈</a> <a id="3177" href="Ledger.Conway.Specification.Properties.html#3141" class="Bound">ls&#39;</a>

<a id="validTx₁"></a><a id="3182" href="Ledger.Conway.Specification.Properties.html#3182" class="Function">validTx₁</a> <a id="3191" class="Symbol">:</a> <a id="3193" href="Ledger.Conway.Specification.Transaction.html#4500" class="Record">Tx</a> <a id="3196" class="Symbol">→</a> <a id="3198" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="3203" href="Ledger.Conway.Specification.Properties.html#3182" class="Function">validTx₁</a> <a id="3212" href="Ledger.Conway.Specification.Properties.html#3212" class="Bound">tx</a> <a id="3215" class="Symbol">=</a> <a id="3217" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="3220" href="Ledger.Conway.Specification.Properties.html#3220" class="Bound">s</a> <a id="3222" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="3224" href="Ledger.Conway.Specification.Properties.html#2748" class="Function">validTxIn₁</a> <a id="3235" href="Ledger.Conway.Specification.Properties.html#3220" class="Bound">s</a> <a id="3237" href="Ledger.Conway.Specification.Properties.html#3212" class="Bound">tx</a>


</pre></body></html>