<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Types.Numeric.UnitInterval</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Comment">-- Rational number in the unit interval.</a>
<a id="66" class="Keyword">module</a> <a id="73" href="Ledger.Types.Numeric.UnitInterval.html" class="Module">Ledger.Types.Numeric.UnitInterval</a> <a id="107" class="Keyword">where</a>

<a id="114" class="Keyword">open</a> <a id="119" class="Keyword">import</a> <a id="126" href="Prelude.html" class="Module">Prelude</a>
  <a id="136" class="Keyword">hiding</a> <a id="143" class="Symbol">(</a><a id="144" href="Data.Sum.Base.html#811" class="Function Operator">[_,_]</a><a id="149" class="Symbol">;</a> <a id="151" href="Data.List.Base.html#5205" class="Function Operator">[_]</a><a id="154" class="Symbol">;</a> <a id="156" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="159" class="Symbol">)</a>

<a id="162" class="Keyword">open</a> <a id="167" class="Keyword">import</a> <a id="174" href="Agda.Builtin.FromNat.html" class="Module">Agda.Builtin.FromNat</a>
<a id="195" class="Keyword">open</a> <a id="200" class="Keyword">import</a> <a id="207" href="Class.DecEq.Instances.Extra.html" class="Module">Class.DecEq.Instances.Extra</a> <a id="235" class="Keyword">using</a> <a id="241" class="Symbol">(</a><a id="242" href="Class.DecEq.Instances.Extra.html#485" class="Function">DecEq-Refinement</a><a id="258" class="Symbol">)</a>
<a id="260" class="Keyword">open</a> <a id="265" class="Keyword">import</a> <a id="272" href="Class.Show.html" class="Module">Class.Show</a> <a id="283" class="Keyword">using</a> <a id="289" class="Symbol">(</a><a id="290" href="Class.Show.Core.html#116" class="Record">Show</a><a id="294" class="Symbol">;</a> <a id="296" href="Class.Show.Core.html#178" class="Field">show</a><a id="300" class="Symbol">)</a>
<a id="302" class="Keyword">open</a> <a id="307" class="Keyword">import</a> <a id="314" href="Data.Irrelevant.html" class="Module">Data.Irrelevant</a> <a id="330" class="Keyword">using</a> <a id="336" class="Symbol">(</a><a id="337" href="Data.Irrelevant.html#776" class="InductiveConstructor Operator">[_]</a><a id="340" class="Symbol">)</a>
<a id="342" class="Keyword">import</a> <a id="349" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="363" class="Symbol">as</a> <a id="366" class="Module">ℚ</a>
<a id="368" class="Keyword">open</a> <a id="373" class="Keyword">import</a> <a id="380" href="Data.Rational.Properties.html" class="Module">Data.Rational.Properties</a>
<a id="405" class="Keyword">import</a> <a id="412" href="Data.Rational.Show.html" class="Module">Data.Rational.Show</a> <a id="431" class="Symbol">as</a> <a id="434" class="Module">ℚshow</a>
<a id="440" class="Keyword">open</a> <a id="445" class="Keyword">import</a> <a id="452" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="466" class="Keyword">using</a> <a id="472" class="Symbol">(</a><a id="473" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="474" class="Symbol">;</a> <a id="476" href="Data.Rational.Base.html#2465" class="Datatype Operator">_≤_</a><a id="479" class="Symbol">;</a> <a id="481" href="Data.Rational.Properties.html#19360" class="Function Operator">_≤?_</a><a id="485" class="Symbol">;</a> <a id="487" href="Data.Rational.Base.html#6315" class="Function Operator">_*_</a><a id="490" class="Symbol">)</a>
<a id="492" class="Keyword">open</a> <a id="497" class="Keyword">import</a> <a id="504" href="Data.Refinement.html" class="Module">Data.Refinement</a> <a id="520" class="Keyword">using</a> <a id="526" class="Symbol">(</a><a id="527" href="Data.Refinement.html#947" class="Function">Refinement-syntax</a><a id="544" class="Symbol">;</a> <a id="546" href="Data.Refinement.html#653" class="Field">value</a><a id="551" class="Symbol">;</a> <a id="553" href="Data.Refinement.html#641" class="InductiveConstructor Operator">_,_</a><a id="556" class="Symbol">)</a>

<a id="559" class="Keyword">open</a> <a id="564" class="Keyword">import</a> <a id="571" href="Tactic.EquationalReasoning.html" class="Module">Tactic.EquationalReasoning</a> <a id="598" class="Keyword">using</a> <a id="604" class="Symbol">(</a><a id="605" class="Keyword">module</a> <a id="612" href="Tactic.EquationalReasoning.html#417" class="Module">≡-Reasoning</a><a id="623" class="Symbol">)</a>
<a id="625" class="Keyword">open</a> <a id="630" href="Data.Rational.Properties.html#26177" class="Module">≤-Reasoning</a>

<a id="643" class="Comment">-- inUnitInterval predicate</a>
<a id="inUnitInterval"></a><a id="671" href="Ledger.Types.Numeric.UnitInterval.html#671" class="Function">inUnitInterval</a> <a id="686" class="Symbol">:</a> <a id="688" class="Symbol">(</a><a id="689" href="Ledger.Types.Numeric.UnitInterval.html#689" class="Bound">x</a> <a id="691" class="Symbol">:</a> <a id="693" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="694" class="Symbol">)</a> <a id="696" class="Symbol">→</a> <a id="698" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="703" href="Ledger.Types.Numeric.UnitInterval.html#671" class="Function">inUnitInterval</a> <a id="718" href="Ledger.Types.Numeric.UnitInterval.html#718" class="Bound">x</a> <a id="720" class="Symbol">=</a> <a id="722" class="Symbol">(</a><a id="723" class="Number">0</a> <a id="725" href="Data.Rational.Base.html#2465" class="Datatype Operator">≤</a> <a id="727" href="Ledger.Types.Numeric.UnitInterval.html#718" class="Bound">x</a><a id="728" class="Symbol">)</a> <a id="730" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="732" class="Symbol">(</a><a id="733" href="Ledger.Types.Numeric.UnitInterval.html#718" class="Bound">x</a> <a id="735" href="Data.Rational.Base.html#2465" class="Datatype Operator">≤</a> <a id="737" class="Number">1</a><a id="738" class="Symbol">)</a>

<a id="741" class="Comment">-- Decide whether a rational number is in the unit interval.</a>
<a id="isInUnitInterval"></a><a id="802" href="Ledger.Types.Numeric.UnitInterval.html#802" class="Function">isInUnitInterval</a> <a id="819" class="Symbol">:</a> <a id="821" class="Symbol">(</a><a id="822" href="Ledger.Types.Numeric.UnitInterval.html#822" class="Bound">x</a> <a id="824" class="Symbol">:</a> <a id="826" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="827" class="Symbol">)</a> <a id="829" class="Symbol">→</a> <a id="831" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="835" class="Symbol">(</a><a id="836" href="Ledger.Types.Numeric.UnitInterval.html#671" class="Function">inUnitInterval</a> <a id="851" href="Ledger.Types.Numeric.UnitInterval.html#822" class="Bound">x</a><a id="852" class="Symbol">)</a>
<a id="854" href="Ledger.Types.Numeric.UnitInterval.html#802" class="Function">isInUnitInterval</a> <a id="871" href="Ledger.Types.Numeric.UnitInterval.html#871" class="Bound">x</a> <a id="873" class="Symbol">=</a> <a id="875" class="Symbol">(</a><a id="876" class="Number">0</a> <a id="878" href="Data.Rational.Properties.html#19360" class="Function Operator">≤?</a> <a id="881" href="Ledger.Types.Numeric.UnitInterval.html#871" class="Bound">x</a><a id="882" class="Symbol">)</a> <a id="884" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="890" class="Symbol">(</a><a id="891" href="Ledger.Types.Numeric.UnitInterval.html#871" class="Bound">x</a> <a id="893" href="Data.Rational.Properties.html#19360" class="Function Operator">≤?</a> <a id="896" class="Number">1</a><a id="897" class="Symbol">)</a>

<a id="900" class="Comment">-- Multiplying with a number from the unit interval only decreases.</a>
<a id="inUnitInterval-*-≤y"></a><a id="968" href="Ledger.Types.Numeric.UnitInterval.html#968" class="Function">inUnitInterval-*-≤y</a> <a id="988" class="Symbol">:</a> <a id="990" class="Symbol">∀</a> <a id="992" class="Symbol">(</a><a id="993" href="Ledger.Types.Numeric.UnitInterval.html#993" class="Bound">x</a> <a id="995" href="Ledger.Types.Numeric.UnitInterval.html#995" class="Bound">y</a> <a id="997" class="Symbol">:</a> <a id="999" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="1000" class="Symbol">)</a> <a id="1002" class="Symbol">→</a> <a id="1004" href="Ledger.Types.Numeric.UnitInterval.html#671" class="Function">inUnitInterval</a> <a id="1019" href="Ledger.Types.Numeric.UnitInterval.html#993" class="Bound">x</a> <a id="1021" class="Symbol">→</a> <a id="1023" class="Number">0</a> <a id="1025" href="Data.Rational.Base.html#2465" class="Datatype Operator">≤</a> <a id="1027" href="Ledger.Types.Numeric.UnitInterval.html#995" class="Bound">y</a> <a id="1029" class="Symbol">→</a> <a id="1031" href="Ledger.Types.Numeric.UnitInterval.html#993" class="Bound">x</a> <a id="1033" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="1035" href="Ledger.Types.Numeric.UnitInterval.html#995" class="Bound">y</a> <a id="1037" href="Data.Rational.Base.html#2465" class="Datatype Operator">≤</a> <a id="1039" href="Ledger.Types.Numeric.UnitInterval.html#995" class="Bound">y</a>
<a id="1041" href="Ledger.Types.Numeric.UnitInterval.html#968" class="Function">inUnitInterval-*-≤y</a> <a id="1061" href="Ledger.Types.Numeric.UnitInterval.html#1061" class="Bound">x</a> <a id="1063" href="Ledger.Types.Numeric.UnitInterval.html#1063" class="Bound">y</a> <a id="1065" class="Symbol">(</a><a id="1066" href="Ledger.Types.Numeric.UnitInterval.html#1066" class="Bound">0≤x</a> <a id="1070" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1072" href="Ledger.Types.Numeric.UnitInterval.html#1072" class="Bound">x≤1</a><a id="1075" class="Symbol">)</a> <a id="1077" href="Ledger.Types.Numeric.UnitInterval.html#1077" class="Bound">0≤y</a> <a id="1081" class="Symbol">=</a>
  <a id="1085" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="1095" href="Ledger.Types.Numeric.UnitInterval.html#1061" class="Bound">x</a> <a id="1097" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="1099" href="Ledger.Types.Numeric.UnitInterval.html#1063" class="Bound">y</a>  <a id="1102" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="1105" href="Data.Rational.Properties.html#46399" class="Function">*-monoʳ-≤-nonNeg</a> <a id="1122" href="Ledger.Types.Numeric.UnitInterval.html#1063" class="Bound">y</a> <a id="1124" class="Symbol">⦃</a> <a id="1126" href="Data.Rational.Base.html#5785" class="Function">ℚ.nonNegative</a> <a id="1140" href="Ledger.Types.Numeric.UnitInterval.html#1077" class="Bound">0≤y</a> <a id="1144" class="Symbol">⦄</a> <a id="1146" href="Ledger.Types.Numeric.UnitInterval.html#1072" class="Bound">x≤1</a> <a id="1150" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="1156" class="Number">1</a> <a id="1158" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="1160" href="Ledger.Types.Numeric.UnitInterval.html#1063" class="Bound">y</a>  <a id="1163" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="1166" href="Data.Rational.Properties.html#41264" class="Function">*-identityˡ</a> <a id="1178" class="Symbol">_</a> <a id="1180" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="1186" href="Ledger.Types.Numeric.UnitInterval.html#1063" class="Bound">y</a>      <a id="1193" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="1196" class="Comment">-- Left multiplication by unit interval element preserves non-negativity.</a>
<a id="inUnitInterval-*-0≤"></a><a id="1270" href="Ledger.Types.Numeric.UnitInterval.html#1270" class="Function">inUnitInterval-*-0≤</a> <a id="1290" class="Symbol">:</a> <a id="1292" class="Symbol">∀</a> <a id="1294" class="Symbol">(</a><a id="1295" href="Ledger.Types.Numeric.UnitInterval.html#1295" class="Bound">x</a> <a id="1297" href="Ledger.Types.Numeric.UnitInterval.html#1297" class="Bound">y</a> <a id="1299" class="Symbol">:</a> <a id="1301" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="1302" class="Symbol">)</a> <a id="1304" class="Symbol">→</a> <a id="1306" href="Ledger.Types.Numeric.UnitInterval.html#671" class="Function">inUnitInterval</a> <a id="1321" href="Ledger.Types.Numeric.UnitInterval.html#1295" class="Bound">x</a> <a id="1323" class="Symbol">→</a> <a id="1325" class="Number">0</a> <a id="1327" href="Data.Rational.Base.html#2465" class="Datatype Operator">≤</a> <a id="1329" href="Ledger.Types.Numeric.UnitInterval.html#1297" class="Bound">y</a> <a id="1331" class="Symbol">→</a> <a id="1333" class="Number">0</a> <a id="1335" href="Data.Rational.Base.html#2465" class="Datatype Operator">≤</a> <a id="1337" href="Ledger.Types.Numeric.UnitInterval.html#1295" class="Bound">x</a> <a id="1339" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="1341" href="Ledger.Types.Numeric.UnitInterval.html#1297" class="Bound">y</a>
<a id="1343" href="Ledger.Types.Numeric.UnitInterval.html#1270" class="Function">inUnitInterval-*-0≤</a> <a id="1363" href="Ledger.Types.Numeric.UnitInterval.html#1363" class="Bound">x</a> <a id="1365" href="Ledger.Types.Numeric.UnitInterval.html#1365" class="Bound">y</a> <a id="1367" class="Symbol">(</a><a id="1368" href="Ledger.Types.Numeric.UnitInterval.html#1368" class="Bound">0≤x</a> <a id="1372" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1374" href="Ledger.Types.Numeric.UnitInterval.html#1374" class="Bound">x≤1</a><a id="1377" class="Symbol">)</a> <a id="1379" href="Ledger.Types.Numeric.UnitInterval.html#1379" class="Bound">0≤y</a> <a id="1383" class="Symbol">=</a>
  <a id="1387" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="1397" class="Number">0</a>      <a id="1404" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="1407" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="1411" class="Symbol">(</a><a id="1412" href="Data.Rational.Properties.html#41645" class="Function">*-zeroʳ</a> <a id="1420" href="Ledger.Types.Numeric.UnitInterval.html#1363" class="Bound">x</a><a id="1421" class="Symbol">)</a> <a id="1423" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="1429" href="Ledger.Types.Numeric.UnitInterval.html#1363" class="Bound">x</a> <a id="1431" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="1433" class="Number">0</a>  <a id="1436" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="1439" href="Data.Rational.Properties.html#46744" class="Function">*-monoˡ-≤-nonNeg</a> <a id="1456" href="Ledger.Types.Numeric.UnitInterval.html#1363" class="Bound">x</a> <a id="1458" class="Symbol">⦃</a> <a id="1460" href="Data.Rational.Base.html#5785" class="Function">ℚ.nonNegative</a> <a id="1474" href="Ledger.Types.Numeric.UnitInterval.html#1368" class="Bound">0≤x</a> <a id="1478" class="Symbol">⦄</a> <a id="1480" href="Ledger.Types.Numeric.UnitInterval.html#1379" class="Bound">0≤y</a> <a id="1484" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="1490" href="Ledger.Types.Numeric.UnitInterval.html#1363" class="Bound">x</a> <a id="1492" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="1494" href="Ledger.Types.Numeric.UnitInterval.html#1365" class="Bound">y</a>  <a id="1497" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="1500" class="Comment">-- Left multiplication by unit interval element preserves being upper boundeded by 1.</a>
<a id="inUnitInterval-*-≤1"></a><a id="1586" href="Ledger.Types.Numeric.UnitInterval.html#1586" class="Function">inUnitInterval-*-≤1</a> <a id="1606" class="Symbol">:</a> <a id="1608" class="Symbol">∀</a> <a id="1610" class="Symbol">(</a><a id="1611" href="Ledger.Types.Numeric.UnitInterval.html#1611" class="Bound">x</a> <a id="1613" href="Ledger.Types.Numeric.UnitInterval.html#1613" class="Bound">y</a> <a id="1615" class="Symbol">:</a> <a id="1617" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="1618" class="Symbol">)</a> <a id="1620" class="Symbol">→</a> <a id="1622" href="Ledger.Types.Numeric.UnitInterval.html#671" class="Function">inUnitInterval</a> <a id="1637" href="Ledger.Types.Numeric.UnitInterval.html#1611" class="Bound">x</a> <a id="1639" class="Symbol">→</a> <a id="1641" href="Ledger.Types.Numeric.UnitInterval.html#1613" class="Bound">y</a> <a id="1643" href="Data.Rational.Base.html#2465" class="Datatype Operator">≤</a> <a id="1645" class="Number">1</a> <a id="1647" class="Symbol">→</a> <a id="1649" href="Ledger.Types.Numeric.UnitInterval.html#1611" class="Bound">x</a> <a id="1651" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="1653" href="Ledger.Types.Numeric.UnitInterval.html#1613" class="Bound">y</a> <a id="1655" href="Data.Rational.Base.html#2465" class="Datatype Operator">≤</a> <a id="1657" class="Number">1</a>
<a id="1659" href="Ledger.Types.Numeric.UnitInterval.html#1586" class="Function">inUnitInterval-*-≤1</a> <a id="1679" href="Ledger.Types.Numeric.UnitInterval.html#1679" class="Bound">x</a> <a id="1681" href="Ledger.Types.Numeric.UnitInterval.html#1681" class="Bound">y</a> <a id="1683" class="Symbol">(</a><a id="1684" href="Ledger.Types.Numeric.UnitInterval.html#1684" class="Bound">0≤x</a> <a id="1688" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1690" href="Ledger.Types.Numeric.UnitInterval.html#1690" class="Bound">x≤1</a><a id="1693" class="Symbol">)</a> <a id="1695" href="Ledger.Types.Numeric.UnitInterval.html#1695" class="Bound">y≤1</a> <a id="1699" class="Symbol">=</a>
  <a id="1703" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="1713" href="Ledger.Types.Numeric.UnitInterval.html#1679" class="Bound">x</a> <a id="1715" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="1717" href="Ledger.Types.Numeric.UnitInterval.html#1681" class="Bound">y</a>  <a id="1720" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="1723" href="Data.Rational.Properties.html#46744" class="Function">*-monoˡ-≤-nonNeg</a> <a id="1740" href="Ledger.Types.Numeric.UnitInterval.html#1679" class="Bound">x</a> <a id="1742" class="Symbol">⦃</a> <a id="1744" href="Data.Rational.Base.html#5785" class="Function">ℚ.nonNegative</a> <a id="1758" href="Ledger.Types.Numeric.UnitInterval.html#1684" class="Bound">0≤x</a> <a id="1762" class="Symbol">⦄</a> <a id="1764" href="Ledger.Types.Numeric.UnitInterval.html#1695" class="Bound">y≤1</a> <a id="1768" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="1774" href="Ledger.Types.Numeric.UnitInterval.html#1679" class="Bound">x</a> <a id="1776" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="1778" class="Number">1</a>  <a id="1781" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="1784" href="Data.Rational.Properties.html#41370" class="Function">*-identityʳ</a> <a id="1796" class="Symbol">_</a> <a id="1798" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="1804" href="Ledger.Types.Numeric.UnitInterval.html#1679" class="Bound">x</a>      <a id="1811" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="1814" href="Ledger.Types.Numeric.UnitInterval.html#1690" class="Bound">x≤1</a> <a id="1818" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="1824" class="Number">1</a>      <a id="1831" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="1834" class="Comment">-- The product of two numbers from the unit interval is also in the unit interval.</a>
<a id="inUnitInterval-*"></a><a id="1917" href="Ledger.Types.Numeric.UnitInterval.html#1917" class="Function">inUnitInterval-*</a> <a id="1934" class="Symbol">:</a> <a id="1936" class="Symbol">∀</a> <a id="1938" class="Symbol">(</a><a id="1939" href="Ledger.Types.Numeric.UnitInterval.html#1939" class="Bound">x</a> <a id="1941" href="Ledger.Types.Numeric.UnitInterval.html#1941" class="Bound">y</a> <a id="1943" class="Symbol">:</a> <a id="1945" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="1946" class="Symbol">)</a>
  <a id="1950" class="Symbol">→</a> <a id="1952" href="Ledger.Types.Numeric.UnitInterval.html#671" class="Function">inUnitInterval</a> <a id="1967" href="Ledger.Types.Numeric.UnitInterval.html#1939" class="Bound">x</a> <a id="1969" class="Symbol">→</a> <a id="1971" href="Ledger.Types.Numeric.UnitInterval.html#671" class="Function">inUnitInterval</a> <a id="1986" href="Ledger.Types.Numeric.UnitInterval.html#1941" class="Bound">y</a> <a id="1988" class="Symbol">→</a> <a id="1990" href="Ledger.Types.Numeric.UnitInterval.html#671" class="Function">inUnitInterval</a> <a id="2005" class="Symbol">(</a><a id="2006" href="Ledger.Types.Numeric.UnitInterval.html#1939" class="Bound">x</a> <a id="2008" href="Data.Rational.Base.html#6315" class="Function Operator">*</a> <a id="2010" href="Ledger.Types.Numeric.UnitInterval.html#1941" class="Bound">y</a><a id="2011" class="Symbol">)</a>
<a id="2013" href="Ledger.Types.Numeric.UnitInterval.html#1917" class="Function">inUnitInterval-*</a> <a id="2030" href="Ledger.Types.Numeric.UnitInterval.html#2030" class="Bound">x</a> <a id="2032" href="Ledger.Types.Numeric.UnitInterval.html#2032" class="Bound">y</a> <a id="2034" href="Ledger.Types.Numeric.UnitInterval.html#2034" class="Bound">ux</a> <a id="2037" class="Symbol">(</a><a id="2038" href="Ledger.Types.Numeric.UnitInterval.html#2038" class="Bound">0≤y</a> <a id="2042" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2044" href="Ledger.Types.Numeric.UnitInterval.html#2044" class="Bound">y≤1</a><a id="2047" class="Symbol">)</a> <a id="2049" class="Symbol">=</a>
  <a id="2053" href="Ledger.Types.Numeric.UnitInterval.html#1270" class="Function">inUnitInterval-*-0≤</a> <a id="2073" href="Ledger.Types.Numeric.UnitInterval.html#2030" class="Bound">x</a> <a id="2075" href="Ledger.Types.Numeric.UnitInterval.html#2032" class="Bound">y</a> <a id="2077" href="Ledger.Types.Numeric.UnitInterval.html#2034" class="Bound">ux</a> <a id="2080" href="Ledger.Types.Numeric.UnitInterval.html#2038" class="Bound">0≤y</a>
  <a id="2086" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2088" href="Ledger.Types.Numeric.UnitInterval.html#1586" class="Function">inUnitInterval-*-≤1</a> <a id="2108" href="Ledger.Types.Numeric.UnitInterval.html#2030" class="Bound">x</a> <a id="2110" href="Ledger.Types.Numeric.UnitInterval.html#2032" class="Bound">y</a> <a id="2112" href="Ledger.Types.Numeric.UnitInterval.html#2034" class="Bound">ux</a> <a id="2115" href="Ledger.Types.Numeric.UnitInterval.html#2044" class="Bound">y≤1</a>

<a id="2120" class="Comment">-- UnitInterval: rational number in the unit interval [0, 1].</a>
<a id="UnitInterval"></a><a id="2182" href="Ledger.Types.Numeric.UnitInterval.html#2182" class="Function">UnitInterval</a> <a id="2195" class="Symbol">:</a> <a id="2197" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="2202" href="Ledger.Types.Numeric.UnitInterval.html#2182" class="Function">UnitInterval</a> <a id="2215" class="Symbol">=</a> <a id="2217" href="Data.Refinement.html#947" class="Function">[</a> <a id="2219" href="Ledger.Types.Numeric.UnitInterval.html#2219" class="Bound">x</a> <a id="2221" href="Data.Refinement.html#947" class="Function">∈</a> <a id="2223" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="2225" href="Data.Refinement.html#947" class="Function">∣</a> <a id="2227" href="Ledger.Types.Numeric.UnitInterval.html#671" class="Function">inUnitInterval</a> <a id="2242" href="Ledger.Types.Numeric.UnitInterval.html#2219" class="Bound">x</a> <a id="2244" href="Data.Refinement.html#947" class="Function">]</a>

<a id="2247" class="Keyword">instance</a>
  <a id="DecEq-UnitInterval"></a><a id="2258" href="Ledger.Types.Numeric.UnitInterval.html#2258" class="Function">DecEq-UnitInterval</a> <a id="2277" class="Symbol">:</a> <a id="2279" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="2285" href="Ledger.Types.Numeric.UnitInterval.html#2182" class="Function">UnitInterval</a>
  <a id="2300" href="Ledger.Types.Numeric.UnitInterval.html#2258" class="Function">DecEq-UnitInterval</a> <a id="2319" class="Symbol">=</a> <a id="2321" href="Class.DecEq.Instances.Extra.html#485" class="Function">DecEq-Refinement</a> <a id="2338" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="2340" href="Ledger.Types.Numeric.UnitInterval.html#671" class="Function">inUnitInterval</a>

  <a id="Show-UnitInterval"></a><a id="2358" href="Ledger.Types.Numeric.UnitInterval.html#2358" class="Function">Show-UnitInterval</a> <a id="2376" class="Symbol">:</a> <a id="2378" href="Class.Show.Core.html#116" class="Record">Show</a> <a id="2383" href="Ledger.Types.Numeric.UnitInterval.html#2182" class="Function">UnitInterval</a>
  <a id="2398" href="Ledger.Types.Numeric.UnitInterval.html#2358" class="Function">Show-UnitInterval</a> <a id="2416" class="Symbol">.</a><a id="2417" href="Class.Show.Core.html#178" class="Field">show</a> <a id="2422" class="Symbol">=</a> <a id="2424" href="Data.Rational.Show.html#398" class="Function">ℚshow.show</a> <a id="2435" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2437" href="Data.Refinement.html#653" class="Field">value</a>

<a id="2444" class="Comment">-- In the cardano-ledger codebase:</a>
<a id="2479" class="Comment">--  unboundRational</a>
<a id="fromUnitInterval"></a><a id="2499" href="Ledger.Types.Numeric.UnitInterval.html#2499" class="Function">fromUnitInterval</a> <a id="2516" class="Symbol">:</a> <a id="2518" href="Ledger.Types.Numeric.UnitInterval.html#2182" class="Function">UnitInterval</a> <a id="2531" class="Symbol">→</a> <a id="2533" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="2535" href="Ledger.Types.Numeric.UnitInterval.html#2499" class="Function">fromUnitInterval</a> <a id="2552" class="Symbol">=</a> <a id="2554" href="Data.Refinement.html#653" class="Field">value</a>

<a id="2561" class="Comment">-- In the cardano-ledger codebase:</a>
<a id="2596" class="Comment">--  unboundRational</a>
<a id="toUnitInterval"></a><a id="2616" href="Ledger.Types.Numeric.UnitInterval.html#2616" class="Function">toUnitInterval</a> <a id="2631" class="Symbol">:</a> <a id="2633" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="2635" class="Symbol">→</a> <a id="2637" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2643" href="Ledger.Types.Numeric.UnitInterval.html#2182" class="Function">UnitInterval</a>
<a id="2656" href="Ledger.Types.Numeric.UnitInterval.html#2616" class="Function">toUnitInterval</a> <a id="2671" href="Ledger.Types.Numeric.UnitInterval.html#2671" class="Bound">x</a> <a id="2673" class="Keyword">with</a> <a id="2678" href="Ledger.Types.Numeric.UnitInterval.html#802" class="Function">isInUnitInterval</a> <a id="2695" href="Ledger.Types.Numeric.UnitInterval.html#2671" class="Bound">x</a>
<a id="2697" class="Symbol">...</a> <a id="2701" class="Symbol">|</a> <a id="2703" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2706" href="Ledger.Types.Numeric.UnitInterval.html#2706" class="Bound">¬p</a> <a id="2709" class="Symbol">=</a> <a id="2711" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="2719" class="Symbol">...</a> <a id="2723" class="Symbol">|</a> <a id="2725" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2729" href="Ledger.Types.Numeric.UnitInterval.html#2729" class="Bound">p</a> <a id="2731" class="Symbol">=</a> <a id="2733" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2738" class="Symbol">(</a><a id="2739" class="Bound">x</a> <a id="2741" href="Data.Refinement.html#641" class="InductiveConstructor Operator">,</a> <a id="2743" href="Data.Irrelevant.html#776" class="InductiveConstructor Operator">[</a> <a id="2745" href="Ledger.Types.Numeric.UnitInterval.html#2729" class="Bound">p</a> <a id="2747" href="Data.Irrelevant.html#776" class="InductiveConstructor Operator">]</a><a id="2748" class="Symbol">)</a>

<a id="2751" class="Comment">-- Helper function to make an element of the Refinement type</a>
<a id="2812" class="Comment">-- while having the Adga compiler compute the evidence from Dec.</a>
<a id="2877" class="Comment">-- Usage example:  mkUnitInterval (+ 2 / 10) refl</a>
<a id="mkUnitInterval"></a><a id="2927" href="Ledger.Types.Numeric.UnitInterval.html#2927" class="Function">mkUnitInterval</a> <a id="2942" class="Symbol">:</a> <a id="2944" class="Symbol">∀</a> <a id="2946" class="Symbol">(</a><a id="2947" href="Ledger.Types.Numeric.UnitInterval.html#2947" class="Bound">x</a> <a id="2949" class="Symbol">:</a> <a id="2951" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="2952" class="Symbol">)</a> <a id="2954" class="Symbol">→</a> <a id="2956" class="Symbol">{</a><a id="2957" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="2959" class="Symbol">(</a><a id="2960" href="Relation.Nullary.Decidable.Core.html#1927" class="Field">does</a> <a id="2965" class="Symbol">(</a><a id="2966" href="Ledger.Types.Numeric.UnitInterval.html#802" class="Function">isInUnitInterval</a> <a id="2983" href="Ledger.Types.Numeric.UnitInterval.html#2947" class="Bound">x</a><a id="2984" class="Symbol">))}</a> <a id="2988" class="Symbol">→</a> <a id="2990" href="Ledger.Types.Numeric.UnitInterval.html#2182" class="Function">UnitInterval</a>
<a id="3003" href="Ledger.Types.Numeric.UnitInterval.html#2927" class="Function">mkUnitInterval</a> <a id="3018" href="Ledger.Types.Numeric.UnitInterval.html#3018" class="Bound">x</a> <a id="3020" class="Symbol">{</a><a id="3021" href="Ledger.Types.Numeric.UnitInterval.html#3021" class="Bound">evidence</a><a id="3029" class="Symbol">}</a> <a id="3031" class="Keyword">with</a> <a id="3036" href="Ledger.Types.Numeric.UnitInterval.html#802" class="Function">isInUnitInterval</a> <a id="3053" href="Ledger.Types.Numeric.UnitInterval.html#3018" class="Bound">x</a> <a id="3055" class="Keyword">in</a> <a id="3058" class="Argument">eq</a>
<a id="3061" class="Symbol">...</a> <a id="3065" class="Symbol">|</a> <a id="3067" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="3071" class="Symbol">_</a> <a id="3073" class="Keyword">rewrite</a> <a id="3081" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3086" href="Relation.Nullary.Decidable.Core.html#1927" class="Field">does</a> <a id="3091" href="Ledger.Types.Numeric.UnitInterval.html#3058" class="Bound">eq</a> <a id="3094" class="Symbol">=</a> <a id="3096" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="3103" class="Bound">evidence</a>
<a id="3112" class="Symbol">...</a> <a id="3116" class="Symbol">|</a> <a id="3118" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3122" href="Ledger.Types.Numeric.UnitInterval.html#3122" class="Bound">p</a> <a id="3124" class="Symbol">=</a> <a id="3126" class="Bound">x</a> <a id="3128" href="Data.Refinement.html#641" class="InductiveConstructor Operator">,</a> <a id="3130" href="Data.Irrelevant.html#776" class="InductiveConstructor Operator">[</a> <a id="3132" href="Ledger.Types.Numeric.UnitInterval.html#3122" class="Bound">p</a> <a id="3134" href="Data.Irrelevant.html#776" class="InductiveConstructor Operator">]</a>


<a id="3138" class="Comment">-- UnitInterval Properties</a>

<a id="3166" class="Comment">-- to/from is the identity</a>
<a id="prop-toUnitInterval-fromUnitInterval"></a><a id="3193" href="Ledger.Types.Numeric.UnitInterval.html#3193" class="Function">prop-toUnitInterval-fromUnitInterval</a> <a id="3230" class="Symbol">:</a> <a id="3232" class="Symbol">∀</a> <a id="3234" class="Symbol">(</a><a id="3235" href="Ledger.Types.Numeric.UnitInterval.html#3235" class="Bound">x</a> <a id="3237" class="Symbol">:</a> <a id="3239" href="Ledger.Types.Numeric.UnitInterval.html#2182" class="Function">UnitInterval</a><a id="3251" class="Symbol">)</a>
  <a id="3255" class="Symbol">→</a> <a id="3257" href="Ledger.Types.Numeric.UnitInterval.html#2616" class="Function">toUnitInterval</a> <a id="3272" class="Symbol">(</a><a id="3273" href="Ledger.Types.Numeric.UnitInterval.html#2499" class="Function">fromUnitInterval</a> <a id="3290" href="Ledger.Types.Numeric.UnitInterval.html#3235" class="Bound">x</a><a id="3291" class="Symbol">)</a> <a id="3293" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3295" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3300" href="Ledger.Types.Numeric.UnitInterval.html#3235" class="Bound">x</a>

<a id="3303" href="Ledger.Types.Numeric.UnitInterval.html#3193" class="Function">prop-toUnitInterval-fromUnitInterval</a> <a id="3340" class="Symbol">(</a><a id="3341" href="Ledger.Types.Numeric.UnitInterval.html#3341" class="Bound">x</a> <a id="3343" href="Data.Refinement.html#641" class="InductiveConstructor Operator">,</a> <a id="3345" href="Data.Irrelevant.html#776" class="InductiveConstructor Operator">[</a> <a id="3347" href="Ledger.Types.Numeric.UnitInterval.html#3347" class="Bound">p0</a> <a id="3350" href="Data.Irrelevant.html#776" class="InductiveConstructor Operator">]</a><a id="3351" class="Symbol">)</a> <a id="3353" class="Keyword">with</a> <a id="3358" href="Ledger.Types.Numeric.UnitInterval.html#802" class="Function">isInUnitInterval</a> <a id="3375" href="Ledger.Types.Numeric.UnitInterval.html#3341" class="Bound">x</a>
<a id="3377" class="Symbol">...</a> <a id="3381" class="Symbol">|</a> <a id="3383" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3386" href="Ledger.Types.Numeric.UnitInterval.html#3386" class="Bound">¬p</a> <a id="3389" class="Symbol">=</a> <a id="3391" href="Data.Empty.html#1129" class="Function">⊥-elim-irr</a> <a id="3402" class="Symbol">(</a><a id="3403" href="Ledger.Types.Numeric.UnitInterval.html#3386" class="Bound">¬p</a> <a id="3406" class="Bound">p0</a><a id="3408" class="Symbol">)</a>
<a id="3410" class="Symbol">...</a> <a id="3414" class="Symbol">|</a> <a id="3416" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3420" href="Ledger.Types.Numeric.UnitInterval.html#3420" class="Bound">p</a> <a id="3422" class="Symbol">=</a> <a id="3424" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre></body></html>