<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Utxo.Properties</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Algebra.Morphism.html" class="Module">Algebra.Morphism</a>            <a id="66" class="Keyword">using</a> <a id="72" class="Symbol">(</a><a id="73" class="Keyword">module</a> <a id="80" href="Algebra.Morphism.Structures.html#4053" class="Module">MonoidMorphisms</a><a id="95" class="Symbol">;</a> <a id="97" href="Algebra.Morphism.Structures.html#2757" class="Record">IsMagmaHomomorphism</a><a id="116" class="Symbol">)</a>
<a id="118" class="Keyword">import</a> <a id="125" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="134" class="Symbol">as</a> <a id="137" class="Module">ℕ</a>
<a id="139" class="Keyword">open</a> <a id="144" class="Keyword">import</a> <a id="151" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>         <a id="179" class="Keyword">hiding</a> <a id="186" class="Symbol">(</a><a id="187" href="Data.Nat.Properties.html#3874" class="Function Operator">_≟_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Product.html" class="Module">Data.Product</a>                <a id="232" class="Keyword">using</a> <a id="238" class="Symbol">(</a><a id="239" href="Data.Product.Base.html#5054" class="Function">swap</a><a id="243" class="Symbol">)</a>
<a id="245" class="Keyword">open</a> <a id="250" class="Keyword">import</a> <a id="257" href="Data.Sign.html" class="Module">Data.Sign</a>                   <a id="285" class="Keyword">using</a> <a id="291" class="Symbol">(</a><a id="292" href="Data.Sign.Base.html#523" class="Datatype">Sign</a><a id="296" class="Symbol">)</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="323" class="Symbol">as</a> <a id="326" class="Module">ℤ</a>           <a id="338" class="Keyword">using</a> <a id="344" class="Symbol">(</a><a id="345" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="346" class="Symbol">)</a>
<a id="348" class="Keyword">import</a> <a id="355" href="Data.Integer.Properties.html" class="Module">Data.Integer.Properties</a> <a id="379" class="Symbol">as</a> <a id="382" class="Module">ℤ</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Data.String.Base.html" class="Module">Data.String.Base</a>            <a id="424" class="Keyword">renaming</a> <a id="433" class="Symbol">(</a><a id="434" href="Data.String.Base.html#2425" class="Function Operator">_++_</a> <a id="439" class="Symbol">to</a> <a id="442" class="Function Operator">_+ˢ_</a><a id="446" class="Symbol">)</a> <a id="448" class="Keyword">using</a> <a id="454" class="Symbol">()</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Relation.Binary.html" class="Module">Relation.Binary</a>             <a id="497" class="Keyword">using</a> <a id="503" class="Symbol">(</a><a id="504" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a><a id="517" class="Symbol">)</a>

<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a>  <a id="562" class="Keyword">using</a> <a id="568" class="Symbol">(</a><a id="569" href="Data.List.Relation.Unary.All.html#1644" class="Datatype">All</a><a id="572" class="Symbol">)</a>
<a id="574" class="Keyword">open</a> <a id="579" class="Keyword">import</a> <a id="586" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>  <a id="616" class="Keyword">using</a> <a id="622" class="Symbol">(</a><a id="623" href="Data.List.Relation.Unary.Any.html#1148" class="Datatype">Any</a><a id="626" class="Symbol">);</a> <a id="629" class="Keyword">open</a> <a id="634" href="Data.List.Relation.Unary.Any.html#1148" class="Module">Any</a>

<a id="639" class="Keyword">open</a> <a id="644" class="Keyword">import</a> <a id="651" href="Prelude.html" class="Module">Prelude</a><a id="658" class="Symbol">;</a> <a id="660" class="Keyword">open</a> <a id="665" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="678" class="Keyword">open</a> <a id="683" class="Keyword">import</a> <a id="690" href="Tactic.Cong.html" class="Module">Tactic.Cong</a>                 <a id="718" class="Keyword">using</a> <a id="724" class="Symbol">(</a><a id="725" href="Tactic.Cong.html#9441" class="Function">cong!</a><a id="730" class="Symbol">)</a>
<a id="732" class="Keyword">open</a> <a id="737" class="Keyword">import</a> <a id="744" href="Tactic.Defaults.html" class="Module">Tactic.Defaults</a>
<a id="760" class="Keyword">open</a> <a id="765" class="Keyword">import</a> <a id="772" href="Tactic.EquationalReasoning.html" class="Module">Tactic.EquationalReasoning</a>  <a id="800" class="Keyword">using</a> <a id="806" class="Symbol">(</a><a id="807" class="Keyword">module</a> <a id="814" href="Tactic.EquationalReasoning.html#418" class="Module">≡-Reasoning</a><a id="825" class="Symbol">)</a>
<a id="827" class="Keyword">open</a> <a id="832" class="Keyword">import</a> <a id="839" href="stdlib-meta.Tactic.GenError.html" class="Module">stdlib-meta.Tactic.GenError</a>
<a id="867" class="Keyword">open</a> <a id="872" class="Keyword">import</a> <a id="879" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html" class="Module">stdlib-meta.Tactic.MonoidSolver.NonNormalising</a> <a id="926" class="Keyword">using</a> <a id="932" class="Symbol">(</a><a id="933" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html#574" class="Function">solve-macro</a><a id="944" class="Symbol">)</a>

<a id="947" class="Keyword">open</a> <a id="952" class="Keyword">import</a> <a id="959" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="974" class="Keyword">hiding</a> <a id="981" class="Symbol">(</a><a id="982" href="Class.HasOrder.Core.html#995" class="Function">≤-trans</a><a id="989" class="Symbol">;</a> <a id="991" href="Class.HasOrder.Core.html#1894" class="Field">≤-antisym</a><a id="1000" class="Symbol">;</a> <a id="1002" href="Axiom.Set.html#9724" class="Function">All</a><a id="1005" class="Symbol">);</a> <a id="1008" class="Keyword">open</a> <a id="1013" href="abstract-set-theory.FiniteSetTheory.html#1716" class="Module">Properties</a>
<a id="1024" class="Keyword">open</a> <a id="1029" class="Keyword">import</a> <a id="1036" href="Ledger.Conway.Abstract.html" class="Module">Ledger.Conway.Abstract</a>
<a id="1059" class="Keyword">open</a> <a id="1064" class="Keyword">import</a> <a id="1071" href="Ledger.Conway.Transaction.html" class="Module">Ledger.Conway.Transaction</a>
<a id="1097" class="Keyword">open</a> <a id="1102" class="Keyword">import</a> <a id="1109" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>

<a id="1142" class="Keyword">module</a> <a id="1149" href="Ledger.Conway.Utxo.Properties.html" class="Module">Ledger.Conway.Utxo.Properties</a>
  <a id="1181" class="Symbol">(</a><a id="1182" href="Ledger.Conway.Utxo.Properties.html#1182" class="Bound">txs</a> <a id="1186" class="Symbol">:</a> <a id="1188" class="Symbol">_)</a> <a id="1191" class="Symbol">(</a><a id="1192" class="Keyword">open</a> <a id="1197" href="Ledger.Conway.Transaction.html#872" class="Module">TransactionStructure</a> <a id="1218" href="Ledger.Conway.Utxo.Properties.html#1182" class="Bound">txs</a><a id="1221" class="Symbol">)</a>
  <a id="1225" class="Symbol">(</a><a id="1226" href="Ledger.Conway.Utxo.Properties.html#1226" class="Bound">abs</a> <a id="1230" class="Symbol">:</a> <a id="1232" href="Ledger.Conway.Abstract.html#599" class="Record">AbstractFunctions</a> <a id="1250" href="Ledger.Conway.Utxo.Properties.html#1182" class="Bound">txs</a><a id="1253" class="Symbol">)</a> <a id="1255" class="Symbol">(</a><a id="1256" class="Keyword">open</a> <a id="1261" href="Ledger.Conway.Abstract.html#599" class="Module">AbstractFunctions</a> <a id="1279" href="Ledger.Conway.Utxo.Properties.html#1226" class="Bound">abs</a><a id="1282" class="Symbol">)</a>
  <a id="1286" class="Keyword">where</a>

<a id="1293" class="Keyword">open</a> <a id="1298" class="Keyword">import</a> <a id="1305" href="Ledger.Conway.Utxo.html" class="Module">Ledger.Conway.Utxo</a> <a id="1324" href="Ledger.Conway.Utxo.Properties.html#1182" class="Bound">txs</a> <a id="1328" href="Ledger.Conway.Utxo.Properties.html#1226" class="Bound">abs</a>
<a id="1332" class="Keyword">open</a> <a id="1337" class="Keyword">import</a> <a id="1344" href="Ledger.Conway.Script.Validation.html" class="Module">Ledger.Conway.Script.Validation</a> <a id="1376" href="Ledger.Conway.Utxo.Properties.html#1182" class="Bound">txs</a> <a id="1380" href="Ledger.Conway.Utxo.Properties.html#1226" class="Bound">abs</a>
<a id="1384" class="Keyword">open</a> <a id="1389" class="Keyword">import</a> <a id="1396" href="Ledger.Conway.Certs.html" class="Module">Ledger.Conway.Certs</a> <a id="1416" href="Ledger.Conway.Transaction.html#1852" class="Function">govStructure</a>
<a id="1429" class="Keyword">open</a> <a id="1434" class="Keyword">import</a> <a id="1441" href="Algebra.Definitions.RawMagma.html" class="Module">Algebra.Definitions.RawMagma</a> <a id="1470" href="Data.Nat.Base.html#4468" class="Function">+-rawMagma</a> <a id="1481" class="Keyword">using</a> <a id="1487" class="Symbol">()</a> <a id="1490" class="Keyword">renaming</a> <a id="1499" class="Symbol">(</a><a id="1500" href="Algebra.Definitions.RawMagma.html#1419" class="InductiveConstructor Operator">_,_</a> <a id="1504" class="Symbol">to</a> <a id="1507" class="InductiveConstructor Operator">_,≤_</a><a id="1511" class="Symbol">)</a>

<a id="1514" class="Keyword">instance</a>
  <a id="1525" href="Ledger.Conway.Utxo.Properties.html#1525" class="Function">_</a> <a id="1527" class="Symbol">=</a> <a id="1529" href="Ledger.Conway.TokenAlgebra.Base.html#522" class="Field">TokenAlgebra.Value-CommutativeMonoid</a> <a id="1566" href="Ledger.Conway.Transaction.html#1749" class="Field">tokenAlgebra</a>
  <a id="1581" href="Ledger.Conway.Utxo.Properties.html#1581" class="Function">_</a> <a id="1583" class="Symbol">=</a> <a id="1585" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a>
  <a id="1598" href="Ledger.Conway.Utxo.Properties.html#1598" class="Function">_</a> <a id="1600" class="Symbol">=</a> <a id="1602" href="Interface.ComputationalRelation.html#1365" class="Function">Functor-ComputationResult</a>

<a id="1629" class="Keyword">instance</a>
  <a id="Computational-UTXOS"></a><a id="1640" href="Ledger.Conway.Utxo.Properties.html#1640" class="Function">Computational-UTXOS</a> <a id="1660" class="Symbol">:</a> <a id="1662" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="1676" href="Ledger.Conway.Utxo.html#11290" class="Datatype Operator">_⊢_⇀⦇_,UTXOS⦈_</a> <a id="1691" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1700" href="Ledger.Conway.Utxo.Properties.html#1640" class="Function">Computational-UTXOS</a> <a id="1720" class="Symbol">=</a> <a id="1722" class="Keyword">record</a> <a id="1729" class="Symbol">{</a><a id="1730" href="Ledger.Conway.Utxo.Properties.html#1751" class="Module">go</a><a id="1732" class="Symbol">}</a> <a id="1734" class="Keyword">where</a>
    <a id="1744" class="Keyword">module</a> <a id="1751" href="Ledger.Conway.Utxo.Properties.html#1751" class="Module">go</a> <a id="1754" class="Symbol">(</a><a id="1755" href="Ledger.Conway.Utxo.Properties.html#1755" class="Bound">Γ</a> <a id="1757" class="Symbol">:</a> <a id="1759" href="Ledger.Conway.Utxo.html#1038" class="Record">UTxOEnv</a><a id="1766" class="Symbol">)</a> <a id="1768" class="Symbol">(</a><a id="1769" href="Ledger.Conway.Utxo.Properties.html#1769" class="Bound">s</a> <a id="1771" class="Symbol">:</a> <a id="1773" href="Ledger.Conway.Utxo.html#1390" class="Record">UTxOState</a><a id="1782" class="Symbol">)</a> <a id="1784" class="Symbol">(</a><a id="1785" href="Ledger.Conway.Utxo.Properties.html#1785" class="Bound">tx</a> <a id="1788" class="Symbol">:</a> <a id="1790" href="Ledger.Conway.Transaction.html#4227" class="Record">Tx</a><a id="1792" class="Symbol">)</a>
      <a id="1800" class="Symbol">(</a><a id="1801" class="Keyword">let</a> <a id="1805" class="Keyword">open</a> <a id="1810" href="Ledger.Conway.Utxo.html#1390" class="Module">UTxOState</a> <a id="1820" href="Ledger.Conway.Utxo.Properties.html#1769" class="Bound">s</a><a id="1821" class="Symbol">)</a>
      <a id="1829" class="Symbol">(</a><a id="1830" class="Keyword">let</a> <a id="1834" href="Ledger.Conway.Utxo.Properties.html#1834" class="Bound">H-Yes</a> <a id="1840" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1842" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1844" href="Ledger.Conway.Utxo.Properties.html#1844" class="Bound">H-Yes?</a> <a id="1851" class="Symbol">=</a> <a id="1853" href="Ledger.Conway.Utxo.html#12338" class="Function">Scripts-Yes-premises</a> <a id="1874" class="Symbol">{</a><a id="1875" href="Ledger.Conway.Utxo.Properties.html#1755" class="Bound">Γ</a><a id="1876" class="Symbol">}</a> <a id="1878" class="Symbol">{</a><a id="1879" href="Ledger.Conway.Utxo.Properties.html#1785" class="Bound">tx</a><a id="1881" class="Symbol">}</a> <a id="1883" class="Symbol">{</a><a id="1884" href="Ledger.Conway.Utxo.html#1454" class="Function">utxo</a><a id="1888" class="Symbol">}</a> <a id="1890" class="Symbol">{</a><a id="1891" href="Ledger.Conway.Utxo.html#1498" class="Function">deposits</a><a id="1899" class="Symbol">})</a>
      <a id="1908" class="Symbol">(</a><a id="1909" class="Keyword">let</a> <a id="1913" href="Ledger.Conway.Utxo.Properties.html#1913" class="Bound">H-No</a>  <a id="1919" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1921" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1923" href="Ledger.Conway.Utxo.Properties.html#1923" class="Bound">H-No?</a>  <a id="1930" class="Symbol">=</a> <a id="1932" href="Ledger.Conway.Utxo.html#12426" class="Function">Scripts-No-premises</a>  <a id="1953" class="Symbol">{</a><a id="1954" href="Ledger.Conway.Utxo.Properties.html#1755" class="Bound">Γ</a><a id="1955" class="Symbol">}</a> <a id="1957" class="Symbol">{</a><a id="1958" href="Ledger.Conway.Utxo.Properties.html#1785" class="Bound">tx</a><a id="1960" class="Symbol">}</a> <a id="1962" class="Symbol">{</a><a id="1963" href="Ledger.Conway.Utxo.html#1454" class="Function">utxo</a><a id="1967" class="Symbol">})</a> <a id="1970" class="Keyword">where</a>
      <a id="1982" class="Keyword">open</a> <a id="1987" href="Ledger.Conway.Transaction.html#4227" class="Module">Tx</a> <a id="1990" href="Ledger.Conway.Utxo.Properties.html#1785" class="Bound">tx</a> <a id="1993" class="Keyword">renaming</a> <a id="2002" class="Symbol">(</a><a id="2003" href="Ledger.Conway.Transaction.html#4259" class="Field">body</a> <a id="2008" class="Symbol">to</a> <a id="2011" class="Field">txb</a><a id="2014" class="Symbol">);</a> <a id="2017" class="Keyword">open</a> <a id="2022" href="Ledger.Conway.Transaction.html#2714" class="Module">TxBody</a> <a id="2029" href="Ledger.Conway.Utxo.Properties.html#2011" class="Field">txb</a>
      <a id="2039" class="Keyword">open</a> <a id="2044" href="Ledger.Conway.Utxo.html#1038" class="Module">UTxOEnv</a> <a id="2052" href="Ledger.Conway.Utxo.Properties.html#1755" class="Bound">Γ</a> <a id="2054" class="Keyword">renaming</a> <a id="2063" class="Symbol">(</a><a id="2064" href="Ledger.Conway.Utxo.html#1092" class="Field">pparams</a> <a id="2072" class="Symbol">to</a> <a id="2075" class="Field">pp</a><a id="2077" class="Symbol">)</a>
      <a id="2085" href="Ledger.Conway.Utxo.Properties.html#2085" class="Function">sLst</a> <a id="2090" class="Symbol">=</a> <a id="2092" href="Ledger.Conway.Script.Validation.html#3371" class="Function">collectP2ScriptsWithContext</a> <a id="2120" href="Ledger.Conway.Utxo.Properties.html#2075" class="Function">pp</a> <a id="2123" href="Ledger.Conway.Utxo.Properties.html#1785" class="Bound">tx</a> <a id="2126" href="Ledger.Conway.Utxo.html#1454" class="Function">utxo</a>

      <a id="2138" href="Ledger.Conway.Utxo.Properties.html#2138" class="Function">computeProof</a> <a id="2151" class="Symbol">=</a>
        <a id="2161" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2166" href="Ledger.Conway.Utxo.Properties.html#1844" class="Bound">H-Yes?</a> <a id="2173" href="Data.Product.Base.html#1686" class="Function Operator">,′</a> <a id="2176" href="Ledger.Conway.Utxo.Properties.html#1923" class="Bound">H-No?</a> <a id="2182" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2185" class="Symbol">λ</a> <a id="2187" class="Keyword">where</a>
          <a id="2203" class="Symbol">(</a><a id="2204" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2208" href="Ledger.Conway.Utxo.Properties.html#2208" class="Bound">p</a> <a id="2210" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2212" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2215" class="Symbol">_</a> <a id="2217" class="Symbol">)</a> <a id="2219" class="Symbol">→</a> <a id="2221" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2229" class="Symbol">(_</a> <a id="2232" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2234" class="Symbol">(</a><a id="2235" href="Ledger.Conway.Utxo.html#11361" class="InductiveConstructor">Scripts-Yes</a> <a id="2247" href="Ledger.Conway.Utxo.Properties.html#2208" class="Bound">p</a><a id="2248" class="Symbol">))</a>
          <a id="2261" class="Symbol">(</a><a id="2262" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2265" class="Symbol">_</a>  <a id="2268" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2270" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2274" href="Ledger.Conway.Utxo.Properties.html#2274" class="Bound">p</a><a id="2275" class="Symbol">)</a> <a id="2277" class="Symbol">→</a> <a id="2279" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2287" class="Symbol">(_</a> <a id="2290" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2292" class="Symbol">(</a><a id="2293" href="Ledger.Conway.Utxo.html#11879" class="InductiveConstructor">Scripts-No</a> <a id="2304" href="Ledger.Conway.Utxo.Properties.html#2274" class="Bound">p</a><a id="2305" class="Symbol">))</a>
          <a id="2318" class="CatchallClause Symbol">(_</a><a id="2320" class="CatchallClause">     </a><a id="2325" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="2326" class="CatchallClause"> </a><a id="2327" class="CatchallClause Symbol">_</a><a id="2328" class="CatchallClause">    </a><a id="2332" class="CatchallClause Symbol">)</a> <a id="2334" class="Symbol">→</a> <a id="2336" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="2344" class="String">&quot;isValid check failed&quot;</a>

      <a id="2374" href="Ledger.Conway.Utxo.Properties.html#2374" class="Function">completeness</a> <a id="2387" class="Symbol">:</a> <a id="2389" class="Symbol">∀</a> <a id="2391" href="Ledger.Conway.Utxo.Properties.html#2391" class="Bound">s&#39;</a> <a id="2394" class="Symbol">→</a> <a id="2396" href="Ledger.Conway.Utxo.Properties.html#1755" class="Bound">Γ</a> <a id="2398" href="Ledger.Conway.Utxo.html#11290" class="Datatype Operator">⊢</a> <a id="2400" href="Ledger.Conway.Utxo.Properties.html#1769" class="Bound">s</a> <a id="2402" href="Ledger.Conway.Utxo.html#11290" class="Datatype Operator">⇀⦇</a> <a id="2405" href="Ledger.Conway.Utxo.Properties.html#1785" class="Bound">tx</a> <a id="2408" href="Ledger.Conway.Utxo.html#11290" class="Datatype Operator">,UTXOS⦈</a> <a id="2416" href="Ledger.Conway.Utxo.Properties.html#2391" class="Bound">s&#39;</a> <a id="2419" class="Symbol">→</a> <a id="2421" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2425" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2431" href="Ledger.Conway.Utxo.Properties.html#2138" class="Function">computeProof</a> <a id="2444" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2446" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2454" href="Ledger.Conway.Utxo.Properties.html#2391" class="Bound">s&#39;</a>
      <a id="2463" href="Ledger.Conway.Utxo.Properties.html#2374" class="Function">completeness</a> <a id="2476" class="Symbol">_</a> <a id="2478" class="Symbol">(</a><a id="2479" href="Ledger.Conway.Utxo.html#11361" class="InductiveConstructor">Scripts-Yes</a> <a id="2491" href="Ledger.Conway.Utxo.Properties.html#2491" class="Bound">p</a><a id="2492" class="Symbol">)</a> <a id="2494" class="Keyword">with</a> <a id="2499" href="Ledger.Conway.Utxo.Properties.html#1923" class="Bound">H-No?</a> <a id="2505" class="Symbol">|</a> <a id="2507" href="Ledger.Conway.Utxo.Properties.html#1844" class="Bound">H-Yes?</a>
      <a id="2520" class="Symbol">...</a> <a id="2524" class="Symbol">|</a> <a id="2526" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2530" class="Symbol">(_</a> <a id="2533" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2535" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2539" class="Symbol">)</a> <a id="2541" class="Symbol">|</a> <a id="2543" class="Symbol">_</a>     <a id="2549" class="Symbol">=</a> <a id="2551" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2556" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2562" class="Bound">p</a> <a id="2564" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2567" class="Symbol">λ</a> <a id="2569" class="Symbol">()</a>
      <a id="2578" class="Symbol">...</a> <a id="2582" class="Symbol">|</a> <a id="2584" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2587" class="Symbol">_</a>           <a id="2599" class="Symbol">|</a> <a id="2601" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2605" class="Symbol">_</a> <a id="2607" class="Symbol">=</a> <a id="2609" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2620" class="Symbol">...</a> <a id="2624" class="Symbol">|</a> <a id="2626" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2629" class="Symbol">_</a>           <a id="2641" class="Symbol">|</a> <a id="2643" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2646" href="Ledger.Conway.Utxo.Properties.html#2646" class="Bound">¬p</a> <a id="2649" class="Symbol">=</a> <a id="2651" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2656" href="Ledger.Conway.Utxo.Properties.html#2646" class="Bound">¬p</a> <a id="2659" class="Bound">p</a> <a id="2661" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2664" class="Symbol">λ</a> <a id="2666" class="Symbol">()</a>
      <a id="2675" href="Ledger.Conway.Utxo.Properties.html#2374" class="Function">completeness</a> <a id="2688" class="Symbol">_</a> <a id="2690" class="Symbol">(</a><a id="2691" href="Ledger.Conway.Utxo.html#11879" class="InductiveConstructor">Scripts-No</a> <a id="2702" href="Ledger.Conway.Utxo.Properties.html#2702" class="Bound">p</a><a id="2703" class="Symbol">)</a> <a id="2705" class="Keyword">with</a> <a id="2710" href="Ledger.Conway.Utxo.Properties.html#1844" class="Bound">H-Yes?</a> <a id="2717" class="Symbol">|</a> <a id="2719" href="Ledger.Conway.Utxo.Properties.html#1923" class="Bound">H-No?</a>
      <a id="2731" class="Symbol">...</a> <a id="2735" class="Symbol">|</a> <a id="2737" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2741" class="Symbol">(_</a> <a id="2744" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2746" class="Symbol">_</a> <a id="2748" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2750" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2754" class="Symbol">)</a> <a id="2756" class="Symbol">|</a> <a id="2758" class="Symbol">_</a>     <a id="2764" class="Symbol">=</a> <a id="2766" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2771" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2777" class="Bound">p</a> <a id="2779" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2782" class="Symbol">λ</a> <a id="2784" class="Symbol">()</a>
      <a id="2793" class="Symbol">...</a> <a id="2797" class="Symbol">|</a> <a id="2799" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2802" class="Symbol">_</a>               <a id="2818" class="Symbol">|</a> <a id="2820" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2824" class="Symbol">_</a> <a id="2826" class="Symbol">=</a> <a id="2828" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2839" class="Symbol">...</a> <a id="2843" class="Symbol">|</a> <a id="2845" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2848" class="Symbol">_</a>               <a id="2864" class="Symbol">|</a> <a id="2866" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2869" href="Ledger.Conway.Utxo.Properties.html#2869" class="Bound">¬p</a> <a id="2872" class="Symbol">=</a> <a id="2874" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2879" href="Ledger.Conway.Utxo.Properties.html#2869" class="Bound">¬p</a> <a id="2882" class="Bound">p</a> <a id="2884" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2887" class="Symbol">λ</a> <a id="2889" class="Symbol">()</a>

<a id="2893" class="Keyword">instance</a>
  <a id="Computational-UTXO&#39;"></a><a id="2904" href="Ledger.Conway.Utxo.Properties.html#2904" class="Function">Computational-UTXO&#39;</a> <a id="2924" class="Symbol">:</a> <a id="2926" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="2940" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="2954" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="2963" href="Ledger.Conway.Utxo.Properties.html#2904" class="Function">Computational-UTXO&#39;</a> <a id="2983" class="Symbol">=</a> <a id="2985" class="Keyword">record</a> <a id="2992" class="Symbol">{</a><a id="2993" href="Ledger.Conway.Utxo.Properties.html#3020" class="Module">Go</a><a id="2995" class="Symbol">}</a>
    <a id="3001" class="Keyword">where</a>
      <a id="3013" class="Keyword">module</a> <a id="3020" href="Ledger.Conway.Utxo.Properties.html#3020" class="Module">Go</a> <a id="3023" href="Ledger.Conway.Utxo.Properties.html#3023" class="Bound">Γ</a> <a id="3025" href="Ledger.Conway.Utxo.Properties.html#3025" class="Bound">s</a> <a id="3027" href="Ledger.Conway.Utxo.Properties.html#3027" class="Bound">tx</a> <a id="3030" class="Symbol">(</a><a id="3031" class="Keyword">let</a> <a id="3035" href="Ledger.Conway.Utxo.Properties.html#3035" class="Bound">H</a> <a id="3037" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3039" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="3041" href="Ledger.Conway.Utxo.Properties.html#3041" class="Bound">H?</a> <a id="3044" class="Symbol">=</a> <a id="3046" href="Ledger.Conway.Utxo.html#14041" class="Function">UTXO-premises</a> <a id="3060" class="Symbol">{</a><a id="3061" class="Argument">Γ</a> <a id="3063" class="Symbol">=</a> <a id="3065" href="Ledger.Conway.Utxo.Properties.html#3023" class="Bound">Γ</a><a id="3066" class="Symbol">}</a> <a id="3068" class="Symbol">{</a><a id="3069" class="Argument">s</a> <a id="3071" class="Symbol">=</a> <a id="3073" href="Ledger.Conway.Utxo.Properties.html#3025" class="Bound">s</a><a id="3074" class="Symbol">}</a> <a id="3076" class="Symbol">{</a><a id="3077" class="Argument">tx</a> <a id="3080" class="Symbol">=</a> <a id="3082" href="Ledger.Conway.Utxo.Properties.html#3027" class="Bound">tx</a><a id="3084" class="Symbol">})</a> <a id="3087" class="Keyword">where</a>

        <a id="3102" class="Keyword">open</a> <a id="3107" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="3121" href="Ledger.Conway.Utxo.Properties.html#1640" class="Function">Computational-UTXOS</a>
          <a id="3151" class="Keyword">renaming</a> <a id="3160" class="Symbol">(</a><a id="3161" href="Interface.ComputationalRelation.html#2879" class="Field">computeProof</a> <a id="3174" class="Symbol">to</a> <a id="3177" class="Field">computeProof&#39;</a><a id="3190" class="Symbol">;</a> <a id="3192" href="Interface.ComputationalRelation.html#3096" class="Field">completeness</a> <a id="3205" class="Symbol">to</a> <a id="3208" class="Field">completeness&#39;</a><a id="3221" class="Symbol">)</a>

        <a id="3232" href="Ledger.Conway.Utxo.Properties.html#3232" class="Function">genErr</a> <a id="3239" class="Symbol">:</a> <a id="3241" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="3243" href="Ledger.Conway.Utxo.Properties.html#3035" class="Bound">H</a> <a id="3245" class="Symbol">→</a> <a id="3247" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
        <a id="3262" href="Ledger.Conway.Utxo.Properties.html#3232" class="Function">genErr</a>  <a id="3270" href="Ledger.Conway.Utxo.Properties.html#3270" class="Bound">¬p</a> <a id="3273" class="Symbol">=</a> <a id="3275" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3280" href="Ledger.Prelude.html#1445" class="Function">dec-de-morgan</a> <a id="3294" href="Ledger.Conway.Utxo.Properties.html#3270" class="Bound">¬p</a> <a id="3297" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3300" class="Symbol">λ</a> <a id="3302" class="Keyword">where</a>
          <a id="3318" class="Symbol">(</a><a id="3319" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3324" href="Ledger.Conway.Utxo.Properties.html#3324" class="Bound">a</a><a id="3325" class="Symbol">)</a> <a id="3327" class="Symbol">→</a> <a id="3329" class="String">&quot;¬ TxBody.txins (Tx.body tx) ≢ ∅&quot;</a>
          <a id="3373" class="Symbol">(</a><a id="3374" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3379" href="Ledger.Conway.Utxo.Properties.html#3379" class="Bound">b</a><a id="3380" class="Symbol">)</a> <a id="3382" class="Symbol">→</a> <a id="3384" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3389" href="Ledger.Prelude.html#1445" class="Function">dec-de-morgan</a> <a id="3403" href="Ledger.Conway.Utxo.Properties.html#3379" class="Bound">b</a> <a id="3405" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3408" class="Symbol">λ</a> <a id="3410" class="Keyword">where</a>
            <a id="3428" class="Symbol">(</a><a id="3429" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3434" href="Ledger.Conway.Utxo.Properties.html#3434" class="Bound">a₁</a><a id="3436" class="Symbol">)</a> <a id="3438" class="Symbol">→</a> <a id="3440" class="String">&quot;¬ TxBody.txins (Tx.body tx) ⊆ dom (UTxOState.utxo s)&quot;</a>
            <a id="3507" class="Symbol">(</a><a id="3508" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3513" href="Ledger.Conway.Utxo.Properties.html#3513" class="Bound">b₁</a><a id="3515" class="Symbol">)</a> <a id="3517" class="Symbol">→</a> <a id="3519" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3524" href="Ledger.Prelude.html#1445" class="Function">dec-de-morgan</a> <a id="3538" href="Ledger.Conway.Utxo.Properties.html#3513" class="Bound">b₁</a> <a id="3541" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3544" class="Symbol">λ</a> <a id="3546" class="Keyword">where</a>
                <a id="3568" class="Symbol">(</a><a id="3569" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3574" href="Ledger.Conway.Utxo.Properties.html#3574" class="Bound">a₁&#39;</a><a id="3577" class="Symbol">)</a> <a id="3579" class="Symbol">→</a> <a id="3581" class="String">&quot;¬ refInputs ⊆ dom utxo &quot;</a>
                <a id="3623" class="Symbol">(</a><a id="3624" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3629" href="Ledger.Conway.Utxo.Properties.html#3629" class="Bound">b₂&#39;</a><a id="3632" class="Symbol">)</a> <a id="3634" class="Symbol">→</a> <a id="3636" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3641" href="Ledger.Prelude.html#1445" class="Function">dec-de-morgan</a> <a id="3655" href="Ledger.Conway.Utxo.Properties.html#3629" class="Bound">b₂&#39;</a> <a id="3659" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3662" class="Symbol">λ</a> <a id="3664" class="Keyword">where</a>
                  <a id="3688" class="Symbol">(</a><a id="3689" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3694" href="Ledger.Conway.Utxo.Properties.html#3694" class="Bound">a₂</a><a id="3696" class="Symbol">)</a> <a id="3698" class="Symbol">→</a> <a id="3700" class="String">&quot;¬ inInterval (UTxOEnv.slot Γ) (txvldt (Tx.body tx))&quot;</a>
                  <a id="3772" class="Symbol">(</a><a id="3773" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3778" href="Ledger.Conway.Utxo.Properties.html#3778" class="Bound">b₂</a><a id="3780" class="Symbol">)</a> <a id="3782" class="Symbol">→</a> <a id="3784" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3789" href="Ledger.Prelude.html#1445" class="Function">dec-de-morgan</a> <a id="3803" href="Ledger.Conway.Utxo.Properties.html#3778" class="Bound">b₂</a> <a id="3806" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3809" class="Symbol">λ</a> <a id="3811" class="Keyword">where</a>
                    <a id="3837" class="Symbol">(</a><a id="3838" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3843" href="Ledger.Conway.Utxo.Properties.html#3843" class="Bound">a₃</a><a id="3845" class="Symbol">)</a> <a id="3847" class="Symbol">→</a> <a id="3849" class="String">&quot;¬ feesOK pp tx utxo&quot;</a>
                    <a id="3891" class="Symbol">(</a><a id="3892" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3897" href="Ledger.Conway.Utxo.Properties.html#3897" class="Bound">b₃</a><a id="3899" class="Symbol">)</a> <a id="3901" class="Symbol">→</a> <a id="3903" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3908" href="Ledger.Prelude.html#1445" class="Function">dec-de-morgan</a> <a id="3922" href="Ledger.Conway.Utxo.Properties.html#3897" class="Bound">b₃</a> <a id="3925" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3928" class="Symbol">λ</a> <a id="3930" class="Keyword">where</a>
                        <a id="3960" class="Symbol">(</a><a id="3961" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3966" href="Ledger.Conway.Utxo.Properties.html#3966" class="Bound">a₄</a><a id="3968" class="Symbol">)</a> <a id="3970" class="Symbol">→</a>
                          <a id="3998" class="Keyword">let</a>
                            <a id="4030" href="Ledger.Conway.Utxo.Properties.html#4030" class="Bound">pp</a> <a id="4033" class="Symbol">=</a> <a id="4035" href="Ledger.Conway.Utxo.html#1092" class="Field">UTxOEnv.pparams</a> <a id="4051" href="Ledger.Conway.Utxo.Properties.html#3023" class="Bound">Γ</a>
                            <a id="4081" href="Ledger.Conway.Utxo.Properties.html#4081" class="Bound">txb</a> <a id="4085" class="Symbol">=</a> <a id="4087" href="Ledger.Conway.Transaction.html#4259" class="Field">Tx.body</a> <a id="4095" href="Ledger.Conway.Utxo.Properties.html#3027" class="Bound">tx</a>
                            <a id="4126" href="Ledger.Conway.Utxo.Properties.html#4126" class="Bound">con</a> <a id="4130" class="Symbol">=</a> <a id="4132" href="Ledger.Conway.Utxo.html#10691" class="Function">consumed</a> <a id="4141" href="Ledger.Conway.Utxo.Properties.html#4030" class="Bound">pp</a> <a id="4144" href="Ledger.Conway.Utxo.Properties.html#3025" class="Bound">s</a> <a id="4146" href="Ledger.Conway.Utxo.Properties.html#4081" class="Bound">txb</a>
                            <a id="4178" href="Ledger.Conway.Utxo.Properties.html#4178" class="Bound">prod</a> <a id="4183" class="Symbol">=</a> <a id="4185" href="Ledger.Conway.Utxo.html#10899" class="Function">produced</a> <a id="4194" href="Ledger.Conway.Utxo.Properties.html#4030" class="Bound">pp</a> <a id="4197" href="Ledger.Conway.Utxo.Properties.html#3025" class="Bound">s</a> <a id="4199" href="Ledger.Conway.Utxo.Properties.html#4081" class="Bound">txb</a>
                            <a id="4231" href="Ledger.Conway.Utxo.Properties.html#4231" class="Bound">showValue</a> <a id="4241" class="Symbol">=</a> <a id="4243" href="Class.Show.Core.html#187" class="Field">show</a> <a id="4248" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4250" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a>
                          <a id="4281" class="Keyword">in</a>
                            <a id="4312" class="Symbol">(</a> <a id="4314" class="String">&quot;¬consumed (UTxOEnv.pparams Γ) s (Tx.body tx) ≡ produced (UTxOEnv.pparams Γ) s (Tx.body tx)&quot;</a>
                            <a id="4435" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4438" class="String">&quot;\n  consumed =\t\t&quot;</a> <a id="4459" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4462" href="Ledger.Conway.Utxo.Properties.html#4231" class="Bound">showValue</a> <a id="4472" href="Ledger.Conway.Utxo.Properties.html#4126" class="Bound">con</a>
                            <a id="4504" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4507" class="String">&quot;\n    ins  =\t\t&quot;</a> <a id="4526" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4529" href="Ledger.Conway.Utxo.Properties.html#4231" class="Bound">showValue</a> <a id="4539" class="Symbol">(</a><a id="4540" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="4548" class="Symbol">(</a><a id="4549" href="Ledger.Conway.Transaction.html#2657" class="Field">UTxOOf</a> <a id="4556" href="Ledger.Conway.Utxo.Properties.html#3025" class="Bound">s</a> <a id="4558" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="4560" href="Ledger.Conway.Utxo.Properties.html#4081" class="Bound">txb</a> <a id="4564" class="Symbol">.</a><a id="4565" href="Ledger.Conway.Transaction.html#2750" class="Field">TxBody.txins</a><a id="4577" class="Symbol">))</a>
                            <a id="4608" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4611" class="String">&quot;\n    mint =\t\t&quot;</a> <a id="4630" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4633" href="Ledger.Conway.Utxo.Properties.html#4231" class="Bound">showValue</a> <a id="4643" class="Symbol">(</a><a id="4644" href="Ledger.Conway.Transaction.html#2872" class="Field">TxBody.mint</a> <a id="4656" href="Ledger.Conway.Utxo.Properties.html#4081" class="Bound">txb</a><a id="4659" class="Symbol">)</a>
                            <a id="4689" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4692" class="String">&quot;\n    depositRefunds =\t&quot;</a> <a id="4719" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4722" href="Ledger.Conway.Utxo.Properties.html#4231" class="Bound">showValue</a> <a id="4732" class="Symbol">(</a><a id="4733" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="4740" class="Symbol">(</a><a id="4741" href="Ledger.Conway.Utxo.html#10433" class="Function">depositRefunds</a> <a id="4756" href="Ledger.Conway.Utxo.Properties.html#4030" class="Bound">pp</a> <a id="4759" href="Ledger.Conway.Utxo.Properties.html#3025" class="Bound">s</a> <a id="4761" href="Ledger.Conway.Utxo.Properties.html#4081" class="Bound">txb</a><a id="4764" class="Symbol">))</a>
                            <a id="4795" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4798" class="String">&quot;\n  produced =\t\t&quot;</a> <a id="4819" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4822" href="Ledger.Conway.Utxo.Properties.html#4231" class="Bound">showValue</a> <a id="4832" href="Ledger.Conway.Utxo.Properties.html#4178" class="Bound">prod</a>
                            <a id="4865" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4868" class="String">&quot;\n    outs =\t\t&quot;</a> <a id="4887" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4890" href="Ledger.Conway.Utxo.Properties.html#4231" class="Bound">showValue</a> <a id="4900" class="Symbol">(</a><a id="4901" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="4909" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4911" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="4916" href="Ledger.Conway.Utxo.Properties.html#4081" class="Bound">txb</a><a id="4919" class="Symbol">)</a>
                            <a id="4949" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4952" class="String">&quot;\n    fee  =\t\t&quot;</a> <a id="4971" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4974" href="Class.Show.Core.html#187" class="Field">show</a> <a id="4979" class="Symbol">(</a><a id="4980" href="Ledger.Conway.Utxo.Properties.html#4081" class="Bound">txb</a> <a id="4984" class="Symbol">.</a><a id="4985" href="Ledger.Conway.Transaction.html#2844" class="Field">TxBody.txfee</a><a id="4997" class="Symbol">)</a>
                            <a id="5027" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5030" class="String">&quot;\n    newDeposits  =\t&quot;</a> <a id="5055" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5058" href="Class.Show.Core.html#187" class="Field">show</a> <a id="5063" class="Symbol">(</a><a id="5064" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="5076" href="Ledger.Conway.Utxo.Properties.html#4030" class="Bound">pp</a> <a id="5079" href="Ledger.Conway.Utxo.Properties.html#3025" class="Bound">s</a> <a id="5081" href="Ledger.Conway.Utxo.Properties.html#4081" class="Bound">txb</a><a id="5084" class="Symbol">)</a>
                            <a id="5114" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5117" class="String">&quot;\n    donation  =\t\t&quot;</a> <a id="5141" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5144" href="Class.Show.Core.html#187" class="Field">show</a> <a id="5149" class="Symbol">(</a><a id="5150" href="Ledger.Conway.Utxo.Properties.html#4081" class="Bound">txb</a> <a id="5154" class="Symbol">.</a><a id="5155" href="Ledger.Conway.Transaction.html#3086" class="Field">TxBody.txdonation</a><a id="5172" class="Symbol">)</a>
                            <a id="5202" class="Symbol">)</a>
                        <a id="5228" class="Symbol">(</a><a id="5229" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5234" href="Ledger.Conway.Utxo.Properties.html#5234" class="Bound">b₄</a><a id="5236" class="Symbol">)</a> <a id="5238" class="Symbol">→</a> <a id="5240" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5245" href="Ledger.Prelude.html#1445" class="Function">dec-de-morgan</a> <a id="5259" href="Ledger.Conway.Utxo.Properties.html#5234" class="Bound">b₄</a> <a id="5262" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5265" class="Symbol">λ</a> <a id="5267" class="Keyword">where</a>
                          <a id="5299" class="Symbol">(</a><a id="5300" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5305" href="Ledger.Conway.Utxo.Properties.html#5305" class="Bound">a₅</a><a id="5307" class="Symbol">)</a> <a id="5309" class="Symbol">→</a> <a id="5311" class="String">&quot;¬ coin (TxBody.mint (Tx.body tx)) ≡ 0&quot;</a>
                          <a id="5377" class="Symbol">(</a><a id="5378" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5383" href="Ledger.Conway.Utxo.Properties.html#5383" class="Bound">b₅</a><a id="5385" class="Symbol">)</a> <a id="5387" class="Symbol">→</a> <a id="5389" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5394" href="Ledger.Prelude.html#1445" class="Function">dec-de-morgan</a> <a id="5408" href="Ledger.Conway.Utxo.Properties.html#5383" class="Bound">b₅</a> <a id="5411" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5414" class="Symbol">λ</a> <a id="5416" class="Keyword">where</a>
                              <a id="5452" class="Symbol">(</a><a id="5453" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5458" href="Ledger.Conway.Utxo.Properties.html#5458" class="Bound">a₆</a><a id="5460" class="Symbol">)</a> <a id="5462" class="Symbol">→</a> <a id="5464" class="String">&quot;¬((Tx.txsize tx) Data.Nat.Base.≤ maxTxSize (UTxOEnv.pparams Γ))&quot;</a>
                              <a id="5560" class="Symbol">(</a><a id="5561" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5566" href="Ledger.Conway.Utxo.Properties.html#5566" class="Bound">b₆</a><a id="5568" class="Symbol">)</a> <a id="5570" class="Symbol">→</a> <a id="5572" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5577" href="Ledger.Prelude.html#1445" class="Function">dec-de-morgan</a> <a id="5591" href="Ledger.Conway.Utxo.Properties.html#5566" class="Bound">b₆</a> <a id="5594" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5597" class="Symbol">λ</a> <a id="5599" class="Keyword">where</a>
                                <a id="5637" class="Symbol">(</a><a id="5638" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5643" href="Ledger.Conway.Utxo.Properties.html#5643" class="Bound">a₇</a><a id="5645" class="Symbol">)</a> <a id="5647" class="Symbol">→</a> <a id="5649" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] inject (utxoEntrySize txout * coinsPerUTxOByte pp) ≤ᵗ getValue txout&quot;</a>
                                <a id="5785" class="Symbol">(</a><a id="5786" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5791" href="Ledger.Conway.Utxo.Properties.html#5791" class="Bound">b₇</a><a id="5793" class="Symbol">)</a> <a id="5795" class="Symbol">→</a> <a id="5797" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5802" href="Ledger.Prelude.html#1445" class="Function">dec-de-morgan</a> <a id="5816" href="Ledger.Conway.Utxo.Properties.html#5791" class="Bound">b₇</a> <a id="5819" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5822" class="Symbol">λ</a> <a id="5824" class="Keyword">where</a>
                                    <a id="5866" class="Symbol">(</a><a id="5867" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5872" href="Ledger.Conway.Utxo.Properties.html#5872" class="Bound">a₈</a><a id="5874" class="Symbol">)</a> <a id="5876" class="Symbol">→</a> <a id="5878" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] serSize (getValue txout) ≤ maxValSize pp&quot;</a>
                                    <a id="5990" class="Symbol">(</a><a id="5991" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5996" href="Ledger.Conway.Utxo.Properties.html#5996" class="Bound">b₈</a><a id="5998" class="Symbol">)</a> <a id="6000" class="Symbol">→</a> <a id="6002" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6007" href="Ledger.Prelude.html#1445" class="Function">dec-de-morgan</a> <a id="6021" href="Ledger.Conway.Utxo.Properties.html#5996" class="Bound">b₈</a> <a id="6024" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6027" class="Symbol">λ</a> <a id="6029" class="Keyword">where</a>
                                      <a id="6073" class="Symbol">(</a><a id="6074" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6079" href="Ledger.Conway.Utxo.Properties.html#6079" class="Bound">a₉</a><a id="6081" class="Symbol">)</a> <a id="6083" class="Symbol">→</a> <a id="6085" class="String">&quot;∀[ (a , _) ∈ range txouts ] Sum.All (const ⊤) (λ a → a .BootstrapAddr.attrsSize ≤ 64) a&quot;</a>
                                      <a id="6213" class="Symbol">(</a><a id="6214" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6219" class="Symbol">_)</a> <a id="6222" class="Symbol">→</a> <a id="6224" class="String">&quot;something else broke&quot;</a>

        <a id="6256" href="Ledger.Conway.Utxo.Properties.html#6256" class="Function">computeProofH</a> <a id="6270" class="Symbol">:</a> <a id="6272" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="6276" href="Ledger.Conway.Utxo.Properties.html#3035" class="Bound">H</a> <a id="6278" class="Symbol">→</a> <a id="6280" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6298" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6305" class="Symbol">(</a><a id="6306" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6309" href="Ledger.Conway.Utxo.Properties.html#6309" class="Bound">s&#39;</a> <a id="6312" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6314" href="Ledger.Conway.Utxo.Properties.html#3023" class="Bound">Γ</a> <a id="6316" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⊢</a> <a id="6318" href="Ledger.Conway.Utxo.Properties.html#3025" class="Bound">s</a> <a id="6320" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⇀⦇</a> <a id="6323" href="Ledger.Conway.Utxo.Properties.html#3027" class="Bound">tx</a> <a id="6326" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">,UTXO⦈</a> <a id="6333" href="Ledger.Conway.Utxo.Properties.html#6309" class="Bound">s&#39;</a><a id="6335" class="Symbol">)</a>
        <a id="6345" href="Ledger.Conway.Utxo.Properties.html#6256" class="Function">computeProofH</a> <a id="6359" class="Symbol">(</a><a id="6360" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6364" class="Symbol">(</a><a id="6365" href="Ledger.Conway.Utxo.Properties.html#6365" class="Bound">x</a> <a id="6367" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6369" href="Ledger.Conway.Utxo.Properties.html#6369" class="Bound">y</a> <a id="6371" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6373" href="Ledger.Conway.Utxo.Properties.html#6373" class="Bound">z</a> <a id="6375" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6377" href="Ledger.Conway.Utxo.Properties.html#6377" class="Bound">e</a> <a id="6379" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6381" href="Ledger.Conway.Utxo.Properties.html#6381" class="Bound">k</a> <a id="6383" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6385" href="Ledger.Conway.Utxo.Properties.html#6385" class="Bound">l</a> <a id="6387" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6389" href="Ledger.Conway.Utxo.Properties.html#6389" class="Bound">m</a> <a id="6391" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6393" href="Ledger.Conway.Utxo.Properties.html#6393" class="Bound">c</a> <a id="6395" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6397" href="Ledger.Conway.Utxo.Properties.html#6397" class="Bound">v</a> <a id="6399" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6401" href="Ledger.Conway.Utxo.Properties.html#6401" class="Bound">j</a> <a id="6403" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6405" href="Ledger.Conway.Utxo.Properties.html#6405" class="Bound">n</a> <a id="6407" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6409" href="Ledger.Conway.Utxo.Properties.html#6409" class="Bound">o</a> <a id="6411" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6413" href="Ledger.Conway.Utxo.Properties.html#6413" class="Bound">p</a> <a id="6415" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6417" href="Ledger.Conway.Utxo.Properties.html#6417" class="Bound">q</a> <a id="6419" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6421" href="Ledger.Conway.Utxo.Properties.html#6421" class="Bound">r</a> <a id="6423" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6425" href="Ledger.Conway.Utxo.Properties.html#6425" class="Bound">t</a> <a id="6427" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6429" href="Ledger.Conway.Utxo.Properties.html#6429" class="Bound">u</a><a id="6430" class="Symbol">))</a> <a id="6433" class="Symbol">=</a>
            <a id="6447" href="Class.Bifunctor.html#615" class="Function">map₂′</a> <a id="6453" class="Symbol">(</a><a id="6454" href="Ledger.Conway.Utxo.html#13853" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6470" class="Symbol">_</a> <a id="6472" class="Symbol">_</a> <a id="6474" class="Symbol">_</a> <a id="6476" href="Ledger.Conway.Utxo.Properties.html#6365" class="Bound">x</a> <a id="6478" href="Ledger.Conway.Utxo.Properties.html#6369" class="Bound">y</a> <a id="6480" href="Ledger.Conway.Utxo.Properties.html#6373" class="Bound">z</a> <a id="6482" href="Ledger.Conway.Utxo.Properties.html#6377" class="Bound">e</a> <a id="6484" href="Ledger.Conway.Utxo.Properties.html#6381" class="Bound">k</a> <a id="6486" href="Ledger.Conway.Utxo.Properties.html#6385" class="Bound">l</a> <a id="6488" href="Ledger.Conway.Utxo.Properties.html#6389" class="Bound">m</a> <a id="6490" href="Ledger.Conway.Utxo.Properties.html#6393" class="Bound">c</a> <a id="6492" href="Ledger.Conway.Utxo.Properties.html#6397" class="Bound">v</a> <a id="6494" href="Ledger.Conway.Utxo.Properties.html#6401" class="Bound">j</a> <a id="6496" href="Ledger.Conway.Utxo.Properties.html#6405" class="Bound">n</a> <a id="6498" href="Ledger.Conway.Utxo.Properties.html#6409" class="Bound">o</a> <a id="6500" href="Ledger.Conway.Utxo.Properties.html#6413" class="Bound">p</a> <a id="6502" href="Ledger.Conway.Utxo.Properties.html#6417" class="Bound">q</a> <a id="6504" href="Ledger.Conway.Utxo.Properties.html#6421" class="Bound">r</a> <a id="6506" href="Ledger.Conway.Utxo.Properties.html#6425" class="Bound">t</a> <a id="6508" href="Ledger.Conway.Utxo.Properties.html#6429" class="Bound">u</a><a id="6509" class="Symbol">)</a> <a id="6511" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="6515" href="Ledger.Conway.Utxo.Properties.html#3177" class="Function">computeProof&#39;</a> <a id="6529" href="Ledger.Conway.Utxo.Properties.html#3023" class="Bound">Γ</a> <a id="6531" href="Ledger.Conway.Utxo.Properties.html#3025" class="Bound">s</a> <a id="6533" href="Ledger.Conway.Utxo.Properties.html#3027" class="Bound">tx</a>
        <a id="6544" href="Ledger.Conway.Utxo.Properties.html#6256" class="Function">computeProofH</a> <a id="6558" class="Symbol">(</a><a id="6559" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6562" href="Ledger.Conway.Utxo.Properties.html#6562" class="Bound">¬p</a><a id="6564" class="Symbol">)</a> <a id="6566" class="Symbol">=</a> <a id="6568" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="6576" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6578" href="Ledger.Conway.Utxo.Properties.html#3232" class="Function">genErr</a> <a id="6585" href="Ledger.Conway.Utxo.Properties.html#6562" class="Bound">¬p</a>

        <a id="6597" href="Ledger.Conway.Utxo.Properties.html#6597" class="Function">computeProof</a> <a id="6610" class="Symbol">:</a> <a id="6612" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6630" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6637" class="Symbol">(</a><a id="6638" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6641" href="Ledger.Conway.Utxo.Properties.html#6641" class="Bound">s&#39;</a> <a id="6644" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6646" href="Ledger.Conway.Utxo.Properties.html#3023" class="Bound">Γ</a> <a id="6648" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⊢</a> <a id="6650" href="Ledger.Conway.Utxo.Properties.html#3025" class="Bound">s</a> <a id="6652" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⇀⦇</a> <a id="6655" href="Ledger.Conway.Utxo.Properties.html#3027" class="Bound">tx</a> <a id="6658" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">,UTXO⦈</a> <a id="6665" href="Ledger.Conway.Utxo.Properties.html#6641" class="Bound">s&#39;</a><a id="6667" class="Symbol">)</a>
        <a id="6677" href="Ledger.Conway.Utxo.Properties.html#6597" class="Function">computeProof</a> <a id="6690" class="Symbol">=</a> <a id="6692" href="Ledger.Conway.Utxo.Properties.html#6256" class="Function">computeProofH</a> <a id="6706" href="Ledger.Conway.Utxo.Properties.html#3041" class="Bound">H?</a>

        <a id="6718" href="Ledger.Conway.Utxo.Properties.html#6718" class="Function">completeness</a> <a id="6731" class="Symbol">:</a> <a id="6733" class="Symbol">∀</a> <a id="6735" href="Ledger.Conway.Utxo.Properties.html#6735" class="Bound">s&#39;</a> <a id="6738" class="Symbol">→</a> <a id="6740" href="Ledger.Conway.Utxo.Properties.html#3023" class="Bound">Γ</a> <a id="6742" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⊢</a> <a id="6744" href="Ledger.Conway.Utxo.Properties.html#3025" class="Bound">s</a> <a id="6746" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⇀⦇</a> <a id="6749" href="Ledger.Conway.Utxo.Properties.html#3027" class="Bound">tx</a> <a id="6752" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">,UTXO⦈</a> <a id="6759" href="Ledger.Conway.Utxo.Properties.html#6735" class="Bound">s&#39;</a> <a id="6762" class="Symbol">→</a> <a id="6764" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="6768" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6774" href="Ledger.Conway.Utxo.Properties.html#6597" class="Function">computeProof</a> <a id="6787" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6789" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="6797" href="Ledger.Conway.Utxo.Properties.html#6735" class="Bound">s&#39;</a>
        <a id="6808" href="Ledger.Conway.Utxo.Properties.html#6718" class="Function">completeness</a> <a id="6821" href="Ledger.Conway.Utxo.Properties.html#6821" class="Bound">s&#39;</a> <a id="6824" class="Symbol">(</a><a id="6825" href="Ledger.Conway.Utxo.html#13853" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6841" class="Symbol">_</a> <a id="6843" class="Symbol">_</a> <a id="6845" class="Symbol">_</a> <a id="6847" href="Ledger.Conway.Utxo.Properties.html#6847" class="Bound">x</a> <a id="6849" href="Ledger.Conway.Utxo.Properties.html#6849" class="Bound">y</a> <a id="6851" href="Ledger.Conway.Utxo.Properties.html#6851" class="Bound">z</a> <a id="6853" href="Ledger.Conway.Utxo.Properties.html#6853" class="Bound">w</a> <a id="6855" href="Ledger.Conway.Utxo.Properties.html#6855" class="Bound">k</a> <a id="6857" href="Ledger.Conway.Utxo.Properties.html#6857" class="Bound">l</a> <a id="6859" href="Ledger.Conway.Utxo.Properties.html#6859" class="Bound">m</a> <a id="6861" href="Ledger.Conway.Utxo.Properties.html#6861" class="Bound">c</a> <a id="6863" href="Ledger.Conway.Utxo.Properties.html#6863" class="Bound">v</a> <a id="6865" href="Ledger.Conway.Utxo.Properties.html#6865" class="Bound">j</a> <a id="6867" href="Ledger.Conway.Utxo.Properties.html#6867" class="Bound">n</a> <a id="6869" href="Ledger.Conway.Utxo.Properties.html#6869" class="Bound">o</a> <a id="6871" href="Ledger.Conway.Utxo.Properties.html#6871" class="Bound">p</a> <a id="6873" href="Ledger.Conway.Utxo.Properties.html#6873" class="Bound">q</a> <a id="6875" href="Ledger.Conway.Utxo.Properties.html#6875" class="Bound">r</a> <a id="6877" href="Ledger.Conway.Utxo.Properties.html#6877" class="Bound">t</a> <a id="6879" href="Ledger.Conway.Utxo.Properties.html#6879" class="Bound">u</a> <a id="6881" href="Ledger.Conway.Utxo.Properties.html#6881" class="Bound">h</a><a id="6882" class="Symbol">)</a> <a id="6884" class="Keyword">with</a> <a id="6889" href="Ledger.Conway.Utxo.Properties.html#3041" class="Bound">H?</a>
        <a id="6900" class="Symbol">...</a> <a id="6904" class="Symbol">|</a> <a id="6906" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6909" href="Ledger.Conway.Utxo.Properties.html#6909" class="Bound">¬p</a> <a id="6912" class="Symbol">=</a> <a id="6914" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="6921" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6923" href="Ledger.Conway.Utxo.Properties.html#6909" class="Bound">¬p</a> <a id="6926" class="Symbol">(</a><a id="6927" class="Bound">x</a> <a id="6929" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6931" class="Bound">y</a> <a id="6933" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6935" class="Bound">z</a> <a id="6937" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6939" class="Bound">w</a> <a id="6941" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6943" class="Bound">k</a> <a id="6945" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6947" class="Bound">l</a> <a id="6949" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6951" class="Bound">m</a> <a id="6953" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6955" class="Bound">c</a> <a id="6957" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6959" class="Bound">v</a> <a id="6961" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6963" class="Bound">j</a> <a id="6965" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6967" class="Bound">n</a> <a id="6969" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6971" class="Bound">o</a> <a id="6973" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6975" class="Bound">p</a> <a id="6977" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6979" class="Bound">q</a> <a id="6981" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6983" class="Bound">r</a> <a id="6985" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6987" class="Bound">t</a> <a id="6989" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6991" class="Bound">u</a><a id="6992" class="Symbol">)</a>
        <a id="7002" class="Symbol">...</a> <a id="7006" class="Symbol">|</a> <a id="7008" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="7012" class="Symbol">_</a> <a id="7014" class="Keyword">with</a> <a id="7019" href="Ledger.Conway.Utxo.Properties.html#3177" class="Function">computeProof&#39;</a> <a id="7033" href="Ledger.Conway.Utxo.Properties.html#3023" class="Bound">Γ</a> <a id="7035" href="Ledger.Conway.Utxo.Properties.html#3025" class="Bound">s</a> <a id="7037" href="Ledger.Conway.Utxo.Properties.html#3027" class="Bound">tx</a> <a id="7040" class="Symbol">|</a> <a id="7042" href="Ledger.Conway.Utxo.Properties.html#3208" class="Function">completeness&#39;</a> <a id="7056" class="Symbol">_</a> <a id="7058" class="Symbol">_</a> <a id="7060" class="Symbol">_</a> <a id="7062" class="Symbol">_</a> <a id="7064" class="Bound">h</a>
        <a id="7074" class="Symbol">...</a> <a id="7078" class="Symbol">|</a> <a id="7080" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="7088" class="Symbol">_</a> <a id="7090" class="Symbol">|</a> <a id="7092" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7097" class="Symbol">=</a> <a id="7099" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="7105" class="Keyword">open</a> <a id="7110" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="7124" class="Symbol">⦃...⦄</a>

<a id="7131" class="Keyword">opaque</a>
  <a id="7140" class="Keyword">unfolding</a> <a id="7150" href="abstract-set-theory.FiniteSetTheory.html#240" class="Function">List-Model</a>
  <a id="Computational-UTXO"></a><a id="7163" href="Ledger.Conway.Utxo.Properties.html#7163" class="Function">Computational-UTXO</a> <a id="7182" class="Symbol">:</a> <a id="7184" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="7198" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="7212" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="7221" href="Ledger.Conway.Utxo.Properties.html#7163" class="Function">Computational-UTXO</a> <a id="7240" class="Symbol">=</a> <a id="7242" href="Ledger.Conway.Utxo.Properties.html#2904" class="Function">Computational-UTXO&#39;</a>

<a id="7263" class="Keyword">private</a> <a id="7271" class="Keyword">variable</a>
  <a id="7282" href="Ledger.Conway.Utxo.Properties.html#7282" class="Generalizable">tx</a>                               <a id="7315" class="Symbol">:</a> <a id="7317" href="Ledger.Conway.Transaction.html#4227" class="Record">Tx</a>
  <a id="7322" href="Ledger.Conway.Utxo.Properties.html#7322" class="Generalizable">utxo</a> <a id="7327" href="Ledger.Conway.Utxo.Properties.html#7327" class="Generalizable">utxo&#39;</a>                       <a id="7355" class="Symbol">:</a> <a id="7357" href="Ledger.Conway.Transaction.html#2425" class="Function">UTxO</a>
  <a id="7364" href="Ledger.Conway.Utxo.Properties.html#7364" class="Generalizable">Γ</a>                                <a id="7397" class="Symbol">:</a> <a id="7399" href="Ledger.Conway.Utxo.html#1038" class="Record">UTxOEnv</a>
  <a id="7409" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a> <a id="7419" href="Ledger.Conway.Utxo.Properties.html#7419" class="Generalizable">utxoState&#39;</a>             <a id="7442" class="Symbol">:</a> <a id="7444" href="Ledger.Conway.Utxo.html#1390" class="Record">UTxOState</a>
  <a id="7456" href="Ledger.Conway.Utxo.Properties.html#7456" class="Generalizable">fees</a> <a id="7461" href="Ledger.Conway.Utxo.Properties.html#7461" class="Generalizable">fees&#39;</a> <a id="7467" href="Ledger.Conway.Utxo.Properties.html#7467" class="Generalizable">donations</a> <a id="7477" href="Ledger.Conway.Utxo.Properties.html#7477" class="Generalizable">donations&#39;</a>  <a id="7489" class="Symbol">:</a> <a id="7491" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="7498" href="Ledger.Conway.Utxo.Properties.html#7498" class="Generalizable">deposits</a> <a id="7507" href="Ledger.Conway.Utxo.Properties.html#7507" class="Generalizable">deposits&#39;</a>               <a id="7531" class="Symbol">:</a> <a id="7533" href="Ledger.Conway.Certs.html#553" class="Function">Deposits</a>

<a id="7543" class="Keyword">open</a> <a id="7548" href="Algebra.Morphism.Structures.html#4393" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>
<a id="7585" class="Keyword">private</a>
  <a id="∙-homo-Coin"></a><a id="7595" href="Ledger.Conway.Utxo.Properties.html#7595" class="Function">∙-homo-Coin</a> <a id="7607" class="Symbol">=</a> <a id="7609" href="Algebra.Morphism.Structures.html#2891" class="Field">IsMagmaHomomorphism.homo</a> <a id="7634" class="Symbol">(</a><a id="7635" href="Algebra.Morphism.Structures.html#4470" class="Field">isMagmaHomomorphism</a> <a id="7655" href="Ledger.Conway.TokenAlgebra.Base.html#1124" class="Function">coinIsMonoidHomomorphism</a><a id="7679" class="Symbol">)</a>

<a id="7682" class="Keyword">opaque</a>
  <a id="7691" class="Keyword">unfolding</a> <a id="7701" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a>
  <a id="balance-cong"></a><a id="7711" href="Ledger.Conway.Utxo.Properties.html#7711" class="Function">balance-cong</a> <a id="7724" class="Symbol">:</a>  <a id="7727" href="Ledger.Prelude.html#2304" class="Function Operator">∣</a> <a id="7729" href="Ledger.Conway.Utxo.Properties.html#7322" class="Generalizable">utxo</a> <a id="7734" href="Ledger.Prelude.html#2304" class="Function Operator">∣</a> <a id="7736" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="7739" href="Ledger.Prelude.html#2304" class="Function Operator">∣</a> <a id="7741" href="Ledger.Conway.Utxo.Properties.html#7327" class="Generalizable">utxo&#39;</a> <a id="7747" href="Ledger.Prelude.html#2304" class="Function Operator">∣</a> <a id="7749" class="Symbol">→</a> <a id="7751" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="7759" href="Ledger.Conway.Utxo.Properties.html#7322" class="Generalizable">utxo</a> <a id="7764" href="Algebra.Bundles.html#8008" class="Function Operator">≈</a> <a id="7766" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="7774" href="Ledger.Conway.Utxo.Properties.html#7327" class="Generalizable">utxo&#39;</a>
  <a id="7782" href="Ledger.Conway.Utxo.Properties.html#7711" class="Function">balance-cong</a> <a id="7795" class="Symbol">{</a><a id="7796" href="Ledger.Conway.Utxo.Properties.html#7796" class="Bound">utxo</a><a id="7800" class="Symbol">}</a> <a id="7802" class="Symbol">{</a><a id="7803" href="Ledger.Conway.Utxo.Properties.html#7803" class="Bound">utxo&#39;</a><a id="7808" class="Symbol">}</a> <a id="7810" href="Ledger.Conway.Utxo.Properties.html#7810" class="Bound">eq</a> <a id="7813" class="Symbol">=</a> <a id="7815" href="Axiom.Set.Sum.html#4667" class="Function">indexedSumᵐ-cong</a> <a id="7832" class="Symbol">{</a><a id="7833" class="Argument">M</a> <a id="7835" class="Symbol">=</a> <a id="7837" href="Ledger.Conway.TokenAlgebra.Base.html#504" class="Function">Value</a><a id="7842" class="Symbol">}</a> <a id="7844" class="Symbol">{</a><a id="7845" class="Argument">x</a> <a id="7847" class="Symbol">=</a> <a id="7849" class="Symbol">(</a><a id="7850" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7860" href="Ledger.Conway.Transaction.html#5096" class="Function">txOutHash</a> <a id="7870" href="Ledger.Conway.Utxo.Properties.html#7796" class="Bound">utxo</a><a id="7874" class="Symbol">)</a> <a id="7876" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="7878" class="Symbol">}</a> <a id="7880" class="Symbol">{(</a><a id="7882" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7892" href="Ledger.Conway.Transaction.html#5096" class="Function">txOutHash</a> <a id="7902" href="Ledger.Conway.Utxo.Properties.html#7803" class="Bound">utxo&#39;</a><a id="7907" class="Symbol">)</a> <a id="7909" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="7911" class="Symbol">}</a> <a id="7913" class="Symbol">(</a><a id="7914" href="Axiom.Set.Properties.html#5411" class="Function">map-≡ᵉ</a> <a id="7921" href="Ledger.Conway.Utxo.Properties.html#7810" class="Bound">eq</a><a id="7923" class="Symbol">)</a>

  <a id="balance-cong-coin"></a><a id="7928" href="Ledger.Conway.Utxo.Properties.html#7928" class="Function">balance-cong-coin</a> <a id="7946" class="Symbol">:</a> <a id="7948" href="Ledger.Prelude.html#2304" class="Function Operator">∣</a> <a id="7950" href="Ledger.Conway.Utxo.Properties.html#7322" class="Generalizable">utxo</a> <a id="7955" href="Ledger.Prelude.html#2304" class="Function Operator">∣</a> <a id="7957" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="7960" href="Ledger.Prelude.html#2304" class="Function Operator">∣</a> <a id="7962" href="Ledger.Conway.Utxo.Properties.html#7327" class="Generalizable">utxo&#39;</a> <a id="7968" href="Ledger.Prelude.html#2304" class="Function Operator">∣</a> <a id="7970" class="Symbol">→</a> <a id="7972" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="7981" href="Ledger.Conway.Utxo.Properties.html#7322" class="Generalizable">utxo</a> <a id="7986" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7988" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="7997" href="Ledger.Conway.Utxo.Properties.html#7327" class="Generalizable">utxo&#39;</a>
  <a id="8005" href="Ledger.Conway.Utxo.Properties.html#7928" class="Function">balance-cong-coin</a> <a id="8023" class="Symbol">{</a><a id="8024" href="Ledger.Conway.Utxo.Properties.html#8024" class="Bound">utxo</a><a id="8028" class="Symbol">}</a> <a id="8030" class="Symbol">{</a><a id="8031" href="Ledger.Conway.Utxo.Properties.html#8031" class="Bound">utxo&#39;</a><a id="8036" class="Symbol">}</a> <a id="8038" href="Ledger.Conway.Utxo.Properties.html#8038" class="Bound">x</a> <a id="8040" class="Symbol">=</a>
    <a id="8046" href="Ledger.Conway.TokenAlgebra.Base.html#1124" class="Function">coinIsMonoidHomomorphism</a> <a id="8071" class="Symbol">.</a><a id="8072" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8080" class="Symbol">(</a><a id="8081" href="Ledger.Conway.Utxo.Properties.html#7711" class="Function">balance-cong</a> <a id="8094" class="Symbol">{</a><a id="8095" href="Ledger.Conway.Utxo.Properties.html#8024" class="Bound">utxo</a><a id="8099" class="Symbol">}</a> <a id="8101" class="Symbol">{</a><a id="8102" href="Ledger.Conway.Utxo.Properties.html#8031" class="Bound">utxo&#39;</a><a id="8107" class="Symbol">}</a> <a id="8109" href="Ledger.Conway.Utxo.Properties.html#8038" class="Bound">x</a><a id="8110" class="Symbol">)</a>
    <a id="8116" class="Keyword">where</a> <a id="8122" class="Keyword">open</a> <a id="8127" href="Algebra.Morphism.Structures.html#4393" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>

  <a id="balance-∪"></a><a id="8167" href="Ledger.Conway.Utxo.Properties.html#8167" class="Function">balance-∪</a> <a id="8177" class="Symbol">:</a> <a id="8179" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="8188" class="Symbol">(</a><a id="8189" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8193" href="Ledger.Conway.Utxo.Properties.html#7322" class="Generalizable">utxo</a><a id="8197" class="Symbol">)</a> <a id="8199" class="Symbol">(</a><a id="8200" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8204" href="Ledger.Conway.Utxo.Properties.html#7327" class="Generalizable">utxo&#39;</a><a id="8209" class="Symbol">)</a>
                       <a id="8234" class="Symbol">→</a> <a id="8236" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="8245" class="Symbol">(</a><a id="8246" href="Ledger.Conway.Utxo.Properties.html#7322" class="Generalizable">utxo</a> <a id="8251" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8254" href="Ledger.Conway.Utxo.Properties.html#7327" class="Generalizable">utxo&#39;</a><a id="8259" class="Symbol">)</a> <a id="8261" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8263" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="8272" href="Ledger.Conway.Utxo.Properties.html#7322" class="Generalizable">utxo</a> <a id="8277" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8279" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="8288" href="Ledger.Conway.Utxo.Properties.html#7327" class="Generalizable">utxo&#39;</a>
  <a id="8296" href="Ledger.Conway.Utxo.Properties.html#8167" class="Function">balance-∪</a> <a id="8306" class="Symbol">{</a><a id="8307" href="Ledger.Conway.Utxo.Properties.html#8307" class="Bound">utxo</a><a id="8311" class="Symbol">}</a> <a id="8313" class="Symbol">{</a><a id="8314" href="Ledger.Conway.Utxo.Properties.html#8314" class="Bound">utxo&#39;</a><a id="8319" class="Symbol">}</a> <a id="8321" href="Ledger.Conway.Utxo.Properties.html#8321" class="Bound">h</a> <a id="8323" class="Symbol">=</a> <a id="8325" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="8335" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="8344" class="Symbol">(</a><a id="8345" href="Ledger.Conway.Utxo.Properties.html#8307" class="Bound">utxo</a> <a id="8350" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8353" href="Ledger.Conway.Utxo.Properties.html#8314" class="Bound">utxo&#39;</a><a id="8358" class="Symbol">)</a>
      <a id="8366" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8369" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8377" href="Ledger.Conway.TokenAlgebra.Base.html#1124" class="Function">coinIsMonoidHomomorphism</a>
      <a id="8408" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8410" href="Axiom.Set.Sum.html#4667" class="Function">indexedSumᵐ-cong</a> <a id="8427" class="Symbol">{</a><a id="8428" class="Argument">f</a> <a id="8430" class="Symbol">=</a> <a id="8432" href="Ledger.Conway.Transaction.html#5185" class="Function">getValueʰ</a> <a id="8442" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="8444" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="8449" class="Symbol">}</a> <a id="8451" class="Symbol">{</a><a id="8452" class="Argument">x</a> <a id="8454" class="Symbol">=</a> <a id="8456" class="Symbol">(</a><a id="8457" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8467" href="Ledger.Conway.Transaction.html#5096" class="Function">txOutHash</a> <a id="8477" class="Symbol">(</a><a id="8478" href="Ledger.Conway.Utxo.Properties.html#8307" class="Bound">utxo</a> <a id="8483" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8486" href="Ledger.Conway.Utxo.Properties.html#8314" class="Bound">utxo&#39;</a><a id="8491" class="Symbol">))</a> <a id="8494" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8496" class="Symbol">}</a> <a id="8498" class="Symbol">{((</a><a id="8501" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8511" href="Ledger.Conway.Transaction.html#5096" class="Function">txOutHash</a> <a id="8521" href="Ledger.Conway.Utxo.Properties.html#8307" class="Bound">utxo</a><a id="8525" class="Symbol">)</a> <a id="8527" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8529" class="Symbol">)</a> <a id="8531" href="Axiom.Set.Sum.html#5189" class="Function Operator">∪ˡᶠ</a> <a id="8535" class="Symbol">((</a><a id="8537" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8547" href="Ledger.Conway.Transaction.html#5096" class="Function">txOutHash</a> <a id="8557" href="Ledger.Conway.Utxo.Properties.html#8314" class="Bound">utxo&#39;</a><a id="8562" class="Symbol">)</a> <a id="8564" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8566" class="Symbol">)}</a> <a id="8569" class="Symbol">(</a><a id="8570" href="Axiom.Set.Map.html#7309" class="Function">disjoint-∪ˡ-mapValues</a> <a id="8592" class="Symbol">{</a><a id="8593" class="Argument">M</a> <a id="8595" class="Symbol">=</a> <a id="8597" href="Ledger.Conway.Utxo.Properties.html#8307" class="Bound">utxo</a><a id="8601" class="Symbol">}</a> <a id="8603" class="Symbol">{</a><a id="8604" href="Ledger.Conway.Utxo.Properties.html#8314" class="Bound">utxo&#39;</a><a id="8609" class="Symbol">}</a> <a id="8611" class="Symbol">_</a> <a id="8613" href="Ledger.Conway.Utxo.Properties.html#8321" class="Bound">h</a><a id="8614" class="Symbol">)</a>
      <a id="8622" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8628" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="8633" class="Symbol">(</a><a id="8634" href="Axiom.Set.Sum.html#4466" class="Function">indexedSumᵐ</a> <a id="8646" class="Symbol">_</a> <a id="8648" class="Symbol">(((</a><a id="8651" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8661" href="Ledger.Conway.Transaction.html#5096" class="Function">txOutHash</a> <a id="8671" href="Ledger.Conway.Utxo.Properties.html#8307" class="Bound">utxo</a><a id="8675" class="Symbol">)</a> <a id="8677" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8679" class="Symbol">)</a> <a id="8681" href="Axiom.Set.Sum.html#5189" class="Function Operator">∪ˡᶠ</a> <a id="8685" class="Symbol">((</a><a id="8687" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8697" href="Ledger.Conway.Transaction.html#5096" class="Function">txOutHash</a> <a id="8707" href="Ledger.Conway.Utxo.Properties.html#8314" class="Bound">utxo&#39;</a><a id="8712" class="Symbol">)</a> <a id="8714" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8716" class="Symbol">)))</a>
      <a id="8726" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8729" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8737" href="Ledger.Conway.TokenAlgebra.Base.html#1124" class="Function">coinIsMonoidHomomorphism</a>
       <a id="8769" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8771" href="Axiom.Set.Sum.html#5347" class="Function">indexedSumᵐ-∪</a> <a id="8785" class="Symbol">{</a><a id="8786" class="Argument">M</a> <a id="8788" class="Symbol">=</a> <a id="8790" href="Ledger.Conway.TokenAlgebra.Base.html#504" class="Function">Value</a><a id="8795" class="Symbol">}</a> <a id="8797" class="Symbol">{</a><a id="8798" class="Argument">X</a> <a id="8800" class="Symbol">=</a> <a id="8802" class="Symbol">(</a><a id="8803" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8813" href="Ledger.Conway.Transaction.html#5096" class="Function">txOutHash</a> <a id="8823" href="Ledger.Conway.Utxo.Properties.html#8307" class="Bound">utxo</a><a id="8827" class="Symbol">)</a> <a id="8829" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8831" class="Symbol">}</a> <a id="8833" class="Symbol">{(</a><a id="8835" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8845" href="Ledger.Conway.Transaction.html#5096" class="Function">txOutHash</a> <a id="8855" href="Ledger.Conway.Utxo.Properties.html#8314" class="Bound">utxo&#39;</a><a id="8860" class="Symbol">)</a> <a id="8862" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8864" class="Symbol">}</a>
       <a id="8873" class="Symbol">(λ</a> <a id="8876" href="Ledger.Conway.Utxo.Properties.html#8876" class="Bound">x</a> <a id="8878" href="Ledger.Conway.Utxo.Properties.html#8878" class="Bound">x₁</a> <a id="8881" class="Symbol">→</a> <a id="8883" href="Ledger.Conway.Utxo.Properties.html#8321" class="Bound">h</a> <a id="8885" class="Symbol">(</a><a id="8886" href="Axiom.Set.Rel.html#4590" class="Function">dom-mapʳ⊆</a> <a id="8896" href="Ledger.Conway.Utxo.Properties.html#8876" class="Bound">x</a><a id="8897" class="Symbol">)</a> <a id="8899" class="Symbol">(</a><a id="8900" href="Axiom.Set.Rel.html#4590" class="Function">dom-mapʳ⊆</a> <a id="8910" href="Ledger.Conway.Utxo.Properties.html#8878" class="Bound">x₁</a><a id="8912" class="Symbol">))</a>
       <a id="8922" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8928" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="8933" class="Symbol">(</a><a id="8934" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="8942" href="Ledger.Conway.Utxo.Properties.html#8307" class="Bound">utxo</a> <a id="8947" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8949" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="8957" href="Ledger.Conway.Utxo.Properties.html#8314" class="Bound">utxo&#39;</a><a id="8962" class="Symbol">)</a>
      <a id="8970" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8973" href="Ledger.Conway.Utxo.Properties.html#7595" class="Function">∙-homo-Coin</a> <a id="8985" class="Symbol">_</a> <a id="8987" class="Symbol">_</a> <a id="8989" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8995" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="9004" href="Ledger.Conway.Utxo.Properties.html#8307" class="Bound">utxo</a> <a id="9009" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9011" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="9020" href="Ledger.Conway.Utxo.Properties.html#8314" class="Bound">utxo&#39;</a>
      <a id="9032" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="9038" class="Keyword">where</a> <a id="9044" class="Keyword">open</a> <a id="9049" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="9088" class="Symbol">{</a><a id="9089" class="Argument">A</a> <a id="9091" class="Symbol">=</a> <a id="9093" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="9094" class="Symbol">}</a> <a id="9096" class="Symbol">(</a><a id="9097" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html#574" class="Function">solve-macro</a> <a id="9109" class="Symbol">(</a><a id="9110" class="Keyword">quoteTerm</a> <a id="9120" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="9130" class="Symbol">))</a>

<a id="9134" class="Keyword">module</a> <a id="9141" href="Ledger.Conway.Utxo.Properties.html#9141" class="Module">_</a> <a id="9143" class="Symbol">{</a><a id="9144" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a> <a id="9148" class="Symbol">:</a> <a id="9150" class="Symbol">_}</a> <a id="9153" class="Symbol">(</a><a id="9154" class="Keyword">open</a> <a id="9159" href="Ledger.Conway.Transaction.html#2714" class="Module">TxBody</a> <a id="9166" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="9169" class="Symbol">)</a> <a id="9171" class="Keyword">where</a> <a id="9177" class="Keyword">opaque</a>
  <a id="9186" class="Keyword">unfolding</a> <a id="9196" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a>
  <a id="9203" class="Keyword">open</a> <a id="9208" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="9247" class="Symbol">{</a><a id="9248" class="Argument">A</a> <a id="9250" class="Symbol">=</a> <a id="9252" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="9253" class="Symbol">}</a> <a id="9255" class="Symbol">(</a><a id="9256" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html#574" class="Function">solve-macro</a> <a id="9268" class="Symbol">(</a><a id="9269" class="Keyword">quoteTerm</a> <a id="9279" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="9289" class="Symbol">))</a>

  <a id="9295" href="Ledger.Conway.Utxo.Properties.html#9295" class="Function">newTxid⇒disj</a> <a id="9308" class="Symbol">:</a> <a id="9310" href="Ledger.Conway.Transaction.html#3257" class="Field">txid</a> <a id="9315" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="9317" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9322" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9328" class="Symbol">(</a><a id="9329" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9333" href="Ledger.Conway.Utxo.Properties.html#7322" class="Generalizable">utxo</a><a id="9337" class="Symbol">)</a>
              <a id="9353" class="Symbol">→</a> <a id="9355" href="Axiom.Set.html#9583" class="Function">disjoint&#39;</a> <a id="9365" class="Symbol">(</a><a id="9366" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9370" href="Ledger.Conway.Utxo.Properties.html#7322" class="Generalizable">utxo</a><a id="9374" class="Symbol">)</a> <a id="9376" class="Symbol">(</a><a id="9377" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9381" class="Symbol">(</a><a id="9382" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="9387" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="9390" class="Symbol">))</a>
  <a id="9395" href="Ledger.Conway.Utxo.Properties.html#9295" class="Function">newTxid⇒disj</a> <a id="9408" href="Ledger.Conway.Utxo.Properties.html#9408" class="Bound">id∉utxo</a> <a id="9416" class="Symbol">=</a> <a id="9418" href="Axiom.Set.Properties.html#13484" class="Function">disjoint⇒disjoint&#39;</a> <a id="9437" class="Symbol">λ</a> <a id="9439" href="Ledger.Conway.Utxo.Properties.html#9439" class="Bound">h</a> <a id="9441" href="Ledger.Conway.Utxo.Properties.html#9441" class="Bound">h&#39;</a> <a id="9444" class="Symbol">→</a> <a id="9446" href="Ledger.Conway.Utxo.Properties.html#9408" class="Bound">id∉utxo</a> <a id="9454" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9456" href="Function.Bundles.html#4810" class="Field">to</a> <a id="9459" href="Axiom.Set.html#5140" class="Function">∈-map</a>
    <a id="9469" class="Symbol">(</a><a id="9470" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="9473" class="Symbol">(</a><a id="9474" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9479" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9484" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="9490" href="Ledger.Conway.Utxo.Properties.html#9441" class="Bound">h&#39;</a> <a id="9493" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9496" class="Symbol">λ</a> <a id="9498" class="Keyword">where</a>
          <a id="9514" class="Symbol">(_</a> <a id="9517" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9519" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9524" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9526" href="Ledger.Conway.Utxo.Properties.html#9526" class="Bound">h&#39;&#39;</a><a id="9529" class="Symbol">)</a> <a id="9531" class="Symbol">→</a> <a id="9533" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9538" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9543" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="9549" href="Ledger.Conway.Utxo.Properties.html#9526" class="Bound">h&#39;&#39;</a> <a id="9553" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9556" class="Symbol">λ</a> <a id="9558" class="Keyword">where</a> <a id="9564" class="Symbol">(_</a> <a id="9567" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9569" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9574" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9576" class="Symbol">_)</a> <a id="9579" class="Symbol">→</a> <a id="9581" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9585" class="Symbol">)</a> <a id="9587" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9589" href="Ledger.Conway.Utxo.Properties.html#9439" class="Bound">h</a><a id="9590" class="Symbol">)</a>

  <a id="9595" href="Ledger.Conway.Utxo.Properties.html#9595" class="Function">consumedCoinEquality</a> <a id="9616" class="Symbol">:</a> <a id="9618" class="Symbol">∀</a> <a id="9620" class="Symbol">{</a><a id="9621" href="Ledger.Conway.Utxo.Properties.html#9621" class="Bound">pp</a><a id="9623" class="Symbol">}</a>
    <a id="9629" class="Symbol">→</a> <a id="9631" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="9636" href="Ledger.Conway.Transaction.html#2872" class="Field">mint</a> <a id="9641" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9643" class="Number">0</a>
    <a id="9649" class="Symbol">→</a> <a id="9651" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="9656" class="Symbol">(</a><a id="9657" href="Ledger.Conway.Utxo.html#10691" class="Function">consumed</a> <a id="9666" href="Ledger.Conway.Utxo.Properties.html#9621" class="Bound">pp</a> <a id="9669" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a> <a id="9679" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="9682" class="Symbol">)</a>
    <a id="9688" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9690" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="9699" class="Symbol">((</a><a id="9701" href="Ledger.Conway.Utxo.html#1454" class="Field">UTxOState.utxo</a> <a id="9716" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a><a id="9725" class="Symbol">)</a> <a id="9727" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9729" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="9734" class="Symbol">)</a> <a id="9736" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9738" href="Ledger.Conway.Utxo.html#10433" class="Function">depositRefunds</a> <a id="9753" href="Ledger.Conway.Utxo.Properties.html#9621" class="Bound">pp</a> <a id="9756" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a> <a id="9766" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a> <a id="9770" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9772" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="9780" href="Ledger.Conway.Transaction.html#2982" class="Field">txwdrls</a>
  <a id="9790" href="Ledger.Conway.Utxo.Properties.html#9595" class="Function">consumedCoinEquality</a> <a id="9811" class="Symbol">{</a><a id="9812" href="Ledger.Conway.Utxo.Properties.html#9812" class="Bound">utxoState</a><a id="9821" class="Symbol">}</a> <a id="9823" class="Symbol">{</a><a id="9824" href="Ledger.Conway.Utxo.Properties.html#9824" class="Bound">pp</a><a id="9826" class="Symbol">}</a> <a id="9828" href="Ledger.Conway.Utxo.Properties.html#9828" class="Bound">h</a> <a id="9830" class="Symbol">=</a>
    <a id="9836" class="Keyword">let</a>  <a id="9841" href="Ledger.Conway.Utxo.Properties.html#9841" class="Bound">utxo</a> <a id="9846" class="Symbol">=</a> <a id="9848" href="Ledger.Conway.Utxo.html#1454" class="Field">UTxOState.utxo</a> <a id="9863" href="Ledger.Conway.Utxo.Properties.html#9812" class="Bound">utxoState</a>
         <a id="9882" href="Ledger.Conway.Utxo.Properties.html#9882" class="Bound">dRefs</a> <a id="9888" class="Symbol">=</a> <a id="9890" href="Ledger.Conway.Utxo.html#10433" class="Function">depositRefunds</a> <a id="9905" href="Ledger.Conway.Utxo.Properties.html#9824" class="Bound">pp</a> <a id="9908" href="Ledger.Conway.Utxo.Properties.html#9812" class="Bound">utxoState</a> <a id="9918" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a>
         <a id="9931" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a> <a id="9937" class="Symbol">=</a> <a id="9939" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="9947" href="Ledger.Conway.Transaction.html#2982" class="Field">txwdrls</a>
    <a id="9959" class="Keyword">in</a> <a id="9962" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="9972" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="9977" class="Symbol">(</a><a id="9978" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="9986" class="Symbol">(</a><a id="9987" href="Ledger.Conway.Utxo.Properties.html#9841" class="Bound">utxo</a> <a id="9992" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9994" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="9999" class="Symbol">)</a> <a id="10001" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10003" href="Ledger.Conway.Transaction.html#2872" class="Field">mint</a> <a id="10008" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10010" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="10017" href="Ledger.Conway.Utxo.Properties.html#9882" class="Bound">dRefs</a> <a id="10023" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10025" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="10032" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a><a id="10037" class="Symbol">)</a>
      <a id="10045" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10048" href="Ledger.Conway.Utxo.Properties.html#7595" class="Function">∙-homo-Coin</a> <a id="10060" class="Symbol">_</a> <a id="10062" class="Symbol">_</a> <a id="10064" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10070" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="10075" class="Symbol">(</a><a id="10076" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="10084" class="Symbol">(</a><a id="10085" href="Ledger.Conway.Utxo.Properties.html#9841" class="Bound">utxo</a> <a id="10090" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10092" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="10097" class="Symbol">)</a> <a id="10099" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10101" href="Ledger.Conway.Transaction.html#2872" class="Field">mint</a> <a id="10106" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10108" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="10115" href="Ledger.Conway.Utxo.Properties.html#9882" class="Bound">dRefs</a><a id="10120" class="Symbol">)</a> <a id="10122" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10124" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="10129" class="Symbol">(</a><a id="10130" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="10137" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10139" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a><a id="10144" class="Symbol">)</a>
 <a id="10147" class="Comment">--     ≡⟨ cong (coin (balance (utxo ∣ txins) + mint + inject dRefs) +_) (property _) ⟩</a>
      <a id="10240" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10243" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10248" class="Symbol">(</a><a id="10249" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="10254" class="Symbol">(</a><a id="10255" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="10263" class="Symbol">(</a><a id="10264" href="Ledger.Conway.Utxo.Properties.html#9841" class="Bound">utxo</a> <a id="10269" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10271" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="10276" class="Symbol">)</a> <a id="10278" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10280" href="Ledger.Conway.Transaction.html#2872" class="Field">mint</a> <a id="10285" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10287" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="10294" href="Ledger.Conway.Utxo.Properties.html#9882" class="Bound">dRefs</a><a id="10299" class="Symbol">)</a> <a id="10301" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="10303" class="Symbol">)</a> <a id="10305" class="Symbol">(</a><a id="10306" href="Ledger.Conway.TokenAlgebra.Base.html#1073" class="Function">coin∘inject≗id</a> <a id="10321" class="Symbol">_)</a> <a id="10324" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10330" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="10335" class="Symbol">(</a><a id="10336" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="10344" class="Symbol">(</a><a id="10345" href="Ledger.Conway.Utxo.Properties.html#9841" class="Bound">utxo</a> <a id="10350" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10352" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="10357" class="Symbol">)</a> <a id="10359" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10361" href="Ledger.Conway.Transaction.html#2872" class="Field">mint</a> <a id="10366" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10368" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="10375" href="Ledger.Conway.Utxo.Properties.html#9882" class="Bound">dRefs</a><a id="10380" class="Symbol">)</a> <a id="10382" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10384" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a>
      <a id="10396" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10399" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10404" class="Symbol">(</a><a id="10405" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="10408" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a><a id="10413" class="Symbol">)</a> <a id="10415" class="Symbol">(</a><a id="10416" href="Ledger.Conway.Utxo.Properties.html#7595" class="Function">∙-homo-Coin</a> <a id="10428" class="Symbol">_</a> <a id="10430" class="Symbol">_)</a> <a id="10433" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10439" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="10444" class="Symbol">(</a><a id="10445" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="10453" class="Symbol">(</a><a id="10454" href="Ledger.Conway.Utxo.Properties.html#9841" class="Bound">utxo</a> <a id="10459" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10461" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="10466" class="Symbol">)</a> <a id="10468" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10470" href="Ledger.Conway.Transaction.html#2872" class="Field">mint</a><a id="10474" class="Symbol">)</a> <a id="10476" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10478" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="10483" class="Symbol">(</a><a id="10484" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="10491" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10493" href="Ledger.Conway.Utxo.Properties.html#9882" class="Bound">dRefs</a><a id="10498" class="Symbol">)</a> <a id="10500" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10502" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a>
<a id="10508" class="Comment">--      ≡⟨ cong (λ u → coin (balance (utxo ∣ txins) + mint) + u + sWdls) (property _) ⟩</a>
      <a id="10602" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10605" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10610" class="Symbol">(λ</a> <a id="10613" href="Ledger.Conway.Utxo.Properties.html#10613" class="Bound">u</a> <a id="10615" class="Symbol">→</a> <a id="10617" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="10622" class="Symbol">(</a><a id="10623" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="10631" class="Symbol">(</a><a id="10632" href="Ledger.Conway.Utxo.Properties.html#9841" class="Bound">utxo</a> <a id="10637" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10639" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="10644" class="Symbol">)</a> <a id="10646" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10648" href="Ledger.Conway.Transaction.html#2872" class="Field">mint</a><a id="10652" class="Symbol">)</a> <a id="10654" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10656" href="Ledger.Conway.Utxo.Properties.html#10613" class="Bound">u</a> <a id="10658" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10660" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a><a id="10665" class="Symbol">)</a> <a id="10667" class="Symbol">(</a><a id="10668" href="Ledger.Conway.TokenAlgebra.Base.html#1073" class="Function">coin∘inject≗id</a> <a id="10683" class="Symbol">_)</a> <a id="10686" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10692" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="10697" class="Symbol">(</a><a id="10698" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="10706" class="Symbol">(</a><a id="10707" href="Ledger.Conway.Utxo.Properties.html#9841" class="Bound">utxo</a> <a id="10712" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10714" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="10719" class="Symbol">)</a> <a id="10721" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10723" href="Ledger.Conway.Transaction.html#2872" class="Field">mint</a><a id="10727" class="Symbol">)</a> <a id="10729" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10731" href="Ledger.Conway.Utxo.Properties.html#9882" class="Bound">dRefs</a> <a id="10737" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10739" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a>
      <a id="10751" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10754" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10759" class="Symbol">(λ</a> <a id="10762" href="Ledger.Conway.Utxo.Properties.html#10762" class="Bound">u</a> <a id="10764" class="Symbol">→</a> <a id="10766" href="Ledger.Conway.Utxo.Properties.html#10762" class="Bound">u</a> <a id="10768" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10770" href="Ledger.Conway.Utxo.Properties.html#9882" class="Bound">dRefs</a> <a id="10776" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10778" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a><a id="10783" class="Symbol">)</a> <a id="10785" class="Symbol">(</a><a id="10786" href="Ledger.Conway.Utxo.Properties.html#7595" class="Function">∙-homo-Coin</a> <a id="10798" class="Symbol">_</a> <a id="10800" class="Symbol">_)</a> <a id="10803" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10809" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="10818" class="Symbol">(</a><a id="10819" href="Ledger.Conway.Utxo.Properties.html#9841" class="Bound">utxo</a> <a id="10824" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10826" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="10831" class="Symbol">)</a> <a id="10833" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10835" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="10840" href="Ledger.Conway.Transaction.html#2872" class="Field">mint</a> <a id="10845" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10847" href="Ledger.Conway.Utxo.Properties.html#9882" class="Bound">dRefs</a> <a id="10853" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10855" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a>
      <a id="10867" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10870" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10875" class="Symbol">(λ</a> <a id="10878" href="Ledger.Conway.Utxo.Properties.html#10878" class="Bound">x</a> <a id="10880" class="Symbol">→</a> <a id="10882" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="10891" class="Symbol">(</a><a id="10892" href="Ledger.Conway.Utxo.Properties.html#9841" class="Bound">utxo</a> <a id="10897" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10899" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="10904" class="Symbol">)</a> <a id="10906" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10908" href="Ledger.Conway.Utxo.Properties.html#10878" class="Bound">x</a> <a id="10910" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10912" href="Ledger.Conway.Utxo.Properties.html#9882" class="Bound">dRefs</a> <a id="10918" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10920" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a><a id="10925" class="Symbol">)</a> <a id="10927" href="Ledger.Conway.Utxo.Properties.html#9828" class="Bound">h</a> <a id="10929" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10935" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="10944" class="Symbol">(</a><a id="10945" href="Ledger.Conway.Utxo.Properties.html#9841" class="Bound">utxo</a> <a id="10950" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10952" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="10957" class="Symbol">)</a> <a id="10959" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10961" class="Number">0</a> <a id="10963" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10965" href="Ledger.Conway.Utxo.Properties.html#9882" class="Bound">dRefs</a> <a id="10971" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10973" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a>
      <a id="10985" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10988" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10993" class="Symbol">(λ</a> <a id="10996" href="Ledger.Conway.Utxo.Properties.html#10996" class="Bound">x</a> <a id="10998" class="Symbol">→</a> <a id="11000" href="Ledger.Conway.Utxo.Properties.html#10996" class="Bound">x</a> <a id="11002" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11004" href="Ledger.Conway.Utxo.Properties.html#9882" class="Bound">dRefs</a> <a id="11010" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11012" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a><a id="11017" class="Symbol">)</a> <a id="11019" class="Symbol">(</a><a id="11020" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="11032" class="Symbol">(</a><a id="11033" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="11042" class="Symbol">(</a><a id="11043" href="Ledger.Conway.Utxo.Properties.html#9841" class="Bound">utxo</a> <a id="11048" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="11050" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="11055" class="Symbol">)))</a> <a id="11059" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="11065" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="11074" class="Symbol">(</a><a id="11075" href="Ledger.Conway.Utxo.Properties.html#9841" class="Bound">utxo</a> <a id="11080" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="11082" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="11087" class="Symbol">)</a> <a id="11089" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11091" href="Ledger.Conway.Utxo.Properties.html#9882" class="Bound">dRefs</a> <a id="11097" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11099" href="Ledger.Conway.Utxo.Properties.html#9931" class="Bound">sWdls</a>
      <a id="11111" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="11116" href="Ledger.Conway.Utxo.Properties.html#11116" class="Function">producedCoinEquality</a> <a id="11137" class="Symbol">:</a> <a id="11139" class="Symbol">∀</a> <a id="11141" class="Symbol">{</a><a id="11142" href="Ledger.Conway.Utxo.Properties.html#11142" class="Bound">pp</a><a id="11144" class="Symbol">}</a>
    <a id="11150" class="Symbol">→</a> <a id="11152" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="11157" class="Symbol">(</a><a id="11158" href="Ledger.Conway.Utxo.html#10899" class="Function">produced</a> <a id="11167" href="Ledger.Conway.Utxo.Properties.html#11142" class="Bound">pp</a> <a id="11170" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a> <a id="11180" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="11183" class="Symbol">)</a>
    <a id="11189" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11191" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="11200" class="Symbol">(</a><a id="11201" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="11206" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="11209" class="Symbol">)</a> <a id="11211" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11213" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a> <a id="11219" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11221" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="11233" href="Ledger.Conway.Utxo.Properties.html#11142" class="Bound">pp</a> <a id="11236" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a> <a id="11246" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a> <a id="11250" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11252" href="Ledger.Conway.Transaction.html#3086" class="Field">txdonation</a>
  <a id="11265" href="Ledger.Conway.Utxo.Properties.html#11116" class="Function">producedCoinEquality</a> <a id="11286" class="Symbol">{</a><a id="11287" href="Ledger.Conway.Utxo.Properties.html#11287" class="Bound">utxoState</a><a id="11296" class="Symbol">}</a> <a id="11298" class="Symbol">{</a><a id="11299" href="Ledger.Conway.Utxo.Properties.html#11299" class="Bound">pp</a><a id="11301" class="Symbol">}</a> <a id="11303" class="Symbol">=</a>
      <a id="11311" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="11321" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="11326" class="Symbol">(</a><a id="11327" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="11335" class="Symbol">(</a><a id="11336" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="11341" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="11344" class="Symbol">)</a> <a id="11346" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11348" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="11355" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a>
      <a id="11367" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11369" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="11376" class="Symbol">(</a><a id="11377" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="11389" href="Ledger.Conway.Utxo.Properties.html#11299" class="Bound">pp</a> <a id="11392" href="Ledger.Conway.Utxo.Properties.html#11287" class="Bound">utxoState</a> <a id="11402" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="11405" class="Symbol">)</a> <a id="11407" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11409" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="11416" href="Ledger.Conway.Transaction.html#3086" class="Field">txdonation</a><a id="11426" class="Symbol">)</a>
      <a id="11434" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11437" href="Ledger.Conway.Utxo.Properties.html#7595" class="Function">∙-homo-Coin</a> <a id="11449" class="Symbol">_</a> <a id="11451" class="Symbol">_</a> <a id="11453" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="11459" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="11464" class="Symbol">(</a><a id="11465" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="11473" class="Symbol">(</a><a id="11474" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="11479" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="11482" class="Symbol">)</a> <a id="11484" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11486" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="11493" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a>
      <a id="11505" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11507" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="11514" class="Symbol">(</a><a id="11515" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="11527" href="Ledger.Conway.Utxo.Properties.html#11299" class="Bound">pp</a> <a id="11530" href="Ledger.Conway.Utxo.Properties.html#11287" class="Bound">utxoState</a> <a id="11540" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="11543" class="Symbol">))</a> <a id="11546" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11548" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="11553" class="Symbol">(</a><a id="11554" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="11561" href="Ledger.Conway.Transaction.html#3086" class="Field">txdonation</a><a id="11571" class="Symbol">)</a>
      <a id="11579" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11582" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="11587" class="Symbol">(</a><a id="11588" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="11591" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="11596" class="Symbol">(</a><a id="11597" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="11604" href="Ledger.Conway.Transaction.html#3086" class="Field">txdonation</a><a id="11614" class="Symbol">))</a> <a id="11617" class="Symbol">(</a><a id="11618" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="11632" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="11637" class="Symbol">(</a><a id="11638" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="11646" class="Symbol">(</a><a id="11647" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="11652" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="11655" class="Symbol">)</a> <a id="11657" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11659" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="11666" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a>
          <a id="11682" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11684" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="11691" class="Symbol">(</a><a id="11692" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="11704" href="Ledger.Conway.Utxo.Properties.html#11299" class="Bound">pp</a> <a id="11707" href="Ledger.Conway.Utxo.Properties.html#11287" class="Bound">utxoState</a> <a id="11717" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="11720" class="Symbol">))</a>
          <a id="11733" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11736" href="Ledger.Conway.Utxo.Properties.html#7595" class="Function">∙-homo-Coin</a> <a id="11748" class="Symbol">_</a> <a id="11750" class="Symbol">_</a> <a id="11752" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11762" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="11767" class="Symbol">(</a><a id="11768" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="11776" class="Symbol">(</a><a id="11777" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="11782" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="11785" class="Symbol">)</a> <a id="11787" href="Ledger.Conway.TokenAlgebra.Base.html#731" class="Function Operator">+ᵛ</a> <a id="11790" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="11797" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a><a id="11802" class="Symbol">)</a>
          <a id="11814" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11818" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="11823" class="Symbol">(</a><a id="11824" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="11831" class="Symbol">(</a><a id="11832" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="11844" href="Ledger.Conway.Utxo.Properties.html#11299" class="Bound">pp</a> <a id="11847" href="Ledger.Conway.Utxo.Properties.html#11287" class="Bound">utxoState</a> <a id="11857" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="11860" class="Symbol">))</a>
<a id="11863" class="Comment">--          ≡⟨ cong! (property _) ⟩</a>
          <a id="11909" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11912" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="11918" class="Symbol">(</a><a id="11919" href="Ledger.Conway.TokenAlgebra.Base.html#1073" class="Function">coin∘inject≗id</a> <a id="11934" class="Symbol">_)</a> <a id="11937" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11947" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="11952" class="Symbol">(</a><a id="11953" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="11961" class="Symbol">(</a><a id="11962" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="11967" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="11970" class="Symbol">)</a> <a id="11972" href="Ledger.Conway.TokenAlgebra.Base.html#731" class="Function Operator">+ᵛ</a> <a id="11975" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="11982" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a><a id="11987" class="Symbol">)</a>
          <a id="11999" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="12003" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="12015" href="Ledger.Conway.Utxo.Properties.html#11299" class="Bound">pp</a> <a id="12018" href="Ledger.Conway.Utxo.Properties.html#11287" class="Bound">utxoState</a> <a id="12028" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a>
          <a id="12042" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12045" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="12051" class="Symbol">(</a><a id="12052" href="Ledger.Conway.Utxo.Properties.html#7595" class="Function">∙-homo-Coin</a> <a id="12064" class="Symbol">_</a> <a id="12066" class="Symbol">_)</a> <a id="12069" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="12079" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="12084" class="Symbol">(</a><a id="12085" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="12093" class="Symbol">(</a><a id="12094" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="12099" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="12102" class="Symbol">))</a> <a id="12105" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="12109" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="12114" class="Symbol">(</a><a id="12115" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="12122" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a><a id="12127" class="Symbol">)</a>
          <a id="12139" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="12143" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="12155" href="Ledger.Conway.Utxo.Properties.html#11299" class="Bound">pp</a> <a id="12158" href="Ledger.Conway.Utxo.Properties.html#11287" class="Bound">utxoState</a> <a id="12168" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a>
          <a id="12182" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12185" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="12190" class="Symbol">(λ</a> <a id="12193" href="Ledger.Conway.Utxo.Properties.html#12193" class="Bound">x</a> <a id="12195" class="Symbol">→</a> <a id="12197" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="12206" class="Symbol">(</a><a id="12207" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="12212" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="12215" class="Symbol">)</a> <a id="12217" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12219" href="Ledger.Conway.Utxo.Properties.html#12193" class="Bound">x</a> <a id="12221" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12223" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="12235" href="Ledger.Conway.Utxo.Properties.html#11299" class="Bound">pp</a> <a id="12238" href="Ledger.Conway.Utxo.Properties.html#11287" class="Bound">utxoState</a> <a id="12248" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="12251" class="Symbol">)</a>
<a id="12253" class="Comment">--                $ property txfee ⟩</a>
                <a id="12306" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12308" href="Ledger.Conway.TokenAlgebra.Base.html#1073" class="Function">coin∘inject≗id</a> <a id="12323" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a> <a id="12329" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="12339" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="12348" class="Symbol">(</a><a id="12349" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="12354" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="12357" class="Symbol">)</a> <a id="12359" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12361" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a> <a id="12367" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12369" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="12381" href="Ledger.Conway.Utxo.Properties.html#11299" class="Bound">pp</a> <a id="12384" href="Ledger.Conway.Utxo.Properties.html#11287" class="Bound">utxoState</a> <a id="12394" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a>
          <a id="12408" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="12416" class="Symbol">)</a><a id="12417" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12423" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="12432" class="Symbol">(</a><a id="12433" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="12438" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="12441" class="Symbol">)</a> <a id="12443" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12445" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a>
      <a id="12457" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12459" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="12471" href="Ledger.Conway.Utxo.Properties.html#11299" class="Bound">pp</a> <a id="12474" href="Ledger.Conway.Utxo.Properties.html#11287" class="Bound">utxoState</a> <a id="12484" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a> <a id="12488" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12490" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="12495" class="Symbol">(</a><a id="12496" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="12503" href="Ledger.Conway.Transaction.html#3086" class="Field">txdonation</a><a id="12513" class="Symbol">)</a>
      <a id="12521" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12524" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="12529" class="Symbol">(</a><a id="12530" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="12539" class="Symbol">(</a><a id="12540" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="12545" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="12548" class="Symbol">)</a> <a id="12550" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12552" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a> <a id="12558" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12560" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="12572" href="Ledger.Conway.Utxo.Properties.html#11299" class="Bound">pp</a> <a id="12575" href="Ledger.Conway.Utxo.Properties.html#11287" class="Bound">utxoState</a> <a id="12585" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a> <a id="12589" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="12591" class="Symbol">)</a>
<a id="12593" class="Comment">--            $ property _ ⟩</a>
            <a id="12634" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12636" href="Ledger.Conway.TokenAlgebra.Base.html#1073" class="Function">coin∘inject≗id</a> <a id="12651" class="Symbol">_</a> <a id="12653" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12659" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="12668" class="Symbol">(</a><a id="12669" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="12674" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="12677" class="Symbol">)</a> <a id="12679" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12681" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a> <a id="12687" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12689" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="12701" href="Ledger.Conway.Utxo.Properties.html#11299" class="Bound">pp</a> <a id="12704" href="Ledger.Conway.Utxo.Properties.html#11287" class="Bound">utxoState</a> <a id="12714" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a> <a id="12718" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12720" href="Ledger.Conway.Transaction.html#3086" class="Field">txdonation</a>
      <a id="12737" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="12742" href="Ledger.Conway.Utxo.Properties.html#12742" class="Function">balValueToCoin</a> <a id="12757" class="Symbol">:</a> <a id="12759" class="Symbol">∀</a> <a id="12761" class="Symbol">{</a><a id="12762" href="Ledger.Conway.Utxo.Properties.html#12762" class="Bound">pp</a><a id="12764" class="Symbol">}</a>
    <a id="12770" class="Symbol">→</a> <a id="12772" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="12777" href="Ledger.Conway.Transaction.html#2872" class="Field">mint</a> <a id="12782" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12784" class="Number">0</a>
    <a id="12790" class="Symbol">→</a> <a id="12792" href="Ledger.Conway.Utxo.html#10691" class="Function">consumed</a> <a id="12801" href="Ledger.Conway.Utxo.Properties.html#12762" class="Bound">pp</a> <a id="12804" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a> <a id="12814" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a> <a id="12818" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12820" href="Ledger.Conway.Utxo.html#10899" class="Function">produced</a> <a id="12829" href="Ledger.Conway.Utxo.Properties.html#12762" class="Bound">pp</a> <a id="12832" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a> <a id="12842" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a>
    <a id="12850" class="Symbol">→</a> <a id="12852" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="12861" class="Symbol">((</a><a id="12863" href="Ledger.Conway.Utxo.html#1454" class="Field">UTxOState.utxo</a> <a id="12878" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a><a id="12887" class="Symbol">)</a> <a id="12889" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12891" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="12896" class="Symbol">)</a>
    <a id="12902" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12904" href="Ledger.Conway.Utxo.html#10433" class="Function">depositRefunds</a> <a id="12919" href="Ledger.Conway.Utxo.Properties.html#12762" class="Bound">pp</a> <a id="12922" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a> <a id="12932" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a> <a id="12936" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12938" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="12946" href="Ledger.Conway.Transaction.html#2982" class="Field">txwdrls</a>
    <a id="12958" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12960" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="12969" class="Symbol">(</a><a id="12970" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="12975" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="12978" class="Symbol">)</a> <a id="12980" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12982" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a> <a id="12988" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12990" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="13002" href="Ledger.Conway.Utxo.Properties.html#12762" class="Bound">pp</a> <a id="13005" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a> <a id="13015" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a> <a id="13019" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13021" href="Ledger.Conway.Transaction.html#3086" class="Field">txdonation</a>
  <a id="13034" href="Ledger.Conway.Utxo.Properties.html#12742" class="Function">balValueToCoin</a> <a id="13049" class="Symbol">{</a><a id="13050" href="Ledger.Conway.Utxo.Properties.html#13050" class="Bound">utxoState</a><a id="13059" class="Symbol">}</a> <a id="13061" class="Symbol">{</a><a id="13062" href="Ledger.Conway.Utxo.Properties.html#13062" class="Bound">pp</a><a id="13064" class="Symbol">}</a> <a id="13066" href="Ledger.Conway.Utxo.Properties.html#13066" class="Bound">h</a> <a id="13068" href="Ledger.Conway.Utxo.Properties.html#13068" class="Bound">h&#39;</a> <a id="13071" class="Symbol">=</a> <a id="13073" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="13083" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="13092" class="Symbol">((</a><a id="13094" href="Ledger.Conway.Utxo.html#1454" class="Field">UTxOState.utxo</a> <a id="13109" href="Ledger.Conway.Utxo.Properties.html#13050" class="Bound">utxoState</a><a id="13118" class="Symbol">)</a> <a id="13120" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="13122" href="Ledger.Conway.Transaction.html#2750" class="Field">txins</a><a id="13127" class="Symbol">)</a> <a id="13129" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13131" href="Ledger.Conway.Utxo.html#10433" class="Function">depositRefunds</a> <a id="13146" href="Ledger.Conway.Utxo.Properties.html#13062" class="Bound">pp</a> <a id="13149" href="Ledger.Conway.Utxo.Properties.html#13050" class="Bound">utxoState</a> <a id="13159" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a> <a id="13163" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13165" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="13173" href="Ledger.Conway.Transaction.html#2982" class="Field">txwdrls</a>
      <a id="13187" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="13191" href="Ledger.Conway.Utxo.Properties.html#9595" class="Function">consumedCoinEquality</a> <a id="13212" class="Symbol">{</a><a id="13213" href="Ledger.Conway.Utxo.Properties.html#13050" class="Bound">utxoState</a><a id="13222" class="Symbol">}</a> <a id="13224" class="Symbol">{</a><a id="13225" href="Ledger.Conway.Utxo.Properties.html#13062" class="Bound">pp</a><a id="13227" class="Symbol">}</a> <a id="13229" href="Ledger.Conway.Utxo.Properties.html#13066" class="Bound">h</a> <a id="13231" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="13237" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="13242" class="Symbol">(</a><a id="13243" href="Ledger.Conway.Utxo.html#10691" class="Function">consumed</a> <a id="13252" href="Ledger.Conway.Utxo.Properties.html#13062" class="Bound">pp</a> <a id="13255" href="Ledger.Conway.Utxo.Properties.html#13050" class="Bound">utxoState</a> <a id="13265" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="13268" class="Symbol">)</a>
      <a id="13276" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="13279" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="13285" href="Ledger.Conway.Utxo.Properties.html#13068" class="Bound">h&#39;</a> <a id="13288" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="13294" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="13299" class="Symbol">(</a><a id="13300" href="Ledger.Conway.Utxo.html#10899" class="Function">produced</a> <a id="13309" href="Ledger.Conway.Utxo.Properties.html#13062" class="Bound">pp</a> <a id="13312" href="Ledger.Conway.Utxo.Properties.html#13050" class="Bound">utxoState</a> <a id="13322" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="13325" class="Symbol">)</a>
      <a id="13333" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="13336" href="Ledger.Conway.Utxo.Properties.html#11116" class="Function">producedCoinEquality</a> <a id="13357" class="Symbol">{</a><a id="13358" href="Ledger.Conway.Utxo.Properties.html#13050" class="Bound">utxoState</a><a id="13367" class="Symbol">}</a> <a id="13369" class="Symbol">{</a><a id="13370" href="Ledger.Conway.Utxo.Properties.html#13062" class="Bound">pp</a><a id="13372" class="Symbol">}</a> <a id="13374" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="13380" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="13389" class="Symbol">(</a><a id="13390" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="13395" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a><a id="13398" class="Symbol">)</a> <a id="13400" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13402" href="Ledger.Conway.Transaction.html#2844" class="Field">txfee</a> <a id="13408" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13410" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="13422" href="Ledger.Conway.Utxo.Properties.html#13062" class="Bound">pp</a> <a id="13425" href="Ledger.Conway.Utxo.Properties.html#13050" class="Bound">utxoState</a> <a id="13435" href="Ledger.Conway.Utxo.Properties.html#9144" class="Bound">txb</a> <a id="13439" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13441" href="Ledger.Conway.Transaction.html#3086" class="Field">txdonation</a>
      <a id="13458" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="posPart-negPart≡x"></a><a id="13461" href="Ledger.Conway.Utxo.Properties.html#13461" class="Function">posPart-negPart≡x</a> <a id="13479" class="Symbol">:</a> <a id="13481" class="Symbol">{</a><a id="13482" href="Ledger.Conway.Utxo.Properties.html#13482" class="Bound">x</a> <a id="13484" class="Symbol">:</a> <a id="13486" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="13487" class="Symbol">}</a> <a id="13489" class="Symbol">→</a> <a id="13491" href="Prelude.html#3167" class="Function">posPart</a> <a id="13499" href="Ledger.Conway.Utxo.Properties.html#13482" class="Bound">x</a> <a id="13501" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="13503" href="Prelude.html#3244" class="Function">negPart</a> <a id="13511" href="Ledger.Conway.Utxo.Properties.html#13482" class="Bound">x</a> <a id="13513" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13515" href="Ledger.Conway.Utxo.Properties.html#13482" class="Bound">x</a>
<a id="13517" href="Ledger.Conway.Utxo.Properties.html#13461" class="Function">posPart-negPart≡x</a> <a id="13535" class="Symbol">{</a><a id="13536" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="13541" href="Ledger.Conway.Utxo.Properties.html#13541" class="Bound">n</a><a id="13542" class="Symbol">}</a>     <a id="13548" class="Symbol">=</a> <a id="13550" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="13555" href="Ledger.Conway.Utxo.Properties.html#13461" class="Function">posPart-negPart≡x</a> <a id="13573" class="Symbol">{</a><a id="13574" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="13583" href="Ledger.Conway.Utxo.Properties.html#13583" class="Bound">n</a><a id="13584" class="Symbol">}</a> <a id="13586" class="Symbol">=</a> <a id="13588" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="χ"></a><a id="13594" href="Ledger.Conway.Utxo.Properties.html#13594" class="Function">χ</a> <a id="13596" class="Symbol">:</a> <a id="13598" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="13603" class="Symbol">→</a> <a id="13605" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="13607" href="Ledger.Conway.Utxo.Properties.html#13594" class="Function">χ</a> <a id="13609" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>  <a id="13616" class="Symbol">=</a> <a id="13618" class="Number">0</a>
<a id="13620" href="Ledger.Conway.Utxo.Properties.html#13594" class="Function">χ</a> <a id="13622" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>   <a id="13629" class="Symbol">=</a> <a id="13631" class="Number">1</a>

<a id="13634" class="Keyword">module</a> <a id="13641" href="Ledger.Conway.Utxo.Properties.html#13641" class="Module">DepositHelpers</a>
  <a id="13658" class="Symbol">{</a><a id="13659" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="13664" href="Ledger.Conway.Utxo.Properties.html#13664" class="Bound">utxo&#39;</a> <a id="13670" class="Symbol">:</a> <a id="13672" href="Ledger.Conway.Transaction.html#2425" class="Function">UTxO</a><a id="13676" class="Symbol">}</a>
  <a id="13680" class="Symbol">{</a><a id="13681" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="13686" href="Ledger.Conway.Utxo.Properties.html#13686" class="Bound">fees&#39;</a> <a id="13692" class="Symbol">:</a> <a id="13694" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13698" class="Symbol">}</a>
  <a id="13702" class="Symbol">{</a><a id="13703" href="Ledger.Conway.Utxo.Properties.html#13703" class="Bound">deposits</a> <a id="13712" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="13722" class="Symbol">:</a> <a id="13724" href="Ledger.Conway.Certs.html#553" class="Function">Deposits</a><a id="13732" class="Symbol">}</a>
  <a id="13736" class="Symbol">{</a><a id="13737" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="13747" href="Ledger.Conway.Utxo.Properties.html#13747" class="Bound">donations&#39;</a> <a id="13758" class="Symbol">:</a> <a id="13760" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13764" class="Symbol">}</a>
  <a id="13768" class="Symbol">{</a><a id="13769" href="Ledger.Conway.Utxo.Properties.html#13769" class="Bound">tx</a> <a id="13772" class="Symbol">:</a> <a id="13774" href="Ledger.Conway.Transaction.html#4227" class="Record">Tx</a><a id="13776" class="Symbol">}</a> <a id="13778" class="Symbol">(</a><a id="13779" class="Keyword">let</a> <a id="13783" class="Keyword">open</a> <a id="13788" href="Ledger.Conway.Transaction.html#4227" class="Module">Tx</a> <a id="13791" href="Ledger.Conway.Utxo.Properties.html#13769" class="Bound">tx</a> <a id="13794" class="Keyword">renaming</a> <a id="13803" class="Symbol">(</a><a id="13804" href="Ledger.Conway.Transaction.html#4259" class="Field">body</a> <a id="13809" class="Symbol">to</a> <a id="13812" class="Field">txb</a><a id="13815" class="Symbol">);</a> <a id="13818" class="Keyword">open</a> <a id="13823" href="Ledger.Conway.Transaction.html#2714" class="Module">TxBody</a> <a id="13830" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a><a id="13833" class="Symbol">)</a>
  <a id="13837" class="Symbol">{</a><a id="13838" href="Ledger.Conway.Utxo.Properties.html#13838" class="Bound">Γ</a> <a id="13840" class="Symbol">:</a> <a id="13842" href="Ledger.Conway.Utxo.html#1038" class="Record">UTxOEnv</a><a id="13849" class="Symbol">}</a>
  <a id="13853" class="Symbol">(</a><a id="13854" href="Ledger.Conway.Utxo.Properties.html#13854" class="Bound">step</a>  <a id="13860" class="Symbol">:</a> <a id="13862" href="Ledger.Conway.Utxo.Properties.html#13838" class="Bound">Γ</a> <a id="13864" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.Properties.html#13659}{\htmlId{13868}{\htmlClass{Bound}{\text{utxo}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#13681}{\htmlId{13876}{\htmlClass{Bound}{\text{fees}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#13703}{\htmlId{13884}{\htmlClass{Bound}{\text{deposits}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#13737}{\htmlId{13896}{\htmlClass{Bound}{\text{donations}}}}\,  \end{pmatrix}$</a> <a id="13909" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⇀⦇</a> <a id="13912" href="Ledger.Conway.Utxo.Properties.html#13769" class="Bound">tx</a> <a id="13915" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">,UTXO⦈</a>
               <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.Properties.html#13664}{\htmlId{13939}{\htmlClass{Bound}{\text{utxo&#39;}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13686}{\htmlId{13947}{\htmlClass{Bound}{\text{fees&#39;}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13712}{\htmlId{13955}{\htmlClass{Bound}{\text{deposits&#39;}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13747}{\htmlId{13967}{\htmlClass{Bound}{\text{donations&#39;}}}}\, \end{pmatrix}$</a><a id="13979" class="Symbol">)</a>
  <a id="13983" class="Symbol">(</a><a id="13984" href="Ledger.Conway.Utxo.Properties.html#13984" class="Bound">h&#39;</a> <a id="13987" class="Symbol">:</a> <a id="13989" href="Ledger.Conway.Transaction.html#3257" class="Function">txid</a> <a id="13994" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="13996" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="14001" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="14007" class="Symbol">(</a><a id="14008" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14012" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a><a id="14016" class="Symbol">))</a>
  <a id="14021" class="Keyword">where</a>
  <a id="14029" class="Keyword">open</a> <a id="14034" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="14073" class="Symbol">{</a><a id="14074" class="Argument">A</a> <a id="14076" class="Symbol">=</a> <a id="14078" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="14079" class="Symbol">}</a> <a id="14081" class="Symbol">(</a><a id="14082" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html#574" class="Function">solve-macro</a> <a id="14094" class="Symbol">(</a><a id="14095" class="Keyword">quoteTerm</a> <a id="14105" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="14115" class="Symbol">))</a>

  <a id="14121" class="Keyword">private</a>
    <a id="14133" href="Ledger.Conway.Utxo.Properties.html#14133" class="Function">stepS</a> <a id="14139" class="Symbol">:</a> <a id="14141" href="Ledger.Conway.Utxo.Properties.html#13838" class="Bound">Γ</a> <a id="14143" href="Ledger.Conway.Utxo.html#11290" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.Properties.html#13659}{\htmlId{14147}{\htmlClass{Bound}{\text{utxo}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#13681}{\htmlId{14155}{\htmlClass{Bound}{\text{fees}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#13703}{\htmlId{14163}{\htmlClass{Bound}{\text{deposits}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#13737}{\htmlId{14175}{\htmlClass{Bound}{\text{donations}}}}\,  \end{pmatrix}$</a> <a id="14188" href="Ledger.Conway.Utxo.html#11290" class="Datatype Operator">⇀⦇</a> <a id="14191" href="Ledger.Conway.Utxo.Properties.html#13769" class="Bound">tx</a> <a id="14194" href="Ledger.Conway.Utxo.html#11290" class="Datatype Operator">,UTXOS⦈</a>
                <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.Properties.html#13664}{\htmlId{14220}{\htmlClass{Bound}{\text{utxo&#39;}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13686}{\htmlId{14228}{\htmlClass{Bound}{\text{fees&#39;}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13712}{\htmlId{14236}{\htmlClass{Bound}{\text{deposits&#39;}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13747}{\htmlId{14248}{\htmlClass{Bound}{\text{donations&#39;}}}}\, \end{pmatrix}$</a>
    <a id="14265" href="Ledger.Conway.Utxo.Properties.html#14133" class="Function">stepS</a> <a id="14271" class="Symbol">=</a> <a id="14273" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="14278" href="Ledger.Conway.Utxo.Properties.html#13854" class="Bound">step</a> <a id="14283" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="14286" class="Symbol">λ</a> <a id="14288" class="Keyword">where</a>
      <a id="14300" class="Symbol">(</a><a id="14301" href="Ledger.Conway.Utxo.html#13853" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="14317" class="Symbol">_</a> <a id="14319" class="Symbol">_</a> <a id="14321" class="Symbol">_</a> <a id="14323" class="Symbol">_</a> <a id="14325" class="Symbol">_</a> <a id="14327" class="Symbol">_</a> <a id="14329" class="Symbol">_</a> <a id="14331" class="Symbol">_</a> <a id="14333" class="Symbol">_</a> <a id="14335" class="Symbol">_</a> <a id="14337" class="Symbol">_</a> <a id="14339" class="Symbol">_</a> <a id="14341" class="Symbol">_</a> <a id="14343" class="Symbol">_</a> <a id="14345" class="Symbol">_</a> <a id="14347" class="Symbol">_</a> <a id="14349" class="Symbol">_</a> <a id="14351" class="Symbol">_</a> <a id="14353" class="Symbol">_</a> <a id="14355" class="Symbol">_</a> <a id="14357" href="Ledger.Conway.Utxo.Properties.html#14357" class="Bound">h</a><a id="14358" class="Symbol">)</a> <a id="14360" class="Symbol">→</a> <a id="14362" href="Ledger.Conway.Utxo.Properties.html#14357" class="Bound">h</a>

    <a id="14369" href="Ledger.Conway.Utxo.Properties.html#14369" class="Function">pp</a> <a id="14372" class="Symbol">:</a> <a id="14374" href="Ledger.Conway.PParams.html#1694" class="Record">PParams</a>
    <a id="14386" href="Ledger.Conway.Utxo.Properties.html#14369" class="Function">pp</a> <a id="14389" class="Symbol">=</a> <a id="14391" href="Ledger.Conway.Utxo.html#1092" class="Field">UTxOEnv.pparams</a> <a id="14407" href="Ledger.Conway.Utxo.Properties.html#13838" class="Bound">Γ</a>
    <a id="14413" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="14417" class="Symbol">:</a> <a id="14419" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14428" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="14432" class="Symbol">=</a> <a id="14434" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14442" href="Ledger.Conway.Utxo.Properties.html#13703" class="Bound">deposits</a>
    <a id="14455" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="14460" class="Symbol">:</a> <a id="14462" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14471" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="14476" class="Symbol">=</a> <a id="14478" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14486" class="Symbol">(</a><a id="14487" href="Ledger.Conway.Utxo.html#7988" class="Function">updateDeposits</a> <a id="14502" href="Ledger.Conway.Utxo.Properties.html#14369" class="Function">pp</a> <a id="14505" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a> <a id="14509" href="Ledger.Conway.Utxo.Properties.html#13703" class="Bound">deposits</a><a id="14517" class="Symbol">)</a>
    <a id="14523" href="Ledger.Conway.Utxo.Properties.html#14523" class="Function">Δdep</a> <a id="14528" class="Symbol">:</a> <a id="14530" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
    <a id="14536" href="Ledger.Conway.Utxo.Properties.html#14523" class="Function">Δdep</a> <a id="14541" class="Symbol">=</a> <a id="14543" href="Ledger.Conway.Utxo.html#8395" class="Function">depositsChange</a> <a id="14558" href="Ledger.Conway.Utxo.Properties.html#14369" class="Function">pp</a> <a id="14561" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a> <a id="14565" href="Ledger.Conway.Utxo.Properties.html#13703" class="Bound">deposits</a>
    <a id="14578" href="Ledger.Conway.Utxo.Properties.html#14578" class="Function">utxoSt</a> <a id="14585" class="Symbol">:</a> <a id="14587" href="Ledger.Conway.Utxo.html#1390" class="Record">UTxOState</a>
    <a id="14601" href="Ledger.Conway.Utxo.Properties.html#14578" class="Function">utxoSt</a> <a id="14608" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.Properties.html#13659}{\htmlId{14612}{\htmlClass{Bound}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13681}{\htmlId{14619}{\htmlClass{Bound}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13703}{\htmlId{14626}{\htmlClass{Bound}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13737}{\htmlId{14637}{\htmlClass{Bound}{\text{donations}}}}\, \end{pmatrix}$</a>
    <a id="14653" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="14657" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="14661" class="Symbol">:</a> <a id="14663" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14672" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="14676" class="Symbol">=</a> <a id="14678" href="Ledger.Conway.Utxo.html#10433" class="Function">depositRefunds</a> <a id="14693" href="Ledger.Conway.Utxo.Properties.html#14369" class="Function">pp</a> <a id="14696" href="Ledger.Conway.Utxo.Properties.html#14578" class="Function">utxoSt</a> <a id="14703" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a>
    <a id="14711" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="14716" class="Symbol">=</a> <a id="14718" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14726" href="Ledger.Conway.Transaction.html#2982" class="Function">txwdrls</a>
    <a id="14738" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="14742" class="Symbol">=</a> <a id="14744" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a>    <a id="14759" href="Ledger.Conway.Utxo.Properties.html#14369" class="Function">pp</a> <a id="14762" href="Ledger.Conway.Utxo.Properties.html#14578" class="Function">utxoSt</a> <a id="14769" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a>
    <a id="14777" href="Ledger.Conway.Utxo.Properties.html#14777" class="Function">h</a> <a id="14779" class="Symbol">:</a> <a id="14781" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="14790" class="Symbol">(</a><a id="14791" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14795" class="Symbol">(</a><a id="14796" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="14801" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="14803" href="Ledger.Conway.Transaction.html#2750" class="Function">txins</a> <a id="14809" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="14810" class="Symbol">))</a> <a id="14813" class="Symbol">(</a><a id="14814" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14818" class="Symbol">(</a><a id="14819" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="14824" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a><a id="14827" class="Symbol">))</a>
    <a id="14834" href="Ledger.Conway.Utxo.Properties.html#14777" class="Function">h</a> <a id="14836" class="Symbol">=</a> <a id="14838" class="Symbol">λ</a> <a id="14840" href="Ledger.Conway.Utxo.Properties.html#14840" class="Bound">h₁</a> <a id="14843" href="Ledger.Conway.Utxo.Properties.html#14843" class="Bound">h₂</a> <a id="14846" class="Symbol">→</a> <a id="14848" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="14852" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14854" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="14860" class="Symbol">(</a><a id="14861" href="Ledger.Conway.Utxo.Properties.html#9295" class="Function">newTxid⇒disj</a> <a id="14874" class="Symbol">{</a><a id="14875" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a><a id="14878" class="Symbol">}</a> <a id="14880" class="Symbol">{</a><a id="14881" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a><a id="14885" class="Symbol">}</a> <a id="14887" href="Ledger.Conway.Utxo.Properties.html#13984" class="Bound">h&#39;</a><a id="14889" class="Symbol">)</a>
                      <a id="14913" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14915" href="Function.Bundles.html#4810" class="Field">to</a> <a id="14918" href="Axiom.Set.html#9351" class="Function">∈-∩</a> <a id="14922" class="Symbol">(</a><a id="14923" href="Axiom.Set.Rel.html#7214" class="Function">res-comp-domᵐ</a> <a id="14937" href="Ledger.Conway.Utxo.Properties.html#14840" class="Bound">h₁</a> <a id="14940" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14942" href="Ledger.Conway.Utxo.Properties.html#14843" class="Bound">h₂</a><a id="14944" class="Symbol">)</a>
    <a id="14950" href="Ledger.Conway.Utxo.Properties.html#14950" class="Function">newBal&#39;</a> <a id="14958" class="Symbol">:</a> <a id="14960" href="Ledger.Conway.Utxo.Properties.html#13838" class="Bound">Γ</a> <a id="14962" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.Properties.html#13659}{\htmlId{14966}{\htmlClass{Bound}{\text{utxo}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#13681}{\htmlId{14974}{\htmlClass{Bound}{\text{fees}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#13703}{\htmlId{14982}{\htmlClass{Bound}{\text{deposits}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#13737}{\htmlId{14994}{\htmlClass{Bound}{\text{donations}}}}\,  \end{pmatrix}$</a> <a id="15007" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⇀⦇</a> <a id="15010" href="Ledger.Conway.Utxo.Properties.html#13769" class="Bound">tx</a> <a id="15013" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">,UTXO⦈</a>
                  <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.Properties.html#13664}{\htmlId{15040}{\htmlClass{Bound}{\text{utxo&#39;}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13686}{\htmlId{15048}{\htmlClass{Bound}{\text{fees&#39;}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13712}{\htmlId{15056}{\htmlClass{Bound}{\text{deposits&#39;}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13747}{\htmlId{15068}{\htmlClass{Bound}{\text{donations&#39;}}}}\, \end{pmatrix}$</a>
            <a id="15093" class="Symbol">→</a> <a id="15095" href="Ledger.Conway.Utxo.html#10691" class="Function">consumed</a> <a id="15104" href="Ledger.Conway.Utxo.Properties.html#14369" class="Function">pp</a> <a id="15107" href="Ledger.Conway.Utxo.Properties.html#14578" class="Function">utxoSt</a> <a id="15114" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a> <a id="15118" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15120" href="Ledger.Conway.Utxo.html#10899" class="Function">produced</a> <a id="15129" href="Ledger.Conway.Utxo.Properties.html#14369" class="Function">pp</a> <a id="15132" href="Ledger.Conway.Utxo.Properties.html#14578" class="Function">utxoSt</a> <a id="15139" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a>
    <a id="15147" href="Ledger.Conway.Utxo.Properties.html#14950" class="Function">newBal&#39;</a> <a id="15155" class="Symbol">(</a><a id="15156" href="Ledger.Conway.Utxo.html#13853" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="15172" class="Symbol">_</a> <a id="15174" class="Symbol">_</a> <a id="15176" class="Symbol">_</a> <a id="15178" class="Symbol">_</a> <a id="15180" class="Symbol">_</a> <a id="15182" class="Symbol">_</a> <a id="15184" class="Symbol">_</a> <a id="15186" class="Symbol">_</a> <a id="15188" class="Symbol">_</a> <a id="15190" href="Ledger.Conway.Utxo.Properties.html#15190" class="Bound">x</a> <a id="15192" class="Symbol">_</a> <a id="15194" class="Symbol">_</a> <a id="15196" class="Symbol">_</a> <a id="15198" class="Symbol">_</a> <a id="15200" class="Symbol">_</a> <a id="15202" class="Symbol">_</a> <a id="15204" class="Symbol">_</a> <a id="15206" class="Symbol">_</a> <a id="15208" class="Symbol">_</a> <a id="15210" class="Symbol">_</a> <a id="15212" class="Symbol">_)</a> <a id="15215" class="Symbol">=</a> <a id="15217" href="Ledger.Conway.Utxo.Properties.html#15190" class="Bound">x</a>
    <a id="15223" href="Ledger.Conway.Utxo.Properties.html#15223" class="Function">newBal</a> <a id="15230" class="Symbol">:</a> <a id="15232" href="Ledger.Conway.Utxo.html#10691" class="Function">consumed</a> <a id="15241" href="Ledger.Conway.Utxo.Properties.html#14369" class="Function">pp</a> <a id="15244" href="Ledger.Conway.Utxo.Properties.html#14578" class="Function">utxoSt</a> <a id="15251" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a> <a id="15255" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15257" href="Ledger.Conway.Utxo.html#10899" class="Function">produced</a> <a id="15266" href="Ledger.Conway.Utxo.Properties.html#14369" class="Function">pp</a> <a id="15269" href="Ledger.Conway.Utxo.Properties.html#14578" class="Function">utxoSt</a> <a id="15276" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a>
    <a id="15284" href="Ledger.Conway.Utxo.Properties.html#15223" class="Function">newBal</a> <a id="15291" class="Symbol">=</a> <a id="15293" href="Ledger.Conway.Utxo.Properties.html#14950" class="Function">newBal&#39;</a> <a id="15301" href="Ledger.Conway.Utxo.Properties.html#13854" class="Bound">step</a>
    <a id="15310" href="Ledger.Conway.Utxo.Properties.html#15310" class="Function">noMintAda&#39;</a> <a id="15321" class="Symbol">:</a> <a id="15323" href="Ledger.Conway.Utxo.Properties.html#13838" class="Bound">Γ</a> <a id="15325" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.Properties.html#13659}{\htmlId{15329}{\htmlClass{Bound}{\text{utxo}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#13681}{\htmlId{15337}{\htmlClass{Bound}{\text{fees}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#13703}{\htmlId{15345}{\htmlClass{Bound}{\text{deposits}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#13737}{\htmlId{15357}{\htmlClass{Bound}{\text{donations}}}}\,  \end{pmatrix}$</a> <a id="15370" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⇀⦇</a> <a id="15373" href="Ledger.Conway.Utxo.Properties.html#13769" class="Bound">tx</a> <a id="15376" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">,UTXO⦈</a>
                     <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.Properties.html#13664}{\htmlId{15406}{\htmlClass{Bound}{\text{utxo&#39;}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13686}{\htmlId{15414}{\htmlClass{Bound}{\text{fees&#39;}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13712}{\htmlId{15422}{\htmlClass{Bound}{\text{deposits&#39;}}}}\, \\ \,\href{Ledger.Conway.Utxo.Properties.html#13747}{\htmlId{15434}{\htmlClass{Bound}{\text{donations&#39;}}}}\, \end{pmatrix}$</a>
               <a id="15462" class="Symbol">→</a> <a id="15464" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="15469" class="Symbol">(</a><a id="15470" href="Ledger.Conway.Transaction.html#2872" class="Function">mint</a><a id="15474" class="Symbol">)</a> <a id="15476" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15478" class="Number">0</a>
    <a id="15484" href="Ledger.Conway.Utxo.Properties.html#15310" class="Function">noMintAda&#39;</a> <a id="15495" class="Symbol">(</a><a id="15496" href="Ledger.Conway.Utxo.html#13853" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="15512" class="Symbol">_</a> <a id="15514" class="Symbol">_</a> <a id="15516" class="Symbol">_</a> <a id="15518" class="Symbol">_</a> <a id="15520" class="Symbol">_</a> <a id="15522" class="Symbol">_</a> <a id="15524" class="Symbol">_</a> <a id="15526" class="Symbol">_</a> <a id="15528" class="Symbol">_</a> <a id="15530" class="Symbol">_</a> <a id="15532" href="Ledger.Conway.Utxo.Properties.html#15532" class="Bound">x</a> <a id="15534" class="Symbol">_</a> <a id="15536" class="Symbol">_</a> <a id="15538" class="Symbol">_</a> <a id="15540" class="Symbol">_</a> <a id="15542" class="Symbol">_</a> <a id="15544" class="Symbol">_</a> <a id="15546" class="Symbol">_</a> <a id="15548" class="Symbol">_</a> <a id="15550" class="Symbol">_</a> <a id="15552" class="Symbol">_)</a> <a id="15555" class="Symbol">=</a> <a id="15557" href="Ledger.Conway.Utxo.Properties.html#15532" class="Bound">x</a>
    <a id="15563" href="Ledger.Conway.Utxo.Properties.html#15563" class="Function">noMintAda</a> <a id="15573" class="Symbol">:</a> <a id="15575" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="15580" href="Ledger.Conway.Transaction.html#2872" class="Function">mint</a> <a id="15585" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15587" class="Number">0</a>
    <a id="15593" href="Ledger.Conway.Utxo.Properties.html#15563" class="Function">noMintAda</a> <a id="15603" class="Symbol">=</a> <a id="15605" href="Ledger.Conway.Utxo.Properties.html#15310" class="Function">noMintAda&#39;</a> <a id="15616" href="Ledger.Conway.Utxo.Properties.html#13854" class="Bound">step</a>
    <a id="15625" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="15635" class="Symbol">:</a> <a id="15637" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="15646" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="15656" class="Symbol">=</a> <a id="15658" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="15666" href="Ledger.Conway.Utxo.Properties.html#13703" class="Bound">deposits</a> <a id="15675" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15677" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a>

  <a id="15684" href="Ledger.Conway.Utxo.Properties.html#15684" class="Function">deposits-change&#39;</a> <a id="15701" class="Symbol">:</a> <a id="15703" href="Ledger.Conway.Utxo.Properties.html#14523" class="Function">Δdep</a> <a id="15708" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15710" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="15714" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15716" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a>
  <a id="15722" href="Ledger.Conway.Utxo.Properties.html#15684" class="Function">deposits-change&#39;</a> <a id="15739" class="Symbol">=</a> <a id="15741" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="15745" href="Ledger.Conway.Utxo.Properties.html#13461" class="Function">posPart-negPart≡x</a>

  <a id="15766" href="Ledger.Conway.Utxo.Properties.html#15766" class="Function">dep-ref</a> <a id="15774" class="Symbol">:</a> <a id="15776" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="15780" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15782" class="Number">0</a> <a id="15784" class="Symbol">→</a> <a id="15786" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="15791" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15793" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="15797" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15799" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a>
  <a id="15805" href="Ledger.Conway.Utxo.Properties.html#15766" class="Function">dep-ref</a> <a id="15813" href="Ledger.Conway.Utxo.Properties.html#15813" class="Bound">tot≡0</a> <a id="15819" class="Symbol">=</a> <a id="15821" href="Data.Integer.Properties.html#2689" class="Function">ℤ.+-injective</a> <a id="15835" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15837" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="15847" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15852" class="Symbol">(</a><a id="15853" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="15858" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15860" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a><a id="15863" class="Symbol">)</a>          <a id="15874" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15877" href="Data.Integer.Properties.html#32743" class="Function">ℤ.pos-+</a> <a id="15885" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="15890" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="15894" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="15900" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15905" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="15910" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15914" class="Symbol">(</a><a id="15915" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="15919" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15921" class="Number">0</a><a id="15922" class="Symbol">)</a>    <a id="15927" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="15931" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15936" class="Symbol">(λ</a> <a id="15939" href="Ledger.Conway.Utxo.Properties.html#15939" class="Bound">u</a> <a id="15941" class="Symbol">→</a> <a id="15943" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15948" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="15953" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15957" class="Symbol">(</a><a id="15958" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="15962" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15964" href="Ledger.Conway.Utxo.Properties.html#15939" class="Bound">u</a><a id="15965" class="Symbol">))</a> <a id="15968" href="Ledger.Conway.Utxo.Properties.html#15813" class="Bound">tot≡0</a> <a id="15974" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="15980" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15985" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="15990" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15994" class="Symbol">(</a><a id="15995" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="15999" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16001" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a><a id="16004" class="Symbol">)</a>  <a id="16007" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16010" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16015" class="Symbol">((</a><a id="16017" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="16021" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a><a id="16025" class="Symbol">)</a> <a id="16027" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="16029" class="Symbol">)</a> <a id="16031" class="Symbol">(</a><a id="16032" href="Data.Integer.Properties.html#19768" class="Function">ℤ.⊖-swap</a> <a id="16041" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="16045" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a><a id="16048" class="Symbol">)</a> <a id="16050" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16056" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16061" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16066" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="16070" class="Symbol">(</a><a id="16071" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="16075" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16077" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a><a id="16080" class="Symbol">)</a>  <a id="16083" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16087" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16092" class="Symbol">(λ</a> <a id="16095" href="Ledger.Conway.Utxo.Properties.html#16095" class="Bound">u</a> <a id="16097" class="Symbol">→</a>  <a id="16100" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16105" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16110" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="16114" href="Ledger.Conway.Utxo.Properties.html#16095" class="Bound">u</a><a id="16115" class="Symbol">)</a> <a id="16117" href="Ledger.Conway.Utxo.Properties.html#15684" class="Function">deposits-change&#39;</a> <a id="16134" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16140" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16145" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16150" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="16154" href="Ledger.Conway.Utxo.Properties.html#14523" class="Function">Δdep</a>         <a id="16167" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16171" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16176" class="Symbol">((</a><a id="16178" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="16182" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a><a id="16186" class="Symbol">)</a> <a id="16188" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="16190" class="Symbol">)</a> <a id="16192" class="Symbol">(</a><a id="16193" href="Data.Integer.Properties.html#19768" class="Function">ℤ.⊖-swap</a> <a id="16202" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="16206" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a><a id="16210" class="Symbol">)</a> <a id="16212" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16218" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16223" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16228" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16230" class="Symbol">(</a><a id="16231" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="16235" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16237" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a><a id="16241" class="Symbol">)</a>   <a id="16245" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16248" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="16267" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16272" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="16276" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16281" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16287" class="Symbol">(</a><a id="16288" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16293" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16295" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="16298" class="Symbol">)</a> <a id="16300" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16302" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a>        <a id="16314" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16317" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16322" class="Symbol">(</a><a id="16323" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="16326" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a><a id="16330" class="Symbol">)</a> <a id="16332" class="Symbol">(</a><a id="16333" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="16340" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16345" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="16348" class="Symbol">)</a> <a id="16350" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16356" class="Symbol">(</a><a id="16357" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="16361" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16363" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a><a id="16367" class="Symbol">)</a> <a id="16369" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16371" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a>        <a id="16383" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16387" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="16406" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="16410" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16415" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16420" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16426" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16431" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="16435" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16439" class="Symbol">(</a><a id="16440" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16445" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16447" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a><a id="16451" class="Symbol">)</a> <a id="16453" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16456" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16461" class="Symbol">(λ</a> <a id="16464" href="Ledger.Conway.Utxo.Properties.html#16464" class="Bound">u</a> <a id="16466" class="Symbol">→</a> <a id="16468" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16473" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="16477" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16481" href="Ledger.Conway.Utxo.Properties.html#16464" class="Bound">u</a><a id="16482" class="Symbol">)</a> <a id="16484" class="Symbol">(</a><a id="16485" href="Data.Integer.Properties.html#19485" class="Function">ℤ.n⊖n≡0</a> <a id="16493" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a><a id="16497" class="Symbol">)</a> <a id="16499" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16505" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16510" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="16514" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16518" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>          <a id="16532" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16535" href="Data.Integer.Properties.html#26987" class="Function">ℤ.+-identityʳ</a> <a id="16549" class="Symbol">_</a> <a id="16551" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16557" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16562" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="16566" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="16571" href="Ledger.Conway.Utxo.Properties.html#16571" class="Function">ref-tot-0</a> <a id="16581" class="Symbol">:</a> <a id="16583" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="16587" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="16589" class="Number">0</a> <a id="16591" class="Symbol">→</a> <a id="16593" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="16597" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16599" class="Number">0</a>
  <a id="16603" href="Ledger.Conway.Utxo.Properties.html#16571" class="Function">ref-tot-0</a> <a id="16613" href="Ledger.Conway.Utxo.Properties.html#16613" class="Bound">ref≢0</a> <a id="16619" class="Keyword">with</a> <a id="16624" href="Ledger.Conway.Utxo.Properties.html#14523" class="Function">Δdep</a>
  <a id="16631" class="Symbol">...</a> <a id="16635" class="Symbol">|</a> <a id="16637" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16642" href="Ledger.Conway.Utxo.Properties.html#16642" class="Bound">n</a>     <a id="16648" class="Symbol">=</a> <a id="16650" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="16657" class="Symbol">(</a><a id="16658" class="Bound">ref≢0</a> <a id="16664" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="16668" class="Symbol">)</a>
  <a id="16672" class="Symbol">...</a> <a id="16676" class="Symbol">|</a> <a id="16678" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="16687" href="Ledger.Conway.Utxo.Properties.html#16687" class="Bound">n</a> <a id="16689" class="Symbol">=</a> <a id="16691" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="16699" href="Ledger.Conway.Utxo.Properties.html#16699" class="Function">ref≤dep</a> <a id="16707" class="Symbol">:</a> <a id="16709" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="16713" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="16715" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a>
  <a id="16721" href="Ledger.Conway.Utxo.Properties.html#16699" class="Function">ref≤dep</a> <a id="16729" class="Keyword">with</a> <a id="16734" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="16738" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="16740" class="Number">0</a>
  <a id="16744" href="Ledger.Conway.Utxo.Properties.html#16699" class="Function">...</a> <a id="16748" class="Symbol">|</a> <a id="16750" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="16753" href="Ledger.Conway.Utxo.Properties.html#16753" class="Bound">¬p</a> <a id="16756" class="Symbol">=</a> <a id="16758" href="Data.Nat.Properties.html#66499" class="Function">≤″⇒≤</a> <a id="16763" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16765" class="Symbol">_</a> <a id="16767" href="Ledger.Conway.Utxo.Properties.html#1507" class="InductiveConstructor Operator">,≤_</a> <a id="16771" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16773" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16783" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="16787" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16789" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16794" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16797" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="16804" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="16808" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16813" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16819" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16824" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16826" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="16830" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16833" href="Ledger.Conway.Utxo.Properties.html#15766" class="Function">dep-ref</a> <a id="16841" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16843" href="Ledger.Conway.Utxo.Properties.html#16571" class="Function">ref-tot-0</a> <a id="16853" href="Ledger.Conway.Utxo.Properties.html#16753" class="Bound">¬p</a> <a id="16856" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16862" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a>        <a id="16873" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="16877" href="Ledger.Conway.Utxo.Properties.html#16699" class="Function">...</a> <a id="16881" class="Symbol">|</a> <a id="16883" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="16887" href="Ledger.Conway.Utxo.Properties.html#16887" class="Bound">p</a> <a id="16889" class="Keyword">rewrite</a> <a id="16897" href="Ledger.Conway.Utxo.Properties.html#16887" class="Bound">p</a> <a id="16899" class="Symbol">=</a> <a id="16901" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a>

  <a id="16908" href="Ledger.Conway.Utxo.Properties.html#16908" class="Function">deposits-change</a> <a id="16924" class="Symbol">:</a> <a id="16926" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="16931" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16933" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="16937" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16939" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="16943" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16945" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a>
  <a id="16951" href="Ledger.Conway.Utxo.Properties.html#16908" class="Function">deposits-change</a> <a id="16967" class="Symbol">=</a> <a id="16969" href="Data.Integer.Properties.html#2689" class="Function">ℤ.+-injective</a> <a id="16983" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16985" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16995" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17000" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a>                                 <a id="17037" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17041" href="Data.Integer.Properties.html#26987" class="Function">ℤ.+-identityʳ</a> <a id="17055" class="Symbol">_</a> <a id="17057" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="17063" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17068" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="17073" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17077" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>                        <a id="17105" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17109" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17115" class="Symbol">(</a><a id="17116" href="Data.Integer.Properties.html#30664" class="Function">ℤ.+-inverseˡ</a> <a id="17129" class="Symbol">(</a><a id="17130" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17135" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="17138" class="Symbol">))</a> <a id="17141" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="17147" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17152" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="17157" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17161" class="Symbol">(</a><a id="17162" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="17167" class="Symbol">(</a><a id="17168" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17173" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="17176" class="Symbol">)</a> <a id="17178" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17182" class="Symbol">(</a><a id="17183" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17188" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="17191" class="Symbol">))</a>
      <a id="17200" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17204" href="Data.Integer.Properties.html#28651" class="Function">ℤ.+-assoc</a> <a id="17214" class="Symbol">(</a><a id="17215" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17220" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a><a id="17224" class="Symbol">)</a> <a id="17226" class="Symbol">(</a><a id="17227" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="17232" class="Symbol">(</a><a id="17233" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17238" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="17241" class="Symbol">))</a> <a id="17244" class="Symbol">(</a><a id="17245" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17250" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="17253" class="Symbol">)</a> <a id="17255" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="17261" class="Symbol">(</a><a id="17262" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17267" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="17272" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="17276" class="Symbol">(</a><a id="17277" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17282" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="17285" class="Symbol">))</a> <a id="17288" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17292" class="Symbol">(</a><a id="17293" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17298" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="17301" class="Symbol">)</a> <a id="17303" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17306" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17312" class="Symbol">(</a><a id="17313" href="Data.Integer.Properties.html#21429" class="Function">ℤ.m-n≡m⊖n</a> <a id="17323" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a> <a id="17328" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="17331" class="Symbol">)</a> <a id="17333" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17339" href="Ledger.Conway.Utxo.Properties.html#14523" class="Function">Δdep</a> <a id="17344" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17348" class="Symbol">(</a><a id="17349" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17354" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="17357" class="Symbol">)</a>                       <a id="17381" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17384" href="Data.Integer.Properties.html#26694" class="Function">ℤ.+-comm</a> <a id="17393" href="Ledger.Conway.Utxo.Properties.html#14523" class="Function">Δdep</a> <a id="17398" class="Symbol">(</a><a id="17399" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17404" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="17407" class="Symbol">)</a> <a id="17409" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17415" class="Symbol">(</a><a id="17416" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17421" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="17424" class="Symbol">)</a> <a id="17426" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17430" href="Ledger.Conway.Utxo.Properties.html#14523" class="Function">Δdep</a>                       <a id="17457" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17460" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17466" href="Ledger.Conway.Utxo.Properties.html#15684" class="Function">deposits-change&#39;</a> <a id="17483" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17489" class="Symbol">(</a><a id="17490" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17495" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="17498" class="Symbol">)</a> <a id="17500" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17504" class="Symbol">(</a><a id="17505" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="17509" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17511" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a><a id="17514" class="Symbol">)</a>                <a id="17531" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17534" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="17553" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="17557" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="17561" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="17565" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17571" class="Symbol">(</a><a id="17572" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="17576" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17578" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a><a id="17581" class="Symbol">)</a> <a id="17583" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17585" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a>                         <a id="17613" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17616" href="Data.Integer.Properties.html#20106" class="Function">ℤ.⊖-≥</a> <a id="17622" class="Symbol">(</a><a id="17623" href="Data.Nat.Properties.html#19075" class="Function">m≤n⇒m≤n+o</a> <a id="17633" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="17637" href="Ledger.Conway.Utxo.Properties.html#16699" class="Function">ref≤dep</a><a id="17644" class="Symbol">)</a> <a id="17646" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17652" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17657" class="Symbol">(</a><a id="17658" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="17662" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17664" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="17668" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17670" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a><a id="17673" class="Symbol">)</a> <a id="17675" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="17680" href="Ledger.Conway.Utxo.Properties.html#17680" class="Function">split-balance</a> <a id="17694" class="Symbol">:</a> <a id="17696" class="Symbol">∀</a> <a id="17698" href="Ledger.Conway.Utxo.Properties.html#17698" class="Bound">keys</a> <a id="17703" class="Symbol">→</a> <a id="17705" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="17714" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="17719" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="17721" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="17730" class="Symbol">(</a><a id="17731" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="17736" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17738" href="Ledger.Conway.Utxo.Properties.html#17698" class="Bound">keys</a> <a id="17743" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17744" class="Symbol">)</a> <a id="17746" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17748" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="17757" class="Symbol">(</a><a id="17758" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="17763" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17765" href="Ledger.Conway.Utxo.Properties.html#17698" class="Bound">keys</a><a id="17769" class="Symbol">)</a>
  <a id="17773" href="Ledger.Conway.Utxo.Properties.html#17680" class="Function">split-balance</a> <a id="17787" href="Ledger.Conway.Utxo.Properties.html#17787" class="Bound">keys</a> <a id="17792" class="Symbol">=</a> <a id="17794" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
                      <a id="17822" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="17831" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a>
                        <a id="17860" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17864" href="Ledger.Conway.Utxo.Properties.html#7928" class="Function">balance-cong-coin</a> <a id="17882" class="Symbol">{</a><a id="17883" class="Argument">utxo</a> <a id="17888" class="Symbol">=</a> <a id="17890" class="Symbol">(</a><a id="17891" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="17896" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17898" href="Ledger.Conway.Utxo.Properties.html#17787" class="Bound">keys</a> <a id="17903" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17904" class="Symbol">)</a> <a id="17906" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="17909" class="Symbol">(</a><a id="17910" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="17915" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17917" href="Ledger.Conway.Utxo.Properties.html#17787" class="Bound">keys</a><a id="17921" class="Symbol">)}{</a><a id="17924" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a><a id="17928" class="Symbol">}</a>
                          <a id="17956" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17958" href="Axiom.Set.Map.html#6492" class="Function">disjoint-∪ˡ-∪</a> <a id="17972" class="Symbol">(</a><a id="17973" href="Axiom.Set.Properties.html#13237" class="Function">disjoint-sym</a> <a id="17986" href="Axiom.Set.Rel.html#8146" class="Function">res-ex-disjoint</a><a id="18001" class="Symbol">)</a>
                          <a id="18029" href="Ledger.Conway.Utxo.Properties.html#18423" class="Function Operator">≡ᵉ-∘</a> <a id="18034" href="Axiom.Set.Properties.html#10950" class="Function">∪-sym</a>
                          <a id="18066" href="Ledger.Conway.Utxo.Properties.html#18423" class="Function Operator">≡ᵉ-∘</a> <a id="18071" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="18080" class="Symbol">(</a><a id="18081" href="Axiom.Set.html#10771" class="Function Operator">_∈?</a> <a id="18085" href="Ledger.Conway.Utxo.Properties.html#17787" class="Bound">keys</a><a id="18089" class="Symbol">)</a> <a id="18091" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                      <a id="18115" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="18124" class="Symbol">((</a><a id="18126" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="18131" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18133" href="Ledger.Conway.Utxo.Properties.html#17787" class="Bound">keys</a> <a id="18138" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18139" class="Symbol">)</a> <a id="18141" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="18144" class="Symbol">(</a><a id="18145" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="18150" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="18152" href="Ledger.Conway.Utxo.Properties.html#17787" class="Bound">keys</a><a id="18156" class="Symbol">))</a>
                        <a id="18183" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="18186" href="Ledger.Conway.Utxo.Properties.html#8167" class="Function">balance-∪</a> <a id="18196" class="Symbol">{</a><a id="18197" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="18202" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18204" href="Ledger.Conway.Utxo.Properties.html#17787" class="Bound">keys</a> <a id="18209" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18210" class="Symbol">}</a> <a id="18212" class="Symbol">{</a><a id="18213" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="18218" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="18220" href="Ledger.Conway.Utxo.Properties.html#17787" class="Bound">keys</a><a id="18224" class="Symbol">}</a> <a id="18226" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="18228" href="Function.Base.html#1638" class="Function">flip</a> <a id="18233" href="Axiom.Set.Rel.html#8146" class="Function">res-ex-disjoint</a> <a id="18249" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                      <a id="18273" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="18282" class="Symbol">(</a><a id="18283" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="18288" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18290" href="Ledger.Conway.Utxo.Properties.html#17787" class="Bound">keys</a> <a id="18295" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18296" class="Symbol">)</a> <a id="18298" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18300" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="18309" class="Symbol">(</a><a id="18310" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="18315" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="18317" href="Ledger.Conway.Utxo.Properties.html#17787" class="Bound">keys</a><a id="18321" class="Symbol">)</a>
                        <a id="18347" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="18353" class="Keyword">where</a> <a id="18359" class="Keyword">open</a> <a id="18364" href="Relation.Binary.Structures.html#1550" class="Module">IsEquivalence</a> <a id="18378" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a> <a id="18395" class="Keyword">renaming</a> <a id="18404" class="Symbol">(</a><a id="18405" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="18411" class="Symbol">to</a> <a id="18414" class="Keyword">infixl</a> <a id="18421" class="Number">4</a> <a id="18423" class="Field">_≡ᵉ-∘_</a><a id="18429" class="Symbol">)</a>

  <a id="18434" class="Keyword">module</a> <a id="18441" href="Ledger.Conway.Utxo.Properties.html#18441" class="Module">_</a> <a id="18443" class="Symbol">(</a><a id="18444" href="Ledger.Conway.Utxo.Properties.html#18444" class="Bound">balanceUtxo</a> <a id="18456" href="Ledger.Conway.Utxo.Properties.html#18456" class="Bound">balanceIns</a> <a id="18467" href="Ledger.Conway.Utxo.Properties.html#18467" class="Bound">balanceNoIns</a> <a id="18480" href="Ledger.Conway.Utxo.Properties.html#18480" class="Bound">balanceOuts</a> <a id="18492" href="Ledger.Conway.Utxo.Properties.html#18492" class="Bound">balanceUtxo&#39;</a> <a id="18505" class="Symbol">:</a> <a id="18507" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="18511" class="Symbol">)</a>
           <a id="18524" class="Symbol">(</a><a id="18525" href="Ledger.Conway.Utxo.Properties.html#18525" class="Bound">ref</a> <a id="18529" href="Ledger.Conway.Utxo.Properties.html#18529" class="Bound">txfee</a> <a id="18535" href="Ledger.Conway.Utxo.Properties.html#18535" class="Bound">txdonation</a> <a id="18546" href="Ledger.Conway.Utxo.Properties.html#18546" class="Bound">tot</a> <a id="18550" class="Symbol">:</a> <a id="18552" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="18556" class="Symbol">)</a>
           <a id="18569" class="Symbol">(</a><a id="18570" href="Ledger.Conway.Utxo.Properties.html#18570" class="Bound">splitUtxo</a> <a id="18580" class="Symbol">:</a> <a id="18582" href="Ledger.Conway.Utxo.Properties.html#18444" class="Bound">balanceUtxo</a> <a id="18594" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18596" href="Ledger.Conway.Utxo.Properties.html#18467" class="Bound">balanceNoIns</a> <a id="18609" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18611" href="Ledger.Conway.Utxo.Properties.html#18456" class="Bound">balanceIns</a><a id="18621" class="Symbol">)</a>
           <a id="18634" class="Symbol">(</a><a id="18635" href="Ledger.Conway.Utxo.Properties.html#18635" class="Bound">splitUtxo&#39;</a> <a id="18646" class="Symbol">:</a> <a id="18648" href="Ledger.Conway.Utxo.Properties.html#18492" class="Bound">balanceUtxo&#39;</a> <a id="18661" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18663" href="Ledger.Conway.Utxo.Properties.html#18467" class="Bound">balanceNoIns</a> <a id="18676" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18678" href="Ledger.Conway.Utxo.Properties.html#18480" class="Bound">balanceOuts</a><a id="18689" class="Symbol">)</a>
           <a id="18702" class="Symbol">(</a><a id="18703" href="Ledger.Conway.Utxo.Properties.html#18703" class="Bound">balanced</a> <a id="18712" class="Symbol">:</a> <a id="18714" href="Ledger.Conway.Utxo.Properties.html#18456" class="Bound">balanceIns</a> <a id="18725" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18727" href="Ledger.Conway.Utxo.Properties.html#18525" class="Bound">ref</a> <a id="18731" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18733" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="18738" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18740" href="Ledger.Conway.Utxo.Properties.html#18480" class="Bound">balanceOuts</a> <a id="18752" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18754" href="Ledger.Conway.Utxo.Properties.html#18529" class="Bound">txfee</a> <a id="18760" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18762" href="Ledger.Conway.Utxo.Properties.html#18546" class="Bound">tot</a> <a id="18766" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18768" href="Ledger.Conway.Utxo.Properties.html#18535" class="Bound">txdonation</a><a id="18778" class="Symbol">)</a> <a id="18780" class="Keyword">where</a>

    <a id="18791" href="Ledger.Conway.Utxo.Properties.html#18791" class="Function">utxo-ref-prop-worker</a> <a id="18812" class="Symbol">:</a>
      <a id="18820" href="Ledger.Conway.Utxo.Properties.html#18444" class="Bound">balanceUtxo</a> <a id="18832" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18834" href="Ledger.Conway.Utxo.Properties.html#18525" class="Bound">ref</a> <a id="18838" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18840" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="18845" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18847" href="Ledger.Conway.Utxo.Properties.html#18492" class="Bound">balanceUtxo&#39;</a> <a id="18860" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18862" href="Ledger.Conway.Utxo.Properties.html#18529" class="Bound">txfee</a> <a id="18868" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18870" href="Ledger.Conway.Utxo.Properties.html#18535" class="Bound">txdonation</a> <a id="18881" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18883" href="Ledger.Conway.Utxo.Properties.html#18546" class="Bound">tot</a>
    <a id="18891" href="Ledger.Conway.Utxo.Properties.html#18791" class="Function">utxo-ref-prop-worker</a> <a id="18912" class="Symbol">=</a> <a id="18914" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="18926" href="Ledger.Conway.Utxo.Properties.html#18444" class="Bound">balanceUtxo</a> <a id="18938" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18940" href="Ledger.Conway.Utxo.Properties.html#18525" class="Bound">ref</a> <a id="18944" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18946" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a>
        <a id="18959" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="18962" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="18967" class="Symbol">(λ</a> <a id="18970" href="Ledger.Conway.Utxo.Properties.html#18970" class="Bound">u</a> <a id="18972" class="Symbol">→</a> <a id="18974" href="Ledger.Conway.Utxo.Properties.html#18970" class="Bound">u</a> <a id="18976" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18978" href="Ledger.Conway.Utxo.Properties.html#18525" class="Bound">ref</a> <a id="18982" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18984" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="18988" class="Symbol">)</a> <a id="18990" href="Ledger.Conway.Utxo.Properties.html#18570" class="Bound">splitUtxo</a> <a id="19000" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="19008" href="Ledger.Conway.Utxo.Properties.html#18467" class="Bound">balanceNoIns</a> <a id="19021" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19025" href="Ledger.Conway.Utxo.Properties.html#18456" class="Bound">balanceIns</a> <a id="19036" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19040" href="Ledger.Conway.Utxo.Properties.html#18525" class="Bound">ref</a> <a id="19044" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19048" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a>
        <a id="19061" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19072" href="Ledger.Conway.Utxo.Properties.html#18467" class="Bound">balanceNoIns</a> <a id="19085" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19089" class="Symbol">(</a><a id="19090" href="Ledger.Conway.Utxo.Properties.html#18456" class="Bound">balanceIns</a> <a id="19101" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19105" href="Ledger.Conway.Utxo.Properties.html#18525" class="Bound">ref</a> <a id="19109" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19113" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="19117" class="Symbol">)</a>
        <a id="19127" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="19130" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19135" class="Symbol">(</a><a id="19136" href="Ledger.Conway.Utxo.Properties.html#18467" class="Bound">balanceNoIns</a> <a id="19149" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="19151" class="Symbol">)</a> <a id="19153" href="Ledger.Conway.Utxo.Properties.html#18703" class="Bound">balanced</a> <a id="19162" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="19170" href="Ledger.Conway.Utxo.Properties.html#18467" class="Bound">balanceNoIns</a> <a id="19183" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19187" class="Symbol">(</a><a id="19188" href="Ledger.Conway.Utxo.Properties.html#18480" class="Bound">balanceOuts</a> <a id="19200" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19204" href="Ledger.Conway.Utxo.Properties.html#18529" class="Bound">txfee</a> <a id="19210" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19214" href="Ledger.Conway.Utxo.Properties.html#18546" class="Bound">tot</a> <a id="19218" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19222" href="Ledger.Conway.Utxo.Properties.html#18535" class="Bound">txdonation</a><a id="19232" class="Symbol">)</a>
        <a id="19242" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19253" class="Symbol">(</a><a id="19254" href="Ledger.Conway.Utxo.Properties.html#18467" class="Bound">balanceNoIns</a> <a id="19267" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19271" href="Ledger.Conway.Utxo.Properties.html#18480" class="Bound">balanceOuts</a> <a id="19283" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19287" href="Ledger.Conway.Utxo.Properties.html#18529" class="Bound">txfee</a><a id="19292" class="Symbol">)</a> <a id="19294" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19298" href="Ledger.Conway.Utxo.Properties.html#18546" class="Bound">tot</a> <a id="19302" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19306" href="Ledger.Conway.Utxo.Properties.html#18535" class="Bound">txdonation</a>
        <a id="19325" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="19329" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19334" class="Symbol">(λ</a> <a id="19337" href="Ledger.Conway.Utxo.Properties.html#19337" class="Bound">x</a> <a id="19339" class="Symbol">→</a> <a id="19341" class="Symbol">(</a><a id="19342" href="Ledger.Conway.Utxo.Properties.html#19337" class="Bound">x</a> <a id="19344" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19346" href="Ledger.Conway.Utxo.Properties.html#18529" class="Bound">txfee</a><a id="19351" class="Symbol">)</a> <a id="19353" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19355" href="Ledger.Conway.Utxo.Properties.html#18546" class="Bound">tot</a> <a id="19359" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19361" href="Ledger.Conway.Utxo.Properties.html#18535" class="Bound">txdonation</a><a id="19371" class="Symbol">)</a> <a id="19373" href="Ledger.Conway.Utxo.Properties.html#18635" class="Bound">splitUtxo&#39;</a> <a id="19384" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="19392" class="Symbol">(</a><a id="19393" href="Ledger.Conway.Utxo.Properties.html#18492" class="Bound">balanceUtxo&#39;</a> <a id="19406" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19410" href="Ledger.Conway.Utxo.Properties.html#18529" class="Bound">txfee</a><a id="19415" class="Symbol">)</a> <a id="19417" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19421" href="Ledger.Conway.Utxo.Properties.html#18546" class="Bound">tot</a> <a id="19425" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19429" href="Ledger.Conway.Utxo.Properties.html#18535" class="Bound">txdonation</a>
        <a id="19448" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19459" href="Ledger.Conway.Utxo.Properties.html#18492" class="Bound">balanceUtxo&#39;</a> <a id="19472" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19476" href="Ledger.Conway.Utxo.Properties.html#18529" class="Bound">txfee</a> <a id="19482" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19486" class="Symbol">(</a><a id="19487" href="Ledger.Conway.Utxo.Properties.html#18546" class="Bound">tot</a> <a id="19491" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19495" href="Ledger.Conway.Utxo.Properties.html#18535" class="Bound">txdonation</a><a id="19505" class="Symbol">)</a>
        <a id="19515" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="19518" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19523" class="Symbol">(</a><a id="19524" href="Ledger.Conway.Utxo.Properties.html#18492" class="Bound">balanceUtxo&#39;</a> <a id="19537" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19539" href="Ledger.Conway.Utxo.Properties.html#18529" class="Bound">txfee</a> <a id="19545" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="19547" class="Symbol">)</a> <a id="19549" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="19551" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="19558" href="Ledger.Conway.Utxo.Properties.html#18546" class="Bound">tot</a> <a id="19562" href="Ledger.Conway.Utxo.Properties.html#18535" class="Bound">txdonation</a> <a id="19573" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="19581" href="Ledger.Conway.Utxo.Properties.html#18492" class="Bound">balanceUtxo&#39;</a> <a id="19594" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19598" href="Ledger.Conway.Utxo.Properties.html#18529" class="Bound">txfee</a> <a id="19604" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19608" class="Symbol">(</a><a id="19609" href="Ledger.Conway.Utxo.Properties.html#18535" class="Bound">txdonation</a> <a id="19620" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19624" href="Ledger.Conway.Utxo.Properties.html#18546" class="Bound">tot</a><a id="19627" class="Symbol">)</a>
        <a id="19637" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19648" class="Symbol">(</a><a id="19649" href="Ledger.Conway.Utxo.Properties.html#18492" class="Bound">balanceUtxo&#39;</a> <a id="19662" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19666" href="Ledger.Conway.Utxo.Properties.html#18529" class="Bound">txfee</a><a id="19671" class="Symbol">)</a> <a id="19673" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19677" href="Ledger.Conway.Utxo.Properties.html#18535" class="Bound">txdonation</a> <a id="19688" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19692" href="Ledger.Conway.Utxo.Properties.html#18546" class="Bound">tot</a>
        <a id="19704" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="19709" href="Ledger.Conway.Utxo.Properties.html#19709" class="Function">utxo-ref-prop</a> <a id="19723" class="Symbol">:</a>
    <a id="19729" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="19738" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="19743" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19745" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="19749" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19751" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="19756" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>
    <a id="19762" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="19771" class="Symbol">((</a><a id="19773" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="19778" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19780" href="Ledger.Conway.Transaction.html#2750" class="Function">txins</a> <a id="19786" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19787" class="Symbol">)</a> <a id="19789" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="19792" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="19797" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a><a id="19800" class="Symbol">)</a> <a id="19802" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19804" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="19810" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19812" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="19823" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19825" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a>
  <a id="19831" href="Ledger.Conway.Utxo.Properties.html#19709" class="Function">utxo-ref-prop</a> <a id="19845" class="Symbol">=</a> <a id="19847" href="Ledger.Conway.Utxo.Properties.html#18791" class="Function">utxo-ref-prop-worker</a>
                    <a id="19888" class="Symbol">(</a><a id="19889" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="19898" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a><a id="19902" class="Symbol">)</a>
                    <a id="19924" class="Symbol">(</a><a id="19925" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="19934" class="Symbol">(</a><a id="19935" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="19940" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="19942" href="Ledger.Conway.Transaction.html#2750" class="Function">txins</a><a id="19947" class="Symbol">))</a>
                    <a id="19970" class="Symbol">(</a><a id="19971" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="19980" class="Symbol">(</a><a id="19981" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="19986" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19988" href="Ledger.Conway.Transaction.html#2750" class="Function">txins</a> <a id="19994" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19995" class="Symbol">))</a>
                    <a id="20018" class="Symbol">(</a><a id="20019" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="20028" class="Symbol">(</a><a id="20029" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="20034" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a><a id="20037" class="Symbol">))</a>
                    <a id="20060" class="Symbol">(</a><a id="20061" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="20070" class="Symbol">((</a><a id="20072" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="20077" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="20079" href="Ledger.Conway.Transaction.html#2750" class="Function">txins</a> <a id="20085" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="20086" class="Symbol">)</a> <a id="20088" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="20091" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="20096" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a><a id="20099" class="Symbol">))</a>
                    <a id="20122" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="20126" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="20132" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="20143" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a>
                    <a id="20167" class="Symbol">(</a><a id="20168" href="Ledger.Conway.Utxo.Properties.html#17680" class="Function">split-balance</a> <a id="20182" href="Ledger.Conway.Transaction.html#2750" class="Function">txins</a><a id="20187" class="Symbol">)</a>
                    <a id="20209" class="Symbol">(</a><a id="20210" href="Ledger.Conway.Utxo.Properties.html#8167" class="Function">balance-∪</a> <a id="20220" class="Symbol">{</a><a id="20221" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="20226" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="20228" href="Ledger.Conway.Transaction.html#2750" class="Function">txins</a> <a id="20234" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="20235" class="Symbol">}</a> <a id="20237" class="Symbol">{</a><a id="20238" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="20243" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a><a id="20246" class="Symbol">}</a> <a id="20248" href="Ledger.Conway.Utxo.Properties.html#14777" class="Function">h</a><a id="20249" class="Symbol">)</a>
                    <a id="20271" class="Symbol">(</a><a id="20272" href="Ledger.Conway.Utxo.Properties.html#12742" class="Function">balValueToCoin</a> <a id="20287" class="Symbol">{</a><a id="20288" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a><a id="20291" class="Symbol">}</a> <a id="20293" class="Symbol">{</a><a id="20294" href="Ledger.Conway.Utxo.Properties.html#14578" class="Function">utxoSt</a><a id="20300" class="Symbol">}</a> <a id="20302" class="Symbol">{</a><a id="20303" href="Ledger.Conway.Utxo.html#1092" class="Field">UTxOEnv.pparams</a> <a id="20319" href="Ledger.Conway.Utxo.Properties.html#13838" class="Bound">Γ</a><a id="20320" class="Symbol">}</a> <a id="20322" href="Ledger.Conway.Utxo.Properties.html#15563" class="Function">noMintAda</a> <a id="20332" href="Ledger.Conway.Utxo.Properties.html#15223" class="Function">newBal</a><a id="20338" class="Symbol">)</a>

  <a id="20343" href="Ledger.Conway.Utxo.Properties.html#20343" class="Function">rearrange0</a> <a id="20354" class="Symbol">:</a>
      <a id="20362" class="Symbol">(</a><a id="20363" href="Ledger.Conway.Utxo.Properties.html#20363" class="Bound">bal</a> <a id="20367" class="Symbol">:</a> <a id="20369" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="20370" class="Symbol">)</a>
    <a id="20376" class="Symbol">→</a> <a id="20378" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="20388" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20390" href="Ledger.Conway.Utxo.html#7988" class="Function">updateDeposits</a> <a id="20405" href="Ledger.Conway.Utxo.Properties.html#14369" class="Function">pp</a> <a id="20408" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a> <a id="20412" href="Ledger.Conway.Utxo.Properties.html#13703" class="Bound">deposits</a>
    <a id="20425" class="Symbol">→</a> <a id="20427" href="Ledger.Conway.Utxo.Properties.html#20363" class="Bound">bal</a> <a id="20431" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20433" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="20439" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20441" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="20452" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20454" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="20458" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20460" class="Symbol">(</a><a id="20461" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="20471" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20473" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="20477" class="Symbol">)</a>
    <a id="20483" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20485" href="Ledger.Conway.Utxo.Properties.html#20363" class="Bound">bal</a> <a id="20489" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20491" class="Symbol">(</a><a id="20492" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="20497" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20499" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="20505" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20507" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="20515" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="20525" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20527" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="20537" class="Symbol">)</a>
  <a id="20541" href="Ledger.Conway.Utxo.Properties.html#20343" class="Function">rearrange0</a> <a id="20552" href="Ledger.Conway.Utxo.Properties.html#20552" class="Bound">bal</a> <a id="20556" href="Ledger.Conway.Utxo.Properties.html#20556" class="Bound">h</a> <a id="20558" class="Symbol">=</a> <a id="20560" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="20570" href="Ledger.Conway.Utxo.Properties.html#20552" class="Bound">bal</a> <a id="20574" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20578" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="20584" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20588" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="20599" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20603" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="20607" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20611" class="Symbol">(</a><a id="20612" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="20622" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20626" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="20630" class="Symbol">)</a>
      <a id="20638" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
    <a id="20647" href="Ledger.Conway.Utxo.Properties.html#20552" class="Bound">bal</a> <a id="20651" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20655" class="Symbol">(</a><a id="20656" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="20662" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20666" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="20677" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20681" class="Symbol">(</a><a id="20682" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="20686" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20690" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a><a id="20699" class="Symbol">)</a> <a id="20701" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20705" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="20709" class="Symbol">)</a>
      <a id="20717" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20720" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20725" class="Symbol">(</a><a id="20726" href="Ledger.Conway.Utxo.Properties.html#20552" class="Bound">bal</a> <a id="20730" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="20732" class="Symbol">)</a> <a id="20734" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20736" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="20750" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="20756" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20758" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="20769" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20771" class="Symbol">(</a><a id="20772" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="20776" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20778" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a><a id="20787" class="Symbol">)</a> <a id="20789" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20791" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a>
          <a id="20806" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20809" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="20816" class="Symbol">_</a> <a id="20818" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="20823" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="20833" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="20838" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20842" class="Symbol">(</a><a id="20843" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="20849" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20853" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="20864" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20868" class="Symbol">(</a><a id="20869" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="20873" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20877" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a><a id="20886" class="Symbol">))</a>
          <a id="20899" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
        <a id="20912" class="Symbol">(</a><a id="20913" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="20918" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20922" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="20927" class="Symbol">)</a> <a id="20929" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20933" class="Symbol">(</a><a id="20934" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="20945" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20949" class="Symbol">(</a><a id="20950" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="20954" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20958" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a><a id="20967" class="Symbol">))</a>
          <a id="20980" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20983" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20988" class="Symbol">((</a><a id="20990" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="20995" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20997" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="21002" class="Symbol">)</a> <a id="21004" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="21006" class="Symbol">)</a> <a id="21008" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21010" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="21017" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="21028" class="Symbol">(</a><a id="21029" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="21033" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21035" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a><a id="21044" class="Symbol">)</a> <a id="21046" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="21056" class="Symbol">(</a><a id="21057" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="21062" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21064" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="21069" class="Symbol">)</a> <a id="21071" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21075" class="Symbol">((</a><a id="21077" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="21081" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21083" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a><a id="21092" class="Symbol">)</a> <a id="21094" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21098" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="21108" class="Symbol">)</a>
          <a id="21120" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
        <a id="21133" class="Symbol">(</a><a id="21134" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="21139" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21141" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="21146" class="Symbol">)</a> <a id="21148" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21152" class="Symbol">(</a><a id="21153" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="21157" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21159" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a><a id="21168" class="Symbol">)</a> <a id="21170" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21174" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a>
          <a id="21195" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21198" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21203" class="Symbol">(λ</a> <a id="21206" href="Ledger.Conway.Utxo.Properties.html#21206" class="Bound">x</a> <a id="21208" class="Symbol">→</a> <a id="21210" class="Symbol">(</a><a id="21211" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="21216" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21218" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="21223" class="Symbol">)</a> <a id="21225" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21227" href="Ledger.Conway.Utxo.Properties.html#21206" class="Bound">x</a> <a id="21229" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21231" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="21241" class="Symbol">)</a>
          <a id="21253" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21255" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a> <a id="21261" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="21265" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21267" class="Symbol">(</a><a id="21268" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="21272" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21274" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a><a id="21277" class="Symbol">)</a> <a id="21279" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="21283" href="Data.Nat.Properties.html#50173" class="Function">+-∸-assoc</a> <a id="21293" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="21297" href="Ledger.Conway.Utxo.Properties.html#16699" class="Function">ref≤dep</a> <a id="21305" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                  <a id="21325" class="Symbol">(</a><a id="21326" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="21330" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21332" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="21335" class="Symbol">)</a> <a id="21337" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21339" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="21343" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21346" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21351" class="Symbol">(</a><a id="21352" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="21355" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a><a id="21358" class="Symbol">)</a> <a id="21360" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21362" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="21369" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="21373" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="21377" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                  <a id="21397" class="Symbol">(</a><a id="21398" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="21402" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21404" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a><a id="21407" class="Symbol">)</a> <a id="21409" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21411" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="21415" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="21419" href="Ledger.Conway.Utxo.Properties.html#16908" class="Function">deposits-change</a> <a id="21435" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                  <a id="21455" href="Ledger.Conway.Utxo.Properties.html#14455" class="Function">uDep</a>              <a id="21473" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21476" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21481" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21489" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21491" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="21495" href="Ledger.Conway.Utxo.Properties.html#20556" class="Bound">h</a> <a id="21497" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                  <a id="21517" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21525" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="21535" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21537" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="21547" class="Symbol">(</a><a id="21548" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="21553" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21555" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="21560" class="Symbol">)</a> <a id="21562" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21564" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21572" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="21582" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21584" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a>
          <a id="21605" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21607" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="21613" href="Ledger.Conway.Utxo.Properties.html#20552" class="Bound">bal</a> <a id="21617" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21619" class="Symbol">((</a><a id="21621" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="21626" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21628" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="21633" class="Symbol">)</a> <a id="21635" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21637" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21645" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="21655" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21657" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="21667" class="Symbol">)</a>
      <a id="21675" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="21680" class="Keyword">module</a> <a id="21687" href="Ledger.Conway.Utxo.Properties.html#21687" class="Module">_</a> <a id="21689" class="Symbol">(</a><a id="21690" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="21702" href="Ledger.Conway.Utxo.Properties.html#21702" class="Bound">balanceUtxo&#39;</a> <a id="21715" class="Symbol">:</a> <a id="21717" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="21721" class="Symbol">)</a>
           <a id="21734" class="Symbol">(</a><a id="21735" href="Ledger.Conway.Utxo.Properties.html#21735" class="Bound">ref-prop</a> <a id="21744" class="Symbol">:</a> <a id="21746" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="21758" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21760" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="21764" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21766" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="21771" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21773" href="Ledger.Conway.Utxo.Properties.html#21702" class="Bound">balanceUtxo&#39;</a> <a id="21786" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21788" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="21794" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21796" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="21807" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21809" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a><a id="21812" class="Symbol">)</a>
           <a id="21825" class="Symbol">(</a><a id="21826" href="Ledger.Conway.Utxo.Properties.html#21826" class="Bound">h</a> <a id="21828" class="Symbol">:</a> <a id="21830" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="21840" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21842" href="Ledger.Conway.Utxo.html#7988" class="Function">updateDeposits</a> <a id="21857" href="Ledger.Conway.Utxo.Properties.html#14369" class="Function">pp</a> <a id="21860" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a> <a id="21864" href="Ledger.Conway.Utxo.Properties.html#13703" class="Bound">deposits</a><a id="21872" class="Symbol">)</a>
           <a id="21885" class="Keyword">where</a>

    <a id="21896" href="Ledger.Conway.Utxo.Properties.html#21896" class="Function">pov-scripts-worker</a> <a id="21915" class="Symbol">:</a>  <a id="21918" href="Ledger.Conway.Transaction.html#4331" class="Field">isValid</a> <a id="21926" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21928" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                          <a id="21959" class="Symbol">→</a>  <a id="21962" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="21974" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21976" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="21981" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21983" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21991" href="Ledger.Conway.Utxo.Properties.html#13703" class="Bound">deposits</a> <a id="22000" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22002" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="22012" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22014" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="22019" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="22021" href="Ledger.Conway.Utxo.Properties.html#13594" class="Function">χ</a><a id="22022" class="Symbol">(</a><a id="22023" href="Ledger.Conway.Transaction.html#4331" class="Field">isValid</a><a id="22030" class="Symbol">)</a>
                             <a id="22061" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="22063" href="Ledger.Conway.Utxo.Properties.html#21702" class="Bound">balanceUtxo&#39;</a> <a id="22076" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22078" class="Symbol">(</a><a id="22079" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22084" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22086" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="22091" class="Symbol">)</a> <a id="22093" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22095" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="22103" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="22113" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22115" class="Symbol">(</a><a id="22116" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="22126" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22128" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="22138" class="Symbol">)</a>
    <a id="22144" href="Ledger.Conway.Utxo.Properties.html#21896" class="Function">pov-scripts-worker</a> <a id="22163" href="Ledger.Conway.Utxo.Properties.html#22163" class="Bound">valid</a> <a id="22169" class="Symbol">=</a> <a id="22171" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="22183" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="22195" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22197" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22202" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22204" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="22208" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22210" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="22220" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22222" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="22227" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="22229" href="Ledger.Conway.Utxo.Properties.html#13594" class="Function">χ</a><a id="22230" class="Symbol">(</a><a id="22231" href="Ledger.Conway.Transaction.html#4331" class="Field">isValid</a><a id="22238" class="Symbol">)</a>
        <a id="22248" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22251" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22256" class="Symbol">(λ</a> <a id="22259" href="Ledger.Conway.Utxo.Properties.html#22259" class="Bound">x</a> <a id="22261" class="Symbol">→</a> <a id="22263" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="22275" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22277" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22282" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22284" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="22288" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22290" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="22300" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22302" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="22307" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="22309" href="Ledger.Conway.Utxo.Properties.html#13594" class="Function">χ</a> <a id="22311" href="Ledger.Conway.Utxo.Properties.html#22259" class="Bound">x</a><a id="22312" class="Symbol">)</a> <a id="22314" href="Ledger.Conway.Utxo.Properties.html#22163" class="Bound">valid</a> <a id="22320" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22328" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="22340" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22342" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22347" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22349" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="22353" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22355" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="22365" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22367" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="22372" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="22374" class="Number">1</a>
        <a id="22384" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22387" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22392" class="Symbol">(</a><a id="22393" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="22405" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22407" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22412" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22414" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="22418" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22420" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="22430" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="22432" class="Symbol">)</a> <a id="22434" class="Symbol">(</a><a id="22435" href="Data.Nat.Properties.html#21834" class="Function">*-identityʳ</a> <a id="22447" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="22451" class="Symbol">)</a> <a id="22453" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22461" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="22473" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22475" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22480" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22482" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="22486" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22488" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="22498" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22500" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a>
        <a id="22513" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22516" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="22524" class="Symbol">(</a><a id="22525" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="22537" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22539" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22544" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22546" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="22549" class="Symbol">)</a> <a id="22551" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="22561" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="22566" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22574" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="22586" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22588" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22593" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22595" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="22599" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22601" class="Symbol">(</a><a id="22602" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="22612" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22614" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="22618" class="Symbol">)</a>
        <a id="22628" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22631" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22636" class="Symbol">(</a><a id="22637" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="22649" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22651" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22656" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22658" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="22662" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="22664" class="Symbol">)</a> <a id="22666" class="Symbol">(</a><a id="22667" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="22674" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="22684" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="22688" class="Symbol">)</a> <a id="22690" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22698" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="22710" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22712" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22717" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22719" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="22723" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22725" class="Symbol">(</a><a id="22726" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="22731" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22733" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a><a id="22742" class="Symbol">)</a>
        <a id="22752" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="22756" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="22764" class="Symbol">(</a><a id="22765" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="22777" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22779" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22784" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22786" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a><a id="22789" class="Symbol">)</a> <a id="22791" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="22796" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a>  <a id="22807" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="22815" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="22827" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22829" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22834" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22836" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="22840" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22842" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="22847" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22849" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a>
        <a id="22867" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22870" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22875" class="Symbol">(</a><a id="22876" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="22879" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a><a id="22888" class="Symbol">)</a>
        <a id="22898" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="22900" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
            <a id="22918" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="22930" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22932" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22937" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22939" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="22943" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22945" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a>
              <a id="22964" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="22968" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22973" class="Symbol">(λ</a> <a id="22976" href="Ledger.Conway.Utxo.Properties.html#22976" class="Bound">x</a> <a id="22978" class="Symbol">→</a> <a id="22980" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="22992" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22994" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="22999" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23001" href="Ledger.Conway.Utxo.Properties.html#22976" class="Bound">x</a> <a id="23003" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23005" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="23009" class="Symbol">)</a> <a id="23011" class="Symbol">(</a><a id="23012" href="Data.Nat.Properties.html#51744" class="Function">m+[n∸m]≡n</a> <a id="23022" href="Ledger.Conway.Utxo.Properties.html#16699" class="Function">ref≤dep</a><a id="23029" class="Symbol">)</a> <a id="23031" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="23045" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23057" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23059" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="23064" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23066" class="Symbol">(</a><a id="23067" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23071" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23073" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a><a id="23082" class="Symbol">)</a> <a id="23084" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23086" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a>
              <a id="23105" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23108" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23113" class="Symbol">(</a><a id="23114" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="23117" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="23121" class="Symbol">)</a> <a id="23123" class="Symbol">(</a><a id="23124" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23132" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23144" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="23149" class="Symbol">(</a><a id="23150" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23154" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23156" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a><a id="23165" class="Symbol">))</a> <a id="23168" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23182" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23194" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23196" class="Symbol">(</a><a id="23197" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="23202" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23204" class="Symbol">(</a><a id="23205" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23209" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23211" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a><a id="23220" class="Symbol">))</a> <a id="23223" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23225" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a>
              <a id="23244" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23247" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23252" class="Symbol">(λ</a> <a id="23255" href="Ledger.Conway.Utxo.Properties.html#23255" class="Bound">x</a> <a id="23257" class="Symbol">→</a> <a id="23259" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23271" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23273" href="Ledger.Conway.Utxo.Properties.html#23255" class="Bound">x</a> <a id="23275" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23277" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="23281" class="Symbol">)</a> <a id="23283" class="Symbol">(</a><a id="23284" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="23291" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="23296" class="Symbol">(</a><a id="23297" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23301" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23303" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a><a id="23312" class="Symbol">))</a> <a id="23315" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23329" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23341" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23343" class="Symbol">(</a><a id="23344" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23348" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23350" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="23360" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23362" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="23366" class="Symbol">)</a> <a id="23368" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23370" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a>
              <a id="23389" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23392" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23397" class="Symbol">(λ</a> <a id="23400" href="Ledger.Conway.Utxo.Properties.html#23400" class="Bound">x</a> <a id="23402" class="Symbol">→</a> <a id="23404" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23416" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23418" href="Ledger.Conway.Utxo.Properties.html#23400" class="Bound">x</a> <a id="23420" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23422" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="23426" class="Symbol">)</a> <a id="23428" class="Symbol">(</a><a id="23429" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23437" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23441" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="23451" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="23455" class="Symbol">)</a> <a id="23457" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a> <a id="23459" class="Comment">--</a>
            <a id="23474" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23486" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23488" class="Symbol">(</a><a id="23489" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23493" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23495" class="Symbol">(</a><a id="23496" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="23506" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23508" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="23512" class="Symbol">))</a> <a id="23515" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23517" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a>
              <a id="23536" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23539" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23547" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23559" class="Symbol">(</a><a id="23560" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23564" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23566" class="Symbol">(</a><a id="23567" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="23577" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23579" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="23583" class="Symbol">))</a> <a id="23586" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="23591" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a> <a id="23593" class="Comment">--</a>
            <a id="23608" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23620" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23622" class="Symbol">(</a><a id="23623" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23627" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23629" class="Symbol">(</a><a id="23630" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="23640" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23642" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="23646" class="Symbol">)</a> <a id="23648" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23650" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="23654" class="Symbol">)</a>
              <a id="23670" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23673" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23678" class="Symbol">(</a><a id="23679" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23691" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="23693" class="Symbol">)</a> <a id="23695" class="Symbol">(</a><a id="23696" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23704" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23708" class="Symbol">(</a><a id="23709" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="23719" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23721" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="23725" class="Symbol">)</a> <a id="23727" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="23731" class="Symbol">)</a> <a id="23733" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23747" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23759" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23761" class="Symbol">(</a><a id="23762" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23766" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23768" class="Symbol">((</a><a id="23770" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="23780" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23782" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="23786" class="Symbol">)</a> <a id="23788" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23790" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="23794" class="Symbol">))</a>
              <a id="23811" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23814" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23819" class="Symbol">(λ</a> <a id="23822" href="Ledger.Conway.Utxo.Properties.html#23822" class="Bound">x</a> <a id="23824" class="Symbol">→</a> <a id="23826" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23838" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23840" class="Symbol">(</a><a id="23841" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23845" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23847" href="Ledger.Conway.Utxo.Properties.html#23822" class="Bound">x</a><a id="23848" class="Symbol">))</a> <a id="23851" class="Symbol">(</a><a id="23852" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="23859" class="Symbol">(</a><a id="23860" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="23870" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23872" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="23876" class="Symbol">)</a> <a id="23878" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="23882" class="Symbol">)</a> <a id="23884" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23898" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23910" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23912" class="Symbol">(</a><a id="23913" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23917" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23919" class="Symbol">(</a><a id="23920" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="23925" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23927" class="Symbol">(</a><a id="23928" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="23938" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23940" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="23944" class="Symbol">)))</a>
              <a id="23962" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="23966" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23974" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="23986" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="23990" class="Symbol">(</a><a id="23991" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="23996" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23998" class="Symbol">(</a><a id="23999" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="24009" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24011" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="24015" class="Symbol">))</a> <a id="24018" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="24032" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="24044" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24046" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="24050" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24052" class="Symbol">(</a><a id="24053" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="24058" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24060" class="Symbol">(</a><a id="24061" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="24071" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24073" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="24077" class="Symbol">))</a>
              <a id="24094" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="24098" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="24106" class="Symbol">(</a><a id="24107" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="24119" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24121" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a><a id="24124" class="Symbol">)</a> <a id="24126" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="24131" class="Symbol">(</a><a id="24132" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="24142" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24144" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="24148" class="Symbol">)</a> <a id="24150" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="24164" href="Ledger.Conway.Utxo.Properties.html#21690" class="Bound">balanceUtxo</a> <a id="24176" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24178" href="Ledger.Conway.Utxo.Properties.html#14653" class="Function">ref</a> <a id="24182" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24184" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="24189" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24191" class="Symbol">(</a><a id="24192" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="24202" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24204" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="24208" class="Symbol">)</a>
              <a id="24224" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="24227" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="24232" class="Symbol">(</a><a id="24233" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="24236" class="Symbol">(</a><a id="24237" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="24247" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24249" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="24253" class="Symbol">))</a> <a id="24256" href="Ledger.Conway.Utxo.Properties.html#21735" class="Bound">ref-prop</a> <a id="24265" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="24279" href="Ledger.Conway.Utxo.Properties.html#21702" class="Bound">balanceUtxo&#39;</a> <a id="24292" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24294" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="24300" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24302" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="24313" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24315" href="Ledger.Conway.Utxo.Properties.html#14657" class="Function">tot</a> <a id="24319" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24321" class="Symbol">(</a><a id="24322" href="Ledger.Conway.Utxo.Properties.html#15625" class="Function">remDepTot</a> <a id="24332" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24334" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="24338" class="Symbol">)</a>
              <a id="24354" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="24357" href="Ledger.Conway.Utxo.Properties.html#20343" class="Function">rearrange0</a> <a id="24368" class="Symbol">(</a><a id="24369" href="Ledger.Conway.Utxo.Properties.html#21702" class="Bound">balanceUtxo&#39;</a><a id="24381" class="Symbol">)</a> <a id="24383" href="Ledger.Conway.Utxo.Properties.html#21826" class="Bound">h</a> <a id="24385" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="24399" href="Ledger.Conway.Utxo.Properties.html#21702" class="Bound">balanceUtxo&#39;</a> <a id="24412" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24414" class="Symbol">(</a><a id="24415" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="24420" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24422" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="24428" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24430" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24438" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="24448" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24450" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="24460" class="Symbol">)</a>
              <a id="24476" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="24478" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="24486" href="Ledger.Conway.Utxo.Properties.html#21702" class="Bound">balanceUtxo&#39;</a> <a id="24499" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24503" class="Symbol">(</a><a id="24504" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="24509" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24511" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="24517" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24521" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24529" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="24539" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24543" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="24553" class="Symbol">)</a> <a id="24555" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24559" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a>
        <a id="24577" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="24588" href="Ledger.Conway.Utxo.Properties.html#21702" class="Bound">balanceUtxo&#39;</a> <a id="24601" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24605" class="Symbol">(</a><a id="24606" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="24611" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24613" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="24618" class="Symbol">)</a> <a id="24620" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24624" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24632" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="24642" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24646" class="Symbol">(</a><a id="24647" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="24658" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24662" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a><a id="24671" class="Symbol">)</a>
        <a id="24681" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="24684" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="24689" class="Symbol">(</a><a id="24690" href="Ledger.Conway.Utxo.Properties.html#21702" class="Bound">balanceUtxo&#39;</a> <a id="24703" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24705" class="Symbol">(</a><a id="24706" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="24711" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24713" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="24718" class="Symbol">)</a> <a id="24720" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24722" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24730" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="24740" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+_</a><a id="24744" class="Symbol">)</a>
         <a id="24755" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="24757" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="24764" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="24775" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="24785" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="24793" href="Ledger.Conway.Utxo.Properties.html#21702" class="Bound">balanceUtxo&#39;</a> <a id="24806" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24808" class="Symbol">(</a><a id="24809" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="24814" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24816" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="24821" class="Symbol">)</a> <a id="24823" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24825" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24833" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="24843" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24845" class="Symbol">(</a><a id="24846" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="24856" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24858" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="24868" class="Symbol">)</a>
        <a id="24878" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="24883" href="Ledger.Conway.Utxo.Properties.html#24883" class="Function">pov-scripts</a> <a id="24895" class="Symbol">:</a>  <a id="24898" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="24908" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24910" href="Ledger.Conway.Utxo.html#7988" class="Function">updateDeposits</a> <a id="24925" href="Ledger.Conway.Utxo.Properties.html#14369" class="Function">pp</a> <a id="24928" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a> <a id="24932" href="Ledger.Conway.Utxo.Properties.html#13703" class="Bound">deposits</a>
                 <a id="24958" class="Symbol">→</a>  <a id="24961" href="Ledger.Conway.Transaction.html#4331" class="Field">isValid</a> <a id="24969" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24971" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                 <a id="24993" class="Symbol">→</a>  <a id="24996" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="25005" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="25010" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25012" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="25017" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25019" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="25023" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25025" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="25035" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25037" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="25042" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25044" href="Ledger.Conway.Utxo.Properties.html#13594" class="Function">χ</a><a id="25045" class="Symbol">(</a><a id="25046" href="Ledger.Conway.Transaction.html#4331" class="Field">isValid</a><a id="25053" class="Symbol">)</a>
                    <a id="25075" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>  <a id="25078" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="25087" class="Symbol">((</a><a id="25089" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="25094" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25096" href="Ledger.Conway.Transaction.html#2750" class="Function">txins</a> <a id="25102" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25103" class="Symbol">)</a> <a id="25105" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="25108" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="25113" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a><a id="25116" class="Symbol">)</a>
                       <a id="25141" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25143" class="Symbol">(</a><a id="25144" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="25149" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25151" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="25156" class="Symbol">)</a> <a id="25158" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25160" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="25168" href="Ledger.Conway.Utxo.Properties.html#13712" class="Bound">deposits&#39;</a> <a id="25178" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25180" class="Symbol">(</a><a id="25181" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="25191" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25193" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="25203" class="Symbol">)</a>
  <a id="25207" href="Ledger.Conway.Utxo.Properties.html#24883" class="Function">pov-scripts</a> <a id="25219" href="Ledger.Conway.Utxo.Properties.html#25219" class="Bound">h</a> <a id="25221" href="Ledger.Conway.Utxo.Properties.html#25221" class="Bound">valid</a> <a id="25227" class="Symbol">=</a> <a id="25229" href="Ledger.Conway.Utxo.Properties.html#21896" class="Function">pov-scripts-worker</a> <a id="25248" class="Symbol">(</a><a id="25249" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="25258" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a><a id="25262" class="Symbol">)</a> <a id="25264" class="Symbol">(</a><a id="25265" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="25274" class="Symbol">((</a><a id="25276" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="25281" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25283" href="Ledger.Conway.Transaction.html#2750" class="Function">txins</a> <a id="25289" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25290" class="Symbol">)</a> <a id="25292" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="25295" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="25300" href="Ledger.Conway.Utxo.Properties.html#13812" class="Field">txb</a><a id="25303" class="Symbol">))</a> <a id="25306" href="Ledger.Conway.Utxo.Properties.html#19709" class="Function">utxo-ref-prop</a> <a id="25320" href="Ledger.Conway.Utxo.Properties.html#25219" class="Bound">h</a> <a id="25322" href="Ledger.Conway.Utxo.Properties.html#25221" class="Bound">valid</a>

  <a id="25331" href="Ledger.Conway.Utxo.Properties.html#25331" class="Function">pov-no-scripts</a> <a id="25346" class="Symbol">:</a>  <a id="25349" href="Ledger.Conway.Transaction.html#4331" class="Field">isValid</a> <a id="25357" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25359" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="25385" class="Symbol">→</a>  <a id="25388" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="25397" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="25402" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25404" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="25409" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25411" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="25415" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25417" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="25427" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25429" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="25434" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25436" href="Ledger.Conway.Utxo.Properties.html#13594" class="Function">χ</a><a id="25437" class="Symbol">(</a><a id="25438" href="Ledger.Conway.Transaction.html#4331" class="Field">isValid</a><a id="25445" class="Symbol">)</a>
                       <a id="25470" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25472" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="25481" class="Symbol">(</a><a id="25482" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="25487" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25489" href="Ledger.Conway.Transaction.html#3285" class="Function">collateral</a> <a id="25500" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25501" class="Symbol">)</a> <a id="25503" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25505" class="Symbol">(</a><a id="25506" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="25511" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25513" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="25522" class="Symbol">(</a><a id="25523" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="25528" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25530" href="Ledger.Conway.Transaction.html#3285" class="Function">collateral</a><a id="25540" class="Symbol">))</a> <a id="25543" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25545" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="25549" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25551" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a>
  <a id="25563" href="Ledger.Conway.Utxo.Properties.html#25331" class="Function">pov-no-scripts</a> <a id="25578" href="Ledger.Conway.Utxo.Properties.html#25578" class="Bound">invalid</a> <a id="25586" class="Symbol">=</a> <a id="25588" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="25598" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="25607" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="25612" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25614" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="25619" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25621" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="25625" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25627" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="25637" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25639" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="25644" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25646" href="Ledger.Conway.Utxo.Properties.html#13594" class="Function">χ</a><a id="25647" class="Symbol">(</a><a id="25648" href="Ledger.Conway.Transaction.html#4331" class="Field">isValid</a><a id="25655" class="Symbol">)</a> <a id="25657" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25660" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25665" class="Symbol">(λ</a> <a id="25668" href="Ledger.Conway.Utxo.Properties.html#25668" class="Bound">x</a> <a id="25670" class="Symbol">→</a> <a id="25672" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="25681" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="25686" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25688" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="25693" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25695" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="25699" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25701" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="25711" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25713" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="25718" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25720" href="Ledger.Conway.Utxo.Properties.html#13594" class="Function">χ</a> <a id="25722" href="Ledger.Conway.Utxo.Properties.html#25668" class="Bound">x</a><a id="25723" class="Symbol">)</a> <a id="25725" href="Ledger.Conway.Utxo.Properties.html#25578" class="Bound">invalid</a> <a id="25733" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25739" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="25748" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="25753" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25755" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="25760" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25762" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="25766" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25768" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="25778" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25780" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a> <a id="25785" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25787" class="Number">0</a> <a id="25789" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25792" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25797" class="Symbol">(</a><a id="25798" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="25807" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="25812" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25814" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="25819" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25821" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="25825" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25827" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="25837" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a> <a id="25840" class="Symbol">)</a> <a id="25842" class="Symbol">(</a><a id="25843" href="Data.Nat.Properties.html#22054" class="Function">*-zeroʳ</a> <a id="25851" href="Ledger.Conway.Utxo.Properties.html#14711" class="Function">wdls</a><a id="25855" class="Symbol">)</a> <a id="25857" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25863" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="25872" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="25877" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25879" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="25884" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25886" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="25890" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25892" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="25902" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25904" class="Number">0</a> <a id="25906" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25909" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="25921" class="Symbol">_</a> <a id="25923" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25929" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="25938" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="25943" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25945" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="25950" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25952" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="25956" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25958" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a> <a id="25968" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25971" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25976" class="Symbol">(λ</a> <a id="25979" href="Ledger.Conway.Utxo.Properties.html#25979" class="Bound">x</a> <a id="25981" class="Symbol">→</a> <a id="25983" href="Ledger.Conway.Utxo.Properties.html#25979" class="Bound">x</a> <a id="25985" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25987" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="25991" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25993" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a><a id="26002" class="Symbol">)</a> <a id="26004" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="26006" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="26018" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="26027" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="26032" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26036" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="26041" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="26044" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="26049" class="Symbol">(</a><a id="26050" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="26053" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="26057" class="Symbol">)</a> <a id="26059" class="Symbol">(</a><a id="26060" href="Ledger.Conway.Utxo.Properties.html#17680" class="Function">split-balance</a> <a id="26074" href="Ledger.Conway.Transaction.html#3285" class="Function">collateral</a><a id="26084" class="Symbol">)</a> <a id="26086" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="26094" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="26103" class="Symbol">(</a><a id="26104" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="26109" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26111" href="Ledger.Conway.Transaction.html#3285" class="Function">collateral</a> <a id="26122" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26123" class="Symbol">)</a> <a id="26125" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26129" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="26138" class="Symbol">(</a><a id="26139" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="26144" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="26146" href="Ledger.Conway.Transaction.html#3285" class="Function">collateral</a><a id="26156" class="Symbol">)</a> <a id="26158" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26162" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="26167" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="26178" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="26187" class="Symbol">(</a><a id="26188" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="26193" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26195" href="Ledger.Conway.Transaction.html#3285" class="Function">collateral</a> <a id="26206" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26207" class="Symbol">)</a> <a id="26209" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26213" class="Symbol">(</a><a id="26214" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="26223" class="Symbol">(</a><a id="26224" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="26229" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="26231" href="Ledger.Conway.Transaction.html#3285" class="Function">collateral</a><a id="26241" class="Symbol">)</a> <a id="26243" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26247" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="26251" class="Symbol">)</a> <a id="26253" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="26256" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="26261" class="Symbol">(</a><a id="26262" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="26271" class="Symbol">(</a><a id="26272" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="26277" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26279" href="Ledger.Conway.Transaction.html#3285" class="Function">collateral</a> <a id="26290" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26291" class="Symbol">)</a> <a id="26293" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="26295" class="Symbol">)</a> <a id="26297" class="Symbol">(</a><a id="26298" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="26305" class="Symbol">_</a> <a id="26307" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a><a id="26311" class="Symbol">)</a> <a id="26313" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="26321" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="26330" class="Symbol">(</a><a id="26331" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="26336" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26338" href="Ledger.Conway.Transaction.html#3285" class="Function">collateral</a> <a id="26349" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26350" class="Symbol">)</a> <a id="26352" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26356" class="Symbol">(</a><a id="26357" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="26362" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26366" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="26375" class="Symbol">(</a><a id="26376" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="26381" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="26383" href="Ledger.Conway.Transaction.html#3285" class="Function">collateral</a><a id="26393" class="Symbol">))</a> <a id="26396" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="26398" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="26404" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="26413" class="Symbol">(</a><a id="26414" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="26419" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26421" href="Ledger.Conway.Transaction.html#3285" class="Function">collateral</a> <a id="26432" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26433" class="Symbol">)</a> <a id="26435" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26437" class="Symbol">(</a><a id="26438" href="Ledger.Conway.Utxo.Properties.html#13681" class="Bound">fees</a> <a id="26443" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26445" href="Ledger.Conway.Utxo.html#2328" class="Function">cbalance</a> <a id="26454" class="Symbol">(</a><a id="26455" href="Ledger.Conway.Utxo.Properties.html#13659" class="Bound">utxo</a> <a id="26460" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="26462" href="Ledger.Conway.Transaction.html#3285" class="Function">collateral</a><a id="26472" class="Symbol">))</a> <a id="26475" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26477" href="Ledger.Conway.Utxo.Properties.html#14413" class="Function">dep</a> <a id="26481" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26483" href="Ledger.Conway.Utxo.Properties.html#13737" class="Bound">donations</a>
    <a id="26497" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>


<a id="UTXO-step"></a><a id="26501" href="Ledger.Conway.Utxo.Properties.html#26501" class="Function">UTXO-step</a> <a id="26511" class="Symbol">:</a> <a id="26513" href="Ledger.Conway.Utxo.html#1038" class="Record">UTxOEnv</a> <a id="26521" class="Symbol">→</a> <a id="26523" href="Ledger.Conway.Utxo.html#1390" class="Record">UTxOState</a> <a id="26533" class="Symbol">→</a> <a id="26535" href="Ledger.Conway.Transaction.html#4227" class="Record">Tx</a> <a id="26538" class="Symbol">→</a> <a id="26540" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="26558" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="26565" href="Ledger.Conway.Utxo.html#1390" class="Record">UTxOState</a>
<a id="26575" href="Ledger.Conway.Utxo.Properties.html#26501" class="Function">UTXO-step</a> <a id="26585" class="Symbol">=</a> <a id="26587" href="Interface.ComputationalRelation.html#2976" class="Function">compute</a> <a id="26595" class="Symbol">⦃</a> <a id="26597" href="Ledger.Conway.Utxo.Properties.html#7163" class="Function">Computational-UTXO</a> <a id="26616" class="Symbol">⦄</a>

<a id="UTXO-step-computes-UTXO"></a><a id="26619" href="Ledger.Conway.Utxo.Properties.html#26619" class="Function">UTXO-step-computes-UTXO</a>  <a id="26644" class="Symbol">:</a>  <a id="26647" href="Ledger.Conway.Utxo.Properties.html#26501" class="Function">UTXO-step</a> <a id="26657" href="Ledger.Conway.Utxo.Properties.html#7364" class="Generalizable">Γ</a> <a id="26659" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a> <a id="26669" href="Ledger.Conway.Utxo.Properties.html#7282" class="Generalizable">tx</a> <a id="26672" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26674" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="26682" href="Ledger.Conway.Utxo.Properties.html#7419" class="Generalizable">utxoState&#39;</a>
                         <a id="26718" href="Function.Bundles.html#12400" class="Function Operator">⇔</a>  <a id="26721" href="Ledger.Conway.Utxo.Properties.html#7364" class="Generalizable">Γ</a> <a id="26723" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⊢</a> <a id="26725" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a> <a id="26735" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⇀⦇</a> <a id="26738" href="Ledger.Conway.Utxo.Properties.html#7282" class="Generalizable">tx</a> <a id="26741" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">,UTXO⦈</a> <a id="26748" href="Ledger.Conway.Utxo.Properties.html#7419" class="Generalizable">utxoState&#39;</a>
<a id="26759" href="Ledger.Conway.Utxo.Properties.html#26619" class="Function">UTXO-step-computes-UTXO</a> <a id="26783" class="Symbol">=</a> <a id="26785" href="Interface.ComputationalRelation.html#3323" class="Function">≡-success⇔STS</a> <a id="26799" class="Symbol">⦃</a> <a id="26801" href="Ledger.Conway.Utxo.Properties.html#7163" class="Function">Computational-UTXO</a> <a id="26820" class="Symbol">⦄</a>


<a id="isRefundCert"></a><a id="26824" href="Ledger.Conway.Utxo.Properties.html#26824" class="Function">isRefundCert</a> <a id="26837" class="Symbol">:</a> <a id="26839" href="Ledger.Conway.Certs.html#1304" class="Datatype">DCert</a> <a id="26845" class="Symbol">→</a> <a id="26847" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="26852" href="Ledger.Conway.Utxo.Properties.html#26824" class="Function">isRefundCert</a> <a id="26865" class="Symbol">(</a><a id="26866" href="Ledger.Conway.Certs.html#1398" class="InductiveConstructor">dereg</a> <a id="26872" href="Ledger.Conway.Utxo.Properties.html#26872" class="Bound">c</a> <a id="26874" class="Symbol">_)</a> <a id="26877" class="Symbol">=</a> <a id="26879" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="26884" href="Ledger.Conway.Utxo.Properties.html#26824" class="Function">isRefundCert</a> <a id="26897" class="Symbol">(</a><a id="26898" href="Ledger.Conway.Certs.html#1582" class="InductiveConstructor">deregdrep</a> <a id="26908" href="Ledger.Conway.Utxo.Properties.html#26908" class="Bound">c</a> <a id="26910" class="Symbol">_)</a> <a id="26913" class="Symbol">=</a> <a id="26915" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="26920" href="Ledger.Conway.Utxo.Properties.html#26824" class="CatchallClause Function">isRefundCert</a><a id="26932" class="CatchallClause"> </a><a id="26933" class="CatchallClause Symbol">_</a> <a id="26935" class="Symbol">=</a> <a id="26937" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="noRefundCert"></a><a id="26944" href="Ledger.Conway.Utxo.Properties.html#26944" class="Function">noRefundCert</a> <a id="26957" class="Symbol">:</a> <a id="26959" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="26964" href="Ledger.Conway.Certs.html#1304" class="Datatype">DCert</a> <a id="26970" class="Symbol">→</a> <a id="26972" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="26977" class="Symbol">_</a>
<a id="26979" href="Ledger.Conway.Utxo.Properties.html#26944" class="Function">noRefundCert</a> <a id="26992" href="Ledger.Conway.Utxo.Properties.html#26992" class="Bound">l</a> <a id="26994" class="Symbol">=</a> <a id="26996" href="Data.List.Relation.Unary.All.html#1644" class="Datatype">All</a> <a id="27000" class="Symbol">(λ</a> <a id="27003" href="Ledger.Conway.Utxo.Properties.html#27003" class="Bound">cert</a> <a id="27008" class="Symbol">→</a> <a id="27010" href="Ledger.Conway.Utxo.Properties.html#26824" class="Function">isRefundCert</a> <a id="27023" href="Ledger.Conway.Utxo.Properties.html#27003" class="Bound">cert</a> <a id="27028" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27030" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="27035" class="Symbol">)</a> <a id="27037" href="Ledger.Conway.Utxo.Properties.html#26992" class="Bound">l</a>

<a id="27040" class="Keyword">opaque</a>
  <a id="27049" class="Keyword">unfolding</a> <a id="27059" href="abstract-set-theory.FiniteSetTheory.html#240" class="Function">List-Model</a>
  <a id="27072" class="Keyword">unfolding</a> <a id="27082" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a>
  <a id="fin∘list[]"></a><a id="27095" href="Ledger.Conway.Utxo.Properties.html#27095" class="Function">fin∘list[]</a> <a id="27106" class="Symbol">:</a> <a id="27108" class="Symbol">{</a><a id="27109" href="Ledger.Conway.Utxo.Properties.html#27109" class="Bound">A</a> <a id="27111" class="Symbol">:</a> <a id="27113" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="27117" class="Symbol">}</a> <a id="27119" class="Symbol">→</a> <a id="27121" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27127" class="Symbol">(</a><a id="27128" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a><a id="27138" class="Symbol">{</a><a id="27139" class="Argument">A</a> <a id="27141" class="Symbol">=</a> <a id="27143" href="Ledger.Conway.Utxo.Properties.html#27109" class="Bound">A</a><a id="27144" class="Symbol">}</a> <a id="27146" href="Class.HasEmptySet.html#287" class="Field">∅</a><a id="27147" class="Symbol">)</a> <a id="27149" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27151" class="InductiveConstructor">[]</a>
  <a id="27156" href="Ledger.Conway.Utxo.Properties.html#27095" class="Function">fin∘list[]</a> <a id="27167" class="Symbol">=</a> <a id="27169" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="fin∘list∷[]"></a><a id="27176" href="Ledger.Conway.Utxo.Properties.html#27176" class="Function">fin∘list∷[]</a> <a id="27188" class="Symbol">:</a> <a id="27190" class="Symbol">{</a><a id="27191" href="Ledger.Conway.Utxo.Properties.html#27191" class="Bound">A</a> <a id="27193" class="Symbol">:</a> <a id="27195" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="27199" class="Symbol">}</a> <a id="27201" class="Symbol">{</a><a id="27202" href="Ledger.Conway.Utxo.Properties.html#27202" class="Bound">a</a> <a id="27204" class="Symbol">:</a> <a id="27206" href="Ledger.Conway.Utxo.Properties.html#27191" class="Bound">A</a><a id="27207" class="Symbol">}</a> <a id="27209" class="Symbol">→</a> <a id="27211" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27217" class="Symbol">(</a><a id="27218" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27229" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="27231" href="Ledger.Conway.Utxo.Properties.html#27202" class="Bound">a</a> <a id="27233" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="27234" class="Symbol">)</a> <a id="27236" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27238" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="27240" href="Ledger.Conway.Utxo.Properties.html#27202" class="Bound">a</a> <a id="27242" href="Data.List.Base.html#5205" class="Function Operator">]</a>
  <a id="27246" href="Ledger.Conway.Utxo.Properties.html#27176" class="Function">fin∘list∷[]</a> <a id="27258" class="Symbol">=</a> <a id="27260" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="coin∅"></a><a id="27266" href="Ledger.Conway.Utxo.Properties.html#27266" class="Function">coin∅</a> <a id="27272" class="Symbol">:</a> <a id="27274" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="27281" class="Symbol">{</a><a id="27282" class="Argument">A</a> <a id="27284" class="Symbol">=</a> <a id="27286" href="Ledger.Conway.Certs.html#553" class="Function">Deposits</a><a id="27294" class="Symbol">}</a> <a id="27296" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="27298" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27300" class="Number">0</a>
<a id="27302" href="Ledger.Conway.Utxo.Properties.html#27266" class="Function">coin∅</a> <a id="27308" class="Symbol">=</a> <a id="27310" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="27318" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27324" class="Symbol">(λ</a> <a id="27327" href="Ledger.Conway.Utxo.Properties.html#27327" class="Bound">x</a> <a id="27329" class="Symbol">→</a> <a id="27331" class="Symbol">(</a><a id="27332" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27338" href="Ledger.Conway.Utxo.Properties.html#27327" class="Bound">x</a><a id="27339" class="Symbol">)</a> <a id="27341" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27343" class="Symbol">)</a> <a id="27345" class="Number">0</a> <a id="27347" class="Symbol">(</a><a id="27348" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27360" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27364" class="Symbol">(</a><a id="27365" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27371" class="Symbol">(</a><a id="27372" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27383" href="Class.HasEmptySet.html#287" class="Field">∅</a><a id="27384" class="Symbol">)))</a>
    <a id="27392" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27395" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27400" class="Symbol">(λ</a> <a id="27403" href="Ledger.Conway.Utxo.Properties.html#27403" class="Bound">u</a> <a id="27405" class="Symbol">→</a> <a id="27407" class="Symbol">(</a><a id="27408" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27414" class="Symbol">(λ</a> <a id="27417" href="Ledger.Conway.Utxo.Properties.html#27417" class="Bound">x</a> <a id="27419" class="Symbol">→</a> <a id="27421" class="Symbol">(</a><a id="27422" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27428" href="Ledger.Conway.Utxo.Properties.html#27417" class="Bound">x</a><a id="27429" class="Symbol">)</a> <a id="27431" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27433" class="Symbol">)</a> <a id="27435" class="Number">0</a> <a id="27437" class="Symbol">(</a><a id="27438" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27450" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27454" href="Ledger.Conway.Utxo.Properties.html#27403" class="Bound">u</a><a id="27455" class="Symbol">)))</a> <a id="27459" href="Ledger.Conway.Utxo.Properties.html#27095" class="Function">fin∘list[]</a> <a id="27470" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27474" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27480" class="Symbol">(λ</a> <a id="27483" class="Symbol">(</a><a id="27484" href="Ledger.Conway.Utxo.Properties.html#27484" class="Bound">x</a> <a id="27486" class="Symbol">:</a> <a id="27488" href="Ledger.Conway.Certs.html#312" class="Datatype">DepositPurpose</a> <a id="27503" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27505" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27509" class="Symbol">)</a> <a id="27511" class="Symbol">→</a> <a id="27513" class="Symbol">(</a><a id="27514" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27520" href="Ledger.Conway.Utxo.Properties.html#27484" class="Bound">x</a><a id="27521" class="Symbol">)</a> <a id="27523" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27525" class="Symbol">)</a> <a id="27527" class="Number">0</a> <a id="27529" class="Symbol">(</a><a id="27530" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27542" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27546" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27548" class="Symbol">)</a>
    <a id="27554" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27557" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27562" class="Symbol">(λ</a> <a id="27565" href="Ledger.Conway.Utxo.Properties.html#27565" class="Bound">u</a> <a id="27567" class="Symbol">→</a> <a id="27569" class="Symbol">(</a><a id="27570" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27576" class="Symbol">(λ</a> <a id="27579" class="Symbol">(</a><a id="27580" href="Ledger.Conway.Utxo.Properties.html#27580" class="Bound">x</a> <a id="27582" class="Symbol">:</a> <a id="27584" href="Ledger.Conway.Certs.html#312" class="Datatype">DepositPurpose</a> <a id="27599" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27601" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27605" class="Symbol">)</a> <a id="27607" class="Symbol">→</a> <a id="27609" class="Symbol">(</a><a id="27610" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27616" href="Ledger.Conway.Utxo.Properties.html#27580" class="Bound">x</a><a id="27617" class="Symbol">)</a> <a id="27619" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27621" class="Symbol">)</a> <a id="27623" class="Number">0</a>  <a id="27626" href="Ledger.Conway.Utxo.Properties.html#27565" class="Bound">u</a><a id="27627" class="Symbol">))</a>
            <a id="27642" class="Symbol">{</a><a id="27643" class="Argument">x</a> <a id="27645" class="Symbol">=</a> <a id="27647" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27659" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27663" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27665" class="Symbol">}</a> <a id="27667" class="Symbol">{</a><a id="27668" class="Argument">y</a> <a id="27670" class="Symbol">=</a> <a id="27672" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27674" class="Symbol">}</a> <a id="27676" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="27681" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27685" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27691" class="Symbol">(λ</a> <a id="27694" class="Symbol">(</a><a id="27695" href="Ledger.Conway.Utxo.Properties.html#27695" class="Bound">x</a> <a id="27697" class="Symbol">:</a> <a id="27699" href="Ledger.Conway.Certs.html#312" class="Datatype">DepositPurpose</a> <a id="27714" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27716" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27720" class="Symbol">)</a> <a id="27722" class="Symbol">→</a> <a id="27724" class="Symbol">(</a><a id="27725" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27731" href="Ledger.Conway.Utxo.Properties.html#27695" class="Bound">x</a><a id="27732" class="Symbol">)</a> <a id="27734" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27736" class="Symbol">)</a> <a id="27738" class="Number">0</a> <a id="27740" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="27747" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27750" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="27755" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27759" class="Number">0</a> <a id="27761" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="27765" class="Keyword">where</a> <a id="27771" class="Keyword">open</a> <a id="27776" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

<a id="getCoin-singleton"></a><a id="27797" href="Ledger.Conway.Utxo.Properties.html#27797" class="Function">getCoin-singleton</a> <a id="27815" class="Symbol">:</a> <a id="27817" class="Symbol">(</a><a id="27818" href="Ledger.Conway.Utxo.Properties.html#27818" class="Bound">(</a><a id="27819" href="Ledger.Conway.Utxo.Properties.html#27819" class="Bound">dp</a> <a id="27822" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27824" href="Ledger.Conway.Utxo.Properties.html#27824" class="Bound">c</a><a id="27825" href="Ledger.Conway.Utxo.Properties.html#27818" class="Bound">)</a> <a id="27827" class="Symbol">:</a> <a id="27829" href="Ledger.Conway.Certs.html#312" class="Datatype">DepositPurpose</a> <a id="27844" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27846" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27850" class="Symbol">)</a> <a id="27852" class="Symbol">→</a> <a id="27854" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">indexedSumᵛ&#39;</a> <a id="27867" href="Function.Base.html#704" class="Function">id</a> <a id="27870" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="27872" class="Symbol">(</a><a id="27873" href="Ledger.Conway.Utxo.Properties.html#27819" class="Bound">dp</a> <a id="27876" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27878" href="Ledger.Conway.Utxo.Properties.html#27824" class="Bound">c</a><a id="27879" class="Symbol">)</a> <a id="27881" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="27883" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27885" href="Ledger.Conway.Utxo.Properties.html#27824" class="Bound">c</a>
<a id="27887" href="Ledger.Conway.Utxo.Properties.html#27797" class="Function">getCoin-singleton</a> <a id="27905" class="Symbol">_</a> <a id="27907" class="Symbol">=</a> <a id="27909" href="Axiom.Set.Sum.html#4082" class="Function">indexedSum-singleton&#39;</a> <a id="27931" class="Symbol">{</a><a id="27932" class="Argument">A</a> <a id="27934" class="Symbol">=</a> <a id="27936" href="Ledger.Conway.Certs.html#312" class="Datatype">DepositPurpose</a> <a id="27951" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27953" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27957" class="Symbol">}</a> <a id="27959" class="Symbol">{</a><a id="27960" class="Argument">f</a> <a id="27962" class="Symbol">=</a> <a id="27964" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="27969" class="Symbol">}</a> <a id="27971" class="Symbol">(</a><a id="27972" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27983" class="Symbol">_)</a>

<a id="27987" class="Keyword">module</a> <a id="27994" href="Ledger.Conway.Utxo.Properties.html#27994" class="Module">_</a> <a id="27996" class="Comment">-- ASSUMPTION --</a>
         <a id="28022" class="Symbol">(</a><a id="28023" href="Ledger.Conway.Utxo.Properties.html#28023" class="Bound">gc-hom</a> <a id="28030" class="Symbol">:</a> <a id="28032" class="Symbol">(</a><a id="28033" href="Ledger.Conway.Utxo.Properties.html#28033" class="Bound">d₁</a> <a id="28036" href="Ledger.Conway.Utxo.Properties.html#28036" class="Bound">d₂</a> <a id="28039" class="Symbol">:</a> <a id="28041" href="Ledger.Conway.Certs.html#553" class="Function">Deposits</a><a id="28049" class="Symbol">)</a> <a id="28051" class="Symbol">→</a> <a id="28053" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28061" class="Symbol">(</a><a id="28062" href="Ledger.Conway.Utxo.Properties.html#28033" class="Bound">d₁</a> <a id="28065" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28068" href="Ledger.Conway.Utxo.Properties.html#28036" class="Bound">d₂</a><a id="28070" class="Symbol">)</a> <a id="28072" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28074" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28082" href="Ledger.Conway.Utxo.Properties.html#28033" class="Bound">d₁</a> <a id="28085" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28087" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28095" href="Ledger.Conway.Utxo.Properties.html#28036" class="Bound">d₂</a><a id="28097" class="Symbol">)</a>
  <a id="28101" class="Keyword">where</a>
  <a id="28109" href="Ledger.Conway.Utxo.Properties.html#28109" class="Function">∪⁺singleton≡</a> <a id="28122" class="Symbol">:</a> <a id="28124" class="Symbol">{</a><a id="28125" href="Ledger.Conway.Utxo.Properties.html#28125" class="Bound">deps</a> <a id="28130" class="Symbol">:</a> <a id="28132" href="Ledger.Conway.Certs.html#553" class="Function">Deposits</a><a id="28140" class="Symbol">}</a> <a id="28142" class="Symbol">{</a><a id="28143" href="Ledger.Conway.Utxo.Properties.html#28143" class="Symbol">(</a><a id="28144" href="Ledger.Conway.Utxo.Properties.html#28144" class="Bound">dp</a> <a id="28147" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28149" href="Ledger.Conway.Utxo.Properties.html#28149" class="Bound">c</a><a id="28150" href="Ledger.Conway.Utxo.Properties.html#28143" class="Symbol">)</a> <a id="28152" class="Symbol">:</a> <a id="28154" href="Ledger.Conway.Certs.html#312" class="Datatype">DepositPurpose</a> <a id="28169" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="28171" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28175" class="Symbol">}</a>
                 <a id="28194" class="Symbol">→</a> <a id="28196" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28204" class="Symbol">(</a><a id="28205" href="Ledger.Conway.Utxo.Properties.html#28125" class="Bound">deps</a> <a id="28210" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28213" href="Axiom.Set.Map.html#4588" class="Function Operator">❴</a> <a id="28215" class="Symbol">(</a><a id="28216" href="Ledger.Conway.Utxo.Properties.html#28144" class="Bound">dp</a> <a id="28219" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28221" href="Ledger.Conway.Utxo.Properties.html#28149" class="Bound">c</a><a id="28222" class="Symbol">)</a> <a id="28224" href="Axiom.Set.Map.html#4588" class="Function Operator">❵ᵐ</a><a id="28226" class="Symbol">)</a> <a id="28228" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28230" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28238" href="Ledger.Conway.Utxo.Properties.html#28125" class="Bound">deps</a> <a id="28243" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28245" href="Ledger.Conway.Utxo.Properties.html#28149" class="Bound">c</a>
  <a id="28249" href="Ledger.Conway.Utxo.Properties.html#28109" class="Function">∪⁺singleton≡</a> <a id="28262" class="Symbol">{</a><a id="28263" href="Ledger.Conway.Utxo.Properties.html#28263" class="Bound">deps</a><a id="28267" class="Symbol">}</a> <a id="28269" class="Symbol">{(</a><a id="28271" href="Ledger.Conway.Utxo.Properties.html#28271" class="Bound">dp</a> <a id="28274" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28276" href="Ledger.Conway.Utxo.Properties.html#28276" class="Bound">c</a><a id="28277" class="Symbol">)}</a> <a id="28280" class="Symbol">=</a> <a id="28282" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="28292" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28300" class="Symbol">(</a><a id="28301" href="Ledger.Conway.Utxo.Properties.html#28263" class="Bound">deps</a> <a id="28306" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28309" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28311" class="Symbol">(</a><a id="28312" href="Ledger.Conway.Utxo.Properties.html#28271" class="Bound">dp</a> <a id="28315" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28317" href="Ledger.Conway.Utxo.Properties.html#28276" class="Bound">c</a><a id="28318" class="Symbol">)</a> <a id="28320" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="28321" class="Symbol">)</a>
      <a id="28329" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="28332" href="Ledger.Conway.Utxo.Properties.html#28023" class="Bound">gc-hom</a> <a id="28339" href="Ledger.Conway.Utxo.Properties.html#28263" class="Bound">deps</a> <a id="28344" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28346" class="Symbol">(</a><a id="28347" href="Ledger.Conway.Utxo.Properties.html#28271" class="Bound">dp</a> <a id="28350" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28352" href="Ledger.Conway.Utxo.Properties.html#28276" class="Bound">c</a><a id="28353" class="Symbol">)</a> <a id="28355" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="28357" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="28363" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28371" href="Ledger.Conway.Utxo.Properties.html#28263" class="Bound">deps</a> <a id="28376" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28378" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="28385" class="Symbol">{</a><a id="28386" class="Argument">A</a> <a id="28388" class="Symbol">=</a> <a id="28390" href="Ledger.Conway.Certs.html#553" class="Function">Deposits</a><a id="28398" class="Symbol">}</a> <a id="28400" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28402" class="Symbol">(</a><a id="28403" href="Ledger.Conway.Utxo.Properties.html#28271" class="Bound">dp</a> <a id="28406" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28408" href="Ledger.Conway.Utxo.Properties.html#28276" class="Bound">c</a><a id="28409" class="Symbol">)</a> <a id="28411" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="28419" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="28422" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="28427" class="Symbol">(</a><a id="28428" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28436" href="Ledger.Conway.Utxo.Properties.html#28263" class="Bound">deps</a> <a id="28441" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="28443" class="Symbol">)</a> <a id="28445" class="Symbol">(</a><a id="28446" href="Ledger.Conway.Utxo.Properties.html#27797" class="Function">getCoin-singleton</a> <a id="28464" class="Symbol">(</a><a id="28465" href="Ledger.Conway.Utxo.Properties.html#28271" class="Bound">dp</a> <a id="28468" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28470" href="Ledger.Conway.Utxo.Properties.html#28276" class="Bound">c</a><a id="28471" class="Symbol">))</a> <a id="28474" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="28480" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28488" href="Ledger.Conway.Utxo.Properties.html#28263" class="Bound">deps</a> <a id="28493" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28495" href="Ledger.Conway.Utxo.Properties.html#28276" class="Bound">c</a>
      <a id="28503" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="28509" class="Keyword">where</a> <a id="28515" class="Keyword">open</a> <a id="28520" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

  <a id="28543" class="Keyword">module</a> <a id="28550" href="Ledger.Conway.Utxo.Properties.html#28550" class="Module">_</a> <a id="28552" class="Symbol">{</a><a id="28553" href="Ledger.Conway.Utxo.Properties.html#28553" class="Bound">deposits</a> <a id="28562" class="Symbol">:</a> <a id="28564" href="Ledger.Conway.Certs.html#553" class="Function">Deposits</a><a id="28572" class="Symbol">}</a> <a id="28574" class="Symbol">{</a><a id="28575" href="Ledger.Conway.Utxo.Properties.html#28575" class="Bound">txid</a> <a id="28580" class="Symbol">:</a> <a id="28582" href="Ledger.Conway.Transaction.html#924" class="Field">TxId</a><a id="28586" class="Symbol">}</a> <a id="28588" class="Symbol">{</a><a id="28589" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a> <a id="28595" class="Symbol">:</a> <a id="28597" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28601" class="Symbol">}</a> <a id="28603" class="Keyword">where</a>

    <a id="28614" href="Ledger.Conway.Utxo.Properties.html#28614" class="Function">≤updatePropDeps</a> <a id="28630" class="Symbol">:</a> <a id="28632" class="Symbol">(</a><a id="28633" href="Ledger.Conway.Utxo.Properties.html#28633" class="Bound">props</a> <a id="28639" class="Symbol">:</a> <a id="28641" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="28646" href="Ledger.Conway.Gov.Actions.html#2490" class="Record">GovProposal</a><a id="28657" class="Symbol">)</a>
      <a id="28665" class="Symbol">→</a> <a id="28667" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28675" href="Ledger.Conway.Utxo.Properties.html#28553" class="Bound">deposits</a> <a id="28684" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="28686" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28694" class="Symbol">(</a><a id="28695" href="Ledger.Conway.Utxo.html#7683" class="Function">updateProposalDeposits</a> <a id="28718" href="Ledger.Conway.Utxo.Properties.html#28633" class="Bound">props</a> <a id="28724" href="Ledger.Conway.Utxo.Properties.html#28575" class="Bound">txid</a> <a id="28729" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a> <a id="28735" href="Ledger.Conway.Utxo.Properties.html#28553" class="Bound">deposits</a><a id="28743" class="Symbol">)</a>
    <a id="28749" href="Ledger.Conway.Utxo.Properties.html#28614" class="Function">≤updatePropDeps</a> <a id="28765" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="28768" class="Symbol">=</a> <a id="28770" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="28782" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="28791" href="Ledger.Conway.Utxo.Properties.html#28614" class="Function">≤updatePropDeps</a> <a id="28807" class="Symbol">(</a><a id="28808" href="Ledger.Conway.Utxo.Properties.html#28808" class="Bound">x</a> <a id="28810" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="28812" href="Ledger.Conway.Utxo.Properties.html#28812" class="Bound">props</a><a id="28817" class="Symbol">)</a> <a id="28819" class="Symbol">=</a> <a id="28821" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="28829" class="Symbol">(</a><a id="28830" href="Ledger.Conway.Utxo.Properties.html#28614" class="Function">≤updatePropDeps</a> <a id="28846" href="Ledger.Conway.Utxo.Properties.html#28812" class="Bound">props</a><a id="28851" class="Symbol">)</a>
                                          <a id="28895" class="Symbol">(</a><a id="28896" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="28904" class="Symbol">(</a><a id="28905" href="Data.Nat.Properties.html#19178" class="Function">m≤m+n</a> <a id="28911" class="Symbol">_</a> <a id="28913" class="Symbol">_)</a>
                                                   <a id="28967" class="Symbol">(</a><a id="28968" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="28980" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="28982" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="28986" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="28988" href="Ledger.Conway.Utxo.Properties.html#28109" class="Function">∪⁺singleton≡</a><a id="29000" class="Symbol">))</a>
    <a id="29007" href="Ledger.Conway.Utxo.Properties.html#29007" class="Function">updatePropDeps≡</a> <a id="29023" class="Symbol">:</a> <a id="29025" class="Symbol">(</a><a id="29026" href="Ledger.Conway.Utxo.Properties.html#29026" class="Bound">ps</a> <a id="29029" class="Symbol">:</a> <a id="29031" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="29036" href="Ledger.Conway.Gov.Actions.html#2490" class="Record">GovProposal</a><a id="29047" class="Symbol">)</a>
      <a id="29055" class="Symbol">→</a> <a id="29057" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29065" class="Symbol">(</a><a id="29066" href="Ledger.Conway.Utxo.html#7683" class="Function">updateProposalDeposits</a> <a id="29089" href="Ledger.Conway.Utxo.Properties.html#29026" class="Bound">ps</a> <a id="29092" href="Ledger.Conway.Utxo.Properties.html#28575" class="Bound">txid</a> <a id="29097" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a> <a id="29103" href="Ledger.Conway.Utxo.Properties.html#28553" class="Bound">deposits</a><a id="29111" class="Symbol">)</a> <a id="29113" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="29115" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29123" href="Ledger.Conway.Utxo.Properties.html#28553" class="Bound">deposits</a> <a id="29132" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="29134" class="Symbol">(</a><a id="29135" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29142" href="Ledger.Conway.Utxo.Properties.html#29026" class="Bound">ps</a><a id="29144" class="Symbol">)</a> <a id="29146" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29148" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a>
    <a id="29158" href="Ledger.Conway.Utxo.Properties.html#29007" class="Function">updatePropDeps≡</a> <a id="29174" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="29177" class="Symbol">=</a> <a id="29179" href="Data.Nat.Properties.html#46355" class="Function">n∸n≡0</a> <a id="29185" class="Symbol">(</a><a id="29186" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29194" href="Ledger.Conway.Utxo.Properties.html#28553" class="Bound">deposits</a><a id="29202" class="Symbol">)</a>
    <a id="29208" href="Ledger.Conway.Utxo.Properties.html#29007" class="Function">updatePropDeps≡</a> <a id="29224" class="Symbol">(_</a> <a id="29227" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="29229" href="Ledger.Conway.Utxo.Properties.html#29229" class="Bound">ps</a><a id="29231" class="Symbol">)</a> <a id="29233" class="Symbol">=</a> <a id="29235" class="Keyword">let</a>
      <a id="29245" href="Ledger.Conway.Utxo.Properties.html#29245" class="Bound">upD</a> <a id="29249" class="Symbol">=</a> <a id="29251" href="Ledger.Conway.Utxo.html#7683" class="Function">updateProposalDeposits</a> <a id="29274" href="Ledger.Conway.Utxo.Properties.html#29229" class="Bound">ps</a> <a id="29277" href="Ledger.Conway.Utxo.Properties.html#28575" class="Bound">txid</a> <a id="29282" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a> <a id="29288" href="Ledger.Conway.Utxo.Properties.html#28553" class="Bound">deposits</a> <a id="29297" class="Keyword">in</a>
      <a id="29306" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="29320" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29328" class="Symbol">(</a><a id="29329" href="Ledger.Conway.Utxo.Properties.html#29245" class="Bound">upD</a> <a id="29333" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="29336" href="Axiom.Set.Map.html#4588" class="Function Operator">❴</a> <a id="29338" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="29355" class="Symbol">(</a><a id="29356" href="Ledger.Conway.Utxo.Properties.html#28575" class="Bound">txid</a> <a id="29361" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29363" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29370" href="Ledger.Conway.Utxo.Properties.html#29229" class="Bound">ps</a><a id="29372" class="Symbol">)</a> <a id="29374" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29376" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a> <a id="29382" href="Axiom.Set.Map.html#4588" class="Function Operator">❵ᵐ</a><a id="29384" class="Symbol">)</a> <a id="29386" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29388" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29396" href="Ledger.Conway.Utxo.Properties.html#28553" class="Bound">deposits</a>
          <a id="29415" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29418" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="29423" class="Symbol">(</a><a id="29424" href="Data.Nat.Base.html#4462" class="Primitive Operator">_∸</a> <a id="29427" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29435" href="Ledger.Conway.Utxo.Properties.html#28553" class="Bound">deposits</a><a id="29443" class="Symbol">)</a> <a id="29445" href="Ledger.Conway.Utxo.Properties.html#28109" class="Function">∪⁺singleton≡</a> <a id="29458" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29468" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29476" href="Ledger.Conway.Utxo.Properties.html#29245" class="Bound">upD</a> <a id="29480" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29482" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a> <a id="29488" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29490" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29498" href="Ledger.Conway.Utxo.Properties.html#28553" class="Bound">deposits</a>
          <a id="29517" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29520" href="Data.Nat.Properties.html#49780" class="Function">+-∸-comm</a> <a id="29529" class="Symbol">_</a> <a id="29531" class="Symbol">(</a><a id="29532" href="Ledger.Conway.Utxo.Properties.html#28614" class="Function">≤updatePropDeps</a> <a id="29548" href="Ledger.Conway.Utxo.Properties.html#29229" class="Bound">ps</a><a id="29550" class="Symbol">)</a> <a id="29552" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29562" class="Symbol">(</a><a id="29563" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29571" href="Ledger.Conway.Utxo.Properties.html#29245" class="Bound">upD</a> <a id="29575" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29577" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29585" href="Ledger.Conway.Utxo.Properties.html#28553" class="Bound">deposits</a><a id="29593" class="Symbol">)</a> <a id="29595" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29597" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a>
          <a id="29613" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29616" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="29621" class="Symbol">(</a><a id="29622" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="29625" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a><a id="29630" class="Symbol">)</a> <a id="29632" class="Symbol">(</a><a id="29633" href="Ledger.Conway.Utxo.Properties.html#29007" class="Function">updatePropDeps≡</a> <a id="29649" href="Ledger.Conway.Utxo.Properties.html#29229" class="Bound">ps</a><a id="29651" class="Symbol">)</a> <a id="29653" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29663" class="Symbol">(</a><a id="29664" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29671" href="Ledger.Conway.Utxo.Properties.html#29229" class="Bound">ps</a><a id="29673" class="Symbol">)</a> <a id="29675" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29677" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a> <a id="29683" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29685" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a>
          <a id="29701" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29704" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="29711" class="Symbol">((</a><a id="29713" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29720" href="Ledger.Conway.Utxo.Properties.html#29229" class="Bound">ps</a><a id="29722" class="Symbol">)</a> <a id="29724" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29726" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a><a id="29731" class="Symbol">)</a> <a id="29733" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a> <a id="29739" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29749" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a> <a id="29755" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29757" class="Symbol">(</a><a id="29758" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29765" href="Ledger.Conway.Utxo.Properties.html#29229" class="Bound">ps</a><a id="29767" class="Symbol">)</a> <a id="29769" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29771" href="Ledger.Conway.Utxo.Properties.html#28589" class="Bound">gaDep</a>
          <a id="29787" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
        <a id="29797" class="Keyword">where</a> <a id="29803" class="Keyword">open</a> <a id="29808" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

  <a id="29831" href="Ledger.Conway.Utxo.Properties.html#29831" class="Function">≤certDeps</a>  <a id="29842" class="Symbol">:</a>  <a id="29845" class="Symbol">{</a><a id="29846" href="Ledger.Conway.Utxo.Properties.html#29846" class="Bound">d</a> <a id="29848" class="Symbol">:</a> <a id="29850" href="Ledger.Conway.Certs.html#553" class="Function">Deposits</a><a id="29858" class="Symbol">}</a> <a id="29860" class="Symbol">{</a><a id="29861" href="Ledger.Conway.Utxo.Properties.html#29861" class="Symbol">(</a><a id="29862" href="Ledger.Conway.Utxo.Properties.html#29862" class="Bound">dp</a> <a id="29865" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29867" href="Ledger.Conway.Utxo.Properties.html#29867" class="Bound">c</a><a id="29868" href="Ledger.Conway.Utxo.Properties.html#29861" class="Symbol">)</a> <a id="29870" class="Symbol">:</a> <a id="29872" href="Ledger.Conway.Certs.html#312" class="Datatype">DepositPurpose</a> <a id="29887" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="29889" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="29893" class="Symbol">}</a>
             <a id="29908" class="Symbol">→</a>  <a id="29911" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29919" href="Ledger.Conway.Utxo.Properties.html#29846" class="Bound">d</a> <a id="29921" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="29923" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29931" class="Symbol">(</a><a id="29932" href="Ledger.Conway.Utxo.Properties.html#29846" class="Bound">d</a> <a id="29934" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="29937" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="29939" class="Symbol">(</a><a id="29940" href="Ledger.Conway.Utxo.Properties.html#29862" class="Bound">dp</a> <a id="29943" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29945" href="Ledger.Conway.Utxo.Properties.html#29867" class="Bound">c</a><a id="29946" class="Symbol">)</a> <a id="29948" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="29949" class="Symbol">)</a>

  <a id="29954" href="Ledger.Conway.Utxo.Properties.html#29831" class="Function">≤certDeps</a> <a id="29964" class="Symbol">{</a><a id="29965" href="Ledger.Conway.Utxo.Properties.html#29965" class="Bound">d</a><a id="29966" class="Symbol">}</a> <a id="29968" class="Symbol">=</a> <a id="29970" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="29980" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29988" href="Ledger.Conway.Utxo.Properties.html#29965" class="Bound">d</a>                      <a id="30011" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="30014" href="Data.Nat.Properties.html#19178" class="Function">m≤m+n</a> <a id="30020" class="Symbol">(</a><a id="30021" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30029" href="Ledger.Conway.Utxo.Properties.html#29965" class="Bound">d</a><a id="30030" class="Symbol">)</a> <a id="30032" class="Symbol">_</a> <a id="30034" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="30040" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30048" href="Ledger.Conway.Utxo.Properties.html#29965" class="Bound">d</a> <a id="30050" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="30052" class="Symbol">_</a>                  <a id="30071" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="30074" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="30078" href="Ledger.Conway.Utxo.Properties.html#28109" class="Function">∪⁺singleton≡</a> <a id="30091" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="30097" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30105" class="Symbol">(</a><a id="30106" href="Ledger.Conway.Utxo.Properties.html#29965" class="Bound">d</a> <a id="30108" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30111" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30113" class="Symbol">_</a> <a id="30115" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30116" class="Symbol">)</a>           <a id="30128" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="30134" class="Keyword">where</a> <a id="30140" class="Keyword">open</a> <a id="30145" href="Data.Nat.Properties.html#14692" class="Module">≤-Reasoning</a>


  <a id="30161" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="30177" class="Symbol">:</a> <a id="30179" class="Symbol">(</a><a id="30180" href="Ledger.Conway.Utxo.Properties.html#30180" class="Bound">cs</a> <a id="30183" class="Symbol">:</a> <a id="30185" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="30190" href="Ledger.Conway.Certs.html#1304" class="Datatype">DCert</a><a id="30195" class="Symbol">)</a> <a id="30197" class="Symbol">{</a><a id="30198" href="Ledger.Conway.Utxo.Properties.html#30198" class="Bound">pp</a> <a id="30201" class="Symbol">:</a> <a id="30203" href="Ledger.Conway.PParams.html#1694" class="Record">PParams</a><a id="30210" class="Symbol">}</a> <a id="30212" class="Symbol">{</a><a id="30213" href="Ledger.Conway.Utxo.Properties.html#30213" class="Bound">deposits</a> <a id="30222" class="Symbol">:</a> <a id="30224" href="Ledger.Conway.Certs.html#553" class="Function">Deposits</a><a id="30232" class="Symbol">}</a>
    <a id="30238" class="Symbol">→</a> <a id="30240" href="Ledger.Conway.Utxo.Properties.html#26944" class="Function">noRefundCert</a> <a id="30253" href="Ledger.Conway.Utxo.Properties.html#30180" class="Bound">cs</a>
    <a id="30260" class="Symbol">→</a> <a id="30262" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30270" href="Ledger.Conway.Utxo.Properties.html#30213" class="Bound">deposits</a> <a id="30279" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="30281" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30289" class="Symbol">(</a><a id="30290" href="Ledger.Conway.Utxo.html#6710" class="Function">updateCertDeposits</a> <a id="30309" href="Ledger.Conway.Utxo.Properties.html#30198" class="Bound">pp</a> <a id="30312" href="Ledger.Conway.Utxo.Properties.html#30180" class="Bound">cs</a> <a id="30315" href="Ledger.Conway.Utxo.Properties.html#30213" class="Bound">deposits</a><a id="30323" class="Symbol">)</a>
  <a id="30327" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="30343" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="30346" href="Ledger.Conway.Utxo.Properties.html#30346" class="Bound">nrf</a> <a id="30350" class="Symbol">=</a> <a id="30352" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="30364" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="30371" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="30387" class="Symbol">(</a><a id="30388" href="Ledger.Conway.Certs.html#2011" class="InductiveConstructor">reg</a> <a id="30392" href="Ledger.Conway.Utxo.Properties.html#30392" class="Bound">c</a> <a id="30394" href="Ledger.Conway.Utxo.Properties.html#30394" class="Bound">v</a> <a id="30396" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30398" href="Ledger.Conway.Utxo.Properties.html#30398" class="Bound">cs</a><a id="30400" class="Symbol">)</a> <a id="30402" class="Symbol">{</a><a id="30403" href="Ledger.Conway.Utxo.Properties.html#30403" class="Bound">pp</a><a id="30405" class="Symbol">}</a> <a id="30407" class="Symbol">{</a><a id="30408" href="Ledger.Conway.Utxo.Properties.html#30408" class="Bound">deposits</a><a id="30416" class="Symbol">}</a> <a id="30418" class="Symbol">(_</a> <a id="30421" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30427" href="Ledger.Conway.Utxo.Properties.html#30427" class="Bound">nrf</a><a id="30430" class="Symbol">)</a> <a id="30432" class="Symbol">=</a>
    <a id="30438" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30446" href="Ledger.Conway.Utxo.Properties.html#29831" class="Function">≤certDeps</a> <a id="30456" class="Symbol">(</a><a id="30457" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="30473" href="Ledger.Conway.Utxo.Properties.html#30398" class="Bound">cs</a> <a id="30476" class="Symbol">{</a><a id="30477" href="Ledger.Conway.Utxo.Properties.html#30403" class="Bound">pp</a><a id="30479" class="Symbol">}</a> <a id="30481" class="Symbol">{</a><a id="30482" href="Ledger.Conway.Utxo.Properties.html#30408" class="Bound">deposits</a> <a id="30491" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30494" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30496" href="Ledger.Conway.Certs.html#342" class="InductiveConstructor">CredentialDeposit</a> <a id="30514" href="Ledger.Conway.Utxo.Properties.html#30392" class="Bound">c</a> <a id="30516" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30518" href="Ledger.Conway.Utxo.Properties.html#30403" class="Bound">pp</a> <a id="30521" class="Symbol">.</a><a id="30522" href="Ledger.Conway.PParams.html#2200" class="Field">PParams.keyDeposit</a> <a id="30541" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30542" class="Symbol">}</a> <a id="30544" href="Ledger.Conway.Utxo.Properties.html#30427" class="Bound">nrf</a><a id="30547" class="Symbol">)</a>
  <a id="30551" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="30567" class="Symbol">(</a><a id="30568" href="Ledger.Conway.Certs.html#1325" class="InductiveConstructor">delegate</a> <a id="30577" href="Ledger.Conway.Utxo.Properties.html#30577" class="Bound">c</a> <a id="30579" class="Symbol">_</a> <a id="30581" class="Symbol">_</a> <a id="30583" href="Ledger.Conway.Utxo.Properties.html#30583" class="Bound">v</a> <a id="30585" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30587" href="Ledger.Conway.Utxo.Properties.html#30587" class="Bound">cs</a><a id="30589" class="Symbol">)</a> <a id="30591" class="Symbol">{</a><a id="30592" href="Ledger.Conway.Utxo.Properties.html#30592" class="Bound">pp</a><a id="30594" class="Symbol">}</a> <a id="30596" class="Symbol">{</a><a id="30597" href="Ledger.Conway.Utxo.Properties.html#30597" class="Bound">deposits</a><a id="30605" class="Symbol">}</a> <a id="30607" class="Symbol">(_</a> <a id="30610" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30616" href="Ledger.Conway.Utxo.Properties.html#30616" class="Bound">nrf</a><a id="30619" class="Symbol">)</a> <a id="30621" class="Symbol">=</a>
    <a id="30627" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30635" href="Ledger.Conway.Utxo.Properties.html#29831" class="Function">≤certDeps</a> <a id="30645" class="Symbol">(</a><a id="30646" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="30662" href="Ledger.Conway.Utxo.Properties.html#30587" class="Bound">cs</a> <a id="30665" class="Symbol">{</a><a id="30666" href="Ledger.Conway.Utxo.Properties.html#30592" class="Bound">pp</a><a id="30668" class="Symbol">}</a> <a id="30670" class="Symbol">{</a><a id="30671" href="Ledger.Conway.Utxo.Properties.html#30597" class="Bound">deposits</a> <a id="30680" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30683" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30685" href="Ledger.Conway.Certs.html#342" class="InductiveConstructor">CredentialDeposit</a> <a id="30703" href="Ledger.Conway.Utxo.Properties.html#30577" class="Bound">c</a> <a id="30705" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30707" href="Ledger.Conway.Utxo.Properties.html#30583" class="Bound">v</a> <a id="30709" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30710" class="Symbol">}</a> <a id="30712" href="Ledger.Conway.Utxo.Properties.html#30616" class="Bound">nrf</a><a id="30715" class="Symbol">)</a>
  <a id="30719" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="30735" class="Symbol">(</a><a id="30736" href="Ledger.Conway.Certs.html#1446" class="InductiveConstructor">regpool</a> <a id="30744" class="Symbol">_</a> <a id="30746" class="Symbol">_</a> <a id="30748" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30750" href="Ledger.Conway.Utxo.Properties.html#30750" class="Bound">cs</a><a id="30752" class="Symbol">)</a>       <a id="30760" class="Symbol">(_</a> <a id="30763" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30769" href="Ledger.Conway.Utxo.Properties.html#30769" class="Bound">nrf</a><a id="30772" class="Symbol">)</a> <a id="30774" class="Symbol">=</a> <a id="30776" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30784" href="Ledger.Conway.Utxo.Properties.html#29831" class="Function">≤certDeps</a> <a id="30794" class="Symbol">(</a><a id="30795" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="30811" href="Ledger.Conway.Utxo.Properties.html#30750" class="Bound">cs</a> <a id="30814" href="Ledger.Conway.Utxo.Properties.html#30769" class="Bound">nrf</a><a id="30817" class="Symbol">)</a>
  <a id="30821" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="30837" class="Symbol">(</a><a id="30838" href="Ledger.Conway.Certs.html#1491" class="InductiveConstructor">retirepool</a> <a id="30849" class="Symbol">_</a> <a id="30851" class="Symbol">_</a> <a id="30853" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30855" href="Ledger.Conway.Utxo.Properties.html#30855" class="Bound">cs</a><a id="30857" class="Symbol">)</a>    <a id="30862" class="Symbol">(_</a> <a id="30865" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30871" href="Ledger.Conway.Utxo.Properties.html#30871" class="Bound">nrf</a><a id="30874" class="Symbol">)</a> <a id="30876" class="Symbol">=</a> <a id="30878" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="30894" href="Ledger.Conway.Utxo.Properties.html#30855" class="Bound">cs</a> <a id="30897" href="Ledger.Conway.Utxo.Properties.html#30871" class="Bound">nrf</a>
  <a id="30903" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="30919" class="Symbol">(</a><a id="30920" href="Ledger.Conway.Certs.html#1531" class="InductiveConstructor">regdrep</a> <a id="30928" class="Symbol">_</a> <a id="30930" class="Symbol">_</a> <a id="30932" class="Symbol">_</a> <a id="30934" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30936" href="Ledger.Conway.Utxo.Properties.html#30936" class="Bound">cs</a><a id="30938" class="Symbol">)</a>     <a id="30944" class="Symbol">(_</a> <a id="30947" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30953" href="Ledger.Conway.Utxo.Properties.html#30953" class="Bound">nrf</a><a id="30956" class="Symbol">)</a> <a id="30958" class="Symbol">=</a> <a id="30960" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30968" href="Ledger.Conway.Utxo.Properties.html#29831" class="Function">≤certDeps</a> <a id="30978" class="Symbol">(</a><a id="30979" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="30995" href="Ledger.Conway.Utxo.Properties.html#30936" class="Bound">cs</a> <a id="30998" href="Ledger.Conway.Utxo.Properties.html#30953" class="Bound">nrf</a><a id="31001" class="Symbol">)</a>
  <a id="31005" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="31021" class="Symbol">(</a><a id="31022" href="Ledger.Conway.Certs.html#1624" class="InductiveConstructor">ccreghot</a> <a id="31031" class="Symbol">_</a> <a id="31033" class="Symbol">_</a> <a id="31035" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="31037" href="Ledger.Conway.Utxo.Properties.html#31037" class="Bound">cs</a><a id="31039" class="Symbol">)</a>      <a id="31046" class="Symbol">(_</a> <a id="31049" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="31055" href="Ledger.Conway.Utxo.Properties.html#31055" class="Bound">nrf</a><a id="31058" class="Symbol">)</a> <a id="31060" class="Symbol">=</a> <a id="31062" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="31078" href="Ledger.Conway.Utxo.Properties.html#31037" class="Bound">cs</a> <a id="31081" href="Ledger.Conway.Utxo.Properties.html#31055" class="Bound">nrf</a>

  <a id="31088" class="Comment">-- Main Theorem: General Minimum Spending Condition --</a>
  <a id="31145" href="Ledger.Conway.Utxo.Properties.html#31145" class="Function">gmsc</a> <a id="31150" class="Symbol">:</a>  <a id="31153" class="Keyword">let</a> <a id="31157" class="Keyword">open</a> <a id="31162" href="Ledger.Conway.Transaction.html#4227" class="Module">Tx</a> <a id="31165" href="Ledger.Conway.Utxo.Properties.html#7282" class="Generalizable">tx</a> <a id="31168" class="Keyword">renaming</a> <a id="31177" class="Symbol">(</a><a id="31178" href="Ledger.Conway.Transaction.html#4259" class="Field">body</a> <a id="31183" class="Symbol">to</a> <a id="31186" class="Field">txb</a><a id="31189" class="Symbol">);</a> <a id="31192" class="Keyword">open</a> <a id="31197" href="Ledger.Conway.Transaction.html#2714" class="Module">TxBody</a> <a id="31204" href="Ledger.Conway.Utxo.Properties.html#31186" class="Function">txb</a>
              <a id="31222" href="Ledger.Conway.Utxo.Properties.html#31222" class="Bound">pp</a> <a id="31225" class="Symbol">=</a> <a id="31227" href="Ledger.Conway.Utxo.html#1092" class="Field">UTxOEnv.pparams</a> <a id="31243" href="Ledger.Conway.Utxo.Properties.html#7364" class="Generalizable">Γ</a><a id="31244" class="Symbol">;</a> <a id="31246" class="Keyword">open</a> <a id="31251" href="Ledger.Conway.PParams.html#1694" class="Module">PParams</a> <a id="31259" href="Ledger.Conway.Utxo.Properties.html#31222" class="Bound">pp</a>
              <a id="31276" class="Keyword">open</a> <a id="31281" href="Ledger.Conway.Utxo.html#1390" class="Module">UTxOState</a> <a id="31291" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a>
                <a id="31317" class="Keyword">renaming</a> <a id="31326" class="Symbol">(</a><a id="31327" href="Ledger.Conway.Utxo.html#1454" class="Field">utxo</a> <a id="31332" class="Symbol">to</a> <a id="31335" class="Field">st</a><a id="31337" class="Symbol">;</a> <a id="31339" href="Ledger.Conway.Utxo.html#1476" class="Field">fees</a> <a id="31344" class="Symbol">to</a> <a id="31347" class="Field">fs</a><a id="31349" class="Symbol">;</a> <a id="31351" href="Ledger.Conway.Utxo.html#1498" class="Field">deposits</a> <a id="31360" class="Symbol">to</a> <a id="31363" class="Field">deps</a><a id="31367" class="Symbol">;</a> <a id="31369" href="Ledger.Conway.Utxo.html#1524" class="Field">donations</a> <a id="31379" class="Symbol">to</a> <a id="31382" class="Field">dons</a><a id="31386" class="Symbol">)</a>
          <a id="31398" class="Keyword">in</a>
    <a id="31405" href="Ledger.Conway.Utxo.Properties.html#7364" class="Generalizable">Γ</a> <a id="31407" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⊢</a>  <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.Properties.html#31335}{\htmlId{31412}{\htmlClass{Function}{\text{st}}}}\,   \\ \,\href{Ledger.Conway.Utxo.Properties.html#31347}{\htmlId{31419}{\htmlClass{Function}{\text{fs}}}}\,   \\ \,\href{Ledger.Conway.Utxo.Properties.html#31363}{\htmlId{31426}{\htmlClass{Function}{\text{deps}}}}\,   \\ \,\href{Ledger.Conway.Utxo.Properties.html#31382}{\htmlId{31435}{\htmlClass{Function}{\text{dons}}}}\,   \end{pmatrix}$</a> <a id="31444" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⇀⦇</a> <a id="31447" href="Ledger.Conway.Utxo.Properties.html#7282" class="Generalizable">tx</a> <a id="31450" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">,UTXO⦈</a>
         <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Utxo.Properties.html#7327}{\htmlId{31468}{\htmlClass{Generalizable}{\text{utxo&#39;}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#7461}{\htmlId{31477}{\htmlClass{Generalizable}{\text{fees&#39;}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#7507}{\htmlId{31486}{\htmlClass{Generalizable}{\text{deposits&#39;}}}}\,  \\ \,\href{Ledger.Conway.Utxo.Properties.html#7477}{\htmlId{31499}{\htmlClass{Generalizable}{\text{donations&#39;}}}}\,  \end{pmatrix}$</a>

    <a id="31518" class="Symbol">→</a> <a id="31520" href="Ledger.Conway.Utxo.Properties.html#26944" class="Function">noRefundCert</a> <a id="31533" href="Ledger.Conway.Transaction.html#2948" class="Function">txcerts</a> <a id="31541" class="Comment">-- FINAL ASSUMPTION --</a>

       <a id="31572" class="Comment">-------------------------------------------------------------------</a>
    <a id="31644" class="Symbol">→</a>  <a id="31647" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="31652" class="Symbol">(</a><a id="31653" href="Ledger.Conway.Utxo.html#10691" class="Function">consumed</a> <a id="31662" href="Ledger.Conway.Utxo.Properties.html#31222" class="Bound">pp</a> <a id="31665" href="Ledger.Conway.Utxo.Properties.html#7409" class="Generalizable">utxoState</a> <a id="31675" href="Ledger.Conway.Utxo.Properties.html#31186" class="Function">txb</a><a id="31678" class="Symbol">)</a> <a id="31680" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="31682" href="Data.List.Base.html#5044" class="Function">length</a> <a id="31689" href="Ledger.Conway.Transaction.html#3046" class="Function">txprop</a> <a id="31696" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="31698" href="Ledger.Conway.PParams.html#3361" class="Function">govActionDeposit</a>

  <a id="31718" href="Ledger.Conway.Utxo.Properties.html#31145" class="Function">gmsc</a> <a id="31723" href="Ledger.Conway.Utxo.Properties.html#31723" class="Bound">step</a><a id="31727" class="Symbol">@(</a><a id="31729" href="Ledger.Conway.Utxo.html#13853" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="31745" href="Ledger.Conway.Utxo.Properties.html#31745" class="Bound">tx</a> <a id="31748" href="Ledger.Conway.Utxo.Properties.html#31748" class="Bound">Γ</a> <a id="31750" href="Ledger.Conway.Utxo.Properties.html#31750" class="Bound">utxoState</a> <a id="31760" class="Symbol">_</a> <a id="31762" class="Symbol">_</a> <a id="31764" class="Symbol">_</a> <a id="31766" class="Symbol">_</a> <a id="31768" class="Symbol">_</a> <a id="31770" class="Symbol">_</a> <a id="31772" href="Ledger.Conway.Utxo.Properties.html#31772" class="Bound">c≡p</a> <a id="31776" href="Ledger.Conway.Utxo.Properties.html#31776" class="Bound">cmint≡0</a> <a id="31784" class="Symbol">_</a> <a id="31786" class="Symbol">_</a> <a id="31788" class="Symbol">_</a> <a id="31790" class="Symbol">_</a> <a id="31792" class="Symbol">_</a> <a id="31794" class="Symbol">_</a> <a id="31796" class="Symbol">_</a> <a id="31798" class="Symbol">_</a> <a id="31800" class="Symbol">_</a> <a id="31802" class="Symbol">_)</a> <a id="31805" href="Ledger.Conway.Utxo.Properties.html#31805" class="Bound">nrf</a> <a id="31809" class="Symbol">=</a>
    <a id="31815" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="31825" href="Data.List.Base.html#5044" class="Function">length</a> <a id="31832" href="Ledger.Conway.Transaction.html#3046" class="Function">txprop</a> <a id="31839" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="31841" href="Ledger.Conway.PParams.html#3361" class="Function">govActionDeposit</a>
      <a id="31864" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="31868" href="Ledger.Conway.Utxo.Properties.html#29007" class="Function">updatePropDeps≡</a> <a id="31884" href="Ledger.Conway.Transaction.html#3046" class="Function">txprop</a> <a id="31891" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="31897" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31905" class="Symbol">(</a><a id="31906" href="Ledger.Conway.Utxo.html#7683" class="Function">updateProposalDeposits</a> <a id="31929" href="Ledger.Conway.Transaction.html#3046" class="Function">txprop</a> <a id="31936" href="Ledger.Conway.Transaction.html#3257" class="Function">txid</a> <a id="31941" href="Ledger.Conway.PParams.html#3361" class="Function">govActionDeposit</a> <a id="31958" href="Ledger.Conway.Utxo.Properties.html#33275" class="Function">deps</a><a id="31962" class="Symbol">)</a> <a id="31964" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="31966" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31974" href="Ledger.Conway.Utxo.Properties.html#33275" class="Function">deps</a>
      <a id="31985" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="31988" href="Data.Nat.Properties.html#47411" class="Function">∸-monoˡ-≤</a> <a id="31998" class="Symbol">(</a><a id="31999" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32007" href="Ledger.Conway.Utxo.Properties.html#33275" class="Function">deps</a><a id="32011" class="Symbol">)</a> <a id="32013" class="Symbol">(</a><a id="32014" href="Ledger.Conway.Utxo.Properties.html#30161" class="Function">≤updateCertDeps</a> <a id="32030" href="Ledger.Conway.Transaction.html#2948" class="Function">txcerts</a> <a id="32038" href="Ledger.Conway.Utxo.Properties.html#31805" class="Bound">nrf</a><a id="32041" class="Symbol">)</a> <a id="32043" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="32049" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32057" class="Symbol">(</a><a id="32058" href="Ledger.Conway.Utxo.html#7988" class="Function">updateDeposits</a> <a id="32073" href="Ledger.Conway.Utxo.Properties.html#33088" class="Function">pp</a> <a id="32076" href="Ledger.Conway.Utxo.Properties.html#33178" class="Function">txb</a> <a id="32080" href="Ledger.Conway.Utxo.Properties.html#33275" class="Function">deps</a><a id="32084" class="Symbol">)</a> <a id="32086" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="32088" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32096" href="Ledger.Conway.Utxo.Properties.html#33275" class="Function">deps</a>
      <a id="32107" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32110" href="Prelude.html#3321" class="Function">∸≡posPart⊖</a> <a id="32121" class="Symbol">{</a><a id="32122" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32130" class="Symbol">(</a><a id="32131" href="Ledger.Conway.Utxo.html#7988" class="Function">updateDeposits</a> <a id="32146" href="Ledger.Conway.Utxo.Properties.html#33088" class="Function">pp</a> <a id="32149" href="Ledger.Conway.Utxo.Properties.html#33178" class="Function">txb</a> <a id="32153" href="Ledger.Conway.Utxo.Properties.html#33275" class="Function">deps</a><a id="32157" class="Symbol">)}</a> <a id="32160" class="Symbol">{</a><a id="32161" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32169" href="Ledger.Conway.Utxo.Properties.html#33275" class="Function">deps</a><a id="32173" class="Symbol">}</a> <a id="32175" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32181" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a>
      <a id="32195" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="32198" href="Data.Nat.Properties.html#19261" class="Function">m≤n+m</a> <a id="32204" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a> <a id="32212" class="Symbol">(</a><a id="32213" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="32218" href="Ledger.Conway.Utxo.Properties.html#33462" class="Function">balOut</a> <a id="32225" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32227" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="32233" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32235" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="32245" class="Symbol">)</a> <a id="32247" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="32253" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="32258" href="Ledger.Conway.Utxo.Properties.html#33462" class="Function">balOut</a> <a id="32265" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32267" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="32273" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32275" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="32286" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32288" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a>
      <a id="32302" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32305" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="32313" class="Symbol">(</a><a id="32314" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="32319" href="Ledger.Conway.Utxo.Properties.html#33462" class="Function">balOut</a> <a id="32326" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32328" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="32333" class="Symbol">)</a> <a id="32335" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="32346" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a> <a id="32354" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32360" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="32365" href="Ledger.Conway.Utxo.Properties.html#33462" class="Function">balOut</a> <a id="32372" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32374" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="32380" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32382" class="Symbol">(</a><a id="32383" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="32394" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32396" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a><a id="32403" class="Symbol">)</a>
      <a id="32411" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32414" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32419" class="Symbol">(</a><a id="32420" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="32425" href="Ledger.Conway.Utxo.Properties.html#33462" class="Function">balOut</a> <a id="32432" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32434" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="32440" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="32442" class="Symbol">)</a> <a id="32444" class="Symbol">(</a><a id="32445" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="32452" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="32463" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a><a id="32470" class="Symbol">)</a> <a id="32472" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32478" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="32483" href="Ledger.Conway.Utxo.Properties.html#33462" class="Function">balOut</a> <a id="32490" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32492" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="32498" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32500" class="Symbol">(</a><a id="32501" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a> <a id="32509" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32511" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="32521" class="Symbol">)</a>
      <a id="32529" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32533" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="32541" class="Symbol">(</a><a id="32542" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="32547" href="Ledger.Conway.Utxo.Properties.html#33462" class="Function">balOut</a> <a id="32554" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32556" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="32561" class="Symbol">)</a> <a id="32563" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a> <a id="32571" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a> <a id="32582" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32588" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="32593" href="Ledger.Conway.Utxo.Properties.html#33462" class="Function">balOut</a> <a id="32600" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32602" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="32608" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32610" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a> <a id="32618" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32620" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a>
      <a id="32637" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32641" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32646" class="Symbol">(λ</a> <a id="32649" href="Ledger.Conway.Utxo.Properties.html#32649" class="Bound">x</a> <a id="32651" class="Symbol">→</a> <a id="32653" href="Ledger.Conway.Utxo.Properties.html#32649" class="Bound">x</a> <a id="32655" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32657" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a> <a id="32665" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32667" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="32677" class="Symbol">)</a> <a id="32679" href="Ledger.Conway.TokenAlgebra.Base.html#1325" class="Function">coin-inject-lemma</a> <a id="32697" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32703" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="32708" class="Symbol">(</a><a id="32709" href="Ledger.Conway.Utxo.Properties.html#33462" class="Function">balOut</a> <a id="32716" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32718" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="32725" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a><a id="32730" class="Symbol">)</a> <a id="32732" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32734" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a> <a id="32742" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32744" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a>
      <a id="32761" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32765" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32770" class="Symbol">(</a><a id="32771" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="32774" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="32784" class="Symbol">)</a> <a id="32786" href="Ledger.Conway.TokenAlgebra.Base.html#1325" class="Function">coin-inject-lemma</a> <a id="32804" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32810" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="32815" class="Symbol">(</a><a id="32816" href="Ledger.Conway.Utxo.Properties.html#33462" class="Function">balOut</a> <a id="32823" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32825" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="32832" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="32838" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32840" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="32847" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a><a id="32854" class="Symbol">)</a> <a id="32856" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32858" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a>
      <a id="32875" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32879" href="Ledger.Conway.TokenAlgebra.Base.html#1325" class="Function">coin-inject-lemma</a> <a id="32897" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32903" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="32908" class="Symbol">(</a><a id="32909" href="Ledger.Conway.Utxo.Properties.html#33462" class="Function">balOut</a> <a id="32916" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32918" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="32925" href="Ledger.Conway.Transaction.html#2844" class="Function">txfee</a> <a id="32931" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32933" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="32940" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a> <a id="32948" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32950" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="32957" href="Ledger.Conway.Transaction.html#3086" class="Function">txdonation</a><a id="32967" class="Symbol">)</a>
      <a id="32975" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32979" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32984" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="32989" href="Ledger.Conway.Utxo.Properties.html#31772" class="Bound">c≡p</a> <a id="32993" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32999" href="Ledger.Conway.TokenAlgebra.Base.html#824" class="Function">coin</a> <a id="33004" class="Symbol">(</a><a id="33005" href="Ledger.Conway.Utxo.Properties.html#33456" class="Function">balIn</a> <a id="33011" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33013" href="Ledger.Conway.Transaction.html#2872" class="Function">mint</a> <a id="33018" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33020" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="33027" href="Ledger.Conway.Utxo.Properties.html#33313" class="Function">refunds</a> <a id="33035" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33037" href="Ledger.Conway.TokenAlgebra.Base.html#869" class="Function">inject</a> <a id="33044" href="Ledger.Conway.Utxo.Properties.html#33321" class="Function">wdrls</a><a id="33049" class="Symbol">)</a> <a id="33051" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="33057" class="Keyword">where</a>
    <a id="33067" class="Keyword">open</a> <a id="33072" href="Data.Nat.Properties.html#14692" class="Module">≤-Reasoning</a>
    <a id="33088" href="Ledger.Conway.Utxo.Properties.html#33088" class="Function">pp</a> <a id="33091" class="Symbol">:</a> <a id="33093" href="Ledger.Conway.PParams.html#1694" class="Record">PParams</a>
    <a id="33105" href="Ledger.Conway.Utxo.Properties.html#33088" class="Function">pp</a> <a id="33108" class="Symbol">=</a> <a id="33110" href="Ledger.Conway.Utxo.html#1092" class="Field">UTxOEnv.pparams</a> <a id="33126" href="Ledger.Conway.Utxo.Properties.html#31748" class="Bound">Γ</a><a id="33127" class="Symbol">;</a> <a id="33129" class="Keyword">open</a> <a id="33134" href="Ledger.Conway.PParams.html#1694" class="Module">PParams</a> <a id="33142" href="Ledger.Conway.Utxo.Properties.html#33088" class="Function">pp</a>
    <a id="33149" class="Keyword">open</a> <a id="33154" href="Ledger.Conway.Transaction.html#4227" class="Module">Tx</a> <a id="33157" href="Ledger.Conway.Utxo.Properties.html#31745" class="Bound">tx</a> <a id="33160" class="Keyword">renaming</a> <a id="33169" class="Symbol">(</a><a id="33170" href="Ledger.Conway.Transaction.html#4259" class="Field">body</a> <a id="33175" class="Symbol">to</a> <a id="33178" class="Field">txb</a><a id="33181" class="Symbol">);</a> <a id="33184" class="Keyword">open</a> <a id="33189" href="Ledger.Conway.Transaction.html#2714" class="Module">TxBody</a> <a id="33196" href="Ledger.Conway.Utxo.Properties.html#33178" class="Function">txb</a>
    <a id="33204" class="Keyword">open</a> <a id="33209" href="Ledger.Conway.Utxo.html#1390" class="Module">UTxOState</a> <a id="33219" href="Ledger.Conway.Utxo.Properties.html#31750" class="Bound">utxoState</a> <a id="33229" class="Keyword">renaming</a> <a id="33238" class="Symbol">(</a><a id="33239" href="Ledger.Conway.Utxo.html#1454" class="Field">utxo</a> <a id="33244" class="Symbol">to</a> <a id="33247" class="Field">st</a><a id="33249" class="Symbol">;</a> <a id="33251" href="Ledger.Conway.Utxo.html#1476" class="Field">fees</a> <a id="33256" class="Symbol">to</a> <a id="33259" class="Field">fs</a><a id="33261" class="Symbol">;</a> <a id="33263" href="Ledger.Conway.Utxo.html#1498" class="Field">deposits</a> <a id="33272" class="Symbol">to</a> <a id="33275" class="Field">deps</a><a id="33279" class="Symbol">;</a> <a id="33281" href="Ledger.Conway.Utxo.html#1524" class="Field">donations</a> <a id="33291" class="Symbol">to</a> <a id="33294" class="Field">dons</a><a id="33298" class="Symbol">)</a>

    <a id="33305" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a> <a id="33313" href="Ledger.Conway.Utxo.Properties.html#33313" class="Function">refunds</a> <a id="33321" href="Ledger.Conway.Utxo.Properties.html#33321" class="Function">wdrls</a> <a id="33327" class="Symbol">:</a> <a id="33329" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="33338" href="Ledger.Conway.Utxo.Properties.html#33305" class="Function">newDeps</a> <a id="33346" class="Symbol">=</a> <a id="33348" href="Ledger.Conway.Utxo.html#10565" class="Function">newDeposits</a> <a id="33360" href="Ledger.Conway.Utxo.Properties.html#33088" class="Function">pp</a> <a id="33363" href="Ledger.Conway.Utxo.Properties.html#31750" class="Bound">utxoState</a> <a id="33373" href="Ledger.Conway.Utxo.Properties.html#33178" class="Function">txb</a>
    <a id="33381" href="Ledger.Conway.Utxo.Properties.html#33313" class="Function">refunds</a> <a id="33389" class="Symbol">=</a> <a id="33391" href="Ledger.Conway.Utxo.html#10433" class="Function">depositRefunds</a> <a id="33406" href="Ledger.Conway.Utxo.Properties.html#33088" class="Function">pp</a> <a id="33409" href="Ledger.Conway.Utxo.Properties.html#31750" class="Bound">utxoState</a> <a id="33419" href="Ledger.Conway.Utxo.Properties.html#33178" class="Function">txb</a>
    <a id="33427" href="Ledger.Conway.Utxo.Properties.html#33321" class="Function">wdrls</a> <a id="33433" class="Symbol">=</a> <a id="33435" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="33443" href="Ledger.Conway.Transaction.html#2982" class="Function">txwdrls</a>

    <a id="33456" href="Ledger.Conway.Utxo.Properties.html#33456" class="Function">balIn</a> <a id="33462" href="Ledger.Conway.Utxo.Properties.html#33462" class="Function">balOut</a> <a id="33469" class="Symbol">:</a> <a id="33471" href="Ledger.Conway.TokenAlgebra.Base.html#504" class="Function">Value</a>
    <a id="33481" href="Ledger.Conway.Utxo.Properties.html#33456" class="Function">balIn</a> <a id="33487" class="Symbol">=</a> <a id="33489" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="33497" class="Symbol">(</a><a id="33498" href="Ledger.Conway.Utxo.Properties.html#33247" class="Function">st</a> <a id="33501" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="33503" href="Ledger.Conway.Transaction.html#2750" class="Function">txins</a><a id="33508" class="Symbol">)</a>
    <a id="33514" href="Ledger.Conway.Utxo.Properties.html#33462" class="Function">balOut</a> <a id="33521" class="Symbol">=</a> <a id="33523" href="Ledger.Conway.Utxo.html#2239" class="Function">balance</a> <a id="33531" class="Symbol">(</a><a id="33532" href="Ledger.Conway.Utxo.html#2168" class="Function">outs</a> <a id="33537" href="Ledger.Conway.Utxo.Properties.html#33178" class="Function">txb</a><a id="33540" class="Symbol">)</a>

</pre></body></html>