<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Utxo.Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Algebra.Morphism.html" class="Module">Algebra.Morphism</a>            <a id="66" class="Keyword">using</a> <a id="72" class="Symbol">(</a><a id="73" class="Keyword">module</a> <a id="80" href="Algebra.Morphism.Structures.html#4053" class="Module">MonoidMorphisms</a><a id="95" class="Symbol">;</a> <a id="97" href="Algebra.Morphism.Structures.html#2757" class="Record">IsMagmaHomomorphism</a><a id="116" class="Symbol">)</a>
<a id="118" class="Keyword">import</a> <a id="125" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="134" class="Symbol">as</a> <a id="137" class="Module">ℕ</a>
<a id="139" class="Keyword">open</a> <a id="144" class="Keyword">import</a> <a id="151" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>         <a id="179" class="Keyword">hiding</a> <a id="186" class="Symbol">(</a><a id="187" href="Data.Nat.Properties.html#3874" class="Function Operator">_≟_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Product.html" class="Module">Data.Product</a>                <a id="232" class="Keyword">using</a> <a id="238" class="Symbol">(</a><a id="239" href="Data.Product.Base.html#5054" class="Function">swap</a><a id="243" class="Symbol">)</a>
<a id="245" class="Keyword">open</a> <a id="250" class="Keyword">import</a> <a id="257" href="Data.Sign.html" class="Module">Data.Sign</a>                   <a id="285" class="Keyword">using</a> <a id="291" class="Symbol">(</a><a id="292" href="Data.Sign.Base.html#523" class="Datatype">Sign</a><a id="296" class="Symbol">)</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="323" class="Symbol">as</a> <a id="326" class="Module">ℤ</a>           <a id="338" class="Keyword">using</a> <a id="344" class="Symbol">(</a><a id="345" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="346" class="Symbol">)</a>
<a id="348" class="Keyword">import</a> <a id="355" href="Data.Integer.Properties.html" class="Module">Data.Integer.Properties</a> <a id="379" class="Symbol">as</a> <a id="382" class="Module">ℤ</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Data.String.Base.html" class="Module">Data.String.Base</a>            <a id="424" class="Keyword">renaming</a> <a id="433" class="Symbol">(</a><a id="434" href="Data.String.Base.html#2425" class="Function Operator">_++_</a> <a id="439" class="Symbol">to</a> <a id="442" class="Function Operator">_+ˢ_</a><a id="446" class="Symbol">)</a> <a id="448" class="Keyword">using</a> <a id="454" class="Symbol">()</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Relation.Binary.html" class="Module">Relation.Binary</a>             <a id="497" class="Keyword">using</a> <a id="503" class="Symbol">(</a><a id="504" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a><a id="517" class="Symbol">)</a>

<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a>  <a id="562" class="Keyword">using</a> <a id="568" class="Symbol">(</a><a id="569" href="Data.List.Relation.Unary.All.html#1644" class="Datatype">All</a><a id="572" class="Symbol">)</a>
<a id="574" class="Keyword">open</a> <a id="579" class="Keyword">import</a> <a id="586" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>  <a id="616" class="Keyword">using</a> <a id="622" class="Symbol">(</a><a id="623" href="Data.List.Relation.Unary.Any.html#1148" class="Datatype">Any</a><a id="626" class="Symbol">);</a> <a id="629" class="Keyword">open</a> <a id="634" href="Data.List.Relation.Unary.Any.html#1148" class="Module">Any</a>

<a id="639" class="Keyword">open</a> <a id="644" class="Keyword">import</a> <a id="651" href="Prelude.html" class="Module">Prelude</a><a id="658" class="Symbol">;</a> <a id="660" class="Keyword">open</a> <a id="665" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="678" class="Keyword">open</a> <a id="683" class="Keyword">import</a> <a id="690" href="Tactic.Cong.html" class="Module">Tactic.Cong</a>                 <a id="718" class="Keyword">using</a> <a id="724" class="Symbol">(</a><a id="725" href="Tactic.Cong.html#9441" class="Function">cong!</a><a id="730" class="Symbol">)</a>
<a id="732" class="Keyword">open</a> <a id="737" class="Keyword">import</a> <a id="744" href="Tactic.Defaults.html" class="Module">Tactic.Defaults</a>
<a id="760" class="Keyword">open</a> <a id="765" class="Keyword">import</a> <a id="772" href="Tactic.EquationalReasoning.html" class="Module">Tactic.EquationalReasoning</a>  <a id="800" class="Keyword">using</a> <a id="806" class="Symbol">(</a><a id="807" class="Keyword">module</a> <a id="814" href="Tactic.EquationalReasoning.html#418" class="Module">≡-Reasoning</a><a id="825" class="Symbol">)</a>
<a id="827" class="Keyword">open</a> <a id="832" class="Keyword">import</a> <a id="839" href="stdlib-meta.Tactic.GenError.html" class="Module">stdlib-meta.Tactic.GenError</a>
<a id="867" class="Keyword">open</a> <a id="872" class="Keyword">import</a> <a id="879" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html" class="Module">stdlib-meta.Tactic.MonoidSolver.NonNormalising</a> <a id="926" class="Keyword">using</a> <a id="932" class="Symbol">(</a><a id="933" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html#574" class="Function">solve-macro</a><a id="944" class="Symbol">)</a>

<a id="947" class="Keyword">open</a> <a id="952" class="Keyword">import</a> <a id="959" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="974" class="Keyword">hiding</a> <a id="981" class="Symbol">(</a><a id="982" href="Class.HasOrder.Core.html#995" class="Function">≤-trans</a><a id="989" class="Symbol">;</a> <a id="991" href="Class.HasOrder.Core.html#1894" class="Field">≤-antisym</a><a id="1000" class="Symbol">;</a> <a id="1002" href="Axiom.Set.html#9724" class="Function">All</a><a id="1005" class="Symbol">);</a> <a id="1008" class="Keyword">open</a> <a id="1013" href="abstract-set-theory.FiniteSetTheory.html#1716" class="Module">Properties</a>
<a id="1024" class="Keyword">open</a> <a id="1029" class="Keyword">import</a> <a id="1036" href="Ledger.Conway.Abstract.html" class="Module">Ledger.Conway.Abstract</a>
<a id="1059" class="Keyword">open</a> <a id="1064" class="Keyword">import</a> <a id="1071" href="Ledger.Conway.Transaction.html" class="Module">Ledger.Conway.Transaction</a>
<a id="1097" class="Keyword">open</a> <a id="1102" class="Keyword">import</a> <a id="1109" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>

<a id="1142" class="Keyword">module</a> <a id="1149" href="Ledger.Conway.Utxo.Properties.html" class="Module">Ledger.Conway.Utxo.Properties</a>
  <a id="1181" class="Symbol">(</a><a id="1182" href="Ledger.Conway.Utxo.Properties.html#1182" class="Bound">txs</a> <a id="1186" class="Symbol">:</a> <a id="1188" class="Symbol">_)</a> <a id="1191" class="Symbol">(</a><a id="1192" class="Keyword">open</a> <a id="1197" href="Ledger.Conway.Transaction.html#910" class="Module">TransactionStructure</a> <a id="1218" href="Ledger.Conway.Utxo.Properties.html#1182" class="Bound">txs</a><a id="1221" class="Symbol">)</a>
  <a id="1225" class="Symbol">(</a><a id="1226" href="Ledger.Conway.Utxo.Properties.html#1226" class="Bound">abs</a> <a id="1230" class="Symbol">:</a> <a id="1232" href="Ledger.Conway.Abstract.html#599" class="Record">AbstractFunctions</a> <a id="1250" href="Ledger.Conway.Utxo.Properties.html#1182" class="Bound">txs</a><a id="1253" class="Symbol">)</a> <a id="1255" class="Symbol">(</a><a id="1256" class="Keyword">open</a> <a id="1261" href="Ledger.Conway.Abstract.html#599" class="Module">AbstractFunctions</a> <a id="1279" href="Ledger.Conway.Utxo.Properties.html#1226" class="Bound">abs</a><a id="1282" class="Symbol">)</a>
  <a id="1286" class="Keyword">where</a>

<a id="1293" class="Keyword">open</a> <a id="1298" class="Keyword">import</a> <a id="1305" href="Ledger.Conway.Utxo.html" class="Module">Ledger.Conway.Utxo</a> <a id="1324" href="Ledger.Conway.Utxo.Properties.html#1182" class="Bound">txs</a> <a id="1328" href="Ledger.Conway.Utxo.Properties.html#1226" class="Bound">abs</a>
<a id="1332" class="Keyword">open</a> <a id="1337" class="Keyword">import</a> <a id="1344" href="Ledger.Conway.ScriptValidation.html" class="Module">Ledger.Conway.ScriptValidation</a> <a id="1375" href="Ledger.Conway.Utxo.Properties.html#1182" class="Bound">txs</a> <a id="1379" href="Ledger.Conway.Utxo.Properties.html#1226" class="Bound">abs</a>
<a id="1383" class="Keyword">open</a> <a id="1388" class="Keyword">import</a> <a id="1395" href="Ledger.Conway.Certs.html" class="Module">Ledger.Conway.Certs</a> <a id="1415" href="Ledger.Conway.Transaction.html#1880" class="Function">govStructure</a>
<a id="1428" class="Keyword">open</a> <a id="1433" class="Keyword">import</a> <a id="1440" href="Algebra.Definitions.RawMagma.html" class="Module">Algebra.Definitions.RawMagma</a> <a id="1469" href="Data.Nat.Base.html#4468" class="Function">+-rawMagma</a> <a id="1480" class="Keyword">using</a> <a id="1486" class="Symbol">()</a> <a id="1489" class="Keyword">renaming</a> <a id="1498" class="Symbol">(</a><a id="1499" href="Algebra.Definitions.RawMagma.html#1419" class="InductiveConstructor Operator">_,_</a> <a id="1503" class="Symbol">to</a> <a id="1506" class="InductiveConstructor Operator">_,≤_</a><a id="1510" class="Symbol">)</a>

<a id="1513" class="Keyword">instance</a>
  <a id="1524" href="Ledger.Conway.Utxo.Properties.html#1524" class="Function">_</a> <a id="1526" class="Symbol">=</a> <a id="1528" href="Ledger.Conway.TokenAlgebra.html#517" class="Field">TokenAlgebra.Value-CommutativeMonoid</a> <a id="1565" href="Ledger.Conway.Transaction.html#1777" class="Field">tokenAlgebra</a>
  <a id="1580" href="Ledger.Conway.Utxo.Properties.html#1580" class="Function">_</a> <a id="1582" class="Symbol">=</a> <a id="1584" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a>
  <a id="1597" href="Ledger.Conway.Utxo.Properties.html#1597" class="Function">_</a> <a id="1599" class="Symbol">=</a> <a id="1601" href="Interface.ComputationalRelation.html#1365" class="Function">Functor-ComputationResult</a>

<a id="1628" class="Keyword">instance</a>
  <a id="Computational-UTXOS"></a><a id="1639" href="Ledger.Conway.Utxo.Properties.html#1639" class="Function">Computational-UTXOS</a> <a id="1659" class="Symbol">:</a> <a id="1661" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="1675" href="Ledger.Conway.Utxo.html#12931" class="Datatype Operator">_⊢_⇀⦇_,UTXOS⦈_</a> <a id="1690" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1699" href="Ledger.Conway.Utxo.Properties.html#1639" class="Function">Computational-UTXOS</a> <a id="1719" class="Symbol">=</a> <a id="1721" class="Keyword">record</a> <a id="1728" class="Symbol">{</a><a id="1729" href="Ledger.Conway.Utxo.Properties.html#1750" class="Module">go</a><a id="1731" class="Symbol">}</a> <a id="1733" class="Keyword">where</a>
    <a id="1743" class="Keyword">module</a> <a id="1750" href="Ledger.Conway.Utxo.Properties.html#1750" class="Module">go</a> <a id="1753" class="Symbol">(</a><a id="1754" href="Ledger.Conway.Utxo.Properties.html#1754" class="Bound">Γ</a> <a id="1756" class="Symbol">:</a> <a id="1758" href="Ledger.Conway.Utxo.html#2395" class="Record">UTxOEnv</a><a id="1765" class="Symbol">)</a> <a id="1767" class="Symbol">(</a><a id="1768" href="Ledger.Conway.Utxo.Properties.html#1768" class="Bound">s</a> <a id="1770" class="Symbol">:</a> <a id="1772" href="Ledger.Conway.Utxo.html#2747" class="Record">UTxOState</a><a id="1781" class="Symbol">)</a> <a id="1783" class="Symbol">(</a><a id="1784" href="Ledger.Conway.Utxo.Properties.html#1784" class="Bound">tx</a> <a id="1787" class="Symbol">:</a> <a id="1789" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a><a id="1791" class="Symbol">)</a>
      <a id="1799" class="Symbol">(</a><a id="1800" class="Keyword">let</a> <a id="1804" class="Keyword">open</a> <a id="1809" href="Ledger.Conway.Utxo.html#2747" class="Module">UTxOState</a> <a id="1819" href="Ledger.Conway.Utxo.Properties.html#1768" class="Bound">s</a><a id="1820" class="Symbol">)</a>
      <a id="1828" class="Symbol">(</a><a id="1829" class="Keyword">let</a> <a id="1833" href="Ledger.Conway.Utxo.Properties.html#1833" class="Bound">H-Yes</a> <a id="1839" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1841" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1843" href="Ledger.Conway.Utxo.Properties.html#1843" class="Bound">H-Yes?</a> <a id="1850" class="Symbol">=</a> <a id="1852" href="Ledger.Conway.Utxo.html#13971" class="Function">Scripts-Yes-premises</a> <a id="1873" class="Symbol">{</a><a id="1874" href="Ledger.Conway.Utxo.Properties.html#1754" class="Bound">Γ</a><a id="1875" class="Symbol">}</a> <a id="1877" class="Symbol">{</a><a id="1878" href="Ledger.Conway.Utxo.Properties.html#1784" class="Bound">tx</a><a id="1880" class="Symbol">}</a> <a id="1882" class="Symbol">{</a><a id="1883" href="Ledger.Conway.Utxo.html#2811" class="Function">utxo</a><a id="1887" class="Symbol">}</a> <a id="1889" class="Symbol">{</a><a id="1890" href="Ledger.Conway.Utxo.html#2855" class="Function">deposits</a><a id="1898" class="Symbol">})</a>
      <a id="1907" class="Symbol">(</a><a id="1908" class="Keyword">let</a> <a id="1912" href="Ledger.Conway.Utxo.Properties.html#1912" class="Bound">H-No</a>  <a id="1918" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1920" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1922" href="Ledger.Conway.Utxo.Properties.html#1922" class="Bound">H-No?</a>  <a id="1929" class="Symbol">=</a> <a id="1931" href="Ledger.Conway.Utxo.html#14059" class="Function">Scripts-No-premises</a>  <a id="1952" class="Symbol">{</a><a id="1953" href="Ledger.Conway.Utxo.Properties.html#1754" class="Bound">Γ</a><a id="1954" class="Symbol">}</a> <a id="1956" class="Symbol">{</a><a id="1957" href="Ledger.Conway.Utxo.Properties.html#1784" class="Bound">tx</a><a id="1959" class="Symbol">}</a> <a id="1961" class="Symbol">{</a><a id="1962" href="Ledger.Conway.Utxo.html#2811" class="Function">utxo</a><a id="1966" class="Symbol">})</a> <a id="1969" class="Keyword">where</a>
      <a id="1981" class="Keyword">open</a> <a id="1986" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a> <a id="1989" href="Ledger.Conway.Utxo.Properties.html#1784" class="Bound">tx</a> <a id="1992" class="Keyword">renaming</a> <a id="2001" class="Symbol">(</a><a id="2002" href="Ledger.Conway.Transaction.html#4338" class="Field">body</a> <a id="2007" class="Symbol">to</a> <a id="2010" class="Field">txb</a><a id="2013" class="Symbol">);</a> <a id="2016" class="Keyword">open</a> <a id="2021" href="Ledger.Conway.Transaction.html#2762" class="Module">TxBody</a> <a id="2028" href="Ledger.Conway.Utxo.Properties.html#2010" class="Field">txb</a>
      <a id="2038" class="Keyword">open</a> <a id="2043" href="Ledger.Conway.Utxo.html#2395" class="Module">UTxOEnv</a> <a id="2051" href="Ledger.Conway.Utxo.Properties.html#1754" class="Bound">Γ</a> <a id="2053" class="Keyword">renaming</a> <a id="2062" class="Symbol">(</a><a id="2063" href="Ledger.Conway.Utxo.html#2449" class="Field">pparams</a> <a id="2071" class="Symbol">to</a> <a id="2074" class="Field">pp</a><a id="2076" class="Symbol">)</a>
      <a id="2084" href="Ledger.Conway.Utxo.Properties.html#2084" class="Function">sLst</a> <a id="2089" class="Symbol">=</a> <a id="2091" href="Ledger.Conway.ScriptValidation.html#5893" class="Function">collectPhaseTwoScriptInputs</a> <a id="2119" href="Ledger.Conway.Utxo.Properties.html#2074" class="Function">pp</a> <a id="2122" href="Ledger.Conway.Utxo.Properties.html#1784" class="Bound">tx</a> <a id="2125" href="Ledger.Conway.Utxo.html#2811" class="Function">utxo</a>

      <a id="2137" href="Ledger.Conway.Utxo.Properties.html#2137" class="Function">computeProof</a> <a id="2150" class="Symbol">=</a>
        <a id="2160" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2165" href="Ledger.Conway.Utxo.Properties.html#1843" class="Bound">H-Yes?</a> <a id="2172" href="Data.Product.Base.html#1686" class="Function Operator">,′</a> <a id="2175" href="Ledger.Conway.Utxo.Properties.html#1922" class="Bound">H-No?</a> <a id="2181" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2184" class="Symbol">λ</a> <a id="2186" class="Keyword">where</a>
          <a id="2202" class="Symbol">(</a><a id="2203" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2207" href="Ledger.Conway.Utxo.Properties.html#2207" class="Bound">p</a> <a id="2209" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2211" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2214" class="Symbol">_</a> <a id="2216" class="Symbol">)</a> <a id="2218" class="Symbol">→</a> <a id="2220" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2228" class="Symbol">(_</a> <a id="2231" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2233" class="Symbol">(</a><a id="2234" href="Ledger.Conway.Utxo.html#13002" class="InductiveConstructor">Scripts-Yes</a> <a id="2246" href="Ledger.Conway.Utxo.Properties.html#2207" class="Bound">p</a><a id="2247" class="Symbol">))</a>
          <a id="2260" class="Symbol">(</a><a id="2261" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2264" class="Symbol">_</a>  <a id="2267" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2269" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2273" href="Ledger.Conway.Utxo.Properties.html#2273" class="Bound">p</a><a id="2274" class="Symbol">)</a> <a id="2276" class="Symbol">→</a> <a id="2278" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2286" class="Symbol">(_</a> <a id="2289" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2291" class="Symbol">(</a><a id="2292" href="Ledger.Conway.Utxo.html#13516" class="InductiveConstructor">Scripts-No</a> <a id="2303" href="Ledger.Conway.Utxo.Properties.html#2273" class="Bound">p</a><a id="2304" class="Symbol">))</a>
          <a id="2317" class="CatchallClause Symbol">(_</a><a id="2319" class="CatchallClause">     </a><a id="2324" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="2325" class="CatchallClause"> </a><a id="2326" class="CatchallClause Symbol">_</a><a id="2327" class="CatchallClause">    </a><a id="2331" class="CatchallClause Symbol">)</a> <a id="2333" class="Symbol">→</a> <a id="2335" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="2343" class="String">&quot;isValid check failed&quot;</a>

      <a id="2373" href="Ledger.Conway.Utxo.Properties.html#2373" class="Function">completeness</a> <a id="2386" class="Symbol">:</a> <a id="2388" class="Symbol">∀</a> <a id="2390" href="Ledger.Conway.Utxo.Properties.html#2390" class="Bound">s&#39;</a> <a id="2393" class="Symbol">→</a> <a id="2395" href="Ledger.Conway.Utxo.Properties.html#1754" class="Bound">Γ</a> <a id="2397" href="Ledger.Conway.Utxo.html#12931" class="Datatype Operator">⊢</a> <a id="2399" href="Ledger.Conway.Utxo.Properties.html#1768" class="Bound">s</a> <a id="2401" href="Ledger.Conway.Utxo.html#12931" class="Datatype Operator">⇀⦇</a> <a id="2404" href="Ledger.Conway.Utxo.Properties.html#1784" class="Bound">tx</a> <a id="2407" href="Ledger.Conway.Utxo.html#12931" class="Datatype Operator">,UTXOS⦈</a> <a id="2415" href="Ledger.Conway.Utxo.Properties.html#2390" class="Bound">s&#39;</a> <a id="2418" class="Symbol">→</a> <a id="2420" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2424" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2430" href="Ledger.Conway.Utxo.Properties.html#2137" class="Function">computeProof</a> <a id="2443" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2445" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2453" href="Ledger.Conway.Utxo.Properties.html#2390" class="Bound">s&#39;</a>
      <a id="2462" href="Ledger.Conway.Utxo.Properties.html#2373" class="Function">completeness</a> <a id="2475" class="Symbol">_</a> <a id="2477" class="Symbol">(</a><a id="2478" href="Ledger.Conway.Utxo.html#13002" class="InductiveConstructor">Scripts-Yes</a> <a id="2490" href="Ledger.Conway.Utxo.Properties.html#2490" class="Bound">p</a><a id="2491" class="Symbol">)</a> <a id="2493" class="Keyword">with</a> <a id="2498" href="Ledger.Conway.Utxo.Properties.html#1922" class="Bound">H-No?</a> <a id="2504" class="Symbol">|</a> <a id="2506" href="Ledger.Conway.Utxo.Properties.html#1843" class="Bound">H-Yes?</a>
      <a id="2519" class="Symbol">...</a> <a id="2523" class="Symbol">|</a> <a id="2525" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2529" class="Symbol">(_</a> <a id="2532" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2534" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2538" class="Symbol">)</a> <a id="2540" class="Symbol">|</a> <a id="2542" class="Symbol">_</a>     <a id="2548" class="Symbol">=</a> <a id="2550" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2555" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2561" class="Bound">p</a> <a id="2563" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2566" class="Symbol">λ</a> <a id="2568" class="Symbol">()</a>
      <a id="2577" class="Symbol">...</a> <a id="2581" class="Symbol">|</a> <a id="2583" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2586" class="Symbol">_</a>           <a id="2598" class="Symbol">|</a> <a id="2600" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2604" class="Symbol">_</a> <a id="2606" class="Symbol">=</a> <a id="2608" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2619" class="Symbol">...</a> <a id="2623" class="Symbol">|</a> <a id="2625" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2628" class="Symbol">_</a>           <a id="2640" class="Symbol">|</a> <a id="2642" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2645" href="Ledger.Conway.Utxo.Properties.html#2645" class="Bound">¬p</a> <a id="2648" class="Symbol">=</a> <a id="2650" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2655" href="Ledger.Conway.Utxo.Properties.html#2645" class="Bound">¬p</a> <a id="2658" class="Bound">p</a> <a id="2660" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2663" class="Symbol">λ</a> <a id="2665" class="Symbol">()</a>
      <a id="2674" href="Ledger.Conway.Utxo.Properties.html#2373" class="Function">completeness</a> <a id="2687" class="Symbol">_</a> <a id="2689" class="Symbol">(</a><a id="2690" href="Ledger.Conway.Utxo.html#13516" class="InductiveConstructor">Scripts-No</a> <a id="2701" href="Ledger.Conway.Utxo.Properties.html#2701" class="Bound">p</a><a id="2702" class="Symbol">)</a> <a id="2704" class="Keyword">with</a> <a id="2709" href="Ledger.Conway.Utxo.Properties.html#1843" class="Bound">H-Yes?</a> <a id="2716" class="Symbol">|</a> <a id="2718" href="Ledger.Conway.Utxo.Properties.html#1922" class="Bound">H-No?</a>
      <a id="2730" class="Symbol">...</a> <a id="2734" class="Symbol">|</a> <a id="2736" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2740" class="Symbol">(_</a> <a id="2743" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2745" class="Symbol">_</a> <a id="2747" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2749" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2753" class="Symbol">)</a> <a id="2755" class="Symbol">|</a> <a id="2757" class="Symbol">_</a>     <a id="2763" class="Symbol">=</a> <a id="2765" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2770" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2776" class="Bound">p</a> <a id="2778" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2781" class="Symbol">λ</a> <a id="2783" class="Symbol">()</a>
      <a id="2792" class="Symbol">...</a> <a id="2796" class="Symbol">|</a> <a id="2798" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2801" class="Symbol">_</a>               <a id="2817" class="Symbol">|</a> <a id="2819" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2823" class="Symbol">_</a> <a id="2825" class="Symbol">=</a> <a id="2827" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2838" class="Symbol">...</a> <a id="2842" class="Symbol">|</a> <a id="2844" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2847" class="Symbol">_</a>               <a id="2863" class="Symbol">|</a> <a id="2865" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2868" href="Ledger.Conway.Utxo.Properties.html#2868" class="Bound">¬p</a> <a id="2871" class="Symbol">=</a> <a id="2873" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2878" href="Ledger.Conway.Utxo.Properties.html#2868" class="Bound">¬p</a> <a id="2881" class="Bound">p</a> <a id="2883" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2886" class="Symbol">λ</a> <a id="2888" class="Symbol">()</a>

<a id="2892" class="Keyword">instance</a>
  <a id="Computational-UTXO&#39;"></a><a id="2903" href="Ledger.Conway.Utxo.Properties.html#2903" class="Function">Computational-UTXO&#39;</a> <a id="2923" class="Symbol">:</a> <a id="2925" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="2939" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="2953" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="2962" href="Ledger.Conway.Utxo.Properties.html#2903" class="Function">Computational-UTXO&#39;</a> <a id="2982" class="Symbol">=</a> <a id="2984" class="Keyword">record</a> <a id="2991" class="Symbol">{</a><a id="2992" href="Ledger.Conway.Utxo.Properties.html#3019" class="Module">Go</a><a id="2994" class="Symbol">}</a>
    <a id="3000" class="Keyword">where</a>
      <a id="3012" class="Keyword">module</a> <a id="3019" href="Ledger.Conway.Utxo.Properties.html#3019" class="Module">Go</a> <a id="3022" href="Ledger.Conway.Utxo.Properties.html#3022" class="Bound">Γ</a> <a id="3024" href="Ledger.Conway.Utxo.Properties.html#3024" class="Bound">s</a> <a id="3026" href="Ledger.Conway.Utxo.Properties.html#3026" class="Bound">tx</a> <a id="3029" class="Symbol">(</a><a id="3030" class="Keyword">let</a> <a id="3034" href="Ledger.Conway.Utxo.Properties.html#3034" class="Bound">H</a> <a id="3036" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3038" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="3040" href="Ledger.Conway.Utxo.Properties.html#3040" class="Bound">H?</a> <a id="3043" class="Symbol">=</a> <a id="3045" href="Ledger.Conway.Utxo.html#15611" class="Function">UTXO-premises</a> <a id="3059" class="Symbol">{</a><a id="3060" class="Argument">Γ</a> <a id="3062" class="Symbol">=</a> <a id="3064" href="Ledger.Conway.Utxo.Properties.html#3022" class="Bound">Γ</a><a id="3065" class="Symbol">}</a> <a id="3067" class="Symbol">{</a><a id="3068" class="Argument">s</a> <a id="3070" class="Symbol">=</a> <a id="3072" href="Ledger.Conway.Utxo.Properties.html#3024" class="Bound">s</a><a id="3073" class="Symbol">}</a> <a id="3075" class="Symbol">{</a><a id="3076" class="Argument">tx</a> <a id="3079" class="Symbol">=</a> <a id="3081" href="Ledger.Conway.Utxo.Properties.html#3026" class="Bound">tx</a><a id="3083" class="Symbol">})</a> <a id="3086" class="Keyword">where</a>

        <a id="3101" class="Keyword">open</a> <a id="3106" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="3120" href="Ledger.Conway.Utxo.Properties.html#1639" class="Function">Computational-UTXOS</a>
          <a id="3150" class="Keyword">renaming</a> <a id="3159" class="Symbol">(</a><a id="3160" href="Interface.ComputationalRelation.html#2879" class="Field">computeProof</a> <a id="3173" class="Symbol">to</a> <a id="3176" class="Field">computeProof&#39;</a><a id="3189" class="Symbol">;</a> <a id="3191" href="Interface.ComputationalRelation.html#3096" class="Field">completeness</a> <a id="3204" class="Symbol">to</a> <a id="3207" class="Field">completeness&#39;</a><a id="3220" class="Symbol">)</a>

        <a id="3231" href="Ledger.Conway.Utxo.Properties.html#3231" class="Function">genErr</a> <a id="3238" class="Symbol">:</a> <a id="3240" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="3242" href="Ledger.Conway.Utxo.Properties.html#3034" class="Bound">H</a> <a id="3244" class="Symbol">→</a> <a id="3246" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
        <a id="3261" href="Ledger.Conway.Utxo.Properties.html#3231" class="Function">genErr</a>  <a id="3269" href="Ledger.Conway.Utxo.Properties.html#3269" class="Bound">¬p</a> <a id="3272" class="Symbol">=</a> <a id="3274" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3279" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="3293" href="Ledger.Conway.Utxo.Properties.html#3269" class="Bound">¬p</a> <a id="3296" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3299" class="Symbol">λ</a> <a id="3301" class="Keyword">where</a>
          <a id="3317" class="Symbol">(</a><a id="3318" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3323" href="Ledger.Conway.Utxo.Properties.html#3323" class="Bound">a</a><a id="3324" class="Symbol">)</a> <a id="3326" class="Symbol">→</a> <a id="3328" class="String">&quot;¬ TxBody.txins (Tx.body tx) ≢ ∅&quot;</a>
          <a id="3372" class="Symbol">(</a><a id="3373" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3378" href="Ledger.Conway.Utxo.Properties.html#3378" class="Bound">b</a><a id="3379" class="Symbol">)</a> <a id="3381" class="Symbol">→</a> <a id="3383" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3388" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="3402" href="Ledger.Conway.Utxo.Properties.html#3378" class="Bound">b</a> <a id="3404" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3407" class="Symbol">λ</a> <a id="3409" class="Keyword">where</a>
            <a id="3427" class="Symbol">(</a><a id="3428" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3433" href="Ledger.Conway.Utxo.Properties.html#3433" class="Bound">a₁</a><a id="3435" class="Symbol">)</a> <a id="3437" class="Symbol">→</a> <a id="3439" class="String">&quot;¬ TxBody.txins (Tx.body tx) ⊆ dom (UTxOState.utxo s)&quot;</a>
            <a id="3506" class="Symbol">(</a><a id="3507" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3512" href="Ledger.Conway.Utxo.Properties.html#3512" class="Bound">b₁</a><a id="3514" class="Symbol">)</a> <a id="3516" class="Symbol">→</a> <a id="3518" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3523" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="3537" href="Ledger.Conway.Utxo.Properties.html#3512" class="Bound">b₁</a> <a id="3540" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3543" class="Symbol">λ</a> <a id="3545" class="Keyword">where</a>
                <a id="3567" class="Symbol">(</a><a id="3568" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3573" href="Ledger.Conway.Utxo.Properties.html#3573" class="Bound">a₁&#39;</a><a id="3576" class="Symbol">)</a> <a id="3578" class="Symbol">→</a> <a id="3580" class="String">&quot;¬ refInputs ⊆ dom utxo &quot;</a>
                <a id="3622" class="Symbol">(</a><a id="3623" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3628" href="Ledger.Conway.Utxo.Properties.html#3628" class="Bound">b₂&#39;</a><a id="3631" class="Symbol">)</a> <a id="3633" class="Symbol">→</a> <a id="3635" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3640" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="3654" href="Ledger.Conway.Utxo.Properties.html#3628" class="Bound">b₂&#39;</a> <a id="3658" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3661" class="Symbol">λ</a> <a id="3663" class="Keyword">where</a>
                  <a id="3687" class="Symbol">(</a><a id="3688" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3693" href="Ledger.Conway.Utxo.Properties.html#3693" class="Bound">a₂</a><a id="3695" class="Symbol">)</a> <a id="3697" class="Symbol">→</a> <a id="3699" class="String">&quot;¬ inInterval (UTxOEnv.slot Γ) (txvldt (Tx.body tx))&quot;</a>
                  <a id="3771" class="Symbol">(</a><a id="3772" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3777" href="Ledger.Conway.Utxo.Properties.html#3777" class="Bound">b₂</a><a id="3779" class="Symbol">)</a> <a id="3781" class="Symbol">→</a> <a id="3783" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3788" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="3802" href="Ledger.Conway.Utxo.Properties.html#3777" class="Bound">b₂</a> <a id="3805" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3808" class="Symbol">λ</a> <a id="3810" class="Keyword">where</a>
                    <a id="3836" class="Symbol">(</a><a id="3837" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3842" href="Ledger.Conway.Utxo.Properties.html#3842" class="Bound">a₃</a><a id="3844" class="Symbol">)</a> <a id="3846" class="Symbol">→</a> <a id="3848" class="String">&quot;¬ feesOK pp tx utxo&quot;</a>
                    <a id="3890" class="Symbol">(</a><a id="3891" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3896" href="Ledger.Conway.Utxo.Properties.html#3896" class="Bound">b₃</a><a id="3898" class="Symbol">)</a> <a id="3900" class="Symbol">→</a> <a id="3902" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3907" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="3921" href="Ledger.Conway.Utxo.Properties.html#3896" class="Bound">b₃</a> <a id="3924" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3927" class="Symbol">λ</a> <a id="3929" class="Keyword">where</a>
                        <a id="3959" class="Symbol">(</a><a id="3960" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3965" href="Ledger.Conway.Utxo.Properties.html#3965" class="Bound">a₄</a><a id="3967" class="Symbol">)</a> <a id="3969" class="Symbol">→</a>
                          <a id="3997" class="Keyword">let</a>
                            <a id="4029" href="Ledger.Conway.Utxo.Properties.html#4029" class="Bound">pp</a> <a id="4032" class="Symbol">=</a> <a id="4034" href="Ledger.Conway.Utxo.html#2449" class="Field">UTxOEnv.pparams</a> <a id="4050" href="Ledger.Conway.Utxo.Properties.html#3022" class="Bound">Γ</a>
                            <a id="4080" href="Ledger.Conway.Utxo.Properties.html#4080" class="Bound">txb</a> <a id="4084" class="Symbol">=</a> <a id="4086" href="Ledger.Conway.Transaction.html#4338" class="Field">Tx.body</a> <a id="4094" href="Ledger.Conway.Utxo.Properties.html#3026" class="Bound">tx</a>
                            <a id="4125" href="Ledger.Conway.Utxo.Properties.html#4125" class="Bound">con</a> <a id="4129" class="Symbol">=</a> <a id="4131" href="Ledger.Conway.Utxo.html#12332" class="Function">consumed</a> <a id="4140" href="Ledger.Conway.Utxo.Properties.html#4029" class="Bound">pp</a> <a id="4143" href="Ledger.Conway.Utxo.Properties.html#3024" class="Bound">s</a> <a id="4145" href="Ledger.Conway.Utxo.Properties.html#4080" class="Bound">txb</a>
                            <a id="4177" href="Ledger.Conway.Utxo.Properties.html#4177" class="Bound">prod</a> <a id="4182" class="Symbol">=</a> <a id="4184" href="Ledger.Conway.Utxo.html#12540" class="Function">produced</a> <a id="4193" href="Ledger.Conway.Utxo.Properties.html#4029" class="Bound">pp</a> <a id="4196" href="Ledger.Conway.Utxo.Properties.html#3024" class="Bound">s</a> <a id="4198" href="Ledger.Conway.Utxo.Properties.html#4080" class="Bound">txb</a>
                            <a id="4230" href="Ledger.Conway.Utxo.Properties.html#4230" class="Bound">showValue</a> <a id="4240" class="Symbol">=</a> <a id="4242" href="Class.Show.Core.html#187" class="Field">show</a> <a id="4247" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4249" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a>
                          <a id="4280" class="Keyword">in</a>
                            <a id="4311" class="Symbol">(</a> <a id="4313" class="String">&quot;¬consumed (UTxOEnv.pparams Γ) s (Tx.body tx) ≡ produced (UTxOEnv.pparams Γ) s (Tx.body tx)&quot;</a>
                            <a id="4434" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4437" class="String">&quot;\n  consumed =\t\t&quot;</a> <a id="4458" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4461" href="Ledger.Conway.Utxo.Properties.html#4230" class="Bound">showValue</a> <a id="4471" href="Ledger.Conway.Utxo.Properties.html#4125" class="Bound">con</a>
                            <a id="4503" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4506" class="String">&quot;\n    ins  =\t\t&quot;</a> <a id="4525" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4528" href="Ledger.Conway.Utxo.Properties.html#4230" class="Bound">showValue</a> <a id="4538" class="Symbol">(</a><a id="4539" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="4547" class="Symbol">(</a><a id="4548" href="Ledger.Conway.Transaction.html#2705" class="Field">UTxOOf</a> <a id="4555" href="Ledger.Conway.Utxo.Properties.html#3024" class="Bound">s</a> <a id="4557" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="4559" href="Ledger.Conway.Utxo.Properties.html#4080" class="Bound">txb</a> <a id="4563" class="Symbol">.</a><a id="4564" href="Ledger.Conway.Transaction.html#2798" class="Field">TxBody.txins</a><a id="4576" class="Symbol">))</a>
                            <a id="4607" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4610" class="String">&quot;\n    mint =\t\t&quot;</a> <a id="4629" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4632" href="Ledger.Conway.Utxo.Properties.html#4230" class="Bound">showValue</a> <a id="4642" class="Symbol">(</a><a id="4643" href="Ledger.Conway.Transaction.html#2920" class="Field">TxBody.mint</a> <a id="4655" href="Ledger.Conway.Utxo.Properties.html#4080" class="Bound">txb</a><a id="4658" class="Symbol">)</a>
                            <a id="4688" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4691" class="String">&quot;\n    depositRefunds =\t&quot;</a> <a id="4718" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4721" href="Ledger.Conway.Utxo.Properties.html#4230" class="Bound">showValue</a> <a id="4731" class="Symbol">(</a><a id="4732" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="4739" class="Symbol">(</a><a id="4740" href="Ledger.Conway.Utxo.html#12074" class="Function">depositRefunds</a> <a id="4755" href="Ledger.Conway.Utxo.Properties.html#4029" class="Bound">pp</a> <a id="4758" href="Ledger.Conway.Utxo.Properties.html#3024" class="Bound">s</a> <a id="4760" href="Ledger.Conway.Utxo.Properties.html#4080" class="Bound">txb</a><a id="4763" class="Symbol">))</a>
                            <a id="4794" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4797" class="String">&quot;\n  produced =\t\t&quot;</a> <a id="4818" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4821" href="Ledger.Conway.Utxo.Properties.html#4230" class="Bound">showValue</a> <a id="4831" href="Ledger.Conway.Utxo.Properties.html#4177" class="Bound">prod</a>
                            <a id="4864" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4867" class="String">&quot;\n    outs =\t\t&quot;</a> <a id="4886" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4889" href="Ledger.Conway.Utxo.Properties.html#4230" class="Bound">showValue</a> <a id="4899" class="Symbol">(</a><a id="4900" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="4908" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4910" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="4915" href="Ledger.Conway.Utxo.Properties.html#4080" class="Bound">txb</a><a id="4918" class="Symbol">)</a>
                            <a id="4948" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4951" class="String">&quot;\n    fee  =\t\t&quot;</a> <a id="4970" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4973" href="Class.Show.Core.html#187" class="Field">show</a> <a id="4978" class="Symbol">(</a><a id="4979" href="Ledger.Conway.Utxo.Properties.html#4080" class="Bound">txb</a> <a id="4983" class="Symbol">.</a><a id="4984" href="Ledger.Conway.Transaction.html#2892" class="Field">TxBody.txfee</a><a id="4996" class="Symbol">)</a>
                            <a id="5026" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5029" class="String">&quot;\n    newDeposits  =\t&quot;</a> <a id="5054" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5057" href="Class.Show.Core.html#187" class="Field">show</a> <a id="5062" class="Symbol">(</a><a id="5063" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="5075" href="Ledger.Conway.Utxo.Properties.html#4029" class="Bound">pp</a> <a id="5078" href="Ledger.Conway.Utxo.Properties.html#3024" class="Bound">s</a> <a id="5080" href="Ledger.Conway.Utxo.Properties.html#4080" class="Bound">txb</a><a id="5083" class="Symbol">)</a>
                            <a id="5113" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5116" class="String">&quot;\n    donation  =\t\t&quot;</a> <a id="5140" href="Ledger.Conway.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5143" href="Class.Show.Core.html#187" class="Field">show</a> <a id="5148" class="Symbol">(</a><a id="5149" href="Ledger.Conway.Utxo.Properties.html#4080" class="Bound">txb</a> <a id="5153" class="Symbol">.</a><a id="5154" href="Ledger.Conway.Transaction.html#3134" class="Field">TxBody.txdonation</a><a id="5171" class="Symbol">)</a>
                            <a id="5201" class="Symbol">)</a>
                        <a id="5227" class="Symbol">(</a><a id="5228" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5233" href="Ledger.Conway.Utxo.Properties.html#5233" class="Bound">b₄</a><a id="5235" class="Symbol">)</a> <a id="5237" class="Symbol">→</a> <a id="5239" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5244" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="5258" href="Ledger.Conway.Utxo.Properties.html#5233" class="Bound">b₄</a> <a id="5261" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5264" class="Symbol">λ</a> <a id="5266" class="Keyword">where</a>
                          <a id="5298" class="Symbol">(</a><a id="5299" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5304" href="Ledger.Conway.Utxo.Properties.html#5304" class="Bound">a₅</a><a id="5306" class="Symbol">)</a> <a id="5308" class="Symbol">→</a> <a id="5310" class="String">&quot;¬ coin (TxBody.mint (Tx.body tx)) ≡ 0&quot;</a>
                          <a id="5376" class="Symbol">(</a><a id="5377" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5382" href="Ledger.Conway.Utxo.Properties.html#5382" class="Bound">b₅</a><a id="5384" class="Symbol">)</a> <a id="5386" class="Symbol">→</a> <a id="5388" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5393" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="5407" href="Ledger.Conway.Utxo.Properties.html#5382" class="Bound">b₅</a> <a id="5410" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5413" class="Symbol">λ</a> <a id="5415" class="Keyword">where</a>
                              <a id="5451" class="Symbol">(</a><a id="5452" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5457" href="Ledger.Conway.Utxo.Properties.html#5457" class="Bound">a₆</a><a id="5459" class="Symbol">)</a> <a id="5461" class="Symbol">→</a> <a id="5463" class="String">&quot;¬(TxBody.txsize (Tx.body tx) Data.Nat.Base.≤ maxTxSize (UTxOEnv.pparams Γ))&quot;</a>
                              <a id="5571" class="Symbol">(</a><a id="5572" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5577" href="Ledger.Conway.Utxo.Properties.html#5577" class="Bound">b₆</a><a id="5579" class="Symbol">)</a> <a id="5581" class="Symbol">→</a> <a id="5583" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5588" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="5602" href="Ledger.Conway.Utxo.Properties.html#5577" class="Bound">b₆</a> <a id="5605" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5608" class="Symbol">λ</a> <a id="5610" class="Keyword">where</a>
                                <a id="5648" class="Symbol">(</a><a id="5649" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5654" href="Ledger.Conway.Utxo.Properties.html#5654" class="Bound">a₇</a><a id="5656" class="Symbol">)</a> <a id="5658" class="Symbol">→</a> <a id="5660" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] inject (utxoEntrySize txout * coinsPerUTxOByte pp) ≤ᵗ getValue txout&quot;</a>
                                <a id="5796" class="Symbol">(</a><a id="5797" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5802" href="Ledger.Conway.Utxo.Properties.html#5802" class="Bound">b₇</a><a id="5804" class="Symbol">)</a> <a id="5806" class="Symbol">→</a> <a id="5808" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5813" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="5827" href="Ledger.Conway.Utxo.Properties.html#5802" class="Bound">b₇</a> <a id="5830" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5833" class="Symbol">λ</a> <a id="5835" class="Keyword">where</a>
                                    <a id="5877" class="Symbol">(</a><a id="5878" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5883" href="Ledger.Conway.Utxo.Properties.html#5883" class="Bound">a₈</a><a id="5885" class="Symbol">)</a> <a id="5887" class="Symbol">→</a> <a id="5889" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] serSize (getValue txout) ≤ maxValSize pp&quot;</a>
                                    <a id="6001" class="Symbol">(</a><a id="6002" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6007" href="Ledger.Conway.Utxo.Properties.html#6007" class="Bound">b₈</a><a id="6009" class="Symbol">)</a> <a id="6011" class="Symbol">→</a> <a id="6013" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6018" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="6032" href="Ledger.Conway.Utxo.Properties.html#6007" class="Bound">b₈</a> <a id="6035" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6038" class="Symbol">λ</a> <a id="6040" class="Keyword">where</a>
                                      <a id="6084" class="Symbol">(</a><a id="6085" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6090" href="Ledger.Conway.Utxo.Properties.html#6090" class="Bound">a₉</a><a id="6092" class="Symbol">)</a> <a id="6094" class="Symbol">→</a> <a id="6096" class="String">&quot;∀[ (a , _) ∈ range txouts ] Sum.All (const ⊤) (λ a → a .BootstrapAddr.attrsSize ≤ 64) a&quot;</a>
                                      <a id="6224" class="Symbol">(</a><a id="6225" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6230" class="Symbol">_)</a> <a id="6233" class="Symbol">→</a> <a id="6235" class="String">&quot;something else broke&quot;</a>

        <a id="6267" href="Ledger.Conway.Utxo.Properties.html#6267" class="Function">computeProofH</a> <a id="6281" class="Symbol">:</a> <a id="6283" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="6287" href="Ledger.Conway.Utxo.Properties.html#3034" class="Bound">H</a> <a id="6289" class="Symbol">→</a> <a id="6291" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6309" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6316" class="Symbol">(</a><a id="6317" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6320" href="Ledger.Conway.Utxo.Properties.html#6320" class="Bound">s&#39;</a> <a id="6323" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6325" href="Ledger.Conway.Utxo.Properties.html#3022" class="Bound">Γ</a> <a id="6327" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⊢</a> <a id="6329" href="Ledger.Conway.Utxo.Properties.html#3024" class="Bound">s</a> <a id="6331" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⇀⦇</a> <a id="6334" href="Ledger.Conway.Utxo.Properties.html#3026" class="Bound">tx</a> <a id="6337" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">,UTXO⦈</a> <a id="6344" href="Ledger.Conway.Utxo.Properties.html#6320" class="Bound">s&#39;</a><a id="6346" class="Symbol">)</a>
        <a id="6356" href="Ledger.Conway.Utxo.Properties.html#6267" class="Function">computeProofH</a> <a id="6370" class="Symbol">(</a><a id="6371" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6375" class="Symbol">(</a><a id="6376" href="Ledger.Conway.Utxo.Properties.html#6376" class="Bound">x</a> <a id="6378" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6380" href="Ledger.Conway.Utxo.Properties.html#6380" class="Bound">y</a> <a id="6382" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6384" href="Ledger.Conway.Utxo.Properties.html#6384" class="Bound">z</a> <a id="6386" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6388" href="Ledger.Conway.Utxo.Properties.html#6388" class="Bound">e</a> <a id="6390" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6392" href="Ledger.Conway.Utxo.Properties.html#6392" class="Bound">k</a> <a id="6394" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6396" href="Ledger.Conway.Utxo.Properties.html#6396" class="Bound">l</a> <a id="6398" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6400" href="Ledger.Conway.Utxo.Properties.html#6400" class="Bound">m</a> <a id="6402" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6404" href="Ledger.Conway.Utxo.Properties.html#6404" class="Bound">v</a> <a id="6406" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6408" href="Ledger.Conway.Utxo.Properties.html#6408" class="Bound">j</a> <a id="6410" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6412" href="Ledger.Conway.Utxo.Properties.html#6412" class="Bound">n</a> <a id="6414" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6416" href="Ledger.Conway.Utxo.Properties.html#6416" class="Bound">o</a> <a id="6418" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6420" href="Ledger.Conway.Utxo.Properties.html#6420" class="Bound">p</a> <a id="6422" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6424" href="Ledger.Conway.Utxo.Properties.html#6424" class="Bound">q</a> <a id="6426" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6428" href="Ledger.Conway.Utxo.Properties.html#6428" class="Bound">r</a> <a id="6430" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6432" href="Ledger.Conway.Utxo.Properties.html#6432" class="Bound">t</a> <a id="6434" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6436" href="Ledger.Conway.Utxo.Properties.html#6436" class="Bound">u</a><a id="6437" class="Symbol">))</a> <a id="6440" class="Symbol">=</a>
            <a id="6454" href="Class.Bifunctor.html#615" class="Function">map₂′</a> <a id="6460" class="Symbol">(</a><a id="6461" href="Ledger.Conway.Utxo.html#15429" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6477" class="Symbol">_</a> <a id="6479" class="Symbol">_</a> <a id="6481" class="Symbol">_</a> <a id="6483" href="Ledger.Conway.Utxo.Properties.html#6376" class="Bound">x</a> <a id="6485" href="Ledger.Conway.Utxo.Properties.html#6380" class="Bound">y</a> <a id="6487" href="Ledger.Conway.Utxo.Properties.html#6384" class="Bound">z</a> <a id="6489" href="Ledger.Conway.Utxo.Properties.html#6388" class="Bound">e</a> <a id="6491" href="Ledger.Conway.Utxo.Properties.html#6392" class="Bound">k</a> <a id="6493" href="Ledger.Conway.Utxo.Properties.html#6396" class="Bound">l</a> <a id="6495" href="Ledger.Conway.Utxo.Properties.html#6400" class="Bound">m</a> <a id="6497" href="Ledger.Conway.Utxo.Properties.html#6404" class="Bound">v</a> <a id="6499" href="Ledger.Conway.Utxo.Properties.html#6408" class="Bound">j</a> <a id="6501" href="Ledger.Conway.Utxo.Properties.html#6412" class="Bound">n</a> <a id="6503" href="Ledger.Conway.Utxo.Properties.html#6416" class="Bound">o</a> <a id="6505" href="Ledger.Conway.Utxo.Properties.html#6420" class="Bound">p</a> <a id="6507" href="Ledger.Conway.Utxo.Properties.html#6424" class="Bound">q</a> <a id="6509" href="Ledger.Conway.Utxo.Properties.html#6428" class="Bound">r</a> <a id="6511" href="Ledger.Conway.Utxo.Properties.html#6432" class="Bound">t</a> <a id="6513" href="Ledger.Conway.Utxo.Properties.html#6436" class="Bound">u</a><a id="6514" class="Symbol">)</a> <a id="6516" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="6520" href="Ledger.Conway.Utxo.Properties.html#3176" class="Function">computeProof&#39;</a> <a id="6534" href="Ledger.Conway.Utxo.Properties.html#3022" class="Bound">Γ</a> <a id="6536" href="Ledger.Conway.Utxo.Properties.html#3024" class="Bound">s</a> <a id="6538" href="Ledger.Conway.Utxo.Properties.html#3026" class="Bound">tx</a>
        <a id="6549" href="Ledger.Conway.Utxo.Properties.html#6267" class="Function">computeProofH</a> <a id="6563" class="Symbol">(</a><a id="6564" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6567" href="Ledger.Conway.Utxo.Properties.html#6567" class="Bound">¬p</a><a id="6569" class="Symbol">)</a> <a id="6571" class="Symbol">=</a> <a id="6573" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="6581" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6583" href="Ledger.Conway.Utxo.Properties.html#3231" class="Function">genErr</a> <a id="6590" href="Ledger.Conway.Utxo.Properties.html#6567" class="Bound">¬p</a>

        <a id="6602" href="Ledger.Conway.Utxo.Properties.html#6602" class="Function">computeProof</a> <a id="6615" class="Symbol">:</a> <a id="6617" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6635" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6642" class="Symbol">(</a><a id="6643" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6646" href="Ledger.Conway.Utxo.Properties.html#6646" class="Bound">s&#39;</a> <a id="6649" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6651" href="Ledger.Conway.Utxo.Properties.html#3022" class="Bound">Γ</a> <a id="6653" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⊢</a> <a id="6655" href="Ledger.Conway.Utxo.Properties.html#3024" class="Bound">s</a> <a id="6657" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⇀⦇</a> <a id="6660" href="Ledger.Conway.Utxo.Properties.html#3026" class="Bound">tx</a> <a id="6663" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">,UTXO⦈</a> <a id="6670" href="Ledger.Conway.Utxo.Properties.html#6646" class="Bound">s&#39;</a><a id="6672" class="Symbol">)</a>
        <a id="6682" href="Ledger.Conway.Utxo.Properties.html#6602" class="Function">computeProof</a> <a id="6695" class="Symbol">=</a> <a id="6697" href="Ledger.Conway.Utxo.Properties.html#6267" class="Function">computeProofH</a> <a id="6711" href="Ledger.Conway.Utxo.Properties.html#3040" class="Bound">H?</a>

        <a id="6723" href="Ledger.Conway.Utxo.Properties.html#6723" class="Function">completeness</a> <a id="6736" class="Symbol">:</a> <a id="6738" class="Symbol">∀</a> <a id="6740" href="Ledger.Conway.Utxo.Properties.html#6740" class="Bound">s&#39;</a> <a id="6743" class="Symbol">→</a> <a id="6745" href="Ledger.Conway.Utxo.Properties.html#3022" class="Bound">Γ</a> <a id="6747" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⊢</a> <a id="6749" href="Ledger.Conway.Utxo.Properties.html#3024" class="Bound">s</a> <a id="6751" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⇀⦇</a> <a id="6754" href="Ledger.Conway.Utxo.Properties.html#3026" class="Bound">tx</a> <a id="6757" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">,UTXO⦈</a> <a id="6764" href="Ledger.Conway.Utxo.Properties.html#6740" class="Bound">s&#39;</a> <a id="6767" class="Symbol">→</a> <a id="6769" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="6773" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6779" href="Ledger.Conway.Utxo.Properties.html#6602" class="Function">computeProof</a> <a id="6792" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6794" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="6802" href="Ledger.Conway.Utxo.Properties.html#6740" class="Bound">s&#39;</a>
        <a id="6813" href="Ledger.Conway.Utxo.Properties.html#6723" class="Function">completeness</a> <a id="6826" href="Ledger.Conway.Utxo.Properties.html#6826" class="Bound">s&#39;</a> <a id="6829" class="Symbol">(</a><a id="6830" href="Ledger.Conway.Utxo.html#15429" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6846" class="Symbol">_</a> <a id="6848" class="Symbol">_</a> <a id="6850" class="Symbol">_</a> <a id="6852" href="Ledger.Conway.Utxo.Properties.html#6852" class="Bound">x</a> <a id="6854" href="Ledger.Conway.Utxo.Properties.html#6854" class="Bound">y</a> <a id="6856" href="Ledger.Conway.Utxo.Properties.html#6856" class="Bound">z</a> <a id="6858" href="Ledger.Conway.Utxo.Properties.html#6858" class="Bound">w</a> <a id="6860" href="Ledger.Conway.Utxo.Properties.html#6860" class="Bound">k</a> <a id="6862" href="Ledger.Conway.Utxo.Properties.html#6862" class="Bound">l</a> <a id="6864" href="Ledger.Conway.Utxo.Properties.html#6864" class="Bound">m</a> <a id="6866" href="Ledger.Conway.Utxo.Properties.html#6866" class="Bound">v</a> <a id="6868" href="Ledger.Conway.Utxo.Properties.html#6868" class="Bound">j</a> <a id="6870" href="Ledger.Conway.Utxo.Properties.html#6870" class="Bound">n</a> <a id="6872" href="Ledger.Conway.Utxo.Properties.html#6872" class="Bound">o</a> <a id="6874" href="Ledger.Conway.Utxo.Properties.html#6874" class="Bound">p</a> <a id="6876" href="Ledger.Conway.Utxo.Properties.html#6876" class="Bound">q</a> <a id="6878" href="Ledger.Conway.Utxo.Properties.html#6878" class="Bound">r</a> <a id="6880" href="Ledger.Conway.Utxo.Properties.html#6880" class="Bound">t</a> <a id="6882" href="Ledger.Conway.Utxo.Properties.html#6882" class="Bound">u</a> <a id="6884" href="Ledger.Conway.Utxo.Properties.html#6884" class="Bound">h</a><a id="6885" class="Symbol">)</a> <a id="6887" class="Keyword">with</a> <a id="6892" href="Ledger.Conway.Utxo.Properties.html#3040" class="Bound">H?</a>
        <a id="6903" class="Symbol">...</a> <a id="6907" class="Symbol">|</a> <a id="6909" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6912" href="Ledger.Conway.Utxo.Properties.html#6912" class="Bound">¬p</a> <a id="6915" class="Symbol">=</a> <a id="6917" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="6924" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6926" href="Ledger.Conway.Utxo.Properties.html#6912" class="Bound">¬p</a> <a id="6929" class="Symbol">(</a><a id="6930" class="Bound">x</a> <a id="6932" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6934" class="Bound">y</a> <a id="6936" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6938" class="Bound">z</a> <a id="6940" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6942" class="Bound">w</a> <a id="6944" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6946" class="Bound">k</a> <a id="6948" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6950" class="Bound">l</a> <a id="6952" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6954" class="Bound">m</a> <a id="6956" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6958" class="Bound">v</a> <a id="6960" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6962" class="Bound">j</a> <a id="6964" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6966" class="Bound">n</a> <a id="6968" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6970" class="Bound">o</a> <a id="6972" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6974" class="Bound">p</a> <a id="6976" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6978" class="Bound">q</a> <a id="6980" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6982" class="Bound">r</a> <a id="6984" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6986" class="Bound">t</a> <a id="6988" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6990" class="Bound">u</a><a id="6991" class="Symbol">)</a>
        <a id="7001" class="Symbol">...</a> <a id="7005" class="Symbol">|</a> <a id="7007" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="7011" class="Symbol">_</a> <a id="7013" class="Keyword">with</a> <a id="7018" href="Ledger.Conway.Utxo.Properties.html#3176" class="Function">computeProof&#39;</a> <a id="7032" href="Ledger.Conway.Utxo.Properties.html#3022" class="Bound">Γ</a> <a id="7034" href="Ledger.Conway.Utxo.Properties.html#3024" class="Bound">s</a> <a id="7036" href="Ledger.Conway.Utxo.Properties.html#3026" class="Bound">tx</a> <a id="7039" class="Symbol">|</a> <a id="7041" href="Ledger.Conway.Utxo.Properties.html#3207" class="Function">completeness&#39;</a> <a id="7055" class="Symbol">_</a> <a id="7057" class="Symbol">_</a> <a id="7059" class="Symbol">_</a> <a id="7061" class="Symbol">_</a> <a id="7063" class="Bound">h</a>
        <a id="7073" class="Symbol">...</a> <a id="7077" class="Symbol">|</a> <a id="7079" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="7087" class="Symbol">_</a> <a id="7089" class="Symbol">|</a> <a id="7091" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7096" class="Symbol">=</a> <a id="7098" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="7104" class="Keyword">open</a> <a id="7109" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="7123" class="Symbol">⦃...⦄</a>

<a id="7130" class="Keyword">opaque</a>
  <a id="7139" class="Keyword">unfolding</a> <a id="7149" href="abstract-set-theory.FiniteSetTheory.html#240" class="Function">List-Model</a>
  <a id="Computational-UTXO"></a><a id="7162" href="Ledger.Conway.Utxo.Properties.html#7162" class="Function">Computational-UTXO</a> <a id="7181" class="Symbol">:</a> <a id="7183" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="7197" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="7211" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="7220" href="Ledger.Conway.Utxo.Properties.html#7162" class="Function">Computational-UTXO</a> <a id="7239" class="Symbol">=</a> <a id="7241" href="Ledger.Conway.Utxo.Properties.html#2903" class="Function">Computational-UTXO&#39;</a>

<a id="7262" class="Keyword">private</a> <a id="7270" class="Keyword">variable</a>
  <a id="7281" href="Ledger.Conway.Utxo.Properties.html#7281" class="Generalizable">tx</a>                               <a id="7314" class="Symbol">:</a> <a id="7316" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a>
  <a id="7321" href="Ledger.Conway.Utxo.Properties.html#7321" class="Generalizable">utxo</a> <a id="7326" href="Ledger.Conway.Utxo.Properties.html#7326" class="Generalizable">utxo&#39;</a>                       <a id="7354" class="Symbol">:</a> <a id="7356" href="Ledger.Conway.Transaction.html#2473" class="Function">UTxO</a>
  <a id="7363" href="Ledger.Conway.Utxo.Properties.html#7363" class="Generalizable">Γ</a>                                <a id="7396" class="Symbol">:</a> <a id="7398" href="Ledger.Conway.Utxo.html#2395" class="Record">UTxOEnv</a>
  <a id="7408" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a> <a id="7418" href="Ledger.Conway.Utxo.Properties.html#7418" class="Generalizable">utxoState&#39;</a>             <a id="7441" class="Symbol">:</a> <a id="7443" href="Ledger.Conway.Utxo.html#2747" class="Record">UTxOState</a>
  <a id="7455" href="Ledger.Conway.Utxo.Properties.html#7455" class="Generalizable">fees</a> <a id="7460" href="Ledger.Conway.Utxo.Properties.html#7460" class="Generalizable">fees&#39;</a> <a id="7466" href="Ledger.Conway.Utxo.Properties.html#7466" class="Generalizable">donations</a> <a id="7476" href="Ledger.Conway.Utxo.Properties.html#7476" class="Generalizable">donations&#39;</a>  <a id="7488" class="Symbol">:</a> <a id="7490" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="7497" href="Ledger.Conway.Utxo.Properties.html#7497" class="Generalizable">deposits</a> <a id="7506" href="Ledger.Conway.Utxo.Properties.html#7506" class="Generalizable">deposits&#39;</a>               <a id="7530" class="Symbol">:</a> <a id="7532" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a>

<a id="7542" class="Keyword">open</a> <a id="7547" href="Algebra.Morphism.Structures.html#4393" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>
<a id="7584" class="Keyword">private</a>
  <a id="∙-homo-Coin"></a><a id="7594" href="Ledger.Conway.Utxo.Properties.html#7594" class="Function">∙-homo-Coin</a> <a id="7606" class="Symbol">=</a> <a id="7608" href="Algebra.Morphism.Structures.html#2891" class="Field">IsMagmaHomomorphism.homo</a> <a id="7633" class="Symbol">(</a><a id="7634" href="Algebra.Morphism.Structures.html#4470" class="Field">isMagmaHomomorphism</a> <a id="7654" href="Ledger.Conway.TokenAlgebra.html#1119" class="Function">coinIsMonoidHomomorphism</a><a id="7678" class="Symbol">)</a>

<a id="7681" class="Keyword">opaque</a>
  <a id="7690" class="Keyword">unfolding</a> <a id="7700" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a>
  <a id="balance-cong"></a><a id="7710" href="Ledger.Conway.Utxo.Properties.html#7710" class="Function">balance-cong</a> <a id="7723" class="Symbol">:</a>  <a id="7726" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7728" href="Ledger.Conway.Utxo.Properties.html#7321" class="Generalizable">utxo</a> <a id="7733" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7735" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="7738" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7740" href="Ledger.Conway.Utxo.Properties.html#7326" class="Generalizable">utxo&#39;</a> <a id="7746" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7748" class="Symbol">→</a> <a id="7750" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="7758" href="Ledger.Conway.Utxo.Properties.html#7321" class="Generalizable">utxo</a> <a id="7763" href="Algebra.Bundles.html#8008" class="Function Operator">≈</a> <a id="7765" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="7773" href="Ledger.Conway.Utxo.Properties.html#7326" class="Generalizable">utxo&#39;</a>
  <a id="7781" href="Ledger.Conway.Utxo.Properties.html#7710" class="Function">balance-cong</a> <a id="7794" class="Symbol">{</a><a id="7795" href="Ledger.Conway.Utxo.Properties.html#7795" class="Bound">utxo</a><a id="7799" class="Symbol">}</a> <a id="7801" class="Symbol">{</a><a id="7802" href="Ledger.Conway.Utxo.Properties.html#7802" class="Bound">utxo&#39;</a><a id="7807" class="Symbol">}</a> <a id="7809" href="Ledger.Conway.Utxo.Properties.html#7809" class="Bound">eq</a> <a id="7812" class="Symbol">=</a> <a id="7814" href="Axiom.Set.Sum.html#4667" class="Function">indexedSumᵐ-cong</a> <a id="7831" class="Symbol">{</a><a id="7832" class="Argument">M</a> <a id="7834" class="Symbol">=</a> <a id="7836" href="Ledger.Conway.TokenAlgebra.html#499" class="Function">Value</a><a id="7841" class="Symbol">}</a> <a id="7843" class="Symbol">{</a><a id="7844" class="Argument">x</a> <a id="7846" class="Symbol">=</a> <a id="7848" class="Symbol">(</a><a id="7849" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7859" href="Ledger.Conway.Transaction.html#5160" class="Function">txOutHash</a> <a id="7869" href="Ledger.Conway.Utxo.Properties.html#7795" class="Bound">utxo</a><a id="7873" class="Symbol">)</a> <a id="7875" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="7877" class="Symbol">}</a> <a id="7879" class="Symbol">{(</a><a id="7881" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7891" href="Ledger.Conway.Transaction.html#5160" class="Function">txOutHash</a> <a id="7901" href="Ledger.Conway.Utxo.Properties.html#7802" class="Bound">utxo&#39;</a><a id="7906" class="Symbol">)</a> <a id="7908" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="7910" class="Symbol">}</a> <a id="7912" class="Symbol">(</a><a id="7913" href="Axiom.Set.Properties.html#5411" class="Function">map-≡ᵉ</a> <a id="7920" href="Ledger.Conway.Utxo.Properties.html#7809" class="Bound">eq</a><a id="7922" class="Symbol">)</a>

  <a id="balance-cong-coin"></a><a id="7927" href="Ledger.Conway.Utxo.Properties.html#7927" class="Function">balance-cong-coin</a> <a id="7945" class="Symbol">:</a> <a id="7947" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7949" href="Ledger.Conway.Utxo.Properties.html#7321" class="Generalizable">utxo</a> <a id="7954" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7956" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="7959" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7961" href="Ledger.Conway.Utxo.Properties.html#7326" class="Generalizable">utxo&#39;</a> <a id="7967" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7969" class="Symbol">→</a> <a id="7971" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="7980" href="Ledger.Conway.Utxo.Properties.html#7321" class="Generalizable">utxo</a> <a id="7985" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7987" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="7996" href="Ledger.Conway.Utxo.Properties.html#7326" class="Generalizable">utxo&#39;</a>
  <a id="8004" href="Ledger.Conway.Utxo.Properties.html#7927" class="Function">balance-cong-coin</a> <a id="8022" class="Symbol">{</a><a id="8023" href="Ledger.Conway.Utxo.Properties.html#8023" class="Bound">utxo</a><a id="8027" class="Symbol">}</a> <a id="8029" class="Symbol">{</a><a id="8030" href="Ledger.Conway.Utxo.Properties.html#8030" class="Bound">utxo&#39;</a><a id="8035" class="Symbol">}</a> <a id="8037" href="Ledger.Conway.Utxo.Properties.html#8037" class="Bound">x</a> <a id="8039" class="Symbol">=</a>
    <a id="8045" href="Ledger.Conway.TokenAlgebra.html#1119" class="Function">coinIsMonoidHomomorphism</a> <a id="8070" class="Symbol">.</a><a id="8071" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8079" class="Symbol">(</a><a id="8080" href="Ledger.Conway.Utxo.Properties.html#7710" class="Function">balance-cong</a> <a id="8093" class="Symbol">{</a><a id="8094" href="Ledger.Conway.Utxo.Properties.html#8023" class="Bound">utxo</a><a id="8098" class="Symbol">}</a> <a id="8100" class="Symbol">{</a><a id="8101" href="Ledger.Conway.Utxo.Properties.html#8030" class="Bound">utxo&#39;</a><a id="8106" class="Symbol">}</a> <a id="8108" href="Ledger.Conway.Utxo.Properties.html#8037" class="Bound">x</a><a id="8109" class="Symbol">)</a>
    <a id="8115" class="Keyword">where</a> <a id="8121" class="Keyword">open</a> <a id="8126" href="Algebra.Morphism.Structures.html#4393" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>

  <a id="balance-∪"></a><a id="8166" href="Ledger.Conway.Utxo.Properties.html#8166" class="Function">balance-∪</a> <a id="8176" class="Symbol">:</a> <a id="8178" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="8187" class="Symbol">(</a><a id="8188" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8192" href="Ledger.Conway.Utxo.Properties.html#7321" class="Generalizable">utxo</a><a id="8196" class="Symbol">)</a> <a id="8198" class="Symbol">(</a><a id="8199" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8203" href="Ledger.Conway.Utxo.Properties.html#7326" class="Generalizable">utxo&#39;</a><a id="8208" class="Symbol">)</a>
                       <a id="8233" class="Symbol">→</a> <a id="8235" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="8244" class="Symbol">(</a><a id="8245" href="Ledger.Conway.Utxo.Properties.html#7321" class="Generalizable">utxo</a> <a id="8250" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8253" href="Ledger.Conway.Utxo.Properties.html#7326" class="Generalizable">utxo&#39;</a><a id="8258" class="Symbol">)</a> <a id="8260" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8262" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="8271" href="Ledger.Conway.Utxo.Properties.html#7321" class="Generalizable">utxo</a> <a id="8276" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8278" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="8287" href="Ledger.Conway.Utxo.Properties.html#7326" class="Generalizable">utxo&#39;</a>
  <a id="8295" href="Ledger.Conway.Utxo.Properties.html#8166" class="Function">balance-∪</a> <a id="8305" class="Symbol">{</a><a id="8306" href="Ledger.Conway.Utxo.Properties.html#8306" class="Bound">utxo</a><a id="8310" class="Symbol">}</a> <a id="8312" class="Symbol">{</a><a id="8313" href="Ledger.Conway.Utxo.Properties.html#8313" class="Bound">utxo&#39;</a><a id="8318" class="Symbol">}</a> <a id="8320" href="Ledger.Conway.Utxo.Properties.html#8320" class="Bound">h</a> <a id="8322" class="Symbol">=</a> <a id="8324" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="8334" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="8343" class="Symbol">(</a><a id="8344" href="Ledger.Conway.Utxo.Properties.html#8306" class="Bound">utxo</a> <a id="8349" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8352" href="Ledger.Conway.Utxo.Properties.html#8313" class="Bound">utxo&#39;</a><a id="8357" class="Symbol">)</a>
      <a id="8365" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8368" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8376" href="Ledger.Conway.TokenAlgebra.html#1119" class="Function">coinIsMonoidHomomorphism</a>
      <a id="8407" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8409" href="Axiom.Set.Sum.html#4667" class="Function">indexedSumᵐ-cong</a> <a id="8426" class="Symbol">{</a><a id="8427" class="Argument">f</a> <a id="8429" class="Symbol">=</a> <a id="8431" href="Ledger.Conway.Transaction.html#5249" class="Function">getValueʰ</a> <a id="8441" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="8443" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="8448" class="Symbol">}</a> <a id="8450" class="Symbol">{</a><a id="8451" class="Argument">x</a> <a id="8453" class="Symbol">=</a> <a id="8455" class="Symbol">(</a><a id="8456" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8466" href="Ledger.Conway.Transaction.html#5160" class="Function">txOutHash</a> <a id="8476" class="Symbol">(</a><a id="8477" href="Ledger.Conway.Utxo.Properties.html#8306" class="Bound">utxo</a> <a id="8482" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8485" href="Ledger.Conway.Utxo.Properties.html#8313" class="Bound">utxo&#39;</a><a id="8490" class="Symbol">))</a> <a id="8493" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8495" class="Symbol">}</a> <a id="8497" class="Symbol">{((</a><a id="8500" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8510" href="Ledger.Conway.Transaction.html#5160" class="Function">txOutHash</a> <a id="8520" href="Ledger.Conway.Utxo.Properties.html#8306" class="Bound">utxo</a><a id="8524" class="Symbol">)</a> <a id="8526" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8528" class="Symbol">)</a> <a id="8530" href="Axiom.Set.Sum.html#5189" class="Function Operator">∪ˡᶠ</a> <a id="8534" class="Symbol">((</a><a id="8536" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8546" href="Ledger.Conway.Transaction.html#5160" class="Function">txOutHash</a> <a id="8556" href="Ledger.Conway.Utxo.Properties.html#8313" class="Bound">utxo&#39;</a><a id="8561" class="Symbol">)</a> <a id="8563" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8565" class="Symbol">)}</a> <a id="8568" class="Symbol">(</a><a id="8569" href="Axiom.Set.Map.html#7309" class="Function">disjoint-∪ˡ-mapValues</a> <a id="8591" class="Symbol">{</a><a id="8592" class="Argument">M</a> <a id="8594" class="Symbol">=</a> <a id="8596" href="Ledger.Conway.Utxo.Properties.html#8306" class="Bound">utxo</a><a id="8600" class="Symbol">}</a> <a id="8602" class="Symbol">{</a><a id="8603" href="Ledger.Conway.Utxo.Properties.html#8313" class="Bound">utxo&#39;</a><a id="8608" class="Symbol">}</a> <a id="8610" class="Symbol">_</a> <a id="8612" href="Ledger.Conway.Utxo.Properties.html#8320" class="Bound">h</a><a id="8613" class="Symbol">)</a>
      <a id="8621" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8627" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="8632" class="Symbol">(</a><a id="8633" href="Axiom.Set.Sum.html#4466" class="Function">indexedSumᵐ</a> <a id="8645" class="Symbol">_</a> <a id="8647" class="Symbol">(((</a><a id="8650" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8660" href="Ledger.Conway.Transaction.html#5160" class="Function">txOutHash</a> <a id="8670" href="Ledger.Conway.Utxo.Properties.html#8306" class="Bound">utxo</a><a id="8674" class="Symbol">)</a> <a id="8676" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8678" class="Symbol">)</a> <a id="8680" href="Axiom.Set.Sum.html#5189" class="Function Operator">∪ˡᶠ</a> <a id="8684" class="Symbol">((</a><a id="8686" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8696" href="Ledger.Conway.Transaction.html#5160" class="Function">txOutHash</a> <a id="8706" href="Ledger.Conway.Utxo.Properties.html#8313" class="Bound">utxo&#39;</a><a id="8711" class="Symbol">)</a> <a id="8713" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8715" class="Symbol">)))</a>
      <a id="8725" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8728" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8736" href="Ledger.Conway.TokenAlgebra.html#1119" class="Function">coinIsMonoidHomomorphism</a>
       <a id="8768" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8770" href="Axiom.Set.Sum.html#5347" class="Function">indexedSumᵐ-∪</a> <a id="8784" class="Symbol">{</a><a id="8785" class="Argument">M</a> <a id="8787" class="Symbol">=</a> <a id="8789" href="Ledger.Conway.TokenAlgebra.html#499" class="Function">Value</a><a id="8794" class="Symbol">}</a> <a id="8796" class="Symbol">{</a><a id="8797" class="Argument">X</a> <a id="8799" class="Symbol">=</a> <a id="8801" class="Symbol">(</a><a id="8802" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8812" href="Ledger.Conway.Transaction.html#5160" class="Function">txOutHash</a> <a id="8822" href="Ledger.Conway.Utxo.Properties.html#8306" class="Bound">utxo</a><a id="8826" class="Symbol">)</a> <a id="8828" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8830" class="Symbol">}</a> <a id="8832" class="Symbol">{(</a><a id="8834" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8844" href="Ledger.Conway.Transaction.html#5160" class="Function">txOutHash</a> <a id="8854" href="Ledger.Conway.Utxo.Properties.html#8313" class="Bound">utxo&#39;</a><a id="8859" class="Symbol">)</a> <a id="8861" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8863" class="Symbol">}</a>
       <a id="8872" class="Symbol">(λ</a> <a id="8875" href="Ledger.Conway.Utxo.Properties.html#8875" class="Bound">x</a> <a id="8877" href="Ledger.Conway.Utxo.Properties.html#8877" class="Bound">x₁</a> <a id="8880" class="Symbol">→</a> <a id="8882" href="Ledger.Conway.Utxo.Properties.html#8320" class="Bound">h</a> <a id="8884" class="Symbol">(</a><a id="8885" href="Axiom.Set.Rel.html#4590" class="Function">dom-mapʳ⊆</a> <a id="8895" href="Ledger.Conway.Utxo.Properties.html#8875" class="Bound">x</a><a id="8896" class="Symbol">)</a> <a id="8898" class="Symbol">(</a><a id="8899" href="Axiom.Set.Rel.html#4590" class="Function">dom-mapʳ⊆</a> <a id="8909" href="Ledger.Conway.Utxo.Properties.html#8877" class="Bound">x₁</a><a id="8911" class="Symbol">))</a>
       <a id="8921" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8927" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="8932" class="Symbol">(</a><a id="8933" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="8941" href="Ledger.Conway.Utxo.Properties.html#8306" class="Bound">utxo</a> <a id="8946" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8948" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="8956" href="Ledger.Conway.Utxo.Properties.html#8313" class="Bound">utxo&#39;</a><a id="8961" class="Symbol">)</a>
      <a id="8969" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8972" href="Ledger.Conway.Utxo.Properties.html#7594" class="Function">∙-homo-Coin</a> <a id="8984" class="Symbol">_</a> <a id="8986" class="Symbol">_</a> <a id="8988" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8994" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="9003" href="Ledger.Conway.Utxo.Properties.html#8306" class="Bound">utxo</a> <a id="9008" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9010" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="9019" href="Ledger.Conway.Utxo.Properties.html#8313" class="Bound">utxo&#39;</a>
      <a id="9031" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="9037" class="Keyword">where</a> <a id="9043" class="Keyword">open</a> <a id="9048" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="9087" class="Symbol">{</a><a id="9088" class="Argument">A</a> <a id="9090" class="Symbol">=</a> <a id="9092" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="9093" class="Symbol">}</a> <a id="9095" class="Symbol">(</a><a id="9096" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html#574" class="Function">solve-macro</a> <a id="9108" class="Symbol">(</a><a id="9109" class="Keyword">quoteTerm</a> <a id="9119" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="9129" class="Symbol">))</a>

<a id="9133" class="Keyword">module</a> <a id="9140" href="Ledger.Conway.Utxo.Properties.html#9140" class="Module">_</a> <a id="9142" class="Symbol">{</a><a id="9143" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a> <a id="9147" class="Symbol">:</a> <a id="9149" class="Symbol">_}</a> <a id="9152" class="Symbol">(</a><a id="9153" class="Keyword">open</a> <a id="9158" href="Ledger.Conway.Transaction.html#2762" class="Module">TxBody</a> <a id="9165" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="9168" class="Symbol">)</a> <a id="9170" class="Keyword">where</a> <a id="9176" class="Keyword">opaque</a>
  <a id="9185" class="Keyword">unfolding</a> <a id="9195" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a>
  <a id="9202" class="Keyword">open</a> <a id="9207" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="9246" class="Symbol">{</a><a id="9247" class="Argument">A</a> <a id="9249" class="Symbol">=</a> <a id="9251" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="9252" class="Symbol">}</a> <a id="9254" class="Symbol">(</a><a id="9255" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html#574" class="Function">solve-macro</a> <a id="9267" class="Symbol">(</a><a id="9268" class="Keyword">quoteTerm</a> <a id="9278" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="9288" class="Symbol">))</a>

  <a id="9294" href="Ledger.Conway.Utxo.Properties.html#9294" class="Function">newTxid⇒disj</a> <a id="9307" class="Symbol">:</a> <a id="9309" href="Ledger.Conway.Transaction.html#3330" class="Field">txid</a> <a id="9314" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="9316" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9321" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9327" class="Symbol">(</a><a id="9328" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9332" href="Ledger.Conway.Utxo.Properties.html#7321" class="Generalizable">utxo</a><a id="9336" class="Symbol">)</a>
              <a id="9352" class="Symbol">→</a> <a id="9354" href="Axiom.Set.html#9583" class="Function">disjoint&#39;</a> <a id="9364" class="Symbol">(</a><a id="9365" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9369" href="Ledger.Conway.Utxo.Properties.html#7321" class="Generalizable">utxo</a><a id="9373" class="Symbol">)</a> <a id="9375" class="Symbol">(</a><a id="9376" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9380" class="Symbol">(</a><a id="9381" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="9386" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="9389" class="Symbol">))</a>
  <a id="9394" href="Ledger.Conway.Utxo.Properties.html#9294" class="Function">newTxid⇒disj</a> <a id="9407" href="Ledger.Conway.Utxo.Properties.html#9407" class="Bound">id∉utxo</a> <a id="9415" class="Symbol">=</a> <a id="9417" href="Axiom.Set.Properties.html#13484" class="Function">disjoint⇒disjoint&#39;</a> <a id="9436" class="Symbol">λ</a> <a id="9438" href="Ledger.Conway.Utxo.Properties.html#9438" class="Bound">h</a> <a id="9440" href="Ledger.Conway.Utxo.Properties.html#9440" class="Bound">h&#39;</a> <a id="9443" class="Symbol">→</a> <a id="9445" href="Ledger.Conway.Utxo.Properties.html#9407" class="Bound">id∉utxo</a> <a id="9453" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9455" href="Function.Bundles.html#4810" class="Field">to</a> <a id="9458" href="Axiom.Set.html#5140" class="Function">∈-map</a>
    <a id="9468" class="Symbol">(</a><a id="9469" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="9472" class="Symbol">(</a><a id="9473" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9478" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9483" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="9489" href="Ledger.Conway.Utxo.Properties.html#9440" class="Bound">h&#39;</a> <a id="9492" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9495" class="Symbol">λ</a> <a id="9497" class="Keyword">where</a>
          <a id="9513" class="Symbol">(_</a> <a id="9516" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9518" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9523" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9525" href="Ledger.Conway.Utxo.Properties.html#9525" class="Bound">h&#39;&#39;</a><a id="9528" class="Symbol">)</a> <a id="9530" class="Symbol">→</a> <a id="9532" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9537" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9542" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="9548" href="Ledger.Conway.Utxo.Properties.html#9525" class="Bound">h&#39;&#39;</a> <a id="9552" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9555" class="Symbol">λ</a> <a id="9557" class="Keyword">where</a> <a id="9563" class="Symbol">(_</a> <a id="9566" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9568" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9573" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9575" class="Symbol">_)</a> <a id="9578" class="Symbol">→</a> <a id="9580" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9584" class="Symbol">)</a> <a id="9586" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9588" href="Ledger.Conway.Utxo.Properties.html#9438" class="Bound">h</a><a id="9589" class="Symbol">)</a>

  <a id="9594" href="Ledger.Conway.Utxo.Properties.html#9594" class="Function">consumedCoinEquality</a> <a id="9615" class="Symbol">:</a> <a id="9617" class="Symbol">∀</a> <a id="9619" class="Symbol">{</a><a id="9620" href="Ledger.Conway.Utxo.Properties.html#9620" class="Bound">pp</a><a id="9622" class="Symbol">}</a>
    <a id="9628" class="Symbol">→</a> <a id="9630" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="9635" href="Ledger.Conway.Transaction.html#2920" class="Field">mint</a> <a id="9640" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9642" class="Number">0</a>
    <a id="9648" class="Symbol">→</a> <a id="9650" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="9655" class="Symbol">(</a><a id="9656" href="Ledger.Conway.Utxo.html#12332" class="Function">consumed</a> <a id="9665" href="Ledger.Conway.Utxo.Properties.html#9620" class="Bound">pp</a> <a id="9668" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a> <a id="9678" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="9681" class="Symbol">)</a>
    <a id="9687" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9689" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="9698" class="Symbol">((</a><a id="9700" href="Ledger.Conway.Utxo.html#2811" class="Field">UTxOState.utxo</a> <a id="9715" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a><a id="9724" class="Symbol">)</a> <a id="9726" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9728" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="9733" class="Symbol">)</a> <a id="9735" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9737" href="Ledger.Conway.Utxo.html#12074" class="Function">depositRefunds</a> <a id="9752" href="Ledger.Conway.Utxo.Properties.html#9620" class="Bound">pp</a> <a id="9755" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a> <a id="9765" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a> <a id="9769" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9771" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="9779" href="Ledger.Conway.Transaction.html#3030" class="Field">txwdrls</a>
  <a id="9789" href="Ledger.Conway.Utxo.Properties.html#9594" class="Function">consumedCoinEquality</a> <a id="9810" class="Symbol">{</a><a id="9811" href="Ledger.Conway.Utxo.Properties.html#9811" class="Bound">utxoState</a><a id="9820" class="Symbol">}</a> <a id="9822" class="Symbol">{</a><a id="9823" href="Ledger.Conway.Utxo.Properties.html#9823" class="Bound">pp</a><a id="9825" class="Symbol">}</a> <a id="9827" href="Ledger.Conway.Utxo.Properties.html#9827" class="Bound">h</a> <a id="9829" class="Symbol">=</a>
    <a id="9835" class="Keyword">let</a>  <a id="9840" href="Ledger.Conway.Utxo.Properties.html#9840" class="Bound">utxo</a> <a id="9845" class="Symbol">=</a> <a id="9847" href="Ledger.Conway.Utxo.html#2811" class="Field">UTxOState.utxo</a> <a id="9862" href="Ledger.Conway.Utxo.Properties.html#9811" class="Bound">utxoState</a>
         <a id="9881" href="Ledger.Conway.Utxo.Properties.html#9881" class="Bound">dRefs</a> <a id="9887" class="Symbol">=</a> <a id="9889" href="Ledger.Conway.Utxo.html#12074" class="Function">depositRefunds</a> <a id="9904" href="Ledger.Conway.Utxo.Properties.html#9823" class="Bound">pp</a> <a id="9907" href="Ledger.Conway.Utxo.Properties.html#9811" class="Bound">utxoState</a> <a id="9917" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a>
         <a id="9930" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a> <a id="9936" class="Symbol">=</a> <a id="9938" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="9946" href="Ledger.Conway.Transaction.html#3030" class="Field">txwdrls</a>
    <a id="9958" class="Keyword">in</a> <a id="9961" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="9971" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="9976" class="Symbol">(</a><a id="9977" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="9985" class="Symbol">(</a><a id="9986" href="Ledger.Conway.Utxo.Properties.html#9840" class="Bound">utxo</a> <a id="9991" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9993" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="9998" class="Symbol">)</a> <a id="10000" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10002" href="Ledger.Conway.Transaction.html#2920" class="Field">mint</a> <a id="10007" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10009" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="10016" href="Ledger.Conway.Utxo.Properties.html#9881" class="Bound">dRefs</a> <a id="10022" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10024" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="10031" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a><a id="10036" class="Symbol">)</a>
      <a id="10044" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10047" href="Ledger.Conway.Utxo.Properties.html#7594" class="Function">∙-homo-Coin</a> <a id="10059" class="Symbol">_</a> <a id="10061" class="Symbol">_</a> <a id="10063" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10069" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="10074" class="Symbol">(</a><a id="10075" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="10083" class="Symbol">(</a><a id="10084" href="Ledger.Conway.Utxo.Properties.html#9840" class="Bound">utxo</a> <a id="10089" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10091" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="10096" class="Symbol">)</a> <a id="10098" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10100" href="Ledger.Conway.Transaction.html#2920" class="Field">mint</a> <a id="10105" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10107" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="10114" href="Ledger.Conway.Utxo.Properties.html#9881" class="Bound">dRefs</a><a id="10119" class="Symbol">)</a> <a id="10121" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10123" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="10128" class="Symbol">(</a><a id="10129" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="10136" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10138" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a><a id="10143" class="Symbol">)</a>
 <a id="10146" class="Comment">--     ≡⟨ cong (coin (balance (utxo ∣ txins) + mint + inject dRefs) +_) (property _) ⟩</a>
      <a id="10239" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10242" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10247" class="Symbol">(</a><a id="10248" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="10253" class="Symbol">(</a><a id="10254" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="10262" class="Symbol">(</a><a id="10263" href="Ledger.Conway.Utxo.Properties.html#9840" class="Bound">utxo</a> <a id="10268" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10270" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="10275" class="Symbol">)</a> <a id="10277" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10279" href="Ledger.Conway.Transaction.html#2920" class="Field">mint</a> <a id="10284" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10286" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="10293" href="Ledger.Conway.Utxo.Properties.html#9881" class="Bound">dRefs</a><a id="10298" class="Symbol">)</a> <a id="10300" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="10302" class="Symbol">)</a> <a id="10304" class="Symbol">(</a><a id="10305" href="Ledger.Conway.TokenAlgebra.html#1068" class="Function">coin∘inject≗id</a> <a id="10320" class="Symbol">_)</a> <a id="10323" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10329" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="10334" class="Symbol">(</a><a id="10335" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="10343" class="Symbol">(</a><a id="10344" href="Ledger.Conway.Utxo.Properties.html#9840" class="Bound">utxo</a> <a id="10349" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10351" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="10356" class="Symbol">)</a> <a id="10358" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10360" href="Ledger.Conway.Transaction.html#2920" class="Field">mint</a> <a id="10365" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10367" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="10374" href="Ledger.Conway.Utxo.Properties.html#9881" class="Bound">dRefs</a><a id="10379" class="Symbol">)</a> <a id="10381" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10383" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a>
      <a id="10395" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10398" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10403" class="Symbol">(</a><a id="10404" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="10407" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a><a id="10412" class="Symbol">)</a> <a id="10414" class="Symbol">(</a><a id="10415" href="Ledger.Conway.Utxo.Properties.html#7594" class="Function">∙-homo-Coin</a> <a id="10427" class="Symbol">_</a> <a id="10429" class="Symbol">_)</a> <a id="10432" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10438" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="10443" class="Symbol">(</a><a id="10444" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="10452" class="Symbol">(</a><a id="10453" href="Ledger.Conway.Utxo.Properties.html#9840" class="Bound">utxo</a> <a id="10458" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10460" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="10465" class="Symbol">)</a> <a id="10467" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10469" href="Ledger.Conway.Transaction.html#2920" class="Field">mint</a><a id="10473" class="Symbol">)</a> <a id="10475" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10477" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="10482" class="Symbol">(</a><a id="10483" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="10490" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10492" href="Ledger.Conway.Utxo.Properties.html#9881" class="Bound">dRefs</a><a id="10497" class="Symbol">)</a> <a id="10499" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10501" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a>
<a id="10507" class="Comment">--      ≡⟨ cong (λ u → coin (balance (utxo ∣ txins) + mint) + u + sWdls) (property _) ⟩</a>
      <a id="10601" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10604" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10609" class="Symbol">(λ</a> <a id="10612" href="Ledger.Conway.Utxo.Properties.html#10612" class="Bound">u</a> <a id="10614" class="Symbol">→</a> <a id="10616" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="10621" class="Symbol">(</a><a id="10622" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="10630" class="Symbol">(</a><a id="10631" href="Ledger.Conway.Utxo.Properties.html#9840" class="Bound">utxo</a> <a id="10636" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10638" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="10643" class="Symbol">)</a> <a id="10645" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10647" href="Ledger.Conway.Transaction.html#2920" class="Field">mint</a><a id="10651" class="Symbol">)</a> <a id="10653" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10655" href="Ledger.Conway.Utxo.Properties.html#10612" class="Bound">u</a> <a id="10657" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10659" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a><a id="10664" class="Symbol">)</a> <a id="10666" class="Symbol">(</a><a id="10667" href="Ledger.Conway.TokenAlgebra.html#1068" class="Function">coin∘inject≗id</a> <a id="10682" class="Symbol">_)</a> <a id="10685" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10691" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="10696" class="Symbol">(</a><a id="10697" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="10705" class="Symbol">(</a><a id="10706" href="Ledger.Conway.Utxo.Properties.html#9840" class="Bound">utxo</a> <a id="10711" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10713" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="10718" class="Symbol">)</a> <a id="10720" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10722" href="Ledger.Conway.Transaction.html#2920" class="Field">mint</a><a id="10726" class="Symbol">)</a> <a id="10728" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10730" href="Ledger.Conway.Utxo.Properties.html#9881" class="Bound">dRefs</a> <a id="10736" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10738" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a>
      <a id="10750" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10753" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10758" class="Symbol">(λ</a> <a id="10761" href="Ledger.Conway.Utxo.Properties.html#10761" class="Bound">u</a> <a id="10763" class="Symbol">→</a> <a id="10765" href="Ledger.Conway.Utxo.Properties.html#10761" class="Bound">u</a> <a id="10767" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10769" href="Ledger.Conway.Utxo.Properties.html#9881" class="Bound">dRefs</a> <a id="10775" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10777" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a><a id="10782" class="Symbol">)</a> <a id="10784" class="Symbol">(</a><a id="10785" href="Ledger.Conway.Utxo.Properties.html#7594" class="Function">∙-homo-Coin</a> <a id="10797" class="Symbol">_</a> <a id="10799" class="Symbol">_)</a> <a id="10802" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10808" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="10817" class="Symbol">(</a><a id="10818" href="Ledger.Conway.Utxo.Properties.html#9840" class="Bound">utxo</a> <a id="10823" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10825" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="10830" class="Symbol">)</a> <a id="10832" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10834" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="10839" href="Ledger.Conway.Transaction.html#2920" class="Field">mint</a> <a id="10844" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10846" href="Ledger.Conway.Utxo.Properties.html#9881" class="Bound">dRefs</a> <a id="10852" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10854" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a>
      <a id="10866" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10869" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10874" class="Symbol">(λ</a> <a id="10877" href="Ledger.Conway.Utxo.Properties.html#10877" class="Bound">x</a> <a id="10879" class="Symbol">→</a> <a id="10881" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="10890" class="Symbol">(</a><a id="10891" href="Ledger.Conway.Utxo.Properties.html#9840" class="Bound">utxo</a> <a id="10896" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10898" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="10903" class="Symbol">)</a> <a id="10905" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10907" href="Ledger.Conway.Utxo.Properties.html#10877" class="Bound">x</a> <a id="10909" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10911" href="Ledger.Conway.Utxo.Properties.html#9881" class="Bound">dRefs</a> <a id="10917" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10919" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a><a id="10924" class="Symbol">)</a> <a id="10926" href="Ledger.Conway.Utxo.Properties.html#9827" class="Bound">h</a> <a id="10928" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10934" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="10943" class="Symbol">(</a><a id="10944" href="Ledger.Conway.Utxo.Properties.html#9840" class="Bound">utxo</a> <a id="10949" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10951" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="10956" class="Symbol">)</a> <a id="10958" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10960" class="Number">0</a> <a id="10962" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10964" href="Ledger.Conway.Utxo.Properties.html#9881" class="Bound">dRefs</a> <a id="10970" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10972" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a>
      <a id="10984" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10987" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10992" class="Symbol">(λ</a> <a id="10995" href="Ledger.Conway.Utxo.Properties.html#10995" class="Bound">x</a> <a id="10997" class="Symbol">→</a> <a id="10999" href="Ledger.Conway.Utxo.Properties.html#10995" class="Bound">x</a> <a id="11001" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11003" href="Ledger.Conway.Utxo.Properties.html#9881" class="Bound">dRefs</a> <a id="11009" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11011" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a><a id="11016" class="Symbol">)</a> <a id="11018" class="Symbol">(</a><a id="11019" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="11031" class="Symbol">(</a><a id="11032" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="11041" class="Symbol">(</a><a id="11042" href="Ledger.Conway.Utxo.Properties.html#9840" class="Bound">utxo</a> <a id="11047" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="11049" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="11054" class="Symbol">)))</a> <a id="11058" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="11064" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="11073" class="Symbol">(</a><a id="11074" href="Ledger.Conway.Utxo.Properties.html#9840" class="Bound">utxo</a> <a id="11079" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="11081" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="11086" class="Symbol">)</a> <a id="11088" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11090" href="Ledger.Conway.Utxo.Properties.html#9881" class="Bound">dRefs</a> <a id="11096" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11098" href="Ledger.Conway.Utxo.Properties.html#9930" class="Bound">sWdls</a>
      <a id="11110" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="11115" href="Ledger.Conway.Utxo.Properties.html#11115" class="Function">producedCoinEquality</a> <a id="11136" class="Symbol">:</a> <a id="11138" class="Symbol">∀</a> <a id="11140" class="Symbol">{</a><a id="11141" href="Ledger.Conway.Utxo.Properties.html#11141" class="Bound">pp</a><a id="11143" class="Symbol">}</a>
    <a id="11149" class="Symbol">→</a> <a id="11151" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="11156" class="Symbol">(</a><a id="11157" href="Ledger.Conway.Utxo.html#12540" class="Function">produced</a> <a id="11166" href="Ledger.Conway.Utxo.Properties.html#11141" class="Bound">pp</a> <a id="11169" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a> <a id="11179" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="11182" class="Symbol">)</a>
    <a id="11188" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11190" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="11199" class="Symbol">(</a><a id="11200" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="11205" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="11208" class="Symbol">)</a> <a id="11210" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11212" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a> <a id="11218" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11220" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="11232" href="Ledger.Conway.Utxo.Properties.html#11141" class="Bound">pp</a> <a id="11235" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a> <a id="11245" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a> <a id="11249" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11251" href="Ledger.Conway.Transaction.html#3134" class="Field">txdonation</a>
  <a id="11264" href="Ledger.Conway.Utxo.Properties.html#11115" class="Function">producedCoinEquality</a> <a id="11285" class="Symbol">{</a><a id="11286" href="Ledger.Conway.Utxo.Properties.html#11286" class="Bound">utxoState</a><a id="11295" class="Symbol">}</a> <a id="11297" class="Symbol">{</a><a id="11298" href="Ledger.Conway.Utxo.Properties.html#11298" class="Bound">pp</a><a id="11300" class="Symbol">}</a> <a id="11302" class="Symbol">=</a>
      <a id="11310" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="11320" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="11325" class="Symbol">(</a><a id="11326" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="11334" class="Symbol">(</a><a id="11335" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="11340" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="11343" class="Symbol">)</a> <a id="11345" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11347" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="11354" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a>
      <a id="11366" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11368" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="11375" class="Symbol">(</a><a id="11376" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="11388" href="Ledger.Conway.Utxo.Properties.html#11298" class="Bound">pp</a> <a id="11391" href="Ledger.Conway.Utxo.Properties.html#11286" class="Bound">utxoState</a> <a id="11401" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="11404" class="Symbol">)</a> <a id="11406" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11408" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="11415" href="Ledger.Conway.Transaction.html#3134" class="Field">txdonation</a><a id="11425" class="Symbol">)</a>
      <a id="11433" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11436" href="Ledger.Conway.Utxo.Properties.html#7594" class="Function">∙-homo-Coin</a> <a id="11448" class="Symbol">_</a> <a id="11450" class="Symbol">_</a> <a id="11452" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="11458" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="11463" class="Symbol">(</a><a id="11464" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="11472" class="Symbol">(</a><a id="11473" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="11478" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="11481" class="Symbol">)</a> <a id="11483" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11485" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="11492" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a>
      <a id="11504" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11506" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="11513" class="Symbol">(</a><a id="11514" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="11526" href="Ledger.Conway.Utxo.Properties.html#11298" class="Bound">pp</a> <a id="11529" href="Ledger.Conway.Utxo.Properties.html#11286" class="Bound">utxoState</a> <a id="11539" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="11542" class="Symbol">))</a> <a id="11545" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11547" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="11552" class="Symbol">(</a><a id="11553" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="11560" href="Ledger.Conway.Transaction.html#3134" class="Field">txdonation</a><a id="11570" class="Symbol">)</a>
      <a id="11578" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11581" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="11586" class="Symbol">(</a><a id="11587" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="11590" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="11595" class="Symbol">(</a><a id="11596" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="11603" href="Ledger.Conway.Transaction.html#3134" class="Field">txdonation</a><a id="11613" class="Symbol">))</a> <a id="11616" class="Symbol">(</a><a id="11617" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="11631" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="11636" class="Symbol">(</a><a id="11637" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="11645" class="Symbol">(</a><a id="11646" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="11651" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="11654" class="Symbol">)</a> <a id="11656" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11658" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="11665" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a>
          <a id="11681" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11683" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="11690" class="Symbol">(</a><a id="11691" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="11703" href="Ledger.Conway.Utxo.Properties.html#11298" class="Bound">pp</a> <a id="11706" href="Ledger.Conway.Utxo.Properties.html#11286" class="Bound">utxoState</a> <a id="11716" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="11719" class="Symbol">))</a>
          <a id="11732" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11735" href="Ledger.Conway.Utxo.Properties.html#7594" class="Function">∙-homo-Coin</a> <a id="11747" class="Symbol">_</a> <a id="11749" class="Symbol">_</a> <a id="11751" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11761" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="11766" class="Symbol">(</a><a id="11767" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="11775" class="Symbol">(</a><a id="11776" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="11781" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="11784" class="Symbol">)</a> <a id="11786" href="Ledger.Conway.TokenAlgebra.html#726" class="Function Operator">+ᵛ</a> <a id="11789" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="11796" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a><a id="11801" class="Symbol">)</a>
          <a id="11813" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11817" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="11822" class="Symbol">(</a><a id="11823" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="11830" class="Symbol">(</a><a id="11831" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="11843" href="Ledger.Conway.Utxo.Properties.html#11298" class="Bound">pp</a> <a id="11846" href="Ledger.Conway.Utxo.Properties.html#11286" class="Bound">utxoState</a> <a id="11856" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="11859" class="Symbol">))</a>
<a id="11862" class="Comment">--          ≡⟨ cong! (property _) ⟩</a>
          <a id="11908" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11911" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="11917" class="Symbol">(</a><a id="11918" href="Ledger.Conway.TokenAlgebra.html#1068" class="Function">coin∘inject≗id</a> <a id="11933" class="Symbol">_)</a> <a id="11936" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11946" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="11951" class="Symbol">(</a><a id="11952" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="11960" class="Symbol">(</a><a id="11961" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="11966" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="11969" class="Symbol">)</a> <a id="11971" href="Ledger.Conway.TokenAlgebra.html#726" class="Function Operator">+ᵛ</a> <a id="11974" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="11981" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a><a id="11986" class="Symbol">)</a>
          <a id="11998" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="12002" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="12014" href="Ledger.Conway.Utxo.Properties.html#11298" class="Bound">pp</a> <a id="12017" href="Ledger.Conway.Utxo.Properties.html#11286" class="Bound">utxoState</a> <a id="12027" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a>
          <a id="12041" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12044" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="12050" class="Symbol">(</a><a id="12051" href="Ledger.Conway.Utxo.Properties.html#7594" class="Function">∙-homo-Coin</a> <a id="12063" class="Symbol">_</a> <a id="12065" class="Symbol">_)</a> <a id="12068" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="12078" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="12083" class="Symbol">(</a><a id="12084" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="12092" class="Symbol">(</a><a id="12093" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="12098" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="12101" class="Symbol">))</a> <a id="12104" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="12108" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="12113" class="Symbol">(</a><a id="12114" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="12121" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a><a id="12126" class="Symbol">)</a>
          <a id="12138" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="12142" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="12154" href="Ledger.Conway.Utxo.Properties.html#11298" class="Bound">pp</a> <a id="12157" href="Ledger.Conway.Utxo.Properties.html#11286" class="Bound">utxoState</a> <a id="12167" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a>
          <a id="12181" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12184" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="12189" class="Symbol">(λ</a> <a id="12192" href="Ledger.Conway.Utxo.Properties.html#12192" class="Bound">x</a> <a id="12194" class="Symbol">→</a> <a id="12196" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="12205" class="Symbol">(</a><a id="12206" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="12211" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="12214" class="Symbol">)</a> <a id="12216" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12218" href="Ledger.Conway.Utxo.Properties.html#12192" class="Bound">x</a> <a id="12220" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12222" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="12234" href="Ledger.Conway.Utxo.Properties.html#11298" class="Bound">pp</a> <a id="12237" href="Ledger.Conway.Utxo.Properties.html#11286" class="Bound">utxoState</a> <a id="12247" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="12250" class="Symbol">)</a>
<a id="12252" class="Comment">--                $ property txfee ⟩</a>
                <a id="12305" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12307" href="Ledger.Conway.TokenAlgebra.html#1068" class="Function">coin∘inject≗id</a> <a id="12322" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a> <a id="12328" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="12338" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="12347" class="Symbol">(</a><a id="12348" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="12353" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="12356" class="Symbol">)</a> <a id="12358" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12360" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a> <a id="12366" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12368" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="12380" href="Ledger.Conway.Utxo.Properties.html#11298" class="Bound">pp</a> <a id="12383" href="Ledger.Conway.Utxo.Properties.html#11286" class="Bound">utxoState</a> <a id="12393" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a>
          <a id="12407" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="12415" class="Symbol">)</a><a id="12416" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12422" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="12431" class="Symbol">(</a><a id="12432" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="12437" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="12440" class="Symbol">)</a> <a id="12442" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12444" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a>
      <a id="12456" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12458" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="12470" href="Ledger.Conway.Utxo.Properties.html#11298" class="Bound">pp</a> <a id="12473" href="Ledger.Conway.Utxo.Properties.html#11286" class="Bound">utxoState</a> <a id="12483" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a> <a id="12487" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12489" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="12494" class="Symbol">(</a><a id="12495" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="12502" href="Ledger.Conway.Transaction.html#3134" class="Field">txdonation</a><a id="12512" class="Symbol">)</a>
      <a id="12520" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12523" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="12528" class="Symbol">(</a><a id="12529" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="12538" class="Symbol">(</a><a id="12539" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="12544" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="12547" class="Symbol">)</a> <a id="12549" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12551" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a> <a id="12557" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12559" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="12571" href="Ledger.Conway.Utxo.Properties.html#11298" class="Bound">pp</a> <a id="12574" href="Ledger.Conway.Utxo.Properties.html#11286" class="Bound">utxoState</a> <a id="12584" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a> <a id="12588" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="12590" class="Symbol">)</a>
<a id="12592" class="Comment">--            $ property _ ⟩</a>
            <a id="12633" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12635" href="Ledger.Conway.TokenAlgebra.html#1068" class="Function">coin∘inject≗id</a> <a id="12650" class="Symbol">_</a> <a id="12652" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12658" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="12667" class="Symbol">(</a><a id="12668" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="12673" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="12676" class="Symbol">)</a> <a id="12678" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12680" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a> <a id="12686" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12688" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="12700" href="Ledger.Conway.Utxo.Properties.html#11298" class="Bound">pp</a> <a id="12703" href="Ledger.Conway.Utxo.Properties.html#11286" class="Bound">utxoState</a> <a id="12713" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a> <a id="12717" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12719" href="Ledger.Conway.Transaction.html#3134" class="Field">txdonation</a>
      <a id="12736" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="12741" href="Ledger.Conway.Utxo.Properties.html#12741" class="Function">balValueToCoin</a> <a id="12756" class="Symbol">:</a> <a id="12758" class="Symbol">∀</a> <a id="12760" class="Symbol">{</a><a id="12761" href="Ledger.Conway.Utxo.Properties.html#12761" class="Bound">pp</a><a id="12763" class="Symbol">}</a>
    <a id="12769" class="Symbol">→</a> <a id="12771" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="12776" href="Ledger.Conway.Transaction.html#2920" class="Field">mint</a> <a id="12781" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12783" class="Number">0</a>
    <a id="12789" class="Symbol">→</a> <a id="12791" href="Ledger.Conway.Utxo.html#12332" class="Function">consumed</a> <a id="12800" href="Ledger.Conway.Utxo.Properties.html#12761" class="Bound">pp</a> <a id="12803" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a> <a id="12813" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a> <a id="12817" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12819" href="Ledger.Conway.Utxo.html#12540" class="Function">produced</a> <a id="12828" href="Ledger.Conway.Utxo.Properties.html#12761" class="Bound">pp</a> <a id="12831" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a> <a id="12841" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a>
    <a id="12849" class="Symbol">→</a> <a id="12851" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="12860" class="Symbol">((</a><a id="12862" href="Ledger.Conway.Utxo.html#2811" class="Field">UTxOState.utxo</a> <a id="12877" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a><a id="12886" class="Symbol">)</a> <a id="12888" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12890" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="12895" class="Symbol">)</a>
    <a id="12901" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12903" href="Ledger.Conway.Utxo.html#12074" class="Function">depositRefunds</a> <a id="12918" href="Ledger.Conway.Utxo.Properties.html#12761" class="Bound">pp</a> <a id="12921" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a> <a id="12931" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a> <a id="12935" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12937" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="12945" href="Ledger.Conway.Transaction.html#3030" class="Field">txwdrls</a>
    <a id="12957" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12959" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="12968" class="Symbol">(</a><a id="12969" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="12974" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="12977" class="Symbol">)</a> <a id="12979" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12981" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a> <a id="12987" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12989" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="13001" href="Ledger.Conway.Utxo.Properties.html#12761" class="Bound">pp</a> <a id="13004" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a> <a id="13014" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a> <a id="13018" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13020" href="Ledger.Conway.Transaction.html#3134" class="Field">txdonation</a>
  <a id="13033" href="Ledger.Conway.Utxo.Properties.html#12741" class="Function">balValueToCoin</a> <a id="13048" class="Symbol">{</a><a id="13049" href="Ledger.Conway.Utxo.Properties.html#13049" class="Bound">utxoState</a><a id="13058" class="Symbol">}</a> <a id="13060" class="Symbol">{</a><a id="13061" href="Ledger.Conway.Utxo.Properties.html#13061" class="Bound">pp</a><a id="13063" class="Symbol">}</a> <a id="13065" href="Ledger.Conway.Utxo.Properties.html#13065" class="Bound">h</a> <a id="13067" href="Ledger.Conway.Utxo.Properties.html#13067" class="Bound">h&#39;</a> <a id="13070" class="Symbol">=</a> <a id="13072" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="13082" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="13091" class="Symbol">((</a><a id="13093" href="Ledger.Conway.Utxo.html#2811" class="Field">UTxOState.utxo</a> <a id="13108" href="Ledger.Conway.Utxo.Properties.html#13049" class="Bound">utxoState</a><a id="13117" class="Symbol">)</a> <a id="13119" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="13121" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a><a id="13126" class="Symbol">)</a> <a id="13128" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13130" href="Ledger.Conway.Utxo.html#12074" class="Function">depositRefunds</a> <a id="13145" href="Ledger.Conway.Utxo.Properties.html#13061" class="Bound">pp</a> <a id="13148" href="Ledger.Conway.Utxo.Properties.html#13049" class="Bound">utxoState</a> <a id="13158" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a> <a id="13162" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13164" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="13172" href="Ledger.Conway.Transaction.html#3030" class="Field">txwdrls</a>
      <a id="13186" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="13190" href="Ledger.Conway.Utxo.Properties.html#9594" class="Function">consumedCoinEquality</a> <a id="13211" class="Symbol">{</a><a id="13212" href="Ledger.Conway.Utxo.Properties.html#13049" class="Bound">utxoState</a><a id="13221" class="Symbol">}</a> <a id="13223" class="Symbol">{</a><a id="13224" href="Ledger.Conway.Utxo.Properties.html#13061" class="Bound">pp</a><a id="13226" class="Symbol">}</a> <a id="13228" href="Ledger.Conway.Utxo.Properties.html#13065" class="Bound">h</a> <a id="13230" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="13236" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="13241" class="Symbol">(</a><a id="13242" href="Ledger.Conway.Utxo.html#12332" class="Function">consumed</a> <a id="13251" href="Ledger.Conway.Utxo.Properties.html#13061" class="Bound">pp</a> <a id="13254" href="Ledger.Conway.Utxo.Properties.html#13049" class="Bound">utxoState</a> <a id="13264" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="13267" class="Symbol">)</a>
      <a id="13275" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="13278" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="13284" href="Ledger.Conway.Utxo.Properties.html#13067" class="Bound">h&#39;</a> <a id="13287" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="13293" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="13298" class="Symbol">(</a><a id="13299" href="Ledger.Conway.Utxo.html#12540" class="Function">produced</a> <a id="13308" href="Ledger.Conway.Utxo.Properties.html#13061" class="Bound">pp</a> <a id="13311" href="Ledger.Conway.Utxo.Properties.html#13049" class="Bound">utxoState</a> <a id="13321" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="13324" class="Symbol">)</a>
      <a id="13332" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="13335" href="Ledger.Conway.Utxo.Properties.html#11115" class="Function">producedCoinEquality</a> <a id="13356" class="Symbol">{</a><a id="13357" href="Ledger.Conway.Utxo.Properties.html#13049" class="Bound">utxoState</a><a id="13366" class="Symbol">}</a> <a id="13368" class="Symbol">{</a><a id="13369" href="Ledger.Conway.Utxo.Properties.html#13061" class="Bound">pp</a><a id="13371" class="Symbol">}</a> <a id="13373" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="13379" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="13388" class="Symbol">(</a><a id="13389" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="13394" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a><a id="13397" class="Symbol">)</a> <a id="13399" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13401" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a> <a id="13407" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13409" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="13421" href="Ledger.Conway.Utxo.Properties.html#13061" class="Bound">pp</a> <a id="13424" href="Ledger.Conway.Utxo.Properties.html#13049" class="Bound">utxoState</a> <a id="13434" href="Ledger.Conway.Utxo.Properties.html#9143" class="Bound">txb</a> <a id="13438" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13440" href="Ledger.Conway.Transaction.html#3134" class="Field">txdonation</a>
      <a id="13457" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="posPart-negPart≡x"></a><a id="13460" href="Ledger.Conway.Utxo.Properties.html#13460" class="Function">posPart-negPart≡x</a> <a id="13478" class="Symbol">:</a> <a id="13480" class="Symbol">{</a><a id="13481" href="Ledger.Conway.Utxo.Properties.html#13481" class="Bound">x</a> <a id="13483" class="Symbol">:</a> <a id="13485" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="13486" class="Symbol">}</a> <a id="13488" class="Symbol">→</a> <a id="13490" href="Prelude.html#3167" class="Function">posPart</a> <a id="13498" href="Ledger.Conway.Utxo.Properties.html#13481" class="Bound">x</a> <a id="13500" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="13502" href="Prelude.html#3244" class="Function">negPart</a> <a id="13510" href="Ledger.Conway.Utxo.Properties.html#13481" class="Bound">x</a> <a id="13512" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13514" href="Ledger.Conway.Utxo.Properties.html#13481" class="Bound">x</a>
<a id="13516" href="Ledger.Conway.Utxo.Properties.html#13460" class="Function">posPart-negPart≡x</a> <a id="13534" class="Symbol">{</a><a id="13535" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="13540" href="Ledger.Conway.Utxo.Properties.html#13540" class="Bound">n</a><a id="13541" class="Symbol">}</a>     <a id="13547" class="Symbol">=</a> <a id="13549" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="13554" href="Ledger.Conway.Utxo.Properties.html#13460" class="Function">posPart-negPart≡x</a> <a id="13572" class="Symbol">{</a><a id="13573" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="13582" href="Ledger.Conway.Utxo.Properties.html#13582" class="Bound">n</a><a id="13583" class="Symbol">}</a> <a id="13585" class="Symbol">=</a> <a id="13587" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="χ"></a><a id="13593" href="Ledger.Conway.Utxo.Properties.html#13593" class="Function">χ</a> <a id="13595" class="Symbol">:</a> <a id="13597" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="13602" class="Symbol">→</a> <a id="13604" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="13606" href="Ledger.Conway.Utxo.Properties.html#13593" class="Function">χ</a> <a id="13608" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>  <a id="13615" class="Symbol">=</a> <a id="13617" class="Number">0</a>
<a id="13619" href="Ledger.Conway.Utxo.Properties.html#13593" class="Function">χ</a> <a id="13621" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>   <a id="13628" class="Symbol">=</a> <a id="13630" class="Number">1</a>

<a id="13633" class="Keyword">module</a> <a id="13640" href="Ledger.Conway.Utxo.Properties.html#13640" class="Module">DepositHelpers</a>
  <a id="13657" class="Symbol">{</a><a id="13658" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="13663" href="Ledger.Conway.Utxo.Properties.html#13663" class="Bound">utxo&#39;</a> <a id="13669" class="Symbol">:</a> <a id="13671" href="Ledger.Conway.Transaction.html#2473" class="Function">UTxO</a><a id="13675" class="Symbol">}</a>
  <a id="13679" class="Symbol">{</a><a id="13680" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="13685" href="Ledger.Conway.Utxo.Properties.html#13685" class="Bound">fees&#39;</a> <a id="13691" class="Symbol">:</a> <a id="13693" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13697" class="Symbol">}</a>
  <a id="13701" class="Symbol">{</a><a id="13702" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a> <a id="13711" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="13721" class="Symbol">:</a> <a id="13723" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a><a id="13731" class="Symbol">}</a>
  <a id="13735" class="Symbol">{</a><a id="13736" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="13746" href="Ledger.Conway.Utxo.Properties.html#13746" class="Bound">donations&#39;</a> <a id="13757" class="Symbol">:</a> <a id="13759" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13763" class="Symbol">}</a>
  <a id="13767" class="Symbol">{</a><a id="13768" href="Ledger.Conway.Utxo.Properties.html#13768" class="Bound">tx</a> <a id="13771" class="Symbol">:</a> <a id="13773" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a><a id="13775" class="Symbol">}</a> <a id="13777" class="Symbol">(</a><a id="13778" class="Keyword">let</a> <a id="13782" class="Keyword">open</a> <a id="13787" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a> <a id="13790" href="Ledger.Conway.Utxo.Properties.html#13768" class="Bound">tx</a> <a id="13793" class="Keyword">renaming</a> <a id="13802" class="Symbol">(</a><a id="13803" href="Ledger.Conway.Transaction.html#4338" class="Field">body</a> <a id="13808" class="Symbol">to</a> <a id="13811" class="Field">txb</a><a id="13814" class="Symbol">);</a> <a id="13817" class="Keyword">open</a> <a id="13822" href="Ledger.Conway.Transaction.html#2762" class="Module">TxBody</a> <a id="13829" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a><a id="13832" class="Symbol">)</a>
  <a id="13836" class="Symbol">{</a><a id="13837" href="Ledger.Conway.Utxo.Properties.html#13837" class="Bound">Γ</a> <a id="13839" class="Symbol">:</a> <a id="13841" href="Ledger.Conway.Utxo.html#2395" class="Record">UTxOEnv</a><a id="13848" class="Symbol">}</a>
  <a id="13852" class="Symbol">(</a><a id="13853" href="Ledger.Conway.Utxo.Properties.html#13853" class="Bound">step</a>  <a id="13859" class="Symbol">:</a> <a id="13861" href="Ledger.Conway.Utxo.Properties.html#13837" class="Bound">Γ</a> <a id="13863" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⊢</a> <a id="13865" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="13867" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a>  <a id="13873" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13875" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a>  <a id="13881" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13883" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a>  <a id="13893" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13895" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a>  <a id="13906" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a> <a id="13908" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⇀⦇</a> <a id="13911" href="Ledger.Conway.Utxo.Properties.html#13768" class="Bound">tx</a> <a id="13914" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">,UTXO⦈</a>
               <a id="13936" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="13938" href="Ledger.Conway.Utxo.Properties.html#13663" class="Bound">utxo&#39;</a> <a id="13944" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13946" href="Ledger.Conway.Utxo.Properties.html#13685" class="Bound">fees&#39;</a> <a id="13952" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13954" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="13964" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13966" href="Ledger.Conway.Utxo.Properties.html#13746" class="Bound">donations&#39;</a> <a id="13977" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a><a id="13978" class="Symbol">)</a>
  <a id="13982" class="Symbol">(</a><a id="13983" href="Ledger.Conway.Utxo.Properties.html#13983" class="Bound">h&#39;</a> <a id="13986" class="Symbol">:</a> <a id="13988" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="13993" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="13995" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="14000" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="14006" class="Symbol">(</a><a id="14007" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14011" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a><a id="14015" class="Symbol">))</a>
  <a id="14020" class="Keyword">where</a>
  <a id="14028" class="Keyword">open</a> <a id="14033" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="14072" class="Symbol">{</a><a id="14073" class="Argument">A</a> <a id="14075" class="Symbol">=</a> <a id="14077" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="14078" class="Symbol">}</a> <a id="14080" class="Symbol">(</a><a id="14081" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html#574" class="Function">solve-macro</a> <a id="14093" class="Symbol">(</a><a id="14094" class="Keyword">quoteTerm</a> <a id="14104" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="14114" class="Symbol">))</a>

  <a id="14120" class="Keyword">private</a>
    <a id="14132" href="Ledger.Conway.Utxo.Properties.html#14132" class="Function">stepS</a> <a id="14138" class="Symbol">:</a> <a id="14140" href="Ledger.Conway.Utxo.Properties.html#13837" class="Bound">Γ</a> <a id="14142" href="Ledger.Conway.Utxo.html#12931" class="Datatype Operator">⊢</a> <a id="14144" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="14146" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a>  <a id="14152" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14154" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a>  <a id="14160" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14162" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a>  <a id="14172" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14174" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a>  <a id="14185" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a> <a id="14187" href="Ledger.Conway.Utxo.html#12931" class="Datatype Operator">⇀⦇</a> <a id="14190" href="Ledger.Conway.Utxo.Properties.html#13768" class="Bound">tx</a> <a id="14193" href="Ledger.Conway.Utxo.html#12931" class="Datatype Operator">,UTXOS⦈</a>
                <a id="14217" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="14219" href="Ledger.Conway.Utxo.Properties.html#13663" class="Bound">utxo&#39;</a> <a id="14225" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14227" href="Ledger.Conway.Utxo.Properties.html#13685" class="Bound">fees&#39;</a> <a id="14233" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14235" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="14245" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14247" href="Ledger.Conway.Utxo.Properties.html#13746" class="Bound">donations&#39;</a> <a id="14258" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>
    <a id="14264" href="Ledger.Conway.Utxo.Properties.html#14132" class="Function">stepS</a> <a id="14270" class="Symbol">=</a> <a id="14272" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="14277" href="Ledger.Conway.Utxo.Properties.html#13853" class="Bound">step</a> <a id="14282" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="14285" class="Symbol">λ</a> <a id="14287" class="Keyword">where</a>
      <a id="14299" class="Symbol">(</a><a id="14300" href="Ledger.Conway.Utxo.html#15429" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="14316" class="Symbol">_</a> <a id="14318" class="Symbol">_</a> <a id="14320" class="Symbol">_</a> <a id="14322" class="Symbol">_</a> <a id="14324" class="Symbol">_</a> <a id="14326" class="Symbol">_</a> <a id="14328" class="Symbol">_</a> <a id="14330" class="Symbol">_</a> <a id="14332" class="Symbol">_</a> <a id="14334" class="Symbol">_</a> <a id="14336" class="Symbol">_</a> <a id="14338" class="Symbol">_</a> <a id="14340" class="Symbol">_</a> <a id="14342" class="Symbol">_</a> <a id="14344" class="Symbol">_</a> <a id="14346" class="Symbol">_</a> <a id="14348" class="Symbol">_</a> <a id="14350" class="Symbol">_</a> <a id="14352" class="Symbol">_</a> <a id="14354" href="Ledger.Conway.Utxo.Properties.html#14354" class="Bound">h</a><a id="14355" class="Symbol">)</a> <a id="14357" class="Symbol">→</a> <a id="14359" href="Ledger.Conway.Utxo.Properties.html#14354" class="Bound">h</a>

    <a id="14366" href="Ledger.Conway.Utxo.Properties.html#14366" class="Function">pp</a> <a id="14369" class="Symbol">:</a> <a id="14371" href="Ledger.Conway.PParams.html#1605" class="Record">PParams</a>
    <a id="14383" href="Ledger.Conway.Utxo.Properties.html#14366" class="Function">pp</a> <a id="14386" class="Symbol">=</a> <a id="14388" href="Ledger.Conway.Utxo.html#2449" class="Field">UTxOEnv.pparams</a> <a id="14404" href="Ledger.Conway.Utxo.Properties.html#13837" class="Bound">Γ</a>
    <a id="14410" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="14414" class="Symbol">:</a> <a id="14416" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14425" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="14429" class="Symbol">=</a> <a id="14431" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14439" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a>
    <a id="14452" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="14457" class="Symbol">:</a> <a id="14459" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14468" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="14473" class="Symbol">=</a> <a id="14475" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14483" class="Symbol">(</a><a id="14484" href="Ledger.Conway.Utxo.html#9339" class="Function">updateDeposits</a> <a id="14499" href="Ledger.Conway.Utxo.Properties.html#14366" class="Function">pp</a> <a id="14502" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a> <a id="14506" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a><a id="14514" class="Symbol">)</a>
    <a id="14520" href="Ledger.Conway.Utxo.Properties.html#14520" class="Function">Δdep</a> <a id="14525" class="Symbol">:</a> <a id="14527" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
    <a id="14533" href="Ledger.Conway.Utxo.Properties.html#14520" class="Function">Δdep</a> <a id="14538" class="Symbol">=</a> <a id="14540" href="Ledger.Conway.Utxo.html#9746" class="Function">depositsChange</a> <a id="14555" href="Ledger.Conway.Utxo.Properties.html#14366" class="Function">pp</a> <a id="14558" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a> <a id="14562" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a>
    <a id="14575" href="Ledger.Conway.Utxo.Properties.html#14575" class="Function">utxoSt</a> <a id="14582" class="Symbol">:</a> <a id="14584" href="Ledger.Conway.Utxo.html#2747" class="Record">UTxOState</a>
    <a id="14598" href="Ledger.Conway.Utxo.Properties.html#14575" class="Function">utxoSt</a> <a id="14605" class="Symbol">=</a> <a id="14607" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="14609" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="14614" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14616" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="14621" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14623" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a> <a id="14632" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14634" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="14644" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>
    <a id="14650" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="14654" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="14658" class="Symbol">:</a> <a id="14660" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14669" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="14673" class="Symbol">=</a> <a id="14675" href="Ledger.Conway.Utxo.html#12074" class="Function">depositRefunds</a> <a id="14690" href="Ledger.Conway.Utxo.Properties.html#14366" class="Function">pp</a> <a id="14693" href="Ledger.Conway.Utxo.Properties.html#14575" class="Function">utxoSt</a> <a id="14700" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a>
    <a id="14708" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="14713" class="Symbol">=</a> <a id="14715" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14723" href="Ledger.Conway.Transaction.html#3030" class="Function">txwdrls</a>
    <a id="14735" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="14739" class="Symbol">=</a> <a id="14741" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a>    <a id="14756" href="Ledger.Conway.Utxo.Properties.html#14366" class="Function">pp</a> <a id="14759" href="Ledger.Conway.Utxo.Properties.html#14575" class="Function">utxoSt</a> <a id="14766" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a>
    <a id="14774" href="Ledger.Conway.Utxo.Properties.html#14774" class="Function">h</a> <a id="14776" class="Symbol">:</a> <a id="14778" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="14787" class="Symbol">(</a><a id="14788" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14792" class="Symbol">(</a><a id="14793" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="14798" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="14800" href="Ledger.Conway.Transaction.html#2798" class="Function">txins</a> <a id="14806" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="14807" class="Symbol">))</a> <a id="14810" class="Symbol">(</a><a id="14811" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14815" class="Symbol">(</a><a id="14816" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="14821" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a><a id="14824" class="Symbol">))</a>
    <a id="14831" href="Ledger.Conway.Utxo.Properties.html#14774" class="Function">h</a> <a id="14833" class="Symbol">=</a> <a id="14835" class="Symbol">λ</a> <a id="14837" href="Ledger.Conway.Utxo.Properties.html#14837" class="Bound">h₁</a> <a id="14840" href="Ledger.Conway.Utxo.Properties.html#14840" class="Bound">h₂</a> <a id="14843" class="Symbol">→</a> <a id="14845" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="14849" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14851" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="14857" class="Symbol">(</a><a id="14858" href="Ledger.Conway.Utxo.Properties.html#9294" class="Function">newTxid⇒disj</a> <a id="14871" class="Symbol">{</a><a id="14872" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a><a id="14875" class="Symbol">}</a> <a id="14877" class="Symbol">{</a><a id="14878" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a><a id="14882" class="Symbol">}</a> <a id="14884" href="Ledger.Conway.Utxo.Properties.html#13983" class="Bound">h&#39;</a><a id="14886" class="Symbol">)</a>
                      <a id="14910" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14912" href="Function.Bundles.html#4810" class="Field">to</a> <a id="14915" href="Axiom.Set.html#9351" class="Function">∈-∩</a> <a id="14919" class="Symbol">(</a><a id="14920" href="Axiom.Set.Rel.html#7214" class="Function">res-comp-domᵐ</a> <a id="14934" href="Ledger.Conway.Utxo.Properties.html#14837" class="Bound">h₁</a> <a id="14937" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14939" href="Ledger.Conway.Utxo.Properties.html#14840" class="Bound">h₂</a><a id="14941" class="Symbol">)</a>
    <a id="14947" href="Ledger.Conway.Utxo.Properties.html#14947" class="Function">newBal&#39;</a> <a id="14955" class="Symbol">:</a> <a id="14957" href="Ledger.Conway.Utxo.Properties.html#13837" class="Bound">Γ</a> <a id="14959" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⊢</a> <a id="14961" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="14963" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a>  <a id="14969" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14971" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a>  <a id="14977" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14979" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a>  <a id="14989" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14991" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a>  <a id="15002" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a> <a id="15004" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⇀⦇</a> <a id="15007" href="Ledger.Conway.Utxo.Properties.html#13768" class="Bound">tx</a> <a id="15010" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">,UTXO⦈</a>
                  <a id="15035" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="15037" href="Ledger.Conway.Utxo.Properties.html#13663" class="Bound">utxo&#39;</a> <a id="15043" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15045" href="Ledger.Conway.Utxo.Properties.html#13685" class="Bound">fees&#39;</a> <a id="15051" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15053" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="15063" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15065" href="Ledger.Conway.Utxo.Properties.html#13746" class="Bound">donations&#39;</a> <a id="15076" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>
            <a id="15090" class="Symbol">→</a> <a id="15092" href="Ledger.Conway.Utxo.html#12332" class="Function">consumed</a> <a id="15101" href="Ledger.Conway.Utxo.Properties.html#14366" class="Function">pp</a> <a id="15104" href="Ledger.Conway.Utxo.Properties.html#14575" class="Function">utxoSt</a> <a id="15111" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a> <a id="15115" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15117" href="Ledger.Conway.Utxo.html#12540" class="Function">produced</a> <a id="15126" href="Ledger.Conway.Utxo.Properties.html#14366" class="Function">pp</a> <a id="15129" href="Ledger.Conway.Utxo.Properties.html#14575" class="Function">utxoSt</a> <a id="15136" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a>
    <a id="15144" href="Ledger.Conway.Utxo.Properties.html#14947" class="Function">newBal&#39;</a> <a id="15152" class="Symbol">(</a><a id="15153" href="Ledger.Conway.Utxo.html#15429" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="15169" class="Symbol">_</a> <a id="15171" class="Symbol">_</a> <a id="15173" class="Symbol">_</a> <a id="15175" class="Symbol">_</a> <a id="15177" class="Symbol">_</a> <a id="15179" class="Symbol">_</a> <a id="15181" class="Symbol">_</a> <a id="15183" class="Symbol">_</a> <a id="15185" href="Ledger.Conway.Utxo.Properties.html#15185" class="Bound">x</a> <a id="15187" class="Symbol">_</a> <a id="15189" class="Symbol">_</a> <a id="15191" class="Symbol">_</a> <a id="15193" class="Symbol">_</a> <a id="15195" class="Symbol">_</a> <a id="15197" class="Symbol">_</a> <a id="15199" class="Symbol">_</a> <a id="15201" class="Symbol">_</a> <a id="15203" class="Symbol">_</a> <a id="15205" class="Symbol">_</a> <a id="15207" class="Symbol">_)</a> <a id="15210" class="Symbol">=</a> <a id="15212" href="Ledger.Conway.Utxo.Properties.html#15185" class="Bound">x</a>
    <a id="15218" href="Ledger.Conway.Utxo.Properties.html#15218" class="Function">newBal</a> <a id="15225" class="Symbol">:</a> <a id="15227" href="Ledger.Conway.Utxo.html#12332" class="Function">consumed</a> <a id="15236" href="Ledger.Conway.Utxo.Properties.html#14366" class="Function">pp</a> <a id="15239" href="Ledger.Conway.Utxo.Properties.html#14575" class="Function">utxoSt</a> <a id="15246" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a> <a id="15250" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15252" href="Ledger.Conway.Utxo.html#12540" class="Function">produced</a> <a id="15261" href="Ledger.Conway.Utxo.Properties.html#14366" class="Function">pp</a> <a id="15264" href="Ledger.Conway.Utxo.Properties.html#14575" class="Function">utxoSt</a> <a id="15271" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a>
    <a id="15279" href="Ledger.Conway.Utxo.Properties.html#15218" class="Function">newBal</a> <a id="15286" class="Symbol">=</a> <a id="15288" href="Ledger.Conway.Utxo.Properties.html#14947" class="Function">newBal&#39;</a> <a id="15296" href="Ledger.Conway.Utxo.Properties.html#13853" class="Bound">step</a>
    <a id="15305" href="Ledger.Conway.Utxo.Properties.html#15305" class="Function">noMintAda&#39;</a> <a id="15316" class="Symbol">:</a> <a id="15318" href="Ledger.Conway.Utxo.Properties.html#13837" class="Bound">Γ</a> <a id="15320" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⊢</a> <a id="15322" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="15324" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a>  <a id="15330" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15332" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a>  <a id="15338" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15340" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a>  <a id="15350" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15352" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a>  <a id="15363" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a> <a id="15365" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⇀⦇</a> <a id="15368" href="Ledger.Conway.Utxo.Properties.html#13768" class="Bound">tx</a> <a id="15371" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">,UTXO⦈</a>
                     <a id="15399" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="15401" href="Ledger.Conway.Utxo.Properties.html#13663" class="Bound">utxo&#39;</a> <a id="15407" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15409" href="Ledger.Conway.Utxo.Properties.html#13685" class="Bound">fees&#39;</a> <a id="15415" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15417" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="15427" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15429" href="Ledger.Conway.Utxo.Properties.html#13746" class="Bound">donations&#39;</a> <a id="15440" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>
               <a id="15457" class="Symbol">→</a> <a id="15459" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="15464" class="Symbol">(</a><a id="15465" href="Ledger.Conway.Transaction.html#2920" class="Function">mint</a><a id="15469" class="Symbol">)</a> <a id="15471" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15473" class="Number">0</a>
    <a id="15479" href="Ledger.Conway.Utxo.Properties.html#15305" class="Function">noMintAda&#39;</a> <a id="15490" class="Symbol">(</a><a id="15491" href="Ledger.Conway.Utxo.html#15429" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="15507" class="Symbol">_</a> <a id="15509" class="Symbol">_</a> <a id="15511" class="Symbol">_</a> <a id="15513" class="Symbol">_</a> <a id="15515" class="Symbol">_</a> <a id="15517" class="Symbol">_</a> <a id="15519" class="Symbol">_</a> <a id="15521" class="Symbol">_</a> <a id="15523" class="Symbol">_</a> <a id="15525" href="Ledger.Conway.Utxo.Properties.html#15525" class="Bound">x</a> <a id="15527" class="Symbol">_</a> <a id="15529" class="Symbol">_</a> <a id="15531" class="Symbol">_</a> <a id="15533" class="Symbol">_</a> <a id="15535" class="Symbol">_</a> <a id="15537" class="Symbol">_</a> <a id="15539" class="Symbol">_</a> <a id="15541" class="Symbol">_</a> <a id="15543" class="Symbol">_</a> <a id="15545" class="Symbol">_)</a> <a id="15548" class="Symbol">=</a> <a id="15550" href="Ledger.Conway.Utxo.Properties.html#15525" class="Bound">x</a>
    <a id="15556" href="Ledger.Conway.Utxo.Properties.html#15556" class="Function">noMintAda</a> <a id="15566" class="Symbol">:</a> <a id="15568" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="15573" href="Ledger.Conway.Transaction.html#2920" class="Function">mint</a> <a id="15578" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15580" class="Number">0</a>
    <a id="15586" href="Ledger.Conway.Utxo.Properties.html#15556" class="Function">noMintAda</a> <a id="15596" class="Symbol">=</a> <a id="15598" href="Ledger.Conway.Utxo.Properties.html#15305" class="Function">noMintAda&#39;</a> <a id="15609" href="Ledger.Conway.Utxo.Properties.html#13853" class="Bound">step</a>
    <a id="15618" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="15628" class="Symbol">:</a> <a id="15630" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="15639" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="15649" class="Symbol">=</a> <a id="15651" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="15659" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a> <a id="15668" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15670" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a>

  <a id="15677" href="Ledger.Conway.Utxo.Properties.html#15677" class="Function">deposits-change&#39;</a> <a id="15694" class="Symbol">:</a> <a id="15696" href="Ledger.Conway.Utxo.Properties.html#14520" class="Function">Δdep</a> <a id="15701" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15703" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="15707" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15709" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a>
  <a id="15715" href="Ledger.Conway.Utxo.Properties.html#15677" class="Function">deposits-change&#39;</a> <a id="15732" class="Symbol">=</a> <a id="15734" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="15738" href="Ledger.Conway.Utxo.Properties.html#13460" class="Function">posPart-negPart≡x</a>

  <a id="15759" href="Ledger.Conway.Utxo.Properties.html#15759" class="Function">dep-ref</a> <a id="15767" class="Symbol">:</a> <a id="15769" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="15773" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15775" class="Number">0</a> <a id="15777" class="Symbol">→</a> <a id="15779" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="15784" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15786" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="15790" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15792" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a>
  <a id="15798" href="Ledger.Conway.Utxo.Properties.html#15759" class="Function">dep-ref</a> <a id="15806" href="Ledger.Conway.Utxo.Properties.html#15806" class="Bound">tot≡0</a> <a id="15812" class="Symbol">=</a> <a id="15814" href="Data.Integer.Properties.html#2689" class="Function">ℤ.+-injective</a> <a id="15828" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15830" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="15840" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15845" class="Symbol">(</a><a id="15846" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="15851" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15853" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a><a id="15856" class="Symbol">)</a>          <a id="15867" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15870" href="Data.Integer.Properties.html#32743" class="Function">ℤ.pos-+</a> <a id="15878" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="15883" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="15887" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="15893" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15898" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="15903" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15907" class="Symbol">(</a><a id="15908" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="15912" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15914" class="Number">0</a><a id="15915" class="Symbol">)</a>    <a id="15920" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="15924" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15929" class="Symbol">(λ</a> <a id="15932" href="Ledger.Conway.Utxo.Properties.html#15932" class="Bound">u</a> <a id="15934" class="Symbol">→</a> <a id="15936" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15941" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="15946" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15950" class="Symbol">(</a><a id="15951" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="15955" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15957" href="Ledger.Conway.Utxo.Properties.html#15932" class="Bound">u</a><a id="15958" class="Symbol">))</a> <a id="15961" href="Ledger.Conway.Utxo.Properties.html#15806" class="Bound">tot≡0</a> <a id="15967" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="15973" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15978" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="15983" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15987" class="Symbol">(</a><a id="15988" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="15992" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15994" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a><a id="15997" class="Symbol">)</a>  <a id="16000" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16003" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16008" class="Symbol">((</a><a id="16010" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="16014" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a><a id="16018" class="Symbol">)</a> <a id="16020" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="16022" class="Symbol">)</a> <a id="16024" class="Symbol">(</a><a id="16025" href="Data.Integer.Properties.html#19768" class="Function">ℤ.⊖-swap</a> <a id="16034" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="16038" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a><a id="16041" class="Symbol">)</a> <a id="16043" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16049" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16054" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16059" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="16063" class="Symbol">(</a><a id="16064" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="16068" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16070" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a><a id="16073" class="Symbol">)</a>  <a id="16076" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16080" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16085" class="Symbol">(λ</a> <a id="16088" href="Ledger.Conway.Utxo.Properties.html#16088" class="Bound">u</a> <a id="16090" class="Symbol">→</a>  <a id="16093" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16098" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16103" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="16107" href="Ledger.Conway.Utxo.Properties.html#16088" class="Bound">u</a><a id="16108" class="Symbol">)</a> <a id="16110" href="Ledger.Conway.Utxo.Properties.html#15677" class="Function">deposits-change&#39;</a> <a id="16127" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16133" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16138" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16143" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="16147" href="Ledger.Conway.Utxo.Properties.html#14520" class="Function">Δdep</a>         <a id="16160" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16164" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16169" class="Symbol">((</a><a id="16171" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="16175" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a><a id="16179" class="Symbol">)</a> <a id="16181" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="16183" class="Symbol">)</a> <a id="16185" class="Symbol">(</a><a id="16186" href="Data.Integer.Properties.html#19768" class="Function">ℤ.⊖-swap</a> <a id="16195" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="16199" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a><a id="16203" class="Symbol">)</a> <a id="16205" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16211" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16216" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16221" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16223" class="Symbol">(</a><a id="16224" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="16228" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16230" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a><a id="16234" class="Symbol">)</a>   <a id="16238" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16241" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="16260" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16265" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="16269" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16274" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16280" class="Symbol">(</a><a id="16281" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16286" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16288" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="16291" class="Symbol">)</a> <a id="16293" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16295" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a>        <a id="16307" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16310" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16315" class="Symbol">(</a><a id="16316" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="16319" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a><a id="16323" class="Symbol">)</a> <a id="16325" class="Symbol">(</a><a id="16326" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="16333" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16338" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="16341" class="Symbol">)</a> <a id="16343" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16349" class="Symbol">(</a><a id="16350" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="16354" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16356" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a><a id="16360" class="Symbol">)</a> <a id="16362" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16364" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a>        <a id="16376" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16380" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="16399" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="16403" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16408" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16413" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16419" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16424" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="16428" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16432" class="Symbol">(</a><a id="16433" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16438" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16440" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a><a id="16444" class="Symbol">)</a> <a id="16446" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16449" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16454" class="Symbol">(λ</a> <a id="16457" href="Ledger.Conway.Utxo.Properties.html#16457" class="Bound">u</a> <a id="16459" class="Symbol">→</a> <a id="16461" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16466" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="16470" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16474" href="Ledger.Conway.Utxo.Properties.html#16457" class="Bound">u</a><a id="16475" class="Symbol">)</a> <a id="16477" class="Symbol">(</a><a id="16478" href="Data.Integer.Properties.html#19485" class="Function">ℤ.n⊖n≡0</a> <a id="16486" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a><a id="16490" class="Symbol">)</a> <a id="16492" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16498" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16503" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="16507" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16511" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>          <a id="16525" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16528" href="Data.Integer.Properties.html#26987" class="Function">ℤ.+-identityʳ</a> <a id="16542" class="Symbol">_</a> <a id="16544" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16550" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16555" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="16559" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="16564" href="Ledger.Conway.Utxo.Properties.html#16564" class="Function">ref-tot-0</a> <a id="16574" class="Symbol">:</a> <a id="16576" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="16580" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="16582" class="Number">0</a> <a id="16584" class="Symbol">→</a> <a id="16586" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="16590" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16592" class="Number">0</a>
  <a id="16596" href="Ledger.Conway.Utxo.Properties.html#16564" class="Function">ref-tot-0</a> <a id="16606" href="Ledger.Conway.Utxo.Properties.html#16606" class="Bound">ref≢0</a> <a id="16612" class="Keyword">with</a> <a id="16617" href="Ledger.Conway.Utxo.Properties.html#14520" class="Function">Δdep</a>
  <a id="16624" class="Symbol">...</a> <a id="16628" class="Symbol">|</a> <a id="16630" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16635" href="Ledger.Conway.Utxo.Properties.html#16635" class="Bound">n</a>     <a id="16641" class="Symbol">=</a> <a id="16643" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="16650" class="Symbol">(</a><a id="16651" class="Bound">ref≢0</a> <a id="16657" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="16661" class="Symbol">)</a>
  <a id="16665" class="Symbol">...</a> <a id="16669" class="Symbol">|</a> <a id="16671" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="16680" href="Ledger.Conway.Utxo.Properties.html#16680" class="Bound">n</a> <a id="16682" class="Symbol">=</a> <a id="16684" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="16692" href="Ledger.Conway.Utxo.Properties.html#16692" class="Function">ref≤dep</a> <a id="16700" class="Symbol">:</a> <a id="16702" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="16706" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="16708" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a>
  <a id="16714" href="Ledger.Conway.Utxo.Properties.html#16692" class="Function">ref≤dep</a> <a id="16722" class="Keyword">with</a> <a id="16727" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="16731" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="16733" class="Number">0</a>
  <a id="16737" href="Ledger.Conway.Utxo.Properties.html#16692" class="Function">...</a> <a id="16741" class="Symbol">|</a> <a id="16743" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="16746" href="Ledger.Conway.Utxo.Properties.html#16746" class="Bound">¬p</a> <a id="16749" class="Symbol">=</a> <a id="16751" href="Data.Nat.Properties.html#66499" class="Function">≤″⇒≤</a> <a id="16756" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16758" class="Symbol">_</a> <a id="16760" href="Ledger.Conway.Utxo.Properties.html#1506" class="InductiveConstructor Operator">,≤_</a> <a id="16764" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16766" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16776" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="16780" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16782" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16787" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16790" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="16797" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="16801" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16806" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16812" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16817" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16819" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="16823" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16826" href="Ledger.Conway.Utxo.Properties.html#15759" class="Function">dep-ref</a> <a id="16834" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16836" href="Ledger.Conway.Utxo.Properties.html#16564" class="Function">ref-tot-0</a> <a id="16846" href="Ledger.Conway.Utxo.Properties.html#16746" class="Bound">¬p</a> <a id="16849" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16855" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a>        <a id="16866" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="16870" href="Ledger.Conway.Utxo.Properties.html#16692" class="Function">...</a> <a id="16874" class="Symbol">|</a> <a id="16876" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="16880" href="Ledger.Conway.Utxo.Properties.html#16880" class="Bound">p</a> <a id="16882" class="Keyword">rewrite</a> <a id="16890" href="Ledger.Conway.Utxo.Properties.html#16880" class="Bound">p</a> <a id="16892" class="Symbol">=</a> <a id="16894" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a>

  <a id="16901" href="Ledger.Conway.Utxo.Properties.html#16901" class="Function">deposits-change</a> <a id="16917" class="Symbol">:</a> <a id="16919" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="16924" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16926" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="16930" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16932" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="16936" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16938" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a>
  <a id="16944" href="Ledger.Conway.Utxo.Properties.html#16901" class="Function">deposits-change</a> <a id="16960" class="Symbol">=</a> <a id="16962" href="Data.Integer.Properties.html#2689" class="Function">ℤ.+-injective</a> <a id="16976" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16978" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16988" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16993" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a>                                 <a id="17030" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17034" href="Data.Integer.Properties.html#26987" class="Function">ℤ.+-identityʳ</a> <a id="17048" class="Symbol">_</a> <a id="17050" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="17056" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17061" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="17066" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17070" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>                        <a id="17098" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17102" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17108" class="Symbol">(</a><a id="17109" href="Data.Integer.Properties.html#30664" class="Function">ℤ.+-inverseˡ</a> <a id="17122" class="Symbol">(</a><a id="17123" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17128" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="17131" class="Symbol">))</a> <a id="17134" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="17140" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17145" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="17150" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17154" class="Symbol">(</a><a id="17155" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="17160" class="Symbol">(</a><a id="17161" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17166" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="17169" class="Symbol">)</a> <a id="17171" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17175" class="Symbol">(</a><a id="17176" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17181" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="17184" class="Symbol">))</a>
      <a id="17193" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17197" href="Data.Integer.Properties.html#28651" class="Function">ℤ.+-assoc</a> <a id="17207" class="Symbol">(</a><a id="17208" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17213" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a><a id="17217" class="Symbol">)</a> <a id="17219" class="Symbol">(</a><a id="17220" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="17225" class="Symbol">(</a><a id="17226" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17231" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="17234" class="Symbol">))</a> <a id="17237" class="Symbol">(</a><a id="17238" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17243" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="17246" class="Symbol">)</a> <a id="17248" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="17254" class="Symbol">(</a><a id="17255" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17260" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="17265" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="17269" class="Symbol">(</a><a id="17270" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17275" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="17278" class="Symbol">))</a> <a id="17281" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17285" class="Symbol">(</a><a id="17286" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17291" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="17294" class="Symbol">)</a> <a id="17296" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17299" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17305" class="Symbol">(</a><a id="17306" href="Data.Integer.Properties.html#21429" class="Function">ℤ.m-n≡m⊖n</a> <a id="17316" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a> <a id="17321" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="17324" class="Symbol">)</a> <a id="17326" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17332" href="Ledger.Conway.Utxo.Properties.html#14520" class="Function">Δdep</a> <a id="17337" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17341" class="Symbol">(</a><a id="17342" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17347" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="17350" class="Symbol">)</a>                       <a id="17374" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17377" href="Data.Integer.Properties.html#26694" class="Function">ℤ.+-comm</a> <a id="17386" href="Ledger.Conway.Utxo.Properties.html#14520" class="Function">Δdep</a> <a id="17391" class="Symbol">(</a><a id="17392" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17397" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="17400" class="Symbol">)</a> <a id="17402" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17408" class="Symbol">(</a><a id="17409" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17414" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="17417" class="Symbol">)</a> <a id="17419" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17423" href="Ledger.Conway.Utxo.Properties.html#14520" class="Function">Δdep</a>                       <a id="17450" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17453" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17459" href="Ledger.Conway.Utxo.Properties.html#15677" class="Function">deposits-change&#39;</a> <a id="17476" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17482" class="Symbol">(</a><a id="17483" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17488" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="17491" class="Symbol">)</a> <a id="17493" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17497" class="Symbol">(</a><a id="17498" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="17502" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17504" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a><a id="17507" class="Symbol">)</a>                <a id="17524" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17527" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="17546" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="17550" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="17554" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="17558" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17564" class="Symbol">(</a><a id="17565" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="17569" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17571" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a><a id="17574" class="Symbol">)</a> <a id="17576" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17578" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a>                         <a id="17606" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17609" href="Data.Integer.Properties.html#20106" class="Function">ℤ.⊖-≥</a> <a id="17615" class="Symbol">(</a><a id="17616" href="Data.Nat.Properties.html#19075" class="Function">m≤n⇒m≤n+o</a> <a id="17626" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="17630" href="Ledger.Conway.Utxo.Properties.html#16692" class="Function">ref≤dep</a><a id="17637" class="Symbol">)</a> <a id="17639" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17645" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17650" class="Symbol">(</a><a id="17651" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="17655" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17657" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="17661" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17663" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a><a id="17666" class="Symbol">)</a> <a id="17668" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="17673" href="Ledger.Conway.Utxo.Properties.html#17673" class="Function">split-balance</a> <a id="17687" class="Symbol">:</a> <a id="17689" class="Symbol">∀</a> <a id="17691" href="Ledger.Conway.Utxo.Properties.html#17691" class="Bound">keys</a> <a id="17696" class="Symbol">→</a> <a id="17698" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="17707" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="17712" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="17714" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="17723" class="Symbol">(</a><a id="17724" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="17729" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17731" href="Ledger.Conway.Utxo.Properties.html#17691" class="Bound">keys</a> <a id="17736" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17737" class="Symbol">)</a> <a id="17739" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17741" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="17750" class="Symbol">(</a><a id="17751" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="17756" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17758" href="Ledger.Conway.Utxo.Properties.html#17691" class="Bound">keys</a><a id="17762" class="Symbol">)</a>
  <a id="17766" href="Ledger.Conway.Utxo.Properties.html#17673" class="Function">split-balance</a> <a id="17780" href="Ledger.Conway.Utxo.Properties.html#17780" class="Bound">keys</a> <a id="17785" class="Symbol">=</a> <a id="17787" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
                      <a id="17815" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="17824" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a>
                        <a id="17853" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17857" href="Ledger.Conway.Utxo.Properties.html#7927" class="Function">balance-cong-coin</a> <a id="17875" class="Symbol">{</a><a id="17876" class="Argument">utxo</a> <a id="17881" class="Symbol">=</a> <a id="17883" class="Symbol">(</a><a id="17884" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="17889" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17891" href="Ledger.Conway.Utxo.Properties.html#17780" class="Bound">keys</a> <a id="17896" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17897" class="Symbol">)</a> <a id="17899" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="17902" class="Symbol">(</a><a id="17903" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="17908" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17910" href="Ledger.Conway.Utxo.Properties.html#17780" class="Bound">keys</a><a id="17914" class="Symbol">)}{</a><a id="17917" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a><a id="17921" class="Symbol">}</a>
                          <a id="17949" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17951" href="Axiom.Set.Map.html#6492" class="Function">disjoint-∪ˡ-∪</a> <a id="17965" class="Symbol">(</a><a id="17966" href="Axiom.Set.Properties.html#13237" class="Function">disjoint-sym</a> <a id="17979" href="Axiom.Set.Rel.html#8146" class="Function">res-ex-disjoint</a><a id="17994" class="Symbol">)</a>
                          <a id="18022" href="Ledger.Conway.Utxo.Properties.html#18416" class="Function Operator">≡ᵉ-∘</a> <a id="18027" href="Axiom.Set.Properties.html#10950" class="Function">∪-sym</a>
                          <a id="18059" href="Ledger.Conway.Utxo.Properties.html#18416" class="Function Operator">≡ᵉ-∘</a> <a id="18064" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="18073" class="Symbol">(</a><a id="18074" href="Axiom.Set.html#10771" class="Function Operator">_∈?</a> <a id="18078" href="Ledger.Conway.Utxo.Properties.html#17780" class="Bound">keys</a><a id="18082" class="Symbol">)</a> <a id="18084" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                      <a id="18108" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="18117" class="Symbol">((</a><a id="18119" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="18124" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18126" href="Ledger.Conway.Utxo.Properties.html#17780" class="Bound">keys</a> <a id="18131" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18132" class="Symbol">)</a> <a id="18134" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="18137" class="Symbol">(</a><a id="18138" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="18143" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="18145" href="Ledger.Conway.Utxo.Properties.html#17780" class="Bound">keys</a><a id="18149" class="Symbol">))</a>
                        <a id="18176" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="18179" href="Ledger.Conway.Utxo.Properties.html#8166" class="Function">balance-∪</a> <a id="18189" class="Symbol">{</a><a id="18190" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="18195" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18197" href="Ledger.Conway.Utxo.Properties.html#17780" class="Bound">keys</a> <a id="18202" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18203" class="Symbol">}</a> <a id="18205" class="Symbol">{</a><a id="18206" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="18211" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="18213" href="Ledger.Conway.Utxo.Properties.html#17780" class="Bound">keys</a><a id="18217" class="Symbol">}</a> <a id="18219" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="18221" href="Function.Base.html#1638" class="Function">flip</a> <a id="18226" href="Axiom.Set.Rel.html#8146" class="Function">res-ex-disjoint</a> <a id="18242" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                      <a id="18266" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="18275" class="Symbol">(</a><a id="18276" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="18281" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18283" href="Ledger.Conway.Utxo.Properties.html#17780" class="Bound">keys</a> <a id="18288" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18289" class="Symbol">)</a> <a id="18291" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18293" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="18302" class="Symbol">(</a><a id="18303" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="18308" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="18310" href="Ledger.Conway.Utxo.Properties.html#17780" class="Bound">keys</a><a id="18314" class="Symbol">)</a>
                        <a id="18340" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="18346" class="Keyword">where</a> <a id="18352" class="Keyword">open</a> <a id="18357" href="Relation.Binary.Structures.html#1550" class="Module">IsEquivalence</a> <a id="18371" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a> <a id="18388" class="Keyword">renaming</a> <a id="18397" class="Symbol">(</a><a id="18398" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="18404" class="Symbol">to</a> <a id="18407" class="Keyword">infixl</a> <a id="18414" class="Number">4</a> <a id="18416" class="Field">_≡ᵉ-∘_</a><a id="18422" class="Symbol">)</a>

  <a id="18427" class="Keyword">module</a> <a id="18434" href="Ledger.Conway.Utxo.Properties.html#18434" class="Module">_</a> <a id="18436" class="Symbol">(</a><a id="18437" href="Ledger.Conway.Utxo.Properties.html#18437" class="Bound">balanceUtxo</a> <a id="18449" href="Ledger.Conway.Utxo.Properties.html#18449" class="Bound">balanceIns</a> <a id="18460" href="Ledger.Conway.Utxo.Properties.html#18460" class="Bound">balanceNoIns</a> <a id="18473" href="Ledger.Conway.Utxo.Properties.html#18473" class="Bound">balanceOuts</a> <a id="18485" href="Ledger.Conway.Utxo.Properties.html#18485" class="Bound">balanceUtxo&#39;</a> <a id="18498" class="Symbol">:</a> <a id="18500" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="18504" class="Symbol">)</a>
           <a id="18517" class="Symbol">(</a><a id="18518" href="Ledger.Conway.Utxo.Properties.html#18518" class="Bound">ref</a> <a id="18522" href="Ledger.Conway.Utxo.Properties.html#18522" class="Bound">txfee</a> <a id="18528" href="Ledger.Conway.Utxo.Properties.html#18528" class="Bound">txdonation</a> <a id="18539" href="Ledger.Conway.Utxo.Properties.html#18539" class="Bound">tot</a> <a id="18543" class="Symbol">:</a> <a id="18545" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="18549" class="Symbol">)</a>
           <a id="18562" class="Symbol">(</a><a id="18563" href="Ledger.Conway.Utxo.Properties.html#18563" class="Bound">splitUtxo</a> <a id="18573" class="Symbol">:</a> <a id="18575" href="Ledger.Conway.Utxo.Properties.html#18437" class="Bound">balanceUtxo</a> <a id="18587" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18589" href="Ledger.Conway.Utxo.Properties.html#18460" class="Bound">balanceNoIns</a> <a id="18602" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18604" href="Ledger.Conway.Utxo.Properties.html#18449" class="Bound">balanceIns</a><a id="18614" class="Symbol">)</a>
           <a id="18627" class="Symbol">(</a><a id="18628" href="Ledger.Conway.Utxo.Properties.html#18628" class="Bound">splitUtxo&#39;</a> <a id="18639" class="Symbol">:</a> <a id="18641" href="Ledger.Conway.Utxo.Properties.html#18485" class="Bound">balanceUtxo&#39;</a> <a id="18654" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18656" href="Ledger.Conway.Utxo.Properties.html#18460" class="Bound">balanceNoIns</a> <a id="18669" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18671" href="Ledger.Conway.Utxo.Properties.html#18473" class="Bound">balanceOuts</a><a id="18682" class="Symbol">)</a>
           <a id="18695" class="Symbol">(</a><a id="18696" href="Ledger.Conway.Utxo.Properties.html#18696" class="Bound">balanced</a> <a id="18705" class="Symbol">:</a> <a id="18707" href="Ledger.Conway.Utxo.Properties.html#18449" class="Bound">balanceIns</a> <a id="18718" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18720" href="Ledger.Conway.Utxo.Properties.html#18518" class="Bound">ref</a> <a id="18724" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18726" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="18731" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18733" href="Ledger.Conway.Utxo.Properties.html#18473" class="Bound">balanceOuts</a> <a id="18745" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18747" href="Ledger.Conway.Utxo.Properties.html#18522" class="Bound">txfee</a> <a id="18753" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18755" href="Ledger.Conway.Utxo.Properties.html#18539" class="Bound">tot</a> <a id="18759" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18761" href="Ledger.Conway.Utxo.Properties.html#18528" class="Bound">txdonation</a><a id="18771" class="Symbol">)</a> <a id="18773" class="Keyword">where</a>

    <a id="18784" href="Ledger.Conway.Utxo.Properties.html#18784" class="Function">utxo-ref-prop-worker</a> <a id="18805" class="Symbol">:</a>
      <a id="18813" href="Ledger.Conway.Utxo.Properties.html#18437" class="Bound">balanceUtxo</a> <a id="18825" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18827" href="Ledger.Conway.Utxo.Properties.html#18518" class="Bound">ref</a> <a id="18831" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18833" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="18838" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18840" href="Ledger.Conway.Utxo.Properties.html#18485" class="Bound">balanceUtxo&#39;</a> <a id="18853" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18855" href="Ledger.Conway.Utxo.Properties.html#18522" class="Bound">txfee</a> <a id="18861" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18863" href="Ledger.Conway.Utxo.Properties.html#18528" class="Bound">txdonation</a> <a id="18874" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18876" href="Ledger.Conway.Utxo.Properties.html#18539" class="Bound">tot</a>
    <a id="18884" href="Ledger.Conway.Utxo.Properties.html#18784" class="Function">utxo-ref-prop-worker</a> <a id="18905" class="Symbol">=</a> <a id="18907" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="18919" href="Ledger.Conway.Utxo.Properties.html#18437" class="Bound">balanceUtxo</a> <a id="18931" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18933" href="Ledger.Conway.Utxo.Properties.html#18518" class="Bound">ref</a> <a id="18937" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18939" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a>
        <a id="18952" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="18955" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="18960" class="Symbol">(λ</a> <a id="18963" href="Ledger.Conway.Utxo.Properties.html#18963" class="Bound">u</a> <a id="18965" class="Symbol">→</a> <a id="18967" href="Ledger.Conway.Utxo.Properties.html#18963" class="Bound">u</a> <a id="18969" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18971" href="Ledger.Conway.Utxo.Properties.html#18518" class="Bound">ref</a> <a id="18975" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18977" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="18981" class="Symbol">)</a> <a id="18983" href="Ledger.Conway.Utxo.Properties.html#18563" class="Bound">splitUtxo</a> <a id="18993" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="19001" href="Ledger.Conway.Utxo.Properties.html#18460" class="Bound">balanceNoIns</a> <a id="19014" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19018" href="Ledger.Conway.Utxo.Properties.html#18449" class="Bound">balanceIns</a> <a id="19029" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19033" href="Ledger.Conway.Utxo.Properties.html#18518" class="Bound">ref</a> <a id="19037" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19041" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a>
        <a id="19054" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19065" href="Ledger.Conway.Utxo.Properties.html#18460" class="Bound">balanceNoIns</a> <a id="19078" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19082" class="Symbol">(</a><a id="19083" href="Ledger.Conway.Utxo.Properties.html#18449" class="Bound">balanceIns</a> <a id="19094" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19098" href="Ledger.Conway.Utxo.Properties.html#18518" class="Bound">ref</a> <a id="19102" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19106" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="19110" class="Symbol">)</a>
        <a id="19120" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="19123" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19128" class="Symbol">(</a><a id="19129" href="Ledger.Conway.Utxo.Properties.html#18460" class="Bound">balanceNoIns</a> <a id="19142" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="19144" class="Symbol">)</a> <a id="19146" href="Ledger.Conway.Utxo.Properties.html#18696" class="Bound">balanced</a> <a id="19155" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="19163" href="Ledger.Conway.Utxo.Properties.html#18460" class="Bound">balanceNoIns</a> <a id="19176" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19180" class="Symbol">(</a><a id="19181" href="Ledger.Conway.Utxo.Properties.html#18473" class="Bound">balanceOuts</a> <a id="19193" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19197" href="Ledger.Conway.Utxo.Properties.html#18522" class="Bound">txfee</a> <a id="19203" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19207" href="Ledger.Conway.Utxo.Properties.html#18539" class="Bound">tot</a> <a id="19211" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19215" href="Ledger.Conway.Utxo.Properties.html#18528" class="Bound">txdonation</a><a id="19225" class="Symbol">)</a>
        <a id="19235" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19246" class="Symbol">(</a><a id="19247" href="Ledger.Conway.Utxo.Properties.html#18460" class="Bound">balanceNoIns</a> <a id="19260" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19264" href="Ledger.Conway.Utxo.Properties.html#18473" class="Bound">balanceOuts</a> <a id="19276" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19280" href="Ledger.Conway.Utxo.Properties.html#18522" class="Bound">txfee</a><a id="19285" class="Symbol">)</a> <a id="19287" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19291" href="Ledger.Conway.Utxo.Properties.html#18539" class="Bound">tot</a> <a id="19295" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19299" href="Ledger.Conway.Utxo.Properties.html#18528" class="Bound">txdonation</a>
        <a id="19318" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="19322" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19327" class="Symbol">(λ</a> <a id="19330" href="Ledger.Conway.Utxo.Properties.html#19330" class="Bound">x</a> <a id="19332" class="Symbol">→</a> <a id="19334" class="Symbol">(</a><a id="19335" href="Ledger.Conway.Utxo.Properties.html#19330" class="Bound">x</a> <a id="19337" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19339" href="Ledger.Conway.Utxo.Properties.html#18522" class="Bound">txfee</a><a id="19344" class="Symbol">)</a> <a id="19346" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19348" href="Ledger.Conway.Utxo.Properties.html#18539" class="Bound">tot</a> <a id="19352" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19354" href="Ledger.Conway.Utxo.Properties.html#18528" class="Bound">txdonation</a><a id="19364" class="Symbol">)</a> <a id="19366" href="Ledger.Conway.Utxo.Properties.html#18628" class="Bound">splitUtxo&#39;</a> <a id="19377" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="19385" class="Symbol">(</a><a id="19386" href="Ledger.Conway.Utxo.Properties.html#18485" class="Bound">balanceUtxo&#39;</a> <a id="19399" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19403" href="Ledger.Conway.Utxo.Properties.html#18522" class="Bound">txfee</a><a id="19408" class="Symbol">)</a> <a id="19410" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19414" href="Ledger.Conway.Utxo.Properties.html#18539" class="Bound">tot</a> <a id="19418" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19422" href="Ledger.Conway.Utxo.Properties.html#18528" class="Bound">txdonation</a>
        <a id="19441" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19452" href="Ledger.Conway.Utxo.Properties.html#18485" class="Bound">balanceUtxo&#39;</a> <a id="19465" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19469" href="Ledger.Conway.Utxo.Properties.html#18522" class="Bound">txfee</a> <a id="19475" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19479" class="Symbol">(</a><a id="19480" href="Ledger.Conway.Utxo.Properties.html#18539" class="Bound">tot</a> <a id="19484" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19488" href="Ledger.Conway.Utxo.Properties.html#18528" class="Bound">txdonation</a><a id="19498" class="Symbol">)</a>
        <a id="19508" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="19511" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19516" class="Symbol">(</a><a id="19517" href="Ledger.Conway.Utxo.Properties.html#18485" class="Bound">balanceUtxo&#39;</a> <a id="19530" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19532" href="Ledger.Conway.Utxo.Properties.html#18522" class="Bound">txfee</a> <a id="19538" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="19540" class="Symbol">)</a> <a id="19542" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="19544" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="19551" href="Ledger.Conway.Utxo.Properties.html#18539" class="Bound">tot</a> <a id="19555" href="Ledger.Conway.Utxo.Properties.html#18528" class="Bound">txdonation</a> <a id="19566" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="19574" href="Ledger.Conway.Utxo.Properties.html#18485" class="Bound">balanceUtxo&#39;</a> <a id="19587" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19591" href="Ledger.Conway.Utxo.Properties.html#18522" class="Bound">txfee</a> <a id="19597" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19601" class="Symbol">(</a><a id="19602" href="Ledger.Conway.Utxo.Properties.html#18528" class="Bound">txdonation</a> <a id="19613" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19617" href="Ledger.Conway.Utxo.Properties.html#18539" class="Bound">tot</a><a id="19620" class="Symbol">)</a>
        <a id="19630" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19641" class="Symbol">(</a><a id="19642" href="Ledger.Conway.Utxo.Properties.html#18485" class="Bound">balanceUtxo&#39;</a> <a id="19655" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19659" href="Ledger.Conway.Utxo.Properties.html#18522" class="Bound">txfee</a><a id="19664" class="Symbol">)</a> <a id="19666" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19670" href="Ledger.Conway.Utxo.Properties.html#18528" class="Bound">txdonation</a> <a id="19681" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19685" href="Ledger.Conway.Utxo.Properties.html#18539" class="Bound">tot</a>
        <a id="19697" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="19702" href="Ledger.Conway.Utxo.Properties.html#19702" class="Function">utxo-ref-prop</a> <a id="19716" class="Symbol">:</a>
    <a id="19722" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="19731" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="19736" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19738" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="19742" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19744" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="19749" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>
    <a id="19755" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="19764" class="Symbol">((</a><a id="19766" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="19771" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19773" href="Ledger.Conway.Transaction.html#2798" class="Function">txins</a> <a id="19779" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19780" class="Symbol">)</a> <a id="19782" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="19785" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="19790" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a><a id="19793" class="Symbol">)</a> <a id="19795" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19797" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="19803" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19805" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="19816" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19818" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a>
  <a id="19824" href="Ledger.Conway.Utxo.Properties.html#19702" class="Function">utxo-ref-prop</a> <a id="19838" class="Symbol">=</a> <a id="19840" href="Ledger.Conway.Utxo.Properties.html#18784" class="Function">utxo-ref-prop-worker</a>
                    <a id="19881" class="Symbol">(</a><a id="19882" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="19891" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a><a id="19895" class="Symbol">)</a>
                    <a id="19917" class="Symbol">(</a><a id="19918" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="19927" class="Symbol">(</a><a id="19928" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="19933" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="19935" href="Ledger.Conway.Transaction.html#2798" class="Function">txins</a><a id="19940" class="Symbol">))</a>
                    <a id="19963" class="Symbol">(</a><a id="19964" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="19973" class="Symbol">(</a><a id="19974" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="19979" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19981" href="Ledger.Conway.Transaction.html#2798" class="Function">txins</a> <a id="19987" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19988" class="Symbol">))</a>
                    <a id="20011" class="Symbol">(</a><a id="20012" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="20021" class="Symbol">(</a><a id="20022" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="20027" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a><a id="20030" class="Symbol">))</a>
                    <a id="20053" class="Symbol">(</a><a id="20054" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="20063" class="Symbol">((</a><a id="20065" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="20070" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="20072" href="Ledger.Conway.Transaction.html#2798" class="Function">txins</a> <a id="20078" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="20079" class="Symbol">)</a> <a id="20081" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="20084" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="20089" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a><a id="20092" class="Symbol">))</a>
                    <a id="20115" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="20119" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="20125" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="20136" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a>
                    <a id="20160" class="Symbol">(</a><a id="20161" href="Ledger.Conway.Utxo.Properties.html#17673" class="Function">split-balance</a> <a id="20175" href="Ledger.Conway.Transaction.html#2798" class="Function">txins</a><a id="20180" class="Symbol">)</a>
                    <a id="20202" class="Symbol">(</a><a id="20203" href="Ledger.Conway.Utxo.Properties.html#8166" class="Function">balance-∪</a> <a id="20213" class="Symbol">{</a><a id="20214" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="20219" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="20221" href="Ledger.Conway.Transaction.html#2798" class="Function">txins</a> <a id="20227" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="20228" class="Symbol">}</a> <a id="20230" class="Symbol">{</a><a id="20231" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="20236" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a><a id="20239" class="Symbol">}</a> <a id="20241" href="Ledger.Conway.Utxo.Properties.html#14774" class="Function">h</a><a id="20242" class="Symbol">)</a>
                    <a id="20264" class="Symbol">(</a><a id="20265" href="Ledger.Conway.Utxo.Properties.html#12741" class="Function">balValueToCoin</a> <a id="20280" class="Symbol">{</a><a id="20281" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a><a id="20284" class="Symbol">}</a> <a id="20286" class="Symbol">{</a><a id="20287" href="Ledger.Conway.Utxo.Properties.html#14575" class="Function">utxoSt</a><a id="20293" class="Symbol">}</a> <a id="20295" class="Symbol">{</a><a id="20296" href="Ledger.Conway.Utxo.html#2449" class="Field">UTxOEnv.pparams</a> <a id="20312" href="Ledger.Conway.Utxo.Properties.html#13837" class="Bound">Γ</a><a id="20313" class="Symbol">}</a> <a id="20315" href="Ledger.Conway.Utxo.Properties.html#15556" class="Function">noMintAda</a> <a id="20325" href="Ledger.Conway.Utxo.Properties.html#15218" class="Function">newBal</a><a id="20331" class="Symbol">)</a>

  <a id="20336" href="Ledger.Conway.Utxo.Properties.html#20336" class="Function">rearrange0</a> <a id="20347" class="Symbol">:</a>
      <a id="20355" class="Symbol">(</a><a id="20356" href="Ledger.Conway.Utxo.Properties.html#20356" class="Bound">bal</a> <a id="20360" class="Symbol">:</a> <a id="20362" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="20363" class="Symbol">)</a>
    <a id="20369" class="Symbol">→</a> <a id="20371" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="20381" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20383" href="Ledger.Conway.Utxo.html#9339" class="Function">updateDeposits</a> <a id="20398" href="Ledger.Conway.Utxo.Properties.html#14366" class="Function">pp</a> <a id="20401" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a> <a id="20405" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a>
    <a id="20418" class="Symbol">→</a> <a id="20420" href="Ledger.Conway.Utxo.Properties.html#20356" class="Bound">bal</a> <a id="20424" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20426" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="20432" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20434" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="20445" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20447" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="20451" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20453" class="Symbol">(</a><a id="20454" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="20464" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20466" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="20470" class="Symbol">)</a>
    <a id="20476" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20478" href="Ledger.Conway.Utxo.Properties.html#20356" class="Bound">bal</a> <a id="20482" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20484" class="Symbol">(</a><a id="20485" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="20490" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20492" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="20498" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20500" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="20508" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="20518" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20520" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="20530" class="Symbol">)</a>
  <a id="20534" href="Ledger.Conway.Utxo.Properties.html#20336" class="Function">rearrange0</a> <a id="20545" href="Ledger.Conway.Utxo.Properties.html#20545" class="Bound">bal</a> <a id="20549" href="Ledger.Conway.Utxo.Properties.html#20549" class="Bound">h</a> <a id="20551" class="Symbol">=</a> <a id="20553" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="20563" href="Ledger.Conway.Utxo.Properties.html#20545" class="Bound">bal</a> <a id="20567" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20571" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="20577" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20581" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="20592" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20596" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="20600" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20604" class="Symbol">(</a><a id="20605" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="20615" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20619" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="20623" class="Symbol">)</a>
      <a id="20631" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
    <a id="20640" href="Ledger.Conway.Utxo.Properties.html#20545" class="Bound">bal</a> <a id="20644" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20648" class="Symbol">(</a><a id="20649" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="20655" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20659" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="20670" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20674" class="Symbol">(</a><a id="20675" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="20679" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20683" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a><a id="20692" class="Symbol">)</a> <a id="20694" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20698" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="20702" class="Symbol">)</a>
      <a id="20710" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20713" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20718" class="Symbol">(</a><a id="20719" href="Ledger.Conway.Utxo.Properties.html#20545" class="Bound">bal</a> <a id="20723" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="20725" class="Symbol">)</a> <a id="20727" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20729" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="20743" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="20749" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20751" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="20762" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20764" class="Symbol">(</a><a id="20765" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="20769" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20771" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a><a id="20780" class="Symbol">)</a> <a id="20782" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20784" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a>
          <a id="20799" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20802" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="20809" class="Symbol">_</a> <a id="20811" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="20816" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="20826" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="20831" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20835" class="Symbol">(</a><a id="20836" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="20842" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20846" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="20857" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20861" class="Symbol">(</a><a id="20862" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="20866" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20870" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a><a id="20879" class="Symbol">))</a>
          <a id="20892" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
        <a id="20905" class="Symbol">(</a><a id="20906" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="20911" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20915" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="20920" class="Symbol">)</a> <a id="20922" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20926" class="Symbol">(</a><a id="20927" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="20938" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20942" class="Symbol">(</a><a id="20943" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="20947" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20951" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a><a id="20960" class="Symbol">))</a>
          <a id="20973" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20976" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20981" class="Symbol">((</a><a id="20983" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="20988" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20990" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="20995" class="Symbol">)</a> <a id="20997" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="20999" class="Symbol">)</a> <a id="21001" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21003" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="21010" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="21021" class="Symbol">(</a><a id="21022" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="21026" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21028" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a><a id="21037" class="Symbol">)</a> <a id="21039" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="21049" class="Symbol">(</a><a id="21050" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="21055" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21057" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="21062" class="Symbol">)</a> <a id="21064" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21068" class="Symbol">((</a><a id="21070" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="21074" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21076" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a><a id="21085" class="Symbol">)</a> <a id="21087" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21091" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="21101" class="Symbol">)</a>
          <a id="21113" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
        <a id="21126" class="Symbol">(</a><a id="21127" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="21132" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21134" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="21139" class="Symbol">)</a> <a id="21141" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21145" class="Symbol">(</a><a id="21146" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="21150" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21152" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a><a id="21161" class="Symbol">)</a> <a id="21163" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21167" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a>
          <a id="21188" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21191" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21196" class="Symbol">(λ</a> <a id="21199" href="Ledger.Conway.Utxo.Properties.html#21199" class="Bound">x</a> <a id="21201" class="Symbol">→</a> <a id="21203" class="Symbol">(</a><a id="21204" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="21209" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21211" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="21216" class="Symbol">)</a> <a id="21218" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21220" href="Ledger.Conway.Utxo.Properties.html#21199" class="Bound">x</a> <a id="21222" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21224" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="21234" class="Symbol">)</a>
          <a id="21246" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21248" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a> <a id="21254" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="21258" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21260" class="Symbol">(</a><a id="21261" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="21265" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21267" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a><a id="21270" class="Symbol">)</a> <a id="21272" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="21276" href="Data.Nat.Properties.html#50173" class="Function">+-∸-assoc</a> <a id="21286" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="21290" href="Ledger.Conway.Utxo.Properties.html#16692" class="Function">ref≤dep</a> <a id="21298" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                  <a id="21318" class="Symbol">(</a><a id="21319" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="21323" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21325" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="21328" class="Symbol">)</a> <a id="21330" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21332" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="21336" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21339" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21344" class="Symbol">(</a><a id="21345" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="21348" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a><a id="21351" class="Symbol">)</a> <a id="21353" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21355" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="21362" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="21366" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="21370" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                  <a id="21390" class="Symbol">(</a><a id="21391" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="21395" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21397" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a><a id="21400" class="Symbol">)</a> <a id="21402" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21404" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="21408" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="21412" href="Ledger.Conway.Utxo.Properties.html#16901" class="Function">deposits-change</a> <a id="21428" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                  <a id="21448" href="Ledger.Conway.Utxo.Properties.html#14452" class="Function">uDep</a>              <a id="21466" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21469" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21474" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21482" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21484" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="21488" href="Ledger.Conway.Utxo.Properties.html#20549" class="Bound">h</a> <a id="21490" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                  <a id="21510" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21518" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="21528" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21530" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="21540" class="Symbol">(</a><a id="21541" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="21546" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21548" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="21553" class="Symbol">)</a> <a id="21555" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21557" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21565" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="21575" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21577" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a>
          <a id="21598" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21600" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="21606" href="Ledger.Conway.Utxo.Properties.html#20545" class="Bound">bal</a> <a id="21610" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21612" class="Symbol">((</a><a id="21614" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="21619" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21621" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="21626" class="Symbol">)</a> <a id="21628" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21630" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21638" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="21648" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21650" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="21660" class="Symbol">)</a>
      <a id="21668" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="21673" class="Keyword">module</a> <a id="21680" href="Ledger.Conway.Utxo.Properties.html#21680" class="Module">_</a> <a id="21682" class="Symbol">(</a><a id="21683" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="21695" href="Ledger.Conway.Utxo.Properties.html#21695" class="Bound">balanceUtxo&#39;</a> <a id="21708" class="Symbol">:</a> <a id="21710" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="21714" class="Symbol">)</a>
           <a id="21727" class="Symbol">(</a><a id="21728" href="Ledger.Conway.Utxo.Properties.html#21728" class="Bound">ref-prop</a> <a id="21737" class="Symbol">:</a> <a id="21739" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="21751" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21753" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="21757" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21759" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="21764" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21766" href="Ledger.Conway.Utxo.Properties.html#21695" class="Bound">balanceUtxo&#39;</a> <a id="21779" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21781" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="21787" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21789" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="21800" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21802" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a><a id="21805" class="Symbol">)</a>
           <a id="21818" class="Symbol">(</a><a id="21819" href="Ledger.Conway.Utxo.Properties.html#21819" class="Bound">h</a> <a id="21821" class="Symbol">:</a> <a id="21823" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="21833" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21835" href="Ledger.Conway.Utxo.html#9339" class="Function">updateDeposits</a> <a id="21850" href="Ledger.Conway.Utxo.Properties.html#14366" class="Function">pp</a> <a id="21853" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a> <a id="21857" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a><a id="21865" class="Symbol">)</a>
           <a id="21878" class="Keyword">where</a>

    <a id="21889" href="Ledger.Conway.Utxo.Properties.html#21889" class="Function">pov-scripts-worker</a> <a id="21908" class="Symbol">:</a>  <a id="21911" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a> <a id="21919" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21921" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                          <a id="21952" class="Symbol">→</a>  <a id="21955" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="21967" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21969" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="21974" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21976" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21984" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a> <a id="21993" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21995" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="22005" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22007" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="22012" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="22014" href="Ledger.Conway.Utxo.Properties.html#13593" class="Function">χ</a><a id="22015" class="Symbol">(</a><a id="22016" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a><a id="22023" class="Symbol">)</a>
                             <a id="22054" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="22056" href="Ledger.Conway.Utxo.Properties.html#21695" class="Bound">balanceUtxo&#39;</a> <a id="22069" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22071" class="Symbol">(</a><a id="22072" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22077" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22079" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="22084" class="Symbol">)</a> <a id="22086" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22088" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="22096" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="22106" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22108" class="Symbol">(</a><a id="22109" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="22119" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22121" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="22131" class="Symbol">)</a>
    <a id="22137" href="Ledger.Conway.Utxo.Properties.html#21889" class="Function">pov-scripts-worker</a> <a id="22156" href="Ledger.Conway.Utxo.Properties.html#22156" class="Bound">valid</a> <a id="22162" class="Symbol">=</a> <a id="22164" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="22176" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="22188" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22190" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22195" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22197" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="22201" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22203" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="22213" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22215" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="22220" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="22222" href="Ledger.Conway.Utxo.Properties.html#13593" class="Function">χ</a><a id="22223" class="Symbol">(</a><a id="22224" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a><a id="22231" class="Symbol">)</a>
        <a id="22241" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22244" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22249" class="Symbol">(λ</a> <a id="22252" href="Ledger.Conway.Utxo.Properties.html#22252" class="Bound">x</a> <a id="22254" class="Symbol">→</a> <a id="22256" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="22268" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22270" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22275" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22277" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="22281" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22283" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="22293" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22295" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="22300" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="22302" href="Ledger.Conway.Utxo.Properties.html#13593" class="Function">χ</a> <a id="22304" href="Ledger.Conway.Utxo.Properties.html#22252" class="Bound">x</a><a id="22305" class="Symbol">)</a> <a id="22307" href="Ledger.Conway.Utxo.Properties.html#22156" class="Bound">valid</a> <a id="22313" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22321" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="22333" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22335" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22340" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22342" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="22346" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22348" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="22358" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22360" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="22365" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="22367" class="Number">1</a>
        <a id="22377" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22380" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22385" class="Symbol">(</a><a id="22386" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="22398" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22400" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22405" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22407" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="22411" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22413" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="22423" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="22425" class="Symbol">)</a> <a id="22427" class="Symbol">(</a><a id="22428" href="Data.Nat.Properties.html#21834" class="Function">*-identityʳ</a> <a id="22440" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="22444" class="Symbol">)</a> <a id="22446" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22454" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="22466" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22468" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22473" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22475" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="22479" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22481" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="22491" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22493" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a>
        <a id="22506" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22509" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="22517" class="Symbol">(</a><a id="22518" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="22530" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22532" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22537" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22539" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="22542" class="Symbol">)</a> <a id="22544" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="22554" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="22559" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22567" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="22579" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22581" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22586" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22588" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="22592" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22594" class="Symbol">(</a><a id="22595" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="22605" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22607" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="22611" class="Symbol">)</a>
        <a id="22621" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22624" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22629" class="Symbol">(</a><a id="22630" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="22642" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22644" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22649" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22651" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="22655" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="22657" class="Symbol">)</a> <a id="22659" class="Symbol">(</a><a id="22660" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="22667" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="22677" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="22681" class="Symbol">)</a> <a id="22683" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22691" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="22703" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22705" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22710" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22712" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="22716" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22718" class="Symbol">(</a><a id="22719" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="22724" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22726" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a><a id="22735" class="Symbol">)</a>
        <a id="22745" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="22749" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="22757" class="Symbol">(</a><a id="22758" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="22770" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22772" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22777" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22779" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a><a id="22782" class="Symbol">)</a> <a id="22784" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="22789" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a>  <a id="22800" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="22808" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="22820" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22822" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22827" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22829" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="22833" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22835" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="22840" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22842" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a>
        <a id="22860" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22863" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22868" class="Symbol">(</a><a id="22869" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="22872" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a><a id="22881" class="Symbol">)</a>
        <a id="22891" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="22893" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
            <a id="22911" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="22923" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22925" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22930" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22932" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="22936" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22938" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a>
              <a id="22957" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="22961" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22966" class="Symbol">(λ</a> <a id="22969" href="Ledger.Conway.Utxo.Properties.html#22969" class="Bound">x</a> <a id="22971" class="Symbol">→</a> <a id="22973" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="22985" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22987" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="22992" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22994" href="Ledger.Conway.Utxo.Properties.html#22969" class="Bound">x</a> <a id="22996" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22998" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="23002" class="Symbol">)</a> <a id="23004" class="Symbol">(</a><a id="23005" href="Data.Nat.Properties.html#51744" class="Function">m+[n∸m]≡n</a> <a id="23015" href="Ledger.Conway.Utxo.Properties.html#16692" class="Function">ref≤dep</a><a id="23022" class="Symbol">)</a> <a id="23024" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="23038" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23050" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23052" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="23057" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23059" class="Symbol">(</a><a id="23060" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23064" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23066" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a><a id="23075" class="Symbol">)</a> <a id="23077" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23079" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a>
              <a id="23098" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23101" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23106" class="Symbol">(</a><a id="23107" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="23110" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="23114" class="Symbol">)</a> <a id="23116" class="Symbol">(</a><a id="23117" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23125" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23137" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="23142" class="Symbol">(</a><a id="23143" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23147" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23149" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a><a id="23158" class="Symbol">))</a> <a id="23161" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23175" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23187" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23189" class="Symbol">(</a><a id="23190" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="23195" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23197" class="Symbol">(</a><a id="23198" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23202" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23204" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a><a id="23213" class="Symbol">))</a> <a id="23216" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23218" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a>
              <a id="23237" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23240" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23245" class="Symbol">(λ</a> <a id="23248" href="Ledger.Conway.Utxo.Properties.html#23248" class="Bound">x</a> <a id="23250" class="Symbol">→</a> <a id="23252" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23264" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23266" href="Ledger.Conway.Utxo.Properties.html#23248" class="Bound">x</a> <a id="23268" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23270" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="23274" class="Symbol">)</a> <a id="23276" class="Symbol">(</a><a id="23277" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="23284" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="23289" class="Symbol">(</a><a id="23290" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23294" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23296" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a><a id="23305" class="Symbol">))</a> <a id="23308" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23322" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23334" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23336" class="Symbol">(</a><a id="23337" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23341" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23343" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="23353" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23355" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="23359" class="Symbol">)</a> <a id="23361" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23363" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a>
              <a id="23382" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23385" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23390" class="Symbol">(λ</a> <a id="23393" href="Ledger.Conway.Utxo.Properties.html#23393" class="Bound">x</a> <a id="23395" class="Symbol">→</a> <a id="23397" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23409" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23411" href="Ledger.Conway.Utxo.Properties.html#23393" class="Bound">x</a> <a id="23413" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23415" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="23419" class="Symbol">)</a> <a id="23421" class="Symbol">(</a><a id="23422" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23430" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23434" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="23444" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="23448" class="Symbol">)</a> <a id="23450" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a> <a id="23452" class="Comment">--</a>
            <a id="23467" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23479" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23481" class="Symbol">(</a><a id="23482" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23486" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23488" class="Symbol">(</a><a id="23489" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="23499" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23501" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="23505" class="Symbol">))</a> <a id="23508" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23510" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a>
              <a id="23529" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23532" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23540" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23552" class="Symbol">(</a><a id="23553" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23557" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23559" class="Symbol">(</a><a id="23560" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="23570" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23572" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="23576" class="Symbol">))</a> <a id="23579" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="23584" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a> <a id="23586" class="Comment">--</a>
            <a id="23601" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23613" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23615" class="Symbol">(</a><a id="23616" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23620" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23622" class="Symbol">(</a><a id="23623" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="23633" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23635" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="23639" class="Symbol">)</a> <a id="23641" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23643" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="23647" class="Symbol">)</a>
              <a id="23663" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23666" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23671" class="Symbol">(</a><a id="23672" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23684" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="23686" class="Symbol">)</a> <a id="23688" class="Symbol">(</a><a id="23689" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23697" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23701" class="Symbol">(</a><a id="23702" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="23712" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23714" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="23718" class="Symbol">)</a> <a id="23720" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="23724" class="Symbol">)</a> <a id="23726" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23740" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23752" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23754" class="Symbol">(</a><a id="23755" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23759" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23761" class="Symbol">((</a><a id="23763" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="23773" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23775" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="23779" class="Symbol">)</a> <a id="23781" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23783" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="23787" class="Symbol">))</a>
              <a id="23804" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23807" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23812" class="Symbol">(λ</a> <a id="23815" href="Ledger.Conway.Utxo.Properties.html#23815" class="Bound">x</a> <a id="23817" class="Symbol">→</a> <a id="23819" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23831" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23833" class="Symbol">(</a><a id="23834" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23838" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23840" href="Ledger.Conway.Utxo.Properties.html#23815" class="Bound">x</a><a id="23841" class="Symbol">))</a> <a id="23844" class="Symbol">(</a><a id="23845" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="23852" class="Symbol">(</a><a id="23853" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="23863" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23865" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="23869" class="Symbol">)</a> <a id="23871" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="23875" class="Symbol">)</a> <a id="23877" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23891" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23903" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23905" class="Symbol">(</a><a id="23906" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23910" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23912" class="Symbol">(</a><a id="23913" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="23918" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23920" class="Symbol">(</a><a id="23921" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="23931" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23933" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="23937" class="Symbol">)))</a>
              <a id="23955" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="23959" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23967" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="23979" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="23983" class="Symbol">(</a><a id="23984" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="23989" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23991" class="Symbol">(</a><a id="23992" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="24002" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24004" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="24008" class="Symbol">))</a> <a id="24011" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="24025" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="24037" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24039" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="24043" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24045" class="Symbol">(</a><a id="24046" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="24051" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24053" class="Symbol">(</a><a id="24054" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="24064" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24066" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="24070" class="Symbol">))</a>
              <a id="24087" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="24091" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="24099" class="Symbol">(</a><a id="24100" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="24112" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24114" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a><a id="24117" class="Symbol">)</a> <a id="24119" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="24124" class="Symbol">(</a><a id="24125" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="24135" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24137" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="24141" class="Symbol">)</a> <a id="24143" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="24157" href="Ledger.Conway.Utxo.Properties.html#21683" class="Bound">balanceUtxo</a> <a id="24169" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24171" href="Ledger.Conway.Utxo.Properties.html#14650" class="Function">ref</a> <a id="24175" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24177" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="24182" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24184" class="Symbol">(</a><a id="24185" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="24195" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24197" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="24201" class="Symbol">)</a>
              <a id="24217" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="24220" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="24225" class="Symbol">(</a><a id="24226" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="24229" class="Symbol">(</a><a id="24230" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="24240" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24242" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="24246" class="Symbol">))</a> <a id="24249" href="Ledger.Conway.Utxo.Properties.html#21728" class="Bound">ref-prop</a> <a id="24258" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="24272" href="Ledger.Conway.Utxo.Properties.html#21695" class="Bound">balanceUtxo&#39;</a> <a id="24285" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24287" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="24293" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24295" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="24306" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24308" href="Ledger.Conway.Utxo.Properties.html#14654" class="Function">tot</a> <a id="24312" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24314" class="Symbol">(</a><a id="24315" href="Ledger.Conway.Utxo.Properties.html#15618" class="Function">remDepTot</a> <a id="24325" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24327" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="24331" class="Symbol">)</a>
              <a id="24347" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="24350" href="Ledger.Conway.Utxo.Properties.html#20336" class="Function">rearrange0</a> <a id="24361" class="Symbol">(</a><a id="24362" href="Ledger.Conway.Utxo.Properties.html#21695" class="Bound">balanceUtxo&#39;</a><a id="24374" class="Symbol">)</a> <a id="24376" href="Ledger.Conway.Utxo.Properties.html#21819" class="Bound">h</a> <a id="24378" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="24392" href="Ledger.Conway.Utxo.Properties.html#21695" class="Bound">balanceUtxo&#39;</a> <a id="24405" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24407" class="Symbol">(</a><a id="24408" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="24413" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24415" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="24421" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24423" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24431" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="24441" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24443" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="24453" class="Symbol">)</a>
              <a id="24469" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="24471" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="24479" href="Ledger.Conway.Utxo.Properties.html#21695" class="Bound">balanceUtxo&#39;</a> <a id="24492" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24496" class="Symbol">(</a><a id="24497" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="24502" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24504" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="24510" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24514" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24522" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="24532" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24536" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="24546" class="Symbol">)</a> <a id="24548" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24552" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a>
        <a id="24570" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="24581" href="Ledger.Conway.Utxo.Properties.html#21695" class="Bound">balanceUtxo&#39;</a> <a id="24594" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24598" class="Symbol">(</a><a id="24599" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="24604" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24606" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="24611" class="Symbol">)</a> <a id="24613" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24617" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24625" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="24635" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24639" class="Symbol">(</a><a id="24640" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="24651" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24655" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a><a id="24664" class="Symbol">)</a>
        <a id="24674" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="24677" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="24682" class="Symbol">(</a><a id="24683" href="Ledger.Conway.Utxo.Properties.html#21695" class="Bound">balanceUtxo&#39;</a> <a id="24696" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24698" class="Symbol">(</a><a id="24699" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="24704" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24706" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="24711" class="Symbol">)</a> <a id="24713" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24715" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24723" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="24733" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+_</a><a id="24737" class="Symbol">)</a>
         <a id="24748" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="24750" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="24757" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="24768" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="24778" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="24786" href="Ledger.Conway.Utxo.Properties.html#21695" class="Bound">balanceUtxo&#39;</a> <a id="24799" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24801" class="Symbol">(</a><a id="24802" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="24807" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24809" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="24814" class="Symbol">)</a> <a id="24816" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24818" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24826" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="24836" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24838" class="Symbol">(</a><a id="24839" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="24849" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24851" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="24861" class="Symbol">)</a>
        <a id="24871" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="24876" href="Ledger.Conway.Utxo.Properties.html#24876" class="Function">pov-scripts</a> <a id="24888" class="Symbol">:</a>  <a id="24891" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="24901" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24903" href="Ledger.Conway.Utxo.html#9339" class="Function">updateDeposits</a> <a id="24918" href="Ledger.Conway.Utxo.Properties.html#14366" class="Function">pp</a> <a id="24921" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a> <a id="24925" href="Ledger.Conway.Utxo.Properties.html#13702" class="Bound">deposits</a>
                 <a id="24951" class="Symbol">→</a>  <a id="24954" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a> <a id="24962" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24964" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                 <a id="24986" class="Symbol">→</a>  <a id="24989" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="24998" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="25003" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25005" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="25010" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25012" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="25016" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25018" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="25028" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25030" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="25035" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25037" href="Ledger.Conway.Utxo.Properties.html#13593" class="Function">χ</a><a id="25038" class="Symbol">(</a><a id="25039" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a><a id="25046" class="Symbol">)</a>
                    <a id="25068" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>  <a id="25071" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="25080" class="Symbol">((</a><a id="25082" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="25087" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25089" href="Ledger.Conway.Transaction.html#2798" class="Function">txins</a> <a id="25095" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25096" class="Symbol">)</a> <a id="25098" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="25101" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="25106" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a><a id="25109" class="Symbol">)</a>
                       <a id="25134" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25136" class="Symbol">(</a><a id="25137" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="25142" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25144" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="25149" class="Symbol">)</a> <a id="25151" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25153" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="25161" href="Ledger.Conway.Utxo.Properties.html#13711" class="Bound">deposits&#39;</a> <a id="25171" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25173" class="Symbol">(</a><a id="25174" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="25184" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25186" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="25196" class="Symbol">)</a>
  <a id="25200" href="Ledger.Conway.Utxo.Properties.html#24876" class="Function">pov-scripts</a> <a id="25212" href="Ledger.Conway.Utxo.Properties.html#25212" class="Bound">h</a> <a id="25214" href="Ledger.Conway.Utxo.Properties.html#25214" class="Bound">valid</a> <a id="25220" class="Symbol">=</a> <a id="25222" href="Ledger.Conway.Utxo.Properties.html#21889" class="Function">pov-scripts-worker</a> <a id="25241" class="Symbol">(</a><a id="25242" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="25251" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a><a id="25255" class="Symbol">)</a> <a id="25257" class="Symbol">(</a><a id="25258" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="25267" class="Symbol">((</a><a id="25269" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="25274" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25276" href="Ledger.Conway.Transaction.html#2798" class="Function">txins</a> <a id="25282" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25283" class="Symbol">)</a> <a id="25285" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="25288" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="25293" href="Ledger.Conway.Utxo.Properties.html#13811" class="Field">txb</a><a id="25296" class="Symbol">))</a> <a id="25299" href="Ledger.Conway.Utxo.Properties.html#19702" class="Function">utxo-ref-prop</a> <a id="25313" href="Ledger.Conway.Utxo.Properties.html#25212" class="Bound">h</a> <a id="25315" href="Ledger.Conway.Utxo.Properties.html#25214" class="Bound">valid</a>

  <a id="25324" href="Ledger.Conway.Utxo.Properties.html#25324" class="Function">pov-no-scripts</a> <a id="25339" class="Symbol">:</a>  <a id="25342" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a> <a id="25350" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25352" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="25378" class="Symbol">→</a>  <a id="25381" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="25390" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="25395" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25397" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="25402" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25404" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="25408" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25410" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="25420" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25422" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="25427" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25429" href="Ledger.Conway.Utxo.Properties.html#13593" class="Function">χ</a><a id="25430" class="Symbol">(</a><a id="25431" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a><a id="25438" class="Symbol">)</a>
                       <a id="25463" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25465" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="25474" class="Symbol">(</a><a id="25475" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="25480" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25482" href="Ledger.Conway.Transaction.html#3358" class="Function">collateral</a> <a id="25493" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25494" class="Symbol">)</a> <a id="25496" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25498" class="Symbol">(</a><a id="25499" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="25504" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25506" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="25515" class="Symbol">(</a><a id="25516" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="25521" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25523" href="Ledger.Conway.Transaction.html#3358" class="Function">collateral</a><a id="25533" class="Symbol">))</a> <a id="25536" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25538" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="25542" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25544" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a>
  <a id="25556" href="Ledger.Conway.Utxo.Properties.html#25324" class="Function">pov-no-scripts</a> <a id="25571" href="Ledger.Conway.Utxo.Properties.html#25571" class="Bound">invalid</a> <a id="25579" class="Symbol">=</a> <a id="25581" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="25591" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="25600" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="25605" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25607" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="25612" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25614" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="25618" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25620" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="25630" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25632" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="25637" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25639" href="Ledger.Conway.Utxo.Properties.html#13593" class="Function">χ</a><a id="25640" class="Symbol">(</a><a id="25641" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a><a id="25648" class="Symbol">)</a> <a id="25650" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25653" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25658" class="Symbol">(λ</a> <a id="25661" href="Ledger.Conway.Utxo.Properties.html#25661" class="Bound">x</a> <a id="25663" class="Symbol">→</a> <a id="25665" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="25674" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="25679" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25681" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="25686" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25688" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="25692" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25694" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="25704" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25706" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="25711" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25713" href="Ledger.Conway.Utxo.Properties.html#13593" class="Function">χ</a> <a id="25715" href="Ledger.Conway.Utxo.Properties.html#25661" class="Bound">x</a><a id="25716" class="Symbol">)</a> <a id="25718" href="Ledger.Conway.Utxo.Properties.html#25571" class="Bound">invalid</a> <a id="25726" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25732" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="25741" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="25746" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25748" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="25753" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25755" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="25759" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25761" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="25771" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25773" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a> <a id="25778" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25780" class="Number">0</a> <a id="25782" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25785" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25790" class="Symbol">(</a><a id="25791" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="25800" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="25805" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25807" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="25812" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25814" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="25818" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25820" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="25830" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a> <a id="25833" class="Symbol">)</a> <a id="25835" class="Symbol">(</a><a id="25836" href="Data.Nat.Properties.html#22054" class="Function">*-zeroʳ</a> <a id="25844" href="Ledger.Conway.Utxo.Properties.html#14708" class="Function">wdls</a><a id="25848" class="Symbol">)</a> <a id="25850" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25856" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="25865" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="25870" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25872" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="25877" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25879" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="25883" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25885" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="25895" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25897" class="Number">0</a> <a id="25899" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25902" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="25914" class="Symbol">_</a> <a id="25916" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25922" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="25931" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="25936" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25938" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="25943" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25945" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="25949" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25951" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a> <a id="25961" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25964" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25969" class="Symbol">(λ</a> <a id="25972" href="Ledger.Conway.Utxo.Properties.html#25972" class="Bound">x</a> <a id="25974" class="Symbol">→</a> <a id="25976" href="Ledger.Conway.Utxo.Properties.html#25972" class="Bound">x</a> <a id="25978" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25980" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="25984" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25986" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a><a id="25995" class="Symbol">)</a> <a id="25997" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="25999" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="26011" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="26020" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="26025" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26029" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="26034" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="26037" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="26042" class="Symbol">(</a><a id="26043" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="26046" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="26050" class="Symbol">)</a> <a id="26052" class="Symbol">(</a><a id="26053" href="Ledger.Conway.Utxo.Properties.html#17673" class="Function">split-balance</a> <a id="26067" href="Ledger.Conway.Transaction.html#3358" class="Function">collateral</a><a id="26077" class="Symbol">)</a> <a id="26079" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="26087" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="26096" class="Symbol">(</a><a id="26097" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="26102" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26104" href="Ledger.Conway.Transaction.html#3358" class="Function">collateral</a> <a id="26115" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26116" class="Symbol">)</a> <a id="26118" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26122" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="26131" class="Symbol">(</a><a id="26132" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="26137" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="26139" href="Ledger.Conway.Transaction.html#3358" class="Function">collateral</a><a id="26149" class="Symbol">)</a> <a id="26151" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26155" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="26160" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="26171" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="26180" class="Symbol">(</a><a id="26181" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="26186" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26188" href="Ledger.Conway.Transaction.html#3358" class="Function">collateral</a> <a id="26199" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26200" class="Symbol">)</a> <a id="26202" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26206" class="Symbol">(</a><a id="26207" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="26216" class="Symbol">(</a><a id="26217" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="26222" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="26224" href="Ledger.Conway.Transaction.html#3358" class="Function">collateral</a><a id="26234" class="Symbol">)</a> <a id="26236" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26240" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="26244" class="Symbol">)</a> <a id="26246" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="26249" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="26254" class="Symbol">(</a><a id="26255" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="26264" class="Symbol">(</a><a id="26265" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="26270" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26272" href="Ledger.Conway.Transaction.html#3358" class="Function">collateral</a> <a id="26283" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26284" class="Symbol">)</a> <a id="26286" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="26288" class="Symbol">)</a> <a id="26290" class="Symbol">(</a><a id="26291" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="26298" class="Symbol">_</a> <a id="26300" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a><a id="26304" class="Symbol">)</a> <a id="26306" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="26314" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="26323" class="Symbol">(</a><a id="26324" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="26329" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26331" href="Ledger.Conway.Transaction.html#3358" class="Function">collateral</a> <a id="26342" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26343" class="Symbol">)</a> <a id="26345" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26349" class="Symbol">(</a><a id="26350" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="26355" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26359" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="26368" class="Symbol">(</a><a id="26369" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="26374" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="26376" href="Ledger.Conway.Transaction.html#3358" class="Function">collateral</a><a id="26386" class="Symbol">))</a> <a id="26389" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="26391" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="26397" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="26406" class="Symbol">(</a><a id="26407" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="26412" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26414" href="Ledger.Conway.Transaction.html#3358" class="Function">collateral</a> <a id="26425" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26426" class="Symbol">)</a> <a id="26428" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26430" class="Symbol">(</a><a id="26431" href="Ledger.Conway.Utxo.Properties.html#13680" class="Bound">fees</a> <a id="26436" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26438" href="Ledger.Conway.Utxo.html#3685" class="Function">cbalance</a> <a id="26447" class="Symbol">(</a><a id="26448" href="Ledger.Conway.Utxo.Properties.html#13658" class="Bound">utxo</a> <a id="26453" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="26455" href="Ledger.Conway.Transaction.html#3358" class="Function">collateral</a><a id="26465" class="Symbol">))</a> <a id="26468" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26470" href="Ledger.Conway.Utxo.Properties.html#14410" class="Function">dep</a> <a id="26474" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26476" href="Ledger.Conway.Utxo.Properties.html#13736" class="Bound">donations</a>
    <a id="26490" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>


<a id="UTXO-step"></a><a id="26494" href="Ledger.Conway.Utxo.Properties.html#26494" class="Function">UTXO-step</a> <a id="26504" class="Symbol">:</a> <a id="26506" href="Ledger.Conway.Utxo.html#2395" class="Record">UTxOEnv</a> <a id="26514" class="Symbol">→</a> <a id="26516" href="Ledger.Conway.Utxo.html#2747" class="Record">UTxOState</a> <a id="26526" class="Symbol">→</a> <a id="26528" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a> <a id="26531" class="Symbol">→</a> <a id="26533" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="26551" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="26558" href="Ledger.Conway.Utxo.html#2747" class="Record">UTxOState</a>
<a id="26568" href="Ledger.Conway.Utxo.Properties.html#26494" class="Function">UTXO-step</a> <a id="26578" class="Symbol">=</a> <a id="26580" href="Interface.ComputationalRelation.html#2976" class="Function">compute</a> <a id="26588" class="Symbol">⦃</a> <a id="26590" href="Ledger.Conway.Utxo.Properties.html#7162" class="Function">Computational-UTXO</a> <a id="26609" class="Symbol">⦄</a>

<a id="UTXO-step-computes-UTXO"></a><a id="26612" href="Ledger.Conway.Utxo.Properties.html#26612" class="Function">UTXO-step-computes-UTXO</a>  <a id="26637" class="Symbol">:</a>  <a id="26640" href="Ledger.Conway.Utxo.Properties.html#26494" class="Function">UTXO-step</a> <a id="26650" href="Ledger.Conway.Utxo.Properties.html#7363" class="Generalizable">Γ</a> <a id="26652" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a> <a id="26662" href="Ledger.Conway.Utxo.Properties.html#7281" class="Generalizable">tx</a> <a id="26665" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26667" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="26675" href="Ledger.Conway.Utxo.Properties.html#7418" class="Generalizable">utxoState&#39;</a>
                         <a id="26711" href="Function.Bundles.html#12400" class="Function Operator">⇔</a>  <a id="26714" href="Ledger.Conway.Utxo.Properties.html#7363" class="Generalizable">Γ</a> <a id="26716" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⊢</a> <a id="26718" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a> <a id="26728" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⇀⦇</a> <a id="26731" href="Ledger.Conway.Utxo.Properties.html#7281" class="Generalizable">tx</a> <a id="26734" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">,UTXO⦈</a> <a id="26741" href="Ledger.Conway.Utxo.Properties.html#7418" class="Generalizable">utxoState&#39;</a>
<a id="26752" href="Ledger.Conway.Utxo.Properties.html#26612" class="Function">UTXO-step-computes-UTXO</a> <a id="26776" class="Symbol">=</a> <a id="26778" href="Interface.ComputationalRelation.html#3323" class="Function">≡-success⇔STS</a> <a id="26792" class="Symbol">⦃</a> <a id="26794" href="Ledger.Conway.Utxo.Properties.html#7162" class="Function">Computational-UTXO</a> <a id="26813" class="Symbol">⦄</a>


<a id="isRefundCert"></a><a id="26817" href="Ledger.Conway.Utxo.Properties.html#26817" class="Function">isRefundCert</a> <a id="26830" class="Symbol">:</a> <a id="26832" href="Ledger.Conway.Certs.html#1352" class="Datatype">DCert</a> <a id="26838" class="Symbol">→</a> <a id="26840" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="26845" href="Ledger.Conway.Utxo.Properties.html#26817" class="Function">isRefundCert</a> <a id="26858" class="Symbol">(</a><a id="26859" href="Ledger.Conway.Certs.html#1446" class="InductiveConstructor">dereg</a> <a id="26865" href="Ledger.Conway.Utxo.Properties.html#26865" class="Bound">c</a> <a id="26867" class="Symbol">_)</a> <a id="26870" class="Symbol">=</a> <a id="26872" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="26877" href="Ledger.Conway.Utxo.Properties.html#26817" class="Function">isRefundCert</a> <a id="26890" class="Symbol">(</a><a id="26891" href="Ledger.Conway.Certs.html#1630" class="InductiveConstructor">deregdrep</a> <a id="26901" href="Ledger.Conway.Utxo.Properties.html#26901" class="Bound">c</a> <a id="26903" class="Symbol">_)</a> <a id="26906" class="Symbol">=</a> <a id="26908" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="26913" href="Ledger.Conway.Utxo.Properties.html#26817" class="CatchallClause Function">isRefundCert</a><a id="26925" class="CatchallClause"> </a><a id="26926" class="CatchallClause Symbol">_</a> <a id="26928" class="Symbol">=</a> <a id="26930" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="noRefundCert"></a><a id="26937" href="Ledger.Conway.Utxo.Properties.html#26937" class="Function">noRefundCert</a> <a id="26950" class="Symbol">:</a> <a id="26952" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="26957" href="Ledger.Conway.Certs.html#1352" class="Datatype">DCert</a> <a id="26963" class="Symbol">→</a> <a id="26965" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="26970" class="Symbol">_</a>
<a id="26972" href="Ledger.Conway.Utxo.Properties.html#26937" class="Function">noRefundCert</a> <a id="26985" href="Ledger.Conway.Utxo.Properties.html#26985" class="Bound">l</a> <a id="26987" class="Symbol">=</a> <a id="26989" href="Data.List.Relation.Unary.All.html#1644" class="Datatype">All</a> <a id="26993" class="Symbol">(λ</a> <a id="26996" href="Ledger.Conway.Utxo.Properties.html#26996" class="Bound">cert</a> <a id="27001" class="Symbol">→</a> <a id="27003" href="Ledger.Conway.Utxo.Properties.html#26817" class="Function">isRefundCert</a> <a id="27016" href="Ledger.Conway.Utxo.Properties.html#26996" class="Bound">cert</a> <a id="27021" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27023" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="27028" class="Symbol">)</a> <a id="27030" href="Ledger.Conway.Utxo.Properties.html#26985" class="Bound">l</a>

<a id="27033" class="Keyword">opaque</a>
  <a id="27042" class="Keyword">unfolding</a> <a id="27052" href="abstract-set-theory.FiniteSetTheory.html#240" class="Function">List-Model</a>
  <a id="27065" class="Keyword">unfolding</a> <a id="27075" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a>
  <a id="fin∘list[]"></a><a id="27088" href="Ledger.Conway.Utxo.Properties.html#27088" class="Function">fin∘list[]</a> <a id="27099" class="Symbol">:</a> <a id="27101" class="Symbol">{</a><a id="27102" href="Ledger.Conway.Utxo.Properties.html#27102" class="Bound">A</a> <a id="27104" class="Symbol">:</a> <a id="27106" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="27110" class="Symbol">}</a> <a id="27112" class="Symbol">→</a> <a id="27114" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27120" class="Symbol">(</a><a id="27121" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a><a id="27131" class="Symbol">{</a><a id="27132" class="Argument">A</a> <a id="27134" class="Symbol">=</a> <a id="27136" href="Ledger.Conway.Utxo.Properties.html#27102" class="Bound">A</a><a id="27137" class="Symbol">}</a> <a id="27139" href="Class.HasEmptySet.html#287" class="Field">∅</a><a id="27140" class="Symbol">)</a> <a id="27142" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27144" class="InductiveConstructor">[]</a>
  <a id="27149" href="Ledger.Conway.Utxo.Properties.html#27088" class="Function">fin∘list[]</a> <a id="27160" class="Symbol">=</a> <a id="27162" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="fin∘list∷[]"></a><a id="27169" href="Ledger.Conway.Utxo.Properties.html#27169" class="Function">fin∘list∷[]</a> <a id="27181" class="Symbol">:</a> <a id="27183" class="Symbol">{</a><a id="27184" href="Ledger.Conway.Utxo.Properties.html#27184" class="Bound">A</a> <a id="27186" class="Symbol">:</a> <a id="27188" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="27192" class="Symbol">}</a> <a id="27194" class="Symbol">{</a><a id="27195" href="Ledger.Conway.Utxo.Properties.html#27195" class="Bound">a</a> <a id="27197" class="Symbol">:</a> <a id="27199" href="Ledger.Conway.Utxo.Properties.html#27184" class="Bound">A</a><a id="27200" class="Symbol">}</a> <a id="27202" class="Symbol">→</a> <a id="27204" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27210" class="Symbol">(</a><a id="27211" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27222" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="27224" href="Ledger.Conway.Utxo.Properties.html#27195" class="Bound">a</a> <a id="27226" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="27227" class="Symbol">)</a> <a id="27229" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27231" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="27233" href="Ledger.Conway.Utxo.Properties.html#27195" class="Bound">a</a> <a id="27235" href="Data.List.Base.html#5205" class="Function Operator">]</a>
  <a id="27239" href="Ledger.Conway.Utxo.Properties.html#27169" class="Function">fin∘list∷[]</a> <a id="27251" class="Symbol">=</a> <a id="27253" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="coin∅"></a><a id="27259" href="Ledger.Conway.Utxo.Properties.html#27259" class="Function">coin∅</a> <a id="27265" class="Symbol">:</a> <a id="27267" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="27274" class="Symbol">{</a><a id="27275" class="Argument">A</a> <a id="27277" class="Symbol">=</a> <a id="27279" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a><a id="27287" class="Symbol">}</a> <a id="27289" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="27291" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27293" class="Number">0</a>
<a id="27295" href="Ledger.Conway.Utxo.Properties.html#27259" class="Function">coin∅</a> <a id="27301" class="Symbol">=</a> <a id="27303" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="27311" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27317" class="Symbol">(λ</a> <a id="27320" href="Ledger.Conway.Utxo.Properties.html#27320" class="Bound">x</a> <a id="27322" class="Symbol">→</a> <a id="27324" class="Symbol">(</a><a id="27325" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27331" href="Ledger.Conway.Utxo.Properties.html#27320" class="Bound">x</a><a id="27332" class="Symbol">)</a> <a id="27334" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27336" class="Symbol">)</a> <a id="27338" class="Number">0</a> <a id="27340" class="Symbol">(</a><a id="27341" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27353" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27357" class="Symbol">(</a><a id="27358" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27364" class="Symbol">(</a><a id="27365" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27376" href="Class.HasEmptySet.html#287" class="Field">∅</a><a id="27377" class="Symbol">)))</a>
    <a id="27385" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27388" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27393" class="Symbol">(λ</a> <a id="27396" href="Ledger.Conway.Utxo.Properties.html#27396" class="Bound">u</a> <a id="27398" class="Symbol">→</a> <a id="27400" class="Symbol">(</a><a id="27401" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27407" class="Symbol">(λ</a> <a id="27410" href="Ledger.Conway.Utxo.Properties.html#27410" class="Bound">x</a> <a id="27412" class="Symbol">→</a> <a id="27414" class="Symbol">(</a><a id="27415" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27421" href="Ledger.Conway.Utxo.Properties.html#27410" class="Bound">x</a><a id="27422" class="Symbol">)</a> <a id="27424" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27426" class="Symbol">)</a> <a id="27428" class="Number">0</a> <a id="27430" class="Symbol">(</a><a id="27431" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27443" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27447" href="Ledger.Conway.Utxo.Properties.html#27396" class="Bound">u</a><a id="27448" class="Symbol">)))</a> <a id="27452" href="Ledger.Conway.Utxo.Properties.html#27088" class="Function">fin∘list[]</a> <a id="27463" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27467" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27473" class="Symbol">(λ</a> <a id="27476" class="Symbol">(</a><a id="27477" href="Ledger.Conway.Utxo.Properties.html#27477" class="Bound">x</a> <a id="27479" class="Symbol">:</a> <a id="27481" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a> <a id="27496" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27498" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27502" class="Symbol">)</a> <a id="27504" class="Symbol">→</a> <a id="27506" class="Symbol">(</a><a id="27507" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27513" href="Ledger.Conway.Utxo.Properties.html#27477" class="Bound">x</a><a id="27514" class="Symbol">)</a> <a id="27516" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27518" class="Symbol">)</a> <a id="27520" class="Number">0</a> <a id="27522" class="Symbol">(</a><a id="27523" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27535" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27539" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27541" class="Symbol">)</a>
    <a id="27547" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27550" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27555" class="Symbol">(λ</a> <a id="27558" href="Ledger.Conway.Utxo.Properties.html#27558" class="Bound">u</a> <a id="27560" class="Symbol">→</a> <a id="27562" class="Symbol">(</a><a id="27563" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27569" class="Symbol">(λ</a> <a id="27572" class="Symbol">(</a><a id="27573" href="Ledger.Conway.Utxo.Properties.html#27573" class="Bound">x</a> <a id="27575" class="Symbol">:</a> <a id="27577" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a> <a id="27592" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27594" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27598" class="Symbol">)</a> <a id="27600" class="Symbol">→</a> <a id="27602" class="Symbol">(</a><a id="27603" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27609" href="Ledger.Conway.Utxo.Properties.html#27573" class="Bound">x</a><a id="27610" class="Symbol">)</a> <a id="27612" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27614" class="Symbol">)</a> <a id="27616" class="Number">0</a>  <a id="27619" href="Ledger.Conway.Utxo.Properties.html#27558" class="Bound">u</a><a id="27620" class="Symbol">))</a>
            <a id="27635" class="Symbol">{</a><a id="27636" class="Argument">x</a> <a id="27638" class="Symbol">=</a> <a id="27640" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27652" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27656" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27658" class="Symbol">}</a> <a id="27660" class="Symbol">{</a><a id="27661" class="Argument">y</a> <a id="27663" class="Symbol">=</a> <a id="27665" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27667" class="Symbol">}</a> <a id="27669" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="27674" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27678" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27684" class="Symbol">(λ</a> <a id="27687" class="Symbol">(</a><a id="27688" href="Ledger.Conway.Utxo.Properties.html#27688" class="Bound">x</a> <a id="27690" class="Symbol">:</a> <a id="27692" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a> <a id="27707" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27709" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27713" class="Symbol">)</a> <a id="27715" class="Symbol">→</a> <a id="27717" class="Symbol">(</a><a id="27718" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27724" href="Ledger.Conway.Utxo.Properties.html#27688" class="Bound">x</a><a id="27725" class="Symbol">)</a> <a id="27727" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27729" class="Symbol">)</a> <a id="27731" class="Number">0</a> <a id="27733" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="27740" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27743" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="27748" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27752" class="Number">0</a> <a id="27754" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="27758" class="Keyword">where</a> <a id="27764" class="Keyword">open</a> <a id="27769" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

<a id="getCoin-singleton"></a><a id="27790" href="Ledger.Conway.Utxo.Properties.html#27790" class="Function">getCoin-singleton</a> <a id="27808" class="Symbol">:</a> <a id="27810" class="Symbol">(</a><a id="27811" href="Ledger.Conway.Utxo.Properties.html#27811" class="Bound">(</a><a id="27812" href="Ledger.Conway.Utxo.Properties.html#27812" class="Bound">dp</a> <a id="27815" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27817" href="Ledger.Conway.Utxo.Properties.html#27817" class="Bound">c</a><a id="27818" href="Ledger.Conway.Utxo.Properties.html#27811" class="Bound">)</a> <a id="27820" class="Symbol">:</a> <a id="27822" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a> <a id="27837" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27839" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27843" class="Symbol">)</a> <a id="27845" class="Symbol">→</a> <a id="27847" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">indexedSumᵛ&#39;</a> <a id="27860" href="Function.Base.html#704" class="Function">id</a> <a id="27863" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="27865" class="Symbol">(</a><a id="27866" href="Ledger.Conway.Utxo.Properties.html#27812" class="Bound">dp</a> <a id="27869" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27871" href="Ledger.Conway.Utxo.Properties.html#27817" class="Bound">c</a><a id="27872" class="Symbol">)</a> <a id="27874" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="27876" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27878" href="Ledger.Conway.Utxo.Properties.html#27817" class="Bound">c</a>
<a id="27880" href="Ledger.Conway.Utxo.Properties.html#27790" class="Function">getCoin-singleton</a> <a id="27898" class="Symbol">_</a> <a id="27900" class="Symbol">=</a> <a id="27902" href="Axiom.Set.Sum.html#4082" class="Function">indexedSum-singleton&#39;</a> <a id="27924" class="Symbol">{</a><a id="27925" class="Argument">A</a> <a id="27927" class="Symbol">=</a> <a id="27929" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a> <a id="27944" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27946" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27950" class="Symbol">}</a> <a id="27952" class="Symbol">{</a><a id="27953" class="Argument">f</a> <a id="27955" class="Symbol">=</a> <a id="27957" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="27962" class="Symbol">}</a> <a id="27964" class="Symbol">(</a><a id="27965" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27976" class="Symbol">_)</a>

<a id="27980" class="Keyword">module</a> <a id="27987" href="Ledger.Conway.Utxo.Properties.html#27987" class="Module">_</a> <a id="27989" class="Comment">-- ASSUMPTION --</a>
         <a id="28015" class="Symbol">(</a><a id="28016" href="Ledger.Conway.Utxo.Properties.html#28016" class="Bound">gc-hom</a> <a id="28023" class="Symbol">:</a> <a id="28025" class="Symbol">(</a><a id="28026" href="Ledger.Conway.Utxo.Properties.html#28026" class="Bound">d₁</a> <a id="28029" href="Ledger.Conway.Utxo.Properties.html#28029" class="Bound">d₂</a> <a id="28032" class="Symbol">:</a> <a id="28034" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a><a id="28042" class="Symbol">)</a> <a id="28044" class="Symbol">→</a> <a id="28046" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28054" class="Symbol">(</a><a id="28055" href="Ledger.Conway.Utxo.Properties.html#28026" class="Bound">d₁</a> <a id="28058" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28061" href="Ledger.Conway.Utxo.Properties.html#28029" class="Bound">d₂</a><a id="28063" class="Symbol">)</a> <a id="28065" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28067" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28075" href="Ledger.Conway.Utxo.Properties.html#28026" class="Bound">d₁</a> <a id="28078" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28080" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28088" href="Ledger.Conway.Utxo.Properties.html#28029" class="Bound">d₂</a><a id="28090" class="Symbol">)</a>
  <a id="28094" class="Keyword">where</a>
  <a id="28102" href="Ledger.Conway.Utxo.Properties.html#28102" class="Function">∪⁺singleton≡</a> <a id="28115" class="Symbol">:</a> <a id="28117" class="Symbol">{</a><a id="28118" href="Ledger.Conway.Utxo.Properties.html#28118" class="Bound">deps</a> <a id="28123" class="Symbol">:</a> <a id="28125" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a><a id="28133" class="Symbol">}</a> <a id="28135" class="Symbol">{</a><a id="28136" href="Ledger.Conway.Utxo.Properties.html#28136" class="Symbol">(</a><a id="28137" href="Ledger.Conway.Utxo.Properties.html#28137" class="Bound">dp</a> <a id="28140" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28142" href="Ledger.Conway.Utxo.Properties.html#28142" class="Bound">c</a><a id="28143" href="Ledger.Conway.Utxo.Properties.html#28136" class="Symbol">)</a> <a id="28145" class="Symbol">:</a> <a id="28147" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a> <a id="28162" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="28164" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28168" class="Symbol">}</a>
                 <a id="28187" class="Symbol">→</a> <a id="28189" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28197" class="Symbol">(</a><a id="28198" href="Ledger.Conway.Utxo.Properties.html#28118" class="Bound">deps</a> <a id="28203" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28206" href="Axiom.Set.Map.html#4588" class="Function Operator">❴</a> <a id="28208" class="Symbol">(</a><a id="28209" href="Ledger.Conway.Utxo.Properties.html#28137" class="Bound">dp</a> <a id="28212" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28214" href="Ledger.Conway.Utxo.Properties.html#28142" class="Bound">c</a><a id="28215" class="Symbol">)</a> <a id="28217" href="Axiom.Set.Map.html#4588" class="Function Operator">❵ᵐ</a><a id="28219" class="Symbol">)</a> <a id="28221" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28223" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28231" href="Ledger.Conway.Utxo.Properties.html#28118" class="Bound">deps</a> <a id="28236" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28238" href="Ledger.Conway.Utxo.Properties.html#28142" class="Bound">c</a>
  <a id="28242" href="Ledger.Conway.Utxo.Properties.html#28102" class="Function">∪⁺singleton≡</a> <a id="28255" class="Symbol">{</a><a id="28256" href="Ledger.Conway.Utxo.Properties.html#28256" class="Bound">deps</a><a id="28260" class="Symbol">}</a> <a id="28262" class="Symbol">{(</a><a id="28264" href="Ledger.Conway.Utxo.Properties.html#28264" class="Bound">dp</a> <a id="28267" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28269" href="Ledger.Conway.Utxo.Properties.html#28269" class="Bound">c</a><a id="28270" class="Symbol">)}</a> <a id="28273" class="Symbol">=</a> <a id="28275" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="28285" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28293" class="Symbol">(</a><a id="28294" href="Ledger.Conway.Utxo.Properties.html#28256" class="Bound">deps</a> <a id="28299" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28302" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28304" class="Symbol">(</a><a id="28305" href="Ledger.Conway.Utxo.Properties.html#28264" class="Bound">dp</a> <a id="28308" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28310" href="Ledger.Conway.Utxo.Properties.html#28269" class="Bound">c</a><a id="28311" class="Symbol">)</a> <a id="28313" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="28314" class="Symbol">)</a>
      <a id="28322" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="28325" href="Ledger.Conway.Utxo.Properties.html#28016" class="Bound">gc-hom</a> <a id="28332" href="Ledger.Conway.Utxo.Properties.html#28256" class="Bound">deps</a> <a id="28337" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28339" class="Symbol">(</a><a id="28340" href="Ledger.Conway.Utxo.Properties.html#28264" class="Bound">dp</a> <a id="28343" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28345" href="Ledger.Conway.Utxo.Properties.html#28269" class="Bound">c</a><a id="28346" class="Symbol">)</a> <a id="28348" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="28350" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="28356" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28364" href="Ledger.Conway.Utxo.Properties.html#28256" class="Bound">deps</a> <a id="28369" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28371" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="28378" class="Symbol">{</a><a id="28379" class="Argument">A</a> <a id="28381" class="Symbol">=</a> <a id="28383" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a><a id="28391" class="Symbol">}</a> <a id="28393" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28395" class="Symbol">(</a><a id="28396" href="Ledger.Conway.Utxo.Properties.html#28264" class="Bound">dp</a> <a id="28399" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28401" href="Ledger.Conway.Utxo.Properties.html#28269" class="Bound">c</a><a id="28402" class="Symbol">)</a> <a id="28404" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="28412" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="28415" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="28420" class="Symbol">(</a><a id="28421" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28429" href="Ledger.Conway.Utxo.Properties.html#28256" class="Bound">deps</a> <a id="28434" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="28436" class="Symbol">)</a> <a id="28438" class="Symbol">(</a><a id="28439" href="Ledger.Conway.Utxo.Properties.html#27790" class="Function">getCoin-singleton</a> <a id="28457" class="Symbol">(</a><a id="28458" href="Ledger.Conway.Utxo.Properties.html#28264" class="Bound">dp</a> <a id="28461" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28463" href="Ledger.Conway.Utxo.Properties.html#28269" class="Bound">c</a><a id="28464" class="Symbol">))</a> <a id="28467" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="28473" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28481" href="Ledger.Conway.Utxo.Properties.html#28256" class="Bound">deps</a> <a id="28486" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28488" href="Ledger.Conway.Utxo.Properties.html#28269" class="Bound">c</a>
      <a id="28496" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="28502" class="Keyword">where</a> <a id="28508" class="Keyword">open</a> <a id="28513" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

  <a id="28536" class="Keyword">module</a> <a id="28543" href="Ledger.Conway.Utxo.Properties.html#28543" class="Module">_</a> <a id="28545" class="Symbol">{</a><a id="28546" href="Ledger.Conway.Utxo.Properties.html#28546" class="Bound">deposits</a> <a id="28555" class="Symbol">:</a> <a id="28557" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a><a id="28565" class="Symbol">}</a> <a id="28567" class="Symbol">{</a><a id="28568" href="Ledger.Conway.Utxo.Properties.html#28568" class="Bound">txid</a> <a id="28573" class="Symbol">:</a> <a id="28575" href="Ledger.Conway.Transaction.html#962" class="Field">TxId</a><a id="28579" class="Symbol">}</a> <a id="28581" class="Symbol">{</a><a id="28582" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a> <a id="28588" class="Symbol">:</a> <a id="28590" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28594" class="Symbol">}</a> <a id="28596" class="Keyword">where</a>

    <a id="28607" href="Ledger.Conway.Utxo.Properties.html#28607" class="Function">≤updatePropDeps</a> <a id="28623" class="Symbol">:</a> <a id="28625" class="Symbol">(</a><a id="28626" href="Ledger.Conway.Utxo.Properties.html#28626" class="Bound">props</a> <a id="28632" class="Symbol">:</a> <a id="28634" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="28639" href="Ledger.Conway.GovernanceActions.html#2538" class="Record">GovProposal</a><a id="28650" class="Symbol">)</a>
      <a id="28658" class="Symbol">→</a> <a id="28660" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28668" href="Ledger.Conway.Utxo.Properties.html#28546" class="Bound">deposits</a> <a id="28677" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="28679" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28687" class="Symbol">(</a><a id="28688" href="Ledger.Conway.Utxo.html#9034" class="Function">updateProposalDeposits</a> <a id="28711" href="Ledger.Conway.Utxo.Properties.html#28626" class="Bound">props</a> <a id="28717" href="Ledger.Conway.Utxo.Properties.html#28568" class="Bound">txid</a> <a id="28722" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a> <a id="28728" href="Ledger.Conway.Utxo.Properties.html#28546" class="Bound">deposits</a><a id="28736" class="Symbol">)</a>
    <a id="28742" href="Ledger.Conway.Utxo.Properties.html#28607" class="Function">≤updatePropDeps</a> <a id="28758" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="28761" class="Symbol">=</a> <a id="28763" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="28775" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="28784" href="Ledger.Conway.Utxo.Properties.html#28607" class="Function">≤updatePropDeps</a> <a id="28800" class="Symbol">(</a><a id="28801" href="Ledger.Conway.Utxo.Properties.html#28801" class="Bound">x</a> <a id="28803" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="28805" href="Ledger.Conway.Utxo.Properties.html#28805" class="Bound">props</a><a id="28810" class="Symbol">)</a> <a id="28812" class="Symbol">=</a> <a id="28814" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="28822" class="Symbol">(</a><a id="28823" href="Ledger.Conway.Utxo.Properties.html#28607" class="Function">≤updatePropDeps</a> <a id="28839" href="Ledger.Conway.Utxo.Properties.html#28805" class="Bound">props</a><a id="28844" class="Symbol">)</a>
                                          <a id="28888" class="Symbol">(</a><a id="28889" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="28897" class="Symbol">(</a><a id="28898" href="Data.Nat.Properties.html#19178" class="Function">m≤m+n</a> <a id="28904" class="Symbol">_</a> <a id="28906" class="Symbol">_)</a>
                                                   <a id="28960" class="Symbol">(</a><a id="28961" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="28973" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="28975" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="28979" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="28981" href="Ledger.Conway.Utxo.Properties.html#28102" class="Function">∪⁺singleton≡</a><a id="28993" class="Symbol">))</a>
    <a id="29000" href="Ledger.Conway.Utxo.Properties.html#29000" class="Function">updatePropDeps≡</a> <a id="29016" class="Symbol">:</a> <a id="29018" class="Symbol">(</a><a id="29019" href="Ledger.Conway.Utxo.Properties.html#29019" class="Bound">ps</a> <a id="29022" class="Symbol">:</a> <a id="29024" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="29029" href="Ledger.Conway.GovernanceActions.html#2538" class="Record">GovProposal</a><a id="29040" class="Symbol">)</a>
      <a id="29048" class="Symbol">→</a> <a id="29050" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29058" class="Symbol">(</a><a id="29059" href="Ledger.Conway.Utxo.html#9034" class="Function">updateProposalDeposits</a> <a id="29082" href="Ledger.Conway.Utxo.Properties.html#29019" class="Bound">ps</a> <a id="29085" href="Ledger.Conway.Utxo.Properties.html#28568" class="Bound">txid</a> <a id="29090" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a> <a id="29096" href="Ledger.Conway.Utxo.Properties.html#28546" class="Bound">deposits</a><a id="29104" class="Symbol">)</a> <a id="29106" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="29108" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29116" href="Ledger.Conway.Utxo.Properties.html#28546" class="Bound">deposits</a> <a id="29125" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="29127" class="Symbol">(</a><a id="29128" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29135" href="Ledger.Conway.Utxo.Properties.html#29019" class="Bound">ps</a><a id="29137" class="Symbol">)</a> <a id="29139" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29141" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a>
    <a id="29151" href="Ledger.Conway.Utxo.Properties.html#29000" class="Function">updatePropDeps≡</a> <a id="29167" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="29170" class="Symbol">=</a> <a id="29172" href="Data.Nat.Properties.html#46355" class="Function">n∸n≡0</a> <a id="29178" class="Symbol">(</a><a id="29179" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29187" href="Ledger.Conway.Utxo.Properties.html#28546" class="Bound">deposits</a><a id="29195" class="Symbol">)</a>
    <a id="29201" href="Ledger.Conway.Utxo.Properties.html#29000" class="Function">updatePropDeps≡</a> <a id="29217" class="Symbol">(_</a> <a id="29220" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="29222" href="Ledger.Conway.Utxo.Properties.html#29222" class="Bound">ps</a><a id="29224" class="Symbol">)</a> <a id="29226" class="Symbol">=</a> <a id="29228" class="Keyword">let</a>
      <a id="29238" href="Ledger.Conway.Utxo.Properties.html#29238" class="Bound">upD</a> <a id="29242" class="Symbol">=</a> <a id="29244" href="Ledger.Conway.Utxo.html#9034" class="Function">updateProposalDeposits</a> <a id="29267" href="Ledger.Conway.Utxo.Properties.html#29222" class="Bound">ps</a> <a id="29270" href="Ledger.Conway.Utxo.Properties.html#28568" class="Bound">txid</a> <a id="29275" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a> <a id="29281" href="Ledger.Conway.Utxo.Properties.html#28546" class="Bound">deposits</a> <a id="29290" class="Keyword">in</a>
      <a id="29299" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="29313" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29321" class="Symbol">(</a><a id="29322" href="Ledger.Conway.Utxo.Properties.html#29238" class="Bound">upD</a> <a id="29326" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="29329" href="Axiom.Set.Map.html#4588" class="Function Operator">❴</a> <a id="29331" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="29348" class="Symbol">(</a><a id="29349" href="Ledger.Conway.Utxo.Properties.html#28568" class="Bound">txid</a> <a id="29354" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29356" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29363" href="Ledger.Conway.Utxo.Properties.html#29222" class="Bound">ps</a><a id="29365" class="Symbol">)</a> <a id="29367" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29369" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a> <a id="29375" href="Axiom.Set.Map.html#4588" class="Function Operator">❵ᵐ</a><a id="29377" class="Symbol">)</a> <a id="29379" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29381" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29389" href="Ledger.Conway.Utxo.Properties.html#28546" class="Bound">deposits</a>
          <a id="29408" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29411" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="29416" class="Symbol">(</a><a id="29417" href="Data.Nat.Base.html#4462" class="Primitive Operator">_∸</a> <a id="29420" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29428" href="Ledger.Conway.Utxo.Properties.html#28546" class="Bound">deposits</a><a id="29436" class="Symbol">)</a> <a id="29438" href="Ledger.Conway.Utxo.Properties.html#28102" class="Function">∪⁺singleton≡</a> <a id="29451" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29461" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29469" href="Ledger.Conway.Utxo.Properties.html#29238" class="Bound">upD</a> <a id="29473" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29475" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a> <a id="29481" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29483" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29491" href="Ledger.Conway.Utxo.Properties.html#28546" class="Bound">deposits</a>
          <a id="29510" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29513" href="Data.Nat.Properties.html#49780" class="Function">+-∸-comm</a> <a id="29522" class="Symbol">_</a> <a id="29524" class="Symbol">(</a><a id="29525" href="Ledger.Conway.Utxo.Properties.html#28607" class="Function">≤updatePropDeps</a> <a id="29541" href="Ledger.Conway.Utxo.Properties.html#29222" class="Bound">ps</a><a id="29543" class="Symbol">)</a> <a id="29545" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29555" class="Symbol">(</a><a id="29556" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29564" href="Ledger.Conway.Utxo.Properties.html#29238" class="Bound">upD</a> <a id="29568" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29570" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29578" href="Ledger.Conway.Utxo.Properties.html#28546" class="Bound">deposits</a><a id="29586" class="Symbol">)</a> <a id="29588" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29590" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a>
          <a id="29606" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29609" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="29614" class="Symbol">(</a><a id="29615" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="29618" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a><a id="29623" class="Symbol">)</a> <a id="29625" class="Symbol">(</a><a id="29626" href="Ledger.Conway.Utxo.Properties.html#29000" class="Function">updatePropDeps≡</a> <a id="29642" href="Ledger.Conway.Utxo.Properties.html#29222" class="Bound">ps</a><a id="29644" class="Symbol">)</a> <a id="29646" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29656" class="Symbol">(</a><a id="29657" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29664" href="Ledger.Conway.Utxo.Properties.html#29222" class="Bound">ps</a><a id="29666" class="Symbol">)</a> <a id="29668" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29670" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a> <a id="29676" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29678" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a>
          <a id="29694" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29697" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="29704" class="Symbol">((</a><a id="29706" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29713" href="Ledger.Conway.Utxo.Properties.html#29222" class="Bound">ps</a><a id="29715" class="Symbol">)</a> <a id="29717" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29719" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a><a id="29724" class="Symbol">)</a> <a id="29726" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a> <a id="29732" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29742" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a> <a id="29748" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29750" class="Symbol">(</a><a id="29751" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29758" href="Ledger.Conway.Utxo.Properties.html#29222" class="Bound">ps</a><a id="29760" class="Symbol">)</a> <a id="29762" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29764" href="Ledger.Conway.Utxo.Properties.html#28582" class="Bound">gaDep</a>
          <a id="29780" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
        <a id="29790" class="Keyword">where</a> <a id="29796" class="Keyword">open</a> <a id="29801" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

  <a id="29824" href="Ledger.Conway.Utxo.Properties.html#29824" class="Function">≤certDeps</a>  <a id="29835" class="Symbol">:</a>  <a id="29838" class="Symbol">{</a><a id="29839" href="Ledger.Conway.Utxo.Properties.html#29839" class="Bound">d</a> <a id="29841" class="Symbol">:</a> <a id="29843" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a><a id="29851" class="Symbol">}</a> <a id="29853" class="Symbol">{</a><a id="29854" href="Ledger.Conway.Utxo.Properties.html#29854" class="Symbol">(</a><a id="29855" href="Ledger.Conway.Utxo.Properties.html#29855" class="Bound">dp</a> <a id="29858" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29860" href="Ledger.Conway.Utxo.Properties.html#29860" class="Bound">c</a><a id="29861" href="Ledger.Conway.Utxo.Properties.html#29854" class="Symbol">)</a> <a id="29863" class="Symbol">:</a> <a id="29865" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a> <a id="29880" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="29882" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="29886" class="Symbol">}</a>
             <a id="29901" class="Symbol">→</a>  <a id="29904" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29912" href="Ledger.Conway.Utxo.Properties.html#29839" class="Bound">d</a> <a id="29914" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="29916" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29924" class="Symbol">(</a><a id="29925" href="Ledger.Conway.Utxo.Properties.html#29839" class="Bound">d</a> <a id="29927" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="29930" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="29932" class="Symbol">(</a><a id="29933" href="Ledger.Conway.Utxo.Properties.html#29855" class="Bound">dp</a> <a id="29936" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29938" href="Ledger.Conway.Utxo.Properties.html#29860" class="Bound">c</a><a id="29939" class="Symbol">)</a> <a id="29941" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="29942" class="Symbol">)</a>

  <a id="29947" href="Ledger.Conway.Utxo.Properties.html#29824" class="Function">≤certDeps</a> <a id="29957" class="Symbol">{</a><a id="29958" href="Ledger.Conway.Utxo.Properties.html#29958" class="Bound">d</a><a id="29959" class="Symbol">}</a> <a id="29961" class="Symbol">=</a> <a id="29963" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="29973" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29981" href="Ledger.Conway.Utxo.Properties.html#29958" class="Bound">d</a>                      <a id="30004" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="30007" href="Data.Nat.Properties.html#19178" class="Function">m≤m+n</a> <a id="30013" class="Symbol">(</a><a id="30014" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30022" href="Ledger.Conway.Utxo.Properties.html#29958" class="Bound">d</a><a id="30023" class="Symbol">)</a> <a id="30025" class="Symbol">_</a> <a id="30027" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="30033" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30041" href="Ledger.Conway.Utxo.Properties.html#29958" class="Bound">d</a> <a id="30043" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="30045" class="Symbol">_</a>                  <a id="30064" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="30067" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="30071" href="Ledger.Conway.Utxo.Properties.html#28102" class="Function">∪⁺singleton≡</a> <a id="30084" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="30090" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30098" class="Symbol">(</a><a id="30099" href="Ledger.Conway.Utxo.Properties.html#29958" class="Bound">d</a> <a id="30101" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30104" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30106" class="Symbol">_</a> <a id="30108" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30109" class="Symbol">)</a>           <a id="30121" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="30127" class="Keyword">where</a> <a id="30133" class="Keyword">open</a> <a id="30138" href="Data.Nat.Properties.html#14692" class="Module">≤-Reasoning</a>


  <a id="30154" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="30170" class="Symbol">:</a> <a id="30172" class="Symbol">(</a><a id="30173" href="Ledger.Conway.Utxo.Properties.html#30173" class="Bound">cs</a> <a id="30176" class="Symbol">:</a> <a id="30178" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="30183" href="Ledger.Conway.Certs.html#1352" class="Datatype">DCert</a><a id="30188" class="Symbol">)</a> <a id="30190" class="Symbol">{</a><a id="30191" href="Ledger.Conway.Utxo.Properties.html#30191" class="Bound">pp</a> <a id="30194" class="Symbol">:</a> <a id="30196" href="Ledger.Conway.PParams.html#1605" class="Record">PParams</a><a id="30203" class="Symbol">}</a> <a id="30205" class="Symbol">{</a><a id="30206" href="Ledger.Conway.Utxo.Properties.html#30206" class="Bound">deposits</a> <a id="30215" class="Symbol">:</a> <a id="30217" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a><a id="30225" class="Symbol">}</a>
    <a id="30231" class="Symbol">→</a> <a id="30233" href="Ledger.Conway.Utxo.Properties.html#26937" class="Function">noRefundCert</a> <a id="30246" href="Ledger.Conway.Utxo.Properties.html#30173" class="Bound">cs</a>
    <a id="30253" class="Symbol">→</a> <a id="30255" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30263" href="Ledger.Conway.Utxo.Properties.html#30206" class="Bound">deposits</a> <a id="30272" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="30274" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30282" class="Symbol">(</a><a id="30283" href="Ledger.Conway.Utxo.html#8061" class="Function">updateCertDeposits</a> <a id="30302" href="Ledger.Conway.Utxo.Properties.html#30191" class="Bound">pp</a> <a id="30305" href="Ledger.Conway.Utxo.Properties.html#30173" class="Bound">cs</a> <a id="30308" href="Ledger.Conway.Utxo.Properties.html#30206" class="Bound">deposits</a><a id="30316" class="Symbol">)</a>
  <a id="30320" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="30336" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="30339" href="Ledger.Conway.Utxo.Properties.html#30339" class="Bound">nrf</a> <a id="30343" class="Symbol">=</a> <a id="30345" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="30357" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="30364" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="30380" class="Symbol">(</a><a id="30381" href="Ledger.Conway.Certs.html#2059" class="InductiveConstructor">reg</a> <a id="30385" href="Ledger.Conway.Utxo.Properties.html#30385" class="Bound">c</a> <a id="30387" href="Ledger.Conway.Utxo.Properties.html#30387" class="Bound">v</a> <a id="30389" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30391" href="Ledger.Conway.Utxo.Properties.html#30391" class="Bound">cs</a><a id="30393" class="Symbol">)</a> <a id="30395" class="Symbol">{</a><a id="30396" href="Ledger.Conway.Utxo.Properties.html#30396" class="Bound">pp</a><a id="30398" class="Symbol">}</a> <a id="30400" class="Symbol">{</a><a id="30401" href="Ledger.Conway.Utxo.Properties.html#30401" class="Bound">deposits</a><a id="30409" class="Symbol">}</a> <a id="30411" class="Symbol">(_</a> <a id="30414" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30420" href="Ledger.Conway.Utxo.Properties.html#30420" class="Bound">nrf</a><a id="30423" class="Symbol">)</a> <a id="30425" class="Symbol">=</a>
    <a id="30431" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30439" href="Ledger.Conway.Utxo.Properties.html#29824" class="Function">≤certDeps</a> <a id="30449" class="Symbol">(</a><a id="30450" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="30466" href="Ledger.Conway.Utxo.Properties.html#30391" class="Bound">cs</a> <a id="30469" class="Symbol">{</a><a id="30470" href="Ledger.Conway.Utxo.Properties.html#30396" class="Bound">pp</a><a id="30472" class="Symbol">}</a> <a id="30474" class="Symbol">{</a><a id="30475" href="Ledger.Conway.Utxo.Properties.html#30401" class="Bound">deposits</a> <a id="30484" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30487" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30489" href="Ledger.Conway.Certs.html#390" class="InductiveConstructor">CredentialDeposit</a> <a id="30507" href="Ledger.Conway.Utxo.Properties.html#30385" class="Bound">c</a> <a id="30509" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30511" href="Ledger.Conway.Utxo.Properties.html#30396" class="Bound">pp</a> <a id="30514" class="Symbol">.</a><a id="30515" href="Ledger.Conway.PParams.html#2111" class="Field">PParams.keyDeposit</a> <a id="30534" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30535" class="Symbol">}</a> <a id="30537" href="Ledger.Conway.Utxo.Properties.html#30420" class="Bound">nrf</a><a id="30540" class="Symbol">)</a>
  <a id="30544" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="30560" class="Symbol">(</a><a id="30561" href="Ledger.Conway.Certs.html#1373" class="InductiveConstructor">delegate</a> <a id="30570" href="Ledger.Conway.Utxo.Properties.html#30570" class="Bound">c</a> <a id="30572" class="Symbol">_</a> <a id="30574" class="Symbol">_</a> <a id="30576" href="Ledger.Conway.Utxo.Properties.html#30576" class="Bound">v</a> <a id="30578" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30580" href="Ledger.Conway.Utxo.Properties.html#30580" class="Bound">cs</a><a id="30582" class="Symbol">)</a> <a id="30584" class="Symbol">{</a><a id="30585" href="Ledger.Conway.Utxo.Properties.html#30585" class="Bound">pp</a><a id="30587" class="Symbol">}</a> <a id="30589" class="Symbol">{</a><a id="30590" href="Ledger.Conway.Utxo.Properties.html#30590" class="Bound">deposits</a><a id="30598" class="Symbol">}</a> <a id="30600" class="Symbol">(_</a> <a id="30603" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30609" href="Ledger.Conway.Utxo.Properties.html#30609" class="Bound">nrf</a><a id="30612" class="Symbol">)</a> <a id="30614" class="Symbol">=</a>
    <a id="30620" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30628" href="Ledger.Conway.Utxo.Properties.html#29824" class="Function">≤certDeps</a> <a id="30638" class="Symbol">(</a><a id="30639" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="30655" href="Ledger.Conway.Utxo.Properties.html#30580" class="Bound">cs</a> <a id="30658" class="Symbol">{</a><a id="30659" href="Ledger.Conway.Utxo.Properties.html#30585" class="Bound">pp</a><a id="30661" class="Symbol">}</a> <a id="30663" class="Symbol">{</a><a id="30664" href="Ledger.Conway.Utxo.Properties.html#30590" class="Bound">deposits</a> <a id="30673" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30676" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30678" href="Ledger.Conway.Certs.html#390" class="InductiveConstructor">CredentialDeposit</a> <a id="30696" href="Ledger.Conway.Utxo.Properties.html#30570" class="Bound">c</a> <a id="30698" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30700" href="Ledger.Conway.Utxo.Properties.html#30576" class="Bound">v</a> <a id="30702" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30703" class="Symbol">}</a> <a id="30705" href="Ledger.Conway.Utxo.Properties.html#30609" class="Bound">nrf</a><a id="30708" class="Symbol">)</a>
  <a id="30712" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="30728" class="Symbol">(</a><a id="30729" href="Ledger.Conway.Certs.html#1494" class="InductiveConstructor">regpool</a> <a id="30737" class="Symbol">_</a> <a id="30739" class="Symbol">_</a> <a id="30741" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30743" href="Ledger.Conway.Utxo.Properties.html#30743" class="Bound">cs</a><a id="30745" class="Symbol">)</a>       <a id="30753" class="Symbol">(_</a> <a id="30756" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30762" href="Ledger.Conway.Utxo.Properties.html#30762" class="Bound">nrf</a><a id="30765" class="Symbol">)</a> <a id="30767" class="Symbol">=</a> <a id="30769" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30777" href="Ledger.Conway.Utxo.Properties.html#29824" class="Function">≤certDeps</a> <a id="30787" class="Symbol">(</a><a id="30788" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="30804" href="Ledger.Conway.Utxo.Properties.html#30743" class="Bound">cs</a> <a id="30807" href="Ledger.Conway.Utxo.Properties.html#30762" class="Bound">nrf</a><a id="30810" class="Symbol">)</a>
  <a id="30814" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="30830" class="Symbol">(</a><a id="30831" href="Ledger.Conway.Certs.html#1539" class="InductiveConstructor">retirepool</a> <a id="30842" class="Symbol">_</a> <a id="30844" class="Symbol">_</a> <a id="30846" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30848" href="Ledger.Conway.Utxo.Properties.html#30848" class="Bound">cs</a><a id="30850" class="Symbol">)</a>    <a id="30855" class="Symbol">(_</a> <a id="30858" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30864" href="Ledger.Conway.Utxo.Properties.html#30864" class="Bound">nrf</a><a id="30867" class="Symbol">)</a> <a id="30869" class="Symbol">=</a> <a id="30871" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="30887" href="Ledger.Conway.Utxo.Properties.html#30848" class="Bound">cs</a> <a id="30890" href="Ledger.Conway.Utxo.Properties.html#30864" class="Bound">nrf</a>
  <a id="30896" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="30912" class="Symbol">(</a><a id="30913" href="Ledger.Conway.Certs.html#1579" class="InductiveConstructor">regdrep</a> <a id="30921" class="Symbol">_</a> <a id="30923" class="Symbol">_</a> <a id="30925" class="Symbol">_</a> <a id="30927" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30929" href="Ledger.Conway.Utxo.Properties.html#30929" class="Bound">cs</a><a id="30931" class="Symbol">)</a>     <a id="30937" class="Symbol">(_</a> <a id="30940" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30946" href="Ledger.Conway.Utxo.Properties.html#30946" class="Bound">nrf</a><a id="30949" class="Symbol">)</a> <a id="30951" class="Symbol">=</a> <a id="30953" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30961" href="Ledger.Conway.Utxo.Properties.html#29824" class="Function">≤certDeps</a> <a id="30971" class="Symbol">(</a><a id="30972" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="30988" href="Ledger.Conway.Utxo.Properties.html#30929" class="Bound">cs</a> <a id="30991" href="Ledger.Conway.Utxo.Properties.html#30946" class="Bound">nrf</a><a id="30994" class="Symbol">)</a>
  <a id="30998" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="31014" class="Symbol">(</a><a id="31015" href="Ledger.Conway.Certs.html#1672" class="InductiveConstructor">ccreghot</a> <a id="31024" class="Symbol">_</a> <a id="31026" class="Symbol">_</a> <a id="31028" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="31030" href="Ledger.Conway.Utxo.Properties.html#31030" class="Bound">cs</a><a id="31032" class="Symbol">)</a>      <a id="31039" class="Symbol">(_</a> <a id="31042" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="31048" href="Ledger.Conway.Utxo.Properties.html#31048" class="Bound">nrf</a><a id="31051" class="Symbol">)</a> <a id="31053" class="Symbol">=</a> <a id="31055" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="31071" href="Ledger.Conway.Utxo.Properties.html#31030" class="Bound">cs</a> <a id="31074" href="Ledger.Conway.Utxo.Properties.html#31048" class="Bound">nrf</a>

  <a id="31081" class="Comment">-- Main Theorem: General Minimum Spending Condition --</a>
  <a id="31138" href="Ledger.Conway.Utxo.Properties.html#31138" class="Function">gmsc</a> <a id="31143" class="Symbol">:</a>  <a id="31146" class="Keyword">let</a> <a id="31150" class="Keyword">open</a> <a id="31155" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a> <a id="31158" href="Ledger.Conway.Utxo.Properties.html#7281" class="Generalizable">tx</a> <a id="31161" class="Keyword">renaming</a> <a id="31170" class="Symbol">(</a><a id="31171" href="Ledger.Conway.Transaction.html#4338" class="Field">body</a> <a id="31176" class="Symbol">to</a> <a id="31179" class="Field">txb</a><a id="31182" class="Symbol">);</a> <a id="31185" class="Keyword">open</a> <a id="31190" href="Ledger.Conway.Transaction.html#2762" class="Module">TxBody</a> <a id="31197" href="Ledger.Conway.Utxo.Properties.html#31179" class="Function">txb</a>
              <a id="31215" href="Ledger.Conway.Utxo.Properties.html#31215" class="Bound">pp</a> <a id="31218" class="Symbol">=</a> <a id="31220" href="Ledger.Conway.Utxo.html#2449" class="Field">UTxOEnv.pparams</a> <a id="31236" href="Ledger.Conway.Utxo.Properties.html#7363" class="Generalizable">Γ</a><a id="31237" class="Symbol">;</a> <a id="31239" class="Keyword">open</a> <a id="31244" href="Ledger.Conway.PParams.html#1605" class="Module">PParams</a> <a id="31252" href="Ledger.Conway.Utxo.Properties.html#31215" class="Bound">pp</a>
              <a id="31269" class="Keyword">open</a> <a id="31274" href="Ledger.Conway.Utxo.html#2747" class="Module">UTxOState</a> <a id="31284" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a>
                <a id="31310" class="Keyword">renaming</a> <a id="31319" class="Symbol">(</a><a id="31320" href="Ledger.Conway.Utxo.html#2811" class="Field">utxo</a> <a id="31325" class="Symbol">to</a> <a id="31328" class="Field">st</a><a id="31330" class="Symbol">;</a> <a id="31332" href="Ledger.Conway.Utxo.html#2833" class="Field">fees</a> <a id="31337" class="Symbol">to</a> <a id="31340" class="Field">fs</a><a id="31342" class="Symbol">;</a> <a id="31344" href="Ledger.Conway.Utxo.html#2855" class="Field">deposits</a> <a id="31353" class="Symbol">to</a> <a id="31356" class="Field">deps</a><a id="31360" class="Symbol">;</a> <a id="31362" href="Ledger.Conway.Utxo.html#2881" class="Field">donations</a> <a id="31372" class="Symbol">to</a> <a id="31375" class="Field">dons</a><a id="31379" class="Symbol">)</a>
          <a id="31391" class="Keyword">in</a>
    <a id="31398" href="Ledger.Conway.Utxo.Properties.html#7363" class="Generalizable">Γ</a> <a id="31400" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⊢</a>  <a id="31403" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="31405" href="Ledger.Conway.Utxo.Properties.html#31328" class="Function">st</a>   <a id="31410" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31412" href="Ledger.Conway.Utxo.Properties.html#31340" class="Function">fs</a>   <a id="31417" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31419" href="Ledger.Conway.Utxo.Properties.html#31356" class="Function">deps</a>   <a id="31426" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31428" href="Ledger.Conway.Utxo.Properties.html#31375" class="Function">dons</a>   <a id="31435" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a> <a id="31437" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⇀⦇</a> <a id="31440" href="Ledger.Conway.Utxo.Properties.html#7281" class="Generalizable">tx</a> <a id="31443" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">,UTXO⦈</a>
         <a id="31459" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="31461" href="Ledger.Conway.Utxo.Properties.html#7326" class="Generalizable">utxo&#39;</a>  <a id="31468" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31470" href="Ledger.Conway.Utxo.Properties.html#7460" class="Generalizable">fees&#39;</a>  <a id="31477" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31479" href="Ledger.Conway.Utxo.Properties.html#7506" class="Generalizable">deposits&#39;</a>  <a id="31490" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31492" href="Ledger.Conway.Utxo.Properties.html#7476" class="Generalizable">donations&#39;</a>  <a id="31504" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>

    <a id="31511" class="Symbol">→</a> <a id="31513" href="Ledger.Conway.Utxo.Properties.html#26937" class="Function">noRefundCert</a> <a id="31526" href="Ledger.Conway.Transaction.html#2996" class="Function">txcerts</a> <a id="31534" class="Comment">-- FINAL ASSUMPTION --</a>

       <a id="31565" class="Comment">-------------------------------------------------------------------</a>
    <a id="31637" class="Symbol">→</a>  <a id="31640" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="31645" class="Symbol">(</a><a id="31646" href="Ledger.Conway.Utxo.html#12332" class="Function">consumed</a> <a id="31655" href="Ledger.Conway.Utxo.Properties.html#31215" class="Bound">pp</a> <a id="31658" href="Ledger.Conway.Utxo.Properties.html#7408" class="Generalizable">utxoState</a> <a id="31668" href="Ledger.Conway.Utxo.Properties.html#31179" class="Function">txb</a><a id="31671" class="Symbol">)</a> <a id="31673" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="31675" href="Data.List.Base.html#5044" class="Function">length</a> <a id="31682" href="Ledger.Conway.Transaction.html#3094" class="Function">txprop</a> <a id="31689" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="31691" href="Ledger.Conway.PParams.html#3271" class="Function">govActionDeposit</a>

  <a id="31711" href="Ledger.Conway.Utxo.Properties.html#31138" class="Function">gmsc</a> <a id="31716" href="Ledger.Conway.Utxo.Properties.html#31716" class="Bound">step</a><a id="31720" class="Symbol">@(</a><a id="31722" href="Ledger.Conway.Utxo.html#15429" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="31738" href="Ledger.Conway.Utxo.Properties.html#31738" class="Bound">tx</a> <a id="31741" href="Ledger.Conway.Utxo.Properties.html#31741" class="Bound">Γ</a> <a id="31743" href="Ledger.Conway.Utxo.Properties.html#31743" class="Bound">utxoState</a> <a id="31753" class="Symbol">_</a> <a id="31755" class="Symbol">_</a> <a id="31757" class="Symbol">_</a> <a id="31759" class="Symbol">_</a> <a id="31761" class="Symbol">_</a> <a id="31763" href="Ledger.Conway.Utxo.Properties.html#31763" class="Bound">c≡p</a> <a id="31767" href="Ledger.Conway.Utxo.Properties.html#31767" class="Bound">cmint≡0</a> <a id="31775" class="Symbol">_</a> <a id="31777" class="Symbol">_</a> <a id="31779" class="Symbol">_</a> <a id="31781" class="Symbol">_</a> <a id="31783" class="Symbol">_</a> <a id="31785" class="Symbol">_</a> <a id="31787" class="Symbol">_</a> <a id="31789" class="Symbol">_</a> <a id="31791" class="Symbol">_</a> <a id="31793" class="Symbol">_)</a> <a id="31796" href="Ledger.Conway.Utxo.Properties.html#31796" class="Bound">nrf</a> <a id="31800" class="Symbol">=</a>
    <a id="31806" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="31816" href="Data.List.Base.html#5044" class="Function">length</a> <a id="31823" href="Ledger.Conway.Transaction.html#3094" class="Function">txprop</a> <a id="31830" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="31832" href="Ledger.Conway.PParams.html#3271" class="Function">govActionDeposit</a>
      <a id="31855" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="31859" href="Ledger.Conway.Utxo.Properties.html#29000" class="Function">updatePropDeps≡</a> <a id="31875" href="Ledger.Conway.Transaction.html#3094" class="Function">txprop</a> <a id="31882" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="31888" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31896" class="Symbol">(</a><a id="31897" href="Ledger.Conway.Utxo.html#9034" class="Function">updateProposalDeposits</a> <a id="31920" href="Ledger.Conway.Transaction.html#3094" class="Function">txprop</a> <a id="31927" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="31932" href="Ledger.Conway.PParams.html#3271" class="Function">govActionDeposit</a> <a id="31949" href="Ledger.Conway.Utxo.Properties.html#33266" class="Function">deps</a><a id="31953" class="Symbol">)</a> <a id="31955" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="31957" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31965" href="Ledger.Conway.Utxo.Properties.html#33266" class="Function">deps</a>
      <a id="31976" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="31979" href="Data.Nat.Properties.html#47411" class="Function">∸-monoˡ-≤</a> <a id="31989" class="Symbol">(</a><a id="31990" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31998" href="Ledger.Conway.Utxo.Properties.html#33266" class="Function">deps</a><a id="32002" class="Symbol">)</a> <a id="32004" class="Symbol">(</a><a id="32005" href="Ledger.Conway.Utxo.Properties.html#30154" class="Function">≤updateCertDeps</a> <a id="32021" href="Ledger.Conway.Transaction.html#2996" class="Function">txcerts</a> <a id="32029" href="Ledger.Conway.Utxo.Properties.html#31796" class="Bound">nrf</a><a id="32032" class="Symbol">)</a> <a id="32034" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="32040" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32048" class="Symbol">(</a><a id="32049" href="Ledger.Conway.Utxo.html#9339" class="Function">updateDeposits</a> <a id="32064" href="Ledger.Conway.Utxo.Properties.html#33079" class="Function">pp</a> <a id="32067" href="Ledger.Conway.Utxo.Properties.html#33169" class="Function">txb</a> <a id="32071" href="Ledger.Conway.Utxo.Properties.html#33266" class="Function">deps</a><a id="32075" class="Symbol">)</a> <a id="32077" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="32079" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32087" href="Ledger.Conway.Utxo.Properties.html#33266" class="Function">deps</a>
      <a id="32098" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32101" href="Prelude.html#3321" class="Function">∸≡posPart⊖</a> <a id="32112" class="Symbol">{</a><a id="32113" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32121" class="Symbol">(</a><a id="32122" href="Ledger.Conway.Utxo.html#9339" class="Function">updateDeposits</a> <a id="32137" href="Ledger.Conway.Utxo.Properties.html#33079" class="Function">pp</a> <a id="32140" href="Ledger.Conway.Utxo.Properties.html#33169" class="Function">txb</a> <a id="32144" href="Ledger.Conway.Utxo.Properties.html#33266" class="Function">deps</a><a id="32148" class="Symbol">)}</a> <a id="32151" class="Symbol">{</a><a id="32152" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32160" href="Ledger.Conway.Utxo.Properties.html#33266" class="Function">deps</a><a id="32164" class="Symbol">}</a> <a id="32166" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32172" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a>
      <a id="32186" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="32189" href="Data.Nat.Properties.html#19261" class="Function">m≤n+m</a> <a id="32195" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a> <a id="32203" class="Symbol">(</a><a id="32204" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="32209" href="Ledger.Conway.Utxo.Properties.html#33453" class="Function">balOut</a> <a id="32216" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32218" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="32224" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32226" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="32236" class="Symbol">)</a> <a id="32238" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="32244" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="32249" href="Ledger.Conway.Utxo.Properties.html#33453" class="Function">balOut</a> <a id="32256" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32258" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="32264" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32266" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="32277" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32279" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a>
      <a id="32293" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32296" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="32304" class="Symbol">(</a><a id="32305" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="32310" href="Ledger.Conway.Utxo.Properties.html#33453" class="Function">balOut</a> <a id="32317" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32319" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="32324" class="Symbol">)</a> <a id="32326" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="32337" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a> <a id="32345" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32351" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="32356" href="Ledger.Conway.Utxo.Properties.html#33453" class="Function">balOut</a> <a id="32363" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32365" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="32371" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32373" class="Symbol">(</a><a id="32374" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="32385" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32387" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a><a id="32394" class="Symbol">)</a>
      <a id="32402" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32405" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32410" class="Symbol">(</a><a id="32411" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="32416" href="Ledger.Conway.Utxo.Properties.html#33453" class="Function">balOut</a> <a id="32423" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32425" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="32431" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="32433" class="Symbol">)</a> <a id="32435" class="Symbol">(</a><a id="32436" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="32443" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="32454" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a><a id="32461" class="Symbol">)</a> <a id="32463" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32469" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="32474" href="Ledger.Conway.Utxo.Properties.html#33453" class="Function">balOut</a> <a id="32481" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32483" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="32489" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32491" class="Symbol">(</a><a id="32492" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a> <a id="32500" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32502" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="32512" class="Symbol">)</a>
      <a id="32520" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32524" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="32532" class="Symbol">(</a><a id="32533" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="32538" href="Ledger.Conway.Utxo.Properties.html#33453" class="Function">balOut</a> <a id="32545" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32547" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="32552" class="Symbol">)</a> <a id="32554" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a> <a id="32562" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a> <a id="32573" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32579" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="32584" href="Ledger.Conway.Utxo.Properties.html#33453" class="Function">balOut</a> <a id="32591" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32593" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="32599" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32601" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a> <a id="32609" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32611" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a>
      <a id="32628" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32632" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32637" class="Symbol">(λ</a> <a id="32640" href="Ledger.Conway.Utxo.Properties.html#32640" class="Bound">x</a> <a id="32642" class="Symbol">→</a> <a id="32644" href="Ledger.Conway.Utxo.Properties.html#32640" class="Bound">x</a> <a id="32646" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32648" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a> <a id="32656" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32658" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="32668" class="Symbol">)</a> <a id="32670" href="Ledger.Conway.TokenAlgebra.html#1320" class="Function">coin-inject-lemma</a> <a id="32688" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32694" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="32699" class="Symbol">(</a><a id="32700" href="Ledger.Conway.Utxo.Properties.html#33453" class="Function">balOut</a> <a id="32707" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32709" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="32716" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a><a id="32721" class="Symbol">)</a> <a id="32723" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32725" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a> <a id="32733" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32735" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a>
      <a id="32752" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32756" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32761" class="Symbol">(</a><a id="32762" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="32765" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="32775" class="Symbol">)</a> <a id="32777" href="Ledger.Conway.TokenAlgebra.html#1320" class="Function">coin-inject-lemma</a> <a id="32795" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32801" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="32806" class="Symbol">(</a><a id="32807" href="Ledger.Conway.Utxo.Properties.html#33453" class="Function">balOut</a> <a id="32814" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32816" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="32823" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="32829" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32831" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="32838" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a><a id="32845" class="Symbol">)</a> <a id="32847" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32849" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a>
      <a id="32866" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32870" href="Ledger.Conway.TokenAlgebra.html#1320" class="Function">coin-inject-lemma</a> <a id="32888" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32894" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="32899" class="Symbol">(</a><a id="32900" href="Ledger.Conway.Utxo.Properties.html#33453" class="Function">balOut</a> <a id="32907" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32909" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="32916" href="Ledger.Conway.Transaction.html#2892" class="Function">txfee</a> <a id="32922" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32924" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="32931" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a> <a id="32939" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32941" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="32948" href="Ledger.Conway.Transaction.html#3134" class="Function">txdonation</a><a id="32958" class="Symbol">)</a>
      <a id="32966" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32970" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32975" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="32980" href="Ledger.Conway.Utxo.Properties.html#31763" class="Bound">c≡p</a> <a id="32984" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32990" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="32995" class="Symbol">(</a><a id="32996" href="Ledger.Conway.Utxo.Properties.html#33447" class="Function">balIn</a> <a id="33002" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33004" href="Ledger.Conway.Transaction.html#2920" class="Function">mint</a> <a id="33009" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33011" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="33018" href="Ledger.Conway.Utxo.Properties.html#33304" class="Function">refunds</a> <a id="33026" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33028" href="Ledger.Conway.TokenAlgebra.html#864" class="Function">inject</a> <a id="33035" href="Ledger.Conway.Utxo.Properties.html#33312" class="Function">wdrls</a><a id="33040" class="Symbol">)</a> <a id="33042" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="33048" class="Keyword">where</a>
    <a id="33058" class="Keyword">open</a> <a id="33063" href="Data.Nat.Properties.html#14692" class="Module">≤-Reasoning</a>
    <a id="33079" href="Ledger.Conway.Utxo.Properties.html#33079" class="Function">pp</a> <a id="33082" class="Symbol">:</a> <a id="33084" href="Ledger.Conway.PParams.html#1605" class="Record">PParams</a>
    <a id="33096" href="Ledger.Conway.Utxo.Properties.html#33079" class="Function">pp</a> <a id="33099" class="Symbol">=</a> <a id="33101" href="Ledger.Conway.Utxo.html#2449" class="Field">UTxOEnv.pparams</a> <a id="33117" href="Ledger.Conway.Utxo.Properties.html#31741" class="Bound">Γ</a><a id="33118" class="Symbol">;</a> <a id="33120" class="Keyword">open</a> <a id="33125" href="Ledger.Conway.PParams.html#1605" class="Module">PParams</a> <a id="33133" href="Ledger.Conway.Utxo.Properties.html#33079" class="Function">pp</a>
    <a id="33140" class="Keyword">open</a> <a id="33145" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a> <a id="33148" href="Ledger.Conway.Utxo.Properties.html#31738" class="Bound">tx</a> <a id="33151" class="Keyword">renaming</a> <a id="33160" class="Symbol">(</a><a id="33161" href="Ledger.Conway.Transaction.html#4338" class="Field">body</a> <a id="33166" class="Symbol">to</a> <a id="33169" class="Field">txb</a><a id="33172" class="Symbol">);</a> <a id="33175" class="Keyword">open</a> <a id="33180" href="Ledger.Conway.Transaction.html#2762" class="Module">TxBody</a> <a id="33187" href="Ledger.Conway.Utxo.Properties.html#33169" class="Function">txb</a>
    <a id="33195" class="Keyword">open</a> <a id="33200" href="Ledger.Conway.Utxo.html#2747" class="Module">UTxOState</a> <a id="33210" href="Ledger.Conway.Utxo.Properties.html#31743" class="Bound">utxoState</a> <a id="33220" class="Keyword">renaming</a> <a id="33229" class="Symbol">(</a><a id="33230" href="Ledger.Conway.Utxo.html#2811" class="Field">utxo</a> <a id="33235" class="Symbol">to</a> <a id="33238" class="Field">st</a><a id="33240" class="Symbol">;</a> <a id="33242" href="Ledger.Conway.Utxo.html#2833" class="Field">fees</a> <a id="33247" class="Symbol">to</a> <a id="33250" class="Field">fs</a><a id="33252" class="Symbol">;</a> <a id="33254" href="Ledger.Conway.Utxo.html#2855" class="Field">deposits</a> <a id="33263" class="Symbol">to</a> <a id="33266" class="Field">deps</a><a id="33270" class="Symbol">;</a> <a id="33272" href="Ledger.Conway.Utxo.html#2881" class="Field">donations</a> <a id="33282" class="Symbol">to</a> <a id="33285" class="Field">dons</a><a id="33289" class="Symbol">)</a>

    <a id="33296" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a> <a id="33304" href="Ledger.Conway.Utxo.Properties.html#33304" class="Function">refunds</a> <a id="33312" href="Ledger.Conway.Utxo.Properties.html#33312" class="Function">wdrls</a> <a id="33318" class="Symbol">:</a> <a id="33320" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="33329" href="Ledger.Conway.Utxo.Properties.html#33296" class="Function">newDeps</a> <a id="33337" class="Symbol">=</a> <a id="33339" href="Ledger.Conway.Utxo.html#12206" class="Function">newDeposits</a> <a id="33351" href="Ledger.Conway.Utxo.Properties.html#33079" class="Function">pp</a> <a id="33354" href="Ledger.Conway.Utxo.Properties.html#31743" class="Bound">utxoState</a> <a id="33364" href="Ledger.Conway.Utxo.Properties.html#33169" class="Function">txb</a>
    <a id="33372" href="Ledger.Conway.Utxo.Properties.html#33304" class="Function">refunds</a> <a id="33380" class="Symbol">=</a> <a id="33382" href="Ledger.Conway.Utxo.html#12074" class="Function">depositRefunds</a> <a id="33397" href="Ledger.Conway.Utxo.Properties.html#33079" class="Function">pp</a> <a id="33400" href="Ledger.Conway.Utxo.Properties.html#31743" class="Bound">utxoState</a> <a id="33410" href="Ledger.Conway.Utxo.Properties.html#33169" class="Function">txb</a>
    <a id="33418" href="Ledger.Conway.Utxo.Properties.html#33312" class="Function">wdrls</a> <a id="33424" class="Symbol">=</a> <a id="33426" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="33434" href="Ledger.Conway.Transaction.html#3030" class="Function">txwdrls</a>

    <a id="33447" href="Ledger.Conway.Utxo.Properties.html#33447" class="Function">balIn</a> <a id="33453" href="Ledger.Conway.Utxo.Properties.html#33453" class="Function">balOut</a> <a id="33460" class="Symbol">:</a> <a id="33462" href="Ledger.Conway.TokenAlgebra.html#499" class="Function">Value</a>
    <a id="33472" href="Ledger.Conway.Utxo.Properties.html#33447" class="Function">balIn</a> <a id="33478" class="Symbol">=</a> <a id="33480" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="33488" class="Symbol">(</a><a id="33489" href="Ledger.Conway.Utxo.Properties.html#33238" class="Function">st</a> <a id="33492" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="33494" href="Ledger.Conway.Transaction.html#2798" class="Function">txins</a><a id="33499" class="Symbol">)</a>
    <a id="33505" href="Ledger.Conway.Utxo.Properties.html#33453" class="Function">balOut</a> <a id="33512" class="Symbol">=</a> <a id="33514" href="Ledger.Conway.Utxo.html#3596" class="Function">balance</a> <a id="33522" class="Symbol">(</a><a id="33523" href="Ledger.Conway.Utxo.html#3525" class="Function">outs</a> <a id="33528" href="Ledger.Conway.Utxo.Properties.html#33169" class="Function">txb</a><a id="33531" class="Symbol">)</a>

</pre></body></html>