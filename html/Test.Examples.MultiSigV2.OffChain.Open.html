<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Test.Examples.MultiSigV2.OffChain.Open</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">module</a> <a id="32" href="Test.Examples.MultiSigV2.OffChain.Open.html" class="Module">Test.Examples.MultiSigV2.OffChain.Open</a> <a id="71" class="Keyword">where</a>

<a id="78" class="Keyword">open</a> <a id="83" class="Keyword">import</a> <a id="90" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="105" class="Keyword">open</a> <a id="110" class="Keyword">import</a> <a id="117" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>

<a id="158" class="Keyword">open</a> <a id="163" class="Keyword">import</a> <a id="170" href="Test.Examples.MultiSigV2.Datum.html" class="Module">Test.Examples.MultiSigV2.Datum</a>
<a id="201" class="Keyword">open</a> <a id="206" class="Keyword">import</a> <a id="213" href="Test.Examples.MultiSigV2.OffChain.Lib.html" class="Module">Test.Examples.MultiSigV2.OffChain.Lib</a>
<a id="251" class="Keyword">open</a> <a id="256" class="Keyword">import</a> <a id="263" href="Test.Examples.MultiSigV2.Validator.html" class="Module">Test.Examples.MultiSigV2.Validator</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Test.Prelude.html" class="Module">Test.Prelude</a> <a id="323" href="Test.Examples.MultiSigV2.Datum.html#572" class="Function">MultiSigData</a>
<a id="336" class="Keyword">open</a> <a id="341" class="Keyword">import</a> <a id="348" href="Test.SymbolicData.html" class="Module">Test.SymbolicData</a> <a id="366" href="Test.Examples.MultiSigV2.Datum.html#572" class="Function">MultiSigData</a>
<a id="379" class="Keyword">open</a> <a id="384" class="Keyword">import</a> <a id="391" href="Test.LedgerImplementation.html" class="Module">Test.LedgerImplementation</a> <a id="417" href="Test.SymbolicData.html#240" class="Function">SData</a> <a id="423" href="Test.SymbolicData.html#240" class="Function">SData</a>
<a id="429" class="Keyword">open</a> <a id="434" class="Keyword">import</a> <a id="441" href="Test.AbstractImplementation.html" class="Module">Test.AbstractImplementation</a> <a id="469" href="Test.SymbolicData.html#2892" class="Function">valContext</a>
<a id="480" class="Keyword">open</a> <a id="485" class="Keyword">import</a> <a id="492" href="Test.Lib.html" class="Module">Test.Lib</a> <a id="501" href="Test.SymbolicData.html#2892" class="Function">valContext</a>

<a id="513" class="Keyword">open</a> <a id="518" class="Keyword">import</a> <a id="525" href="Ledger.Conway.Specification.Script.Validation.html" class="Module">Ledger.Conway.Specification.Script.Validation</a> <a id="571" href="Test.LedgerImplementation.html#4278" class="Function">SVTransactionStructure</a> <a id="594" href="Test.AbstractImplementation.html#675" class="Function">SVAbstractFunctions</a>
<a id="614" class="Keyword">open</a> <a id="619" class="Keyword">import</a> <a id="626" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="659" href="Test.LedgerImplementation.html#4278" class="Function">SVTransactionStructure</a> <a id="682" href="Test.AbstractImplementation.html#675" class="Function">SVAbstractFunctions</a>

<a id="703" class="Keyword">open</a> <a id="708" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="729" href="Test.LedgerImplementation.html#4278" class="Function">SVTransactionStructure</a>
<a id="752" class="Keyword">open</a> <a id="757" href="Test.LedgerImplementation.html#1055" class="Module">Implementation</a>

<a id="openTxOut"></a><a id="773" href="Test.Examples.MultiSigV2.OffChain.Open.html#773" class="Function">openTxOut</a> <a id="783" class="Symbol">:</a> <a id="785" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a> <a id="791" class="Symbol">→</a> <a id="793" href="Test.LedgerImplementation.html#1449" class="Function">PlutusScript</a> <a id="806" class="Symbol">→</a> <a id="808" href="Ledger.Conway.Specification.Transaction.html#2638" class="Function">TxOut</a>
<a id="814" href="Test.Examples.MultiSigV2.OffChain.Open.html#773" class="Function">openTxOut</a> <a id="824" href="Test.Examples.MultiSigV2.OffChain.Open.html#824" class="Bound">v</a> <a id="826" href="Test.Examples.MultiSigV2.OffChain.Open.html#826" class="Bound">script</a> <a id="833" class="Symbol">=</a> <a id="835" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="840" class="Symbol">(</a><a id="841" class="Keyword">record</a> <a id="848" class="Symbol">{</a> <a id="850" href="Ledger.Core.Specification.Address.html#1119" class="Field">net</a> <a id="854" class="Symbol">=</a> <a id="856" class="Number">0</a> <a id="858" class="Symbol">;</a>
                           <a id="887" href="Ledger.Core.Specification.Address.html#1140" class="Field">pay</a> <a id="891" class="Symbol">=</a> <a id="893" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="903" class="Symbol">(</a><a id="904" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="910" href="Test.Examples.MultiSigV2.OffChain.Open.html#826" class="Bound">script</a><a id="916" class="Symbol">)</a> <a id="918" class="Symbol">;</a>
                           <a id="947" href="Ledger.Core.Specification.Address.html#1164" class="Field">stake</a> <a id="953" class="Symbol">=</a> <a id="955" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="960" class="Symbol">(</a><a id="961" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="971" class="Symbol">(</a><a id="972" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="978" href="Test.Examples.MultiSigV2.OffChain.Open.html#826" class="Bound">script</a><a id="984" class="Symbol">))</a> <a id="987" class="Symbol">})</a>
                           <a id="1017" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1019" href="Test.Examples.MultiSigV2.OffChain.Open.html#824" class="Bound">v</a>
                           <a id="1048" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1050" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1055" class="Symbol">(</a><a id="1056" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1061" class="Symbol">(</a><a id="1062" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1067" class="Symbol">(</a><a id="1068" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1073" href="Test.Examples.MultiSigV2.Datum.html#197" class="InductiveConstructor">Holding</a><a id="1080" class="Symbol">)))</a> <a id="1084" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1086" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="1095" class="Comment">-- txid, wallet, value at script, script index</a>
<a id="openTx"></a><a id="1142" href="Test.Examples.MultiSigV2.OffChain.Open.html#1142" class="Function">openTx</a> <a id="1149" class="Symbol">:</a> <a id="1151" class="Symbol">(</a><a id="1152" href="Test.Examples.MultiSigV2.OffChain.Open.html#1152" class="Bound">id</a> <a id="1155" href="Test.Examples.MultiSigV2.OffChain.Open.html#1155" class="Bound">w</a> <a id="1157" href="Test.Examples.MultiSigV2.OffChain.Open.html#1157" class="Bound">v</a> <a id="1159" href="Test.Examples.MultiSigV2.OffChain.Open.html#1159" class="Bound">tw</a> <a id="1162" class="Symbol">:</a> <a id="1164" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1165" class="Symbol">)</a> <a id="1167" class="Symbol">→</a> <a id="1169" href="Test.LedgerImplementation.html#1449" class="Function">PlutusScript</a> <a id="1182" class="Symbol">→</a> <a id="1184" href="Ledger.Conway.Specification.Transaction.html#4682" class="Record">Tx</a>
<a id="1187" href="Test.Examples.MultiSigV2.OffChain.Open.html#1142" class="Function">openTx</a> <a id="1194" href="Test.Examples.MultiSigV2.OffChain.Open.html#1194" class="Bound">id</a> <a id="1197" href="Test.Examples.MultiSigV2.OffChain.Open.html#1197" class="Bound">w</a> <a id="1199" href="Test.Examples.MultiSigV2.OffChain.Open.html#1199" class="Bound">v</a> <a id="1201" href="Test.Examples.MultiSigV2.OffChain.Open.html#1201" class="Bound">tw</a> <a id="1204" href="Test.Examples.MultiSigV2.OffChain.Open.html#1204" class="Bound">script</a> <a id="1211" class="Symbol">=</a> <a id="1213" class="Keyword">record</a> <a id="1220" class="Symbol">{</a> <a id="1222" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="1227" class="Symbol">=</a> <a id="1229" class="Keyword">record</a> <a id="1236" href="Test.Examples.MultiSigV2.OffChain.Lib.html#789" class="Function">defaultTxBody</a>
                         <a id="1275" class="Symbol">{</a> <a id="1277" href="Ledger.Conway.Specification.Transaction.html#3032" class="Field">txIns</a> <a id="1283" class="Symbol">=</a> <a id="1285" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1309" class="Symbol">((</a><a id="1311" href="Test.Examples.MultiSigV2.OffChain.Open.html#1197" class="Bound">w</a> <a id="1313" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1315" href="Test.Examples.MultiSigV2.OffChain.Open.html#1197" class="Bound">w</a><a id="1316" class="Symbol">)</a> <a id="1318" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1320" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1322" class="Symbol">)</a>
                         <a id="1349" class="Symbol">;</a> <a id="1351" href="Ledger.Conway.Specification.Transaction.html#3140" class="Field">txOuts</a> <a id="1358" class="Symbol">=</a> <a id="1360" href="Test.Lib.html#5515" class="Function">fromListIx</a> <a id="1371" class="Symbol">((</a><a id="1373" href="Test.Examples.MultiSigV2.OffChain.Open.html#1201" class="Bound">tw</a> <a id="1376" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1378" href="Test.Examples.MultiSigV2.OffChain.Open.html#773" class="Function">openTxOut</a> <a id="1388" href="Test.Examples.MultiSigV2.OffChain.Open.html#1199" class="Bound">v</a> <a id="1390" href="Test.Examples.MultiSigV2.OffChain.Open.html#1204" class="Bound">script</a><a id="1396" class="Symbol">)</a>
                                               <a id="1445" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1447" class="Symbol">(</a><a id="1448" href="Test.Examples.MultiSigV2.OffChain.Open.html#1197" class="Bound">w</a>
                                                 <a id="1499" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1501" class="Symbol">((</a><a id="1503" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1508" class="Symbol">(</a><a id="1509" class="Keyword">record</a> <a id="1516" class="Symbol">{</a> <a id="1518" href="Ledger.Core.Specification.Address.html#1119" class="Field">net</a> <a id="1522" class="Symbol">=</a> <a id="1524" class="Number">0</a> <a id="1526" class="Symbol">;</a>
                                                                    <a id="1596" href="Ledger.Core.Specification.Address.html#1140" class="Field">pay</a> <a id="1600" class="Symbol">=</a> <a id="1602" href="Ledger.Core.Specification.Address.html#285" class="InductiveConstructor">KeyHashObj</a> <a id="1613" href="Test.Examples.MultiSigV2.OffChain.Open.html#1197" class="Bound">w</a> <a id="1615" class="Symbol">;</a>
                                                                    <a id="1685" href="Ledger.Core.Specification.Address.html#1164" class="Field">stake</a> <a id="1691" class="Symbol">=</a> <a id="1693" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1698" class="Symbol">(</a><a id="1699" href="Ledger.Core.Specification.Address.html#285" class="InductiveConstructor">KeyHashObj</a> <a id="1710" href="Test.Examples.MultiSigV2.OffChain.Open.html#1197" class="Bound">w</a><a id="1711" class="Symbol">)</a> <a id="1713" class="Symbol">}))</a>
                                               <a id="1764" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1766" class="Symbol">((</a><a id="1768" class="Number">1000000000000</a> <a id="1782" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="1784" class="Number">10000000000</a><a id="1795" class="Symbol">)</a> <a id="1797" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="1799" href="Test.Examples.MultiSigV2.OffChain.Open.html#1199" class="Bound">v</a><a id="1800" class="Symbol">)</a> <a id="1802" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1804" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="1812" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1814" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="1821" class="Symbol">))</a>
                                               <a id="1871" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1873" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1875" class="Symbol">)</a>
                         <a id="1902" class="Symbol">;</a> <a id="1904" href="Ledger.Conway.Specification.Transaction.html#3180" class="Field">txId</a> <a id="1909" class="Symbol">=</a> <a id="1911" href="Test.Examples.MultiSigV2.OffChain.Open.html#1194" class="Bound">id</a>
                         <a id="1939" class="Symbol">;</a> <a id="1941" href="Ledger.Conway.Specification.Transaction.html#3104" class="Field">collateralInputs</a> <a id="1958" class="Symbol">=</a> <a id="1960" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1984" class="Symbol">((</a><a id="1986" href="Test.Examples.MultiSigV2.OffChain.Open.html#1197" class="Bound">w</a> <a id="1988" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1990" href="Test.Examples.MultiSigV2.OffChain.Open.html#1197" class="Bound">w</a><a id="1991" class="Symbol">)</a> <a id="1993" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1995" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1997" class="Symbol">)</a>
                         <a id="2024" class="Symbol">}</a> <a id="2026" class="Symbol">;</a>
                <a id="2044" href="Ledger.Conway.Specification.Transaction.html#4738" class="Field">wits</a> <a id="2049" class="Symbol">=</a> <a id="2051" class="Keyword">record</a> <a id="2058" class="Symbol">{</a> <a id="2060" href="Ledger.Conway.Specification.Transaction.html#4478" class="Field">vkSigs</a> <a id="2067" class="Symbol">=</a> <a id="2069" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="2079" class="Symbol">((</a><a id="2081" href="Test.Examples.MultiSigV2.OffChain.Open.html#1197" class="Bound">w</a> <a id="2083" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2085" class="Symbol">(</a><a id="2086" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="2090" class="Symbol">{{</a><a id="2092" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#1274" class="Function">addValue</a><a id="2100" class="Symbol">}}</a> <a id="2103" href="Test.Examples.MultiSigV2.OffChain.Open.html#1197" class="Bound">w</a> <a id="2105" href="Test.Examples.MultiSigV2.OffChain.Open.html#1194" class="Bound">id</a><a id="2107" class="Symbol">))</a> <a id="2110" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2112" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2114" class="Symbol">)</a> <a id="2116" class="Symbol">;</a>
                                <a id="2150" href="Ledger.Conway.Specification.Transaction.html#4506" class="Field">scripts</a> <a id="2158" class="Symbol">=</a> <a id="2160" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="2162" class="Symbol">;</a>
                                <a id="2196" href="Ledger.Conway.Specification.Transaction.html#4532" class="Field">txdats</a> <a id="2203" class="Symbol">=</a> <a id="2205" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="2207" class="Symbol">;</a>
                                <a id="2241" href="Ledger.Conway.Specification.Transaction.html#4557" class="Field">txrdmrs</a> <a id="2249" class="Symbol">=</a> <a id="2251" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="2253" class="Symbol">}</a> <a id="2255" class="Symbol">;</a>

                <a id="2274" href="Ledger.Conway.Specification.Transaction.html#4767" class="Field">txsize</a> <a id="2281" class="Symbol">=</a> <a id="2283" class="Number">10</a> <a id="2286" class="Symbol">;</a>
                <a id="2304" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="2312" class="Symbol">=</a> <a id="2314" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2319" class="Symbol">;</a>
                <a id="2337" href="Ledger.Conway.Specification.Transaction.html#4808" class="Field">txAD</a> <a id="2342" class="Symbol">=</a> <a id="2344" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2352" class="Symbol">}</a>
</pre></body></html>