<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Test.Examples.MultiSigV2.OffChain.Open</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">module</a> <a id="32" href="Test.Examples.MultiSigV2.OffChain.Open.html" class="Module">Test.Examples.MultiSigV2.OffChain.Open</a> <a id="71" class="Keyword">where</a>

<a id="78" class="Keyword">open</a> <a id="83" class="Keyword">import</a> <a id="90" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="105" class="Keyword">open</a> <a id="110" class="Keyword">import</a> <a id="117" href="Ledger.Core.Specification.Transaction.html" class="Module">Ledger.Core.Specification.Transaction</a>

<a id="156" class="Keyword">open</a> <a id="161" class="Keyword">import</a> <a id="168" href="Test.Examples.MultiSigV2.Datum.html" class="Module">Test.Examples.MultiSigV2.Datum</a>
<a id="199" class="Keyword">open</a> <a id="204" class="Keyword">import</a> <a id="211" href="Test.Examples.MultiSigV2.OffChain.Lib.html" class="Module">Test.Examples.MultiSigV2.OffChain.Lib</a>
<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="Test.Examples.MultiSigV2.Validator.html" class="Module">Test.Examples.MultiSigV2.Validator</a>
<a id="296" class="Keyword">open</a> <a id="301" class="Keyword">import</a> <a id="308" href="Test.Prelude.html" class="Module">Test.Prelude</a> <a id="321" href="Test.Examples.MultiSigV2.Datum.html#572" class="Function">MultiSigData</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="Test.SymbolicData.html" class="Module">Test.SymbolicData</a> <a id="364" href="Test.Examples.MultiSigV2.Datum.html#572" class="Function">MultiSigData</a>
<a id="377" class="Keyword">open</a> <a id="382" class="Keyword">import</a> <a id="389" href="Test.LedgerImplementation.html" class="Module">Test.LedgerImplementation</a> <a id="415" href="Test.SymbolicData.html#240" class="Function">SData</a> <a id="421" href="Test.SymbolicData.html#240" class="Function">SData</a>
<a id="427" class="Keyword">open</a> <a id="432" class="Keyword">import</a> <a id="439" href="Test.AbstractImplementation.html" class="Module">Test.AbstractImplementation</a> <a id="467" href="Test.SymbolicData.html#2902" class="Function">valContext</a>
<a id="478" class="Keyword">open</a> <a id="483" class="Keyword">import</a> <a id="490" href="Test.Lib.html" class="Module">Test.Lib</a> <a id="499" href="Test.SymbolicData.html#2902" class="Function">valContext</a>

<a id="511" class="Keyword">open</a> <a id="516" class="Keyword">import</a> <a id="523" href="Ledger.Conway.Specification.Script.Validation.html" class="Module">Ledger.Conway.Specification.Script.Validation</a> <a id="569" href="Test.LedgerImplementation.html#4275" class="Function">SVTransactionStructure</a> <a id="592" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>
<a id="612" class="Keyword">open</a> <a id="617" class="Keyword">import</a> <a id="624" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="664" href="Test.LedgerImplementation.html#4275" class="Function">SVTransactionStructure</a> <a id="687" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>
<a id="707" class="Keyword">open</a> <a id="712" class="Keyword">import</a> <a id="719" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="752" href="Test.LedgerImplementation.html#4275" class="Function">SVTransactionStructure</a> <a id="775" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>

<a id="796" class="Keyword">open</a> <a id="801" href="Ledger.Core.Specification.Transaction.html#896" class="Module">TransactionStructure</a> <a id="822" href="Test.LedgerImplementation.html#4275" class="Function">SVTransactionStructure</a>
<a id="845" class="Keyword">open</a> <a id="850" href="Test.LedgerImplementation.html#1056" class="Module">Implementation</a>

<a id="openTxOut"></a><a id="866" href="Test.Examples.MultiSigV2.OffChain.Open.html#866" class="Function">openTxOut</a> <a id="876" class="Symbol">:</a> <a id="878" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a> <a id="884" class="Symbol">→</a> <a id="886" href="Test.LedgerImplementation.html#1450" class="Function">PlutusScript</a> <a id="899" class="Symbol">→</a> <a id="901" href="Ledger.Core.Specification.Transaction.html#2529" class="Function">TxOut</a>
<a id="907" href="Test.Examples.MultiSigV2.OffChain.Open.html#866" class="Function">openTxOut</a> <a id="917" href="Test.Examples.MultiSigV2.OffChain.Open.html#917" class="Bound">v</a> <a id="919" href="Test.Examples.MultiSigV2.OffChain.Open.html#919" class="Bound">script</a> <a id="926" class="Symbol">=</a> <a id="928" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="933" class="Symbol">(</a><a id="934" class="Keyword">record</a> <a id="941" class="Symbol">{</a> <a id="943" href="Ledger.Core.Specification.Address.html#1119" class="Field">net</a> <a id="947" class="Symbol">=</a> <a id="949" class="Number">0</a> <a id="951" class="Symbol">;</a>
                           <a id="980" href="Ledger.Core.Specification.Address.html#1140" class="Field">pay</a> <a id="984" class="Symbol">=</a> <a id="986" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="996" class="Symbol">(</a><a id="997" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1003" href="Test.Examples.MultiSigV2.OffChain.Open.html#919" class="Bound">script</a><a id="1009" class="Symbol">)</a> <a id="1011" class="Symbol">;</a>
                           <a id="1040" href="Ledger.Core.Specification.Address.html#1164" class="Field">stake</a> <a id="1046" class="Symbol">=</a> <a id="1048" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1053" class="Symbol">(</a><a id="1054" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="1064" class="Symbol">(</a><a id="1065" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1071" href="Test.Examples.MultiSigV2.OffChain.Open.html#919" class="Bound">script</a><a id="1077" class="Symbol">))</a> <a id="1080" class="Symbol">})</a>
                           <a id="1110" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1112" href="Test.Examples.MultiSigV2.OffChain.Open.html#917" class="Bound">v</a>
                           <a id="1141" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1143" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1148" class="Symbol">(</a><a id="1149" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1154" class="Symbol">(</a><a id="1155" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1160" class="Symbol">(</a><a id="1161" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1166" href="Test.Examples.MultiSigV2.Datum.html#197" class="InductiveConstructor">Holding</a><a id="1173" class="Symbol">)))</a> <a id="1177" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1179" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="1188" class="Comment">-- txid, wallet, value at script, script index</a>
<a id="openTx"></a><a id="1235" href="Test.Examples.MultiSigV2.OffChain.Open.html#1235" class="Function">openTx</a> <a id="1242" class="Symbol">:</a> <a id="1244" class="Symbol">(</a><a id="1245" href="Test.Examples.MultiSigV2.OffChain.Open.html#1245" class="Bound">id</a> <a id="1248" href="Test.Examples.MultiSigV2.OffChain.Open.html#1248" class="Bound">w</a> <a id="1250" href="Test.Examples.MultiSigV2.OffChain.Open.html#1250" class="Bound">v</a> <a id="1252" href="Test.Examples.MultiSigV2.OffChain.Open.html#1252" class="Bound">tw</a> <a id="1255" class="Symbol">:</a> <a id="1257" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1258" class="Symbol">)</a> <a id="1260" class="Symbol">→</a> <a id="1262" href="Test.LedgerImplementation.html#1450" class="Function">PlutusScript</a> <a id="1275" class="Symbol">→</a> <a id="1277" href="Ledger.Conway.Specification.Transaction.html#1719" class="Record">Tx</a>
<a id="1280" href="Test.Examples.MultiSigV2.OffChain.Open.html#1235" class="Function">openTx</a> <a id="1287" href="Test.Examples.MultiSigV2.OffChain.Open.html#1287" class="Bound">id</a> <a id="1290" href="Test.Examples.MultiSigV2.OffChain.Open.html#1290" class="Bound">w</a> <a id="1292" href="Test.Examples.MultiSigV2.OffChain.Open.html#1292" class="Bound">v</a> <a id="1294" href="Test.Examples.MultiSigV2.OffChain.Open.html#1294" class="Bound">tw</a> <a id="1297" href="Test.Examples.MultiSigV2.OffChain.Open.html#1297" class="Bound">script</a> <a id="1304" class="Symbol">=</a> <a id="1306" class="Keyword">record</a> <a id="1313" class="Symbol">{</a> <a id="1315" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">body</a> <a id="1320" class="Symbol">=</a> <a id="1322" class="Keyword">record</a> <a id="1329" href="Test.Examples.MultiSigV2.OffChain.Lib.html#882" class="Function">defaultTxBody</a>
                         <a id="1368" class="Symbol">{</a> <a id="1370" href="Ledger.Conway.Specification.Transaction.html#382" class="Field">txIns</a> <a id="1376" class="Symbol">=</a> <a id="1378" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1402" class="Symbol">((</a><a id="1404" href="Test.Examples.MultiSigV2.OffChain.Open.html#1290" class="Bound">w</a> <a id="1406" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1408" href="Test.Examples.MultiSigV2.OffChain.Open.html#1290" class="Bound">w</a><a id="1409" class="Symbol">)</a> <a id="1411" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1413" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1415" class="Symbol">)</a>
                         <a id="1442" class="Symbol">;</a> <a id="1444" href="Ledger.Conway.Specification.Transaction.html#484" class="Field">txOuts</a> <a id="1451" class="Symbol">=</a> <a id="1453" href="Test.Lib.html#5513" class="Function">fromListIx</a> <a id="1464" class="Symbol">((</a><a id="1466" href="Test.Examples.MultiSigV2.OffChain.Open.html#1294" class="Bound">tw</a> <a id="1469" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1471" href="Test.Examples.MultiSigV2.OffChain.Open.html#866" class="Function">openTxOut</a> <a id="1481" href="Test.Examples.MultiSigV2.OffChain.Open.html#1292" class="Bound">v</a> <a id="1483" href="Test.Examples.MultiSigV2.OffChain.Open.html#1297" class="Bound">script</a><a id="1489" class="Symbol">)</a>
                                               <a id="1538" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1540" class="Symbol">(</a><a id="1541" href="Test.Examples.MultiSigV2.OffChain.Open.html#1290" class="Bound">w</a>
                                                 <a id="1592" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1594" class="Symbol">((</a><a id="1596" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1601" class="Symbol">(</a><a id="1602" class="Keyword">record</a> <a id="1609" class="Symbol">{</a> <a id="1611" href="Ledger.Core.Specification.Address.html#1119" class="Field">net</a> <a id="1615" class="Symbol">=</a> <a id="1617" class="Number">0</a> <a id="1619" class="Symbol">;</a>
                                                                    <a id="1689" href="Ledger.Core.Specification.Address.html#1140" class="Field">pay</a> <a id="1693" class="Symbol">=</a> <a id="1695" href="Ledger.Core.Specification.Address.html#285" class="InductiveConstructor">KeyHashObj</a> <a id="1706" href="Test.Examples.MultiSigV2.OffChain.Open.html#1290" class="Bound">w</a> <a id="1708" class="Symbol">;</a>
                                                                    <a id="1778" href="Ledger.Core.Specification.Address.html#1164" class="Field">stake</a> <a id="1784" class="Symbol">=</a> <a id="1786" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1791" class="Symbol">(</a><a id="1792" href="Ledger.Core.Specification.Address.html#285" class="InductiveConstructor">KeyHashObj</a> <a id="1803" href="Test.Examples.MultiSigV2.OffChain.Open.html#1290" class="Bound">w</a><a id="1804" class="Symbol">)</a> <a id="1806" class="Symbol">}))</a>
                                               <a id="1857" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1859" class="Symbol">((</a><a id="1861" class="Number">1000000000000</a> <a id="1875" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="1877" class="Number">10000000000</a><a id="1888" class="Symbol">)</a> <a id="1890" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="1892" href="Test.Examples.MultiSigV2.OffChain.Open.html#1292" class="Bound">v</a><a id="1893" class="Symbol">)</a> <a id="1895" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1897" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="1905" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1907" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="1914" class="Symbol">))</a>
                                               <a id="1964" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1966" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1968" class="Symbol">)</a>
                         <a id="1995" class="Symbol">;</a> <a id="1997" href="Ledger.Conway.Specification.Transaction.html#522" class="Field">txId</a> <a id="2002" class="Symbol">=</a> <a id="2004" href="Test.Examples.MultiSigV2.OffChain.Open.html#1287" class="Bound">id</a>
                         <a id="2032" class="Symbol">;</a> <a id="2034" href="Ledger.Conway.Specification.Transaction.html#450" class="Field">collateralInputs</a> <a id="2051" class="Symbol">=</a> <a id="2053" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="2077" class="Symbol">((</a><a id="2079" href="Test.Examples.MultiSigV2.OffChain.Open.html#1290" class="Bound">w</a> <a id="2081" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2083" href="Test.Examples.MultiSigV2.OffChain.Open.html#1290" class="Bound">w</a><a id="2084" class="Symbol">)</a> <a id="2086" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2088" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2090" class="Symbol">)</a>
                         <a id="2117" class="Symbol">}</a> <a id="2119" class="Symbol">;</a>
                <a id="2137" href="Ledger.Conway.Specification.Transaction.html#1769" class="Field">wits</a> <a id="2142" class="Symbol">=</a> <a id="2144" class="Keyword">record</a> <a id="2151" class="Symbol">{</a> <a id="2153" href="Ledger.Core.Specification.Transaction.html#2928" class="Field">vkSigs</a> <a id="2160" class="Symbol">=</a> <a id="2162" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="2172" class="Symbol">((</a><a id="2174" href="Test.Examples.MultiSigV2.OffChain.Open.html#1290" class="Bound">w</a> <a id="2176" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2178" class="Symbol">(</a><a id="2179" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="2183" class="Symbol">{{</a><a id="2185" href="Ledger.Core.Specification.TokenAlgebra.Base.html#1272" class="Function">addValue</a><a id="2193" class="Symbol">}}</a> <a id="2196" href="Test.Examples.MultiSigV2.OffChain.Open.html#1290" class="Bound">w</a> <a id="2198" href="Test.Examples.MultiSigV2.OffChain.Open.html#1287" class="Bound">id</a><a id="2200" class="Symbol">))</a> <a id="2203" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2205" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2207" class="Symbol">)</a> <a id="2209" class="Symbol">;</a>
                                <a id="2243" href="Ledger.Core.Specification.Transaction.html#2956" class="Field">scripts</a> <a id="2251" class="Symbol">=</a> <a id="2253" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="2255" class="Symbol">;</a>
                                <a id="2289" href="Ledger.Core.Specification.Transaction.html#2982" class="Field">txdats</a> <a id="2296" class="Symbol">=</a> <a id="2298" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="2300" class="Symbol">;</a>
                                <a id="2334" href="Ledger.Core.Specification.Transaction.html#3007" class="Field">txrdmrs</a> <a id="2342" class="Symbol">=</a> <a id="2344" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="2346" class="Symbol">}</a> <a id="2348" class="Symbol">;</a>

                <a id="2367" href="Ledger.Conway.Specification.Transaction.html#1796" class="Field">txsize</a> <a id="2374" class="Symbol">=</a> <a id="2376" class="Number">10</a> <a id="2379" class="Symbol">;</a>
                <a id="2397" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="2405" class="Symbol">=</a> <a id="2407" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2412" class="Symbol">;</a>
                <a id="2430" href="Ledger.Conway.Specification.Transaction.html#1833" class="Field">txAD</a> <a id="2435" class="Symbol">=</a> <a id="2437" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2445" class="Symbol">}</a>
</pre></body></html>