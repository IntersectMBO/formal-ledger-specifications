<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Script</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Algebra.Morphism.html" class="Module">Algebra.Morphism</a>
<a id="55" class="Keyword">open</a> <a id="60" class="Keyword">import</a> <a id="67" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a> <a id="96" class="Keyword">using</a> <a id="102" class="Symbol">(</a><a id="103" href="Data.List.Relation.Unary.All.html#1639" class="Datatype">All</a><a id="106" class="Symbol">;</a> <a id="108" href="Data.List.Relation.Unary.All.html#1702" class="InductiveConstructor">[]</a><a id="110" class="Symbol">;</a> <a id="112" href="Data.List.Relation.Unary.All.html#1719" class="InductiveConstructor Operator">_∷_</a><a id="115" class="Symbol">;</a> <a id="117" href="Data.List.Relation.Unary.All.html#6419" class="Function">all?</a><a id="121" class="Symbol">;</a> <a id="123" href="Data.List.Relation.Unary.All.html#2473" class="Function">uncons</a><a id="129" class="Symbol">)</a>
<a id="131" class="Keyword">open</a> <a id="136" class="Keyword">import</a> <a id="143" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>
<a id="172" class="Keyword">open</a> <a id="177" class="Keyword">import</a> <a id="184" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="204" class="Keyword">using</a> <a id="210" class="Symbol">(</a><a id="211" href="Data.Nat.Properties.html#17135" class="Function">+-0-commutativeMonoid</a><a id="232" class="Symbol">;</a> <a id="234" href="Data.Nat.Properties.html#3266" class="Function">suc-injective</a><a id="247" class="Symbol">)</a>

<a id="250" class="Keyword">open</a> <a id="255" class="Keyword">import</a> <a id="262" href="Data.List.Relation.Unary.MOf.html" class="Module">Data.List.Relation.Unary.MOf</a>

<a id="292" class="Keyword">open</a> <a id="297" class="Keyword">import</a> <a id="304" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>
<a id="324" class="Keyword">open</a> <a id="329" class="Keyword">import</a> <a id="336" href="Tactic.Inline.html" class="Module">Tactic.Inline</a>

<a id="351" class="Keyword">open</a> <a id="356" class="Keyword">import</a> <a id="363" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="378" class="Keyword">hiding</a> <a id="385" class="Symbol">(</a><a id="386" href="Axiom.Set.html#9724" class="Function">All</a><a id="389" class="Symbol">;</a> <a id="391" href="Axiom.Set.html#9793" class="Function">Any</a><a id="394" class="Symbol">;</a> <a id="396" href="Axiom.Set.html#10821" class="Function">all?</a><a id="400" class="Symbol">;</a> <a id="402" href="Axiom.Set.html#10895" class="Function">any?</a><a id="406" class="Symbol">;</a> <a id="408" href="Data.List.Base.html#7451" class="Function Operator">_∷ʳ_</a><a id="412" class="Symbol">;</a> <a id="414" href="Data.List.Base.html#8345" class="Function">uncons</a><a id="420" class="Symbol">;</a> <a id="422" href="Interface.HasSubset.html#158" class="Field Operator">_⊆_</a><a id="425" class="Symbol">)</a>
<a id="427" class="Keyword">open</a> <a id="432" class="Keyword">import</a> <a id="439" href="Ledger.Crypto.html" class="Module">Ledger.Crypto</a>
<a id="453" class="Keyword">open</a> <a id="458" class="Keyword">import</a> <a id="465" href="Ledger.Types.Epoch.html" class="Module">Ledger.Types.Epoch</a>

<a id="485" class="Keyword">import</a> <a id="492" href="Ledger.Script.html" class="Module">Ledger.Script</a>

<a id="507" class="Keyword">module</a> <a id="514" href="Ledger.Conway.Conformance.Script.html" class="Module">Ledger.Conway.Conformance.Script</a>
  <a id="549" class="Symbol">(</a><a id="550" href="Ledger.Conway.Conformance.Script.html#550" class="Bound">crypto</a> <a id="557" class="Symbol">:</a> <a id="559" class="Symbol">_)</a> <a id="562" class="Symbol">(</a><a id="563" class="Keyword">open</a> <a id="568" href="Ledger.Crypto.html#1043" class="Module">Crypto</a> <a id="575" href="Ledger.Conway.Conformance.Script.html#550" class="Bound">crypto</a><a id="581" class="Symbol">)</a>
  <a id="585" class="Symbol">(</a><a id="586" href="Ledger.Conway.Conformance.Script.html#586" class="Bound">es</a>     <a id="593" class="Symbol">:</a> <a id="595" class="Symbol">_)</a> <a id="598" class="Symbol">(</a><a id="599" class="Keyword">open</a> <a id="604" href="Ledger.Types.Epoch.html#408" class="Module">EpochStructure</a> <a id="619" href="Ledger.Conway.Conformance.Script.html#586" class="Bound">es</a><a id="621" class="Symbol">)</a>
  <a id="625" class="Keyword">where</a>

<a id="632" class="Keyword">open</a> <a id="637" href="Ledger.Script.html" class="Module">Ledger.Script</a> <a id="651" href="Ledger.Conway.Conformance.Script.html#550" class="Bound">crypto</a> <a id="658" href="Ledger.Conway.Conformance.Script.html#586" class="Bound">es</a>

<a id="662" class="Keyword">record</a> <a id="HSTimelock"></a><a id="669" href="Ledger.Conway.Conformance.Script.html#669" class="Record">HSTimelock</a> <a id="680" class="Symbol">:</a> <a id="682" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="687" class="Keyword">where</a>
  <a id="695" class="Keyword">field</a>
    <a id="HSTimelock.timelock"></a><a id="705" href="Ledger.Conway.Conformance.Script.html#705" class="Field">timelock</a>     <a id="718" class="Symbol">:</a> <a id="720" href="Ledger.Script.html#2043" class="Datatype">Timelock</a>
    <a id="HSTimelock.tlScriptHash"></a><a id="733" href="Ledger.Conway.Conformance.Script.html#733" class="Field">tlScriptHash</a> <a id="746" class="Symbol">:</a> <a id="748" href="Ledger.Crypto.html#1166" class="Field">ScriptHash</a>
    <a id="HSTimelock.tlScriptSize"></a><a id="763" href="Ledger.Conway.Conformance.Script.html#763" class="Field">tlScriptSize</a> <a id="776" class="Symbol">:</a> <a id="778" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

<a id="781" class="Keyword">instance</a>
  <a id="Hashable-HSTimelock"></a><a id="792" href="Ledger.Conway.Conformance.Script.html#792" class="Function">Hashable-HSTimelock</a> <a id="812" class="Symbol">:</a> <a id="814" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="823" href="Ledger.Conway.Conformance.Script.html#669" class="Record">HSTimelock</a> <a id="834" href="Ledger.Crypto.html#1166" class="Field">ScriptHash</a>
  <a id="847" href="Ledger.Conway.Conformance.Script.html#792" class="Function">Hashable-HSTimelock</a> <a id="867" class="Symbol">.</a><a id="868" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="873" class="Symbol">=</a> <a id="875" href="Ledger.Conway.Conformance.Script.html#733" class="Field">HSTimelock.tlScriptHash</a>

<a id="900" class="Keyword">unquoteDecl</a> <a id="DecEq-HSTimelock"></a><a id="912" href="Ledger.Conway.Conformance.Script.html#912" class="Function">DecEq-HSTimelock</a> <a id="929" class="Symbol">=</a> <a id="931" href="Tactic.Derive.DecEq.html#3506" class="Function">derive-DecEq</a> <a id="944" class="Symbol">((</a><a id="946" class="Keyword">quote</a> <a id="952" href="Ledger.Conway.Conformance.Script.html#669" class="Record">HSTimelock</a> <a id="963" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="965" href="Ledger.Conway.Conformance.Script.html#912" class="Function">DecEq-HSTimelock</a><a id="981" class="Symbol">)</a> <a id="983" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="985" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="987" class="Symbol">)</a>

<a id="990" class="Keyword">record</a> <a id="HSPlutusScript"></a><a id="997" href="Ledger.Conway.Conformance.Script.html#997" class="Record">HSPlutusScript</a> <a id="1012" class="Symbol">:</a> <a id="1014" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1019" class="Keyword">where</a>
  <a id="1027" class="Keyword">constructor</a> <a id="MkHSPlutusScript"></a><a id="1039" href="Ledger.Conway.Conformance.Script.html#1039" class="InductiveConstructor">MkHSPlutusScript</a>
  <a id="1058" class="Keyword">field</a> <a id="HSPlutusScript.psScriptHash"></a><a id="1064" href="Ledger.Conway.Conformance.Script.html#1064" class="Field">psScriptHash</a> <a id="1077" class="Symbol">:</a> <a id="1079" href="Ledger.Crypto.html#1166" class="Field">ScriptHash</a>
        <a id="HSPlutusScript.psScriptSize"></a><a id="1098" href="Ledger.Conway.Conformance.Script.html#1098" class="Field">psScriptSize</a> <a id="1111" class="Symbol">:</a> <a id="1113" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

<a id="1116" class="Keyword">instance</a>
  <a id="Hashable-HSPlutusScript"></a><a id="1127" href="Ledger.Conway.Conformance.Script.html#1127" class="Function">Hashable-HSPlutusScript</a> <a id="1151" class="Symbol">:</a> <a id="1153" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="1162" href="Ledger.Conway.Conformance.Script.html#997" class="Record">HSPlutusScript</a> <a id="1177" href="Ledger.Crypto.html#1166" class="Field">ScriptHash</a>
  <a id="1190" href="Ledger.Conway.Conformance.Script.html#1127" class="Function">Hashable-HSPlutusScript</a> <a id="1214" class="Symbol">.</a><a id="1215" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="1220" class="Symbol">=</a> <a id="1222" href="Ledger.Conway.Conformance.Script.html#1064" class="Field">HSPlutusScript.psScriptHash</a>

<a id="P1ScriptStructure-HTL"></a><a id="1251" href="Ledger.Conway.Conformance.Script.html#1251" class="Function">P1ScriptStructure-HTL</a> <a id="1273" class="Symbol">:</a> <a id="1275" href="Ledger.Script.html#598" class="Record">P1ScriptStructure</a>
<a id="1293" href="Ledger.Conway.Conformance.Script.html#1251" class="Function">P1ScriptStructure-HTL</a> <a id="1315" class="Symbol">=</a> <a id="1317" class="Keyword">record</a>
  <a id="1326" class="Symbol">{</a> <a id="1328" href="Ledger.Script.html#638" class="Field">P1Script</a> <a id="1337" class="Symbol">=</a> <a id="1339" href="Ledger.Conway.Conformance.Script.html#669" class="Record">HSTimelock</a>
  <a id="1352" class="Symbol">;</a> <a id="1354" href="Ledger.Script.html#662" class="Field">validP1Script</a> <a id="1368" class="Symbol">=</a> <a id="1370" class="Symbol">λ</a> <a id="1372" href="Ledger.Conway.Conformance.Script.html#1372" class="Bound">x</a> <a id="1374" href="Ledger.Conway.Conformance.Script.html#1374" class="Bound">y</a> <a id="1376" class="Symbol">→</a> <a id="1378" href="Ledger.Script.html#2732" class="Datatype">evalTimelock</a> <a id="1391" href="Ledger.Conway.Conformance.Script.html#1372" class="Bound">x</a> <a id="1393" href="Ledger.Conway.Conformance.Script.html#1374" class="Bound">y</a> <a id="1395" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1397" href="Ledger.Conway.Conformance.Script.html#705" class="Field">HSTimelock.timelock</a> <a id="1417" class="Symbol">}</a>

</pre></body></html>