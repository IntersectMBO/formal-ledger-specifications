<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Script</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Algebra.Morphism.html" class="Module">Algebra.Morphism</a>
<a id="55" class="Keyword">open</a> <a id="60" class="Keyword">import</a> <a id="67" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a> <a id="96" class="Keyword">using</a> <a id="102" class="Symbol">(</a><a id="103" href="Data.List.Relation.Unary.All.html#1638" class="Datatype">All</a><a id="106" class="Symbol">;</a> <a id="108" href="Data.List.Relation.Unary.All.html#1701" class="InductiveConstructor">[]</a><a id="110" class="Symbol">;</a> <a id="112" href="Data.List.Relation.Unary.All.html#1718" class="InductiveConstructor Operator">_∷_</a><a id="115" class="Symbol">;</a> <a id="117" href="Data.List.Relation.Unary.All.html#6419" class="Function">all?</a><a id="121" class="Symbol">;</a> <a id="123" href="Data.List.Relation.Unary.All.html#2472" class="Function">uncons</a><a id="129" class="Symbol">)</a>
<a id="131" class="Keyword">open</a> <a id="136" class="Keyword">import</a> <a id="143" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>
<a id="172" class="Keyword">open</a> <a id="177" class="Keyword">import</a> <a id="184" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="204" class="Keyword">using</a> <a id="210" class="Symbol">(</a><a id="211" href="Data.Nat.Properties.html#17645" class="Function">+-0-commutativeMonoid</a><a id="232" class="Symbol">;</a> <a id="234" href="Data.Nat.Properties.html#3485" class="Function">suc-injective</a><a id="247" class="Symbol">)</a>

<a id="250" class="Keyword">open</a> <a id="255" class="Keyword">import</a> <a id="262" href="stdlib.Data.List.Relation.Unary.MOf.html" class="Module">stdlib.Data.List.Relation.Unary.MOf</a>


<a id="300" class="Keyword">open</a> <a id="305" class="Keyword">import</a> <a id="312" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="327" class="Keyword">hiding</a> <a id="334" class="Symbol">(</a><a id="335" href="Axiom.Set.html#9724" class="Function">All</a><a id="338" class="Symbol">;</a> <a id="340" href="Axiom.Set.html#9793" class="Function">Any</a><a id="343" class="Symbol">;</a> <a id="345" href="Axiom.Set.html#10903" class="Function">all?</a><a id="349" class="Symbol">;</a> <a id="351" href="Axiom.Set.html#10977" class="Function">any?</a><a id="355" class="Symbol">;</a> <a id="357" href="Data.List.Base.html#7153" class="Function Operator">_∷ʳ_</a><a id="361" class="Symbol">;</a> <a id="363" href="Data.List.Base.html#8047" class="Function">uncons</a><a id="369" class="Symbol">;</a> <a id="371" href="Interface.HasSubset.html#158" class="Field Operator">_⊆_</a><a id="374" class="Symbol">)</a>
<a id="376" class="Keyword">open</a> <a id="381" class="Keyword">import</a> <a id="388" href="Ledger.Core.Specification.Crypto.html" class="Module">Ledger.Core.Specification.Crypto</a>
<a id="421" class="Keyword">open</a> <a id="426" class="Keyword">import</a> <a id="433" href="Ledger.Core.Specification.Epoch.html" class="Module">Ledger.Core.Specification.Epoch</a>

<a id="466" class="Keyword">import</a> <a id="473" href="Ledger.Conway.Specification.Script.html" class="Module">Ledger.Conway.Specification.Script</a>

<a id="509" class="Keyword">module</a> <a id="516" href="Ledger.Conway.Conformance.Script.html" class="Module">Ledger.Conway.Conformance.Script</a>
  <a id="551" class="Symbol">(</a><a id="552" href="Ledger.Conway.Conformance.Script.html#552" class="Bound">cs</a> <a id="555" class="Symbol">:</a> <a id="557" class="Symbol">_)</a> <a id="560" class="Symbol">(</a><a id="561" class="Keyword">open</a> <a id="566" href="Ledger.Core.Specification.Crypto.html#1110" class="Module">CryptoStructure</a> <a id="582" href="Ledger.Conway.Conformance.Script.html#552" class="Bound">cs</a><a id="584" class="Symbol">)</a>
  <a id="588" class="Symbol">(</a><a id="589" href="Ledger.Conway.Conformance.Script.html#589" class="Bound">es</a> <a id="592" class="Symbol">:</a> <a id="594" class="Symbol">_)</a> <a id="597" class="Symbol">(</a><a id="598" class="Keyword">open</a> <a id="603" href="Ledger.Core.Specification.Epoch.html#530" class="Module">EpochStructure</a> <a id="618" href="Ledger.Conway.Conformance.Script.html#589" class="Bound">es</a><a id="620" class="Symbol">)</a>
  <a id="624" class="Keyword">where</a>

<a id="631" class="Keyword">open</a> <a id="636" href="Ledger.Conway.Specification.Script.html" class="Module">Ledger.Conway.Specification.Script</a> <a id="671" href="Ledger.Conway.Conformance.Script.html#552" class="Bound">cs</a> <a id="674" href="Ledger.Conway.Conformance.Script.html#589" class="Bound">es</a>

<a id="678" class="Keyword">record</a> <a id="HSTimelock"></a><a id="685" href="Ledger.Conway.Conformance.Script.html#685" class="Record">HSTimelock</a> <a id="696" class="Symbol">:</a> <a id="698" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="703" class="Keyword">where</a>
  <a id="711" class="Keyword">field</a>
    <a id="HSTimelock.timelock"></a><a id="721" href="Ledger.Conway.Conformance.Script.html#721" class="Field">timelock</a>     <a id="734" class="Symbol">:</a> <a id="736" href="Ledger.Conway.Specification.Script.Timelock.html#930" class="Datatype">Timelock</a>
    <a id="HSTimelock.tlScriptHash"></a><a id="749" href="Ledger.Conway.Conformance.Script.html#749" class="Field">tlScriptHash</a> <a id="762" class="Symbol">:</a> <a id="764" href="Ledger.Core.Specification.Crypto.html#1242" class="Field">ScriptHash</a>
    <a id="HSTimelock.tlScriptSize"></a><a id="779" href="Ledger.Conway.Conformance.Script.html#779" class="Field">tlScriptSize</a> <a id="792" class="Symbol">:</a> <a id="794" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

<a id="797" class="Keyword">instance</a>
  <a id="Hashable-HSTimelock"></a><a id="808" href="Ledger.Conway.Conformance.Script.html#808" class="Function">Hashable-HSTimelock</a> <a id="828" class="Symbol">:</a> <a id="830" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="839" href="Ledger.Conway.Conformance.Script.html#685" class="Record">HSTimelock</a> <a id="850" href="Ledger.Core.Specification.Crypto.html#1242" class="Field">ScriptHash</a>
  <a id="863" href="Ledger.Conway.Conformance.Script.html#808" class="Function">Hashable-HSTimelock</a> <a id="883" class="Symbol">.</a><a id="884" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="889" class="Symbol">=</a> <a id="891" href="Ledger.Conway.Conformance.Script.html#749" class="Field">HSTimelock.tlScriptHash</a>

<a id="916" class="Keyword">unquoteDecl</a> <a id="DecEq-HSTimelock"></a><a id="928" href="Ledger.Conway.Conformance.Script.html#928" class="Function">DecEq-HSTimelock</a> <a id="945" class="Symbol">=</a> <a id="947" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="960" class="Symbol">((</a><a id="962" class="Keyword">quote</a> <a id="968" href="Ledger.Conway.Conformance.Script.html#685" class="Record">HSTimelock</a> <a id="979" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="981" href="Ledger.Conway.Conformance.Script.html#928" class="Function">DecEq-HSTimelock</a><a id="997" class="Symbol">)</a> <a id="999" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1001" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1003" class="Symbol">)</a>

<a id="1006" class="Keyword">record</a> <a id="HSPlutusScript"></a><a id="1013" href="Ledger.Conway.Conformance.Script.html#1013" class="Record">HSPlutusScript</a> <a id="1028" class="Symbol">:</a> <a id="1030" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1035" class="Keyword">where</a>
  <a id="1043" class="Keyword">constructor</a> <a id="MkHSPlutusScript"></a><a id="1055" href="Ledger.Conway.Conformance.Script.html#1055" class="InductiveConstructor">MkHSPlutusScript</a>
  <a id="1074" class="Keyword">field</a> <a id="HSPlutusScript.psScriptHash"></a><a id="1080" href="Ledger.Conway.Conformance.Script.html#1080" class="Field">psScriptHash</a> <a id="1093" class="Symbol">:</a> <a id="1095" href="Ledger.Core.Specification.Crypto.html#1242" class="Field">ScriptHash</a>
        <a id="HSPlutusScript.psScriptSize"></a><a id="1114" href="Ledger.Conway.Conformance.Script.html#1114" class="Field">psScriptSize</a> <a id="1127" class="Symbol">:</a> <a id="1129" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

<a id="1132" class="Keyword">instance</a>
  <a id="Hashable-HSPlutusScript"></a><a id="1143" href="Ledger.Conway.Conformance.Script.html#1143" class="Function">Hashable-HSPlutusScript</a> <a id="1167" class="Symbol">:</a> <a id="1169" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="1178" href="Ledger.Conway.Conformance.Script.html#1013" class="Record">HSPlutusScript</a> <a id="1193" href="Ledger.Core.Specification.Crypto.html#1242" class="Field">ScriptHash</a>
  <a id="1206" href="Ledger.Conway.Conformance.Script.html#1143" class="Function">Hashable-HSPlutusScript</a> <a id="1230" class="Symbol">.</a><a id="1231" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="1236" class="Symbol">=</a> <a id="1238" href="Ledger.Conway.Conformance.Script.html#1080" class="Field">HSPlutusScript.psScriptHash</a>

<a id="P1ScriptStructure-HTL"></a><a id="1267" href="Ledger.Conway.Conformance.Script.html#1267" class="Function">P1ScriptStructure-HTL</a> <a id="1289" class="Symbol">:</a> <a id="1291" href="Ledger.Conway.Specification.Script.Base.html#602" class="Record">P1ScriptStructure</a>
<a id="1309" href="Ledger.Conway.Conformance.Script.html#1267" class="Function">P1ScriptStructure-HTL</a> <a id="1331" class="Symbol">=</a> <a id="1333" class="Keyword">record</a>
  <a id="1342" class="Symbol">{</a> <a id="1344" href="Ledger.Conway.Specification.Script.Base.html#642" class="Field">P1Script</a> <a id="1353" class="Symbol">=</a> <a id="1355" href="Ledger.Conway.Conformance.Script.html#685" class="Record">HSTimelock</a>
  <a id="1368" class="Symbol">;</a> <a id="1370" href="Ledger.Conway.Specification.Script.Base.html#666" class="Field">validP1Script</a> <a id="1384" class="Symbol">=</a> <a id="1386" class="Symbol">λ</a> <a id="1388" href="Ledger.Conway.Conformance.Script.html#1388" class="Bound">x</a> <a id="1390" href="Ledger.Conway.Conformance.Script.html#1390" class="Bound">y</a> <a id="1392" class="Symbol">→</a> <a id="1394" href="Ledger.Conway.Specification.Script.Timelock.html#1565" class="Datatype">evalTimelock</a> <a id="1407" href="Ledger.Conway.Conformance.Script.html#1388" class="Bound">x</a> <a id="1409" href="Ledger.Conway.Conformance.Script.html#1390" class="Bound">y</a> <a id="1411" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="1413" href="Ledger.Conway.Conformance.Script.html#721" class="Field">HSTimelock.timelock</a> <a id="1433" class="Symbol">}</a>

</pre></body></html>