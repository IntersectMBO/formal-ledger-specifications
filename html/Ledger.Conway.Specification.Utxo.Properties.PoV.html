<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Utxo.Properties.PoV</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">

<a id="3" class="Symbol">{-#</a> <a id="7" class="Keyword">OPTIONS</a> <a id="15" class="Pragma">--safe</a> <a id="22" class="Symbol">#-}</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="76" class="Keyword">open</a> <a id="81" class="Keyword">import</a> <a id="88" href="Ledger.Core.Specification.Transaction.html" class="Module">Ledger.Core.Specification.Transaction</a>

<a id="127" class="Keyword">module</a> <a id="134" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html" class="Module">Ledger.Conway.Specification.Utxo.Properties.PoV</a>
  <a id="184" class="Symbol">(</a><a id="185" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#185" class="Bound">txs</a> <a id="189" class="Symbol">:</a> <a id="191" href="Ledger.Core.Specification.Transaction.html#896" class="Record">TransactionStructure</a><a id="211" class="Symbol">)</a> <a id="213" class="Symbol">(</a><a id="214" class="Keyword">open</a> <a id="219" href="Ledger.Core.Specification.Transaction.html#896" class="Module">TransactionStructure</a> <a id="240" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#185" class="Bound">txs</a><a id="243" class="Symbol">)</a>
  <a id="247" class="Symbol">(</a><a id="248" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#248" class="Bound">abs</a> <a id="252" class="Symbol">:</a> <a id="254" href="Ledger.Conway.Specification.Abstract.html#653" class="Record">AbstractFunctions</a> <a id="272" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#185" class="Bound">txs</a><a id="275" class="Symbol">)</a>
  <a id="279" class="Keyword">where</a>

<a id="286" class="Keyword">open</a> <a id="291" class="Keyword">import</a> <a id="298" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="360" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>
<a id="373" class="Keyword">open</a> <a id="378" class="Keyword">import</a> <a id="385" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="425" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#185" class="Bound">txs</a> <a id="429" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#248" class="Bound">abs</a>
<a id="433" class="Keyword">open</a> <a id="438" class="Keyword">import</a> <a id="445" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="478" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#185" class="Bound">txs</a> <a id="482" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#248" class="Bound">abs</a>
<a id="486" class="Keyword">open</a> <a id="491" class="Keyword">import</a> <a id="498" href="Ledger.Conway.Specification.Utxo.Properties.Base.html" class="Module">Ledger.Conway.Specification.Utxo.Properties.Base</a> <a id="547" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#185" class="Bound">txs</a> <a id="551" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#248" class="Bound">abs</a> <a id="555" class="Keyword">public</a>
<a id="562" class="Keyword">open</a> <a id="567" href="Ledger.Conway.Specification.Utxo.html#1308" class="Module">UTxOState</a><a id="576" class="Symbol">;</a> <a id="578" class="Keyword">open</a> <a id="583" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a><a id="585" class="Symbol">;</a> <a id="587" class="Keyword">open</a> <a id="592" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a>


<a id="UTXOpov"></a><a id="601" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#601" class="Function">UTXOpov</a> <a id="609" class="Symbol">:</a> <a id="611" class="Symbol">{</a><a id="612" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#612" class="Bound">Γ</a> <a id="614" class="Symbol">:</a> <a id="616" href="Ledger.Conway.Specification.Utxo.html#1199" class="Record">UTxOEnv</a><a id="623" class="Symbol">}</a> <a id="625" class="Symbol">{</a><a id="626" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#626" class="Bound">tx</a> <a id="629" class="Symbol">:</a> <a id="631" href="Ledger.Conway.Specification.Transaction.html#1721" class="Record">Tx</a><a id="633" class="Symbol">}</a> <a id="635" class="Symbol">{</a><a id="636" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#636" class="Bound">s</a> <a id="638" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#638" class="Bound">s&#39;</a> <a id="641" class="Symbol">:</a> <a id="643" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a><a id="652" class="Symbol">}</a>
  <a id="656" class="Symbol">→</a> <a id="658" href="Ledger.Conway.Specification.Transaction.html#1556" class="Field">TxIdOf</a> <a id="665" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#626" class="Bound">tx</a> <a id="668" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="670" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="675" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="681" class="Symbol">(</a><a id="682" href="Class.IsSet.html#916" class="Function">dom</a> <a id="686" class="Symbol">(</a><a id="687" href="Ledger.Core.Specification.Transaction.html#2830" class="Field">UTxOOf</a> <a id="694" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#636" class="Bound">s</a><a id="695" class="Symbol">))</a>
  <a id="700" class="Symbol">→</a> <a id="702" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#612" class="Bound">Γ</a> <a id="704" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">⊢</a> <a id="706" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#636" class="Bound">s</a> <a id="708" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">⇀⦇</a> <a id="711" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#626" class="Bound">tx</a> <a id="714" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">,UTXO⦈</a> <a id="721" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#638" class="Bound">s&#39;</a>
  <a id="726" class="Symbol">→</a> <a id="728" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="736" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#636" class="Bound">s</a> <a id="738" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="740" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="748" class="Symbol">(</a><a id="749" href="Ledger.Core.Specification.Address.html#1688" class="Field">WithdrawalsOf</a> <a id="763" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#626" class="Bound">tx</a><a id="765" class="Symbol">)</a> <a id="767" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="769" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#1368" class="Function">χ</a> <a id="771" class="Symbol">(</a><a id="772" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#626" class="Bound">tx</a> <a id="775" class="Symbol">.</a><a id="776" href="Ledger.Conway.Specification.Transaction.html#1815" class="Field">isValid</a><a id="783" class="Symbol">)</a> <a id="785" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="787" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="795" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#638" class="Bound">s&#39;</a>



<a id="801" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#601" class="Function">UTXOpov</a> <a id="809" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#809" class="Bound">h&#39;</a> <a id="812" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#812" class="Bound">step</a><a id="816" class="Symbol">@(</a><a id="818" href="Ledger.Conway.Specification.Utxo.html#14112" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="834" class="Symbol">_</a> <a id="836" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#836" class="Bound">Γ</a> <a id="838" class="Symbol">_</a> <a id="840" class="Symbol">_</a> <a id="842" class="Symbol">_</a> <a id="844" class="Symbol">_</a> <a id="846" class="Symbol">_</a> <a id="848" class="Symbol">_</a> <a id="850" class="Symbol">_</a> <a id="852" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#852" class="Bound">newBal</a> <a id="859" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#859" class="Bound">noMintAda</a> <a id="869" class="Symbol">_</a> <a id="871" class="Symbol">_</a> <a id="873" class="Symbol">_</a> <a id="875" class="Symbol">_</a> <a id="877" class="Symbol">_</a> <a id="879" class="Symbol">_</a> <a id="881" class="Symbol">_</a> <a id="883" class="Symbol">_</a> <a id="885" class="Symbol">_</a> <a id="887" class="Symbol">(</a><a id="888" href="Ledger.Conway.Specification.Utxo.html#11606" class="InductiveConstructor">Scripts-Yes</a> <a id="900" class="Symbol">(_</a> <a id="903" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="905" class="Symbol">_</a> <a id="907" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="909" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#909" class="Bound">valid</a><a id="914" class="Symbol">)))</a>
  <a id="920" class="Symbol">=</a> <a id="922" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#18564" class="Function">pov-scripts</a> <a id="934" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#812" class="Bound">step</a> <a id="939" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#809" class="Bound">h&#39;</a> <a id="942" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="947" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#909" class="Bound">valid</a>

<a id="954" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#601" class="Function">UTXOpov</a> <a id="962" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#962" class="Bound">h&#39;</a> <a id="965" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#965" class="Bound">step</a><a id="969" class="Symbol">@(</a><a id="971" href="Ledger.Conway.Specification.Utxo.html#14112" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="987" class="Symbol">_</a> <a id="989" class="Symbol">_</a> <a id="991" class="Symbol">_</a> <a id="993" class="Symbol">_</a> <a id="995" class="Symbol">_</a> <a id="997" class="Symbol">_</a> <a id="999" class="Symbol">_</a> <a id="1001" class="Symbol">_</a> <a id="1003" class="Symbol">_</a> <a id="1005" class="Symbol">_</a> <a id="1007" class="Symbol">_</a> <a id="1009" class="Symbol">_</a> <a id="1011" class="Symbol">_</a> <a id="1013" class="Symbol">_</a> <a id="1015" class="Symbol">_</a> <a id="1017" class="Symbol">_</a> <a id="1019" class="Symbol">_</a> <a id="1021" class="Symbol">_</a> <a id="1023" class="Symbol">_</a> <a id="1025" class="Symbol">_</a> <a id="1027" class="Symbol">(</a><a id="1028" href="Ledger.Conway.Specification.Utxo.html#12124" class="InductiveConstructor">Scripts-No</a> <a id="1039" class="Symbol">(_</a> <a id="1042" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1044" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#1044" class="Bound">invalid</a><a id="1051" class="Symbol">)))</a>
  <a id="1057" class="Symbol">=</a> <a id="1059" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#19012" class="Function">pov-no-scripts</a> <a id="1074" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#965" class="Bound">step</a> <a id="1079" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#962" class="Bound">h&#39;</a> <a id="1082" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#1044" class="Bound">invalid</a>

</pre></body></html>