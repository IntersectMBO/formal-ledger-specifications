<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Utxo.Properties.PoV</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">

<a id="3" class="Symbol">{-#</a> <a id="7" class="Keyword">OPTIONS</a> <a id="15" class="Pragma">--safe</a> <a id="22" class="Symbol">#-}</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="76" class="Keyword">open</a> <a id="81" class="Keyword">import</a> <a id="88" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>

<a id="129" class="Keyword">module</a> <a id="136" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html" class="Module">Ledger.Conway.Specification.Utxo.Properties.PoV</a>
  <a id="186" class="Symbol">(</a><a id="187" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#187" class="Bound">txs</a> <a id="191" class="Symbol">:</a> <a id="193" class="Symbol">_)</a> <a id="196" class="Symbol">(</a><a id="197" class="Keyword">open</a> <a id="202" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="223" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#187" class="Bound">txs</a><a id="226" class="Symbol">)</a>
  <a id="230" class="Symbol">(</a><a id="231" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#231" class="Bound">abs</a> <a id="235" class="Symbol">:</a> <a id="237" href="Ledger.Conway.Specification.Abstract.html#829" class="Record">AbstractFunctions</a> <a id="255" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#187" class="Bound">txs</a><a id="258" class="Symbol">)</a>
  <a id="262" class="Keyword">where</a>

<a id="269" class="Keyword">open</a> <a id="274" class="Keyword">import</a> <a id="281" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="315" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a>
<a id="328" class="Keyword">open</a> <a id="333" class="Keyword">import</a> <a id="340" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="355" class="Keyword">open</a> <a id="360" class="Keyword">import</a> <a id="367" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="400" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#187" class="Bound">txs</a> <a id="404" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#231" class="Bound">abs</a>
<a id="408" class="Keyword">open</a> <a id="413" class="Keyword">import</a> <a id="420" href="Ledger.Conway.Specification.Utxo.Properties.Base.html" class="Module">Ledger.Conway.Specification.Utxo.Properties.Base</a> <a id="469" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#187" class="Bound">txs</a> <a id="473" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#231" class="Bound">abs</a> <a id="477" class="Keyword">public</a>
<a id="484" class="Keyword">open</a> <a id="489" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">UTxOState</a><a id="498" class="Symbol">;</a> <a id="500" class="Keyword">open</a> <a id="505" href="Ledger.Conway.Specification.Transaction.html#4682" class="Module">Tx</a><a id="507" class="Symbol">;</a> <a id="509" class="Keyword">open</a> <a id="514" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a>


<a id="UTXOpov"></a><a id="523" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#523" class="Function">UTXOpov</a> <a id="531" class="Symbol">:</a> <a id="533" class="Symbol">{</a><a id="534" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#534" class="Bound">Γ</a> <a id="536" class="Symbol">:</a> <a id="538" href="Ledger.Conway.Specification.Utxo.html#1121" class="Record">UTxOEnv</a><a id="545" class="Symbol">}</a> <a id="547" class="Symbol">{</a><a id="548" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#548" class="Bound">tx</a> <a id="551" class="Symbol">:</a> <a id="553" href="Ledger.Conway.Specification.Transaction.html#4682" class="Record">Tx</a><a id="555" class="Symbol">}</a> <a id="557" class="Symbol">{</a><a id="558" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#558" class="Bound">s</a> <a id="560" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#560" class="Bound">s&#39;</a> <a id="563" class="Symbol">:</a> <a id="565" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">UTxOState</a><a id="574" class="Symbol">}</a>
  <a id="578" class="Symbol">→</a> <a id="580" href="Ledger.Conway.Specification.Transaction.html#4262" class="Field">TxIdOf</a> <a id="587" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#548" class="Bound">tx</a> <a id="590" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="592" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="597" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="603" class="Symbol">(</a><a id="604" href="Class.IsSet.html#916" class="Function">dom</a> <a id="608" class="Symbol">(</a><a id="609" href="Ledger.Conway.Specification.Transaction.html#2939" class="Field">UTxOOf</a> <a id="616" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#558" class="Bound">s</a><a id="617" class="Symbol">))</a>
  <a id="622" class="Symbol">→</a> <a id="624" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#534" class="Bound">Γ</a> <a id="626" href="Ledger.Conway.Specification.Utxo.html#2163" class="Datatype Operator">⊢</a> <a id="628" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#558" class="Bound">s</a> <a id="630" href="Ledger.Conway.Specification.Utxo.html#2163" class="Datatype Operator">⇀⦇</a> <a id="633" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#548" class="Bound">tx</a> <a id="636" href="Ledger.Conway.Specification.Utxo.html#2163" class="Datatype Operator">,UTXO⦈</a> <a id="643" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#560" class="Bound">s&#39;</a>
  <a id="648" class="Symbol">→</a> <a id="650" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="658" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#558" class="Bound">s</a> <a id="660" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="662" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="670" class="Symbol">(</a><a id="671" href="Ledger.Core.Specification.Address.html#1700" class="Field">WithdrawalsOf</a> <a id="685" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#548" class="Bound">tx</a><a id="687" class="Symbol">)</a> <a id="689" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="691" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#1319" class="Function">χ</a> <a id="693" class="Symbol">(</a><a id="694" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#548" class="Bound">tx</a> <a id="697" class="Symbol">.</a><a id="698" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a><a id="705" class="Symbol">)</a> <a id="707" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="709" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="717" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#560" class="Bound">s&#39;</a>


<a id="722" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#523" class="Function">UTXOpov</a> <a id="730" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#730" class="Bound">h&#39;</a> <a id="733" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#733" class="Bound">step</a><a id="737" class="Symbol">@(</a><a id="739" href="Ledger.Conway.Specification.Utxo.html#14159" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="755" class="Symbol">_</a> <a id="757" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#757" class="Bound">Γ</a> <a id="759" class="Symbol">_</a> <a id="761" class="Symbol">_</a> <a id="763" class="Symbol">_</a> <a id="765" class="Symbol">_</a> <a id="767" class="Symbol">_</a> <a id="769" class="Symbol">_</a> <a id="771" class="Symbol">_</a> <a id="773" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#773" class="Bound">newBal</a> <a id="780" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#780" class="Bound">noMintAda</a> <a id="790" class="Symbol">_</a> <a id="792" class="Symbol">_</a> <a id="794" class="Symbol">_</a> <a id="796" class="Symbol">_</a> <a id="798" class="Symbol">_</a> <a id="800" class="Symbol">_</a> <a id="802" class="Symbol">_</a> <a id="804" class="Symbol">_</a> <a id="806" class="Symbol">_</a> <a id="808" class="Symbol">(</a><a id="809" href="Ledger.Conway.Specification.Utxo.html#11653" class="InductiveConstructor">Scripts-Yes</a> <a id="821" class="Symbol">(_</a> <a id="824" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="826" class="Symbol">_</a> <a id="828" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="830" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#830" class="Bound">valid</a><a id="835" class="Symbol">)))</a>
  <a id="841" class="Symbol">=</a> <a id="843" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#18515" class="Function">pov-scripts</a> <a id="855" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#733" class="Bound">step</a> <a id="860" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#730" class="Bound">h&#39;</a> <a id="863" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="868" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#830" class="Bound">valid</a>

<a id="875" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#523" class="Function">UTXOpov</a> <a id="883" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#883" class="Bound">h&#39;</a> <a id="886" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#886" class="Bound">step</a><a id="890" class="Symbol">@(</a><a id="892" href="Ledger.Conway.Specification.Utxo.html#14159" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="908" class="Symbol">_</a> <a id="910" class="Symbol">_</a> <a id="912" class="Symbol">_</a> <a id="914" class="Symbol">_</a> <a id="916" class="Symbol">_</a> <a id="918" class="Symbol">_</a> <a id="920" class="Symbol">_</a> <a id="922" class="Symbol">_</a> <a id="924" class="Symbol">_</a> <a id="926" class="Symbol">_</a> <a id="928" class="Symbol">_</a> <a id="930" class="Symbol">_</a> <a id="932" class="Symbol">_</a> <a id="934" class="Symbol">_</a> <a id="936" class="Symbol">_</a> <a id="938" class="Symbol">_</a> <a id="940" class="Symbol">_</a> <a id="942" class="Symbol">_</a> <a id="944" class="Symbol">_</a> <a id="946" class="Symbol">_</a> <a id="948" class="Symbol">(</a><a id="949" href="Ledger.Conway.Specification.Utxo.html#12171" class="InductiveConstructor">Scripts-No</a> <a id="960" class="Symbol">(_</a> <a id="963" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="965" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#965" class="Bound">invalid</a><a id="972" class="Symbol">)))</a>
  <a id="978" class="Symbol">=</a> <a id="980" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#18963" class="Function">pov-no-scripts</a> <a id="995" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#886" class="Bound">step</a> <a id="1000" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#883" class="Bound">h&#39;</a> <a id="1003" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#965" class="Bound">invalid</a>

</pre></body></html>