<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Utxo.Properties.PoV</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">

<a id="3" class="Symbol">{-#</a> <a id="7" class="Keyword">OPTIONS</a> <a id="15" class="Pragma">--safe</a> <a id="22" class="Symbol">#-}</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="Ledger.Core.Specification.Abstract.html" class="Module">Ledger.Core.Specification.Abstract</a>
<a id="74" class="Keyword">open</a> <a id="79" class="Keyword">import</a> <a id="86" href="Ledger.Core.Specification.Transaction.html" class="Module">Ledger.Core.Specification.Transaction</a>

<a id="125" class="Keyword">module</a> <a id="132" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html" class="Module">Ledger.Conway.Specification.Utxo.Properties.PoV</a>
  <a id="182" class="Symbol">(</a><a id="183" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#183" class="Bound">txs</a> <a id="187" class="Symbol">:</a> <a id="189" href="Ledger.Core.Specification.Transaction.html#896" class="Record">TransactionStructure</a><a id="209" class="Symbol">)</a> <a id="211" class="Symbol">(</a><a id="212" class="Keyword">open</a> <a id="217" href="Ledger.Core.Specification.Transaction.html#896" class="Module">TransactionStructure</a> <a id="238" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#183" class="Bound">txs</a><a id="241" class="Symbol">)</a>
  <a id="245" class="Symbol">(</a><a id="246" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#246" class="Bound">abs</a> <a id="250" class="Symbol">:</a> <a id="252" href="Ledger.Core.Specification.Abstract.html#826" class="Record">AbstractFunctions</a> <a id="270" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#183" class="Bound">txs</a><a id="273" class="Symbol">)</a>
  <a id="277" class="Keyword">where</a>

<a id="284" class="Keyword">open</a> <a id="289" class="Keyword">import</a> <a id="296" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="312" class="Keyword">open</a> <a id="317" class="Keyword">import</a> <a id="324" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="358" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>
<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="423" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#183" class="Bound">txs</a> <a id="427" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#246" class="Bound">abs</a>
<a id="431" class="Keyword">open</a> <a id="436" class="Keyword">import</a> <a id="443" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="476" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#183" class="Bound">txs</a> <a id="480" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#246" class="Bound">abs</a>
<a id="484" class="Keyword">open</a> <a id="489" class="Keyword">import</a> <a id="496" href="Ledger.Conway.Specification.Utxo.Properties.Base.html" class="Module">Ledger.Conway.Specification.Utxo.Properties.Base</a> <a id="545" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#183" class="Bound">txs</a> <a id="549" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#246" class="Bound">abs</a> <a id="553" class="Keyword">public</a>
<a id="560" class="Keyword">open</a> <a id="565" href="Ledger.Conway.Specification.Utxo.html#1306" class="Module">UTxOState</a><a id="574" class="Symbol">;</a> <a id="576" class="Keyword">open</a> <a id="581" href="Ledger.Conway.Specification.Transaction.html#1719" class="Module">Tx</a><a id="583" class="Symbol">;</a> <a id="585" class="Keyword">open</a> <a id="590" href="Ledger.Conway.Specification.Transaction.html#350" class="Module">TxBody</a>


<a id="UTXOpov"></a><a id="599" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#599" class="Function">UTXOpov</a> <a id="607" class="Symbol">:</a> <a id="609" class="Symbol">{</a><a id="610" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#610" class="Bound">Γ</a> <a id="612" class="Symbol">:</a> <a id="614" href="Ledger.Conway.Specification.Utxo.html#1197" class="Record">UTxOEnv</a><a id="621" class="Symbol">}</a> <a id="623" class="Symbol">{</a><a id="624" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#624" class="Bound">tx</a> <a id="627" class="Symbol">:</a> <a id="629" href="Ledger.Conway.Specification.Transaction.html#1719" class="Record">Tx</a><a id="631" class="Symbol">}</a> <a id="633" class="Symbol">{</a><a id="634" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#634" class="Bound">s</a> <a id="636" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#636" class="Bound">s&#39;</a> <a id="639" class="Symbol">:</a> <a id="641" href="Ledger.Conway.Specification.Utxo.html#1306" class="Record">UTxOState</a><a id="650" class="Symbol">}</a>
  <a id="654" class="Symbol">→</a> <a id="656" href="Ledger.Conway.Specification.Transaction.html#1554" class="Field">TxIdOf</a> <a id="663" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#624" class="Bound">tx</a> <a id="666" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="668" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="673" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="679" class="Symbol">(</a><a id="680" href="Class.IsSet.html#916" class="Function">dom</a> <a id="684" class="Symbol">(</a><a id="685" href="Ledger.Core.Specification.Transaction.html#2830" class="Field">UTxOOf</a> <a id="692" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#634" class="Bound">s</a><a id="693" class="Symbol">))</a>
  <a id="698" class="Symbol">→</a> <a id="700" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#610" class="Bound">Γ</a> <a id="702" href="Ledger.Conway.Specification.Utxo.html#2239" class="Datatype Operator">⊢</a> <a id="704" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#634" class="Bound">s</a> <a id="706" href="Ledger.Conway.Specification.Utxo.html#2239" class="Datatype Operator">⇀⦇</a> <a id="709" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#624" class="Bound">tx</a> <a id="712" href="Ledger.Conway.Specification.Utxo.html#2239" class="Datatype Operator">,UTXO⦈</a> <a id="719" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#636" class="Bound">s&#39;</a>
  <a id="724" class="Symbol">→</a> <a id="726" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="734" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#634" class="Bound">s</a> <a id="736" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="738" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="746" class="Symbol">(</a><a id="747" href="Ledger.Core.Specification.Address.html#1700" class="Field">WithdrawalsOf</a> <a id="761" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#624" class="Bound">tx</a><a id="763" class="Symbol">)</a> <a id="765" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="767" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#1366" class="Function">χ</a> <a id="769" class="Symbol">(</a><a id="770" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#624" class="Bound">tx</a> <a id="773" class="Symbol">.</a><a id="774" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a><a id="781" class="Symbol">)</a> <a id="783" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="785" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="793" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#636" class="Bound">s&#39;</a>


<a id="798" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#599" class="Function">UTXOpov</a> <a id="806" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#806" class="Bound">h&#39;</a> <a id="809" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#809" class="Bound">step</a><a id="813" class="Symbol">@(</a><a id="815" href="Ledger.Conway.Specification.Utxo.html#14235" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="831" class="Symbol">_</a> <a id="833" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#833" class="Bound">Γ</a> <a id="835" class="Symbol">_</a> <a id="837" class="Symbol">_</a> <a id="839" class="Symbol">_</a> <a id="841" class="Symbol">_</a> <a id="843" class="Symbol">_</a> <a id="845" class="Symbol">_</a> <a id="847" class="Symbol">_</a> <a id="849" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#849" class="Bound">newBal</a> <a id="856" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#856" class="Bound">noMintAda</a> <a id="866" class="Symbol">_</a> <a id="868" class="Symbol">_</a> <a id="870" class="Symbol">_</a> <a id="872" class="Symbol">_</a> <a id="874" class="Symbol">_</a> <a id="876" class="Symbol">_</a> <a id="878" class="Symbol">_</a> <a id="880" class="Symbol">_</a> <a id="882" class="Symbol">_</a> <a id="884" class="Symbol">(</a><a id="885" href="Ledger.Conway.Specification.Utxo.html#11729" class="InductiveConstructor">Scripts-Yes</a> <a id="897" class="Symbol">(_</a> <a id="900" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="902" class="Symbol">_</a> <a id="904" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="906" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#906" class="Bound">valid</a><a id="911" class="Symbol">)))</a>
  <a id="917" class="Symbol">=</a> <a id="919" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#18562" class="Function">pov-scripts</a> <a id="931" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#809" class="Bound">step</a> <a id="936" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#806" class="Bound">h&#39;</a> <a id="939" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="944" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#906" class="Bound">valid</a>

<a id="951" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#599" class="Function">UTXOpov</a> <a id="959" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#959" class="Bound">h&#39;</a> <a id="962" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#962" class="Bound">step</a><a id="966" class="Symbol">@(</a><a id="968" href="Ledger.Conway.Specification.Utxo.html#14235" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="984" class="Symbol">_</a> <a id="986" class="Symbol">_</a> <a id="988" class="Symbol">_</a> <a id="990" class="Symbol">_</a> <a id="992" class="Symbol">_</a> <a id="994" class="Symbol">_</a> <a id="996" class="Symbol">_</a> <a id="998" class="Symbol">_</a> <a id="1000" class="Symbol">_</a> <a id="1002" class="Symbol">_</a> <a id="1004" class="Symbol">_</a> <a id="1006" class="Symbol">_</a> <a id="1008" class="Symbol">_</a> <a id="1010" class="Symbol">_</a> <a id="1012" class="Symbol">_</a> <a id="1014" class="Symbol">_</a> <a id="1016" class="Symbol">_</a> <a id="1018" class="Symbol">_</a> <a id="1020" class="Symbol">_</a> <a id="1022" class="Symbol">_</a> <a id="1024" class="Symbol">(</a><a id="1025" href="Ledger.Conway.Specification.Utxo.html#12247" class="InductiveConstructor">Scripts-No</a> <a id="1036" class="Symbol">(_</a> <a id="1039" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1041" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#1041" class="Bound">invalid</a><a id="1048" class="Symbol">)))</a>
  <a id="1054" class="Symbol">=</a> <a id="1056" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#19010" class="Function">pov-no-scripts</a> <a id="1071" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#962" class="Bound">step</a> <a id="1076" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#959" class="Bound">h&#39;</a> <a id="1079" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#1041" class="Bound">invalid</a>

</pre></body></html>