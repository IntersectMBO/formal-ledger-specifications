<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Utxo.Properties.PoV</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">

<a id="3" class="Symbol">{-#</a> <a id="7" class="Keyword">OPTIONS</a> <a id="15" class="Pragma">--safe</a> <a id="22" class="Symbol">#-}</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="Ledger.Core.Specification.Abstract.html" class="Module">Ledger.Core.Specification.Abstract</a>
<a id="74" class="Keyword">open</a> <a id="79" class="Keyword">import</a> <a id="86" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>

<a id="127" class="Keyword">module</a> <a id="134" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html" class="Module">Ledger.Conway.Specification.Utxo.Properties.PoV</a>
  <a id="184" class="Symbol">(</a><a id="185" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#185" class="Bound">txs</a> <a id="189" class="Symbol">:</a> <a id="191" href="Ledger.Conway.Specification.Transaction.html#991" class="Record">TransactionStructure</a><a id="211" class="Symbol">)</a> <a id="213" class="Symbol">(</a><a id="214" class="Keyword">open</a> <a id="219" href="Ledger.Conway.Specification.Transaction.html#991" class="Module">TransactionStructure</a> <a id="240" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#185" class="Bound">txs</a><a id="243" class="Symbol">)</a>
  <a id="247" class="Symbol">(</a><a id="248" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#248" class="Bound">abs</a> <a id="252" class="Symbol">:</a> <a id="254" href="Ledger.Core.Specification.Abstract.html#828" class="Record">AbstractFunctions</a> <a id="272" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#185" class="Bound">txs</a><a id="275" class="Symbol">)</a>
  <a id="279" class="Keyword">where</a>

<a id="286" class="Keyword">open</a> <a id="291" class="Keyword">import</a> <a id="298" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="360" href="Ledger.Conway.Specification.Transaction.html#2065" class="Function">govStructure</a>
<a id="373" class="Keyword">open</a> <a id="378" class="Keyword">import</a> <a id="385" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="425" class="Keyword">open</a> <a id="430" class="Keyword">import</a> <a id="437" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="470" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#185" class="Bound">txs</a> <a id="474" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#248" class="Bound">abs</a>
<a id="478" class="Keyword">open</a> <a id="483" class="Keyword">import</a> <a id="490" href="Ledger.Conway.Specification.Utxo.Properties.Base.html" class="Module">Ledger.Conway.Specification.Utxo.Properties.Base</a> <a id="539" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#185" class="Bound">txs</a> <a id="543" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#248" class="Bound">abs</a> <a id="547" class="Keyword">public</a>
<a id="554" class="Keyword">open</a> <a id="559" href="Ledger.Conway.Specification.Utxo.html#1300" class="Module">UTxOState</a><a id="568" class="Symbol">;</a> <a id="570" class="Keyword">open</a> <a id="575" href="Ledger.Conway.Specification.Transaction.html#4668" class="Module">Tx</a><a id="577" class="Symbol">;</a> <a id="579" class="Keyword">open</a> <a id="584" href="Ledger.Conway.Specification.Transaction.html#2982" class="Module">TxBody</a>


<a id="UTXOpov"></a><a id="593" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#593" class="Function">UTXOpov</a> <a id="601" class="Symbol">:</a> <a id="603" class="Symbol">{</a><a id="604" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#604" class="Bound">Γ</a> <a id="606" class="Symbol">:</a> <a id="608" href="Ledger.Conway.Specification.Utxo.html#1191" class="Record">UTxOEnv</a><a id="615" class="Symbol">}</a> <a id="617" class="Symbol">{</a><a id="618" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#618" class="Bound">tx</a> <a id="621" class="Symbol">:</a> <a id="623" href="Ledger.Conway.Specification.Transaction.html#4668" class="Record">Tx</a><a id="625" class="Symbol">}</a> <a id="627" class="Symbol">{</a><a id="628" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#628" class="Bound">s</a> <a id="630" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#630" class="Bound">s&#39;</a> <a id="633" class="Symbol">:</a> <a id="635" href="Ledger.Conway.Specification.Utxo.html#1300" class="Record">UTxOState</a><a id="644" class="Symbol">}</a>
  <a id="648" class="Symbol">→</a> <a id="650" href="Ledger.Conway.Specification.Transaction.html#4248" class="Field">TxIdOf</a> <a id="657" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#618" class="Bound">tx</a> <a id="660" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="662" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="667" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="673" class="Symbol">(</a><a id="674" href="Class.IsSet.html#916" class="Function">dom</a> <a id="678" class="Symbol">(</a><a id="679" href="Ledger.Conway.Specification.Transaction.html#2925" class="Field">UTxOOf</a> <a id="686" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#628" class="Bound">s</a><a id="687" class="Symbol">))</a>
  <a id="692" class="Symbol">→</a> <a id="694" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#604" class="Bound">Γ</a> <a id="696" href="Ledger.Conway.Specification.Utxo.html#2233" class="Datatype Operator">⊢</a> <a id="698" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#628" class="Bound">s</a> <a id="700" href="Ledger.Conway.Specification.Utxo.html#2233" class="Datatype Operator">⇀⦇</a> <a id="703" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#618" class="Bound">tx</a> <a id="706" href="Ledger.Conway.Specification.Utxo.html#2233" class="Datatype Operator">,UTXO⦈</a> <a id="713" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#630" class="Bound">s&#39;</a>
  <a id="718" class="Symbol">→</a> <a id="720" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="728" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#628" class="Bound">s</a> <a id="730" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="732" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="740" class="Symbol">(</a><a id="741" href="Ledger.Core.Specification.Address.html#1700" class="Field">WithdrawalsOf</a> <a id="755" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#618" class="Bound">tx</a><a id="757" class="Symbol">)</a> <a id="759" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="761" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#1360" class="Function">χ</a> <a id="763" class="Symbol">(</a><a id="764" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#618" class="Bound">tx</a> <a id="767" class="Symbol">.</a><a id="768" href="Ledger.Conway.Specification.Transaction.html#4772" class="Field">isValid</a><a id="775" class="Symbol">)</a> <a id="777" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="779" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="787" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#630" class="Bound">s&#39;</a>


<a id="792" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#593" class="Function">UTXOpov</a> <a id="800" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#800" class="Bound">h&#39;</a> <a id="803" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#803" class="Bound">step</a><a id="807" class="Symbol">@(</a><a id="809" href="Ledger.Conway.Specification.Utxo.html#14229" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="825" class="Symbol">_</a> <a id="827" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#827" class="Bound">Γ</a> <a id="829" class="Symbol">_</a> <a id="831" class="Symbol">_</a> <a id="833" class="Symbol">_</a> <a id="835" class="Symbol">_</a> <a id="837" class="Symbol">_</a> <a id="839" class="Symbol">_</a> <a id="841" class="Symbol">_</a> <a id="843" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#843" class="Bound">newBal</a> <a id="850" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#850" class="Bound">noMintAda</a> <a id="860" class="Symbol">_</a> <a id="862" class="Symbol">_</a> <a id="864" class="Symbol">_</a> <a id="866" class="Symbol">_</a> <a id="868" class="Symbol">_</a> <a id="870" class="Symbol">_</a> <a id="872" class="Symbol">_</a> <a id="874" class="Symbol">_</a> <a id="876" class="Symbol">_</a> <a id="878" class="Symbol">(</a><a id="879" href="Ledger.Conway.Specification.Utxo.html#11723" class="InductiveConstructor">Scripts-Yes</a> <a id="891" class="Symbol">(_</a> <a id="894" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="896" class="Symbol">_</a> <a id="898" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="900" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#900" class="Bound">valid</a><a id="905" class="Symbol">)))</a>
  <a id="911" class="Symbol">=</a> <a id="913" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#18556" class="Function">pov-scripts</a> <a id="925" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#803" class="Bound">step</a> <a id="930" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#800" class="Bound">h&#39;</a> <a id="933" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="938" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#900" class="Bound">valid</a>

<a id="945" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#593" class="Function">UTXOpov</a> <a id="953" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#953" class="Bound">h&#39;</a> <a id="956" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#956" class="Bound">step</a><a id="960" class="Symbol">@(</a><a id="962" href="Ledger.Conway.Specification.Utxo.html#14229" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="978" class="Symbol">_</a> <a id="980" class="Symbol">_</a> <a id="982" class="Symbol">_</a> <a id="984" class="Symbol">_</a> <a id="986" class="Symbol">_</a> <a id="988" class="Symbol">_</a> <a id="990" class="Symbol">_</a> <a id="992" class="Symbol">_</a> <a id="994" class="Symbol">_</a> <a id="996" class="Symbol">_</a> <a id="998" class="Symbol">_</a> <a id="1000" class="Symbol">_</a> <a id="1002" class="Symbol">_</a> <a id="1004" class="Symbol">_</a> <a id="1006" class="Symbol">_</a> <a id="1008" class="Symbol">_</a> <a id="1010" class="Symbol">_</a> <a id="1012" class="Symbol">_</a> <a id="1014" class="Symbol">_</a> <a id="1016" class="Symbol">_</a> <a id="1018" class="Symbol">(</a><a id="1019" href="Ledger.Conway.Specification.Utxo.html#12241" class="InductiveConstructor">Scripts-No</a> <a id="1030" class="Symbol">(_</a> <a id="1033" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1035" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#1035" class="Bound">invalid</a><a id="1042" class="Symbol">)))</a>
  <a id="1048" class="Symbol">=</a> <a id="1050" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#19004" class="Function">pov-no-scripts</a> <a id="1065" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#956" class="Bound">step</a> <a id="1070" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#953" class="Bound">h&#39;</a> <a id="1073" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#1035" class="Bound">invalid</a>

</pre></body></html>