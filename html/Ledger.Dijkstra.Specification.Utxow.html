<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Dijkstra.Specification.Utxow</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="53" class="Keyword">open</a> <a id="58" class="Keyword">import</a> <a id="65" href="Ledger.Dijkstra.Specification.Abstract.html" class="Module">Ledger.Dijkstra.Specification.Abstract</a>
<a id="104" class="Keyword">open</a> <a id="109" class="Keyword">import</a> <a id="116" href="Ledger.Dijkstra.Specification.Transaction.html" class="Module">Ledger.Dijkstra.Specification.Transaction</a>

<a id="159" class="Keyword">module</a> <a id="166" href="Ledger.Dijkstra.Specification.Utxow.html" class="Module">Ledger.Dijkstra.Specification.Utxow</a>
  <a id="204" class="Symbol">(</a><a id="205" href="Ledger.Dijkstra.Specification.Utxow.html#205" class="Bound">txs</a> <a id="209" class="Symbol">:</a> <a id="211" class="Symbol">_)</a> <a id="214" class="Symbol">(</a><a id="215" class="Keyword">open</a> <a id="220" href="Ledger.Dijkstra.Specification.Transaction.html#1329" class="Module">TransactionStructure</a> <a id="241" href="Ledger.Dijkstra.Specification.Utxow.html#205" class="Bound">txs</a><a id="244" class="Symbol">)</a>
  <a id="248" class="Symbol">(</a><a id="249" href="Ledger.Dijkstra.Specification.Utxow.html#249" class="Bound">abs</a> <a id="253" class="Symbol">:</a> <a id="255" href="Ledger.Dijkstra.Specification.Abstract.html#912" class="Record">AbstractFunctions</a> <a id="273" href="Ledger.Dijkstra.Specification.Utxow.html#205" class="Bound">txs</a><a id="276" class="Symbol">)</a> <a id="278" class="Symbol">(</a><a id="279" class="Keyword">open</a> <a id="284" href="Ledger.Dijkstra.Specification.Abstract.html#912" class="Module">AbstractFunctions</a> <a id="302" href="Ledger.Dijkstra.Specification.Utxow.html#249" class="Bound">abs</a><a id="305" class="Symbol">)</a>
  <a id="309" class="Keyword">where</a>

<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Ledger.Dijkstra.Specification.Utxo.html" class="Module">Ledger.Dijkstra.Specification.Utxo</a> <a id="363" href="Ledger.Dijkstra.Specification.Utxow.html#205" class="Bound">txs</a> <a id="367" href="Ledger.Dijkstra.Specification.Utxow.html#249" class="Bound">abs</a>
<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="Ledger.Dijkstra.Specification.Script.Validation.html" class="Module">Ledger.Dijkstra.Specification.Script.Validation</a> <a id="431" href="Ledger.Dijkstra.Specification.Utxow.html#205" class="Bound">txs</a> <a id="435" href="Ledger.Dijkstra.Specification.Utxow.html#249" class="Bound">abs</a>

<a id="440" class="Keyword">private</a> <a id="448" class="Keyword">variable</a>
  <a id="459" href="Ledger.Dijkstra.Specification.Utxow.html#459" class="Generalizable">ℓ</a>     <a id="465" class="Symbol">:</a> <a id="467" href="Ledger.Dijkstra.Specification.Transaction.html#768" class="Datatype">TxLevel</a>
  <a id="477" href="Ledger.Dijkstra.Specification.Utxow.html#477" class="Generalizable">A</a>     <a id="483" class="Symbol">:</a> <a id="485" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="492" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a>     <a id="498" class="Symbol">:</a> <a id="500" href="Ledger.Dijkstra.Specification.Utxow.html#477" class="Generalizable">A</a>
  <a id="504" href="Ledger.Dijkstra.Specification.Utxow.html#504" class="Generalizable">s</a> <a id="506" href="Ledger.Dijkstra.Specification.Utxow.html#506" class="Generalizable">s&#39;</a>  <a id="510" class="Symbol">:</a> <a id="512" href="Ledger.Dijkstra.Specification.Utxo.html#1633" class="Record">UTxOState</a>
  <a id="524" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a> <a id="530" class="Symbol">:</a> <a id="532" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a>
  <a id="545" href="Ledger.Dijkstra.Specification.Utxow.html#545" class="Generalizable">txSub</a> <a id="551" class="Symbol">:</a> <a id="553" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a>


<a id="566" class="Keyword">module</a> <a id="573" href="Ledger.Dijkstra.Specification.Utxow.html#573" class="Module">_</a> <a id="575" class="Symbol">(</a><a id="576" href="Ledger.Dijkstra.Specification.Utxow.html#576" class="Bound">tx</a> <a id="579" class="Symbol">:</a> <a id="581" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a><a id="591" class="Symbol">)</a> <a id="593" class="Keyword">where</a>
  <a id="601" class="Keyword">open</a> <a id="606" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Module">Tx</a> <a id="609" href="Ledger.Dijkstra.Specification.Utxow.html#576" class="Bound">tx</a>
  <a id="614" class="Keyword">open</a> <a id="619" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Module">TxBody</a> <a id="626" href="Ledger.Dijkstra.Specification.Transaction.html#3594" class="Field">txBody</a>

  <a id="636" class="Keyword">module</a> <a id="643" href="Ledger.Dijkstra.Specification.Utxow.html#643" class="Module">_</a> <a id="645" class="Symbol">(</a><a id="646" href="Ledger.Dijkstra.Specification.Utxow.html#646" class="Bound">utxo</a> <a id="651" class="Symbol">:</a> <a id="653" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a><a id="657" class="Symbol">)</a> <a id="659" class="Keyword">where</a>
    <a id="669" href="Ledger.Dijkstra.Specification.Utxow.html#669" class="Function">UsesBootstrapAddress</a> <a id="690" class="Symbol">:</a> <a id="692" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="701" href="Ledger.Dijkstra.Specification.Utxow.html#669" class="Function">UsesBootstrapAddress</a> <a id="722" class="Symbol">=</a> <a id="724" href="Class.IsSet.html#736" class="Function">∃[</a> <a id="727" href="Ledger.Dijkstra.Specification.Utxow.html#727" class="Bound">o</a> <a id="729" href="Class.IsSet.html#736" class="Function">∈</a> <a id="731" class="Symbol">(</a><a id="732" href="Class.IsSet.html#959" class="Function">range</a> <a id="738" href="Ledger.Dijkstra.Specification.Transaction.html#4005" class="Function">txOuts</a><a id="744" class="Symbol">)</a> <a id="746" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="748" href="Class.IsSet.html#959" class="Function">range</a> <a id="754" class="Symbol">(</a><a id="755" href="Ledger.Dijkstra.Specification.Utxow.html#646" class="Bound">utxo</a> <a id="760" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="762" class="Symbol">(</a><a id="763" href="Ledger.Dijkstra.Specification.Transaction.html#3870" class="Function">txIns</a> <a id="769" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="771" href="Ledger.Dijkstra.Specification.Transaction.html#3908" class="Function">referenceInputs</a><a id="786" class="Symbol">))</a> <a id="789" href="Class.IsSet.html#736" class="Function">]</a> <a id="791" href="Ledger.Core.Specification.Address.html#3720" class="Datatype">isBootstrapAddr</a> <a id="807" class="Symbol">(</a><a id="808" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="814" href="Ledger.Dijkstra.Specification.Utxow.html#727" class="Bound">o</a><a id="815" class="Symbol">)</a>

    <a id="822" href="Ledger.Dijkstra.Specification.Utxow.html#822" class="Function">HasInlineDatum</a> <a id="837" class="Symbol">:</a> <a id="839" href="Ledger.Dijkstra.Specification.Transaction.html#3077" class="Function">TxOut</a> <a id="845" class="Symbol">→</a> <a id="847" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="856" href="Ledger.Dijkstra.Specification.Utxow.html#822" class="Function">HasInlineDatum</a> <a id="871" href="Ledger.Dijkstra.Specification.Utxow.html#871" class="Bound">txout</a> <a id="877" class="Symbol">=</a> <a id="879" href="Data.Maybe.html#845" class="Function">Is-just</a> <a id="887" class="Symbol">(</a><a id="888" href="Ledger.Dijkstra.Specification.Transaction.html#14740" class="Function">txOutToDatum</a> <a id="901" href="Ledger.Dijkstra.Specification.Utxow.html#871" class="Bound">txout</a><a id="906" class="Symbol">)</a>

    <a id="913" href="Ledger.Dijkstra.Specification.Utxow.html#913" class="Function">UsesV2Features</a> <a id="928" class="Symbol">:</a> <a id="930" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="939" href="Ledger.Dijkstra.Specification.Utxow.html#913" class="Function">UsesV2Features</a> <a id="954" class="Symbol">=</a> <a id="956" href="Class.IsSet.html#736" class="Function">∃[</a> <a id="959" href="Ledger.Dijkstra.Specification.Utxow.html#959" class="Bound">o</a> <a id="961" href="Class.IsSet.html#736" class="Function">∈</a> <a id="963" class="Symbol">(</a><a id="964" href="Class.IsSet.html#959" class="Function">range</a> <a id="970" href="Ledger.Dijkstra.Specification.Transaction.html#4005" class="Function">txOuts</a><a id="976" class="Symbol">)</a> <a id="978" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="980" href="Class.IsSet.html#959" class="Function">range</a> <a id="986" class="Symbol">(</a><a id="987" href="Ledger.Dijkstra.Specification.Utxow.html#646" class="Bound">utxo</a> <a id="992" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="994" class="Symbol">(</a><a id="995" href="Ledger.Dijkstra.Specification.Transaction.html#3870" class="Function">txIns</a> <a id="1001" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="1003" href="Ledger.Dijkstra.Specification.Transaction.html#3908" class="Function">referenceInputs</a><a id="1018" class="Symbol">))</a> <a id="1021" href="Class.IsSet.html#736" class="Function">]</a> <a id="1023" href="Ledger.Dijkstra.Specification.Utxow.html#822" class="Function">HasInlineDatum</a> <a id="1038" href="Ledger.Dijkstra.Specification.Utxow.html#959" class="Bound">o</a>

  <a id="1043" class="Keyword">data</a> <a id="1048" href="Ledger.Dijkstra.Specification.Utxow.html#1048" class="Datatype">UsesV3Features</a> <a id="1063" class="Symbol">:</a> <a id="1065" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1069" class="Keyword">where</a>
    <a id="1079" href="Ledger.Dijkstra.Specification.Utxow.html#1079" class="InductiveConstructor">hasVotes</a>     <a id="1092" class="Symbol">:</a> <a id="1094" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="1096" class="Symbol">(</a><a id="1097" href="stdlib.Data.List.html#154" class="Function">Is-[]</a> <a id="1103" href="Ledger.Dijkstra.Specification.Transaction.html#4363" class="Function">txGovVotes</a><a id="1113" class="Symbol">)</a>     <a id="1119" class="Symbol">→</a> <a id="1121" href="Ledger.Dijkstra.Specification.Utxow.html#1048" class="Datatype">UsesV3Features</a>
    <a id="1140" href="Ledger.Dijkstra.Specification.Utxow.html#1140" class="InductiveConstructor">hasProposals</a> <a id="1153" class="Symbol">:</a> <a id="1155" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="1157" class="Symbol">(</a><a id="1158" href="stdlib.Data.List.html#154" class="Function">Is-[]</a> <a id="1164" href="Ledger.Dijkstra.Specification.Transaction.html#4407" class="Function">txGovProposals</a><a id="1178" class="Symbol">)</a> <a id="1180" class="Symbol">→</a> <a id="1182" href="Ledger.Dijkstra.Specification.Utxow.html#1048" class="Datatype">UsesV3Features</a>
    <a id="1201" href="Ledger.Dijkstra.Specification.Utxow.html#1201" class="InductiveConstructor">hasDonation</a>  <a id="1214" class="Symbol">:</a> <a id="1216" href="Data.Nat.Base.html#3266" class="Record">NonZero</a> <a id="1224" href="Ledger.Dijkstra.Specification.Transaction.html#4322" class="Function">txDonation</a>       <a id="1241" class="Symbol">→</a> <a id="1243" href="Ledger.Dijkstra.Specification.Utxow.html#1048" class="Datatype">UsesV3Features</a>
    <a id="1262" href="Ledger.Dijkstra.Specification.Utxow.html#1262" class="InductiveConstructor">hasTreasure</a>  <a id="1275" class="Symbol">:</a> <a id="1277" href="Data.Maybe.html#845" class="Function">Is-just</a> <a id="1285" href="Ledger.Dijkstra.Specification.Transaction.html#4500" class="Function">currentTreasury</a>  <a id="1302" class="Symbol">→</a> <a id="1304" href="Ledger.Dijkstra.Specification.Utxow.html#1048" class="Datatype">UsesV3Features</a>

  <a id="1322" class="Keyword">data</a> <a id="1327" href="Ledger.Dijkstra.Specification.Utxow.html#1327" class="Datatype">UsesV4Features</a> <a id="1342" class="Symbol">:</a> <a id="1344" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1348" class="Keyword">where</a>
    <a id="1358" href="Ledger.Dijkstra.Specification.Utxow.html#1358" class="InductiveConstructor">hasSubtransactions</a>  <a id="1378" class="Symbol">:</a> <a id="1380" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="1382" class="Symbol">(</a><a id="1383" href="stdlib.Data.List.html#154" class="Function">Is-[]</a> <a id="1389" href="Ledger.Dijkstra.Specification.Transaction.html#4658" class="Function">txSubTransactions</a><a id="1406" class="Symbol">)</a> <a id="1408" class="Symbol">→</a> <a id="1410" href="Ledger.Dijkstra.Specification.Utxow.html#1327" class="Datatype">UsesV4Features</a>
    <a id="1429" href="Ledger.Dijkstra.Specification.Utxow.html#1429" class="InductiveConstructor">hasGuards</a>           <a id="1449" class="Symbol">:</a> <a id="1451" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="1453" class="Symbol">(</a><a id="1454" href="Ledger.Prelude.html#2882" class="Function">Is-∅</a> <a id="1459" href="Ledger.Dijkstra.Specification.Transaction.html#4736" class="Function">txGuards</a><a id="1467" class="Symbol">)</a>           <a id="1479" class="Symbol">→</a> <a id="1481" href="Ledger.Dijkstra.Specification.Utxow.html#1327" class="Datatype">UsesV4Features</a>


<a id="1498" class="Keyword">module</a> <a id="1505" href="Ledger.Dijkstra.Specification.Utxow.html#1505" class="Module">_</a> <a id="1507" class="Symbol">{</a><a id="1508" href="Ledger.Dijkstra.Specification.Utxow.html#1508" class="Bound">tx</a> <a id="1511" class="Symbol">:</a> <a id="1513" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a><a id="1523" class="Symbol">}</a> <a id="1525" class="Keyword">where</a>
  <a id="1533" class="Keyword">open</a> <a id="1538" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Module">Tx</a> <a id="1541" href="Ledger.Dijkstra.Specification.Utxow.html#1508" class="Bound">tx</a>
  <a id="1546" class="Keyword">open</a> <a id="1551" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Module">TxBody</a> <a id="1558" href="Ledger.Dijkstra.Specification.Transaction.html#3594" class="Field">txBody</a>

  <a id="1568" class="Keyword">instance</a>
    <a id="1581" href="Ledger.Dijkstra.Specification.Utxow.html#1581" class="Function">Dec-UsesV3Features</a> <a id="1600" class="Symbol">:</a> <a id="1602" href="Ledger.Dijkstra.Specification.Utxow.html#1048" class="Datatype">UsesV3Features</a> <a id="1617" href="Ledger.Dijkstra.Specification.Utxow.html#1508" class="Bound">tx</a> <a id="1620" href="Class.Decidable.Core.html#217" class="Record Operator">⁇</a>
    <a id="1626" href="Ledger.Dijkstra.Specification.Utxow.html#1581" class="Function">Dec-UsesV3Features</a> <a id="1645" class="Symbol">.</a><a id="1646" href="Class.Decidable.Core.html#273" class="Field">dec</a>
      <a id="1656" class="Keyword">with</a> <a id="1661" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="1663" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="1665" class="Symbol">(</a><a id="1666" href="stdlib.Data.List.html#154" class="Function">Is-[]</a> <a id="1672" href="Ledger.Dijkstra.Specification.Transaction.html#4363" class="Function">txGovVotes</a><a id="1682" class="Symbol">)</a> <a id="1684" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="1686" class="Symbol">|</a> <a id="1688" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="1690" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="1692" class="Symbol">(</a><a id="1693" href="stdlib.Data.List.html#154" class="Function">Is-[]</a> <a id="1699" href="Ledger.Dijkstra.Specification.Transaction.html#4407" class="Function">txGovProposals</a><a id="1713" class="Symbol">)</a> <a id="1715" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
         <a id="1726" class="Symbol">|</a> <a id="1728" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="1730" href="Data.Nat.Base.html#3266" class="Record">NonZero</a> <a id="1738" href="Ledger.Dijkstra.Specification.Transaction.html#4322" class="Function">txDonation</a>   <a id="1751" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="1753" class="Symbol">|</a> <a id="1755" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="1757" href="Data.Maybe.html#845" class="Function">Is-just</a> <a id="1765" href="Ledger.Dijkstra.Specification.Transaction.html#4500" class="Function">currentTreasury</a>  <a id="1782" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="1788" class="Symbol">...</a> <a id="1792" class="Symbol">|</a> <a id="1794" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="1798" href="Ledger.Dijkstra.Specification.Utxow.html#1798" class="Bound">p</a> <a id="1800" class="Symbol">|</a> <a id="1802" class="Symbol">_</a> <a id="1804" class="Symbol">|</a> <a id="1806" class="Symbol">_</a> <a id="1808" class="Symbol">|</a> <a id="1810" class="Symbol">_</a> <a id="1812" class="Symbol">=</a> <a id="1814" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="1818" class="Symbol">(</a><a id="1819" href="Ledger.Dijkstra.Specification.Utxow.html#1079" class="InductiveConstructor">hasVotes</a> <a id="1828" href="Ledger.Dijkstra.Specification.Utxow.html#1798" class="Bound">p</a><a id="1829" class="Symbol">)</a>
    <a id="1835" class="CatchallClause Symbol">...</a><a id="1838" class="CatchallClause"> </a><a id="1839" class="CatchallClause Symbol">|</a><a id="1840" class="CatchallClause"> </a><a id="1841" class="CatchallClause Symbol">_</a><a id="1842" class="CatchallClause"> </a><a id="1843" class="CatchallClause Symbol">|</a><a id="1844" class="CatchallClause"> </a><a id="1845" href="Relation.Nullary.Decidable.Core.html#2099" class="CatchallClause InductiveConstructor">yes</a><a id="1848" class="CatchallClause"> </a><a id="1849" href="Ledger.Dijkstra.Specification.Utxow.html#1849" class="CatchallClause Bound">p</a><a id="1850" class="CatchallClause"> </a><a id="1851" class="CatchallClause Symbol">|</a><a id="1852" class="CatchallClause"> </a><a id="1853" class="CatchallClause Symbol">_</a><a id="1854" class="CatchallClause"> </a><a id="1855" class="CatchallClause Symbol">|</a><a id="1856" class="CatchallClause"> </a><a id="1857" class="CatchallClause Symbol">_</a> <a id="1859" class="Symbol">=</a> <a id="1861" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="1865" class="Symbol">(</a><a id="1866" href="Ledger.Dijkstra.Specification.Utxow.html#1140" class="InductiveConstructor">hasProposals</a> <a id="1879" href="Ledger.Dijkstra.Specification.Utxow.html#1849" class="Bound">p</a><a id="1880" class="Symbol">)</a>
    <a id="1886" class="CatchallClause Symbol">...</a><a id="1889" class="CatchallClause"> </a><a id="1890" class="CatchallClause Symbol">|</a><a id="1891" class="CatchallClause"> </a><a id="1892" class="CatchallClause Symbol">_</a><a id="1893" class="CatchallClause"> </a><a id="1894" class="CatchallClause Symbol">|</a><a id="1895" class="CatchallClause"> </a><a id="1896" class="CatchallClause Symbol">_</a><a id="1897" class="CatchallClause"> </a><a id="1898" class="CatchallClause Symbol">|</a><a id="1899" class="CatchallClause"> </a><a id="1900" href="Relation.Nullary.Decidable.Core.html#2099" class="CatchallClause InductiveConstructor">yes</a><a id="1903" class="CatchallClause"> </a><a id="1904" href="Ledger.Dijkstra.Specification.Utxow.html#1904" class="CatchallClause Bound">p</a><a id="1905" class="CatchallClause"> </a><a id="1906" class="CatchallClause Symbol">|</a><a id="1907" class="CatchallClause"> </a><a id="1908" class="CatchallClause Symbol">_</a> <a id="1910" class="Symbol">=</a> <a id="1912" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="1916" class="Symbol">(</a><a id="1917" href="Ledger.Dijkstra.Specification.Utxow.html#1201" class="InductiveConstructor">hasDonation</a> <a id="1929" href="Ledger.Dijkstra.Specification.Utxow.html#1904" class="Bound">p</a><a id="1930" class="Symbol">)</a>
    <a id="1936" class="CatchallClause Symbol">...</a><a id="1939" class="CatchallClause"> </a><a id="1940" class="CatchallClause Symbol">|</a><a id="1941" class="CatchallClause"> </a><a id="1942" class="CatchallClause Symbol">_</a><a id="1943" class="CatchallClause"> </a><a id="1944" class="CatchallClause Symbol">|</a><a id="1945" class="CatchallClause"> </a><a id="1946" class="CatchallClause Symbol">_</a><a id="1947" class="CatchallClause"> </a><a id="1948" class="CatchallClause Symbol">|</a><a id="1949" class="CatchallClause"> </a><a id="1950" class="CatchallClause Symbol">_</a><a id="1951" class="CatchallClause"> </a><a id="1952" class="CatchallClause Symbol">|</a><a id="1953" class="CatchallClause"> </a><a id="1954" href="Relation.Nullary.Decidable.Core.html#2099" class="CatchallClause InductiveConstructor">yes</a><a id="1957" class="CatchallClause"> </a><a id="1958" href="Ledger.Dijkstra.Specification.Utxow.html#1958" class="CatchallClause Bound">p</a> <a id="1960" class="Symbol">=</a> <a id="1962" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="1966" class="Symbol">(</a><a id="1967" href="Ledger.Dijkstra.Specification.Utxow.html#1262" class="InductiveConstructor">hasTreasure</a> <a id="1979" href="Ledger.Dijkstra.Specification.Utxow.html#1958" class="Bound">p</a><a id="1980" class="Symbol">)</a>
    <a id="1986" class="Symbol">...</a> <a id="1990" class="Symbol">|</a> <a id="1992" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="1995" href="Ledger.Dijkstra.Specification.Utxow.html#1995" class="Bound">p₁</a> <a id="1998" class="Symbol">|</a> <a id="2000" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2003" href="Ledger.Dijkstra.Specification.Utxow.html#2003" class="Bound">p₂</a> <a id="2006" class="Symbol">|</a> <a id="2008" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2011" href="Ledger.Dijkstra.Specification.Utxow.html#2011" class="Bound">p₃</a> <a id="2014" class="Symbol">|</a> <a id="2016" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2019" href="Ledger.Dijkstra.Specification.Utxow.html#2019" class="Bound">p₄</a>
      <a id="2028" class="Symbol">=</a> <a id="2030" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2033" class="Symbol">λ</a> <a id="2035" class="Symbol">{</a> <a id="2037" class="Symbol">(</a><a id="2038" href="Ledger.Dijkstra.Specification.Utxow.html#1079" class="InductiveConstructor">hasVotes</a> <a id="2047" href="Ledger.Dijkstra.Specification.Utxow.html#2047" class="Bound">x</a><a id="2048" class="Symbol">)</a> <a id="2050" class="Symbol">→</a> <a id="2052" href="Ledger.Dijkstra.Specification.Utxow.html#1995" class="Bound">p₁</a> <a id="2055" href="Ledger.Dijkstra.Specification.Utxow.html#2047" class="Bound">x</a> <a id="2057" class="Symbol">;</a> <a id="2059" class="Symbol">(</a><a id="2060" href="Ledger.Dijkstra.Specification.Utxow.html#1140" class="InductiveConstructor">hasProposals</a> <a id="2073" href="Ledger.Dijkstra.Specification.Utxow.html#2073" class="Bound">x</a><a id="2074" class="Symbol">)</a> <a id="2076" class="Symbol">→</a> <a id="2078" href="Ledger.Dijkstra.Specification.Utxow.html#2003" class="Bound">p₂</a> <a id="2081" href="Ledger.Dijkstra.Specification.Utxow.html#2073" class="Bound">x</a> <a id="2083" class="Symbol">;</a> <a id="2085" class="Symbol">(</a><a id="2086" href="Ledger.Dijkstra.Specification.Utxow.html#1201" class="InductiveConstructor">hasDonation</a> <a id="2098" href="Ledger.Dijkstra.Specification.Utxow.html#2098" class="Bound">x</a><a id="2099" class="Symbol">)</a> <a id="2101" class="Symbol">→</a> <a id="2103" href="Ledger.Dijkstra.Specification.Utxow.html#2011" class="Bound">p₃</a> <a id="2106" href="Ledger.Dijkstra.Specification.Utxow.html#2098" class="Bound">x</a> <a id="2108" class="Symbol">;</a> <a id="2110" class="Symbol">(</a><a id="2111" href="Ledger.Dijkstra.Specification.Utxow.html#1262" class="InductiveConstructor">hasTreasure</a> <a id="2123" href="Ledger.Dijkstra.Specification.Utxow.html#2123" class="Bound">x</a><a id="2124" class="Symbol">)</a> <a id="2126" class="Symbol">→</a> <a id="2128" href="Ledger.Dijkstra.Specification.Utxow.html#2019" class="Bound">p₄</a> <a id="2131" href="Ledger.Dijkstra.Specification.Utxow.html#2123" class="Bound">x</a><a id="2132" class="Symbol">}</a>

<a id="2135" class="Keyword">module</a> <a id="2142" href="Ledger.Dijkstra.Specification.Utxow.html#2142" class="Module">_</a> <a id="2144" class="Symbol">{</a><a id="2145" href="Ledger.Dijkstra.Specification.Utxow.html#2145" class="Bound">tx</a> <a id="2148" class="Symbol">:</a> <a id="2150" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a><a id="2160" class="Symbol">}</a> <a id="2162" class="Keyword">where</a>
  <a id="2170" class="Keyword">open</a> <a id="2175" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Module">Tx</a> <a id="2178" href="Ledger.Dijkstra.Specification.Utxow.html#2145" class="Bound">tx</a>
  <a id="2183" class="Keyword">open</a> <a id="2188" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Module">TxBody</a> <a id="2195" href="Ledger.Dijkstra.Specification.Transaction.html#3594" class="Field">txBody</a>

  <a id="2205" class="Keyword">instance</a>
    <a id="2218" href="Ledger.Dijkstra.Specification.Utxow.html#2218" class="Function">Dec-UsesV4Features</a> <a id="2237" class="Symbol">:</a> <a id="2239" href="Ledger.Dijkstra.Specification.Utxow.html#1327" class="Datatype">UsesV4Features</a> <a id="2254" href="Ledger.Dijkstra.Specification.Utxow.html#2145" class="Bound">tx</a> <a id="2257" href="Class.Decidable.Core.html#217" class="Record Operator">⁇</a>
    <a id="2263" href="Ledger.Dijkstra.Specification.Utxow.html#2218" class="Function">Dec-UsesV4Features</a> <a id="2282" class="Symbol">.</a><a id="2283" href="Class.Decidable.Core.html#273" class="Field">dec</a>
      <a id="2293" class="Keyword">with</a> <a id="2298" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="2300" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="2302" class="Symbol">(</a><a id="2303" href="stdlib.Data.List.html#154" class="Function">Is-[]</a> <a id="2309" href="Ledger.Dijkstra.Specification.Transaction.html#4658" class="Function">txSubTransactions</a><a id="2326" class="Symbol">)</a> <a id="2328" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="2330" class="Symbol">|</a> <a id="2332" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="2334" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="2336" class="Symbol">(</a><a id="2337" href="Ledger.Prelude.html#2882" class="Function">Is-∅</a> <a id="2342" href="Ledger.Dijkstra.Specification.Transaction.html#4736" class="Function">txGuards</a><a id="2350" class="Symbol">)</a> <a id="2352" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
    <a id="2358" class="Symbol">...</a> <a id="2362" class="Symbol">|</a> <a id="2364" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="2368" href="Ledger.Dijkstra.Specification.Utxow.html#2368" class="Bound">p</a> <a id="2370" class="Symbol">|</a> <a id="2372" class="Symbol">_</a> <a id="2374" class="Symbol">=</a> <a id="2376" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="2380" class="Symbol">(</a><a id="2381" href="Ledger.Dijkstra.Specification.Utxow.html#1358" class="InductiveConstructor">hasSubtransactions</a> <a id="2400" href="Ledger.Dijkstra.Specification.Utxow.html#2368" class="Bound">p</a><a id="2401" class="Symbol">)</a>
    <a id="2407" class="CatchallClause Symbol">...</a><a id="2410" class="CatchallClause"> </a><a id="2411" class="CatchallClause Symbol">|</a><a id="2412" class="CatchallClause"> </a><a id="2413" class="CatchallClause Symbol">_</a><a id="2414" class="CatchallClause"> </a><a id="2415" class="CatchallClause Symbol">|</a><a id="2416" class="CatchallClause"> </a><a id="2417" href="Relation.Nullary.Decidable.Core.html#2099" class="CatchallClause InductiveConstructor">yes</a><a id="2420" class="CatchallClause"> </a><a id="2421" href="Ledger.Dijkstra.Specification.Utxow.html#2421" class="CatchallClause Bound">p</a> <a id="2423" class="Symbol">=</a> <a id="2425" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="2429" class="Symbol">(</a><a id="2430" href="Ledger.Dijkstra.Specification.Utxow.html#1429" class="InductiveConstructor">hasGuards</a> <a id="2440" href="Ledger.Dijkstra.Specification.Utxow.html#2421" class="Bound">p</a><a id="2441" class="Symbol">)</a>
    <a id="2447" class="Symbol">...</a> <a id="2451" class="Symbol">|</a> <a id="2453" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2456" href="Ledger.Dijkstra.Specification.Utxow.html#2456" class="Bound">p₁</a> <a id="2459" class="Symbol">|</a> <a id="2461" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2464" href="Ledger.Dijkstra.Specification.Utxow.html#2464" class="Bound">p₂</a>
      <a id="2473" class="Symbol">=</a> <a id="2475" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2478" class="Symbol">λ</a> <a id="2480" class="Symbol">{</a> <a id="2482" class="Symbol">(</a><a id="2483" href="Ledger.Dijkstra.Specification.Utxow.html#1358" class="InductiveConstructor">hasSubtransactions</a> <a id="2502" href="Ledger.Dijkstra.Specification.Utxow.html#2502" class="Bound">x</a><a id="2503" class="Symbol">)</a> <a id="2505" class="Symbol">→</a> <a id="2507" href="Ledger.Dijkstra.Specification.Utxow.html#2456" class="Bound">p₁</a> <a id="2510" href="Ledger.Dijkstra.Specification.Utxow.html#2502" class="Bound">x</a> <a id="2512" class="Symbol">;</a> <a id="2514" class="Symbol">(</a><a id="2515" href="Ledger.Dijkstra.Specification.Utxow.html#1429" class="InductiveConstructor">hasGuards</a> <a id="2525" href="Ledger.Dijkstra.Specification.Utxow.html#2525" class="Bound">x</a><a id="2526" class="Symbol">)</a> <a id="2528" class="Symbol">→</a> <a id="2530" href="Ledger.Dijkstra.Specification.Utxow.html#2464" class="Bound">p₂</a> <a id="2533" href="Ledger.Dijkstra.Specification.Utxow.html#2525" class="Bound">x</a><a id="2534" class="Symbol">}</a>


<a id="languages"></a><a id="2538" href="Ledger.Dijkstra.Specification.Utxow.html#2538" class="Function">languages</a> <a id="2548" class="Symbol">:</a>  <a id="2551" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2553" href="Ledger.Dijkstra.Specification.Script.Base.html#2432" class="Function">P2Script</a> <a id="2562" class="Symbol">→</a> <a id="2564" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2566" href="Ledger.Dijkstra.Specification.Script.Base.html#972" class="Function">Language</a>
<a id="2575" href="Ledger.Dijkstra.Specification.Utxow.html#2538" class="Function">languages</a> <a id="2585" href="Ledger.Dijkstra.Specification.Utxow.html#2585" class="Bound">p2Scripts</a> <a id="2595" class="Symbol">=</a> <a id="2597" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2602" href="Ledger.Dijkstra.Specification.Script.Base.html#2029" class="Function">language</a> <a id="2611" href="Ledger.Dijkstra.Specification.Utxow.html#2585" class="Bound">p2Scripts</a>

<a id="allowedLanguagesLegacyMode"></a><a id="2622" href="Ledger.Dijkstra.Specification.Utxow.html#2622" class="Function">allowedLanguagesLegacyMode</a> <a id="2649" class="Symbol">:</a> <a id="2651" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="2662" class="Symbol">→</a> <a id="2664" href="Ledger.Dijkstra.Specification.Transaction.html#3158" class="Function">UTxO</a> <a id="2669" class="Symbol">→</a> <a id="2671" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2673" href="Ledger.Dijkstra.Specification.Script.Base.html#972" class="Function">Language</a>
<a id="2682" href="Ledger.Dijkstra.Specification.Utxow.html#2622" class="Function">allowedLanguagesLegacyMode</a> <a id="2709" href="Ledger.Dijkstra.Specification.Utxow.html#2709" class="Bound">tx</a> <a id="2712" href="Ledger.Dijkstra.Specification.Utxow.html#2712" class="Bound">utxo</a> <a id="2717" class="Symbol">=</a>
  <a id="2721" href="Class.ToBool.html#342" class="Function Operator">if</a> <a id="2724" href="Ledger.Dijkstra.Specification.Utxow.html#1048" class="Datatype">UsesV3Features</a> <a id="2739" href="Ledger.Dijkstra.Specification.Utxow.html#2709" class="Bound">tx</a>
    <a id="2746" href="Class.ToBool.html#342" class="Function Operator">then</a> <a id="2751" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="2760" class="Symbol">(</a><a id="2761" href="Ledger.Dijkstra.Specification.Script.Base.html#1073" class="Function">PlutusV4</a> <a id="2770" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2772" href="Ledger.Dijkstra.Specification.Script.Base.html#1064" class="Function">PlutusV3</a> <a id="2781" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2783" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2785" class="Symbol">)</a>
    <a id="2791" href="Class.ToBool.html#342" class="Function Operator">else</a>
  <a id="2798" href="Class.ToBool.html#342" class="Function Operator">if</a> <a id="2801" href="Ledger.Dijkstra.Specification.Utxow.html#913" class="Function">UsesV2Features</a> <a id="2816" href="Ledger.Dijkstra.Specification.Utxow.html#2709" class="Bound">tx</a> <a id="2819" href="Ledger.Dijkstra.Specification.Utxow.html#2712" class="Bound">utxo</a>
    <a id="2828" href="Class.ToBool.html#342" class="Function Operator">then</a> <a id="2833" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="2842" class="Symbol">(</a><a id="2843" href="Ledger.Dijkstra.Specification.Script.Base.html#1073" class="Function">PlutusV4</a> <a id="2852" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2854" href="Ledger.Dijkstra.Specification.Script.Base.html#1064" class="Function">PlutusV3</a> <a id="2863" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2865" href="Ledger.Dijkstra.Specification.Script.Base.html#1055" class="Function">PlutusV2</a> <a id="2874" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2876" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2878" class="Symbol">)</a>
    <a id="2884" href="Class.ToBool.html#342" class="Function Operator">else</a> <a id="2889" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="2898" class="Symbol">(</a><a id="2899" href="Ledger.Dijkstra.Specification.Script.Base.html#1073" class="Function">PlutusV4</a> <a id="2908" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2910" href="Ledger.Dijkstra.Specification.Script.Base.html#1064" class="Function">PlutusV3</a> <a id="2919" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2921" href="Ledger.Dijkstra.Specification.Script.Base.html#1055" class="Function">PlutusV2</a> <a id="2930" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2932" href="Ledger.Dijkstra.Specification.Script.Base.html#1046" class="Function">PlutusV1</a> <a id="2941" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2943" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2945" class="Symbol">)</a>


<a id="2949" class="Keyword">data</a> <a id="_⊢_⇀⦇_,SUBUTXOW⦈_"></a><a id="2954" href="Ledger.Dijkstra.Specification.Utxow.html#2954" class="Datatype Operator">_⊢_⇀⦇_,SUBUTXOW⦈_</a> <a id="2972" class="Symbol">:</a> <a id="2974" href="Ledger.Dijkstra.Specification.Utxo.html#1373" class="Record">SubUTxOEnv</a> <a id="2985" class="Symbol">→</a> <a id="2987" href="Ledger.Dijkstra.Specification.Utxo.html#1633" class="Record">UTxOState</a> <a id="2997" class="Symbol">→</a> <a id="2999" href="Ledger.Dijkstra.Specification.Transaction.html#5370" class="Function">SubLevelTx</a> <a id="3010" class="Symbol">→</a> <a id="3012" href="Ledger.Dijkstra.Specification.Utxo.html#1633" class="Record">UTxOState</a> <a id="3022" class="Symbol">→</a> <a id="3024" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3029" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,SUBUTXOW⦈_.SUBUTXOW"></a><a id="3038" href="Ledger.Dijkstra.Specification.Utxow.html#3038" class="InductiveConstructor">SUBUTXOW</a> <a id="3047" class="Symbol">:</a>
    <a id="3053" class="Keyword">let</a>
         <a id="3066" class="Keyword">open</a> <a id="3071" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Module">Tx</a> <a id="3074" href="Ledger.Dijkstra.Specification.Utxow.html#545" class="Generalizable">txSub</a>
         <a id="3089" class="Keyword">open</a> <a id="3094" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Module">TxBody</a> <a id="3101" href="Ledger.Dijkstra.Specification.Transaction.html#3594" class="Function">txBody</a>
         <a id="3117" class="Keyword">open</a> <a id="3122" href="Ledger.Dijkstra.Specification.Transaction.html#5008" class="Module">TxWitnesses</a> <a id="3134" href="Ledger.Dijkstra.Specification.Transaction.html#3632" class="Function">txWitnesses</a>
         <a id="3155" class="Keyword">open</a> <a id="3160" href="Ledger.Dijkstra.Specification.Utxo.html#1100" class="Module">UTxOEnv</a>

         <a id="3178" href="Ledger.Dijkstra.Specification.Utxow.html#3178" class="Bound">utxo₀</a>               <a id="3198" class="Symbol">=</a> <a id="3200" href="Ledger.Dijkstra.Specification.Transaction.html#3454" class="Field">UTxOOf</a> <a id="3207" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a>
         <a id="3218" href="Ledger.Dijkstra.Specification.Utxow.html#3218" class="Bound">utxo</a>                <a id="3238" class="Symbol">=</a> <a id="3240" href="Ledger.Dijkstra.Specification.Transaction.html#3454" class="Field">UTxOOf</a> <a id="3247" href="Ledger.Dijkstra.Specification.Utxow.html#504" class="Generalizable">s</a>

         <a id="3259" href="Ledger.Dijkstra.Specification.Utxow.html#3259" class="Bound">witsKeyHashes</a>       <a id="3279" class="Symbol">:</a> <a id="3281" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3283" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
         <a id="3300" href="Ledger.Dijkstra.Specification.Utxow.html#3259" class="Bound">witsKeyHashes</a>       <a id="3320" class="Symbol">=</a> <a id="3322" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="3327" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="3332" class="Symbol">(</a><a id="3333" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3337" href="Ledger.Dijkstra.Specification.Transaction.html#5089" class="Function">vKeySigs</a><a id="3345" class="Symbol">)</a>

         <a id="3357" href="Ledger.Dijkstra.Specification.Utxow.html#3357" class="Bound">p1Scripts</a> <a id="3367" class="Symbol">:</a> <a id="3369" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3371" href="Ledger.Dijkstra.Specification.Script.Base.html#647" class="Function">P1Script</a>
         <a id="3389" href="Ledger.Dijkstra.Specification.Utxow.html#3357" class="Bound">p1Scripts</a> <a id="3399" class="Symbol">=</a> <a id="3401" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="3412" href="Ledger.Dijkstra.Specification.Script.Base.html#3042" class="Function">toP1Script</a> <a id="3423" class="Symbol">(</a><a id="3424" href="Ledger.Dijkstra.Specification.Utxo.html#2226" class="Field">ScriptPoolOf</a> <a id="3437" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a><a id="3438" class="Symbol">)</a>

         <a id="3450" href="Ledger.Dijkstra.Specification.Utxow.html#3450" class="Bound">p2Scripts</a> <a id="3460" class="Symbol">:</a> <a id="3462" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3464" href="Ledger.Dijkstra.Specification.Script.Base.html#2432" class="Function">P2Script</a>
         <a id="3482" href="Ledger.Dijkstra.Specification.Utxow.html#3450" class="Bound">p2Scripts</a> <a id="3492" class="Symbol">=</a> <a id="3494" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="3505" href="Ledger.Dijkstra.Specification.Script.Base.html#3285" class="Function">toP2Script</a> <a id="3516" class="Symbol">(</a><a id="3517" href="Ledger.Dijkstra.Specification.Utxo.html#2226" class="Field">ScriptPoolOf</a> <a id="3530" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a><a id="3531" class="Symbol">)</a>

         <a id="3543" href="Ledger.Dijkstra.Specification.Utxow.html#3543" class="Bound">neededScriptHashes</a>  <a id="3563" class="Symbol">:</a> <a id="3565" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3567" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
         <a id="3587" href="Ledger.Dijkstra.Specification.Utxow.html#3543" class="Bound">neededScriptHashes</a>  <a id="3607" class="Symbol">=</a> <a id="3609" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="3620" class="Symbol">(</a><a id="3621" href="Ledger.Core.Specification.Address.html#765" class="Function">isScriptObj</a>  <a id="3634" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="3636" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="3641" class="Symbol">)</a> <a id="3643" class="Symbol">(</a><a id="3644" href="Ledger.Dijkstra.Specification.Script.Validation.html#4832" class="Function">credsNeeded</a> <a id="3656" href="Ledger.Dijkstra.Specification.Utxow.html#3178" class="Bound">utxo₀</a> <a id="3662" href="Ledger.Dijkstra.Specification.Utxow.html#545" class="Generalizable">txSub</a><a id="3667" class="Symbol">)</a>
                               <a id="3700" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="3702" class="Symbol">(</a><a id="3703" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="3714" href="Ledger.Core.Specification.Address.html#765" class="Function">isScriptObj</a> <a id="3726" class="Symbol">(</a><a id="3727" href="Ledger.Dijkstra.Specification.Transaction.html#8218" class="Field">GuardsOf</a> <a id="3736" href="Ledger.Dijkstra.Specification.Utxow.html#545" class="Generalizable">txSub</a><a id="3741" class="Symbol">))</a>

         <a id="3754" href="Ledger.Dijkstra.Specification.Utxow.html#3754" class="Bound">neededVKeyHashes</a> <a id="3771" class="Symbol">:</a> <a id="3773" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3775" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
         <a id="3792" href="Ledger.Dijkstra.Specification.Utxow.html#3754" class="Bound">neededVKeyHashes</a> <a id="3809" class="Symbol">=</a> <a id="3811" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="3822" class="Symbol">(</a><a id="3823" href="Ledger.Core.Specification.Address.html#484" class="Function">isKeyHashObj</a> <a id="3836" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="3838" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="3843" class="Symbol">)</a> <a id="3845" class="Symbol">(</a><a id="3846" href="Ledger.Dijkstra.Specification.Script.Validation.html#4832" class="Function">credsNeeded</a> <a id="3858" href="Ledger.Dijkstra.Specification.Utxow.html#3178" class="Bound">utxo₀</a> <a id="3864" href="Ledger.Dijkstra.Specification.Utxow.html#545" class="Generalizable">txSub</a><a id="3869" class="Symbol">)</a>
                            <a id="3899" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="3901" class="Symbol">(</a><a id="3902" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="3913" href="Ledger.Core.Specification.Address.html#484" class="Function">isKeyHashObj</a> <a id="3926" class="Symbol">(</a><a id="3927" href="Ledger.Dijkstra.Specification.Transaction.html#8218" class="Field">GuardsOf</a> <a id="3936" href="Ledger.Dijkstra.Specification.Utxow.html#545" class="Generalizable">txSub</a><a id="3941" class="Symbol">))</a>


         <a id="3955" href="Ledger.Dijkstra.Specification.Utxow.html#3955" class="Bound">neededDataHashes</a> <a id="3972" class="Symbol">:</a> <a id="3974" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3976" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a>
         <a id="3994" href="Ledger.Dijkstra.Specification.Utxow.html#3955" class="Bound">neededDataHashes</a> <a id="4011" class="Symbol">=</a> <a id="4013" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="4024" class="Symbol">(λ</a> <a id="4027" href="Ledger.Dijkstra.Specification.Utxow.html#4027" class="Bound">txOut</a><a id="4032" class="Symbol">@(</a><a id="4034" href="Ledger.Dijkstra.Specification.Utxow.html#4034" class="Bound">a</a> <a id="4036" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4038" class="Symbol">_</a> <a id="4040" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4042" href="Ledger.Dijkstra.Specification.Utxow.html#4042" class="Bound">d</a> <a id="4044" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4046" class="Symbol">_)</a> <a id="4049" class="Symbol">→</a> <a id="4051" class="Keyword">do</a> <a id="4054" href="Ledger.Dijkstra.Specification.Utxow.html#4054" class="Bound">sh</a> <a id="4057" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="4059" href="Ledger.Core.Specification.Address.html#765" class="Function">isScriptObj</a> <a id="4071" class="Symbol">(</a><a id="4072" href="Ledger.Core.Specification.Address.html#3192" class="Function">payCred</a> <a id="4080" href="Ledger.Dijkstra.Specification.Utxow.html#4034" class="Bound">a</a><a id="4081" class="Symbol">)</a>
                                                                     <a id="4152" class="Symbol">_</a>  <a id="4155" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="4157" href="Ledger.Prelude.html#2672" class="Function">lookupHash</a> <a id="4168" href="Ledger.Dijkstra.Specification.Utxow.html#4054" class="Bound">sh</a> <a id="4171" href="Ledger.Dijkstra.Specification.Utxow.html#3450" class="Bound">p2Scripts</a>
                                                                     <a id="4250" href="Ledger.Dijkstra.Specification.Utxow.html#4042" class="Bound">d</a> <a id="4252" href="Class.Monad.Core.html#337" class="Field Operator">&gt;&gt;=</a> <a id="4256" href="Data.Sum.html#870" class="Function">isInj₂</a><a id="4262" class="Symbol">)</a>
                                       <a id="4303" class="Symbol">(</a><a id="4304" href="Class.IsSet.html#959" class="Function">range</a> <a id="4310" class="Symbol">(</a><a id="4311" href="Ledger.Dijkstra.Specification.Utxow.html#3178" class="Bound">utxo₀</a> <a id="4317" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="4319" href="Ledger.Dijkstra.Specification.Transaction.html#3870" class="Function">txIns</a><a id="4324" class="Symbol">))</a>

    <a id="4332" class="Keyword">in</a>
    <a id="4339" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a>  <a id="4342" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="4345" href="Ledger.Dijkstra.Specification.Utxow.html#4345" class="Bound">(</a><a id="4346" href="Ledger.Dijkstra.Specification.Utxow.html#4346" class="Bound">vk</a> <a id="4349" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4351" href="Ledger.Dijkstra.Specification.Utxow.html#4351" class="Bound">σ</a><a id="4352" href="Ledger.Dijkstra.Specification.Utxow.html#4345" class="Bound">)</a> <a id="4354" href="Class.IsSet.html#576" class="Function">∈</a> <a id="4356" href="Ledger.Dijkstra.Specification.Transaction.html#5089" class="Function">vKeySigs</a> <a id="4365" href="Class.IsSet.html#576" class="Function">]</a> <a id="4367" href="Ledger.Core.Specification.Crypto.html#719" class="Function">isSigned</a> <a id="4376" href="Ledger.Dijkstra.Specification.Utxow.html#4346" class="Bound">vk</a> <a id="4379" class="Symbol">(</a><a id="4380" href="Ledger.Dijkstra.Specification.Transaction.html#2389" class="Field">txidBytes</a> <a id="4390" href="Ledger.Dijkstra.Specification.Transaction.html#4047" class="Function">txId</a><a id="4394" class="Symbol">)</a> <a id="4396" href="Ledger.Dijkstra.Specification.Utxow.html#4351" class="Bound">σ</a>
    <a id="4402" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="4405" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="4408" href="Ledger.Dijkstra.Specification.Utxow.html#4408" class="Bound">s</a> <a id="4410" href="Class.IsSet.html#576" class="Function">∈</a> <a id="4412" href="Ledger.Dijkstra.Specification.Utxow.html#3357" class="Bound">p1Scripts</a> <a id="4422" href="Class.IsSet.html#576" class="Function">]</a> <a id="4424" class="Symbol">(</a><a id="4425" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="4430" href="Ledger.Dijkstra.Specification.Utxow.html#4408" class="Bound">s</a> <a id="4432" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="4434" href="Ledger.Dijkstra.Specification.Utxow.html#3543" class="Bound">neededScriptHashes</a> <a id="4453" class="Symbol">→</a> <a id="4455" href="Ledger.Dijkstra.Specification.Script.Base.html#671" class="Function">validP1Script</a> <a id="4469" href="Ledger.Dijkstra.Specification.Utxow.html#3259" class="Bound">witsKeyHashes</a> <a id="4483" href="Ledger.Dijkstra.Specification.Transaction.html#4223" class="Function">txVldt</a> <a id="4490" href="Ledger.Dijkstra.Specification.Utxow.html#4408" class="Bound">s</a><a id="4491" class="Symbol">)</a>
    <a id="4497" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="4500" href="Ledger.Dijkstra.Specification.Utxow.html#3754" class="Bound">neededVKeyHashes</a> <a id="4517" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="4519" href="Ledger.Dijkstra.Specification.Utxow.html#3259" class="Bound">witsKeyHashes</a>
    <a id="4537" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="4540" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="4543" href="Ledger.Dijkstra.Specification.Utxow.html#4543" class="Bound">s</a> <a id="4545" href="Class.IsSet.html#576" class="Function">∈</a> <a id="4547" href="Ledger.Dijkstra.Specification.Utxow.html#3450" class="Bound">p2Scripts</a> <a id="4557" href="Class.IsSet.html#576" class="Function">]</a> <a id="4559" class="Symbol">(</a><a id="4560" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="4565" href="Ledger.Dijkstra.Specification.Utxow.html#4543" class="Bound">s</a> <a id="4567" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="4569" href="Ledger.Dijkstra.Specification.Utxow.html#3543" class="Bound">neededScriptHashes</a> <a id="4588" class="Symbol">→</a> <a id="4590" href="Ledger.Dijkstra.Specification.Script.Base.html#2029" class="Function">language</a> <a id="4599" href="Ledger.Dijkstra.Specification.Utxow.html#4543" class="Bound">s</a> <a id="4601" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4603" href="Ledger.Dijkstra.Specification.Script.Base.html#1073" class="Function">PlutusV4</a><a id="4611" class="Symbol">)</a>
    <a id="4617" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="4620" href="Ledger.Dijkstra.Specification.Utxow.html#3543" class="Bound">neededScriptHashes</a> <a id="4639" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="4641" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="4646" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="4651" href="Ledger.Dijkstra.Specification.Utxow.html#3357" class="Bound">p1Scripts</a> <a id="4661" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="4663" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="4668" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="4673" href="Ledger.Dijkstra.Specification.Utxow.html#3450" class="Bound">p2Scripts</a>
    <a id="4687" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="4690" href="Ledger.Dijkstra.Specification.Utxow.html#3955" class="Bound">neededDataHashes</a> <a id="4707" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="4709" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4713" class="Symbol">(</a><a id="4714" href="Ledger.Dijkstra.Specification.Utxo.html#2346" class="Field">DataPoolOf</a> <a id="4725" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a><a id="4726" class="Symbol">)</a>
    <a id="4732" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="4735" href="Ledger.Dijkstra.Specification.Transaction.html#4278" class="Function">txADhash</a> <a id="4744" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4746" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="4750" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="4755" href="Ledger.Dijkstra.Specification.Transaction.html#3747" class="Function">txAuxData</a>
    <a id="4769" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="4772" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a> <a id="4774" href="Ledger.Dijkstra.Specification.Utxo.html#9381" class="Datatype Operator">⊢</a> <a id="4776" href="Ledger.Dijkstra.Specification.Utxow.html#504" class="Generalizable">s</a> <a id="4778" href="Ledger.Dijkstra.Specification.Utxo.html#9381" class="Datatype Operator">⇀⦇</a> <a id="4781" href="Ledger.Dijkstra.Specification.Utxow.html#545" class="Generalizable">txSub</a> <a id="4787" href="Ledger.Dijkstra.Specification.Utxo.html#9381" class="Datatype Operator">,SUBUTXO⦈</a> <a id="4797" href="Ledger.Dijkstra.Specification.Utxow.html#506" class="Generalizable">s&#39;</a>
      <a id="4806" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
       <a id="4846" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a> <a id="4848" href="Ledger.Dijkstra.Specification.Utxow.html#2954" class="Datatype Operator">⊢</a> <a id="4850" href="Ledger.Dijkstra.Specification.Utxow.html#504" class="Generalizable">s</a> <a id="4852" href="Ledger.Dijkstra.Specification.Utxow.html#2954" class="Datatype Operator">⇀⦇</a> <a id="4855" href="Ledger.Dijkstra.Specification.Utxow.html#545" class="Generalizable">txSub</a> <a id="4861" href="Ledger.Dijkstra.Specification.Utxow.html#2954" class="Datatype Operator">,SUBUTXOW⦈</a> <a id="4872" href="Ledger.Dijkstra.Specification.Utxow.html#506" class="Generalizable">s&#39;</a>


<a id="4877" class="Keyword">data</a> <a id="_⊢_⇀⦇_,UTXOW⦈_"></a><a id="4882" href="Ledger.Dijkstra.Specification.Utxow.html#4882" class="Datatype Operator">_⊢_⇀⦇_,UTXOW⦈_</a> <a id="4897" class="Symbol">:</a> <a id="4899" href="Ledger.Dijkstra.Specification.Utxo.html#1100" class="Record">UTxOEnv</a> <a id="4907" class="Symbol">→</a> <a id="4909" href="Ledger.Dijkstra.Specification.Utxo.html#1633" class="Record">UTxOState</a> <a id="4919" class="Symbol">→</a> <a id="4921" href="Ledger.Dijkstra.Specification.Transaction.html#5320" class="Function">TopLevelTx</a> <a id="4932" class="Symbol">→</a> <a id="4934" href="Ledger.Dijkstra.Specification.Utxo.html#1633" class="Record">UTxOState</a> <a id="4944" class="Symbol">→</a> <a id="4946" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4951" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,UTXOW⦈_.UTXOW-normal"></a><a id="4960" href="Ledger.Dijkstra.Specification.Utxow.html#4960" class="InductiveConstructor">UTXOW-normal</a> <a id="4973" class="Symbol">:</a>
    <a id="4979" class="Keyword">let</a>
         <a id="4992" class="Keyword">open</a> <a id="4997" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Module">Tx</a> <a id="5000" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a>
         <a id="5015" class="Keyword">open</a> <a id="5020" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Module">TxBody</a> <a id="5027" href="Ledger.Dijkstra.Specification.Transaction.html#3594" class="Function">txBody</a>
         <a id="5043" class="Keyword">open</a> <a id="5048" href="Ledger.Dijkstra.Specification.Transaction.html#5008" class="Module">TxWitnesses</a> <a id="5060" href="Ledger.Dijkstra.Specification.Transaction.html#3632" class="Function">txWitnesses</a>
         <a id="5081" class="Keyword">open</a> <a id="5086" href="Ledger.Dijkstra.Specification.Utxo.html#1100" class="Module">UTxOEnv</a>

         <a id="5104" href="Ledger.Dijkstra.Specification.Utxow.html#5104" class="Bound">utxo₀</a>               <a id="5124" class="Symbol">=</a> <a id="5126" href="Ledger.Dijkstra.Specification.Transaction.html#3454" class="Field">UTxOOf</a> <a id="5133" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a>
         <a id="5144" href="Ledger.Dijkstra.Specification.Utxow.html#5144" class="Bound">utxo</a>                <a id="5164" class="Symbol">=</a> <a id="5166" href="Ledger.Dijkstra.Specification.Transaction.html#3454" class="Field">UTxOOf</a> <a id="5173" href="Ledger.Dijkstra.Specification.Utxow.html#504" class="Generalizable">s</a>

         <a id="5185" href="Ledger.Dijkstra.Specification.Utxow.html#5185" class="Bound">witsKeyHashes</a> <a id="5199" class="Symbol">:</a> <a id="5201" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5203" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
         <a id="5220" href="Ledger.Dijkstra.Specification.Utxow.html#5185" class="Bound">witsKeyHashes</a> <a id="5234" class="Symbol">=</a> <a id="5236" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="5241" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="5246" class="Symbol">(</a><a id="5247" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5251" href="Ledger.Dijkstra.Specification.Transaction.html#5089" class="Function">vKeySigs</a><a id="5259" class="Symbol">)</a>

         <a id="5271" href="Ledger.Dijkstra.Specification.Utxow.html#5271" class="Bound">p1Scripts</a> <a id="5281" class="Symbol">:</a> <a id="5283" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5285" href="Ledger.Dijkstra.Specification.Script.Base.html#647" class="Function">P1Script</a>
         <a id="5303" href="Ledger.Dijkstra.Specification.Utxow.html#5271" class="Bound">p1Scripts</a> <a id="5313" class="Symbol">=</a> <a id="5315" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="5326" href="Ledger.Dijkstra.Specification.Script.Base.html#3042" class="Function">toP1Script</a> <a id="5337" class="Symbol">(</a><a id="5338" href="Ledger.Dijkstra.Specification.Utxo.html#2226" class="Field">ScriptPoolOf</a> <a id="5351" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a><a id="5352" class="Symbol">)</a>

         <a id="5364" href="Ledger.Dijkstra.Specification.Utxow.html#5364" class="Bound">p2Scripts</a> <a id="5374" class="Symbol">:</a> <a id="5376" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5378" href="Ledger.Dijkstra.Specification.Script.Base.html#2432" class="Function">P2Script</a>
         <a id="5396" href="Ledger.Dijkstra.Specification.Utxow.html#5364" class="Bound">p2Scripts</a> <a id="5406" class="Symbol">=</a> <a id="5408" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="5419" href="Ledger.Dijkstra.Specification.Script.Base.html#3285" class="Function">toP2Script</a> <a id="5430" class="Symbol">(</a><a id="5431" href="Ledger.Dijkstra.Specification.Utxo.html#2226" class="Field">ScriptPoolOf</a> <a id="5444" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a><a id="5445" class="Symbol">)</a>

         <a id="5457" href="Ledger.Dijkstra.Specification.Utxow.html#5457" class="Bound">neededScriptHashes</a> <a id="5476" class="Symbol">:</a> <a id="5478" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5480" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
         <a id="5500" href="Ledger.Dijkstra.Specification.Utxow.html#5457" class="Bound">neededScriptHashes</a> <a id="5519" class="Symbol">=</a> <a id="5521" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="5532" class="Symbol">(</a><a id="5533" href="Ledger.Core.Specification.Address.html#765" class="Function">isScriptObj</a>  <a id="5546" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5548" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="5553" class="Symbol">)</a> <a id="5555" class="Symbol">(</a><a id="5556" href="Ledger.Dijkstra.Specification.Script.Validation.html#4832" class="Function">credsNeeded</a> <a id="5568" href="Ledger.Dijkstra.Specification.Utxow.html#5104" class="Bound">utxo₀</a> <a id="5574" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a><a id="5579" class="Symbol">)</a>
                               <a id="5612" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="5614" class="Symbol">(</a><a id="5615" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="5626" href="Ledger.Core.Specification.Address.html#765" class="Function">isScriptObj</a> <a id="5638" class="Symbol">(</a><a id="5639" href="Ledger.Dijkstra.Specification.Transaction.html#8218" class="Field">GuardsOf</a> <a id="5648" href="Ledger.Dijkstra.Specification.Utxow.html#545" class="Generalizable">txSub</a><a id="5653" class="Symbol">))</a> <a id="5656" class="Comment">-- (1,2)</a>

         <a id="5675" href="Ledger.Dijkstra.Specification.Utxow.html#5675" class="Bound">neededVKeyHashes</a> <a id="5692" class="Symbol">:</a> <a id="5694" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5696" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
         <a id="5713" href="Ledger.Dijkstra.Specification.Utxow.html#5675" class="Bound">neededVKeyHashes</a> <a id="5730" class="Symbol">=</a> <a id="5732" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="5743" class="Symbol">(</a><a id="5744" href="Ledger.Core.Specification.Address.html#484" class="Function">isKeyHashObj</a> <a id="5757" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5759" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="5764" class="Symbol">)</a> <a id="5766" class="Symbol">(</a><a id="5767" href="Ledger.Dijkstra.Specification.Script.Validation.html#4832" class="Function">credsNeeded</a> <a id="5779" href="Ledger.Dijkstra.Specification.Utxow.html#5104" class="Bound">utxo₀</a> <a id="5785" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a><a id="5790" class="Symbol">)</a>
                            <a id="5820" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="5822" class="Symbol">(</a><a id="5823" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="5834" href="Ledger.Core.Specification.Address.html#484" class="Function">isKeyHashObj</a> <a id="5847" class="Symbol">(</a><a id="5848" href="Ledger.Dijkstra.Specification.Transaction.html#8218" class="Field">GuardsOf</a> <a id="5857" href="Ledger.Dijkstra.Specification.Utxow.html#545" class="Generalizable">txSub</a><a id="5862" class="Symbol">))</a> <a id="5865" class="Comment">-- (1,2)</a>

         <a id="5884" href="Ledger.Dijkstra.Specification.Utxow.html#5884" class="Bound">neededDataHashes</a> <a id="5901" class="Symbol">:</a> <a id="5903" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5905" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a>
         <a id="5923" href="Ledger.Dijkstra.Specification.Utxow.html#5884" class="Bound">neededDataHashes</a> <a id="5940" class="Symbol">=</a> <a id="5942" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="5953" class="Symbol">(λ</a> <a id="5956" href="Ledger.Dijkstra.Specification.Utxow.html#5956" class="Bound">txOut</a><a id="5961" class="Symbol">@(</a><a id="5963" href="Ledger.Dijkstra.Specification.Utxow.html#5963" class="Bound">a</a> <a id="5965" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5967" class="Symbol">_</a> <a id="5969" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5971" href="Ledger.Dijkstra.Specification.Utxow.html#5971" class="Bound">d</a> <a id="5973" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5975" class="Symbol">_)</a> <a id="5978" class="Symbol">→</a> <a id="5980" class="Keyword">do</a> <a id="5983" href="Ledger.Dijkstra.Specification.Utxow.html#5983" class="Bound">sh</a> <a id="5986" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="5988" href="Ledger.Core.Specification.Address.html#765" class="Function">isScriptObj</a> <a id="6000" class="Symbol">(</a><a id="6001" href="Ledger.Core.Specification.Address.html#3192" class="Function">payCred</a> <a id="6009" href="Ledger.Dijkstra.Specification.Utxow.html#5963" class="Bound">a</a><a id="6010" class="Symbol">)</a>
                                                                     <a id="6081" class="Symbol">_</a>  <a id="6084" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="6086" href="Ledger.Prelude.html#2672" class="Function">lookupHash</a> <a id="6097" href="Ledger.Dijkstra.Specification.Utxow.html#5983" class="Bound">sh</a> <a id="6100" href="Ledger.Dijkstra.Specification.Utxow.html#5364" class="Bound">p2Scripts</a>
                                                                     <a id="6179" href="Ledger.Dijkstra.Specification.Utxow.html#5971" class="Bound">d</a> <a id="6181" href="Class.Monad.Core.html#337" class="Field Operator">&gt;&gt;=</a> <a id="6185" href="Data.Sum.html#870" class="Function">isInj₂</a><a id="6191" class="Symbol">)</a>
                                       <a id="6232" class="Symbol">(</a><a id="6233" href="Class.IsSet.html#959" class="Function">range</a> <a id="6239" class="Symbol">(</a><a id="6240" href="Ledger.Dijkstra.Specification.Utxow.html#5104" class="Bound">utxo₀</a> <a id="6246" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="6248" href="Ledger.Dijkstra.Specification.Transaction.html#3870" class="Function">txIns</a><a id="6253" class="Symbol">))</a>

    <a id="6261" class="Keyword">in</a>
    <a id="6268" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a>  <a id="6271" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="6274" href="Ledger.Dijkstra.Specification.Utxow.html#6274" class="Bound">s</a> <a id="6276" href="Class.IsSet.html#576" class="Function">∈</a> <a id="6278" href="Ledger.Dijkstra.Specification.Utxow.html#5364" class="Bound">p2Scripts</a> <a id="6288" href="Class.IsSet.html#576" class="Function">]</a> <a id="6290" class="Symbol">(</a><a id="6291" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="6296" href="Ledger.Dijkstra.Specification.Utxow.html#6274" class="Bound">s</a> <a id="6298" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6300" href="Ledger.Dijkstra.Specification.Utxow.html#5457" class="Bound">neededScriptHashes</a> <a id="6319" class="Symbol">→</a> <a id="6321" href="Ledger.Dijkstra.Specification.Script.Base.html#2029" class="Function">language</a> <a id="6330" href="Ledger.Dijkstra.Specification.Utxow.html#6274" class="Bound">s</a> <a id="6332" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6334" href="Ledger.Dijkstra.Specification.Script.Base.html#1073" class="Function">PlutusV4</a><a id="6342" class="Symbol">)</a>
    <a id="6348" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="6351" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="6354" href="Ledger.Dijkstra.Specification.Utxow.html#6354" class="Bound">(</a><a id="6355" href="Ledger.Dijkstra.Specification.Utxow.html#6355" class="Bound">vk</a> <a id="6358" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6360" href="Ledger.Dijkstra.Specification.Utxow.html#6360" class="Bound">σ</a><a id="6361" href="Ledger.Dijkstra.Specification.Utxow.html#6354" class="Bound">)</a> <a id="6363" href="Class.IsSet.html#576" class="Function">∈</a> <a id="6365" href="Ledger.Dijkstra.Specification.Transaction.html#5089" class="Function">vKeySigs</a> <a id="6374" href="Class.IsSet.html#576" class="Function">]</a> <a id="6376" href="Ledger.Core.Specification.Crypto.html#719" class="Function">isSigned</a> <a id="6385" href="Ledger.Dijkstra.Specification.Utxow.html#6355" class="Bound">vk</a> <a id="6388" class="Symbol">(</a><a id="6389" href="Ledger.Dijkstra.Specification.Transaction.html#2389" class="Field">txidBytes</a> <a id="6399" href="Ledger.Dijkstra.Specification.Transaction.html#4047" class="Function">txId</a><a id="6403" class="Symbol">)</a> <a id="6405" href="Ledger.Dijkstra.Specification.Utxow.html#6360" class="Bound">σ</a>
    <a id="6411" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="6414" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="6417" href="Ledger.Dijkstra.Specification.Utxow.html#6417" class="Bound">s</a> <a id="6419" href="Class.IsSet.html#576" class="Function">∈</a> <a id="6421" href="Ledger.Dijkstra.Specification.Utxow.html#5271" class="Bound">p1Scripts</a> <a id="6431" href="Class.IsSet.html#576" class="Function">]</a> <a id="6433" class="Symbol">(</a><a id="6434" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="6439" href="Ledger.Dijkstra.Specification.Utxow.html#6417" class="Bound">s</a> <a id="6441" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6443" href="Ledger.Dijkstra.Specification.Utxow.html#5457" class="Bound">neededScriptHashes</a> <a id="6462" class="Symbol">→</a> <a id="6464" href="Ledger.Dijkstra.Specification.Script.Base.html#671" class="Function">validP1Script</a> <a id="6478" href="Ledger.Dijkstra.Specification.Utxow.html#5185" class="Bound">witsKeyHashes</a> <a id="6492" href="Ledger.Dijkstra.Specification.Transaction.html#4223" class="Function">txVldt</a> <a id="6499" href="Ledger.Dijkstra.Specification.Utxow.html#6417" class="Bound">s</a><a id="6500" class="Symbol">)</a>
    <a id="6506" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="6509" href="Ledger.Dijkstra.Specification.Utxow.html#5675" class="Bound">neededVKeyHashes</a> <a id="6526" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="6528" href="Ledger.Dijkstra.Specification.Utxow.html#5185" class="Bound">witsKeyHashes</a>
    <a id="6546" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="6549" href="Ledger.Dijkstra.Specification.Utxow.html#5457" class="Bound">neededScriptHashes</a> <a id="6568" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="6570" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="6575" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="6580" href="Ledger.Dijkstra.Specification.Utxow.html#5271" class="Bound">p1Scripts</a> <a id="6590" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="6592" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="6597" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="6602" href="Ledger.Dijkstra.Specification.Utxow.html#5364" class="Bound">p2Scripts</a>
    <a id="6616" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="6619" href="Ledger.Dijkstra.Specification.Utxow.html#5884" class="Bound">neededDataHashes</a> <a id="6636" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="6638" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6642" class="Symbol">(</a><a id="6643" href="Ledger.Dijkstra.Specification.Utxo.html#2346" class="Field">DataPoolOf</a> <a id="6654" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a><a id="6655" class="Symbol">)</a>
    <a id="6661" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="6664" href="Ledger.Dijkstra.Specification.Transaction.html#21063" class="Function">RequiredGuardsInTopLevel</a> <a id="6689" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a> <a id="6695" class="Comment">-- (2)</a>
    <a id="6706" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="6709" href="Ledger.Dijkstra.Specification.Transaction.html#4278" class="Function">txADhash</a> <a id="6718" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6720" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="6724" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="6729" href="Ledger.Dijkstra.Specification.Transaction.html#3747" class="Function">txAuxData</a>
    <a id="6743" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="6745" class="Symbol">(</a><a id="6746" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a> <a id="6748" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6750" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="6755" class="Symbol">)</a> <a id="6757" href="Ledger.Dijkstra.Specification.Utxo.html#9983" class="Datatype Operator">⊢</a> <a id="6759" href="Ledger.Dijkstra.Specification.Utxow.html#504" class="Generalizable">s</a> <a id="6761" href="Ledger.Dijkstra.Specification.Utxo.html#9983" class="Datatype Operator">⇀⦇</a> <a id="6764" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a> <a id="6770" href="Ledger.Dijkstra.Specification.Utxo.html#9983" class="Datatype Operator">,UTXO⦈</a> <a id="6777" href="Ledger.Dijkstra.Specification.Utxow.html#506" class="Generalizable">s&#39;</a>
      <a id="6786" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a id="6825" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a> <a id="6827" href="Ledger.Dijkstra.Specification.Utxow.html#4882" class="Datatype Operator">⊢</a> <a id="6829" href="Ledger.Dijkstra.Specification.Utxow.html#504" class="Generalizable">s</a> <a id="6831" href="Ledger.Dijkstra.Specification.Utxow.html#4882" class="Datatype Operator">⇀⦇</a> <a id="6834" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a> <a id="6840" href="Ledger.Dijkstra.Specification.Utxow.html#4882" class="Datatype Operator">,UTXOW⦈</a> <a id="6848" href="Ledger.Dijkstra.Specification.Utxow.html#506" class="Generalizable">s&#39;</a>

  <a id="_⊢_⇀⦇_,UTXOW⦈_.UTXOW-legacy"></a><a id="6854" href="Ledger.Dijkstra.Specification.Utxow.html#6854" class="InductiveConstructor">UTXOW-legacy</a> <a id="6867" class="Symbol">:</a>
    <a id="6873" class="Keyword">let</a>
         <a id="6886" class="Keyword">open</a> <a id="6891" href="Ledger.Dijkstra.Specification.Transaction.html#3522" class="Module">Tx</a> <a id="6894" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a>
         <a id="6909" class="Keyword">open</a> <a id="6914" href="Ledger.Dijkstra.Specification.Transaction.html#3794" class="Module">TxBody</a> <a id="6921" href="Ledger.Dijkstra.Specification.Transaction.html#3594" class="Function">txBody</a>
         <a id="6937" class="Keyword">open</a> <a id="6942" href="Ledger.Dijkstra.Specification.Transaction.html#5008" class="Module">TxWitnesses</a> <a id="6954" href="Ledger.Dijkstra.Specification.Transaction.html#3632" class="Function">txWitnesses</a>
         <a id="6975" class="Keyword">open</a> <a id="6980" href="Ledger.Dijkstra.Specification.Utxo.html#1100" class="Module">UTxOEnv</a>

         <a id="6998" href="Ledger.Dijkstra.Specification.Utxow.html#6998" class="Bound">utxo₀</a> <a id="7004" class="Symbol">=</a> <a id="7006" href="Ledger.Dijkstra.Specification.Transaction.html#3454" class="Field">UTxOOf</a> <a id="7013" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a>
         <a id="7024" href="Ledger.Dijkstra.Specification.Utxow.html#7024" class="Bound">utxo</a>  <a id="7030" class="Symbol">=</a> <a id="7032" href="Ledger.Dijkstra.Specification.Transaction.html#3454" class="Field">UTxOOf</a> <a id="7039" href="Ledger.Dijkstra.Specification.Utxow.html#504" class="Generalizable">s</a>

         <a id="7051" href="Ledger.Dijkstra.Specification.Utxow.html#7051" class="Bound">witsKeyHashes</a> <a id="7065" class="Symbol">:</a> <a id="7067" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7069" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
         <a id="7086" href="Ledger.Dijkstra.Specification.Utxow.html#7051" class="Bound">witsKeyHashes</a> <a id="7100" class="Symbol">=</a> <a id="7102" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="7107" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="7112" class="Symbol">(</a><a id="7113" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7117" href="Ledger.Dijkstra.Specification.Transaction.html#5089" class="Function">vKeySigs</a><a id="7125" class="Symbol">)</a>

         <a id="7137" href="Ledger.Dijkstra.Specification.Utxow.html#7137" class="Bound">topLevelScripts</a> <a id="7153" class="Symbol">:</a> <a id="7155" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7157" href="Ledger.Dijkstra.Specification.Script.Base.html#2510" class="Function">Script</a>
         <a id="7173" href="Ledger.Dijkstra.Specification.Utxow.html#7137" class="Bound">topLevelScripts</a> <a id="7189" class="Symbol">=</a>  <a id="7192" href="Ledger.Dijkstra.Specification.Transaction.html#17088" class="Function">witnessScripts</a> <a id="7207" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a>
                          <a id="7239" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="7241" href="Ledger.Dijkstra.Specification.Transaction.html#16515" class="Function">spendScripts</a> <a id="7254" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a> <a id="7260" href="Ledger.Dijkstra.Specification.Utxow.html#6998" class="Bound">utxo₀</a>
                          <a id="7292" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="7294" href="Ledger.Dijkstra.Specification.Transaction.html#16662" class="Function">referenceScripts</a> <a id="7311" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a> <a id="7317" href="Ledger.Dijkstra.Specification.Utxow.html#6998" class="Bound">utxo₀</a>

         <a id="7333" href="Ledger.Dijkstra.Specification.Utxow.html#7333" class="Bound">p1Scripts</a> <a id="7343" class="Symbol">:</a> <a id="7345" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7347" href="Ledger.Dijkstra.Specification.Script.Base.html#647" class="Function">P1Script</a>
         <a id="7365" href="Ledger.Dijkstra.Specification.Utxow.html#7333" class="Bound">p1Scripts</a> <a id="7375" class="Symbol">=</a> <a id="7377" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="7388" href="Ledger.Dijkstra.Specification.Script.Base.html#3042" class="Function">toP1Script</a> <a id="7399" href="Ledger.Dijkstra.Specification.Utxow.html#7137" class="Bound">topLevelScripts</a>

         <a id="7425" href="Ledger.Dijkstra.Specification.Utxow.html#7425" class="Bound">p2Scripts</a> <a id="7435" class="Symbol">:</a> <a id="7437" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7439" href="Ledger.Dijkstra.Specification.Script.Base.html#2432" class="Function">P2Script</a>
         <a id="7457" href="Ledger.Dijkstra.Specification.Utxow.html#7425" class="Bound">p2Scripts</a> <a id="7467" class="Symbol">=</a> <a id="7469" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="7480" href="Ledger.Dijkstra.Specification.Script.Base.html#3285" class="Function">toP2Script</a> <a id="7491" href="Ledger.Dijkstra.Specification.Utxow.html#7137" class="Bound">topLevelScripts</a>

         <a id="7517" href="Ledger.Dijkstra.Specification.Utxow.html#7517" class="Bound">neededScriptHashes</a>  <a id="7537" class="Symbol">:</a> <a id="7539" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7541" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
         <a id="7561" href="Ledger.Dijkstra.Specification.Utxow.html#7517" class="Bound">neededScriptHashes</a>  <a id="7581" class="Symbol">=</a> <a id="7583" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="7594" class="Symbol">(</a><a id="7595" href="Ledger.Core.Specification.Address.html#765" class="Function">isScriptObj</a>  <a id="7608" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7610" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="7615" class="Symbol">)</a> <a id="7617" class="Symbol">(</a><a id="7618" href="Ledger.Dijkstra.Specification.Script.Validation.html#4832" class="Function">credsNeeded</a> <a id="7630" href="Ledger.Dijkstra.Specification.Utxow.html#6998" class="Bound">utxo₀</a> <a id="7636" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a><a id="7641" class="Symbol">)</a>

         <a id="7653" href="Ledger.Dijkstra.Specification.Utxow.html#7653" class="Bound">neededVKeyHashes</a> <a id="7670" class="Symbol">:</a> <a id="7672" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7674" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
         <a id="7691" href="Ledger.Dijkstra.Specification.Utxow.html#7653" class="Bound">neededVKeyHashes</a> <a id="7708" class="Symbol">=</a> <a id="7710" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="7721" class="Symbol">(</a><a id="7722" href="Ledger.Core.Specification.Address.html#484" class="Function">isKeyHashObj</a> <a id="7735" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7737" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="7742" class="Symbol">)</a> <a id="7744" class="Symbol">(</a><a id="7745" href="Ledger.Dijkstra.Specification.Script.Validation.html#4832" class="Function">credsNeeded</a> <a id="7757" href="Ledger.Dijkstra.Specification.Utxow.html#6998" class="Bound">utxo₀</a> <a id="7763" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a><a id="7768" class="Symbol">)</a>

         <a id="7780" href="Ledger.Dijkstra.Specification.Utxow.html#7780" class="Bound">txDataHashes</a>     <a id="7797" class="Symbol">:</a> <a id="7799" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7801" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a>
         <a id="7819" href="Ledger.Dijkstra.Specification.Utxow.html#7780" class="Bound">txDataHashes</a>     <a id="7836" class="Symbol">=</a> <a id="7838" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="7843" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="7848" href="Ledger.Dijkstra.Specification.Transaction.html#5155" class="Function">txData</a>

         <a id="7865" href="Ledger.Dijkstra.Specification.Utxow.html#7865" class="Bound">neededDataHashes</a> <a id="7882" class="Symbol">:</a> <a id="7884" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="7886" href="Ledger.Dijkstra.Specification.Script.Base.html#1788" class="Function">DataHash</a>
         <a id="7904" href="Ledger.Dijkstra.Specification.Utxow.html#7865" class="Bound">neededDataHashes</a> <a id="7921" class="Symbol">=</a> <a id="7923" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="7934" class="Symbol">(λ</a> <a id="7937" href="Ledger.Dijkstra.Specification.Utxow.html#7937" class="Bound">txOut</a><a id="7942" class="Symbol">@(</a><a id="7944" href="Ledger.Dijkstra.Specification.Utxow.html#7944" class="Bound">a</a> <a id="7946" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7948" class="Symbol">_</a> <a id="7950" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7952" href="Ledger.Dijkstra.Specification.Utxow.html#7952" class="Bound">d</a> <a id="7954" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7956" class="Symbol">_)</a> <a id="7959" class="Symbol">→</a> <a id="7961" class="Keyword">do</a> <a id="7964" href="Ledger.Dijkstra.Specification.Utxow.html#7964" class="Bound">sh</a> <a id="7967" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="7969" href="Ledger.Core.Specification.Address.html#765" class="Function">isScriptObj</a> <a id="7981" class="Symbol">(</a><a id="7982" href="Ledger.Core.Specification.Address.html#3192" class="Function">payCred</a> <a id="7990" href="Ledger.Dijkstra.Specification.Utxow.html#7944" class="Bound">a</a><a id="7991" class="Symbol">)</a>
                                                                     <a id="8062" class="Symbol">_</a>  <a id="8065" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="8067" href="Ledger.Prelude.html#2672" class="Function">lookupHash</a> <a id="8078" href="Ledger.Dijkstra.Specification.Utxow.html#7964" class="Bound">sh</a> <a id="8081" href="Ledger.Dijkstra.Specification.Utxow.html#7425" class="Bound">p2Scripts</a>
                                                                     <a id="8160" href="Ledger.Dijkstra.Specification.Utxow.html#7952" class="Bound">d</a> <a id="8162" href="Class.Monad.Core.html#337" class="Field Operator">&gt;&gt;=</a> <a id="8166" href="Data.Sum.html#870" class="Function">isInj₂</a><a id="8172" class="Symbol">)</a>
                                       <a id="8213" class="Symbol">(</a><a id="8214" href="Class.IsSet.html#959" class="Function">range</a> <a id="8220" class="Symbol">(</a><a id="8221" href="Ledger.Dijkstra.Specification.Utxow.html#6998" class="Bound">utxo₀</a> <a id="8227" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="8229" href="Ledger.Dijkstra.Specification.Transaction.html#3870" class="Function">txIns</a><a id="8234" class="Symbol">))</a>

         <a id="8247" href="Ledger.Dijkstra.Specification.Utxow.html#8247" class="Bound">refInputsDataHashes</a> <a id="8267" class="Symbol">=</a> <a id="8269" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="8280" href="Ledger.Dijkstra.Specification.Script.Validation.html#5250" class="Function">txOutToDataHash</a> <a id="8296" class="Symbol">(</a><a id="8297" href="Class.IsSet.html#959" class="Function">range</a> <a id="8303" class="Symbol">(</a><a id="8304" href="Ledger.Dijkstra.Specification.Utxow.html#7024" class="Bound">utxo</a> <a id="8309" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="8311" href="Ledger.Dijkstra.Specification.Transaction.html#3908" class="Function">referenceInputs</a><a id="8326" class="Symbol">))</a>
         <a id="8338" href="Ledger.Dijkstra.Specification.Utxow.html#8338" class="Bound">outputsDataHashes</a>   <a id="8358" class="Symbol">=</a> <a id="8360" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="8371" href="Ledger.Dijkstra.Specification.Script.Validation.html#5250" class="Function">txOutToDataHash</a> <a id="8387" class="Symbol">(</a><a id="8388" href="Class.IsSet.html#959" class="Function">range</a> <a id="8394" href="Ledger.Dijkstra.Specification.Transaction.html#4005" class="Function">txOuts</a><a id="8400" class="Symbol">)</a>

    <a id="8407" class="Keyword">in</a>
    <a id="8414" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a>  <a id="8417" href="Class.IsSet.html#736" class="Function">∃[</a> <a id="8420" href="Ledger.Dijkstra.Specification.Utxow.html#8420" class="Bound">h</a> <a id="8422" href="Class.IsSet.html#736" class="Function">∈</a> <a id="8424" href="Ledger.Dijkstra.Specification.Utxow.html#7517" class="Bound">neededScriptHashes</a> <a id="8443" href="Class.IsSet.html#736" class="Function">]</a> <a id="8445" href="Class.IsSet.html#736" class="Function">∃[</a> <a id="8448" href="Ledger.Dijkstra.Specification.Utxow.html#8448" class="Bound">s</a> <a id="8450" href="Class.IsSet.html#736" class="Function">∈</a> <a id="8452" href="Ledger.Dijkstra.Specification.Utxow.html#7425" class="Bound">p2Scripts</a> <a id="8462" href="Class.IsSet.html#736" class="Function">]</a> <a id="8464" href="Ledger.Dijkstra.Specification.Utxow.html#8420" class="Bound">h</a> <a id="8466" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8468" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="8473" href="Ledger.Dijkstra.Specification.Utxow.html#8448" class="Bound">s</a> <a id="8475" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8477" href="Ledger.Dijkstra.Specification.Script.Base.html#2029" class="Function">language</a> <a id="8486" href="Ledger.Dijkstra.Specification.Utxow.html#8448" class="Bound">s</a> <a id="8488" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="8490" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="8499" class="Symbol">(</a><a id="8500" href="Ledger.Dijkstra.Specification.Script.Base.html#1046" class="Function">PlutusV1</a> <a id="8509" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8511" href="Ledger.Dijkstra.Specification.Script.Base.html#1055" class="Function">PlutusV2</a> <a id="8520" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8522" href="Ledger.Dijkstra.Specification.Script.Base.html#1064" class="Function">PlutusV3</a> <a id="8531" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8533" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="8535" class="Symbol">)</a>
    <a id="8541" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="8544" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="8547" href="Ledger.Dijkstra.Specification.Utxow.html#8547" class="Bound">(</a><a id="8548" href="Ledger.Dijkstra.Specification.Utxow.html#8548" class="Bound">vk</a> <a id="8551" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8553" href="Ledger.Dijkstra.Specification.Utxow.html#8553" class="Bound">σ</a><a id="8554" href="Ledger.Dijkstra.Specification.Utxow.html#8547" class="Bound">)</a> <a id="8556" href="Class.IsSet.html#576" class="Function">∈</a> <a id="8558" href="Ledger.Dijkstra.Specification.Transaction.html#5089" class="Function">vKeySigs</a> <a id="8567" href="Class.IsSet.html#576" class="Function">]</a> <a id="8569" href="Ledger.Core.Specification.Crypto.html#719" class="Function">isSigned</a> <a id="8578" href="Ledger.Dijkstra.Specification.Utxow.html#8548" class="Bound">vk</a> <a id="8581" class="Symbol">(</a><a id="8582" href="Ledger.Dijkstra.Specification.Transaction.html#2389" class="Field">txidBytes</a> <a id="8592" href="Ledger.Dijkstra.Specification.Transaction.html#4047" class="Function">txId</a><a id="8596" class="Symbol">)</a> <a id="8598" href="Ledger.Dijkstra.Specification.Utxow.html#8553" class="Bound">σ</a>
    <a id="8604" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="8607" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="8610" href="Ledger.Dijkstra.Specification.Utxow.html#8610" class="Bound">s</a> <a id="8612" href="Class.IsSet.html#576" class="Function">∈</a> <a id="8614" href="Ledger.Dijkstra.Specification.Utxow.html#7333" class="Bound">p1Scripts</a> <a id="8624" href="Class.IsSet.html#576" class="Function">]</a> <a id="8626" class="Symbol">(</a><a id="8627" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="8632" href="Ledger.Dijkstra.Specification.Utxow.html#8610" class="Bound">s</a> <a id="8634" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="8636" href="Ledger.Dijkstra.Specification.Utxow.html#7517" class="Bound">neededScriptHashes</a> <a id="8655" class="Symbol">→</a> <a id="8657" href="Ledger.Dijkstra.Specification.Script.Base.html#671" class="Function">validP1Script</a> <a id="8671" href="Ledger.Dijkstra.Specification.Utxow.html#7051" class="Bound">witsKeyHashes</a> <a id="8685" href="Ledger.Dijkstra.Specification.Transaction.html#4223" class="Function">txVldt</a> <a id="8692" href="Ledger.Dijkstra.Specification.Utxow.html#8610" class="Bound">s</a><a id="8693" class="Symbol">)</a>
    <a id="8699" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="8702" href="Ledger.Dijkstra.Specification.Utxow.html#7517" class="Bound">neededScriptHashes</a> <a id="8721" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="8723" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="8728" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="8733" href="Ledger.Dijkstra.Specification.Utxow.html#7137" class="Bound">topLevelScripts</a>
    <a id="8753" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="8756" href="Ledger.Dijkstra.Specification.Utxow.html#7653" class="Bound">neededVKeyHashes</a> <a id="8773" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="8775" href="Ledger.Dijkstra.Specification.Utxow.html#7051" class="Bound">witsKeyHashes</a>
    <a id="8793" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="8796" href="Ledger.Dijkstra.Specification.Utxow.html#7865" class="Bound">neededDataHashes</a> <a id="8813" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="8815" href="Ledger.Dijkstra.Specification.Utxow.html#7780" class="Bound">txDataHashes</a>
    <a id="8832" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="8835" href="Ledger.Dijkstra.Specification.Utxow.html#7780" class="Bound">txDataHashes</a>     <a id="8852" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="8854" href="Ledger.Dijkstra.Specification.Utxow.html#7865" class="Bound">neededDataHashes</a> <a id="8871" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="8873" href="Ledger.Dijkstra.Specification.Utxow.html#8338" class="Bound">outputsDataHashes</a> <a id="8891" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="8893" href="Ledger.Dijkstra.Specification.Utxow.html#8247" class="Bound">refInputsDataHashes</a>
    <a id="8917" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="8920" href="Ledger.Dijkstra.Specification.Utxow.html#2538" class="Function">languages</a> <a id="8930" href="Ledger.Dijkstra.Specification.Utxow.html#7425" class="Bound">p2Scripts</a> <a id="8940" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="8942" href="Ledger.Dijkstra.Specification.Utxow.html#2622" class="Function">allowedLanguagesLegacyMode</a> <a id="8969" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a> <a id="8975" href="Ledger.Dijkstra.Specification.Utxow.html#7024" class="Bound">utxo</a>
    <a id="8984" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="8987" href="Ledger.Dijkstra.Specification.Transaction.html#4278" class="Function">txADhash</a> <a id="8996" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8998" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="9002" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="9007" href="Ledger.Dijkstra.Specification.Transaction.html#3747" class="Function">txAuxData</a>
    <a id="9021" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a>  <a id="9024" class="Symbol">(</a><a id="9025" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a> <a id="9027" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9029" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="9033" class="Symbol">)</a> <a id="9035" href="Ledger.Dijkstra.Specification.Utxo.html#9983" class="Datatype Operator">⊢</a> <a id="9037" href="Ledger.Dijkstra.Specification.Utxow.html#504" class="Generalizable">s</a> <a id="9039" href="Ledger.Dijkstra.Specification.Utxo.html#9983" class="Datatype Operator">⇀⦇</a> <a id="9042" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a> <a id="9048" href="Ledger.Dijkstra.Specification.Utxo.html#9983" class="Datatype Operator">,UTXO⦈</a> <a id="9055" href="Ledger.Dijkstra.Specification.Utxow.html#506" class="Generalizable">s&#39;</a>
      <a id="9064" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a id="9103" href="Ledger.Dijkstra.Specification.Utxow.html#492" class="Generalizable">Γ</a> <a id="9105" href="Ledger.Dijkstra.Specification.Utxow.html#4882" class="Datatype Operator">⊢</a> <a id="9107" href="Ledger.Dijkstra.Specification.Utxow.html#504" class="Generalizable">s</a> <a id="9109" href="Ledger.Dijkstra.Specification.Utxow.html#4882" class="Datatype Operator">⇀⦇</a> <a id="9112" href="Ledger.Dijkstra.Specification.Utxow.html#524" class="Generalizable">txTop</a> <a id="9118" href="Ledger.Dijkstra.Specification.Utxow.html#4882" class="Datatype Operator">,UTXOW⦈</a> <a id="9126" href="Ledger.Dijkstra.Specification.Utxow.html#506" class="Generalizable">s&#39;</a>


<a id="9131" class="Comment">-- unquoteDecl UTXOW-normal-premises = genPremises UTXOW-normal-premises (quote UTXOW-normal)</a>
<a id="9225" class="Comment">-- unquoteDecl UTXOW-legacy-premises = genPremises UTXOW-legacy-premises (quote UTXOW-legacy)</a>
<a id="9319" class="Keyword">unquoteDecl</a> <a id="SUBUTXOW-premises"></a><a id="9331" href="Ledger.Dijkstra.Specification.Utxow.html#9331" class="Function">SUBUTXOW-premises</a> <a id="9349" class="Symbol">=</a> <a id="9351" href="Prelude.STS.GenPremises.html#13070" class="Function">genPremises</a> <a id="9363" href="Ledger.Dijkstra.Specification.Utxow.html#9331" class="Function">SUBUTXOW-premises</a> <a id="9381" class="Symbol">(</a><a id="9382" class="Keyword">quote</a> <a id="9388" href="Ledger.Dijkstra.Specification.Utxow.html#3038" class="InductiveConstructor">SUBUTXOW</a><a id="9396" class="Symbol">)</a>
<a id="9398" class="Keyword">pattern</a> <a id="SUBUTXOW-⋯"></a><a id="9406" href="Ledger.Dijkstra.Specification.Utxow.html#9406" class="InductiveConstructor">SUBUTXOW-⋯</a> <a id="9417" href="Ledger.Dijkstra.Specification.Utxow.html#9452" class="Bound">p₁</a> <a id="9420" href="Ledger.Dijkstra.Specification.Utxow.html#9457" class="Bound">p₂</a> <a id="9423" href="Ledger.Dijkstra.Specification.Utxow.html#9462" class="Bound">p₃</a> <a id="9426" href="Ledger.Dijkstra.Specification.Utxow.html#9467" class="Bound">p₄</a> <a id="9429" href="Ledger.Dijkstra.Specification.Utxow.html#9472" class="Bound">p₅</a> <a id="9432" href="Ledger.Dijkstra.Specification.Utxow.html#9477" class="Bound">p₆</a> <a id="9435" href="Ledger.Dijkstra.Specification.Utxow.html#9482" class="Bound">p₇</a> <a id="9438" href="Ledger.Dijkstra.Specification.Utxow.html#9487" class="Bound">h</a> <a id="9440" class="Symbol">=</a> <a id="9442" href="Ledger.Dijkstra.Specification.Utxow.html#3038" class="InductiveConstructor">SUBUTXOW</a> <a id="9451" class="Symbol">(</a><a id="9452" href="Ledger.Dijkstra.Specification.Utxow.html#9452" class="Bound">p₁</a> <a id="9455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9457" href="Ledger.Dijkstra.Specification.Utxow.html#9457" class="Bound">p₂</a> <a id="9460" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9462" href="Ledger.Dijkstra.Specification.Utxow.html#9462" class="Bound">p₃</a> <a id="9465" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9467" href="Ledger.Dijkstra.Specification.Utxow.html#9467" class="Bound">p₄</a> <a id="9470" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9472" href="Ledger.Dijkstra.Specification.Utxow.html#9472" class="Bound">p₅</a> <a id="9475" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9477" href="Ledger.Dijkstra.Specification.Utxow.html#9477" class="Bound">p₆</a> <a id="9480" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9482" href="Ledger.Dijkstra.Specification.Utxow.html#9482" class="Bound">p₇</a> <a id="9485" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9487" href="Ledger.Dijkstra.Specification.Utxow.html#9487" class="Bound">h</a><a id="9488" class="Symbol">)</a>

</pre></body></html>