<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Gov</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Types.GovStructure.html" class="Module">Ledger.Types.GovStructure</a>
<a id="64" class="Keyword">open</a> <a id="69" class="Keyword">import</a> <a id="76" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a> <a id="95" class="Keyword">using</a> <a id="101" class="Symbol">(</a><a id="102" href="Ledger.Transaction.html#867" class="Record">TransactionStructure</a><a id="122" class="Symbol">)</a>

<a id="125" class="Keyword">module</a> <a id="132" href="Ledger.Gov.html" class="Module">Ledger.Gov</a> <a id="143" class="Symbol">(</a><a id="144" href="Ledger.Gov.html#144" class="Bound">txs</a> <a id="148" class="Symbol">:</a> <a id="150" class="Symbol">_)</a> <a id="153" class="Symbol">(</a><a id="154" class="Keyword">open</a> <a id="159" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="180" href="Ledger.Gov.html#144" class="Bound">txs</a> <a id="184" class="Keyword">hiding</a> <a id="191" class="Symbol">(</a><a id="192" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a><a id="197" class="Symbol">))</a> <a id="200" class="Keyword">where</a>

<a id="207" class="Keyword">open</a> <a id="212" class="Keyword">import</a> <a id="219" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="234" class="Keyword">hiding</a> <a id="241" class="Symbol">(</a><a id="242" href="Axiom.Set.html#10895" class="Function">any?</a><a id="246" class="Symbol">;</a> <a id="248" href="Axiom.Set.html#9793" class="Function">Any</a><a id="251" class="Symbol">;</a> <a id="253" href="Axiom.Set.html#10821" class="Function">all?</a><a id="257" class="Symbol">;</a> <a id="259" href="Axiom.Set.html#9724" class="Function">All</a><a id="262" class="Symbol">;</a> <a id="264" href="Axiom.Set.Rel.html#1297" class="Function">Rel</a><a id="267" class="Symbol">;</a> <a id="269" href="Data.List.Base.html#6561" class="Function">lookup</a><a id="275" class="Symbol">;</a> <a id="277" href="Axiom.Set.html#5599" class="Function">∈-filter</a><a id="285" class="Symbol">)</a>

<a id="288" class="Keyword">open</a> <a id="293" class="Keyword">import</a> <a id="300" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="321" href="Axiom.Set.html#10669" class="Function">th</a> <a id="324" class="Keyword">using</a> <a id="330" class="Symbol">(</a><a id="331" href="Axiom.Set.Properties.html#15458" class="Function">∃-sublist-⇔</a><a id="342" class="Symbol">)</a>

<a id="345" class="Keyword">open</a> <a id="350" class="Keyword">import</a> <a id="357" href="Ledger.GovernanceActions.html" class="Module">Ledger.GovernanceActions</a> <a id="382" href="Ledger.Transaction.html#1809" class="Function">govStructure</a> <a id="395" class="Keyword">using</a> <a id="401" class="Symbol">(</a><a id="402" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a><a id="406" class="Symbol">)</a>
<a id="408" class="Keyword">open</a> <a id="413" class="Keyword">import</a> <a id="420" href="Ledger.Enact.html" class="Module">Ledger.Enact</a> <a id="433" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="446" class="Keyword">open</a> <a id="451" class="Keyword">import</a> <a id="458" href="Ledger.Ratify.html" class="Module">Ledger.Ratify</a> <a id="472" href="Ledger.Gov.html#144" class="Bound">txs</a> <a id="476" class="Keyword">hiding</a> <a id="483" class="Symbol">(</a><a id="484" href="Ledger.Ratify.html#806" class="Function">vote</a><a id="488" class="Symbol">)</a>
<a id="490" class="Keyword">open</a> <a id="495" class="Keyword">import</a> <a id="502" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="515" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>

<a id="529" class="Keyword">open</a> <a id="534" class="Keyword">import</a> <a id="541" href="Data.List.Ext.html" class="Module">Data.List.Ext</a> <a id="555" class="Keyword">using</a> <a id="561" class="Symbol">(</a><a id="562" href="Data.List.Ext.html#1309" class="Function">subpermutations</a><a id="577" class="Symbol">;</a> <a id="579" href="Data.List.Ext.html#947" class="Function">sublists</a><a id="587" class="Symbol">)</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="Data.List.Ext.Properties2.html" class="Module">Data.List.Ext.Properties2</a>
<a id="627" class="Keyword">open</a> <a id="632" class="Keyword">import</a> <a id="639" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a> <a id="685" class="Keyword">using</a> <a id="691" class="Symbol">(</a><a id="692" href="Data.List.Membership.Propositional.Properties.Core.html#2483" class="Function">Any↔</a><a id="696" class="Symbol">;</a> <a id="698" href="Data.List.Membership.Propositional.Properties.html#9216" class="Function">∈-filter⁻</a><a id="707" class="Symbol">;</a> <a id="709" href="Data.List.Membership.Propositional.Properties.html#9096" class="Function">∈-filter⁺</a><a id="718" class="Symbol">)</a>
<a id="720" class="Keyword">open</a> <a id="725" class="Keyword">import</a> <a id="732" href="Data.List.Relation.Binary.Subset.Propositional.html" class="Module">Data.List.Relation.Binary.Subset.Propositional</a> <a id="779" class="Keyword">using</a> <a id="785" class="Symbol">()</a> <a id="788" class="Keyword">renaming</a> <a id="797" class="Symbol">(</a><a id="798" href="Data.List.Relation.Binary.Subset.Setoid.html#825" class="Function Operator">_⊆_</a> <a id="802" class="Symbol">to</a> <a id="805" class="Function Operator">_⊆ˡ_</a><a id="809" class="Symbol">)</a>
<a id="811" class="Keyword">open</a> <a id="816" class="Keyword">import</a> <a id="823" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a> <a id="852" class="Keyword">using</a> <a id="858" class="Symbol">(</a><a id="859" href="Data.List.Relation.Unary.All.html#6419" class="Function">all?</a><a id="863" class="Symbol">;</a> <a id="865" href="Data.List.Relation.Unary.All.html#1639" class="Datatype">All</a><a id="868" class="Symbol">)</a>
<a id="870" class="Keyword">open</a> <a id="875" class="Keyword">import</a> <a id="882" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a> <a id="911" class="Keyword">using</a> <a id="917" class="Symbol">(</a><a id="918" href="Data.List.Relation.Unary.Any.html#2684" class="Function">any?</a><a id="922" class="Symbol">;</a> <a id="924" href="Data.List.Relation.Unary.Any.html#1148" class="Datatype">Any</a><a id="927" class="Symbol">)</a>
<a id="929" class="Keyword">open</a> <a id="934" class="Keyword">import</a> <a id="941" href="Data.List.Relation.Unary.Unique.DecPropositional.html" class="Module">Data.List.Relation.Unary.Unique.DecPropositional</a> <a id="990" class="Keyword">using</a> <a id="996" class="Symbol">(</a><a id="997" href="Data.List.Relation.Unary.Unique.DecSetoid.html#883" class="Function">unique?</a><a id="1004" class="Symbol">)</a>
<a id="1006" class="Keyword">open</a> <a id="1011" class="Keyword">import</a> <a id="1018" href="Data.List.Relation.Unary.Unique.Propositional.html" class="Module">Data.List.Relation.Unary.Unique.Propositional</a> <a id="1064" class="Keyword">using</a> <a id="1070" class="Symbol">(</a><a id="1071" href="Data.List.Relation.Unary.Unique.Setoid.html#785" class="Datatype">Unique</a><a id="1077" class="Symbol">)</a>
<a id="1079" class="Keyword">open</a> <a id="1084" class="Keyword">import</a> <a id="1091" href="Data.Relation.Nullary.Decidable.Ext.html" class="Module">Data.Relation.Nullary.Decidable.Ext</a> <a id="1127" class="Keyword">using</a> <a id="1133" class="Symbol">(</a><a id="1134" href="Data.Relation.Nullary.Decidable.Ext.html#280" class="Function">map′⇔</a><a id="1139" class="Symbol">)</a>
<a id="1141" class="Keyword">open</a> <a id="1146" class="Keyword">import</a> <a id="1153" href="Function.Related.Propositional.html" class="Module">Function.Related.Propositional</a> <a id="1184" class="Keyword">using</a> <a id="1190" class="Symbol">(</a><a id="1191" href="Function.Related.Propositional.html#2301" class="Function">↔⇒</a><a id="1193" class="Symbol">)</a>

<a id="1196" class="Keyword">open</a> <a id="1201" href="Ledger.GovernanceActions.html#2299" class="Module">GovActionState</a>


<a id="GovState"></a><a id="1218" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="1227" class="Symbol">:</a> <a id="1229" href="Agda.Primitive.html#388" class="Primitive">Type</a>


<a id="1236" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="1245" class="Symbol">=</a> <a id="1247" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1252" class="Symbol">(</a><a id="1253" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="1265" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1267" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a><a id="1281" class="Symbol">)</a>

<a id="1284" class="Keyword">record</a> <a id="GovEnv"></a><a id="1291" href="Ledger.Gov.html#1291" class="Record">GovEnv</a> <a id="1298" class="Symbol">:</a> <a id="1300" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1305" class="Keyword">where</a>
  <a id="1313" class="Keyword">field</a>
    <a id="GovEnv.txid"></a><a id="1323" href="Ledger.Gov.html#1323" class="Field">txid</a>        <a id="1335" class="Symbol">:</a> <a id="1337" href="Ledger.Transaction.html#919" class="Field">TxId</a>
    <a id="GovEnv.epoch"></a><a id="1346" href="Ledger.Gov.html#1346" class="Field">epoch</a>       <a id="1358" class="Symbol">:</a> <a id="1360" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a>
    <a id="GovEnv.pparams"></a><a id="1370" href="Ledger.Gov.html#1370" class="Field">pparams</a>     <a id="1382" class="Symbol">:</a> <a id="1384" href="Ledger.PParams.html#1389" class="Record">PParams</a>
    <a id="GovEnv.ppolicy"></a><a id="1396" href="Ledger.Gov.html#1396" class="Field">ppolicy</a>     <a id="1408" class="Symbol">:</a> <a id="1410" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1416" href="Ledger.Crypto.html#1166" class="Function">ScriptHash</a>
    <a id="GovEnv.enactState"></a><a id="1431" href="Ledger.Gov.html#1431" class="Field">enactState</a>  <a id="1443" class="Symbol">:</a> <a id="1445" href="Ledger.Enact.html#397" class="Record">EnactState</a>
    <a id="GovEnv.certState"></a><a id="1460" href="Ledger.Gov.html#1460" class="Field">certState</a>   <a id="1472" class="Symbol">:</a> <a id="1474" href="Ledger.Certs.html#2825" class="Record">CertState</a>
    <a id="GovEnv.rewardCreds"></a><a id="1488" href="Ledger.Gov.html#1488" class="Field">rewardCreds</a> <a id="1500" class="Symbol">:</a> <a id="1502" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1504" href="Ledger.Address.html#273" class="Datatype">Credential</a>


<a id="1517" class="Keyword">instance</a>
  <a id="1528" class="Keyword">unquoteDecl</a> <a id="To-GovEnv"></a><a id="1540" href="Ledger.Gov.html#1540" class="Function">To-GovEnv</a> <a id="1550" class="Symbol">=</a> <a id="1552" href="Class.To.html#2693" class="Function">derive-To</a>
    <a id="1566" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="1568" class="Symbol">(</a><a id="1569" class="Keyword">quote</a> <a id="1575" href="Ledger.Gov.html#1291" class="Record">GovEnv</a> <a id="1582" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1584" href="Ledger.Gov.html#1540" class="Function">To-GovEnv</a><a id="1593" class="Symbol">)</a> <a id="1595" href="Data.List.Base.html#5205" class="Function Operator">]</a>

<a id="1598" class="Keyword">private</a> <a id="1606" class="Keyword">variable</a>
  <a id="1617" href="Ledger.Gov.html#1617" class="Generalizable">Γ</a> <a id="1619" class="Symbol">:</a> <a id="1621" href="Ledger.Gov.html#1291" class="Record">GovEnv</a>
  <a id="1630" href="Ledger.Gov.html#1630" class="Generalizable">s</a> <a id="1632" href="Ledger.Gov.html#1632" class="Generalizable">s&#39;</a> <a id="1635" class="Symbol">:</a> <a id="1637" href="Ledger.Gov.html#1218" class="Function">GovState</a>
  <a id="1648" href="Ledger.Gov.html#1648" class="Generalizable">aid</a> <a id="1652" class="Symbol">:</a> <a id="1654" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a>
  <a id="1668" href="Ledger.Gov.html#1668" class="Generalizable">voter</a> <a id="1674" class="Symbol">:</a> <a id="1676" href="Ledger.GovernanceActions.html#392" class="Function">Voter</a>
  <a id="1684" href="Ledger.Gov.html#1684" class="Generalizable">vote</a> <a id="1689" class="Symbol">:</a> <a id="1691" href="Ledger.GovernanceActions.html#1932" class="Record">GovVote</a>
  <a id="1701" href="Ledger.Gov.html#1701" class="Generalizable">v</a> <a id="1703" class="Symbol">:</a> <a id="1705" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a>
  <a id="1712" href="Ledger.Gov.html#1712" class="Generalizable">d</a> <a id="1714" class="Symbol">:</a> <a id="1716" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="1723" href="Ledger.Gov.html#1723" class="Generalizable">addr</a> <a id="1728" class="Symbol">:</a> <a id="1730" href="Ledger.Address.html#1211" class="Record">RwdAddr</a>
  <a id="1740" href="Ledger.Gov.html#1740" class="Generalizable">a</a> <a id="1742" class="Symbol">:</a> <a id="1744" href="Ledger.GovernanceActions.html#1372" class="Record">GovAction</a>
  <a id="1756" href="Ledger.Gov.html#1756" class="Generalizable">prev</a> <a id="1761" class="Symbol">:</a> <a id="1763" href="Ledger.GovernanceActions.html#1511" class="Function">NeedsHash</a> <a id="1773" class="Symbol">(</a><a id="1774" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a> <a id="1781" href="Ledger.Gov.html#1740" class="Generalizable">a</a><a id="1782" class="Symbol">)</a>
  <a id="1786" href="Ledger.Gov.html#1786" class="Generalizable">k</a> <a id="1788" class="Symbol">:</a> <a id="1790" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="1794" href="Ledger.Gov.html#1794" class="Generalizable">p</a> <a id="1796" class="Symbol">:</a> <a id="1798" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1804" href="Ledger.Crypto.html#1166" class="Function">ScriptHash</a>

<a id="1816" class="Keyword">open</a> <a id="1821" href="Ledger.Certs.html#2681" class="Module">GState</a>
<a id="1828" class="Keyword">open</a> <a id="1833" href="Ledger.Certs.html#2574" class="Module">PState</a>


<a id="govActionPriority"></a><a id="1842" href="Ledger.Gov.html#1842" class="Function">govActionPriority</a> <a id="1860" class="Symbol">:</a> <a id="1862" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="1876" class="Symbol">→</a> <a id="1878" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="1880" href="Ledger.Gov.html#1842" class="Function">govActionPriority</a> <a id="1898" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>     <a id="1915" class="Symbol">=</a> <a id="1917" class="Number">0</a>
<a id="1919" href="Ledger.Gov.html#1842" class="Function">govActionPriority</a> <a id="1937" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a>  <a id="1954" class="Symbol">=</a> <a id="1956" class="Number">1</a>
<a id="1958" href="Ledger.Gov.html#1842" class="Function">govActionPriority</a> <a id="1976" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a>  <a id="1993" class="Symbol">=</a> <a id="1995" class="Number">2</a>
<a id="1997" href="Ledger.Gov.html#1842" class="Function">govActionPriority</a> <a id="2015" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>        <a id="2032" class="Symbol">=</a> <a id="2034" class="Number">3</a>
<a id="2036" href="Ledger.Gov.html#1842" class="Function">govActionPriority</a> <a id="2054" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>    <a id="2071" class="Symbol">=</a> <a id="2073" class="Number">4</a>
<a id="2075" href="Ledger.Gov.html#1842" class="Function">govActionPriority</a> <a id="2093" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>     <a id="2110" class="Symbol">=</a> <a id="2112" class="Number">5</a>
<a id="2114" href="Ledger.Gov.html#1842" class="Function">govActionPriority</a> <a id="2132" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>             <a id="2149" class="Symbol">=</a> <a id="2151" class="Number">6</a>

<a id="Overlap"></a><a id="2154" href="Ledger.Gov.html#2154" class="Function">Overlap</a> <a id="2162" class="Symbol">:</a> <a id="2164" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="2178" class="Symbol">→</a> <a id="2180" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="2194" class="Symbol">→</a> <a id="2196" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="2201" href="Ledger.Gov.html#2154" class="Function">Overlap</a> <a id="2209" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>    <a id="2225" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a>  <a id="2242" class="Symbol">=</a> <a id="2244" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="2246" href="Ledger.Gov.html#2154" class="Function">Overlap</a> <a id="2254" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="2270" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>     <a id="2287" class="Symbol">=</a> <a id="2289" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="2291" href="Ledger.Gov.html#2154" class="CatchallClause Function">Overlap</a><a id="2298" class="CatchallClause"> </a><a id="2299" href="Ledger.Gov.html#2299" class="CatchallClause Bound">a</a><a id="2300" class="CatchallClause">               </a><a id="2315" href="Ledger.Gov.html#2315" class="CatchallClause Bound">a&#39;</a>               <a id="2332" class="Symbol">=</a> <a id="2334" href="Ledger.Gov.html#2299" class="Bound">a</a> <a id="2336" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2338" href="Ledger.Gov.html#2315" class="Bound">a&#39;</a>


<a id="2343" class="Comment">-- TODO: cleanup this</a>
<a id="Overlap?"></a><a id="2365" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="2374" class="Symbol">:</a> <a id="2376" class="Symbol">(</a><a id="2377" href="Ledger.Gov.html#2377" class="Bound">a</a> <a id="2379" href="Ledger.Gov.html#2379" class="Bound">a&#39;</a> <a id="2382" class="Symbol">:</a> <a id="2384" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a><a id="2397" class="Symbol">)</a> <a id="2399" class="Symbol">→</a> <a id="2401" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="2405" class="Symbol">(</a><a id="2406" href="Ledger.Gov.html#2154" class="Function">Overlap</a> <a id="2414" href="Ledger.Gov.html#2377" class="Bound">a</a> <a id="2416" href="Ledger.Gov.html#2379" class="Bound">a&#39;</a><a id="2418" class="Symbol">)</a>
<a id="2420" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="2429" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>    <a id="2445" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a>  <a id="2462" class="Symbol">=</a> <a id="2464" href="Class.Decidable.Instances.html#393" class="Function">Dec-⊤</a> <a id="2470" class="Symbol">.</a><a id="2471" href="Class.Decidable.Core.html#264" class="Field">dec</a>
<a id="2475" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="2484" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="2500" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>     <a id="2517" class="Symbol">=</a> <a id="2519" href="Class.Decidable.Instances.html#393" class="Function">Dec-⊤</a> <a id="2525" class="Symbol">.</a><a id="2526" href="Class.Decidable.Core.html#264" class="Field">dec</a>
<a id="2530" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="2539" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a> <a id="2552" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a> <a id="2565" class="Symbol">=</a> <a id="2567" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2571" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="2576" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="2585" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a> <a id="2598" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="2614" class="Symbol">=</a> <a id="2616" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2619" class="Symbol">(λ</a> <a id="2622" class="Symbol">())</a>
<a id="2626" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="2635" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a> <a id="2648" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="2658" class="Symbol">=</a> <a id="2660" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2663" class="Symbol">(λ</a> <a id="2666" class="Symbol">())</a>
<a id="2670" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="2679" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a> <a id="2692" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="2706" class="Symbol">=</a> <a id="2708" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2711" class="Symbol">(λ</a> <a id="2714" class="Symbol">())</a>
<a id="2718" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="2727" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a> <a id="2740" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="2753" class="Symbol">=</a> <a id="2755" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2758" class="Symbol">(λ</a> <a id="2761" class="Symbol">())</a>
<a id="2765" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="2774" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a> <a id="2787" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="2792" class="Symbol">=</a> <a id="2794" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2797" class="Symbol">(λ</a> <a id="2800" class="Symbol">())</a>
<a id="2804" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="2813" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="2829" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="2845" class="Symbol">=</a> <a id="2847" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2851" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="2856" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="2865" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="2881" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="2897" class="Symbol">=</a> <a id="2899" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2902" class="Symbol">(λ</a> <a id="2905" class="Symbol">())</a>
<a id="2909" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="2918" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="2934" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="2944" class="Symbol">=</a> <a id="2946" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2949" class="Symbol">(λ</a> <a id="2952" class="Symbol">())</a>
<a id="2956" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="2965" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="2981" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="2995" class="Symbol">=</a> <a id="2997" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3000" class="Symbol">(λ</a> <a id="3003" class="Symbol">())</a>
<a id="3007" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3016" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="3032" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="3045" class="Symbol">=</a> <a id="3047" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3050" class="Symbol">(λ</a> <a id="3053" class="Symbol">())</a>
<a id="3057" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3066" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="3082" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="3087" class="Symbol">=</a> <a id="3089" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3092" class="Symbol">(λ</a> <a id="3095" class="Symbol">())</a>
<a id="3099" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3108" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="3124" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a> <a id="3137" class="Symbol">=</a> <a id="3139" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3142" class="Symbol">(λ</a> <a id="3145" class="Symbol">())</a>
<a id="3149" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3158" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="3174" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="3190" class="Symbol">=</a> <a id="3192" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3195" class="Symbol">(λ</a> <a id="3198" class="Symbol">())</a>
<a id="3202" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3211" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="3227" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="3243" class="Symbol">=</a> <a id="3245" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3249" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3254" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3263" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="3279" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="3289" class="Symbol">=</a> <a id="3291" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3294" class="Symbol">(λ</a> <a id="3297" class="Symbol">())</a>
<a id="3301" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3310" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="3326" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="3340" class="Symbol">=</a> <a id="3342" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3345" class="Symbol">(λ</a> <a id="3348" class="Symbol">())</a>
<a id="3352" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3361" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="3377" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="3390" class="Symbol">=</a> <a id="3392" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3395" class="Symbol">(λ</a> <a id="3398" class="Symbol">())</a>
<a id="3402" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3411" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="3427" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="3432" class="Symbol">=</a> <a id="3434" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3437" class="Symbol">(λ</a> <a id="3440" class="Symbol">())</a>
<a id="3444" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3453" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="3463" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a> <a id="3476" class="Symbol">=</a> <a id="3478" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3481" class="Symbol">(λ</a> <a id="3484" class="Symbol">())</a>
<a id="3488" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3497" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="3507" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="3523" class="Symbol">=</a> <a id="3525" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3528" class="Symbol">(λ</a> <a id="3531" class="Symbol">())</a>
<a id="3535" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3544" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="3554" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="3570" class="Symbol">=</a> <a id="3572" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3575" class="Symbol">(λ</a> <a id="3578" class="Symbol">())</a>
<a id="3582" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3591" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="3601" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="3611" class="Symbol">=</a> <a id="3613" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3617" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3622" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3631" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="3641" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="3655" class="Symbol">=</a> <a id="3657" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3660" class="Symbol">(λ</a> <a id="3663" class="Symbol">())</a>
<a id="3667" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3676" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="3686" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="3699" class="Symbol">=</a> <a id="3701" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3704" class="Symbol">(λ</a> <a id="3707" class="Symbol">())</a>
<a id="3711" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3720" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="3730" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="3735" class="Symbol">=</a> <a id="3737" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3740" class="Symbol">(λ</a> <a id="3743" class="Symbol">())</a>
<a id="3747" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3756" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="3770" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a> <a id="3783" class="Symbol">=</a> <a id="3785" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3788" class="Symbol">(λ</a> <a id="3791" class="Symbol">())</a>
<a id="3795" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3804" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="3818" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="3834" class="Symbol">=</a> <a id="3836" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3839" class="Symbol">(λ</a> <a id="3842" class="Symbol">())</a>
<a id="3846" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3855" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="3869" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="3885" class="Symbol">=</a> <a id="3887" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3890" class="Symbol">(λ</a> <a id="3893" class="Symbol">())</a>
<a id="3897" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3906" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="3920" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="3930" class="Symbol">=</a> <a id="3932" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3935" class="Symbol">(λ</a> <a id="3938" class="Symbol">())</a>
<a id="3942" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3951" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="3965" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="3979" class="Symbol">=</a> <a id="3981" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3985" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3990" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="3999" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="4013" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="4026" class="Symbol">=</a> <a id="4028" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4031" class="Symbol">(λ</a> <a id="4034" class="Symbol">())</a>
<a id="4038" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4047" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="4061" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="4066" class="Symbol">=</a> <a id="4068" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4071" class="Symbol">(λ</a> <a id="4074" class="Symbol">())</a>
<a id="4078" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4087" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="4100" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a> <a id="4113" class="Symbol">=</a> <a id="4115" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4118" class="Symbol">(λ</a> <a id="4121" class="Symbol">())</a>
<a id="4125" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4134" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="4147" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="4163" class="Symbol">=</a> <a id="4165" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4168" class="Symbol">(λ</a> <a id="4171" class="Symbol">())</a>
<a id="4175" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4184" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="4197" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="4213" class="Symbol">=</a> <a id="4215" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4218" class="Symbol">(λ</a> <a id="4221" class="Symbol">())</a>
<a id="4225" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4234" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="4247" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="4257" class="Symbol">=</a> <a id="4259" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4262" class="Symbol">(λ</a> <a id="4265" class="Symbol">())</a>
<a id="4269" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4278" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="4291" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="4305" class="Symbol">=</a> <a id="4307" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4310" class="Symbol">(λ</a> <a id="4313" class="Symbol">())</a>
<a id="4317" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4326" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="4339" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="4352" class="Symbol">=</a> <a id="4354" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="4358" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="4363" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4372" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="4385" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="4390" class="Symbol">=</a> <a id="4392" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4395" class="Symbol">(λ</a> <a id="4398" class="Symbol">())</a>
<a id="4402" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4411" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="4416" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a> <a id="4429" class="Symbol">=</a> <a id="4431" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4434" class="Symbol">(λ</a> <a id="4437" class="Symbol">())</a>
<a id="4441" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4450" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="4455" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="4471" class="Symbol">=</a> <a id="4473" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4476" class="Symbol">(λ</a> <a id="4479" class="Symbol">())</a>
<a id="4483" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4492" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="4497" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="4513" class="Symbol">=</a> <a id="4515" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4518" class="Symbol">(λ</a> <a id="4521" class="Symbol">())</a>
<a id="4525" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4534" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="4539" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="4549" class="Symbol">=</a> <a id="4551" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4554" class="Symbol">(λ</a> <a id="4557" class="Symbol">())</a>
<a id="4561" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4570" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="4575" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="4589" class="Symbol">=</a> <a id="4591" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4594" class="Symbol">(λ</a> <a id="4597" class="Symbol">())</a>
<a id="4601" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4610" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="4615" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a> <a id="4628" class="Symbol">=</a> <a id="4630" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="4633" class="Symbol">(λ</a> <a id="4636" class="Symbol">())</a>
<a id="4640" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="4649" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="4654" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a> <a id="4659" class="Symbol">=</a> <a id="4661" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="4665" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>



<a id="insertGovAction"></a><a id="4673" href="Ledger.Gov.html#4673" class="Function">insertGovAction</a> <a id="4689" class="Symbol">:</a> <a id="4691" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="4700" class="Symbol">→</a> <a id="4702" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="4714" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4716" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="4731" class="Symbol">→</a> <a id="4733" href="Ledger.Gov.html#1218" class="Function">GovState</a>
<a id="4742" href="Ledger.Gov.html#4673" class="Function">insertGovAction</a> <a id="4758" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="4761" href="Ledger.Gov.html#4761" class="Bound">gaPr</a> <a id="4766" class="Symbol">=</a> <a id="4768" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="4770" href="Ledger.Gov.html#4761" class="Bound">gaPr</a> <a id="4775" href="Data.List.Base.html#5205" class="Function Operator">]</a>
<a id="4777" href="Ledger.Gov.html#4673" class="Function">insertGovAction</a> <a id="4793" class="Symbol">((</a><a id="4795" href="Ledger.Gov.html#4795" class="Bound">gaID₀</a> <a id="4801" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4803" href="Ledger.Gov.html#4803" class="Bound">gaSt₀</a><a id="4808" class="Symbol">)</a> <a id="4810" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4812" href="Ledger.Gov.html#4812" class="Bound">gaPrs</a><a id="4817" class="Symbol">)</a> <a id="4819" class="Symbol">(</a><a id="4820" href="Ledger.Gov.html#4820" class="Bound">gaID₁</a> <a id="4826" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4828" href="Ledger.Gov.html#4828" class="Bound">gaSt₁</a><a id="4833" class="Symbol">)</a>
  <a id="4837" class="Symbol">=</a>  <a id="4840" href="Class.ToBool.html#534" class="Function Operator">if</a> <a id="4843" class="Symbol">(</a><a id="4844" href="Ledger.Gov.html#1842" class="Function">govActionPriority</a> <a id="4862" class="Symbol">(</a><a id="4863" href="Ledger.GovernanceActions.html#2420" class="Field">action</a> <a id="4870" href="Ledger.Gov.html#4803" class="Bound">gaSt₀</a> <a id="4876" class="Symbol">.</a><a id="4877" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a><a id="4883" class="Symbol">))</a> <a id="4886" href="Class.HasOrder.Core.html#916" class="Function Operator">≤?</a> <a id="4889" class="Symbol">(</a><a id="4890" href="Ledger.Gov.html#1842" class="Function">govActionPriority</a> <a id="4908" class="Symbol">(</a><a id="4909" href="Ledger.GovernanceActions.html#2420" class="Field">action</a> <a id="4916" href="Ledger.Gov.html#4828" class="Bound">gaSt₁</a> <a id="4922" class="Symbol">.</a><a id="4923" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a><a id="4929" class="Symbol">))</a>
     <a id="4937" href="Class.ToBool.html#534" class="Function Operator">then</a> <a id="4942" class="Symbol">(</a><a id="4943" href="Ledger.Gov.html#4795" class="Bound">gaID₀</a> <a id="4949" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4951" href="Ledger.Gov.html#4803" class="Bound">gaSt₀</a><a id="4956" class="Symbol">)</a> <a id="4958" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4960" href="Ledger.Gov.html#4673" class="Function">insertGovAction</a> <a id="4976" href="Ledger.Gov.html#4812" class="Bound">gaPrs</a> <a id="4982" class="Symbol">(</a><a id="4983" href="Ledger.Gov.html#4820" class="Bound">gaID₁</a> <a id="4989" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4991" href="Ledger.Gov.html#4828" class="Bound">gaSt₁</a><a id="4996" class="Symbol">)</a>
     <a id="5003" href="Class.ToBool.html#534" class="Function Operator">else</a> <a id="5008" class="Symbol">(</a><a id="5009" href="Ledger.Gov.html#4820" class="Bound">gaID₁</a> <a id="5015" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5017" href="Ledger.Gov.html#4828" class="Bound">gaSt₁</a><a id="5022" class="Symbol">)</a> <a id="5024" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5026" class="Symbol">(</a><a id="5027" href="Ledger.Gov.html#4795" class="Bound">gaID₀</a> <a id="5033" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5035" href="Ledger.Gov.html#4803" class="Bound">gaSt₀</a><a id="5040" class="Symbol">)</a> <a id="5042" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5044" href="Ledger.Gov.html#4812" class="Bound">gaPrs</a>

<a id="mkGovStatePair"></a><a id="5051" href="Ledger.Gov.html#5051" class="Function">mkGovStatePair</a> <a id="5066" class="Symbol">:</a> <a id="5068" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a> <a id="5074" class="Symbol">→</a> <a id="5076" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="5088" class="Symbol">→</a> <a id="5090" href="Ledger.Address.html#1211" class="Record">RwdAddr</a> <a id="5098" class="Symbol">→</a> <a id="5100" class="Symbol">(</a><a id="5101" href="Ledger.Gov.html#5101" class="Bound">a</a> <a id="5103" class="Symbol">:</a> <a id="5105" href="Ledger.GovernanceActions.html#1372" class="Record">GovAction</a><a id="5114" class="Symbol">)</a> <a id="5116" class="Symbol">→</a> <a id="5118" href="Ledger.GovernanceActions.html#1511" class="Function">NeedsHash</a> <a id="5128" class="Symbol">(</a><a id="5129" href="Ledger.Gov.html#5101" class="Bound">a</a> <a id="5131" class="Symbol">.</a><a id="5132" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a><a id="5138" class="Symbol">)</a>
                 <a id="5157" class="Symbol">→</a> <a id="5159" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="5171" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5173" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a>
<a id="5188" href="Ledger.Gov.html#5051" class="Function">mkGovStatePair</a> <a id="5203" href="Ledger.Gov.html#5203" class="Bound">e</a> <a id="5205" href="Ledger.Gov.html#5205" class="Bound">aid</a> <a id="5209" href="Ledger.Gov.html#5209" class="Bound">addr</a> <a id="5214" href="Ledger.Gov.html#5214" class="Bound">a</a> <a id="5216" href="Ledger.Gov.html#5216" class="Bound">prev</a> <a id="5221" class="Symbol">=</a> <a id="5223" class="Symbol">(</a><a id="5224" href="Ledger.Gov.html#5205" class="Bound">aid</a> <a id="5228" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5230" class="Keyword">record</a>
  <a id="5239" class="Symbol">{</a> <a id="5241" href="Ledger.GovernanceActions.html#2339" class="Field">votes</a> <a id="5247" class="Symbol">=</a> <a id="5249" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="5251" class="Symbol">;</a> <a id="5253" href="Ledger.GovernanceActions.html#2370" class="Field">returnAddr</a> <a id="5264" class="Symbol">=</a> <a id="5266" href="Ledger.Gov.html#5209" class="Bound">addr</a> <a id="5271" class="Symbol">;</a> <a id="5273" href="Ledger.GovernanceActions.html#2396" class="Field">expiresIn</a> <a id="5283" class="Symbol">=</a> <a id="5285" href="Ledger.Gov.html#5203" class="Bound">e</a> <a id="5287" class="Symbol">;</a> <a id="5289" href="Ledger.GovernanceActions.html#2420" class="Field">action</a> <a id="5296" class="Symbol">=</a> <a id="5298" href="Ledger.Gov.html#5214" class="Bound">a</a> <a id="5300" class="Symbol">;</a> <a id="5302" href="Ledger.GovernanceActions.html#2448" class="Field">prevAction</a> <a id="5313" class="Symbol">=</a> <a id="5315" href="Ledger.Gov.html#5216" class="Bound">prev</a> <a id="5320" class="Symbol">})</a>

<a id="addAction"></a><a id="5324" href="Ledger.Gov.html#5324" class="Function">addAction</a> <a id="5334" class="Symbol">:</a> <a id="5336" href="Ledger.Gov.html#1218" class="Function">GovState</a>
          <a id="5355" class="Symbol">→</a> <a id="5357" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a> <a id="5363" class="Symbol">→</a> <a id="5365" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="5377" class="Symbol">→</a> <a id="5379" href="Ledger.Address.html#1211" class="Record">RwdAddr</a> <a id="5387" class="Symbol">→</a> <a id="5389" class="Symbol">(</a><a id="5390" href="Ledger.Gov.html#5390" class="Bound">a</a> <a id="5392" class="Symbol">:</a> <a id="5394" href="Ledger.GovernanceActions.html#1372" class="Record">GovAction</a><a id="5403" class="Symbol">)</a> <a id="5405" class="Symbol">→</a> <a id="5407" href="Ledger.GovernanceActions.html#1511" class="Function">NeedsHash</a> <a id="5417" class="Symbol">(</a><a id="5418" href="Ledger.Gov.html#5390" class="Bound">a</a> <a id="5420" class="Symbol">.</a><a id="5421" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a><a id="5427" class="Symbol">)</a>
          <a id="5439" class="Symbol">→</a> <a id="5441" href="Ledger.Gov.html#1218" class="Function">GovState</a>
<a id="5450" href="Ledger.Gov.html#5324" class="Function">addAction</a> <a id="5460" href="Ledger.Gov.html#5460" class="Bound">s</a> <a id="5462" href="Ledger.Gov.html#5462" class="Bound">e</a> <a id="5464" href="Ledger.Gov.html#5464" class="Bound">aid</a> <a id="5468" href="Ledger.Gov.html#5468" class="Bound">addr</a> <a id="5473" href="Ledger.Gov.html#5473" class="Bound">a</a> <a id="5475" href="Ledger.Gov.html#5475" class="Bound">prev</a> <a id="5480" class="Symbol">=</a> <a id="5482" href="Ledger.Gov.html#4673" class="Function">insertGovAction</a> <a id="5498" href="Ledger.Gov.html#5460" class="Bound">s</a> <a id="5500" class="Symbol">(</a><a id="5501" href="Ledger.Gov.html#5051" class="Function">mkGovStatePair</a> <a id="5516" href="Ledger.Gov.html#5462" class="Bound">e</a> <a id="5518" href="Ledger.Gov.html#5464" class="Bound">aid</a> <a id="5522" href="Ledger.Gov.html#5468" class="Bound">addr</a> <a id="5527" href="Ledger.Gov.html#5473" class="Bound">a</a> <a id="5529" href="Ledger.Gov.html#5475" class="Bound">prev</a><a id="5533" class="Symbol">)</a>


<a id="5537" class="Keyword">opaque</a>


  <a id="addVote"></a><a id="5548" href="Ledger.Gov.html#5548" class="Function">addVote</a> <a id="5556" class="Symbol">:</a> <a id="5558" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="5567" class="Symbol">→</a> <a id="5569" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="5581" class="Symbol">→</a> <a id="5583" href="Ledger.GovernanceActions.html#392" class="Function">Voter</a> <a id="5589" class="Symbol">→</a> <a id="5591" href="Ledger.GovernanceActions.html#1881" class="Datatype">Vote</a> <a id="5596" class="Symbol">→</a> <a id="5598" href="Ledger.Gov.html#1218" class="Function">GovState</a>
  <a id="5609" href="Ledger.Gov.html#5548" class="Function">addVote</a> <a id="5617" href="Ledger.Gov.html#5617" class="Bound">s</a> <a id="5619" href="Ledger.Gov.html#5619" class="Bound">aid</a> <a id="5623" href="Ledger.Gov.html#5623" class="Bound">voter</a> <a id="5629" href="Ledger.Gov.html#5629" class="Bound">v</a> <a id="5631" class="Symbol">=</a> <a id="5633" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="5637" href="Ledger.Gov.html#5661" class="Function">modifyVotes</a> <a id="5649" href="Ledger.Gov.html#5617" class="Bound">s</a>
    <a id="5655" class="Keyword">where</a> <a id="5661" href="Ledger.Gov.html#5661" class="Function">modifyVotes</a> <a id="5673" class="Symbol">:</a> <a id="5675" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="5687" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5689" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="5704" class="Symbol">→</a> <a id="5706" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="5718" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5720" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a>
          <a id="5745" href="Ledger.Gov.html#5661" class="Function">modifyVotes</a> <a id="5757" class="Symbol">=</a> <a id="5759" class="Symbol">λ</a> <a id="5761" class="Symbol">(</a><a id="5762" href="Ledger.Gov.html#5762" class="Bound">gid</a> <a id="5766" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5768" href="Ledger.Gov.html#5768" class="Bound">s&#39;</a><a id="5770" class="Symbol">)</a> <a id="5772" class="Symbol">→</a> <a id="5774" href="Ledger.Gov.html#5762" class="Bound">gid</a> <a id="5778" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5780" class="Keyword">record</a> <a id="5787" href="Ledger.Gov.html#5768" class="Bound">s&#39;</a>
            <a id="5802" class="Symbol">{</a> <a id="5804" href="Ledger.GovernanceActions.html#2339" class="Field">votes</a> <a id="5810" class="Symbol">=</a> <a id="5812" href="Class.ToBool.html#534" class="Function Operator">if</a> <a id="5815" href="Ledger.Gov.html#5762" class="Bound">gid</a> <a id="5819" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5821" href="Ledger.Gov.html#5619" class="Bound">aid</a> <a id="5825" href="Class.ToBool.html#534" class="Function Operator">then</a> <a id="5830" href="Axiom.Set.Map.html#7097" class="Function">insert</a> <a id="5837" class="Symbol">(</a><a id="5838" href="Ledger.GovernanceActions.html#2339" class="Field">votes</a> <a id="5844" href="Ledger.Gov.html#5768" class="Bound">s&#39;</a><a id="5846" class="Symbol">)</a> <a id="5848" href="Ledger.Gov.html#5623" class="Bound">voter</a> <a id="5854" href="Ledger.Gov.html#5629" class="Bound">v</a> <a id="5856" href="Class.ToBool.html#534" class="Function Operator">else</a> <a id="5861" href="Ledger.GovernanceActions.html#2339" class="Field">votes</a> <a id="5867" href="Ledger.Gov.html#5768" class="Bound">s&#39;</a><a id="5869" class="Symbol">}</a>

  <a id="isRegistered"></a><a id="5874" href="Ledger.Gov.html#5874" class="Function">isRegistered</a> <a id="5887" class="Symbol">:</a> <a id="5889" href="Ledger.Gov.html#1291" class="Record">GovEnv</a> <a id="5896" class="Symbol">→</a> <a id="5898" href="Ledger.GovernanceActions.html#392" class="Function">Voter</a> <a id="5904" class="Symbol">→</a> <a id="5906" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5913" href="Ledger.Gov.html#5874" class="Function">isRegistered</a> <a id="5926" href="Ledger.Gov.html#5926" class="Bound">Γ</a> <a id="5928" class="Symbol">(</a><a id="5929" href="Ledger.Gov.html#5929" class="Bound">r</a> <a id="5931" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5933" href="Ledger.Gov.html#5933" class="Bound">c</a><a id="5934" class="Symbol">)</a> <a id="5936" class="Symbol">=</a> <a id="5938" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5943" href="Ledger.Gov.html#5929" class="Bound">r</a> <a id="5945" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5948" class="Symbol">λ</a> <a id="5950" class="Keyword">where</a>
    <a id="5960" href="Ledger.GovernanceActions.html#369" class="InductiveConstructor">CC</a>    <a id="5966" class="Symbol">→</a> <a id="5968" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5973" href="Ledger.Gov.html#5933" class="Bound">c</a> <a id="5975" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5977" href="Class.IsSet.html#959" class="Function">range</a> <a id="5983" class="Symbol">(</a><a id="5984" href="Ledger.Certs.html#2928" class="Function">gState</a> <a id="5991" class="Symbol">.</a><a id="5992" href="Ledger.Certs.html#2774" class="Field">ccHotKeys</a><a id="6001" class="Symbol">)</a>
    <a id="6007" href="Ledger.GovernanceActions.html#372" class="InductiveConstructor">DRep</a>  <a id="6013" class="Symbol">→</a> <a id="6015" href="Ledger.Gov.html#5933" class="Bound">c</a> <a id="6017" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6019" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6023" class="Symbol">(</a><a id="6024" href="Ledger.Certs.html#2928" class="Function">gState</a> <a id="6031" class="Symbol">.</a><a id="6032" href="Ledger.Certs.html#2738" class="Field">dreps</a><a id="6037" class="Symbol">)</a>
    <a id="6043" href="Ledger.GovernanceActions.html#377" class="InductiveConstructor">SPO</a>   <a id="6049" class="Symbol">→</a> <a id="6051" href="Ledger.Gov.html#5933" class="Bound">c</a> <a id="6053" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6055" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="6060" href="Ledger.Address.html#299" class="InductiveConstructor">KeyHashObj</a> <a id="6071" class="Symbol">(</a><a id="6072" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6076" class="Symbol">(</a><a id="6077" href="Ledger.Certs.html#2908" class="Function">pState</a> <a id="6084" class="Symbol">.</a><a id="6085" href="Ledger.Certs.html#2606" class="Field">pools</a><a id="6090" class="Symbol">))</a>
      <a id="6099" class="Keyword">where</a>
        <a id="6113" class="Keyword">open</a> <a id="6118" href="Ledger.Certs.html#2825" class="Module">CertState</a> <a id="6128" class="Symbol">(</a><a id="6129" href="Ledger.Gov.html#1460" class="Field">GovEnv.certState</a> <a id="6146" href="Ledger.Gov.html#5926" class="Bound">Γ</a><a id="6147" class="Symbol">)</a> <a id="6149" class="Keyword">using</a> <a id="6155" class="Symbol">(</a><a id="6156" href="Ledger.Certs.html#2928" class="Field">gState</a><a id="6162" class="Symbol">;</a> <a id="6164" href="Ledger.Certs.html#2908" class="Field">pState</a><a id="6170" class="Symbol">)</a>

  <a id="validHFAction"></a><a id="6175" href="Ledger.Gov.html#6175" class="Function">validHFAction</a> <a id="6189" class="Symbol">:</a> <a id="6191" href="Ledger.GovernanceActions.html#2077" class="Record">GovProposal</a> <a id="6203" class="Symbol">→</a> <a id="6205" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="6214" class="Symbol">→</a> <a id="6216" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="6227" class="Symbol">→</a> <a id="6229" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="6236" href="Ledger.Gov.html#6175" class="Function">validHFAction</a> <a id="6250" class="Symbol">(</a><a id="6251" class="Keyword">record</a> <a id="6258" class="Symbol">{</a> <a id="6260" href="Ledger.GovernanceActions.html#2114" class="Field">action</a> <a id="6267" class="Symbol">=</a> <a id="6269" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="6271" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="6281" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="6283" href="Ledger.Gov.html#6283" class="Bound">v</a> <a id="6285" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="6289" class="Symbol">;</a> <a id="6291" href="Ledger.GovernanceActions.html#2142" class="Field">prevAction</a> <a id="6302" class="Symbol">=</a> <a id="6304" href="Ledger.Gov.html#6304" class="Bound">prev</a> <a id="6309" class="Symbol">})</a> <a id="6312" href="Ledger.Gov.html#6312" class="Bound">s</a> <a id="6314" href="Ledger.Gov.html#6314" class="Bound">e</a> <a id="6316" class="Symbol">=</a>
    <a id="6322" class="Symbol">(</a><a id="6323" class="Keyword">let</a> <a id="6327" class="Symbol">(</a><a id="6328" href="Ledger.Gov.html#6328" class="Bound">v&#39;</a> <a id="6331" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6333" href="Ledger.Gov.html#6333" class="Bound">aid</a><a id="6336" class="Symbol">)</a> <a id="6338" class="Symbol">=</a> <a id="6340" href="Ledger.Enact.html#565" class="Field">EnactState.pv</a> <a id="6354" href="Ledger.Gov.html#6314" class="Bound">e</a> <a id="6356" class="Keyword">in</a> <a id="6359" href="Ledger.Gov.html#6333" class="Bound">aid</a> <a id="6363" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6365" href="Ledger.Gov.html#6304" class="Bound">prev</a> <a id="6370" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6372" href="Ledger.PParams.html#802" class="Datatype">pvCanFollow</a> <a id="6384" href="Ledger.Gov.html#6328" class="Bound">v&#39;</a> <a id="6387" href="Ledger.Gov.html#6283" class="Bound">v</a><a id="6388" class="Symbol">)</a>
    <a id="6394" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="6396" href="Prelude.html#2323" class="Function">∃₂[</a> <a id="6400" href="Ledger.Gov.html#6400" class="Bound">x</a> <a id="6402" href="Prelude.html#2323" class="Function">,</a> <a id="6404" href="Ledger.Gov.html#6404" class="Bound">v&#39;</a> <a id="6407" href="Prelude.html#2323" class="Function">]</a> <a id="6409" class="Symbol">(</a><a id="6410" href="Ledger.Gov.html#6304" class="Bound">prev</a> <a id="6415" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6417" href="Ledger.Gov.html#6400" class="Bound">x</a><a id="6418" class="Symbol">)</a> <a id="6420" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6422" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="6431" href="Ledger.Gov.html#6312" class="Bound">s</a> <a id="6433" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6435" href="Ledger.Gov.html#6400" class="Bound">x</a> <a id="6437" class="Symbol">.</a><a id="6438" href="Ledger.GovernanceActions.html#2420" class="Field">action</a> <a id="6445" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6447" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="6449" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a> <a id="6459" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="6461" href="Ledger.Gov.html#6404" class="Bound">v&#39;</a> <a id="6464" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="6468" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6470" href="Ledger.PParams.html#802" class="Datatype">pvCanFollow</a> <a id="6482" href="Ledger.Gov.html#6404" class="Bound">v&#39;</a> <a id="6485" href="Ledger.Gov.html#6283" class="Bound">v</a>
  <a id="6489" href="Ledger.Gov.html#6175" class="CatchallClause Function">validHFAction</a><a id="6502" class="CatchallClause"> </a><a id="6503" class="CatchallClause Symbol">_</a><a id="6504" class="CatchallClause"> </a><a id="6505" class="CatchallClause Symbol">_</a><a id="6506" class="CatchallClause"> </a><a id="6507" class="CatchallClause Symbol">_</a> <a id="6509" class="Symbol">=</a> <a id="6511" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>


<a id="6515" class="Keyword">data</a>


  <a id="_⊢_⇀⦇_,GOV⦈_"></a><a id="6524" href="Ledger.Gov.html#6524" class="Datatype Operator">_⊢_⇀⦇_,GOV⦈_</a>  <a id="6538" class="Symbol">:</a> <a id="6540" href="Ledger.Gov.html#1291" class="Record">GovEnv</a> <a id="6547" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6549" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6551" class="Symbol">→</a> <a id="6553" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="6562" class="Symbol">→</a> <a id="6564" href="Ledger.GovernanceActions.html#1932" class="Record">GovVote</a> <a id="6572" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="6574" href="Ledger.GovernanceActions.html#2077" class="Record">GovProposal</a> <a id="6586" class="Symbol">→</a> <a id="6588" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="6597" class="Symbol">→</a> <a id="6599" href="Agda.Primitive.html#388" class="Primitive">Type</a>


<a id="_⊢_⇀⦇_,GOVS⦈_"></a><a id="6606" href="Ledger.Gov.html#6606" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a>   <a id="6622" class="Symbol">:</a> <a id="6624" href="Ledger.Gov.html#1291" class="Record">GovEnv</a> <a id="6631" class="Symbol">→</a> <a id="6633" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="6642" class="Symbol">→</a> <a id="6644" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6649" class="Symbol">(</a><a id="6650" href="Ledger.GovernanceActions.html#1932" class="Record">GovVote</a> <a id="6658" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="6660" href="Ledger.GovernanceActions.html#2077" class="Record">GovProposal</a><a id="6671" class="Symbol">)</a> <a id="6673" class="Symbol">→</a> <a id="6675" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="6684" class="Symbol">→</a> <a id="6686" href="Agda.Primitive.html#388" class="Primitive">Type</a>


<a id="6693" class="Comment">-- Convert list of (GovActionID,GovActionState)-pairs to list of GovActionID pairs.</a>
<a id="getAidPairsList"></a><a id="6777" href="Ledger.Gov.html#6777" class="Function">getAidPairsList</a> <a id="6793" class="Symbol">:</a> <a id="6795" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="6804" class="Symbol">→</a> <a id="6806" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6811" class="Symbol">(</a><a id="6812" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="6824" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6826" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a><a id="6837" class="Symbol">)</a>
<a id="6839" href="Ledger.Gov.html#6777" class="Function">getAidPairsList</a> <a id="6855" href="Ledger.Gov.html#6855" class="Bound">aid×states</a> <a id="6866" class="Symbol">=</a>
  <a id="6870" href="Data.List.Base.html#4628" class="Function">mapMaybe</a> <a id="6879" class="Symbol">(λ</a> <a id="6882" class="Symbol">(</a><a id="6883" href="Ledger.Gov.html#6883" class="Bound">aid</a> <a id="6887" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6889" href="Ledger.Gov.html#6889" class="Bound">aState</a><a id="6895" class="Symbol">)</a> <a id="6897" class="Symbol">→</a> <a id="6899" class="Symbol">(</a><a id="6900" href="Ledger.Gov.html#6883" class="Bound">aid</a> <a id="6904" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="6906" class="Symbol">)</a> <a id="6908" href="Class.Functor.Core.html#233" class="Field Operator">&lt;$&gt;</a> <a id="6912" href="Ledger.Enact.html#932" class="Function">getHash</a> <a id="6920" class="Symbol">(</a><a id="6921" href="Ledger.GovernanceActions.html#2448" class="Field">prevAction</a> <a id="6932" href="Ledger.Gov.html#6889" class="Bound">aState</a><a id="6938" class="Symbol">))</a> <a id="6941" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6943" href="Ledger.Gov.html#6855" class="Bound">aid×states</a>

<a id="6955" class="Comment">-- A list of GovActionID pairs connects the first GovActionID to the second.</a>
<a id="_connects_to_"></a><a id="7032" href="Ledger.Gov.html#7032" class="Function Operator">_connects_to_</a> <a id="7046" class="Symbol">:</a> <a id="7048" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7053" class="Symbol">(</a><a id="7054" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="7066" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7068" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a><a id="7079" class="Symbol">)</a> <a id="7081" class="Symbol">→</a> <a id="7083" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="7095" class="Symbol">→</a> <a id="7097" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="7109" class="Symbol">→</a> <a id="7111" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="7116" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="7119" href="Ledger.Gov.html#7032" class="Function Operator">connects</a> <a id="7128" href="Ledger.Gov.html#7128" class="Bound">aidNew</a> <a id="7135" href="Ledger.Gov.html#7032" class="Function Operator">to</a> <a id="7138" href="Ledger.Gov.html#7138" class="Bound">aidOld</a> <a id="7145" class="Symbol">=</a> <a id="7147" href="Ledger.Gov.html#7128" class="Bound">aidNew</a> <a id="7154" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7156" href="Ledger.Gov.html#7138" class="Bound">aidOld</a>
<a id="7163" class="Symbol">((</a><a id="7165" href="Ledger.Gov.html#7165" class="Bound">aid</a> <a id="7169" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7171" href="Ledger.Gov.html#7171" class="Bound">aidPrev</a><a id="7178" class="Symbol">)</a> <a id="7180" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7182" href="Ledger.Gov.html#7182" class="Bound">s</a><a id="7183" class="Symbol">)</a> <a id="7185" href="Ledger.Gov.html#7032" class="Function Operator">connects</a> <a id="7194" href="Ledger.Gov.html#7194" class="Bound">aidNew</a> <a id="7201" href="Ledger.Gov.html#7032" class="Function Operator">to</a> <a id="7204" href="Ledger.Gov.html#7204" class="Bound">aidOld</a>  <a id="7212" class="Symbol">=</a>
  <a id="7216" href="Ledger.Gov.html#7165" class="Bound">aid</a> <a id="7220" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7222" href="Ledger.Gov.html#7194" class="Bound">aidNew</a> <a id="7229" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7231" href="Ledger.Gov.html#7182" class="Bound">s</a> <a id="7233" href="Ledger.Gov.html#7032" class="Function Operator">connects</a> <a id="7242" href="Ledger.Gov.html#7171" class="Bound">aidPrev</a> <a id="7250" href="Ledger.Gov.html#7032" class="Function Operator">to</a> <a id="7253" href="Ledger.Gov.html#7204" class="Bound">aidOld</a> <a id="7260" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="7262" href="Ledger.Gov.html#7182" class="Bound">s</a> <a id="7264" href="Ledger.Gov.html#7032" class="Function Operator">connects</a> <a id="7273" href="Ledger.Gov.html#7194" class="Bound">aidNew</a> <a id="7280" href="Ledger.Gov.html#7032" class="Function Operator">to</a> <a id="7283" href="Ledger.Gov.html#7204" class="Bound">aidOld</a>


<a id="enactable"></a><a id="7292" href="Ledger.Gov.html#7292" class="Function">enactable</a>  <a id="7303" class="Symbol">:</a> <a id="7305" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="7316" class="Symbol">→</a> <a id="7318" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7323" class="Symbol">(</a><a id="7324" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="7336" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7338" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a><a id="7349" class="Symbol">)</a>
           <a id="7362" class="Symbol">→</a> <a id="7364" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="7376" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7378" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="7393" class="Symbol">→</a> <a id="7395" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="7400" href="Ledger.Gov.html#7292" class="Function">enactable</a> <a id="7410" href="Ledger.Gov.html#7410" class="Bound">e</a> <a id="7412" href="Ledger.Gov.html#7412" class="Bound">aidPairs</a> <a id="7421" class="Symbol">=</a> <a id="7423" class="Symbol">λ</a> <a id="7425" class="Symbol">(</a><a id="7426" href="Ledger.Gov.html#7426" class="Bound">aidNew</a> <a id="7433" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7435" href="Ledger.Gov.html#7435" class="Bound">as</a><a id="7437" class="Symbol">)</a> <a id="7439" class="Symbol">→</a> <a id="7441" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7446" href="Ledger.Enact.html#1251" class="Function">getHashES</a> <a id="7456" href="Ledger.Gov.html#7410" class="Bound">e</a> <a id="7458" class="Symbol">(</a><a id="7459" href="Ledger.GovernanceActions.html#2420" class="Field">action</a> <a id="7466" href="Ledger.Gov.html#7435" class="Bound">as</a> <a id="7469" class="Symbol">.</a><a id="7470" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a><a id="7476" class="Symbol">)</a> <a id="7478" href="Function.Base.html#4042" class="Function Operator">of</a>


  <a id="7485" class="Symbol">λ</a> <a id="7487" class="Keyword">where</a>


   <a id="7498" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>        <a id="7513" class="Symbol">→</a> <a id="7515" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
   <a id="7520" class="Symbol">(</a><a id="7521" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7526" href="Ledger.Gov.html#7526" class="Bound">aidOld</a><a id="7532" class="Symbol">)</a>  <a id="7535" class="Symbol">→</a> <a id="7537" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="7540" href="Ledger.Gov.html#7540" class="Bound">t</a> <a id="7542" href="Data.Product.Base.html#1371" class="Function">]</a>  <a id="7545" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="7554" href="Ledger.Gov.html#7540" class="Bound">t</a> <a id="7556" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="7558" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="7567" href="Ledger.Gov.html#7412" class="Bound">aidPairs</a>
                            <a id="7604" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7606" href="Data.List.Relation.Unary.Unique.Setoid.html#785" class="Datatype">Unique</a> <a id="7613" href="Ledger.Gov.html#7540" class="Bound">t</a> <a id="7615" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7617" href="Ledger.Gov.html#7540" class="Bound">t</a> <a id="7619" href="Ledger.Gov.html#7032" class="Function Operator">connects</a> <a id="7628" href="Ledger.Gov.html#7426" class="Bound">aidNew</a> <a id="7635" href="Ledger.Gov.html#7032" class="Function Operator">to</a> <a id="7638" href="Ledger.Gov.html#7526" class="Bound">aidOld</a>

<a id="allEnactable"></a><a id="7646" href="Ledger.Gov.html#7646" class="Function">allEnactable</a> <a id="7659" class="Symbol">:</a> <a id="7661" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="7672" class="Symbol">→</a> <a id="7674" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="7683" class="Symbol">→</a> <a id="7685" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="7690" href="Ledger.Gov.html#7646" class="Function">allEnactable</a> <a id="7703" href="Ledger.Gov.html#7703" class="Bound">e</a> <a id="7705" href="Ledger.Gov.html#7705" class="Bound">aid×states</a> <a id="7716" class="Symbol">=</a> <a id="7718" href="Data.List.Relation.Unary.All.html#1639" class="Datatype">All</a> <a id="7722" class="Symbol">(</a><a id="7723" href="Ledger.Gov.html#7292" class="Function">enactable</a> <a id="7733" href="Ledger.Gov.html#7703" class="Bound">e</a> <a id="7735" class="Symbol">(</a><a id="7736" href="Ledger.Gov.html#6777" class="Function">getAidPairsList</a> <a id="7752" href="Ledger.Gov.html#7705" class="Bound">aid×states</a><a id="7762" class="Symbol">))</a> <a id="7765" href="Ledger.Gov.html#7705" class="Bound">aid×states</a>

<a id="hasParentE"></a><a id="7777" href="Ledger.Gov.html#7777" class="Function">hasParentE</a> <a id="7788" class="Symbol">:</a> <a id="7790" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="7801" class="Symbol">→</a> <a id="7803" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="7815" class="Symbol">→</a> <a id="7817" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a> <a id="7831" class="Symbol">→</a> <a id="7833" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="7838" href="Ledger.Gov.html#7777" class="Function">hasParentE</a> <a id="7849" href="Ledger.Gov.html#7849" class="Bound">e</a> <a id="7851" href="Ledger.Gov.html#7851" class="Bound">aid</a> <a id="7855" href="Ledger.Gov.html#7855" class="Bound">gaTy</a> <a id="7860" class="Symbol">=</a> <a id="7862" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7867" href="Ledger.Enact.html#1251" class="Function">getHashES</a> <a id="7877" href="Ledger.Gov.html#7849" class="Bound">e</a> <a id="7879" href="Ledger.Gov.html#7855" class="Bound">gaTy</a> <a id="7884" href="Function.Base.html#4042" class="Function Operator">of</a>


  <a id="7891" class="Symbol">λ</a> <a id="7893" class="Keyword">where</a>


   <a id="7904" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>    <a id="7915" class="Symbol">→</a> <a id="7917" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
   <a id="7922" class="Symbol">(</a><a id="7923" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7928" href="Ledger.Gov.html#7928" class="Bound">id</a><a id="7930" class="Symbol">)</a>  <a id="7933" class="Symbol">→</a> <a id="7935" href="Ledger.Gov.html#7928" class="Bound">id</a> <a id="7938" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7940" href="Ledger.Gov.html#7851" class="Bound">aid</a>

<a id="hasParent"></a><a id="7945" href="Ledger.Gov.html#7945" class="Function">hasParent</a> <a id="7955" class="Symbol">:</a> <a id="7957" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="7968" class="Symbol">→</a> <a id="7970" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="7979" class="Symbol">→</a> <a id="7981" class="Symbol">(</a><a id="7982" href="Ledger.Gov.html#7982" class="Bound">gaTy</a> <a id="7987" class="Symbol">:</a> <a id="7989" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a><a id="8002" class="Symbol">)</a> <a id="8004" class="Symbol">→</a> <a id="8006" href="Ledger.GovernanceActions.html#1511" class="Function">NeedsHash</a> <a id="8016" href="Ledger.Gov.html#7982" class="Bound">gaTy</a> <a id="8021" class="Symbol">→</a> <a id="8023" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8028" href="Ledger.Gov.html#7945" class="Function">hasParent</a> <a id="8038" href="Ledger.Gov.html#8038" class="Bound">e</a> <a id="8040" href="Ledger.Gov.html#8040" class="Bound">s</a> <a id="8042" href="Ledger.Gov.html#8042" class="Bound">gaTy</a> <a id="8047" href="Ledger.Gov.html#8047" class="Bound">aid</a> <a id="8051" class="Symbol">=</a> <a id="8053" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="8058" href="Ledger.Enact.html#932" class="Function">getHash</a> <a id="8066" href="Ledger.Gov.html#8047" class="Bound">aid</a> <a id="8070" href="Function.Base.html#4042" class="Function Operator">of</a>


  <a id="8077" class="Symbol">λ</a> <a id="8079" class="Keyword">where</a>


    <a id="8091" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>      <a id="8104" class="Symbol">→</a> <a id="8106" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="8112" class="Symbol">(</a><a id="8113" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8118" href="Ledger.Gov.html#8118" class="Bound">aid&#39;</a><a id="8122" class="Symbol">)</a>  <a id="8125" class="Symbol">→</a> <a id="8127" href="Ledger.Gov.html#7777" class="Function">hasParentE</a> <a id="8138" href="Ledger.Gov.html#8038" class="Bound">e</a> <a id="8140" href="Ledger.Gov.html#8118" class="Bound">aid&#39;</a> <a id="8145" href="Ledger.Gov.html#8042" class="Bound">gaTy</a>
                   <a id="8169" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="8171" href="Data.List.Relation.Unary.Any.html#1148" class="Datatype">Any</a> <a id="8175" class="Symbol">(λ</a> <a id="8178" class="Symbol">(</a><a id="8179" href="Ledger.Gov.html#8179" class="Bound">gid</a> <a id="8183" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8185" href="Ledger.Gov.html#8185" class="Bound">gas</a><a id="8188" class="Symbol">)</a> <a id="8190" class="Symbol">→</a> <a id="8192" href="Ledger.Gov.html#8179" class="Bound">gid</a> <a id="8196" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8198" href="Ledger.Gov.html#8118" class="Bound">aid&#39;</a> <a id="8203" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8205" href="Ledger.Gov.html#2154" class="Function">Overlap</a> <a id="8213" class="Symbol">(</a><a id="8214" href="Ledger.Gov.html#8185" class="Bound">gas</a> <a id="8218" class="Symbol">.</a><a id="8219" href="Ledger.GovernanceActions.html#2420" class="Field">action</a> <a id="8226" class="Symbol">.</a><a id="8227" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a><a id="8233" class="Symbol">)</a> <a id="8235" href="Ledger.Gov.html#8042" class="Bound">gaTy</a><a id="8239" class="Symbol">)</a> <a id="8241" href="Ledger.Gov.html#8040" class="Bound">s</a>


<a id="8245" class="Keyword">open</a> <a id="8250" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="hasParentE?"></a><a id="8263" href="Ledger.Gov.html#8263" class="Function">hasParentE?</a> <a id="8275" class="Symbol">:</a> <a id="8277" class="Symbol">∀</a> <a id="8279" href="Ledger.Gov.html#8279" class="Bound">e</a> <a id="8281" href="Ledger.Gov.html#8281" class="Bound">aid</a> <a id="8285" href="Ledger.Gov.html#8285" class="Bound">a</a> <a id="8287" class="Symbol">→</a> <a id="8289" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="8293" class="Symbol">(</a><a id="8294" href="Ledger.Gov.html#7777" class="Function">hasParentE</a> <a id="8305" href="Ledger.Gov.html#8279" class="Bound">e</a> <a id="8307" href="Ledger.Gov.html#8281" class="Bound">aid</a> <a id="8311" href="Ledger.Gov.html#8285" class="Bound">a</a><a id="8312" class="Symbol">)</a>
<a id="8314" href="Ledger.Gov.html#8263" class="Function">hasParentE?</a> <a id="8326" href="Ledger.Gov.html#8326" class="Bound">e</a> <a id="8328" href="Ledger.Gov.html#8328" class="Bound">aid</a> <a id="8332" href="Ledger.Gov.html#8332" class="Bound">gaTy</a> <a id="8337" class="Keyword">with</a> <a id="8342" href="Ledger.Enact.html#1251" class="Function">getHashES</a> <a id="8352" href="Ledger.Gov.html#8326" class="Bound">e</a> <a id="8354" href="Ledger.Gov.html#8332" class="Bound">gaTy</a>
<a id="8359" class="Symbol">...</a> <a id="8363" class="Symbol">|</a> <a id="8365" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>   <a id="8375" class="Symbol">=</a> <a id="8377" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="8381" class="Symbol">_</a>
<a id="8383" class="Symbol">...</a> <a id="8387" class="Symbol">|</a> <a id="8389" class="Symbol">(</a><a id="8390" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8395" href="Ledger.Gov.html#8395" class="Bound">id</a><a id="8397" class="Symbol">)</a> <a id="8399" class="Symbol">=</a> <a id="8401" href="Ledger.Gov.html#8395" class="Bound">id</a> <a id="8404" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="8406" class="Bound">aid</a>

<a id="hasParent?"></a><a id="8411" href="Ledger.Gov.html#8411" class="Function">hasParent?</a> <a id="8422" class="Symbol">:</a> <a id="8424" class="Symbol">∀</a> <a id="8426" href="Ledger.Gov.html#8426" class="Bound">e</a> <a id="8428" href="Ledger.Gov.html#8428" class="Bound">s</a> <a id="8430" href="Ledger.Gov.html#8430" class="Bound">a</a> <a id="8432" href="Ledger.Gov.html#8432" class="Bound">aid</a> <a id="8436" class="Symbol">→</a> <a id="8438" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="8442" class="Symbol">(</a><a id="8443" href="Ledger.Gov.html#7945" class="Function">hasParent</a> <a id="8453" href="Ledger.Gov.html#8426" class="Bound">e</a> <a id="8455" href="Ledger.Gov.html#8428" class="Bound">s</a> <a id="8457" href="Ledger.Gov.html#8430" class="Bound">a</a> <a id="8459" href="Ledger.Gov.html#8432" class="Bound">aid</a><a id="8462" class="Symbol">)</a>
<a id="8464" href="Ledger.Gov.html#8411" class="Function">hasParent?</a> <a id="8475" href="Ledger.Gov.html#8475" class="Bound">e</a> <a id="8477" href="Ledger.Gov.html#8477" class="Bound">s</a> <a id="8479" href="Ledger.Gov.html#8479" class="Bound">gaTy</a> <a id="8484" href="Ledger.Gov.html#8484" class="Bound">aid</a> <a id="8488" class="Keyword">with</a> <a id="8493" href="Ledger.Enact.html#932" class="Function">getHash</a> <a id="8501" href="Ledger.Gov.html#8484" class="Bound">aid</a>
<a id="8505" class="Symbol">...</a> <a id="8509" class="Symbol">|</a> <a id="8511" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8516" href="Ledger.Gov.html#8516" class="Bound">aid&#39;</a> <a id="8521" class="Symbol">=</a> <a id="8523" href="Ledger.Gov.html#8263" class="Function">hasParentE?</a> <a id="8535" class="Bound">e</a> <a id="8537" href="Ledger.Gov.html#8516" class="Bound">aid&#39;</a> <a id="8542" class="Bound">gaTy</a>
                  <a id="8565" href="Relation.Nullary.Decidable.Core.html#3233" class="Function Operator">⊎-dec</a> <a id="8571" href="Data.List.Relation.Unary.Any.html#2684" class="Function">any?</a> <a id="8576" class="Symbol">(λ</a> <a id="8579" class="Symbol">(</a><a id="8580" href="Ledger.Gov.html#8580" class="Bound">gid</a> <a id="8584" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8586" href="Ledger.Gov.html#8586" class="Bound">gas</a><a id="8589" class="Symbol">)</a> <a id="8591" class="Symbol">→</a> <a id="8593" href="Ledger.Gov.html#8580" class="Bound">gid</a> <a id="8597" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="8599" href="Ledger.Gov.html#8516" class="Bound">aid&#39;</a> <a id="8604" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="8610" href="Ledger.Gov.html#2365" class="Function">Overlap?</a> <a id="8619" class="Symbol">(</a><a id="8620" href="Ledger.Gov.html#8586" class="Bound">gas</a> <a id="8624" class="Symbol">.</a><a id="8625" href="Ledger.GovernanceActions.html#2420" class="Field">action</a> <a id="8632" class="Symbol">.</a><a id="8633" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a><a id="8639" class="Symbol">)</a> <a id="8641" class="Bound">gaTy</a><a id="8645" class="Symbol">)</a> <a id="8647" class="Bound">s</a>
<a id="8649" class="Symbol">...</a> <a id="8653" class="Symbol">|</a> <a id="8655" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="8663" class="Symbol">=</a> <a id="8665" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="8669" class="Symbol">_</a>

<a id="8672" class="Comment">-- newtype to make the instance resolution work</a>
<a id="8720" class="Keyword">data</a> <a id="hasParent&#39;"></a><a id="8725" href="Ledger.Gov.html#8725" class="Datatype">hasParent&#39;</a> <a id="8736" class="Symbol">:</a> <a id="8738" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="8749" class="Symbol">→</a> <a id="8751" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="8760" class="Symbol">→</a> <a id="8762" class="Symbol">(</a><a id="8763" href="Ledger.Gov.html#8763" class="Bound">gaTy</a> <a id="8768" class="Symbol">:</a> <a id="8770" href="Ledger.GovernanceActions.html#715" class="Datatype">GovActionType</a><a id="8783" class="Symbol">)</a> <a id="8785" class="Symbol">→</a> <a id="8787" href="Ledger.GovernanceActions.html#1511" class="Function">NeedsHash</a> <a id="8797" href="Ledger.Gov.html#8763" class="Bound">gaTy</a> <a id="8802" class="Symbol">→</a> <a id="8804" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8809" class="Keyword">where</a>
  <a id="hasParent&#39;.HasParent&#39;"></a><a id="8817" href="Ledger.Gov.html#8817" class="InductiveConstructor">HasParent&#39;</a> <a id="8828" class="Symbol">:</a> <a id="8830" class="Symbol">∀</a> <a id="8832" class="Symbol">{</a><a id="8833" href="Ledger.Gov.html#8833" class="Bound">x</a> <a id="8835" href="Ledger.Gov.html#8835" class="Bound">y</a> <a id="8837" href="Ledger.Gov.html#8837" class="Bound">z</a> <a id="8839" href="Ledger.Gov.html#8839" class="Bound">w</a><a id="8840" class="Symbol">}</a> <a id="8842" class="Symbol">→</a> <a id="8844" href="Ledger.Gov.html#7945" class="Function">hasParent</a> <a id="8854" href="Ledger.Gov.html#8833" class="Bound">x</a> <a id="8856" href="Ledger.Gov.html#8835" class="Bound">y</a> <a id="8858" href="Ledger.Gov.html#8837" class="Bound">z</a> <a id="8860" href="Ledger.Gov.html#8839" class="Bound">w</a> <a id="8862" class="Symbol">→</a> <a id="8864" href="Ledger.Gov.html#8725" class="Datatype">hasParent&#39;</a> <a id="8875" href="Ledger.Gov.html#8833" class="Bound">x</a> <a id="8877" href="Ledger.Gov.html#8835" class="Bound">y</a> <a id="8879" href="Ledger.Gov.html#8837" class="Bound">z</a> <a id="8881" href="Ledger.Gov.html#8839" class="Bound">w</a>

<a id="8884" class="Keyword">instance</a>
  <a id="hasParent?&#39;"></a><a id="8895" href="Ledger.Gov.html#8895" class="Function">hasParent?&#39;</a> <a id="8907" class="Symbol">:</a> <a id="8909" class="Symbol">∀</a> <a id="8911" class="Symbol">{</a><a id="8912" href="Ledger.Gov.html#8912" class="Bound">x</a> <a id="8914" href="Ledger.Gov.html#8914" class="Bound">y</a> <a id="8916" href="Ledger.Gov.html#8916" class="Bound">z</a> <a id="8918" href="Ledger.Gov.html#8918" class="Bound">w</a><a id="8919" class="Symbol">}</a> <a id="8921" class="Symbol">→</a> <a id="8923" href="Ledger.Gov.html#8725" class="Datatype">hasParent&#39;</a> <a id="8934" href="Ledger.Gov.html#8912" class="Bound">x</a> <a id="8936" href="Ledger.Gov.html#8914" class="Bound">y</a> <a id="8938" href="Ledger.Gov.html#8916" class="Bound">z</a> <a id="8940" href="Ledger.Gov.html#8918" class="Bound">w</a> <a id="8942" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
  <a id="8946" href="Ledger.Gov.html#8895" class="Function">hasParent?&#39;</a> <a id="8958" class="Symbol">=</a> <a id="8960" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="8962" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">map′</a> <a id="8967" href="Ledger.Gov.html#8817" class="InductiveConstructor">HasParent&#39;</a> <a id="8978" class="Symbol">(λ</a> <a id="8981" class="Keyword">where</a> <a id="8987" class="Symbol">(</a><a id="8988" href="Ledger.Gov.html#8817" class="InductiveConstructor">HasParent&#39;</a> <a id="8999" href="Ledger.Gov.html#8999" class="Bound">x</a><a id="9000" class="Symbol">)</a> <a id="9002" class="Symbol">→</a> <a id="9004" href="Ledger.Gov.html#8999" class="Bound">x</a><a id="9005" class="Symbol">)</a> <a id="9007" class="Symbol">(</a><a id="9008" href="Ledger.Gov.html#8411" class="Function">hasParent?</a> <a id="9019" class="Symbol">_</a> <a id="9021" class="Symbol">_</a> <a id="9023" class="Symbol">_</a> <a id="9025" class="Symbol">_)</a>

<a id="[_connects_to_?]"></a><a id="9029" href="Ledger.Gov.html#9029" class="Function Operator">[_connects_to_?]</a> <a id="9046" class="Symbol">:</a> <a id="9048" class="Symbol">∀</a> <a id="9050" href="Ledger.Gov.html#9050" class="Bound">l</a> <a id="9052" href="Ledger.Gov.html#9052" class="Bound">aidNew</a> <a id="9059" href="Ledger.Gov.html#9059" class="Bound">aidOld</a> <a id="9066" class="Symbol">→</a> <a id="9068" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="9072" class="Symbol">(</a><a id="9073" href="Ledger.Gov.html#9050" class="Bound">l</a> <a id="9075" href="Ledger.Gov.html#7032" class="Function Operator">connects</a> <a id="9084" href="Ledger.Gov.html#9052" class="Bound">aidNew</a> <a id="9091" href="Ledger.Gov.html#7032" class="Function Operator">to</a> <a id="9094" href="Ledger.Gov.html#9059" class="Bound">aidOld</a><a id="9100" class="Symbol">)</a>
<a id="9102" href="Ledger.Gov.html#9029" class="Function Operator">[</a> <a id="9104" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="9107" href="Ledger.Gov.html#9029" class="Function Operator">connects</a> <a id="9116" href="Ledger.Gov.html#9116" class="Bound">aidNew</a> <a id="9123" href="Ledger.Gov.html#9029" class="Function Operator">to</a> <a id="9126" href="Ledger.Gov.html#9126" class="Bound">aidOld</a> <a id="9133" href="Ledger.Gov.html#9029" class="Function Operator">?]</a> <a id="9136" class="Symbol">=</a> <a id="9138" href="Ledger.Gov.html#9116" class="Bound">aidNew</a> <a id="9145" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="9147" href="Ledger.Gov.html#9126" class="Bound">aidOld</a>

<a id="9155" href="Ledger.Gov.html#9029" class="Function Operator">[</a> <a id="9157" class="Symbol">(</a><a id="9158" href="Ledger.Gov.html#9158" class="Bound">aid</a> <a id="9162" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9164" href="Ledger.Gov.html#9164" class="Bound">aidPrev</a><a id="9171" class="Symbol">)</a> <a id="9173" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9175" href="Ledger.Gov.html#9175" class="Bound">s</a> <a id="9177" href="Ledger.Gov.html#9029" class="Function Operator">connects</a> <a id="9186" href="Ledger.Gov.html#9186" class="Bound">aidNew</a> <a id="9193" href="Ledger.Gov.html#9029" class="Function Operator">to</a> <a id="9196" href="Ledger.Gov.html#9196" class="Bound">aidOld</a> <a id="9203" href="Ledger.Gov.html#9029" class="Function Operator">?]</a> <a id="9206" class="Symbol">=</a>
  <a id="9210" class="Symbol">((</a><a id="9212" href="Ledger.Gov.html#9158" class="Bound">aid</a> <a id="9216" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="9218" href="Ledger.Gov.html#9186" class="Bound">aidNew</a><a id="9224" class="Symbol">)</a> <a id="9226" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="9232" href="Ledger.Gov.html#9029" class="Function Operator">[</a> <a id="9234" href="Ledger.Gov.html#9175" class="Bound">s</a> <a id="9236" href="Ledger.Gov.html#9029" class="Function Operator">connects</a> <a id="9245" href="Ledger.Gov.html#9164" class="Bound">aidPrev</a> <a id="9253" href="Ledger.Gov.html#9029" class="Function Operator">to</a> <a id="9256" href="Ledger.Gov.html#9196" class="Bound">aidOld</a> <a id="9263" href="Ledger.Gov.html#9029" class="Function Operator">?]</a><a id="9265" class="Symbol">)</a> <a id="9267" href="Relation.Nullary.Decidable.Core.html#3233" class="Function Operator">⊎-dec</a> <a id="9273" href="Ledger.Gov.html#9029" class="Function Operator">[</a> <a id="9275" href="Ledger.Gov.html#9175" class="Bound">s</a> <a id="9277" href="Ledger.Gov.html#9029" class="Function Operator">connects</a> <a id="9286" href="Ledger.Gov.html#9186" class="Bound">aidNew</a> <a id="9293" href="Ledger.Gov.html#9029" class="Function Operator">to</a> <a id="9296" href="Ledger.Gov.html#9196" class="Bound">aidOld</a> <a id="9303" href="Ledger.Gov.html#9029" class="Function Operator">?]</a>

<a id="any?-connecting-subperm"></a><a id="9307" href="Ledger.Gov.html#9307" class="Function">any?-connecting-subperm</a> <a id="9331" class="Symbol">:</a> <a id="9333" class="Symbol">∀</a> <a id="9335" class="Symbol">{</a><a id="9336" href="Ledger.Gov.html#9336" class="Bound">u</a><a id="9337" class="Symbol">}</a> <a id="9339" class="Symbol">{</a><a id="9340" href="Ledger.Gov.html#9340" class="Bound">v</a><a id="9341" class="Symbol">}</a> <a id="9343" class="Symbol">→</a> <a id="9345" class="Symbol">∀</a> <a id="9347" href="Ledger.Gov.html#9347" class="Bound">L</a> <a id="9349" class="Symbol">→</a> <a id="9351" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="9355" class="Symbol">(</a><a id="9356" href="Data.List.Relation.Unary.Any.html#1148" class="Datatype">Any</a><a id="9359" class="Symbol">(λ</a> <a id="9362" href="Ledger.Gov.html#9362" class="Bound">l</a> <a id="9364" class="Symbol">→</a> <a id="9366" href="Data.List.Relation.Unary.Unique.Setoid.html#785" class="Datatype">Unique</a> <a id="9373" href="Ledger.Gov.html#9362" class="Bound">l</a> <a id="9375" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9377" href="Ledger.Gov.html#9362" class="Bound">l</a> <a id="9379" href="Ledger.Gov.html#7032" class="Function Operator">connects</a> <a id="9388" href="Ledger.Gov.html#9336" class="Bound">u</a> <a id="9390" href="Ledger.Gov.html#7032" class="Function Operator">to</a> <a id="9393" href="Ledger.Gov.html#9340" class="Bound">v</a><a id="9394" class="Symbol">)</a> <a id="9396" class="Symbol">(</a><a id="9397" href="Data.List.Ext.html#1309" class="Function">subpermutations</a> <a id="9413" href="Ledger.Gov.html#9347" class="Bound">L</a><a id="9414" class="Symbol">))</a>
<a id="9417" href="Ledger.Gov.html#9307" class="Function">any?-connecting-subperm</a> <a id="9441" class="Symbol">{</a><a id="9442" href="Ledger.Gov.html#9442" class="Bound">u</a><a id="9443" class="Symbol">}</a> <a id="9445" class="Symbol">{</a><a id="9446" href="Ledger.Gov.html#9446" class="Bound">v</a><a id="9447" class="Symbol">}</a> <a id="9449" href="Ledger.Gov.html#9449" class="Bound">L</a> <a id="9451" class="Symbol">=</a> <a id="9453" href="Data.List.Relation.Unary.Any.html#2684" class="Function">any?</a> <a id="9458" class="Symbol">(λ</a> <a id="9461" href="Ledger.Gov.html#9461" class="Bound">l</a> <a id="9463" class="Symbol">→</a> <a id="9465" href="Data.List.Relation.Unary.Unique.DecSetoid.html#883" class="Function">unique?</a> <a id="9473" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="9477" href="Ledger.Gov.html#9461" class="Bound">l</a> <a id="9479" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">×-dec</a> <a id="9485" href="Ledger.Gov.html#9029" class="Function Operator">[</a> <a id="9487" href="Ledger.Gov.html#9461" class="Bound">l</a> <a id="9489" href="Ledger.Gov.html#9029" class="Function Operator">connects</a> <a id="9498" href="Ledger.Gov.html#9442" class="Bound">u</a> <a id="9500" href="Ledger.Gov.html#9029" class="Function Operator">to</a> <a id="9503" href="Ledger.Gov.html#9446" class="Bound">v</a> <a id="9505" href="Ledger.Gov.html#9029" class="Function Operator">?]</a><a id="9507" class="Symbol">)</a> <a id="9509" class="Symbol">(</a><a id="9510" href="Data.List.Ext.html#1309" class="Function">subpermutations</a> <a id="9526" href="Ledger.Gov.html#9449" class="Bound">L</a><a id="9527" class="Symbol">)</a>

<a id="∃?-connecting-subperm"></a><a id="9530" href="Ledger.Gov.html#9530" class="Function">∃?-connecting-subperm</a> <a id="9552" class="Symbol">:</a> <a id="9554" class="Symbol">∀</a> <a id="9556" class="Symbol">{</a><a id="9557" href="Ledger.Gov.html#9557" class="Bound">u</a><a id="9558" class="Symbol">}</a> <a id="9560" class="Symbol">{</a><a id="9561" href="Ledger.Gov.html#9561" class="Bound">v</a><a id="9562" class="Symbol">}</a> <a id="9564" class="Symbol">→</a> <a id="9566" class="Symbol">∀</a> <a id="9568" href="Ledger.Gov.html#9568" class="Bound">L</a> <a id="9570" class="Symbol">→</a> <a id="9572" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="9576" class="Symbol">(</a><a id="9577" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="9580" href="Ledger.Gov.html#9580" class="Bound">l</a> <a id="9582" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="9584" href="Ledger.Gov.html#9580" class="Bound">l</a> <a id="9586" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="9589" href="Data.List.Ext.html#1309" class="Function">subpermutations</a> <a id="9605" href="Ledger.Gov.html#9568" class="Bound">L</a> <a id="9607" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9609" href="Data.List.Relation.Unary.Unique.Setoid.html#785" class="Datatype">Unique</a> <a id="9616" href="Ledger.Gov.html#9580" class="Bound">l</a> <a id="9618" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9620" href="Ledger.Gov.html#9580" class="Bound">l</a> <a id="9622" href="Ledger.Gov.html#7032" class="Function Operator">connects</a> <a id="9631" href="Ledger.Gov.html#9557" class="Bound">u</a> <a id="9633" href="Ledger.Gov.html#7032" class="Function Operator">to</a> <a id="9636" href="Ledger.Gov.html#9561" class="Bound">v</a><a id="9637" class="Symbol">)</a>
<a id="9639" href="Ledger.Gov.html#9530" class="Function">∃?-connecting-subperm</a> <a id="9661" href="Ledger.Gov.html#9661" class="Bound">L</a> <a id="9663" class="Symbol">=</a> <a id="9665" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9670" class="Symbol">(</a><a id="9671" href="Data.Relation.Nullary.Decidable.Ext.html#280" class="Function">map′⇔</a> <a id="9677" class="Symbol">(</a><a id="9678" href="Function.Related.Propositional.html#2301" class="Function">↔⇒</a> <a id="9681" href="Data.List.Membership.Propositional.Properties.Core.html#2483" class="Function">Any↔</a><a id="9685" class="Symbol">))</a> <a id="9688" class="Symbol">(</a><a id="9689" href="Ledger.Gov.html#9307" class="Function">any?-connecting-subperm</a> <a id="9713" href="Ledger.Gov.html#9661" class="Bound">L</a><a id="9714" class="Symbol">)</a>

<a id="∃?-connecting-subset"></a><a id="9717" href="Ledger.Gov.html#9717" class="Function">∃?-connecting-subset</a> <a id="9738" class="Symbol">:</a> <a id="9740" class="Symbol">∀</a> <a id="9742" class="Symbol">{</a><a id="9743" href="Ledger.Gov.html#9743" class="Bound">u</a><a id="9744" class="Symbol">}</a> <a id="9746" class="Symbol">{</a><a id="9747" href="Ledger.Gov.html#9747" class="Bound">v</a><a id="9748" class="Symbol">}</a> <a id="9750" class="Symbol">→</a> <a id="9752" class="Symbol">∀</a> <a id="9754" href="Ledger.Gov.html#9754" class="Bound">L</a> <a id="9756" class="Symbol">→</a> <a id="9758" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="9762" class="Symbol">(</a><a id="9763" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="9766" href="Ledger.Gov.html#9766" class="Bound">l</a> <a id="9768" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="9770" href="Ledger.Gov.html#9766" class="Bound">l</a> <a id="9772" href="Ledger.Gov.html#805" class="Function Operator">⊆ˡ</a> <a id="9775" href="Ledger.Gov.html#9754" class="Bound">L</a> <a id="9777" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9779" href="Data.List.Relation.Unary.Unique.Setoid.html#785" class="Datatype">Unique</a> <a id="9786" href="Ledger.Gov.html#9766" class="Bound">l</a> <a id="9788" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9790" href="Ledger.Gov.html#9766" class="Bound">l</a> <a id="9792" href="Ledger.Gov.html#7032" class="Function Operator">connects</a> <a id="9801" href="Ledger.Gov.html#9743" class="Bound">u</a> <a id="9803" href="Ledger.Gov.html#7032" class="Function Operator">to</a> <a id="9806" href="Ledger.Gov.html#9747" class="Bound">v</a><a id="9807" class="Symbol">)</a>
<a id="9809" href="Ledger.Gov.html#9717" class="Function">∃?-connecting-subset</a> <a id="9830" href="Ledger.Gov.html#9830" class="Bound">L</a> <a id="9832" class="Symbol">=</a> <a id="9834" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9839" class="Symbol">(</a><a id="9840" href="Data.Relation.Nullary.Decidable.Ext.html#280" class="Function">map′⇔</a> <a id="9846" href="Data.List.Ext.Properties2.html#13938" class="Function">∃uniqueSubset⇔∃uniqueSubperm</a><a id="9874" class="Symbol">)</a> <a id="9876" class="Symbol">(</a><a id="9877" href="Ledger.Gov.html#9530" class="Function">∃?-connecting-subperm</a> <a id="9899" href="Ledger.Gov.html#9830" class="Bound">L</a><a id="9900" class="Symbol">)</a>

<a id="enactable?"></a><a id="9903" href="Ledger.Gov.html#9903" class="Function">enactable?</a> <a id="9914" class="Symbol">:</a> <a id="9916" class="Symbol">∀</a> <a id="9918" href="Ledger.Gov.html#9918" class="Bound">eState</a> <a id="9925" href="Ledger.Gov.html#9925" class="Bound">aidPairs</a> <a id="9934" href="Ledger.Gov.html#9934" class="Bound">aidNew×st</a> <a id="9944" class="Symbol">→</a> <a id="9946" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="9950" class="Symbol">(</a><a id="9951" href="Ledger.Gov.html#7292" class="Function">enactable</a> <a id="9961" href="Ledger.Gov.html#9918" class="Bound">eState</a> <a id="9968" href="Ledger.Gov.html#9925" class="Bound">aidPairs</a> <a id="9977" href="Ledger.Gov.html#9934" class="Bound">aidNew×st</a><a id="9986" class="Symbol">)</a>
<a id="9988" href="Ledger.Gov.html#9903" class="Function">enactable?</a> <a id="9999" href="Ledger.Gov.html#9999" class="Bound">eState</a> <a id="10006" href="Ledger.Gov.html#10006" class="Bound">aidPairs</a> <a id="10015" class="Symbol">(</a><a id="10016" href="Ledger.Gov.html#10016" class="Bound">aidNew</a> <a id="10023" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10025" href="Ledger.Gov.html#10025" class="Bound">as</a><a id="10027" class="Symbol">)</a> <a id="10029" class="Keyword">with</a> <a id="10034" href="Ledger.Enact.html#1251" class="Function">getHashES</a> <a id="10044" href="Ledger.Gov.html#9999" class="Bound">eState</a> <a id="10051" class="Symbol">(</a><a id="10052" href="Ledger.GovernanceActions.html#2420" class="Field">GovActionState.action</a> <a id="10074" href="Ledger.Gov.html#10025" class="Bound">as</a> <a id="10077" class="Symbol">.</a><a id="10078" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a><a id="10084" class="Symbol">)</a>
<a id="10086" class="Symbol">...</a> <a id="10090" class="Symbol">|</a> <a id="10092" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="10100" class="Symbol">=</a> <a id="10102" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="10106" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="10109" class="Symbol">...</a> <a id="10113" class="Symbol">|</a> <a id="10115" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="10120" href="Ledger.Gov.html#10120" class="Bound">aidOld</a> <a id="10127" class="Symbol">=</a> <a id="10129" href="Function.Bundles.html#4834" class="Field">from</a> <a id="10134" class="Symbol">(</a><a id="10135" href="Data.Relation.Nullary.Decidable.Ext.html#280" class="Function">map′⇔</a> <a id="10141" href="Axiom.Set.Properties.html#15458" class="Function">∃-sublist-⇔</a><a id="10152" class="Symbol">)</a> <a id="10154" class="Symbol">(</a><a id="10155" href="Ledger.Gov.html#9717" class="Function">∃?-connecting-subset</a> <a id="10176" class="Bound">aidPairs</a><a id="10184" class="Symbol">)</a>

<a id="allEnactable?"></a><a id="10187" href="Ledger.Gov.html#10187" class="Function">allEnactable?</a> <a id="10201" class="Symbol">:</a> <a id="10203" class="Symbol">∀</a> <a id="10205" href="Ledger.Gov.html#10205" class="Bound">eState</a> <a id="10212" href="Ledger.Gov.html#10212" class="Bound">aid×states</a> <a id="10223" class="Symbol">→</a> <a id="10225" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="10229" class="Symbol">(</a><a id="10230" href="Ledger.Gov.html#7646" class="Function">allEnactable</a> <a id="10243" href="Ledger.Gov.html#10205" class="Bound">eState</a> <a id="10250" href="Ledger.Gov.html#10212" class="Bound">aid×states</a><a id="10260" class="Symbol">)</a>
<a id="10262" href="Ledger.Gov.html#10187" class="Function">allEnactable?</a> <a id="10276" href="Ledger.Gov.html#10276" class="Bound">eState</a> <a id="10283" href="Ledger.Gov.html#10283" class="Bound">aid×states</a> <a id="10294" class="Symbol">=</a>
  <a id="10298" href="Data.List.Relation.Unary.All.html#6419" class="Function">all?</a> <a id="10303" class="Symbol">(λ</a> <a id="10306" href="Ledger.Gov.html#10306" class="Bound">aid×st</a> <a id="10313" class="Symbol">→</a> <a id="10315" href="Ledger.Gov.html#9903" class="Function">enactable?</a> <a id="10326" href="Ledger.Gov.html#10276" class="Bound">eState</a> <a id="10333" class="Symbol">(</a><a id="10334" href="Ledger.Gov.html#6777" class="Function">getAidPairsList</a> <a id="10350" href="Ledger.Gov.html#10283" class="Bound">aid×states</a><a id="10360" class="Symbol">)</a> <a id="10362" href="Ledger.Gov.html#10306" class="Bound">aid×st</a><a id="10368" class="Symbol">)</a> <a id="10370" href="Ledger.Gov.html#10283" class="Bound">aid×states</a>

<a id="10382" class="Comment">-- newtype to make the instance resolution work</a>
<a id="10430" class="Keyword">data</a> <a id="allEnactable&#39;"></a><a id="10435" href="Ledger.Gov.html#10435" class="Datatype">allEnactable&#39;</a> <a id="10449" class="Symbol">:</a> <a id="10451" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="10462" class="Symbol">→</a> <a id="10464" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="10473" class="Symbol">→</a> <a id="10475" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="10480" class="Keyword">where</a>
  <a id="allEnactable&#39;.AllEnactable&#39;"></a><a id="10488" href="Ledger.Gov.html#10488" class="InductiveConstructor">AllEnactable&#39;</a> <a id="10502" class="Symbol">:</a> <a id="10504" class="Symbol">∀</a> <a id="10506" class="Symbol">{</a><a id="10507" href="Ledger.Gov.html#10507" class="Bound">x</a> <a id="10509" href="Ledger.Gov.html#10509" class="Bound">y</a><a id="10510" class="Symbol">}</a> <a id="10512" class="Symbol">→</a> <a id="10514" href="Ledger.Gov.html#7646" class="Function">allEnactable</a> <a id="10527" href="Ledger.Gov.html#10507" class="Bound">x</a> <a id="10529" href="Ledger.Gov.html#10509" class="Bound">y</a> <a id="10531" class="Symbol">→</a> <a id="10533" href="Ledger.Gov.html#10435" class="Datatype">allEnactable&#39;</a> <a id="10547" href="Ledger.Gov.html#10507" class="Bound">x</a> <a id="10549" href="Ledger.Gov.html#10509" class="Bound">y</a>

<a id="10552" class="Keyword">instance</a>
  <a id="allEnactable?&#39;"></a><a id="10563" href="Ledger.Gov.html#10563" class="Function">allEnactable?&#39;</a> <a id="10578" class="Symbol">:</a> <a id="10580" class="Symbol">∀</a> <a id="10582" class="Symbol">{</a><a id="10583" href="Ledger.Gov.html#10583" class="Bound">x</a> <a id="10585" href="Ledger.Gov.html#10585" class="Bound">y</a><a id="10586" class="Symbol">}</a> <a id="10588" class="Symbol">→</a> <a id="10590" href="Ledger.Gov.html#10435" class="Datatype">allEnactable&#39;</a> <a id="10604" href="Ledger.Gov.html#10583" class="Bound">x</a> <a id="10606" href="Ledger.Gov.html#10585" class="Bound">y</a> <a id="10608" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
  <a id="10612" href="Ledger.Gov.html#10563" class="Function">allEnactable?&#39;</a> <a id="10627" class="Symbol">=</a> <a id="10629" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="10631" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">map′</a> <a id="10636" href="Ledger.Gov.html#10488" class="InductiveConstructor">AllEnactable&#39;</a> <a id="10650" class="Symbol">(λ</a> <a id="10653" class="Keyword">where</a> <a id="10659" class="Symbol">(</a><a id="10660" href="Ledger.Gov.html#10488" class="InductiveConstructor">AllEnactable&#39;</a> <a id="10674" href="Ledger.Gov.html#10674" class="Bound">x</a><a id="10675" class="Symbol">)</a> <a id="10677" class="Symbol">→</a> <a id="10679" href="Ledger.Gov.html#10674" class="Bound">x</a><a id="10680" class="Symbol">)</a> <a id="10682" class="Symbol">(</a><a id="10683" href="Ledger.Gov.html#10187" class="Function">allEnactable?</a> <a id="10697" class="Symbol">_</a> <a id="10699" class="Symbol">_)</a>

<a id="10703" class="Comment">-- `maxAllEnactable` returns a list `ls` of sublists of the given</a>
<a id="10769" class="Comment">-- list (`aid×states : List (GovActionID × GovActionState)`) such that</a>
<a id="10840" class="Comment">--    (i) each sublist `l ∈ ls` satisfies `allEnactable e l` and</a>
<a id="10905" class="Comment">--   (ii) each sublist `l ∈ ls` is of maximal length among sublists of `aid×states` satisfying `allEnactable`.</a>
<a id="maxAllEnactable"></a><a id="11016" href="Ledger.Gov.html#11016" class="Function">maxAllEnactable</a> <a id="11032" class="Symbol">:</a> <a id="11034" href="Ledger.Enact.html#397" class="Record">EnactState</a> <a id="11045" class="Symbol">→</a> <a id="11047" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="11052" class="Symbol">(</a><a id="11053" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="11065" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="11067" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a><a id="11081" class="Symbol">)</a> <a id="11083" class="Symbol">→</a> <a id="11085" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="11090" class="Symbol">(</a><a id="11091" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="11096" class="Symbol">(</a><a id="11097" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="11109" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="11111" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a><a id="11125" class="Symbol">))</a>
<a id="11128" href="Ledger.Gov.html#11016" class="Function">maxAllEnactable</a> <a id="11144" href="Ledger.Gov.html#11144" class="Bound">e</a> <a id="11146" class="Symbol">=</a> <a id="11148" href="Data.List.Ext.Properties2.html#11319" class="Function">maxsublists⊧P</a> <a id="11162" class="Symbol">(</a><a id="11163" href="Ledger.Gov.html#10187" class="Function">allEnactable?</a> <a id="11177" href="Ledger.Gov.html#11144" class="Bound">e</a><a id="11178" class="Symbol">)</a>

<a id="11181" class="Comment">-- Every sublist returned by `maxAllEnactable` satisfies (i).</a>
<a id="∈-maxAllEnactable→allEnactable"></a><a id="11243" href="Ledger.Gov.html#11243" class="Function">∈-maxAllEnactable→allEnactable</a> <a id="11274" class="Symbol">:</a> <a id="11276" class="Symbol">∀</a> <a id="11278" class="Symbol">{</a><a id="11279" href="Ledger.Gov.html#11279" class="Bound">e</a><a id="11280" class="Symbol">}</a> <a id="11282" class="Symbol">{</a><a id="11283" href="Ledger.Gov.html#11283" class="Bound">aid×states</a><a id="11293" class="Symbol">}</a> <a id="11295" href="Ledger.Gov.html#11295" class="Bound">l</a>
  <a id="11299" class="Symbol">→</a> <a id="11301" href="Ledger.Gov.html#11295" class="Bound">l</a> <a id="11303" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="11306" href="Ledger.Gov.html#11016" class="Function">maxAllEnactable</a> <a id="11322" href="Ledger.Gov.html#11279" class="Bound">e</a> <a id="11324" href="Ledger.Gov.html#11283" class="Bound">aid×states</a> <a id="11335" class="Symbol">→</a> <a id="11337" href="Ledger.Gov.html#7646" class="Function">allEnactable</a> <a id="11350" href="Ledger.Gov.html#11279" class="Bound">e</a> <a id="11352" href="Ledger.Gov.html#11295" class="Bound">l</a>
<a id="11354" href="Ledger.Gov.html#11243" class="Function">∈-maxAllEnactable→allEnactable</a> <a id="11385" class="Symbol">{</a><a id="11386" href="Ledger.Gov.html#11386" class="Bound">e</a><a id="11387" class="Symbol">}</a> <a id="11389" class="Symbol">{</a><a id="11390" href="Ledger.Gov.html#11390" class="Bound">aid×states</a><a id="11400" class="Symbol">}</a> <a id="11402" href="Ledger.Gov.html#11402" class="Bound">l</a> <a id="11404" href="Ledger.Gov.html#11404" class="Bound">l∈</a> <a id="11407" class="Symbol">=</a>
  <a id="11411" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="11417" class="Symbol">(</a><a id="11418" href="Data.List.Membership.Propositional.Properties.html#9216" class="Function">∈-filter⁻</a> <a id="11428" class="Symbol">(</a><a id="11429" href="Ledger.Gov.html#10187" class="Function">allEnactable?</a> <a id="11443" href="Ledger.Gov.html#11386" class="Bound">e</a><a id="11444" class="Symbol">)</a> <a id="11446" class="Symbol">{</a><a id="11447" href="Ledger.Gov.html#11402" class="Bound">l</a><a id="11448" class="Symbol">}</a> <a id="11450" class="Symbol">{</a><a id="11451" href="Data.List.Ext.html#947" class="Function">sublists</a> <a id="11460" href="Ledger.Gov.html#11390" class="Bound">aid×states</a><a id="11470" class="Symbol">}</a>
          <a id="11482" class="Symbol">(</a><a id="11483" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="11489" class="Symbol">(</a><a id="11490" href="Data.List.Membership.Propositional.Properties.html#9216" class="Function">∈-filter⁻</a> <a id="11500" class="Symbol">(λ</a> <a id="11503" href="Ledger.Gov.html#11503" class="Bound">l</a> <a id="11505" class="Symbol">→</a> <a id="11507" href="Data.List.Base.html#5044" class="Function">length</a> <a id="11514" href="Ledger.Gov.html#11503" class="Bound">l</a> <a id="11516" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="11518" href="Data.List.Ext.Properties2.html#1484" class="Function">maxlen</a> <a id="11525" class="Symbol">(</a><a id="11526" href="Data.List.Ext.Properties2.html#11122" class="Function">sublists⊧P</a> <a id="11537" class="Symbol">(</a><a id="11538" href="Ledger.Gov.html#10187" class="Function">allEnactable?</a> <a id="11552" href="Ledger.Gov.html#11386" class="Bound">e</a><a id="11553" class="Symbol">)</a> <a id="11555" href="Ledger.Gov.html#11390" class="Bound">aid×states</a><a id="11565" class="Symbol">))</a> <a id="11568" href="Ledger.Gov.html#11404" class="Bound">l∈</a><a id="11570" class="Symbol">)))</a>

<a id="11575" class="Comment">-- Every sublist returned by `maxAllEnactable` satisfies (ii).</a>
<a id="∈-maxAllEnactable→maxLength"></a><a id="11638" href="Ledger.Gov.html#11638" class="Function">∈-maxAllEnactable→maxLength</a> <a id="11666" class="Symbol">:</a> <a id="11668" class="Symbol">∀</a> <a id="11670" class="Symbol">{</a><a id="11671" href="Ledger.Gov.html#11671" class="Bound">e</a> <a id="11673" href="Ledger.Gov.html#11673" class="Bound">aid×states</a> <a id="11684" href="Ledger.Gov.html#11684" class="Bound">l</a> <a id="11686" href="Ledger.Gov.html#11686" class="Bound">l&#39;</a><a id="11688" class="Symbol">}</a>
                              <a id="11720" class="Symbol">→</a> <a id="11722" href="Ledger.Gov.html#11684" class="Bound">l</a> <a id="11724" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="11727" href="Data.List.Ext.html#947" class="Function">sublists</a> <a id="11736" href="Ledger.Gov.html#11673" class="Bound">aid×states</a> <a id="11747" class="Symbol">→</a> <a id="11749" href="Ledger.Gov.html#7646" class="Function">allEnactable</a> <a id="11762" href="Ledger.Gov.html#11671" class="Bound">e</a> <a id="11764" href="Ledger.Gov.html#11684" class="Bound">l</a>
                              <a id="11796" class="Symbol">→</a> <a id="11798" href="Ledger.Gov.html#11686" class="Bound">l&#39;</a> <a id="11801" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="11804" href="Ledger.Gov.html#11016" class="Function">maxAllEnactable</a> <a id="11820" href="Ledger.Gov.html#11671" class="Bound">e</a> <a id="11822" href="Ledger.Gov.html#11673" class="Bound">aid×states</a>
                              <a id="11863" class="Symbol">→</a> <a id="11865" href="Data.List.Base.html#5044" class="Function">length</a> <a id="11872" href="Ledger.Gov.html#11684" class="Bound">l</a> <a id="11874" href="Class.HasOrder.Core.html#551" class="Field Operator">≤</a> <a id="11876" href="Data.List.Base.html#5044" class="Function">length</a> <a id="11883" href="Ledger.Gov.html#11686" class="Bound">l&#39;</a>
<a id="11886" href="Ledger.Gov.html#11638" class="Function">∈-maxAllEnactable→maxLength</a> <a id="11914" class="Symbol">{</a><a id="11915" href="Ledger.Gov.html#11915" class="Bound">e</a><a id="11916" class="Symbol">}</a> <a id="11918" class="Symbol">{</a><a id="11919" href="Ledger.Gov.html#11919" class="Bound">aid×states</a><a id="11929" class="Symbol">}</a> <a id="11931" class="Symbol">{</a><a id="11932" href="Ledger.Gov.html#11932" class="Bound">l</a><a id="11933" class="Symbol">}</a> <a id="11935" class="Symbol">{</a><a id="11936" href="Ledger.Gov.html#11936" class="Bound">l&#39;</a><a id="11938" class="Symbol">}</a> <a id="11940" href="Ledger.Gov.html#11940" class="Bound">l∈</a> <a id="11943" href="Ledger.Gov.html#11943" class="Bound">el</a> <a id="11946" href="Ledger.Gov.html#11946" class="Bound">l&#39;∈</a> <a id="11950" class="Symbol">=</a>
  <a id="11954" class="Keyword">let</a> <a id="11958" href="Ledger.Gov.html#11958" class="Bound">ls</a> <a id="11961" class="Symbol">=</a> <a id="11963" href="Data.List.Ext.Properties2.html#11122" class="Function">sublists⊧P</a> <a id="11974" class="Symbol">(</a><a id="11975" href="Ledger.Gov.html#10187" class="Function">allEnactable?</a> <a id="11989" href="Ledger.Gov.html#11915" class="Bound">e</a><a id="11990" class="Symbol">)</a> <a id="11992" href="Ledger.Gov.html#11919" class="Bound">aid×states</a> <a id="12003" class="Keyword">in</a>
    <a id="12010" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="12016" class="Symbol">(</a><a id="12017" href="Data.List.Base.html#5044" class="Function">length</a> <a id="12024" href="Ledger.Gov.html#11932" class="Bound">l</a> <a id="12026" href="Class.HasOrder.Core.html#551" class="Field Operator">≤_</a><a id="12028" class="Symbol">)</a>
          <a id="12040" class="Symbol">(</a><a id="12041" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="12045" class="Symbol">(</a><a id="12046" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="12052" class="Symbol">(</a><a id="12053" href="Data.List.Membership.Propositional.Properties.html#9216" class="Function">∈-filter⁻</a> <a id="12063" class="Symbol">(λ</a> <a id="12066" href="Ledger.Gov.html#12066" class="Bound">l</a> <a id="12068" class="Symbol">→</a> <a id="12070" href="Data.List.Base.html#5044" class="Function">length</a> <a id="12077" href="Ledger.Gov.html#12066" class="Bound">l</a> <a id="12079" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="12081" href="Data.List.Ext.Properties2.html#1484" class="Function">maxlen</a> <a id="12088" href="Ledger.Gov.html#11958" class="Bound">ls</a><a id="12090" class="Symbol">)</a> <a id="12092" class="Symbol">{</a><a id="12093" class="Argument">xs</a> <a id="12096" class="Symbol">=</a> <a id="12098" href="Ledger.Gov.html#11958" class="Bound">ls</a><a id="12100" class="Symbol">}</a> <a id="12102" href="Ledger.Gov.html#11946" class="Bound">l&#39;∈</a><a id="12105" class="Symbol">)))</a>
          <a id="12119" class="Symbol">(</a><a id="12120" href="Data.List.Ext.Properties2.html#1731" class="Function">∈-maxlen-≤</a> <a id="12131" href="Ledger.Gov.html#11932" class="Bound">l</a> <a id="12133" class="Symbol">(</a><a id="12134" href="Data.List.Membership.Propositional.Properties.html#9096" class="Function">∈-filter⁺</a> <a id="12144" class="Symbol">(</a><a id="12145" href="Ledger.Gov.html#10187" class="Function">allEnactable?</a> <a id="12159" href="Ledger.Gov.html#11915" class="Bound">e</a><a id="12160" class="Symbol">)</a> <a id="12162" href="Ledger.Gov.html#11940" class="Bound">l∈</a> <a id="12165" href="Ledger.Gov.html#11943" class="Bound">el</a><a id="12167" class="Symbol">))</a>


<a id="actionValid"></a><a id="12172" href="Ledger.Gov.html#12172" class="Function">actionValid</a> <a id="12184" class="Symbol">:</a> <a id="12186" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="12188" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="12199" class="Symbol">→</a> <a id="12201" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="12207" href="Ledger.Crypto.html#1166" class="Function">ScriptHash</a> <a id="12218" class="Symbol">→</a> <a id="12220" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="12226" href="Ledger.Crypto.html#1166" class="Function">ScriptHash</a> <a id="12237" class="Symbol">→</a> <a id="12239" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a> <a id="12245" class="Symbol">→</a> <a id="12247" href="Ledger.GovernanceActions.html#1372" class="Record">GovAction</a> <a id="12257" class="Symbol">→</a> <a id="12259" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="12264" href="Ledger.Gov.html#12172" class="Function">actionValid</a> <a id="12276" href="Ledger.Gov.html#12276" class="Bound">rewardCreds</a> <a id="12288" href="Ledger.Gov.html#12288" class="Bound">p</a> <a id="12290" href="Ledger.Gov.html#12290" class="Bound">ppolicy</a> <a id="12298" href="Ledger.Gov.html#12298" class="Bound">epoch</a> <a id="12304" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="12306" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="12320" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="12322" class="Symbol">_</a> <a id="12324" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="12328" class="Symbol">=</a>
  <a id="12332" href="Ledger.Gov.html#12288" class="Bound">p</a> <a id="12334" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12336" href="Ledger.Gov.html#12290" class="Bound">ppolicy</a>
<a id="12344" href="Ledger.Gov.html#12172" class="Function">actionValid</a> <a id="12356" href="Ledger.Gov.html#12356" class="Bound">rewardCreds</a> <a id="12368" href="Ledger.Gov.html#12368" class="Bound">p</a> <a id="12370" href="Ledger.Gov.html#12370" class="Bound">ppolicy</a> <a id="12378" href="Ledger.Gov.html#12378" class="Bound">epoch</a> <a id="12384" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="12386" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>  <a id="12400" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="12402" href="Ledger.Gov.html#12402" class="Bound">x</a> <a id="12404" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="12408" class="Symbol">=</a>
  <a id="12412" href="Ledger.Gov.html#12368" class="Bound">p</a> <a id="12414" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12416" href="Ledger.Gov.html#12370" class="Bound">ppolicy</a> <a id="12424" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="12426" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="12431" href="Ledger.Address.html#1265" class="Field">RwdAddr.stake</a> <a id="12445" class="Symbol">(</a><a id="12446" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12450" href="Ledger.Gov.html#12402" class="Bound">x</a><a id="12451" class="Symbol">)</a> <a id="12453" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="12455" href="Ledger.Gov.html#12356" class="Bound">rewardCreds</a>
<a id="12467" href="Ledger.Gov.html#12172" class="Function">actionValid</a> <a id="12479" href="Ledger.Gov.html#12479" class="Bound">rewardCreds</a> <a id="12491" href="Ledger.Gov.html#12491" class="Bound">p</a> <a id="12493" href="Ledger.Gov.html#12493" class="Bound">ppolicy</a> <a id="12501" href="Ledger.Gov.html#12501" class="Bound">epoch</a> <a id="12507" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="12509" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="12525" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="12527" class="Symbol">(</a><a id="12528" href="Ledger.Gov.html#12528" class="Bound">new</a> <a id="12532" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12534" href="Ledger.Gov.html#12534" class="Bound">rem</a> <a id="12538" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12540" href="Ledger.Gov.html#12540" class="Bound">q</a><a id="12541" class="Symbol">)</a> <a id="12543" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="12547" class="Symbol">=</a>
  <a id="12551" href="Ledger.Gov.html#12491" class="Bound">p</a> <a id="12553" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12555" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="12563" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="12565" class="Symbol">(</a><a id="12566" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="12569" href="Ledger.Gov.html#12569" class="Bound">e</a> <a id="12571" href="Class.IsSet.html#576" class="Function">∈</a> <a id="12573" href="Class.IsSet.html#959" class="Function">range</a> <a id="12579" href="Ledger.Gov.html#12528" class="Bound">new</a> <a id="12583" href="Class.IsSet.html#576" class="Function">]</a>  <a id="12586" href="Ledger.Gov.html#12501" class="Bound">epoch</a> <a id="12592" href="Class.HasOrder.Core.html#555" class="Field Operator">&lt;</a> <a id="12594" href="Ledger.Gov.html#12569" class="Bound">e</a><a id="12595" class="Symbol">)</a> <a id="12597" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="12599" class="Symbol">(</a><a id="12600" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12604" href="Ledger.Gov.html#12528" class="Bound">new</a> <a id="12608" href="Axiom.Set.html#9292" class="Function Operator">∩</a> <a id="12610" href="Ledger.Gov.html#12534" class="Bound">rem</a> <a id="12614" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="12617" href="Class.HasEmptySet.html#287" class="Field">∅</a><a id="12618" class="Symbol">)</a>
<a id="12620" href="Ledger.Gov.html#12172" class="CatchallClause Function">actionValid</a><a id="12631" class="CatchallClause"> </a><a id="12632" href="Ledger.Gov.html#12632" class="CatchallClause Bound">rewardCreds</a><a id="12643" class="CatchallClause"> </a><a id="12644" href="Ledger.Gov.html#12644" class="CatchallClause Bound">p</a><a id="12645" class="CatchallClause"> </a><a id="12646" href="Ledger.Gov.html#12646" class="CatchallClause Bound">ppolicy</a><a id="12653" class="CatchallClause"> </a><a id="12654" href="Ledger.Gov.html#12654" class="CatchallClause Bound">epoch</a><a id="12659" class="CatchallClause"> </a><a id="12660" class="CatchallClause Symbol">_</a> <a id="12662" class="Symbol">=</a>
  <a id="12666" href="Ledger.Gov.html#12644" class="Bound">p</a> <a id="12668" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12670" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="actionWellFormed"></a><a id="12679" href="Ledger.Gov.html#12679" class="Function">actionWellFormed</a> <a id="12696" class="Symbol">:</a> <a id="12698" href="Ledger.GovernanceActions.html#1372" class="Record">GovAction</a> <a id="12708" class="Symbol">→</a> <a id="12710" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="12715" href="Ledger.Gov.html#12679" class="Function">actionWellFormed</a> <a id="12732" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="12734" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a> <a id="12748" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="12750" href="Ledger.Gov.html#12750" class="Bound">x</a> <a id="12752" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="12756" class="Symbol">=</a> <a id="12758" href="Ledger.PParams.html#13166" class="Function">ppdWellFormed</a> <a id="12772" href="Ledger.Gov.html#12750" class="Bound">x</a>
<a id="12774" href="Ledger.Gov.html#12679" class="Function">actionWellFormed</a> <a id="12791" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="12793" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>  <a id="12807" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="12809" href="Ledger.Gov.html#12809" class="Bound">x</a> <a id="12811" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a> <a id="12815" class="Symbol">=</a>
  <a id="12819" class="Symbol">(</a><a id="12820" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="12823" href="Ledger.Gov.html#12823" class="Bound">a</a> <a id="12825" href="Class.IsSet.html#576" class="Function">∈</a> <a id="12827" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12831" href="Ledger.Gov.html#12809" class="Bound">x</a> <a id="12833" href="Class.IsSet.html#576" class="Function">]</a> <a id="12835" href="Ledger.Address.html#1240" class="Field">RwdAddr.net</a> <a id="12847" href="Ledger.Gov.html#12823" class="Bound">a</a> <a id="12849" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12851" href="Ledger.Types.Epoch.html#2154" class="Function">NetworkId</a><a id="12860" class="Symbol">)</a> <a id="12862" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="12864" class="Symbol">(</a><a id="12865" href="Class.IsSet.html#736" class="Function">∃[</a> <a id="12868" href="Ledger.Gov.html#12868" class="Bound">v</a> <a id="12870" href="Class.IsSet.html#736" class="Function">∈</a> <a id="12872" href="Class.IsSet.html#959" class="Function">range</a> <a id="12878" href="Ledger.Gov.html#12809" class="Bound">x</a> <a id="12880" href="Class.IsSet.html#736" class="Function">]</a> <a id="12882" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12884" class="Symbol">(</a><a id="12885" href="Ledger.Gov.html#12868" class="Bound">v</a> <a id="12887" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12889" class="Number">0</a><a id="12890" class="Symbol">))</a>
<a id="12893" href="Ledger.Gov.html#12679" class="CatchallClause Function">actionWellFormed</a><a id="12909" class="CatchallClause"> </a><a id="12910" class="CatchallClause Symbol">_</a>                 <a id="12928" class="Symbol">=</a> <a id="12930" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>


<a id="actionValid?"></a><a id="12934" href="Ledger.Gov.html#12934" class="Function">actionValid?</a> <a id="12947" class="Symbol">:</a> <a id="12949" class="Symbol">∀</a> <a id="12951" class="Symbol">{</a><a id="12952" href="Ledger.Gov.html#12952" class="Bound">rewardCreds</a> <a id="12964" href="Ledger.Gov.html#12964" class="Bound">p</a> <a id="12966" href="Ledger.Gov.html#12966" class="Bound">ppolicy</a> <a id="12974" href="Ledger.Gov.html#12974" class="Bound">epoch</a> <a id="12980" href="Ledger.Gov.html#12980" class="Bound">a</a><a id="12981" class="Symbol">}</a> <a id="12983" class="Symbol">→</a> <a id="12985" href="Ledger.Gov.html#12172" class="Function">actionValid</a> <a id="12997" href="Ledger.Gov.html#12952" class="Bound">rewardCreds</a> <a id="13009" href="Ledger.Gov.html#12964" class="Bound">p</a> <a id="13011" href="Ledger.Gov.html#12966" class="Bound">ppolicy</a> <a id="13019" href="Ledger.Gov.html#12974" class="Bound">epoch</a> <a id="13025" href="Ledger.Gov.html#12980" class="Bound">a</a> <a id="13027" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
<a id="13029" href="Ledger.Gov.html#12934" class="Function">actionValid?</a> <a id="13042" class="Symbol">{</a><a id="13043" class="Argument">a</a> <a id="13045" class="Symbol">=</a> <a id="13047" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13049" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>    <a id="13065" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13067" class="Symbol">_</a> <a id="13069" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13072" class="Symbol">}</a> <a id="13074" class="Symbol">=</a> <a id="13076" href="Function.Base.html#4736" class="Function">it</a>
<a id="13079" href="Ledger.Gov.html#12934" class="Function">actionValid?</a> <a id="13092" class="Symbol">{</a><a id="13093" class="Argument">a</a> <a id="13095" class="Symbol">=</a> <a id="13097" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13099" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="13115" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13117" class="Symbol">_</a> <a id="13119" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13122" class="Symbol">}</a> <a id="13124" class="Symbol">=</a> <a id="13126" href="Function.Base.html#4736" class="Function">it</a>
<a id="13129" href="Ledger.Gov.html#12934" class="Function">actionValid?</a> <a id="13142" class="Symbol">{</a><a id="13143" class="Argument">a</a> <a id="13145" class="Symbol">=</a> <a id="13147" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13149" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="13165" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13167" class="Symbol">_</a> <a id="13169" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13172" class="Symbol">}</a> <a id="13174" class="Symbol">=</a> <a id="13176" href="Function.Base.html#4736" class="Function">it</a>
<a id="13179" href="Ledger.Gov.html#12934" class="Function">actionValid?</a> <a id="13192" class="Symbol">{</a><a id="13193" class="Argument">a</a> <a id="13195" class="Symbol">=</a> <a id="13197" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13199" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>       <a id="13215" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13217" class="Symbol">_</a> <a id="13219" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13222" class="Symbol">}</a> <a id="13224" class="Symbol">=</a> <a id="13226" href="Function.Base.html#4736" class="Function">it</a>
<a id="13229" href="Ledger.Gov.html#12934" class="Function">actionValid?</a> <a id="13242" class="Symbol">{</a><a id="13243" class="Argument">a</a> <a id="13245" class="Symbol">=</a> <a id="13247" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13249" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>   <a id="13265" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13267" class="Symbol">_</a> <a id="13269" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13272" class="Symbol">}</a> <a id="13274" class="Symbol">=</a> <a id="13276" href="Function.Base.html#4736" class="Function">it</a>
<a id="13279" href="Ledger.Gov.html#12934" class="Function">actionValid?</a> <a id="13292" class="Symbol">{</a><a id="13293" class="Argument">a</a> <a id="13295" class="Symbol">=</a> <a id="13297" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13299" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>    <a id="13315" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13317" class="Symbol">_</a> <a id="13319" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13322" class="Symbol">}</a> <a id="13324" class="Symbol">=</a> <a id="13326" href="Function.Base.html#4736" class="Function">it</a>
<a id="13329" href="Ledger.Gov.html#12934" class="Function">actionValid?</a> <a id="13342" class="Symbol">{</a><a id="13343" class="Argument">a</a> <a id="13345" class="Symbol">=</a> <a id="13347" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13349" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>            <a id="13365" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13367" class="Symbol">_</a> <a id="13369" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13372" class="Symbol">}</a> <a id="13374" class="Symbol">=</a> <a id="13376" href="Function.Base.html#4736" class="Function">it</a>

<a id="actionWellFormed?"></a><a id="13380" href="Ledger.Gov.html#13380" class="Function">actionWellFormed?</a> <a id="13398" class="Symbol">:</a> <a id="13400" class="Symbol">∀</a> <a id="13402" class="Symbol">{</a><a id="13403" href="Ledger.Gov.html#13403" class="Bound">a</a><a id="13404" class="Symbol">}</a> <a id="13406" class="Symbol">→</a> <a id="13408" href="Ledger.Gov.html#12679" class="Function">actionWellFormed</a> <a id="13425" href="Ledger.Gov.html#13403" class="Bound">a</a> <a id="13427" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
<a id="13429" href="Ledger.Gov.html#13380" class="Function">actionWellFormed?</a> <a id="13447" class="Symbol">{</a><a id="13448" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13450" href="Ledger.GovernanceActions.html#744" class="InductiveConstructor">NoConfidence</a>    <a id="13466" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13468" class="Symbol">_</a> <a id="13470" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13473" class="Symbol">}</a> <a id="13475" class="Symbol">=</a> <a id="13477" href="Function.Base.html#4736" class="Function">it</a>
<a id="13480" href="Ledger.Gov.html#13380" class="Function">actionWellFormed?</a> <a id="13498" class="Symbol">{</a><a id="13499" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13501" href="Ledger.GovernanceActions.html#779" class="InductiveConstructor">UpdateCommittee</a> <a id="13517" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13519" class="Symbol">_</a> <a id="13521" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13524" class="Symbol">}</a> <a id="13526" class="Symbol">=</a> <a id="13528" href="Function.Base.html#4736" class="Function">it</a>
<a id="13531" href="Ledger.Gov.html#13380" class="Function">actionWellFormed?</a> <a id="13549" class="Symbol">{</a><a id="13550" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13552" href="Ledger.GovernanceActions.html#814" class="InductiveConstructor">NewConstitution</a> <a id="13568" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13570" class="Symbol">_</a> <a id="13572" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13575" class="Symbol">}</a> <a id="13577" class="Symbol">=</a> <a id="13579" href="Function.Base.html#4736" class="Function">it</a>
<a id="13582" href="Ledger.Gov.html#13380" class="Function">actionWellFormed?</a> <a id="13600" class="Symbol">{</a><a id="13601" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13603" href="Ledger.GovernanceActions.html#849" class="InductiveConstructor">TriggerHF</a>       <a id="13619" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13621" class="Symbol">_</a> <a id="13623" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13626" class="Symbol">}</a> <a id="13628" class="Symbol">=</a> <a id="13630" href="Function.Base.html#4736" class="Function">it</a>
<a id="13633" href="Ledger.Gov.html#13380" class="Function">actionWellFormed?</a> <a id="13651" class="Symbol">{</a><a id="13652" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13654" href="Ledger.GovernanceActions.html#884" class="InductiveConstructor">ChangePParams</a>   <a id="13670" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13672" class="Symbol">_</a> <a id="13674" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13677" class="Symbol">}</a> <a id="13679" class="Symbol">=</a> <a id="13681" href="Function.Base.html#4736" class="Function">it</a>
<a id="13684" href="Ledger.Gov.html#13380" class="Function">actionWellFormed?</a> <a id="13702" class="Symbol">{</a><a id="13703" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13705" href="Ledger.GovernanceActions.html#919" class="InductiveConstructor">TreasuryWdrl</a>    <a id="13721" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13723" class="Symbol">_</a> <a id="13725" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13728" class="Symbol">}</a> <a id="13730" class="Symbol">=</a> <a id="13732" href="Function.Base.html#4736" class="Function">it</a>
<a id="13735" href="Ledger.Gov.html#13380" class="Function">actionWellFormed?</a> <a id="13753" class="Symbol">{</a><a id="13754" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟦</a> <a id="13756" href="Ledger.GovernanceActions.html#954" class="InductiveConstructor">Info</a>            <a id="13772" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">,</a> <a id="13774" class="Symbol">_</a> <a id="13776" href="Ledger.GovernanceActions.html#1409" class="InductiveConstructor Operator">⟧ᵍᵃ</a><a id="13779" class="Symbol">}</a> <a id="13781" class="Symbol">=</a> <a id="13783" href="Function.Base.html#4736" class="Function">it</a>


<a id="13788" class="Keyword">open</a> <a id="13793" href="Ledger.Gov.html#1291" class="Module">GovEnv</a>
<a id="13800" class="Keyword">open</a> <a id="13805" href="Ledger.PParams.html#1389" class="Module">PParams</a> <a id="13813" class="Keyword">hiding</a> <a id="13820" class="Symbol">(</a><a id="13821" href="Ledger.PParams.html#1811" class="Field">a</a><a id="13822" class="Symbol">)</a>

<a id="13825" class="Keyword">variable</a>
  <a id="13836" href="Ledger.Gov.html#13836" class="Generalizable">machr</a> <a id="13842" class="Symbol">:</a> <a id="13844" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="13850" href="Ledger.GovernanceActions.html#642" class="Record">Anchor</a>
  <a id="13859" href="Ledger.Gov.html#13859" class="Generalizable">achr</a> <a id="13864" class="Symbol">:</a> <a id="13866" href="Ledger.GovernanceActions.html#642" class="Record">Anchor</a>
  <a id="13875" href="Ledger.Gov.html#13875" class="Generalizable">ast</a>  <a id="13880" class="Symbol">:</a> <a id="13882" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a>


<a id="13899" class="Keyword">data</a> <a id="13904" href="Ledger.Gov.html#6524" class="Datatype Operator">_⊢_⇀⦇_,GOV⦈_</a> <a id="13917" class="Keyword">where</a>


  <a id="_⊢_⇀⦇_,GOV⦈_.GOV-Vote"></a><a id="13927" href="Ledger.Gov.html#13927" class="InductiveConstructor">GOV-Vote</a> <a id="13936" class="Symbol">:</a>
    <a id="13942" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="13944" class="Symbol">(</a><a id="13945" href="Ledger.Gov.html#1648" class="Generalizable">aid</a> <a id="13949" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13951" href="Ledger.Gov.html#13875" class="Generalizable">ast</a><a id="13954" class="Symbol">)</a> <a id="13956" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="13958" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="13967" href="Ledger.Gov.html#1630" class="Generalizable">s</a>
    <a id="13973" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="13975" href="Ledger.Ratify.html#2782" class="Function">canVote</a> <a id="13983" class="Symbol">(</a><a id="13984" href="Ledger.Gov.html#1617" class="Generalizable">Γ</a> <a id="13986" class="Symbol">.</a><a id="13987" href="Ledger.Gov.html#1370" class="Field">pparams</a><a id="13994" class="Symbol">)</a> <a id="13996" class="Symbol">(</a><a id="13997" href="Ledger.GovernanceActions.html#2420" class="Field">action</a> <a id="14004" href="Ledger.Gov.html#13875" class="Generalizable">ast</a><a id="14007" class="Symbol">)</a> <a id="14009" class="Symbol">(</a><a id="14010" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="14016" href="Ledger.Gov.html#1668" class="Generalizable">voter</a><a id="14021" class="Symbol">)</a>
    <a id="14027" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="14029" href="Ledger.Gov.html#5874" class="Function">isRegistered</a> <a id="14042" href="Ledger.Gov.html#1617" class="Generalizable">Γ</a> <a id="14044" href="Ledger.Gov.html#1668" class="Generalizable">voter</a>
    <a id="14054" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="14056" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="14058" href="Ledger.Ratify.html#8068" class="Function">expired</a> <a id="14066" class="Symbol">(</a><a id="14067" href="Ledger.Gov.html#1617" class="Generalizable">Γ</a> <a id="14069" class="Symbol">.</a><a id="14070" href="Ledger.Gov.html#1346" class="Field">epoch</a><a id="14075" class="Symbol">)</a> <a id="14077" href="Ledger.Gov.html#13875" class="Generalizable">ast</a>
      <a id="14087" href="Interface.STS.html#659" class="Function Operator">───────────────────────────────────────</a>
      <a id="14133" class="Symbol">(</a><a id="14134" href="Ledger.Gov.html#1617" class="Generalizable">Γ</a> <a id="14136" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14138" href="Ledger.Gov.html#1786" class="Generalizable">k</a><a id="14139" class="Symbol">)</a> <a id="14141" href="Ledger.Gov.html#6524" class="Datatype Operator">⊢</a> <a id="14143" href="Ledger.Gov.html#1630" class="Generalizable">s</a> <a id="14145" href="Ledger.Gov.html#6524" class="Datatype Operator">⇀⦇</a> <a id="14148" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="14153" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="14155" href="Ledger.Gov.html#1648" class="Generalizable">aid</a> <a id="14159" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14161" href="Ledger.Gov.html#1668" class="Generalizable">voter</a> <a id="14167" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14169" href="Ledger.Gov.html#1701" class="Generalizable">v</a> <a id="14171" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14173" href="Ledger.Gov.html#13836" class="Generalizable">machr</a> <a id="14179" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="14181" href="Ledger.Gov.html#6524" class="Datatype Operator">,GOV⦈</a> <a id="14187" href="Ledger.Gov.html#5548" class="Function">addVote</a> <a id="14195" href="Ledger.Gov.html#1630" class="Generalizable">s</a> <a id="14197" href="Ledger.Gov.html#1648" class="Generalizable">aid</a> <a id="14201" href="Ledger.Gov.html#1668" class="Generalizable">voter</a> <a id="14207" href="Ledger.Gov.html#1701" class="Generalizable">v</a>

  <a id="_⊢_⇀⦇_,GOV⦈_.GOV-Propose"></a><a id="14212" href="Ledger.Gov.html#14212" class="InductiveConstructor">GOV-Propose</a> <a id="14224" class="Symbol">:</a>
    <a id="14230" class="Keyword">let</a> <a id="14234" href="Ledger.Gov.html#14234" class="Bound">pp</a>           <a id="14247" class="Symbol">=</a> <a id="14249" href="Ledger.Gov.html#1617" class="Generalizable">Γ</a> <a id="14251" class="Symbol">.</a><a id="14252" href="Ledger.Gov.html#1370" class="Field">pparams</a>
        <a id="14268" href="Ledger.Gov.html#14268" class="Bound">e</a>            <a id="14281" class="Symbol">=</a> <a id="14283" href="Ledger.Gov.html#1617" class="Generalizable">Γ</a> <a id="14285" class="Symbol">.</a><a id="14286" href="Ledger.Gov.html#1346" class="Field">epoch</a>
        <a id="14300" href="Ledger.Gov.html#14300" class="Bound">enactState</a>   <a id="14313" class="Symbol">=</a> <a id="14315" href="Ledger.Gov.html#1617" class="Generalizable">Γ</a> <a id="14317" class="Symbol">.</a><a id="14318" href="Ledger.Gov.html#1431" class="Field">enactState</a>
        <a id="14337" href="Ledger.Gov.html#14337" class="Bound">rewardCreds</a>  <a id="14350" class="Symbol">=</a> <a id="14352" href="Ledger.Gov.html#1617" class="Generalizable">Γ</a> <a id="14354" class="Symbol">.</a><a id="14355" href="Ledger.Gov.html#1488" class="Field">rewardCreds</a>
        <a id="14375" href="Ledger.Gov.html#14375" class="Bound">prop</a>         <a id="14388" class="Symbol">=</a> <a id="14390" class="Keyword">record</a> <a id="14397" class="Symbol">{</a> <a id="14399" href="Ledger.GovernanceActions.html#2244" class="Field">returnAddr</a> <a id="14410" class="Symbol">=</a> <a id="14412" href="Ledger.Gov.html#1723" class="Generalizable">addr</a> <a id="14417" class="Symbol">;</a> <a id="14419" href="Ledger.GovernanceActions.html#2114" class="Field">action</a> <a id="14426" class="Symbol">=</a> <a id="14428" href="Ledger.Gov.html#1740" class="Generalizable">a</a> <a id="14430" class="Symbol">;</a> <a id="14432" href="Ledger.GovernanceActions.html#2270" class="Field">anchor</a> <a id="14439" class="Symbol">=</a> <a id="14441" href="Ledger.Gov.html#13859" class="Generalizable">achr</a>
                              <a id="14476" class="Symbol">;</a> <a id="14478" href="Ledger.GovernanceActions.html#2186" class="Field">policy</a> <a id="14485" class="Symbol">=</a> <a id="14487" href="Ledger.Gov.html#1794" class="Generalizable">p</a> <a id="14489" class="Symbol">;</a> <a id="14491" href="Ledger.GovernanceActions.html#2221" class="Field">deposit</a> <a id="14499" class="Symbol">=</a> <a id="14501" href="Ledger.Gov.html#1712" class="Generalizable">d</a> <a id="14503" class="Symbol">;</a> <a id="14505" href="Ledger.GovernanceActions.html#2142" class="Field">prevAction</a> <a id="14516" class="Symbol">=</a> <a id="14518" href="Ledger.Gov.html#1756" class="Generalizable">prev</a> <a id="14523" class="Symbol">}</a>
    <a id="14529" class="Keyword">in</a>
    <a id="14536" href="Interface.STS.html#105" class="Function Operator">∙</a> <a id="14538" href="Ledger.Gov.html#12679" class="Function">actionWellFormed</a> <a id="14555" href="Ledger.Gov.html#1740" class="Generalizable">a</a>
    <a id="14561" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="14563" href="Ledger.Gov.html#12172" class="Function">actionValid</a> <a id="14575" href="Ledger.Gov.html#14337" class="Bound">rewardCreds</a> <a id="14587" href="Ledger.Gov.html#1794" class="Generalizable">p</a> <a id="14589" class="Symbol">(</a><a id="14590" href="Ledger.Gov.html#1617" class="Generalizable">Γ</a> <a id="14592" class="Symbol">.</a><a id="14593" href="Ledger.Gov.html#1396" class="Field">ppolicy</a><a id="14600" class="Symbol">)</a> <a id="14602" href="Ledger.Gov.html#14268" class="Bound">e</a> <a id="14604" href="Ledger.Gov.html#1740" class="Generalizable">a</a>
    <a id="14610" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="14612" href="Ledger.Gov.html#1712" class="Generalizable">d</a> <a id="14614" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14616" href="Ledger.Gov.html#14234" class="Bound">pp</a> <a id="14619" class="Symbol">.</a><a id="14620" href="Ledger.PParams.html#2915" class="Field">govActionDeposit</a>
    <a id="14641" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="14643" href="Ledger.Gov.html#6175" class="Function">validHFAction</a> <a id="14657" href="Ledger.Gov.html#14375" class="Bound">prop</a> <a id="14662" href="Ledger.Gov.html#1630" class="Generalizable">s</a> <a id="14664" href="Ledger.Gov.html#14300" class="Bound">enactState</a>
    <a id="14679" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="14681" href="Ledger.Gov.html#7945" class="Function">hasParent</a> <a id="14691" href="Ledger.Gov.html#14300" class="Bound">enactState</a> <a id="14702" href="Ledger.Gov.html#1630" class="Generalizable">s</a> <a id="14704" class="Symbol">(</a><a id="14705" href="Ledger.Gov.html#1740" class="Generalizable">a</a> <a id="14707" class="Symbol">.</a><a id="14708" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a><a id="14714" class="Symbol">)</a> <a id="14716" href="Ledger.Gov.html#1756" class="Generalizable">prev</a>
    <a id="14725" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="14727" href="Ledger.Gov.html#1723" class="Generalizable">addr</a> <a id="14732" class="Symbol">.</a><a id="14733" href="Ledger.Address.html#1240" class="Field">RwdAddr.net</a> <a id="14745" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14747" href="Ledger.Types.Epoch.html#2154" class="Function">NetworkId</a>
    <a id="14761" href="Interface.STS.html#131" class="Function Operator">∙</a> <a id="14763" href="Ledger.Gov.html#1723" class="Generalizable">addr</a> <a id="14768" class="Symbol">.</a><a id="14769" href="Ledger.Address.html#1265" class="Field">RwdAddr.stake</a> <a id="14783" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="14785" href="Ledger.Gov.html#14337" class="Bound">rewardCreds</a>
      <a id="14803" href="Interface.STS.html#659" class="Function Operator">───────────────────────────────────────</a>
      <a id="14849" class="Symbol">(</a><a id="14850" href="Ledger.Gov.html#1617" class="Generalizable">Γ</a> <a id="14852" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14854" href="Ledger.Gov.html#1786" class="Generalizable">k</a><a id="14855" class="Symbol">)</a> <a id="14857" href="Ledger.Gov.html#6524" class="Datatype Operator">⊢</a> <a id="14859" href="Ledger.Gov.html#1630" class="Generalizable">s</a> <a id="14861" href="Ledger.Gov.html#6524" class="Datatype Operator">⇀⦇</a> <a id="14864" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="14869" href="Ledger.Gov.html#14375" class="Bound">prop</a> <a id="14874" href="Ledger.Gov.html#6524" class="Datatype Operator">,GOV⦈</a> <a id="14880" href="Ledger.Gov.html#5324" class="Function">addAction</a> <a id="14890" href="Ledger.Gov.html#1630" class="Generalizable">s</a> <a id="14892" class="Symbol">(</a><a id="14893" href="Ledger.Gov.html#14234" class="Bound">pp</a> <a id="14896" class="Symbol">.</a><a id="14897" href="Ledger.PParams.html#2873" class="Field">govActionLifetime</a> <a id="14915" href="Ledger.Types.Epoch.html#832" class="Function Operator">+ᵉ</a> <a id="14918" href="Ledger.Gov.html#14268" class="Bound">e</a><a id="14919" class="Symbol">)</a>
                                                 <a id="14970" class="Symbol">(</a><a id="14971" href="Ledger.Gov.html#1617" class="Generalizable">Γ</a> <a id="14973" class="Symbol">.</a><a id="14974" href="Ledger.Gov.html#1323" class="Field">txid</a> <a id="14979" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14981" href="Ledger.Gov.html#1786" class="Generalizable">k</a><a id="14982" class="Symbol">)</a> <a id="14984" href="Ledger.Gov.html#1723" class="Generalizable">addr</a> <a id="14989" href="Ledger.Gov.html#1740" class="Generalizable">a</a> <a id="14991" href="Ledger.Gov.html#1756" class="Generalizable">prev</a>

<a id="14997" href="Ledger.Gov.html#6606" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a> <a id="15011" class="Symbol">=</a> <a id="15013" href="Interface.STS.html#3000" class="Function">ReflexiveTransitiveClosureᵢ</a> <a id="15041" class="Symbol">{</a><a id="15042" class="Argument">sts</a> <a id="15046" class="Symbol">=</a> <a id="15048" href="Ledger.Gov.html#6524" class="Datatype Operator">_⊢_⇀⦇_,GOV⦈_</a><a id="15060" class="Symbol">}</a>

</pre></body></html>