<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Test.Examples.MultiSigV2.OffChain.Lib</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">module</a> <a id="32" href="Test.Examples.MultiSigV2.OffChain.Lib.html" class="Module">Test.Examples.MultiSigV2.OffChain.Lib</a> <a id="70" class="Keyword">where</a>

<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="104" class="Keyword">open</a> <a id="109" class="Keyword">import</a> <a id="116" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="156" class="Keyword">using</a> <a id="162" class="Symbol">(</a><a id="163" href="Ledger.Conway.Specification.Transaction.html#991" class="Record">TransactionStructure</a><a id="183" class="Symbol">)</a>

<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Test.Examples.MultiSigV2.Datum.html" class="Module">Test.Examples.MultiSigV2.Datum</a>
<a id="229" class="Keyword">open</a> <a id="234" class="Keyword">import</a> <a id="241" href="Test.Examples.MultiSigV2.Validator.html" class="Module">Test.Examples.MultiSigV2.Validator</a>
<a id="276" class="Keyword">open</a> <a id="281" class="Keyword">import</a> <a id="288" href="Test.Prelude.html" class="Module">Test.Prelude</a> <a id="301" href="Test.Examples.MultiSigV2.Datum.html#572" class="Function">MultiSigData</a>
<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Test.SymbolicData.html" class="Module">Test.SymbolicData</a> <a id="344" href="Test.Examples.MultiSigV2.Datum.html#572" class="Function">MultiSigData</a>
<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Test.LedgerImplementation.html" class="Module">Test.LedgerImplementation</a> <a id="395" href="Test.SymbolicData.html#240" class="Function">SData</a> <a id="401" href="Test.SymbolicData.html#240" class="Function">SData</a>
<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="Test.AbstractImplementation.html" class="Module">Test.AbstractImplementation</a> <a id="447" href="Test.SymbolicData.html#2904" class="Function">valContext</a>
<a id="458" class="Keyword">open</a> <a id="463" class="Keyword">import</a> <a id="470" href="Test.Lib.html" class="Module">Test.Lib</a> <a id="479" href="Test.SymbolicData.html#2904" class="Function">valContext</a>

<a id="491" class="Keyword">open</a> <a id="496" class="Keyword">import</a> <a id="503" href="Ledger.Conway.Specification.Script.Validation.html" class="Module">Ledger.Conway.Specification.Script.Validation</a> <a id="549" href="Test.LedgerImplementation.html#4277" class="Function">SVTransactionStructure</a> <a id="572" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>
<a id="592" class="Keyword">open</a> <a id="597" class="Keyword">import</a> <a id="604" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="644" class="Keyword">open</a> <a id="649" class="Keyword">import</a> <a id="656" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="689" href="Test.LedgerImplementation.html#4277" class="Function">SVTransactionStructure</a> <a id="712" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>

<a id="733" class="Keyword">open</a> <a id="738" href="Ledger.Conway.Specification.Transaction.html#991" class="Module">TransactionStructure</a> <a id="759" href="Test.LedgerImplementation.html#4277" class="Function">SVTransactionStructure</a>
<a id="782" class="Keyword">open</a> <a id="787" href="Test.LedgerImplementation.html#1058" class="Module">Implementation</a>

<a id="803" class="Keyword">open</a> <a id="808" class="Keyword">import</a> <a id="815" href="Data.List.html" class="Module">Data.List</a> <a id="825" class="Keyword">using</a> <a id="831" class="Symbol">(</a><a id="832" href="Data.List.Base.html#10389" class="Function">filter</a><a id="838" class="Symbol">)</a>

<a id="defaultTxBody"></a><a id="841" href="Test.Examples.MultiSigV2.OffChain.Lib.html#841" class="Function">defaultTxBody</a> <a id="855" class="Symbol">:</a> <a id="857" href="Ledger.Conway.Specification.Transaction.html#2982" class="Record">TxBody</a>
<a id="864" href="Test.Examples.MultiSigV2.OffChain.Lib.html#841" class="Function">defaultTxBody</a> <a id="878" class="Symbol">=</a> <a id="880" class="Keyword">record</a>
                  <a id="905" class="Symbol">{</a> <a id="907" href="Ledger.Conway.Specification.Transaction.html#3018" class="Field">txIns</a> <a id="913" class="Symbol">=</a> <a id="915" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                  <a id="935" class="Symbol">;</a> <a id="937" href="Ledger.Conway.Specification.Transaction.html#3054" class="Field">refInputs</a> <a id="947" class="Symbol">=</a> <a id="949" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                  <a id="969" class="Symbol">;</a> <a id="971" href="Ledger.Conway.Specification.Transaction.html#3090" class="Field">collateralInputs</a> <a id="988" class="Symbol">=</a> <a id="990" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                  <a id="1010" class="Symbol">;</a> <a id="1012" href="Ledger.Conway.Specification.Transaction.html#3126" class="Field">txOuts</a> <a id="1019" class="Symbol">=</a>  <a id="1022" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                  <a id="1042" class="Symbol">;</a> <a id="1044" href="Ledger.Conway.Specification.Transaction.html#3240" class="Field">txFee</a> <a id="1050" class="Symbol">=</a> <a id="1052" class="Number">10000000000</a>
                  <a id="1082" class="Symbol">;</a> <a id="1084" href="Ledger.Conway.Specification.Transaction.html#3624" class="Field">mint</a> <a id="1089" class="Symbol">=</a> <a id="1091" class="Number">0</a>
                  <a id="1111" class="Symbol">;</a> <a id="1113" href="Ledger.Conway.Specification.Transaction.html#3315" class="Field">txVldt</a> <a id="1120" class="Symbol">=</a> <a id="1122" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="1130" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1132" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                  <a id="1158" class="Symbol">;</a> <a id="1160" href="Ledger.Conway.Specification.Transaction.html#3200" class="Field">txCerts</a> <a id="1168" class="Symbol">=</a> <a id="1170" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                  <a id="1191" class="Symbol">;</a> <a id="1193" href="Ledger.Conway.Specification.Transaction.html#3274" class="Field">txWithdrawals</a> <a id="1207" class="Symbol">=</a> <a id="1209" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                  <a id="1229" class="Symbol">;</a> <a id="1231" href="Ledger.Conway.Specification.Transaction.html#3449" class="Field">txGovVotes</a> <a id="1242" class="Symbol">=</a> <a id="1244" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                  <a id="1265" class="Symbol">;</a> <a id="1267" href="Ledger.Conway.Specification.Transaction.html#3491" class="Field">txGovProposals</a> <a id="1282" class="Symbol">=</a> <a id="1284" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                  <a id="1305" class="Symbol">;</a> <a id="1307" href="Ledger.Conway.Specification.Transaction.html#3410" class="Field">txDonation</a> <a id="1318" class="Symbol">=</a> <a id="1320" class="Number">0</a>
                  <a id="1340" class="Symbol">;</a> <a id="1342" href="Ledger.Conway.Specification.Transaction.html#3368" class="Field">txADhash</a> <a id="1351" class="Symbol">=</a> <a id="1353" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                  <a id="1379" class="Symbol">;</a> <a id="1381" href="Ledger.Conway.Specification.Transaction.html#3537" class="Field">txNetworkId</a> <a id="1393" class="Symbol">=</a> <a id="1395" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1400" class="Number">0</a>
                  <a id="1420" class="Symbol">;</a> <a id="1422" href="Ledger.Conway.Specification.Transaction.html#3580" class="Field">currentTreasury</a> <a id="1438" class="Symbol">=</a> <a id="1440" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                  <a id="1466" class="Symbol">;</a> <a id="1468" href="Ledger.Conway.Specification.Transaction.html#3166" class="Field">txId</a> <a id="1473" class="Symbol">=</a> <a id="1475" class="Number">0</a>
                  <a id="1495" class="Symbol">;</a> <a id="1497" href="Ledger.Conway.Specification.Transaction.html#3659" class="Field">reqSignerHashes</a> <a id="1513" class="Symbol">=</a> <a id="1515" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                  <a id="1535" class="Symbol">;</a> <a id="1537" href="Ledger.Conway.Specification.Transaction.html#3698" class="Field">scriptIntegrityHash</a> <a id="1557" class="Symbol">=</a> <a id="1559" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                  <a id="1585" class="Symbol">}</a>

<a id="matchScriptAddress"></a><a id="1588" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1588" class="Function">matchScriptAddress</a> <a id="1607" class="Symbol">:</a> <a id="1609" class="Symbol">(</a><a id="1610" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1610" class="Bound">scriptHash</a> <a id="1621" class="Symbol">:</a> <a id="1623" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1624" class="Symbol">)</a> <a id="1626" class="Symbol">→</a> <a id="1628" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="1639" class="Symbol">→</a> <a id="1641" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1645" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1588" class="Function">matchScriptAddress</a> <a id="1664" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1664" class="Bound">sh</a> <a id="1667" class="Symbol">(</a><a id="1668" href="Ledger.Core.Specification.Address.html#285" class="InductiveConstructor">KeyHashObj</a> <a id="1679" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1679" class="Bound">x</a><a id="1680" class="Symbol">)</a> <a id="1682" class="Symbol">=</a> <a id="1684" href="Data.Empty.html#914" class="Function">⊥</a>
<a id="1686" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1588" class="Function">matchScriptAddress</a> <a id="1705" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1705" class="Bound">sh</a> <a id="1708" class="Symbol">(</a><a id="1709" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="1719" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1719" class="Bound">y</a><a id="1720" class="Symbol">)</a> <a id="1722" class="Symbol">=</a> <a id="1724" href="Relation.Nullary.Decidable.Core.html#4876" class="Function">True</a> <a id="1729" class="Symbol">(</a><a id="1730" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1705" class="Bound">sh</a> <a id="1733" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="1735" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1719" class="Bound">y</a><a id="1736" class="Symbol">)</a>

<a id="matchScriptAddress?"></a><a id="1739" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1739" class="Function">matchScriptAddress?</a> <a id="1759" class="Symbol">:</a> <a id="1761" class="Symbol">(</a><a id="1762" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1762" class="Bound">sh</a> <a id="1765" class="Symbol">:</a> <a id="1767" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1768" class="Symbol">)</a> <a id="1770" class="Symbol">→</a> <a id="1772" class="Symbol">(</a><a id="1773" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1773" class="Bound">c</a> <a id="1775" class="Symbol">:</a> <a id="1777" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a><a id="1787" class="Symbol">)</a> <a id="1789" class="Symbol">→</a> <a id="1791" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="1795" class="Symbol">(</a><a id="1796" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1588" class="Function">matchScriptAddress</a> <a id="1815" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1762" class="Bound">sh</a> <a id="1818" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1773" class="Bound">c</a><a id="1819" class="Symbol">)</a>
<a id="1821" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1739" class="Function">matchScriptAddress?</a> <a id="1841" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1841" class="Bound">sh</a> <a id="1844" class="Symbol">(</a><a id="1845" href="Ledger.Core.Specification.Address.html#285" class="InductiveConstructor">KeyHashObj</a> <a id="1856" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1856" class="Bound">x</a><a id="1857" class="Symbol">)</a> <a id="1859" class="Symbol">=</a> <a id="1861" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="1864" class="Symbol">(λ</a> <a id="1867" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1867" class="Bound">x₁</a> <a id="1870" class="Symbol">→</a> <a id="1872" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1867" class="Bound">x₁</a><a id="1874" class="Symbol">)</a>
<a id="1876" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1739" class="Function">matchScriptAddress?</a> <a id="1896" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1896" class="Bound">sh</a> <a id="1899" class="Symbol">(</a><a id="1900" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="1910" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1910" class="Bound">y</a><a id="1911" class="Symbol">)</a> <a id="1913" class="Symbol">=</a> <a id="1915" href="Relation.Nullary.Decidable.Core.html#3225" class="Function">T?</a> <a id="1918" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌊</a> <a id="1920" class="Symbol">(</a><a id="1921" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1896" class="Bound">sh</a> <a id="1924" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="1926" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1910" class="Bound">y</a><a id="1927" class="Symbol">)</a> <a id="1929" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌋</a>

<a id="getScriptUTxO"></a><a id="1932" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1932" class="Function">getScriptUTxO</a> <a id="1946" class="Symbol">:</a> <a id="1948" class="Symbol">(</a><a id="1949" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1949" class="Bound">scriptHash</a> <a id="1960" class="Symbol">:</a> <a id="1962" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1963" class="Symbol">)</a> <a id="1965" class="Symbol">→</a> <a id="1967" href="Ledger.Conway.Specification.Transaction.html#2702" class="Function">UTxO</a> <a id="1972" class="Symbol">→</a> <a id="1974" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1980" class="Symbol">(</a><a id="1981" href="Ledger.Conway.Specification.Transaction.html#2591" class="Function">TxIn</a> <a id="1986" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1988" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a><a id="1993" class="Symbol">)</a>
<a id="1995" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1932" class="Function">getScriptUTxO</a> <a id="2009" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2009" class="Bound">sh</a> <a id="2012" class="Symbol">(</a><a id="2013" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2013" class="Bound">utxo</a> <a id="2018" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2020" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2020" class="Bound">prf</a><a id="2023" class="Symbol">)</a> <a id="2025" class="Symbol">=</a> <a id="2027" href="Data.List.Base.html#8143" class="Function">head</a> <a id="2032" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="2034" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="2041" class="Symbol">(λ</a> <a id="2044" class="Symbol">{</a> <a id="2046" class="Symbol">(_</a> <a id="2049" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2051" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2051" class="Bound">addr</a> <a id="2056" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2058" class="Symbol">_)</a> <a id="2061" class="Symbol">→</a> <a id="2063" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1739" class="Function">matchScriptAddress?</a> <a id="2083" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2009" class="Bound">sh</a> <a id="2086" class="Symbol">(</a><a id="2087" href="Ledger.Core.Specification.Address.html#2685" class="Function">payCred</a> <a id="2095" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2051" class="Bound">addr</a><a id="2099" class="Symbol">)})</a> <a id="2103" class="Symbol">(</a><a id="2104" href="abstract-set-theory.FiniteSetTheory.html#2617" class="Function">setToList</a> <a id="2114" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2013" class="Bound">utxo</a><a id="2118" class="Symbol">)</a>

<a id="matchWalletHash"></a><a id="2121" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2121" class="Function">matchWalletHash</a> <a id="2137" class="Symbol">:</a> <a id="2139" class="Symbol">(</a><a id="2140" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2140" class="Bound">keyHash</a> <a id="2148" class="Symbol">:</a> <a id="2150" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2151" class="Symbol">)</a> <a id="2153" class="Symbol">→</a> <a id="2155" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="2166" class="Symbol">→</a> <a id="2168" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="2172" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2121" class="Function">matchWalletHash</a> <a id="2188" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2188" class="Bound">kh</a> <a id="2191" class="Symbol">(</a><a id="2192" href="Ledger.Core.Specification.Address.html#285" class="InductiveConstructor">KeyHashObj</a> <a id="2203" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2203" class="Bound">x</a><a id="2204" class="Symbol">)</a> <a id="2206" class="Symbol">=</a> <a id="2208" href="Relation.Nullary.Decidable.Core.html#4876" class="Function">True</a> <a id="2213" class="Symbol">(</a><a id="2214" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2188" class="Bound">kh</a> <a id="2217" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="2219" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2203" class="Bound">x</a><a id="2220" class="Symbol">)</a>
<a id="2222" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2121" class="Function">matchWalletHash</a> <a id="2238" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2238" class="Bound">kh</a> <a id="2241" class="Symbol">(</a><a id="2242" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="2252" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2252" class="Bound">y</a><a id="2253" class="Symbol">)</a> <a id="2255" class="Symbol">=</a> <a id="2257" href="Data.Empty.html#914" class="Function">⊥</a>

<a id="matchWalletHash?"></a><a id="2260" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2260" class="Function">matchWalletHash?</a> <a id="2277" class="Symbol">:</a> <a id="2279" class="Symbol">(</a><a id="2280" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2280" class="Bound">sh</a> <a id="2283" class="Symbol">:</a> <a id="2285" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2286" class="Symbol">)</a> <a id="2288" class="Symbol">→</a> <a id="2290" class="Symbol">(</a><a id="2291" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2291" class="Bound">c</a> <a id="2293" class="Symbol">:</a> <a id="2295" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a><a id="2305" class="Symbol">)</a> <a id="2307" class="Symbol">→</a> <a id="2309" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="2313" class="Symbol">(</a><a id="2314" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2121" class="Function">matchWalletHash</a> <a id="2330" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2280" class="Bound">sh</a> <a id="2333" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2291" class="Bound">c</a><a id="2334" class="Symbol">)</a>
<a id="2336" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2260" class="Function">matchWalletHash?</a> <a id="2353" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2353" class="Bound">kh</a> <a id="2356" class="Symbol">(</a><a id="2357" href="Ledger.Core.Specification.Address.html#285" class="InductiveConstructor">KeyHashObj</a> <a id="2368" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2368" class="Bound">x</a><a id="2369" class="Symbol">)</a> <a id="2371" class="Symbol">=</a> <a id="2373" href="Relation.Nullary.Decidable.Core.html#3225" class="Function">T?</a> <a id="2376" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌊</a> <a id="2378" class="Symbol">(</a><a id="2379" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2353" class="Bound">kh</a> <a id="2382" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="2384" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2368" class="Bound">x</a><a id="2385" class="Symbol">)</a> <a id="2387" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌋</a>
<a id="2389" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2260" class="Function">matchWalletHash?</a> <a id="2406" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2406" class="Bound">kh</a> <a id="2409" class="Symbol">(</a><a id="2410" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="2420" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2420" class="Bound">y</a><a id="2421" class="Symbol">)</a> <a id="2423" class="Symbol">=</a> <a id="2425" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2428" class="Symbol">(λ</a> <a id="2431" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2431" class="Bound">x₁</a> <a id="2434" class="Symbol">→</a> <a id="2436" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2431" class="Bound">x₁</a><a id="2438" class="Symbol">)</a>

<a id="getWalletUTxO"></a><a id="2441" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2441" class="Function">getWalletUTxO</a> <a id="2455" class="Symbol">:</a> <a id="2457" class="Symbol">(</a><a id="2458" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2458" class="Bound">scriptHash</a> <a id="2469" class="Symbol">:</a> <a id="2471" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2472" class="Symbol">)</a> <a id="2474" class="Symbol">→</a> <a id="2476" href="Ledger.Conway.Specification.Transaction.html#2702" class="Function">UTxO</a> <a id="2481" class="Symbol">→</a> <a id="2483" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2488" class="Symbol">(</a><a id="2489" href="Ledger.Conway.Specification.Transaction.html#2591" class="Function">TxIn</a> <a id="2494" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2496" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a><a id="2501" class="Symbol">)</a>
<a id="2503" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2441" class="Function">getWalletUTxO</a> <a id="2517" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2517" class="Bound">sh</a> <a id="2520" class="Symbol">(</a><a id="2521" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2521" class="Bound">utxo</a> <a id="2526" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2528" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2528" class="Bound">prf</a><a id="2531" class="Symbol">)</a> <a id="2533" class="Symbol">=</a> <a id="2535" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="2542" class="Symbol">(λ</a> <a id="2545" class="Symbol">{</a> <a id="2547" class="Symbol">(_</a> <a id="2550" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2552" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2552" class="Bound">addr</a> <a id="2557" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2559" class="Symbol">_)</a> <a id="2562" class="Symbol">→</a> <a id="2564" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2260" class="Function">matchWalletHash?</a> <a id="2581" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2517" class="Bound">sh</a> <a id="2584" class="Symbol">(</a><a id="2585" href="Ledger.Core.Specification.Address.html#2685" class="Function">payCred</a> <a id="2593" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2552" class="Bound">addr</a><a id="2597" class="Symbol">)})</a> <a id="2601" class="Symbol">(</a><a id="2602" href="abstract-set-theory.FiniteSetTheory.html#2617" class="Function">setToList</a> <a id="2612" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2521" class="Bound">utxo</a><a id="2616" class="Symbol">)</a>

<a id="succeedTxOut&#39;"></a><a id="2619" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2619" class="Function">succeedTxOut&#39;</a> <a id="2633" class="Symbol">:</a> <a id="2635" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a>
<a id="2641" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2619" class="Function">succeedTxOut&#39;</a> <a id="2655" class="Symbol">=</a> <a id="2657" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2662" class="Symbol">(</a><a id="2663" class="Keyword">record</a> <a id="2670" class="Symbol">{</a> <a id="2672" href="Ledger.Core.Specification.Address.html#1119" class="Field">net</a> <a id="2676" class="Symbol">=</a> <a id="2678" class="Number">0</a> <a id="2680" class="Symbol">;</a>
                           <a id="2709" href="Ledger.Core.Specification.Address.html#1140" class="Field">pay</a> <a id="2713" class="Symbol">=</a> <a id="2715" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="2725" class="Number">777</a> <a id="2729" class="Symbol">;</a>
                           <a id="2758" href="Ledger.Core.Specification.Address.html#1164" class="Field">stake</a> <a id="2764" class="Symbol">=</a> <a id="2766" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2771" class="Symbol">(</a><a id="2772" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="2782" class="Number">777</a><a id="2785" class="Symbol">)</a> <a id="2787" class="Symbol">})</a>
                           <a id="2817" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2819" class="Number">700000000000</a> <a id="2832" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2834" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2839" class="Symbol">(</a><a id="2840" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2845" class="Symbol">(</a><a id="2846" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2851" class="Symbol">(</a><a id="2852" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2857" href="Test.Examples.MultiSigV2.Datum.html#197" class="InductiveConstructor">Holding</a><a id="2864" class="Symbol">)))</a> <a id="2868" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2870" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="getLabel"></a><a id="2879" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2879" class="Function">getLabel</a> <a id="2888" class="Symbol">:</a> <a id="2890" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a> <a id="2896" class="Symbol">→</a> <a id="2898" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2904" href="Test.Examples.MultiSigV2.Datum.html#177" class="Datatype">Label</a>
<a id="2910" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2879" class="Function">getLabel</a> <a id="2919" class="Symbol">(</a><a id="2920" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2920" class="Bound">fst</a> <a id="2924" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2926" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2926" class="Bound">fst₁</a> <a id="2931" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2933" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2938" class="Symbol">(</a><a id="2939" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2944" class="Symbol">(</a><a id="2945" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2950" class="Symbol">(</a><a id="2951" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2956" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2956" class="Bound">x</a><a id="2957" class="Symbol">)))</a> <a id="2961" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2963" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2963" class="Bound">snd</a><a id="2966" class="Symbol">)</a> <a id="2968" class="Symbol">=</a> <a id="2970" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2975" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2956" class="Bound">x</a>
<a id="2977" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2879" class="Function">getLabel</a> <a id="2986" class="Symbol">(</a><a id="2987" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2987" class="Bound">fst</a> <a id="2991" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2993" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2993" class="Bound">fst₁</a> <a id="2998" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3000" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3005" class="Symbol">(</a><a id="3006" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3011" class="Symbol">(</a><a id="3012" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3017" class="Symbol">(</a><a id="3018" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3023" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3023" class="Bound">y</a><a id="3024" class="Symbol">)))</a> <a id="3028" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3030" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3030" class="Bound">snd</a><a id="3033" class="Symbol">)</a> <a id="3035" class="Symbol">=</a> <a id="3037" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="3045" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2879" class="Function">getLabel</a> <a id="3054" class="Symbol">(</a><a id="3055" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3055" class="Bound">fst</a> <a id="3059" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3061" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3061" class="Bound">fst₁</a> <a id="3066" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3068" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3073" class="Symbol">(</a><a id="3074" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3079" class="Symbol">(</a><a id="3080" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3085" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3085" class="Bound">y</a><a id="3086" class="Symbol">))</a> <a id="3089" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3091" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3091" class="Bound">snd</a><a id="3094" class="Symbol">)</a> <a id="3096" class="Symbol">=</a> <a id="3098" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="3106" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2879" class="Function">getLabel</a> <a id="3115" class="Symbol">(</a><a id="3116" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3116" class="Bound">fst</a> <a id="3120" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3122" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3122" class="Bound">fst₁</a> <a id="3127" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3129" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3134" class="Symbol">(</a><a id="3135" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3140" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3140" class="Bound">y</a><a id="3141" class="Symbol">)</a> <a id="3143" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3145" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3145" class="Bound">snd</a><a id="3148" class="Symbol">)</a> <a id="3150" class="Symbol">=</a> <a id="3152" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="3160" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2879" class="Function">getLabel</a> <a id="3169" class="Symbol">(</a><a id="3170" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3170" class="Bound">fst</a> <a id="3174" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3176" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3176" class="Bound">fst₁</a> <a id="3181" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3183" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3191" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3193" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3193" class="Bound">snd</a><a id="3196" class="Symbol">)</a> <a id="3198" class="Symbol">=</a> <a id="3200" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="3209" class="Comment">-- Assumes a list of filtered waller txins and subtracts a default fee from the head of the list</a>
<a id="makeFeeTxOut"></a><a id="3306" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3306" class="Function">makeFeeTxOut</a> <a id="3319" class="Symbol">:</a> <a id="3321" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3326" class="Symbol">(</a><a id="3327" href="Ledger.Conway.Specification.Transaction.html#2591" class="Function">TxIn</a> <a id="3332" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3334" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a><a id="3339" class="Symbol">)</a> <a id="3341" class="Symbol">→</a> <a id="3343" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3348" class="Symbol">(</a><a id="3349" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3351" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3353" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a><a id="3358" class="Symbol">)</a>
<a id="3360" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3306" class="Function">makeFeeTxOut</a> <a id="3373" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3376" class="Symbol">=</a> <a id="3378" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="3381" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3306" class="Function">makeFeeTxOut</a> <a id="3394" class="Symbol">((</a><a id="3396" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3396" class="Bound">txin</a> <a id="3401" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3403" class="Symbol">(</a><a id="3404" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3404" class="Bound">fst</a> <a id="3408" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3410" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3410" class="Bound">txValue</a> <a id="3418" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3420" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3420" class="Bound">snd</a><a id="3423" class="Symbol">))</a> <a id="3426" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3428" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3428" class="Bound">utxos</a><a id="3433" class="Symbol">)</a> <a id="3435" class="Symbol">=</a> <a id="3437" class="Symbol">(</a><a id="3438" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="3444" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3396" class="Bound">txin</a> <a id="3449" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3451" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3404" class="Bound">fst</a> <a id="3455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3457" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3410" class="Bound">txValue</a> <a id="3465" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="3467" class="Number">10000000000</a> <a id="3479" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3481" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3420" class="Bound">snd</a><a id="3484" class="Symbol">)</a> <a id="3486" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3488" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="makeFeeUnPaymentTxOut"></a><a id="3492" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3492" class="Function">makeFeeUnPaymentTxOut</a> <a id="3514" class="Symbol">:</a> <a id="3516" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3521" class="Symbol">(</a><a id="3522" href="Ledger.Conway.Specification.Transaction.html#2591" class="Function">TxIn</a> <a id="3527" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3529" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a><a id="3534" class="Symbol">)</a> <a id="3536" class="Symbol">→</a> <a id="3538" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a> <a id="3544" class="Symbol">→</a> <a id="3546" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3551" class="Symbol">(</a><a id="3552" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3554" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3556" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a><a id="3561" class="Symbol">)</a>
<a id="3563" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3492" class="Function">makeFeeUnPaymentTxOut</a> <a id="3585" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3588" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3588" class="Bound">v</a> <a id="3590" class="Symbol">=</a> <a id="3592" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="3595" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3492" class="Function">makeFeeUnPaymentTxOut</a> <a id="3617" class="Symbol">((</a><a id="3619" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3619" class="Bound">txin</a> <a id="3624" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3626" class="Symbol">(</a><a id="3627" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3627" class="Bound">fst</a> <a id="3631" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3633" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3633" class="Bound">txValue</a> <a id="3641" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3643" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3643" class="Bound">snd</a><a id="3646" class="Symbol">))</a> <a id="3649" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3651" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3651" class="Bound">utxos</a><a id="3656" class="Symbol">)</a> <a id="3658" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3658" class="Bound">v</a> <a id="3660" class="Symbol">=</a> <a id="3662" class="Symbol">(</a><a id="3663" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="3669" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3619" class="Bound">txin</a> <a id="3674" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3676" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3627" class="Bound">fst</a> <a id="3680" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3682" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="3686" class="Symbol">{{</a><a id="3688" href="Ledger.Core.Specification.TokenAlgebra.Base.html#1272" class="Function">addValue</a><a id="3696" class="Symbol">}}</a> <a id="3699" class="Symbol">(</a><a id="3700" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3633" class="Bound">txValue</a> <a id="3708" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="3710" href="Test.Examples.MultiSigV2.Validator.html#937" class="Function">feeValue</a><a id="3718" class="Symbol">)</a> <a id="3720" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3658" class="Bound">v</a> <a id="3722" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3724" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3643" class="Bound">snd</a><a id="3727" class="Symbol">)</a> <a id="3729" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3731" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="makeFeePaymentTxOut"></a><a id="3735" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3735" class="Function">makeFeePaymentTxOut</a> <a id="3755" class="Symbol">:</a> <a id="3757" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3762" class="Symbol">(</a><a id="3763" href="Ledger.Conway.Specification.Transaction.html#2591" class="Function">TxIn</a> <a id="3768" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3770" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a><a id="3775" class="Symbol">)</a> <a id="3777" class="Symbol">→</a> <a id="3779" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a> <a id="3785" class="Symbol">→</a> <a id="3787" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3792" class="Symbol">(</a><a id="3793" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3795" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3797" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a><a id="3802" class="Symbol">)</a>
<a id="3804" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3735" class="Function">makeFeePaymentTxOut</a> <a id="3824" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3827" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3827" class="Bound">v</a> <a id="3829" class="Symbol">=</a> <a id="3831" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="3834" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3735" class="Function">makeFeePaymentTxOut</a> <a id="3854" class="Symbol">((</a><a id="3856" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3856" class="Bound">txin</a> <a id="3861" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3863" class="Symbol">(</a><a id="3864" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3864" class="Bound">fst</a> <a id="3868" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3870" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3870" class="Bound">txValue</a> <a id="3878" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3880" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3880" class="Bound">snd</a><a id="3883" class="Symbol">))</a> <a id="3886" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3888" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3888" class="Bound">utxos</a><a id="3893" class="Symbol">)</a> <a id="3895" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3895" class="Bound">v</a> <a id="3897" class="Symbol">=</a> <a id="3899" class="Symbol">(</a><a id="3900" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="3906" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3856" class="Bound">txin</a> <a id="3911" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3913" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3864" class="Bound">fst</a> <a id="3917" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3919" class="Symbol">(</a><a id="3920" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3870" class="Bound">txValue</a> <a id="3928" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="3930" href="Test.Examples.MultiSigV2.Validator.html#937" class="Function">feeValue</a> <a id="3939" class="Symbol">)</a> <a id="3941" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="3943" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3895" class="Bound">v</a> <a id="3945" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3947" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3880" class="Bound">snd</a><a id="3950" class="Symbol">)</a> <a id="3952" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3954" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="3958" class="Comment">-- return id of 0 if no txins</a>
<a id="getTxId"></a><a id="3988" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3988" class="Function">getTxId</a> <a id="3996" class="Symbol">:</a> <a id="3998" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4003" class="Symbol">(</a><a id="4004" href="Ledger.Conway.Specification.Transaction.html#2591" class="Function">TxIn</a> <a id="4009" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4011" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a><a id="4016" class="Symbol">)</a> <a id="4018" class="Symbol">→</a> <a id="4020" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="4022" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3988" class="Function">getTxId</a> <a id="4030" href="Test.Examples.MultiSigV2.OffChain.Lib.html#4030" class="Bound">xs</a> <a id="4033" class="Symbol">=</a> <a id="4035" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="4041" class="Symbol">(λ</a> <a id="4044" href="Test.Examples.MultiSigV2.OffChain.Lib.html#4044" class="Bound">x</a> <a id="4046" class="Symbol">→</a> <a id="4048" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4054" class="Symbol">(</a><a id="4055" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4061" href="Test.Examples.MultiSigV2.OffChain.Lib.html#4044" class="Bound">x</a><a id="4062" class="Symbol">))</a> <a id="4065" class="Number">0</a> <a id="4067" class="Symbol">(</a><a id="4068" href="Data.List.Base.html#8143" class="Function">head</a> <a id="4073" href="Test.Examples.MultiSigV2.OffChain.Lib.html#4030" class="Bound">xs</a><a id="4075" class="Symbol">)</a>

</pre></body></html>