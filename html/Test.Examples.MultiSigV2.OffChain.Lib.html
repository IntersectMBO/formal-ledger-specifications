<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Test.Examples.MultiSigV2.OffChain.Lib</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">module</a> <a id="32" href="Test.Examples.MultiSigV2.OffChain.Lib.html" class="Module">Test.Examples.MultiSigV2.OffChain.Lib</a> <a id="70" class="Keyword">where</a>

<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="104" class="Keyword">open</a> <a id="109" class="Keyword">import</a> <a id="116" href="Ledger.Core.Specification.Transaction.html" class="Module">Ledger.Core.Specification.Transaction</a> <a id="154" class="Keyword">using</a> <a id="160" class="Symbol">(</a><a id="161" href="Ledger.Core.Specification.Transaction.html#896" class="Record">TransactionStructure</a><a id="181" class="Symbol">)</a>

<a id="184" class="Keyword">open</a> <a id="189" class="Keyword">import</a> <a id="196" href="Test.Examples.MultiSigV2.Datum.html" class="Module">Test.Examples.MultiSigV2.Datum</a>
<a id="227" class="Keyword">open</a> <a id="232" class="Keyword">import</a> <a id="239" href="Test.Examples.MultiSigV2.Validator.html" class="Module">Test.Examples.MultiSigV2.Validator</a>
<a id="274" class="Keyword">open</a> <a id="279" class="Keyword">import</a> <a id="286" href="Test.Prelude.html" class="Module">Test.Prelude</a> <a id="299" href="Test.Examples.MultiSigV2.Datum.html#572" class="Function">MultiSigData</a>
<a id="312" class="Keyword">open</a> <a id="317" class="Keyword">import</a> <a id="324" href="Test.SymbolicData.html" class="Module">Test.SymbolicData</a> <a id="342" href="Test.Examples.MultiSigV2.Datum.html#572" class="Function">MultiSigData</a>
<a id="355" class="Keyword">open</a> <a id="360" class="Keyword">import</a> <a id="367" href="Test.LedgerImplementation.html" class="Module">Test.LedgerImplementation</a> <a id="393" href="Test.SymbolicData.html#240" class="Function">SData</a> <a id="399" href="Test.SymbolicData.html#240" class="Function">SData</a>
<a id="405" class="Keyword">open</a> <a id="410" class="Keyword">import</a> <a id="417" href="Test.AbstractImplementation.html" class="Module">Test.AbstractImplementation</a> <a id="445" href="Test.SymbolicData.html#2902" class="Function">valContext</a>
<a id="456" class="Keyword">open</a> <a id="461" class="Keyword">import</a> <a id="468" href="Test.Lib.html" class="Module">Test.Lib</a> <a id="477" href="Test.SymbolicData.html#2902" class="Function">valContext</a>

<a id="489" class="Keyword">open</a> <a id="494" class="Keyword">import</a> <a id="501" href="Ledger.Conway.Specification.Script.Validation.html" class="Module">Ledger.Conway.Specification.Script.Validation</a> <a id="547" href="Test.LedgerImplementation.html#4275" class="Function">SVTransactionStructure</a> <a id="570" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>
<a id="590" class="Keyword">open</a> <a id="595" class="Keyword">import</a> <a id="602" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="642" href="Test.LedgerImplementation.html#4275" class="Function">SVTransactionStructure</a> <a id="665" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>
<a id="685" class="Keyword">open</a> <a id="690" class="Keyword">import</a> <a id="697" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="730" href="Test.LedgerImplementation.html#4275" class="Function">SVTransactionStructure</a> <a id="753" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>

<a id="774" class="Keyword">open</a> <a id="779" href="Ledger.Core.Specification.Transaction.html#896" class="Module">TransactionStructure</a> <a id="800" href="Test.LedgerImplementation.html#4275" class="Function">SVTransactionStructure</a>
<a id="823" class="Keyword">open</a> <a id="828" href="Test.LedgerImplementation.html#1056" class="Module">Implementation</a>

<a id="844" class="Keyword">open</a> <a id="849" class="Keyword">import</a> <a id="856" href="Data.List.html" class="Module">Data.List</a> <a id="866" class="Keyword">using</a> <a id="872" class="Symbol">(</a><a id="873" href="Data.List.Base.html#10389" class="Function">filter</a><a id="879" class="Symbol">)</a>

<a id="defaultTxBody"></a><a id="882" href="Test.Examples.MultiSigV2.OffChain.Lib.html#882" class="Function">defaultTxBody</a> <a id="896" class="Symbol">:</a> <a id="898" href="Ledger.Conway.Specification.Transaction.html#350" class="Record">TxBody</a>
<a id="905" href="Test.Examples.MultiSigV2.OffChain.Lib.html#882" class="Function">defaultTxBody</a> <a id="919" class="Symbol">=</a> <a id="921" class="Keyword">record</a>
                  <a id="946" class="Symbol">{</a> <a id="948" href="Ledger.Conway.Specification.Transaction.html#382" class="Field">txIns</a> <a id="954" class="Symbol">=</a> <a id="956" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                  <a id="976" class="Symbol">;</a> <a id="978" href="Ledger.Conway.Specification.Transaction.html#416" class="Field">refInputs</a> <a id="988" class="Symbol">=</a> <a id="990" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                  <a id="1010" class="Symbol">;</a> <a id="1012" href="Ledger.Conway.Specification.Transaction.html#450" class="Field">collateralInputs</a> <a id="1029" class="Symbol">=</a> <a id="1031" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                  <a id="1051" class="Symbol">;</a> <a id="1053" href="Ledger.Conway.Specification.Transaction.html#484" class="Field">txOuts</a> <a id="1060" class="Symbol">=</a>  <a id="1063" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                  <a id="1083" class="Symbol">;</a> <a id="1085" href="Ledger.Conway.Specification.Transaction.html#592" class="Field">txFee</a> <a id="1091" class="Symbol">=</a> <a id="1093" class="Number">10000000000</a>
                  <a id="1123" class="Symbol">;</a> <a id="1125" href="Ledger.Conway.Specification.Transaction.html#958" class="Field">mint</a> <a id="1130" class="Symbol">=</a> <a id="1132" class="Number">0</a>
                  <a id="1152" class="Symbol">;</a> <a id="1154" href="Ledger.Conway.Specification.Transaction.html#663" class="Field">txVldt</a> <a id="1161" class="Symbol">=</a> <a id="1163" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="1171" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1173" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                  <a id="1199" class="Symbol">;</a> <a id="1201" href="Ledger.Conway.Specification.Transaction.html#554" class="Field">txCerts</a> <a id="1209" class="Symbol">=</a> <a id="1211" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                  <a id="1232" class="Symbol">;</a> <a id="1234" href="Ledger.Conway.Specification.Transaction.html#624" class="Field">txWithdrawals</a> <a id="1248" class="Symbol">=</a> <a id="1250" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                  <a id="1270" class="Symbol">;</a> <a id="1272" href="Ledger.Conway.Specification.Transaction.html#791" class="Field">txGovVotes</a> <a id="1283" class="Symbol">=</a> <a id="1285" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                  <a id="1306" class="Symbol">;</a> <a id="1308" href="Ledger.Conway.Specification.Transaction.html#831" class="Field">txGovProposals</a> <a id="1323" class="Symbol">=</a> <a id="1325" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                  <a id="1346" class="Symbol">;</a> <a id="1348" href="Ledger.Conway.Specification.Transaction.html#754" class="Field">txDonation</a> <a id="1359" class="Symbol">=</a> <a id="1361" class="Number">0</a>
                  <a id="1381" class="Symbol">;</a> <a id="1383" href="Ledger.Conway.Specification.Transaction.html#714" class="Field">txADhash</a> <a id="1392" class="Symbol">=</a> <a id="1394" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                  <a id="1420" class="Symbol">;</a> <a id="1422" href="Ledger.Conway.Specification.Transaction.html#875" class="Field">txNetworkId</a> <a id="1434" class="Symbol">=</a> <a id="1436" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1441" class="Number">0</a>
                  <a id="1461" class="Symbol">;</a> <a id="1463" href="Ledger.Conway.Specification.Transaction.html#916" class="Field">currentTreasury</a> <a id="1479" class="Symbol">=</a> <a id="1481" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                  <a id="1507" class="Symbol">;</a> <a id="1509" href="Ledger.Conway.Specification.Transaction.html#522" class="Field">txId</a> <a id="1514" class="Symbol">=</a> <a id="1516" class="Number">0</a>
                  <a id="1536" class="Symbol">;</a> <a id="1538" href="Ledger.Conway.Specification.Transaction.html#991" class="Field">reqSignerHashes</a> <a id="1554" class="Symbol">=</a> <a id="1556" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                  <a id="1576" class="Symbol">;</a> <a id="1578" href="Ledger.Conway.Specification.Transaction.html#1028" class="Field">scriptIntegrityHash</a> <a id="1598" class="Symbol">=</a> <a id="1600" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                  <a id="1626" class="Symbol">}</a>

<a id="matchScriptAddress"></a><a id="1629" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1629" class="Function">matchScriptAddress</a> <a id="1648" class="Symbol">:</a> <a id="1650" class="Symbol">(</a><a id="1651" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1651" class="Bound">scriptHash</a> <a id="1662" class="Symbol">:</a> <a id="1664" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1665" class="Symbol">)</a> <a id="1667" class="Symbol">→</a> <a id="1669" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="1680" class="Symbol">→</a> <a id="1682" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1686" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1629" class="Function">matchScriptAddress</a> <a id="1705" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1705" class="Bound">sh</a> <a id="1708" class="Symbol">(</a><a id="1709" href="Ledger.Core.Specification.Address.html#285" class="InductiveConstructor">KeyHashObj</a> <a id="1720" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1720" class="Bound">x</a><a id="1721" class="Symbol">)</a> <a id="1723" class="Symbol">=</a> <a id="1725" href="Data.Empty.html#914" class="Function">⊥</a>
<a id="1727" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1629" class="Function">matchScriptAddress</a> <a id="1746" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1746" class="Bound">sh</a> <a id="1749" class="Symbol">(</a><a id="1750" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="1760" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1760" class="Bound">y</a><a id="1761" class="Symbol">)</a> <a id="1763" class="Symbol">=</a> <a id="1765" href="Relation.Nullary.Decidable.Core.html#4876" class="Function">True</a> <a id="1770" class="Symbol">(</a><a id="1771" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1746" class="Bound">sh</a> <a id="1774" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="1776" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1760" class="Bound">y</a><a id="1777" class="Symbol">)</a>

<a id="matchScriptAddress?"></a><a id="1780" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1780" class="Function">matchScriptAddress?</a> <a id="1800" class="Symbol">:</a> <a id="1802" class="Symbol">(</a><a id="1803" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1803" class="Bound">sh</a> <a id="1806" class="Symbol">:</a> <a id="1808" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1809" class="Symbol">)</a> <a id="1811" class="Symbol">→</a> <a id="1813" class="Symbol">(</a><a id="1814" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1814" class="Bound">c</a> <a id="1816" class="Symbol">:</a> <a id="1818" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a><a id="1828" class="Symbol">)</a> <a id="1830" class="Symbol">→</a> <a id="1832" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="1836" class="Symbol">(</a><a id="1837" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1629" class="Function">matchScriptAddress</a> <a id="1856" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1803" class="Bound">sh</a> <a id="1859" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1814" class="Bound">c</a><a id="1860" class="Symbol">)</a>
<a id="1862" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1780" class="Function">matchScriptAddress?</a> <a id="1882" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1882" class="Bound">sh</a> <a id="1885" class="Symbol">(</a><a id="1886" href="Ledger.Core.Specification.Address.html#285" class="InductiveConstructor">KeyHashObj</a> <a id="1897" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1897" class="Bound">x</a><a id="1898" class="Symbol">)</a> <a id="1900" class="Symbol">=</a> <a id="1902" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="1905" class="Symbol">(λ</a> <a id="1908" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1908" class="Bound">x₁</a> <a id="1911" class="Symbol">→</a> <a id="1913" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1908" class="Bound">x₁</a><a id="1915" class="Symbol">)</a>
<a id="1917" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1780" class="Function">matchScriptAddress?</a> <a id="1937" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1937" class="Bound">sh</a> <a id="1940" class="Symbol">(</a><a id="1941" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="1951" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1951" class="Bound">y</a><a id="1952" class="Symbol">)</a> <a id="1954" class="Symbol">=</a> <a id="1956" href="Relation.Nullary.Decidable.Core.html#3225" class="Function">T?</a> <a id="1959" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌊</a> <a id="1961" class="Symbol">(</a><a id="1962" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1937" class="Bound">sh</a> <a id="1965" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="1967" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1951" class="Bound">y</a><a id="1968" class="Symbol">)</a> <a id="1970" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌋</a>

<a id="getScriptUTxO"></a><a id="1973" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1973" class="Function">getScriptUTxO</a> <a id="1987" class="Symbol">:</a> <a id="1989" class="Symbol">(</a><a id="1990" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1990" class="Bound">scriptHash</a> <a id="2001" class="Symbol">:</a> <a id="2003" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2004" class="Symbol">)</a> <a id="2006" class="Symbol">→</a> <a id="2008" href="Ledger.Core.Specification.Transaction.html#2607" class="Function">UTxO</a> <a id="2013" class="Symbol">→</a> <a id="2015" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2021" class="Symbol">(</a><a id="2022" href="Ledger.Core.Specification.Transaction.html#2496" class="Function">TxIn</a> <a id="2027" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2029" href="Ledger.Core.Specification.Transaction.html#2529" class="Function">TxOut</a><a id="2034" class="Symbol">)</a>
<a id="2036" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1973" class="Function">getScriptUTxO</a> <a id="2050" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2050" class="Bound">sh</a> <a id="2053" class="Symbol">(</a><a id="2054" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2054" class="Bound">utxo</a> <a id="2059" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2061" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2061" class="Bound">prf</a><a id="2064" class="Symbol">)</a> <a id="2066" class="Symbol">=</a> <a id="2068" href="Data.List.Base.html#8143" class="Function">head</a> <a id="2073" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="2075" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="2082" class="Symbol">(λ</a> <a id="2085" class="Symbol">{</a> <a id="2087" class="Symbol">(_</a> <a id="2090" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2092" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2092" class="Bound">addr</a> <a id="2097" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2099" class="Symbol">_)</a> <a id="2102" class="Symbol">→</a> <a id="2104" href="Test.Examples.MultiSigV2.OffChain.Lib.html#1780" class="Function">matchScriptAddress?</a> <a id="2124" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2050" class="Bound">sh</a> <a id="2127" class="Symbol">(</a><a id="2128" href="Ledger.Core.Specification.Address.html#2685" class="Function">payCred</a> <a id="2136" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2092" class="Bound">addr</a><a id="2140" class="Symbol">)})</a> <a id="2144" class="Symbol">(</a><a id="2145" href="abstract-set-theory.FiniteSetTheory.html#2617" class="Function">setToList</a> <a id="2155" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2054" class="Bound">utxo</a><a id="2159" class="Symbol">)</a>

<a id="matchWalletHash"></a><a id="2162" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2162" class="Function">matchWalletHash</a> <a id="2178" class="Symbol">:</a> <a id="2180" class="Symbol">(</a><a id="2181" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2181" class="Bound">keyHash</a> <a id="2189" class="Symbol">:</a> <a id="2191" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2192" class="Symbol">)</a> <a id="2194" class="Symbol">→</a> <a id="2196" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="2207" class="Symbol">→</a> <a id="2209" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="2213" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2162" class="Function">matchWalletHash</a> <a id="2229" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2229" class="Bound">kh</a> <a id="2232" class="Symbol">(</a><a id="2233" href="Ledger.Core.Specification.Address.html#285" class="InductiveConstructor">KeyHashObj</a> <a id="2244" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2244" class="Bound">x</a><a id="2245" class="Symbol">)</a> <a id="2247" class="Symbol">=</a> <a id="2249" href="Relation.Nullary.Decidable.Core.html#4876" class="Function">True</a> <a id="2254" class="Symbol">(</a><a id="2255" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2229" class="Bound">kh</a> <a id="2258" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="2260" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2244" class="Bound">x</a><a id="2261" class="Symbol">)</a>
<a id="2263" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2162" class="Function">matchWalletHash</a> <a id="2279" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2279" class="Bound">kh</a> <a id="2282" class="Symbol">(</a><a id="2283" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="2293" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2293" class="Bound">y</a><a id="2294" class="Symbol">)</a> <a id="2296" class="Symbol">=</a> <a id="2298" href="Data.Empty.html#914" class="Function">⊥</a>

<a id="matchWalletHash?"></a><a id="2301" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2301" class="Function">matchWalletHash?</a> <a id="2318" class="Symbol">:</a> <a id="2320" class="Symbol">(</a><a id="2321" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2321" class="Bound">sh</a> <a id="2324" class="Symbol">:</a> <a id="2326" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2327" class="Symbol">)</a> <a id="2329" class="Symbol">→</a> <a id="2331" class="Symbol">(</a><a id="2332" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2332" class="Bound">c</a> <a id="2334" class="Symbol">:</a> <a id="2336" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a><a id="2346" class="Symbol">)</a> <a id="2348" class="Symbol">→</a> <a id="2350" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="2354" class="Symbol">(</a><a id="2355" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2162" class="Function">matchWalletHash</a> <a id="2371" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2321" class="Bound">sh</a> <a id="2374" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2332" class="Bound">c</a><a id="2375" class="Symbol">)</a>
<a id="2377" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2301" class="Function">matchWalletHash?</a> <a id="2394" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2394" class="Bound">kh</a> <a id="2397" class="Symbol">(</a><a id="2398" href="Ledger.Core.Specification.Address.html#285" class="InductiveConstructor">KeyHashObj</a> <a id="2409" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2409" class="Bound">x</a><a id="2410" class="Symbol">)</a> <a id="2412" class="Symbol">=</a> <a id="2414" href="Relation.Nullary.Decidable.Core.html#3225" class="Function">T?</a> <a id="2417" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌊</a> <a id="2419" class="Symbol">(</a><a id="2420" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2394" class="Bound">kh</a> <a id="2423" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="2425" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2409" class="Bound">x</a><a id="2426" class="Symbol">)</a> <a id="2428" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌋</a>
<a id="2430" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2301" class="Function">matchWalletHash?</a> <a id="2447" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2447" class="Bound">kh</a> <a id="2450" class="Symbol">(</a><a id="2451" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="2461" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2461" class="Bound">y</a><a id="2462" class="Symbol">)</a> <a id="2464" class="Symbol">=</a> <a id="2466" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2469" class="Symbol">(λ</a> <a id="2472" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2472" class="Bound">x₁</a> <a id="2475" class="Symbol">→</a> <a id="2477" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2472" class="Bound">x₁</a><a id="2479" class="Symbol">)</a>

<a id="getWalletUTxO"></a><a id="2482" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2482" class="Function">getWalletUTxO</a> <a id="2496" class="Symbol">:</a> <a id="2498" class="Symbol">(</a><a id="2499" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2499" class="Bound">scriptHash</a> <a id="2510" class="Symbol">:</a> <a id="2512" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2513" class="Symbol">)</a> <a id="2515" class="Symbol">→</a> <a id="2517" href="Ledger.Core.Specification.Transaction.html#2607" class="Function">UTxO</a> <a id="2522" class="Symbol">→</a> <a id="2524" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2529" class="Symbol">(</a><a id="2530" href="Ledger.Core.Specification.Transaction.html#2496" class="Function">TxIn</a> <a id="2535" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2537" href="Ledger.Core.Specification.Transaction.html#2529" class="Function">TxOut</a><a id="2542" class="Symbol">)</a>
<a id="2544" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2482" class="Function">getWalletUTxO</a> <a id="2558" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2558" class="Bound">sh</a> <a id="2561" class="Symbol">(</a><a id="2562" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2562" class="Bound">utxo</a> <a id="2567" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2569" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2569" class="Bound">prf</a><a id="2572" class="Symbol">)</a> <a id="2574" class="Symbol">=</a> <a id="2576" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="2583" class="Symbol">(λ</a> <a id="2586" class="Symbol">{</a> <a id="2588" class="Symbol">(_</a> <a id="2591" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2593" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2593" class="Bound">addr</a> <a id="2598" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2600" class="Symbol">_)</a> <a id="2603" class="Symbol">→</a> <a id="2605" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2301" class="Function">matchWalletHash?</a> <a id="2622" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2558" class="Bound">sh</a> <a id="2625" class="Symbol">(</a><a id="2626" href="Ledger.Core.Specification.Address.html#2685" class="Function">payCred</a> <a id="2634" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2593" class="Bound">addr</a><a id="2638" class="Symbol">)})</a> <a id="2642" class="Symbol">(</a><a id="2643" href="abstract-set-theory.FiniteSetTheory.html#2617" class="Function">setToList</a> <a id="2653" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2562" class="Bound">utxo</a><a id="2657" class="Symbol">)</a>

<a id="succeedTxOut&#39;"></a><a id="2660" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2660" class="Function">succeedTxOut&#39;</a> <a id="2674" class="Symbol">:</a> <a id="2676" href="Ledger.Core.Specification.Transaction.html#2529" class="Function">TxOut</a>
<a id="2682" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2660" class="Function">succeedTxOut&#39;</a> <a id="2696" class="Symbol">=</a> <a id="2698" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2703" class="Symbol">(</a><a id="2704" class="Keyword">record</a> <a id="2711" class="Symbol">{</a> <a id="2713" href="Ledger.Core.Specification.Address.html#1119" class="Field">net</a> <a id="2717" class="Symbol">=</a> <a id="2719" class="Number">0</a> <a id="2721" class="Symbol">;</a>
                           <a id="2750" href="Ledger.Core.Specification.Address.html#1140" class="Field">pay</a> <a id="2754" class="Symbol">=</a> <a id="2756" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="2766" class="Number">777</a> <a id="2770" class="Symbol">;</a>
                           <a id="2799" href="Ledger.Core.Specification.Address.html#1164" class="Field">stake</a> <a id="2805" class="Symbol">=</a> <a id="2807" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2812" class="Symbol">(</a><a id="2813" href="Ledger.Core.Specification.Address.html#321" class="InductiveConstructor">ScriptObj</a> <a id="2823" class="Number">777</a><a id="2826" class="Symbol">)</a> <a id="2828" class="Symbol">})</a>
                           <a id="2858" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2860" class="Number">700000000000</a> <a id="2873" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2875" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2880" class="Symbol">(</a><a id="2881" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2886" class="Symbol">(</a><a id="2887" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2892" class="Symbol">(</a><a id="2893" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2898" href="Test.Examples.MultiSigV2.Datum.html#197" class="InductiveConstructor">Holding</a><a id="2905" class="Symbol">)))</a> <a id="2909" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2911" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="getLabel"></a><a id="2920" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2920" class="Function">getLabel</a> <a id="2929" class="Symbol">:</a> <a id="2931" href="Ledger.Core.Specification.Transaction.html#2529" class="Function">TxOut</a> <a id="2937" class="Symbol">→</a> <a id="2939" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2945" href="Test.Examples.MultiSigV2.Datum.html#177" class="Datatype">Label</a>
<a id="2951" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2920" class="Function">getLabel</a> <a id="2960" class="Symbol">(</a><a id="2961" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2961" class="Bound">fst</a> <a id="2965" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2967" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2967" class="Bound">fst₁</a> <a id="2972" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2974" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2979" class="Symbol">(</a><a id="2980" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2985" class="Symbol">(</a><a id="2986" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2991" class="Symbol">(</a><a id="2992" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2997" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2997" class="Bound">x</a><a id="2998" class="Symbol">)))</a> <a id="3002" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3004" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3004" class="Bound">snd</a><a id="3007" class="Symbol">)</a> <a id="3009" class="Symbol">=</a> <a id="3011" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3016" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2997" class="Bound">x</a>
<a id="3018" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2920" class="Function">getLabel</a> <a id="3027" class="Symbol">(</a><a id="3028" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3028" class="Bound">fst</a> <a id="3032" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3034" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3034" class="Bound">fst₁</a> <a id="3039" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3041" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3046" class="Symbol">(</a><a id="3047" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3052" class="Symbol">(</a><a id="3053" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3058" class="Symbol">(</a><a id="3059" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3064" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3064" class="Bound">y</a><a id="3065" class="Symbol">)))</a> <a id="3069" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3071" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3071" class="Bound">snd</a><a id="3074" class="Symbol">)</a> <a id="3076" class="Symbol">=</a> <a id="3078" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="3086" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2920" class="Function">getLabel</a> <a id="3095" class="Symbol">(</a><a id="3096" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3096" class="Bound">fst</a> <a id="3100" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3102" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3102" class="Bound">fst₁</a> <a id="3107" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3109" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3114" class="Symbol">(</a><a id="3115" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3120" class="Symbol">(</a><a id="3121" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3126" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3126" class="Bound">y</a><a id="3127" class="Symbol">))</a> <a id="3130" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3132" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3132" class="Bound">snd</a><a id="3135" class="Symbol">)</a> <a id="3137" class="Symbol">=</a> <a id="3139" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="3147" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2920" class="Function">getLabel</a> <a id="3156" class="Symbol">(</a><a id="3157" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3157" class="Bound">fst</a> <a id="3161" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3163" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3163" class="Bound">fst₁</a> <a id="3168" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3170" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3175" class="Symbol">(</a><a id="3176" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3181" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3181" class="Bound">y</a><a id="3182" class="Symbol">)</a> <a id="3184" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3186" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3186" class="Bound">snd</a><a id="3189" class="Symbol">)</a> <a id="3191" class="Symbol">=</a> <a id="3193" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="3201" href="Test.Examples.MultiSigV2.OffChain.Lib.html#2920" class="Function">getLabel</a> <a id="3210" class="Symbol">(</a><a id="3211" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3211" class="Bound">fst</a> <a id="3215" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3217" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3217" class="Bound">fst₁</a> <a id="3222" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3224" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3232" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3234" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3234" class="Bound">snd</a><a id="3237" class="Symbol">)</a> <a id="3239" class="Symbol">=</a> <a id="3241" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="3250" class="Comment">-- Assumes a list of filtered waller txins and subtracts a default fee from the head of the list</a>
<a id="makeFeeTxOut"></a><a id="3347" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3347" class="Function">makeFeeTxOut</a> <a id="3360" class="Symbol">:</a> <a id="3362" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3367" class="Symbol">(</a><a id="3368" href="Ledger.Core.Specification.Transaction.html#2496" class="Function">TxIn</a> <a id="3373" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3375" href="Ledger.Core.Specification.Transaction.html#2529" class="Function">TxOut</a><a id="3380" class="Symbol">)</a> <a id="3382" class="Symbol">→</a> <a id="3384" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3389" class="Symbol">(</a><a id="3390" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3392" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3394" href="Ledger.Core.Specification.Transaction.html#2529" class="Function">TxOut</a><a id="3399" class="Symbol">)</a>
<a id="3401" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3347" class="Function">makeFeeTxOut</a> <a id="3414" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3417" class="Symbol">=</a> <a id="3419" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="3422" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3347" class="Function">makeFeeTxOut</a> <a id="3435" class="Symbol">((</a><a id="3437" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3437" class="Bound">txin</a> <a id="3442" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3444" class="Symbol">(</a><a id="3445" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3445" class="Bound">fst</a> <a id="3449" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3451" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3451" class="Bound">txValue</a> <a id="3459" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3461" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3461" class="Bound">snd</a><a id="3464" class="Symbol">))</a> <a id="3467" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3469" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3469" class="Bound">utxos</a><a id="3474" class="Symbol">)</a> <a id="3476" class="Symbol">=</a> <a id="3478" class="Symbol">(</a><a id="3479" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="3485" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3437" class="Bound">txin</a> <a id="3490" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3492" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3445" class="Bound">fst</a> <a id="3496" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3498" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3451" class="Bound">txValue</a> <a id="3506" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="3508" class="Number">10000000000</a> <a id="3520" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3522" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3461" class="Bound">snd</a><a id="3525" class="Symbol">)</a> <a id="3527" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3529" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="makeFeeUnPaymentTxOut"></a><a id="3533" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3533" class="Function">makeFeeUnPaymentTxOut</a> <a id="3555" class="Symbol">:</a> <a id="3557" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3562" class="Symbol">(</a><a id="3563" href="Ledger.Core.Specification.Transaction.html#2496" class="Function">TxIn</a> <a id="3568" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3570" href="Ledger.Core.Specification.Transaction.html#2529" class="Function">TxOut</a><a id="3575" class="Symbol">)</a> <a id="3577" class="Symbol">→</a> <a id="3579" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a> <a id="3585" class="Symbol">→</a> <a id="3587" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3592" class="Symbol">(</a><a id="3593" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3595" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3597" href="Ledger.Core.Specification.Transaction.html#2529" class="Function">TxOut</a><a id="3602" class="Symbol">)</a>
<a id="3604" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3533" class="Function">makeFeeUnPaymentTxOut</a> <a id="3626" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3629" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3629" class="Bound">v</a> <a id="3631" class="Symbol">=</a> <a id="3633" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="3636" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3533" class="Function">makeFeeUnPaymentTxOut</a> <a id="3658" class="Symbol">((</a><a id="3660" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3660" class="Bound">txin</a> <a id="3665" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3667" class="Symbol">(</a><a id="3668" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3668" class="Bound">fst</a> <a id="3672" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3674" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3674" class="Bound">txValue</a> <a id="3682" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3684" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3684" class="Bound">snd</a><a id="3687" class="Symbol">))</a> <a id="3690" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3692" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3692" class="Bound">utxos</a><a id="3697" class="Symbol">)</a> <a id="3699" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3699" class="Bound">v</a> <a id="3701" class="Symbol">=</a> <a id="3703" class="Symbol">(</a><a id="3704" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="3710" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3660" class="Bound">txin</a> <a id="3715" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3717" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3668" class="Bound">fst</a> <a id="3721" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3723" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="3727" class="Symbol">{{</a><a id="3729" href="Ledger.Core.Specification.TokenAlgebra.Base.html#1272" class="Function">addValue</a><a id="3737" class="Symbol">}}</a> <a id="3740" class="Symbol">(</a><a id="3741" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3674" class="Bound">txValue</a> <a id="3749" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="3751" href="Test.Examples.MultiSigV2.Validator.html#935" class="Function">feeValue</a><a id="3759" class="Symbol">)</a> <a id="3761" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3699" class="Bound">v</a> <a id="3763" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3765" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3684" class="Bound">snd</a><a id="3768" class="Symbol">)</a> <a id="3770" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3772" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="makeFeePaymentTxOut"></a><a id="3776" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3776" class="Function">makeFeePaymentTxOut</a> <a id="3796" class="Symbol">:</a> <a id="3798" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3803" class="Symbol">(</a><a id="3804" href="Ledger.Core.Specification.Transaction.html#2496" class="Function">TxIn</a> <a id="3809" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3811" href="Ledger.Core.Specification.Transaction.html#2529" class="Function">TxOut</a><a id="3816" class="Symbol">)</a> <a id="3818" class="Symbol">→</a> <a id="3820" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a> <a id="3826" class="Symbol">→</a> <a id="3828" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3833" class="Symbol">(</a><a id="3834" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3836" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3838" href="Ledger.Core.Specification.Transaction.html#2529" class="Function">TxOut</a><a id="3843" class="Symbol">)</a>
<a id="3845" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3776" class="Function">makeFeePaymentTxOut</a> <a id="3865" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3868" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3868" class="Bound">v</a> <a id="3870" class="Symbol">=</a> <a id="3872" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="3875" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3776" class="Function">makeFeePaymentTxOut</a> <a id="3895" class="Symbol">((</a><a id="3897" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3897" class="Bound">txin</a> <a id="3902" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3904" class="Symbol">(</a><a id="3905" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3905" class="Bound">fst</a> <a id="3909" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3911" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3911" class="Bound">txValue</a> <a id="3919" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3921" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3921" class="Bound">snd</a><a id="3924" class="Symbol">))</a> <a id="3927" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3929" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3929" class="Bound">utxos</a><a id="3934" class="Symbol">)</a> <a id="3936" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3936" class="Bound">v</a> <a id="3938" class="Symbol">=</a> <a id="3940" class="Symbol">(</a><a id="3941" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="3947" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3897" class="Bound">txin</a> <a id="3952" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3954" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3905" class="Bound">fst</a> <a id="3958" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3960" class="Symbol">(</a><a id="3961" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3911" class="Bound">txValue</a> <a id="3969" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="3971" href="Test.Examples.MultiSigV2.Validator.html#935" class="Function">feeValue</a> <a id="3980" class="Symbol">)</a> <a id="3982" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="3984" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3936" class="Bound">v</a> <a id="3986" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3988" href="Test.Examples.MultiSigV2.OffChain.Lib.html#3921" class="Bound">snd</a><a id="3991" class="Symbol">)</a> <a id="3993" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3995" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="3999" class="Comment">-- return id of 0 if no txins</a>
<a id="getTxId"></a><a id="4029" href="Test.Examples.MultiSigV2.OffChain.Lib.html#4029" class="Function">getTxId</a> <a id="4037" class="Symbol">:</a> <a id="4039" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4044" class="Symbol">(</a><a id="4045" href="Ledger.Core.Specification.Transaction.html#2496" class="Function">TxIn</a> <a id="4050" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4052" href="Ledger.Core.Specification.Transaction.html#2529" class="Function">TxOut</a><a id="4057" class="Symbol">)</a> <a id="4059" class="Symbol">→</a> <a id="4061" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="4063" href="Test.Examples.MultiSigV2.OffChain.Lib.html#4029" class="Function">getTxId</a> <a id="4071" href="Test.Examples.MultiSigV2.OffChain.Lib.html#4071" class="Bound">xs</a> <a id="4074" class="Symbol">=</a> <a id="4076" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="4082" class="Symbol">(λ</a> <a id="4085" href="Test.Examples.MultiSigV2.OffChain.Lib.html#4085" class="Bound">x</a> <a id="4087" class="Symbol">→</a> <a id="4089" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4095" class="Symbol">(</a><a id="4096" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4102" href="Test.Examples.MultiSigV2.OffChain.Lib.html#4085" class="Bound">x</a><a id="4103" class="Symbol">))</a> <a id="4106" class="Number">0</a> <a id="4108" class="Symbol">(</a><a id="4109" href="Data.List.Base.html#8143" class="Function">head</a> <a id="4114" href="Test.Examples.MultiSigV2.OffChain.Lib.html#4071" class="Bound">xs</a><a id="4116" class="Symbol">)</a>

</pre></body></html>