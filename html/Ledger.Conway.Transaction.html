<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Transaction</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>
<a id="25" class="Comment">--------------------------------------------------------------------------------</a>
<a id="106" class="Comment">-- NOTE: Everything in this module is part of TransactionStructure</a>
<a id="173" class="Comment">--------------------------------------------------------------------------------</a>
<a id="254" class="Keyword">module</a> <a id="261" href="Ledger.Conway.Transaction.html" class="Module">Ledger.Conway.Transaction</a> <a id="287" class="Keyword">where</a>

<a id="294" class="Keyword">import</a> <a id="301" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="317" class="Symbol">as</a> <a id="320" class="Module">M</a>

<a id="323" class="Keyword">open</a> <a id="328" class="Keyword">import</a> <a id="335" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="350" class="Keyword">renaming</a> <a id="359" class="Symbol">(</a><a id="360" href="abstract-set-theory.FiniteSetTheory.html#2895" class="Function">filterᵐ</a> <a id="368" class="Symbol">to</a> <a id="371" class="Function">filter</a><a id="377" class="Symbol">)</a>

<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Ledger.Conway.Crypto.html" class="Module">Ledger.Conway.Crypto</a>
<a id="413" class="Keyword">open</a> <a id="418" class="Keyword">import</a> <a id="425" href="Ledger.Conway.Types.Epoch.html" class="Module">Ledger.Conway.Types.Epoch</a>
<a id="451" class="Keyword">open</a> <a id="456" class="Keyword">import</a> <a id="463" href="Ledger.Conway.Types.GovStructure.html" class="Module">Ledger.Conway.Types.GovStructure</a>
<a id="496" class="Keyword">import</a> <a id="503" href="Ledger.Conway.PParams.html" class="Module">Ledger.Conway.PParams</a>
<a id="525" class="Keyword">import</a> <a id="532" href="Ledger.Conway.Script.html" class="Module">Ledger.Conway.Script</a>
<a id="553" class="Keyword">import</a> <a id="560" href="Ledger.Conway.GovernanceActions.html" class="Module">Ledger.Conway.GovernanceActions</a>
<a id="592" class="Keyword">import</a> <a id="599" href="Ledger.Conway.Certs.html" class="Module">Ledger.Conway.Certs</a>
<a id="619" class="Keyword">import</a> <a id="626" href="Ledger.Conway.TokenAlgebra.html" class="Module">Ledger.Conway.TokenAlgebra</a>
<a id="653" class="Keyword">import</a> <a id="660" href="Ledger.Conway.Address.html" class="Module">Ledger.Conway.Address</a>

<a id="683" class="Keyword">open</a> <a id="688" class="Keyword">import</a> <a id="695" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>
<a id="715" class="Keyword">open</a> <a id="720" class="Keyword">import</a> <a id="727" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="754" class="Keyword">using</a> <a id="760" class="Symbol">(</a><a id="761" href="Relation.Nullary.Decidable.Core.html#4636" class="Function Operator">⌊_⌋</a><a id="764" class="Symbol">)</a>

<a id="767" class="Keyword">data</a> <a id="Tag"></a><a id="772" href="Ledger.Conway.Transaction.html#772" class="Datatype">Tag</a> <a id="776" class="Symbol">:</a> <a id="778" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="783" class="Keyword">where</a>
  <a id="Tag.Spend"></a><a id="791" href="Ledger.Conway.Transaction.html#791" class="InductiveConstructor">Spend</a> <a id="Tag.Mint"></a><a id="797" href="Ledger.Conway.Transaction.html#797" class="InductiveConstructor">Mint</a> <a id="Tag.Cert"></a><a id="802" href="Ledger.Conway.Transaction.html#802" class="InductiveConstructor">Cert</a> <a id="Tag.Rewrd"></a><a id="807" href="Ledger.Conway.Transaction.html#807" class="InductiveConstructor">Rewrd</a> <a id="Tag.Vote"></a><a id="813" href="Ledger.Conway.Transaction.html#813" class="InductiveConstructor">Vote</a> <a id="Tag.Propose"></a><a id="818" href="Ledger.Conway.Transaction.html#818" class="InductiveConstructor">Propose</a> <a id="826" class="Symbol">:</a> <a id="828" href="Ledger.Conway.Transaction.html#772" class="Datatype">Tag</a>
<a id="832" class="Keyword">unquoteDecl</a> <a id="DecEq-Tag"></a><a id="844" href="Ledger.Conway.Transaction.html#844" class="Function">DecEq-Tag</a> <a id="854" class="Symbol">=</a> <a id="856" href="Tactic.Derive.DecEq.html#3519" class="Function">derive-DecEq</a> <a id="869" class="Symbol">((</a><a id="871" class="Keyword">quote</a> <a id="877" href="Ledger.Conway.Transaction.html#772" class="Datatype">Tag</a> <a id="881" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="883" href="Ledger.Conway.Transaction.html#844" class="Function">DecEq-Tag</a><a id="892" class="Symbol">)</a> <a id="894" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="896" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="898" class="Symbol">)</a>



<a id="903" class="Keyword">record</a> <a id="TransactionStructure"></a><a id="910" href="Ledger.Conway.Transaction.html#910" class="Record">TransactionStructure</a> <a id="931" class="Symbol">:</a> <a id="933" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="939" class="Keyword">where</a>
  <a id="947" class="Keyword">field</a>


    <a id="TransactionStructure.Ix"></a><a id="959" href="Ledger.Conway.Transaction.html#959" class="Field">Ix</a> <a id="TransactionStructure.TxId"></a><a id="962" href="Ledger.Conway.Transaction.html#962" class="Field">TxId</a> <a id="TransactionStructure.AuxiliaryData"></a><a id="967" href="Ledger.Conway.Transaction.html#967" class="Field">AuxiliaryData</a> <a id="981" class="Symbol">:</a> <a id="983" href="Agda.Primitive.html#388" class="Primitive">Type</a>



    <a id="995" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-Ix"></a><a id="997" href="Ledger.Conway.Transaction.html#997" class="Field">DecEq-Ix</a>   <a id="1008" class="Symbol">⦄</a> <a id="1010" class="Symbol">:</a> <a id="1012" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1018" href="Ledger.Conway.Transaction.html#959" class="Field">Ix</a>
    <a id="1025" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-TxId"></a><a id="1027" href="Ledger.Conway.Transaction.html#1027" class="Field">DecEq-TxId</a> <a id="1038" class="Symbol">⦄</a> <a id="1040" class="Symbol">:</a> <a id="1042" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1048" href="Ledger.Conway.Transaction.html#962" class="Field">TxId</a>
    <a id="TransactionStructure.adHashingScheme"></a><a id="1057" href="Ledger.Conway.Transaction.html#1057" class="Field">adHashingScheme</a> <a id="1073" class="Symbol">:</a> <a id="1075" href="Ledger.Conway.Crypto.html#106" class="Record">isHashableSet</a> <a id="1089" href="Ledger.Conway.Transaction.html#967" class="Field">AuxiliaryData</a>
  <a id="1105" class="Keyword">open</a> <a id="1110" href="Ledger.Conway.Crypto.html#106" class="Module">isHashableSet</a> <a id="1124" href="Ledger.Conway.Transaction.html#1057" class="Field">adHashingScheme</a> <a id="1140" class="Keyword">renaming</a> <a id="1149" class="Symbol">(</a><a id="1150" href="Ledger.Conway.Crypto.html#183" class="Field">THash</a> <a id="1156" class="Symbol">to</a> <a id="1159" class="Field">ADHash</a><a id="1165" class="Symbol">)</a> <a id="1167" class="Keyword">public</a>

  <a id="1177" class="Keyword">field</a> <a id="TransactionStructure.globalConstants"></a><a id="1183" href="Ledger.Conway.Transaction.html#1183" class="Field">globalConstants</a> <a id="1199" class="Symbol">:</a> <a id="1201" class="Symbol">_</a>
  <a id="1205" class="Keyword">open</a> <a id="1210" href="Ledger.Conway.Types.Epoch.html#2011" class="Module">GlobalConstants</a> <a id="1226" href="Ledger.Conway.Transaction.html#1183" class="Field">globalConstants</a> <a id="1242" class="Keyword">public</a>

  <a id="1252" class="Keyword">field</a> <a id="TransactionStructure.crypto"></a><a id="1258" href="Ledger.Conway.Transaction.html#1258" class="Field">crypto</a> <a id="1265" class="Symbol">:</a> <a id="1267" class="Symbol">_</a>
  <a id="1271" class="Keyword">open</a> <a id="1276" href="Ledger.Conway.Crypto.html#1050" class="Module">Crypto</a> <a id="1283" href="Ledger.Conway.Transaction.html#1258" class="Field">crypto</a> <a id="1290" class="Keyword">public</a>
  <a id="1299" class="Keyword">open</a> <a id="1304" href="Ledger.Conway.TokenAlgebra.html" class="Module">Ledger.Conway.TokenAlgebra</a> <a id="1331" href="Ledger.Conway.Crypto.html#1173" class="Function">ScriptHash</a> <a id="1342" class="Keyword">public</a>
  <a id="1351" class="Keyword">open</a> <a id="1356" href="Ledger.Conway.Address.html" class="Module">Ledger.Conway.Address</a> <a id="1378" href="Ledger.Conway.Types.Epoch.html#2050" class="Function">Network</a> <a id="1386" href="Ledger.Conway.Crypto.html#1317" class="Function">KeyHash</a> <a id="1394" href="Ledger.Conway.Crypto.html#1173" class="Function">ScriptHash</a> <a id="1405" class="Symbol">⦃</a> <a id="1407" href="Function.Base.html#4736" class="Function">it</a> <a id="1410" class="Symbol">⦄</a> <a id="1412" class="Symbol">⦃</a> <a id="1414" href="Function.Base.html#4736" class="Function">it</a> <a id="1417" class="Symbol">⦄</a> <a id="1419" class="Symbol">⦃</a> <a id="1421" href="Function.Base.html#4736" class="Function">it</a> <a id="1424" class="Symbol">⦄</a> <a id="1426" class="Keyword">public</a>

  <a id="1436" class="Keyword">field</a> <a id="TransactionStructure.epochStructure"></a><a id="1442" href="Ledger.Conway.Transaction.html#1442" class="Field">epochStructure</a> <a id="1457" class="Symbol">:</a> <a id="1459" class="Symbol">_</a>
  <a id="1463" class="Keyword">open</a> <a id="1468" href="Ledger.Conway.Types.Epoch.html#524" class="Module">EpochStructure</a> <a id="1483" href="Ledger.Conway.Transaction.html#1442" class="Field">epochStructure</a> <a id="1498" class="Keyword">public</a>
  <a id="1507" class="Keyword">open</a> <a id="1512" href="Ledger.Conway.Script.html" class="Module">Ledger.Conway.Script</a> <a id="1533" href="Ledger.Conway.Transaction.html#1258" class="Field">crypto</a> <a id="1540" href="Ledger.Conway.Transaction.html#1442" class="Field">epochStructure</a> <a id="1555" class="Keyword">public</a>

  <a id="1565" class="Keyword">field</a> <a id="TransactionStructure.scriptStructure"></a><a id="1571" href="Ledger.Conway.Transaction.html#1571" class="Field">scriptStructure</a> <a id="1587" class="Symbol">:</a> <a id="1589" class="Symbol">_</a>
  <a id="1593" class="Keyword">open</a> <a id="1598" href="Ledger.Conway.Script.html#4979" class="Module">ScriptStructure</a> <a id="1614" href="Ledger.Conway.Transaction.html#1571" class="Field">scriptStructure</a> <a id="1630" class="Keyword">public</a>
  <a id="1639" class="Keyword">open</a> <a id="1644" href="Ledger.Conway.PParams.html" class="Module">Ledger.Conway.PParams</a> <a id="1666" href="Ledger.Conway.Transaction.html#1258" class="Field">crypto</a> <a id="1673" href="Ledger.Conway.Transaction.html#1442" class="Field">epochStructure</a> <a id="1688" href="Ledger.Conway.Transaction.html#1571" class="Field">scriptStructure</a> <a id="1704" class="Keyword">public</a>

  <a id="1714" class="Keyword">field</a> <a id="TransactionStructure.govParams"></a><a id="1720" href="Ledger.Conway.Transaction.html#1720" class="Field">govParams</a> <a id="1730" class="Symbol">:</a> <a id="1732" class="Symbol">_</a>
  <a id="1736" class="Keyword">open</a> <a id="1741" href="Ledger.Conway.PParams.html#14326" class="Module">GovParams</a> <a id="1751" href="Ledger.Conway.Transaction.html#1720" class="Field">govParams</a> <a id="1761" class="Keyword">public</a>

  <a id="1771" class="Keyword">field</a> <a id="TransactionStructure.tokenAlgebra"></a><a id="1777" href="Ledger.Conway.Transaction.html#1777" class="Field">tokenAlgebra</a> <a id="1790" class="Symbol">:</a> <a id="1792" href="Ledger.Conway.TokenAlgebra.html#460" class="Record">TokenAlgebra</a>
  <a id="1807" class="Keyword">open</a> <a id="1812" href="Ledger.Conway.TokenAlgebra.html#460" class="Module">TokenAlgebra</a> <a id="1825" href="Ledger.Conway.Transaction.html#1777" class="Field">tokenAlgebra</a> <a id="1838" class="Keyword">public</a>

  <a id="1848" class="Keyword">field</a> <a id="TransactionStructure.txidBytes"></a><a id="1854" href="Ledger.Conway.Transaction.html#1854" class="Field">txidBytes</a> <a id="1864" class="Symbol">:</a> <a id="1866" href="Ledger.Conway.Transaction.html#962" class="Field">TxId</a> <a id="1871" class="Symbol">→</a> <a id="1873" href="Ledger.Conway.Crypto.html#598" class="Function">Ser</a>

  <a id="TransactionStructure.govStructure"></a><a id="1880" href="Ledger.Conway.Transaction.html#1880" class="Function">govStructure</a> <a id="1893" class="Symbol">:</a> <a id="1895" href="Ledger.Conway.Types.GovStructure.html#270" class="Record">GovStructure</a>
  <a id="1910" href="Ledger.Conway.Transaction.html#1880" class="Function">govStructure</a> <a id="1923" class="Symbol">=</a> <a id="1925" class="Keyword">record</a>
    <a id="1936" class="Comment">-- TODO: figure out what to do with the hash</a>
    <a id="1985" class="Symbol">{</a> <a id="1987" href="Ledger.Conway.Types.GovStructure.html#305" class="Field">TxId</a> <a id="1992" class="Symbol">=</a> <a id="1994" href="Ledger.Conway.Transaction.html#962" class="Field">TxId</a><a id="1998" class="Symbol">;</a> <a id="2000" href="Ledger.Conway.Types.GovStructure.html#310" class="Field">DocHash</a> <a id="2008" class="Symbol">=</a> <a id="2010" href="Ledger.Conway.Transaction.html#1159" class="Function">ADHash</a>
    <a id="2021" class="Symbol">;</a> <a id="2023" href="Ledger.Conway.Types.GovStructure.html#370" class="Field">crypto</a> <a id="2030" class="Symbol">=</a> <a id="2032" href="Ledger.Conway.Transaction.html#1258" class="Field">crypto</a>
    <a id="2043" class="Symbol">;</a> <a id="2045" href="Ledger.Conway.Types.GovStructure.html#418" class="Field">epochStructure</a> <a id="2060" class="Symbol">=</a> <a id="2062" href="Ledger.Conway.Transaction.html#1442" class="Field">epochStructure</a>
    <a id="2081" class="Symbol">;</a> <a id="2083" href="Ledger.Conway.Types.GovStructure.html#490" class="Field">scriptStructure</a> <a id="2099" class="Symbol">=</a> <a id="2101" href="Ledger.Conway.Transaction.html#1571" class="Field">scriptStructure</a>
    <a id="2121" class="Symbol">;</a> <a id="2123" href="Ledger.Conway.Types.GovStructure.html#676" class="Field">govParams</a> <a id="2133" class="Symbol">=</a> <a id="2135" href="Ledger.Conway.Transaction.html#1720" class="Field">govParams</a>
    <a id="2149" class="Symbol">;</a> <a id="2151" href="Ledger.Conway.Types.GovStructure.html#741" class="Field">globalConstants</a> <a id="2167" class="Symbol">=</a> <a id="2169" href="Ledger.Conway.Transaction.html#1183" class="Field">globalConstants</a>
    <a id="2189" class="Symbol">}</a>

  <a id="2194" class="Keyword">module</a> <a id="TransactionStructure.GovernanceActions"></a><a id="2201" href="Ledger.Conway.Transaction.html#2201" class="Module">GovernanceActions</a> <a id="2219" class="Symbol">=</a> <a id="2221" href="Ledger.Conway.GovernanceActions.html" class="Module">Ledger.Conway.GovernanceActions</a> <a id="2253" href="Ledger.Conway.Transaction.html#1880" class="Function">govStructure</a>
  <a id="2268" class="Keyword">open</a> <a id="2273" href="Ledger.Conway.Transaction.html#2201" class="Module">GovernanceActions</a> <a id="2291" class="Keyword">hiding</a> <a id="2298" class="Symbol">(</a><a id="2299" href="Ledger.Conway.GovernanceActions.html#2342" class="Datatype">Vote</a><a id="2303" class="Symbol">;</a> <a id="2305" href="Ledger.Conway.GovernanceActions.html#2362" class="InductiveConstructor">yes</a><a id="2308" class="Symbol">;</a> <a id="2310" href="Ledger.Conway.GovernanceActions.html#2366" class="InductiveConstructor">no</a><a id="2312" class="Symbol">;</a> <a id="2314" href="Ledger.Conway.GovernanceActions.html#2369" class="InductiveConstructor">abstain</a><a id="2321" class="Symbol">)</a> <a id="2323" class="Keyword">public</a>

  <a id="2333" class="Keyword">open</a> <a id="2338" class="Keyword">import</a> <a id="2345" href="Ledger.Conway.Certs.html" class="Module">Ledger.Conway.Certs</a> <a id="2365" href="Ledger.Conway.Transaction.html#1880" class="Function">govStructure</a>


  <a id="TransactionStructure.TxIn"></a><a id="2382" href="Ledger.Conway.Transaction.html#2382" class="Function">TxIn</a>     <a id="2391" class="Symbol">=</a> <a id="2393" href="Ledger.Conway.Transaction.html#962" class="Field">TxId</a> <a id="2398" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2400" href="Ledger.Conway.Transaction.html#959" class="Field">Ix</a>
  <a id="TransactionStructure.TxOut"></a><a id="2405" href="Ledger.Conway.Transaction.html#2405" class="Function">TxOut</a>    <a id="2414" class="Symbol">=</a> <a id="2416" href="Ledger.Conway.Address.html#2332" class="Function">Addr</a> <a id="2421" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2423" href="Ledger.Conway.TokenAlgebra.html#499" class="Function">Value</a> <a id="2429" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2431" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2437" class="Symbol">(</a><a id="2438" href="Ledger.Conway.Script.html#1794" class="Function">Datum</a> <a id="2444" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2446" href="Ledger.Conway.Script.html#1747" class="Function">DataHash</a><a id="2454" class="Symbol">)</a> <a id="2456" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2458" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2464" href="Ledger.Conway.Script.html#5374" class="Function">Script</a>
  <a id="TransactionStructure.UTxO"></a><a id="2473" href="Ledger.Conway.Transaction.html#2473" class="Function">UTxO</a>     <a id="2482" class="Symbol">=</a> <a id="2484" href="Ledger.Conway.Transaction.html#2382" class="Function">TxIn</a> <a id="2489" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2491" href="Ledger.Conway.Transaction.html#2405" class="Function">TxOut</a>
  <a id="TransactionStructure.Wdrl"></a><a id="2499" href="Ledger.Conway.Transaction.html#2499" class="Function">Wdrl</a>     <a id="2508" class="Symbol">=</a> <a id="2510" href="Ledger.Conway.Address.html#1344" class="Record">RwdAddr</a> <a id="2518" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2520" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="TransactionStructure.RdmrPtr"></a><a id="2527" href="Ledger.Conway.Transaction.html#2527" class="Function">RdmrPtr</a>  <a id="2536" class="Symbol">=</a> <a id="2538" href="Ledger.Conway.Transaction.html#772" class="Datatype">Tag</a> <a id="2542" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2544" href="Ledger.Conway.Transaction.html#959" class="Field">Ix</a>

  <a id="TransactionStructure.ProposedPPUpdates"></a><a id="2550" href="Ledger.Conway.Transaction.html#2550" class="Function">ProposedPPUpdates</a>  <a id="2569" class="Symbol">=</a> <a id="2571" href="Ledger.Conway.Crypto.html#1317" class="Function">KeyHash</a> <a id="2579" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2581" href="Ledger.Conway.PParams.html#14424" class="Function">PParamsUpdate</a>
  <a id="TransactionStructure.Update"></a><a id="2597" href="Ledger.Conway.Transaction.html#2597" class="Function">Update</a>             <a id="2616" class="Symbol">=</a> <a id="2618" href="Ledger.Conway.Transaction.html#2550" class="Function">ProposedPPUpdates</a> <a id="2636" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2638" href="Ledger.Conway.Types.Epoch.html#592" class="Function">Epoch</a>


  <a id="2648" class="Keyword">record</a> <a id="TransactionStructure.HasUTxO"></a><a id="2655" href="Ledger.Conway.Transaction.html#2655" class="Record">HasUTxO</a> <a id="2663" class="Symbol">{</a><a id="2664" href="Ledger.Conway.Transaction.html#2664" class="Bound">a</a><a id="2665" class="Symbol">}</a> <a id="2667" class="Symbol">(</a><a id="2668" href="Ledger.Conway.Transaction.html#2668" class="Bound">A</a> <a id="2670" class="Symbol">:</a> <a id="2672" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2677" href="Ledger.Conway.Transaction.html#2664" class="Bound">a</a><a id="2678" class="Symbol">)</a> <a id="2680" class="Symbol">:</a> <a id="2682" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2687" href="Ledger.Conway.Transaction.html#2664" class="Bound">a</a> <a id="2689" class="Keyword">where</a>
    <a id="2699" class="Keyword">field</a> <a id="2705" href="Ledger.Conway.Transaction.html#2705" class="Field">UTxOOf</a> <a id="2712" class="Symbol">:</a> <a id="2714" href="Ledger.Conway.Transaction.html#2668" class="Bound">A</a> <a id="2716" class="Symbol">→</a> <a id="2718" href="Ledger.Conway.Transaction.html#2473" class="Function">UTxO</a>
  <a id="2725" class="Keyword">open</a> <a id="2730" href="Ledger.Conway.Transaction.html#2655" class="Module">HasUTxO</a> <a id="2738" class="Symbol">⦃...⦄</a> <a id="2744" class="Keyword">public</a>


  <a id="2755" class="Keyword">record</a> <a id="TransactionStructure.TxBody"></a><a id="2762" href="Ledger.Conway.Transaction.html#2762" class="Record">TxBody</a> <a id="2769" class="Symbol">:</a> <a id="2771" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2776" class="Keyword">where</a>
    <a id="2786" class="Keyword">field</a>
      <a id="2798" href="Ledger.Conway.Transaction.html#2798" class="Field">txins</a>          <a id="2813" class="Symbol">:</a> <a id="2815" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2817" href="Ledger.Conway.Transaction.html#2382" class="Function">TxIn</a>
      <a id="2828" href="Ledger.Conway.Transaction.html#2828" class="Field">refInputs</a>      <a id="2843" class="Symbol">:</a> <a id="2845" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2847" href="Ledger.Conway.Transaction.html#2382" class="Function">TxIn</a>
      <a id="2858" href="Ledger.Conway.Transaction.html#2858" class="Field">txouts</a>         <a id="2873" class="Symbol">:</a> <a id="2875" href="Ledger.Conway.Transaction.html#959" class="Field">Ix</a> <a id="2878" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2880" href="Ledger.Conway.Transaction.html#2405" class="Function">TxOut</a>
      <a id="2892" href="Ledger.Conway.Transaction.html#2892" class="Field">txfee</a>          <a id="2907" class="Symbol">:</a> <a id="2909" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
      <a id="2920" href="Ledger.Conway.Transaction.html#2920" class="Field">mint</a>           <a id="2935" class="Symbol">:</a> <a id="2937" href="Ledger.Conway.TokenAlgebra.html#499" class="Function">Value</a>
      <a id="2949" href="Ledger.Conway.Transaction.html#2949" class="Field">txvldt</a>         <a id="2964" class="Symbol">:</a> <a id="2966" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2972" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a> <a id="2977" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2979" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2985" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a>
      <a id="2996" href="Ledger.Conway.Transaction.html#2996" class="Field">txcerts</a>        <a id="3011" class="Symbol">:</a> <a id="3013" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3018" href="Ledger.Conway.Certs.html#1352" class="Datatype">DCert</a>
      <a id="3030" href="Ledger.Conway.Transaction.html#3030" class="Field">txwdrls</a>        <a id="3045" class="Symbol">:</a> <a id="3047" href="Ledger.Conway.Transaction.html#2499" class="Function">Wdrl</a>
      <a id="3058" href="Ledger.Conway.Transaction.html#3058" class="Field">txvote</a>         <a id="3073" class="Symbol">:</a> <a id="3075" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3080" href="Ledger.Conway.GovernanceActions.html#2393" class="Record">GovVote</a>
      <a id="3094" href="Ledger.Conway.Transaction.html#3094" class="Field">txprop</a>         <a id="3109" class="Symbol">:</a> <a id="3111" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3116" href="Ledger.Conway.GovernanceActions.html#2538" class="Record">GovProposal</a>
      <a id="3134" href="Ledger.Conway.Transaction.html#3134" class="Field">txdonation</a>     <a id="3149" class="Symbol">:</a> <a id="3151" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
      <a id="3162" href="Ledger.Conway.Transaction.html#3162" class="Field">txup</a>           <a id="3177" class="Symbol">:</a> <a id="3179" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3185" href="Ledger.Conway.Transaction.html#2597" class="Function">Update</a>
      <a id="3198" href="Ledger.Conway.Transaction.html#3198" class="Field">txADhash</a>       <a id="3213" class="Symbol">:</a> <a id="3215" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3221" href="Ledger.Conway.Transaction.html#1159" class="Function">ADHash</a>
      <a id="3234" href="Ledger.Conway.Transaction.html#3234" class="Field">txNetworkId</a>    <a id="3249" class="Symbol">:</a> <a id="3251" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3257" href="Ledger.Conway.Types.Epoch.html#2050" class="Function">Network</a>
      <a id="3271" href="Ledger.Conway.Transaction.html#3271" class="Field">curTreasury</a>    <a id="3286" class="Symbol">:</a> <a id="3288" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3294" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
      <a id="3305" href="Ledger.Conway.Transaction.html#3305" class="Field">txsize</a>         <a id="3320" class="Symbol">:</a> <a id="3322" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
      <a id="3330" href="Ledger.Conway.Transaction.html#3330" class="Field">txid</a>           <a id="3345" class="Symbol">:</a> <a id="3347" href="Ledger.Conway.Transaction.html#962" class="Field">TxId</a>
      <a id="3358" href="Ledger.Conway.Transaction.html#3358" class="Field">collateral</a>     <a id="3373" class="Symbol">:</a> <a id="3375" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3377" href="Ledger.Conway.Transaction.html#2382" class="Function">TxIn</a>
      <a id="3388" href="Ledger.Conway.Transaction.html#3388" class="Field">reqSigHash</a>     <a id="3403" class="Symbol">:</a> <a id="3405" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3407" href="Ledger.Conway.Crypto.html#1317" class="Function">KeyHash</a>
      <a id="3421" href="Ledger.Conway.Transaction.html#3421" class="Field">scriptIntHash</a>  <a id="3436" class="Symbol">:</a> <a id="3438" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3444" href="Ledger.Conway.Crypto.html#1173" class="Function">ScriptHash</a>


  <a id="3459" class="Keyword">record</a> <a id="TransactionStructure.HasTxBody"></a><a id="3466" href="Ledger.Conway.Transaction.html#3466" class="Record">HasTxBody</a> <a id="3476" class="Symbol">{</a><a id="3477" href="Ledger.Conway.Transaction.html#3477" class="Bound">a</a><a id="3478" class="Symbol">}</a> <a id="3480" class="Symbol">(</a><a id="3481" href="Ledger.Conway.Transaction.html#3481" class="Bound">A</a> <a id="3483" class="Symbol">:</a> <a id="3485" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3490" href="Ledger.Conway.Transaction.html#3477" class="Bound">a</a><a id="3491" class="Symbol">)</a> <a id="3493" class="Symbol">:</a> <a id="3495" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3500" href="Ledger.Conway.Transaction.html#3477" class="Bound">a</a> <a id="3502" class="Keyword">where</a>
    <a id="3512" class="Keyword">field</a> <a id="3518" href="Ledger.Conway.Transaction.html#3518" class="Field">TxBodyOf</a> <a id="3527" class="Symbol">:</a> <a id="3529" href="Ledger.Conway.Transaction.html#3481" class="Bound">A</a> <a id="3531" class="Symbol">→</a> <a id="3533" href="Ledger.Conway.Transaction.html#2762" class="Record">TxBody</a>
  <a id="3542" class="Keyword">open</a> <a id="3547" href="Ledger.Conway.Transaction.html#3466" class="Module">HasTxBody</a>  <a id="3558" class="Symbol">⦃...⦄</a> <a id="3564" class="Keyword">public</a>

  <a id="3574" class="Keyword">record</a> <a id="TransactionStructure.Hastxfee"></a><a id="3581" href="Ledger.Conway.Transaction.html#3581" class="Record">Hastxfee</a> <a id="3590" class="Symbol">{</a><a id="3591" href="Ledger.Conway.Transaction.html#3591" class="Bound">a</a><a id="3592" class="Symbol">}</a> <a id="3594" class="Symbol">(</a><a id="3595" href="Ledger.Conway.Transaction.html#3595" class="Bound">A</a> <a id="3597" class="Symbol">:</a> <a id="3599" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3604" href="Ledger.Conway.Transaction.html#3591" class="Bound">a</a><a id="3605" class="Symbol">)</a> <a id="3607" class="Symbol">:</a> <a id="3609" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3614" href="Ledger.Conway.Transaction.html#3591" class="Bound">a</a> <a id="3616" class="Keyword">where</a>
    <a id="3626" class="Keyword">field</a> <a id="3632" href="Ledger.Conway.Transaction.html#3632" class="Field">txfeeOf</a> <a id="3640" class="Symbol">:</a> <a id="3642" href="Ledger.Conway.Transaction.html#3595" class="Bound">A</a> <a id="3644" class="Symbol">→</a> <a id="3646" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="3653" class="Keyword">open</a> <a id="3658" href="Ledger.Conway.Transaction.html#3581" class="Module">Hastxfee</a>   <a id="3669" class="Symbol">⦃...⦄</a> <a id="3675" class="Keyword">public</a>

  <a id="3685" class="Keyword">record</a> <a id="TransactionStructure.Hastxcerts"></a><a id="3692" href="Ledger.Conway.Transaction.html#3692" class="Record">Hastxcerts</a> <a id="3703" class="Symbol">{</a><a id="3704" href="Ledger.Conway.Transaction.html#3704" class="Bound">a</a><a id="3705" class="Symbol">}</a> <a id="3707" class="Symbol">(</a><a id="3708" href="Ledger.Conway.Transaction.html#3708" class="Bound">A</a> <a id="3710" class="Symbol">:</a> <a id="3712" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3717" href="Ledger.Conway.Transaction.html#3704" class="Bound">a</a><a id="3718" class="Symbol">)</a> <a id="3720" class="Symbol">:</a> <a id="3722" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3727" href="Ledger.Conway.Transaction.html#3704" class="Bound">a</a> <a id="3729" class="Keyword">where</a>
    <a id="3739" class="Keyword">field</a> <a id="3745" href="Ledger.Conway.Transaction.html#3745" class="Field">txcertsOf</a> <a id="3755" class="Symbol">:</a> <a id="3757" href="Ledger.Conway.Transaction.html#3708" class="Bound">A</a> <a id="3759" class="Symbol">→</a> <a id="3761" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3766" href="Ledger.Conway.Certs.html#1352" class="Datatype">DCert</a>
  <a id="3774" class="Keyword">open</a> <a id="3779" href="Ledger.Conway.Transaction.html#3692" class="Module">Hastxcerts</a> <a id="3790" class="Symbol">⦃...⦄</a> <a id="3796" class="Keyword">public</a>

  <a id="3806" class="Keyword">record</a> <a id="TransactionStructure.Hastxprop"></a><a id="3813" href="Ledger.Conway.Transaction.html#3813" class="Record">Hastxprop</a> <a id="3823" class="Symbol">{</a><a id="3824" href="Ledger.Conway.Transaction.html#3824" class="Bound">a</a><a id="3825" class="Symbol">}</a> <a id="3827" class="Symbol">(</a><a id="3828" href="Ledger.Conway.Transaction.html#3828" class="Bound">A</a> <a id="3830" class="Symbol">:</a> <a id="3832" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3837" href="Ledger.Conway.Transaction.html#3824" class="Bound">a</a><a id="3838" class="Symbol">)</a> <a id="3840" class="Symbol">:</a> <a id="3842" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3847" href="Ledger.Conway.Transaction.html#3824" class="Bound">a</a> <a id="3849" class="Keyword">where</a>
    <a id="3859" class="Keyword">field</a> <a id="3865" href="Ledger.Conway.Transaction.html#3865" class="Field">txpropOf</a>  <a id="3875" class="Symbol">:</a> <a id="3877" href="Ledger.Conway.Transaction.html#3828" class="Bound">A</a> <a id="3879" class="Symbol">→</a> <a id="3881" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3886" href="Ledger.Conway.GovernanceActions.html#2538" class="Record">GovProposal</a>
  <a id="3900" class="Keyword">open</a> <a id="3905" href="Ledger.Conway.Transaction.html#3813" class="Module">Hastxprop</a>  <a id="3916" class="Symbol">⦃...⦄</a> <a id="3922" class="Keyword">public</a>

  <a id="3932" class="Keyword">record</a> <a id="TransactionStructure.Hastxid"></a><a id="3939" href="Ledger.Conway.Transaction.html#3939" class="Record">Hastxid</a>    <a id="3950" class="Symbol">{</a><a id="3951" href="Ledger.Conway.Transaction.html#3951" class="Bound">a</a><a id="3952" class="Symbol">}</a> <a id="3954" class="Symbol">(</a><a id="3955" href="Ledger.Conway.Transaction.html#3955" class="Bound">A</a> <a id="3957" class="Symbol">:</a> <a id="3959" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3964" href="Ledger.Conway.Transaction.html#3951" class="Bound">a</a><a id="3965" class="Symbol">)</a> <a id="3967" class="Symbol">:</a> <a id="3969" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3974" href="Ledger.Conway.Transaction.html#3951" class="Bound">a</a> <a id="3976" class="Keyword">where</a> 
    <a id="3987" class="Keyword">field</a> <a id="3993" href="Ledger.Conway.Transaction.html#3993" class="Field">txidOf</a>    <a id="4003" class="Symbol">:</a> <a id="4005" href="Ledger.Conway.Transaction.html#3955" class="Bound">A</a> <a id="4007" class="Symbol">→</a> <a id="4009" href="Ledger.Conway.Transaction.html#962" class="Field">TxId</a>
  <a id="4016" class="Keyword">open</a> <a id="4021" href="Ledger.Conway.Transaction.html#3939" class="Module">Hastxid</a>    <a id="4032" class="Symbol">⦃...⦄</a> <a id="4038" class="Keyword">public</a>


  <a id="4049" class="Keyword">record</a> <a id="TransactionStructure.TxWitnesses"></a><a id="4056" href="Ledger.Conway.Transaction.html#4056" class="Record">TxWitnesses</a> <a id="4068" class="Symbol">:</a> <a id="4070" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4075" class="Keyword">where</a>
    <a id="4085" class="Keyword">field</a>
      <a id="4097" href="Ledger.Conway.Transaction.html#4097" class="Field">vkSigs</a>   <a id="4106" class="Symbol">:</a> <a id="4108" href="Ledger.Conway.Crypto.html#589" class="Function">VKey</a> <a id="4113" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4115" href="Ledger.Conway.Crypto.html#594" class="Function">Sig</a>
      <a id="4125" href="Ledger.Conway.Transaction.html#4125" class="Field">scripts</a>  <a id="4134" class="Symbol">:</a> <a id="4136" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4138" href="Ledger.Conway.Script.html#5374" class="Function">Script</a>
      <a id="4151" href="Ledger.Conway.Transaction.html#4151" class="Field">txdats</a>   <a id="4160" class="Symbol">:</a> <a id="4162" href="Ledger.Conway.Script.html#1747" class="Function">DataHash</a> <a id="4171" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4173" href="Ledger.Conway.Script.html#1794" class="Function">Datum</a>
      <a id="4185" href="Ledger.Conway.Transaction.html#4185" class="Field">txrdmrs</a>  <a id="4194" class="Symbol">:</a> <a id="4196" href="Ledger.Conway.Transaction.html#2527" class="Function">RdmrPtr</a>  <a id="4205" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4207" href="Ledger.Conway.Script.html#1812" class="Function">Redeemer</a> <a id="4216" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4218" href="Ledger.Conway.Script.html#1042" class="Function">ExUnits</a>

    <a id="TransactionStructure.TxWitnesses.scriptsP1"></a><a id="4231" href="Ledger.Conway.Transaction.html#4231" class="Function">scriptsP1</a> <a id="4241" class="Symbol">:</a> <a id="4243" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4245" href="Ledger.Conway.Script.html#666" class="Function">P1Script</a>
    <a id="4258" href="Ledger.Conway.Transaction.html#4231" class="Function">scriptsP1</a> <a id="4268" class="Symbol">=</a> <a id="4270" href="Axiom.Set.html#7805" class="Function">mapPartial</a> <a id="4281" href="Data.Sum.html#787" class="Function">isInj₁</a> <a id="4288" href="Ledger.Conway.Transaction.html#4125" class="Field">scripts</a>

  <a id="4299" class="Keyword">record</a> <a id="TransactionStructure.Tx"></a><a id="4306" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a> <a id="4309" class="Symbol">:</a> <a id="4311" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4316" class="Keyword">where</a>
    <a id="4326" class="Keyword">field</a>
      <a id="4338" href="Ledger.Conway.Transaction.html#4338" class="Field">body</a>     <a id="4347" class="Symbol">:</a> <a id="4349" href="Ledger.Conway.Transaction.html#2762" class="Record">TxBody</a>
      <a id="4362" href="Ledger.Conway.Transaction.html#4362" class="Field">wits</a>     <a id="4371" class="Symbol">:</a> <a id="4373" href="Ledger.Conway.Transaction.html#4056" class="Record">TxWitnesses</a>
      <a id="4391" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a>  <a id="4400" class="Symbol">:</a> <a id="4402" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
      <a id="4413" href="Ledger.Conway.Transaction.html#4413" class="Field">txAD</a>     <a id="4422" class="Symbol">:</a> <a id="4424" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4430" href="Ledger.Conway.Transaction.html#967" class="Field">AuxiliaryData</a>


  <a id="4448" class="Keyword">instance</a>
    <a id="TransactionStructure.HasTxBody-Tx"></a><a id="4461" href="Ledger.Conway.Transaction.html#4461" class="Function">HasTxBody-Tx</a> <a id="4474" class="Symbol">:</a> <a id="4476" href="Ledger.Conway.Transaction.html#3466" class="Record">HasTxBody</a> <a id="4486" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a>
    <a id="4493" href="Ledger.Conway.Transaction.html#4461" class="Function">HasTxBody-Tx</a> <a id="4506" class="Symbol">.</a><a id="4507" href="Ledger.Conway.Transaction.html#3518" class="Field">TxBodyOf</a> <a id="4516" class="Symbol">=</a> <a id="4518" href="Ledger.Conway.Transaction.html#4338" class="Field">Tx.body</a>

    <a id="TransactionStructure.Hastxfee-Tx"></a><a id="4531" href="Ledger.Conway.Transaction.html#4531" class="Function">Hastxfee-Tx</a> <a id="4543" class="Symbol">:</a> <a id="4545" href="Ledger.Conway.Transaction.html#3581" class="Record">Hastxfee</a> <a id="4554" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a>
    <a id="4561" href="Ledger.Conway.Transaction.html#4531" class="Function">Hastxfee-Tx</a> <a id="4573" class="Symbol">.</a><a id="4574" href="Ledger.Conway.Transaction.html#3632" class="Field">txfeeOf</a> <a id="4582" class="Symbol">=</a> <a id="4584" href="Ledger.Conway.Transaction.html#2892" class="Field">TxBody.txfee</a> <a id="4597" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4599" href="Ledger.Conway.Transaction.html#3518" class="Field">TxBodyOf</a>
    
    <a id="TransactionStructure.Hastxcerts-Tx"></a><a id="4617" href="Ledger.Conway.Transaction.html#4617" class="Function">Hastxcerts-Tx</a> <a id="4631" class="Symbol">:</a> <a id="4633" href="Ledger.Conway.Transaction.html#3692" class="Record">Hastxcerts</a> <a id="4644" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a>
    <a id="4651" href="Ledger.Conway.Transaction.html#4617" class="Function">Hastxcerts-Tx</a> <a id="4665" class="Symbol">.</a><a id="4666" href="Ledger.Conway.Transaction.html#3745" class="Field">txcertsOf</a> <a id="4676" class="Symbol">=</a> <a id="4678" href="Ledger.Conway.Transaction.html#2996" class="Field">TxBody.txcerts</a> <a id="4693" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4695" href="Ledger.Conway.Transaction.html#3518" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.Hastxprop-Tx"></a><a id="4709" href="Ledger.Conway.Transaction.html#4709" class="Function">Hastxprop-Tx</a> <a id="4722" class="Symbol">:</a> <a id="4724" href="Ledger.Conway.Transaction.html#3813" class="Record">Hastxprop</a> <a id="4734" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a>
    <a id="4741" href="Ledger.Conway.Transaction.html#4709" class="Function">Hastxprop-Tx</a> <a id="4754" class="Symbol">.</a><a id="4755" href="Ledger.Conway.Transaction.html#3865" class="Field">txpropOf</a> <a id="4764" class="Symbol">=</a> <a id="4766" href="Ledger.Conway.Transaction.html#3094" class="Field">TxBody.txprop</a> <a id="4780" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4782" href="Ledger.Conway.Transaction.html#3518" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasWdrls-TxBody"></a><a id="4796" href="Ledger.Conway.Transaction.html#4796" class="Function">HasWdrls-TxBody</a> <a id="4812" class="Symbol">:</a> <a id="4814" href="Ledger.Conway.Certs.html#2992" class="Record">HasWdrls</a> <a id="4823" href="Ledger.Conway.Transaction.html#2762" class="Record">TxBody</a>
    <a id="4834" href="Ledger.Conway.Transaction.html#4796" class="Function">HasWdrls-TxBody</a> <a id="4850" class="Symbol">.</a><a id="4851" href="Ledger.Conway.Certs.html#3041" class="Field">wdrlsOf</a> <a id="4859" class="Symbol">=</a> <a id="4861" href="Ledger.Conway.Transaction.html#3030" class="Field">TxBody.txwdrls</a>

    <a id="TransactionStructure.HasWdrls-Tx"></a><a id="4881" href="Ledger.Conway.Transaction.html#4881" class="Function">HasWdrls-Tx</a> <a id="4893" class="Symbol">:</a> <a id="4895" href="Ledger.Conway.Certs.html#2992" class="Record">HasWdrls</a> <a id="4904" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a>
    <a id="4911" href="Ledger.Conway.Transaction.html#4881" class="Function">HasWdrls-Tx</a> <a id="4923" class="Symbol">.</a><a id="4924" href="Ledger.Conway.Certs.html#3041" class="Field">wdrlsOf</a> <a id="4932" class="Symbol">=</a> <a id="4934" href="Ledger.Conway.Certs.html#3041" class="Field">wdrlsOf</a> <a id="4942" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4944" href="Ledger.Conway.Transaction.html#3518" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.Hastxid-Tx"></a><a id="4958" href="Ledger.Conway.Transaction.html#4958" class="Function">Hastxid-Tx</a> <a id="4969" class="Symbol">:</a> <a id="4971" href="Ledger.Conway.Transaction.html#3939" class="Record">Hastxid</a> <a id="4979" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a>
    <a id="4986" href="Ledger.Conway.Transaction.html#4958" class="Function">Hastxid-Tx</a> <a id="4997" class="Symbol">.</a><a id="4998" href="Ledger.Conway.Transaction.html#3993" class="Field">txidOf</a> <a id="5005" class="Symbol">=</a> <a id="5007" href="Ledger.Conway.Transaction.html#3330" class="Field">TxBody.txid</a> <a id="5019" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5021" href="Ledger.Conway.Transaction.html#3518" class="Field">TxBodyOf</a>


  <a id="TransactionStructure.getValue"></a><a id="5034" href="Ledger.Conway.Transaction.html#5034" class="Function">getValue</a> <a id="5043" class="Symbol">:</a> <a id="5045" href="Ledger.Conway.Transaction.html#2405" class="Function">TxOut</a> <a id="5051" class="Symbol">→</a> <a id="5053" href="Ledger.Conway.TokenAlgebra.html#499" class="Function">Value</a>
  <a id="5061" href="Ledger.Conway.Transaction.html#5034" class="Function">getValue</a> <a id="5070" class="Symbol">(_</a> <a id="5073" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5075" href="Ledger.Conway.Transaction.html#5075" class="Bound">v</a> <a id="5077" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5079" class="Symbol">_)</a> <a id="5082" class="Symbol">=</a> <a id="5084" href="Ledger.Conway.Transaction.html#5075" class="Bound">v</a>

  <a id="TransactionStructure.TxOutʰ"></a><a id="5089" href="Ledger.Conway.Transaction.html#5089" class="Function">TxOutʰ</a> <a id="5096" class="Symbol">=</a> <a id="5098" href="Ledger.Conway.Address.html#2332" class="Function">Addr</a> <a id="5103" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5105" href="Ledger.Conway.TokenAlgebra.html#499" class="Function">Value</a> <a id="5111" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5113" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5119" class="Symbol">(</a><a id="5120" href="Ledger.Conway.Script.html#1794" class="Function">Datum</a> <a id="5126" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5128" href="Ledger.Conway.Script.html#1747" class="Function">DataHash</a><a id="5136" class="Symbol">)</a> <a id="5138" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5140" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5146" href="Ledger.Conway.Crypto.html#1173" class="Function">ScriptHash</a>

  <a id="TransactionStructure.txOutHash"></a><a id="5160" href="Ledger.Conway.Transaction.html#5160" class="Function">txOutHash</a> <a id="5170" class="Symbol">:</a> <a id="5172" href="Ledger.Conway.Transaction.html#2405" class="Function">TxOut</a> <a id="5178" class="Symbol">→</a> <a id="5180" href="Ledger.Conway.Transaction.html#5089" class="Function">TxOutʰ</a>
  <a id="5189" href="Ledger.Conway.Transaction.html#5160" class="Function">txOutHash</a> <a id="5199" class="Symbol">(</a><a id="5200" href="Ledger.Conway.Transaction.html#5200" class="Bound">a</a> <a id="5202" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5204" href="Ledger.Conway.Transaction.html#5204" class="Bound">v</a> <a id="5206" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5208" href="Ledger.Conway.Transaction.html#5208" class="Bound">d</a> <a id="5210" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5212" href="Ledger.Conway.Transaction.html#5212" class="Bound">s</a><a id="5213" class="Symbol">)</a> <a id="5215" class="Symbol">=</a> <a id="5217" href="Ledger.Conway.Transaction.html#5200" class="Bound">a</a> <a id="5219" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5221" class="Symbol">(</a><a id="5222" href="Ledger.Conway.Transaction.html#5204" class="Bound">v</a> <a id="5224" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5226" class="Symbol">(</a><a id="5227" href="Ledger.Conway.Transaction.html#5208" class="Bound">d</a> <a id="5229" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5231" href="Data.Maybe.Base.html#1934" class="Function">M.map</a> <a id="5237" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="5242" href="Ledger.Conway.Transaction.html#5212" class="Bound">s</a><a id="5243" class="Symbol">))</a>

  <a id="TransactionStructure.getValueʰ"></a><a id="5249" href="Ledger.Conway.Transaction.html#5249" class="Function">getValueʰ</a> <a id="5259" class="Symbol">:</a> <a id="5261" href="Ledger.Conway.Transaction.html#5089" class="Function">TxOutʰ</a> <a id="5268" class="Symbol">→</a> <a id="5270" href="Ledger.Conway.TokenAlgebra.html#499" class="Function">Value</a>
  <a id="5278" href="Ledger.Conway.Transaction.html#5249" class="Function">getValueʰ</a> <a id="5288" class="Symbol">(_</a> <a id="5291" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5293" href="Ledger.Conway.Transaction.html#5293" class="Bound">v</a> <a id="5295" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5297" class="Symbol">_)</a> <a id="5300" class="Symbol">=</a> <a id="5302" href="Ledger.Conway.Transaction.html#5293" class="Bound">v</a>

  <a id="TransactionStructure.txinsVKey"></a><a id="5307" href="Ledger.Conway.Transaction.html#5307" class="Function">txinsVKey</a> <a id="5317" class="Symbol">:</a> <a id="5319" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5321" href="Ledger.Conway.Transaction.html#2382" class="Function">TxIn</a> <a id="5326" class="Symbol">→</a> <a id="5328" href="Ledger.Conway.Transaction.html#2473" class="Function">UTxO</a> <a id="5333" class="Symbol">→</a> <a id="5335" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5337" href="Ledger.Conway.Transaction.html#2382" class="Function">TxIn</a>
  <a id="5344" href="Ledger.Conway.Transaction.html#5307" class="Function">txinsVKey</a> <a id="5354" href="Ledger.Conway.Transaction.html#5354" class="Bound">txins</a> <a id="5360" href="Ledger.Conway.Transaction.html#5360" class="Bound">utxo</a> <a id="5365" class="Symbol">=</a> <a id="5367" href="Ledger.Conway.Transaction.html#5354" class="Bound">txins</a> <a id="5373" href="Axiom.Set.html#9292" class="Function Operator">∩</a> <a id="5375" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5379" class="Symbol">(</a><a id="5380" href="Ledger.Conway.Transaction.html#5360" class="Bound">utxo</a> <a id="5385" href="abstract-set-theory.FiniteSetTheory.html#3088" class="Function Operator">∣^&#39;</a> <a id="5389" class="Symbol">(</a><a id="5390" href="Ledger.Conway.Address.html#2587" class="Function">isVKeyAddr</a> <a id="5401" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5403" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5408" class="Symbol">))</a>

  <a id="TransactionStructure.scriptOuts"></a><a id="5414" href="Ledger.Conway.Transaction.html#5414" class="Function">scriptOuts</a> <a id="5425" class="Symbol">:</a> <a id="5427" href="Ledger.Conway.Transaction.html#2473" class="Function">UTxO</a> <a id="5432" class="Symbol">→</a> <a id="5434" href="Ledger.Conway.Transaction.html#2473" class="Function">UTxO</a>
  <a id="5441" href="Ledger.Conway.Transaction.html#5414" class="Function">scriptOuts</a> <a id="5452" href="Ledger.Conway.Transaction.html#5452" class="Bound">utxo</a> <a id="5457" class="Symbol">=</a> <a id="5459" href="Ledger.Conway.Transaction.html#371" class="Function">filter</a> <a id="5466" class="Symbol">(λ</a> <a id="5469" class="Symbol">(_</a> <a id="5472" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5474" href="Ledger.Conway.Transaction.html#5474" class="Bound">addr</a> <a id="5479" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5481" class="Symbol">_)</a> <a id="5484" class="Symbol">→</a> <a id="5486" href="Ledger.Conway.Address.html#2615" class="Function">isScriptAddr</a> <a id="5499" href="Ledger.Conway.Transaction.html#5474" class="Bound">addr</a><a id="5503" class="Symbol">)</a> <a id="5505" href="Ledger.Conway.Transaction.html#5452" class="Bound">utxo</a>

  <a id="TransactionStructure.txinsScript"></a><a id="5513" href="Ledger.Conway.Transaction.html#5513" class="Function">txinsScript</a> <a id="5525" class="Symbol">:</a> <a id="5527" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5529" href="Ledger.Conway.Transaction.html#2382" class="Function">TxIn</a> <a id="5534" class="Symbol">→</a> <a id="5536" href="Ledger.Conway.Transaction.html#2473" class="Function">UTxO</a> <a id="5541" class="Symbol">→</a> <a id="5543" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5545" href="Ledger.Conway.Transaction.html#2382" class="Function">TxIn</a>
  <a id="5552" href="Ledger.Conway.Transaction.html#5513" class="Function">txinsScript</a> <a id="5564" href="Ledger.Conway.Transaction.html#5564" class="Bound">txins</a> <a id="5570" href="Ledger.Conway.Transaction.html#5570" class="Bound">utxo</a> <a id="5575" class="Symbol">=</a> <a id="5577" href="Ledger.Conway.Transaction.html#5564" class="Bound">txins</a> <a id="5583" href="Axiom.Set.html#9292" class="Function Operator">∩</a> <a id="5585" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5589" class="Symbol">(</a><a id="5590" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="5596" class="Symbol">(</a><a id="5597" href="Ledger.Conway.Transaction.html#5414" class="Function">scriptOuts</a> <a id="5608" href="Ledger.Conway.Transaction.html#5570" class="Bound">utxo</a><a id="5612" class="Symbol">))</a>

  <a id="TransactionStructure.refScripts"></a><a id="5618" href="Ledger.Conway.Transaction.html#5618" class="Function">refScripts</a> <a id="5629" class="Symbol">:</a> <a id="5631" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a> <a id="5634" class="Symbol">→</a> <a id="5636" href="Ledger.Conway.Transaction.html#2473" class="Function">UTxO</a> <a id="5641" class="Symbol">→</a> <a id="5643" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5645" href="Ledger.Conway.Script.html#5374" class="Function">Script</a>
  <a id="5654" href="Ledger.Conway.Transaction.html#5618" class="Function">refScripts</a> <a id="5665" href="Ledger.Conway.Transaction.html#5665" class="Bound">tx</a> <a id="5668" href="Ledger.Conway.Transaction.html#5668" class="Bound">utxo</a> <a id="5673" class="Symbol">=</a>
    <a id="5679" href="Axiom.Set.html#7805" class="Function">mapPartial</a> <a id="5690" class="Symbol">(</a><a id="5691" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5697" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5699" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5705" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5707" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="5712" class="Symbol">)</a> <a id="5714" class="Symbol">(</a><a id="5715" href="Class.IsSet.html#959" class="Function">range</a> <a id="5721" class="Symbol">(</a><a id="5722" href="Ledger.Conway.Transaction.html#5668" class="Bound">utxo</a> <a id="5727" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="5729" class="Symbol">(</a><a id="5730" href="Ledger.Conway.Transaction.html#2798" class="Function">txins</a> <a id="5736" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="5738" href="Ledger.Conway.Transaction.html#2828" class="Function">refInputs</a><a id="5747" class="Symbol">)))</a>
    <a id="5755" class="Keyword">where</a> <a id="5761" class="Keyword">open</a> <a id="5766" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a><a id="5768" class="Symbol">;</a> <a id="5770" class="Keyword">open</a> <a id="5775" href="Ledger.Conway.Transaction.html#2762" class="Module">TxBody</a> <a id="5782" class="Symbol">(</a><a id="5783" href="Ledger.Conway.Transaction.html#5665" class="Bound">tx</a> <a id="5786" class="Symbol">.</a><a id="5787" href="Ledger.Conway.Transaction.html#4338" class="Field">body</a><a id="5791" class="Symbol">)</a>

  <a id="TransactionStructure.txscripts"></a><a id="5796" href="Ledger.Conway.Transaction.html#5796" class="Function">txscripts</a> <a id="5806" class="Symbol">:</a> <a id="5808" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a> <a id="5811" class="Symbol">→</a> <a id="5813" href="Ledger.Conway.Transaction.html#2473" class="Function">UTxO</a> <a id="5818" class="Symbol">→</a> <a id="5820" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5822" href="Ledger.Conway.Script.html#5374" class="Function">Script</a>
  <a id="5831" href="Ledger.Conway.Transaction.html#5796" class="Function">txscripts</a> <a id="5841" href="Ledger.Conway.Transaction.html#5841" class="Bound">tx</a> <a id="5844" href="Ledger.Conway.Transaction.html#5844" class="Bound">utxo</a> <a id="5849" class="Symbol">=</a> <a id="5851" href="Ledger.Conway.Transaction.html#4125" class="Field">scripts</a> <a id="5859" class="Symbol">(</a><a id="5860" href="Ledger.Conway.Transaction.html#5841" class="Bound">tx</a> <a id="5863" class="Symbol">.</a><a id="5864" href="Ledger.Conway.Transaction.html#4362" class="Field">wits</a><a id="5868" class="Symbol">)</a> <a id="5870" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="5872" href="Ledger.Conway.Transaction.html#5618" class="Function">refScripts</a> <a id="5883" href="Ledger.Conway.Transaction.html#5841" class="Bound">tx</a> <a id="5886" href="Ledger.Conway.Transaction.html#5844" class="Bound">utxo</a>
    <a id="5895" class="Keyword">where</a> <a id="5901" class="Keyword">open</a> <a id="5906" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a><a id="5908" class="Symbol">;</a> <a id="5910" class="Keyword">open</a> <a id="5915" href="Ledger.Conway.Transaction.html#4056" class="Module">TxWitnesses</a>

  <a id="TransactionStructure.lookupScriptHash"></a><a id="5930" href="Ledger.Conway.Transaction.html#5930" class="Function">lookupScriptHash</a> <a id="5947" class="Symbol">:</a> <a id="5949" href="Ledger.Conway.Crypto.html#1173" class="Function">ScriptHash</a> <a id="5960" class="Symbol">→</a> <a id="5962" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a> <a id="5965" class="Symbol">→</a> <a id="5967" href="Ledger.Conway.Transaction.html#2473" class="Function">UTxO</a> <a id="5972" class="Symbol">→</a> <a id="5974" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5980" href="Ledger.Conway.Script.html#5374" class="Function">Script</a>
  <a id="5989" href="Ledger.Conway.Transaction.html#5930" class="Function">lookupScriptHash</a> <a id="6006" href="Ledger.Conway.Transaction.html#6006" class="Bound">sh</a> <a id="6009" href="Ledger.Conway.Transaction.html#6009" class="Bound">tx</a> <a id="6012" href="Ledger.Conway.Transaction.html#6012" class="Bound">utxo</a> <a id="6017" class="Symbol">=</a>
    <a id="6023" href="Class.ToBool.html#389" class="Function Operator">if</a> <a id="6026" href="Ledger.Conway.Transaction.html#6006" class="Bound">sh</a> <a id="6029" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6031" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="6036" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6042" class="Symbol">(</a><a id="6043" href="Ledger.Conway.Transaction.html#6112" class="Function">m</a> <a id="6045" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="6046" class="Symbol">)</a> <a id="6048" href="Class.ToBool.html#389" class="Function Operator">then</a>
      <a id="6059" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6064" class="Symbol">(</a><a id="6065" href="Axiom.Set.Map.html#13563" class="Function">lookupᵐ</a> <a id="6073" href="Ledger.Conway.Transaction.html#6112" class="Function">m</a> <a id="6075" href="Ledger.Conway.Transaction.html#6006" class="Bound">sh</a><a id="6077" class="Symbol">)</a>
    <a id="6083" href="Class.ToBool.html#389" class="Function Operator">else</a>
      <a id="6094" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="6106" class="Keyword">where</a> <a id="6112" href="Ledger.Conway.Transaction.html#6112" class="Function">m</a> <a id="6114" class="Symbol">=</a> <a id="6116" href="Ledger.Prelude.html#2030" class="Function">setToMap</a> <a id="6125" class="Symbol">(</a><a id="6126" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="6131" href="Data.Product.Base.html#2000" class="Function Operator">&lt;</a> <a id="6133" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="6138" href="Data.Product.Base.html#2000" class="Function Operator">,</a> <a id="6140" href="Function.Base.html#704" class="Function">id</a> <a id="6143" href="Data.Product.Base.html#2000" class="Function Operator">&gt;</a> <a id="6145" class="Symbol">(</a><a id="6146" href="Ledger.Conway.Transaction.html#5796" class="Function">txscripts</a> <a id="6156" href="Ledger.Conway.Transaction.html#6009" class="Bound">tx</a> <a id="6159" href="Ledger.Conway.Transaction.html#6012" class="Bound">utxo</a><a id="6163" class="Symbol">))</a>


  <a id="TransactionStructure.isP2Script"></a><a id="6170" href="Ledger.Conway.Transaction.html#6170" class="Function">isP2Script</a> <a id="6181" class="Symbol">:</a> <a id="6183" href="Ledger.Conway.Script.html#5374" class="Function">Script</a> <a id="6190" class="Symbol">→</a> <a id="6192" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="6199" href="Ledger.Conway.Transaction.html#6170" class="Function">isP2Script</a> <a id="6210" class="Symbol">=</a> <a id="6212" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="6214" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6216" href="Data.Maybe.Base.html#1117" class="Function">is-just</a> <a id="6224" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6226" href="Data.Sum.html#870" class="Function">isInj₂</a>

  <a id="TransactionStructure.isP2Script?"></a><a id="6236" href="Ledger.Conway.Transaction.html#6236" class="Function">isP2Script?</a> <a id="6248" class="Symbol">:</a> <a id="6250" class="Symbol">∀</a> <a id="6252" class="Symbol">{</a><a id="6253" href="Ledger.Conway.Transaction.html#6253" class="Bound">s</a><a id="6254" class="Symbol">}</a> <a id="6256" class="Symbol">→</a> <a id="6258" href="Ledger.Conway.Transaction.html#6170" class="Function">isP2Script</a> <a id="6269" href="Ledger.Conway.Transaction.html#6253" class="Bound">s</a> <a id="6271" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
  <a id="6275" href="Ledger.Conway.Transaction.html#6236" class="Function">isP2Script?</a> <a id="6287" class="Symbol">{</a><a id="6288" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6293" href="Ledger.Conway.Transaction.html#6293" class="Bound">x</a><a id="6294" class="Symbol">}</a> <a id="6296" class="Symbol">.</a><a id="6297" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="6301" class="Symbol">=</a> <a id="6303" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6306" class="Symbol">λ</a> <a id="6308" class="Symbol">()</a>
  <a id="6313" href="Ledger.Conway.Transaction.html#6236" class="Function">isP2Script?</a> <a id="6325" class="Symbol">{</a><a id="6326" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6331" href="Ledger.Conway.Transaction.html#6331" class="Bound">y</a><a id="6332" class="Symbol">}</a> <a id="6334" class="Symbol">.</a><a id="6335" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="6339" class="Symbol">=</a> <a id="6341" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6345" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>

  <a id="6351" class="Keyword">instance</a>
    <a id="TransactionStructure.HasCoin-TxOut"></a><a id="6364" href="Ledger.Conway.Transaction.html#6364" class="Function">HasCoin-TxOut</a> <a id="6378" class="Symbol">:</a> <a id="6380" href="Ledger.Interface.HasCoin.html#124" class="Record">HasCoin</a> <a id="6388" href="Ledger.Conway.Transaction.html#2405" class="Function">TxOut</a>
    <a id="6398" href="Ledger.Conway.Transaction.html#6364" class="Function">HasCoin-TxOut</a> <a id="6412" class="Symbol">.</a><a id="6413" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6421" class="Symbol">=</a> <a id="6423" href="Ledger.Conway.TokenAlgebra.html#819" class="Function">coin</a> <a id="6428" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6430" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6436" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6438" href="Data.Product.Base.html#650" class="Field">proj₂</a>

</pre></body></html>