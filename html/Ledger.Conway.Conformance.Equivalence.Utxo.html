<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Equivalence.Utxo</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Core.Specification.Abstract.html" class="Module">Ledger.Core.Specification.Abstract</a>
<a id="72" class="Keyword">open</a> <a id="77" class="Keyword">import</a> <a id="84" href="Ledger.Core.Specification.Transaction.html" class="Module">Ledger.Core.Specification.Transaction</a>

<a id="123" class="Keyword">module</a> <a id="130" href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="Module">Ledger.Conway.Conformance.Equivalence.Utxo</a>
  <a id="175" class="Symbol">(</a><a id="176" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#176" class="Bound">txs</a> <a id="180" class="Symbol">:</a> <a id="182" href="Ledger.Core.Specification.Transaction.html#896" class="Record">TransactionStructure</a><a id="202" class="Symbol">)</a> <a id="204" class="Symbol">(</a><a id="205" class="Keyword">open</a> <a id="210" href="Ledger.Core.Specification.Transaction.html#896" class="Module">TransactionStructure</a> <a id="231" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#176" class="Bound">txs</a><a id="234" class="Symbol">)</a>
  <a id="238" class="Symbol">(</a><a id="239" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#239" class="Bound">abs</a> <a id="243" class="Symbol">:</a> <a id="245" href="Ledger.Core.Specification.Abstract.html#651" class="Record">AbstractFunctions</a> <a id="263" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#176" class="Bound">txs</a><a id="266" class="Symbol">)</a>
  <a id="270" class="Keyword">where</a>

<a id="277" class="Keyword">open</a> <a id="282" class="Keyword">import</a> <a id="289" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="299" class="Keyword">using</a> <a id="305" class="Symbol">(</a><a id="306" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="307" class="Symbol">)</a>
<a id="309" class="Keyword">open</a> <a id="314" class="Keyword">import</a> <a id="321" href="Data.Product.html" class="Module">Data.Product</a> <a id="334" class="Keyword">using</a> <a id="340" class="Symbol">(</a><a id="341" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="344" class="Symbol">;</a> <a id="346" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="349" class="Symbol">)</a>
<a id="351" class="Keyword">open</a> <a id="356" class="Keyword">import</a> <a id="363" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="380" class="Keyword">using</a> <a id="386" class="Symbol">(</a><a id="387" href="Function.Bundles.html#12398" class="Function Operator">_⇔_</a><a id="390" class="Symbol">;</a> <a id="392" href="Function.Bundles.html#13497" class="Function">mk⇔</a><a id="395" class="Symbol">;</a> <a id="397" href="Function.Bundles.html#4750" class="Record">Equivalence</a><a id="408" class="Symbol">)</a>
<a id="410" class="Keyword">open</a> <a id="415" class="Keyword">import</a> <a id="422" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="461" class="Keyword">open</a> <a id="466" class="Keyword">import</a> <a id="473" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="489" class="Keyword">open</a> <a id="494" class="Keyword">import</a> <a id="501" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>

<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="600" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#176" class="Bound">txs</a> <a id="604" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#239" class="Bound">abs</a>

<a id="609" class="Keyword">open</a> <a id="614" href="Relation.Binary.PropositionalEquality.Properties.html#6850" class="Module">≡-Reasoning</a>

<a id="627" class="Keyword">private</a>
  <a id="637" class="Keyword">module</a> <a id="L"></a><a id="644" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#644" class="Module">L</a> <a id="646" class="Keyword">where</a>
    <a id="656" class="Keyword">open</a> <a id="661" class="Keyword">import</a> <a id="668" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="701" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#176" class="Bound">txs</a> <a id="705" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#239" class="Bound">abs</a> <a id="709" class="Keyword">public</a>
    <a id="720" class="Keyword">open</a> <a id="725" class="Keyword">import</a> <a id="732" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="766" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#176" class="Bound">txs</a> <a id="770" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#239" class="Bound">abs</a> <a id="774" class="Keyword">public</a>
    <a id="785" class="Keyword">open</a> <a id="790" class="Keyword">import</a> <a id="797" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="831" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a> <a id="844" class="Keyword">public</a>

  <a id="854" class="Keyword">module</a> <a id="C"></a><a id="861" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#861" class="Module">C</a> <a id="863" class="Keyword">where</a>
    <a id="873" class="Keyword">open</a> <a id="878" class="Keyword">import</a> <a id="885" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="916" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#176" class="Bound">txs</a> <a id="920" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#239" class="Bound">abs</a> <a id="924" class="Keyword">public</a>
    <a id="935" class="Keyword">open</a> <a id="940" class="Keyword">import</a> <a id="947" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="979" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#176" class="Bound">txs</a> <a id="983" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#239" class="Bound">abs</a> <a id="987" class="Keyword">public</a>
    <a id="998" class="Keyword">open</a> <a id="1003" class="Keyword">import</a> <a id="1010" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="1042" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a> <a id="1055" class="Keyword">public</a>

<a id="1063" class="Keyword">open</a> <a id="1068" href="Ledger.Conway.Specification.Transaction.html#1719" class="Module">Tx</a>

<a id="setDeposits"></a><a id="1072" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1072" class="Function">setDeposits</a> <a id="1084" class="Symbol">:</a> <a id="1086" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a> <a id="1097" class="Symbol">→</a> <a id="1099" href="Ledger.Conway.Specification.Utxo.html#1306" class="Record">L.UTxOState</a> <a id="1111" class="Symbol">→</a> <a id="1113" href="Ledger.Conway.Specification.Utxo.html#1306" class="Record">L.UTxOState</a>
<a id="1125" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1072" class="Function">setDeposits</a> <a id="1137" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1137" class="Bound">deposits</a> <a id="1146" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1146" class="Bound">utxoSt</a> <a id="1153" class="Symbol">=</a> <a id="1155" class="Keyword">record</a> <a id="1162" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1146" class="Bound">utxoSt</a> <a id="1169" class="Symbol">{</a> <a id="1171" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">deposits</a> <a id="1180" class="Symbol">=</a> <a id="1182" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1137" class="Bound">deposits</a> <a id="1191" class="Symbol">}</a>

<a id="withDepositsFrom"></a><a id="1194" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1194" class="Function">withDepositsFrom</a> <a id="1211" class="Symbol">:</a> <a id="1213" href="Ledger.Conway.Specification.Utxo.html#1306" class="Record">L.UTxOState</a> <a id="1225" class="Symbol">→</a> <a id="1227" href="Ledger.Conway.Specification.Utxo.html#1306" class="Record">L.UTxOState</a> <a id="1239" class="Symbol">→</a> <a id="1241" href="Ledger.Conway.Specification.Utxo.html#1306" class="Record">L.UTxOState</a>
<a id="1253" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1194" class="Function">withDepositsFrom</a> <a id="1270" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1270" class="Bound">utxoSt</a> <a id="1277" class="Symbol">=</a> <a id="1279" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1072" class="Function">setDeposits</a> <a id="1291" class="Symbol">(</a><a id="1292" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">L.UTxOState.deposits</a> <a id="1313" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1270" class="Bound">utxoSt</a><a id="1319" class="Symbol">)</a>

<a id="1322" class="Keyword">instance</a>

  <a id="UTXOSToConf"></a><a id="1334" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1334" class="Function">UTXOSToConf</a> <a id="1346" class="Symbol">:</a> <a id="1348" class="Symbol">∀</a> <a id="1350" class="Symbol">{</a><a id="1351" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1351" class="Bound">Γ</a> <a id="1353" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1353" class="Bound">s</a> <a id="1355" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1355" class="Bound">tx</a> <a id="1358" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1358" class="Bound">s&#39;</a><a id="1360" class="Symbol">}</a> <a id="1362" class="Symbol">→</a> <a id="1364" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1351" class="Bound">Γ</a> <a id="1366" href="Ledger.Conway.Specification.Utxo.html#11534" class="Datatype Operator">L.⊢</a> <a id="1370" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1353" class="Bound">s</a> <a id="1372" href="Ledger.Conway.Specification.Utxo.html#11534" class="Datatype Operator">⇀⦇</a> <a id="1375" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1355" class="Bound">tx</a> <a id="1378" href="Ledger.Conway.Specification.Utxo.html#11534" class="Datatype Operator">,UTXOS⦈</a> <a id="1386" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1358" class="Bound">s&#39;</a> <a id="1389" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="1391" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1351" class="Bound">Γ</a> <a id="1393" href="Ledger.Conway.Conformance.Utxo.html#977" class="Datatype Operator">C.⊢</a> <a id="1397" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1353" class="Bound">s</a> <a id="1399" href="Ledger.Conway.Conformance.Utxo.html#977" class="Datatype Operator">⇀⦇</a> <a id="1402" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1355" class="Bound">tx</a> <a id="1405" href="Ledger.Conway.Conformance.Utxo.html#977" class="Datatype Operator">,UTXOS⦈</a> <a id="1413" class="Symbol">(</a><a id="1414" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1194" class="Function">withDepositsFrom</a> <a id="1431" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1353" class="Bound">s</a> <a id="1433" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1358" class="Bound">s&#39;</a><a id="1435" class="Symbol">)</a>
  <a id="1439" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1334" class="Function">UTXOSToConf</a> <a id="1451" class="Symbol">.</a><a id="1452" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1458" class="Symbol">_</a> <a id="1460" class="Symbol">(</a><a id="1461" href="Ledger.Conway.Specification.Utxo.html#11604" class="InductiveConstructor">L.Scripts-Yes</a> <a id="1475" class="Symbol">(</a><a id="1476" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1476" class="Bound">certsValid</a> <a id="1487" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1489" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1489" class="Bound">eval</a> <a id="1494" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1496" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1496" class="Bound">txValid</a><a id="1503" class="Symbol">))</a> <a id="1506" class="Symbol">=</a> <a id="1508" href="Ledger.Conway.Conformance.Utxo.html#1046" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1522" class="Symbol">(</a><a id="1523" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1489" class="Bound">eval</a> <a id="1528" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1530" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1496" class="Bound">txValid</a><a id="1537" class="Symbol">)</a>
  <a id="1541" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1334" class="Function">UTXOSToConf</a> <a id="1553" class="Symbol">.</a><a id="1554" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1560" class="Symbol">_</a> <a id="1562" class="Symbol">(</a><a id="1563" href="Ledger.Conway.Specification.Utxo.html#12122" class="InductiveConstructor">L.Scripts-No</a> <a id="1576" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1576" class="Bound">h</a><a id="1577" class="Symbol">)</a>                              <a id="1608" class="Symbol">=</a> <a id="1610" href="Ledger.Conway.Conformance.Utxo.html#1641" class="InductiveConstructor">C.Scripts-No</a> <a id="1623" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1576" class="Bound">h</a>

<a id="1626" class="Keyword">module</a> <a id="1633" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1633" class="Module">_</a> <a id="1635" class="Symbol">{</a><a id="1636" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1636" class="Bound">Γ</a> <a id="1638" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1638" class="Bound">s</a> <a id="1640" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1640" class="Bound">tx</a> <a id="1643" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1643" class="Bound">s&#39;</a><a id="1645" class="Symbol">}</a> <a id="1647" class="Keyword">where</a>
  <a id="1655" class="Keyword">open</a> <a id="1660" href="Ledger.Conway.Specification.Utxo.html#1197" class="Module">L.UTxOEnv</a> <a id="1670" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1636" class="Bound">Γ</a> <a id="1672" class="Keyword">renaming</a> <a id="1681" class="Symbol">(</a><a id="1682" href="Ledger.Conway.Specification.Utxo.html#1251" class="Field">pparams</a> <a id="1690" class="Symbol">to</a> <a id="1693" class="Field">pp</a><a id="1695" class="Symbol">)</a>
  <a id="1699" class="Keyword">open</a> <a id="1704" href="Ledger.Conway.Specification.Utxo.html#1306" class="Module">L.UTxOState</a> <a id="1716" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1638" class="Bound">s</a> <a id="1718" class="Keyword">using</a> <a id="1724" class="Symbol">(</a><a id="1725" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">deposits</a><a id="1733" class="Symbol">)</a>
  <a id="1737" class="Keyword">open</a> <a id="1742" href="Ledger.Conway.Specification.Transaction.html#1719" class="Module">Tx</a> <a id="1745" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1640" class="Bound">tx</a> <a id="1748" class="Keyword">renaming</a> <a id="1757" class="Symbol">(</a><a id="1758" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">body</a> <a id="1763" class="Symbol">to</a> <a id="1766" class="Field">txb</a><a id="1769" class="Symbol">)</a>

  <a id="1774" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1774" class="Function">utxoSDeposits</a> <a id="1788" class="Symbol">:</a> <a id="1790" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1636" class="Bound">Γ</a> <a id="1792" href="Ledger.Conway.Conformance.Utxo.html#977" class="Datatype Operator">C.⊢</a> <a id="1796" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1638" class="Bound">s</a> <a id="1798" href="Ledger.Conway.Conformance.Utxo.html#977" class="Datatype Operator">⇀⦇</a> <a id="1801" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1640" class="Bound">tx</a> <a id="1804" href="Ledger.Conway.Conformance.Utxo.html#977" class="Datatype Operator">,UTXOS⦈</a> <a id="1812" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1643" class="Bound">s&#39;</a> <a id="1815" class="Symbol">→</a> <a id="1817" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a>
  <a id="1830" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1774" class="Function">utxoSDeposits</a> <a id="1844" class="Symbol">(</a><a id="1845" href="Ledger.Conway.Conformance.Utxo.html#1046" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1859" class="Symbol">_)</a> <a id="1862" class="Symbol">=</a> <a id="1864" href="Ledger.Conway.Specification.Utxo.html#8188" class="Function">L.updateDeposits</a> <a id="1881" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1693" class="Function">pp</a> <a id="1884" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1766" class="Function">txb</a> <a id="1888" href="Ledger.Conway.Specification.Utxo.html#1414" class="Function">deposits</a>
  <a id="1899" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1774" class="Function">utxoSDeposits</a> <a id="1913" class="Symbol">(</a><a id="1914" href="Ledger.Conway.Conformance.Utxo.html#1641" class="InductiveConstructor">C.Scripts-No</a>  <a id="1928" class="Symbol">_)</a> <a id="1931" class="Symbol">=</a> <a id="1933" href="Ledger.Conway.Specification.Utxo.html#1414" class="Function">deposits</a>

  <a id="1945" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1945" class="Function">utxoDeposits</a> <a id="1958" class="Symbol">:</a> <a id="1960" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1636" class="Bound">Γ</a> <a id="1962" href="Ledger.Conway.Conformance.Utxo.html#2426" class="Datatype Operator">C.⊢</a> <a id="1966" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1638" class="Bound">s</a> <a id="1968" href="Ledger.Conway.Conformance.Utxo.html#2426" class="Datatype Operator">⇀⦇</a> <a id="1971" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1640" class="Bound">tx</a> <a id="1974" href="Ledger.Conway.Conformance.Utxo.html#2426" class="Datatype Operator">,UTXO⦈</a> <a id="1981" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1643" class="Bound">s&#39;</a> <a id="1984" class="Symbol">→</a> <a id="1986" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a>
  <a id="1999" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1945" class="Function">utxoDeposits</a> <a id="2012" class="Symbol">(</a><a id="2013" href="Ledger.Conway.Conformance.Utxo.html#3761" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2031" class="Symbol">_</a> <a id="2033" class="Symbol">_</a> <a id="2035" class="Symbol">_</a> <a id="2037" class="Symbol">_</a> <a id="2039" class="Symbol">_</a> <a id="2041" class="Symbol">_</a> <a id="2043" class="Symbol">_</a> <a id="2045" class="Symbol">_</a> <a id="2047" class="Symbol">_</a> <a id="2049" class="Symbol">_</a> <a id="2051" class="Symbol">_</a> <a id="2053" class="Symbol">_</a> <a id="2055" class="Symbol">_</a> <a id="2057" class="Symbol">_</a> <a id="2059" class="Symbol">_</a> <a id="2061" class="Symbol">_</a> <a id="2063" class="Symbol">_</a> <a id="2065" class="Symbol">_</a> <a id="2067" class="Symbol">_</a> <a id="2069" class="Symbol">_</a> <a id="2071" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2071" class="Bound">h</a><a id="2072" class="Symbol">)</a> <a id="2074" class="Symbol">=</a> <a id="2076" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1774" class="Function">utxoSDeposits</a> <a id="2090" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2071" class="Bound">h</a>

  <a id="2095" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2095" class="Function">utxowDeposits</a> <a id="2109" class="Symbol">:</a> <a id="2111" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1636" class="Bound">Γ</a> <a id="2113" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">C.⊢</a> <a id="2117" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1638" class="Bound">s</a> <a id="2119" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">⇀⦇</a> <a id="2122" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1640" class="Bound">tx</a> <a id="2125" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">,UTXOW⦈</a> <a id="2133" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1643" class="Bound">s&#39;</a> <a id="2136" class="Symbol">→</a> <a id="2138" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a>
  <a id="2151" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2095" class="Function">utxowDeposits</a> <a id="2165" class="Symbol">(</a><a id="2166" href="Ledger.Conway.Conformance.Utxow.html#2367" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="2185" class="Symbol">_</a> <a id="2187" class="Symbol">_</a> <a id="2189" class="Symbol">_</a> <a id="2191" class="Symbol">_</a> <a id="2193" class="Symbol">_</a> <a id="2195" class="Symbol">_</a> <a id="2197" class="Symbol">_</a> <a id="2199" class="Symbol">_</a> <a id="2201" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2201" class="Bound">h</a><a id="2202" class="Symbol">)</a> <a id="2204" class="Symbol">=</a> <a id="2206" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1945" class="Function">utxoDeposits</a> <a id="2219" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2201" class="Bound">h</a>

<a id="2222" class="Keyword">instance</a>
  <a id="2233" class="Comment">-- Here we pass in the ValidCertDeposits proof explicitly and</a>
  <a id="2297" class="Comment">-- override the deposits in s&#39; with updateDeposits (in case of</a>
  <a id="2362" class="Comment">-- Scripts-Yes).</a>
  <a id="UTXOSFromConf"></a><a id="2381" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2381" class="Function">UTXOSFromConf</a> <a id="2395" class="Symbol">:</a> <a id="2397" class="Symbol">∀</a> <a id="2399" class="Symbol">{</a><a id="2400" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2400" class="Bound">Γ</a> <a id="2402" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2402" class="Bound">s</a> <a id="2404" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2404" class="Bound">tx</a> <a id="2407" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2407" class="Bound">s&#39;</a><a id="2409" class="Symbol">}</a>
                    <a id="2431" class="Symbol">(</a><a id="2432" class="Keyword">let</a> <a id="2436" class="Keyword">open</a> <a id="2441" href="Ledger.Conway.Specification.Utxo.html#1197" class="Module">L.UTxOEnv</a> <a id="2451" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2400" class="Bound">Γ</a> <a id="2453" class="Keyword">using</a> <a id="2459" class="Symbol">()</a> <a id="2462" class="Keyword">renaming</a> <a id="2471" class="Symbol">(</a><a id="2472" href="Ledger.Conway.Specification.Utxo.html#1251" class="Field">pparams</a> <a id="2480" class="Symbol">to</a> <a id="2483" class="Field">pp</a><a id="2485" class="Symbol">)</a>
                         <a id="2512" class="Keyword">open</a> <a id="2517" href="Ledger.Conway.Specification.Utxo.html#1306" class="Module">L.UTxOState</a> <a id="2529" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2402" class="Bound">s</a> <a id="2531" class="Keyword">using</a> <a id="2537" class="Symbol">(</a><a id="2538" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">deposits</a><a id="2546" class="Symbol">)</a>
                         <a id="2573" class="Keyword">open</a> <a id="2578" href="Ledger.Conway.Specification.Transaction.html#1719" class="Module">Tx</a> <a id="2581" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2404" class="Bound">tx</a> <a id="2584" class="Keyword">renaming</a> <a id="2593" class="Symbol">(</a><a id="2594" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">body</a> <a id="2599" class="Symbol">to</a> <a id="2602" class="Field">txb</a><a id="2605" class="Symbol">)</a>
                         <a id="2632" class="Keyword">open</a> <a id="2637" href="Ledger.Conway.Specification.Transaction.html#350" class="Module">TxBody</a> <a id="2644" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2602" class="Function">txb</a> <a id="2648" class="Keyword">using</a> <a id="2654" class="Symbol">(</a><a id="2655" href="Ledger.Conway.Specification.Transaction.html#554" class="Field">txCerts</a><a id="2662" class="Symbol">))</a>
                <a id="2681" class="Symbol">→</a> <a id="2683" class="Symbol">(</a><a id="2684" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="2692" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2404" class="Bound">tx</a> <a id="2695" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2697" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2703" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2705" href="Ledger.Conway.Specification.Utxo.html#3538" class="Datatype">L.ValidCertDeposits</a> <a id="2725" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2483" class="Function">pp</a> <a id="2728" href="Ledger.Conway.Specification.Utxo.html#1414" class="Function">deposits</a> <a id="2737" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a><a id="2744" class="Symbol">)</a>
                  <a id="2764" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="2766" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2400" class="Bound">Γ</a> <a id="2768" href="Ledger.Conway.Conformance.Utxo.html#977" class="Datatype Operator">C.⊢</a> <a id="2772" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2402" class="Bound">s</a> <a id="2774" href="Ledger.Conway.Conformance.Utxo.html#977" class="Datatype Operator">⇀⦇</a> <a id="2777" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2404" class="Bound">tx</a> <a id="2780" href="Ledger.Conway.Conformance.Utxo.html#977" class="Datatype Operator">,UTXOS⦈</a> <a id="2788" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2407" class="Bound">s&#39;</a> <a id="2791" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="2794" class="Symbol">λ</a> <a id="2796" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2796" class="Bound">_</a> <a id="2798" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2798" class="Bound">h</a> <a id="2800" class="Symbol">→</a>
                    <a id="2822" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2400" class="Bound">Γ</a> <a id="2824" href="Ledger.Conway.Specification.Utxo.html#11534" class="Datatype Operator">L.⊢</a> <a id="2828" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2402" class="Bound">s</a> <a id="2830" href="Ledger.Conway.Specification.Utxo.html#11534" class="Datatype Operator">⇀⦇</a> <a id="2833" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2404" class="Bound">tx</a> <a id="2836" href="Ledger.Conway.Specification.Utxo.html#11534" class="Datatype Operator">,UTXOS⦈</a> <a id="2844" class="Symbol">(</a><a id="2845" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1072" class="Function">setDeposits</a> <a id="2857" class="Symbol">(</a><a id="2858" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1774" class="Function">utxoSDeposits</a> <a id="2872" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2798" class="Bound">h</a><a id="2873" class="Symbol">)</a> <a id="2875" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2407" class="Bound">s&#39;</a><a id="2877" class="Symbol">)</a>
  <a id="2881" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2381" class="Function">UTXOSFromConf</a> <a id="2895" class="Symbol">.</a><a id="2896" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2902" class="Symbol">(</a><a id="2903" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2908" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2912" class="Symbol">)</a>       <a id="2920" class="Symbol">(</a><a id="2921" href="Ledger.Conway.Conformance.Utxo.html#1046" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2935" class="Symbol">(</a><a id="2936" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2936" class="Bound">eval</a> <a id="2941" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2943" class="Symbol">()))</a>
  <a id="2950" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2381" class="Function">UTXOSFromConf</a> <a id="2964" class="Symbol">.</a><a id="2965" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2971" class="Symbol">(</a><a id="2972" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2977" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2977" class="Bound">validCerts</a><a id="2987" class="Symbol">)</a> <a id="2989" class="Symbol">(</a><a id="2990" href="Ledger.Conway.Conformance.Utxo.html#1046" class="InductiveConstructor">C.Scripts-Yes</a> <a id="3004" class="Symbol">(</a><a id="3005" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3005" class="Bound">eval</a> <a id="3010" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3012" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3012" class="Bound">txValid</a><a id="3019" class="Symbol">))</a> <a id="3022" class="Symbol">=</a> <a id="3024" href="Ledger.Conway.Specification.Utxo.html#11604" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3038" class="Symbol">(</a><a id="3039" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2977" class="Bound">validCerts</a> <a id="3050" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3052" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3005" class="Bound">eval</a> <a id="3057" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3059" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3012" class="Bound">txValid</a><a id="3066" class="Symbol">)</a>
  <a id="3070" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2381" class="CatchallClause Function">UTXOSFromConf</a><a id="3083" class="CatchallClause"> </a><a id="3084" class="CatchallClause Symbol">.</a><a id="3085" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="CatchallClause Field">convⁱ</a><a id="3090" class="CatchallClause"> </a><a id="3091" class="CatchallClause Symbol">_</a><a id="3092" class="CatchallClause"> </a><a id="3093" class="CatchallClause Symbol">(</a><a id="3094" href="Ledger.Conway.Conformance.Utxo.html#1641" class="CatchallClause InductiveConstructor">C.Scripts-No</a><a id="3106" class="CatchallClause"> </a><a id="3107" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3107" class="CatchallClause Bound">h</a><a id="3108" class="CatchallClause Symbol">)</a> <a id="3110" class="Symbol">=</a> <a id="3112" href="Ledger.Conway.Specification.Utxo.html#12122" class="InductiveConstructor">L.Scripts-No</a> <a id="3125" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3107" class="Bound">h</a>

<a id="3128" class="Keyword">instance</a>
  <a id="3139" class="Comment">-- It&#39;s a little weird that UTXO still has a bunch of preconditions</a>
  <a id="3209" class="Comment">-- for consumed and produced (using updateDeposits) when the</a>
  <a id="3272" class="Comment">-- deposits don&#39;t change! Why are they even part of the UTxOState?</a>
  <a id="3341" class="Comment">-- In conformance the update happens in GOVCERT (under CERT).</a>
  <a id="UTXOToConf"></a><a id="3405" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3405" class="Function">UTXOToConf</a> <a id="3416" class="Symbol">:</a> <a id="3418" class="Symbol">∀</a> <a id="3420" class="Symbol">{</a><a id="3421" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3421" class="Bound">Γ</a> <a id="3423" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3423" class="Bound">s</a> <a id="3425" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3425" class="Bound">tx</a> <a id="3428" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3428" class="Bound">s&#39;</a><a id="3430" class="Symbol">}</a> <a id="3432" class="Symbol">→</a> <a id="3434" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3421" class="Bound">Γ</a> <a id="3436" href="Ledger.Conway.Specification.Utxo.html#2239" class="Datatype Operator">L.⊢</a> <a id="3440" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3423" class="Bound">s</a> <a id="3442" href="Ledger.Conway.Specification.Utxo.html#2239" class="Datatype Operator">⇀⦇</a> <a id="3445" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3425" class="Bound">tx</a> <a id="3448" href="Ledger.Conway.Specification.Utxo.html#2239" class="Datatype Operator">,UTXO⦈</a> <a id="3455" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3428" class="Bound">s&#39;</a> <a id="3458" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="3460" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3421" class="Bound">Γ</a> <a id="3462" href="Ledger.Conway.Conformance.Utxo.html#2426" class="Datatype Operator">C.⊢</a> <a id="3466" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3423" class="Bound">s</a> <a id="3468" href="Ledger.Conway.Conformance.Utxo.html#2426" class="Datatype Operator">⇀⦇</a> <a id="3471" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3425" class="Bound">tx</a> <a id="3474" href="Ledger.Conway.Conformance.Utxo.html#2426" class="Datatype Operator">,UTXO⦈</a> <a id="3481" class="Symbol">(</a><a id="3482" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1194" class="Function">withDepositsFrom</a> <a id="3499" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3423" class="Bound">s</a> <a id="3501" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3428" class="Bound">s&#39;</a><a id="3503" class="Symbol">)</a>
  <a id="3507" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3405" class="Function">UTXOToConf</a> <a id="3518" class="Symbol">{</a><a id="3519" class="Argument">s</a> <a id="3521" class="Symbol">=</a> <a id="3523" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3523" class="Bound">s</a><a id="3524" class="Symbol">}</a> <a id="3526" class="Symbol">{</a><a id="3527" class="Argument">tx</a> <a id="3530" class="Symbol">=</a> <a id="3532" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3532" class="Bound">tx</a><a id="3534" class="Symbol">}</a> <a id="3536" class="Symbol">.</a><a id="3537" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="3543" class="Symbol">_</a> <a id="3545" class="Symbol">(</a><a id="3546" href="Ledger.Conway.Specification.Utxo.html#12784" class="InductiveConstructor">L.UTXO-inductive</a> <a id="3563" class="Symbol">(</a><a id="3564" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3564" class="Bound">a</a> <a id="3566" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3568" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3568" class="Bound">b</a> <a id="3570" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3572" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3572" class="Bound">c</a> <a id="3574" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3576" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3576" class="Bound">d</a> <a id="3578" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3580" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3580" class="Bound">e</a> <a id="3582" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3584" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3584" class="Bound">f</a> <a id="3586" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3588" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3588" class="Bound">g</a> <a id="3590" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3592" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3592" class="Bound">r</a> <a id="3594" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3596" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3596" class="Bound">h</a> <a id="3598" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3600" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3600" class="Bound">i</a> <a id="3602" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3604" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3604" class="Bound">j</a> <a id="3606" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3608" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3608" class="Bound">k</a> <a id="3610" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3612" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3612" class="Bound">l</a> <a id="3614" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3616" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3616" class="Bound">m</a> <a id="3618" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3620" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3620" class="Bound">n</a> <a id="3622" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3624" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3624" class="Bound">o</a> <a id="3626" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3628" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3628" class="Bound">p</a> <a id="3630" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3632" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3632" class="Bound">utxo</a><a id="3636" class="Symbol">))</a> <a id="3639" class="Symbol">=</a>
    <a id="3645" href="Ledger.Conway.Conformance.Utxo.html#2495" class="InductiveConstructor">C.UTXO-inductive</a> <a id="3662" class="Symbol">(</a><a id="3663" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3564" class="Bound">a</a> <a id="3665" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3667" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3568" class="Bound">b</a> <a id="3669" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3671" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3572" class="Bound">c</a> <a id="3673" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3675" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3576" class="Bound">d</a> <a id="3677" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3679" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3580" class="Bound">e</a> <a id="3681" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3683" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3584" class="Bound">f</a> <a id="3685" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3687" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3588" class="Bound">g</a> <a id="3689" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3691" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3592" class="Bound">r</a> <a id="3693" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3695" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3596" class="Bound">h</a> <a id="3697" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3699" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3600" class="Bound">i</a> <a id="3701" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3703" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3604" class="Bound">j</a> <a id="3705" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3707" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3608" class="Bound">k</a> <a id="3709" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3711" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3612" class="Bound">l</a> <a id="3713" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3715" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3616" class="Bound">m</a> <a id="3717" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3719" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3620" class="Bound">n</a> <a id="3721" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3723" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3624" class="Bound">o</a> <a id="3725" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3727" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3628" class="Bound">p</a> <a id="3729" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3731" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="3736" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3632" class="Bound">utxo</a><a id="3740" class="Symbol">)</a>

  <a id="UTXOFromConf"></a><a id="3745" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3745" class="Function">UTXOFromConf</a> <a id="3758" class="Symbol">:</a> <a id="3760" class="Symbol">∀</a> <a id="3762" class="Symbol">{</a><a id="3763" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3763" class="Bound">Γ</a> <a id="3765" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3765" class="Bound">s</a> <a id="3767" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3767" class="Bound">tx</a> <a id="3770" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3770" class="Bound">s&#39;</a><a id="3772" class="Symbol">}</a>
                   <a id="3793" class="Symbol">(</a><a id="3794" class="Keyword">let</a> <a id="3798" class="Keyword">open</a> <a id="3803" href="Ledger.Conway.Specification.Utxo.html#1197" class="Module">L.UTxOEnv</a> <a id="3813" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3763" class="Bound">Γ</a> <a id="3815" class="Keyword">using</a> <a id="3821" class="Symbol">()</a> <a id="3824" class="Keyword">renaming</a> <a id="3833" class="Symbol">(</a><a id="3834" href="Ledger.Conway.Specification.Utxo.html#1251" class="Field">pparams</a> <a id="3842" class="Symbol">to</a> <a id="3845" class="Field">pp</a><a id="3847" class="Symbol">)</a>
                        <a id="3873" class="Keyword">open</a> <a id="3878" href="Ledger.Conway.Specification.Utxo.html#1306" class="Module">L.UTxOState</a> <a id="3890" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3765" class="Bound">s</a> <a id="3892" class="Keyword">using</a> <a id="3898" class="Symbol">(</a><a id="3899" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">deposits</a><a id="3907" class="Symbol">)</a>
                        <a id="3933" class="Keyword">open</a> <a id="3938" href="Ledger.Conway.Specification.Transaction.html#1719" class="Module">Tx</a> <a id="3941" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3767" class="Bound">tx</a> <a id="3944" class="Keyword">renaming</a> <a id="3953" class="Symbol">(</a><a id="3954" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">body</a> <a id="3959" class="Symbol">to</a> <a id="3962" class="Field">txb</a><a id="3965" class="Symbol">)</a>
                        <a id="3991" class="Keyword">open</a> <a id="3996" href="Ledger.Conway.Specification.Transaction.html#350" class="Module">TxBody</a> <a id="4003" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3962" class="Function">txb</a> <a id="4007" class="Keyword">using</a> <a id="4013" class="Symbol">(</a><a id="4014" href="Ledger.Conway.Specification.Transaction.html#554" class="Field">txCerts</a><a id="4021" class="Symbol">))</a>
               <a id="4039" class="Symbol">→</a> <a id="4041" class="Symbol">(</a><a id="4042" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="4050" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3767" class="Bound">tx</a> <a id="4053" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4055" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="4061" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="4063" href="Ledger.Conway.Specification.Utxo.html#3538" class="Datatype">L.ValidCertDeposits</a> <a id="4083" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3845" class="Function">pp</a> <a id="4086" href="Ledger.Conway.Specification.Utxo.html#1414" class="Function">deposits</a> <a id="4095" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a><a id="4102" class="Symbol">)</a>
                 <a id="4121" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="4123" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3763" class="Bound">Γ</a> <a id="4125" href="Ledger.Conway.Conformance.Utxo.html#2426" class="Datatype Operator">C.⊢</a> <a id="4129" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3765" class="Bound">s</a> <a id="4131" href="Ledger.Conway.Conformance.Utxo.html#2426" class="Datatype Operator">⇀⦇</a> <a id="4134" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3767" class="Bound">tx</a> <a id="4137" href="Ledger.Conway.Conformance.Utxo.html#2426" class="Datatype Operator">,UTXO⦈</a> <a id="4144" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3770" class="Bound">s&#39;</a> <a id="4147" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="4150" class="Symbol">λ</a> <a id="4152" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4152" class="Bound">_</a> <a id="4154" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4154" class="Bound">h</a> <a id="4156" class="Symbol">→</a>
                   <a id="4177" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3763" class="Bound">Γ</a> <a id="4179" href="Ledger.Conway.Specification.Utxo.html#2239" class="Datatype Operator">L.⊢</a> <a id="4183" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3765" class="Bound">s</a> <a id="4185" href="Ledger.Conway.Specification.Utxo.html#2239" class="Datatype Operator">⇀⦇</a> <a id="4188" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3767" class="Bound">tx</a> <a id="4191" href="Ledger.Conway.Specification.Utxo.html#2239" class="Datatype Operator">,UTXO⦈</a> <a id="4198" class="Symbol">(</a><a id="4199" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1072" class="Function">setDeposits</a> <a id="4211" class="Symbol">(</a><a id="4212" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1945" class="Function">utxoDeposits</a> <a id="4225" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4154" class="Bound">h</a><a id="4226" class="Symbol">)</a> <a id="4228" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3770" class="Bound">s&#39;</a><a id="4230" class="Symbol">)</a>
  <a id="4234" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3745" class="Function">UTXOFromConf</a> <a id="4247" class="Symbol">{</a><a id="4248" class="Argument">s</a> <a id="4250" class="Symbol">=</a> <a id="4252" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4252" class="Bound">s</a><a id="4253" class="Symbol">}</a> <a id="4255" class="Symbol">{</a><a id="4256" class="Argument">tx</a> <a id="4259" class="Symbol">=</a> <a id="4261" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4261" class="Bound">tx</a><a id="4263" class="Symbol">}</a> <a id="4265" class="Symbol">.</a><a id="4266" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4272" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4272" class="Bound">validCerts</a> <a id="4283" class="Symbol">(</a><a id="4284" href="Ledger.Conway.Conformance.Utxo.html#2495" class="InductiveConstructor">C.UTXO-inductive</a> <a id="4301" class="Symbol">(</a><a id="4302" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4302" class="Bound">a</a> <a id="4304" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4306" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4306" class="Bound">b</a> <a id="4308" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4310" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4310" class="Bound">c</a> <a id="4312" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4314" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4314" class="Bound">d</a> <a id="4316" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4318" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4318" class="Bound">e</a> <a id="4320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4322" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4322" class="Bound">f</a> <a id="4324" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4326" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4326" class="Bound">g</a> <a id="4328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4330" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4330" class="Bound">r</a> <a id="4332" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4334" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4334" class="Bound">h</a> <a id="4336" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4338" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4338" class="Bound">i</a> <a id="4340" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4342" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4342" class="Bound">j</a> <a id="4344" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4346" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4346" class="Bound">k</a> <a id="4348" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4350" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4350" class="Bound">l</a> <a id="4352" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4354" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4354" class="Bound">m</a> <a id="4356" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4358" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4358" class="Bound">n</a> <a id="4360" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4362" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4362" class="Bound">o</a> <a id="4364" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4366" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4366" class="Bound">p</a> <a id="4368" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4370" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4370" class="Bound">utxo</a><a id="4374" class="Symbol">))</a> <a id="4377" class="Symbol">=</a>
    <a id="4383" href="Ledger.Conway.Specification.Utxo.html#12784" class="InductiveConstructor">L.UTXO-inductive</a> <a id="4400" class="Symbol">(</a><a id="4401" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4302" class="Bound">a</a> <a id="4403" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4405" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4306" class="Bound">b</a> <a id="4407" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4409" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4310" class="Bound">c</a> <a id="4411" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4413" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4314" class="Bound">d</a> <a id="4415" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4417" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4318" class="Bound">e</a> <a id="4419" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4421" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4322" class="Bound">f</a> <a id="4423" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4425" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4326" class="Bound">g</a> <a id="4427" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4429" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4330" class="Bound">r</a> <a id="4431" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4433" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4334" class="Bound">h</a> <a id="4435" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4437" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4338" class="Bound">i</a> <a id="4439" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4441" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4342" class="Bound">j</a> <a id="4443" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4445" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4346" class="Bound">k</a> <a id="4447" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4449" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4350" class="Bound">l</a> <a id="4451" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4453" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4354" class="Bound">m</a> <a id="4455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4457" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4358" class="Bound">n</a> <a id="4459" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4461" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4362" class="Bound">o</a> <a id="4463" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4465" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4366" class="Bound">p</a> <a id="4467" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4469" class="Symbol">(</a><a id="4470" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4272" class="Bound">validCerts</a> <a id="4481" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="4487" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4370" class="Bound">utxo</a><a id="4491" class="Symbol">))</a>

  <a id="UTXOWToConf"></a><a id="4497" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4497" class="Function">UTXOWToConf</a> <a id="4509" class="Symbol">:</a> <a id="4511" class="Symbol">∀</a> <a id="4513" class="Symbol">{</a><a id="4514" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4514" class="Bound">Γ</a> <a id="4516" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4516" class="Bound">s</a> <a id="4518" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4518" class="Bound">tx</a> <a id="4521" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4521" class="Bound">s&#39;</a><a id="4523" class="Symbol">}</a> <a id="4525" class="Symbol">→</a> <a id="4527" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4514" class="Bound">Γ</a> <a id="4529" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">L.⊢</a> <a id="4533" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4516" class="Bound">s</a> <a id="4535" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">⇀⦇</a> <a id="4538" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4518" class="Bound">tx</a> <a id="4541" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">,UTXOW⦈</a> <a id="4549" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4521" class="Bound">s&#39;</a> <a id="4552" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="4554" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4514" class="Bound">Γ</a> <a id="4556" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">C.⊢</a> <a id="4560" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4516" class="Bound">s</a> <a id="4562" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">⇀⦇</a> <a id="4565" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4518" class="Bound">tx</a> <a id="4568" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">,UTXOW⦈</a> <a id="4576" class="Symbol">(</a><a id="4577" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1194" class="Function">withDepositsFrom</a> <a id="4594" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4516" class="Bound">s</a> <a id="4596" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4521" class="Bound">s&#39;</a><a id="4598" class="Symbol">)</a>
  <a id="4602" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4497" class="Function">UTXOWToConf</a> <a id="4614" class="Symbol">.</a><a id="4615" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4621" class="Symbol">_</a> <a id="4623" class="Symbol">(</a><a id="4624" href="Ledger.Conway.Specification.Utxow.html#4655" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="4643" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4643" class="Bound">a</a> <a id="4645" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4645" class="Bound">b</a> <a id="4647" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4647" class="Bound">c</a> <a id="4649" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4649" class="Bound">d</a> <a id="4651" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4651" class="Bound">e</a> <a id="4653" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4653" class="Bound">f</a> <a id="4655" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4655" class="Bound">g</a> <a id="4657" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4657" class="Bound">h</a> <a id="4659" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4659" class="Bound">utxo</a><a id="4663" class="Symbol">)</a> <a id="4665" class="Symbol">=</a>
    <a id="4671" href="Ledger.Conway.Conformance.Utxow.html#2367" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="4690" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4643" class="Bound">a</a> <a id="4692" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4645" class="Bound">b</a> <a id="4694" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4647" class="Bound">c</a> <a id="4696" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4649" class="Bound">d</a> <a id="4698" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4651" class="Bound">e</a> <a id="4700" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4653" class="Bound">f</a> <a id="4702" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4655" class="Bound">g</a> <a id="4704" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4657" class="Bound">h</a> <a id="4706" class="Symbol">(</a><a id="4707" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="4712" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4659" class="Bound">utxo</a><a id="4716" class="Symbol">)</a>

  <a id="UTXOWFromConf"></a><a id="4721" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4721" class="Function">UTXOWFromConf</a> <a id="4735" class="Symbol">:</a> <a id="4737" class="Symbol">∀</a> <a id="4739" class="Symbol">{</a><a id="4740" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4740" class="Bound">Γ</a> <a id="4742" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4742" class="Bound">s</a> <a id="4744" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4744" class="Bound">tx</a> <a id="4747" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4747" class="Bound">s&#39;</a><a id="4749" class="Symbol">}</a>
                    <a id="4771" class="Symbol">(</a><a id="4772" class="Keyword">let</a> <a id="4776" class="Keyword">open</a> <a id="4781" href="Ledger.Conway.Specification.Utxo.html#1197" class="Module">L.UTxOEnv</a> <a id="4791" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4740" class="Bound">Γ</a> <a id="4793" class="Keyword">using</a> <a id="4799" class="Symbol">()</a> <a id="4802" class="Keyword">renaming</a> <a id="4811" class="Symbol">(</a><a id="4812" href="Ledger.Conway.Specification.Utxo.html#1251" class="Field">pparams</a> <a id="4820" class="Symbol">to</a> <a id="4823" class="Field">pp</a><a id="4825" class="Symbol">)</a>
                         <a id="4852" class="Keyword">open</a> <a id="4857" href="Ledger.Conway.Specification.Utxo.html#1306" class="Module">L.UTxOState</a> <a id="4869" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4742" class="Bound">s</a> <a id="4871" class="Keyword">using</a> <a id="4877" class="Symbol">(</a><a id="4878" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">deposits</a><a id="4886" class="Symbol">)</a>
                         <a id="4913" class="Keyword">open</a> <a id="4918" href="Ledger.Conway.Specification.Transaction.html#1719" class="Module">Tx</a> <a id="4921" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4744" class="Bound">tx</a> <a id="4924" class="Keyword">renaming</a> <a id="4933" class="Symbol">(</a><a id="4934" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">body</a> <a id="4939" class="Symbol">to</a> <a id="4942" class="Field">txb</a><a id="4945" class="Symbol">)</a>
                         <a id="4972" class="Keyword">open</a> <a id="4977" href="Ledger.Conway.Specification.Transaction.html#350" class="Module">TxBody</a> <a id="4984" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4942" class="Function">txb</a> <a id="4988" class="Keyword">using</a> <a id="4994" class="Symbol">(</a><a id="4995" href="Ledger.Conway.Specification.Transaction.html#554" class="Field">txCerts</a><a id="5002" class="Symbol">))</a>
                <a id="5021" class="Symbol">→</a> <a id="5023" class="Symbol">(</a><a id="5024" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="5032" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4744" class="Bound">tx</a> <a id="5035" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5037" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="5043" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5045" href="Ledger.Conway.Specification.Utxo.html#3538" class="Datatype">L.ValidCertDeposits</a> <a id="5065" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4823" class="Function">pp</a> <a id="5068" href="Ledger.Conway.Specification.Utxo.html#1414" class="Function">deposits</a> <a id="5077" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a><a id="5084" class="Symbol">)</a>
                  <a id="5104" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="5106" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4740" class="Bound">Γ</a> <a id="5108" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">C.⊢</a> <a id="5112" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4742" class="Bound">s</a> <a id="5114" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">⇀⦇</a> <a id="5117" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4744" class="Bound">tx</a> <a id="5120" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">,UTXOW⦈</a> <a id="5128" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4747" class="Bound">s&#39;</a> <a id="5131" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="5134" class="Symbol">λ</a> <a id="5136" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5136" class="Bound">_</a> <a id="5138" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5138" class="Bound">h</a> <a id="5140" class="Symbol">→</a>
                    <a id="5162" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4740" class="Bound">Γ</a> <a id="5164" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">L.⊢</a> <a id="5168" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4742" class="Bound">s</a> <a id="5170" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">⇀⦇</a> <a id="5173" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4744" class="Bound">tx</a> <a id="5176" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">,UTXOW⦈</a> <a id="5184" class="Symbol">(</a><a id="5185" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1072" class="Function">setDeposits</a> <a id="5197" class="Symbol">(</a><a id="5198" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2095" class="Function">utxowDeposits</a> <a id="5212" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5138" class="Bound">h</a><a id="5213" class="Symbol">)</a> <a id="5215" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4747" class="Bound">s&#39;</a><a id="5217" class="Symbol">)</a>  <a id="5220" class="Comment">-- Conformance doesn&#39;t update deposits in UTXOW</a>
  <a id="5270" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4721" class="Function">UTXOWFromConf</a> <a id="5284" class="Symbol">.</a><a id="5285" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5291" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5291" class="Bound">validCerts</a> <a id="5302" class="Symbol">(</a><a id="5303" href="Ledger.Conway.Conformance.Utxow.html#2367" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="5322" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5322" class="Bound">a</a> <a id="5324" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5324" class="Bound">b</a> <a id="5326" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5326" class="Bound">c</a> <a id="5328" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5328" class="Bound">d</a> <a id="5330" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5330" class="Bound">e</a> <a id="5332" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5332" class="Bound">f</a> <a id="5334" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5334" class="Bound">g</a> <a id="5336" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5336" class="Bound">h</a> <a id="5338" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5338" class="Bound">utxo</a><a id="5342" class="Symbol">)</a> <a id="5344" class="Symbol">=</a>
    <a id="5350" href="Ledger.Conway.Specification.Utxow.html#4655" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="5369" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5322" class="Bound">a</a> <a id="5371" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5324" class="Bound">b</a> <a id="5373" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5326" class="Bound">c</a> <a id="5375" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5328" class="Bound">d</a> <a id="5377" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5330" class="Bound">e</a> <a id="5379" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5332" class="Bound">f</a> <a id="5381" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5334" class="Bound">g</a> <a id="5383" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5336" class="Bound">h</a> <a id="5385" class="Symbol">(</a><a id="5386" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5291" class="Bound">validCerts</a> <a id="5397" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5403" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5338" class="Bound">utxo</a><a id="5407" class="Symbol">)</a>
</pre></body></html>