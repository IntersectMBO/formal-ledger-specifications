<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Equivalence.Utxo</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="101" class="Keyword">open</a> <a id="106" class="Keyword">import</a> <a id="113" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="153" class="Keyword">using</a> <a id="159" class="Symbol">(</a><a id="160" href="Ledger.Conway.Specification.Transaction.html#999" class="Record">TransactionStructure</a><a id="180" class="Symbol">)</a>

<a id="183" class="Keyword">open</a> <a id="188" class="Keyword">import</a> <a id="195" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="205" class="Keyword">using</a> <a id="211" class="Symbol">(</a><a id="212" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="213" class="Symbol">)</a>
<a id="215" class="Keyword">open</a> <a id="220" class="Keyword">import</a> <a id="227" href="Data.Product.html" class="Module">Data.Product</a> <a id="240" class="Keyword">using</a> <a id="246" class="Symbol">(</a><a id="247" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="250" class="Symbol">;</a> <a id="252" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="255" class="Symbol">)</a>
<a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="286" class="Keyword">using</a> <a id="292" class="Symbol">(</a><a id="293" href="Function.Bundles.html#12398" class="Function Operator">_⇔_</a><a id="296" class="Symbol">;</a> <a id="298" href="Function.Bundles.html#13497" class="Function">mk⇔</a><a id="301" class="Symbol">;</a> <a id="303" href="Function.Bundles.html#4750" class="Record">Equivalence</a><a id="314" class="Symbol">)</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="366" class="Keyword">open</a> <a id="371" href="Relation.Binary.PropositionalEquality.Properties.html#6850" class="Module">≡-Reasoning</a>

<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>

<a id="443" class="Keyword">module</a> <a id="450" href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="Module">Ledger.Conway.Conformance.Equivalence.Utxo</a>
  <a id="495" class="Symbol">(</a><a id="496" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="500" class="Symbol">:</a> <a id="502" class="Symbol">_)</a> <a id="505" class="Symbol">(</a><a id="506" class="Keyword">open</a> <a id="511" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="532" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a><a id="535" class="Symbol">)</a>
  <a id="539" class="Symbol">(</a><a id="540" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="544" class="Symbol">:</a> <a id="546" href="Ledger.Conway.Specification.Abstract.html#830" class="Record">AbstractFunctions</a> <a id="564" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a><a id="567" class="Symbol">)</a> <a id="569" class="Symbol">(</a><a id="570" class="Keyword">open</a> <a id="575" href="Ledger.Conway.Specification.Abstract.html#830" class="Module">AbstractFunctions</a> <a id="593" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a><a id="596" class="Symbol">)</a>
  <a id="600" class="Keyword">where</a>

<a id="607" class="Keyword">private</a>
  <a id="617" class="Keyword">module</a> <a id="L"></a><a id="624" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#624" class="Module">L</a> <a id="626" class="Keyword">where</a>
    <a id="636" class="Keyword">open</a> <a id="641" class="Keyword">import</a> <a id="648" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="681" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="685" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="689" class="Keyword">public</a>
    <a id="700" class="Keyword">open</a> <a id="705" class="Keyword">import</a> <a id="712" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="746" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="750" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="754" class="Keyword">public</a>
    <a id="765" class="Keyword">open</a> <a id="770" class="Keyword">import</a> <a id="777" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="811" href="Ledger.Conway.Specification.Transaction.html#2260" class="Function">govStructure</a> <a id="824" class="Keyword">public</a>

  <a id="834" class="Keyword">module</a> <a id="C"></a><a id="841" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#841" class="Module">C</a> <a id="843" class="Keyword">where</a>
    <a id="853" class="Keyword">open</a> <a id="858" class="Keyword">import</a> <a id="865" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="896" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="900" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="904" class="Keyword">public</a>
    <a id="915" class="Keyword">open</a> <a id="920" class="Keyword">import</a> <a id="927" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="959" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="963" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="967" class="Keyword">public</a>
    <a id="978" class="Keyword">open</a> <a id="983" class="Keyword">import</a> <a id="990" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="1022" href="Ledger.Conway.Specification.Transaction.html#2260" class="Function">govStructure</a> <a id="1035" class="Keyword">public</a>

<a id="1043" class="Keyword">open</a> <a id="1048" href="Ledger.Conway.Specification.Transaction.html#4865" class="Module">Tx</a>

<a id="setDeposits"></a><a id="1052" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="1064" class="Symbol">:</a> <a id="1066" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="1077" class="Symbol">→</a> <a id="1079" href="Ledger.Conway.Specification.Utxo.html#1226" class="Record">L.UTxOState</a> <a id="1091" class="Symbol">→</a> <a id="1093" href="Ledger.Conway.Specification.Utxo.html#1226" class="Record">L.UTxOState</a>
<a id="1105" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="1117" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1117" class="Bound">deposits</a> <a id="1126" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1126" class="Bound">utxoSt</a> <a id="1133" class="Symbol">=</a> <a id="1135" class="Keyword">record</a> <a id="1142" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1126" class="Bound">utxoSt</a> <a id="1149" class="Symbol">{</a> <a id="1151" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a> <a id="1160" class="Symbol">=</a> <a id="1162" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1117" class="Bound">deposits</a> <a id="1171" class="Symbol">}</a>

<a id="withDepositsFrom"></a><a id="1174" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="1191" class="Symbol">:</a> <a id="1193" href="Ledger.Conway.Specification.Utxo.html#1226" class="Record">L.UTxOState</a> <a id="1205" class="Symbol">→</a> <a id="1207" href="Ledger.Conway.Specification.Utxo.html#1226" class="Record">L.UTxOState</a> <a id="1219" class="Symbol">→</a> <a id="1221" href="Ledger.Conway.Specification.Utxo.html#1226" class="Record">L.UTxOState</a>
<a id="1233" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="1250" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1250" class="Bound">utxoSt</a> <a id="1257" class="Symbol">=</a> <a id="1259" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="1271" class="Symbol">(</a><a id="1272" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="1293" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1250" class="Bound">utxoSt</a><a id="1299" class="Symbol">)</a>

<a id="1302" class="Keyword">instance</a>

  <a id="UTXOSToConf"></a><a id="1314" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1314" class="Function">UTXOSToConf</a> <a id="1326" class="Symbol">:</a> <a id="1328" class="Symbol">∀</a> <a id="1330" class="Symbol">{</a><a id="1331" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1331" class="Bound">Γ</a> <a id="1333" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1333" class="Bound">s</a> <a id="1335" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1335" class="Bound">tx</a> <a id="1338" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1338" class="Bound">s&#39;</a><a id="1340" class="Symbol">}</a> <a id="1342" class="Symbol">→</a> <a id="1344" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1331" class="Bound">Γ</a> <a id="1346" href="Ledger.Conway.Specification.Utxo.html#11579" class="Datatype Operator">L.⊢</a> <a id="1350" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1333" class="Bound">s</a> <a id="1352" href="Ledger.Conway.Specification.Utxo.html#11579" class="Datatype Operator">⇀⦇</a> <a id="1355" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1335" class="Bound">tx</a> <a id="1358" href="Ledger.Conway.Specification.Utxo.html#11579" class="Datatype Operator">,UTXOS⦈</a> <a id="1366" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1338" class="Bound">s&#39;</a> <a id="1369" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="1371" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1331" class="Bound">Γ</a> <a id="1373" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">C.⊢</a> <a id="1377" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1333" class="Bound">s</a> <a id="1379" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">⇀⦇</a> <a id="1382" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1335" class="Bound">tx</a> <a id="1385" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">,UTXOS⦈</a> <a id="1393" class="Symbol">(</a><a id="1394" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="1411" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1333" class="Bound">s</a> <a id="1413" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1338" class="Bound">s&#39;</a><a id="1415" class="Symbol">)</a>
  <a id="1419" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1314" class="Function">UTXOSToConf</a> <a id="1431" class="Symbol">.</a><a id="1432" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1438" class="Symbol">_</a> <a id="1440" class="Symbol">(</a><a id="1441" href="Ledger.Conway.Specification.Utxo.html#11649" class="InductiveConstructor">L.Scripts-Yes</a> <a id="1455" class="Symbol">(</a><a id="1456" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1456" class="Bound">certsValid</a> <a id="1467" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1469" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1469" class="Bound">eval</a> <a id="1474" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1476" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1476" class="Bound">txValid</a><a id="1483" class="Symbol">))</a> <a id="1486" class="Symbol">=</a> <a id="1488" href="Ledger.Conway.Conformance.Utxo.html#1227" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1502" class="Symbol">(</a><a id="1503" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1469" class="Bound">eval</a> <a id="1508" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1510" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1476" class="Bound">txValid</a><a id="1517" class="Symbol">)</a>
  <a id="1521" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1314" class="Function">UTXOSToConf</a> <a id="1533" class="Symbol">.</a><a id="1534" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1540" class="Symbol">_</a> <a id="1542" class="Symbol">(</a><a id="1543" href="Ledger.Conway.Specification.Utxo.html#12167" class="InductiveConstructor">L.Scripts-No</a> <a id="1556" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1556" class="Bound">h</a><a id="1557" class="Symbol">)</a>                              <a id="1588" class="Symbol">=</a> <a id="1590" href="Ledger.Conway.Conformance.Utxo.html#1822" class="InductiveConstructor">C.Scripts-No</a> <a id="1603" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1556" class="Bound">h</a>

<a id="1606" class="Keyword">module</a> <a id="1613" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1613" class="Module">_</a> <a id="1615" class="Symbol">{</a><a id="1616" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="1618" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="1620" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="1623" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1623" class="Bound">s&#39;</a><a id="1625" class="Symbol">}</a> <a id="1627" class="Keyword">where</a>
  <a id="1635" class="Keyword">open</a> <a id="1640" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="1650" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="1652" class="Keyword">renaming</a> <a id="1661" class="Symbol">(</a><a id="1662" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a> <a id="1670" class="Symbol">to</a> <a id="1673" class="Field">pp</a><a id="1675" class="Symbol">)</a>
  <a id="1679" class="Keyword">open</a> <a id="1684" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="1696" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="1698" class="Keyword">using</a> <a id="1704" class="Symbol">(</a><a id="1705" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="1713" class="Symbol">)</a>
  <a id="1717" class="Keyword">open</a> <a id="1722" href="Ledger.Conway.Specification.Transaction.html#4865" class="Module">Tx</a> <a id="1725" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="1728" class="Keyword">renaming</a> <a id="1737" class="Symbol">(</a><a id="1738" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a> <a id="1743" class="Symbol">to</a> <a id="1746" class="Field">txb</a><a id="1749" class="Symbol">)</a>

  <a id="1754" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="1768" class="Symbol">:</a> <a id="1770" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="1772" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">C.⊢</a> <a id="1776" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="1778" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">⇀⦇</a> <a id="1781" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="1784" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">,UTXOS⦈</a> <a id="1792" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1623" class="Bound">s&#39;</a> <a id="1795" class="Symbol">→</a> <a id="1797" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a>
  <a id="1810" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="1824" class="Symbol">(</a><a id="1825" href="Ledger.Conway.Conformance.Utxo.html#1227" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1839" class="Symbol">_)</a> <a id="1842" class="Symbol">=</a> <a id="1844" href="Ledger.Conway.Specification.Utxo.html#8233" class="Function">L.updateDeposits</a> <a id="1861" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1673" class="Function">pp</a> <a id="1864" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1746" class="Function">txb</a> <a id="1868" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a>
  <a id="1879" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="1893" class="Symbol">(</a><a id="1894" href="Ledger.Conway.Conformance.Utxo.html#1822" class="InductiveConstructor">C.Scripts-No</a>  <a id="1908" class="Symbol">_)</a> <a id="1911" class="Symbol">=</a> <a id="1913" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a>

  <a id="1925" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1925" class="Function">utxoDeposits</a> <a id="1938" class="Symbol">:</a> <a id="1940" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="1942" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">C.⊢</a> <a id="1946" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="1948" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">⇀⦇</a> <a id="1951" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="1954" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">,UTXO⦈</a> <a id="1961" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1623" class="Bound">s&#39;</a> <a id="1964" class="Symbol">→</a> <a id="1966" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a>
  <a id="1979" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1925" class="Function">utxoDeposits</a> <a id="1992" class="Symbol">(</a><a id="1993" href="Ledger.Conway.Conformance.Utxo.html#3942" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2011" class="Symbol">_</a> <a id="2013" class="Symbol">_</a> <a id="2015" class="Symbol">_</a> <a id="2017" class="Symbol">_</a> <a id="2019" class="Symbol">_</a> <a id="2021" class="Symbol">_</a> <a id="2023" class="Symbol">_</a> <a id="2025" class="Symbol">_</a> <a id="2027" class="Symbol">_</a> <a id="2029" class="Symbol">_</a> <a id="2031" class="Symbol">_</a> <a id="2033" class="Symbol">_</a> <a id="2035" class="Symbol">_</a> <a id="2037" class="Symbol">_</a> <a id="2039" class="Symbol">_</a> <a id="2041" class="Symbol">_</a> <a id="2043" class="Symbol">_</a> <a id="2045" class="Symbol">_</a> <a id="2047" class="Symbol">_</a> <a id="2049" class="Symbol">_</a> <a id="2051" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2051" class="Bound">h</a><a id="2052" class="Symbol">)</a> <a id="2054" class="Symbol">=</a> <a id="2056" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="2070" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2051" class="Bound">h</a>

  <a id="2075" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="2089" class="Symbol">:</a> <a id="2091" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="2093" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="2097" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="2099" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="2102" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="2105" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="2113" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1623" class="Bound">s&#39;</a> <a id="2116" class="Symbol">→</a> <a id="2118" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a>
  <a id="2131" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="2145" class="Symbol">(</a><a id="2146" href="Ledger.Conway.Conformance.Utxow.html#2936" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="2165" class="Symbol">_</a> <a id="2167" class="Symbol">_</a> <a id="2169" class="Symbol">_</a> <a id="2171" class="Symbol">_</a> <a id="2173" class="Symbol">_</a> <a id="2175" class="Symbol">_</a> <a id="2177" class="Symbol">_</a> <a id="2179" class="Symbol">_</a> <a id="2181" class="Symbol">_</a> <a id="2183" class="Symbol">_</a> <a id="2185" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2185" class="Bound">h</a><a id="2186" class="Symbol">)</a> <a id="2188" class="Symbol">=</a> <a id="2190" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1925" class="Function">utxoDeposits</a> <a id="2203" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2185" class="Bound">h</a>

<a id="2206" class="Keyword">instance</a>
  <a id="2217" class="Comment">-- Here we pass in the ValidCertDeposits proof explicitly and</a>
  <a id="2281" class="Comment">-- override the deposits in s&#39; with updateDeposits (in case of</a>
  <a id="2346" class="Comment">-- Scripts-Yes).</a>
  <a id="UTXOSFromConf"></a><a id="2365" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2365" class="Function">UTXOSFromConf</a> <a id="2379" class="Symbol">:</a> <a id="2381" class="Symbol">∀</a> <a id="2383" class="Symbol">{</a><a id="2384" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2384" class="Bound">Γ</a> <a id="2386" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2386" class="Bound">s</a> <a id="2388" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2388" class="Bound">tx</a> <a id="2391" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2391" class="Bound">s&#39;</a><a id="2393" class="Symbol">}</a>
                    <a id="2415" class="Symbol">(</a><a id="2416" class="Keyword">let</a> <a id="2420" class="Keyword">open</a> <a id="2425" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="2435" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2384" class="Bound">Γ</a> <a id="2437" class="Keyword">using</a> <a id="2443" class="Symbol">()</a> <a id="2446" class="Keyword">renaming</a> <a id="2455" class="Symbol">(</a><a id="2456" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a> <a id="2464" class="Symbol">to</a> <a id="2467" class="Field">pp</a><a id="2469" class="Symbol">)</a>
                         <a id="2496" class="Keyword">open</a> <a id="2501" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="2513" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2386" class="Bound">s</a> <a id="2515" class="Keyword">using</a> <a id="2521" class="Symbol">(</a><a id="2522" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="2530" class="Symbol">)</a>
                         <a id="2557" class="Keyword">open</a> <a id="2562" href="Ledger.Conway.Specification.Transaction.html#4865" class="Module">Tx</a> <a id="2565" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2388" class="Bound">tx</a> <a id="2568" class="Keyword">renaming</a> <a id="2577" class="Symbol">(</a><a id="2578" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a> <a id="2583" class="Symbol">to</a> <a id="2586" class="Field">txb</a><a id="2589" class="Symbol">)</a>
                         <a id="2616" class="Keyword">open</a> <a id="2621" href="Ledger.Conway.Specification.Transaction.html#3179" class="Module">TxBody</a> <a id="2628" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2586" class="Function">txb</a> <a id="2632" class="Keyword">using</a> <a id="2638" class="Symbol">(</a><a id="2639" href="Ledger.Conway.Specification.Transaction.html#3397" class="Field">txCerts</a><a id="2646" class="Symbol">))</a>
                <a id="2665" class="Symbol">→</a> <a id="2667" class="Symbol">(</a><a id="2668" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="2676" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2388" class="Bound">tx</a> <a id="2679" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2681" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2687" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2689" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="2709" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2467" class="Function">pp</a> <a id="2712" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a> <a id="2721" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a><a id="2728" class="Symbol">)</a>
                  <a id="2748" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="2750" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2384" class="Bound">Γ</a> <a id="2752" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">C.⊢</a> <a id="2756" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2386" class="Bound">s</a> <a id="2758" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">⇀⦇</a> <a id="2761" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2388" class="Bound">tx</a> <a id="2764" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">,UTXOS⦈</a> <a id="2772" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2391" class="Bound">s&#39;</a> <a id="2775" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="2778" class="Symbol">λ</a> <a id="2780" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2780" class="Bound">_</a> <a id="2782" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2782" class="Bound">h</a> <a id="2784" class="Symbol">→</a>
                    <a id="2806" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2384" class="Bound">Γ</a> <a id="2808" href="Ledger.Conway.Specification.Utxo.html#11579" class="Datatype Operator">L.⊢</a> <a id="2812" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2386" class="Bound">s</a> <a id="2814" href="Ledger.Conway.Specification.Utxo.html#11579" class="Datatype Operator">⇀⦇</a> <a id="2817" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2388" class="Bound">tx</a> <a id="2820" href="Ledger.Conway.Specification.Utxo.html#11579" class="Datatype Operator">,UTXOS⦈</a> <a id="2828" class="Symbol">(</a><a id="2829" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="2841" class="Symbol">(</a><a id="2842" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="2856" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2782" class="Bound">h</a><a id="2857" class="Symbol">)</a> <a id="2859" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2391" class="Bound">s&#39;</a><a id="2861" class="Symbol">)</a>
  <a id="2865" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2365" class="Function">UTXOSFromConf</a> <a id="2879" class="Symbol">.</a><a id="2880" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2886" class="Symbol">(</a><a id="2887" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2892" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2896" class="Symbol">)</a>       <a id="2904" class="Symbol">(</a><a id="2905" href="Ledger.Conway.Conformance.Utxo.html#1227" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2919" class="Symbol">(</a><a id="2920" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2920" class="Bound">eval</a> <a id="2925" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2927" class="Symbol">()))</a>
  <a id="2934" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2365" class="Function">UTXOSFromConf</a> <a id="2948" class="Symbol">.</a><a id="2949" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2955" class="Symbol">(</a><a id="2956" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2961" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2961" class="Bound">validCerts</a><a id="2971" class="Symbol">)</a> <a id="2973" class="Symbol">(</a><a id="2974" href="Ledger.Conway.Conformance.Utxo.html#1227" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2988" class="Symbol">(</a><a id="2989" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2989" class="Bound">eval</a> <a id="2994" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2996" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2996" class="Bound">txValid</a><a id="3003" class="Symbol">))</a> <a id="3006" class="Symbol">=</a> <a id="3008" href="Ledger.Conway.Specification.Utxo.html#11649" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3022" class="Symbol">(</a><a id="3023" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2961" class="Bound">validCerts</a> <a id="3034" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3036" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2989" class="Bound">eval</a> <a id="3041" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3043" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2996" class="Bound">txValid</a><a id="3050" class="Symbol">)</a>
  <a id="3054" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2365" class="CatchallClause Function">UTXOSFromConf</a><a id="3067" class="CatchallClause"> </a><a id="3068" class="CatchallClause Symbol">.</a><a id="3069" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="CatchallClause Field">convⁱ</a><a id="3074" class="CatchallClause"> </a><a id="3075" class="CatchallClause Symbol">_</a><a id="3076" class="CatchallClause"> </a><a id="3077" class="CatchallClause Symbol">(</a><a id="3078" href="Ledger.Conway.Conformance.Utxo.html#1822" class="CatchallClause InductiveConstructor">C.Scripts-No</a><a id="3090" class="CatchallClause"> </a><a id="3091" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3091" class="CatchallClause Bound">h</a><a id="3092" class="CatchallClause Symbol">)</a> <a id="3094" class="Symbol">=</a> <a id="3096" href="Ledger.Conway.Specification.Utxo.html#12167" class="InductiveConstructor">L.Scripts-No</a> <a id="3109" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3091" class="Bound">h</a>

<a id="3112" class="Keyword">instance</a>
  <a id="3123" class="Comment">-- It&#39;s a little weird that UTXO still has a bunch of preconditions</a>
  <a id="3193" class="Comment">-- for consumed and produced (using updateDeposits) when the</a>
  <a id="3256" class="Comment">-- deposits don&#39;t change! Why are they even part of the UTxOState?</a>
  <a id="3325" class="Comment">-- In conformance the update happens in GOVCERT (under CERT).</a>
  <a id="UTXOToConf"></a><a id="3389" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3389" class="Function">UTXOToConf</a> <a id="3400" class="Symbol">:</a> <a id="3402" class="Symbol">∀</a> <a id="3404" class="Symbol">{</a><a id="3405" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3405" class="Bound">Γ</a> <a id="3407" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3407" class="Bound">s</a> <a id="3409" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3409" class="Bound">tx</a> <a id="3412" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3412" class="Bound">s&#39;</a><a id="3414" class="Symbol">}</a> <a id="3416" class="Symbol">→</a> <a id="3418" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3405" class="Bound">Γ</a> <a id="3420" href="Ledger.Conway.Specification.Utxo.html#2159" class="Datatype Operator">L.⊢</a> <a id="3424" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3407" class="Bound">s</a> <a id="3426" href="Ledger.Conway.Specification.Utxo.html#2159" class="Datatype Operator">⇀⦇</a> <a id="3429" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3409" class="Bound">tx</a> <a id="3432" href="Ledger.Conway.Specification.Utxo.html#2159" class="Datatype Operator">,UTXO⦈</a> <a id="3439" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3412" class="Bound">s&#39;</a> <a id="3442" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="3444" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3405" class="Bound">Γ</a> <a id="3446" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">C.⊢</a> <a id="3450" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3407" class="Bound">s</a> <a id="3452" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">⇀⦇</a> <a id="3455" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3409" class="Bound">tx</a> <a id="3458" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">,UTXO⦈</a> <a id="3465" class="Symbol">(</a><a id="3466" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="3483" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3407" class="Bound">s</a> <a id="3485" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3412" class="Bound">s&#39;</a><a id="3487" class="Symbol">)</a>
  <a id="3491" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3389" class="Function">UTXOToConf</a> <a id="3502" class="Symbol">{</a><a id="3503" class="Argument">s</a> <a id="3505" class="Symbol">=</a> <a id="3507" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3507" class="Bound">s</a><a id="3508" class="Symbol">}</a> <a id="3510" class="Symbol">{</a><a id="3511" class="Argument">tx</a> <a id="3514" class="Symbol">=</a> <a id="3516" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3516" class="Bound">tx</a><a id="3518" class="Symbol">}</a> <a id="3520" class="Symbol">.</a><a id="3521" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="3527" class="Symbol">_</a> <a id="3529" class="Symbol">(</a><a id="3530" href="Ledger.Conway.Specification.Utxo.html#12829" class="InductiveConstructor">L.UTXO-inductive</a> <a id="3547" class="Symbol">(</a><a id="3548" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3548" class="Bound">a</a> <a id="3550" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3552" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3552" class="Bound">b</a> <a id="3554" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3556" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3556" class="Bound">c</a> <a id="3558" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3560" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3560" class="Bound">d</a> <a id="3562" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3564" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3564" class="Bound">e</a> <a id="3566" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3568" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3568" class="Bound">f</a> <a id="3570" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3572" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3572" class="Bound">g</a> <a id="3574" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3576" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3576" class="Bound">r</a> <a id="3578" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3580" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3580" class="Bound">h</a> <a id="3582" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3584" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3584" class="Bound">i</a> <a id="3586" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3588" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3588" class="Bound">j</a> <a id="3590" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3592" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3592" class="Bound">k</a> <a id="3594" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3596" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3596" class="Bound">l</a> <a id="3598" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3600" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3600" class="Bound">m</a> <a id="3602" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3604" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3604" class="Bound">n</a> <a id="3606" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3608" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3608" class="Bound">o</a> <a id="3610" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3612" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3612" class="Bound">p</a> <a id="3614" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3616" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3616" class="Bound">utxo</a><a id="3620" class="Symbol">))</a> <a id="3623" class="Symbol">=</a>
    <a id="3629" href="Ledger.Conway.Conformance.Utxo.html#2676" class="InductiveConstructor">C.UTXO-inductive</a> <a id="3646" class="Symbol">(</a><a id="3647" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3548" class="Bound">a</a> <a id="3649" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3651" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3552" class="Bound">b</a> <a id="3653" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3655" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3556" class="Bound">c</a> <a id="3657" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3659" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3560" class="Bound">d</a> <a id="3661" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3663" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3564" class="Bound">e</a> <a id="3665" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3667" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3568" class="Bound">f</a> <a id="3669" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3671" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3572" class="Bound">g</a> <a id="3673" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3675" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3576" class="Bound">r</a> <a id="3677" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3679" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3580" class="Bound">h</a> <a id="3681" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3683" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3584" class="Bound">i</a> <a id="3685" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3687" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3588" class="Bound">j</a> <a id="3689" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3691" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3592" class="Bound">k</a> <a id="3693" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3695" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3596" class="Bound">l</a> <a id="3697" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3699" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3600" class="Bound">m</a> <a id="3701" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3703" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3604" class="Bound">n</a> <a id="3705" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3707" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3608" class="Bound">o</a> <a id="3709" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3711" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3612" class="Bound">p</a> <a id="3713" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3715" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="3720" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3616" class="Bound">utxo</a><a id="3724" class="Symbol">)</a>

  <a id="UTXOFromConf"></a><a id="3729" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3729" class="Function">UTXOFromConf</a> <a id="3742" class="Symbol">:</a> <a id="3744" class="Symbol">∀</a> <a id="3746" class="Symbol">{</a><a id="3747" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3747" class="Bound">Γ</a> <a id="3749" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3749" class="Bound">s</a> <a id="3751" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3751" class="Bound">tx</a> <a id="3754" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3754" class="Bound">s&#39;</a><a id="3756" class="Symbol">}</a>
                   <a id="3777" class="Symbol">(</a><a id="3778" class="Keyword">let</a> <a id="3782" class="Keyword">open</a> <a id="3787" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="3797" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3747" class="Bound">Γ</a> <a id="3799" class="Keyword">using</a> <a id="3805" class="Symbol">()</a> <a id="3808" class="Keyword">renaming</a> <a id="3817" class="Symbol">(</a><a id="3818" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a> <a id="3826" class="Symbol">to</a> <a id="3829" class="Field">pp</a><a id="3831" class="Symbol">)</a>
                        <a id="3857" class="Keyword">open</a> <a id="3862" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="3874" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3749" class="Bound">s</a> <a id="3876" class="Keyword">using</a> <a id="3882" class="Symbol">(</a><a id="3883" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="3891" class="Symbol">)</a>
                        <a id="3917" class="Keyword">open</a> <a id="3922" href="Ledger.Conway.Specification.Transaction.html#4865" class="Module">Tx</a> <a id="3925" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3751" class="Bound">tx</a> <a id="3928" class="Keyword">renaming</a> <a id="3937" class="Symbol">(</a><a id="3938" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a> <a id="3943" class="Symbol">to</a> <a id="3946" class="Field">txb</a><a id="3949" class="Symbol">)</a>
                        <a id="3975" class="Keyword">open</a> <a id="3980" href="Ledger.Conway.Specification.Transaction.html#3179" class="Module">TxBody</a> <a id="3987" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3946" class="Function">txb</a> <a id="3991" class="Keyword">using</a> <a id="3997" class="Symbol">(</a><a id="3998" href="Ledger.Conway.Specification.Transaction.html#3397" class="Field">txCerts</a><a id="4005" class="Symbol">))</a>
               <a id="4023" class="Symbol">→</a> <a id="4025" class="Symbol">(</a><a id="4026" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="4034" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3751" class="Bound">tx</a> <a id="4037" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4039" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="4045" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="4047" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="4067" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3829" class="Function">pp</a> <a id="4070" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a> <a id="4079" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a><a id="4086" class="Symbol">)</a>
                 <a id="4105" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="4107" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3747" class="Bound">Γ</a> <a id="4109" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">C.⊢</a> <a id="4113" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3749" class="Bound">s</a> <a id="4115" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">⇀⦇</a> <a id="4118" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3751" class="Bound">tx</a> <a id="4121" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">,UTXO⦈</a> <a id="4128" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3754" class="Bound">s&#39;</a> <a id="4131" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="4134" class="Symbol">λ</a> <a id="4136" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4136" class="Bound">_</a> <a id="4138" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4138" class="Bound">h</a> <a id="4140" class="Symbol">→</a>
                   <a id="4161" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3747" class="Bound">Γ</a> <a id="4163" href="Ledger.Conway.Specification.Utxo.html#2159" class="Datatype Operator">L.⊢</a> <a id="4167" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3749" class="Bound">s</a> <a id="4169" href="Ledger.Conway.Specification.Utxo.html#2159" class="Datatype Operator">⇀⦇</a> <a id="4172" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3751" class="Bound">tx</a> <a id="4175" href="Ledger.Conway.Specification.Utxo.html#2159" class="Datatype Operator">,UTXO⦈</a> <a id="4182" class="Symbol">(</a><a id="4183" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="4195" class="Symbol">(</a><a id="4196" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1925" class="Function">utxoDeposits</a> <a id="4209" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4138" class="Bound">h</a><a id="4210" class="Symbol">)</a> <a id="4212" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3754" class="Bound">s&#39;</a><a id="4214" class="Symbol">)</a>
  <a id="4218" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3729" class="Function">UTXOFromConf</a> <a id="4231" class="Symbol">{</a><a id="4232" class="Argument">s</a> <a id="4234" class="Symbol">=</a> <a id="4236" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4236" class="Bound">s</a><a id="4237" class="Symbol">}</a> <a id="4239" class="Symbol">{</a><a id="4240" class="Argument">tx</a> <a id="4243" class="Symbol">=</a> <a id="4245" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4245" class="Bound">tx</a><a id="4247" class="Symbol">}</a> <a id="4249" class="Symbol">.</a><a id="4250" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4256" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4256" class="Bound">validCerts</a> <a id="4267" class="Symbol">(</a><a id="4268" href="Ledger.Conway.Conformance.Utxo.html#2676" class="InductiveConstructor">C.UTXO-inductive</a> <a id="4285" class="Symbol">(</a><a id="4286" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4286" class="Bound">a</a> <a id="4288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4290" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4290" class="Bound">b</a> <a id="4292" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4294" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4294" class="Bound">c</a> <a id="4296" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4298" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4298" class="Bound">d</a> <a id="4300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4302" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4302" class="Bound">e</a> <a id="4304" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4306" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4306" class="Bound">f</a> <a id="4308" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4310" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4310" class="Bound">g</a> <a id="4312" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4314" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4314" class="Bound">r</a> <a id="4316" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4318" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4318" class="Bound">h</a> <a id="4320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4322" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4322" class="Bound">i</a> <a id="4324" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4326" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4326" class="Bound">j</a> <a id="4328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4330" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4330" class="Bound">k</a> <a id="4332" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4334" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4334" class="Bound">l</a> <a id="4336" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4338" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4338" class="Bound">m</a> <a id="4340" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4342" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4342" class="Bound">n</a> <a id="4344" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4346" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4346" class="Bound">o</a> <a id="4348" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4350" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4350" class="Bound">p</a> <a id="4352" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4354" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4354" class="Bound">utxo</a><a id="4358" class="Symbol">))</a> <a id="4361" class="Symbol">=</a>
    <a id="4367" href="Ledger.Conway.Specification.Utxo.html#12829" class="InductiveConstructor">L.UTXO-inductive</a> <a id="4384" class="Symbol">(</a><a id="4385" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4286" class="Bound">a</a> <a id="4387" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4389" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4290" class="Bound">b</a> <a id="4391" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4393" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4294" class="Bound">c</a> <a id="4395" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4397" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4298" class="Bound">d</a> <a id="4399" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4401" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4302" class="Bound">e</a> <a id="4403" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4405" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4306" class="Bound">f</a> <a id="4407" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4409" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4310" class="Bound">g</a> <a id="4411" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4413" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4314" class="Bound">r</a> <a id="4415" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4417" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4318" class="Bound">h</a> <a id="4419" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4421" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4322" class="Bound">i</a> <a id="4423" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4425" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4326" class="Bound">j</a> <a id="4427" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4429" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4330" class="Bound">k</a> <a id="4431" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4433" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4334" class="Bound">l</a> <a id="4435" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4437" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4338" class="Bound">m</a> <a id="4439" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4441" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4342" class="Bound">n</a> <a id="4443" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4445" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4346" class="Bound">o</a> <a id="4447" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4449" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4350" class="Bound">p</a> <a id="4451" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4453" class="Symbol">(</a><a id="4454" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4256" class="Bound">validCerts</a> <a id="4465" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="4471" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4354" class="Bound">utxo</a><a id="4475" class="Symbol">))</a>

  <a id="UTXOWToConf"></a><a id="4481" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4481" class="Function">UTXOWToConf</a> <a id="4493" class="Symbol">:</a> <a id="4495" class="Symbol">∀</a> <a id="4497" class="Symbol">{</a><a id="4498" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4498" class="Bound">Γ</a> <a id="4500" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4500" class="Bound">s</a> <a id="4502" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4502" class="Bound">tx</a> <a id="4505" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4505" class="Bound">s&#39;</a><a id="4507" class="Symbol">}</a> <a id="4509" class="Symbol">→</a> <a id="4511" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4498" class="Bound">Γ</a> <a id="4513" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="4517" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4500" class="Bound">s</a> <a id="4519" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="4522" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4502" class="Bound">tx</a> <a id="4525" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="4533" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4505" class="Bound">s&#39;</a> <a id="4536" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="4538" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4498" class="Bound">Γ</a> <a id="4540" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="4544" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4500" class="Bound">s</a> <a id="4546" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="4549" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4502" class="Bound">tx</a> <a id="4552" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="4560" class="Symbol">(</a><a id="4561" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="4578" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4500" class="Bound">s</a> <a id="4580" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4505" class="Bound">s&#39;</a><a id="4582" class="Symbol">)</a>
  <a id="4586" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4481" class="Function">UTXOWToConf</a> <a id="4598" class="Symbol">.</a><a id="4599" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4605" class="Symbol">_</a> <a id="4607" class="Symbol">(</a><a id="4608" href="Ledger.Conway.Specification.Utxow.html#5353" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="4627" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4627" class="Bound">a</a> <a id="4629" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4629" class="Bound">b</a> <a id="4631" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4631" class="Bound">c</a> <a id="4633" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4633" class="Bound">d</a> <a id="4635" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4635" class="Bound">e</a> <a id="4637" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4637" class="Bound">f</a> <a id="4639" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4639" class="Bound">g</a> <a id="4641" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4641" class="Bound">h</a> <a id="4643" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4643" class="Bound">i</a> <a id="4645" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4645" class="Bound">j</a> <a id="4647" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4647" class="Bound">utxo</a><a id="4651" class="Symbol">)</a> <a id="4653" class="Symbol">=</a>
    <a id="4659" href="Ledger.Conway.Conformance.Utxow.html#2936" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="4678" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4627" class="Bound">a</a> <a id="4680" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4629" class="Bound">b</a> <a id="4682" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4631" class="Bound">c</a> <a id="4684" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4633" class="Bound">d</a> <a id="4686" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4635" class="Bound">e</a> <a id="4688" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4637" class="Bound">f</a> <a id="4690" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4639" class="Bound">g</a> <a id="4692" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4641" class="Bound">h</a> <a id="4694" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4643" class="Bound">i</a> <a id="4696" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4645" class="Bound">j</a> <a id="4698" class="Symbol">(</a><a id="4699" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="4704" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4647" class="Bound">utxo</a><a id="4708" class="Symbol">)</a>

  <a id="UTXOWFromConf"></a><a id="4713" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4713" class="Function">UTXOWFromConf</a> <a id="4727" class="Symbol">:</a> <a id="4729" class="Symbol">∀</a> <a id="4731" class="Symbol">{</a><a id="4732" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4732" class="Bound">Γ</a> <a id="4734" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4734" class="Bound">s</a> <a id="4736" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4736" class="Bound">tx</a> <a id="4739" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4739" class="Bound">s&#39;</a><a id="4741" class="Symbol">}</a>
                    <a id="4763" class="Symbol">(</a><a id="4764" class="Keyword">let</a> <a id="4768" class="Keyword">open</a> <a id="4773" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="4783" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4732" class="Bound">Γ</a> <a id="4785" class="Keyword">using</a> <a id="4791" class="Symbol">()</a> <a id="4794" class="Keyword">renaming</a> <a id="4803" class="Symbol">(</a><a id="4804" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a> <a id="4812" class="Symbol">to</a> <a id="4815" class="Field">pp</a><a id="4817" class="Symbol">)</a>
                         <a id="4844" class="Keyword">open</a> <a id="4849" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="4861" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4734" class="Bound">s</a> <a id="4863" class="Keyword">using</a> <a id="4869" class="Symbol">(</a><a id="4870" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="4878" class="Symbol">)</a>
                         <a id="4905" class="Keyword">open</a> <a id="4910" href="Ledger.Conway.Specification.Transaction.html#4865" class="Module">Tx</a> <a id="4913" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4736" class="Bound">tx</a> <a id="4916" class="Keyword">renaming</a> <a id="4925" class="Symbol">(</a><a id="4926" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a> <a id="4931" class="Symbol">to</a> <a id="4934" class="Field">txb</a><a id="4937" class="Symbol">)</a>
                         <a id="4964" class="Keyword">open</a> <a id="4969" href="Ledger.Conway.Specification.Transaction.html#3179" class="Module">TxBody</a> <a id="4976" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4934" class="Function">txb</a> <a id="4980" class="Keyword">using</a> <a id="4986" class="Symbol">(</a><a id="4987" href="Ledger.Conway.Specification.Transaction.html#3397" class="Field">txCerts</a><a id="4994" class="Symbol">))</a>
                <a id="5013" class="Symbol">→</a> <a id="5015" class="Symbol">(</a><a id="5016" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a> <a id="5024" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4736" class="Bound">tx</a> <a id="5027" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5029" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="5035" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5037" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="5057" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4815" class="Function">pp</a> <a id="5060" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a> <a id="5069" href="Ledger.Conway.Specification.Transaction.html#3397" class="Function">txCerts</a><a id="5076" class="Symbol">)</a>
                  <a id="5096" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="5098" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4732" class="Bound">Γ</a> <a id="5100" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="5104" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4734" class="Bound">s</a> <a id="5106" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="5109" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4736" class="Bound">tx</a> <a id="5112" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="5120" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4739" class="Bound">s&#39;</a> <a id="5123" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="5126" class="Symbol">λ</a> <a id="5128" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5128" class="Bound">_</a> <a id="5130" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5130" class="Bound">h</a> <a id="5132" class="Symbol">→</a>
                    <a id="5154" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4732" class="Bound">Γ</a> <a id="5156" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="5160" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4734" class="Bound">s</a> <a id="5162" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="5165" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4736" class="Bound">tx</a> <a id="5168" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="5176" class="Symbol">(</a><a id="5177" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="5189" class="Symbol">(</a><a id="5190" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="5204" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5130" class="Bound">h</a><a id="5205" class="Symbol">)</a> <a id="5207" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4739" class="Bound">s&#39;</a><a id="5209" class="Symbol">)</a>  <a id="5212" class="Comment">-- Conformance doesn&#39;t update deposits in UTXOW</a>
  <a id="5262" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4713" class="Function">UTXOWFromConf</a> <a id="5276" class="Symbol">.</a><a id="5277" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5283" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5283" class="Bound">validCerts</a> <a id="5294" class="Symbol">(</a><a id="5295" href="Ledger.Conway.Conformance.Utxow.html#2936" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="5314" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5314" class="Bound">a</a> <a id="5316" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5316" class="Bound">b</a> <a id="5318" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5318" class="Bound">c</a> <a id="5320" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5320" class="Bound">d</a> <a id="5322" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5322" class="Bound">e</a> <a id="5324" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5324" class="Bound">f</a> <a id="5326" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5326" class="Bound">g</a> <a id="5328" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5328" class="Bound">h</a> <a id="5330" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5330" class="Bound">i</a> <a id="5332" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5332" class="Bound">j</a> <a id="5334" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5334" class="Bound">utxo</a><a id="5338" class="Symbol">)</a> <a id="5340" class="Symbol">=</a>
    <a id="5346" href="Ledger.Conway.Specification.Utxow.html#5353" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="5365" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5314" class="Bound">a</a> <a id="5367" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5316" class="Bound">b</a> <a id="5369" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5318" class="Bound">c</a> <a id="5371" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5320" class="Bound">d</a> <a id="5373" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5322" class="Bound">e</a> <a id="5375" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5324" class="Bound">f</a> <a id="5377" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5326" class="Bound">g</a> <a id="5379" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5328" class="Bound">h</a> <a id="5381" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5330" class="Bound">i</a> <a id="5383" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5332" class="Bound">j</a> <a id="5385" class="Symbol">(</a><a id="5386" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5283" class="Bound">validCerts</a> <a id="5397" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5403" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5334" class="Bound">utxo</a><a id="5407" class="Symbol">)</a>
</pre></body></html>