<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Equivalence.Utxo</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="101" class="Keyword">open</a> <a id="106" class="Keyword">import</a> <a id="113" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="153" class="Keyword">using</a> <a id="159" class="Symbol">(</a><a id="160" href="Ledger.Conway.Specification.Transaction.html#999" class="Record">TransactionStructure</a><a id="180" class="Symbol">)</a>

<a id="183" class="Keyword">open</a> <a id="188" class="Keyword">import</a> <a id="195" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="205" class="Keyword">using</a> <a id="211" class="Symbol">(</a><a id="212" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="213" class="Symbol">)</a>
<a id="215" class="Keyword">open</a> <a id="220" class="Keyword">import</a> <a id="227" href="Data.Product.html" class="Module">Data.Product</a> <a id="240" class="Keyword">using</a> <a id="246" class="Symbol">(</a><a id="247" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="250" class="Symbol">;</a> <a id="252" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="255" class="Symbol">)</a>
<a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="286" class="Keyword">using</a> <a id="292" class="Symbol">(</a><a id="293" href="Function.Bundles.html#12398" class="Function Operator">_⇔_</a><a id="296" class="Symbol">;</a> <a id="298" href="Function.Bundles.html#13497" class="Function">mk⇔</a><a id="301" class="Symbol">;</a> <a id="303" href="Function.Bundles.html#4750" class="Record">Equivalence</a><a id="314" class="Symbol">)</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="366" class="Keyword">open</a> <a id="371" href="Relation.Binary.PropositionalEquality.Properties.html#6850" class="Module">≡-Reasoning</a>

<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>

<a id="443" class="Keyword">module</a> <a id="450" href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="Module">Ledger.Conway.Conformance.Equivalence.Utxo</a>
  <a id="495" class="Symbol">(</a><a id="496" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="500" class="Symbol">:</a> <a id="502" class="Symbol">_)</a> <a id="505" class="Symbol">(</a><a id="506" class="Keyword">open</a> <a id="511" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="532" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a><a id="535" class="Symbol">)</a>
  <a id="539" class="Symbol">(</a><a id="540" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="544" class="Symbol">:</a> <a id="546" href="Ledger.Conway.Specification.Abstract.html#654" class="Record">AbstractFunctions</a> <a id="564" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a><a id="567" class="Symbol">)</a> <a id="569" class="Symbol">(</a><a id="570" class="Keyword">open</a> <a id="575" href="Ledger.Conway.Specification.Abstract.html#654" class="Module">AbstractFunctions</a> <a id="593" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a><a id="596" class="Symbol">)</a>
  <a id="600" class="Keyword">where</a>

<a id="607" class="Keyword">private</a>
  <a id="617" class="Keyword">module</a> <a id="L"></a><a id="624" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#624" class="Module">L</a> <a id="626" class="Keyword">where</a>
    <a id="636" class="Keyword">open</a> <a id="641" class="Keyword">import</a> <a id="648" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="681" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="685" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="689" class="Keyword">public</a>
    <a id="700" class="Keyword">open</a> <a id="705" class="Keyword">import</a> <a id="712" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="746" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="750" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="754" class="Keyword">public</a>
    <a id="765" class="Keyword">open</a> <a id="770" class="Keyword">import</a> <a id="777" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="811" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a> <a id="824" class="Keyword">public</a>

  <a id="834" class="Keyword">module</a> <a id="C"></a><a id="841" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#841" class="Module">C</a> <a id="843" class="Keyword">where</a>
    <a id="853" class="Keyword">open</a> <a id="858" class="Keyword">import</a> <a id="865" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="896" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="900" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="904" class="Keyword">public</a>
    <a id="915" class="Keyword">open</a> <a id="920" class="Keyword">import</a> <a id="927" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="959" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="963" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="967" class="Keyword">public</a>
    <a id="978" class="Keyword">open</a> <a id="983" class="Keyword">import</a> <a id="990" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="1022" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a> <a id="1035" class="Keyword">public</a>

<a id="1043" class="Keyword">open</a> <a id="1048" href="Ledger.Conway.Specification.Transaction.html#4682" class="Module">Tx</a>

<a id="setDeposits"></a><a id="1052" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="1064" class="Symbol">:</a> <a id="1066" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a> <a id="1077" class="Symbol">→</a> <a id="1079" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">L.UTxOState</a> <a id="1091" class="Symbol">→</a> <a id="1093" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">L.UTxOState</a>
<a id="1105" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="1117" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1117" class="Bound">deposits</a> <a id="1126" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1126" class="Bound">utxoSt</a> <a id="1133" class="Symbol">=</a> <a id="1135" class="Keyword">record</a> <a id="1142" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1126" class="Bound">utxoSt</a> <a id="1149" class="Symbol">{</a> <a id="1151" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a> <a id="1160" class="Symbol">=</a> <a id="1162" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1117" class="Bound">deposits</a> <a id="1171" class="Symbol">}</a>

<a id="withDepositsFrom"></a><a id="1174" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="1191" class="Symbol">:</a> <a id="1193" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">L.UTxOState</a> <a id="1205" class="Symbol">→</a> <a id="1207" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">L.UTxOState</a> <a id="1219" class="Symbol">→</a> <a id="1221" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">L.UTxOState</a>
<a id="1233" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="1250" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1250" class="Bound">utxoSt</a> <a id="1257" class="Symbol">=</a> <a id="1259" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="1271" class="Symbol">(</a><a id="1272" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">L.UTxOState.deposits</a> <a id="1293" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1250" class="Bound">utxoSt</a><a id="1299" class="Symbol">)</a>

<a id="1302" class="Keyword">instance</a>

  <a id="UTXOSToConf"></a><a id="1314" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1314" class="Function">UTXOSToConf</a> <a id="1326" class="Symbol">:</a> <a id="1328" class="Symbol">∀</a> <a id="1330" class="Symbol">{</a><a id="1331" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1331" class="Bound">Γ</a> <a id="1333" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1333" class="Bound">s</a> <a id="1335" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1335" class="Bound">tx</a> <a id="1338" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1338" class="Bound">s&#39;</a><a id="1340" class="Symbol">}</a> <a id="1342" class="Symbol">→</a> <a id="1344" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1331" class="Bound">Γ</a> <a id="1346" href="Ledger.Conway.Specification.Utxo.html#11458" class="Datatype Operator">L.⊢</a> <a id="1350" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1333" class="Bound">s</a> <a id="1352" href="Ledger.Conway.Specification.Utxo.html#11458" class="Datatype Operator">⇀⦇</a> <a id="1355" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1335" class="Bound">tx</a> <a id="1358" href="Ledger.Conway.Specification.Utxo.html#11458" class="Datatype Operator">,UTXOS⦈</a> <a id="1366" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1338" class="Bound">s&#39;</a> <a id="1369" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="1371" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1331" class="Bound">Γ</a> <a id="1373" href="Ledger.Conway.Conformance.Utxo.html#1162" class="Datatype Operator">C.⊢</a> <a id="1377" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1333" class="Bound">s</a> <a id="1379" href="Ledger.Conway.Conformance.Utxo.html#1162" class="Datatype Operator">⇀⦇</a> <a id="1382" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1335" class="Bound">tx</a> <a id="1385" href="Ledger.Conway.Conformance.Utxo.html#1162" class="Datatype Operator">,UTXOS⦈</a> <a id="1393" class="Symbol">(</a><a id="1394" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="1411" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1333" class="Bound">s</a> <a id="1413" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1338" class="Bound">s&#39;</a><a id="1415" class="Symbol">)</a>
  <a id="1419" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1314" class="Function">UTXOSToConf</a> <a id="1431" class="Symbol">.</a><a id="1432" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1438" class="Symbol">_</a> <a id="1440" class="Symbol">(</a><a id="1441" href="Ledger.Conway.Specification.Utxo.html#11528" class="InductiveConstructor">L.Scripts-Yes</a> <a id="1455" class="Symbol">(</a><a id="1456" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1456" class="Bound">certsValid</a> <a id="1467" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1469" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1469" class="Bound">eval</a> <a id="1474" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1476" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1476" class="Bound">txValid</a><a id="1483" class="Symbol">))</a> <a id="1486" class="Symbol">=</a> <a id="1488" href="Ledger.Conway.Conformance.Utxo.html#1231" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1502" class="Symbol">(</a><a id="1503" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1469" class="Bound">eval</a> <a id="1508" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1510" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1476" class="Bound">txValid</a><a id="1517" class="Symbol">)</a>
  <a id="1521" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1314" class="Function">UTXOSToConf</a> <a id="1533" class="Symbol">.</a><a id="1534" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1540" class="Symbol">_</a> <a id="1542" class="Symbol">(</a><a id="1543" href="Ledger.Conway.Specification.Utxo.html#12046" class="InductiveConstructor">L.Scripts-No</a> <a id="1556" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1556" class="Bound">h</a><a id="1557" class="Symbol">)</a>                              <a id="1588" class="Symbol">=</a> <a id="1590" href="Ledger.Conway.Conformance.Utxo.html#1826" class="InductiveConstructor">C.Scripts-No</a> <a id="1603" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1556" class="Bound">h</a>

<a id="1606" class="Keyword">module</a> <a id="1613" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1613" class="Module">_</a> <a id="1615" class="Symbol">{</a><a id="1616" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="1618" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="1620" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="1623" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1623" class="Bound">s&#39;</a><a id="1625" class="Symbol">}</a> <a id="1627" class="Keyword">where</a>
  <a id="1635" class="Keyword">open</a> <a id="1640" href="Ledger.Conway.Specification.Utxo.html#1121" class="Module">L.UTxOEnv</a> <a id="1650" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="1652" class="Keyword">renaming</a> <a id="1661" class="Symbol">(</a><a id="1662" href="Ledger.Conway.Specification.Utxo.html#1175" class="Field">pparams</a> <a id="1670" class="Symbol">to</a> <a id="1673" class="Field">pp</a><a id="1675" class="Symbol">)</a>
  <a id="1679" class="Keyword">open</a> <a id="1684" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">L.UTxOState</a> <a id="1696" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="1698" class="Keyword">using</a> <a id="1704" class="Symbol">(</a><a id="1705" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="1713" class="Symbol">)</a>
  <a id="1717" class="Keyword">open</a> <a id="1722" href="Ledger.Conway.Specification.Transaction.html#4682" class="Module">Tx</a> <a id="1725" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="1728" class="Keyword">renaming</a> <a id="1737" class="Symbol">(</a><a id="1738" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="1743" class="Symbol">to</a> <a id="1746" class="Field">txb</a><a id="1749" class="Symbol">)</a>

  <a id="1754" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="1768" class="Symbol">:</a> <a id="1770" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="1772" href="Ledger.Conway.Conformance.Utxo.html#1162" class="Datatype Operator">C.⊢</a> <a id="1776" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="1778" href="Ledger.Conway.Conformance.Utxo.html#1162" class="Datatype Operator">⇀⦇</a> <a id="1781" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="1784" href="Ledger.Conway.Conformance.Utxo.html#1162" class="Datatype Operator">,UTXOS⦈</a> <a id="1792" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1623" class="Bound">s&#39;</a> <a id="1795" class="Symbol">→</a> <a id="1797" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a>
  <a id="1810" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="1824" class="Symbol">(</a><a id="1825" href="Ledger.Conway.Conformance.Utxo.html#1231" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1839" class="Symbol">_)</a> <a id="1842" class="Symbol">=</a> <a id="1844" href="Ledger.Conway.Specification.Utxo.html#8112" class="Function">L.updateDeposits</a> <a id="1861" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1673" class="Function">pp</a> <a id="1864" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1746" class="Function">txb</a> <a id="1868" href="Ledger.Conway.Specification.Utxo.html#1338" class="Function">deposits</a>
  <a id="1879" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="1893" class="Symbol">(</a><a id="1894" href="Ledger.Conway.Conformance.Utxo.html#1826" class="InductiveConstructor">C.Scripts-No</a>  <a id="1908" class="Symbol">_)</a> <a id="1911" class="Symbol">=</a> <a id="1913" href="Ledger.Conway.Specification.Utxo.html#1338" class="Function">deposits</a>

  <a id="1925" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1925" class="Function">utxoDeposits</a> <a id="1938" class="Symbol">:</a> <a id="1940" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="1942" href="Ledger.Conway.Conformance.Utxo.html#2611" class="Datatype Operator">C.⊢</a> <a id="1946" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="1948" href="Ledger.Conway.Conformance.Utxo.html#2611" class="Datatype Operator">⇀⦇</a> <a id="1951" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="1954" href="Ledger.Conway.Conformance.Utxo.html#2611" class="Datatype Operator">,UTXO⦈</a> <a id="1961" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1623" class="Bound">s&#39;</a> <a id="1964" class="Symbol">→</a> <a id="1966" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a>
  <a id="1979" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1925" class="Function">utxoDeposits</a> <a id="1992" class="Symbol">(</a><a id="1993" href="Ledger.Conway.Conformance.Utxo.html#3946" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2011" class="Symbol">_</a> <a id="2013" class="Symbol">_</a> <a id="2015" class="Symbol">_</a> <a id="2017" class="Symbol">_</a> <a id="2019" class="Symbol">_</a> <a id="2021" class="Symbol">_</a> <a id="2023" class="Symbol">_</a> <a id="2025" class="Symbol">_</a> <a id="2027" class="Symbol">_</a> <a id="2029" class="Symbol">_</a> <a id="2031" class="Symbol">_</a> <a id="2033" class="Symbol">_</a> <a id="2035" class="Symbol">_</a> <a id="2037" class="Symbol">_</a> <a id="2039" class="Symbol">_</a> <a id="2041" class="Symbol">_</a> <a id="2043" class="Symbol">_</a> <a id="2045" class="Symbol">_</a> <a id="2047" class="Symbol">_</a> <a id="2049" class="Symbol">_</a> <a id="2051" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2051" class="Bound">h</a><a id="2052" class="Symbol">)</a> <a id="2054" class="Symbol">=</a> <a id="2056" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="2070" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2051" class="Bound">h</a>

  <a id="2075" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="2089" class="Symbol">:</a> <a id="2091" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="2093" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="2097" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="2099" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="2102" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="2105" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="2113" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1623" class="Bound">s&#39;</a> <a id="2116" class="Symbol">→</a> <a id="2118" href="Ledger.Conway.Specification.Certs.html#789" class="Function">L.Deposits</a>
  <a id="2131" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="2145" class="Symbol">(</a><a id="2146" href="Ledger.Conway.Conformance.Utxow.html#2422" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="2165" class="Symbol">_</a> <a id="2167" class="Symbol">_</a> <a id="2169" class="Symbol">_</a> <a id="2171" class="Symbol">_</a> <a id="2173" class="Symbol">_</a> <a id="2175" class="Symbol">_</a> <a id="2177" class="Symbol">_</a> <a id="2179" class="Symbol">_</a> <a id="2181" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2181" class="Bound">h</a><a id="2182" class="Symbol">)</a> <a id="2184" class="Symbol">=</a> <a id="2186" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1925" class="Function">utxoDeposits</a> <a id="2199" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2181" class="Bound">h</a>

<a id="2202" class="Keyword">instance</a>
  <a id="2213" class="Comment">-- Here we pass in the ValidCertDeposits proof explicitly and</a>
  <a id="2277" class="Comment">-- override the deposits in s&#39; with updateDeposits (in case of</a>
  <a id="2342" class="Comment">-- Scripts-Yes).</a>
  <a id="UTXOSFromConf"></a><a id="2361" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2361" class="Function">UTXOSFromConf</a> <a id="2375" class="Symbol">:</a> <a id="2377" class="Symbol">∀</a> <a id="2379" class="Symbol">{</a><a id="2380" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2380" class="Bound">Γ</a> <a id="2382" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2382" class="Bound">s</a> <a id="2384" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2384" class="Bound">tx</a> <a id="2387" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2387" class="Bound">s&#39;</a><a id="2389" class="Symbol">}</a>
                    <a id="2411" class="Symbol">(</a><a id="2412" class="Keyword">let</a> <a id="2416" class="Keyword">open</a> <a id="2421" href="Ledger.Conway.Specification.Utxo.html#1121" class="Module">L.UTxOEnv</a> <a id="2431" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2380" class="Bound">Γ</a> <a id="2433" class="Keyword">using</a> <a id="2439" class="Symbol">()</a> <a id="2442" class="Keyword">renaming</a> <a id="2451" class="Symbol">(</a><a id="2452" href="Ledger.Conway.Specification.Utxo.html#1175" class="Field">pparams</a> <a id="2460" class="Symbol">to</a> <a id="2463" class="Field">pp</a><a id="2465" class="Symbol">)</a>
                         <a id="2492" class="Keyword">open</a> <a id="2497" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">L.UTxOState</a> <a id="2509" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2382" class="Bound">s</a> <a id="2511" class="Keyword">using</a> <a id="2517" class="Symbol">(</a><a id="2518" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="2526" class="Symbol">)</a>
                         <a id="2553" class="Keyword">open</a> <a id="2558" href="Ledger.Conway.Specification.Transaction.html#4682" class="Module">Tx</a> <a id="2561" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2384" class="Bound">tx</a> <a id="2564" class="Keyword">renaming</a> <a id="2573" class="Symbol">(</a><a id="2574" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="2579" class="Symbol">to</a> <a id="2582" class="Field">txb</a><a id="2585" class="Symbol">)</a>
                         <a id="2612" class="Keyword">open</a> <a id="2617" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="2624" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2582" class="Function">txb</a> <a id="2628" class="Keyword">using</a> <a id="2634" class="Symbol">(</a><a id="2635" href="Ledger.Conway.Specification.Transaction.html#3214" class="Field">txCerts</a><a id="2642" class="Symbol">))</a>
                <a id="2661" class="Symbol">→</a> <a id="2663" class="Symbol">(</a><a id="2664" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="2672" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2384" class="Bound">tx</a> <a id="2675" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2677" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2683" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2685" href="Ledger.Conway.Specification.Utxo.html#3462" class="Datatype">L.ValidCertDeposits</a> <a id="2705" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2463" class="Function">pp</a> <a id="2708" href="Ledger.Conway.Specification.Utxo.html#1338" class="Function">deposits</a> <a id="2717" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a><a id="2724" class="Symbol">)</a>
                  <a id="2744" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="2746" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2380" class="Bound">Γ</a> <a id="2748" href="Ledger.Conway.Conformance.Utxo.html#1162" class="Datatype Operator">C.⊢</a> <a id="2752" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2382" class="Bound">s</a> <a id="2754" href="Ledger.Conway.Conformance.Utxo.html#1162" class="Datatype Operator">⇀⦇</a> <a id="2757" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2384" class="Bound">tx</a> <a id="2760" href="Ledger.Conway.Conformance.Utxo.html#1162" class="Datatype Operator">,UTXOS⦈</a> <a id="2768" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2387" class="Bound">s&#39;</a> <a id="2771" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="2774" class="Symbol">λ</a> <a id="2776" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2776" class="Bound">_</a> <a id="2778" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2778" class="Bound">h</a> <a id="2780" class="Symbol">→</a>
                    <a id="2802" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2380" class="Bound">Γ</a> <a id="2804" href="Ledger.Conway.Specification.Utxo.html#11458" class="Datatype Operator">L.⊢</a> <a id="2808" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2382" class="Bound">s</a> <a id="2810" href="Ledger.Conway.Specification.Utxo.html#11458" class="Datatype Operator">⇀⦇</a> <a id="2813" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2384" class="Bound">tx</a> <a id="2816" href="Ledger.Conway.Specification.Utxo.html#11458" class="Datatype Operator">,UTXOS⦈</a> <a id="2824" class="Symbol">(</a><a id="2825" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="2837" class="Symbol">(</a><a id="2838" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="2852" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2778" class="Bound">h</a><a id="2853" class="Symbol">)</a> <a id="2855" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2387" class="Bound">s&#39;</a><a id="2857" class="Symbol">)</a>
  <a id="2861" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2361" class="Function">UTXOSFromConf</a> <a id="2875" class="Symbol">.</a><a id="2876" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2882" class="Symbol">(</a><a id="2883" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2888" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2892" class="Symbol">)</a>       <a id="2900" class="Symbol">(</a><a id="2901" href="Ledger.Conway.Conformance.Utxo.html#1231" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2915" class="Symbol">(</a><a id="2916" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2916" class="Bound">eval</a> <a id="2921" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2923" class="Symbol">()))</a>
  <a id="2930" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2361" class="Function">UTXOSFromConf</a> <a id="2944" class="Symbol">.</a><a id="2945" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2951" class="Symbol">(</a><a id="2952" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2957" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2957" class="Bound">validCerts</a><a id="2967" class="Symbol">)</a> <a id="2969" class="Symbol">(</a><a id="2970" href="Ledger.Conway.Conformance.Utxo.html#1231" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2984" class="Symbol">(</a><a id="2985" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2985" class="Bound">eval</a> <a id="2990" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2992" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2992" class="Bound">txValid</a><a id="2999" class="Symbol">))</a> <a id="3002" class="Symbol">=</a> <a id="3004" href="Ledger.Conway.Specification.Utxo.html#11528" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3018" class="Symbol">(</a><a id="3019" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2957" class="Bound">validCerts</a> <a id="3030" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3032" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2985" class="Bound">eval</a> <a id="3037" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3039" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2992" class="Bound">txValid</a><a id="3046" class="Symbol">)</a>
  <a id="3050" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2361" class="CatchallClause Function">UTXOSFromConf</a><a id="3063" class="CatchallClause"> </a><a id="3064" class="CatchallClause Symbol">.</a><a id="3065" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="CatchallClause Field">convⁱ</a><a id="3070" class="CatchallClause"> </a><a id="3071" class="CatchallClause Symbol">_</a><a id="3072" class="CatchallClause"> </a><a id="3073" class="CatchallClause Symbol">(</a><a id="3074" href="Ledger.Conway.Conformance.Utxo.html#1826" class="CatchallClause InductiveConstructor">C.Scripts-No</a><a id="3086" class="CatchallClause"> </a><a id="3087" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3087" class="CatchallClause Bound">h</a><a id="3088" class="CatchallClause Symbol">)</a> <a id="3090" class="Symbol">=</a> <a id="3092" href="Ledger.Conway.Specification.Utxo.html#12046" class="InductiveConstructor">L.Scripts-No</a> <a id="3105" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3087" class="Bound">h</a>

<a id="3108" class="Keyword">instance</a>
  <a id="3119" class="Comment">-- It&#39;s a little weird that UTXO still has a bunch of preconditions</a>
  <a id="3189" class="Comment">-- for consumed and produced (using updateDeposits) when the</a>
  <a id="3252" class="Comment">-- deposits don&#39;t change! Why are they even part of the UTxOState?</a>
  <a id="3321" class="Comment">-- In conformance the update happens in GOVCERT (under CERT).</a>
  <a id="UTXOToConf"></a><a id="3385" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3385" class="Function">UTXOToConf</a> <a id="3396" class="Symbol">:</a> <a id="3398" class="Symbol">∀</a> <a id="3400" class="Symbol">{</a><a id="3401" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3401" class="Bound">Γ</a> <a id="3403" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3403" class="Bound">s</a> <a id="3405" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3405" class="Bound">tx</a> <a id="3408" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3408" class="Bound">s&#39;</a><a id="3410" class="Symbol">}</a> <a id="3412" class="Symbol">→</a> <a id="3414" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3401" class="Bound">Γ</a> <a id="3416" href="Ledger.Conway.Specification.Utxo.html#2163" class="Datatype Operator">L.⊢</a> <a id="3420" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3403" class="Bound">s</a> <a id="3422" href="Ledger.Conway.Specification.Utxo.html#2163" class="Datatype Operator">⇀⦇</a> <a id="3425" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3405" class="Bound">tx</a> <a id="3428" href="Ledger.Conway.Specification.Utxo.html#2163" class="Datatype Operator">,UTXO⦈</a> <a id="3435" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3408" class="Bound">s&#39;</a> <a id="3438" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="3440" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3401" class="Bound">Γ</a> <a id="3442" href="Ledger.Conway.Conformance.Utxo.html#2611" class="Datatype Operator">C.⊢</a> <a id="3446" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3403" class="Bound">s</a> <a id="3448" href="Ledger.Conway.Conformance.Utxo.html#2611" class="Datatype Operator">⇀⦇</a> <a id="3451" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3405" class="Bound">tx</a> <a id="3454" href="Ledger.Conway.Conformance.Utxo.html#2611" class="Datatype Operator">,UTXO⦈</a> <a id="3461" class="Symbol">(</a><a id="3462" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="3479" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3403" class="Bound">s</a> <a id="3481" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3408" class="Bound">s&#39;</a><a id="3483" class="Symbol">)</a>
  <a id="3487" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3385" class="Function">UTXOToConf</a> <a id="3498" class="Symbol">{</a><a id="3499" class="Argument">s</a> <a id="3501" class="Symbol">=</a> <a id="3503" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3503" class="Bound">s</a><a id="3504" class="Symbol">}</a> <a id="3506" class="Symbol">{</a><a id="3507" class="Argument">tx</a> <a id="3510" class="Symbol">=</a> <a id="3512" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3512" class="Bound">tx</a><a id="3514" class="Symbol">}</a> <a id="3516" class="Symbol">.</a><a id="3517" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="3523" class="Symbol">_</a> <a id="3525" class="Symbol">(</a><a id="3526" href="Ledger.Conway.Specification.Utxo.html#12708" class="InductiveConstructor">L.UTXO-inductive</a> <a id="3543" class="Symbol">(</a><a id="3544" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3544" class="Bound">a</a> <a id="3546" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3548" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3548" class="Bound">b</a> <a id="3550" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3552" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3552" class="Bound">c</a> <a id="3554" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3556" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3556" class="Bound">d</a> <a id="3558" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3560" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3560" class="Bound">e</a> <a id="3562" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3564" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3564" class="Bound">f</a> <a id="3566" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3568" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3568" class="Bound">g</a> <a id="3570" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3572" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3572" class="Bound">r</a> <a id="3574" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3576" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3576" class="Bound">h</a> <a id="3578" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3580" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3580" class="Bound">i</a> <a id="3582" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3584" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3584" class="Bound">j</a> <a id="3586" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3588" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3588" class="Bound">k</a> <a id="3590" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3592" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3592" class="Bound">l</a> <a id="3594" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3596" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3596" class="Bound">m</a> <a id="3598" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3600" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3600" class="Bound">n</a> <a id="3602" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3604" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3604" class="Bound">o</a> <a id="3606" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3608" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3608" class="Bound">p</a> <a id="3610" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3612" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3612" class="Bound">utxo</a><a id="3616" class="Symbol">))</a> <a id="3619" class="Symbol">=</a>
    <a id="3625" href="Ledger.Conway.Conformance.Utxo.html#2680" class="InductiveConstructor">C.UTXO-inductive</a> <a id="3642" class="Symbol">(</a><a id="3643" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3544" class="Bound">a</a> <a id="3645" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3647" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3548" class="Bound">b</a> <a id="3649" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3651" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3552" class="Bound">c</a> <a id="3653" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3655" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3556" class="Bound">d</a> <a id="3657" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3659" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3560" class="Bound">e</a> <a id="3661" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3663" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3564" class="Bound">f</a> <a id="3665" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3667" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3568" class="Bound">g</a> <a id="3669" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3671" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3572" class="Bound">r</a> <a id="3673" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3675" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3576" class="Bound">h</a> <a id="3677" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3679" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3580" class="Bound">i</a> <a id="3681" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3683" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3584" class="Bound">j</a> <a id="3685" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3687" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3588" class="Bound">k</a> <a id="3689" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3691" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3592" class="Bound">l</a> <a id="3693" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3695" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3596" class="Bound">m</a> <a id="3697" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3699" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3600" class="Bound">n</a> <a id="3701" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3703" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3604" class="Bound">o</a> <a id="3705" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3707" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3608" class="Bound">p</a> <a id="3709" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3711" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="3716" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3612" class="Bound">utxo</a><a id="3720" class="Symbol">)</a>

  <a id="UTXOFromConf"></a><a id="3725" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3725" class="Function">UTXOFromConf</a> <a id="3738" class="Symbol">:</a> <a id="3740" class="Symbol">∀</a> <a id="3742" class="Symbol">{</a><a id="3743" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3743" class="Bound">Γ</a> <a id="3745" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3745" class="Bound">s</a> <a id="3747" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3747" class="Bound">tx</a> <a id="3750" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3750" class="Bound">s&#39;</a><a id="3752" class="Symbol">}</a>
                   <a id="3773" class="Symbol">(</a><a id="3774" class="Keyword">let</a> <a id="3778" class="Keyword">open</a> <a id="3783" href="Ledger.Conway.Specification.Utxo.html#1121" class="Module">L.UTxOEnv</a> <a id="3793" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3743" class="Bound">Γ</a> <a id="3795" class="Keyword">using</a> <a id="3801" class="Symbol">()</a> <a id="3804" class="Keyword">renaming</a> <a id="3813" class="Symbol">(</a><a id="3814" href="Ledger.Conway.Specification.Utxo.html#1175" class="Field">pparams</a> <a id="3822" class="Symbol">to</a> <a id="3825" class="Field">pp</a><a id="3827" class="Symbol">)</a>
                        <a id="3853" class="Keyword">open</a> <a id="3858" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">L.UTxOState</a> <a id="3870" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3745" class="Bound">s</a> <a id="3872" class="Keyword">using</a> <a id="3878" class="Symbol">(</a><a id="3879" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="3887" class="Symbol">)</a>
                        <a id="3913" class="Keyword">open</a> <a id="3918" href="Ledger.Conway.Specification.Transaction.html#4682" class="Module">Tx</a> <a id="3921" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3747" class="Bound">tx</a> <a id="3924" class="Keyword">renaming</a> <a id="3933" class="Symbol">(</a><a id="3934" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="3939" class="Symbol">to</a> <a id="3942" class="Field">txb</a><a id="3945" class="Symbol">)</a>
                        <a id="3971" class="Keyword">open</a> <a id="3976" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="3983" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3942" class="Function">txb</a> <a id="3987" class="Keyword">using</a> <a id="3993" class="Symbol">(</a><a id="3994" href="Ledger.Conway.Specification.Transaction.html#3214" class="Field">txCerts</a><a id="4001" class="Symbol">))</a>
               <a id="4019" class="Symbol">→</a> <a id="4021" class="Symbol">(</a><a id="4022" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="4030" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3747" class="Bound">tx</a> <a id="4033" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4035" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="4041" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="4043" href="Ledger.Conway.Specification.Utxo.html#3462" class="Datatype">L.ValidCertDeposits</a> <a id="4063" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3825" class="Function">pp</a> <a id="4066" href="Ledger.Conway.Specification.Utxo.html#1338" class="Function">deposits</a> <a id="4075" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a><a id="4082" class="Symbol">)</a>
                 <a id="4101" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="4103" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3743" class="Bound">Γ</a> <a id="4105" href="Ledger.Conway.Conformance.Utxo.html#2611" class="Datatype Operator">C.⊢</a> <a id="4109" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3745" class="Bound">s</a> <a id="4111" href="Ledger.Conway.Conformance.Utxo.html#2611" class="Datatype Operator">⇀⦇</a> <a id="4114" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3747" class="Bound">tx</a> <a id="4117" href="Ledger.Conway.Conformance.Utxo.html#2611" class="Datatype Operator">,UTXO⦈</a> <a id="4124" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3750" class="Bound">s&#39;</a> <a id="4127" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="4130" class="Symbol">λ</a> <a id="4132" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4132" class="Bound">_</a> <a id="4134" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4134" class="Bound">h</a> <a id="4136" class="Symbol">→</a>
                   <a id="4157" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3743" class="Bound">Γ</a> <a id="4159" href="Ledger.Conway.Specification.Utxo.html#2163" class="Datatype Operator">L.⊢</a> <a id="4163" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3745" class="Bound">s</a> <a id="4165" href="Ledger.Conway.Specification.Utxo.html#2163" class="Datatype Operator">⇀⦇</a> <a id="4168" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3747" class="Bound">tx</a> <a id="4171" href="Ledger.Conway.Specification.Utxo.html#2163" class="Datatype Operator">,UTXO⦈</a> <a id="4178" class="Symbol">(</a><a id="4179" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="4191" class="Symbol">(</a><a id="4192" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1925" class="Function">utxoDeposits</a> <a id="4205" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4134" class="Bound">h</a><a id="4206" class="Symbol">)</a> <a id="4208" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3750" class="Bound">s&#39;</a><a id="4210" class="Symbol">)</a>
  <a id="4214" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3725" class="Function">UTXOFromConf</a> <a id="4227" class="Symbol">{</a><a id="4228" class="Argument">s</a> <a id="4230" class="Symbol">=</a> <a id="4232" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4232" class="Bound">s</a><a id="4233" class="Symbol">}</a> <a id="4235" class="Symbol">{</a><a id="4236" class="Argument">tx</a> <a id="4239" class="Symbol">=</a> <a id="4241" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4241" class="Bound">tx</a><a id="4243" class="Symbol">}</a> <a id="4245" class="Symbol">.</a><a id="4246" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4252" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4252" class="Bound">validCerts</a> <a id="4263" class="Symbol">(</a><a id="4264" href="Ledger.Conway.Conformance.Utxo.html#2680" class="InductiveConstructor">C.UTXO-inductive</a> <a id="4281" class="Symbol">(</a><a id="4282" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4282" class="Bound">a</a> <a id="4284" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4286" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4286" class="Bound">b</a> <a id="4288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4290" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4290" class="Bound">c</a> <a id="4292" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4294" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4294" class="Bound">d</a> <a id="4296" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4298" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4298" class="Bound">e</a> <a id="4300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4302" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4302" class="Bound">f</a> <a id="4304" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4306" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4306" class="Bound">g</a> <a id="4308" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4310" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4310" class="Bound">r</a> <a id="4312" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4314" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4314" class="Bound">h</a> <a id="4316" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4318" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4318" class="Bound">i</a> <a id="4320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4322" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4322" class="Bound">j</a> <a id="4324" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4326" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4326" class="Bound">k</a> <a id="4328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4330" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4330" class="Bound">l</a> <a id="4332" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4334" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4334" class="Bound">m</a> <a id="4336" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4338" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4338" class="Bound">n</a> <a id="4340" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4342" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4342" class="Bound">o</a> <a id="4344" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4346" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4346" class="Bound">p</a> <a id="4348" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4350" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4350" class="Bound">utxo</a><a id="4354" class="Symbol">))</a> <a id="4357" class="Symbol">=</a>
    <a id="4363" href="Ledger.Conway.Specification.Utxo.html#12708" class="InductiveConstructor">L.UTXO-inductive</a> <a id="4380" class="Symbol">(</a><a id="4381" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4282" class="Bound">a</a> <a id="4383" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4385" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4286" class="Bound">b</a> <a id="4387" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4389" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4290" class="Bound">c</a> <a id="4391" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4393" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4294" class="Bound">d</a> <a id="4395" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4397" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4298" class="Bound">e</a> <a id="4399" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4401" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4302" class="Bound">f</a> <a id="4403" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4405" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4306" class="Bound">g</a> <a id="4407" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4409" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4310" class="Bound">r</a> <a id="4411" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4413" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4314" class="Bound">h</a> <a id="4415" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4417" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4318" class="Bound">i</a> <a id="4419" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4421" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4322" class="Bound">j</a> <a id="4423" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4425" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4326" class="Bound">k</a> <a id="4427" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4429" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4330" class="Bound">l</a> <a id="4431" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4433" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4334" class="Bound">m</a> <a id="4435" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4437" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4338" class="Bound">n</a> <a id="4439" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4441" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4342" class="Bound">o</a> <a id="4443" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4445" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4346" class="Bound">p</a> <a id="4447" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4449" class="Symbol">(</a><a id="4450" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4252" class="Bound">validCerts</a> <a id="4461" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="4467" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4350" class="Bound">utxo</a><a id="4471" class="Symbol">))</a>

  <a id="UTXOWToConf"></a><a id="4477" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4477" class="Function">UTXOWToConf</a> <a id="4489" class="Symbol">:</a> <a id="4491" class="Symbol">∀</a> <a id="4493" class="Symbol">{</a><a id="4494" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4494" class="Bound">Γ</a> <a id="4496" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4496" class="Bound">s</a> <a id="4498" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4498" class="Bound">tx</a> <a id="4501" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4501" class="Bound">s&#39;</a><a id="4503" class="Symbol">}</a> <a id="4505" class="Symbol">→</a> <a id="4507" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4494" class="Bound">Γ</a> <a id="4509" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">L.⊢</a> <a id="4513" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4496" class="Bound">s</a> <a id="4515" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="4518" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4498" class="Bound">tx</a> <a id="4521" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="4529" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4501" class="Bound">s&#39;</a> <a id="4532" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="4534" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4494" class="Bound">Γ</a> <a id="4536" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="4540" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4496" class="Bound">s</a> <a id="4542" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="4545" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4498" class="Bound">tx</a> <a id="4548" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="4556" class="Symbol">(</a><a id="4557" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="4574" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4496" class="Bound">s</a> <a id="4576" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4501" class="Bound">s&#39;</a><a id="4578" class="Symbol">)</a>
  <a id="4582" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4477" class="Function">UTXOWToConf</a> <a id="4594" class="Symbol">.</a><a id="4595" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4601" class="Symbol">_</a> <a id="4603" class="Symbol">(</a><a id="4604" href="Ledger.Conway.Specification.Utxow.html#4863" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="4623" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4623" class="Bound">a</a> <a id="4625" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4625" class="Bound">b</a> <a id="4627" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4627" class="Bound">c</a> <a id="4629" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4629" class="Bound">d</a> <a id="4631" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4631" class="Bound">e</a> <a id="4633" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4633" class="Bound">f</a> <a id="4635" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4635" class="Bound">g</a> <a id="4637" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4637" class="Bound">h</a> <a id="4639" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4639" class="Bound">utxo</a><a id="4643" class="Symbol">)</a> <a id="4645" class="Symbol">=</a>
    <a id="4651" href="Ledger.Conway.Conformance.Utxow.html#2422" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="4670" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4623" class="Bound">a</a> <a id="4672" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4625" class="Bound">b</a> <a id="4674" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4627" class="Bound">c</a> <a id="4676" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4629" class="Bound">d</a> <a id="4678" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4631" class="Bound">e</a> <a id="4680" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4633" class="Bound">f</a> <a id="4682" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4635" class="Bound">g</a> <a id="4684" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4637" class="Bound">h</a> <a id="4686" class="Symbol">(</a><a id="4687" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="4692" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4639" class="Bound">utxo</a><a id="4696" class="Symbol">)</a>

  <a id="UTXOWFromConf"></a><a id="4701" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4701" class="Function">UTXOWFromConf</a> <a id="4715" class="Symbol">:</a> <a id="4717" class="Symbol">∀</a> <a id="4719" class="Symbol">{</a><a id="4720" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4720" class="Bound">Γ</a> <a id="4722" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4722" class="Bound">s</a> <a id="4724" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4724" class="Bound">tx</a> <a id="4727" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4727" class="Bound">s&#39;</a><a id="4729" class="Symbol">}</a>
                    <a id="4751" class="Symbol">(</a><a id="4752" class="Keyword">let</a> <a id="4756" class="Keyword">open</a> <a id="4761" href="Ledger.Conway.Specification.Utxo.html#1121" class="Module">L.UTxOEnv</a> <a id="4771" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4720" class="Bound">Γ</a> <a id="4773" class="Keyword">using</a> <a id="4779" class="Symbol">()</a> <a id="4782" class="Keyword">renaming</a> <a id="4791" class="Symbol">(</a><a id="4792" href="Ledger.Conway.Specification.Utxo.html#1175" class="Field">pparams</a> <a id="4800" class="Symbol">to</a> <a id="4803" class="Field">pp</a><a id="4805" class="Symbol">)</a>
                         <a id="4832" class="Keyword">open</a> <a id="4837" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">L.UTxOState</a> <a id="4849" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4722" class="Bound">s</a> <a id="4851" class="Keyword">using</a> <a id="4857" class="Symbol">(</a><a id="4858" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a><a id="4866" class="Symbol">)</a>
                         <a id="4893" class="Keyword">open</a> <a id="4898" href="Ledger.Conway.Specification.Transaction.html#4682" class="Module">Tx</a> <a id="4901" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4724" class="Bound">tx</a> <a id="4904" class="Keyword">renaming</a> <a id="4913" class="Symbol">(</a><a id="4914" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="4919" class="Symbol">to</a> <a id="4922" class="Field">txb</a><a id="4925" class="Symbol">)</a>
                         <a id="4952" class="Keyword">open</a> <a id="4957" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="4964" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4922" class="Function">txb</a> <a id="4968" class="Keyword">using</a> <a id="4974" class="Symbol">(</a><a id="4975" href="Ledger.Conway.Specification.Transaction.html#3214" class="Field">txCerts</a><a id="4982" class="Symbol">))</a>
                <a id="5001" class="Symbol">→</a> <a id="5003" class="Symbol">(</a><a id="5004" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="5012" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4724" class="Bound">tx</a> <a id="5015" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5017" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="5023" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5025" href="Ledger.Conway.Specification.Utxo.html#3462" class="Datatype">L.ValidCertDeposits</a> <a id="5045" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4803" class="Function">pp</a> <a id="5048" href="Ledger.Conway.Specification.Utxo.html#1338" class="Function">deposits</a> <a id="5057" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a><a id="5064" class="Symbol">)</a>
                  <a id="5084" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="5086" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4720" class="Bound">Γ</a> <a id="5088" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="5092" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4722" class="Bound">s</a> <a id="5094" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="5097" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4724" class="Bound">tx</a> <a id="5100" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="5108" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4727" class="Bound">s&#39;</a> <a id="5111" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="5114" class="Symbol">λ</a> <a id="5116" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5116" class="Bound">_</a> <a id="5118" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5118" class="Bound">h</a> <a id="5120" class="Symbol">→</a>
                    <a id="5142" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4720" class="Bound">Γ</a> <a id="5144" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">L.⊢</a> <a id="5148" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4722" class="Bound">s</a> <a id="5150" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">⇀⦇</a> <a id="5153" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4724" class="Bound">tx</a> <a id="5156" href="Ledger.Conway.Specification.Utxow.html#2851" class="Datatype Operator">,UTXOW⦈</a> <a id="5164" class="Symbol">(</a><a id="5165" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="5177" class="Symbol">(</a><a id="5178" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2075" class="Function">utxowDeposits</a> <a id="5192" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5118" class="Bound">h</a><a id="5193" class="Symbol">)</a> <a id="5195" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4727" class="Bound">s&#39;</a><a id="5197" class="Symbol">)</a>  <a id="5200" class="Comment">-- Conformance doesn&#39;t update deposits in UTXOW</a>
  <a id="5250" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4701" class="Function">UTXOWFromConf</a> <a id="5264" class="Symbol">.</a><a id="5265" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5271" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5271" class="Bound">validCerts</a> <a id="5282" class="Symbol">(</a><a id="5283" href="Ledger.Conway.Conformance.Utxow.html#2422" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="5302" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5302" class="Bound">a</a> <a id="5304" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5304" class="Bound">b</a> <a id="5306" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5306" class="Bound">c</a> <a id="5308" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5308" class="Bound">d</a> <a id="5310" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5310" class="Bound">e</a> <a id="5312" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5312" class="Bound">f</a> <a id="5314" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5314" class="Bound">g</a> <a id="5316" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5316" class="Bound">h</a> <a id="5318" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5318" class="Bound">utxo</a><a id="5322" class="Symbol">)</a> <a id="5324" class="Symbol">=</a>
    <a id="5330" href="Ledger.Conway.Specification.Utxow.html#4863" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="5349" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5302" class="Bound">a</a> <a id="5351" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5304" class="Bound">b</a> <a id="5353" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5306" class="Bound">c</a> <a id="5355" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5308" class="Bound">d</a> <a id="5357" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5310" class="Bound">e</a> <a id="5359" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5312" class="Bound">f</a> <a id="5361" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5314" class="Bound">g</a> <a id="5363" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5316" class="Bound">h</a> <a id="5365" class="Symbol">(</a><a id="5366" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5271" class="Bound">validCerts</a> <a id="5377" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5383" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5318" class="Bound">utxo</a><a id="5387" class="Symbol">)</a>
</pre></body></html>