<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Equivalence.Utxo</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="Ledger.Conway.Abstract.html" class="Module">Ledger.Conway.Abstract</a>
<a id="87" class="Keyword">open</a> <a id="92" class="Keyword">import</a> <a id="99" href="Ledger.Conway.Transaction.html" class="Module">Ledger.Conway.Transaction</a> <a id="125" class="Keyword">using</a> <a id="131" class="Symbol">(</a><a id="132" href="Ledger.Conway.Transaction.html#872" class="Record">TransactionStructure</a><a id="152" class="Symbol">)</a>

<a id="155" class="Keyword">open</a> <a id="160" class="Keyword">import</a> <a id="167" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="177" class="Keyword">using</a> <a id="183" class="Symbol">(</a><a id="184" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="185" class="Symbol">)</a>
<a id="187" class="Keyword">open</a> <a id="192" class="Keyword">import</a> <a id="199" href="Data.Product.html" class="Module">Data.Product</a> <a id="212" class="Keyword">using</a> <a id="218" class="Symbol">(</a><a id="219" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="222" class="Symbol">;</a> <a id="224" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="227" class="Symbol">)</a>
<a id="229" class="Keyword">open</a> <a id="234" class="Keyword">import</a> <a id="241" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="258" class="Keyword">using</a> <a id="264" class="Symbol">(</a><a id="265" href="Function.Bundles.html#12400" class="Function Operator">_⇔_</a><a id="268" class="Symbol">;</a> <a id="270" href="Function.Bundles.html#13499" class="Function">mk⇔</a><a id="273" class="Symbol">;</a> <a id="275" href="Function.Bundles.html#4752" class="Record">Equivalence</a><a id="286" class="Symbol">)</a>
<a id="288" class="Keyword">open</a> <a id="293" class="Keyword">import</a> <a id="300" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="338" class="Keyword">open</a> <a id="343" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>

<a id="356" class="Keyword">open</a> <a id="361" class="Keyword">import</a> <a id="368" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>

<a id="415" class="Keyword">module</a> <a id="422" href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="Module">Ledger.Conway.Conformance.Equivalence.Utxo</a>
  <a id="467" class="Symbol">(</a><a id="468" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a> <a id="472" class="Symbol">:</a> <a id="474" class="Symbol">_)</a> <a id="477" class="Symbol">(</a><a id="478" class="Keyword">open</a> <a id="483" href="Ledger.Conway.Transaction.html#872" class="Module">TransactionStructure</a> <a id="504" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a><a id="507" class="Symbol">)</a>
  <a id="511" class="Symbol">(</a><a id="512" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#512" class="Bound">abs</a> <a id="516" class="Symbol">:</a> <a id="518" href="Ledger.Conway.Abstract.html#599" class="Record">AbstractFunctions</a> <a id="536" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a><a id="539" class="Symbol">)</a> <a id="541" class="Symbol">(</a><a id="542" class="Keyword">open</a> <a id="547" href="Ledger.Conway.Abstract.html#599" class="Module">AbstractFunctions</a> <a id="565" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#512" class="Bound">abs</a><a id="568" class="Symbol">)</a>
  <a id="572" class="Keyword">where</a>

<a id="579" class="Keyword">private</a>
  <a id="589" class="Keyword">module</a> <a id="L"></a><a id="596" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#596" class="Module">L</a> <a id="598" class="Keyword">where</a>
    <a id="608" class="Keyword">open</a> <a id="613" class="Keyword">import</a> <a id="620" href="Ledger.Conway.Utxo.html" class="Module">Ledger.Conway.Utxo</a> <a id="639" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a> <a id="643" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#512" class="Bound">abs</a> <a id="647" class="Keyword">public</a>
    <a id="658" class="Keyword">open</a> <a id="663" class="Keyword">import</a> <a id="670" href="Ledger.Conway.Utxow.html" class="Module">Ledger.Conway.Utxow</a> <a id="690" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a> <a id="694" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#512" class="Bound">abs</a> <a id="698" class="Keyword">public</a>
    <a id="709" class="Keyword">open</a> <a id="714" class="Keyword">import</a> <a id="721" href="Ledger.Conway.Certs.html" class="Module">Ledger.Conway.Certs</a> <a id="741" href="Ledger.Conway.Transaction.html#1852" class="Function">govStructure</a> <a id="754" class="Keyword">public</a>

  <a id="764" class="Keyword">module</a> <a id="C"></a><a id="771" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#771" class="Module">C</a> <a id="773" class="Keyword">where</a>
    <a id="783" class="Keyword">open</a> <a id="788" class="Keyword">import</a> <a id="795" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="826" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a> <a id="830" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#512" class="Bound">abs</a> <a id="834" class="Keyword">public</a>
    <a id="845" class="Keyword">open</a> <a id="850" class="Keyword">import</a> <a id="857" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="889" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a> <a id="893" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#512" class="Bound">abs</a> <a id="897" class="Keyword">public</a>
    <a id="908" class="Keyword">open</a> <a id="913" class="Keyword">import</a> <a id="920" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="952" href="Ledger.Conway.Transaction.html#1852" class="Function">govStructure</a> <a id="965" class="Keyword">public</a>

<a id="973" class="Keyword">open</a> <a id="978" href="Ledger.Conway.Transaction.html#4227" class="Module">Tx</a>

<a id="setDeposits"></a><a id="982" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#982" class="Function">setDeposits</a> <a id="994" class="Symbol">:</a> <a id="996" href="Ledger.Conway.Certs.html#553" class="Function">L.Deposits</a> <a id="1007" class="Symbol">→</a> <a id="1009" href="Ledger.Conway.Utxo.html#1390" class="Record">L.UTxOState</a> <a id="1021" class="Symbol">→</a> <a id="1023" href="Ledger.Conway.Utxo.html#1390" class="Record">L.UTxOState</a>
<a id="1035" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#982" class="Function">setDeposits</a> <a id="1047" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1047" class="Bound">deposits</a> <a id="1056" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1056" class="Bound">utxoSt</a> <a id="1063" class="Symbol">=</a> <a id="1065" class="Keyword">record</a> <a id="1072" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1056" class="Bound">utxoSt</a> <a id="1079" class="Symbol">{</a> <a id="1081" href="Ledger.Conway.Utxo.html#1498" class="Field">deposits</a> <a id="1090" class="Symbol">=</a> <a id="1092" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1047" class="Bound">deposits</a> <a id="1101" class="Symbol">}</a>

<a id="withDepositsFrom"></a><a id="1104" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1104" class="Function">withDepositsFrom</a> <a id="1121" class="Symbol">:</a> <a id="1123" href="Ledger.Conway.Utxo.html#1390" class="Record">L.UTxOState</a> <a id="1135" class="Symbol">→</a> <a id="1137" href="Ledger.Conway.Utxo.html#1390" class="Record">L.UTxOState</a> <a id="1149" class="Symbol">→</a> <a id="1151" href="Ledger.Conway.Utxo.html#1390" class="Record">L.UTxOState</a>
<a id="1163" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1104" class="Function">withDepositsFrom</a> <a id="1180" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1180" class="Bound">utxoSt</a> <a id="1187" class="Symbol">=</a> <a id="1189" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#982" class="Function">setDeposits</a> <a id="1201" class="Symbol">(</a><a id="1202" href="Ledger.Conway.Utxo.html#1498" class="Field">L.UTxOState.deposits</a> <a id="1223" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1180" class="Bound">utxoSt</a><a id="1229" class="Symbol">)</a>

<a id="1232" class="Keyword">instance</a>

  <a id="UTXOSToConf"></a><a id="1244" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1244" class="Function">UTXOSToConf</a> <a id="1256" class="Symbol">:</a> <a id="1258" class="Symbol">∀</a> <a id="1260" class="Symbol">{</a><a id="1261" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1261" class="Bound">Γ</a> <a id="1263" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1263" class="Bound">s</a> <a id="1265" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1265" class="Bound">tx</a> <a id="1268" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1268" class="Bound">s&#39;</a><a id="1270" class="Symbol">}</a> <a id="1272" class="Symbol">→</a> <a id="1274" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1261" class="Bound">Γ</a> <a id="1276" href="Ledger.Conway.Utxo.html#11290" class="Datatype Operator">L.⊢</a> <a id="1280" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1263" class="Bound">s</a> <a id="1282" href="Ledger.Conway.Utxo.html#11290" class="Datatype Operator">⇀⦇</a> <a id="1285" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1265" class="Bound">tx</a> <a id="1288" href="Ledger.Conway.Utxo.html#11290" class="Datatype Operator">,UTXOS⦈</a> <a id="1296" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1268" class="Bound">s&#39;</a> <a id="1299" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="1301" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1261" class="Bound">Γ</a> <a id="1303" href="Ledger.Conway.Conformance.Utxo.html#1092" class="Datatype Operator">C.⊢</a> <a id="1307" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1263" class="Bound">s</a> <a id="1309" href="Ledger.Conway.Conformance.Utxo.html#1092" class="Datatype Operator">⇀⦇</a> <a id="1312" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1265" class="Bound">tx</a> <a id="1315" href="Ledger.Conway.Conformance.Utxo.html#1092" class="Datatype Operator">,UTXOS⦈</a> <a id="1323" class="Symbol">(</a><a id="1324" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1104" class="Function">withDepositsFrom</a> <a id="1341" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1263" class="Bound">s</a> <a id="1343" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1268" class="Bound">s&#39;</a><a id="1345" class="Symbol">)</a>
  <a id="1349" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1244" class="Function">UTXOSToConf</a> <a id="1361" class="Symbol">.</a><a id="1362" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1368" class="Symbol">_</a> <a id="1370" class="Symbol">(</a><a id="1371" href="Ledger.Conway.Utxo.html#11361" class="InductiveConstructor">L.Scripts-Yes</a> <a id="1385" class="Symbol">(</a><a id="1386" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1386" class="Bound">certsValid</a> <a id="1397" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1399" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1399" class="Bound">eval</a> <a id="1404" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1406" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1406" class="Bound">txValid</a><a id="1413" class="Symbol">))</a> <a id="1416" class="Symbol">=</a> <a id="1418" href="Ledger.Conway.Conformance.Utxo.html#1161" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1432" class="Symbol">(</a><a id="1433" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1399" class="Bound">eval</a> <a id="1438" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1440" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1406" class="Bound">txValid</a><a id="1447" class="Symbol">)</a>
  <a id="1451" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1244" class="Function">UTXOSToConf</a> <a id="1463" class="Symbol">.</a><a id="1464" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1470" class="Symbol">_</a> <a id="1472" class="Symbol">(</a><a id="1473" href="Ledger.Conway.Utxo.html#11879" class="InductiveConstructor">L.Scripts-No</a> <a id="1486" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1486" class="Bound">h</a><a id="1487" class="Symbol">)</a>                              <a id="1518" class="Symbol">=</a> <a id="1520" href="Ledger.Conway.Conformance.Utxo.html#1756" class="InductiveConstructor">C.Scripts-No</a> <a id="1533" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1486" class="Bound">h</a>

<a id="1536" class="Keyword">module</a> <a id="1543" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1543" class="Module">_</a> <a id="1545" class="Symbol">{</a><a id="1546" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1546" class="Bound">Γ</a> <a id="1548" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1548" class="Bound">s</a> <a id="1550" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1550" class="Bound">tx</a> <a id="1553" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1553" class="Bound">s&#39;</a><a id="1555" class="Symbol">}</a> <a id="1557" class="Keyword">where</a>
  <a id="1565" class="Keyword">open</a> <a id="1570" href="Ledger.Conway.Utxo.html#1038" class="Module">L.UTxOEnv</a> <a id="1580" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1546" class="Bound">Γ</a> <a id="1582" class="Keyword">renaming</a> <a id="1591" class="Symbol">(</a><a id="1592" href="Ledger.Conway.Utxo.html#1092" class="Field">pparams</a> <a id="1600" class="Symbol">to</a> <a id="1603" class="Field">pp</a><a id="1605" class="Symbol">)</a>
  <a id="1609" class="Keyword">open</a> <a id="1614" href="Ledger.Conway.Utxo.html#1390" class="Module">L.UTxOState</a> <a id="1626" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1548" class="Bound">s</a> <a id="1628" class="Keyword">using</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Ledger.Conway.Utxo.html#1498" class="Field">deposits</a><a id="1643" class="Symbol">)</a>
  <a id="1647" class="Keyword">open</a> <a id="1652" href="Ledger.Conway.Transaction.html#4227" class="Module">Tx</a> <a id="1655" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1550" class="Bound">tx</a> <a id="1658" class="Keyword">renaming</a> <a id="1667" class="Symbol">(</a><a id="1668" href="Ledger.Conway.Transaction.html#4259" class="Field">body</a> <a id="1673" class="Symbol">to</a> <a id="1676" class="Field">txb</a><a id="1679" class="Symbol">)</a>

  <a id="1684" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1684" class="Function">utxoSDeposits</a> <a id="1698" class="Symbol">:</a> <a id="1700" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1546" class="Bound">Γ</a> <a id="1702" href="Ledger.Conway.Conformance.Utxo.html#1092" class="Datatype Operator">C.⊢</a> <a id="1706" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1548" class="Bound">s</a> <a id="1708" href="Ledger.Conway.Conformance.Utxo.html#1092" class="Datatype Operator">⇀⦇</a> <a id="1711" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1550" class="Bound">tx</a> <a id="1714" href="Ledger.Conway.Conformance.Utxo.html#1092" class="Datatype Operator">,UTXOS⦈</a> <a id="1722" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1553" class="Bound">s&#39;</a> <a id="1725" class="Symbol">→</a> <a id="1727" href="Ledger.Conway.Certs.html#553" class="Function">L.Deposits</a>
  <a id="1740" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1684" class="Function">utxoSDeposits</a> <a id="1754" class="Symbol">(</a><a id="1755" href="Ledger.Conway.Conformance.Utxo.html#1161" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1769" class="Symbol">_)</a> <a id="1772" class="Symbol">=</a> <a id="1774" href="Ledger.Conway.Utxo.html#7988" class="Function">L.updateDeposits</a> <a id="1791" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1603" class="Function">pp</a> <a id="1794" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1676" class="Function">txb</a> <a id="1798" href="Ledger.Conway.Utxo.html#1498" class="Function">deposits</a>
  <a id="1809" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1684" class="Function">utxoSDeposits</a> <a id="1823" class="Symbol">(</a><a id="1824" href="Ledger.Conway.Conformance.Utxo.html#1756" class="InductiveConstructor">C.Scripts-No</a>  <a id="1838" class="Symbol">_)</a> <a id="1841" class="Symbol">=</a> <a id="1843" href="Ledger.Conway.Utxo.html#1498" class="Function">deposits</a>

  <a id="1855" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1855" class="Function">utxoDeposits</a> <a id="1868" class="Symbol">:</a> <a id="1870" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1546" class="Bound">Γ</a> <a id="1872" href="Ledger.Conway.Conformance.Utxo.html#2529" class="Datatype Operator">C.⊢</a> <a id="1876" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1548" class="Bound">s</a> <a id="1878" href="Ledger.Conway.Conformance.Utxo.html#2529" class="Datatype Operator">⇀⦇</a> <a id="1881" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1550" class="Bound">tx</a> <a id="1884" href="Ledger.Conway.Conformance.Utxo.html#2529" class="Datatype Operator">,UTXO⦈</a> <a id="1891" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1553" class="Bound">s&#39;</a> <a id="1894" class="Symbol">→</a> <a id="1896" href="Ledger.Conway.Certs.html#553" class="Function">L.Deposits</a>
  <a id="1909" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1855" class="Function">utxoDeposits</a> <a id="1922" class="Symbol">(</a><a id="1923" href="Ledger.Conway.Conformance.Utxo.html#3860" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="1941" class="Symbol">_</a> <a id="1943" class="Symbol">_</a> <a id="1945" class="Symbol">_</a> <a id="1947" class="Symbol">_</a> <a id="1949" class="Symbol">_</a> <a id="1951" class="Symbol">_</a> <a id="1953" class="Symbol">_</a> <a id="1955" class="Symbol">_</a> <a id="1957" class="Symbol">_</a> <a id="1959" class="Symbol">_</a> <a id="1961" class="Symbol">_</a> <a id="1963" class="Symbol">_</a> <a id="1965" class="Symbol">_</a> <a id="1967" class="Symbol">_</a> <a id="1969" class="Symbol">_</a> <a id="1971" class="Symbol">_</a> <a id="1973" class="Symbol">_</a> <a id="1975" class="Symbol">_</a> <a id="1977" class="Symbol">_</a> <a id="1979" class="Symbol">_</a> <a id="1981" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1981" class="Bound">h</a><a id="1982" class="Symbol">)</a> <a id="1984" class="Symbol">=</a> <a id="1986" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1684" class="Function">utxoSDeposits</a> <a id="2000" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1981" class="Bound">h</a>

  <a id="2005" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2005" class="Function">utxowDeposits</a> <a id="2019" class="Symbol">:</a> <a id="2021" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1546" class="Bound">Γ</a> <a id="2023" href="Ledger.Conway.Conformance.Utxow.html#596" class="Datatype Operator">C.⊢</a> <a id="2027" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1548" class="Bound">s</a> <a id="2029" href="Ledger.Conway.Conformance.Utxow.html#596" class="Datatype Operator">⇀⦇</a> <a id="2032" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1550" class="Bound">tx</a> <a id="2035" href="Ledger.Conway.Conformance.Utxow.html#596" class="Datatype Operator">,UTXOW⦈</a> <a id="2043" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1553" class="Bound">s&#39;</a> <a id="2046" class="Symbol">→</a> <a id="2048" href="Ledger.Conway.Certs.html#553" class="Function">L.Deposits</a>
  <a id="2061" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2005" class="Function">utxowDeposits</a> <a id="2075" class="Symbol">(</a><a id="2076" href="Ledger.Conway.Conformance.Utxow.html#2326" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="2095" class="Symbol">_</a> <a id="2097" class="Symbol">_</a> <a id="2099" class="Symbol">_</a> <a id="2101" class="Symbol">_</a> <a id="2103" class="Symbol">_</a> <a id="2105" class="Symbol">_</a> <a id="2107" class="Symbol">_</a> <a id="2109" class="Symbol">_</a> <a id="2111" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2111" class="Bound">h</a><a id="2112" class="Symbol">)</a> <a id="2114" class="Symbol">=</a> <a id="2116" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1855" class="Function">utxoDeposits</a> <a id="2129" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2111" class="Bound">h</a>

<a id="2132" class="Keyword">instance</a>
  <a id="2143" class="Comment">-- Here we pass in the ValidCertDeposits proof explicitly and</a>
  <a id="2207" class="Comment">-- override the deposits in s&#39; with updateDeposits (in case of</a>
  <a id="2272" class="Comment">-- Scripts-Yes).</a>
  <a id="UTXOSFromConf"></a><a id="2291" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2291" class="Function">UTXOSFromConf</a> <a id="2305" class="Symbol">:</a> <a id="2307" class="Symbol">∀</a> <a id="2309" class="Symbol">{</a><a id="2310" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2310" class="Bound">Γ</a> <a id="2312" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2312" class="Bound">s</a> <a id="2314" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2314" class="Bound">tx</a> <a id="2317" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2317" class="Bound">s&#39;</a><a id="2319" class="Symbol">}</a>
                    <a id="2341" class="Symbol">(</a><a id="2342" class="Keyword">let</a> <a id="2346" class="Keyword">open</a> <a id="2351" href="Ledger.Conway.Utxo.html#1038" class="Module">L.UTxOEnv</a> <a id="2361" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2310" class="Bound">Γ</a> <a id="2363" class="Keyword">using</a> <a id="2369" class="Symbol">()</a> <a id="2372" class="Keyword">renaming</a> <a id="2381" class="Symbol">(</a><a id="2382" href="Ledger.Conway.Utxo.html#1092" class="Field">pparams</a> <a id="2390" class="Symbol">to</a> <a id="2393" class="Field">pp</a><a id="2395" class="Symbol">)</a>
                         <a id="2422" class="Keyword">open</a> <a id="2427" href="Ledger.Conway.Utxo.html#1390" class="Module">L.UTxOState</a> <a id="2439" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2312" class="Bound">s</a> <a id="2441" class="Keyword">using</a> <a id="2447" class="Symbol">(</a><a id="2448" href="Ledger.Conway.Utxo.html#1498" class="Field">deposits</a><a id="2456" class="Symbol">)</a>
                         <a id="2483" class="Keyword">open</a> <a id="2488" href="Ledger.Conway.Transaction.html#4227" class="Module">Tx</a> <a id="2491" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2314" class="Bound">tx</a> <a id="2494" class="Keyword">renaming</a> <a id="2503" class="Symbol">(</a><a id="2504" href="Ledger.Conway.Transaction.html#4259" class="Field">body</a> <a id="2509" class="Symbol">to</a> <a id="2512" class="Field">txb</a><a id="2515" class="Symbol">)</a>
                         <a id="2542" class="Keyword">open</a> <a id="2547" href="Ledger.Conway.Transaction.html#2714" class="Module">TxBody</a> <a id="2554" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2512" class="Function">txb</a> <a id="2558" class="Keyword">using</a> <a id="2564" class="Symbol">(</a><a id="2565" href="Ledger.Conway.Transaction.html#2948" class="Field">txcerts</a><a id="2572" class="Symbol">))</a>
                <a id="2591" class="Symbol">→</a> <a id="2593" class="Symbol">(</a><a id="2594" href="Ledger.Conway.Transaction.html#4331" class="Field">isValid</a> <a id="2602" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2314" class="Bound">tx</a> <a id="2605" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2607" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2613" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2615" href="Ledger.Conway.Utxo.html#3336" class="Datatype">L.ValidCertDeposits</a> <a id="2635" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2393" class="Function">pp</a> <a id="2638" href="Ledger.Conway.Utxo.html#1498" class="Function">deposits</a> <a id="2647" href="Ledger.Conway.Transaction.html#2948" class="Function">txcerts</a><a id="2654" class="Symbol">)</a>
                  <a id="2674" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="2676" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2310" class="Bound">Γ</a> <a id="2678" href="Ledger.Conway.Conformance.Utxo.html#1092" class="Datatype Operator">C.⊢</a> <a id="2682" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2312" class="Bound">s</a> <a id="2684" href="Ledger.Conway.Conformance.Utxo.html#1092" class="Datatype Operator">⇀⦇</a> <a id="2687" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2314" class="Bound">tx</a> <a id="2690" href="Ledger.Conway.Conformance.Utxo.html#1092" class="Datatype Operator">,UTXOS⦈</a> <a id="2698" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2317" class="Bound">s&#39;</a> <a id="2701" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="2704" class="Symbol">λ</a> <a id="2706" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2706" class="Bound">_</a> <a id="2708" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2708" class="Bound">h</a> <a id="2710" class="Symbol">→</a>
                    <a id="2732" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2310" class="Bound">Γ</a> <a id="2734" href="Ledger.Conway.Utxo.html#11290" class="Datatype Operator">L.⊢</a> <a id="2738" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2312" class="Bound">s</a> <a id="2740" href="Ledger.Conway.Utxo.html#11290" class="Datatype Operator">⇀⦇</a> <a id="2743" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2314" class="Bound">tx</a> <a id="2746" href="Ledger.Conway.Utxo.html#11290" class="Datatype Operator">,UTXOS⦈</a> <a id="2754" class="Symbol">(</a><a id="2755" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#982" class="Function">setDeposits</a> <a id="2767" class="Symbol">(</a><a id="2768" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1684" class="Function">utxoSDeposits</a> <a id="2782" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2708" class="Bound">h</a><a id="2783" class="Symbol">)</a> <a id="2785" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2317" class="Bound">s&#39;</a><a id="2787" class="Symbol">)</a>
  <a id="2791" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2291" class="Function">UTXOSFromConf</a> <a id="2805" class="Symbol">.</a><a id="2806" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2812" class="Symbol">(</a><a id="2813" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2818" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2822" class="Symbol">)</a>       <a id="2830" class="Symbol">(</a><a id="2831" href="Ledger.Conway.Conformance.Utxo.html#1161" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2845" class="Symbol">(</a><a id="2846" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2846" class="Bound">eval</a> <a id="2851" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2853" class="Symbol">()))</a>
  <a id="2860" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2291" class="Function">UTXOSFromConf</a> <a id="2874" class="Symbol">.</a><a id="2875" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2881" class="Symbol">(</a><a id="2882" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2887" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2887" class="Bound">validCerts</a><a id="2897" class="Symbol">)</a> <a id="2899" class="Symbol">(</a><a id="2900" href="Ledger.Conway.Conformance.Utxo.html#1161" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2914" class="Symbol">(</a><a id="2915" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2915" class="Bound">eval</a> <a id="2920" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2922" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2922" class="Bound">txValid</a><a id="2929" class="Symbol">))</a> <a id="2932" class="Symbol">=</a> <a id="2934" href="Ledger.Conway.Utxo.html#11361" class="InductiveConstructor">L.Scripts-Yes</a> <a id="2948" class="Symbol">(</a><a id="2949" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2887" class="Bound">validCerts</a> <a id="2960" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2962" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2915" class="Bound">eval</a> <a id="2967" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2969" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2922" class="Bound">txValid</a><a id="2976" class="Symbol">)</a>
  <a id="2980" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2291" class="CatchallClause Function">UTXOSFromConf</a><a id="2993" class="CatchallClause"> </a><a id="2994" class="CatchallClause Symbol">.</a><a id="2995" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="CatchallClause Field">convⁱ</a><a id="3000" class="CatchallClause"> </a><a id="3001" class="CatchallClause Symbol">_</a><a id="3002" class="CatchallClause"> </a><a id="3003" class="CatchallClause Symbol">(</a><a id="3004" href="Ledger.Conway.Conformance.Utxo.html#1756" class="CatchallClause InductiveConstructor">C.Scripts-No</a><a id="3016" class="CatchallClause"> </a><a id="3017" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3017" class="CatchallClause Bound">h</a><a id="3018" class="CatchallClause Symbol">)</a> <a id="3020" class="Symbol">=</a> <a id="3022" href="Ledger.Conway.Utxo.html#11879" class="InductiveConstructor">L.Scripts-No</a> <a id="3035" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3017" class="Bound">h</a>

<a id="3038" class="Keyword">instance</a>
  <a id="3049" class="Comment">-- It&#39;s a little weird that UTXO still has a bunch of preconditions</a>
  <a id="3119" class="Comment">-- for consumed and produced (using updateDeposits) when the</a>
  <a id="3182" class="Comment">-- deposits don&#39;t change! Why are they even part of the UTxOState?</a>
  <a id="3251" class="Comment">-- In conformance the update happens in GOVCERT (under CERT).</a>
  <a id="UTXOToConf"></a><a id="3315" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3315" class="Function">UTXOToConf</a> <a id="3326" class="Symbol">:</a> <a id="3328" class="Symbol">∀</a> <a id="3330" class="Symbol">{</a><a id="3331" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3331" class="Bound">Γ</a> <a id="3333" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3333" class="Bound">s</a> <a id="3335" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3335" class="Bound">tx</a> <a id="3338" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3338" class="Bound">s&#39;</a><a id="3340" class="Symbol">}</a> <a id="3342" class="Symbol">→</a> <a id="3344" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3331" class="Bound">Γ</a> <a id="3346" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">L.⊢</a> <a id="3350" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3333" class="Bound">s</a> <a id="3352" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⇀⦇</a> <a id="3355" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3335" class="Bound">tx</a> <a id="3358" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">,UTXO⦈</a> <a id="3365" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3338" class="Bound">s&#39;</a> <a id="3368" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="3370" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3331" class="Bound">Γ</a> <a id="3372" href="Ledger.Conway.Conformance.Utxo.html#2529" class="Datatype Operator">C.⊢</a> <a id="3376" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3333" class="Bound">s</a> <a id="3378" href="Ledger.Conway.Conformance.Utxo.html#2529" class="Datatype Operator">⇀⦇</a> <a id="3381" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3335" class="Bound">tx</a> <a id="3384" href="Ledger.Conway.Conformance.Utxo.html#2529" class="Datatype Operator">,UTXO⦈</a> <a id="3391" class="Symbol">(</a><a id="3392" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1104" class="Function">withDepositsFrom</a> <a id="3409" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3333" class="Bound">s</a> <a id="3411" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3338" class="Bound">s&#39;</a><a id="3413" class="Symbol">)</a>
  <a id="3417" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3315" class="Function">UTXOToConf</a> <a id="3428" class="Symbol">{</a><a id="3429" class="Argument">s</a> <a id="3431" class="Symbol">=</a> <a id="3433" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3433" class="Bound">s</a><a id="3434" class="Symbol">}</a> <a id="3436" class="Symbol">{</a><a id="3437" class="Argument">tx</a> <a id="3440" class="Symbol">=</a> <a id="3442" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3442" class="Bound">tx</a><a id="3444" class="Symbol">}</a> <a id="3446" class="Symbol">.</a><a id="3447" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="3453" class="Symbol">_</a> <a id="3455" class="Symbol">(</a><a id="3456" href="Ledger.Conway.Utxo.html#12531" class="InductiveConstructor">L.UTXO-inductive</a> <a id="3473" class="Symbol">(</a><a id="3474" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3474" class="Bound">a</a> <a id="3476" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3478" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3478" class="Bound">b</a> <a id="3480" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3482" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3482" class="Bound">c</a> <a id="3484" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3486" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3486" class="Bound">d</a> <a id="3488" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3490" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3490" class="Bound">e</a> <a id="3492" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3494" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3494" class="Bound">f</a> <a id="3496" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3498" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3498" class="Bound">g</a> <a id="3500" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3502" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3502" class="Bound">r</a> <a id="3504" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3506" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3506" class="Bound">h</a> <a id="3508" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3510" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3510" class="Bound">i</a> <a id="3512" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3514" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3514" class="Bound">j</a> <a id="3516" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3518" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3518" class="Bound">k</a> <a id="3520" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3522" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3522" class="Bound">l</a> <a id="3524" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3526" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3526" class="Bound">m</a> <a id="3528" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3530" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3530" class="Bound">n</a> <a id="3532" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3534" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3534" class="Bound">o</a> <a id="3536" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3538" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3538" class="Bound">p</a> <a id="3540" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3542" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3542" class="Bound">utxo</a><a id="3546" class="Symbol">))</a> <a id="3549" class="Symbol">=</a>
    <a id="3555" href="Ledger.Conway.Conformance.Utxo.html#2598" class="InductiveConstructor">C.UTXO-inductive</a> <a id="3572" class="Symbol">(</a><a id="3573" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3474" class="Bound">a</a> <a id="3575" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3577" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3478" class="Bound">b</a> <a id="3579" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3581" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3482" class="Bound">c</a> <a id="3583" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3585" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3486" class="Bound">d</a> <a id="3587" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3589" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3490" class="Bound">e</a> <a id="3591" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3593" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3494" class="Bound">f</a> <a id="3595" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3597" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3498" class="Bound">g</a> <a id="3599" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3601" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3502" class="Bound">r</a> <a id="3603" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3605" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3506" class="Bound">h</a> <a id="3607" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3609" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3510" class="Bound">i</a> <a id="3611" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3613" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3514" class="Bound">j</a> <a id="3615" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3617" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3518" class="Bound">k</a> <a id="3619" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3621" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3522" class="Bound">l</a> <a id="3623" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3625" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3526" class="Bound">m</a> <a id="3627" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3629" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3530" class="Bound">n</a> <a id="3631" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3633" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3534" class="Bound">o</a> <a id="3635" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3637" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3538" class="Bound">p</a> <a id="3639" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3641" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="3646" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3542" class="Bound">utxo</a><a id="3650" class="Symbol">)</a>

  <a id="UTXOFromConf"></a><a id="3655" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3655" class="Function">UTXOFromConf</a> <a id="3668" class="Symbol">:</a> <a id="3670" class="Symbol">∀</a> <a id="3672" class="Symbol">{</a><a id="3673" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3673" class="Bound">Γ</a> <a id="3675" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3675" class="Bound">s</a> <a id="3677" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3677" class="Bound">tx</a> <a id="3680" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3680" class="Bound">s&#39;</a><a id="3682" class="Symbol">}</a>
                   <a id="3703" class="Symbol">(</a><a id="3704" class="Keyword">let</a> <a id="3708" class="Keyword">open</a> <a id="3713" href="Ledger.Conway.Utxo.html#1038" class="Module">L.UTxOEnv</a> <a id="3723" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3673" class="Bound">Γ</a> <a id="3725" class="Keyword">using</a> <a id="3731" class="Symbol">()</a> <a id="3734" class="Keyword">renaming</a> <a id="3743" class="Symbol">(</a><a id="3744" href="Ledger.Conway.Utxo.html#1092" class="Field">pparams</a> <a id="3752" class="Symbol">to</a> <a id="3755" class="Field">pp</a><a id="3757" class="Symbol">)</a>
                        <a id="3783" class="Keyword">open</a> <a id="3788" href="Ledger.Conway.Utxo.html#1390" class="Module">L.UTxOState</a> <a id="3800" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3675" class="Bound">s</a> <a id="3802" class="Keyword">using</a> <a id="3808" class="Symbol">(</a><a id="3809" href="Ledger.Conway.Utxo.html#1498" class="Field">deposits</a><a id="3817" class="Symbol">)</a>
                        <a id="3843" class="Keyword">open</a> <a id="3848" href="Ledger.Conway.Transaction.html#4227" class="Module">Tx</a> <a id="3851" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3677" class="Bound">tx</a> <a id="3854" class="Keyword">renaming</a> <a id="3863" class="Symbol">(</a><a id="3864" href="Ledger.Conway.Transaction.html#4259" class="Field">body</a> <a id="3869" class="Symbol">to</a> <a id="3872" class="Field">txb</a><a id="3875" class="Symbol">)</a>
                        <a id="3901" class="Keyword">open</a> <a id="3906" href="Ledger.Conway.Transaction.html#2714" class="Module">TxBody</a> <a id="3913" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3872" class="Function">txb</a> <a id="3917" class="Keyword">using</a> <a id="3923" class="Symbol">(</a><a id="3924" href="Ledger.Conway.Transaction.html#2948" class="Field">txcerts</a><a id="3931" class="Symbol">))</a>
               <a id="3949" class="Symbol">→</a> <a id="3951" class="Symbol">(</a><a id="3952" href="Ledger.Conway.Transaction.html#4331" class="Field">isValid</a> <a id="3960" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3677" class="Bound">tx</a> <a id="3963" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3965" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3971" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3973" href="Ledger.Conway.Utxo.html#3336" class="Datatype">L.ValidCertDeposits</a> <a id="3993" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3755" class="Function">pp</a> <a id="3996" href="Ledger.Conway.Utxo.html#1498" class="Function">deposits</a> <a id="4005" href="Ledger.Conway.Transaction.html#2948" class="Function">txcerts</a><a id="4012" class="Symbol">)</a>
                 <a id="4031" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="4033" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3673" class="Bound">Γ</a> <a id="4035" href="Ledger.Conway.Conformance.Utxo.html#2529" class="Datatype Operator">C.⊢</a> <a id="4039" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3675" class="Bound">s</a> <a id="4041" href="Ledger.Conway.Conformance.Utxo.html#2529" class="Datatype Operator">⇀⦇</a> <a id="4044" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3677" class="Bound">tx</a> <a id="4047" href="Ledger.Conway.Conformance.Utxo.html#2529" class="Datatype Operator">,UTXO⦈</a> <a id="4054" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3680" class="Bound">s&#39;</a> <a id="4057" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="4060" class="Symbol">λ</a> <a id="4062" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4062" class="Bound">_</a> <a id="4064" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4064" class="Bound">h</a> <a id="4066" class="Symbol">→</a>
                   <a id="4087" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3673" class="Bound">Γ</a> <a id="4089" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">L.⊢</a> <a id="4093" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3675" class="Bound">s</a> <a id="4095" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">⇀⦇</a> <a id="4098" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3677" class="Bound">tx</a> <a id="4101" href="Ledger.Conway.Utxo.html#2035" class="Datatype Operator">,UTXO⦈</a> <a id="4108" class="Symbol">(</a><a id="4109" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#982" class="Function">setDeposits</a> <a id="4121" class="Symbol">(</a><a id="4122" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1855" class="Function">utxoDeposits</a> <a id="4135" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4064" class="Bound">h</a><a id="4136" class="Symbol">)</a> <a id="4138" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3680" class="Bound">s&#39;</a><a id="4140" class="Symbol">)</a>
  <a id="4144" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3655" class="Function">UTXOFromConf</a> <a id="4157" class="Symbol">{</a><a id="4158" class="Argument">s</a> <a id="4160" class="Symbol">=</a> <a id="4162" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4162" class="Bound">s</a><a id="4163" class="Symbol">}</a> <a id="4165" class="Symbol">{</a><a id="4166" class="Argument">tx</a> <a id="4169" class="Symbol">=</a> <a id="4171" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4171" class="Bound">tx</a><a id="4173" class="Symbol">}</a> <a id="4175" class="Symbol">.</a><a id="4176" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4182" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4182" class="Bound">validCerts</a> <a id="4193" class="Symbol">(</a><a id="4194" href="Ledger.Conway.Conformance.Utxo.html#2598" class="InductiveConstructor">C.UTXO-inductive</a> <a id="4211" class="Symbol">(</a><a id="4212" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4212" class="Bound">a</a> <a id="4214" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4216" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4216" class="Bound">b</a> <a id="4218" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4220" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4220" class="Bound">c</a> <a id="4222" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4224" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4224" class="Bound">d</a> <a id="4226" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4228" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4228" class="Bound">e</a> <a id="4230" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4232" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4232" class="Bound">f</a> <a id="4234" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4236" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4236" class="Bound">g</a> <a id="4238" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4240" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4240" class="Bound">r</a> <a id="4242" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4244" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4244" class="Bound">h</a> <a id="4246" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4248" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4248" class="Bound">i</a> <a id="4250" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4252" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4252" class="Bound">j</a> <a id="4254" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4256" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4256" class="Bound">k</a> <a id="4258" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4260" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4260" class="Bound">l</a> <a id="4262" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4264" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4264" class="Bound">m</a> <a id="4266" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4268" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4268" class="Bound">n</a> <a id="4270" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4272" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4272" class="Bound">o</a> <a id="4274" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4276" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4276" class="Bound">p</a> <a id="4278" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4280" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4280" class="Bound">utxo</a><a id="4284" class="Symbol">))</a> <a id="4287" class="Symbol">=</a>
    <a id="4293" href="Ledger.Conway.Utxo.html#12531" class="InductiveConstructor">L.UTXO-inductive</a> <a id="4310" class="Symbol">(</a><a id="4311" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4212" class="Bound">a</a> <a id="4313" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4315" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4216" class="Bound">b</a> <a id="4317" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4319" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4220" class="Bound">c</a> <a id="4321" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4323" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4224" class="Bound">d</a> <a id="4325" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4327" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4228" class="Bound">e</a> <a id="4329" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4331" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4232" class="Bound">f</a> <a id="4333" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4335" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4236" class="Bound">g</a> <a id="4337" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4339" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4240" class="Bound">r</a> <a id="4341" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4343" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4244" class="Bound">h</a> <a id="4345" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4347" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4248" class="Bound">i</a> <a id="4349" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4351" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4252" class="Bound">j</a> <a id="4353" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4355" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4256" class="Bound">k</a> <a id="4357" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4359" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4260" class="Bound">l</a> <a id="4361" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4363" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4264" class="Bound">m</a> <a id="4365" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4367" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4268" class="Bound">n</a> <a id="4369" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4371" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4272" class="Bound">o</a> <a id="4373" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4375" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4276" class="Bound">p</a> <a id="4377" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4379" class="Symbol">(</a><a id="4380" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4182" class="Bound">validCerts</a> <a id="4391" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="4397" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4280" class="Bound">utxo</a><a id="4401" class="Symbol">))</a>

  <a id="UTXOWToConf"></a><a id="4407" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4407" class="Function">UTXOWToConf</a> <a id="4419" class="Symbol">:</a> <a id="4421" class="Symbol">∀</a> <a id="4423" class="Symbol">{</a><a id="4424" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4424" class="Bound">Γ</a> <a id="4426" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4426" class="Bound">s</a> <a id="4428" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4428" class="Bound">tx</a> <a id="4431" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4431" class="Bound">s&#39;</a><a id="4433" class="Symbol">}</a> <a id="4435" class="Symbol">→</a> <a id="4437" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4424" class="Bound">Γ</a> <a id="4439" href="Ledger.Conway.Utxow.html#2667" class="Datatype Operator">L.⊢</a> <a id="4443" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4426" class="Bound">s</a> <a id="4445" href="Ledger.Conway.Utxow.html#2667" class="Datatype Operator">⇀⦇</a> <a id="4448" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4428" class="Bound">tx</a> <a id="4451" href="Ledger.Conway.Utxow.html#2667" class="Datatype Operator">,UTXOW⦈</a> <a id="4459" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4431" class="Bound">s&#39;</a> <a id="4462" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="4464" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4424" class="Bound">Γ</a> <a id="4466" href="Ledger.Conway.Conformance.Utxow.html#596" class="Datatype Operator">C.⊢</a> <a id="4470" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4426" class="Bound">s</a> <a id="4472" href="Ledger.Conway.Conformance.Utxow.html#596" class="Datatype Operator">⇀⦇</a> <a id="4475" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4428" class="Bound">tx</a> <a id="4478" href="Ledger.Conway.Conformance.Utxow.html#596" class="Datatype Operator">,UTXOW⦈</a> <a id="4486" class="Symbol">(</a><a id="4487" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1104" class="Function">withDepositsFrom</a> <a id="4504" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4426" class="Bound">s</a> <a id="4506" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4431" class="Bound">s&#39;</a><a id="4508" class="Symbol">)</a>
  <a id="4512" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4407" class="Function">UTXOWToConf</a> <a id="4524" class="Symbol">.</a><a id="4525" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4531" class="Symbol">_</a> <a id="4533" class="Symbol">(</a><a id="4534" href="Ledger.Conway.Utxow.html#4679" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="4553" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4553" class="Bound">a</a> <a id="4555" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4555" class="Bound">b</a> <a id="4557" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4557" class="Bound">c</a> <a id="4559" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4559" class="Bound">d</a> <a id="4561" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4561" class="Bound">e</a> <a id="4563" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4563" class="Bound">f</a> <a id="4565" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4565" class="Bound">g</a> <a id="4567" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4567" class="Bound">h</a> <a id="4569" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4569" class="Bound">utxo</a><a id="4573" class="Symbol">)</a> <a id="4575" class="Symbol">=</a>
    <a id="4581" href="Ledger.Conway.Conformance.Utxow.html#2326" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="4600" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4553" class="Bound">a</a> <a id="4602" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4555" class="Bound">b</a> <a id="4604" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4557" class="Bound">c</a> <a id="4606" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4559" class="Bound">d</a> <a id="4608" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4561" class="Bound">e</a> <a id="4610" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4563" class="Bound">f</a> <a id="4612" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4565" class="Bound">g</a> <a id="4614" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4567" class="Bound">h</a> <a id="4616" class="Symbol">(</a><a id="4617" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="4622" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4569" class="Bound">utxo</a><a id="4626" class="Symbol">)</a>

  <a id="UTXOWFromConf"></a><a id="4631" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4631" class="Function">UTXOWFromConf</a> <a id="4645" class="Symbol">:</a> <a id="4647" class="Symbol">∀</a> <a id="4649" class="Symbol">{</a><a id="4650" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4650" class="Bound">Γ</a> <a id="4652" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4652" class="Bound">s</a> <a id="4654" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4654" class="Bound">tx</a> <a id="4657" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4657" class="Bound">s&#39;</a><a id="4659" class="Symbol">}</a>
                    <a id="4681" class="Symbol">(</a><a id="4682" class="Keyword">let</a> <a id="4686" class="Keyword">open</a> <a id="4691" href="Ledger.Conway.Utxo.html#1038" class="Module">L.UTxOEnv</a> <a id="4701" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4650" class="Bound">Γ</a> <a id="4703" class="Keyword">using</a> <a id="4709" class="Symbol">()</a> <a id="4712" class="Keyword">renaming</a> <a id="4721" class="Symbol">(</a><a id="4722" href="Ledger.Conway.Utxo.html#1092" class="Field">pparams</a> <a id="4730" class="Symbol">to</a> <a id="4733" class="Field">pp</a><a id="4735" class="Symbol">)</a>
                         <a id="4762" class="Keyword">open</a> <a id="4767" href="Ledger.Conway.Utxo.html#1390" class="Module">L.UTxOState</a> <a id="4779" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4652" class="Bound">s</a> <a id="4781" class="Keyword">using</a> <a id="4787" class="Symbol">(</a><a id="4788" href="Ledger.Conway.Utxo.html#1498" class="Field">deposits</a><a id="4796" class="Symbol">)</a>
                         <a id="4823" class="Keyword">open</a> <a id="4828" href="Ledger.Conway.Transaction.html#4227" class="Module">Tx</a> <a id="4831" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4654" class="Bound">tx</a> <a id="4834" class="Keyword">renaming</a> <a id="4843" class="Symbol">(</a><a id="4844" href="Ledger.Conway.Transaction.html#4259" class="Field">body</a> <a id="4849" class="Symbol">to</a> <a id="4852" class="Field">txb</a><a id="4855" class="Symbol">)</a>
                         <a id="4882" class="Keyword">open</a> <a id="4887" href="Ledger.Conway.Transaction.html#2714" class="Module">TxBody</a> <a id="4894" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4852" class="Function">txb</a> <a id="4898" class="Keyword">using</a> <a id="4904" class="Symbol">(</a><a id="4905" href="Ledger.Conway.Transaction.html#2948" class="Field">txcerts</a><a id="4912" class="Symbol">))</a>
                <a id="4931" class="Symbol">→</a> <a id="4933" class="Symbol">(</a><a id="4934" href="Ledger.Conway.Transaction.html#4331" class="Field">isValid</a> <a id="4942" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4654" class="Bound">tx</a> <a id="4945" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4947" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="4953" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="4955" href="Ledger.Conway.Utxo.html#3336" class="Datatype">L.ValidCertDeposits</a> <a id="4975" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4733" class="Function">pp</a> <a id="4978" href="Ledger.Conway.Utxo.html#1498" class="Function">deposits</a> <a id="4987" href="Ledger.Conway.Transaction.html#2948" class="Function">txcerts</a><a id="4994" class="Symbol">)</a>
                  <a id="5014" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="5016" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4650" class="Bound">Γ</a> <a id="5018" href="Ledger.Conway.Conformance.Utxow.html#596" class="Datatype Operator">C.⊢</a> <a id="5022" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4652" class="Bound">s</a> <a id="5024" href="Ledger.Conway.Conformance.Utxow.html#596" class="Datatype Operator">⇀⦇</a> <a id="5027" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4654" class="Bound">tx</a> <a id="5030" href="Ledger.Conway.Conformance.Utxow.html#596" class="Datatype Operator">,UTXOW⦈</a> <a id="5038" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4657" class="Bound">s&#39;</a> <a id="5041" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="5044" class="Symbol">λ</a> <a id="5046" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5046" class="Bound">_</a> <a id="5048" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5048" class="Bound">h</a> <a id="5050" class="Symbol">→</a>
                    <a id="5072" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4650" class="Bound">Γ</a> <a id="5074" href="Ledger.Conway.Utxow.html#2667" class="Datatype Operator">L.⊢</a> <a id="5078" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4652" class="Bound">s</a> <a id="5080" href="Ledger.Conway.Utxow.html#2667" class="Datatype Operator">⇀⦇</a> <a id="5083" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4654" class="Bound">tx</a> <a id="5086" href="Ledger.Conway.Utxow.html#2667" class="Datatype Operator">,UTXOW⦈</a> <a id="5094" class="Symbol">(</a><a id="5095" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#982" class="Function">setDeposits</a> <a id="5107" class="Symbol">(</a><a id="5108" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2005" class="Function">utxowDeposits</a> <a id="5122" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5048" class="Bound">h</a><a id="5123" class="Symbol">)</a> <a id="5125" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4657" class="Bound">s&#39;</a><a id="5127" class="Symbol">)</a>  <a id="5130" class="Comment">-- Conformance doesn&#39;t update deposits in UTXOW</a>
  <a id="5180" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4631" class="Function">UTXOWFromConf</a> <a id="5194" class="Symbol">.</a><a id="5195" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5201" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5201" class="Bound">validCerts</a> <a id="5212" class="Symbol">(</a><a id="5213" href="Ledger.Conway.Conformance.Utxow.html#2326" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="5232" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5232" class="Bound">a</a> <a id="5234" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5234" class="Bound">b</a> <a id="5236" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5236" class="Bound">c</a> <a id="5238" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5238" class="Bound">d</a> <a id="5240" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5240" class="Bound">e</a> <a id="5242" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5242" class="Bound">f</a> <a id="5244" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5244" class="Bound">g</a> <a id="5246" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5246" class="Bound">h</a> <a id="5248" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5248" class="Bound">utxo</a><a id="5252" class="Symbol">)</a> <a id="5254" class="Symbol">=</a>
    <a id="5260" href="Ledger.Conway.Utxow.html#4679" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="5279" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5232" class="Bound">a</a> <a id="5281" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5234" class="Bound">b</a> <a id="5283" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5236" class="Bound">c</a> <a id="5285" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5238" class="Bound">d</a> <a id="5287" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5240" class="Bound">e</a> <a id="5289" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5242" class="Bound">f</a> <a id="5291" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5244" class="Bound">g</a> <a id="5293" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5246" class="Bound">h</a> <a id="5295" class="Symbol">(</a><a id="5296" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5201" class="Bound">validCerts</a> <a id="5307" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5313" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5248" class="Bound">utxo</a><a id="5317" class="Symbol">)</a>
</pre></body></html>