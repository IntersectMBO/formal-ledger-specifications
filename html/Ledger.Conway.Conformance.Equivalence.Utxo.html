<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Equivalence.Utxo</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="74" class="Keyword">open</a> <a id="79" class="Keyword">import</a> <a id="86" href="Ledger.Core.Specification.Transaction.html" class="Module">Ledger.Core.Specification.Transaction</a>

<a id="125" class="Keyword">module</a> <a id="132" href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="Module">Ledger.Conway.Conformance.Equivalence.Utxo</a>
  <a id="177" class="Symbol">(</a><a id="178" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#178" class="Bound">txs</a> <a id="182" class="Symbol">:</a> <a id="184" href="Ledger.Core.Specification.Transaction.html#896" class="Record">TransactionStructure</a><a id="204" class="Symbol">)</a> <a id="206" class="Symbol">(</a><a id="207" class="Keyword">open</a> <a id="212" href="Ledger.Core.Specification.Transaction.html#896" class="Module">TransactionStructure</a> <a id="233" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#178" class="Bound">txs</a><a id="236" class="Symbol">)</a>
  <a id="240" class="Symbol">(</a><a id="241" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#241" class="Bound">abs</a> <a id="245" class="Symbol">:</a> <a id="247" href="Ledger.Conway.Specification.Abstract.html#653" class="Record">AbstractFunctions</a> <a id="265" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#178" class="Bound">txs</a><a id="268" class="Symbol">)</a>
  <a id="272" class="Keyword">where</a>

<a id="279" class="Keyword">open</a> <a id="284" class="Keyword">import</a> <a id="291" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="301" class="Keyword">using</a> <a id="307" class="Symbol">(</a><a id="308" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="309" class="Symbol">)</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Data.Product.html" class="Module">Data.Product</a> <a id="336" class="Keyword">using</a> <a id="342" class="Symbol">(</a><a id="343" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="346" class="Symbol">;</a> <a id="348" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="351" class="Symbol">)</a>
<a id="353" class="Keyword">open</a> <a id="358" class="Keyword">import</a> <a id="365" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="382" class="Keyword">using</a> <a id="388" class="Symbol">(</a><a id="389" href="Function.Bundles.html#12398" class="Function Operator">_⇔_</a><a id="392" class="Symbol">;</a> <a id="394" href="Function.Bundles.html#13497" class="Function">mk⇔</a><a id="397" class="Symbol">;</a> <a id="399" href="Function.Bundles.html#4750" class="Record">Equivalence</a><a id="410" class="Symbol">)</a>
<a id="412" class="Keyword">open</a> <a id="417" class="Keyword">import</a> <a id="424" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="463" class="Keyword">open</a> <a id="468" class="Keyword">import</a> <a id="475" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="491" class="Keyword">open</a> <a id="496" class="Keyword">import</a> <a id="503" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>

<a id="550" class="Keyword">open</a> <a id="555" class="Keyword">import</a> <a id="562" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="602" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#178" class="Bound">txs</a> <a id="606" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#241" class="Bound">abs</a>

<a id="611" class="Keyword">open</a> <a id="616" href="Relation.Binary.PropositionalEquality.Properties.html#6850" class="Module">≡-Reasoning</a>

<a id="629" class="Keyword">private</a>
  <a id="639" class="Keyword">module</a> <a id="L"></a><a id="646" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#646" class="Module">L</a> <a id="648" class="Keyword">where</a>
    <a id="658" class="Keyword">open</a> <a id="663" class="Keyword">import</a> <a id="670" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="703" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#178" class="Bound">txs</a> <a id="707" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#241" class="Bound">abs</a> <a id="711" class="Keyword">public</a>
    <a id="722" class="Keyword">open</a> <a id="727" class="Keyword">import</a> <a id="734" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="768" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#178" class="Bound">txs</a> <a id="772" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#241" class="Bound">abs</a> <a id="776" class="Keyword">public</a>
    <a id="787" class="Keyword">open</a> <a id="792" class="Keyword">import</a> <a id="799" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="833" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a> <a id="846" class="Keyword">public</a>

  <a id="856" class="Keyword">module</a> <a id="C"></a><a id="863" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#863" class="Module">C</a> <a id="865" class="Keyword">where</a>
    <a id="875" class="Keyword">open</a> <a id="880" class="Keyword">import</a> <a id="887" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="918" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#178" class="Bound">txs</a> <a id="922" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#241" class="Bound">abs</a> <a id="926" class="Keyword">public</a>
    <a id="937" class="Keyword">open</a> <a id="942" class="Keyword">import</a> <a id="949" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="981" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#178" class="Bound">txs</a> <a id="985" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#241" class="Bound">abs</a> <a id="989" class="Keyword">public</a>
    <a id="1000" class="Keyword">open</a> <a id="1005" class="Keyword">import</a> <a id="1012" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="1044" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a> <a id="1057" class="Keyword">public</a>

<a id="1065" class="Keyword">open</a> <a id="1070" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a>

<a id="setDeposits"></a><a id="1074" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1074" class="Function">setDeposits</a> <a id="1086" class="Symbol">:</a> <a id="1088" href="Ledger.Conway.Specification.Certs.html#802" class="Function">L.Deposits</a> <a id="1099" class="Symbol">→</a> <a id="1101" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">L.UTxOState</a> <a id="1113" class="Symbol">→</a> <a id="1115" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">L.UTxOState</a>
<a id="1127" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1074" class="Function">setDeposits</a> <a id="1139" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1139" class="Bound">deposits</a> <a id="1148" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1148" class="Bound">utxoSt</a> <a id="1155" class="Symbol">=</a> <a id="1157" class="Keyword">record</a> <a id="1164" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1148" class="Bound">utxoSt</a> <a id="1171" class="Symbol">{</a> <a id="1173" href="Ledger.Conway.Specification.Utxo.html#1416" class="Field">deposits</a> <a id="1182" class="Symbol">=</a> <a id="1184" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1139" class="Bound">deposits</a> <a id="1193" class="Symbol">}</a>

<a id="withDepositsFrom"></a><a id="1196" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1196" class="Function">withDepositsFrom</a> <a id="1213" class="Symbol">:</a> <a id="1215" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">L.UTxOState</a> <a id="1227" class="Symbol">→</a> <a id="1229" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">L.UTxOState</a> <a id="1241" class="Symbol">→</a> <a id="1243" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">L.UTxOState</a>
<a id="1255" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1196" class="Function">withDepositsFrom</a> <a id="1272" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1272" class="Bound">utxoSt</a> <a id="1279" class="Symbol">=</a> <a id="1281" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1074" class="Function">setDeposits</a> <a id="1293" class="Symbol">(</a><a id="1294" href="Ledger.Conway.Specification.Utxo.html#1416" class="Field">L.UTxOState.deposits</a> <a id="1315" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1272" class="Bound">utxoSt</a><a id="1321" class="Symbol">)</a>

<a id="1324" class="Keyword">instance</a>

  <a id="UTXOSToConf"></a><a id="1336" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1336" class="Function">UTXOSToConf</a> <a id="1348" class="Symbol">:</a> <a id="1350" class="Symbol">∀</a> <a id="1352" class="Symbol">{</a><a id="1353" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1353" class="Bound">Γ</a> <a id="1355" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1355" class="Bound">s</a> <a id="1357" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1357" class="Bound">tx</a> <a id="1360" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1360" class="Bound">s&#39;</a><a id="1362" class="Symbol">}</a> <a id="1364" class="Symbol">→</a> <a id="1366" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1353" class="Bound">Γ</a> <a id="1368" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">L.⊢</a> <a id="1372" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1355" class="Bound">s</a> <a id="1374" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">⇀⦇</a> <a id="1377" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1357" class="Bound">tx</a> <a id="1380" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">,UTXOS⦈</a> <a id="1388" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1360" class="Bound">s&#39;</a> <a id="1391" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="1393" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1353" class="Bound">Γ</a> <a id="1395" href="Ledger.Conway.Conformance.Utxo.html#1163" class="Datatype Operator">C.⊢</a> <a id="1399" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1355" class="Bound">s</a> <a id="1401" href="Ledger.Conway.Conformance.Utxo.html#1163" class="Datatype Operator">⇀⦇</a> <a id="1404" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1357" class="Bound">tx</a> <a id="1407" href="Ledger.Conway.Conformance.Utxo.html#1163" class="Datatype Operator">,UTXOS⦈</a> <a id="1415" class="Symbol">(</a><a id="1416" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1196" class="Function">withDepositsFrom</a> <a id="1433" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1355" class="Bound">s</a> <a id="1435" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1360" class="Bound">s&#39;</a><a id="1437" class="Symbol">)</a>
  <a id="1441" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1336" class="Function">UTXOSToConf</a> <a id="1453" class="Symbol">.</a><a id="1454" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1460" class="Symbol">_</a> <a id="1462" class="Symbol">(</a><a id="1463" href="Ledger.Conway.Specification.Utxo.html#11606" class="InductiveConstructor">L.Scripts-Yes</a> <a id="1477" class="Symbol">(</a><a id="1478" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1478" class="Bound">certsValid</a> <a id="1489" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1491" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1491" class="Bound">eval</a> <a id="1496" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1498" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1498" class="Bound">txValid</a><a id="1505" class="Symbol">))</a> <a id="1508" class="Symbol">=</a> <a id="1510" href="Ledger.Conway.Conformance.Utxo.html#1232" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1524" class="Symbol">(</a><a id="1525" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1491" class="Bound">eval</a> <a id="1530" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1532" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1498" class="Bound">txValid</a><a id="1539" class="Symbol">)</a>
  <a id="1543" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1336" class="Function">UTXOSToConf</a> <a id="1555" class="Symbol">.</a><a id="1556" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1562" class="Symbol">_</a> <a id="1564" class="Symbol">(</a><a id="1565" href="Ledger.Conway.Specification.Utxo.html#12124" class="InductiveConstructor">L.Scripts-No</a> <a id="1578" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1578" class="Bound">h</a><a id="1579" class="Symbol">)</a>                              <a id="1610" class="Symbol">=</a> <a id="1612" href="Ledger.Conway.Conformance.Utxo.html#1827" class="InductiveConstructor">C.Scripts-No</a> <a id="1625" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1578" class="Bound">h</a>

<a id="1628" class="Keyword">module</a> <a id="1635" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1635" class="Module">_</a> <a id="1637" class="Symbol">{</a><a id="1638" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1638" class="Bound">Γ</a> <a id="1640" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1640" class="Bound">s</a> <a id="1642" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1642" class="Bound">tx</a> <a id="1645" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1645" class="Bound">s&#39;</a><a id="1647" class="Symbol">}</a> <a id="1649" class="Keyword">where</a>
  <a id="1657" class="Keyword">open</a> <a id="1662" href="Ledger.Conway.Specification.Utxo.html#1199" class="Module">L.UTxOEnv</a> <a id="1672" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1638" class="Bound">Γ</a> <a id="1674" class="Keyword">renaming</a> <a id="1683" class="Symbol">(</a><a id="1684" href="Ledger.Conway.Specification.Utxo.html#1253" class="Field">pparams</a> <a id="1692" class="Symbol">to</a> <a id="1695" class="Field">pp</a><a id="1697" class="Symbol">)</a>
  <a id="1701" class="Keyword">open</a> <a id="1706" href="Ledger.Conway.Specification.Utxo.html#1308" class="Module">L.UTxOState</a> <a id="1718" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1640" class="Bound">s</a> <a id="1720" class="Keyword">using</a> <a id="1726" class="Symbol">(</a><a id="1727" href="Ledger.Conway.Specification.Utxo.html#1416" class="Field">deposits</a><a id="1735" class="Symbol">)</a>
  <a id="1739" class="Keyword">open</a> <a id="1744" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a> <a id="1747" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1642" class="Bound">tx</a> <a id="1750" class="Keyword">renaming</a> <a id="1759" class="Symbol">(</a><a id="1760" href="Ledger.Conway.Specification.Transaction.html#1749" class="Field">body</a> <a id="1765" class="Symbol">to</a> <a id="1768" class="Field">txb</a><a id="1771" class="Symbol">)</a>

  <a id="1776" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1776" class="Function">utxoSDeposits</a> <a id="1790" class="Symbol">:</a> <a id="1792" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1638" class="Bound">Γ</a> <a id="1794" href="Ledger.Conway.Conformance.Utxo.html#1163" class="Datatype Operator">C.⊢</a> <a id="1798" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1640" class="Bound">s</a> <a id="1800" href="Ledger.Conway.Conformance.Utxo.html#1163" class="Datatype Operator">⇀⦇</a> <a id="1803" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1642" class="Bound">tx</a> <a id="1806" href="Ledger.Conway.Conformance.Utxo.html#1163" class="Datatype Operator">,UTXOS⦈</a> <a id="1814" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1645" class="Bound">s&#39;</a> <a id="1817" class="Symbol">→</a> <a id="1819" href="Ledger.Conway.Specification.Certs.html#802" class="Function">L.Deposits</a>
  <a id="1832" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1776" class="Function">utxoSDeposits</a> <a id="1846" class="Symbol">(</a><a id="1847" href="Ledger.Conway.Conformance.Utxo.html#1232" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1861" class="Symbol">_)</a> <a id="1864" class="Symbol">=</a> <a id="1866" href="Ledger.Conway.Specification.Utxo.html#8190" class="Function">L.updateDeposits</a> <a id="1883" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1695" class="Function">pp</a> <a id="1886" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1768" class="Function">txb</a> <a id="1890" href="Ledger.Conway.Specification.Utxo.html#1416" class="Function">deposits</a>
  <a id="1901" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1776" class="Function">utxoSDeposits</a> <a id="1915" class="Symbol">(</a><a id="1916" href="Ledger.Conway.Conformance.Utxo.html#1827" class="InductiveConstructor">C.Scripts-No</a>  <a id="1930" class="Symbol">_)</a> <a id="1933" class="Symbol">=</a> <a id="1935" href="Ledger.Conway.Specification.Utxo.html#1416" class="Function">deposits</a>

  <a id="1947" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1947" class="Function">utxoDeposits</a> <a id="1960" class="Symbol">:</a> <a id="1962" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1638" class="Bound">Γ</a> <a id="1964" href="Ledger.Conway.Conformance.Utxo.html#2612" class="Datatype Operator">C.⊢</a> <a id="1968" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1640" class="Bound">s</a> <a id="1970" href="Ledger.Conway.Conformance.Utxo.html#2612" class="Datatype Operator">⇀⦇</a> <a id="1973" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1642" class="Bound">tx</a> <a id="1976" href="Ledger.Conway.Conformance.Utxo.html#2612" class="Datatype Operator">,UTXO⦈</a> <a id="1983" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1645" class="Bound">s&#39;</a> <a id="1986" class="Symbol">→</a> <a id="1988" href="Ledger.Conway.Specification.Certs.html#802" class="Function">L.Deposits</a>
  <a id="2001" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1947" class="Function">utxoDeposits</a> <a id="2014" class="Symbol">(</a><a id="2015" href="Ledger.Conway.Conformance.Utxo.html#3947" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2033" class="Symbol">_</a> <a id="2035" class="Symbol">_</a> <a id="2037" class="Symbol">_</a> <a id="2039" class="Symbol">_</a> <a id="2041" class="Symbol">_</a> <a id="2043" class="Symbol">_</a> <a id="2045" class="Symbol">_</a> <a id="2047" class="Symbol">_</a> <a id="2049" class="Symbol">_</a> <a id="2051" class="Symbol">_</a> <a id="2053" class="Symbol">_</a> <a id="2055" class="Symbol">_</a> <a id="2057" class="Symbol">_</a> <a id="2059" class="Symbol">_</a> <a id="2061" class="Symbol">_</a> <a id="2063" class="Symbol">_</a> <a id="2065" class="Symbol">_</a> <a id="2067" class="Symbol">_</a> <a id="2069" class="Symbol">_</a> <a id="2071" class="Symbol">_</a> <a id="2073" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2073" class="Bound">h</a><a id="2074" class="Symbol">)</a> <a id="2076" class="Symbol">=</a> <a id="2078" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1776" class="Function">utxoSDeposits</a> <a id="2092" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2073" class="Bound">h</a>

  <a id="2097" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2097" class="Function">utxowDeposits</a> <a id="2111" class="Symbol">:</a> <a id="2113" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1638" class="Bound">Γ</a> <a id="2115" href="Ledger.Conway.Conformance.Utxow.html#769" class="Datatype Operator">C.⊢</a> <a id="2119" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1640" class="Bound">s</a> <a id="2121" href="Ledger.Conway.Conformance.Utxow.html#769" class="Datatype Operator">⇀⦇</a> <a id="2124" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1642" class="Bound">tx</a> <a id="2127" href="Ledger.Conway.Conformance.Utxow.html#769" class="Datatype Operator">,UTXOW⦈</a> <a id="2135" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1645" class="Bound">s&#39;</a> <a id="2138" class="Symbol">→</a> <a id="2140" href="Ledger.Conway.Specification.Certs.html#802" class="Function">L.Deposits</a>
  <a id="2153" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2097" class="Function">utxowDeposits</a> <a id="2167" class="Symbol">(</a><a id="2168" href="Ledger.Conway.Conformance.Utxow.html#2499" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="2187" class="Symbol">_</a> <a id="2189" class="Symbol">_</a> <a id="2191" class="Symbol">_</a> <a id="2193" class="Symbol">_</a> <a id="2195" class="Symbol">_</a> <a id="2197" class="Symbol">_</a> <a id="2199" class="Symbol">_</a> <a id="2201" class="Symbol">_</a> <a id="2203" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2203" class="Bound">h</a><a id="2204" class="Symbol">)</a> <a id="2206" class="Symbol">=</a> <a id="2208" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1947" class="Function">utxoDeposits</a> <a id="2221" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2203" class="Bound">h</a>

<a id="2224" class="Keyword">instance</a>
  <a id="2235" class="Comment">-- Here we pass in the ValidCertDeposits proof explicitly and</a>
  <a id="2299" class="Comment">-- override the deposits in s&#39; with updateDeposits (in case of</a>
  <a id="2364" class="Comment">-- Scripts-Yes).</a>
  <a id="UTXOSFromConf"></a><a id="2383" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2383" class="Function">UTXOSFromConf</a> <a id="2397" class="Symbol">:</a> <a id="2399" class="Symbol">∀</a> <a id="2401" class="Symbol">{</a><a id="2402" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2402" class="Bound">Γ</a> <a id="2404" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2404" class="Bound">s</a> <a id="2406" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2406" class="Bound">tx</a> <a id="2409" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2409" class="Bound">s&#39;</a><a id="2411" class="Symbol">}</a>
                    <a id="2433" class="Symbol">(</a><a id="2434" class="Keyword">let</a> <a id="2438" class="Keyword">open</a> <a id="2443" href="Ledger.Conway.Specification.Utxo.html#1199" class="Module">L.UTxOEnv</a> <a id="2453" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2402" class="Bound">Γ</a> <a id="2455" class="Keyword">using</a> <a id="2461" class="Symbol">()</a> <a id="2464" class="Keyword">renaming</a> <a id="2473" class="Symbol">(</a><a id="2474" href="Ledger.Conway.Specification.Utxo.html#1253" class="Field">pparams</a> <a id="2482" class="Symbol">to</a> <a id="2485" class="Field">pp</a><a id="2487" class="Symbol">)</a>
                         <a id="2514" class="Keyword">open</a> <a id="2519" href="Ledger.Conway.Specification.Utxo.html#1308" class="Module">L.UTxOState</a> <a id="2531" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2404" class="Bound">s</a> <a id="2533" class="Keyword">using</a> <a id="2539" class="Symbol">(</a><a id="2540" href="Ledger.Conway.Specification.Utxo.html#1416" class="Field">deposits</a><a id="2548" class="Symbol">)</a>
                         <a id="2575" class="Keyword">open</a> <a id="2580" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a> <a id="2583" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2406" class="Bound">tx</a> <a id="2586" class="Keyword">renaming</a> <a id="2595" class="Symbol">(</a><a id="2596" href="Ledger.Conway.Specification.Transaction.html#1749" class="Field">body</a> <a id="2601" class="Symbol">to</a> <a id="2604" class="Field">txb</a><a id="2607" class="Symbol">)</a>
                         <a id="2634" class="Keyword">open</a> <a id="2639" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a> <a id="2646" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2604" class="Function">txb</a> <a id="2650" class="Keyword">using</a> <a id="2656" class="Symbol">(</a><a id="2657" href="Ledger.Conway.Specification.Transaction.html#556" class="Field">txCerts</a><a id="2664" class="Symbol">))</a>
                <a id="2683" class="Symbol">→</a> <a id="2685" class="Symbol">(</a><a id="2686" href="Ledger.Conway.Specification.Transaction.html#1815" class="Field">isValid</a> <a id="2694" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2406" class="Bound">tx</a> <a id="2697" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2699" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2705" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2707" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">L.ValidCertDeposits</a> <a id="2727" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2485" class="Function">pp</a> <a id="2730" href="Ledger.Conway.Specification.Utxo.html#1416" class="Function">deposits</a> <a id="2739" href="Ledger.Conway.Specification.Transaction.html#556" class="Function">txCerts</a><a id="2746" class="Symbol">)</a>
                  <a id="2766" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="2768" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2402" class="Bound">Γ</a> <a id="2770" href="Ledger.Conway.Conformance.Utxo.html#1163" class="Datatype Operator">C.⊢</a> <a id="2774" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2404" class="Bound">s</a> <a id="2776" href="Ledger.Conway.Conformance.Utxo.html#1163" class="Datatype Operator">⇀⦇</a> <a id="2779" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2406" class="Bound">tx</a> <a id="2782" href="Ledger.Conway.Conformance.Utxo.html#1163" class="Datatype Operator">,UTXOS⦈</a> <a id="2790" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2409" class="Bound">s&#39;</a> <a id="2793" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="2796" class="Symbol">λ</a> <a id="2798" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2798" class="Bound">_</a> <a id="2800" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2800" class="Bound">h</a> <a id="2802" class="Symbol">→</a>
                    <a id="2824" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2402" class="Bound">Γ</a> <a id="2826" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">L.⊢</a> <a id="2830" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2404" class="Bound">s</a> <a id="2832" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">⇀⦇</a> <a id="2835" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2406" class="Bound">tx</a> <a id="2838" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">,UTXOS⦈</a> <a id="2846" class="Symbol">(</a><a id="2847" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1074" class="Function">setDeposits</a> <a id="2859" class="Symbol">(</a><a id="2860" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1776" class="Function">utxoSDeposits</a> <a id="2874" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2800" class="Bound">h</a><a id="2875" class="Symbol">)</a> <a id="2877" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2409" class="Bound">s&#39;</a><a id="2879" class="Symbol">)</a>
  <a id="2883" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2383" class="Function">UTXOSFromConf</a> <a id="2897" class="Symbol">.</a><a id="2898" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2904" class="Symbol">(</a><a id="2905" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2910" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2914" class="Symbol">)</a>       <a id="2922" class="Symbol">(</a><a id="2923" href="Ledger.Conway.Conformance.Utxo.html#1232" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2937" class="Symbol">(</a><a id="2938" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2938" class="Bound">eval</a> <a id="2943" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2945" class="Symbol">()))</a>
  <a id="2952" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2383" class="Function">UTXOSFromConf</a> <a id="2966" class="Symbol">.</a><a id="2967" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2973" class="Symbol">(</a><a id="2974" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2979" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2979" class="Bound">validCerts</a><a id="2989" class="Symbol">)</a> <a id="2991" class="Symbol">(</a><a id="2992" href="Ledger.Conway.Conformance.Utxo.html#1232" class="InductiveConstructor">C.Scripts-Yes</a> <a id="3006" class="Symbol">(</a><a id="3007" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3007" class="Bound">eval</a> <a id="3012" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3014" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3014" class="Bound">txValid</a><a id="3021" class="Symbol">))</a> <a id="3024" class="Symbol">=</a> <a id="3026" href="Ledger.Conway.Specification.Utxo.html#11606" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3040" class="Symbol">(</a><a id="3041" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2979" class="Bound">validCerts</a> <a id="3052" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3054" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3007" class="Bound">eval</a> <a id="3059" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3061" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3014" class="Bound">txValid</a><a id="3068" class="Symbol">)</a>
  <a id="3072" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2383" class="CatchallClause Function">UTXOSFromConf</a><a id="3085" class="CatchallClause"> </a><a id="3086" class="CatchallClause Symbol">.</a><a id="3087" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="CatchallClause Field">convⁱ</a><a id="3092" class="CatchallClause"> </a><a id="3093" class="CatchallClause Symbol">_</a><a id="3094" class="CatchallClause"> </a><a id="3095" class="CatchallClause Symbol">(</a><a id="3096" href="Ledger.Conway.Conformance.Utxo.html#1827" class="CatchallClause InductiveConstructor">C.Scripts-No</a><a id="3108" class="CatchallClause"> </a><a id="3109" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3109" class="CatchallClause Bound">h</a><a id="3110" class="CatchallClause Symbol">)</a> <a id="3112" class="Symbol">=</a> <a id="3114" href="Ledger.Conway.Specification.Utxo.html#12124" class="InductiveConstructor">L.Scripts-No</a> <a id="3127" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3109" class="Bound">h</a>

<a id="3130" class="Keyword">instance</a>
  <a id="3141" class="Comment">-- It&#39;s a little weird that UTXO still has a bunch of preconditions</a>
  <a id="3211" class="Comment">-- for consumed and produced (using updateDeposits) when the</a>
  <a id="3274" class="Comment">-- deposits don&#39;t change! Why are they even part of the UTxOState?</a>
  <a id="3343" class="Comment">-- In conformance the update happens in GOVCERT (under CERT).</a>
  <a id="UTXOToConf"></a><a id="3407" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3407" class="Function">UTXOToConf</a> <a id="3418" class="Symbol">:</a> <a id="3420" class="Symbol">∀</a> <a id="3422" class="Symbol">{</a><a id="3423" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3423" class="Bound">Γ</a> <a id="3425" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3425" class="Bound">s</a> <a id="3427" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3427" class="Bound">tx</a> <a id="3430" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3430" class="Bound">s&#39;</a><a id="3432" class="Symbol">}</a> <a id="3434" class="Symbol">→</a> <a id="3436" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3423" class="Bound">Γ</a> <a id="3438" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">L.⊢</a> <a id="3442" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3425" class="Bound">s</a> <a id="3444" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">⇀⦇</a> <a id="3447" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3427" class="Bound">tx</a> <a id="3450" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">,UTXO⦈</a> <a id="3457" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3430" class="Bound">s&#39;</a> <a id="3460" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="3462" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3423" class="Bound">Γ</a> <a id="3464" href="Ledger.Conway.Conformance.Utxo.html#2612" class="Datatype Operator">C.⊢</a> <a id="3468" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3425" class="Bound">s</a> <a id="3470" href="Ledger.Conway.Conformance.Utxo.html#2612" class="Datatype Operator">⇀⦇</a> <a id="3473" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3427" class="Bound">tx</a> <a id="3476" href="Ledger.Conway.Conformance.Utxo.html#2612" class="Datatype Operator">,UTXO⦈</a> <a id="3483" class="Symbol">(</a><a id="3484" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1196" class="Function">withDepositsFrom</a> <a id="3501" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3425" class="Bound">s</a> <a id="3503" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3430" class="Bound">s&#39;</a><a id="3505" class="Symbol">)</a>
  <a id="3509" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3407" class="Function">UTXOToConf</a> <a id="3520" class="Symbol">{</a><a id="3521" class="Argument">s</a> <a id="3523" class="Symbol">=</a> <a id="3525" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3525" class="Bound">s</a><a id="3526" class="Symbol">}</a> <a id="3528" class="Symbol">{</a><a id="3529" class="Argument">tx</a> <a id="3532" class="Symbol">=</a> <a id="3534" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3534" class="Bound">tx</a><a id="3536" class="Symbol">}</a> <a id="3538" class="Symbol">.</a><a id="3539" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="3545" class="Symbol">_</a> <a id="3547" class="Symbol">(</a><a id="3548" href="Ledger.Conway.Specification.Utxo.html#12786" class="InductiveConstructor">L.UTXO-inductive</a> <a id="3565" class="Symbol">(</a><a id="3566" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3566" class="Bound">a</a> <a id="3568" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3570" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3570" class="Bound">b</a> <a id="3572" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3574" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3574" class="Bound">c</a> <a id="3576" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3578" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3578" class="Bound">d</a> <a id="3580" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3582" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3582" class="Bound">e</a> <a id="3584" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3586" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3586" class="Bound">f</a> <a id="3588" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3590" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3590" class="Bound">g</a> <a id="3592" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3594" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3594" class="Bound">r</a> <a id="3596" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3598" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3598" class="Bound">h</a> <a id="3600" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3602" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3602" class="Bound">i</a> <a id="3604" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3606" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3606" class="Bound">j</a> <a id="3608" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3610" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3610" class="Bound">k</a> <a id="3612" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3614" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3614" class="Bound">l</a> <a id="3616" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3618" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3618" class="Bound">m</a> <a id="3620" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3622" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3622" class="Bound">n</a> <a id="3624" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3626" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3626" class="Bound">o</a> <a id="3628" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3630" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3630" class="Bound">p</a> <a id="3632" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3634" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3634" class="Bound">utxo</a><a id="3638" class="Symbol">))</a> <a id="3641" class="Symbol">=</a>
    <a id="3647" href="Ledger.Conway.Conformance.Utxo.html#2681" class="InductiveConstructor">C.UTXO-inductive</a> <a id="3664" class="Symbol">(</a><a id="3665" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3566" class="Bound">a</a> <a id="3667" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3669" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3570" class="Bound">b</a> <a id="3671" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3673" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3574" class="Bound">c</a> <a id="3675" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3677" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3578" class="Bound">d</a> <a id="3679" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3681" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3582" class="Bound">e</a> <a id="3683" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3685" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3586" class="Bound">f</a> <a id="3687" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3689" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3590" class="Bound">g</a> <a id="3691" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3693" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3594" class="Bound">r</a> <a id="3695" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3697" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3598" class="Bound">h</a> <a id="3699" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3701" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3602" class="Bound">i</a> <a id="3703" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3705" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3606" class="Bound">j</a> <a id="3707" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3709" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3610" class="Bound">k</a> <a id="3711" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3713" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3614" class="Bound">l</a> <a id="3715" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3717" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3618" class="Bound">m</a> <a id="3719" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3721" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3622" class="Bound">n</a> <a id="3723" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3725" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3626" class="Bound">o</a> <a id="3727" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3729" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3630" class="Bound">p</a> <a id="3731" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3733" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="3738" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3634" class="Bound">utxo</a><a id="3742" class="Symbol">)</a>

  <a id="UTXOFromConf"></a><a id="3747" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3747" class="Function">UTXOFromConf</a> <a id="3760" class="Symbol">:</a> <a id="3762" class="Symbol">∀</a> <a id="3764" class="Symbol">{</a><a id="3765" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3765" class="Bound">Γ</a> <a id="3767" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3767" class="Bound">s</a> <a id="3769" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3769" class="Bound">tx</a> <a id="3772" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3772" class="Bound">s&#39;</a><a id="3774" class="Symbol">}</a>
                   <a id="3795" class="Symbol">(</a><a id="3796" class="Keyword">let</a> <a id="3800" class="Keyword">open</a> <a id="3805" href="Ledger.Conway.Specification.Utxo.html#1199" class="Module">L.UTxOEnv</a> <a id="3815" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3765" class="Bound">Γ</a> <a id="3817" class="Keyword">using</a> <a id="3823" class="Symbol">()</a> <a id="3826" class="Keyword">renaming</a> <a id="3835" class="Symbol">(</a><a id="3836" href="Ledger.Conway.Specification.Utxo.html#1253" class="Field">pparams</a> <a id="3844" class="Symbol">to</a> <a id="3847" class="Field">pp</a><a id="3849" class="Symbol">)</a>
                        <a id="3875" class="Keyword">open</a> <a id="3880" href="Ledger.Conway.Specification.Utxo.html#1308" class="Module">L.UTxOState</a> <a id="3892" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3767" class="Bound">s</a> <a id="3894" class="Keyword">using</a> <a id="3900" class="Symbol">(</a><a id="3901" href="Ledger.Conway.Specification.Utxo.html#1416" class="Field">deposits</a><a id="3909" class="Symbol">)</a>
                        <a id="3935" class="Keyword">open</a> <a id="3940" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a> <a id="3943" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3769" class="Bound">tx</a> <a id="3946" class="Keyword">renaming</a> <a id="3955" class="Symbol">(</a><a id="3956" href="Ledger.Conway.Specification.Transaction.html#1749" class="Field">body</a> <a id="3961" class="Symbol">to</a> <a id="3964" class="Field">txb</a><a id="3967" class="Symbol">)</a>
                        <a id="3993" class="Keyword">open</a> <a id="3998" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a> <a id="4005" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3964" class="Function">txb</a> <a id="4009" class="Keyword">using</a> <a id="4015" class="Symbol">(</a><a id="4016" href="Ledger.Conway.Specification.Transaction.html#556" class="Field">txCerts</a><a id="4023" class="Symbol">))</a>
               <a id="4041" class="Symbol">→</a> <a id="4043" class="Symbol">(</a><a id="4044" href="Ledger.Conway.Specification.Transaction.html#1815" class="Field">isValid</a> <a id="4052" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3769" class="Bound">tx</a> <a id="4055" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4057" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="4063" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="4065" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">L.ValidCertDeposits</a> <a id="4085" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3847" class="Function">pp</a> <a id="4088" href="Ledger.Conway.Specification.Utxo.html#1416" class="Function">deposits</a> <a id="4097" href="Ledger.Conway.Specification.Transaction.html#556" class="Function">txCerts</a><a id="4104" class="Symbol">)</a>
                 <a id="4123" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="4125" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3765" class="Bound">Γ</a> <a id="4127" href="Ledger.Conway.Conformance.Utxo.html#2612" class="Datatype Operator">C.⊢</a> <a id="4131" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3767" class="Bound">s</a> <a id="4133" href="Ledger.Conway.Conformance.Utxo.html#2612" class="Datatype Operator">⇀⦇</a> <a id="4136" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3769" class="Bound">tx</a> <a id="4139" href="Ledger.Conway.Conformance.Utxo.html#2612" class="Datatype Operator">,UTXO⦈</a> <a id="4146" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3772" class="Bound">s&#39;</a> <a id="4149" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="4152" class="Symbol">λ</a> <a id="4154" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4154" class="Bound">_</a> <a id="4156" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4156" class="Bound">h</a> <a id="4158" class="Symbol">→</a>
                   <a id="4179" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3765" class="Bound">Γ</a> <a id="4181" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">L.⊢</a> <a id="4185" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3767" class="Bound">s</a> <a id="4187" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">⇀⦇</a> <a id="4190" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3769" class="Bound">tx</a> <a id="4193" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">,UTXO⦈</a> <a id="4200" class="Symbol">(</a><a id="4201" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1074" class="Function">setDeposits</a> <a id="4213" class="Symbol">(</a><a id="4214" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1947" class="Function">utxoDeposits</a> <a id="4227" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4156" class="Bound">h</a><a id="4228" class="Symbol">)</a> <a id="4230" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3772" class="Bound">s&#39;</a><a id="4232" class="Symbol">)</a>
  <a id="4236" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3747" class="Function">UTXOFromConf</a> <a id="4249" class="Symbol">{</a><a id="4250" class="Argument">s</a> <a id="4252" class="Symbol">=</a> <a id="4254" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4254" class="Bound">s</a><a id="4255" class="Symbol">}</a> <a id="4257" class="Symbol">{</a><a id="4258" class="Argument">tx</a> <a id="4261" class="Symbol">=</a> <a id="4263" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4263" class="Bound">tx</a><a id="4265" class="Symbol">}</a> <a id="4267" class="Symbol">.</a><a id="4268" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4274" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4274" class="Bound">validCerts</a> <a id="4285" class="Symbol">(</a><a id="4286" href="Ledger.Conway.Conformance.Utxo.html#2681" class="InductiveConstructor">C.UTXO-inductive</a> <a id="4303" class="Symbol">(</a><a id="4304" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4304" class="Bound">a</a> <a id="4306" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4308" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4308" class="Bound">b</a> <a id="4310" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4312" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4312" class="Bound">c</a> <a id="4314" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4316" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4316" class="Bound">d</a> <a id="4318" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4320" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4320" class="Bound">e</a> <a id="4322" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4324" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4324" class="Bound">f</a> <a id="4326" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4328" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4328" class="Bound">g</a> <a id="4330" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4332" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4332" class="Bound">r</a> <a id="4334" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4336" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4336" class="Bound">h</a> <a id="4338" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4340" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4340" class="Bound">i</a> <a id="4342" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4344" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4344" class="Bound">j</a> <a id="4346" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4348" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4348" class="Bound">k</a> <a id="4350" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4352" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4352" class="Bound">l</a> <a id="4354" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4356" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4356" class="Bound">m</a> <a id="4358" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4360" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4360" class="Bound">n</a> <a id="4362" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4364" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4364" class="Bound">o</a> <a id="4366" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4368" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4368" class="Bound">p</a> <a id="4370" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4372" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4372" class="Bound">utxo</a><a id="4376" class="Symbol">))</a> <a id="4379" class="Symbol">=</a>
    <a id="4385" href="Ledger.Conway.Specification.Utxo.html#12786" class="InductiveConstructor">L.UTXO-inductive</a> <a id="4402" class="Symbol">(</a><a id="4403" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4304" class="Bound">a</a> <a id="4405" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4407" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4308" class="Bound">b</a> <a id="4409" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4411" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4312" class="Bound">c</a> <a id="4413" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4415" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4316" class="Bound">d</a> <a id="4417" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4419" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4320" class="Bound">e</a> <a id="4421" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4423" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4324" class="Bound">f</a> <a id="4425" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4427" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4328" class="Bound">g</a> <a id="4429" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4431" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4332" class="Bound">r</a> <a id="4433" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4435" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4336" class="Bound">h</a> <a id="4437" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4439" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4340" class="Bound">i</a> <a id="4441" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4443" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4344" class="Bound">j</a> <a id="4445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4447" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4348" class="Bound">k</a> <a id="4449" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4451" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4352" class="Bound">l</a> <a id="4453" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4455" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4356" class="Bound">m</a> <a id="4457" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4459" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4360" class="Bound">n</a> <a id="4461" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4463" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4364" class="Bound">o</a> <a id="4465" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4467" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4368" class="Bound">p</a> <a id="4469" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4471" class="Symbol">(</a><a id="4472" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4274" class="Bound">validCerts</a> <a id="4483" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="4489" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4372" class="Bound">utxo</a><a id="4493" class="Symbol">))</a>

  <a id="UTXOWToConf"></a><a id="4499" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4499" class="Function">UTXOWToConf</a> <a id="4511" class="Symbol">:</a> <a id="4513" class="Symbol">∀</a> <a id="4515" class="Symbol">{</a><a id="4516" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4516" class="Bound">Γ</a> <a id="4518" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4518" class="Bound">s</a> <a id="4520" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4520" class="Bound">tx</a> <a id="4523" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4523" class="Bound">s&#39;</a><a id="4525" class="Symbol">}</a> <a id="4527" class="Symbol">→</a> <a id="4529" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4516" class="Bound">Γ</a> <a id="4531" href="Ledger.Conway.Specification.Utxow.html#2984" class="Datatype Operator">L.⊢</a> <a id="4535" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4518" class="Bound">s</a> <a id="4537" href="Ledger.Conway.Specification.Utxow.html#2984" class="Datatype Operator">⇀⦇</a> <a id="4540" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4520" class="Bound">tx</a> <a id="4543" href="Ledger.Conway.Specification.Utxow.html#2984" class="Datatype Operator">,UTXOW⦈</a> <a id="4551" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4523" class="Bound">s&#39;</a> <a id="4554" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="4556" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4516" class="Bound">Γ</a> <a id="4558" href="Ledger.Conway.Conformance.Utxow.html#769" class="Datatype Operator">C.⊢</a> <a id="4562" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4518" class="Bound">s</a> <a id="4564" href="Ledger.Conway.Conformance.Utxow.html#769" class="Datatype Operator">⇀⦇</a> <a id="4567" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4520" class="Bound">tx</a> <a id="4570" href="Ledger.Conway.Conformance.Utxow.html#769" class="Datatype Operator">,UTXOW⦈</a> <a id="4578" class="Symbol">(</a><a id="4579" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1196" class="Function">withDepositsFrom</a> <a id="4596" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4518" class="Bound">s</a> <a id="4598" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4523" class="Bound">s&#39;</a><a id="4600" class="Symbol">)</a>
  <a id="4604" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4499" class="Function">UTXOWToConf</a> <a id="4616" class="Symbol">.</a><a id="4617" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4623" class="Symbol">_</a> <a id="4625" class="Symbol">(</a><a id="4626" href="Ledger.Conway.Specification.Utxow.html#4657" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="4645" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4645" class="Bound">a</a> <a id="4647" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4647" class="Bound">b</a> <a id="4649" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4649" class="Bound">c</a> <a id="4651" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4651" class="Bound">d</a> <a id="4653" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4653" class="Bound">e</a> <a id="4655" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4655" class="Bound">f</a> <a id="4657" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4657" class="Bound">g</a> <a id="4659" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4659" class="Bound">h</a> <a id="4661" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4661" class="Bound">utxo</a><a id="4665" class="Symbol">)</a> <a id="4667" class="Symbol">=</a>
    <a id="4673" href="Ledger.Conway.Conformance.Utxow.html#2499" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="4692" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4645" class="Bound">a</a> <a id="4694" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4647" class="Bound">b</a> <a id="4696" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4649" class="Bound">c</a> <a id="4698" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4651" class="Bound">d</a> <a id="4700" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4653" class="Bound">e</a> <a id="4702" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4655" class="Bound">f</a> <a id="4704" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4657" class="Bound">g</a> <a id="4706" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4659" class="Bound">h</a> <a id="4708" class="Symbol">(</a><a id="4709" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="4714" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4661" class="Bound">utxo</a><a id="4718" class="Symbol">)</a>

  <a id="UTXOWFromConf"></a><a id="4723" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4723" class="Function">UTXOWFromConf</a> <a id="4737" class="Symbol">:</a> <a id="4739" class="Symbol">∀</a> <a id="4741" class="Symbol">{</a><a id="4742" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4742" class="Bound">Γ</a> <a id="4744" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4744" class="Bound">s</a> <a id="4746" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4746" class="Bound">tx</a> <a id="4749" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4749" class="Bound">s&#39;</a><a id="4751" class="Symbol">}</a>
                    <a id="4773" class="Symbol">(</a><a id="4774" class="Keyword">let</a> <a id="4778" class="Keyword">open</a> <a id="4783" href="Ledger.Conway.Specification.Utxo.html#1199" class="Module">L.UTxOEnv</a> <a id="4793" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4742" class="Bound">Γ</a> <a id="4795" class="Keyword">using</a> <a id="4801" class="Symbol">()</a> <a id="4804" class="Keyword">renaming</a> <a id="4813" class="Symbol">(</a><a id="4814" href="Ledger.Conway.Specification.Utxo.html#1253" class="Field">pparams</a> <a id="4822" class="Symbol">to</a> <a id="4825" class="Field">pp</a><a id="4827" class="Symbol">)</a>
                         <a id="4854" class="Keyword">open</a> <a id="4859" href="Ledger.Conway.Specification.Utxo.html#1308" class="Module">L.UTxOState</a> <a id="4871" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4744" class="Bound">s</a> <a id="4873" class="Keyword">using</a> <a id="4879" class="Symbol">(</a><a id="4880" href="Ledger.Conway.Specification.Utxo.html#1416" class="Field">deposits</a><a id="4888" class="Symbol">)</a>
                         <a id="4915" class="Keyword">open</a> <a id="4920" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a> <a id="4923" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4746" class="Bound">tx</a> <a id="4926" class="Keyword">renaming</a> <a id="4935" class="Symbol">(</a><a id="4936" href="Ledger.Conway.Specification.Transaction.html#1749" class="Field">body</a> <a id="4941" class="Symbol">to</a> <a id="4944" class="Field">txb</a><a id="4947" class="Symbol">)</a>
                         <a id="4974" class="Keyword">open</a> <a id="4979" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a> <a id="4986" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4944" class="Function">txb</a> <a id="4990" class="Keyword">using</a> <a id="4996" class="Symbol">(</a><a id="4997" href="Ledger.Conway.Specification.Transaction.html#556" class="Field">txCerts</a><a id="5004" class="Symbol">))</a>
                <a id="5023" class="Symbol">→</a> <a id="5025" class="Symbol">(</a><a id="5026" href="Ledger.Conway.Specification.Transaction.html#1815" class="Field">isValid</a> <a id="5034" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4746" class="Bound">tx</a> <a id="5037" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5039" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="5045" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5047" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">L.ValidCertDeposits</a> <a id="5067" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4825" class="Function">pp</a> <a id="5070" href="Ledger.Conway.Specification.Utxo.html#1416" class="Function">deposits</a> <a id="5079" href="Ledger.Conway.Specification.Transaction.html#556" class="Function">txCerts</a><a id="5086" class="Symbol">)</a>
                  <a id="5106" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="5108" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4742" class="Bound">Γ</a> <a id="5110" href="Ledger.Conway.Conformance.Utxow.html#769" class="Datatype Operator">C.⊢</a> <a id="5114" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4744" class="Bound">s</a> <a id="5116" href="Ledger.Conway.Conformance.Utxow.html#769" class="Datatype Operator">⇀⦇</a> <a id="5119" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4746" class="Bound">tx</a> <a id="5122" href="Ledger.Conway.Conformance.Utxow.html#769" class="Datatype Operator">,UTXOW⦈</a> <a id="5130" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4749" class="Bound">s&#39;</a> <a id="5133" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="5136" class="Symbol">λ</a> <a id="5138" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5138" class="Bound">_</a> <a id="5140" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5140" class="Bound">h</a> <a id="5142" class="Symbol">→</a>
                    <a id="5164" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4742" class="Bound">Γ</a> <a id="5166" href="Ledger.Conway.Specification.Utxow.html#2984" class="Datatype Operator">L.⊢</a> <a id="5170" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4744" class="Bound">s</a> <a id="5172" href="Ledger.Conway.Specification.Utxow.html#2984" class="Datatype Operator">⇀⦇</a> <a id="5175" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4746" class="Bound">tx</a> <a id="5178" href="Ledger.Conway.Specification.Utxow.html#2984" class="Datatype Operator">,UTXOW⦈</a> <a id="5186" class="Symbol">(</a><a id="5187" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1074" class="Function">setDeposits</a> <a id="5199" class="Symbol">(</a><a id="5200" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2097" class="Function">utxowDeposits</a> <a id="5214" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5140" class="Bound">h</a><a id="5215" class="Symbol">)</a> <a id="5217" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4749" class="Bound">s&#39;</a><a id="5219" class="Symbol">)</a>  <a id="5222" class="Comment">-- Conformance doesn&#39;t update deposits in UTXOW</a>
  <a id="5272" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4723" class="Function">UTXOWFromConf</a> <a id="5286" class="Symbol">.</a><a id="5287" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5293" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5293" class="Bound">validCerts</a> <a id="5304" class="Symbol">(</a><a id="5305" href="Ledger.Conway.Conformance.Utxow.html#2499" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="5324" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5324" class="Bound">a</a> <a id="5326" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5326" class="Bound">b</a> <a id="5328" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5328" class="Bound">c</a> <a id="5330" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5330" class="Bound">d</a> <a id="5332" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5332" class="Bound">e</a> <a id="5334" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5334" class="Bound">f</a> <a id="5336" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5336" class="Bound">g</a> <a id="5338" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5338" class="Bound">h</a> <a id="5340" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5340" class="Bound">utxo</a><a id="5344" class="Symbol">)</a> <a id="5346" class="Symbol">=</a>
    <a id="5352" href="Ledger.Conway.Specification.Utxow.html#4657" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="5371" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5324" class="Bound">a</a> <a id="5373" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5326" class="Bound">b</a> <a id="5375" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5328" class="Bound">c</a> <a id="5377" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5330" class="Bound">d</a> <a id="5379" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5332" class="Bound">e</a> <a id="5381" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5334" class="Bound">f</a> <a id="5383" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5336" class="Bound">g</a> <a id="5385" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5338" class="Bound">h</a> <a id="5387" class="Symbol">(</a><a id="5388" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5293" class="Bound">validCerts</a> <a id="5399" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5405" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5340" class="Bound">utxo</a><a id="5409" class="Symbol">)</a>
</pre></body></html>