<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Equivalence.Utxo</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="Ledger.Conway.Abstract.html" class="Module">Ledger.Conway.Abstract</a>
<a id="87" class="Keyword">open</a> <a id="92" class="Keyword">import</a> <a id="99" href="Ledger.Conway.Transaction.html" class="Module">Ledger.Conway.Transaction</a> <a id="125" class="Keyword">using</a> <a id="131" class="Symbol">(</a><a id="132" href="Ledger.Conway.Transaction.html#910" class="Record">TransactionStructure</a><a id="152" class="Symbol">)</a>

<a id="155" class="Keyword">open</a> <a id="160" class="Keyword">import</a> <a id="167" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="177" class="Keyword">using</a> <a id="183" class="Symbol">(</a><a id="184" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="185" class="Symbol">)</a>
<a id="187" class="Keyword">open</a> <a id="192" class="Keyword">import</a> <a id="199" href="Data.Product.html" class="Module">Data.Product</a> <a id="212" class="Keyword">using</a> <a id="218" class="Symbol">(</a><a id="219" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="222" class="Symbol">;</a> <a id="224" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="227" class="Symbol">)</a>
<a id="229" class="Keyword">open</a> <a id="234" class="Keyword">import</a> <a id="241" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="258" class="Keyword">using</a> <a id="264" class="Symbol">(</a><a id="265" href="Function.Bundles.html#12400" class="Function Operator">_⇔_</a><a id="268" class="Symbol">;</a> <a id="270" href="Function.Bundles.html#13499" class="Function">mk⇔</a><a id="273" class="Symbol">;</a> <a id="275" href="Function.Bundles.html#4752" class="Record">Equivalence</a><a id="286" class="Symbol">)</a>
<a id="288" class="Keyword">open</a> <a id="293" class="Keyword">import</a> <a id="300" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="338" class="Keyword">open</a> <a id="343" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>

<a id="356" class="Keyword">open</a> <a id="361" class="Keyword">import</a> <a id="368" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>

<a id="415" class="Keyword">module</a> <a id="422" href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="Module">Ledger.Conway.Conformance.Equivalence.Utxo</a>
  <a id="467" class="Symbol">(</a><a id="468" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a> <a id="472" class="Symbol">:</a> <a id="474" class="Symbol">_)</a> <a id="477" class="Symbol">(</a><a id="478" class="Keyword">open</a> <a id="483" href="Ledger.Conway.Transaction.html#910" class="Module">TransactionStructure</a> <a id="504" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a><a id="507" class="Symbol">)</a>
  <a id="511" class="Symbol">(</a><a id="512" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#512" class="Bound">abs</a> <a id="516" class="Symbol">:</a> <a id="518" href="Ledger.Conway.Abstract.html#599" class="Record">AbstractFunctions</a> <a id="536" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a><a id="539" class="Symbol">)</a> <a id="541" class="Symbol">(</a><a id="542" class="Keyword">open</a> <a id="547" href="Ledger.Conway.Abstract.html#599" class="Module">AbstractFunctions</a> <a id="565" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#512" class="Bound">abs</a><a id="568" class="Symbol">)</a>
  <a id="572" class="Keyword">where</a>

<a id="579" class="Keyword">private</a>
  <a id="589" class="Keyword">module</a> <a id="L"></a><a id="596" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#596" class="Module">L</a> <a id="598" class="Keyword">where</a>
    <a id="608" class="Keyword">open</a> <a id="613" class="Keyword">import</a> <a id="620" href="Ledger.Conway.Utxo.html" class="Module">Ledger.Conway.Utxo</a> <a id="639" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a> <a id="643" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#512" class="Bound">abs</a> <a id="647" class="Keyword">public</a>
    <a id="658" class="Keyword">open</a> <a id="663" class="Keyword">import</a> <a id="670" href="Ledger.Conway.Utxow.html" class="Module">Ledger.Conway.Utxow</a> <a id="690" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a> <a id="694" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#512" class="Bound">abs</a> <a id="698" class="Keyword">public</a>
    <a id="709" class="Keyword">open</a> <a id="714" class="Keyword">import</a> <a id="721" href="Ledger.Conway.Certs.html" class="Module">Ledger.Conway.Certs</a> <a id="741" href="Ledger.Conway.Transaction.html#1880" class="Function">govStructure</a> <a id="754" class="Keyword">public</a>

  <a id="764" class="Keyword">module</a> <a id="C"></a><a id="771" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#771" class="Module">C</a> <a id="773" class="Keyword">where</a>
    <a id="783" class="Keyword">open</a> <a id="788" class="Keyword">import</a> <a id="795" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="826" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a> <a id="830" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#512" class="Bound">abs</a> <a id="834" class="Keyword">public</a>
    <a id="845" class="Keyword">open</a> <a id="850" class="Keyword">import</a> <a id="857" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="889" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#468" class="Bound">txs</a> <a id="893" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#512" class="Bound">abs</a> <a id="897" class="Keyword">public</a>
    <a id="908" class="Keyword">open</a> <a id="913" class="Keyword">import</a> <a id="920" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="952" href="Ledger.Conway.Transaction.html#1880" class="Function">govStructure</a> <a id="965" class="Keyword">public</a>

<a id="973" class="Keyword">open</a> <a id="978" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a>

<a id="setDeposits"></a><a id="982" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#982" class="Function">setDeposits</a> <a id="994" class="Symbol">:</a> <a id="996" href="Ledger.Conway.Certs.html#601" class="Function">L.Deposits</a> <a id="1007" class="Symbol">→</a> <a id="1009" href="Ledger.Conway.Utxo.html#2747" class="Record">L.UTxOState</a> <a id="1021" class="Symbol">→</a> <a id="1023" href="Ledger.Conway.Utxo.html#2747" class="Record">L.UTxOState</a>
<a id="1035" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#982" class="Function">setDeposits</a> <a id="1047" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1047" class="Bound">deposits</a> <a id="1056" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1056" class="Bound">utxoSt</a> <a id="1063" class="Symbol">=</a> <a id="1065" class="Keyword">record</a> <a id="1072" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1056" class="Bound">utxoSt</a> <a id="1079" class="Symbol">{</a> <a id="1081" href="Ledger.Conway.Utxo.html#2855" class="Field">deposits</a> <a id="1090" class="Symbol">=</a> <a id="1092" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1047" class="Bound">deposits</a> <a id="1101" class="Symbol">}</a>

<a id="withDepositsFrom"></a><a id="1104" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1104" class="Function">withDepositsFrom</a> <a id="1121" class="Symbol">:</a> <a id="1123" href="Ledger.Conway.Utxo.html#2747" class="Record">L.UTxOState</a> <a id="1135" class="Symbol">→</a> <a id="1137" href="Ledger.Conway.Utxo.html#2747" class="Record">L.UTxOState</a> <a id="1149" class="Symbol">→</a> <a id="1151" href="Ledger.Conway.Utxo.html#2747" class="Record">L.UTxOState</a>
<a id="1163" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1104" class="Function">withDepositsFrom</a> <a id="1180" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1180" class="Bound">utxoSt</a> <a id="1187" class="Symbol">=</a> <a id="1189" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#982" class="Function">setDeposits</a> <a id="1201" class="Symbol">(</a><a id="1202" href="Ledger.Conway.Utxo.html#2855" class="Field">L.UTxOState.deposits</a> <a id="1223" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1180" class="Bound">utxoSt</a><a id="1229" class="Symbol">)</a>

<a id="1232" class="Keyword">instance</a>

  <a id="UTXOSToConf"></a><a id="1244" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1244" class="Function">UTXOSToConf</a> <a id="1256" class="Symbol">:</a> <a id="1258" class="Symbol">∀</a> <a id="1260" class="Symbol">{</a><a id="1261" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1261" class="Bound">Γ</a> <a id="1263" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1263" class="Bound">s</a> <a id="1265" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1265" class="Bound">tx</a> <a id="1268" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1268" class="Bound">s&#39;</a><a id="1270" class="Symbol">}</a> <a id="1272" class="Symbol">→</a> <a id="1274" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1261" class="Bound">Γ</a> <a id="1276" href="Ledger.Conway.Utxo.html#12931" class="Datatype Operator">L.⊢</a> <a id="1280" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1263" class="Bound">s</a> <a id="1282" href="Ledger.Conway.Utxo.html#12931" class="Datatype Operator">⇀⦇</a> <a id="1285" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1265" class="Bound">tx</a> <a id="1288" href="Ledger.Conway.Utxo.html#12931" class="Datatype Operator">,UTXOS⦈</a> <a id="1296" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1268" class="Bound">s&#39;</a> <a id="1299" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="1301" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1261" class="Bound">Γ</a> <a id="1303" href="Ledger.Conway.Conformance.Utxo.html#1123" class="Datatype Operator">C.⊢</a> <a id="1307" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1263" class="Bound">s</a> <a id="1309" href="Ledger.Conway.Conformance.Utxo.html#1123" class="Datatype Operator">⇀⦇</a> <a id="1312" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1265" class="Bound">tx</a> <a id="1315" href="Ledger.Conway.Conformance.Utxo.html#1123" class="Datatype Operator">,UTXOS⦈</a> <a id="1323" class="Symbol">(</a><a id="1324" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1104" class="Function">withDepositsFrom</a> <a id="1341" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1263" class="Bound">s</a> <a id="1343" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1268" class="Bound">s&#39;</a><a id="1345" class="Symbol">)</a>
  <a id="1349" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1244" class="Function">UTXOSToConf</a> <a id="1361" class="Symbol">.</a><a id="1362" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1368" class="Symbol">_</a> <a id="1370" class="Symbol">(</a><a id="1371" href="Ledger.Conway.Utxo.html#13002" class="InductiveConstructor">L.Scripts-Yes</a> <a id="1385" class="Symbol">(</a><a id="1386" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1386" class="Bound">certsValid</a> <a id="1397" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1399" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1399" class="Bound">eval</a> <a id="1404" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1406" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1406" class="Bound">txValid</a><a id="1413" class="Symbol">))</a> <a id="1416" class="Symbol">=</a> <a id="1418" href="Ledger.Conway.Conformance.Utxo.html#1192" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1432" class="Symbol">(</a><a id="1433" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1399" class="Bound">eval</a> <a id="1438" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1440" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1406" class="Bound">txValid</a><a id="1447" class="Symbol">)</a>
  <a id="1451" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1244" class="Function">UTXOSToConf</a> <a id="1463" class="Symbol">.</a><a id="1464" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1470" class="Symbol">_</a> <a id="1472" class="Symbol">(</a><a id="1473" href="Ledger.Conway.Utxo.html#13516" class="InductiveConstructor">L.Scripts-No</a> <a id="1486" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1486" class="Bound">h</a><a id="1487" class="Symbol">)</a>                              <a id="1518" class="Symbol">=</a> <a id="1520" href="Ledger.Conway.Conformance.Utxo.html#1778" class="InductiveConstructor">C.Scripts-No</a> <a id="1533" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1486" class="Bound">h</a>

<a id="1536" class="Keyword">module</a> <a id="1543" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1543" class="Module">_</a> <a id="1545" class="Symbol">{</a><a id="1546" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1546" class="Bound">Γ</a> <a id="1548" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1548" class="Bound">s</a> <a id="1550" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1550" class="Bound">tx</a> <a id="1553" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1553" class="Bound">s&#39;</a><a id="1555" class="Symbol">}</a> <a id="1557" class="Keyword">where</a>
  <a id="1565" class="Keyword">open</a> <a id="1570" href="Ledger.Conway.Utxo.html#2395" class="Module">L.UTxOEnv</a> <a id="1580" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1546" class="Bound">Γ</a> <a id="1582" class="Keyword">renaming</a> <a id="1591" class="Symbol">(</a><a id="1592" href="Ledger.Conway.Utxo.html#2449" class="Field">pparams</a> <a id="1600" class="Symbol">to</a> <a id="1603" class="Field">pp</a><a id="1605" class="Symbol">)</a>
  <a id="1609" class="Keyword">open</a> <a id="1614" href="Ledger.Conway.Utxo.html#2747" class="Module">L.UTxOState</a> <a id="1626" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1548" class="Bound">s</a> <a id="1628" class="Keyword">using</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Ledger.Conway.Utxo.html#2855" class="Field">deposits</a><a id="1643" class="Symbol">)</a>
  <a id="1647" class="Keyword">open</a> <a id="1652" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a> <a id="1655" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1550" class="Bound">tx</a> <a id="1658" class="Keyword">renaming</a> <a id="1667" class="Symbol">(</a><a id="1668" href="Ledger.Conway.Transaction.html#4338" class="Field">body</a> <a id="1673" class="Symbol">to</a> <a id="1676" class="Field">txb</a><a id="1679" class="Symbol">)</a>

  <a id="1684" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1684" class="Function">utxoSDeposits</a> <a id="1698" class="Symbol">:</a> <a id="1700" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1546" class="Bound">Γ</a> <a id="1702" href="Ledger.Conway.Conformance.Utxo.html#1123" class="Datatype Operator">C.⊢</a> <a id="1706" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1548" class="Bound">s</a> <a id="1708" href="Ledger.Conway.Conformance.Utxo.html#1123" class="Datatype Operator">⇀⦇</a> <a id="1711" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1550" class="Bound">tx</a> <a id="1714" href="Ledger.Conway.Conformance.Utxo.html#1123" class="Datatype Operator">,UTXOS⦈</a> <a id="1722" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1553" class="Bound">s&#39;</a> <a id="1725" class="Symbol">→</a> <a id="1727" href="Ledger.Conway.Certs.html#601" class="Function">L.Deposits</a>
  <a id="1740" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1684" class="Function">utxoSDeposits</a> <a id="1754" class="Symbol">(</a><a id="1755" href="Ledger.Conway.Conformance.Utxo.html#1192" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1769" class="Symbol">_)</a> <a id="1772" class="Symbol">=</a> <a id="1774" href="Ledger.Conway.Utxo.html#9339" class="Function">L.updateDeposits</a> <a id="1791" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1603" class="Function">pp</a> <a id="1794" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1676" class="Function">txb</a> <a id="1798" href="Ledger.Conway.Utxo.html#2855" class="Function">deposits</a>
  <a id="1809" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1684" class="Function">utxoSDeposits</a> <a id="1823" class="Symbol">(</a><a id="1824" href="Ledger.Conway.Conformance.Utxo.html#1778" class="InductiveConstructor">C.Scripts-No</a>  <a id="1838" class="Symbol">_)</a> <a id="1841" class="Symbol">=</a> <a id="1843" href="Ledger.Conway.Utxo.html#2855" class="Function">deposits</a>

  <a id="1855" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1855" class="Function">utxoDeposits</a> <a id="1868" class="Symbol">:</a> <a id="1870" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1546" class="Bound">Γ</a> <a id="1872" href="Ledger.Conway.Conformance.Utxo.html#2542" class="Datatype Operator">C.⊢</a> <a id="1876" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1548" class="Bound">s</a> <a id="1878" href="Ledger.Conway.Conformance.Utxo.html#2542" class="Datatype Operator">⇀⦇</a> <a id="1881" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1550" class="Bound">tx</a> <a id="1884" href="Ledger.Conway.Conformance.Utxo.html#2542" class="Datatype Operator">,UTXO⦈</a> <a id="1891" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1553" class="Bound">s&#39;</a> <a id="1894" class="Symbol">→</a> <a id="1896" href="Ledger.Conway.Certs.html#601" class="Function">L.Deposits</a>
  <a id="1909" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1855" class="Function">utxoDeposits</a> <a id="1922" class="Symbol">(</a><a id="1923" href="Ledger.Conway.Conformance.Utxo.html#3825" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="1941" class="Symbol">_</a> <a id="1943" class="Symbol">_</a> <a id="1945" class="Symbol">_</a> <a id="1947" class="Symbol">_</a> <a id="1949" class="Symbol">_</a> <a id="1951" class="Symbol">_</a> <a id="1953" class="Symbol">_</a> <a id="1955" class="Symbol">_</a> <a id="1957" class="Symbol">_</a> <a id="1959" class="Symbol">_</a> <a id="1961" class="Symbol">_</a> <a id="1963" class="Symbol">_</a> <a id="1965" class="Symbol">_</a> <a id="1967" class="Symbol">_</a> <a id="1969" class="Symbol">_</a> <a id="1971" class="Symbol">_</a> <a id="1973" class="Symbol">_</a> <a id="1975" class="Symbol">_</a> <a id="1977" class="Symbol">_</a> <a id="1979" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1979" class="Bound">h</a><a id="1980" class="Symbol">)</a> <a id="1982" class="Symbol">=</a> <a id="1984" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1684" class="Function">utxoSDeposits</a> <a id="1998" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1979" class="Bound">h</a>

  <a id="2003" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2003" class="Function">utxowDeposits</a> <a id="2017" class="Symbol">:</a> <a id="2019" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1546" class="Bound">Γ</a> <a id="2021" href="Ledger.Conway.Conformance.Utxow.html#684" class="Datatype Operator">C.⊢</a> <a id="2025" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1548" class="Bound">s</a> <a id="2027" href="Ledger.Conway.Conformance.Utxow.html#684" class="Datatype Operator">⇀⦇</a> <a id="2030" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1550" class="Bound">tx</a> <a id="2033" href="Ledger.Conway.Conformance.Utxow.html#684" class="Datatype Operator">,UTXOW⦈</a> <a id="2041" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1553" class="Bound">s&#39;</a> <a id="2044" class="Symbol">→</a> <a id="2046" href="Ledger.Conway.Certs.html#601" class="Function">L.Deposits</a>
  <a id="2059" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2003" class="Function">utxowDeposits</a> <a id="2073" class="Symbol">(</a><a id="2074" href="Ledger.Conway.Conformance.Utxow.html#1989" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="2093" class="Symbol">_</a> <a id="2095" class="Symbol">_</a> <a id="2097" class="Symbol">_</a> <a id="2099" class="Symbol">_</a> <a id="2101" class="Symbol">_</a> <a id="2103" class="Symbol">_</a> <a id="2105" class="Symbol">_</a> <a id="2107" class="Symbol">_</a> <a id="2109" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2109" class="Bound">h</a><a id="2110" class="Symbol">)</a> <a id="2112" class="Symbol">=</a> <a id="2114" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1855" class="Function">utxoDeposits</a> <a id="2127" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2109" class="Bound">h</a>

<a id="2130" class="Keyword">instance</a>
  <a id="2141" class="Comment">-- Here we pass in the ValidCertDeposits proof explicitly and</a>
  <a id="2205" class="Comment">-- override the deposits in s&#39; with updateDeposits (in case of</a>
  <a id="2270" class="Comment">-- Scripts-Yes).</a>
  <a id="UTXOSFromConf"></a><a id="2289" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2289" class="Function">UTXOSFromConf</a> <a id="2303" class="Symbol">:</a> <a id="2305" class="Symbol">∀</a> <a id="2307" class="Symbol">{</a><a id="2308" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2308" class="Bound">Γ</a> <a id="2310" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2310" class="Bound">s</a> <a id="2312" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2312" class="Bound">tx</a> <a id="2315" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2315" class="Bound">s&#39;</a><a id="2317" class="Symbol">}</a>
                    <a id="2339" class="Symbol">(</a><a id="2340" class="Keyword">let</a> <a id="2344" class="Keyword">open</a> <a id="2349" href="Ledger.Conway.Utxo.html#2395" class="Module">L.UTxOEnv</a> <a id="2359" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2308" class="Bound">Γ</a> <a id="2361" class="Keyword">using</a> <a id="2367" class="Symbol">()</a> <a id="2370" class="Keyword">renaming</a> <a id="2379" class="Symbol">(</a><a id="2380" href="Ledger.Conway.Utxo.html#2449" class="Field">pparams</a> <a id="2388" class="Symbol">to</a> <a id="2391" class="Field">pp</a><a id="2393" class="Symbol">)</a>
                         <a id="2420" class="Keyword">open</a> <a id="2425" href="Ledger.Conway.Utxo.html#2747" class="Module">L.UTxOState</a> <a id="2437" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2310" class="Bound">s</a> <a id="2439" class="Keyword">using</a> <a id="2445" class="Symbol">(</a><a id="2446" href="Ledger.Conway.Utxo.html#2855" class="Field">deposits</a><a id="2454" class="Symbol">)</a>
                         <a id="2481" class="Keyword">open</a> <a id="2486" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a> <a id="2489" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2312" class="Bound">tx</a> <a id="2492" class="Keyword">renaming</a> <a id="2501" class="Symbol">(</a><a id="2502" href="Ledger.Conway.Transaction.html#4338" class="Field">body</a> <a id="2507" class="Symbol">to</a> <a id="2510" class="Field">txb</a><a id="2513" class="Symbol">)</a>
                         <a id="2540" class="Keyword">open</a> <a id="2545" href="Ledger.Conway.Transaction.html#2762" class="Module">TxBody</a> <a id="2552" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2510" class="Function">txb</a> <a id="2556" class="Keyword">using</a> <a id="2562" class="Symbol">(</a><a id="2563" href="Ledger.Conway.Transaction.html#2996" class="Field">txcerts</a><a id="2570" class="Symbol">))</a>
                <a id="2589" class="Symbol">→</a> <a id="2591" class="Symbol">(</a><a id="2592" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a> <a id="2600" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2312" class="Bound">tx</a> <a id="2603" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2605" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2611" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2613" href="Ledger.Conway.Utxo.html#4687" class="Datatype">L.ValidCertDeposits</a> <a id="2633" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2391" class="Function">pp</a> <a id="2636" href="Ledger.Conway.Utxo.html#2855" class="Function">deposits</a> <a id="2645" href="Ledger.Conway.Transaction.html#2996" class="Function">txcerts</a><a id="2652" class="Symbol">)</a>
                  <a id="2672" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="2674" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2308" class="Bound">Γ</a> <a id="2676" href="Ledger.Conway.Conformance.Utxo.html#1123" class="Datatype Operator">C.⊢</a> <a id="2680" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2310" class="Bound">s</a> <a id="2682" href="Ledger.Conway.Conformance.Utxo.html#1123" class="Datatype Operator">⇀⦇</a> <a id="2685" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2312" class="Bound">tx</a> <a id="2688" href="Ledger.Conway.Conformance.Utxo.html#1123" class="Datatype Operator">,UTXOS⦈</a> <a id="2696" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2315" class="Bound">s&#39;</a> <a id="2699" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="2702" class="Symbol">λ</a> <a id="2704" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2704" class="Bound">_</a> <a id="2706" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2706" class="Bound">h</a> <a id="2708" class="Symbol">→</a>
                    <a id="2730" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2308" class="Bound">Γ</a> <a id="2732" href="Ledger.Conway.Utxo.html#12931" class="Datatype Operator">L.⊢</a> <a id="2736" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2310" class="Bound">s</a> <a id="2738" href="Ledger.Conway.Utxo.html#12931" class="Datatype Operator">⇀⦇</a> <a id="2741" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2312" class="Bound">tx</a> <a id="2744" href="Ledger.Conway.Utxo.html#12931" class="Datatype Operator">,UTXOS⦈</a> <a id="2752" class="Symbol">(</a><a id="2753" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#982" class="Function">setDeposits</a> <a id="2765" class="Symbol">(</a><a id="2766" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1684" class="Function">utxoSDeposits</a> <a id="2780" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2706" class="Bound">h</a><a id="2781" class="Symbol">)</a> <a id="2783" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2315" class="Bound">s&#39;</a><a id="2785" class="Symbol">)</a>
  <a id="2789" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2289" class="Function">UTXOSFromConf</a> <a id="2803" class="Symbol">.</a><a id="2804" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2810" class="Symbol">(</a><a id="2811" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2816" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2820" class="Symbol">)</a>       <a id="2828" class="Symbol">(</a><a id="2829" href="Ledger.Conway.Conformance.Utxo.html#1192" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2843" class="Symbol">(</a><a id="2844" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2844" class="Bound">eval</a> <a id="2849" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2851" class="Symbol">()))</a>
  <a id="2858" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2289" class="Function">UTXOSFromConf</a> <a id="2872" class="Symbol">.</a><a id="2873" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2879" class="Symbol">(</a><a id="2880" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2885" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2885" class="Bound">validCerts</a><a id="2895" class="Symbol">)</a> <a id="2897" class="Symbol">(</a><a id="2898" href="Ledger.Conway.Conformance.Utxo.html#1192" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2912" class="Symbol">(</a><a id="2913" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2913" class="Bound">eval</a> <a id="2918" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2920" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2920" class="Bound">txValid</a><a id="2927" class="Symbol">))</a> <a id="2930" class="Symbol">=</a> <a id="2932" href="Ledger.Conway.Utxo.html#13002" class="InductiveConstructor">L.Scripts-Yes</a> <a id="2946" class="Symbol">(</a><a id="2947" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2885" class="Bound">validCerts</a> <a id="2958" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2960" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2913" class="Bound">eval</a> <a id="2965" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2967" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2920" class="Bound">txValid</a><a id="2974" class="Symbol">)</a>
  <a id="2978" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2289" class="CatchallClause Function">UTXOSFromConf</a><a id="2991" class="CatchallClause"> </a><a id="2992" class="CatchallClause Symbol">.</a><a id="2993" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="CatchallClause Field">convⁱ</a><a id="2998" class="CatchallClause"> </a><a id="2999" class="CatchallClause Symbol">_</a><a id="3000" class="CatchallClause"> </a><a id="3001" class="CatchallClause Symbol">(</a><a id="3002" href="Ledger.Conway.Conformance.Utxo.html#1778" class="CatchallClause InductiveConstructor">C.Scripts-No</a><a id="3014" class="CatchallClause"> </a><a id="3015" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3015" class="CatchallClause Bound">h</a><a id="3016" class="CatchallClause Symbol">)</a> <a id="3018" class="Symbol">=</a> <a id="3020" href="Ledger.Conway.Utxo.html#13516" class="InductiveConstructor">L.Scripts-No</a> <a id="3033" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3015" class="Bound">h</a>

<a id="3036" class="Keyword">instance</a>
  <a id="3047" class="Comment">-- It&#39;s a little weird that UTXO still has a bunch of preconditions</a>
  <a id="3117" class="Comment">-- for consumed and produced (using updateDeposits) when the</a>
  <a id="3180" class="Comment">-- deposits don&#39;t change! Why are they even part of the UTxOState?</a>
  <a id="3249" class="Comment">-- In conformance the update happens in GOVCERT (under CERT).</a>
  <a id="UTXOToConf"></a><a id="3313" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3313" class="Function">UTXOToConf</a> <a id="3324" class="Symbol">:</a> <a id="3326" class="Symbol">∀</a> <a id="3328" class="Symbol">{</a><a id="3329" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3329" class="Bound">Γ</a> <a id="3331" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3331" class="Bound">s</a> <a id="3333" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3333" class="Bound">tx</a> <a id="3336" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3336" class="Bound">s&#39;</a><a id="3338" class="Symbol">}</a> <a id="3340" class="Symbol">→</a> <a id="3342" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3329" class="Bound">Γ</a> <a id="3344" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">L.⊢</a> <a id="3348" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3331" class="Bound">s</a> <a id="3350" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⇀⦇</a> <a id="3353" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3333" class="Bound">tx</a> <a id="3356" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">,UTXO⦈</a> <a id="3363" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3336" class="Bound">s&#39;</a> <a id="3366" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="3368" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3329" class="Bound">Γ</a> <a id="3370" href="Ledger.Conway.Conformance.Utxo.html#2542" class="Datatype Operator">C.⊢</a> <a id="3374" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3331" class="Bound">s</a> <a id="3376" href="Ledger.Conway.Conformance.Utxo.html#2542" class="Datatype Operator">⇀⦇</a> <a id="3379" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3333" class="Bound">tx</a> <a id="3382" href="Ledger.Conway.Conformance.Utxo.html#2542" class="Datatype Operator">,UTXO⦈</a> <a id="3389" class="Symbol">(</a><a id="3390" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1104" class="Function">withDepositsFrom</a> <a id="3407" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3331" class="Bound">s</a> <a id="3409" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3336" class="Bound">s&#39;</a><a id="3411" class="Symbol">)</a>
  <a id="3415" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3313" class="Function">UTXOToConf</a> <a id="3426" class="Symbol">{</a><a id="3427" class="Argument">s</a> <a id="3429" class="Symbol">=</a> <a id="3431" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3431" class="Bound">s</a><a id="3432" class="Symbol">}</a> <a id="3434" class="Symbol">{</a><a id="3435" class="Argument">tx</a> <a id="3438" class="Symbol">=</a> <a id="3440" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3440" class="Bound">tx</a><a id="3442" class="Symbol">}</a> <a id="3444" class="Symbol">.</a><a id="3445" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="3451" class="Symbol">_</a> <a id="3453" class="Symbol">(</a><a id="3454" href="Ledger.Conway.Utxo.html#14164" class="InductiveConstructor">L.UTXO-inductive</a> <a id="3471" class="Symbol">(</a><a id="3472" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3472" class="Bound">a</a> <a id="3474" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3476" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3476" class="Bound">b</a> <a id="3478" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3480" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3480" class="Bound">c</a> <a id="3482" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3484" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3484" class="Bound">d</a> <a id="3486" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3488" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3488" class="Bound">e</a> <a id="3490" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3492" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3492" class="Bound">f</a> <a id="3494" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3496" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3496" class="Bound">g</a> <a id="3498" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3500" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3500" class="Bound">h</a> <a id="3502" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3504" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3504" class="Bound">i</a> <a id="3506" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3508" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3508" class="Bound">j</a> <a id="3510" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3512" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3512" class="Bound">k</a> <a id="3514" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3516" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3516" class="Bound">l</a> <a id="3518" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3520" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3520" class="Bound">m</a> <a id="3522" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3524" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3524" class="Bound">n</a> <a id="3526" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3528" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3528" class="Bound">o</a> <a id="3530" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3532" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3532" class="Bound">p</a> <a id="3534" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3536" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3536" class="Bound">utxo</a><a id="3540" class="Symbol">))</a> <a id="3543" class="Symbol">=</a>
    <a id="3549" href="Ledger.Conway.Conformance.Utxo.html#2611" class="InductiveConstructor">C.UTXO-inductive</a> <a id="3566" class="Symbol">(</a><a id="3567" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3472" class="Bound">a</a> <a id="3569" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3571" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3476" class="Bound">b</a> <a id="3573" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3575" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3480" class="Bound">c</a> <a id="3577" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3579" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3484" class="Bound">d</a> <a id="3581" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3583" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3488" class="Bound">e</a> <a id="3585" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3587" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3492" class="Bound">f</a> <a id="3589" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3591" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3496" class="Bound">g</a> <a id="3593" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3595" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3500" class="Bound">h</a> <a id="3597" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3599" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3504" class="Bound">i</a> <a id="3601" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3603" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3508" class="Bound">j</a> <a id="3605" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3607" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3512" class="Bound">k</a> <a id="3609" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3611" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3516" class="Bound">l</a> <a id="3613" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3615" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3520" class="Bound">m</a> <a id="3617" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3619" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3524" class="Bound">n</a> <a id="3621" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3623" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3528" class="Bound">o</a> <a id="3625" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3627" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3532" class="Bound">p</a> <a id="3629" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3631" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="3636" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3536" class="Bound">utxo</a><a id="3640" class="Symbol">)</a>

  <a id="UTXOFromConf"></a><a id="3645" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3645" class="Function">UTXOFromConf</a> <a id="3658" class="Symbol">:</a> <a id="3660" class="Symbol">∀</a> <a id="3662" class="Symbol">{</a><a id="3663" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3663" class="Bound">Γ</a> <a id="3665" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3665" class="Bound">s</a> <a id="3667" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3667" class="Bound">tx</a> <a id="3670" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3670" class="Bound">s&#39;</a><a id="3672" class="Symbol">}</a>
                   <a id="3693" class="Symbol">(</a><a id="3694" class="Keyword">let</a> <a id="3698" class="Keyword">open</a> <a id="3703" href="Ledger.Conway.Utxo.html#2395" class="Module">L.UTxOEnv</a> <a id="3713" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3663" class="Bound">Γ</a> <a id="3715" class="Keyword">using</a> <a id="3721" class="Symbol">()</a> <a id="3724" class="Keyword">renaming</a> <a id="3733" class="Symbol">(</a><a id="3734" href="Ledger.Conway.Utxo.html#2449" class="Field">pparams</a> <a id="3742" class="Symbol">to</a> <a id="3745" class="Field">pp</a><a id="3747" class="Symbol">)</a>
                        <a id="3773" class="Keyword">open</a> <a id="3778" href="Ledger.Conway.Utxo.html#2747" class="Module">L.UTxOState</a> <a id="3790" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3665" class="Bound">s</a> <a id="3792" class="Keyword">using</a> <a id="3798" class="Symbol">(</a><a id="3799" href="Ledger.Conway.Utxo.html#2855" class="Field">deposits</a><a id="3807" class="Symbol">)</a>
                        <a id="3833" class="Keyword">open</a> <a id="3838" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a> <a id="3841" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3667" class="Bound">tx</a> <a id="3844" class="Keyword">renaming</a> <a id="3853" class="Symbol">(</a><a id="3854" href="Ledger.Conway.Transaction.html#4338" class="Field">body</a> <a id="3859" class="Symbol">to</a> <a id="3862" class="Field">txb</a><a id="3865" class="Symbol">)</a>
                        <a id="3891" class="Keyword">open</a> <a id="3896" href="Ledger.Conway.Transaction.html#2762" class="Module">TxBody</a> <a id="3903" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3862" class="Function">txb</a> <a id="3907" class="Keyword">using</a> <a id="3913" class="Symbol">(</a><a id="3914" href="Ledger.Conway.Transaction.html#2996" class="Field">txcerts</a><a id="3921" class="Symbol">))</a>
               <a id="3939" class="Symbol">→</a> <a id="3941" class="Symbol">(</a><a id="3942" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a> <a id="3950" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3667" class="Bound">tx</a> <a id="3953" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3955" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3961" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3963" href="Ledger.Conway.Utxo.html#4687" class="Datatype">L.ValidCertDeposits</a> <a id="3983" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3745" class="Function">pp</a> <a id="3986" href="Ledger.Conway.Utxo.html#2855" class="Function">deposits</a> <a id="3995" href="Ledger.Conway.Transaction.html#2996" class="Function">txcerts</a><a id="4002" class="Symbol">)</a>
                 <a id="4021" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="4023" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3663" class="Bound">Γ</a> <a id="4025" href="Ledger.Conway.Conformance.Utxo.html#2542" class="Datatype Operator">C.⊢</a> <a id="4029" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3665" class="Bound">s</a> <a id="4031" href="Ledger.Conway.Conformance.Utxo.html#2542" class="Datatype Operator">⇀⦇</a> <a id="4034" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3667" class="Bound">tx</a> <a id="4037" href="Ledger.Conway.Conformance.Utxo.html#2542" class="Datatype Operator">,UTXO⦈</a> <a id="4044" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3670" class="Bound">s&#39;</a> <a id="4047" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="4050" class="Symbol">λ</a> <a id="4052" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4052" class="Bound">_</a> <a id="4054" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4054" class="Bound">h</a> <a id="4056" class="Symbol">→</a>
                   <a id="4077" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3663" class="Bound">Γ</a> <a id="4079" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">L.⊢</a> <a id="4083" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3665" class="Bound">s</a> <a id="4085" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">⇀⦇</a> <a id="4088" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3667" class="Bound">tx</a> <a id="4091" href="Ledger.Conway.Utxo.html#3392" class="Datatype Operator">,UTXO⦈</a> <a id="4098" class="Symbol">(</a><a id="4099" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#982" class="Function">setDeposits</a> <a id="4111" class="Symbol">(</a><a id="4112" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1855" class="Function">utxoDeposits</a> <a id="4125" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4054" class="Bound">h</a><a id="4126" class="Symbol">)</a> <a id="4128" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3670" class="Bound">s&#39;</a><a id="4130" class="Symbol">)</a>
  <a id="4134" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3645" class="Function">UTXOFromConf</a> <a id="4147" class="Symbol">{</a><a id="4148" class="Argument">s</a> <a id="4150" class="Symbol">=</a> <a id="4152" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4152" class="Bound">s</a><a id="4153" class="Symbol">}</a> <a id="4155" class="Symbol">{</a><a id="4156" class="Argument">tx</a> <a id="4159" class="Symbol">=</a> <a id="4161" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4161" class="Bound">tx</a><a id="4163" class="Symbol">}</a> <a id="4165" class="Symbol">.</a><a id="4166" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4172" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4172" class="Bound">validCerts</a> <a id="4183" class="Symbol">(</a><a id="4184" href="Ledger.Conway.Conformance.Utxo.html#2611" class="InductiveConstructor">C.UTXO-inductive</a> <a id="4201" class="Symbol">(</a><a id="4202" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4202" class="Bound">a</a> <a id="4204" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4206" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4206" class="Bound">b</a> <a id="4208" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4210" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4210" class="Bound">c</a> <a id="4212" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4214" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4214" class="Bound">d</a> <a id="4216" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4218" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4218" class="Bound">e</a> <a id="4220" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4222" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4222" class="Bound">f</a> <a id="4224" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4226" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4226" class="Bound">g</a> <a id="4228" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4230" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4230" class="Bound">h</a> <a id="4232" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4234" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4234" class="Bound">i</a> <a id="4236" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4238" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4238" class="Bound">j</a> <a id="4240" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4242" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4242" class="Bound">k</a> <a id="4244" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4246" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4246" class="Bound">l</a> <a id="4248" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4250" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4250" class="Bound">m</a> <a id="4252" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4254" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4254" class="Bound">n</a> <a id="4256" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4258" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4258" class="Bound">o</a> <a id="4260" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4262" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4262" class="Bound">p</a> <a id="4264" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4266" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4266" class="Bound">utxo</a><a id="4270" class="Symbol">))</a> <a id="4273" class="Symbol">=</a>
    <a id="4279" href="Ledger.Conway.Utxo.html#14164" class="InductiveConstructor">L.UTXO-inductive</a> <a id="4296" class="Symbol">(</a><a id="4297" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4202" class="Bound">a</a> <a id="4299" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4301" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4206" class="Bound">b</a> <a id="4303" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4305" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4210" class="Bound">c</a> <a id="4307" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4309" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4214" class="Bound">d</a> <a id="4311" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4313" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4218" class="Bound">e</a> <a id="4315" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4317" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4222" class="Bound">f</a> <a id="4319" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4321" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4226" class="Bound">g</a> <a id="4323" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4325" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4230" class="Bound">h</a> <a id="4327" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4329" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4234" class="Bound">i</a> <a id="4331" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4333" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4238" class="Bound">j</a> <a id="4335" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4337" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4242" class="Bound">k</a> <a id="4339" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4341" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4246" class="Bound">l</a> <a id="4343" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4345" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4250" class="Bound">m</a> <a id="4347" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4349" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4254" class="Bound">n</a> <a id="4351" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4353" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4258" class="Bound">o</a> <a id="4355" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4357" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4262" class="Bound">p</a> <a id="4359" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4361" class="Symbol">(</a><a id="4362" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4172" class="Bound">validCerts</a> <a id="4373" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="4379" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4266" class="Bound">utxo</a><a id="4383" class="Symbol">))</a>

  <a id="UTXOWToConf"></a><a id="4389" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4389" class="Function">UTXOWToConf</a> <a id="4401" class="Symbol">:</a> <a id="4403" class="Symbol">∀</a> <a id="4405" class="Symbol">{</a><a id="4406" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4406" class="Bound">Γ</a> <a id="4408" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4408" class="Bound">s</a> <a id="4410" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4410" class="Bound">tx</a> <a id="4413" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4413" class="Bound">s&#39;</a><a id="4415" class="Symbol">}</a> <a id="4417" class="Symbol">→</a> <a id="4419" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4406" class="Bound">Γ</a> <a id="4421" href="Ledger.Conway.Utxow.html#3780" class="Datatype Operator">L.⊢</a> <a id="4425" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4408" class="Bound">s</a> <a id="4427" href="Ledger.Conway.Utxow.html#3780" class="Datatype Operator">⇀⦇</a> <a id="4430" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4410" class="Bound">tx</a> <a id="4433" href="Ledger.Conway.Utxow.html#3780" class="Datatype Operator">,UTXOW⦈</a> <a id="4441" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4413" class="Bound">s&#39;</a> <a id="4444" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="4446" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4406" class="Bound">Γ</a> <a id="4448" href="Ledger.Conway.Conformance.Utxow.html#684" class="Datatype Operator">C.⊢</a> <a id="4452" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4408" class="Bound">s</a> <a id="4454" href="Ledger.Conway.Conformance.Utxow.html#684" class="Datatype Operator">⇀⦇</a> <a id="4457" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4410" class="Bound">tx</a> <a id="4460" href="Ledger.Conway.Conformance.Utxow.html#684" class="Datatype Operator">,UTXOW⦈</a> <a id="4468" class="Symbol">(</a><a id="4469" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1104" class="Function">withDepositsFrom</a> <a id="4486" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4408" class="Bound">s</a> <a id="4488" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4413" class="Bound">s&#39;</a><a id="4490" class="Symbol">)</a>
  <a id="4494" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4389" class="Function">UTXOWToConf</a> <a id="4506" class="Symbol">.</a><a id="4507" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4513" class="Symbol">_</a> <a id="4515" class="Symbol">(</a><a id="4516" href="Ledger.Conway.Utxow.html#5305" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="4535" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4535" class="Bound">a</a> <a id="4537" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4537" class="Bound">b</a> <a id="4539" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4539" class="Bound">c</a> <a id="4541" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4541" class="Bound">d</a> <a id="4543" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4543" class="Bound">e</a> <a id="4545" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4545" class="Bound">f</a> <a id="4547" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4547" class="Bound">g</a> <a id="4549" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4549" class="Bound">h</a> <a id="4551" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4551" class="Bound">utxo</a><a id="4555" class="Symbol">)</a> <a id="4557" class="Symbol">=</a>
    <a id="4563" href="Ledger.Conway.Conformance.Utxow.html#1989" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="4582" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4535" class="Bound">a</a> <a id="4584" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4537" class="Bound">b</a> <a id="4586" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4539" class="Bound">c</a> <a id="4588" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4541" class="Bound">d</a> <a id="4590" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4543" class="Bound">e</a> <a id="4592" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4545" class="Bound">f</a> <a id="4594" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4547" class="Bound">g</a> <a id="4596" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4549" class="Bound">h</a> <a id="4598" class="Symbol">(</a><a id="4599" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="4604" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4551" class="Bound">utxo</a><a id="4608" class="Symbol">)</a>

  <a id="UTXOWFromConf"></a><a id="4613" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4613" class="Function">UTXOWFromConf</a> <a id="4627" class="Symbol">:</a> <a id="4629" class="Symbol">∀</a> <a id="4631" class="Symbol">{</a><a id="4632" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4632" class="Bound">Γ</a> <a id="4634" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4634" class="Bound">s</a> <a id="4636" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4636" class="Bound">tx</a> <a id="4639" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4639" class="Bound">s&#39;</a><a id="4641" class="Symbol">}</a>
                    <a id="4663" class="Symbol">(</a><a id="4664" class="Keyword">let</a> <a id="4668" class="Keyword">open</a> <a id="4673" href="Ledger.Conway.Utxo.html#2395" class="Module">L.UTxOEnv</a> <a id="4683" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4632" class="Bound">Γ</a> <a id="4685" class="Keyword">using</a> <a id="4691" class="Symbol">()</a> <a id="4694" class="Keyword">renaming</a> <a id="4703" class="Symbol">(</a><a id="4704" href="Ledger.Conway.Utxo.html#2449" class="Field">pparams</a> <a id="4712" class="Symbol">to</a> <a id="4715" class="Field">pp</a><a id="4717" class="Symbol">)</a>
                         <a id="4744" class="Keyword">open</a> <a id="4749" href="Ledger.Conway.Utxo.html#2747" class="Module">L.UTxOState</a> <a id="4761" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4634" class="Bound">s</a> <a id="4763" class="Keyword">using</a> <a id="4769" class="Symbol">(</a><a id="4770" href="Ledger.Conway.Utxo.html#2855" class="Field">deposits</a><a id="4778" class="Symbol">)</a>
                         <a id="4805" class="Keyword">open</a> <a id="4810" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a> <a id="4813" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4636" class="Bound">tx</a> <a id="4816" class="Keyword">renaming</a> <a id="4825" class="Symbol">(</a><a id="4826" href="Ledger.Conway.Transaction.html#4338" class="Field">body</a> <a id="4831" class="Symbol">to</a> <a id="4834" class="Field">txb</a><a id="4837" class="Symbol">)</a>
                         <a id="4864" class="Keyword">open</a> <a id="4869" href="Ledger.Conway.Transaction.html#2762" class="Module">TxBody</a> <a id="4876" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4834" class="Function">txb</a> <a id="4880" class="Keyword">using</a> <a id="4886" class="Symbol">(</a><a id="4887" href="Ledger.Conway.Transaction.html#2996" class="Field">txcerts</a><a id="4894" class="Symbol">))</a>
                <a id="4913" class="Symbol">→</a> <a id="4915" class="Symbol">(</a><a id="4916" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a> <a id="4924" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4636" class="Bound">tx</a> <a id="4927" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4929" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="4935" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="4937" href="Ledger.Conway.Utxo.html#4687" class="Datatype">L.ValidCertDeposits</a> <a id="4957" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4715" class="Function">pp</a> <a id="4960" href="Ledger.Conway.Utxo.html#2855" class="Function">deposits</a> <a id="4969" href="Ledger.Conway.Transaction.html#2996" class="Function">txcerts</a><a id="4976" class="Symbol">)</a>
                  <a id="4996" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="4998" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4632" class="Bound">Γ</a> <a id="5000" href="Ledger.Conway.Conformance.Utxow.html#684" class="Datatype Operator">C.⊢</a> <a id="5004" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4634" class="Bound">s</a> <a id="5006" href="Ledger.Conway.Conformance.Utxow.html#684" class="Datatype Operator">⇀⦇</a> <a id="5009" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4636" class="Bound">tx</a> <a id="5012" href="Ledger.Conway.Conformance.Utxow.html#684" class="Datatype Operator">,UTXOW⦈</a> <a id="5020" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4639" class="Bound">s&#39;</a> <a id="5023" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="5026" class="Symbol">λ</a> <a id="5028" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5028" class="Bound">_</a> <a id="5030" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5030" class="Bound">h</a> <a id="5032" class="Symbol">→</a>
                    <a id="5054" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4632" class="Bound">Γ</a> <a id="5056" href="Ledger.Conway.Utxow.html#3780" class="Datatype Operator">L.⊢</a> <a id="5060" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4634" class="Bound">s</a> <a id="5062" href="Ledger.Conway.Utxow.html#3780" class="Datatype Operator">⇀⦇</a> <a id="5065" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4636" class="Bound">tx</a> <a id="5068" href="Ledger.Conway.Utxow.html#3780" class="Datatype Operator">,UTXOW⦈</a> <a id="5076" class="Symbol">(</a><a id="5077" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#982" class="Function">setDeposits</a> <a id="5089" class="Symbol">(</a><a id="5090" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2003" class="Function">utxowDeposits</a> <a id="5104" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5030" class="Bound">h</a><a id="5105" class="Symbol">)</a> <a id="5107" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4639" class="Bound">s&#39;</a><a id="5109" class="Symbol">)</a>  <a id="5112" class="Comment">-- Conformance doesn&#39;t update deposits in UTXOW</a>
  <a id="5162" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4613" class="Function">UTXOWFromConf</a> <a id="5176" class="Symbol">.</a><a id="5177" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5183" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5183" class="Bound">validCerts</a> <a id="5194" class="Symbol">(</a><a id="5195" href="Ledger.Conway.Conformance.Utxow.html#1989" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="5214" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5214" class="Bound">a</a> <a id="5216" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5216" class="Bound">b</a> <a id="5218" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5218" class="Bound">c</a> <a id="5220" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5220" class="Bound">d</a> <a id="5222" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5222" class="Bound">e</a> <a id="5224" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5224" class="Bound">f</a> <a id="5226" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5226" class="Bound">g</a> <a id="5228" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5228" class="Bound">h</a> <a id="5230" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5230" class="Bound">utxo</a><a id="5234" class="Symbol">)</a> <a id="5236" class="Symbol">=</a>
    <a id="5242" href="Ledger.Conway.Utxow.html#5305" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="5261" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5214" class="Bound">a</a> <a id="5263" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5216" class="Bound">b</a> <a id="5265" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5218" class="Bound">c</a> <a id="5267" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5220" class="Bound">d</a> <a id="5269" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5222" class="Bound">e</a> <a id="5271" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5224" class="Bound">f</a> <a id="5273" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5226" class="Bound">g</a> <a id="5275" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5228" class="Bound">h</a> <a id="5277" class="Symbol">(</a><a id="5278" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5183" class="Bound">validCerts</a> <a id="5289" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5295" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5230" class="Bound">utxo</a><a id="5299" class="Symbol">)</a>
</pre></body></html>