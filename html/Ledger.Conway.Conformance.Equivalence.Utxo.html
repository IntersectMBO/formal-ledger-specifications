<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Equivalence.Utxo</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="101" class="Keyword">open</a> <a id="106" class="Keyword">import</a> <a id="113" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="153" class="Keyword">using</a> <a id="159" class="Symbol">(</a><a id="160" href="Ledger.Conway.Specification.Transaction.html#999" class="Record">TransactionStructure</a><a id="180" class="Symbol">)</a>

<a id="183" class="Keyword">open</a> <a id="188" class="Keyword">import</a> <a id="195" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="205" class="Keyword">using</a> <a id="211" class="Symbol">(</a><a id="212" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="213" class="Symbol">)</a>
<a id="215" class="Keyword">open</a> <a id="220" class="Keyword">import</a> <a id="227" href="Data.Product.html" class="Module">Data.Product</a> <a id="240" class="Keyword">using</a> <a id="246" class="Symbol">(</a><a id="247" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="250" class="Symbol">;</a> <a id="252" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="255" class="Symbol">)</a>
<a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="286" class="Keyword">using</a> <a id="292" class="Symbol">(</a><a id="293" href="Function.Bundles.html#12398" class="Function Operator">_⇔_</a><a id="296" class="Symbol">;</a> <a id="298" href="Function.Bundles.html#13497" class="Function">mk⇔</a><a id="301" class="Symbol">;</a> <a id="303" href="Function.Bundles.html#4750" class="Record">Equivalence</a><a id="314" class="Symbol">)</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="366" class="Keyword">open</a> <a id="371" href="Relation.Binary.PropositionalEquality.Properties.html#6850" class="Module">≡-Reasoning</a>

<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>

<a id="443" class="Keyword">module</a> <a id="450" href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="Module">Ledger.Conway.Conformance.Equivalence.Utxo</a>
  <a id="495" class="Symbol">(</a><a id="496" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="500" class="Symbol">:</a> <a id="502" class="Symbol">_)</a> <a id="505" class="Symbol">(</a><a id="506" class="Keyword">open</a> <a id="511" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="532" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a><a id="535" class="Symbol">)</a>
  <a id="539" class="Symbol">(</a><a id="540" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="544" class="Symbol">:</a> <a id="546" href="Ledger.Conway.Specification.Abstract.html#875" class="Record">AbstractFunctions</a> <a id="564" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a><a id="567" class="Symbol">)</a> <a id="569" class="Symbol">(</a><a id="570" class="Keyword">open</a> <a id="575" href="Ledger.Conway.Specification.Abstract.html#875" class="Module">AbstractFunctions</a> <a id="593" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a><a id="596" class="Symbol">)</a>
  <a id="600" class="Keyword">where</a>

<a id="607" class="Keyword">private</a>
  <a id="617" class="Keyword">module</a> <a id="L"></a><a id="624" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#624" class="Module">L</a> <a id="626" class="Keyword">where</a>
    <a id="636" class="Keyword">open</a> <a id="641" class="Keyword">import</a> <a id="648" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="681" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="685" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="689" class="Keyword">public</a>
    <a id="700" class="Keyword">open</a> <a id="705" class="Keyword">import</a> <a id="712" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="746" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="750" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="754" class="Keyword">public</a>
    <a id="765" class="Keyword">open</a> <a id="770" class="Keyword">import</a> <a id="777" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="811" href="Ledger.Conway.Specification.Transaction.html#2275" class="Function">govStructure</a> <a id="824" class="Keyword">public</a>

  <a id="834" class="Keyword">module</a> <a id="C"></a><a id="841" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#841" class="Module">C</a> <a id="843" class="Keyword">where</a>
    <a id="853" class="Keyword">open</a> <a id="858" class="Keyword">import</a> <a id="865" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="896" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="900" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="904" class="Keyword">public</a>
    <a id="915" class="Keyword">open</a> <a id="920" class="Keyword">import</a> <a id="927" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="959" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#496" class="Bound">txs</a> <a id="963" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#540" class="Bound">abs</a> <a id="967" class="Keyword">public</a>
    <a id="978" class="Keyword">open</a> <a id="983" class="Keyword">import</a> <a id="990" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="1022" href="Ledger.Conway.Specification.Transaction.html#2275" class="Function">govStructure</a> <a id="1035" class="Keyword">public</a>

<a id="1043" class="Keyword">open</a> <a id="1048" href="Ledger.Conway.Specification.Transaction.html#4880" class="Module">Tx</a>

<a id="setDeposits"></a><a id="1052" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="1064" class="Symbol">:</a> <a id="1066" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="1077" class="Symbol">→</a> <a id="1079" href="Ledger.Conway.Specification.Utxo.html#1226" class="Record">L.UTxOState</a> <a id="1091" class="Symbol">→</a> <a id="1093" href="Ledger.Conway.Specification.Utxo.html#1226" class="Record">L.UTxOState</a>
<a id="1105" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="1117" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1117" class="Bound">deposits</a> <a id="1126" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1126" class="Bound">utxoSt</a> <a id="1133" class="Symbol">=</a> <a id="1135" class="Keyword">record</a> <a id="1142" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1126" class="Bound">utxoSt</a> <a id="1149" class="Symbol">{</a> <a id="1151" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a> <a id="1160" class="Symbol">=</a> <a id="1162" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1117" class="Bound">deposits</a> <a id="1171" class="Symbol">}</a>

<a id="withDepositsFrom"></a><a id="1174" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="1191" class="Symbol">:</a> <a id="1193" href="Ledger.Conway.Specification.Utxo.html#1226" class="Record">L.UTxOState</a> <a id="1205" class="Symbol">→</a> <a id="1207" href="Ledger.Conway.Specification.Utxo.html#1226" class="Record">L.UTxOState</a> <a id="1219" class="Symbol">→</a> <a id="1221" href="Ledger.Conway.Specification.Utxo.html#1226" class="Record">L.UTxOState</a>
<a id="1233" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="1250" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1250" class="Bound">utxoSt</a> <a id="1257" class="Symbol">=</a> <a id="1259" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="1271" class="Symbol">(</a><a id="1272" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="1293" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1250" class="Bound">utxoSt</a><a id="1299" class="Symbol">)</a>

<a id="1302" class="Keyword">instance</a>

  <a id="UTXOSToConf"></a><a id="1314" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1314" class="Function">UTXOSToConf</a> <a id="1326" class="Symbol">:</a> <a id="1328" class="Symbol">∀</a> <a id="1330" class="Symbol">{</a><a id="1331" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1331" class="Bound">Γ</a> <a id="1333" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1333" class="Bound">s</a> <a id="1335" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1335" class="Bound">tx</a> <a id="1338" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1338" class="Bound">s&#39;</a><a id="1340" class="Symbol">}</a> <a id="1342" class="Symbol">→</a> <a id="1344" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1331" class="Bound">Γ</a> <a id="1346" href="Ledger.Conway.Specification.Utxo.html#11579" class="Datatype Operator">L.⊢</a> <a id="1350" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1333" class="Bound">s</a> <a id="1352" href="Ledger.Conway.Specification.Utxo.html#11579" class="Datatype Operator">⇀⦇</a> <a id="1355" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1335" class="Bound">tx</a> <a id="1358" href="Ledger.Conway.Specification.Utxo.html#11579" class="Datatype Operator">,UTXOS⦈</a> <a id="1366" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1338" class="Bound">s&#39;</a> <a id="1369" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="1371" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1331" class="Bound">Γ</a> <a id="1373" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">C.⊢</a> <a id="1377" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1333" class="Bound">s</a> <a id="1379" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">⇀⦇</a> <a id="1382" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1335" class="Bound">tx</a> <a id="1385" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">,UTXOS⦈</a> <a id="1393" class="Symbol">(</a><a id="1394" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="1411" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1333" class="Bound">s</a> <a id="1413" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1338" class="Bound">s&#39;</a><a id="1415" class="Symbol">)</a>
  <a id="1419" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1314" class="Function">UTXOSToConf</a> <a id="1431" class="Symbol">.</a><a id="1432" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1438" class="Symbol">_</a> <a id="1440" class="Symbol">(</a><a id="1441" href="Ledger.Conway.Specification.Utxo.html#11649" class="InductiveConstructor">L.Scripts-Yes</a> <a id="1455" class="Symbol">(</a><a id="1456" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1456" class="Bound">certsValid</a> <a id="1467" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1469" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1469" class="Bound">eval</a> <a id="1474" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1476" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1476" class="Bound">txValid</a><a id="1483" class="Symbol">))</a> <a id="1486" class="Symbol">=</a> <a id="1488" href="Ledger.Conway.Conformance.Utxo.html#1227" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1502" class="Symbol">(</a><a id="1503" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1469" class="Bound">eval</a> <a id="1508" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1510" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1476" class="Bound">txValid</a><a id="1517" class="Symbol">)</a>
  <a id="1521" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1314" class="Function">UTXOSToConf</a> <a id="1533" class="Symbol">.</a><a id="1534" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="1540" class="Symbol">_</a> <a id="1542" class="Symbol">(</a><a id="1543" href="Ledger.Conway.Specification.Utxo.html#12167" class="InductiveConstructor">L.Scripts-No</a> <a id="1556" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1556" class="Bound">h</a><a id="1557" class="Symbol">)</a>                              <a id="1588" class="Symbol">=</a> <a id="1590" href="Ledger.Conway.Conformance.Utxo.html#1822" class="InductiveConstructor">C.Scripts-No</a> <a id="1603" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1556" class="Bound">h</a>

<a id="1606" class="Keyword">module</a> <a id="1613" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1613" class="Module">_</a> <a id="1615" class="Symbol">{</a><a id="1616" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="1618" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="1620" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="1623" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1623" class="Bound">s&#39;</a><a id="1625" class="Symbol">}</a> <a id="1627" class="Keyword">where</a>
  <a id="1635" class="Keyword">open</a> <a id="1640" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="1650" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="1652" class="Keyword">renaming</a> <a id="1661" class="Symbol">(</a><a id="1662" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a> <a id="1670" class="Symbol">to</a> <a id="1673" class="Field">pp</a><a id="1675" class="Symbol">)</a>
  <a id="1679" class="Keyword">open</a> <a id="1684" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="1696" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="1698" class="Keyword">using</a> <a id="1704" class="Symbol">(</a><a id="1705" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="1713" class="Symbol">)</a>
  <a id="1717" class="Keyword">open</a> <a id="1722" href="Ledger.Conway.Specification.Transaction.html#4880" class="Module">Tx</a> <a id="1725" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="1728" class="Keyword">renaming</a> <a id="1737" class="Symbol">(</a><a id="1738" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">body</a> <a id="1743" class="Symbol">to</a> <a id="1746" class="Field">txb</a><a id="1749" class="Symbol">)</a>

  <a id="1754" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="1768" class="Symbol">:</a> <a id="1770" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="1772" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">C.⊢</a> <a id="1776" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="1778" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">⇀⦇</a> <a id="1781" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="1784" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">,UTXOS⦈</a> <a id="1792" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1623" class="Bound">s&#39;</a> <a id="1795" class="Symbol">→</a> <a id="1797" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a>
  <a id="1810" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="1824" class="Symbol">(</a><a id="1825" href="Ledger.Conway.Conformance.Utxo.html#1227" class="InductiveConstructor">C.Scripts-Yes</a> <a id="1839" class="Symbol">_)</a> <a id="1842" class="Symbol">=</a> <a id="1844" href="Ledger.Conway.Specification.Utxo.html#8233" class="Function">L.updateDeposits</a> <a id="1861" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1673" class="Function">pp</a> <a id="1864" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1746" class="Function">txb</a> <a id="1868" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a>
  <a id="1879" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="1893" class="Symbol">(</a><a id="1894" href="Ledger.Conway.Conformance.Utxo.html#1822" class="InductiveConstructor">C.Scripts-No</a>  <a id="1908" class="Symbol">_)</a> <a id="1911" class="Symbol">=</a> <a id="1913" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a>

  <a id="1925" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1925" class="Function">utxoDeposits</a> <a id="1938" class="Symbol">:</a> <a id="1940" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="1942" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">C.⊢</a> <a id="1946" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="1948" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">⇀⦇</a> <a id="1951" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="1954" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">,UTXO⦈</a> <a id="1961" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1623" class="Bound">s&#39;</a> <a id="1964" class="Symbol">→</a> <a id="1966" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a>
  <a id="1979" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1925" class="Function">utxoDeposits</a> <a id="1992" class="Symbol">(</a><a id="1993" href="Ledger.Conway.Conformance.Utxo.html#4059" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2011" class="Symbol">_</a> <a id="2013" class="Symbol">_</a> <a id="2015" class="Symbol">_</a> <a id="2017" class="Symbol">_</a> <a id="2019" class="Symbol">_</a> <a id="2021" class="Symbol">_</a> <a id="2023" class="Symbol">_</a> <a id="2025" class="Symbol">_</a> <a id="2027" class="Symbol">_</a> <a id="2029" class="Symbol">_</a> <a id="2031" class="Symbol">_</a> <a id="2033" class="Symbol">_</a> <a id="2035" class="Symbol">_</a> <a id="2037" class="Symbol">_</a> <a id="2039" class="Symbol">_</a> <a id="2041" class="Symbol">_</a> <a id="2043" class="Symbol">_</a> <a id="2045" class="Symbol">_</a> <a id="2047" class="Symbol">_</a> <a id="2049" class="Symbol">_</a> <a id="2051" class="Symbol">_</a> <a id="2053" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2053" class="Bound">h</a><a id="2054" class="Symbol">)</a> <a id="2056" class="Symbol">=</a> <a id="2058" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="2072" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2053" class="Bound">h</a>

  <a id="2077" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2077" class="Function">utxowDeposits</a> <a id="2091" class="Symbol">:</a> <a id="2093" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1616" class="Bound">Γ</a> <a id="2095" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="2099" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1618" class="Bound">s</a> <a id="2101" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="2104" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1620" class="Bound">tx</a> <a id="2107" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="2115" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1623" class="Bound">s&#39;</a> <a id="2118" class="Symbol">→</a> <a id="2120" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a>
  <a id="2133" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2077" class="Function">utxowDeposits</a> <a id="2147" class="Symbol">(</a><a id="2148" href="Ledger.Conway.Conformance.Utxow.html#2936" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="2167" class="Symbol">_</a> <a id="2169" class="Symbol">_</a> <a id="2171" class="Symbol">_</a> <a id="2173" class="Symbol">_</a> <a id="2175" class="Symbol">_</a> <a id="2177" class="Symbol">_</a> <a id="2179" class="Symbol">_</a> <a id="2181" class="Symbol">_</a> <a id="2183" class="Symbol">_</a> <a id="2185" class="Symbol">_</a> <a id="2187" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2187" class="Bound">h</a><a id="2188" class="Symbol">)</a> <a id="2190" class="Symbol">=</a> <a id="2192" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1925" class="Function">utxoDeposits</a> <a id="2205" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2187" class="Bound">h</a>

<a id="2208" class="Keyword">instance</a>
  <a id="2219" class="Comment">-- Here we pass in the ValidCertDeposits proof explicitly and</a>
  <a id="2283" class="Comment">-- override the deposits in s&#39; with updateDeposits (in case of</a>
  <a id="2348" class="Comment">-- Scripts-Yes).</a>
  <a id="UTXOSFromConf"></a><a id="2367" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2367" class="Function">UTXOSFromConf</a> <a id="2381" class="Symbol">:</a> <a id="2383" class="Symbol">∀</a> <a id="2385" class="Symbol">{</a><a id="2386" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2386" class="Bound">Γ</a> <a id="2388" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2388" class="Bound">s</a> <a id="2390" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2390" class="Bound">tx</a> <a id="2393" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2393" class="Bound">s&#39;</a><a id="2395" class="Symbol">}</a>
                    <a id="2417" class="Symbol">(</a><a id="2418" class="Keyword">let</a> <a id="2422" class="Keyword">open</a> <a id="2427" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="2437" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2386" class="Bound">Γ</a> <a id="2439" class="Keyword">using</a> <a id="2445" class="Symbol">()</a> <a id="2448" class="Keyword">renaming</a> <a id="2457" class="Symbol">(</a><a id="2458" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a> <a id="2466" class="Symbol">to</a> <a id="2469" class="Field">pp</a><a id="2471" class="Symbol">)</a>
                         <a id="2498" class="Keyword">open</a> <a id="2503" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="2515" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2388" class="Bound">s</a> <a id="2517" class="Keyword">using</a> <a id="2523" class="Symbol">(</a><a id="2524" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="2532" class="Symbol">)</a>
                         <a id="2559" class="Keyword">open</a> <a id="2564" href="Ledger.Conway.Specification.Transaction.html#4880" class="Module">Tx</a> <a id="2567" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2390" class="Bound">tx</a> <a id="2570" class="Keyword">renaming</a> <a id="2579" class="Symbol">(</a><a id="2580" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">body</a> <a id="2585" class="Symbol">to</a> <a id="2588" class="Field">txb</a><a id="2591" class="Symbol">)</a>
                         <a id="2618" class="Keyword">open</a> <a id="2623" href="Ledger.Conway.Specification.Transaction.html#3194" class="Module">TxBody</a> <a id="2630" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2588" class="Function">txb</a> <a id="2634" class="Keyword">using</a> <a id="2640" class="Symbol">(</a><a id="2641" href="Ledger.Conway.Specification.Transaction.html#3412" class="Field">txCerts</a><a id="2648" class="Symbol">))</a>
                <a id="2667" class="Symbol">→</a> <a id="2669" class="Symbol">(</a><a id="2670" href="Ledger.Conway.Specification.Transaction.html#4984" class="Field">isValid</a> <a id="2678" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2390" class="Bound">tx</a> <a id="2681" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2683" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2689" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2691" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="2711" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2469" class="Function">pp</a> <a id="2714" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a> <a id="2723" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a><a id="2730" class="Symbol">)</a>
                  <a id="2750" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="2752" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2386" class="Bound">Γ</a> <a id="2754" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">C.⊢</a> <a id="2758" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2388" class="Bound">s</a> <a id="2760" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">⇀⦇</a> <a id="2763" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2390" class="Bound">tx</a> <a id="2766" href="Ledger.Conway.Conformance.Utxo.html#1158" class="Datatype Operator">,UTXOS⦈</a> <a id="2774" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2393" class="Bound">s&#39;</a> <a id="2777" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="2780" class="Symbol">λ</a> <a id="2782" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2782" class="Bound">_</a> <a id="2784" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2784" class="Bound">h</a> <a id="2786" class="Symbol">→</a>
                    <a id="2808" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2386" class="Bound">Γ</a> <a id="2810" href="Ledger.Conway.Specification.Utxo.html#11579" class="Datatype Operator">L.⊢</a> <a id="2814" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2388" class="Bound">s</a> <a id="2816" href="Ledger.Conway.Specification.Utxo.html#11579" class="Datatype Operator">⇀⦇</a> <a id="2819" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2390" class="Bound">tx</a> <a id="2822" href="Ledger.Conway.Specification.Utxo.html#11579" class="Datatype Operator">,UTXOS⦈</a> <a id="2830" class="Symbol">(</a><a id="2831" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="2843" class="Symbol">(</a><a id="2844" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1754" class="Function">utxoSDeposits</a> <a id="2858" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2784" class="Bound">h</a><a id="2859" class="Symbol">)</a> <a id="2861" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2393" class="Bound">s&#39;</a><a id="2863" class="Symbol">)</a>
  <a id="2867" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2367" class="Function">UTXOSFromConf</a> <a id="2881" class="Symbol">.</a><a id="2882" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2888" class="Symbol">(</a><a id="2889" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2894" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2898" class="Symbol">)</a>       <a id="2906" class="Symbol">(</a><a id="2907" href="Ledger.Conway.Conformance.Utxo.html#1227" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2921" class="Symbol">(</a><a id="2922" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2922" class="Bound">eval</a> <a id="2927" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2929" class="Symbol">()))</a>
  <a id="2936" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2367" class="Function">UTXOSFromConf</a> <a id="2950" class="Symbol">.</a><a id="2951" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="2957" class="Symbol">(</a><a id="2958" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2963" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2963" class="Bound">validCerts</a><a id="2973" class="Symbol">)</a> <a id="2975" class="Symbol">(</a><a id="2976" href="Ledger.Conway.Conformance.Utxo.html#1227" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2990" class="Symbol">(</a><a id="2991" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2991" class="Bound">eval</a> <a id="2996" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2998" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2998" class="Bound">txValid</a><a id="3005" class="Symbol">))</a> <a id="3008" class="Symbol">=</a> <a id="3010" href="Ledger.Conway.Specification.Utxo.html#11649" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3024" class="Symbol">(</a><a id="3025" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2963" class="Bound">validCerts</a> <a id="3036" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3038" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2991" class="Bound">eval</a> <a id="3043" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3045" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2998" class="Bound">txValid</a><a id="3052" class="Symbol">)</a>
  <a id="3056" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2367" class="CatchallClause Function">UTXOSFromConf</a><a id="3069" class="CatchallClause"> </a><a id="3070" class="CatchallClause Symbol">.</a><a id="3071" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="CatchallClause Field">convⁱ</a><a id="3076" class="CatchallClause"> </a><a id="3077" class="CatchallClause Symbol">_</a><a id="3078" class="CatchallClause"> </a><a id="3079" class="CatchallClause Symbol">(</a><a id="3080" href="Ledger.Conway.Conformance.Utxo.html#1822" class="CatchallClause InductiveConstructor">C.Scripts-No</a><a id="3092" class="CatchallClause"> </a><a id="3093" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3093" class="CatchallClause Bound">h</a><a id="3094" class="CatchallClause Symbol">)</a> <a id="3096" class="Symbol">=</a> <a id="3098" href="Ledger.Conway.Specification.Utxo.html#12167" class="InductiveConstructor">L.Scripts-No</a> <a id="3111" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3093" class="Bound">h</a>

<a id="3114" class="Keyword">instance</a>
  <a id="3125" class="Comment">-- It&#39;s a little weird that UTXO still has a bunch of preconditions</a>
  <a id="3195" class="Comment">-- for consumed and produced (using updateDeposits) when the</a>
  <a id="3258" class="Comment">-- deposits don&#39;t change! Why are they even part of the UTxOState?</a>
  <a id="3327" class="Comment">-- In conformance the update happens in GOVCERT (under CERT).</a>
  <a id="UTXOToConf"></a><a id="3391" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3391" class="Function">UTXOToConf</a> <a id="3402" class="Symbol">:</a> <a id="3404" class="Symbol">∀</a> <a id="3406" class="Symbol">{</a><a id="3407" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3407" class="Bound">Γ</a> <a id="3409" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3409" class="Bound">s</a> <a id="3411" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3411" class="Bound">tx</a> <a id="3414" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3414" class="Bound">s&#39;</a><a id="3416" class="Symbol">}</a> <a id="3418" class="Symbol">→</a> <a id="3420" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3407" class="Bound">Γ</a> <a id="3422" href="Ledger.Conway.Specification.Utxo.html#2159" class="Datatype Operator">L.⊢</a> <a id="3426" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3409" class="Bound">s</a> <a id="3428" href="Ledger.Conway.Specification.Utxo.html#2159" class="Datatype Operator">⇀⦇</a> <a id="3431" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3411" class="Bound">tx</a> <a id="3434" href="Ledger.Conway.Specification.Utxo.html#2159" class="Datatype Operator">,UTXO⦈</a> <a id="3441" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3414" class="Bound">s&#39;</a> <a id="3444" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="3446" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3407" class="Bound">Γ</a> <a id="3448" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">C.⊢</a> <a id="3452" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3409" class="Bound">s</a> <a id="3454" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">⇀⦇</a> <a id="3457" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3411" class="Bound">tx</a> <a id="3460" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">,UTXO⦈</a> <a id="3467" class="Symbol">(</a><a id="3468" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="3485" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3409" class="Bound">s</a> <a id="3487" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3414" class="Bound">s&#39;</a><a id="3489" class="Symbol">)</a>
  <a id="3493" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3391" class="Function">UTXOToConf</a> <a id="3504" class="Symbol">{</a><a id="3505" class="Argument">s</a> <a id="3507" class="Symbol">=</a> <a id="3509" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3509" class="Bound">s</a><a id="3510" class="Symbol">}</a> <a id="3512" class="Symbol">{</a><a id="3513" class="Argument">tx</a> <a id="3516" class="Symbol">=</a> <a id="3518" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3518" class="Bound">tx</a><a id="3520" class="Symbol">}</a> <a id="3522" class="Symbol">.</a><a id="3523" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="3529" class="Symbol">_</a> <a id="3531" class="Symbol">(</a><a id="3532" href="Ledger.Conway.Specification.Utxo.html#12829" class="InductiveConstructor">L.UTXO-inductive</a> <a id="3549" class="Symbol">(</a><a id="3550" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3550" class="Bound">a</a> <a id="3552" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3554" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3554" class="Bound">b</a> <a id="3556" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3558" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3558" class="Bound">c</a> <a id="3560" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3562" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3562" class="Bound">d</a> <a id="3564" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3566" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3566" class="Bound">e</a> <a id="3568" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3570" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3570" class="Bound">f</a> <a id="3572" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3574" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3574" class="Bound">g</a> <a id="3576" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3578" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3578" class="Bound">r</a> <a id="3580" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3582" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3582" class="Bound">h</a> <a id="3584" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3586" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3586" class="Bound">i</a> <a id="3588" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3590" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3590" class="Bound">j</a> <a id="3592" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3594" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3594" class="Bound">k</a> <a id="3596" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3598" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3598" class="Bound">l</a> <a id="3600" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3602" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3602" class="Bound">m</a> <a id="3604" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3606" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3606" class="Bound">n</a> <a id="3608" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3610" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3610" class="Bound">o</a> <a id="3612" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3614" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3614" class="Bound">p</a> <a id="3616" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3618" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3618" class="Bound">q</a> <a id="3620" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3622" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3622" class="Bound">utxo</a><a id="3626" class="Symbol">))</a> <a id="3629" class="Symbol">=</a>
    <a id="3635" href="Ledger.Conway.Conformance.Utxo.html#2676" class="InductiveConstructor">C.UTXO-inductive</a> <a id="3652" class="Symbol">(</a><a id="3653" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3550" class="Bound">a</a> <a id="3655" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3657" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3554" class="Bound">b</a> <a id="3659" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3661" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3558" class="Bound">c</a> <a id="3663" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3665" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3562" class="Bound">d</a> <a id="3667" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3669" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3566" class="Bound">e</a> <a id="3671" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3673" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3570" class="Bound">f</a> <a id="3675" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3677" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3574" class="Bound">g</a> <a id="3679" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3681" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3578" class="Bound">r</a> <a id="3683" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3685" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3582" class="Bound">h</a> <a id="3687" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3689" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3586" class="Bound">i</a> <a id="3691" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3693" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3590" class="Bound">j</a> <a id="3695" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3697" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3594" class="Bound">k</a> <a id="3699" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3701" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3598" class="Bound">l</a> <a id="3703" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3705" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3602" class="Bound">m</a> <a id="3707" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3709" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3606" class="Bound">n</a> <a id="3711" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3713" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3610" class="Bound">o</a> <a id="3715" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3717" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3614" class="Bound">p</a> <a id="3719" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3721" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3618" class="Bound">q</a> <a id="3723" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3725" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="3730" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3622" class="Bound">utxo</a><a id="3734" class="Symbol">)</a>

  <a id="UTXOFromConf"></a><a id="3739" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3739" class="Function">UTXOFromConf</a> <a id="3752" class="Symbol">:</a> <a id="3754" class="Symbol">∀</a> <a id="3756" class="Symbol">{</a><a id="3757" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3757" class="Bound">Γ</a> <a id="3759" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3759" class="Bound">s</a> <a id="3761" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3761" class="Bound">tx</a> <a id="3764" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3764" class="Bound">s&#39;</a><a id="3766" class="Symbol">}</a>
                   <a id="3787" class="Symbol">(</a><a id="3788" class="Keyword">let</a> <a id="3792" class="Keyword">open</a> <a id="3797" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="3807" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3757" class="Bound">Γ</a> <a id="3809" class="Keyword">using</a> <a id="3815" class="Symbol">()</a> <a id="3818" class="Keyword">renaming</a> <a id="3827" class="Symbol">(</a><a id="3828" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a> <a id="3836" class="Symbol">to</a> <a id="3839" class="Field">pp</a><a id="3841" class="Symbol">)</a>
                        <a id="3867" class="Keyword">open</a> <a id="3872" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="3884" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3759" class="Bound">s</a> <a id="3886" class="Keyword">using</a> <a id="3892" class="Symbol">(</a><a id="3893" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="3901" class="Symbol">)</a>
                        <a id="3927" class="Keyword">open</a> <a id="3932" href="Ledger.Conway.Specification.Transaction.html#4880" class="Module">Tx</a> <a id="3935" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3761" class="Bound">tx</a> <a id="3938" class="Keyword">renaming</a> <a id="3947" class="Symbol">(</a><a id="3948" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">body</a> <a id="3953" class="Symbol">to</a> <a id="3956" class="Field">txb</a><a id="3959" class="Symbol">)</a>
                        <a id="3985" class="Keyword">open</a> <a id="3990" href="Ledger.Conway.Specification.Transaction.html#3194" class="Module">TxBody</a> <a id="3997" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3956" class="Function">txb</a> <a id="4001" class="Keyword">using</a> <a id="4007" class="Symbol">(</a><a id="4008" href="Ledger.Conway.Specification.Transaction.html#3412" class="Field">txCerts</a><a id="4015" class="Symbol">))</a>
               <a id="4033" class="Symbol">→</a> <a id="4035" class="Symbol">(</a><a id="4036" href="Ledger.Conway.Specification.Transaction.html#4984" class="Field">isValid</a> <a id="4044" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3761" class="Bound">tx</a> <a id="4047" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4049" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="4055" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="4057" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="4077" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3839" class="Function">pp</a> <a id="4080" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a> <a id="4089" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a><a id="4096" class="Symbol">)</a>
                 <a id="4115" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="4117" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3757" class="Bound">Γ</a> <a id="4119" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">C.⊢</a> <a id="4123" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3759" class="Bound">s</a> <a id="4125" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">⇀⦇</a> <a id="4128" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3761" class="Bound">tx</a> <a id="4131" href="Ledger.Conway.Conformance.Utxo.html#2607" class="Datatype Operator">,UTXO⦈</a> <a id="4138" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3764" class="Bound">s&#39;</a> <a id="4141" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="4144" class="Symbol">λ</a> <a id="4146" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4146" class="Bound">_</a> <a id="4148" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4148" class="Bound">h</a> <a id="4150" class="Symbol">→</a>
                   <a id="4171" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3757" class="Bound">Γ</a> <a id="4173" href="Ledger.Conway.Specification.Utxo.html#2159" class="Datatype Operator">L.⊢</a> <a id="4177" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3759" class="Bound">s</a> <a id="4179" href="Ledger.Conway.Specification.Utxo.html#2159" class="Datatype Operator">⇀⦇</a> <a id="4182" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3761" class="Bound">tx</a> <a id="4185" href="Ledger.Conway.Specification.Utxo.html#2159" class="Datatype Operator">,UTXO⦈</a> <a id="4192" class="Symbol">(</a><a id="4193" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="4205" class="Symbol">(</a><a id="4206" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1925" class="Function">utxoDeposits</a> <a id="4219" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4148" class="Bound">h</a><a id="4220" class="Symbol">)</a> <a id="4222" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3764" class="Bound">s&#39;</a><a id="4224" class="Symbol">)</a>
  <a id="4228" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#3739" class="Function">UTXOFromConf</a> <a id="4241" class="Symbol">{</a><a id="4242" class="Argument">s</a> <a id="4244" class="Symbol">=</a> <a id="4246" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4246" class="Bound">s</a><a id="4247" class="Symbol">}</a> <a id="4249" class="Symbol">{</a><a id="4250" class="Argument">tx</a> <a id="4253" class="Symbol">=</a> <a id="4255" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4255" class="Bound">tx</a><a id="4257" class="Symbol">}</a> <a id="4259" class="Symbol">.</a><a id="4260" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4266" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4266" class="Bound">validCerts</a> <a id="4277" class="Symbol">(</a><a id="4278" href="Ledger.Conway.Conformance.Utxo.html#2676" class="InductiveConstructor">C.UTXO-inductive</a> <a id="4295" class="Symbol">(</a><a id="4296" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4296" class="Bound">a</a> <a id="4298" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4300" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4300" class="Bound">b</a> <a id="4302" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4304" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4304" class="Bound">c</a> <a id="4306" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4308" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4308" class="Bound">d</a> <a id="4310" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4312" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4312" class="Bound">e</a> <a id="4314" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4316" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4316" class="Bound">f</a> <a id="4318" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4320" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4320" class="Bound">g</a> <a id="4322" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4324" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4324" class="Bound">r</a> <a id="4326" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4328" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4328" class="Bound">h</a> <a id="4330" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4332" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4332" class="Bound">i</a> <a id="4334" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4336" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4336" class="Bound">j</a> <a id="4338" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4340" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4340" class="Bound">k</a> <a id="4342" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4344" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4344" class="Bound">l</a> <a id="4346" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4348" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4348" class="Bound">m</a> <a id="4350" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4352" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4352" class="Bound">n</a> <a id="4354" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4356" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4356" class="Bound">o</a> <a id="4358" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4360" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4360" class="Bound">p</a> <a id="4362" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4364" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4364" class="Bound">q</a> <a id="4366" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4368" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4368" class="Bound">utxo</a><a id="4372" class="Symbol">))</a> <a id="4375" class="Symbol">=</a>
    <a id="4381" href="Ledger.Conway.Specification.Utxo.html#12829" class="InductiveConstructor">L.UTXO-inductive</a> <a id="4398" class="Symbol">(</a><a id="4399" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4296" class="Bound">a</a> <a id="4401" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4403" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4300" class="Bound">b</a> <a id="4405" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4407" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4304" class="Bound">c</a> <a id="4409" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4411" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4308" class="Bound">d</a> <a id="4413" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4415" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4312" class="Bound">e</a> <a id="4417" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4419" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4316" class="Bound">f</a> <a id="4421" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4423" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4320" class="Bound">g</a> <a id="4425" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4427" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4324" class="Bound">r</a> <a id="4429" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4431" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4328" class="Bound">h</a> <a id="4433" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4435" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4332" class="Bound">i</a> <a id="4437" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4439" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4336" class="Bound">j</a> <a id="4441" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4443" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4340" class="Bound">k</a> <a id="4445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4447" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4344" class="Bound">l</a> <a id="4449" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4451" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4348" class="Bound">m</a> <a id="4453" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4455" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4352" class="Bound">n</a> <a id="4457" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4459" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4356" class="Bound">o</a> <a id="4461" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4463" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4360" class="Bound">p</a> <a id="4465" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4467" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4364" class="Bound">q</a> <a id="4469" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4471" class="Symbol">(</a><a id="4472" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4266" class="Bound">validCerts</a> <a id="4483" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="4489" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4368" class="Bound">utxo</a><a id="4493" class="Symbol">))</a>

  <a id="UTXOWToConf"></a><a id="4499" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4499" class="Function">UTXOWToConf</a> <a id="4511" class="Symbol">:</a> <a id="4513" class="Symbol">∀</a> <a id="4515" class="Symbol">{</a><a id="4516" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4516" class="Bound">Γ</a> <a id="4518" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4518" class="Bound">s</a> <a id="4520" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4520" class="Bound">tx</a> <a id="4523" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4523" class="Bound">s&#39;</a><a id="4525" class="Symbol">}</a> <a id="4527" class="Symbol">→</a> <a id="4529" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4516" class="Bound">Γ</a> <a id="4531" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="4535" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4518" class="Bound">s</a> <a id="4537" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="4540" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4520" class="Bound">tx</a> <a id="4543" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="4551" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4523" class="Bound">s&#39;</a> <a id="4554" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="4556" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4516" class="Bound">Γ</a> <a id="4558" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="4562" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4518" class="Bound">s</a> <a id="4564" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="4567" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4520" class="Bound">tx</a> <a id="4570" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="4578" class="Symbol">(</a><a id="4579" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1174" class="Function">withDepositsFrom</a> <a id="4596" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4518" class="Bound">s</a> <a id="4598" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4523" class="Bound">s&#39;</a><a id="4600" class="Symbol">)</a>
  <a id="4604" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4499" class="Function">UTXOWToConf</a> <a id="4616" class="Symbol">.</a><a id="4617" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="4623" class="Symbol">_</a> <a id="4625" class="Symbol">(</a><a id="4626" href="Ledger.Conway.Specification.Utxow.html#5353" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="4645" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4645" class="Bound">a</a> <a id="4647" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4647" class="Bound">b</a> <a id="4649" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4649" class="Bound">c</a> <a id="4651" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4651" class="Bound">d</a> <a id="4653" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4653" class="Bound">e</a> <a id="4655" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4655" class="Bound">f</a> <a id="4657" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4657" class="Bound">g</a> <a id="4659" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4659" class="Bound">h</a> <a id="4661" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4661" class="Bound">i</a> <a id="4663" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4663" class="Bound">j</a> <a id="4665" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4665" class="Bound">utxo</a><a id="4669" class="Symbol">)</a> <a id="4671" class="Symbol">=</a>
    <a id="4677" href="Ledger.Conway.Conformance.Utxow.html#2936" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="4696" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4645" class="Bound">a</a> <a id="4698" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4647" class="Bound">b</a> <a id="4700" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4649" class="Bound">c</a> <a id="4702" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4651" class="Bound">d</a> <a id="4704" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4653" class="Bound">e</a> <a id="4706" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4655" class="Bound">f</a> <a id="4708" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4657" class="Bound">g</a> <a id="4710" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4659" class="Bound">h</a> <a id="4712" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4661" class="Bound">i</a> <a id="4714" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4663" class="Bound">j</a> <a id="4716" class="Symbol">(</a><a id="4717" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="4722" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4665" class="Bound">utxo</a><a id="4726" class="Symbol">)</a>

  <a id="UTXOWFromConf"></a><a id="4731" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4731" class="Function">UTXOWFromConf</a> <a id="4745" class="Symbol">:</a> <a id="4747" class="Symbol">∀</a> <a id="4749" class="Symbol">{</a><a id="4750" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4750" class="Bound">Γ</a> <a id="4752" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4752" class="Bound">s</a> <a id="4754" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4754" class="Bound">tx</a> <a id="4757" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4757" class="Bound">s&#39;</a><a id="4759" class="Symbol">}</a>
                    <a id="4781" class="Symbol">(</a><a id="4782" class="Keyword">let</a> <a id="4786" class="Keyword">open</a> <a id="4791" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="4801" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4750" class="Bound">Γ</a> <a id="4803" class="Keyword">using</a> <a id="4809" class="Symbol">()</a> <a id="4812" class="Keyword">renaming</a> <a id="4821" class="Symbol">(</a><a id="4822" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a> <a id="4830" class="Symbol">to</a> <a id="4833" class="Field">pp</a><a id="4835" class="Symbol">)</a>
                         <a id="4862" class="Keyword">open</a> <a id="4867" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="4879" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4752" class="Bound">s</a> <a id="4881" class="Keyword">using</a> <a id="4887" class="Symbol">(</a><a id="4888" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="4896" class="Symbol">)</a>
                         <a id="4923" class="Keyword">open</a> <a id="4928" href="Ledger.Conway.Specification.Transaction.html#4880" class="Module">Tx</a> <a id="4931" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4754" class="Bound">tx</a> <a id="4934" class="Keyword">renaming</a> <a id="4943" class="Symbol">(</a><a id="4944" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">body</a> <a id="4949" class="Symbol">to</a> <a id="4952" class="Field">txb</a><a id="4955" class="Symbol">)</a>
                         <a id="4982" class="Keyword">open</a> <a id="4987" href="Ledger.Conway.Specification.Transaction.html#3194" class="Module">TxBody</a> <a id="4994" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4952" class="Function">txb</a> <a id="4998" class="Keyword">using</a> <a id="5004" class="Symbol">(</a><a id="5005" href="Ledger.Conway.Specification.Transaction.html#3412" class="Field">txCerts</a><a id="5012" class="Symbol">))</a>
                <a id="5031" class="Symbol">→</a> <a id="5033" class="Symbol">(</a><a id="5034" href="Ledger.Conway.Specification.Transaction.html#4984" class="Field">isValid</a> <a id="5042" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4754" class="Bound">tx</a> <a id="5045" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5047" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="5053" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5055" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="5075" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4833" class="Function">pp</a> <a id="5078" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a> <a id="5087" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a><a id="5094" class="Symbol">)</a>
                  <a id="5114" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⊢</a> <a id="5116" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4750" class="Bound">Γ</a> <a id="5118" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="5122" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4752" class="Bound">s</a> <a id="5124" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="5127" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4754" class="Bound">tx</a> <a id="5130" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="5138" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4757" class="Bound">s&#39;</a> <a id="5141" href="Ledger.Conway.Conformance.Equivalence.Convert.html#156" class="Record Operator">⭆ⁱ</a> <a id="5144" class="Symbol">λ</a> <a id="5146" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5146" class="Bound">_</a> <a id="5148" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5148" class="Bound">h</a> <a id="5150" class="Symbol">→</a>
                    <a id="5172" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4750" class="Bound">Γ</a> <a id="5174" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="5178" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4752" class="Bound">s</a> <a id="5180" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="5183" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4754" class="Bound">tx</a> <a id="5186" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="5194" class="Symbol">(</a><a id="5195" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="5207" class="Symbol">(</a><a id="5208" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2077" class="Function">utxowDeposits</a> <a id="5222" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5148" class="Bound">h</a><a id="5223" class="Symbol">)</a> <a id="5225" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4757" class="Bound">s&#39;</a><a id="5227" class="Symbol">)</a>  <a id="5230" class="Comment">-- Conformance doesn&#39;t update deposits in UTXOW</a>
  <a id="5280" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#4731" class="Function">UTXOWFromConf</a> <a id="5294" class="Symbol">.</a><a id="5295" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5301" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5301" class="Bound">validCerts</a> <a id="5312" class="Symbol">(</a><a id="5313" href="Ledger.Conway.Conformance.Utxow.html#2936" class="InductiveConstructor">C.UTXOW-inductive⋯</a> <a id="5332" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5332" class="Bound">a</a> <a id="5334" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5334" class="Bound">b</a> <a id="5336" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5336" class="Bound">c</a> <a id="5338" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5338" class="Bound">d</a> <a id="5340" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5340" class="Bound">e</a> <a id="5342" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5342" class="Bound">f</a> <a id="5344" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5344" class="Bound">g</a> <a id="5346" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5346" class="Bound">h</a> <a id="5348" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5348" class="Bound">i</a> <a id="5350" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5350" class="Bound">j</a> <a id="5352" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5352" class="Bound">utxo</a><a id="5356" class="Symbol">)</a> <a id="5358" class="Symbol">=</a>
    <a id="5364" href="Ledger.Conway.Specification.Utxow.html#5353" class="InductiveConstructor">L.UTXOW-inductive⋯</a> <a id="5383" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5332" class="Bound">a</a> <a id="5385" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5334" class="Bound">b</a> <a id="5387" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5336" class="Bound">c</a> <a id="5389" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5338" class="Bound">d</a> <a id="5391" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5340" class="Bound">e</a> <a id="5393" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5342" class="Bound">f</a> <a id="5395" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5344" class="Bound">g</a> <a id="5397" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5346" class="Bound">h</a> <a id="5399" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5348" class="Bound">i</a> <a id="5401" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5350" class="Bound">j</a> <a id="5403" class="Symbol">(</a><a id="5404" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5301" class="Bound">validCerts</a> <a id="5415" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5421" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#5352" class="Bound">utxo</a><a id="5425" class="Symbol">)</a>
</pre></body></html>