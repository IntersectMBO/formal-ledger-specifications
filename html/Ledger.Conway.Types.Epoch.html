<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Types.Epoch</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">module</a> <a id="32" href="Ledger.Conway.Types.Epoch.html" class="Module">Ledger.Conway.Types.Epoch</a> <a id="58" class="Keyword">where</a>

<a id="65" class="Keyword">open</a> <a id="70" class="Keyword">import</a> <a id="77" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="92" class="Keyword">hiding</a> <a id="99" class="Symbol">(</a><a id="100" href="Data.Nat.Base.html#9190" class="Function">compare</a><a id="107" class="Symbol">;</a> <a id="109" href="Axiom.Set.Rel.html#1297" class="Function">Rel</a><a id="112" class="Symbol">)</a>

<a id="115" class="Keyword">open</a> <a id="120" class="Keyword">import</a> <a id="127" href="Agda.Builtin.FromNat.html" class="Module">Agda.Builtin.FromNat</a>
<a id="148" class="Keyword">open</a> <a id="153" class="Keyword">import</a> <a id="160" href="Algebra.html" class="Module">Algebra</a> <a id="168" class="Keyword">using</a> <a id="174" class="Symbol">(</a><a id="175" href="Algebra.Bundles.html#18455" class="Record">Semiring</a><a id="183" class="Symbol">)</a>
<a id="185" class="Keyword">open</a> <a id="190" class="Keyword">import</a> <a id="197" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="213" class="Keyword">open</a> <a id="218" class="Keyword">import</a> <a id="225" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="245" class="Keyword">using</a> <a id="251" class="Symbol">(</a><a id="252" href="Data.Nat.Properties.html#24972" class="Function">+-*-semiring</a><a id="264" class="Symbol">)</a>
<a id="266" class="Keyword">open</a> <a id="271" class="Keyword">import</a> <a id="278" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="292" class="Keyword">using</a> <a id="298" class="Symbol">(</a><a id="299" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="300" class="Symbol">)</a>
<a id="302" class="Keyword">import</a>      <a id="314" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="328" class="Symbol">as</a> <a id="331" class="Module">ℚ</a>
<a id="333" class="Keyword">import</a>      <a id="345" href="Data.Rational.Properties.html" class="Module">Data.Rational.Properties</a> <a id="370" class="Symbol">as</a> <a id="373" class="Module">ℚ</a>

<a id="additionVia"></a><a id="376" href="Ledger.Conway.Types.Epoch.html#376" class="Function">additionVia</a> <a id="388" class="Symbol">:</a> <a id="390" class="Symbol">∀{</a><a id="392" href="Ledger.Conway.Types.Epoch.html#392" class="Bound">A</a> <a id="394" class="Symbol">:</a> <a id="396" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="399" class="Symbol">}</a> <a id="401" class="Symbol">→</a> <a id="403" class="Symbol">(</a><a id="404" href="Ledger.Conway.Types.Epoch.html#392" class="Bound">A</a> <a id="406" class="Symbol">→</a> <a id="408" href="Ledger.Conway.Types.Epoch.html#392" class="Bound">A</a><a id="409" class="Symbol">)</a> <a id="411" class="Symbol">→</a> <a id="413" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="415" class="Symbol">→</a> <a id="417" href="Ledger.Conway.Types.Epoch.html#392" class="Bound">A</a> <a id="419" class="Symbol">→</a> <a id="421" href="Ledger.Conway.Types.Epoch.html#392" class="Bound">A</a>
<a id="423" href="Ledger.Conway.Types.Epoch.html#376" class="Function">additionVia</a> <a id="435" href="Ledger.Conway.Types.Epoch.html#435" class="Bound">sucFun</a> <a id="442" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="447" href="Ledger.Conway.Types.Epoch.html#447" class="Bound">r</a> <a id="449" class="Symbol">=</a> <a id="451" href="Ledger.Conway.Types.Epoch.html#447" class="Bound">r</a>
<a id="453" href="Ledger.Conway.Types.Epoch.html#376" class="Function">additionVia</a> <a id="465" href="Ledger.Conway.Types.Epoch.html#465" class="Bound">sucFun</a> <a id="472" class="Symbol">(</a><a id="473" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="477" href="Ledger.Conway.Types.Epoch.html#477" class="Bound">l</a><a id="478" class="Symbol">)</a> <a id="480" href="Ledger.Conway.Types.Epoch.html#480" class="Bound">r</a> <a id="482" class="Symbol">=</a> <a id="484" href="Ledger.Conway.Types.Epoch.html#465" class="Bound">sucFun</a> <a id="491" class="Symbol">(</a><a id="492" href="Ledger.Conway.Types.Epoch.html#376" class="Function">additionVia</a> <a id="504" href="Ledger.Conway.Types.Epoch.html#465" class="Bound">sucFun</a> <a id="511" href="Ledger.Conway.Types.Epoch.html#477" class="Bound">l</a> <a id="513" href="Ledger.Conway.Types.Epoch.html#480" class="Bound">r</a><a id="514" class="Symbol">)</a>

<a id="517" class="Keyword">record</a> <a id="EpochStructure"></a><a id="524" href="Ledger.Conway.Types.Epoch.html#524" class="Record">EpochStructure</a> <a id="539" class="Symbol">:</a> <a id="541" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="547" class="Keyword">where</a>
  <a id="555" class="Keyword">field</a> <a id="EpochStructure.Slotʳ"></a><a id="561" href="Ledger.Conway.Types.Epoch.html#561" class="Field">Slotʳ</a> <a id="567" class="Symbol">:</a> <a id="569" href="Algebra.Bundles.html#18455" class="Record">Semiring</a> <a id="578" href="Level.html#521" class="Function">0ℓ</a> <a id="581" href="Level.html#521" class="Function">0ℓ</a>
        <a id="EpochStructure.Epoch"></a><a id="592" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a> <a id="598" class="Symbol">:</a> <a id="600" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="604" class="Symbol">;</a> <a id="606" class="Symbol">⦃</a> <a id="EpochStructure.DecEq-Epoch"></a><a id="608" href="Ledger.Conway.Types.Epoch.html#608" class="Field">DecEq-Epoch</a> <a id="620" class="Symbol">⦄</a> <a id="622" class="Symbol">:</a> <a id="624" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="630" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a><a id="635" class="Symbol">;</a> <a id="637" class="Symbol">⦃</a> <a id="EpochStructure.Show-Epoch"></a><a id="639" href="Ledger.Conway.Types.Epoch.html#639" class="Field">Show-Epoch</a> <a id="650" class="Symbol">⦄</a> <a id="652" class="Symbol">:</a> <a id="654" href="Class.Show.Core.html#125" class="Record">Show</a> <a id="659" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a>

  <a id="EpochStructure.Slot"></a><a id="668" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a> <a id="673" class="Symbol">=</a> <a id="675" href="Algebra.Bundles.html#18551" class="Field">Semiring.Carrier</a> <a id="692" href="Ledger.Conway.Types.Epoch.html#561" class="Field">Slotʳ</a>

  <a id="701" class="Keyword">field</a> <a id="707" class="Symbol">⦃</a> <a id="EpochStructure.DecPo-Slot"></a><a id="709" href="Ledger.Conway.Types.Epoch.html#709" class="Field">DecPo-Slot</a> <a id="720" class="Symbol">⦄</a>   <a id="724" class="Symbol">:</a> <a id="726" href="Class.HasOrder.Core.html#3916" class="Function">HasDecPartialOrder≡</a> <a id="746" class="Symbol">{</a><a id="747" class="Argument">A</a> <a id="749" class="Symbol">=</a> <a id="751" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a><a id="755" class="Symbol">}</a>
        <a id="765" class="Symbol">⦃</a> <a id="EpochStructure.DecEq-Slot"></a><a id="767" href="Ledger.Conway.Types.Epoch.html#767" class="Field">DecEq-Slot</a> <a id="778" class="Symbol">⦄</a>   <a id="782" class="Symbol">:</a> <a id="784" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="790" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a>

        <a id="EpochStructure.epoch"></a><a id="804" href="Ledger.Conway.Types.Epoch.html#804" class="Field">epoch</a>           <a id="820" class="Symbol">:</a> <a id="822" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a> <a id="827" class="Symbol">→</a> <a id="829" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a>
        <a id="EpochStructure.firstSlot"></a><a id="843" href="Ledger.Conway.Types.Epoch.html#843" class="Field">firstSlot</a>       <a id="859" class="Symbol">:</a> <a id="861" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a> <a id="867" class="Symbol">→</a> <a id="869" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a>
        <a id="EpochStructure.StabilityWindow"></a><a id="882" href="Ledger.Conway.Types.Epoch.html#882" class="Field">StabilityWindow</a> <a id="898" class="Symbol">:</a> <a id="900" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a>
        <a id="EpochStructure.sucᵉ"></a><a id="913" href="Ledger.Conway.Types.Epoch.html#913" class="Field">sucᵉ</a>            <a id="929" class="Symbol">:</a> <a id="931" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a> <a id="937" class="Symbol">→</a> <a id="939" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a>

  <a id="EpochStructure._+ᵉ_"></a><a id="948" href="Ledger.Conway.Types.Epoch.html#948" class="Function Operator">_+ᵉ_</a> <a id="953" class="Symbol">=</a> <a id="955" href="Ledger.Conway.Types.Epoch.html#376" class="Function">additionVia</a> <a id="967" href="Ledger.Conway.Types.Epoch.html#913" class="Field">sucᵉ</a>

  <a id="975" class="Keyword">field</a>
        <a id="EpochStructure._+ᵉ&#39;_"></a><a id="989" href="Ledger.Conway.Types.Epoch.html#989" class="Field Operator">_+ᵉ&#39;_</a>           <a id="1005" class="Symbol">:</a> <a id="1007" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1009" class="Symbol">→</a> <a id="1011" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a> <a id="1017" class="Symbol">→</a> <a id="1019" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a>
        <a id="EpochStructure.+ᵉ≡+ᵉ&#39;"></a><a id="1033" href="Ledger.Conway.Types.Epoch.html#1033" class="Field">+ᵉ≡+ᵉ&#39;</a>          <a id="1049" class="Symbol">:</a> <a id="1051" class="Symbol">∀</a> <a id="1053" class="Symbol">{</a><a id="1054" href="Ledger.Conway.Types.Epoch.html#1054" class="Bound">a</a> <a id="1056" href="Ledger.Conway.Types.Epoch.html#1056" class="Bound">b</a><a id="1057" class="Symbol">}</a> <a id="1059" class="Symbol">→</a> <a id="1061" href="Ledger.Conway.Types.Epoch.html#1054" class="Bound">a</a> <a id="1063" href="Ledger.Conway.Types.Epoch.html#948" class="Function Operator">+ᵉ</a> <a id="1066" href="Ledger.Conway.Types.Epoch.html#1056" class="Bound">b</a> <a id="1068" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1070" href="Ledger.Conway.Types.Epoch.html#1054" class="Bound">a</a> <a id="1072" href="Ledger.Conway.Types.Epoch.html#989" class="Field Operator">+ᵉ&#39;</a> <a id="1076" href="Ledger.Conway.Types.Epoch.html#1056" class="Bound">b</a>

  <a id="1081" class="Comment">-- preorders and partial orders</a>

  <a id="1116" class="Keyword">instance</a>
    <a id="EpochStructure.preoEpoch"></a><a id="1129" href="Ledger.Conway.Types.Epoch.html#1129" class="Function">preoEpoch</a> <a id="1139" class="Symbol">:</a> <a id="1141" href="Class.HasOrder.Core.html#531" class="Record">HasPreorder</a>
    <a id="1157" href="Ledger.Conway.Types.Epoch.html#1129" class="Function">preoEpoch</a> <a id="1167" class="Symbol">=</a> <a id="1169" href="Class.HasOrder.Core.html#5450" class="Function">hasPreorderFromStrictPartialOrder</a> <a id="1203" class="Symbol">{</a><a id="1204" class="Argument">_&lt;_</a> <a id="1208" class="Symbol">=</a> <a id="1210" href="Class.HasOrder.Core.html#641" class="Field Operator">_&lt;_</a> <a id="1214" href="Function.Base.html#6209" class="Function Operator">on</a> <a id="1217" href="Ledger.Conway.Types.Epoch.html#843" class="Field">firstSlot</a><a id="1226" class="Symbol">}</a>
      <a id="1234" class="Keyword">record</a>
        <a id="1249" class="Symbol">{</a> <a id="1251" href="Relation.Binary.Structures.html#4797" class="Field">isEquivalence</a> <a id="1265" class="Symbol">=</a> <a id="1267" href="Relation.Binary.PropositionalEquality.Properties.html#5411" class="Function">isEquivalence</a>
        <a id="1289" class="Symbol">;</a> <a id="1291" href="Relation.Binary.Structures.html#4831" class="Field">irrefl</a> <a id="1298" class="Symbol">=</a> <a id="1300" class="Symbol">λ</a> <a id="1302" class="Keyword">where</a> <a id="1308" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1313" class="Symbol">→</a> <a id="1315" href="Class.HasOrder.Core.html#717" class="Field">&lt;-irrefl</a> <a id="1324" class="Symbol">{</a><a id="1325" class="Argument">A</a> <a id="1327" class="Symbol">=</a> <a id="1329" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a><a id="1333" class="Symbol">}</a> <a id="1335" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="1348" class="Symbol">;</a> <a id="1350" href="Relation.Binary.Structures.html#4871" class="Field">trans</a>  <a id="1357" class="Symbol">=</a> <a id="1359" href="Class.HasOrder.Core.html#2219" class="Function">&lt;-trans</a> <a id="1367" class="Symbol">{</a><a id="1368" class="Argument">A</a> <a id="1370" class="Symbol">=</a> <a id="1372" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a><a id="1376" class="Symbol">}</a>
        <a id="1386" class="Symbol">;</a> <a id="1388" href="Relation.Binary.Structures.html#4906" class="Field">&lt;-resp-≈</a> <a id="1397" class="Symbol">=</a> <a id="1399" class="Symbol">(λ</a> <a id="1402" class="Keyword">where</a> <a id="1408" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1413" class="Symbol">→</a> <a id="1415" href="Function.Base.html#704" class="Function">id</a><a id="1417" class="Symbol">)</a> <a id="1419" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1421" class="Symbol">(λ</a> <a id="1424" class="Keyword">where</a> <a id="1430" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1435" class="Symbol">→</a> <a id="1437" href="Function.Base.html#704" class="Function">id</a><a id="1439" class="Symbol">)</a>
        <a id="1449" class="Symbol">}</a>

  <a id="1454" href="Ledger.Conway.Types.Epoch.html#1454" class="Function">_</a> <a id="1456" class="Symbol">=</a> <a id="1458" href="Class.HasOrder.Core.html#641" class="Field Operator">_&lt;_</a> <a id="1462" class="Symbol">{</a><a id="1463" class="Argument">A</a> <a id="1465" class="Symbol">=</a> <a id="1467" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a><a id="1471" class="Symbol">}</a>  <a id="1474" href="Class.Decidable.Core.html#773" class="Function Operator">⁇²</a> <a id="1477" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="1479" href="Function.Base.html#4736" class="Function">it</a>
  <a id="1484" href="Ledger.Conway.Types.Epoch.html#1484" class="Function">_</a> <a id="1486" class="Symbol">=</a> <a id="1488" href="Class.HasOrder.Core.html#608" class="Field Operator">_≤_</a> <a id="1492" class="Symbol">{</a><a id="1493" class="Argument">A</a> <a id="1495" class="Symbol">=</a> <a id="1497" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a><a id="1501" class="Symbol">}</a>  <a id="1504" href="Class.Decidable.Core.html#773" class="Function Operator">⁇²</a> <a id="1507" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="1509" href="Function.Base.html#4736" class="Function">it</a>
  <a id="1514" href="Ledger.Conway.Types.Epoch.html#1514" class="Function">_</a> <a id="1516" class="Symbol">=</a> <a id="1518" href="Class.HasOrder.Core.html#641" class="Field Operator">_&lt;_</a> <a id="1522" class="Symbol">{</a><a id="1523" class="Argument">A</a> <a id="1525" class="Symbol">=</a> <a id="1527" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a><a id="1532" class="Symbol">}</a> <a id="1534" href="Class.Decidable.Core.html#773" class="Function Operator">⁇²</a> <a id="1537" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="1539" href="Function.Base.html#4736" class="Function">it</a>
  <a id="1544" href="Ledger.Conway.Types.Epoch.html#1544" class="Function">_</a> <a id="1546" class="Symbol">=</a> <a id="1548" href="Class.HasOrder.Core.html#608" class="Field Operator">_≤_</a> <a id="1552" class="Symbol">{</a><a id="1553" class="Argument">A</a> <a id="1555" class="Symbol">=</a> <a id="1557" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a><a id="1562" class="Symbol">}</a> <a id="1564" href="Class.Decidable.Core.html#773" class="Function Operator">⁇²</a> <a id="1567" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="1569" href="Function.Base.html#4736" class="Function">it</a>

  <a id="1575" class="Comment">-- addition</a>

  <a id="1590" class="Keyword">open</a> <a id="1595" href="Algebra.Bundles.html#18455" class="Module">Semiring</a> <a id="1604" href="Ledger.Conway.Types.Epoch.html#561" class="Field">Slotʳ</a> <a id="1610" class="Keyword">renaming</a> <a id="1619" class="Symbol">(</a><a id="1620" href="Algebra.Bundles.html#18605" class="Field Operator">_+_</a> <a id="1624" class="Symbol">to</a> <a id="1627" class="Field Operator">_+ˢ_</a><a id="1631" class="Symbol">)</a>

  <a id="EpochStructure.ℕtoEpoch"></a><a id="1636" href="Ledger.Conway.Types.Epoch.html#1636" class="Function">ℕtoEpoch</a> <a id="1645" class="Symbol">:</a> <a id="1647" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1649" class="Symbol">→</a> <a id="1651" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a>
  <a id="1659" href="Ledger.Conway.Types.Epoch.html#1636" class="Function">ℕtoEpoch</a> <a id="1668" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="1676" class="Symbol">=</a> <a id="1678" href="Ledger.Conway.Types.Epoch.html#804" class="Field">epoch</a> <a id="1684" href="Algebra.Bundles.html#18663" class="Function">0#</a>
  <a id="1689" href="Ledger.Conway.Types.Epoch.html#1636" class="Function">ℕtoEpoch</a> <a id="1698" class="Symbol">(</a><a id="1699" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1703" href="Ledger.Conway.Types.Epoch.html#1703" class="Bound">n</a><a id="1704" class="Symbol">)</a> <a id="1706" class="Symbol">=</a> <a id="1708" href="Ledger.Conway.Types.Epoch.html#913" class="Field">sucᵉ</a> <a id="1713" class="Symbol">(</a><a id="1714" href="Ledger.Conway.Types.Epoch.html#1636" class="Function">ℕtoEpoch</a> <a id="1723" href="Ledger.Conway.Types.Epoch.html#1703" class="Bound">n</a><a id="1724" class="Symbol">)</a>

  <a id="1729" class="Keyword">instance</a>
    <a id="EpochStructure.addSlot"></a><a id="1742" href="Ledger.Conway.Types.Epoch.html#1742" class="Function">addSlot</a> <a id="1750" class="Symbol">:</a> <a id="1752" href="Class.HasAdd.Core.html#104" class="Record">HasAdd</a> <a id="1759" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a>
    <a id="1768" href="Ledger.Conway.Types.Epoch.html#1742" class="Function">addSlot</a> <a id="1776" class="Symbol">.</a><a id="1777" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="1781" class="Symbol">=</a> <a id="1783" href="Ledger.Conway.Types.Epoch.html#1627" class="Function Operator">_+ˢ_</a>

    <a id="EpochStructure.addEpoch"></a><a id="1793" href="Ledger.Conway.Types.Epoch.html#1793" class="Function">addEpoch</a> <a id="1802" class="Symbol">:</a> <a id="1804" href="Class.HasAdd.Core.html#104" class="Record">HasAdd</a> <a id="1811" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a>
    <a id="1821" href="Ledger.Conway.Types.Epoch.html#1793" class="Function">addEpoch</a> <a id="1830" class="Symbol">.</a><a id="1831" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="1835" href="Ledger.Conway.Types.Epoch.html#1835" class="Bound">e</a> <a id="1837" href="Ledger.Conway.Types.Epoch.html#1837" class="Bound">e&#39;</a> <a id="1840" class="Symbol">=</a> <a id="1842" href="Ledger.Conway.Types.Epoch.html#804" class="Field">epoch</a> <a id="1848" class="Symbol">(</a><a id="1849" href="Ledger.Conway.Types.Epoch.html#843" class="Field">firstSlot</a> <a id="1859" href="Ledger.Conway.Types.Epoch.html#1835" class="Bound">e</a> <a id="1861" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="1863" href="Ledger.Conway.Types.Epoch.html#843" class="Field">firstSlot</a> <a id="1873" href="Ledger.Conway.Types.Epoch.html#1837" class="Bound">e&#39;</a><a id="1875" class="Symbol">)</a>

    <a id="EpochStructure.Number-Epoch"></a><a id="1882" href="Ledger.Conway.Types.Epoch.html#1882" class="Function">Number-Epoch</a> <a id="1895" class="Symbol">:</a> <a id="1897" href="Agda.Builtin.FromNat.html#196" class="Record">Number</a> <a id="1904" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a>
    <a id="1914" href="Ledger.Conway.Types.Epoch.html#1882" class="Function">Number-Epoch</a> <a id="1927" class="Symbol">.</a><a id="1928" href="Agda.Builtin.FromNat.html#252" class="Field">Number.Constraint</a> <a id="1946" class="Symbol">_</a> <a id="1948" class="Symbol">=</a> <a id="1950" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="1956" href="Ledger.Conway.Types.Epoch.html#1882" class="Function">Number-Epoch</a> <a id="1969" class="Symbol">.</a><a id="1970" href="Agda.Builtin.FromNat.html#281" class="Field">Number.fromNat</a>    <a id="1988" href="Ledger.Conway.Types.Epoch.html#1988" class="Bound">x</a> <a id="1990" class="Symbol">=</a> <a id="1992" href="Ledger.Conway.Types.Epoch.html#1636" class="Function">ℕtoEpoch</a> <a id="2001" href="Ledger.Conway.Types.Epoch.html#1988" class="Bound">x</a>

<a id="2004" class="Keyword">record</a> <a id="GlobalConstants"></a><a id="2011" href="Ledger.Conway.Types.Epoch.html#2011" class="Record">GlobalConstants</a> <a id="2027" class="Symbol">:</a> <a id="2029" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="2035" class="Keyword">where</a>
  <a id="2043" class="Keyword">field</a>  <a id="GlobalConstants.Network"></a><a id="2050" href="Ledger.Conway.Types.Epoch.html#2050" class="Field">Network</a> <a id="2058" class="Symbol">:</a> <a id="2060" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="2064" class="Symbol">;</a> <a id="2066" class="Symbol">⦃</a> <a id="GlobalConstants.DecEq-Netw"></a><a id="2068" href="Ledger.Conway.Types.Epoch.html#2068" class="Field">DecEq-Netw</a> <a id="2079" class="Symbol">⦄</a> <a id="2081" class="Symbol">:</a> <a id="2083" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="2089" href="Ledger.Conway.Types.Epoch.html#2050" class="Field">Network</a><a id="2096" class="Symbol">;</a> <a id="2098" class="Symbol">⦃</a> <a id="GlobalConstants.Show-Network"></a><a id="2100" href="Ledger.Conway.Types.Epoch.html#2100" class="Field">Show-Network</a> <a id="2113" class="Symbol">⦄</a> <a id="2115" class="Symbol">:</a> <a id="2117" href="Class.Show.Core.html#125" class="Record">Show</a> <a id="2122" href="Ledger.Conway.Types.Epoch.html#2050" class="Field">Network</a>
         <a id="GlobalConstants.SlotsPerEpochᶜ"></a><a id="2139" href="Ledger.Conway.Types.Epoch.html#2139" class="Field">SlotsPerEpochᶜ</a>   <a id="2156" class="Symbol">:</a> <a id="2158" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2159" class="Symbol">;</a> <a id="2161" class="Symbol">⦃</a> <a id="GlobalConstants.NonZero-SlotsPerEpochᶜ"></a><a id="2163" href="Ledger.Conway.Types.Epoch.html#2163" class="Field">NonZero-SlotsPerEpochᶜ</a> <a id="2186" class="Symbol">⦄</a> <a id="2188" class="Symbol">:</a> <a id="2190" href="Data.Nat.Base.html#3266" class="Record">NonZero</a> <a id="2198" href="Ledger.Conway.Types.Epoch.html#2139" class="Field">SlotsPerEpochᶜ</a>
         <a id="GlobalConstants.ActiveSlotCoeff"></a><a id="2222" href="Ledger.Conway.Types.Epoch.html#2222" class="Field">ActiveSlotCoeff</a>  <a id="2239" class="Symbol">:</a> <a id="2241" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="2242" class="Symbol">;</a> <a id="2244" class="Symbol">⦃</a> <a id="GlobalConstants.Positive-ActiveSlotCoeff"></a><a id="2246" href="Ledger.Conway.Types.Epoch.html#2246" class="Field">Positive-ActiveSlotCoeff</a> <a id="2271" class="Symbol">⦄</a> <a id="2273" class="Symbol">:</a> <a id="2275" href="Data.Rational.Base.html#4551" class="Function">ℚ.Positive</a> <a id="2286" href="Ledger.Conway.Types.Epoch.html#2222" class="Field">ActiveSlotCoeff</a>
         <a id="GlobalConstants.StabilityWindowᶜ"></a><a id="2311" href="Ledger.Conway.Types.Epoch.html#2311" class="Field">StabilityWindowᶜ</a> <a id="2328" class="Symbol">:</a> <a id="2330" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
         <a id="GlobalConstants.Quorum"></a><a id="2341" href="Ledger.Conway.Types.Epoch.html#2341" class="Field">Quorum</a> <a id="2348" class="Symbol">:</a> <a id="2350" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
         <a id="GlobalConstants.NetworkId"></a><a id="2361" href="Ledger.Conway.Types.Epoch.html#2361" class="Field">NetworkId</a> <a id="2371" class="Symbol">:</a> <a id="2373" href="Ledger.Conway.Types.Epoch.html#2050" class="Field">Network</a>

  <a id="2384" class="Keyword">instance</a>
    <a id="GlobalConstants.NonZero-ActiveSlotCoeff"></a><a id="2397" href="Ledger.Conway.Types.Epoch.html#2397" class="Function">NonZero-ActiveSlotCoeff</a> <a id="2421" class="Symbol">:</a> <a id="2423" href="Data.Rational.Base.html#4498" class="Function">ℚ.NonZero</a> <a id="2433" href="Ledger.Conway.Types.Epoch.html#2222" class="Field">ActiveSlotCoeff</a>
    <a id="2453" href="Ledger.Conway.Types.Epoch.html#2397" class="Function">NonZero-ActiveSlotCoeff</a> <a id="2477" class="Symbol">=</a> <a id="2479" href="Data.Rational.Base.html#5214" class="Function">ℚ.&gt;-nonZero</a> <a id="2491" class="Symbol">(</a><a id="2492" href="Data.Rational.Properties.html#26724" class="Function">ℚ.positive⁻¹</a> <a id="2505" href="Ledger.Conway.Types.Epoch.html#2222" class="Field">ActiveSlotCoeff</a><a id="2520" class="Symbol">)</a>

  <a id="GlobalConstants.ℕ+ᵉ≡+ᵉ&#39;"></a><a id="2525" href="Ledger.Conway.Types.Epoch.html#2525" class="Function">ℕ+ᵉ≡+ᵉ&#39;</a> <a id="2533" class="Symbol">:</a> <a id="2535" class="Symbol">∀</a> <a id="2537" class="Symbol">{</a><a id="2538" href="Ledger.Conway.Types.Epoch.html#2538" class="Bound">a</a> <a id="2540" href="Ledger.Conway.Types.Epoch.html#2540" class="Bound">b</a><a id="2541" class="Symbol">}</a> <a id="2543" class="Symbol">→</a> <a id="2545" href="Ledger.Conway.Types.Epoch.html#376" class="Function">additionVia</a> <a id="2557" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2561" href="Ledger.Conway.Types.Epoch.html#2538" class="Bound">a</a> <a id="2563" href="Ledger.Conway.Types.Epoch.html#2540" class="Bound">b</a> <a id="2565" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2567" href="Ledger.Conway.Types.Epoch.html#2538" class="Bound">a</a> <a id="2569" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2571" href="Ledger.Conway.Types.Epoch.html#2540" class="Bound">b</a>
  <a id="2575" href="Ledger.Conway.Types.Epoch.html#2525" class="Function">ℕ+ᵉ≡+ᵉ&#39;</a> <a id="2583" class="Symbol">{</a><a id="2584" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="2588" class="Symbol">}</a> <a id="2590" class="Symbol">{</a><a id="2591" href="Ledger.Conway.Types.Epoch.html#2591" class="Bound">b</a><a id="2592" class="Symbol">}</a> <a id="2594" class="Symbol">=</a> <a id="2596" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2603" href="Ledger.Conway.Types.Epoch.html#2525" class="Function">ℕ+ᵉ≡+ᵉ&#39;</a> <a id="2611" class="Symbol">{</a><a id="2612" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2616" href="Ledger.Conway.Types.Epoch.html#2616" class="Bound">a</a><a id="2617" class="Symbol">}</a> <a id="2619" class="Symbol">{</a><a id="2620" href="Ledger.Conway.Types.Epoch.html#2620" class="Bound">b</a><a id="2621" class="Symbol">}</a> <a id="2623" class="Symbol">=</a> <a id="2625" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="2630" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2634" class="Symbol">(</a><a id="2635" href="Ledger.Conway.Types.Epoch.html#2525" class="Function">ℕ+ᵉ≡+ᵉ&#39;</a> <a id="2643" class="Symbol">{</a><a id="2644" href="Ledger.Conway.Types.Epoch.html#2616" class="Bound">a</a><a id="2645" class="Symbol">}</a> <a id="2647" class="Symbol">{</a><a id="2648" href="Ledger.Conway.Types.Epoch.html#2620" class="Bound">b</a><a id="2649" class="Symbol">})</a>

  <a id="GlobalConstants.ℕEpochStructure"></a><a id="2655" href="Ledger.Conway.Types.Epoch.html#2655" class="Function">ℕEpochStructure</a> <a id="2671" class="Symbol">:</a> <a id="2673" href="Ledger.Conway.Types.Epoch.html#524" class="Record">EpochStructure</a>
  <a id="2690" href="Ledger.Conway.Types.Epoch.html#2655" class="Function">ℕEpochStructure</a> <a id="2706" class="Symbol">=</a> <a id="2708" class="Symbol">λ</a> <a id="2710" class="Keyword">where</a>
    <a id="2720" class="Symbol">.</a><a id="2721" href="Ledger.Conway.Types.Epoch.html#561" class="Field">Slotʳ</a>           <a id="2737" class="Symbol">→</a> <a id="2739" href="Data.Nat.Properties.html#24972" class="Function">+-*-semiring</a>
    <a id="2756" class="Symbol">.</a><a id="2757" href="Ledger.Conway.Types.Epoch.html#592" class="Field">Epoch</a>           <a id="2773" class="Symbol">→</a> <a id="2775" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="2781" class="Symbol">.</a><a id="2782" href="Ledger.Conway.Types.Epoch.html#804" class="Field">epoch</a> <a id="2788" href="Ledger.Conway.Types.Epoch.html#2788" class="Bound">slot</a>      <a id="2798" class="Symbol">→</a> <a id="2800" href="Ledger.Conway.Types.Epoch.html#2788" class="Bound">slot</a> <a id="2805" href="Data.Nat.Base.html#7102" class="Function Operator">/</a> <a id="2807" href="Ledger.Conway.Types.Epoch.html#2139" class="Field">SlotsPerEpochᶜ</a>
    <a id="2826" class="Symbol">.</a><a id="2827" href="Ledger.Conway.Types.Epoch.html#843" class="Field">firstSlot</a> <a id="2837" href="Ledger.Conway.Types.Epoch.html#2837" class="Bound">e</a>     <a id="2843" class="Symbol">→</a> <a id="2845" href="Ledger.Conway.Types.Epoch.html#2837" class="Bound">e</a> <a id="2847" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2849" href="Ledger.Conway.Types.Epoch.html#2139" class="Field">SlotsPerEpochᶜ</a>
    <a id="2868" class="Symbol">.</a><a id="2869" href="Ledger.Conway.Types.Epoch.html#882" class="Field">StabilityWindow</a> <a id="2885" class="Symbol">→</a> <a id="2887" href="Ledger.Conway.Types.Epoch.html#2311" class="Field">StabilityWindowᶜ</a>
    <a id="2908" class="Symbol">.</a><a id="2909" href="Ledger.Conway.Types.Epoch.html#913" class="Field">sucᵉ</a>            <a id="2925" class="Symbol">→</a> <a id="2927" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a>
    <a id="2935" class="Symbol">.</a><a id="2936" href="Ledger.Conway.Types.Epoch.html#989" class="Field Operator">_+ᵉ&#39;_</a>           <a id="2952" class="Symbol">→</a> <a id="2954" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a>
    <a id="2962" class="Symbol">.</a><a id="2963" href="Ledger.Conway.Types.Epoch.html#1033" class="Field">+ᵉ≡+ᵉ&#39;</a> <a id="2970" class="Symbol">{</a><a id="2971" href="Ledger.Conway.Types.Epoch.html#2971" class="Bound">a</a><a id="2972" class="Symbol">}</a> <a id="2974" class="Symbol">{</a><a id="2975" href="Ledger.Conway.Types.Epoch.html#2975" class="Bound">b</a><a id="2976" class="Symbol">}</a>  <a id="2979" class="Symbol">→</a> <a id="2981" href="Ledger.Conway.Types.Epoch.html#2525" class="Function">ℕ+ᵉ≡+ᵉ&#39;</a> <a id="2989" class="Symbol">{</a><a id="2990" href="Ledger.Conway.Types.Epoch.html#2971" class="Bound">a</a><a id="2991" class="Symbol">}</a> <a id="2993" class="Symbol">{</a><a id="2994" href="Ledger.Conway.Types.Epoch.html#2975" class="Bound">b</a><a id="2995" class="Symbol">}</a>

   <a id="3001" class="Keyword">where</a> <a id="3007" class="Keyword">open</a> <a id="3012" href="Ledger.Conway.Types.Epoch.html#524" class="Module">EpochStructure</a>

<a id="3028" class="Keyword">open</a> <a id="3033" href="Ledger.Conway.Types.Epoch.html#2011" class="Module">GlobalConstants</a> <a id="3049" class="Keyword">using</a> <a id="3055" class="Symbol">(</a><a id="3056" href="Ledger.Conway.Types.Epoch.html#2655" class="Function">ℕEpochStructure</a><a id="3071" class="Symbol">)</a> <a id="3073" class="Keyword">public</a>
</pre></body></html>