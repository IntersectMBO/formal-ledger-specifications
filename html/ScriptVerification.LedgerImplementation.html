<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>ScriptVerification.LedgerImplementation</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="ScriptVerification.Prelude.html" class="Module">ScriptVerification.Prelude</a>
<a id="40" class="Keyword">open</a> <a id="45" class="Keyword">import</a> <a id="52" href="Prelude.html" class="Module">Prelude</a> <a id="60" class="Keyword">using</a> <a id="66" class="Symbol">(</a><a id="67" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="71" class="Symbol">)</a>

<a id="74" class="Keyword">module</a> <a id="81" href="ScriptVerification.LedgerImplementation.html" class="Module">ScriptVerification.LedgerImplementation</a>
  <a id="123" class="Symbol">(</a><a id="124" href="ScriptVerification.LedgerImplementation.html#124" class="Bound">T</a> <a id="126" href="ScriptVerification.LedgerImplementation.html#126" class="Bound">D</a> <a id="128" class="Symbol">:</a> <a id="130" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="134" class="Symbol">)</a>
  <a id="138" class="Symbol">(</a><a id="139" href="ScriptVerification.LedgerImplementation.html#139" class="Bound">scriptImp</a> <a id="149" class="Symbol">:</a> <a id="151" href="ScriptVerification.Prelude.html#118" class="Record">ScriptImplementation</a> <a id="172" href="ScriptVerification.LedgerImplementation.html#124" class="Bound">T</a> <a id="174" href="ScriptVerification.LedgerImplementation.html#126" class="Bound">D</a><a id="175" class="Symbol">)</a> <a id="177" class="Symbol">(</a><a id="178" class="Keyword">open</a> <a id="183" href="ScriptVerification.Prelude.html#118" class="Module">ScriptImplementation</a> <a id="204" href="ScriptVerification.LedgerImplementation.html#139" class="Bound">scriptImp</a><a id="213" class="Symbol">)</a>
  <a id="217" class="Keyword">where</a>

<a id="224" class="Keyword">open</a> <a id="229" class="Keyword">import</a> <a id="236" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="251" class="Keyword">hiding</a> <a id="258" class="Symbol">(</a><a id="259" href="Axiom.Set.html#5718" class="Function">fromList</a><a id="267" class="Symbol">;</a> <a id="269" href="Class.Monoid.Core.html#195" class="Field">ε</a><a id="270" class="Symbol">);</a> <a id="273" class="Keyword">open</a> <a id="278" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a>
<a id="292" class="Keyword">import</a>      <a id="304" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="317" class="Symbol">as</a> <a id="320" class="Module">ℤ</a>
<a id="322" class="Keyword">open</a> <a id="327" class="Keyword">import</a> <a id="334" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="348" class="Keyword">using</a> <a id="354" class="Symbol">(</a><a id="355" href="Data.Rational.Base.html#4325" class="Function">0ℚ</a><a id="357" class="Symbol">;</a> <a id="359" href="Data.Rational.Base.html#4367" class="Function">½</a><a id="360" class="Symbol">)</a>
<a id="362" class="Keyword">import</a>      <a id="374" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="388" class="Symbol">as</a> <a id="391" class="Module">ℚ</a>
<a id="393" class="Keyword">open</a> <a id="398" class="Keyword">import</a> <a id="405" href="Algebra.Morphism.html" class="Module">Algebra.Morphism</a>    <a id="425" class="Keyword">using</a> <a id="431" class="Symbol">(</a><a id="432" class="Keyword">module</a> <a id="439" href="Algebra.Morphism.Structures.html#4053" class="Module">MonoidMorphisms</a><a id="454" class="Symbol">)</a>
<a id="456" class="Keyword">open</a> <a id="461" class="Keyword">import</a> <a id="468" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="488" class="Keyword">using</a> <a id="494" class="Symbol">(</a><a id="495" href="Data.Nat.Properties.html#17331" class="Function">+-0-commutativeMonoid</a><a id="516" class="Symbol">)</a>
<a id="518" class="Keyword">open</a> <a id="523" class="Keyword">import</a> <a id="530" href="Relation.Binary.Morphism.Structures.html" class="Module">Relation.Binary.Morphism.Structures</a>
<a id="566" class="Keyword">open</a> <a id="571" class="Keyword">import</a> <a id="578" href="Algebra.Construct.DirectProduct.html" class="Module">Algebra.Construct.DirectProduct</a>
<a id="610" class="Keyword">open</a> <a id="615" class="Keyword">import</a> <a id="622" href="Foreign.Convertible.html" class="Module">Foreign.Convertible</a>
<a id="642" class="Keyword">import</a> <a id="649" href="Foreign.Haskell.html" class="Module">Foreign.Haskell</a> <a id="665" class="Symbol">as</a> <a id="668" class="Module">F</a>
<a id="670" class="Keyword">open</a> <a id="675" class="Keyword">import</a> <a id="682" href="Ledger.Crypto.html" class="Module">Ledger.Crypto</a>
<a id="696" class="Keyword">open</a> <a id="701" class="Keyword">import</a> <a id="708" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="727" class="Keyword">open</a> <a id="732" class="Keyword">import</a> <a id="739" href="Ledger.Types.Epoch.html" class="Module">Ledger.Types.Epoch</a>
<a id="758" class="Keyword">open</a> <a id="763" class="Keyword">import</a> <a id="770" href="Ledger.Types.GovStructure.html" class="Module">Ledger.Types.GovStructure</a>

<a id="797" class="Keyword">module</a> <a id="804" href="ScriptVerification.LedgerImplementation.html#804" class="Module">_</a> <a id="806" class="Symbol">{</a><a id="807" href="ScriptVerification.LedgerImplementation.html#807" class="Bound">A</a> <a id="809" class="Symbol">:</a> <a id="811" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="815" class="Symbol">}</a> <a id="817" class="Symbol">⦃</a> <a id="819" href="ScriptVerification.LedgerImplementation.html#819" class="Bound">_</a> <a id="821" class="Symbol">:</a> <a id="823" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="829" href="ScriptVerification.LedgerImplementation.html#807" class="Bound">A</a> <a id="831" class="Symbol">⦄</a> <a id="833" class="Symbol">⦃</a> <a id="835" href="ScriptVerification.LedgerImplementation.html#835" class="Bound">_</a> <a id="837" class="Symbol">:</a> <a id="839" href="Class.Show.Core.html#125" class="Record">Show</a> <a id="844" href="ScriptVerification.LedgerImplementation.html#807" class="Bound">A</a> <a id="846" class="Symbol">⦄</a> <a id="848" class="Keyword">where</a> <a id="854" class="Keyword">instance</a>
  <a id="865" href="ScriptVerification.LedgerImplementation.html#865" class="Function">∀Hashable</a> <a id="875" class="Symbol">:</a> <a id="877" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="886" href="ScriptVerification.LedgerImplementation.html#807" class="Bound">A</a> <a id="888" href="ScriptVerification.LedgerImplementation.html#807" class="Bound">A</a>
  <a id="892" href="ScriptVerification.LedgerImplementation.html#865" class="Function">∀Hashable</a> <a id="902" class="Symbol">=</a> <a id="904" class="Symbol">λ</a> <a id="906" class="Keyword">where</a> <a id="912" class="Symbol">.</a><a id="913" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="918" class="Symbol">→</a> <a id="920" href="Function.Base.html#704" class="Function">id</a>

  <a id="926" href="ScriptVerification.LedgerImplementation.html#926" class="Function">∀isHashableSet</a> <a id="941" class="Symbol">:</a> <a id="943" href="Ledger.Crypto.html#99" class="Record">isHashableSet</a> <a id="957" href="ScriptVerification.LedgerImplementation.html#807" class="Bound">A</a>
  <a id="961" href="ScriptVerification.LedgerImplementation.html#926" class="Function">∀isHashableSet</a> <a id="976" class="Symbol">=</a> <a id="978" href="Ledger.Crypto.html#152" class="InductiveConstructor">mkIsHashableSet</a> <a id="994" href="ScriptVerification.LedgerImplementation.html#807" class="Bound">A</a>

<a id="997" class="Keyword">instance</a>
  <a id="Hashable-⊤"></a><a id="1008" href="ScriptVerification.LedgerImplementation.html#1008" class="Function">Hashable-⊤</a> <a id="1019" class="Symbol">:</a> <a id="1021" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="1030" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="1032" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="1036" href="ScriptVerification.LedgerImplementation.html#1008" class="Function">Hashable-⊤</a> <a id="1047" class="Symbol">=</a> <a id="1049" class="Symbol">λ</a> <a id="1051" class="Keyword">where</a> <a id="1057" class="Symbol">.</a><a id="1058" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="1063" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="1066" class="Symbol">→</a> <a id="1068" class="Number">0</a>

<a id="1071" class="Keyword">module</a> <a id="Implementation"></a><a id="1078" href="ScriptVerification.LedgerImplementation.html#1078" class="Module">Implementation</a> <a id="1093" class="Keyword">where</a>
  <a id="Implementation.Network"></a><a id="1101" href="ScriptVerification.LedgerImplementation.html#1101" class="Function">Network</a>          <a id="1118" class="Symbol">=</a> <a id="1120" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="Implementation.SlotsPerEpochᶜ"></a><a id="1124" href="ScriptVerification.LedgerImplementation.html#1124" class="Function">SlotsPerEpochᶜ</a>   <a id="1141" class="Symbol">=</a> <a id="1143" class="Number">100</a>
  <a id="Implementation.ActiveSlotCoeff"></a><a id="1149" href="ScriptVerification.LedgerImplementation.html#1149" class="Function">ActiveSlotCoeff</a>  <a id="1166" class="Symbol">=</a> <a id="1168" href="Data.Integer.Base.html#1585" class="Function">ℤ.1ℤ</a> <a id="1173" href="Data.Rational.Base.html#3884" class="Function Operator">ℚ./</a> <a id="1177" class="Number">20</a>
  <a id="Implementation.StabilityWindowᶜ"></a><a id="1182" href="ScriptVerification.LedgerImplementation.html#1182" class="Function">StabilityWindowᶜ</a> <a id="1199" class="Symbol">=</a> <a id="1201" class="Number">10</a>
  <a id="Implementation.Quorum"></a><a id="1206" href="ScriptVerification.LedgerImplementation.html#1206" class="Function">Quorum</a>           <a id="1223" class="Symbol">=</a> <a id="1225" class="Number">1</a>
  <a id="Implementation.NetworkId"></a><a id="1229" href="ScriptVerification.LedgerImplementation.html#1229" class="Function">NetworkId</a>        <a id="1246" class="Symbol">=</a> <a id="1248" class="Number">0</a>

  <a id="Implementation.SKey"></a><a id="1253" href="ScriptVerification.LedgerImplementation.html#1253" class="Function">SKey</a> <a id="1258" class="Symbol">=</a> <a id="1260" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="Implementation.VKey"></a><a id="1264" href="ScriptVerification.LedgerImplementation.html#1264" class="Function">VKey</a> <a id="1269" class="Symbol">=</a> <a id="1271" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="Implementation.Sig"></a><a id="1275" href="ScriptVerification.LedgerImplementation.html#1275" class="Function">Sig</a>  <a id="1280" class="Symbol">=</a> <a id="1282" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="Implementation.Ser"></a><a id="1286" href="ScriptVerification.LedgerImplementation.html#1286" class="Function">Ser</a>  <a id="1291" class="Symbol">=</a> <a id="1293" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

  <a id="Implementation.isKeyPair"></a><a id="1298" href="ScriptVerification.LedgerImplementation.html#1298" class="Function">isKeyPair</a>  <a id="1309" class="Symbol">=</a> <a id="1311" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
  <a id="Implementation.sign"></a><a id="1317" href="ScriptVerification.LedgerImplementation.html#1317" class="Function">sign</a>       <a id="1328" class="Symbol">=</a> <a id="1330" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a>

  <a id="Implementation.Data"></a><a id="1337" href="ScriptVerification.LedgerImplementation.html#1337" class="Function">Data</a>         <a id="1350" class="Symbol">=</a> <a id="1352" href="ScriptVerification.LedgerImplementation.html#126" class="Bound">D</a>
  <a id="Implementation.Dataʰ"></a><a id="1356" href="ScriptVerification.LedgerImplementation.html#1356" class="Function">Dataʰ</a>        <a id="1369" class="Symbol">=</a> <a id="1371" href="Ledger.Crypto.html#422" class="InductiveConstructor">mkHashableSet</a> <a id="1385" href="ScriptVerification.LedgerImplementation.html#1337" class="Function">Data</a>
  <a id="Implementation.toData"></a><a id="1392" href="ScriptVerification.LedgerImplementation.html#1392" class="Function">toData</a> <a id="1399" class="Symbol">:</a> <a id="1401" class="Symbol">∀</a> <a id="1403" class="Symbol">{</a><a id="1404" href="ScriptVerification.LedgerImplementation.html#1404" class="Bound">A</a> <a id="1406" class="Symbol">:</a> <a id="1408" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1412" class="Symbol">}</a> <a id="1414" class="Symbol">→</a> <a id="1416" href="ScriptVerification.LedgerImplementation.html#1404" class="Bound">A</a> <a id="1418" class="Symbol">→</a> <a id="1420" href="ScriptVerification.LedgerImplementation.html#126" class="Bound">D</a>
  <a id="1424" href="ScriptVerification.LedgerImplementation.html#1392" class="Function">toData</a> <a id="1431" class="Symbol">=</a> <a id="1433" href="ScriptVerification.Prelude.html#234" class="Field">toData&#39;</a> <a id="1441" class="Comment">-- fix this</a>

  <a id="Implementation.PlutusScript"></a><a id="1456" href="ScriptVerification.LedgerImplementation.html#1456" class="Function">PlutusScript</a> <a id="1469" class="Symbol">=</a> <a id="1471" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1473" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1475" class="Symbol">(</a><a id="1476" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1481" href="ScriptVerification.LedgerImplementation.html#1337" class="Function">Data</a> <a id="1486" class="Symbol">→</a> <a id="1488" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="1492" class="Symbol">)</a>
  <a id="Implementation.ScriptHash"></a><a id="1496" href="ScriptVerification.LedgerImplementation.html#1496" class="Function">ScriptHash</a> <a id="1507" class="Symbol">=</a> <a id="1509" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

  <a id="Implementation.ExUnits"></a><a id="1514" href="ScriptVerification.LedgerImplementation.html#1514" class="Function">ExUnits</a>      <a id="1527" class="Symbol">=</a> <a id="1529" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1531" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1533" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="Implementation.ExUnit-CommutativeMonoid"></a><a id="1537" href="ScriptVerification.LedgerImplementation.html#1537" class="Function">ExUnit-CommutativeMonoid</a> <a id="1562" class="Symbol">=</a>
    <a id="1568" href="Class.CommutativeMonoid.Core.html#639" class="Function">Conversion.fromBundle</a> <a id="1590" class="Symbol">(</a><a id="1591" href="Algebra.Construct.DirectProduct.html#7719" class="Function">commutativeMonoid</a> <a id="1609" href="Data.Nat.Properties.html#17331" class="Function">+-0-commutativeMonoid</a> <a id="1631" href="Data.Nat.Properties.html#17331" class="Function">+-0-commutativeMonoid</a><a id="1652" class="Symbol">)</a>
  <a id="Implementation._≥ᵉ_"></a><a id="1656" href="ScriptVerification.LedgerImplementation.html#1656" class="Function Operator">_≥ᵉ_</a> <a id="1661" class="Symbol">:</a> <a id="1663" href="ScriptVerification.LedgerImplementation.html#1514" class="Function">ExUnits</a> <a id="1671" class="Symbol">→</a> <a id="1673" href="ScriptVerification.LedgerImplementation.html#1514" class="Function">ExUnits</a> <a id="1681" class="Symbol">→</a> <a id="1683" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="1690" href="ScriptVerification.LedgerImplementation.html#1656" class="Function Operator">_≥ᵉ_</a> <a id="1695" class="Symbol">=</a> <a id="1697" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a>
  <a id="1703" class="Keyword">instance</a>
    <a id="Implementation.Show-ExUnits"></a><a id="1716" href="ScriptVerification.LedgerImplementation.html#1716" class="Function">Show-ExUnits</a> <a id="1729" class="Symbol">:</a> <a id="1731" href="Class.Show.Core.html#125" class="Record">Show</a> <a id="1736" href="ScriptVerification.LedgerImplementation.html#1514" class="Function">ExUnits</a>
    <a id="1748" href="ScriptVerification.LedgerImplementation.html#1716" class="Function">Show-ExUnits</a> <a id="1761" class="Symbol">=</a> <a id="1763" href="Class.Show.Instances.html#230" class="Function">Show-×</a>

  <a id="Implementation.CostModel"></a><a id="1773" href="ScriptVerification.LedgerImplementation.html#1773" class="Function">CostModel</a>    <a id="1786" class="Symbol">=</a> <a id="1788" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="1790" class="Comment">-- changed from ⊥</a>
  <a id="Implementation.Language"></a><a id="1810" href="ScriptVerification.LedgerImplementation.html#1810" class="Function">Language</a>     <a id="1823" class="Symbol">=</a> <a id="1825" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="Implementation.LangDepView"></a><a id="1829" href="ScriptVerification.LedgerImplementation.html#1829" class="Function">LangDepView</a>  <a id="1842" class="Symbol">=</a> <a id="1844" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="Implementation.Prices"></a><a id="1848" href="ScriptVerification.LedgerImplementation.html#1848" class="Function">Prices</a>       <a id="1861" class="Symbol">=</a> <a id="1863" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

  <a id="Implementation.TxId"></a><a id="1868" href="ScriptVerification.LedgerImplementation.html#1868" class="Function">TxId</a>            <a id="1884" class="Symbol">=</a> <a id="1886" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="Implementation.Ix"></a><a id="1890" href="ScriptVerification.LedgerImplementation.html#1890" class="Function">Ix</a>              <a id="1906" class="Symbol">=</a> <a id="1908" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="Implementation.AuxiliaryData"></a><a id="1912" href="ScriptVerification.LedgerImplementation.html#1912" class="Function">AuxiliaryData</a>   <a id="1928" class="Symbol">=</a> <a id="1930" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="Implementation.DocHash"></a><a id="1934" href="ScriptVerification.LedgerImplementation.html#1934" class="Function">DocHash</a>         <a id="1950" class="Symbol">=</a> <a id="1952" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="Implementation.tokenAlgebra"></a><a id="1956" href="ScriptVerification.LedgerImplementation.html#1956" class="Function">tokenAlgebra</a>    <a id="1972" class="Symbol">=</a> <a id="1974" href="Ledger.TokenAlgebra.Coin.html#236" class="Function">Coin-TokenAlgebra</a>
    <a id="1996" class="Keyword">where</a> <a id="2002" class="Keyword">open</a> <a id="2007" class="Keyword">import</a> <a id="2014" href="Ledger.TokenAlgebra.Coin.html" class="Module">Ledger.TokenAlgebra.Coin</a> <a id="2039" href="ScriptVerification.LedgerImplementation.html#1496" class="Function">ScriptHash</a>
            <a id="2062" class="Keyword">using</a> <a id="2068" class="Symbol">(</a><a id="2069" href="Ledger.TokenAlgebra.Coin.html#236" class="Function">Coin-TokenAlgebra</a><a id="2086" class="Symbol">)</a>


<a id="SVGlobalConstants"></a><a id="2090" href="ScriptVerification.LedgerImplementation.html#2090" class="Function">SVGlobalConstants</a> <a id="2108" class="Symbol">=</a> <a id="2110" href="Ledger.Types.Epoch.html#1962" class="Record">GlobalConstants</a> <a id="2126" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="2128" class="Keyword">record</a> <a id="2135" class="Symbol">{</a><a id="2136" href="ScriptVerification.LedgerImplementation.html#1078" class="Module">Implementation</a><a id="2150" class="Symbol">}</a>
<a id="SVEpochStructure"></a><a id="2152" href="ScriptVerification.LedgerImplementation.html#2152" class="Function">SVEpochStructure</a>  <a id="2170" class="Symbol">=</a> <a id="2172" href="Ledger.Types.Epoch.html#475" class="Record">EpochStructure</a>  <a id="2188" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="2190" href="Ledger.Types.Epoch.html#2463" class="Function">ℕEpochStructure</a> <a id="2206" href="ScriptVerification.LedgerImplementation.html#2090" class="Function">SVGlobalConstants</a>
<a id="2224" class="Keyword">instance</a> <a id="2233" href="ScriptVerification.LedgerImplementation.html#2233" class="Function">_</a> <a id="2235" class="Symbol">=</a> <a id="2237" href="ScriptVerification.LedgerImplementation.html#2152" class="Function">SVEpochStructure</a>

<a id="SVCrypto"></a><a id="2255" href="ScriptVerification.LedgerImplementation.html#2255" class="Function">SVCrypto</a> <a id="2264" class="Symbol">:</a> <a id="2266" href="Ledger.Crypto.html#1043" class="Record">Crypto</a>
<a id="2273" href="ScriptVerification.LedgerImplementation.html#2255" class="Function">SVCrypto</a> <a id="2282" class="Symbol">=</a> <a id="2284" class="Keyword">record</a>
  <a id="2293" class="Symbol">{</a> <a id="2295" href="ScriptVerification.LedgerImplementation.html#1078" class="Module">Implementation</a>
  <a id="2312" class="Symbol">;</a> <a id="2314" href="Ledger.Crypto.html#1072" class="Field">pkk</a> <a id="2318" class="Symbol">=</a> <a id="2320" href="ScriptVerification.LedgerImplementation.html#2383" class="Function">SVPKKScheme</a>
  <a id="2334" class="Symbol">}</a>
  <a id="2338" class="Keyword">where</a>
  <a id="2346" class="Comment">-- Dummy private key crypto scheme</a>
  <a id="2383" href="ScriptVerification.LedgerImplementation.html#2383" class="Function">SVPKKScheme</a> <a id="2395" class="Symbol">:</a> <a id="2397" href="Ledger.Crypto.html#539" class="Record">PKKScheme</a>
  <a id="2409" href="ScriptVerification.LedgerImplementation.html#2383" class="Function">SVPKKScheme</a> <a id="2421" class="Symbol">=</a> <a id="2423" class="Keyword">record</a>
    <a id="2434" class="Symbol">{</a> <a id="2436" href="ScriptVerification.LedgerImplementation.html#1078" class="Module">Implementation</a>
    <a id="2455" class="Symbol">;</a> <a id="2457" href="Ledger.Crypto.html#651" class="Field">isSigned</a>         <a id="2474" class="Symbol">=</a> <a id="2476" class="Symbol">λ</a> <a id="2478" href="ScriptVerification.LedgerImplementation.html#2478" class="Bound">a</a> <a id="2480" href="ScriptVerification.LedgerImplementation.html#2480" class="Bound">b</a> <a id="2482" href="ScriptVerification.LedgerImplementation.html#2482" class="Bound">m</a> <a id="2484" class="Symbol">→</a> <a id="2486" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="2492" class="Symbol">;</a> <a id="2494" href="Ledger.Crypto.html#700" class="Field">sign</a>             <a id="2511" class="Symbol">=</a> <a id="2513" class="Symbol">λ</a> <a id="2515" href="ScriptVerification.LedgerImplementation.html#2515" class="Bound">_</a> <a id="2517" href="ScriptVerification.LedgerImplementation.html#2517" class="Bound">_</a> <a id="2519" class="Symbol">→</a> <a id="2521" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>
    <a id="2530" class="Symbol">;</a> <a id="2532" href="Ledger.Crypto.html#849" class="Field">isSigned-correct</a> <a id="2549" class="Symbol">=</a> <a id="2551" class="Symbol">λ</a> <a id="2553" class="Keyword">where</a> <a id="2559" class="Symbol">(</a><a id="2560" href="ScriptVerification.LedgerImplementation.html#2560" class="Bound">sk</a> <a id="2563" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2565" href="ScriptVerification.LedgerImplementation.html#2560" class="Bound">sk</a> <a id="2568" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2570" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2574" class="Symbol">)</a> <a id="2576" class="Symbol">_</a> <a id="2578" class="Symbol">_</a> <a id="2580" href="ScriptVerification.LedgerImplementation.html#2580" class="Bound">h</a> <a id="2582" class="Symbol">→</a> <a id="2584" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
    <a id="2591" class="Symbol">}</a>

<a id="2594" class="Keyword">instance</a> <a id="2603" href="ScriptVerification.LedgerImplementation.html#2603" class="Function">_</a> <a id="2605" class="Symbol">=</a> <a id="2607" href="ScriptVerification.LedgerImplementation.html#2255" class="Function">SVCrypto</a>

<a id="2617" class="Keyword">open</a> <a id="2622" class="Keyword">import</a> <a id="2629" href="Ledger.Script.html" class="Module">Ledger.Script</a> <a id="2643" href="Function.Base.html#4736" class="Function">it</a> <a id="2646" href="Function.Base.html#4736" class="Function">it</a>
<a id="2649" class="Keyword">open</a> <a id="2654" class="Keyword">import</a> <a id="2661" href="Ledger.Conway.Conformance.Script.html" class="Module">Ledger.Conway.Conformance.Script</a> <a id="2694" href="Function.Base.html#4736" class="Function">it</a> <a id="2697" href="Function.Base.html#4736" class="Function">it</a>

<a id="SVScriptStructure"></a><a id="2701" href="ScriptVerification.LedgerImplementation.html#2701" class="Function">SVScriptStructure</a> <a id="2719" class="Symbol">:</a> <a id="2721" href="Ledger.Script.html#4951" class="Record">ScriptStructure</a>
<a id="2737" href="ScriptVerification.LedgerImplementation.html#2701" class="Function">SVScriptStructure</a> <a id="2755" class="Symbol">=</a> <a id="2757" class="Keyword">record</a>
  <a id="2766" class="Symbol">{</a> <a id="2768" href="Ledger.Script.html#4990" class="Field">p1s</a> <a id="2772" class="Symbol">=</a> <a id="2774" href="Ledger.Conway.Conformance.Script.html#1251" class="Function">P1ScriptStructure-HTL</a>
  <a id="2798" class="Symbol">;</a> <a id="2800" href="Ledger.Script.html#5060" class="Field">hashRespectsUnion</a> <a id="2818" class="Symbol">=</a> <a id="2820" href="ScriptVerification.LedgerImplementation.html#3030" class="Function">hashRespectsUnion</a>
  <a id="2840" class="Symbol">;</a> <a id="2842" href="Ledger.Script.html#5177" class="Field">ps</a> <a id="2845" class="Symbol">=</a> <a id="2847" href="ScriptVerification.LedgerImplementation.html#3243" class="Function">SVP2ScriptStructure</a>
  <a id="2869" class="Symbol">}</a>
  <a id="2873" class="Keyword">where</a>

    <a id="2884" class="Keyword">instance</a> <a id="2893" href="ScriptVerification.LedgerImplementation.html#2893" class="Function">Hashable-PlutusScript</a> <a id="2915" class="Symbol">:</a> <a id="2917" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="2926" href="ScriptVerification.LedgerImplementation.html#1456" class="Function">Implementation.PlutusScript</a> <a id="2954" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
             <a id="2969" href="ScriptVerification.LedgerImplementation.html#2893" class="Function">Hashable-PlutusScript</a> <a id="2991" class="Symbol">=</a> <a id="2993" class="Keyword">record</a> <a id="3000" class="Symbol">{</a> <a id="3002" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="3007" class="Symbol">=</a> <a id="3009" class="Symbol">λ</a> <a id="3011" href="ScriptVerification.LedgerImplementation.html#3011" class="Bound">x</a> <a id="3013" class="Symbol">→</a> <a id="3015" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3021" href="ScriptVerification.LedgerImplementation.html#3011" class="Bound">x</a> <a id="3023" class="Symbol">}</a>

    <a id="3030" href="ScriptVerification.LedgerImplementation.html#3030" class="Function">hashRespectsUnion</a> <a id="3048" class="Symbol">:</a> <a id="3050" class="Symbol">∀</a> <a id="3052" class="Symbol">{</a><a id="3053" href="ScriptVerification.LedgerImplementation.html#3053" class="Bound">A</a> <a id="3055" href="ScriptVerification.LedgerImplementation.html#3055" class="Bound">B</a> <a id="3057" href="ScriptVerification.LedgerImplementation.html#3057" class="Bound">ℍ</a><a id="3058" class="Symbol">}</a>
      <a id="3066" class="Symbol">→</a> <a id="3068" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="3077" href="ScriptVerification.LedgerImplementation.html#3053" class="Bound">A</a> <a id="3079" href="ScriptVerification.LedgerImplementation.html#3057" class="Bound">ℍ</a> <a id="3081" class="Symbol">→</a> <a id="3083" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="3092" href="ScriptVerification.LedgerImplementation.html#3055" class="Bound">B</a> <a id="3094" href="ScriptVerification.LedgerImplementation.html#3057" class="Bound">ℍ</a>
      <a id="3102" class="Symbol">→</a> <a id="3104" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="3113" class="Symbol">(</a><a id="3114" href="ScriptVerification.LedgerImplementation.html#3053" class="Bound">A</a> <a id="3116" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3118" href="ScriptVerification.LedgerImplementation.html#3055" class="Bound">B</a><a id="3119" class="Symbol">)</a> <a id="3121" href="ScriptVerification.LedgerImplementation.html#3057" class="Bound">ℍ</a>
    <a id="3127" href="ScriptVerification.LedgerImplementation.html#3030" class="Function">hashRespectsUnion</a> <a id="3145" href="ScriptVerification.LedgerImplementation.html#3145" class="Bound">ha</a> <a id="3148" href="ScriptVerification.LedgerImplementation.html#3148" class="Bound">hb</a> <a id="3151" class="Symbol">=</a> <a id="3153" class="Keyword">record</a> <a id="3160" class="Symbol">{</a> <a id="3162" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="3167" class="Symbol">=</a> <a id="3169" class="Symbol">λ</a> <a id="3171" class="Symbol">{</a> <a id="3173" class="Symbol">(</a><a id="3174" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3179" href="ScriptVerification.LedgerImplementation.html#3179" class="Bound">x</a><a id="3180" class="Symbol">)</a> <a id="3182" class="Symbol">→</a> <a id="3184" href="Interface.Hashable.html#205" class="Field">Hashable.hash</a> <a id="3198" href="ScriptVerification.LedgerImplementation.html#3145" class="Bound">ha</a> <a id="3201" href="ScriptVerification.LedgerImplementation.html#3179" class="Bound">x</a> <a id="3203" class="Symbol">;</a> <a id="3205" class="Symbol">(</a><a id="3206" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3211" href="ScriptVerification.LedgerImplementation.html#3211" class="Bound">y</a><a id="3212" class="Symbol">)</a> <a id="3214" class="Symbol">→</a> <a id="3216" href="Interface.Hashable.html#205" class="Field">Hashable.hash</a> <a id="3230" href="ScriptVerification.LedgerImplementation.html#3148" class="Bound">hb</a> <a id="3233" href="ScriptVerification.LedgerImplementation.html#3211" class="Bound">y</a> <a id="3235" class="Symbol">}}</a>

    <a id="3243" href="ScriptVerification.LedgerImplementation.html#3243" class="Function">SVP2ScriptStructure</a> <a id="3263" class="Symbol">:</a> <a id="3265" href="Ledger.Script.html#897" class="Record">PlutusStructure</a>
    <a id="3285" href="ScriptVerification.LedgerImplementation.html#3243" class="Function">SVP2ScriptStructure</a> <a id="3305" class="Symbol">=</a>  <a id="3308" class="Keyword">record</a>
      <a id="3321" class="Symbol">{</a> <a id="3323" href="ScriptVerification.LedgerImplementation.html#1078" class="Module">Implementation</a>
      <a id="3344" class="Symbol">;</a> <a id="3346" href="Ledger.Script.html#1809" class="Field">validPlutusScript</a> <a id="3364" class="Symbol">=</a> <a id="3366" class="Symbol">λ</a> <a id="3368" href="ScriptVerification.LedgerImplementation.html#3368" class="Bound">_</a> <a id="3370" href="ScriptVerification.LedgerImplementation.html#3370" class="Bound">_</a> <a id="3372" href="ScriptVerification.LedgerImplementation.html#3372" class="Bound">_</a> <a id="3374" href="ScriptVerification.LedgerImplementation.html#3374" class="Bound">_</a> <a id="3376" class="Symbol">→</a> <a id="3378" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
      <a id="3386" class="Symbol">}</a>

<a id="3389" class="Keyword">instance</a> <a id="3398" href="ScriptVerification.LedgerImplementation.html#3398" class="Function">_</a> <a id="3400" class="Symbol">=</a> <a id="3402" href="ScriptVerification.LedgerImplementation.html#2701" class="Function">SVScriptStructure</a>

<a id="3421" class="Keyword">open</a> <a id="3426" class="Keyword">import</a> <a id="3433" href="Ledger.PParams.html" class="Module">Ledger.PParams</a> <a id="3448" href="Function.Base.html#4736" class="Function">it</a> <a id="3451" href="Function.Base.html#4736" class="Function">it</a> <a id="3454" href="Function.Base.html#4736" class="Function">it</a> <a id="3457" class="Keyword">hiding</a> <a id="3464" class="Symbol">(</a><a id="3465" href="Ledger.PParams.html#1570" class="Record">PParams</a><a id="3472" class="Symbol">)</a>

<a id="SVGovParams"></a><a id="3475" href="ScriptVerification.LedgerImplementation.html#3475" class="Function">SVGovParams</a> <a id="3487" class="Symbol">:</a> <a id="3489" href="Ledger.PParams.html#14424" class="Record">GovParams</a>
<a id="3499" href="ScriptVerification.LedgerImplementation.html#3475" class="Function">SVGovParams</a> <a id="3511" class="Symbol">=</a> <a id="3513" class="Keyword">record</a>
  <a id="3522" class="Symbol">{</a> <a id="3524" href="ScriptVerification.LedgerImplementation.html#1078" class="Module">Implementation</a>
  <a id="3541" class="Symbol">;</a> <a id="3543" href="Ledger.PParams.html#14456" class="Field">ppUpd</a> <a id="3549" class="Symbol">=</a> <a id="3551" class="Keyword">let</a> <a id="3555" class="Keyword">open</a> <a id="3560" href="Ledger.PParams.html#14029" class="Module">PParamsDiff</a> <a id="3572" class="Keyword">in</a> <a id="3575" class="Symbol">λ</a> <a id="3577" class="Keyword">where</a>
      <a id="3589" class="Symbol">.</a><a id="3590" href="Ledger.PParams.html#14069" class="Field">UpdateT</a>                <a id="3613" class="Symbol">→</a> <a id="3615" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
      <a id="3623" class="Symbol">.</a><a id="3624" href="Ledger.PParams.html#14134" class="Field">updateGroups</a>           <a id="3647" class="Symbol">→</a> <a id="3649" class="Symbol">λ</a> <a id="3651" href="ScriptVerification.LedgerImplementation.html#3651" class="Bound">_</a> <a id="3653" class="Symbol">→</a> <a id="3655" href="Class.HasEmptySet.html#287" class="Field">∅</a>
      <a id="3663" class="Symbol">.</a><a id="3664" href="Ledger.PParams.html#14088" class="Field">applyUpdate</a>            <a id="3687" class="Symbol">→</a> <a id="3689" class="Symbol">λ</a> <a id="3691" href="ScriptVerification.LedgerImplementation.html#3691" class="Bound">p</a> <a id="3693" href="ScriptVerification.LedgerImplementation.html#3693" class="Bound">_</a> <a id="3695" class="Symbol">→</a> <a id="3697" href="ScriptVerification.LedgerImplementation.html#3691" class="Bound">p</a>
      <a id="3705" class="Symbol">.</a><a id="3706" href="Ledger.PParams.html#14182" class="Field">ppWF?</a>                  <a id="3729" class="Symbol">→</a> <a id="3731" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="3733" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3737" class="Symbol">λ</a> <a id="3739" href="ScriptVerification.LedgerImplementation.html#3739" class="Bound">_</a> <a id="3741" class="Symbol">→</a> <a id="3743" href="Function.Base.html#704" class="Function">id</a>
  <a id="3748" class="Symbol">}</a>

<a id="SVGovStructure"></a><a id="3751" href="ScriptVerification.LedgerImplementation.html#3751" class="Function">SVGovStructure</a> <a id="3766" class="Symbol">:</a> <a id="3768" href="Ledger.Types.GovStructure.html#235" class="Record">GovStructure</a>
<a id="3781" href="ScriptVerification.LedgerImplementation.html#3751" class="Function">SVGovStructure</a> <a id="3796" class="Symbol">=</a> <a id="3798" class="Keyword">record</a>
  <a id="3807" class="Symbol">{</a> <a id="3809" href="ScriptVerification.LedgerImplementation.html#1078" class="Module">Implementation</a>
  <a id="3826" class="Symbol">;</a> <a id="3828" href="Ledger.Types.GovStructure.html#383" class="Field">epochStructure</a>  <a id="3844" class="Symbol">=</a> <a id="3846" href="ScriptVerification.LedgerImplementation.html#2152" class="Function">SVEpochStructure</a>
  <a id="3865" class="Symbol">;</a> <a id="3867" href="Ledger.Types.GovStructure.html#634" class="Field">govParams</a>       <a id="3883" class="Symbol">=</a> <a id="3885" href="ScriptVerification.LedgerImplementation.html#3475" class="Function">SVGovParams</a>
  <a id="3899" class="Symbol">;</a> <a id="3901" href="Ledger.Types.GovStructure.html#335" class="Field">crypto</a>          <a id="3917" class="Symbol">=</a> <a id="3919" href="ScriptVerification.LedgerImplementation.html#2255" class="Function">SVCrypto</a>
  <a id="3930" class="Symbol">;</a> <a id="3932" href="Ledger.Types.GovStructure.html#699" class="Field">globalConstants</a> <a id="3948" class="Symbol">=</a> <a id="3950" href="ScriptVerification.LedgerImplementation.html#2090" class="Function">SVGlobalConstants</a>
  <a id="3970" class="Symbol">}</a>
<a id="3972" class="Keyword">instance</a> <a id="3981" href="ScriptVerification.LedgerImplementation.html#3981" class="Function">_</a> <a id="3983" class="Symbol">=</a> <a id="3985" href="ScriptVerification.LedgerImplementation.html#3751" class="Function">SVGovStructure</a>

<a id="4001" class="Keyword">open</a> <a id="4006" class="Keyword">import</a> <a id="4013" href="Ledger.GovernanceActions.html" class="Module">Ledger.GovernanceActions</a> <a id="4038" href="Function.Base.html#4736" class="Function">it</a> <a id="4041" class="Keyword">hiding</a> <a id="4048" class="Symbol">(</a><a id="4049" href="Ledger.GovernanceActions.html#2328" class="Datatype">Vote</a><a id="4053" class="Symbol">;</a> <a id="4055" href="Ledger.GovernanceActions.html#346" class="Datatype">GovRole</a><a id="4062" class="Symbol">;</a> <a id="4064" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a><a id="4070" class="Symbol">;</a> <a id="4072" href="Ledger.GovernanceActions.html#642" class="Record">Anchor</a><a id="4078" class="Symbol">)</a>
<a id="4080" class="Keyword">open</a> <a id="4085" class="Keyword">import</a> <a id="4092" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="4124" href="Function.Base.html#4736" class="Function">it</a> <a id="4127" class="Keyword">hiding</a> <a id="4134" class="Symbol">(</a><a id="4135" href="Ledger.Certs.html#1131" class="Record">PoolParams</a><a id="4145" class="Symbol">;</a> <a id="4147" href="Ledger.Certs.html#1324" class="Datatype">DCert</a><a id="4152" class="Symbol">)</a>

<a id="SVTransactionStructure"></a><a id="4155" href="ScriptVerification.LedgerImplementation.html#4155" class="Function">SVTransactionStructure</a> <a id="4178" class="Symbol">:</a> <a id="4180" href="Ledger.Transaction.html#867" class="Record">TransactionStructure</a>
<a id="4201" href="ScriptVerification.LedgerImplementation.html#4155" class="Function">SVTransactionStructure</a> <a id="4224" class="Symbol">=</a> <a id="4226" class="Keyword">record</a>
  <a id="4235" class="Symbol">{</a> <a id="4237" href="ScriptVerification.LedgerImplementation.html#1078" class="Module">Implementation</a>
  <a id="4254" class="Symbol">;</a> <a id="4256" href="Ledger.Transaction.html#1385" class="Field">epochStructure</a>  <a id="4272" class="Symbol">=</a> <a id="4274" href="ScriptVerification.LedgerImplementation.html#2152" class="Function">SVEpochStructure</a>
  <a id="4293" class="Symbol">;</a> <a id="4295" href="Ledger.Transaction.html#1140" class="Field">globalConstants</a> <a id="4311" class="Symbol">=</a> <a id="4313" href="ScriptVerification.LedgerImplementation.html#2090" class="Function">SVGlobalConstants</a>
  <a id="4333" class="Symbol">;</a> <a id="4335" href="Ledger.Transaction.html#1014" class="Field">adHashingScheme</a> <a id="4351" class="Symbol">=</a> <a id="4353" href="Function.Base.html#4736" class="Function">it</a>
  <a id="4358" class="Symbol">;</a> <a id="4360" href="Ledger.Transaction.html#1215" class="Field">crypto</a>          <a id="4376" class="Symbol">=</a> <a id="4378" href="ScriptVerification.LedgerImplementation.html#2255" class="Function">SVCrypto</a>
  <a id="4389" class="Symbol">;</a> <a id="4391" href="Ledger.Transaction.html#1649" class="Field">govParams</a>       <a id="4407" class="Symbol">=</a> <a id="4409" href="ScriptVerification.LedgerImplementation.html#3475" class="Function">SVGovParams</a>
  <a id="4423" class="Symbol">;</a> <a id="4425" href="Ledger.Transaction.html#1783" class="Field">txidBytes</a>       <a id="4441" class="Symbol">=</a> <a id="4443" href="Function.Base.html#704" class="Function">id</a>
  <a id="4448" class="Symbol">;</a> <a id="4450" href="Ledger.Transaction.html#1507" class="Field">scriptStructure</a> <a id="4466" class="Symbol">=</a> <a id="4468" href="ScriptVerification.LedgerImplementation.html#2701" class="Function">SVScriptStructure</a>
  <a id="4488" class="Symbol">}</a>
<a id="4490" class="Keyword">instance</a> <a id="4499" href="ScriptVerification.LedgerImplementation.html#4499" class="Function">_</a> <a id="4501" class="Symbol">=</a> <a id="4503" href="ScriptVerification.LedgerImplementation.html#4155" class="Function">SVTransactionStructure</a>

<a id="4527" class="Keyword">open</a> <a id="4532" class="Keyword">import</a> <a id="4539" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a> <a id="4555" href="Function.Base.html#4736" class="Function">it</a>
<a id="4558" class="Keyword">open</a> <a id="4563" class="Keyword">import</a> <a id="4570" href="Ledger.Gov.html" class="Module">Ledger.Gov</a> <a id="4581" href="Function.Base.html#4736" class="Function">it</a>

<a id="4585" class="Keyword">open</a> <a id="4590" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="4611" href="Function.Base.html#4736" class="Function">it</a>

<a id="indexOfTxInImp"></a><a id="4615" href="ScriptVerification.LedgerImplementation.html#4615" class="Function">indexOfTxInImp</a> <a id="4630" class="Symbol">:</a> <a id="4632" href="Ledger.Transaction.html#2297" class="Function">TxIn</a> <a id="4637" class="Symbol">→</a> <a id="4639" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4641" href="Ledger.Transaction.html#2297" class="Function">TxIn</a> <a id="4646" class="Symbol">→</a> <a id="4648" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4654" href="Ledger.Transaction.html#916" class="Function">Ix</a>
<a id="4657" href="ScriptVerification.LedgerImplementation.html#4615" class="Function">indexOfTxInImp</a> <a id="4672" href="ScriptVerification.LedgerImplementation.html#4672" class="Bound">x</a> <a id="4674" href="ScriptVerification.LedgerImplementation.html#4674" class="Bound">y</a> <a id="4676" class="Symbol">=</a> <a id="4678" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="4687" class="Symbol">(</a><a id="4688" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="4698" class="Symbol">(</a><a id="4699" href="abstract-set-theory.FiniteSetTheory.html#2463" class="Function">setToList</a> <a id="4709" href="ScriptVerification.LedgerImplementation.html#4674" class="Bound">y</a><a id="4710" class="Symbol">))</a> <a id="4713" class="Symbol">(</a><a id="4714" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4720" href="ScriptVerification.LedgerImplementation.html#4672" class="Bound">x</a><a id="4721" class="Symbol">)</a>

<a id="SVAbstractFunctions"></a><a id="4724" href="ScriptVerification.LedgerImplementation.html#4724" class="Function">SVAbstractFunctions</a> <a id="4744" class="Symbol">:</a> <a id="4746" href="Ledger.Abstract.html#578" class="Record">AbstractFunctions</a>
<a id="4764" href="ScriptVerification.LedgerImplementation.html#4724" class="Function">SVAbstractFunctions</a> <a id="4784" class="Symbol">=</a> <a id="4786" class="Keyword">record</a>
  <a id="4795" class="Symbol">{</a> <a id="4797" href="ScriptVerification.LedgerImplementation.html#1078" class="Module">Implementation</a>
  <a id="4814" class="Symbol">;</a> <a id="4816" href="Ledger.Abstract.html#617" class="Field">txscriptfee</a> <a id="4828" class="Symbol">=</a> <a id="4830" class="Symbol">λ</a> <a id="4832" href="ScriptVerification.LedgerImplementation.html#4832" class="Bound">tt</a> <a id="4835" href="ScriptVerification.LedgerImplementation.html#4835" class="Bound">y</a> <a id="4837" class="Symbol">→</a> <a id="4839" class="Number">0</a>
  <a id="4843" class="Symbol">;</a> <a id="4845" href="Ledger.Abstract.html#664" class="Field">serSize</a>     <a id="4857" class="Symbol">=</a> <a id="4859" class="Symbol">λ</a> <a id="4861" href="ScriptVerification.LedgerImplementation.html#4861" class="Bound">v</a> <a id="4863" class="Symbol">→</a> <a id="4865" class="Number">0</a> <a id="4867" class="Comment">-- changed to 0</a>
  <a id="4885" class="Symbol">;</a> <a id="4887" href="Ledger.Abstract.html#710" class="Field">indexOfImp</a>  <a id="4899" class="Symbol">=</a> <a id="4901" class="Keyword">record</a>
    <a id="4912" class="Symbol">{</a> <a id="4914" href="Ledger.Abstract.html#252" class="Field">indexOfDCert</a>    <a id="4930" class="Symbol">=</a> <a id="4932" class="Symbol">λ</a> <a id="4934" href="ScriptVerification.LedgerImplementation.html#4934" class="Bound">_</a> <a id="4936" href="ScriptVerification.LedgerImplementation.html#4936" class="Bound">_</a> <a id="4938" class="Symbol">→</a> <a id="4940" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="4952" class="Symbol">;</a> <a id="4954" href="Ledger.Abstract.html#304" class="Field">indexOfRwdAddr</a>  <a id="4970" class="Symbol">=</a> <a id="4972" class="Symbol">λ</a> <a id="4974" href="ScriptVerification.LedgerImplementation.html#4974" class="Bound">_</a> <a id="4976" href="ScriptVerification.LedgerImplementation.html#4976" class="Bound">_</a> <a id="4978" class="Symbol">→</a> <a id="4980" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="4992" class="Symbol">;</a> <a id="4994" href="Ledger.Abstract.html#352" class="Field">indexOfTxIn</a>     <a id="5010" class="Symbol">=</a> <a id="5012" href="ScriptVerification.LedgerImplementation.html#4615" class="Function">indexOfTxInImp</a>
    <a id="5031" class="Symbol">;</a> <a id="5033" href="Ledger.Abstract.html#399" class="Field">indexOfPolicyId</a> <a id="5049" class="Symbol">=</a> <a id="5051" class="Symbol">λ</a> <a id="5053" href="ScriptVerification.LedgerImplementation.html#5053" class="Bound">_</a> <a id="5055" href="ScriptVerification.LedgerImplementation.html#5055" class="Bound">_</a> <a id="5057" class="Symbol">→</a> <a id="5059" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="5071" class="Symbol">;</a> <a id="5073" href="Ledger.Abstract.html#458" class="Field">indexOfVote</a>     <a id="5089" class="Symbol">=</a> <a id="5091" class="Symbol">λ</a> <a id="5093" href="ScriptVerification.LedgerImplementation.html#5093" class="Bound">_</a> <a id="5095" href="ScriptVerification.LedgerImplementation.html#5095" class="Bound">_</a> <a id="5097" class="Symbol">→</a> <a id="5099" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="5111" class="Symbol">;</a> <a id="5113" href="Ledger.Abstract.html#510" class="Field">indexOfProposal</a> <a id="5129" class="Symbol">=</a> <a id="5131" class="Symbol">λ</a> <a id="5133" href="ScriptVerification.LedgerImplementation.html#5133" class="Bound">_</a> <a id="5135" href="ScriptVerification.LedgerImplementation.html#5135" class="Bound">_</a> <a id="5137" class="Symbol">→</a> <a id="5139" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="5151" class="Symbol">}</a>
  <a id="5155" class="Symbol">;</a> <a id="5157" href="Ledger.Abstract.html#741" class="Field">runPLCScript</a> <a id="5170" class="Symbol">=</a> <a id="5172" class="Symbol">λ</a> <a id="5174" class="Symbol">{</a> <a id="5176" href="ScriptVerification.LedgerImplementation.html#5176" class="Bound">x</a> <a id="5178" href="ScriptVerification.LedgerImplementation.html#5178" class="Bound">x₁</a> <a id="5181" href="ScriptVerification.LedgerImplementation.html#5181" class="Bound">x₂</a> <a id="5184" href="ScriptVerification.LedgerImplementation.html#5184" class="Bound">x₃</a> <a id="5187" class="Symbol">→</a> <a id="5189" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5195" href="ScriptVerification.LedgerImplementation.html#5178" class="Bound">x₁</a> <a id="5198" href="ScriptVerification.LedgerImplementation.html#5184" class="Bound">x₃</a> <a id="5201" class="Symbol">}</a>
  <a id="5205" class="Symbol">;</a> <a id="5207" href="Ledger.Abstract.html#814" class="Field">scriptSize</a> <a id="5218" class="Symbol">=</a> <a id="5220" class="Symbol">λ</a> <a id="5222" href="ScriptVerification.LedgerImplementation.html#5222" class="Bound">_</a> <a id="5224" class="Symbol">→</a> <a id="5226" class="Number">0</a>
  <a id="5230" class="Symbol">}</a>
<a id="5232" class="Keyword">instance</a> <a id="5241" href="ScriptVerification.LedgerImplementation.html#5241" class="Function">_</a> <a id="5243" class="Symbol">=</a> <a id="5245" href="ScriptVerification.LedgerImplementation.html#4724" class="Function">SVAbstractFunctions</a>
</pre></body></html>