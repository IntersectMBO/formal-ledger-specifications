<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Prelude</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Comment">--------------------------------------------------------------------------------</a>
<a id="106" class="Comment">-- Ledger prelude</a>
<a id="124" class="Comment">--</a>
<a id="127" class="Comment">-- Re-exports modules relating to STS, set theory and other</a>
<a id="187" class="Comment">-- miscellaneous things used to write the ledger rules. If something</a>
<a id="256" class="Comment">-- is used in more than two Ledger.* modules, it should probably go</a>
<a id="324" class="Comment">-- here.</a>
<a id="333" class="Comment">--------------------------------------------------------------------------------</a>

<a id="415" class="Keyword">module</a> <a id="422" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="437" class="Keyword">where</a>

<a id="444" class="Keyword">open</a> <a id="449" class="Keyword">import</a> <a id="456" href="Prelude.html" class="Module">Prelude</a> <a id="464" class="Keyword">public</a>
  <a id="473" class="Keyword">hiding</a> <a id="480" class="Symbol">(</a><a id="481" href="Prelude.html#2163" class="Function">∃⁇</a><a id="483" class="Symbol">)</a>
<a id="485" class="Keyword">open</a> <a id="490" class="Keyword">import</a> <a id="497" href="iog-prelude.Prelude.Init.html" class="Module">iog-prelude.Prelude.Init</a> <a id="522" class="Keyword">public</a>
  <a id="531" class="Keyword">using</a> <a id="537" class="Symbol">(</a><a id="538" href="iog-prelude.Prelude.Init.html#125" class="Function">∃⁇</a><a id="540" class="Symbol">)</a>

<a id="543" class="Keyword">open</a> <a id="548" class="Keyword">import</a> <a id="555" href="Ledger.Prelude.Base.html" class="Module">Ledger.Prelude.Base</a> <a id="575" class="Keyword">public</a>
<a id="582" class="Keyword">import</a> <a id="589" href="Data.List.html" class="Module">Data.List</a>

<a id="600" class="Keyword">open</a> <a id="605" class="Keyword">import</a> <a id="612" href="Class.HasAdd.html" class="Module">Class.HasAdd</a> <a id="625" class="Keyword">public</a>
<a id="632" class="Keyword">open</a> <a id="637" class="Keyword">import</a> <a id="644" href="stdlib-classes.Class.HasCast.html" class="Module">stdlib-classes.Class.HasCast</a> <a id="673" class="Keyword">public</a>
<a id="680" class="Keyword">open</a> <a id="685" class="Keyword">import</a> <a id="692" href="Class.HasOrder.html" class="Module">Class.HasOrder</a> <a id="707" class="Keyword">public</a>
<a id="714" class="Keyword">open</a> <a id="719" class="Keyword">import</a> <a id="726" href="Class.ToBool.html" class="Module">Class.ToBool</a> <a id="739" class="Keyword">public</a>
<a id="746" class="Keyword">open</a> <a id="751" class="Keyword">import</a> <a id="758" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a> <a id="790" class="Keyword">public</a>
<a id="797" class="Keyword">open</a> <a id="802" class="Keyword">import</a> <a id="809" href="Interface.HasSubtract.html" class="Module">Interface.HasSubtract</a> <a id="831" class="Keyword">public</a>
<a id="838" class="Keyword">open</a> <a id="843" class="Keyword">import</a> <a id="850" href="Interface.HasSubtract.Instance.html" class="Module">Interface.HasSubtract.Instance</a> <a id="881" class="Keyword">public</a>
<a id="888" class="Keyword">open</a> <a id="893" class="Keyword">import</a> <a id="900" href="Interface.HasSubset.html" class="Module">Interface.HasSubset</a> <a id="920" class="Keyword">public</a>
<a id="927" class="Keyword">open</a> <a id="932" class="Keyword">import</a> <a id="939" href="Interface.HasSubset.Instance.html" class="Module">Interface.HasSubset.Instance</a> <a id="968" class="Keyword">public</a>
<a id="975" class="Keyword">open</a> <a id="980" class="Keyword">import</a> <a id="987" href="Interface.Hashable.html" class="Module">Interface.Hashable</a> <a id="1006" class="Keyword">public</a>
<a id="1013" class="Keyword">open</a> <a id="1018" class="Keyword">import</a> <a id="1025" href="Ledger.Interface.HasCoin.html" class="Module">Ledger.Interface.HasCoin</a> <a id="1050" class="Keyword">public</a>
<a id="1057" class="Keyword">open</a> <a id="1062" class="Keyword">import</a> <a id="1069" href="Tactic.Defaults.html" class="Module">Tactic.Defaults</a> <a id="1085" class="Keyword">public</a>
<a id="1092" class="Keyword">open</a> <a id="1097" class="Keyword">import</a> <a id="1104" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a> <a id="1124" class="Keyword">hiding</a> <a id="1131" class="Symbol">(</a><a id="1132" href="Tactic.Derive.DecEq.html#1545" class="Function">map&#39;</a><a id="1136" class="Symbol">)</a> <a id="1138" class="Keyword">public</a>
<a id="1145" class="Keyword">open</a> <a id="1150" class="Keyword">import</a> <a id="1157" href="Tactic.Inline.html" class="Module">Tactic.Inline</a> <a id="1171" class="Keyword">hiding</a> <a id="1178" class="Symbol">(</a><a id="1179" href="Tactic.Inline.html#805" class="Function">iTC</a><a id="1182" class="Symbol">;</a> <a id="1184" href="Tactic.Inline.html#825" class="Function">iTCE</a><a id="1188" class="Symbol">)</a> <a id="1190" class="Keyword">public</a>
<a id="1197" class="Keyword">open</a> <a id="1202" class="Keyword">import</a> <a id="1209" href="MyDebugOptions.html" class="Module">MyDebugOptions</a> <a id="1224" class="Keyword">public</a>
<a id="1231" class="Keyword">open</a> <a id="1236" class="Keyword">import</a> <a id="1243" href="iog-prelude.Tactic.Premises.html" class="Module">iog-prelude.Tactic.Premises</a> <a id="1271" class="Keyword">public</a>

<a id="1279" class="Keyword">open</a> <a id="1284" class="Keyword">import</a> <a id="1291" href="abstract-set-theory.FiniteSetTheory.html" class="Module">abstract-set-theory.FiniteSetTheory</a> <a id="1327" class="Keyword">public</a>
  <a id="1336" class="Keyword">renaming</a> <a id="1345" class="Symbol">(</a><a id="1346" href="Axiom.Set.html#1813" class="Function Operator">_⊆_</a> <a id="1350" class="Symbol">to</a> <a id="1353" class="Function Operator">_⊆ˢ_</a><a id="1357" class="Symbol">)</a>

<a id="1360" class="Keyword">import</a> <a id="1367" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="1380" class="Symbol">as</a> <a id="1383" class="Module">ℤ</a>
<a id="1385" class="Keyword">import</a> <a id="1392" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="1406" class="Symbol">as</a> <a id="1409" class="Module">ℚ</a>
<a id="1411" class="Keyword">open</a> <a id="1416" class="Keyword">import</a> <a id="1423" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="1437" class="Keyword">using</a> <a id="1443" class="Symbol">(</a><a id="1444" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="1445" class="Symbol">)</a>

<a id="dec-de-morgan"></a><a id="1448" href="Ledger.Prelude.html#1448" class="Function">dec-de-morgan</a> <a id="1462" class="Symbol">:</a> <a id="1464" class="Symbol">∀{</a><a id="1466" href="Ledger.Prelude.html#1466" class="Bound">P</a> <a id="1468" href="Ledger.Prelude.html#1468" class="Bound">Q</a> <a id="1470" class="Symbol">:</a> <a id="1472" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1476" class="Symbol">}</a> <a id="1478" class="Symbol">→</a> <a id="1480" class="Symbol">⦃</a> <a id="1482" href="Ledger.Prelude.html#1466" class="Bound">P</a> <a id="1484" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a> <a id="1486" class="Symbol">⦄</a> <a id="1488" class="Symbol">→</a> <a id="1490" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="1492" class="Symbol">(</a><a id="1493" href="Ledger.Prelude.html#1466" class="Bound">P</a> <a id="1495" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1497" href="Ledger.Prelude.html#1468" class="Bound">Q</a><a id="1498" class="Symbol">)</a> <a id="1500" class="Symbol">→</a> <a id="1502" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="1504" href="Ledger.Prelude.html#1466" class="Bound">P</a> <a id="1506" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1508" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="1510" href="Ledger.Prelude.html#1468" class="Bound">Q</a>
<a id="1512" href="Ledger.Prelude.html#1448" class="Function">dec-de-morgan</a> <a id="1526" class="Symbol">⦃</a> <a id="1528" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1530" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1533" href="Ledger.Prelude.html#1533" class="Bound">¬p</a> <a id="1536" class="Symbol">⦄</a> <a id="1538" href="Ledger.Prelude.html#1538" class="Bound">¬pq</a> <a id="1542" class="Symbol">=</a> <a id="1544" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1549" href="Ledger.Prelude.html#1533" class="Bound">¬p</a>
<a id="1552" href="Ledger.Prelude.html#1448" class="Function">dec-de-morgan</a> <a id="1566" class="Symbol">⦃</a> <a id="1568" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1570" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1574" href="Ledger.Prelude.html#1574" class="Bound">p</a> <a id="1576" class="Symbol">⦄</a> <a id="1578" href="Ledger.Prelude.html#1578" class="Bound">¬pq</a> <a id="1582" class="Symbol">=</a> <a id="1584" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1589" class="Symbol">λ</a> <a id="1591" href="Ledger.Prelude.html#1591" class="Bound">q</a> <a id="1593" class="Symbol">→</a> <a id="1595" href="Ledger.Prelude.html#1578" class="Bound">¬pq</a> <a id="1599" class="Symbol">(</a><a id="1600" href="Ledger.Prelude.html#1574" class="Bound">p</a> <a id="1602" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1604" href="Ledger.Prelude.html#1591" class="Bound">q</a><a id="1605" class="Symbol">)</a>

<a id="1608" class="Keyword">instance</a>
  <a id="CommMonoid-ℕ-+"></a><a id="1619" href="Ledger.Prelude.html#1619" class="Function">CommMonoid-ℕ-+</a> <a id="1634" class="Symbol">=</a> <a id="1636" href="Class.CommutativeMonoid.Instances.html#196" class="Function">NonUniqueInstances.CommMonoid-ℕ-+</a>

  <a id="HasCoin-Map"></a><a id="1673" href="Ledger.Prelude.html#1673" class="Function">HasCoin-Map</a> <a id="1685" class="Symbol">:</a> <a id="1687" class="Symbol">∀</a> <a id="1689" class="Symbol">{</a><a id="1690" href="Ledger.Prelude.html#1690" class="Bound">A</a><a id="1691" class="Symbol">}</a> <a id="1693" class="Symbol">→</a> <a id="1695" class="Symbol">⦃</a> <a id="1697" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1703" href="Ledger.Prelude.html#1690" class="Bound">A</a> <a id="1705" class="Symbol">⦄</a> <a id="1707" class="Symbol">→</a> <a id="1709" href="Ledger.Interface.HasCoin.html#124" class="Record">HasCoin</a> <a id="1717" class="Symbol">(</a><a id="1718" href="Ledger.Prelude.html#1690" class="Bound">A</a> <a id="1720" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1722" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1726" class="Symbol">)</a>
  <a id="1730" href="Ledger.Prelude.html#1673" class="Function">HasCoin-Map</a> <a id="1742" class="Symbol">.</a><a id="1743" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1751" href="Ledger.Prelude.html#1751" class="Bound">s</a> <a id="1753" class="Symbol">=</a> <a id="1755" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="1758" href="Ledger.Prelude.html#1758" class="Bound">x</a> <a id="1760" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="1762" href="Ledger.Prelude.html#1751" class="Bound">s</a> <a id="1764" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="1766" href="Ledger.Prelude.html#1758" class="Bound">x</a>

  <a id="HasCoin-Set"></a><a id="1771" href="Ledger.Prelude.html#1771" class="Function">HasCoin-Set</a> <a id="1783" class="Symbol">:</a> <a id="1785" class="Symbol">∀</a> <a id="1787" class="Symbol">{</a><a id="1788" href="Ledger.Prelude.html#1788" class="Bound">A</a><a id="1789" class="Symbol">}</a> <a id="1791" class="Symbol">→</a> <a id="1793" class="Symbol">⦃</a> <a id="1795" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1801" href="Ledger.Prelude.html#1788" class="Bound">A</a> <a id="1803" class="Symbol">⦄</a> <a id="1805" class="Symbol">→</a> <a id="1807" href="Ledger.Interface.HasCoin.html#124" class="Record">HasCoin</a> <a id="1815" class="Symbol">(</a><a id="1816" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1818" class="Symbol">(</a><a id="1819" href="Ledger.Prelude.html#1788" class="Bound">A</a> <a id="1821" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1823" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1827" class="Symbol">))</a>
  <a id="1832" href="Ledger.Prelude.html#1771" class="Function">HasCoin-Set</a> <a id="1844" class="Symbol">.</a><a id="1845" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1853" href="Ledger.Prelude.html#1853" class="Bound">s</a> <a id="1855" class="Symbol">=</a> <a id="1857" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">∑ˢ[</a> <a id="1861" href="Ledger.Prelude.html#1861" class="Bound">(</a><a id="1862" href="Ledger.Prelude.html#1862" class="Bound">a</a> <a id="1864" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1866" href="Ledger.Prelude.html#1866" class="Bound">c</a><a id="1867" href="Ledger.Prelude.html#1861" class="Bound">)</a> <a id="1869" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">←</a> <a id="1871" href="Ledger.Prelude.html#1853" class="Bound">s</a> <a id="1873" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">]</a> <a id="1875" href="Ledger.Prelude.html#1866" class="Bound">c</a>

  <a id="HasSubset-Set"></a><a id="1880" href="Ledger.Prelude.html#1880" class="Function">HasSubset-Set</a> <a id="1894" class="Symbol">:</a> <a id="1896" class="Symbol">∀</a> <a id="1898" class="Symbol">{</a><a id="1899" href="Ledger.Prelude.html#1899" class="Bound">A</a><a id="1900" class="Symbol">}</a> <a id="1902" class="Symbol">→</a> <a id="1904" href="Interface.HasSubset.html#104" class="Record">HasSubset</a> <a id="1914" class="Symbol">(</a><a id="1915" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1917" href="Ledger.Prelude.html#1899" class="Bound">A</a><a id="1918" class="Symbol">)</a>
  <a id="1922" href="Ledger.Prelude.html#1880" class="Function">HasSubset-Set</a> <a id="1936" class="Symbol">.</a><a id="1937" href="Interface.HasSubset.html#158" class="Field Operator">_⊆_</a> <a id="1941" class="Symbol">=</a> <a id="1943" href="Ledger.Prelude.html#1353" class="Function Operator">_⊆ˢ_</a>

<a id="≡ᵉ-getCoin"></a><a id="1949" href="Ledger.Prelude.html#1949" class="Function">≡ᵉ-getCoin</a> <a id="1960" class="Symbol">:</a> <a id="1962" class="Symbol">∀</a> <a id="1964" class="Symbol">{</a><a id="1965" href="Ledger.Prelude.html#1965" class="Bound">A</a><a id="1966" class="Symbol">}</a> <a id="1968" class="Symbol">→</a> <a id="1970" class="Symbol">⦃</a> <a id="1972" href="Ledger.Prelude.html#1972" class="Bound">_</a> <a id="1974" class="Symbol">:</a> <a id="1976" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1982" href="Ledger.Prelude.html#1965" class="Bound">A</a> <a id="1984" class="Symbol">⦄</a> <a id="1986" class="Symbol">→</a> <a id="1988" class="Symbol">(</a><a id="1989" href="Ledger.Prelude.html#1989" class="Bound">s</a> <a id="1991" href="Ledger.Prelude.html#1991" class="Bound">s&#39;</a> <a id="1994" class="Symbol">:</a> <a id="1996" href="Ledger.Prelude.html#1965" class="Bound">A</a> <a id="1998" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2000" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="2004" class="Symbol">)</a> <a id="2006" class="Symbol">→</a> <a id="2008" href="Ledger.Prelude.html#1989" class="Bound">s</a> <a id="2010" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="2012" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="2015" href="Ledger.Prelude.html#1991" class="Bound">s&#39;</a> <a id="2018" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="2020" class="Symbol">→</a> <a id="2022" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2030" href="Ledger.Prelude.html#1989" class="Bound">s</a> <a id="2032" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2034" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="2042" href="Ledger.Prelude.html#1991" class="Bound">s&#39;</a>
<a id="2045" href="Ledger.Prelude.html#1949" class="Function">≡ᵉ-getCoin</a> <a id="2056" class="Symbol">{</a><a id="2057" href="Ledger.Prelude.html#2057" class="Bound">A</a><a id="2058" class="Symbol">}</a> <a id="2060" class="Symbol">⦃</a> <a id="2062" href="Ledger.Prelude.html#2062" class="Bound">decEqA</a> <a id="2069" class="Symbol">⦄</a> <a id="2071" href="Ledger.Prelude.html#2071" class="Bound">s</a> <a id="2073" href="Ledger.Prelude.html#2073" class="Bound">s&#39;</a> <a id="2076" href="Ledger.Prelude.html#2076" class="Bound">s≡s&#39;</a> <a id="2081" class="Symbol">=</a> <a id="2083" href="abstract-set-theory.FiniteSetTheory.html#3736" class="Function">indexedSumᵛ&#39;-cong</a> <a id="2101" class="Symbol">{</a><a id="2102" class="Argument">C</a> <a id="2104" class="Symbol">=</a> <a id="2106" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="2110" class="Symbol">}</a> <a id="2112" class="Symbol">{</a><a id="2113" class="Argument">x</a> <a id="2115" class="Symbol">=</a> <a id="2117" href="Ledger.Prelude.html#2071" class="Bound">s</a><a id="2118" class="Symbol">}</a> <a id="2120" class="Symbol">{</a><a id="2121" class="Argument">y</a> <a id="2123" class="Symbol">=</a> <a id="2125" href="Ledger.Prelude.html#2073" class="Bound">s&#39;</a><a id="2127" class="Symbol">}</a> <a id="2129" href="Ledger.Prelude.html#2076" class="Bound">s≡s&#39;</a>

<a id="setToMap"></a><a id="2135" href="Ledger.Prelude.html#2135" class="Function">setToMap</a> <a id="2144" class="Symbol">:</a> <a id="2146" class="Symbol">∀</a> <a id="2148" class="Symbol">{</a><a id="2149" href="Ledger.Prelude.html#2149" class="Bound">A</a> <a id="2151" href="Ledger.Prelude.html#2151" class="Bound">B</a> <a id="2153" class="Symbol">:</a> <a id="2155" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="2159" class="Symbol">}</a> <a id="2161" class="Symbol">→</a> <a id="2163" class="Symbol">⦃</a> <a id="2165" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="2171" href="Ledger.Prelude.html#2149" class="Bound">A</a> <a id="2173" class="Symbol">⦄</a> <a id="2175" class="Symbol">→</a> <a id="2177" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2179" class="Symbol">(</a><a id="2180" href="Ledger.Prelude.html#2149" class="Bound">A</a> <a id="2182" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2184" href="Ledger.Prelude.html#2151" class="Bound">B</a><a id="2185" class="Symbol">)</a> <a id="2187" class="Symbol">→</a> <a id="2189" href="Ledger.Prelude.html#2149" class="Bound">A</a> <a id="2191" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2193" href="Ledger.Prelude.html#2151" class="Bound">B</a>
<a id="2195" href="Ledger.Prelude.html#2135" class="Function">setToMap</a> <a id="2204" class="Symbol">=</a> <a id="2206" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="2216" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2218" href="abstract-set-theory.FiniteSetTheory.html#2463" class="Function">setToList</a>

<a id="2229" class="Comment">-- division of natural numbers with completion by 0.</a>
<a id="2282" class="Keyword">opaque</a>
  <a id="_/₀_"></a><a id="2291" href="Ledger.Prelude.html#2291" class="Function Operator">_/₀_</a> <a id="2296" class="Symbol">:</a> <a id="2298" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2300" class="Symbol">→</a> <a id="2302" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2304" class="Symbol">→</a> <a id="2306" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
  <a id="2310" href="Ledger.Prelude.html#2310" class="Bound">x</a> <a id="2312" href="Ledger.Prelude.html#2291" class="Function Operator">/₀</a> <a id="2315" class="Number">0</a> <a id="2317" class="Symbol">=</a> <a id="2319" href="Data.Rational.Base.html#4325" class="Function">ℚ.0ℚ</a>
  <a id="2326" href="Ledger.Prelude.html#2326" class="Bound">x</a> <a id="2328" href="Ledger.Prelude.html#2291" class="Function Operator">/₀</a> <a id="2331" href="Ledger.Prelude.html#2331" class="Bound">y</a><a id="2332" class="Symbol">@(</a><a id="2334" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2338" class="Symbol">_)</a> <a id="2341" class="Symbol">=</a> <a id="2343" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="2347" href="Ledger.Prelude.html#2326" class="Bound">x</a> <a id="2349" href="Data.Rational.Base.html#3884" class="Function Operator">ℚ./</a> <a id="2353" href="Ledger.Prelude.html#2331" class="Bound">y</a>

<a id="2356" class="Comment">-- Division of rational numbers with completion by 0.</a>
<a id="_÷₀_"></a><a id="2410" href="Ledger.Prelude.html#2410" class="Function Operator">_÷₀_</a> <a id="2415" class="Symbol">:</a> <a id="2417" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="2419" class="Symbol">→</a> <a id="2421" href="Data.Rational.Base.html#1342" class="Record">ℚ</a> <a id="2423" class="Symbol">→</a> <a id="2425" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="2427" href="Ledger.Prelude.html#2410" class="Function Operator">_÷₀_</a> <a id="2432" href="Ledger.Prelude.html#2432" class="Bound">x</a> <a id="2434" href="Ledger.Prelude.html#2434" class="Bound">y</a> <a id="2436" class="Symbol">=</a> <a id="2438" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2443" href="Ledger.Prelude.html#2434" class="Bound">y</a> <a id="2445" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="2447" href="Data.Rational.Base.html#4325" class="Function">ℚ.0ℚ</a> <a id="2452" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2455" class="Symbol">λ</a> <a id="2457" class="Keyword">where</a>
  <a id="2465" class="Symbol">(</a><a id="2466" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2470" class="Symbol">_)</a> <a id="2473" class="Symbol">→</a> <a id="2475" href="Data.Rational.Base.html#4325" class="Function">ℚ.0ℚ</a>
  <a id="2482" class="Symbol">(</a><a id="2483" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2486" href="Ledger.Prelude.html#2486" class="Bound">y≢0</a><a id="2489" class="Symbol">)</a> <a id="2491" class="Symbol">→</a> <a id="2493" class="Keyword">let</a> <a id="2497" class="Keyword">instance</a> <a id="2506" href="Ledger.Prelude.html#2506" class="Bound">nonZero-y</a> <a id="2516" class="Symbol">=</a> <a id="2518" href="Data.Rational.Base.html#4892" class="Function">ℚ.≢-nonZero</a> <a id="2530" href="Ledger.Prelude.html#2486" class="Bound">y≢0</a> <a id="2534" class="Keyword">in</a> <a id="2537" href="Ledger.Prelude.html#2432" class="Bound">x</a> <a id="2539" href="Data.Rational.Base.html#6708" class="Function Operator">ℚ.÷</a> <a id="2543" href="Ledger.Prelude.html#2434" class="Bound">y</a>

<a id="⟦_⟧"></a><a id="2546" href="Ledger.Prelude.html#2546" class="Function Operator">⟦_⟧</a> <a id="2550" class="Symbol">:</a> <a id="2552" class="Symbol">∀</a> <a id="2554" class="Symbol">{</a><a id="2555" href="Ledger.Prelude.html#2555" class="Bound">A</a> <a id="2557" href="Ledger.Prelude.html#2557" class="Bound">B</a> <a id="2559" class="Symbol">:</a> <a id="2561" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="2565" class="Symbol">}</a> <a id="2567" class="Symbol">⦃</a> <a id="2569" href="Ledger.Prelude.html#2569" class="Bound">f</a> <a id="2571" class="Symbol">:</a> <a id="2573" href="stdlib-classes.Class.HasCast.Base.html#131" class="Record">HasCast</a> <a id="2581" href="Ledger.Prelude.html#2555" class="Bound">A</a> <a id="2583" href="Ledger.Prelude.html#2557" class="Bound">B</a> <a id="2585" class="Symbol">⦄</a> <a id="2587" class="Symbol">→</a> <a id="2589" href="Ledger.Prelude.html#2555" class="Bound">A</a> <a id="2591" class="Symbol">→</a> <a id="2593" href="Ledger.Prelude.html#2557" class="Bound">B</a>
<a id="2595" href="Ledger.Prelude.html#2546" class="Function Operator">⟦_⟧</a> <a id="2599" class="Symbol">⦃</a> <a id="2601" class="Argument">f</a> <a id="2603" class="Symbol">=</a> <a id="2605" href="Ledger.Prelude.html#2605" class="Bound">f</a> <a id="2607" class="Symbol">⦄</a> <a id="2609" class="Symbol">=</a> <a id="2611" href="stdlib-classes.Class.HasCast.Base.html#201" class="Field">f.cast</a>
  <a id="2620" class="Keyword">where</a> <a id="2626" class="Keyword">module</a> <a id="2633" href="Ledger.Prelude.html#2633" class="Module">f</a> <a id="2635" class="Symbol">=</a> <a id="2637" href="stdlib-classes.Class.HasCast.Base.html#131" class="Module">HasCast</a> <a id="2645" href="Ledger.Prelude.html#2605" class="Bound">f</a>

<a id="∣_∣"></a><a id="2648" href="Ledger.Prelude.html#2648" class="Function Operator">∣_∣</a> <a id="2652" class="Symbol">:</a> <a id="2654" class="Symbol">∀</a> <a id="2656" class="Symbol">{</a><a id="2657" href="Ledger.Prelude.html#2657" class="Bound">A</a> <a id="2659" href="Ledger.Prelude.html#2659" class="Bound">B</a> <a id="2661" class="Symbol">:</a> <a id="2663" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="2667" class="Symbol">}</a> <a id="2669" class="Symbol">⦃</a> <a id="2671" href="Ledger.Prelude.html#2671" class="Bound">f</a> <a id="2673" class="Symbol">:</a> <a id="2675" href="stdlib-classes.Class.HasCast.Base.html#131" class="Record">HasCast</a> <a id="2683" href="Ledger.Prelude.html#2657" class="Bound">A</a> <a id="2685" href="Ledger.Prelude.html#2659" class="Bound">B</a> <a id="2687" class="Symbol">⦄</a> <a id="2689" class="Symbol">→</a> <a id="2691" href="Ledger.Prelude.html#2657" class="Bound">A</a> <a id="2693" class="Symbol">→</a> <a id="2695" href="Ledger.Prelude.html#2659" class="Bound">B</a>
<a id="2697" href="Ledger.Prelude.html#2648" class="Function Operator">∣_∣</a> <a id="2701" class="Symbol">⦃</a> <a id="2703" class="Argument">f</a> <a id="2705" class="Symbol">=</a> <a id="2707" href="Ledger.Prelude.html#2707" class="Bound">f</a> <a id="2709" class="Symbol">⦄</a> <a id="2711" class="Symbol">=</a> <a id="2713" href="stdlib-classes.Class.HasCast.Base.html#201" class="Field">f.cast</a>
  <a id="2722" class="Keyword">where</a> <a id="2728" class="Keyword">module</a> <a id="2735" href="Ledger.Prelude.html#2735" class="Module">f</a> <a id="2737" class="Symbol">=</a> <a id="2739" href="stdlib-classes.Class.HasCast.Base.html#131" class="Module">HasCast</a> <a id="2747" href="Ledger.Prelude.html#2707" class="Bound">f</a>

<a id="2750" class="Keyword">infix</a> <a id="2756" class="Number">5</a> <a id="2758" href="Ledger.Prelude.html#2546" class="Function Operator">⟦_⟧</a>
<a id="2762" class="Keyword">infix</a> <a id="2768" class="Number">6</a> <a id="2770" href="Ledger.Prelude.html#2648" class="Function Operator">∣_∣</a>

<a id="2775" class="Keyword">module</a> <a id="Filter"></a><a id="2782" href="Ledger.Prelude.html#2782" class="Module">Filter</a> <a id="2789" class="Keyword">where</a>
  <a id="Filter.filter"></a><a id="2797" href="Ledger.Prelude.html#2797" class="Function">filter</a> <a id="2804" class="Symbol">:</a> <a id="2806" class="Symbol">∀</a> <a id="2808" class="Symbol">{</a><a id="2809" href="Ledger.Prelude.html#2809" class="Bound">a</a><a id="2810" class="Symbol">}</a> <a id="2812" class="Symbol">{</a><a id="2813" href="Ledger.Prelude.html#2813" class="Bound">p</a><a id="2814" class="Symbol">}</a> <a id="2816" class="Symbol">{</a><a id="2817" href="Ledger.Prelude.html#2817" class="Bound">A</a> <a id="2819" class="Symbol">:</a> <a id="2821" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2826" href="Ledger.Prelude.html#2809" class="Bound">a</a><a id="2827" class="Symbol">}</a> <a id="2829" class="Symbol">→</a> <a id="2831" class="Symbol">(</a><a id="2832" href="Ledger.Prelude.html#2832" class="Bound">P</a> <a id="2834" class="Symbol">:</a> <a id="2836" href="Relation.Unary.html#1178" class="Function">Pred</a> <a id="2841" href="Ledger.Prelude.html#2817" class="Bound">A</a> <a id="2843" href="Ledger.Prelude.html#2813" class="Bound">p</a><a id="2844" class="Symbol">)</a> <a id="2846" class="Symbol">→</a> <a id="2848" class="Symbol">⦃</a> <a id="2850" href="Ledger.Prelude.html#2832" class="Bound">P</a> <a id="2852" href="Class.Decidable.Core.html#762" class="Function Operator">⁇¹</a> <a id="2855" class="Symbol">⦄</a> <a id="2857" class="Symbol">→</a> <a id="2859" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2864" href="Ledger.Prelude.html#2817" class="Bound">A</a> <a id="2866" class="Symbol">→</a> <a id="2868" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2873" href="Ledger.Prelude.html#2817" class="Bound">A</a>
  <a id="2877" href="Ledger.Prelude.html#2797" class="Function">filter</a> <a id="2884" href="Ledger.Prelude.html#2884" class="Bound">P</a> <a id="2886" class="Symbol">=</a> <a id="2888" href="Data.List.Base.html#10687" class="Function">Data.List.filter</a> <a id="2905" href="Class.Decidable.Core.html#966" class="Function Operator">¿</a> <a id="2907" href="Ledger.Prelude.html#2884" class="Bound">P</a> <a id="2909" href="Class.Decidable.Core.html#966" class="Function Operator">¿¹</a>
</pre></body></html>