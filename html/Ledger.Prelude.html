<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Prelude</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Comment">--------------------------------------------------------------------------------</a>
<a id="106" class="Comment">-- Ledger prelude</a>
<a id="124" class="Comment">--</a>
<a id="127" class="Comment">-- Re-exports modules relating to STS, set theory and other</a>
<a id="187" class="Comment">-- miscellaneous things used to write the ledger rules. If something</a>
<a id="256" class="Comment">-- is used in more than two Ledger.* modules, it should probably go</a>
<a id="324" class="Comment">-- here.</a>
<a id="333" class="Comment">--------------------------------------------------------------------------------</a>

<a id="415" class="Keyword">module</a> <a id="422" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="437" class="Keyword">where</a>

<a id="444" class="Keyword">open</a> <a id="449" class="Keyword">import</a> <a id="456" href="Prelude.html" class="Module">Prelude</a> <a id="464" class="Keyword">public</a>

<a id="472" class="Keyword">open</a> <a id="477" class="Keyword">import</a> <a id="484" href="Ledger.Prelude.Base.html" class="Module">Ledger.Prelude.Base</a> <a id="504" class="Keyword">public</a>

<a id="512" class="Keyword">open</a> <a id="517" class="Keyword">import</a> <a id="524" href="Class.HasAdd.html" class="Module">Class.HasAdd</a> <a id="537" class="Keyword">public</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Class.HasOrder.html" class="Module">Class.HasOrder</a> <a id="571" class="Keyword">public</a>
<a id="578" class="Keyword">open</a> <a id="583" class="Keyword">import</a> <a id="590" href="Class.ToBool.html" class="Module">Class.ToBool</a> <a id="603" class="Keyword">public</a>
<a id="610" class="Keyword">open</a> <a id="615" class="Keyword">import</a> <a id="622" href="Class.To.html" class="Module">Class.To</a> <a id="631" class="Keyword">public</a>
<a id="638" class="Keyword">open</a> <a id="643" class="Keyword">import</a> <a id="650" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a> <a id="682" class="Keyword">public</a>
<a id="689" class="Keyword">open</a> <a id="694" class="Keyword">import</a> <a id="701" href="Interface.HasSubtract.html" class="Module">Interface.HasSubtract</a> <a id="723" class="Keyword">public</a>
<a id="730" class="Keyword">open</a> <a id="735" class="Keyword">import</a> <a id="742" href="Interface.HasSubtract.Instance.html" class="Module">Interface.HasSubtract.Instance</a> <a id="773" class="Keyword">public</a>
<a id="780" class="Keyword">open</a> <a id="785" class="Keyword">import</a> <a id="792" href="Interface.HasSubset.html" class="Module">Interface.HasSubset</a> <a id="812" class="Keyword">public</a>
<a id="819" class="Keyword">open</a> <a id="824" class="Keyword">import</a> <a id="831" href="Interface.HasSubset.Instance.html" class="Module">Interface.HasSubset.Instance</a> <a id="860" class="Keyword">public</a>
<a id="867" class="Keyword">open</a> <a id="872" class="Keyword">import</a> <a id="879" href="Interface.Hashable.html" class="Module">Interface.Hashable</a> <a id="898" class="Keyword">public</a>
<a id="905" class="Keyword">open</a> <a id="910" class="Keyword">import</a> <a id="917" href="Ledger.Interface.HasCoin.html" class="Module">Ledger.Interface.HasCoin</a> <a id="942" class="Keyword">public</a>
<a id="949" class="Keyword">open</a> <a id="954" class="Keyword">import</a> <a id="961" href="MyDebugOptions.html" class="Module">MyDebugOptions</a> <a id="976" class="Keyword">public</a>
<a id="983" class="Keyword">open</a> <a id="988" class="Keyword">import</a> <a id="995" href="Tactic.Premises.html" class="Module">Tactic.Premises</a> <a id="1011" class="Keyword">public</a>

<a id="1019" class="Keyword">open</a> <a id="1024" class="Keyword">import</a> <a id="1031" href="abstract-set-theory.FiniteSetTheory.html" class="Module">abstract-set-theory.FiniteSetTheory</a> <a id="1067" class="Keyword">public</a>
  <a id="1076" class="Keyword">renaming</a> <a id="1085" class="Symbol">(</a><a id="1086" href="Axiom.Set.html#1813" class="Function Operator">_⊆_</a> <a id="1090" class="Symbol">to</a> <a id="1093" class="Function Operator">_⊆ˢ_</a><a id="1097" class="Symbol">)</a>

<a id="dec-de-morgan"></a><a id="1100" href="Ledger.Prelude.html#1100" class="Function">dec-de-morgan</a> <a id="1114" class="Symbol">:</a> <a id="1116" class="Symbol">∀{</a><a id="1118" href="Ledger.Prelude.html#1118" class="Bound">P</a> <a id="1120" href="Ledger.Prelude.html#1120" class="Bound">Q</a> <a id="1122" class="Symbol">:</a> <a id="1124" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1128" class="Symbol">}</a> <a id="1130" class="Symbol">→</a> <a id="1132" class="Symbol">⦃</a> <a id="1134" href="Ledger.Prelude.html#1118" class="Bound">P</a> <a id="1136" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a> <a id="1138" class="Symbol">⦄</a> <a id="1140" class="Symbol">→</a> <a id="1142" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="1144" class="Symbol">(</a><a id="1145" href="Ledger.Prelude.html#1118" class="Bound">P</a> <a id="1147" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1149" href="Ledger.Prelude.html#1120" class="Bound">Q</a><a id="1150" class="Symbol">)</a> <a id="1152" class="Symbol">→</a> <a id="1154" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="1156" href="Ledger.Prelude.html#1118" class="Bound">P</a> <a id="1158" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="1160" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="1162" href="Ledger.Prelude.html#1120" class="Bound">Q</a>
<a id="1164" href="Ledger.Prelude.html#1100" class="Function">dec-de-morgan</a> <a id="1178" class="Symbol">⦃</a> <a id="1180" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1182" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1185" href="Ledger.Prelude.html#1185" class="Bound">¬p</a> <a id="1188" class="Symbol">⦄</a> <a id="1190" href="Ledger.Prelude.html#1190" class="Bound">¬pq</a> <a id="1194" class="Symbol">=</a> <a id="1196" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1201" href="Ledger.Prelude.html#1185" class="Bound">¬p</a>
<a id="1204" href="Ledger.Prelude.html#1100" class="Function">dec-de-morgan</a> <a id="1218" class="Symbol">⦃</a> <a id="1220" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1222" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1226" href="Ledger.Prelude.html#1226" class="Bound">p</a> <a id="1228" class="Symbol">⦄</a> <a id="1230" href="Ledger.Prelude.html#1230" class="Bound">¬pq</a> <a id="1234" class="Symbol">=</a> <a id="1236" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1241" class="Symbol">λ</a> <a id="1243" href="Ledger.Prelude.html#1243" class="Bound">q</a> <a id="1245" class="Symbol">→</a> <a id="1247" href="Ledger.Prelude.html#1230" class="Bound">¬pq</a> <a id="1251" class="Symbol">(</a><a id="1252" href="Ledger.Prelude.html#1226" class="Bound">p</a> <a id="1254" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1256" href="Ledger.Prelude.html#1243" class="Bound">q</a><a id="1257" class="Symbol">)</a>

<a id="1260" class="Keyword">instance</a>
  <a id="CommMonoid-ℕ-+"></a><a id="1271" href="Ledger.Prelude.html#1271" class="Function">CommMonoid-ℕ-+</a> <a id="1286" class="Symbol">=</a> <a id="1288" href="Class.CommutativeMonoid.Instances.html#196" class="Function">NonUniqueInstances.CommMonoid-ℕ-+</a>

  <a id="HasCoin-Map"></a><a id="1325" href="Ledger.Prelude.html#1325" class="Function">HasCoin-Map</a> <a id="1337" class="Symbol">:</a> <a id="1339" class="Symbol">∀</a> <a id="1341" class="Symbol">{</a><a id="1342" href="Ledger.Prelude.html#1342" class="Bound">A</a><a id="1343" class="Symbol">}</a> <a id="1345" class="Symbol">→</a> <a id="1347" class="Symbol">⦃</a> <a id="1349" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1355" href="Ledger.Prelude.html#1342" class="Bound">A</a> <a id="1357" class="Symbol">⦄</a> <a id="1359" class="Symbol">→</a> <a id="1361" href="Ledger.Interface.HasCoin.html#124" class="Record">HasCoin</a> <a id="1369" class="Symbol">(</a><a id="1370" href="Ledger.Prelude.html#1342" class="Bound">A</a> <a id="1372" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1374" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1378" class="Symbol">)</a>
  <a id="1382" href="Ledger.Prelude.html#1325" class="Function">HasCoin-Map</a> <a id="1394" class="Symbol">.</a><a id="1395" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1403" href="Ledger.Prelude.html#1403" class="Bound">s</a> <a id="1405" class="Symbol">=</a> <a id="1407" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="1410" href="Ledger.Prelude.html#1410" class="Bound">x</a> <a id="1412" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="1414" href="Ledger.Prelude.html#1403" class="Bound">s</a> <a id="1416" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="1418" href="Ledger.Prelude.html#1410" class="Bound">x</a>

  <a id="HasCoin-Set"></a><a id="1423" href="Ledger.Prelude.html#1423" class="Function">HasCoin-Set</a> <a id="1435" class="Symbol">:</a> <a id="1437" class="Symbol">∀</a> <a id="1439" class="Symbol">{</a><a id="1440" href="Ledger.Prelude.html#1440" class="Bound">A</a><a id="1441" class="Symbol">}</a> <a id="1443" class="Symbol">→</a> <a id="1445" class="Symbol">⦃</a> <a id="1447" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1453" href="Ledger.Prelude.html#1440" class="Bound">A</a> <a id="1455" class="Symbol">⦄</a> <a id="1457" class="Symbol">→</a> <a id="1459" href="Ledger.Interface.HasCoin.html#124" class="Record">HasCoin</a> <a id="1467" class="Symbol">(</a><a id="1468" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1470" class="Symbol">(</a><a id="1471" href="Ledger.Prelude.html#1440" class="Bound">A</a> <a id="1473" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1475" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1479" class="Symbol">))</a>
  <a id="1484" href="Ledger.Prelude.html#1423" class="Function">HasCoin-Set</a> <a id="1496" class="Symbol">.</a><a id="1497" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1505" href="Ledger.Prelude.html#1505" class="Bound">s</a> <a id="1507" class="Symbol">=</a> <a id="1509" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">∑ˢ[</a> <a id="1513" href="Ledger.Prelude.html#1513" class="Bound">(</a><a id="1514" href="Ledger.Prelude.html#1514" class="Bound">a</a> <a id="1516" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1518" href="Ledger.Prelude.html#1518" class="Bound">c</a><a id="1519" href="Ledger.Prelude.html#1513" class="Bound">)</a> <a id="1521" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">←</a> <a id="1523" href="Ledger.Prelude.html#1505" class="Bound">s</a> <a id="1525" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">]</a> <a id="1527" href="Ledger.Prelude.html#1518" class="Bound">c</a>

  <a id="HasSubset-Set"></a><a id="1532" href="Ledger.Prelude.html#1532" class="Function">HasSubset-Set</a> <a id="1546" class="Symbol">:</a> <a id="1548" class="Symbol">∀</a> <a id="1550" class="Symbol">{</a><a id="1551" href="Ledger.Prelude.html#1551" class="Bound">A</a><a id="1552" class="Symbol">}</a> <a id="1554" class="Symbol">→</a> <a id="1556" href="Interface.HasSubset.html#104" class="Record">HasSubset</a> <a id="1566" class="Symbol">(</a><a id="1567" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1569" href="Ledger.Prelude.html#1551" class="Bound">A</a><a id="1570" class="Symbol">)</a>
  <a id="1574" href="Ledger.Prelude.html#1532" class="Function">HasSubset-Set</a> <a id="1588" class="Symbol">.</a><a id="1589" href="Interface.HasSubset.html#158" class="Field Operator">_⊆_</a> <a id="1593" class="Symbol">=</a> <a id="1595" href="Ledger.Prelude.html#1093" class="Function Operator">_⊆ˢ_</a>

<a id="≡ᵉ-getCoin"></a><a id="1601" href="Ledger.Prelude.html#1601" class="Function">≡ᵉ-getCoin</a> <a id="1612" class="Symbol">:</a> <a id="1614" class="Symbol">∀</a> <a id="1616" class="Symbol">{</a><a id="1617" href="Ledger.Prelude.html#1617" class="Bound">A</a><a id="1618" class="Symbol">}</a> <a id="1620" class="Symbol">→</a> <a id="1622" class="Symbol">⦃</a> <a id="1624" href="Ledger.Prelude.html#1624" class="Bound">_</a> <a id="1626" class="Symbol">:</a> <a id="1628" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1634" href="Ledger.Prelude.html#1617" class="Bound">A</a> <a id="1636" class="Symbol">⦄</a> <a id="1638" class="Symbol">→</a> <a id="1640" class="Symbol">(</a><a id="1641" href="Ledger.Prelude.html#1641" class="Bound">s</a> <a id="1643" href="Ledger.Prelude.html#1643" class="Bound">s&#39;</a> <a id="1646" class="Symbol">:</a> <a id="1648" href="Ledger.Prelude.html#1617" class="Bound">A</a> <a id="1650" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1652" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1656" class="Symbol">)</a> <a id="1658" class="Symbol">→</a> <a id="1660" href="Ledger.Prelude.html#1641" class="Bound">s</a> <a id="1662" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1664" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="1667" href="Ledger.Prelude.html#1643" class="Bound">s&#39;</a> <a id="1670" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1672" class="Symbol">→</a> <a id="1674" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1682" href="Ledger.Prelude.html#1641" class="Bound">s</a> <a id="1684" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1686" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="1694" href="Ledger.Prelude.html#1643" class="Bound">s&#39;</a>
<a id="1697" href="Ledger.Prelude.html#1601" class="Function">≡ᵉ-getCoin</a> <a id="1708" class="Symbol">{</a><a id="1709" href="Ledger.Prelude.html#1709" class="Bound">A</a><a id="1710" class="Symbol">}</a> <a id="1712" class="Symbol">⦃</a> <a id="1714" href="Ledger.Prelude.html#1714" class="Bound">decEqA</a> <a id="1721" class="Symbol">⦄</a> <a id="1723" href="Ledger.Prelude.html#1723" class="Bound">s</a> <a id="1725" href="Ledger.Prelude.html#1725" class="Bound">s&#39;</a> <a id="1728" href="Ledger.Prelude.html#1728" class="Bound">s≡s&#39;</a> <a id="1733" class="Symbol">=</a> <a id="1735" href="abstract-set-theory.FiniteSetTheory.html#3736" class="Function">indexedSumᵛ&#39;-cong</a> <a id="1753" class="Symbol">{</a><a id="1754" class="Argument">C</a> <a id="1756" class="Symbol">=</a> <a id="1758" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1762" class="Symbol">}</a> <a id="1764" class="Symbol">{</a><a id="1765" class="Argument">x</a> <a id="1767" class="Symbol">=</a> <a id="1769" href="Ledger.Prelude.html#1723" class="Bound">s</a><a id="1770" class="Symbol">}</a> <a id="1772" class="Symbol">{</a><a id="1773" class="Argument">y</a> <a id="1775" class="Symbol">=</a> <a id="1777" href="Ledger.Prelude.html#1725" class="Bound">s&#39;</a><a id="1779" class="Symbol">}</a> <a id="1781" href="Ledger.Prelude.html#1728" class="Bound">s≡s&#39;</a>

<a id="setToMap"></a><a id="1787" href="Ledger.Prelude.html#1787" class="Function">setToMap</a> <a id="1796" class="Symbol">:</a> <a id="1798" class="Symbol">∀</a> <a id="1800" class="Symbol">{</a><a id="1801" href="Ledger.Prelude.html#1801" class="Bound">A</a> <a id="1803" href="Ledger.Prelude.html#1803" class="Bound">B</a> <a id="1805" class="Symbol">:</a> <a id="1807" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1811" class="Symbol">}</a> <a id="1813" class="Symbol">→</a> <a id="1815" class="Symbol">⦃</a> <a id="1817" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1823" href="Ledger.Prelude.html#1801" class="Bound">A</a> <a id="1825" class="Symbol">⦄</a> <a id="1827" class="Symbol">→</a> <a id="1829" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1831" class="Symbol">(</a><a id="1832" href="Ledger.Prelude.html#1801" class="Bound">A</a> <a id="1834" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1836" href="Ledger.Prelude.html#1803" class="Bound">B</a><a id="1837" class="Symbol">)</a> <a id="1839" class="Symbol">→</a> <a id="1841" href="Ledger.Prelude.html#1801" class="Bound">A</a> <a id="1843" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1845" href="Ledger.Prelude.html#1803" class="Bound">B</a>
<a id="1847" href="Ledger.Prelude.html#1787" class="Function">setToMap</a> <a id="1856" class="Symbol">=</a> <a id="1858" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="1868" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1870" href="abstract-set-theory.FiniteSetTheory.html#2463" class="Function">setToList</a>
</pre></body></html>