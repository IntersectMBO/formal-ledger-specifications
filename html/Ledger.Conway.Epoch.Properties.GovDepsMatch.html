<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Epoch.Properties.GovDepsMatch</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Conway.Transaction.html" class="Module">Ledger.Conway.Transaction</a>
<a id="64" class="Keyword">open</a> <a id="69" class="Keyword">import</a> <a id="76" href="Ledger.Conway.Abstract.html" class="Module">Ledger.Conway.Abstract</a>

<a id="100" class="Keyword">module</a> <a id="107" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html" class="Module">Ledger.Conway.Epoch.Properties.GovDepsMatch</a>
  <a id="153" class="Symbol">(</a><a id="154" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#154" class="Bound">txs</a> <a id="158" class="Symbol">:</a> <a id="160" class="Symbol">_)</a> <a id="163" class="Symbol">(</a><a id="164" class="Keyword">open</a> <a id="169" href="Ledger.Conway.Transaction.html#872" class="Module">TransactionStructure</a> <a id="190" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#154" class="Bound">txs</a><a id="193" class="Symbol">)</a>
  <a id="197" class="Symbol">(</a><a id="198" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#198" class="Bound">abs</a> <a id="202" class="Symbol">:</a> <a id="204" href="Ledger.Conway.Abstract.html#599" class="Record">AbstractFunctions</a> <a id="222" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#154" class="Bound">txs</a><a id="225" class="Symbol">)</a> <a id="227" class="Symbol">(</a><a id="228" class="Keyword">open</a> <a id="233" href="Ledger.Conway.Abstract.html#599" class="Module">AbstractFunctions</a> <a id="251" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#198" class="Bound">abs</a><a id="254" class="Symbol">)</a>
  <a id="258" class="Keyword">where</a>


<a id="266" class="Keyword">open</a> <a id="271" class="Keyword">import</a> <a id="278" href="Ledger.Conway.Certs.html" class="Module">Ledger.Conway.Certs</a> <a id="298" href="Ledger.Conway.Transaction.html#1852" class="Function">govStructure</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Ledger.Conway.Epoch.html" class="Module">Ledger.Conway.Epoch</a> <a id="343" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#154" class="Bound">txs</a> <a id="347" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#198" class="Bound">abs</a>
<a id="351" class="Keyword">open</a> <a id="356" class="Keyword">import</a> <a id="363" href="Ledger.Conway.Ledger.html" class="Module">Ledger.Conway.Ledger</a> <a id="384" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#154" class="Bound">txs</a> <a id="388" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#198" class="Bound">abs</a>
<a id="392" class="Keyword">open</a> <a id="397" class="Keyword">import</a> <a id="404" href="Ledger.Conway.Ledger.Properties.html" class="Module">Ledger.Conway.Ledger.Properties</a> <a id="436" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#154" class="Bound">txs</a> <a id="440" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#198" class="Bound">abs</a>
<a id="444" class="Keyword">open</a> <a id="449" class="Keyword">import</a> <a id="456" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="471" class="Keyword">renaming</a> <a id="480" class="Symbol">(</a><a id="481" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="485" class="Symbol">to</a> <a id="488" class="Function">map&#39;</a><a id="492" class="Symbol">;</a> <a id="494" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="499" class="Symbol">to</a> <a id="502" class="Function">map</a><a id="505" class="Symbol">)</a>
<a id="507" class="Keyword">open</a> <a id="512" class="Keyword">import</a> <a id="519" href="Ledger.Conway.Ratify.html" class="Module">Ledger.Conway.Ratify</a> <a id="540" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#154" class="Bound">txs</a> <a id="544" class="Keyword">hiding</a> <a id="551" class="Symbol">(</a><a id="552" href="Ledger.Conway.Ratify.html#810" class="Function">vote</a><a id="556" class="Symbol">)</a>
<a id="558" class="Keyword">open</a> <a id="563" class="Keyword">import</a> <a id="570" href="Ledger.Conway.Utxo.html" class="Module">Ledger.Conway.Utxo</a> <a id="589" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#154" class="Bound">txs</a> <a id="593" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#198" class="Bound">abs</a>

<a id="598" class="Keyword">open</a> <a id="603" class="Keyword">import</a> <a id="610" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="631" href="Axiom.Set.html#10669" class="Function">th</a>

<a id="635" class="Keyword">open</a> <a id="640" class="Keyword">import</a> <a id="647" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="662" class="Keyword">using</a> <a id="668" class="Symbol">(</a><a id="669" href="Data.List.Base.html#10687" class="Function">filter</a><a id="675" class="Symbol">)</a>
<a id="677" class="Keyword">open</a> <a id="682" class="Keyword">import</a> <a id="689" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a> <a id="735" class="Keyword">using</a> <a id="741" class="Symbol">(</a><a id="742" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a><a id="751" class="Symbol">;</a> <a id="753" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a><a id="759" class="Symbol">)</a>
<a id="761" class="Keyword">open</a> <a id="766" class="Keyword">import</a> <a id="773" href="stdlib.Data.List.Subpermutations.html" class="Module">stdlib.Data.List.Subpermutations</a> <a id="806" class="Keyword">using</a> <a id="812" class="Symbol">(</a><a id="813" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a><a id="826" class="Symbol">)</a>
<a id="828" class="Keyword">open</a> <a id="833" class="Keyword">import</a> <a id="840" href="Data.Product.Function.NonDependent.Propositional.html" class="Module">Data.Product.Function.NonDependent.Propositional</a> <a id="889" class="Keyword">using</a> <a id="895" class="Symbol">(</a><a id="896" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">_×-cong_</a><a id="904" class="Symbol">)</a>
<a id="906" class="Keyword">open</a> <a id="911" class="Keyword">import</a> <a id="918" href="Data.Product.Properties.html" class="Module">Data.Product.Properties</a> <a id="942" class="Keyword">using</a> <a id="948" class="Symbol">(</a><a id="949" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a><a id="956" class="Symbol">)</a>
<a id="958" class="Keyword">open</a> <a id="963" class="Keyword">import</a> <a id="970" href="Data.Product.Properties.Ext.html" class="Module">Data.Product.Properties.Ext</a> <a id="998" class="Keyword">using</a> <a id="1004" class="Symbol">(</a><a id="1005" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a><a id="1013" class="Symbol">)</a>

<a id="1016" class="Keyword">open</a> <a id="1021" class="Keyword">import</a> <a id="1028" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1043" class="Keyword">using</a> <a id="1049" class="Symbol">(</a><a id="1050" href="Relation.Unary.html#4543" class="Function">Decidable</a><a id="1059" class="Symbol">)</a>

<a id="1062" class="Keyword">open</a> <a id="1067" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="1080" class="Keyword">import</a> <a id="1087" href="Function.Related.Propositional.html" class="Module">Function.Related.Propositional</a> <a id="1118" class="Symbol">as</a> <a id="1121" class="Module">R</a>
<a id="1123" class="Keyword">import</a> <a id="1130" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1163" class="Symbol">as</a> <a id="1166" class="Module">SetoidReasoning</a>

<a id="1183" class="Keyword">module</a> <a id="EPOCH-Body"></a><a id="1190" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1190" class="Module">EPOCH-Body</a> <a id="1201" class="Symbol">(</a><a id="1202" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1202" class="Bound">eps</a> <a id="1206" class="Symbol">:</a> <a id="1208" href="Ledger.Conway.Epoch.html#1512" class="Record">EpochState</a><a id="1218" class="Symbol">)</a> <a id="1220" class="Keyword">where</a>
  <a id="1228" class="Keyword">open</a> <a id="1233" href="Ledger.Conway.Epoch.html#1512" class="Module">EpochState</a> <a id="1244" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1202" class="Bound">eps</a> <a id="1248" class="Keyword">hiding</a> <a id="1255" class="Symbol">(</a><a id="1256" href="Ledger.Conway.Epoch.html#1653" class="Field">es</a><a id="1258" class="Symbol">)</a> <a id="1260" class="Keyword">renaming</a> <a id="1269" class="Symbol">(</a><a id="1270" href="Ledger.Conway.Epoch.html#1629" class="Field">ls</a> <a id="1273" class="Symbol">to</a> <a id="1276" class="Field">epsLState</a><a id="1285" class="Symbol">;</a> <a id="1287" href="Ledger.Conway.Epoch.html#1681" class="Field">fut</a> <a id="1291" class="Symbol">to</a> <a id="1294" class="Field">epsRState</a><a id="1303" class="Symbol">)</a> <a id="1305" class="Keyword">public</a>
  <a id="1314" class="Keyword">open</a> <a id="1319" href="Ledger.Conway.Ratify.html#3308" class="Module">RatifyState</a> <a id="1331" class="Keyword">renaming</a> <a id="1340" class="Symbol">(</a><a id="1341" href="Ledger.Conway.Ratify.html#3345" class="Field">es</a> <a id="1344" class="Symbol">to</a> <a id="1347" class="Field">ensRState</a><a id="1356" class="Symbol">)</a> <a id="1358" class="Keyword">public</a>
  <a id="1367" class="Keyword">open</a> <a id="1372" href="Ledger.Conway.Ledger.html#865" class="Module">LState</a> <a id="1379" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1276" class="Field">epsLState</a> <a id="1389" class="Keyword">public</a>
  <a id="1398" class="Keyword">open</a> <a id="1403" href="Ledger.Conway.Gov.Actions.html#2712" class="Module">GovActionState</a> <a id="1418" class="Keyword">public</a>
  <a id="1427" class="Keyword">open</a> <a id="1432" href="Ledger.Conway.Utxo.html#1390" class="Module">UTxOState</a> <a id="1442" class="Keyword">public</a>

  <a id="EPOCH-Body.ens"></a><a id="1452" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1452" class="Function">ens</a>      <a id="1461" class="Symbol">=</a> <a id="1463" class="Keyword">record</a> <a id="1470" class="Symbol">(</a><a id="1471" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1294" class="Field">epsRState</a> <a id="1481" class="Symbol">.</a><a id="1482" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1347" class="Field">ensRState</a><a id="1491" class="Symbol">)</a> <a id="1493" class="Symbol">{</a> <a id="1495" href="Ledger.Conway.Enact.html#654" class="Field">withdrawals</a> <a id="1507" class="Symbol">=</a> <a id="1509" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="1511" class="Symbol">}</a>
  <a id="EPOCH-Body.tmpGovSt"></a><a id="1515" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1515" class="Function">tmpGovSt</a> <a id="1524" class="Symbol">=</a> <a id="1526" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="1533" class="Symbol">(λ</a> <a id="1536" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1536" class="Bound">x</a> <a id="1538" class="Symbol">→</a> <a id="1540" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="1542" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1548" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1536" class="Bound">x</a> <a id="1550" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="1552" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#502" class="Function">map</a> <a id="1556" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1562" class="Symbol">(</a><a id="1563" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1294" class="Field">epsRState</a> <a id="1573" class="Symbol">.</a><a id="1574" href="Ledger.Conway.Ratify.html#3378" class="Field">removed</a><a id="1581" class="Symbol">)</a> <a id="1583" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a><a id="1584" class="Symbol">)</a> <a id="1586" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a>
  <a id="EPOCH-Body.orphans"></a><a id="1594" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1594" class="Function">orphans</a>  <a id="1603" class="Symbol">=</a> <a id="1605" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="1614" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="1616" href="Ledger.Conway.Epoch.html#7800" class="Function">getOrphans</a> <a id="1627" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1452" class="Function">ens</a> <a id="1631" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1515" class="Function">tmpGovSt</a>
  <a id="EPOCH-Body.removed&#39;"></a><a id="1642" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1642" class="Function">removed&#39;</a> <a id="1651" class="Symbol">:</a> <a id="1653" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1655" class="Symbol">(</a><a id="1656" href="Ledger.Conway.Gov.Actions.html#394" class="Function">GovActionID</a> <a id="1668" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1670" href="Ledger.Conway.Gov.Actions.html#2712" class="Record">GovActionState</a><a id="1684" class="Symbol">)</a>
  <a id="1688" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1642" class="Function">removed&#39;</a> <a id="1697" class="Symbol">=</a> <a id="1699" class="Symbol">(</a><a id="1700" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1294" class="Field">epsRState</a> <a id="1710" class="Symbol">.</a><a id="1711" href="Ledger.Conway.Ratify.html#3378" class="Field">removed</a><a id="1718" class="Symbol">)</a> <a id="1720" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="1722" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1594" class="Function">orphans</a>
  <a id="EPOCH-Body.removedGovActions"></a><a id="1732" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1732" class="Function">removedGovActions</a> <a id="1750" class="Symbol">=</a> <a id="1752" href="Function.Base.html#1638" class="Function">flip</a> <a id="1757" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="1768" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1642" class="Function">removed&#39;</a> <a id="1777" class="Symbol">λ</a> <a id="1779" class="Symbol">(</a><a id="1780" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1780" class="Bound">gaid</a> <a id="1785" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1787" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1787" class="Bound">gaSt</a><a id="1791" class="Symbol">)</a> <a id="1793" class="Symbol">→</a>
    <a id="1799" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#502" class="Function">map</a> <a id="1803" class="Symbol">(</a><a id="1804" href="Ledger.Conway.Gov.Actions.html#2783" class="Field">returnAddr</a> <a id="1815" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1787" class="Bound">gaSt</a> <a id="1820" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="1822" class="Symbol">)</a> <a id="1824" class="Symbol">((</a><a id="1826" href="Ledger.Conway.Utxo.html#1498" class="Field">deposits</a> <a id="1835" href="Ledger.Conway.Ledger.html#924" class="Function">utxoSt</a> <a id="1842" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="1844" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="1846" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="1863" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1780" class="Bound">gaid</a> <a id="1868" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="1869" class="Symbol">)</a> <a id="1871" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1872" class="Symbol">)</a>

<a id="1875" class="Keyword">module</a> <a id="EPOCH-PROPS"></a><a id="1882" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1882" class="Module">EPOCH-PROPS</a> <a id="1894" class="Symbol">{</a><a id="1895" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1895" class="Bound">eps</a> <a id="1899" class="Symbol">:</a> <a id="1901" href="Ledger.Conway.Epoch.html#1512" class="Record">EpochState</a><a id="1911" class="Symbol">}</a> <a id="1913" class="Keyword">where</a>
  <a id="1921" class="Keyword">open</a> <a id="1926" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1190" class="Module">EPOCH-Body</a> <a id="1937" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1895" class="Bound">eps</a>
  <a id="1943" class="Keyword">open</a> <a id="1948" href="Ledger.Conway.Epoch.html#1512" class="Module">EpochState</a>


  <a id="EPOCH-PROPS.EPOCH-govDepsMatch"></a><a id="1963" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1963" class="Function">EPOCH-govDepsMatch</a> <a id="1982" class="Symbol">:</a>  <a id="1985" class="Symbol">{</a><a id="1986" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1986" class="Bound">eps&#39;</a> <a id="1991" class="Symbol">:</a> <a id="1993" href="Ledger.Conway.Epoch.html#1512" class="Record">EpochState</a><a id="2003" class="Symbol">}</a> <a id="2005" class="Symbol">{</a><a id="2006" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2006" class="Bound">e</a> <a id="2008" class="Symbol">:</a> <a id="2010" href="Ledger.Conway.Types.Epoch.html#592" class="Function">Epoch</a><a id="2015" class="Symbol">}</a>
    <a id="2021" class="Symbol">→</a> <a id="2023" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#502" class="Function">map</a> <a id="2027" class="Symbol">(</a><a id="2028" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="2045" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2047" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2052" class="Symbol">)</a> <a id="2054" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1642" class="Function">removed&#39;</a> <a id="2063" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="2065" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2069" class="Symbol">(</a><a id="2070" href="Ledger.Conway.Certs.html#709" class="Field">DepositsOf</a> <a id="2081" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1895" class="Bound">eps</a><a id="2084" class="Symbol">)</a>
    <a id="2090" class="Symbol">→</a> <a id="2092" class="Symbol">_</a> <a id="2094" href="Ledger.Conway.Epoch.html#11706" class="Datatype Operator">⊢</a> <a id="2096" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1895" class="Bound">eps</a> <a id="2100" href="Ledger.Conway.Epoch.html#11706" class="Datatype Operator">⇀⦇</a> <a id="2103" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2006" class="Bound">e</a> <a id="2105" href="Ledger.Conway.Epoch.html#11706" class="Datatype Operator">,EPOCH⦈</a> <a id="2113" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1986" class="Bound">eps&#39;</a>
    <a id="2122" class="Symbol">→</a> <a id="2124" href="Ledger.Conway.Ledger.Properties.html#4252" class="Function">govDepsMatch</a> <a id="2137" class="Symbol">(</a><a id="2138" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1895" class="Bound">eps</a> <a id="2142" class="Symbol">.</a><a id="2143" href="Ledger.Conway.Epoch.html#1629" class="Field">ls</a><a id="2145" class="Symbol">)</a> <a id="2147" class="Symbol">→</a> <a id="2149" href="Ledger.Conway.Ledger.Properties.html#4252" class="Function">govDepsMatch</a> <a id="2162" class="Symbol">(</a><a id="2163" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1986" class="Bound">eps&#39;</a> <a id="2168" class="Symbol">.</a><a id="2169" href="Ledger.Conway.Epoch.html#1629" class="Field">ls</a><a id="2171" class="Symbol">)</a>


  <a id="2177" class="Comment">-- Proof.</a>
  <a id="2189" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1963" class="Function">EPOCH-govDepsMatch</a> <a id="2208" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2208" class="Bound">ratify-removed</a> <a id="2223" class="Symbol">(</a><a id="2224" href="Ledger.Conway.Epoch.html#11776" class="InductiveConstructor">EPOCH</a> <a id="2230" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2230" class="Bound">x</a> <a id="2232" class="Symbol">_)</a> <a id="2235" class="Symbol">=</a>
      <a id="2243" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="2252" class="Symbol">(</a><a id="2253" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="2268" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2270" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="2279" class="Symbol">(</a><a id="2280" href="Axiom.Set.Rel.html#6892" class="Function">res-comp-cong</a> <a id="2294" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2296" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="2303" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3036" class="Function">ΔΠ&#39;≡ΔΠ</a><a id="2309" class="Symbol">))</a>
      <a id="2318" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2320" href="Function.Bundles.html#4834" class="Field">from</a> <a id="2325" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a> <a id="2332" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2334" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5200" class="Function">main-invariance-lemma</a> <a id="2356" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2358" href="Function.Bundles.html#4810" class="Field">to</a> <a id="2361" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a>
    <a id="2372" class="Keyword">where</a>

    <a id="2383" class="Comment">-- the combinator used in the EPOCH rule</a>
    <a id="2428" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2428" class="Function">ΔΠ</a> <a id="2431" class="Symbol">:</a> <a id="2433" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2435" href="Ledger.Conway.Certs.html#312" class="Datatype">DepositPurpose</a>
    <a id="2454" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2428" class="Function">ΔΠ</a> <a id="2457" class="Symbol">=</a> <a id="2459" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#502" class="Function">map</a> <a id="2463" class="Symbol">(</a><a id="2464" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2470" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2472" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="2477" class="Symbol">)</a> <a id="2479" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1732" class="Function">removedGovActions</a>

    <a id="2502" class="Comment">-- a simpler combinator that suffices here;</a>
    <a id="2550" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a> <a id="2554" class="Symbol">:</a> <a id="2556" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2558" href="Ledger.Conway.Certs.html#312" class="Datatype">DepositPurpose</a>
    <a id="2577" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a> <a id="2581" class="Symbol">=</a> <a id="2583" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#502" class="Function">map</a> <a id="2587" class="Symbol">(</a><a id="2588" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="2605" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2607" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2612" class="Symbol">)</a> <a id="2614" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1642" class="Function">removed&#39;</a>
    <a id="2627" class="Comment">-- Below we prove ΔΠ and ΔΠ&#39; are essentially equivalent.</a>

    <a id="2689" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2689" class="Function">P</a> <a id="2691" class="Symbol">:</a> <a id="2693" href="Ledger.Conway.Gov.Actions.html#394" class="Function">GovActionID</a> <a id="2705" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2707" href="Ledger.Conway.Gov.Actions.html#2712" class="Record">GovActionState</a> <a id="2722" class="Symbol">→</a> <a id="2724" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="2733" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2689" class="Function">P</a> <a id="2735" class="Symbol">=</a> <a id="2737" class="Symbol">λ</a> <a id="2739" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2739" class="Bound">u</a> <a id="2741" class="Symbol">→</a> <a id="2743" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2749" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2739" class="Bound">u</a> <a id="2751" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="2753" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#502" class="Function">map</a> <a id="2757" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2763" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1642" class="Function">removed&#39;</a>

    <a id="2777" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2777" class="Function">P?</a> <a id="2780" class="Symbol">:</a> <a id="2782" href="Relation.Unary.html#4543" class="Function">Decidable</a> <a id="2792" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2689" class="Function">P</a>
    <a id="2798" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2777" class="Function">P?</a> <a id="2801" class="Symbol">=</a> <a id="2803" class="Symbol">λ</a> <a id="2805" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2805" class="Bound">u</a> <a id="2807" class="Symbol">→</a> <a id="2809" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="2811" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2689" class="Function">P</a> <a id="2813" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2805" class="Bound">u</a> <a id="2815" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a>

    <a id="2822" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2822" class="Function">utxoDeps</a> <a id="2831" class="Symbol">:</a> <a id="2833" href="Ledger.Conway.Certs.html#553" class="Function">Deposits</a>
    <a id="2846" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2822" class="Function">utxoDeps</a> <a id="2855" class="Symbol">=</a> <a id="2857" href="Ledger.Conway.Utxo.html#1498" class="Field">UTxOState.deposits</a> <a id="2876" class="Symbol">(</a><a id="2877" href="Ledger.Conway.Ledger.html#924" class="Field">LState.utxoSt</a> <a id="2891" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#1276" class="Field">epsLState</a><a id="2900" class="Symbol">)</a>

    <a id="2907" class="Comment">-- utxo deposits restricted to new form of set used in EPOCH rule</a>
    <a id="2977" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2977" class="Function">utxoDeps&#39;</a> <a id="2987" class="Symbol">:</a> <a id="2989" href="Ledger.Conway.Certs.html#553" class="Function">Deposits</a>
    <a id="3002" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2977" class="Function">utxoDeps&#39;</a> <a id="3012" class="Symbol">=</a> <a id="3014" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2822" class="Function">utxoDeps</a> <a id="3023" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="3025" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a> <a id="3029" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a>

    <a id="3036" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3036" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="3043" class="Symbol">:</a> <a id="3045" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a> <a id="3049" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="3052" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2428" class="Function">ΔΠ</a>
    <a id="3059" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3036" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="3066" class="Symbol">=</a> <a id="3068" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3102" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3075" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3077" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3613" class="Function">ΔΠ⊆ΔΠ&#39;</a>
      <a id="3090" class="Keyword">where</a>
      <a id="3102" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3102" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3109" class="Symbol">:</a> <a id="3111" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a> <a id="3115" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="3117" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2428" class="Function">ΔΠ</a>
      <a id="3126" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3102" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3133" class="Symbol">{</a><a id="3134" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3134" class="Bound">a</a><a id="3135" class="Symbol">}</a> <a id="3137" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3137" class="Bound">x</a> <a id="3139" class="Keyword">with</a> <a id="3144" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3149" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3155" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3137" class="Bound">x</a>
      <a id="3163" class="Symbol">...</a> <a id="3167" class="Symbol">|</a> <a id="3169" class="Symbol">(</a><a id="3170" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3170" class="Bound">gaid</a> <a id="3175" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3177" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3177" class="Bound">gast</a><a id="3181" class="Symbol">)</a> <a id="3183" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3185" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3190" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3192" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3192" class="Bound">gaidgast∈rem</a> <a id="3205" class="Keyword">with</a> <a id="3210" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3215" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3221" class="Symbol">(</a><a id="3222" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2208" class="Bound">ratify-removed</a> <a id="3237" class="Bound">x</a><a id="3238" class="Symbol">)</a>
      <a id="3246" class="Symbol">...</a> <a id="3250" class="Symbol">|</a> <a id="3252" class="Symbol">(</a><a id="3253" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3253" class="Bound">dp</a> <a id="3256" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3258" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3258" class="Bound">c</a><a id="3259" class="Symbol">)</a> <a id="3261" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3263" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3268" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3270" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3270" class="Bound">dpc∈utxoDeps</a> <a id="3283" class="Symbol">=</a> <a id="3285" class="Keyword">let</a> <a id="3289" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3289" class="Bound">gadc</a> <a id="3294" class="Symbol">=</a> <a id="3296" class="Symbol">(</a><a id="3297" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="3314" class="Bound">gaid</a> <a id="3319" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3321" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3258" class="Bound">c</a><a id="3322" class="Symbol">)</a> <a id="3324" class="Keyword">in</a>
        <a id="3335" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3338" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3344" class="Symbol">((</a><a id="3346" href="Ledger.Conway.Gov.Actions.html#2783" class="Field">returnAddr</a> <a id="3357" class="Symbol">{</a><a id="3358" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#154" class="Bound">txs</a><a id="3361" class="Symbol">}</a> <a id="3363" class="Bound">gast</a> <a id="3368" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3370" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3289" class="Bound">gadc</a><a id="3374" class="Symbol">)</a>
                 <a id="3393" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3395" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
                 <a id="3417" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3419" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3422" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="3435" class="Symbol">((</a><a id="3437" class="Bound">gaid</a> <a id="3442" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3444" class="Bound">gast</a><a id="3448" class="Symbol">)</a>
                                   <a id="3485" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3487" class="Bound">gaidgast∈rem</a>
                                   <a id="3535" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3537" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3540" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3546" class="Symbol">(</a><a id="3547" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3289" class="Bound">gadc</a> <a id="3552" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3554" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3559" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3561" href="Axiom.Set.Map.html#12520" class="Function">res-singleton⁺</a> <a id="3576" class="Symbol">{</a><a id="3577" class="Argument">m</a> <a id="3579" class="Symbol">=</a> <a id="3581" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2822" class="Function">utxoDeps</a><a id="3589" class="Symbol">}</a> <a id="3591" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3270" class="Bound">dpc∈utxoDeps</a><a id="3603" class="Symbol">)))</a>
      <a id="3613" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3613" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3620" class="Symbol">:</a> <a id="3622" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2428" class="Function">ΔΠ</a> <a id="3625" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="3627" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a>
      <a id="3637" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3613" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3644" class="Symbol">{</a><a id="3645" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3645" class="Bound">a</a><a id="3646" class="Symbol">}</a> <a id="3648" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3648" class="Bound">x</a> <a id="3650" class="Keyword">with</a> <a id="3655" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3660" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3666" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3648" class="Bound">x</a>
      <a id="3674" class="Symbol">...</a> <a id="3678" class="Symbol">|</a> <a id="3680" class="Symbol">(</a><a id="3681" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3681" class="Bound">rwa</a> <a id="3685" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3687" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3687" class="Bound">dp</a> <a id="3690" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3692" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3692" class="Bound">c</a><a id="3693" class="Symbol">)</a> <a id="3695" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3697" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3702" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3704" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3704" class="Bound">rwa-dp-c∈</a> <a id="3714" class="Keyword">with</a> <a id="3719" class="Symbol">(</a><a id="3720" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3725" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="3738" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3704" class="Bound">rwa-dp-c∈</a><a id="3747" class="Symbol">)</a>
      <a id="3755" class="Symbol">...</a> <a id="3759" class="Symbol">|</a> <a id="3761" class="Symbol">(</a><a id="3762" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3762" class="Bound">gaid</a> <a id="3767" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3769" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3769" class="Bound">gast</a><a id="3773" class="Symbol">)</a> <a id="3775" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3777" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3777" class="Bound">gaid-gast-∈-removed</a> <a id="3797" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3799" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3799" class="Bound">rwa-dp-c-∈-map</a> <a id="3814" class="Keyword">with</a> <a id="3819" class="Symbol">(</a><a id="3820" href="Function.Bundles.html#4834" class="Field">from</a> <a id="3825" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3831" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3799" class="Bound">rwa-dp-c-∈-map</a><a id="3845" class="Symbol">)</a>
      <a id="3853" class="Symbol">...</a> <a id="3857" class="Symbol">|</a> <a id="3859" class="Symbol">(_</a> <a id="3862" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3864" class="Symbol">_)</a> <a id="3867" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3869" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3874" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3876" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3876" class="Bound">q∈</a> <a id="3879" class="Symbol">=</a>
        <a id="3889" href="Function.Bundles.html#4810" class="Field">to</a> <a id="3892" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3898" class="Symbol">((</a><a id="3900" class="Bound">gaid</a> <a id="3905" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3907" class="Bound">gast</a><a id="3911" class="Symbol">)</a>
                 <a id="3930" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3932" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3938" class="Symbol">(</a><a id="3939" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a> <a id="3947" class="Symbol">(</a><a id="3948" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="3954" class="Symbol">(</a><a id="3955" href="Axiom.Set.Map.html#12964" class="Function">res-singleton&#39;&#39;</a> <a id="3971" class="Symbol">{</a><a id="3972" class="Argument">m</a> <a id="3974" class="Symbol">=</a> <a id="3976" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2822" class="Function">utxoDeps</a><a id="3984" class="Symbol">}</a> <a id="3986" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#3876" class="Bound">q∈</a><a id="3988" class="Symbol">)))</a>
                 <a id="4009" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4011" class="Bound">gaid-gast-∈-removed</a><a id="4030" class="Symbol">)</a>

    <a id="4037" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4037" class="Function">map-filter-decomp</a> <a id="4055" class="Symbol">:</a> <a id="4057" class="Symbol">∀</a> <a id="4059" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4059" class="Bound">a</a> <a id="4061" class="Symbol">→</a> <a id="4063" class="Symbol">(</a><a id="4064" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4059" class="Bound">a</a> <a id="4066" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4068" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a> <a id="4072" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4074" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4059" class="Bound">a</a> <a id="4076" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4079" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#488" class="Function">map&#39;</a> <a id="4084" class="Symbol">(</a><a id="4085" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="4102" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4104" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4109" class="Symbol">)</a> <a id="4111" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="4116" class="Symbol">)</a>
                               <a id="4149" href="Function.Bundles.html#12400" class="Function Operator">⇔</a> <a id="4151" class="Symbol">(</a><a id="4152" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4059" class="Bound">a</a> <a id="4154" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4157" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#488" class="Function">map&#39;</a> <a id="4162" class="Symbol">(</a><a id="4163" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="4180" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4182" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4187" class="Symbol">)(</a><a id="4189" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4196" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2777" class="Function">P?</a> <a id="4199" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="4204" class="Symbol">))</a>
    <a id="4211" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4037" class="Function">map-filter-decomp</a> <a id="4229" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4229" class="Bound">a</a> <a id="4231" class="Symbol">=</a> <a id="4233" href="Function.Bundles.html#13499" class="Function">mk⇔</a> <a id="4237" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4278" class="Function">i</a> <a id="4239" class="Symbol">(λ</a> <a id="4242" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4242" class="Bound">h</a> <a id="4244" class="Symbol">→</a> <a id="4246" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4655" class="Function">ii</a> <a id="4249" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4242" class="Bound">h</a> <a id="4251" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4253" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4914" class="Function">iii</a> <a id="4257" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4242" class="Bound">h</a><a id="4258" class="Symbol">)</a>
      <a id="4266" class="Keyword">where</a>
      <a id="4278" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4278" class="Function">i</a> <a id="4280" class="Symbol">:</a> <a id="4282" class="Symbol">((</a><a id="4284" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4229" class="Bound">a</a> <a id="4286" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4288" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a><a id="4291" class="Symbol">)</a> <a id="4293" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4295" class="Symbol">(</a><a id="4296" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4229" class="Bound">a</a> <a id="4298" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4301" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#488" class="Function">map&#39;</a> <a id="4306" class="Symbol">(</a><a id="4307" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="4324" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4326" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4331" class="Symbol">)</a> <a id="4333" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="4338" class="Symbol">))</a>
          <a id="4351" class="Symbol">→</a> <a id="4353" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4229" class="Bound">a</a> <a id="4355" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4358" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#488" class="Function">map&#39;</a> <a id="4363" class="Symbol">(</a><a id="4364" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="4381" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4383" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4388" class="Symbol">)</a> <a id="4390" class="Symbol">(</a><a id="4391" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4398" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2777" class="Function">P?</a> <a id="4401" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="4406" class="Symbol">)</a>
      <a id="4414" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4278" class="Function">i</a> <a id="4416" class="Symbol">(</a><a id="4417" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4417" class="Bound">a∉ΔΠ&#39;</a> <a id="4423" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4425" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4425" class="Bound">a∈</a><a id="4427" class="Symbol">)</a> <a id="4429" class="Keyword">with</a> <a id="4434" href="Function.Bundles.html#7418" class="Field">Inverse.from</a> <a id="4447" class="Symbol">(</a><a id="4448" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4455" class="Symbol">(</a><a id="4456" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="4473" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4475" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4480" class="Symbol">))</a> <a id="4483" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4425" class="Bound">a∈</a>
      <a id="4492" class="Symbol">...</a> <a id="4496" class="Symbol">|</a> <a id="4498" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4498" class="Bound">b</a> <a id="4500" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4502" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4502" class="Bound">b∈</a> <a id="4505" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4507" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4512" class="Symbol">=</a> <a id="4514" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="4525" class="Symbol">(</a><a id="4526" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4533" class="Symbol">(</a><a id="4534" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="4551" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4553" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4558" class="Symbol">))</a>
                                       <a id="4600" class="Symbol">(</a><a id="4601" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4498" class="Bound">b</a> <a id="4603" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4605" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a> <a id="4615" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2777" class="Function">P?</a> <a id="4618" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4502" class="Bound">b∈</a> <a id="4621" class="Symbol">(</a><a id="4622" class="Bound">a∉ΔΠ&#39;</a> <a id="4628" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4630" href="Axiom.Set.Properties.html#5166" class="Function">∈-map⁺-∘</a><a id="4638" class="Symbol">)</a> <a id="4640" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4642" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="4646" class="Symbol">)</a>

      <a id="4655" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4655" class="Function">ii</a> <a id="4658" class="Symbol">:</a> <a id="4660" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4229" class="Bound">a</a> <a id="4662" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4665" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#488" class="Function">map&#39;</a> <a id="4670" class="Symbol">(</a><a id="4671" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="4688" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4690" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4695" class="Symbol">)</a> <a id="4697" class="Symbol">(</a><a id="4698" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4705" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2777" class="Function">P?</a> <a id="4708" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="4713" class="Symbol">)</a> <a id="4715" class="Symbol">→</a> <a id="4717" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4229" class="Bound">a</a> <a id="4719" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4721" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a>
      <a id="4731" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4655" class="Function">ii</a> <a id="4734" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4734" class="Bound">a∈</a> <a id="4737" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4737" class="Bound">a∈ΔΠ&#39;</a> <a id="4743" class="Keyword">with</a> <a id="4748" href="Function.Bundles.html#4834" class="Field">from</a> <a id="4753" class="Symbol">(</a><a id="4754" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a> <a id="4768" class="Symbol">{</a><a id="4769" class="Argument">l</a> <a id="4771" class="Symbol">=</a> <a id="4773" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="4778" class="Symbol">}</a> <a id="4780" class="Symbol">{</a><a id="4781" class="Argument">P?</a> <a id="4784" class="Symbol">=</a> <a id="4786" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2777" class="Function">P?</a><a id="4788" class="Symbol">})</a> <a id="4791" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4734" class="Bound">a∈</a>
      <a id="4800" class="Symbol">...</a> <a id="4804" class="Symbol">|</a> <a id="4806" class="Symbol">_</a> <a id="4808" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4810" class="Symbol">_</a> <a id="4812" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4814" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4819" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4821" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4821" class="Bound">Pb</a> <a id="4824" class="Keyword">with</a> <a id="4829" href="Axiom.Set.Properties.html#1617" class="Function">∈-map⁻&#39;</a> <a id="4837" class="Bound">a∈ΔΠ&#39;</a>
      <a id="4849" class="Symbol">...</a> <a id="4853" class="Symbol">|</a> <a id="4855" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4855" class="Bound">q</a> <a id="4857" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4859" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4864" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4866" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4866" class="Bound">q∈rem</a> <a id="4872" class="Symbol">=</a> <a id="4874" class="Bound">Pb</a> <a id="4877" class="Symbol">(</a><a id="4878" href="Function.Bundles.html#4810" class="Field">to</a> <a id="4881" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="4887" class="Symbol">(</a><a id="4888" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4855" class="Bound">q</a> <a id="4890" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4892" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4897" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4899" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4866" class="Bound">q∈rem</a><a id="4904" class="Symbol">))</a>

      <a id="4914" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4914" class="Function">iii</a> <a id="4918" class="Symbol">:</a> <a id="4920" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4229" class="Bound">a</a> <a id="4922" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4925" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#488" class="Function">map&#39;</a> <a id="4930" class="Symbol">(</a><a id="4931" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="4948" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4950" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4955" class="Symbol">)</a> <a id="4957" class="Symbol">(</a><a id="4958" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="4965" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2777" class="Function">P?</a> <a id="4968" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="4973" class="Symbol">)</a>
            <a id="4987" class="Symbol">→</a> <a id="4989" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4229" class="Bound">a</a> <a id="4991" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="4994" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#488" class="Function">map&#39;</a> <a id="4999" class="Symbol">(</a><a id="5000" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="5017" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5019" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5024" class="Symbol">)</a> <a id="5026" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a>
      <a id="5038" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4914" class="Function">iii</a> <a id="5042" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5042" class="Bound">a∈</a> <a id="5045" class="Keyword">with</a> <a id="5050" href="Function.Bundles.html#4834" class="Field">from</a> <a id="5055" class="Symbol">(</a><a id="5056" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a> <a id="5070" class="Symbol">{</a><a id="5071" class="Argument">l</a> <a id="5073" class="Symbol">=</a> <a id="5075" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="5080" class="Symbol">}</a> <a id="5082" class="Symbol">{</a><a id="5083" class="Argument">P?</a> <a id="5086" class="Symbol">=</a> <a id="5088" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2777" class="Function">P?</a><a id="5090" class="Symbol">})</a> <a id="5093" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5042" class="Bound">a∈</a>
      <a id="5102" class="Symbol">...</a> <a id="5106" class="Symbol">|</a> <a id="5108" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5108" class="Bound">b</a> <a id="5110" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5112" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5112" class="Bound">b∈</a> <a id="5115" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5117" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5122" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5124" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5124" class="Bound">Pb</a> <a id="5127" class="Symbol">=</a> <a id="5129" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="5140" class="Symbol">(</a><a id="5141" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="5148" class="Symbol">(</a><a id="5149" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="5166" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5168" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5173" class="Symbol">))</a> <a id="5176" class="Symbol">(</a><a id="5177" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5108" class="Bound">b</a> <a id="5179" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5181" class="Symbol">(</a><a id="5182" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5112" class="Bound">b∈</a> <a id="5185" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5187" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5191" class="Symbol">))</a>


    <a id="5200" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5200" class="Function">main-invariance-lemma</a> <a id="5222" class="Symbol">:</a>
        <a id="5232" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="5240" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="5252" class="Symbol">(</a><a id="5253" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5257" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2822" class="Function">utxoDeps</a><a id="5265" class="Symbol">)</a> <a id="5267" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="5271" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="5280" class="Symbol">(</a><a id="5281" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#488" class="Function">map&#39;</a> <a id="5286" class="Symbol">(</a><a id="5287" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="5304" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5306" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5311" class="Symbol">)</a> <a id="5313" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="5318" class="Symbol">)</a>
        <a id="5328" class="Comment">---------------------------------------------------------------------------------------------------</a>
      <a id="5434" class="Symbol">→</a> <a id="5436" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="5444" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="5456" class="Symbol">(</a><a id="5457" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5461" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2977" class="Function">utxoDeps&#39;</a><a id="5470" class="Symbol">)</a> <a id="5472" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="5476" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="5485" class="Symbol">(</a><a id="5486" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#488" class="Function">map&#39;</a> <a id="5491" class="Symbol">(</a><a id="5492" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="5509" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="5511" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5516" class="Symbol">)</a> <a id="5518" class="Symbol">(</a><a id="5519" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="5526" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2777" class="Function">P?</a> <a id="5529" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="5534" class="Symbol">))</a>

    <a id="5542" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5200" class="Function">main-invariance-lemma</a> <a id="5564" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5564" class="Bound">HYP</a> <a id="5568" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="5570" class="Symbol">=</a> <a id="5572" class="Keyword">let</a> <a id="5576" class="Keyword">open</a> <a id="5581" href="Function.Related.Propositional.html#9123" class="Module">R.EquationalReasoning</a> <a id="5603" class="Keyword">in</a>
      <a id="5612" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="5614" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5616" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="5624" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="5636" class="Symbol">(</a><a id="5637" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5641" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2977" class="Function">utxoDeps&#39;</a><a id="5650" class="Symbol">)</a>                          <a id="5677" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5680" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="5689" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="5698" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5706" class="Symbol">(</a><a id="5707" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="5719" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="5721" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5723" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="5725" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5727" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5731" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2977" class="Function">utxoDeps&#39;</a><a id="5740" class="Symbol">)</a>                              <a id="5771" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5774" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="5783" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="5790" href="Axiom.Set.Rel.html#7819" class="Function">∈-resᶜ-dom</a> <a id="5801" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5809" class="Symbol">(</a><a id="5810" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="5822" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="5824" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5826" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="5828" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="5830" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a> <a id="5834" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5836" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="5839" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5839" class="Bound">q</a> <a id="5841" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="5843" class="Symbol">(</a><a id="5844" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="5846" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5848" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5839" class="Bound">q</a><a id="5849" class="Symbol">)</a> <a id="5851" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5853" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2822" class="Function">utxoDeps</a><a id="5861" class="Symbol">)</a>             <a id="5875" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5878" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a> <a id="5887" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5895" class="Symbol">(</a><a id="5896" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="5898" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="5900" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a> <a id="5904" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5906" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="5918" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="5920" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5922" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="5925" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5925" class="Bound">q</a> <a id="5927" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="5929" class="Symbol">(</a><a id="5930" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="5932" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5934" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5925" class="Bound">q</a><a id="5935" class="Symbol">)</a> <a id="5937" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5939" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2822" class="Function">utxoDeps</a><a id="5947" class="Symbol">)</a>             <a id="5961" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5964" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="5973" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="5980" class="Symbol">(</a><a id="5981" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="5990" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="5997" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a><a id="6001" class="Symbol">)</a><a id="6002" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6010" class="Symbol">(</a><a id="6011" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="6013" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6015" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a> <a id="6019" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6021" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="6033" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="6035" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6037" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="6039" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6041" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6045" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2822" class="Function">utxoDeps</a><a id="6053" class="Symbol">)</a>                      <a id="6076" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6079" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6088" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6095" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="6104" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6112" class="Symbol">(</a><a id="6113" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="6115" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6117" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a> <a id="6121" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6123" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="6125" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6127" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="6135" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="6147" class="Symbol">(</a><a id="6148" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6152" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2822" class="Function">utxoDeps</a><a id="6160" class="Symbol">))</a>                <a id="6178" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6181" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6190" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6197" class="Symbol">(</a><a id="6198" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5564" class="Bound">HYP</a> <a id="6202" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a><a id="6203" class="Symbol">)</a> <a id="6205" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6213" class="Symbol">(</a><a id="6214" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="6216" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6218" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a> <a id="6222" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6224" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="6226" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6228" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="6237" class="Symbol">(</a><a id="6238" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#488" class="Function">map&#39;</a> <a id="6243" class="Symbol">(</a><a id="6244" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="6261" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6263" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6268" class="Symbol">)</a> <a id="6270" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="6275" class="Symbol">))</a>  <a id="6279" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6282" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="6291" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6298" class="Symbol">(</a><a id="6299" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="6308" href="Axiom.Set.html#5776" class="Function">∈-fromList</a><a id="6318" class="Symbol">)</a><a id="6319" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6327" class="Symbol">(</a><a id="6328" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="6330" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6332" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2550" class="Function">ΔΠ&#39;</a> <a id="6336" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6338" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="6340" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="6343" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#488" class="Function">map&#39;</a> <a id="6348" class="Symbol">(</a><a id="6349" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="6366" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6368" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6373" class="Symbol">)</a> <a id="6375" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="6380" class="Symbol">)</a>            <a id="6393" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6396" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#4037" class="Function">map-filter-decomp</a> <a id="6414" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="6416" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6424" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="6426" href="Data.List.Membership.Setoid.html#925" class="Function Operator">∈ˡ</a> <a id="6429" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#488" class="Function">map&#39;</a> <a id="6434" class="Symbol">(</a><a id="6435" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="6452" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6454" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6459" class="Symbol">)</a> <a id="6461" class="Symbol">(</a><a id="6462" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="6469" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2777" class="Function">P?</a> <a id="6472" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="6477" class="Symbol">)</a>           <a id="6489" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6492" href="Axiom.Set.html#5776" class="Function">∈-fromList</a> <a id="6503" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6511" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#5568" class="Bound">a</a> <a id="6513" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6515" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="6524" class="Symbol">(</a><a id="6525" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#488" class="Function">map&#39;</a> <a id="6530" class="Symbol">(</a><a id="6531" href="Ledger.Conway.Certs.html#501" class="InductiveConstructor">GovActionDeposit</a> <a id="6548" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="6550" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6555" class="Symbol">)</a> <a id="6557" class="Symbol">(</a><a id="6558" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="6565" href="Ledger.Conway.Epoch.Properties.GovDepsMatch.html#2777" class="Function">P?</a> <a id="6568" href="Ledger.Conway.Ledger.html#951" class="Function">govSt</a><a id="6573" class="Symbol">))</a> <a id="6576" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

</pre></body></html>