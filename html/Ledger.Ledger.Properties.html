<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Ledger.Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="83" class="Keyword">open</a> <a id="88" class="Keyword">import</a> <a id="95" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>
<a id="111" class="Keyword">import</a> <a id="118" href="Ledger.Certs.html" class="Module">Ledger.Certs</a>

<a id="132" class="Keyword">module</a> <a id="139" href="Ledger.Ledger.Properties.html" class="Module">Ledger.Ledger.Properties</a>
  <a id="166" class="Symbol">(</a><a id="167" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="171" class="Symbol">:</a> <a id="173" class="Symbol">_)</a> <a id="176" class="Symbol">(</a><a id="177" class="Keyword">open</a> <a id="182" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="203" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a><a id="206" class="Symbol">)</a> <a id="208" class="Symbol">(</a><a id="209" class="Keyword">open</a> <a id="214" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="227" href="Ledger.Transaction.html#1809" class="Function">govStructure</a><a id="239" class="Symbol">)</a>
  <a id="243" class="Symbol">(</a><a id="244" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a> <a id="248" class="Symbol">:</a> <a id="250" href="Ledger.Abstract.html#578" class="Record">AbstractFunctions</a> <a id="268" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a><a id="271" class="Symbol">)</a> <a id="273" class="Symbol">(</a><a id="274" class="Keyword">open</a> <a id="279" href="Ledger.Abstract.html#578" class="Module">AbstractFunctions</a> <a id="297" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a><a id="300" class="Symbol">)</a>
  <a id="304" class="Keyword">where</a>

<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="344" href="Axiom.Set.html#10669" class="Function">th</a>
<a id="347" class="Keyword">open</a> <a id="352" class="Keyword">import</a> <a id="359" href="Ledger.Chain.html" class="Module">Ledger.Chain</a> <a id="372" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="376" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Ledger.Enact.html" class="Module">Ledger.Enact</a> <a id="405" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="418" class="Keyword">open</a> <a id="423" class="Keyword">import</a> <a id="430" href="Ledger.Epoch.html" class="Module">Ledger.Epoch</a> <a id="443" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="447" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="451" class="Keyword">open</a> <a id="456" class="Keyword">import</a> <a id="463" href="Ledger.Certs.Properties.html" class="Module">Ledger.Certs.Properties</a> <a id="487" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="500" class="Keyword">open</a> <a id="505" class="Keyword">import</a> <a id="512" href="Ledger.Gov.html" class="Module">Ledger.Gov</a> <a id="523" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a>
<a id="527" class="Keyword">open</a> <a id="532" class="Keyword">import</a> <a id="539" href="Ledger.Gov.Properties.html" class="Module">Ledger.Gov.Properties</a> <a id="561" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a>
<a id="565" class="Keyword">open</a> <a id="570" class="Keyword">import</a> <a id="577" href="Ledger.Ledger.html" class="Module">Ledger.Ledger</a> <a id="591" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="595" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="599" class="Keyword">open</a> <a id="604" class="Keyword">import</a> <a id="611" href="Ledger.Ratify.html" class="Module">Ledger.Ratify</a> <a id="625" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="629" class="Keyword">hiding</a> <a id="636" class="Symbol">(</a><a id="637" href="Ledger.Ratify.html#775" class="Function">vote</a><a id="641" class="Symbol">)</a>
<a id="643" class="Keyword">open</a> <a id="648" class="Keyword">import</a> <a id="655" href="Ledger.Utxo.html" class="Module">Ledger.Utxo</a> <a id="667" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="671" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="675" class="Keyword">open</a> <a id="680" class="Keyword">import</a> <a id="687" href="Ledger.Utxo.Properties.html" class="Module">Ledger.Utxo.Properties</a> <a id="710" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="714" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="718" class="Keyword">open</a> <a id="723" class="Keyword">import</a> <a id="730" href="Ledger.Utxow.html" class="Module">Ledger.Utxow</a> <a id="743" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="747" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="751" class="Keyword">open</a> <a id="756" class="Keyword">import</a> <a id="763" href="Ledger.Utxow.Properties.html" class="Module">Ledger.Utxow.Properties</a> <a id="787" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="791" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>

<a id="796" class="Keyword">open</a> <a id="801" class="Keyword">import</a> <a id="808" href="Data.Bool.Properties.html" class="Module">Data.Bool.Properties</a> <a id="829" class="Keyword">using</a> <a id="835" class="Symbol">(</a><a id="836" href="Data.Bool.Properties.html#15217" class="Function">¬-not</a><a id="841" class="Symbol">)</a>
<a id="843" class="Keyword">open</a> <a id="848" class="Keyword">import</a> <a id="855" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="870" class="Keyword">using</a> <a id="876" class="Symbol">(</a><a id="877" href="Data.List.Base.html#10687" class="Function">filter</a><a id="883" class="Symbol">)</a>
<a id="885" class="Keyword">open</a> <a id="890" class="Keyword">import</a> <a id="897" href="Data.List.Subpermutations.html" class="Module">Data.List.Subpermutations</a> <a id="923" class="Keyword">using</a> <a id="929" class="Symbol">(</a><a id="930" href="Data.List.Subpermutations.html#1933" class="Function">∈ˡ-map-filter</a><a id="943" class="Symbol">)</a>
<a id="945" class="Keyword">open</a> <a id="950" class="Keyword">import</a> <a id="957" href="Data.Product.Function.NonDependent.Propositional.html" class="Module">Data.Product.Function.NonDependent.Propositional</a> <a id="1006" class="Keyword">using</a> <a id="1012" class="Symbol">(</a><a id="1013" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">_×-cong_</a><a id="1021" class="Symbol">)</a>
<a id="1023" class="Keyword">open</a> <a id="1028" class="Keyword">import</a> <a id="1035" href="Data.List.Properties.html" class="Module">Data.List.Properties</a> <a id="1056" class="Keyword">using</a> <a id="1062" class="Symbol">(</a><a id="1063" href="Data.List.Properties.html#5457" class="Function">++-identityʳ</a><a id="1075" class="Symbol">;</a> <a id="1077" href="Data.List.Properties.html#3851" class="Function">map-++</a><a id="1083" class="Symbol">;</a> <a id="1085" href="Data.List.Properties.html#5269" class="Function">++-assoc</a><a id="1093" class="Symbol">;</a> <a id="1095" href="Data.List.Properties.html#4987" class="Function">length-++</a><a id="1104" class="Symbol">)</a>
<a id="1106" class="Keyword">open</a> <a id="1111" class="Keyword">import</a> <a id="1118" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a> <a id="1164" class="Keyword">using</a> <a id="1170" class="Symbol">(</a><a id="1171" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a><a id="1180" class="Symbol">;</a> <a id="1182" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a><a id="1188" class="Symbol">)</a>
<a id="1190" class="Keyword">open</a> <a id="1195" class="Keyword">import</a> <a id="1202" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="1220" class="Keyword">using</a> <a id="1226" class="Symbol">(</a><a id="1227" href="Data.Product.Base.html#5054" class="Function">swap</a><a id="1231" class="Symbol">)</a>
<a id="1233" class="Keyword">open</a> <a id="1238" class="Keyword">import</a> <a id="1245" href="Data.Product.Properties.html" class="Module">Data.Product.Properties</a> <a id="1269" class="Keyword">using</a> <a id="1275" class="Symbol">(</a><a id="1276" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a><a id="1283" class="Symbol">)</a>
<a id="1285" class="Keyword">open</a> <a id="1290" class="Keyword">import</a> <a id="1297" href="Data.Product.Properties.Ext.html" class="Module">Data.Product.Properties.Ext</a> <a id="1325" class="Keyword">using</a> <a id="1331" class="Symbol">(</a><a id="1332" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a><a id="1340" class="Symbol">)</a>
<a id="1342" class="Keyword">open</a> <a id="1347" class="Keyword">import</a> <a id="1354" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="1374" class="Keyword">using</a> <a id="1380" class="Symbol">(</a><a id="1381" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="1391" class="Symbol">;</a> <a id="1393" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a><a id="1404" class="Symbol">;</a> <a id="1406" href="Data.Nat.Properties.html#15101" class="Function">+-suc</a><a id="1411" class="Symbol">;</a> <a id="1413" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a><a id="1419" class="Symbol">;</a> <a id="1421" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a><a id="1428" class="Symbol">)</a>
<a id="1430" class="Keyword">open</a> <a id="1435" class="Keyword">import</a> <a id="1442" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="1458" class="Keyword">using</a> <a id="1464" class="Symbol">(</a><a id="1465" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a><a id="1478" class="Symbol">)</a>
<a id="1480" class="Keyword">open</a> <a id="1485" class="Keyword">import</a> <a id="1492" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1507" class="Keyword">using</a> <a id="1513" class="Symbol">(</a><a id="1514" href="Relation.Unary.html#4543" class="Function">Decidable</a><a id="1523" class="Symbol">)</a>

<a id="1526" class="Keyword">import</a> <a id="1533" href="Function.Related.Propositional.html" class="Module">Function.Related.Propositional</a> <a id="1564" class="Symbol">as</a> <a id="1567" class="Module">R</a>

<a id="1570" class="Keyword">import</a> <a id="1577" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1610" class="Symbol">as</a> <a id="1613" class="Module">SetoidReasoning</a>

<a id="1630" class="Keyword">instance</a> <a id="1639" href="Ledger.Ledger.Properties.html#1639" class="Function">_</a> <a id="1641" class="Symbol">=</a> <a id="1643" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a>

<a id="1655" class="Keyword">open</a> <a id="1660" class="Keyword">import</a> <a id="1667" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>

<a id="1700" class="Comment">-- ** Proof that LEDGER is computational.</a>

<a id="1743" class="Keyword">instance</a>
  <a id="1754" href="Ledger.Ledger.Properties.html#1754" class="Function">_</a> <a id="1756" class="Symbol">=</a> <a id="1758" href="Interface.ComputationalRelation.html#1827" class="Function">Monad-ComputationResult</a>

  <a id="Computational-LEDGER"></a><a id="1785" href="Ledger.Ledger.Properties.html#1785" class="Function">Computational-LEDGER</a> <a id="1806" class="Symbol">:</a> <a id="1808" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="1822" href="Ledger.Ledger.html#2581" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="1838" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1847" href="Ledger.Ledger.Properties.html#1785" class="Function">Computational-LEDGER</a> <a id="1868" class="Symbol">=</a> <a id="1870" class="Keyword">record</a> <a id="1877" class="Symbol">{</a><a id="1878" href="Ledger.Ledger.Properties.html#2131" class="Module">go</a><a id="1880" class="Symbol">}</a>
    <a id="1886" class="Keyword">where</a>
    <a id="1896" class="Keyword">open</a> <a id="1901" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="1915" class="Symbol">⦃...⦄</a> <a id="1921" class="Keyword">renaming</a> <a id="1930" class="Symbol">(</a><a id="1931" href="Interface.ComputationalRelation.html#2879" class="Field">computeProof</a> <a id="1944" class="Symbol">to</a> <a id="1947" class="Field">comp</a><a id="1951" class="Symbol">;</a> <a id="1953" href="Interface.ComputationalRelation.html#3096" class="Field">completeness</a> <a id="1966" class="Symbol">to</a> <a id="1969" class="Field">complete</a><a id="1977" class="Symbol">)</a>
    <a id="1983" href="Ledger.Ledger.Properties.html#1983" class="Function">computeUtxow</a> <a id="1996" class="Symbol">=</a> <a id="1998" href="Ledger.Ledger.Properties.html#1947" class="Field">comp</a> <a id="2003" class="Symbol">{</a><a id="2004" class="Argument">STS</a> <a id="2008" class="Symbol">=</a> <a id="2010" href="Ledger.Utxow.html#3731" class="Datatype Operator">_⊢_⇀⦇_,UTXOW⦈_</a><a id="2024" class="Symbol">}</a>
    <a id="2030" href="Ledger.Ledger.Properties.html#2030" class="Function">computeCerts</a> <a id="2043" class="Symbol">=</a> <a id="2045" href="Ledger.Ledger.Properties.html#1947" class="Field">comp</a> <a id="2050" class="Symbol">{</a><a id="2051" class="Argument">STS</a> <a id="2055" class="Symbol">=</a> <a id="2057" href="Ledger.Certs.html#6812" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a><a id="2071" class="Symbol">}</a>
    <a id="2077" href="Ledger.Ledger.Properties.html#2077" class="Function">computeGov</a>   <a id="2090" class="Symbol">=</a> <a id="2092" href="Ledger.Ledger.Properties.html#1947" class="Field">comp</a> <a id="2097" class="Symbol">{</a><a id="2098" class="Argument">STS</a> <a id="2102" class="Symbol">=</a> <a id="2104" href="Ledger.Gov.html#6856" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="2117" class="Symbol">}</a>

    <a id="2124" class="Keyword">module</a> <a id="2131" href="Ledger.Ledger.Properties.html#2131" class="Module">go</a>
      <a id="2140" class="Symbol">(</a><a id="2141" href="Ledger.Ledger.Properties.html#2141" class="Bound">Γ</a> <a id="2143" class="Symbol">:</a> <a id="2145" href="Ledger.Ledger.html#545" class="Record">LEnv</a><a id="2149" class="Symbol">)</a>   <a id="2153" class="Symbol">(</a><a id="2154" class="Keyword">let</a> <a id="2158" class="Keyword">open</a> <a id="2163" href="Ledger.Ledger.html#545" class="Module">LEnv</a> <a id="2168" href="Ledger.Ledger.Properties.html#2141" class="Bound">Γ</a><a id="2169" class="Symbol">)</a>
      <a id="2177" class="Symbol">(</a><a id="2178" href="Ledger.Ledger.Properties.html#2178" class="Bound">s</a> <a id="2180" class="Symbol">:</a> <a id="2182" href="Ledger.Ledger.html#809" class="Record">LState</a><a id="2188" class="Symbol">)</a> <a id="2190" class="Symbol">(</a><a id="2191" class="Keyword">let</a> <a id="2195" class="Keyword">open</a> <a id="2200" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="2207" href="Ledger.Ledger.Properties.html#2178" class="Bound">s</a><a id="2208" class="Symbol">)</a>
      <a id="2216" class="Symbol">(</a><a id="2217" href="Ledger.Ledger.Properties.html#2217" class="Bound">tx</a> <a id="2220" class="Symbol">:</a> <a id="2222" href="Ledger.Transaction.html#4234" class="Record">Tx</a><a id="2224" class="Symbol">)</a>    <a id="2229" class="Symbol">(</a><a id="2230" class="Keyword">let</a> <a id="2234" class="Keyword">open</a> <a id="2239" href="Ledger.Transaction.html#4234" class="Module">Tx</a> <a id="2242" href="Ledger.Ledger.Properties.html#2217" class="Bound">tx</a> <a id="2245" class="Keyword">renaming</a> <a id="2254" class="Symbol">(</a><a id="2255" href="Ledger.Transaction.html#4266" class="Field">body</a> <a id="2260" class="Symbol">to</a> <a id="2263" class="Field">txb</a><a id="2266" class="Symbol">);</a> <a id="2269" class="Keyword">open</a> <a id="2274" href="Ledger.Transaction.html#2691" class="Module">TxBody</a> <a id="2281" href="Ledger.Ledger.Properties.html#2263" class="Field">txb</a><a id="2284" class="Symbol">)</a>
      <a id="2292" class="Keyword">where</a>
      <a id="2304" href="Ledger.Ledger.Properties.html#2304" class="Function">utxoΓ</a> <a id="2310" class="Symbol">=</a> <a id="2312" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a> <a id="2320" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="2322" class="Keyword">record</a> <a id="2329" class="Symbol">{</a> <a id="2331" href="Ledger.Ledger.Properties.html#2331" class="Module">LEnv</a> <a id="2336" href="Ledger.Ledger.Properties.html#2141" class="Bound">Γ</a> <a id="2338" class="Symbol">}</a>
      <a id="2346" href="Ledger.Ledger.Properties.html#2346" class="Function">certΓ</a> <a id="2352" class="Symbol">=</a> <a id="2354" href="Ledger.Certs.html#2791" class="Record">CertEnv</a> <a id="2362" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="2364" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="2366" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a> <a id="2372" href="Ledger.Ledger.html#575" class="Field">slot</a> <a id="2377" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2379" href="Ledger.Ledger.html#633" class="Field">pparams</a> <a id="2387" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2389" href="Ledger.Transaction.html#2987" class="Function">txvote</a> <a id="2396" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2398" href="Ledger.Transaction.html#2959" class="Function">txwdrls</a> <a id="2406" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2408" class="Symbol">_</a> <a id="2410" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a>
      <a id="2418" href="Ledger.Ledger.Properties.html#2418" class="Function">govΓ</a> <a id="2423" class="Symbol">:</a> <a id="2425" href="Ledger.Certs.html#3897" class="Record">CertState</a> <a id="2435" class="Symbol">→</a> <a id="2437" href="Ledger.Gov.html#1526" class="Record">GovEnv</a>
      <a id="2450" href="Ledger.Ledger.Properties.html#2418" class="Function">govΓ</a> <a id="2455" class="Symbol">=</a> <a id="2457" class="Symbol">λ</a> <a id="2459" href="Ledger.Ledger.Properties.html#2459" class="Bound">certState</a> <a id="2469" class="Symbol">→</a> <a id="2471" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="2473" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="2478" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2480" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a> <a id="2486" href="Ledger.Ledger.html#575" class="Field">slot</a> <a id="2491" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2493" href="Ledger.Ledger.html#633" class="Field">pparams</a> <a id="2501" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2503" href="Ledger.Ledger.html#598" class="Field">ppolicy</a> <a id="2511" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2513" href="Ledger.Ledger.html#659" class="Field">enactState</a> <a id="2524" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2526" href="Ledger.Ledger.Properties.html#2459" class="Bound">certState</a> <a id="2536" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2538" class="Symbol">_</a> <a id="2540" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a>

      <a id="2549" href="Ledger.Ledger.Properties.html#2549" class="Function">computeProof</a> <a id="2562" class="Symbol">:</a> <a id="2564" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="2582" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2589" class="Symbol">(</a><a id="2590" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="2593" href="Ledger.Ledger.Properties.html#2593" class="Bound">s&#39;</a> <a id="2596" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="2598" href="Ledger.Ledger.Properties.html#2141" class="Bound">Γ</a> <a id="2600" href="Ledger.Ledger.html#2581" class="Datatype Operator">⊢</a> <a id="2602" href="Ledger.Ledger.Properties.html#2178" class="Bound">s</a> <a id="2604" href="Ledger.Ledger.html#2581" class="Datatype Operator">⇀⦇</a> <a id="2607" href="Ledger.Ledger.Properties.html#2217" class="Bound">tx</a> <a id="2610" href="Ledger.Ledger.html#2581" class="Datatype Operator">,LEDGER⦈</a> <a id="2619" href="Ledger.Ledger.Properties.html#2593" class="Bound">s&#39;</a><a id="2621" class="Symbol">)</a>
      <a id="2629" href="Ledger.Ledger.Properties.html#2549" class="Function">computeProof</a> <a id="2642" class="Symbol">=</a> <a id="2644" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2649" href="Ledger.Transaction.html#4319" class="Field">isValid</a> <a id="2657" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="2659" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2664" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2667" class="Symbol">λ</a> <a id="2669" class="Keyword">where</a>
        <a id="2683" class="Symbol">(</a><a id="2684" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2688" href="Ledger.Ledger.Properties.html#2688" class="Bound">p</a><a id="2689" class="Symbol">)</a> <a id="2691" class="Symbol">→</a> <a id="2693" class="Keyword">do</a>
          <a id="2706" class="Symbol">(</a><a id="2707" href="Ledger.Ledger.Properties.html#2707" class="Bound">utxoSt&#39;</a> <a id="2715" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2717" href="Ledger.Ledger.Properties.html#2717" class="Bound">utxoStep</a><a id="2725" class="Symbol">)</a> <a id="2727" href="Class.Monad.Core.html#299" class="Field Operator">←</a> <a id="2729" href="Ledger.Ledger.Properties.html#1983" class="Function">computeUtxow</a> <a id="2742" href="Ledger.Ledger.Properties.html#2304" class="Function">utxoΓ</a> <a id="2748" href="Ledger.Ledger.html#868" class="Field">utxoSt</a> <a id="2755" href="Ledger.Ledger.Properties.html#2217" class="Bound">tx</a>
          <a id="2768" class="Symbol">(</a><a id="2769" href="Ledger.Ledger.Properties.html#2769" class="Bound">certSt&#39;</a> <a id="2777" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2779" href="Ledger.Ledger.Properties.html#2779" class="Bound">certStep</a><a id="2787" class="Symbol">)</a> <a id="2789" href="Class.Monad.Core.html#299" class="Field Operator">←</a> <a id="2791" href="Ledger.Ledger.Properties.html#2030" class="Function">computeCerts</a> <a id="2804" href="Ledger.Ledger.Properties.html#2346" class="Function">certΓ</a> <a id="2810" href="Ledger.Ledger.html#921" class="Field">certState</a> <a id="2820" href="Ledger.Transaction.html#2925" class="Function">txcerts</a>
          <a id="2838" class="Symbol">(</a><a id="2839" href="Ledger.Ledger.Properties.html#2839" class="Bound">govSt&#39;</a>  <a id="2847" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2849" href="Ledger.Ledger.Properties.html#2849" class="Bound">govStep</a><a id="2856" class="Symbol">)</a>  <a id="2859" href="Class.Monad.Core.html#299" class="Field Operator">←</a> <a id="2861" href="Ledger.Ledger.Properties.html#2077" class="Function">computeGov</a> <a id="2872" class="Symbol">(</a><a id="2873" href="Ledger.Ledger.Properties.html#2418" class="Function">govΓ</a> <a id="2878" href="Ledger.Ledger.Properties.html#2769" class="Bound">certSt&#39;</a><a id="2885" class="Symbol">)</a> <a id="2887" class="Symbol">(</a><a id="2888" href="Ledger.Ledger.html#1825" class="Function">rmOrphanDRepVotes</a> <a id="2906" href="Ledger.Ledger.Properties.html#2769" class="Bound">certSt&#39;</a> <a id="2914" href="Ledger.Ledger.html#895" class="Field">govSt</a><a id="2919" class="Symbol">)</a> <a id="2921" class="Symbol">(</a><a id="2922" href="Ledger.Ledger.html#1707" class="Function">txgov</a> <a id="2928" href="Ledger.Ledger.Properties.html#2263" class="Field">txb</a><a id="2931" class="Symbol">)</a>
          <a id="2943" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2951" class="Symbol">(_</a> <a id="2954" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2956" href="Ledger.Ledger.html#3584" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2966" href="Ledger.Ledger.Properties.html#2688" class="Bound">p</a> <a id="2968" href="Ledger.Ledger.Properties.html#2717" class="Bound">utxoStep</a> <a id="2977" href="Ledger.Ledger.Properties.html#2779" class="Bound">certStep</a> <a id="2986" href="Ledger.Ledger.Properties.html#2849" class="Bound">govStep</a><a id="2993" class="Symbol">)</a>
        <a id="3003" class="Symbol">(</a><a id="3004" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3007" href="Ledger.Ledger.Properties.html#3007" class="Bound">¬p</a><a id="3009" class="Symbol">)</a> <a id="3011" class="Symbol">→</a> <a id="3013" class="Keyword">do</a>
          <a id="3026" class="Symbol">(</a><a id="3027" href="Ledger.Ledger.Properties.html#3027" class="Bound">utxoSt&#39;</a> <a id="3035" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3037" href="Ledger.Ledger.Properties.html#3037" class="Bound">utxoStep</a><a id="3045" class="Symbol">)</a> <a id="3047" href="Class.Monad.Core.html#299" class="Field Operator">←</a> <a id="3049" href="Ledger.Ledger.Properties.html#1983" class="Function">computeUtxow</a> <a id="3062" href="Ledger.Ledger.Properties.html#2304" class="Function">utxoΓ</a> <a id="3068" href="Ledger.Ledger.html#868" class="Field">utxoSt</a> <a id="3075" href="Ledger.Ledger.Properties.html#2217" class="Bound">tx</a>
          <a id="3088" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3096" class="Symbol">(_</a> <a id="3099" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3101" href="Ledger.Ledger.html#3637" class="InductiveConstructor">LEDGER-I⋯</a> <a id="3111" class="Symbol">(</a><a id="3112" href="Data.Bool.Properties.html#15217" class="Function">¬-not</a> <a id="3118" href="Ledger.Ledger.Properties.html#3007" class="Bound">¬p</a><a id="3120" class="Symbol">)</a> <a id="3122" href="Ledger.Ledger.Properties.html#3037" class="Bound">utxoStep</a><a id="3130" class="Symbol">)</a>

      <a id="3139" href="Ledger.Ledger.Properties.html#3139" class="Function">completeness</a> <a id="3152" class="Symbol">:</a> <a id="3154" class="Symbol">∀</a> <a id="3156" href="Ledger.Ledger.Properties.html#3156" class="Bound">s&#39;</a> <a id="3159" class="Symbol">→</a> <a id="3161" href="Ledger.Ledger.Properties.html#2141" class="Bound">Γ</a> <a id="3163" href="Ledger.Ledger.html#2581" class="Datatype Operator">⊢</a> <a id="3165" href="Ledger.Ledger.Properties.html#2178" class="Bound">s</a> <a id="3167" href="Ledger.Ledger.html#2581" class="Datatype Operator">⇀⦇</a> <a id="3170" href="Ledger.Ledger.Properties.html#2217" class="Bound">tx</a> <a id="3173" href="Ledger.Ledger.html#2581" class="Datatype Operator">,LEDGER⦈</a> <a id="3182" href="Ledger.Ledger.Properties.html#3156" class="Bound">s&#39;</a> <a id="3185" class="Symbol">→</a> <a id="3187" class="Symbol">(</a><a id="3188" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3194" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="3198" href="Ledger.Ledger.Properties.html#2549" class="Function">computeProof</a><a id="3210" class="Symbol">)</a> <a id="3212" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3214" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3222" href="Ledger.Ledger.Properties.html#3156" class="Bound">s&#39;</a>
      <a id="3231" href="Ledger.Ledger.Properties.html#3139" class="Function">completeness</a> <a id="3244" href="Ledger.Ledger.Properties.html#3244" class="Bound">ledgerSt</a> <a id="3253" class="Symbol">(</a><a id="3254" href="Ledger.Ledger.html#3584" class="InductiveConstructor">LEDGER-V⋯</a> <a id="3264" href="Ledger.Ledger.Properties.html#3264" class="Bound">v</a> <a id="3266" href="Ledger.Ledger.Properties.html#3266" class="Bound">utxoStep</a> <a id="3275" href="Ledger.Ledger.Properties.html#3275" class="Bound">certStep</a> <a id="3284" href="Ledger.Ledger.Properties.html#3284" class="Bound">govStep</a><a id="3291" class="Symbol">)</a>
        <a id="3301" class="Keyword">with</a> <a id="3306" href="Ledger.Transaction.html#4319" class="Field">isValid</a> <a id="3314" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="3316" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3327" class="Symbol">...</a> <a id="3331" class="Symbol">|</a> <a id="3333" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3336" href="Ledger.Ledger.Properties.html#3336" class="Bound">¬v</a> <a id="3339" class="Symbol">=</a> <a id="3341" href="Relation.Nullary.Negation.Core.html#1270" class="Function">contradiction</a> <a id="3355" class="Bound">v</a> <a id="3357" href="Ledger.Ledger.Properties.html#3336" class="Bound">¬v</a>
      <a id="3366" class="Symbol">...</a> <a id="3370" class="Symbol">|</a> <a id="3372" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3376" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="3389" class="Keyword">with</a> <a id="3394" href="Ledger.Ledger.Properties.html#1983" class="Function">computeUtxow</a> <a id="3407" href="Ledger.Ledger.Properties.html#2304" class="Function">utxoΓ</a> <a id="3413" href="Ledger.Ledger.html#868" class="Field">utxoSt</a> <a id="3420" href="Ledger.Ledger.Properties.html#2217" class="Bound">tx</a> <a id="3423" class="Symbol">|</a> <a id="3425" href="Ledger.Ledger.Properties.html#1969" class="Field">complete</a> <a id="3434" class="Symbol">_</a> <a id="3436" class="Symbol">_</a> <a id="3438" class="Symbol">_</a> <a id="3440" class="Symbol">_</a> <a id="3442" class="Bound">utxoStep</a>
      <a id="3457" class="Symbol">...</a> <a id="3461" class="Symbol">|</a> <a id="3463" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3471" class="Symbol">(</a><a id="3472" href="Ledger.Ledger.Properties.html#3472" class="Bound">utxoSt&#39;</a> <a id="3480" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3482" class="Symbol">_)</a> <a id="3485" class="Symbol">|</a> <a id="3487" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="3500" class="Keyword">with</a> <a id="3505" href="Ledger.Ledger.Properties.html#2030" class="Function">computeCerts</a> <a id="3518" href="Ledger.Ledger.Properties.html#2346" class="Function">certΓ</a> <a id="3524" href="Ledger.Ledger.html#921" class="Field">certState</a> <a id="3534" href="Ledger.Transaction.html#2925" class="Function">txcerts</a> <a id="3542" class="Symbol">|</a> <a id="3544" href="Ledger.Ledger.Properties.html#1969" class="Field">complete</a> <a id="3553" class="Symbol">_</a> <a id="3555" class="Symbol">_</a> <a id="3557" class="Symbol">_</a> <a id="3559" class="Symbol">_</a> <a id="3561" class="Bound">certStep</a>
      <a id="3576" class="Symbol">...</a> <a id="3580" class="Symbol">|</a> <a id="3582" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3590" class="Symbol">(</a><a id="3591" href="Ledger.Ledger.Properties.html#3591" class="Bound">certSt&#39;</a> <a id="3599" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3601" class="Symbol">_)</a> <a id="3604" class="Symbol">|</a> <a id="3606" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="3619" class="Keyword">with</a> <a id="3624" href="Ledger.Ledger.Properties.html#2077" class="Function">computeGov</a> <a id="3635" class="Symbol">(</a><a id="3636" href="Ledger.Ledger.Properties.html#2418" class="Function">govΓ</a> <a id="3641" href="Ledger.Ledger.Properties.html#3591" class="Bound">certSt&#39;</a><a id="3648" class="Symbol">)</a> <a id="3650" class="Symbol">(</a><a id="3651" href="Ledger.Ledger.html#1825" class="Function">rmOrphanDRepVotes</a> <a id="3669" href="Ledger.Ledger.Properties.html#3591" class="Bound">certSt&#39;</a> <a id="3677" href="Ledger.Ledger.html#895" class="Field">govSt</a> <a id="3683" class="Symbol">)</a> <a id="3685" class="Symbol">(</a><a id="3686" href="Ledger.Ledger.html#1707" class="Function">txgov</a> <a id="3692" href="Ledger.Ledger.Properties.html#2263" class="Field">txb</a><a id="3695" class="Symbol">)</a> <a id="3697" class="Symbol">|</a> <a id="3699" href="Ledger.Ledger.Properties.html#1969" class="Field">complete</a> <a id="3708" class="Symbol">{</a><a id="3709" class="Argument">STS</a> <a id="3713" class="Symbol">=</a> <a id="3715" href="Ledger.Gov.html#6856" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="3728" class="Symbol">}</a> <a id="3730" class="Symbol">(</a><a id="3731" href="Ledger.Ledger.Properties.html#2418" class="Function">govΓ</a> <a id="3736" href="Ledger.Ledger.Properties.html#3591" class="Bound">certSt&#39;</a><a id="3743" class="Symbol">)</a> <a id="3745" class="Symbol">_</a> <a id="3747" class="Symbol">_</a> <a id="3749" class="Symbol">_</a> <a id="3751" class="Bound">govStep</a>
      <a id="3765" class="Symbol">...</a> <a id="3769" class="Symbol">|</a> <a id="3771" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3779" class="Symbol">(</a><a id="3780" href="Ledger.Ledger.Properties.html#3780" class="Bound">govSt&#39;</a> <a id="3787" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3789" class="Symbol">_)</a> <a id="3792" class="Symbol">|</a> <a id="3794" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3799" class="Symbol">=</a> <a id="3801" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="3812" href="Ledger.Ledger.Properties.html#3139" class="Function">completeness</a> <a id="3825" href="Ledger.Ledger.Properties.html#3825" class="Bound">ledgerSt</a> <a id="3834" class="Symbol">(</a><a id="3835" href="Ledger.Ledger.html#3637" class="InductiveConstructor">LEDGER-I⋯</a> <a id="3845" href="Ledger.Ledger.Properties.html#3845" class="Bound">i</a> <a id="3847" href="Ledger.Ledger.Properties.html#3847" class="Bound">utxoStep</a><a id="3855" class="Symbol">)</a>
        <a id="3865" class="Keyword">with</a> <a id="3870" href="Ledger.Transaction.html#4319" class="Field">isValid</a> <a id="3878" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="3880" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3891" class="Symbol">...</a> <a id="3895" class="Symbol">|</a> <a id="3897" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3901" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3906" class="Symbol">=</a> <a id="3908" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3913" class="Bound">i</a> <a id="3915" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3918" class="Symbol">λ</a> <a id="3920" class="Symbol">()</a>
      <a id="3929" class="Symbol">...</a> <a id="3933" class="Symbol">|</a> <a id="3935" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3938" href="Ledger.Ledger.Properties.html#3938" class="Bound">¬v</a>
        <a id="3949" class="Keyword">with</a> <a id="3954" href="Ledger.Ledger.Properties.html#1983" class="Function">computeUtxow</a> <a id="3967" href="Ledger.Ledger.Properties.html#2304" class="Function">utxoΓ</a> <a id="3973" href="Ledger.Ledger.html#868" class="Field">utxoSt</a> <a id="3980" href="Ledger.Ledger.Properties.html#2217" class="Bound">tx</a> <a id="3983" class="Symbol">|</a> <a id="3985" href="Ledger.Ledger.Properties.html#1969" class="Field">complete</a> <a id="3994" class="Symbol">_</a> <a id="3996" class="Symbol">_</a> <a id="3998" class="Symbol">_</a> <a id="4000" class="Symbol">_</a> <a id="4002" class="Bound">utxoStep</a>
      <a id="4017" class="Symbol">...</a> <a id="4021" class="Symbol">|</a> <a id="4023" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="4031" class="Symbol">(</a><a id="4032" href="Ledger.Ledger.Properties.html#4032" class="Bound">utxoSt&#39;</a> <a id="4040" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4042" class="Symbol">_)</a> <a id="4045" class="Symbol">|</a> <a id="4047" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4052" class="Symbol">=</a> <a id="4054" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="Computational-LEDGERS"></a><a id="4060" href="Ledger.Ledger.Properties.html#4060" class="Function">Computational-LEDGERS</a> <a id="4082" class="Symbol">:</a> <a id="4084" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="4098" href="Ledger.Ledger.html#3676" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4115" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="4122" href="Ledger.Ledger.Properties.html#4060" class="Function">Computational-LEDGERS</a> <a id="4144" class="Symbol">=</a> <a id="4146" href="Function.Base.html#4736" class="Function">it</a>

<a id="4150" class="Keyword">instance</a>
  <a id="HasCoin-LState"></a><a id="4161" href="Ledger.Ledger.Properties.html#4161" class="Function">HasCoin-LState</a> <a id="4176" class="Symbol">:</a> <a id="4178" href="Ledger.Interface.HasCoin.html#124" class="Record">HasCoin</a> <a id="4186" href="Ledger.Ledger.html#809" class="Record">LState</a>
  <a id="4195" href="Ledger.Ledger.Properties.html#4161" class="Function">HasCoin-LState</a> <a id="4210" class="Symbol">.</a><a id="4211" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4219" href="Ledger.Ledger.Properties.html#4219" class="Bound">s</a> <a id="4221" class="Symbol">=</a> <a id="4223" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4231" class="Symbol">(</a><a id="4232" href="Ledger.Ledger.html#868" class="Field">LState.utxoSt</a> <a id="4246" href="Ledger.Ledger.Properties.html#4219" class="Bound">s</a><a id="4247" class="Symbol">)</a> <a id="4249" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4251" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4259" class="Symbol">(</a><a id="4260" href="Ledger.Ledger.html#921" class="Field">LState.certState</a> <a id="4277" href="Ledger.Ledger.Properties.html#4219" class="Bound">s</a><a id="4278" class="Symbol">)</a>

<a id="4281" class="Comment">-- ** Proof that LEDGER preserves values.</a>

<a id="FreshTx"></a><a id="4324" href="Ledger.Ledger.Properties.html#4324" class="Function">FreshTx</a> <a id="4332" class="Symbol">:</a> <a id="4334" href="Ledger.Transaction.html#4234" class="Record">Tx</a> <a id="4337" class="Symbol">→</a> <a id="4339" href="Ledger.Ledger.html#809" class="Record">LState</a> <a id="4346" class="Symbol">→</a> <a id="4348" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="4353" href="Ledger.Ledger.Properties.html#4324" class="Function">FreshTx</a> <a id="4361" href="Ledger.Ledger.Properties.html#4361" class="Bound">tx</a> <a id="4364" href="Ledger.Ledger.Properties.html#4364" class="Bound">ls</a> <a id="4367" class="Symbol">=</a> <a id="4369" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="4374" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4376" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="4381" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4387" class="Symbol">(</a><a id="4388" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4392" class="Symbol">(</a><a id="4393" href="Ledger.Transaction.html#2634" class="Field">UTxOOf</a> <a id="4400" href="Ledger.Ledger.Properties.html#4364" class="Bound">ls</a><a id="4402" class="Symbol">))</a>
  <a id="4407" class="Keyword">where</a> <a id="4413" class="Keyword">open</a> <a id="4418" href="Ledger.Transaction.html#4234" class="Module">Tx</a> <a id="4421" href="Ledger.Ledger.Properties.html#4361" class="Bound">tx</a><a id="4423" class="Symbol">;</a> <a id="4425" class="Keyword">open</a> <a id="4430" href="Ledger.Transaction.html#2691" class="Module">TxBody</a> <a id="4437" href="Ledger.Transaction.html#4266" class="Function">body</a><a id="4441" class="Symbol">;</a> <a id="4443" class="Keyword">open</a> <a id="4448" href="Ledger.Utxo.html#2561" class="Module">UTxOState</a><a id="4457" class="Symbol">;</a> <a id="4459" class="Keyword">open</a> <a id="4464" href="Ledger.Ledger.html#809" class="Module">LState</a>

<a id="4472" class="Keyword">module</a> <a id="4479" href="Ledger.Ledger.Properties.html#4479" class="Module">_</a>
  <a id="4483" class="Symbol">(</a><a id="4484" href="Ledger.Ledger.Properties.html#4484" class="Bound">tx</a> <a id="4487" class="Symbol">:</a> <a id="4489" href="Ledger.Transaction.html#4234" class="Record">Tx</a><a id="4491" class="Symbol">)</a> <a id="4493" class="Symbol">(</a><a id="4494" class="Keyword">let</a> <a id="4498" class="Keyword">open</a> <a id="4503" href="Ledger.Transaction.html#4234" class="Module">Tx</a> <a id="4506" href="Ledger.Ledger.Properties.html#4484" class="Bound">tx</a><a id="4508" class="Symbol">;</a> <a id="4510" class="Keyword">open</a> <a id="4515" href="Ledger.Transaction.html#2691" class="Module">TxBody</a> <a id="4522" href="Ledger.Transaction.html#4266" class="Field">body</a><a id="4526" class="Symbol">)</a>
  <a id="4530" class="Symbol">(</a> <a id="4532" href="Ledger.Ledger.Properties.html#4532" class="Bound">indexedSumᵛ&#39;-∪</a>  <a id="4548" class="Symbol">:</a>  <a id="4551" class="Symbol">{</a><a id="4552" href="Ledger.Ledger.Properties.html#4552" class="Bound">A</a> <a id="4554" class="Symbol">:</a> <a id="4556" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="4560" class="Symbol">}</a> <a id="4562" class="Symbol">⦃</a> <a id="4564" href="Ledger.Ledger.Properties.html#4564" class="Bound">_</a> <a id="4566" class="Symbol">:</a> <a id="4568" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="4574" href="Ledger.Ledger.Properties.html#4552" class="Bound">A</a> <a id="4576" class="Symbol">⦄</a> <a id="4578" class="Symbol">(</a><a id="4579" href="Ledger.Ledger.Properties.html#4579" class="Bound">m</a> <a id="4581" href="Ledger.Ledger.Properties.html#4581" class="Bound">m&#39;</a> <a id="4584" class="Symbol">:</a> <a id="4586" href="Ledger.Ledger.Properties.html#4552" class="Bound">A</a> <a id="4588" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4590" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="4594" class="Symbol">)</a>
                       <a id="4619" class="Symbol">→</a> <a id="4621" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="4630" class="Symbol">(</a><a id="4631" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4635" href="Ledger.Ledger.Properties.html#4579" class="Bound">m</a><a id="4636" class="Symbol">)</a> <a id="4638" class="Symbol">(</a><a id="4639" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4643" href="Ledger.Ledger.Properties.html#4581" class="Bound">m&#39;</a><a id="4645" class="Symbol">)</a> <a id="4647" class="Symbol">→</a> <a id="4649" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4657" class="Symbol">(</a><a id="4658" href="Ledger.Ledger.Properties.html#4579" class="Bound">m</a> <a id="4660" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="4663" href="Ledger.Ledger.Properties.html#4581" class="Bound">m&#39;</a><a id="4665" class="Symbol">)</a> <a id="4667" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4669" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4677" href="Ledger.Ledger.Properties.html#4579" class="Bound">m</a> <a id="4679" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4681" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4689" href="Ledger.Ledger.Properties.html#4581" class="Bound">m&#39;</a> <a id="4692" class="Symbol">)</a>
  <a id="4696" class="Symbol">(</a> <a id="4698" href="Ledger.Ledger.Properties.html#4698" class="Bound">sumConstZero</a>    <a id="4714" class="Symbol">:</a>  <a id="4717" class="Symbol">{</a><a id="4718" href="Ledger.Ledger.Properties.html#4718" class="Bound">A</a> <a id="4720" class="Symbol">:</a> <a id="4722" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="4726" class="Symbol">}</a> <a id="4728" class="Symbol">⦃</a> <a id="4730" href="Ledger.Ledger.Properties.html#4730" class="Bound">_</a> <a id="4732" class="Symbol">:</a> <a id="4734" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="4740" href="Ledger.Ledger.Properties.html#4718" class="Bound">A</a> <a id="4742" class="Symbol">⦄</a> <a id="4744" class="Symbol">{</a><a id="4745" href="Ledger.Ledger.Properties.html#4745" class="Bound">X</a> <a id="4747" class="Symbol">:</a> <a id="4749" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4751" href="Ledger.Ledger.Properties.html#4718" class="Bound">A</a><a id="4752" class="Symbol">}</a> <a id="4754" class="Symbol">→</a> <a id="4756" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4764" class="Symbol">(</a><a id="4765" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="4774" href="Ledger.Ledger.Properties.html#4745" class="Bound">X</a> <a id="4776" class="Number">0</a><a id="4777" class="Symbol">)</a> <a id="4779" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4781" class="Number">0</a> <a id="4783" class="Symbol">)</a>
  <a id="4787" class="Symbol">(</a> <a id="4789" href="Ledger.Ledger.Properties.html#4789" class="Bound">res-decomp</a>      <a id="4805" class="Symbol">:</a>  <a id="4808" class="Symbol">{</a><a id="4809" href="Ledger.Ledger.Properties.html#4809" class="Bound">A</a> <a id="4811" class="Symbol">:</a> <a id="4813" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="4817" class="Symbol">}</a> <a id="4819" class="Symbol">⦃</a> <a id="4821" href="Ledger.Ledger.Properties.html#4821" class="Bound">_</a> <a id="4823" class="Symbol">:</a> <a id="4825" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="4831" href="Ledger.Ledger.Properties.html#4809" class="Bound">A</a> <a id="4833" class="Symbol">⦄</a> <a id="4835" class="Symbol">(</a><a id="4836" href="Ledger.Ledger.Properties.html#4836" class="Bound">m</a> <a id="4838" href="Ledger.Ledger.Properties.html#4838" class="Bound">m&#39;</a> <a id="4841" class="Symbol">:</a> <a id="4843" href="Ledger.Ledger.Properties.html#4809" class="Bound">A</a> <a id="4845" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4847" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="4851" class="Symbol">)</a>
                       <a id="4876" class="Symbol">→</a> <a id="4878" class="Symbol">(</a><a id="4879" href="Ledger.Ledger.Properties.html#4836" class="Bound">m</a> <a id="4881" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="4884" href="Ledger.Ledger.Properties.html#4838" class="Bound">m&#39;</a><a id="4886" class="Symbol">)</a><a id="4887" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="4889" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="4892" class="Symbol">(</a><a id="4893" href="Ledger.Ledger.Properties.html#4836" class="Bound">m</a> <a id="4895" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="4898" class="Symbol">(</a><a id="4899" href="Ledger.Ledger.Properties.html#4838" class="Bound">m&#39;</a> <a id="4902" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="4904" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4908" class="Symbol">(</a><a id="4909" href="Ledger.Ledger.Properties.html#4836" class="Bound">m</a> <a id="4911" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="4912" class="Symbol">)</a> <a id="4914" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="4915" class="Symbol">))</a><a id="4917" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="4919" class="Symbol">)</a>
  <a id="4923" class="Symbol">(</a> <a id="4925" href="Ledger.Ledger.Properties.html#4925" class="Bound">getCoin-cong</a>    <a id="4941" class="Symbol">:</a>  <a id="4944" class="Symbol">{</a><a id="4945" href="Ledger.Ledger.Properties.html#4945" class="Bound">A</a> <a id="4947" class="Symbol">:</a> <a id="4949" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="4953" class="Symbol">}</a> <a id="4955" class="Symbol">⦃</a> <a id="4957" href="Ledger.Ledger.Properties.html#4957" class="Bound">_</a> <a id="4959" class="Symbol">:</a> <a id="4961" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="4967" href="Ledger.Ledger.Properties.html#4945" class="Bound">A</a> <a id="4969" class="Symbol">⦄</a> <a id="4971" class="Symbol">(</a><a id="4972" href="Ledger.Ledger.Properties.html#4972" class="Bound">s</a> <a id="4974" class="Symbol">:</a> <a id="4976" href="Ledger.Ledger.Properties.html#4945" class="Bound">A</a> <a id="4978" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4980" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="4984" class="Symbol">)</a> <a id="4986" class="Symbol">(</a><a id="4987" href="Ledger.Ledger.Properties.html#4987" class="Bound">s&#39;</a> <a id="4990" class="Symbol">:</a> <a id="4992" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4994" class="Symbol">(</a><a id="4995" href="Ledger.Ledger.Properties.html#4945" class="Bound">A</a> <a id="4997" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4999" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="5003" class="Symbol">))</a> <a id="5006" class="Symbol">→</a> <a id="5008" href="Ledger.Ledger.Properties.html#4972" class="Bound">s</a> <a id="5010" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="5012" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="5015" href="Ledger.Ledger.Properties.html#4987" class="Bound">s&#39;</a>
                       <a id="5041" class="Symbol">→</a> <a id="5043" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="5055" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5061" class="Symbol">(</a><a id="5062" href="Ledger.Ledger.Properties.html#4972" class="Bound">s</a> <a id="5064" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="5065" class="Symbol">)</a> <a id="5067" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5069" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="5081" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5087" href="Ledger.Ledger.Properties.html#4987" class="Bound">s&#39;</a> <a id="5090" class="Symbol">)</a>
  <a id="5094" class="Symbol">(</a> <a id="5096" href="Ledger.Ledger.Properties.html#5096" class="Bound">≡ᵉ-getCoinˢ</a>     <a id="5112" class="Symbol">:</a>  <a id="5115" class="Symbol">{</a><a id="5116" href="Ledger.Ledger.Properties.html#5116" class="Bound">A</a> <a id="5118" href="Ledger.Ledger.Properties.html#5118" class="Bound">A&#39;</a> <a id="5121" class="Symbol">:</a> <a id="5123" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="5127" class="Symbol">}</a> <a id="5129" class="Symbol">⦃</a> <a id="5131" href="Ledger.Ledger.Properties.html#5131" class="Bound">_</a> <a id="5133" class="Symbol">:</a> <a id="5135" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="5141" href="Ledger.Ledger.Properties.html#5116" class="Bound">A</a> <a id="5143" class="Symbol">⦄</a> <a id="5145" class="Symbol">⦃</a> <a id="5147" href="Ledger.Ledger.Properties.html#5147" class="Bound">_</a> <a id="5149" class="Symbol">:</a> <a id="5151" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="5157" href="Ledger.Ledger.Properties.html#5118" class="Bound">A&#39;</a> <a id="5160" class="Symbol">⦄</a> <a id="5162" class="Symbol">(</a><a id="5163" href="Ledger.Ledger.Properties.html#5163" class="Bound">s</a> <a id="5165" class="Symbol">:</a> <a id="5167" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5169" class="Symbol">(</a><a id="5170" href="Ledger.Ledger.Properties.html#5116" class="Bound">A</a> <a id="5172" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5174" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="5178" class="Symbol">))</a> <a id="5181" class="Symbol">{</a><a id="5182" href="Ledger.Ledger.Properties.html#5182" class="Bound">f</a> <a id="5184" class="Symbol">:</a> <a id="5186" href="Ledger.Ledger.Properties.html#5116" class="Bound">A</a> <a id="5188" class="Symbol">→</a> <a id="5190" href="Ledger.Ledger.Properties.html#5118" class="Bound">A&#39;</a><a id="5192" class="Symbol">}</a>
                       <a id="5217" class="Symbol">→</a> <a id="5219" href="Axiom.Set.Map.html#5071" class="Function">InjectiveOn</a> <a id="5231" class="Symbol">(</a><a id="5232" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5236" href="Ledger.Ledger.Properties.html#5163" class="Bound">s</a><a id="5237" class="Symbol">)</a> <a id="5239" href="Ledger.Ledger.Properties.html#5182" class="Bound">f</a> <a id="5241" class="Symbol">→</a> <a id="5243" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="5251" class="Symbol">(</a><a id="5252" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="5257" class="Symbol">(</a><a id="5258" href="Class.Bifunctor.html#1045" class="Function">map₁</a> <a id="5263" href="Ledger.Ledger.Properties.html#5182" class="Bound">f</a><a id="5264" class="Symbol">)</a> <a id="5266" href="Ledger.Ledger.Properties.html#5163" class="Bound">s</a><a id="5267" class="Symbol">)</a> <a id="5269" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5271" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="5279" href="Ledger.Ledger.Properties.html#5163" class="Bound">s</a> <a id="5281" class="Symbol">)</a>
  <a id="5285" class="Keyword">where</a>

  <a id="5294" class="Keyword">private</a> <a id="5302" class="Keyword">variable</a>
    <a id="5315" href="Ledger.Ledger.Properties.html#5315" class="Generalizable">Γ</a> <a id="5317" class="Symbol">:</a> <a id="5319" href="Ledger.Ledger.html#545" class="Record">LEnv</a>
    <a id="5328" href="Ledger.Ledger.Properties.html#5328" class="Generalizable">l</a> <a id="5330" class="Symbol">:</a> <a id="5332" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5337" href="Ledger.Transaction.html#4234" class="Record">Tx</a>

  <a id="5343" class="Keyword">pattern</a> <a id="5351" href="Ledger.Ledger.Properties.html#5351" class="InductiveConstructor">UTXO-induction</a> <a id="5366" href="Ledger.Ledger.Properties.html#5418" class="Bound">r</a> <a id="5368" class="Symbol">=</a> <a id="5370" href="Ledger.Utxo.html#15269" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="5386" class="Symbol">_</a> <a id="5388" class="Symbol">_</a> <a id="5390" class="Symbol">_</a> <a id="5392" class="Symbol">_</a> <a id="5394" class="Symbol">_</a> <a id="5396" class="Symbol">_</a> <a id="5398" class="Symbol">_</a> <a id="5400" class="Symbol">_</a> <a id="5402" class="Symbol">_</a> <a id="5404" class="Symbol">_</a> <a id="5406" class="Symbol">_</a> <a id="5408" class="Symbol">_</a> <a id="5410" class="Symbol">_</a> <a id="5412" class="Symbol">_</a> <a id="5414" class="Symbol">_</a> <a id="5416" class="Symbol">_</a> <a id="5418" href="Ledger.Ledger.Properties.html#5418" class="Bound">r</a> <a id="5420" class="Symbol">_</a> <a id="5422" class="Symbol">_</a> <a id="5424" class="Symbol">_</a>

  <a id="5429" href="Ledger.Ledger.Properties.html#5429" class="Function">LEDGER-pov</a> <a id="5440" class="Symbol">:</a>  <a id="5443" class="Symbol">{</a><a id="5444" href="Ledger.Ledger.Properties.html#5444" class="Bound">s</a> <a id="5446" href="Ledger.Ledger.Properties.html#5446" class="Bound">s&#39;</a> <a id="5449" class="Symbol">:</a> <a id="5451" href="Ledger.Ledger.html#809" class="Record">LState</a><a id="5457" class="Symbol">}</a> <a id="5459" class="Symbol">→</a> <a id="5461" href="Ledger.Ledger.Properties.html#4324" class="Function">FreshTx</a> <a id="5469" href="Ledger.Ledger.Properties.html#4484" class="Bound">tx</a> <a id="5472" href="Ledger.Ledger.Properties.html#5444" class="Bound">s</a> <a id="5474" class="Symbol">→</a> <a id="5476" href="Ledger.Ledger.Properties.html#5315" class="Generalizable">Γ</a> <a id="5478" href="Ledger.Ledger.html#2581" class="Datatype Operator">⊢</a> <a id="5480" href="Ledger.Ledger.Properties.html#5444" class="Bound">s</a> <a id="5482" href="Ledger.Ledger.html#2581" class="Datatype Operator">⇀⦇</a> <a id="5485" href="Ledger.Ledger.Properties.html#4484" class="Bound">tx</a> <a id="5488" href="Ledger.Ledger.html#2581" class="Datatype Operator">,LEDGER⦈</a> <a id="5497" href="Ledger.Ledger.Properties.html#5446" class="Bound">s&#39;</a>
                <a id="5516" class="Symbol">→</a> <a id="5518" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="5526" href="Ledger.Ledger.Properties.html#5444" class="Bound">s</a> <a id="5528" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5530" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="5538" href="Ledger.Ledger.Properties.html#5446" class="Bound">s&#39;</a>
  <a id="5543" href="Ledger.Ledger.Properties.html#5429" class="Function">LEDGER-pov</a>
    <a id="5558" class="Symbol">{</a><a id="5559" class="Argument">s</a>  <a id="5562" class="Symbol">=</a> <a id="5564" href="Ledger.Ledger.Properties.html#5564" class="Bound">s</a><a id="5565" class="Symbol">}</a>
    <a id="5571" class="Symbol">{</a><a id="5572" class="Argument">s&#39;</a> <a id="5575" class="Symbol">=</a> <a id="5577" href="Ledger.Ledger.Properties.html#5577" class="Bound">s&#39;</a><a id="5579" class="Symbol">}</a>
    <a id="5585" href="Ledger.Ledger.Properties.html#5585" class="Bound">h</a> <a id="5587" class="Symbol">(</a><a id="5588" href="Ledger.Ledger.html#2643" class="InductiveConstructor">LEDGER-V</a> <a id="5597" class="Symbol">{</a><a id="5598" class="Argument">utxoSt&#39;</a> <a id="5606" class="Symbol">=</a> <a id="5608" href="Ledger.Ledger.Properties.html#5608" class="Bound">utxoSt&#39;&#39;</a><a id="5616" class="Symbol">}</a> <a id="5618" class="Symbol">(</a> <a id="5620" href="Ledger.Ledger.Properties.html#5620" class="Bound">valid</a> <a id="5626" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5628" href="Ledger.Utxow.html#5375" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="5639" href="Ledger.Ledger.Properties.html#5639" class="Bound">st</a><a id="5641" class="Symbol">@(</a><a id="5643" href="Ledger.Ledger.Properties.html#5351" class="InductiveConstructor">UTXO-induction</a> <a id="5658" href="Ledger.Ledger.Properties.html#5658" class="Bound">r</a><a id="5659" class="Symbol">)</a> <a id="5661" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5663" href="Ledger.Ledger.Properties.html#5663" class="Bound">h&#39;</a> <a id="5666" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5668" class="Symbol">_</a> <a id="5670" class="Symbol">))</a> <a id="5673" class="Symbol">=</a>
    <a id="5679" class="Keyword">let</a>
      <a id="5689" class="Keyword">open</a> <a id="5694" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="5701" href="Ledger.Ledger.Properties.html#5564" class="Bound">s</a>
      <a id="5709" class="Keyword">open</a> <a id="5714" href="Ledger.Certs.html#3897" class="Module">CertState</a> <a id="5724" href="Ledger.Ledger.html#921" class="Function">certState</a>
      <a id="5740" class="Keyword">open</a> <a id="5745" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="5752" href="Ledger.Ledger.Properties.html#5577" class="Bound">s&#39;</a> <a id="5755" class="Keyword">renaming</a> <a id="5764" class="Symbol">(</a><a id="5765" href="Ledger.Ledger.html#868" class="Field">utxoSt</a> <a id="5772" class="Symbol">to</a> <a id="5775" class="Field">utxoSt&#39;</a><a id="5782" class="Symbol">;</a> <a id="5784" href="Ledger.Ledger.html#895" class="Field">govSt</a> <a id="5790" class="Symbol">to</a> <a id="5793" class="Field">govSt&#39;</a><a id="5799" class="Symbol">;</a> <a id="5801" href="Ledger.Ledger.html#921" class="Field">certState</a> <a id="5811" class="Symbol">to</a> <a id="5814" class="Field">certState&#39;</a><a id="5824" class="Symbol">)</a>
      <a id="5832" class="Keyword">open</a> <a id="5837" href="Ledger.Certs.html#3897" class="Module">CertState</a> <a id="5847" href="Ledger.Ledger.Properties.html#5814" class="Function">certState&#39;</a>
      <a id="5864" class="Keyword">open</a> <a id="5869" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>
      <a id="5887" class="Keyword">open</a> <a id="5892" href="Ledger.Certs.Properties.html#11904" class="Module">CERTSpov</a> <a id="5901" href="Ledger.Ledger.Properties.html#4532" class="Bound">indexedSumᵛ&#39;-∪</a> <a id="5916" href="Ledger.Ledger.Properties.html#4698" class="Bound">sumConstZero</a> <a id="5929" href="Ledger.Ledger.Properties.html#4789" class="Bound">res-decomp</a>  <a id="5941" href="Ledger.Ledger.Properties.html#4925" class="Bound">getCoin-cong</a> <a id="5954" href="Ledger.Ledger.Properties.html#5096" class="Bound">≡ᵉ-getCoinˢ</a> <a id="5966" href="Ledger.Ledger.Properties.html#5658" class="Bound">r</a>
      <a id="5974" class="Comment">-- certState  = ⟦ stᵈ , stᵖ , stᵍ ⟧ᶜˢ</a>
      <a id="6018" class="Comment">-- certState&#39; = ⟦ stᵈ&#39; , stᵖ&#39; , stᵍ&#39; ⟧ᶜˢ</a>
      <a id="6065" href="Ledger.Ledger.Properties.html#6065" class="Bound">zeroMap</a>    <a id="6076" class="Symbol">=</a> <a id="6078" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="6087" class="Symbol">(</a><a id="6088" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="6093" href="Ledger.Address.html#1390" class="Field">RwdAddr.stake</a> <a id="6107" class="Symbol">(</a><a id="6108" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6112" href="Ledger.Transaction.html#2959" class="Function">txwdrls</a><a id="6119" class="Symbol">))</a> <a id="6122" class="Number">0</a>
    <a id="6128" class="Keyword">in</a>
    <a id="6135" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="6147" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6155" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="6162" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6164" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6172" href="Ledger.Ledger.html#921" class="Function">certState</a>
        <a id="6190" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="6193" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="6198" class="Symbol">(</a><a id="6199" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6207" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="6214" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="6216" class="Symbol">)</a> <a id="6218" class="Symbol">(</a><a id="6219" href="Ledger.Certs.Properties.html#15784" class="Function">CERTS-pov</a> <a id="6229" href="Ledger.Ledger.Properties.html#5663" class="Bound">h&#39;</a><a id="6231" class="Symbol">)</a> <a id="6233" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="6241" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6249" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="6256" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6258" class="Symbol">(</a><a id="6259" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6267" href="Ledger.Ledger.Properties.html#5814" class="Function">certState&#39;</a> <a id="6278" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6280" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6288" href="Ledger.Transaction.html#2959" class="Function">txwdrls</a><a id="6295" class="Symbol">)</a>
        <a id="6305" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="6309" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="6314" class="Symbol">(λ</a> <a id="6317" href="Ledger.Ledger.Properties.html#6317" class="Bound">u</a> <a id="6319" class="Symbol">→</a> <a id="6321" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6329" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="6336" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6338" class="Symbol">(</a><a id="6339" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6347" href="Ledger.Ledger.Properties.html#5814" class="Function">certState&#39;</a> <a id="6358" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6360" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a> <a id="6362" class="Symbol">(</a><a id="6363" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6371" href="Ledger.Transaction.html#2959" class="Function">txwdrls</a> <a id="6379" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6381" href="Ledger.Ledger.Properties.html#6317" class="Bound">u</a><a id="6382" class="Symbol">)))</a> <a id="6386" href="Ledger.Ledger.Properties.html#5620" class="Bound">valid</a> <a id="6392" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="6400" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6408" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="6415" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6417" class="Symbol">(</a><a id="6418" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6426" href="Ledger.Ledger.Properties.html#5814" class="Function">certState&#39;</a> <a id="6437" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6439" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a> <a id="6441" class="Symbol">(</a><a id="6442" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6450" href="Ledger.Transaction.html#2959" class="Function">txwdrls</a> <a id="6458" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6460" href="Ledger.Transaction.html#4319" class="Field">isValid</a><a id="6467" class="Symbol">))</a>
        <a id="6478" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="6481" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="6486" class="Symbol">(</a><a id="6487" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6495" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="6502" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="6504" class="Symbol">)</a> <a id="6506" class="Symbol">(</a><a id="6507" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="6514" class="Symbol">(</a><a id="6515" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6523" href="Ledger.Ledger.Properties.html#5814" class="Function">certState&#39;</a><a id="6533" class="Symbol">)</a> <a id="6535" class="Symbol">_)</a> <a id="6538" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="6546" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6554" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="6561" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6563" class="Symbol">(</a><a id="6564" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a> <a id="6566" class="Symbol">(</a><a id="6567" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6575" href="Ledger.Transaction.html#2959" class="Function">txwdrls</a> <a id="6583" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6585" href="Ledger.Transaction.html#4319" class="Field">isValid</a><a id="6592" class="Symbol">)</a> <a id="6594" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6596" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6604" href="Ledger.Ledger.Properties.html#5814" class="Function">certState&#39;</a><a id="6614" class="Symbol">)</a>
        <a id="6624" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="6628" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="6636" class="Symbol">(</a><a id="6637" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6645" href="Ledger.Ledger.html#868" class="Function">utxoSt</a><a id="6651" class="Symbol">)</a> <a id="6653" class="Symbol">(</a><a id="6654" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a> <a id="6656" class="Symbol">(</a><a id="6657" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6665" href="Ledger.Transaction.html#2959" class="Function">txwdrls</a> <a id="6673" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6675" href="Ledger.Transaction.html#4319" class="Field">isValid</a><a id="6682" class="Symbol">))</a> <a id="6685" class="Symbol">(</a><a id="6686" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6694" href="Ledger.Ledger.Properties.html#5814" class="Function">certState&#39;</a><a id="6704" class="Symbol">)</a> <a id="6706" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="6714" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6722" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="6729" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6731" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a> <a id="6733" class="Symbol">(</a><a id="6734" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6742" href="Ledger.Transaction.html#2959" class="Function">txwdrls</a> <a id="6750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6752" href="Ledger.Transaction.html#4319" class="Field">isValid</a><a id="6759" class="Symbol">)</a> <a id="6761" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6763" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6771" href="Ledger.Ledger.Properties.html#5814" class="Function">certState&#39;</a>
        <a id="6790" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="6793" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="6798" class="Symbol">(</a><a id="6799" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="6802" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6810" href="Ledger.Ledger.Properties.html#5814" class="Function">certState&#39;</a><a id="6820" class="Symbol">)</a> <a id="6822" class="Symbol">(</a><a id="6823" href="Ledger.Utxo.Properties.html#26257" class="Function">pov</a> <a id="6827" href="Ledger.Ledger.Properties.html#5585" class="Bound">h</a> <a id="6829" href="Ledger.Ledger.Properties.html#5639" class="Bound">st</a><a id="6831" class="Symbol">)</a> <a id="6833" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="6841" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6849" href="Ledger.Ledger.Properties.html#5775" class="Function">utxoSt&#39;</a> <a id="6857" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="6859" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6867" href="Ledger.Ledger.Properties.html#5814" class="Function">certState&#39;</a>
        <a id="6886" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="6891" href="Ledger.Ledger.Properties.html#5429" class="Function">LEDGER-pov</a>  <a id="6903" class="Symbol">{</a><a id="6904" class="Argument">s</a> <a id="6906" class="Symbol">=</a> <a id="6908" href="Ledger.Ledger.Properties.html#6908" class="Bound">s</a><a id="6909" class="Symbol">}</a>
              <a id="6925" class="Symbol">{</a><a id="6926" class="Argument">s&#39;</a> <a id="6929" class="Symbol">=</a> <a id="6931" href="Ledger.Ledger.Properties.html#6931" class="Bound">s&#39;</a><a id="6933" class="Symbol">}</a>
              <a id="6949" href="Ledger.Ledger.Properties.html#6949" class="Bound">h</a> <a id="6951" class="Symbol">(</a><a id="6952" href="Ledger.Ledger.html#3303" class="InductiveConstructor">LEDGER-I</a> <a id="6961" class="Symbol">{</a><a id="6962" class="Argument">utxoSt&#39;</a> <a id="6970" class="Symbol">=</a> <a id="6972" href="Ledger.Ledger.Properties.html#6972" class="Bound">utxoSt&#39;&#39;</a><a id="6980" class="Symbol">}</a> <a id="6982" class="Symbol">(</a><a id="6983" href="Ledger.Ledger.Properties.html#6983" class="Bound">invalid</a> <a id="6991" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6993" href="Ledger.Utxow.html#5375" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="7004" href="Ledger.Ledger.Properties.html#7004" class="Bound">st</a><a id="7006" class="Symbol">))</a> <a id="7009" class="Symbol">=</a>
    <a id="7015" class="Keyword">let</a>
        <a id="7027" class="Keyword">open</a> <a id="7032" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="7039" href="Ledger.Ledger.Properties.html#6908" class="Bound">s</a>
        <a id="7049" class="Keyword">open</a> <a id="7054" href="Ledger.Certs.html#3897" class="Module">CertState</a> <a id="7064" href="Ledger.Ledger.html#921" class="Function">certState</a>
        <a id="7082" class="Keyword">open</a> <a id="7087" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="7094" href="Ledger.Ledger.Properties.html#6931" class="Bound">s&#39;</a> <a id="7097" class="Keyword">renaming</a> <a id="7106" class="Symbol">(</a><a id="7107" href="Ledger.Ledger.html#868" class="Field">utxoSt</a> <a id="7114" class="Symbol">to</a> <a id="7117" class="Field">utxoSt&#39;</a><a id="7124" class="Symbol">;</a> <a id="7126" href="Ledger.Ledger.html#895" class="Field">govSt</a> <a id="7132" class="Symbol">to</a> <a id="7135" class="Field">govSt&#39;</a><a id="7141" class="Symbol">;</a> <a id="7143" href="Ledger.Ledger.html#921" class="Field">certState</a> <a id="7153" class="Symbol">to</a> <a id="7156" class="Field">certState&#39;</a><a id="7166" class="Symbol">)</a>
        <a id="7176" class="Keyword">open</a> <a id="7181" href="Ledger.Utxo.html#2561" class="Module">UTxOState</a> <a id="7191" href="Ledger.Ledger.html#868" class="Function">utxoSt</a>
        <a id="7206" class="Keyword">open</a> <a id="7211" href="Ledger.Utxo.html#2561" class="Module">UTxOState</a> <a id="7221" href="Ledger.Ledger.Properties.html#7117" class="Function">utxoSt&#39;</a> <a id="7229" class="Keyword">renaming</a> <a id="7238" class="Symbol">(</a><a id="7239" href="Ledger.Utxo.html#2625" class="Field">utxo</a> <a id="7244" class="Symbol">to</a> <a id="7247" class="Field">utxo&#39;</a><a id="7252" class="Symbol">;</a> <a id="7254" href="Ledger.Utxo.html#2647" class="Field">fees</a> <a id="7259" class="Symbol">to</a> <a id="7262" class="Field">fees&#39;</a>
                                        <a id="7308" class="Symbol">;</a> <a id="7310" href="Ledger.Utxo.html#2669" class="Field">deposits</a> <a id="7319" class="Symbol">to</a> <a id="7322" class="Field">deposits&#39;</a><a id="7331" class="Symbol">;</a> <a id="7333" href="Ledger.Utxo.html#2695" class="Field">donations</a> <a id="7343" class="Symbol">to</a> <a id="7346" class="Field">donations&#39;</a><a id="7356" class="Symbol">)</a> <a id="7358" class="Keyword">in</a>
    <a id="7365" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="7370" class="Symbol">(</a><a id="7371" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="7374" href="Ledger.Certs.html#4822" class="Function">rewardsBalance</a> <a id="7389" href="Ledger.Certs.html#3960" class="Function">dState</a><a id="7395" class="Symbol">)</a>
    <a id="7401" class="Symbol">(</a> <a id="7403" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="7415" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7423" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="7425" href="Ledger.Utxo.html#2625" class="Function">utxo</a> <a id="7430" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7432" href="Ledger.Utxo.html#2647" class="Function">fees</a> <a id="7437" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7439" href="Ledger.Utxo.html#2669" class="Function">deposits</a> <a id="7448" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7450" href="Ledger.Utxo.html#2695" class="Function">donations</a> <a id="7460" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a>
        <a id="7470" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="7474" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="7486" class="Symbol">(</a><a id="7487" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7495" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="7497" href="Ledger.Utxo.html#2625" class="Function">utxo</a> <a id="7502" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7504" href="Ledger.Utxo.html#2647" class="Function">fees</a> <a id="7509" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7511" href="Ledger.Utxo.html#2669" class="Function">deposits</a> <a id="7520" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7522" href="Ledger.Utxo.html#2695" class="Function">donations</a> <a id="7532" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a><a id="7533" class="Symbol">)</a> <a id="7535" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="7543" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7551" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="7553" href="Ledger.Utxo.html#2625" class="Function">utxo</a> <a id="7558" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7560" href="Ledger.Utxo.html#2647" class="Function">fees</a> <a id="7565" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7567" href="Ledger.Utxo.html#2669" class="Function">deposits</a> <a id="7576" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7578" href="Ledger.Utxo.html#2695" class="Function">donations</a> <a id="7588" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a> <a id="7590" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="7592" class="Number">0</a>
        <a id="7602" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="7606" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="7611" class="Symbol">(λ</a> <a id="7614" href="Ledger.Ledger.Properties.html#7614" class="Bound">x</a> <a id="7616" class="Symbol">→</a> <a id="7618" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7626" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="7628" href="Ledger.Utxo.html#2625" class="Function">utxo</a> <a id="7633" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7635" href="Ledger.Utxo.html#2647" class="Function">fees</a> <a id="7640" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7642" href="Ledger.Utxo.html#2669" class="Function">deposits</a> <a id="7651" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7653" href="Ledger.Utxo.html#2695" class="Function">donations</a> <a id="7663" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a> <a id="7665" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="7667" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a><a id="7668" class="Symbol">(</a><a id="7669" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7677" href="Ledger.Transaction.html#2959" class="Function">txwdrls</a> <a id="7685" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7687" href="Ledger.Ledger.Properties.html#7614" class="Bound">x</a><a id="7688" class="Symbol">))</a> <a id="7691" href="Ledger.Ledger.Properties.html#6983" class="Bound">invalid</a> <a id="7699" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="7707" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7715" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="7717" href="Ledger.Utxo.html#2625" class="Function">utxo</a> <a id="7722" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7724" href="Ledger.Utxo.html#2647" class="Function">fees</a> <a id="7729" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7731" href="Ledger.Utxo.html#2669" class="Function">deposits</a> <a id="7740" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7742" href="Ledger.Utxo.html#2695" class="Function">donations</a> <a id="7752" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a> <a id="7754" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="7756" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a><a id="7757" class="Symbol">(</a><a id="7758" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7766" href="Ledger.Transaction.html#2959" class="Function">txwdrls</a> <a id="7774" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7776" href="Ledger.Transaction.html#4319" class="Field">isValid</a><a id="7783" class="Symbol">)</a> <a id="7785" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="7788" href="Ledger.Utxo.Properties.html#26257" class="Function">pov</a> <a id="7792" href="Ledger.Ledger.Properties.html#6949" class="Bound">h</a> <a id="7794" href="Ledger.Ledger.Properties.html#7004" class="Bound">st</a> <a id="7797" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="7805" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7813" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="7815" href="Ledger.Ledger.Properties.html#7247" class="Function">utxo&#39;</a> <a id="7821" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7823" href="Ledger.Ledger.Properties.html#7262" class="Function">fees&#39;</a> <a id="7829" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7831" href="Ledger.Ledger.Properties.html#7322" class="Function">deposits&#39;</a> <a id="7841" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7843" href="Ledger.Ledger.Properties.html#7346" class="Function">donations&#39;</a> <a id="7854" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a> <a id="7856" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="7858" class="Symbol">)</a>
    <a id="7864" class="Keyword">where</a> <a id="7870" class="Keyword">open</a> <a id="7875" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>


<a id="7889" class="Comment">-- ** Proof that the set equality `govDepsMatch` (below) is a LEDGER invariant.</a>

<a id="7970" class="Comment">-- Mapping a list of `GovActionID × GovActionState`s to a list of</a>
<a id="8036" class="Comment">-- `DepositPurpose`s is so common, we give it a name `dpMap`;</a>
<a id="8098" class="Comment">-- it&#39;s equivalent to `map (λ (id , _) → GovActionDeposit id)`.</a>
<a id="dpMap"></a><a id="8162" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="8168" class="Symbol">:</a> <a id="8170" href="Ledger.Gov.html#1334" class="Function">GovState</a> <a id="8179" class="Symbol">→</a> <a id="8181" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8186" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a>
<a id="8201" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="8207" class="Symbol">=</a> <a id="8209" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="8213" class="Symbol">(</a><a id="8214" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="8231" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="8233" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="8238" class="Symbol">)</a>

<a id="isGADeposit"></a><a id="8241" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="8253" class="Symbol">:</a> <a id="8255" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="8270" class="Symbol">→</a> <a id="8272" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8277" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="8289" href="Ledger.Ledger.Properties.html#8289" class="Bound">dp</a> <a id="8292" class="Symbol">=</a> <a id="8294" href="Ledger.Ledger.Properties.html#8327" class="Function">isGADepositᵇ</a> <a id="8307" href="Ledger.Ledger.Properties.html#8289" class="Bound">dp</a> <a id="8310" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8312" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="8319" class="Keyword">where</a>
  <a id="8327" href="Ledger.Ledger.Properties.html#8327" class="Function">isGADepositᵇ</a> <a id="8340" class="Symbol">:</a> <a id="8342" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="8357" class="Symbol">→</a> <a id="8359" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="8366" href="Ledger.Ledger.Properties.html#8327" class="Function">isGADepositᵇ</a> <a id="8379" class="Symbol">(</a><a id="8380" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="8397" class="Symbol">_)</a> <a id="8400" class="Symbol">=</a> <a id="8402" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="8409" href="Ledger.Ledger.Properties.html#8327" class="CatchallClause Function">isGADepositᵇ</a><a id="8421" class="CatchallClause"> </a><a id="8422" class="CatchallClause Symbol">_</a>                    <a id="8443" class="Symbol">=</a> <a id="8445" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="govDepsMatch"></a><a id="8452" href="Ledger.Ledger.Properties.html#8452" class="Function">govDepsMatch</a> <a id="8465" class="Symbol">:</a> <a id="8467" href="Ledger.Ledger.html#809" class="Record">LState</a> <a id="8474" class="Symbol">→</a> <a id="8476" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8481" href="Ledger.Ledger.Properties.html#8452" class="Function">govDepsMatch</a> <a id="8494" href="Ledger.Ledger.Properties.html#8494" class="Bound">ledgerSt</a> <a id="8503" class="Symbol">=</a>
  <a id="8507" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8515" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="8527" class="Symbol">(</a><a id="8528" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8532" class="Symbol">(</a><a id="8533" href="Ledger.Utxo.html#2669" class="Field">UTxOState.deposits</a> <a id="8552" href="Ledger.Ledger.html#868" class="Field">utxoSt</a><a id="8558" class="Symbol">))</a> <a id="8561" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="8564" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="8573" class="Symbol">(</a><a id="8574" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="8580" href="Ledger.Ledger.html#895" class="Field">govSt</a><a id="8585" class="Symbol">)</a>
  <a id="8589" class="Keyword">where</a>
    <a id="8599" class="Keyword">open</a> <a id="8604" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="8611" href="Ledger.Ledger.Properties.html#8494" class="Bound">ledgerSt</a>

<a id="8621" class="Keyword">module</a> <a id="≡ᵉ"></a><a id="8628" href="Ledger.Ledger.Properties.html#8628" class="Module">≡ᵉ</a> <a id="8631" class="Symbol">=</a> <a id="8633" href="Relation.Binary.Structures.html#1550" class="Module">IsEquivalence</a> <a id="8647" class="Symbol">(</a><a id="8648" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a> <a id="8665" class="Symbol">{</a><a id="8666" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a><a id="8680" class="Symbol">})</a>
<a id="8683" class="Keyword">pattern</a> <a id="UTXOW-UTXOS"></a><a id="8691" href="Ledger.Ledger.Properties.html#8691" class="InductiveConstructor">UTXOW-UTXOS</a> <a id="8703" href="Ledger.Ledger.Properties.html#8773" class="Bound">x</a> <a id="8705" class="Symbol">=</a> <a id="8707" href="Ledger.Utxow.html#5375" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="8718" class="Symbol">(</a><a id="8719" href="Ledger.Utxo.html#15269" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="8735" class="Symbol">_</a> <a id="8737" class="Symbol">_</a> <a id="8739" class="Symbol">_</a> <a id="8741" class="Symbol">_</a> <a id="8743" class="Symbol">_</a> <a id="8745" class="Symbol">_</a> <a id="8747" class="Symbol">_</a> <a id="8749" class="Symbol">_</a> <a id="8751" class="Symbol">_</a> <a id="8753" class="Symbol">_</a> <a id="8755" class="Symbol">_</a> <a id="8757" class="Symbol">_</a> <a id="8759" class="Symbol">_</a> <a id="8761" class="Symbol">_</a> <a id="8763" class="Symbol">_</a> <a id="8765" class="Symbol">_</a> <a id="8767" class="Symbol">_</a> <a id="8769" class="Symbol">_</a> <a id="8771" class="Symbol">_</a> <a id="8773" href="Ledger.Ledger.Properties.html#8773" class="Bound">x</a><a id="8774" class="Symbol">)</a>
<a id="8776" class="Keyword">open</a> <a id="8781" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="filterGA"></a><a id="8794" href="Ledger.Ledger.Properties.html#8794" class="Function">filterGA</a> <a id="8803" class="Symbol">:</a> <a id="8805" class="Symbol">∀</a> <a id="8807" href="Ledger.Ledger.Properties.html#8807" class="Bound">txid</a> <a id="8812" href="Ledger.Ledger.Properties.html#8812" class="Bound">n</a> <a id="8814" class="Symbol">→</a> <a id="8816" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8824" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="8836" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8838" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="8855" class="Symbol">(</a><a id="8856" href="Ledger.Ledger.Properties.html#8807" class="Bound">txid</a> <a id="8861" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8863" href="Ledger.Ledger.Properties.html#8812" class="Bound">n</a><a id="8864" class="Symbol">)</a> <a id="8866" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="8868" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="8871" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8873" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="8890" class="Symbol">(</a><a id="8891" href="Ledger.Ledger.Properties.html#8807" class="Bound">txid</a> <a id="8896" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8898" href="Ledger.Ledger.Properties.html#8812" class="Bound">n</a><a id="8899" class="Symbol">)</a> <a id="8901" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="8903" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8909" class="Symbol">(</a><a id="8910" href="Ledger.Ledger.Properties.html#8794" class="Function">filterGA</a> <a id="8919" href="Ledger.Ledger.Properties.html#8919" class="Bound">txid</a> <a id="8924" href="Ledger.Ledger.Properties.html#8924" class="Bound">n</a><a id="8925" class="Symbol">)</a> <a id="8927" class="Symbol">{</a><a id="8928" href="Ledger.Ledger.Properties.html#8928" class="Bound">a</a><a id="8929" class="Symbol">}</a> <a id="8931" href="Ledger.Ledger.Properties.html#8931" class="Bound">x</a> <a id="8933" class="Symbol">=</a> <a id="8935" class="Symbol">(</a><a id="8936" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="8942" class="Symbol">(</a><a id="8943" href="Function.Bundles.html#4834" class="Field">from</a> <a id="8948" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="8957" href="Ledger.Ledger.Properties.html#8931" class="Bound">x</a><a id="8958" class="Symbol">))</a> <a id="8961" class="Keyword">where</a> <a id="8967" class="Keyword">open</a> <a id="8972" href="Function.Bundles.html#4752" class="Module">Equivalence</a>
<a id="8984" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="8990" class="Symbol">(</a><a id="8991" href="Ledger.Ledger.Properties.html#8794" class="Function">filterGA</a> <a id="9000" href="Ledger.Ledger.Properties.html#9000" class="Bound">txid</a> <a id="9005" href="Ledger.Ledger.Properties.html#9005" class="Bound">n</a><a id="9006" class="Symbol">)</a> <a id="9008" class="Symbol">{</a><a id="9009" href="Ledger.Ledger.Properties.html#9009" class="Bound">a</a><a id="9010" class="Symbol">}</a> <a id="9012" href="Ledger.Ledger.Properties.html#9012" class="Bound">x</a> <a id="9014" class="Symbol">=</a> <a id="9016" href="Function.Bundles.html#4810" class="Field">to</a> <a id="9019" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="9028" class="Symbol">(</a><a id="9029" href="Ledger.Ledger.Properties.html#9067" class="Function">ξ</a> <a id="9031" class="Symbol">(</a><a id="9032" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9037" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="9049" href="Ledger.Ledger.Properties.html#9012" class="Bound">x</a><a id="9050" class="Symbol">)</a> <a id="9052" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9054" href="Ledger.Ledger.Properties.html#9012" class="Bound">x</a><a id="9055" class="Symbol">)</a>
  <a id="9059" class="Keyword">where</a>
  <a id="9067" href="Ledger.Ledger.Properties.html#9067" class="Function">ξ</a> <a id="9069" class="Symbol">:</a> <a id="9071" href="Ledger.Ledger.Properties.html#9009" class="Bound">a</a> <a id="9073" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9075" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="9092" class="Symbol">(</a><a id="9093" href="Ledger.Ledger.Properties.html#9000" class="Bound">txid</a> <a id="9098" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9100" href="Ledger.Ledger.Properties.html#9005" class="Bound">n</a><a id="9101" class="Symbol">)</a> <a id="9103" class="Symbol">→</a> <a id="9105" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="9117" href="Ledger.Ledger.Properties.html#9009" class="Bound">a</a>
  <a id="9121" href="Ledger.Ledger.Properties.html#9067" class="Function">ξ</a> <a id="9123" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9128" class="Symbol">=</a> <a id="9130" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="9136" class="Keyword">module</a> <a id="LEDGER-PROPS"></a><a id="9143" href="Ledger.Ledger.Properties.html#9143" class="Module">LEDGER-PROPS</a> <a id="9156" class="Symbol">(</a><a id="9157" href="Ledger.Ledger.Properties.html#9157" class="Bound">tx</a> <a id="9160" class="Symbol">:</a> <a id="9162" href="Ledger.Transaction.html#4234" class="Record">Tx</a><a id="9164" class="Symbol">)</a> <a id="9166" class="Symbol">(</a><a id="9167" href="Ledger.Ledger.Properties.html#9167" class="Bound">Γ</a> <a id="9169" class="Symbol">:</a> <a id="9171" href="Ledger.Ledger.html#545" class="Record">LEnv</a><a id="9175" class="Symbol">)</a> <a id="9177" class="Symbol">(</a><a id="9178" href="Ledger.Ledger.Properties.html#9178" class="Bound">s</a> <a id="9180" class="Symbol">:</a> <a id="9182" href="Ledger.Ledger.html#809" class="Record">LState</a><a id="9188" class="Symbol">)</a> <a id="9190" class="Keyword">where</a>
  <a id="9198" class="Keyword">open</a> <a id="9203" href="Ledger.Transaction.html#4234" class="Module">Tx</a> <a id="9206" href="Ledger.Ledger.Properties.html#9157" class="Bound">tx</a> <a id="9209" class="Keyword">renaming</a> <a id="9218" class="Symbol">(</a><a id="9219" href="Ledger.Transaction.html#4266" class="Field">body</a> <a id="9224" class="Symbol">to</a> <a id="9227" class="Field">txb</a><a id="9230" class="Symbol">);</a> <a id="9233" class="Keyword">open</a> <a id="9238" href="Ledger.Transaction.html#2691" class="Module">TxBody</a> <a id="9245" href="Ledger.Ledger.Properties.html#9227" class="Function">txb</a>
  <a id="9251" class="Keyword">open</a> <a id="9256" href="Ledger.Ledger.html#545" class="Module">LEnv</a> <a id="9261" href="Ledger.Ledger.Properties.html#9167" class="Bound">Γ</a> <a id="9263" class="Keyword">renaming</a> <a id="9272" class="Symbol">(</a><a id="9273" href="Ledger.Ledger.html#633" class="Field">pparams</a> <a id="9281" class="Symbol">to</a> <a id="9284" class="Field">pp</a><a id="9286" class="Symbol">)</a>
  <a id="9290" class="Keyword">open</a> <a id="9295" href="Ledger.PParams.html#1570" class="Module">PParams</a> <a id="9303" href="Ledger.Ledger.Properties.html#9284" class="Function">pp</a> <a id="9306" class="Keyword">using</a> <a id="9312" class="Symbol">(</a><a id="9313" href="Ledger.PParams.html#3236" class="Field">govActionDeposit</a><a id="9329" class="Symbol">)</a>
  <a id="9333" class="Keyword">open</a> <a id="9338" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="9345" href="Ledger.Ledger.Properties.html#9178" class="Bound">s</a>
  <a id="9349" class="Keyword">open</a> <a id="9354" href="Ledger.Certs.html#3897" class="Module">CertState</a> <a id="9364" href="Ledger.Ledger.html#921" class="Field">certState</a>
  <a id="9376" class="Keyword">open</a> <a id="9381" href="Ledger.Certs.html#2963" class="Module">DState</a> <a id="9388" href="Ledger.Certs.html#3960" class="Function">dState</a>

  <a id="9398" class="Comment">-- initial utxo deposits</a>
  <a id="LEDGER-PROPS.utxoDeps"></a><a id="9425" href="Ledger.Ledger.Properties.html#9425" class="Function">utxoDeps</a> <a id="9434" class="Symbol">:</a> <a id="9436" href="Ledger.Certs.html#573" class="Function">Deposits</a>
  <a id="9447" href="Ledger.Ledger.Properties.html#9425" class="Function">utxoDeps</a> <a id="9456" class="Symbol">=</a> <a id="9458" href="Ledger.Utxo.html#2669" class="Field">UTxOState.deposits</a> <a id="9477" class="Symbol">(</a><a id="9478" href="Ledger.Ledger.html#868" class="Field">LState.utxoSt</a> <a id="9492" href="Ledger.Ledger.Properties.html#9178" class="Bound">s</a><a id="9493" class="Symbol">)</a>

  <a id="9498" class="Comment">-- GovState definitions and lemmas --</a>
  <a id="LEDGER-PROPS.mkAction"></a><a id="9538" href="Ledger.Ledger.Properties.html#9538" class="Function">mkAction</a> <a id="9547" class="Symbol">:</a> <a id="9549" href="Ledger.GovernanceActions.html#2372" class="Record">GovProposal</a> <a id="9561" class="Symbol">→</a> <a id="9563" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="9565" class="Symbol">→</a> <a id="9567" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="9579" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9581" href="Ledger.GovernanceActions.html#2594" class="Record">GovActionState</a>
  <a id="9598" href="Ledger.Ledger.Properties.html#9538" class="Function">mkAction</a> <a id="9607" href="Ledger.Ledger.Properties.html#9607" class="Bound">p</a> <a id="9609" href="Ledger.Ledger.Properties.html#9609" class="Bound">n</a> <a id="9611" class="Symbol">=</a> <a id="9613" class="Keyword">let</a> <a id="9617" class="Keyword">open</a> <a id="9622" href="Ledger.GovernanceActions.html#2372" class="Module">GovProposal</a> <a id="9634" href="Ledger.Ledger.Properties.html#9607" class="Bound">p</a> <a id="9636" class="Keyword">in</a>
    <a id="9643" href="Ledger.Gov.html#5301" class="Function">mkGovStatePair</a>
      <a id="9664" class="Symbol">(</a><a id="9665" href="Ledger.PParams.html#3194" class="Field">PParams.govActionLifetime</a> <a id="9691" href="Ledger.Ledger.Properties.html#9284" class="Function">pp</a> <a id="9694" href="Ledger.Types.Epoch.html#832" class="Function Operator">+ᵉ</a> <a id="9697" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a> <a id="9703" href="Ledger.Ledger.html#575" class="Function">slot</a><a id="9707" class="Symbol">)</a>
      <a id="9715" class="Symbol">(</a><a id="9716" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="9721" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9723" href="Ledger.Ledger.Properties.html#9609" class="Bound">n</a><a id="9724" class="Symbol">)</a> <a id="9726" href="Ledger.GovernanceActions.html#2539" class="Function">returnAddr</a> <a id="9737" href="Ledger.GovernanceActions.html#2409" class="Function">action</a> <a id="9744" href="Ledger.GovernanceActions.html#2437" class="Function">prevAction</a>

  <a id="9758" class="Comment">-- update GovState with a proposal</a>
  <a id="LEDGER-PROPS.propUpdate"></a><a id="9795" href="Ledger.Ledger.Properties.html#9795" class="Function">propUpdate</a> <a id="9806" class="Symbol">:</a> <a id="9808" href="Ledger.Gov.html#1334" class="Function">GovState</a> <a id="9817" class="Symbol">→</a> <a id="9819" href="Ledger.GovernanceActions.html#2372" class="Record">GovProposal</a> <a id="9831" class="Symbol">→</a> <a id="9833" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="9835" class="Symbol">→</a> <a id="9837" href="Ledger.Gov.html#1334" class="Function">GovState</a>
  <a id="9848" href="Ledger.Ledger.Properties.html#9795" class="Function">propUpdate</a> <a id="9859" href="Ledger.Ledger.Properties.html#9859" class="Bound">s</a> <a id="9861" href="Ledger.Ledger.Properties.html#9861" class="Bound">p</a> <a id="9863" href="Ledger.Ledger.Properties.html#9863" class="Bound">n</a> <a id="9865" class="Symbol">=</a> <a id="9867" href="Ledger.Gov.html#4923" class="Function">insertGovAction</a> <a id="9883" href="Ledger.Ledger.Properties.html#9859" class="Bound">s</a> <a id="9885" class="Symbol">(</a><a id="9886" href="Ledger.Ledger.Properties.html#9538" class="Function">mkAction</a> <a id="9895" href="Ledger.Ledger.Properties.html#9861" class="Bound">p</a> <a id="9897" href="Ledger.Ledger.Properties.html#9863" class="Bound">n</a><a id="9898" class="Symbol">)</a>

  <a id="9903" class="Comment">-- update GovState with a vote</a>
  <a id="LEDGER-PROPS.voteUpdate"></a><a id="9936" href="Ledger.Ledger.Properties.html#9936" class="Function">voteUpdate</a> <a id="9947" class="Symbol">:</a> <a id="9949" href="Ledger.Gov.html#1334" class="Function">GovState</a> <a id="9958" class="Symbol">→</a> <a id="9960" href="Ledger.GovernanceActions.html#2227" class="Record">GovVote</a> <a id="9968" class="Symbol">→</a> <a id="9970" href="Ledger.Gov.html#1334" class="Function">GovState</a>
  <a id="9981" href="Ledger.Ledger.Properties.html#9936" class="Function">voteUpdate</a> <a id="9992" href="Ledger.Ledger.Properties.html#9992" class="Bound">s</a> <a id="9994" href="Ledger.Ledger.Properties.html#9994" class="Bound">v</a> <a id="9996" class="Symbol">=</a> <a id="9998" href="Ledger.Gov.html#5798" class="Function">addVote</a> <a id="10006" href="Ledger.Ledger.Properties.html#9992" class="Bound">s</a> <a id="10008" href="Ledger.GovernanceActions.html#2260" class="Field">gid</a> <a id="10012" href="Ledger.GovernanceActions.html#2290" class="Field">voter</a> <a id="10018" href="Ledger.GovernanceActions.html#2314" class="Field">vote</a>
    <a id="10027" class="Keyword">where</a> <a id="10033" class="Keyword">open</a> <a id="10038" href="Ledger.GovernanceActions.html#2227" class="Module">GovVote</a> <a id="10046" href="Ledger.Ledger.Properties.html#9994" class="Bound">v</a>

  <a id="10051" class="Comment">-- update GovState with a list of votes and proposals</a>
  <a id="LEDGER-PROPS.updateGovStates"></a><a id="10107" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="10123" class="Symbol">:</a> <a id="10125" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="10130" class="Symbol">(</a><a id="10131" href="Ledger.GovernanceActions.html#2227" class="Record">GovVote</a> <a id="10139" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="10141" href="Ledger.GovernanceActions.html#2372" class="Record">GovProposal</a><a id="10152" class="Symbol">)</a> <a id="10154" class="Symbol">→</a> <a id="10156" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="10158" class="Symbol">→</a> <a id="10160" href="Ledger.Gov.html#1334" class="Function">GovState</a> <a id="10169" class="Symbol">→</a> <a id="10171" href="Ledger.Gov.html#1334" class="Function">GovState</a>
  <a id="10182" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="10198" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="10201" class="Symbol">_</a> <a id="10203" href="Ledger.Ledger.Properties.html#10203" class="Bound">s</a> <a id="10205" class="Symbol">=</a> <a id="10207" href="Ledger.Ledger.Properties.html#10203" class="Bound">s</a>
  <a id="10211" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="10227" class="Symbol">(</a><a id="10228" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="10233" href="Ledger.Ledger.Properties.html#10233" class="Bound">v</a> <a id="10235" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10237" href="Ledger.Ledger.Properties.html#10237" class="Bound">vps</a><a id="10240" class="Symbol">)</a> <a id="10242" href="Ledger.Ledger.Properties.html#10242" class="Bound">k</a> <a id="10244" href="Ledger.Ledger.Properties.html#10244" class="Bound">s</a> <a id="10246" class="Symbol">=</a> <a id="10248" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="10264" href="Ledger.Ledger.Properties.html#10237" class="Bound">vps</a> <a id="10268" class="Symbol">(</a><a id="10269" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="10273" href="Ledger.Ledger.Properties.html#10242" class="Bound">k</a><a id="10274" class="Symbol">)</a> <a id="10276" class="Symbol">(</a><a id="10277" href="Ledger.Ledger.Properties.html#9936" class="Function">voteUpdate</a> <a id="10288" href="Ledger.Ledger.Properties.html#10244" class="Bound">s</a> <a id="10290" href="Ledger.Ledger.Properties.html#10233" class="Bound">v</a><a id="10291" class="Symbol">)</a>
  <a id="10295" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="10311" class="Symbol">(</a><a id="10312" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="10317" href="Ledger.Ledger.Properties.html#10317" class="Bound">p</a> <a id="10319" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10321" href="Ledger.Ledger.Properties.html#10321" class="Bound">vps</a><a id="10324" class="Symbol">)</a> <a id="10326" href="Ledger.Ledger.Properties.html#10326" class="Bound">k</a> <a id="10328" href="Ledger.Ledger.Properties.html#10328" class="Bound">s</a> <a id="10330" class="Symbol">=</a> <a id="10332" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="10348" href="Ledger.Ledger.Properties.html#10321" class="Bound">vps</a> <a id="10352" class="Symbol">(</a><a id="10353" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="10357" href="Ledger.Ledger.Properties.html#10326" class="Bound">k</a><a id="10358" class="Symbol">)</a> <a id="10360" class="Symbol">(</a><a id="10361" href="Ledger.Ledger.Properties.html#9795" class="Function">propUpdate</a> <a id="10372" href="Ledger.Ledger.Properties.html#10328" class="Bound">s</a> <a id="10374" href="Ledger.Ledger.Properties.html#10317" class="Bound">p</a> <a id="10376" href="Ledger.Ledger.Properties.html#10326" class="Bound">k</a><a id="10377" class="Symbol">)</a>

  <a id="10382" class="Comment">-- updateGovStates faithfully represents a step of the LEDGER sts</a>
  <a id="LEDGER-PROPS.STS→GovSt≡"></a><a id="10450" href="Ledger.Ledger.Properties.html#10450" class="Function">STS→GovSt≡</a> <a id="10461" class="Symbol">:</a> <a id="10463" class="Symbol">∀</a> <a id="10465" class="Symbol">{</a><a id="10466" href="Ledger.Ledger.Properties.html#10466" class="Bound">s&#39;</a> <a id="10469" class="Symbol">:</a> <a id="10471" href="Ledger.Ledger.html#809" class="Record">LState</a><a id="10477" class="Symbol">}</a> <a id="10479" class="Symbol">→</a> <a id="10481" href="Ledger.Ledger.Properties.html#9167" class="Bound">Γ</a> <a id="10483" href="Ledger.Ledger.html#2581" class="Datatype Operator">⊢</a> <a id="10485" href="Ledger.Ledger.Properties.html#9178" class="Bound">s</a> <a id="10487" href="Ledger.Ledger.html#2581" class="Datatype Operator">⇀⦇</a> <a id="10490" href="Ledger.Ledger.Properties.html#9157" class="Bound">tx</a> <a id="10493" href="Ledger.Ledger.html#2581" class="Datatype Operator">,LEDGER⦈</a> <a id="10502" href="Ledger.Ledger.Properties.html#10466" class="Bound">s&#39;</a>
               <a id="10520" class="Symbol">→</a> <a id="10522" href="Ledger.Transaction.html#4319" class="Function">isValid</a> <a id="10530" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10532" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="10537" class="Symbol">→</a> <a id="10539" href="Ledger.Ledger.html#895" class="Field">LState.govSt</a> <a id="10552" href="Ledger.Ledger.Properties.html#10466" class="Bound">s&#39;</a> <a id="10555" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10557" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="10573" class="Symbol">(</a><a id="10574" href="Ledger.Ledger.html#1707" class="Function">txgov</a> <a id="10580" href="Ledger.Ledger.Properties.html#9227" class="Function">txb</a><a id="10583" class="Symbol">)</a> <a id="10585" class="Number">0</a> <a id="10587" class="Symbol">(</a><a id="10588" href="Ledger.Ledger.html#1825" class="Function">rmOrphanDRepVotes</a> <a id="10606" class="Symbol">(</a><a id="10607" href="Ledger.Ledger.html#921" class="Field">LState.certState</a> <a id="10624" href="Ledger.Ledger.Properties.html#10466" class="Bound">s&#39;</a><a id="10626" class="Symbol">)</a> <a id="10628" class="Symbol">(</a><a id="10629" href="Ledger.Ledger.html#895" class="Field">LState.govSt</a> <a id="10642" href="Ledger.Ledger.Properties.html#9178" class="Bound">s</a><a id="10643" class="Symbol">))</a>
  <a id="10648" class="Comment">-- STS→GovSt≡ (LEDGER-V ( _ , _ , _ , x )) refl = STS→updateGovSt≡ (txgov txb) 0 x</a>
  <a id="10733" href="Ledger.Ledger.Properties.html#10450" class="Function">STS→GovSt≡</a> <a id="10744" class="Symbol">(</a><a id="10745" href="Ledger.Ledger.html#2643" class="InductiveConstructor">LEDGER-V</a> <a id="10754" href="Ledger.Ledger.Properties.html#10754" class="Bound">x</a><a id="10755" class="Symbol">)</a> <a id="10757" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="10762" class="Symbol">=</a> <a id="10764" href="Ledger.Ledger.Properties.html#10835" class="Function">STS→updateGovSt≡</a> <a id="10781" class="Symbol">(</a><a id="10782" href="Ledger.Ledger.html#1707" class="Function">txgov</a> <a id="10788" href="Ledger.Ledger.Properties.html#9227" class="Function">txb</a><a id="10791" class="Symbol">)</a> <a id="10793" class="Number">0</a> <a id="10795" class="Symbol">(</a><a id="10796" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10802" class="Symbol">(</a><a id="10803" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10809" class="Symbol">(</a><a id="10810" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10816" href="Ledger.Ledger.Properties.html#10754" class="Bound">x</a><a id="10817" class="Symbol">)))</a>
    <a id="10825" class="Keyword">where</a>
    <a id="10835" href="Ledger.Ledger.Properties.html#10835" class="Function">STS→updateGovSt≡</a> <a id="10852" class="Symbol">:</a> <a id="10854" class="Symbol">(</a><a id="10855" href="Ledger.Ledger.Properties.html#10855" class="Bound">vps</a> <a id="10859" class="Symbol">:</a> <a id="10861" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="10866" class="Symbol">(</a><a id="10867" href="Ledger.GovernanceActions.html#2227" class="Record">GovVote</a> <a id="10875" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="10877" href="Ledger.GovernanceActions.html#2372" class="Record">GovProposal</a><a id="10888" class="Symbol">))</a> <a id="10891" class="Symbol">(</a><a id="10892" href="Ledger.Ledger.Properties.html#10892" class="Bound">k</a> <a id="10894" class="Symbol">:</a> <a id="10896" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="10897" class="Symbol">)</a> <a id="10899" class="Symbol">{</a><a id="10900" href="Ledger.Ledger.Properties.html#10900" class="Bound">certSt</a> <a id="10907" class="Symbol">:</a> <a id="10909" href="Ledger.Certs.html#3897" class="Record">CertState</a><a id="10918" class="Symbol">}</a> <a id="10920" class="Symbol">{</a><a id="10921" href="Ledger.Ledger.Properties.html#10921" class="Bound">govSt</a> <a id="10927" href="Ledger.Ledger.Properties.html#10927" class="Bound">govSt&#39;</a> <a id="10934" class="Symbol">:</a> <a id="10936" href="Ledger.Gov.html#1334" class="Function">GovState</a><a id="10944" class="Symbol">}</a>
      <a id="10952" class="Symbol">→</a> <a id="10954" class="Symbol">(</a><a id="10955" href="Interface.STS.html#1457" class="Datatype Operator">_⊢_⇀⟦_⟧ᵢ*&#39;_</a> <a id="10967" class="Symbol">{</a><a id="10968" class="Argument">_⊢_⇀⟦_⟧ᵇ_</a> <a id="10978" class="Symbol">=</a> <a id="10980" href="Interface.STS.html#1903" class="Datatype">IdSTS</a><a id="10985" class="Symbol">}{</a><a id="10987" href="Ledger.Gov.html#6774" class="Datatype Operator">_⊢_⇀⦇_,GOV⦈_</a><a id="10999" class="Symbol">}</a> <a id="11001" class="Symbol">(</a><a id="11002" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="11004" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="11009" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11011" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a> <a id="11017" href="Ledger.Ledger.html#575" class="Function">slot</a> <a id="11022" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11024" href="Ledger.Ledger.Properties.html#9284" class="Function">pp</a> <a id="11027" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11029" href="Ledger.Ledger.html#598" class="Function">ppolicy</a> <a id="11037" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11039" href="Ledger.Ledger.html#659" class="Function">enactState</a> <a id="11050" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11052" href="Ledger.Ledger.Properties.html#10900" class="Bound">certSt</a> <a id="11059" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11061" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11065" href="Ledger.Certs.html#3101" class="Function">rewards</a> <a id="11073" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a> <a id="11075" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11077" href="Ledger.Ledger.Properties.html#10892" class="Bound">k</a><a id="11078" class="Symbol">)</a> <a id="11080" href="Ledger.Ledger.Properties.html#10921" class="Bound">govSt</a> <a id="11086" href="Ledger.Ledger.Properties.html#10855" class="Bound">vps</a> <a id="11090" href="Ledger.Ledger.Properties.html#10927" class="Bound">govSt&#39;</a><a id="11096" class="Symbol">)</a>
      <a id="11104" class="Symbol">→</a> <a id="11106" href="Ledger.Ledger.Properties.html#10927" class="Bound">govSt&#39;</a> <a id="11113" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11115" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="11131" href="Ledger.Ledger.Properties.html#10855" class="Bound">vps</a> <a id="11135" href="Ledger.Ledger.Properties.html#10892" class="Bound">k</a> <a id="11137" href="Ledger.Ledger.Properties.html#10921" class="Bound">govSt</a>
    <a id="11147" href="Ledger.Ledger.Properties.html#10835" class="Function">STS→updateGovSt≡</a> <a id="11164" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11167" class="Symbol">_</a> <a id="11169" class="Symbol">(</a><a id="11170" href="Interface.STS.html#1514" class="InductiveConstructor">BS-base</a> <a id="11178" href="Interface.STS.html#1946" class="InductiveConstructor">Id-nop</a><a id="11184" class="Symbol">)</a> <a id="11186" class="Symbol">=</a> <a id="11188" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="11197" href="Ledger.Ledger.Properties.html#10835" class="Function">STS→updateGovSt≡</a> <a id="11214" class="Symbol">(</a><a id="11215" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="11220" href="Ledger.Ledger.Properties.html#11220" class="Bound">v</a> <a id="11222" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11224" href="Ledger.Ledger.Properties.html#11224" class="Bound">vps</a><a id="11227" class="Symbol">)</a> <a id="11229" href="Ledger.Ledger.Properties.html#11229" class="Bound">k</a> <a id="11231" class="Symbol">(</a><a id="11232" href="Interface.STS.html#1630" class="InductiveConstructor">BS-ind</a> <a id="11239" class="Symbol">(</a><a id="11240" href="Ledger.Gov.html#14198" class="InductiveConstructor">GOV-Vote</a> <a id="11249" href="Ledger.Ledger.Properties.html#11249" class="Bound">x</a><a id="11250" class="Symbol">)</a> <a id="11252" href="Ledger.Ledger.Properties.html#11252" class="Bound">h</a><a id="11253" class="Symbol">)</a>
      <a id="11261" class="Symbol">=</a> <a id="11263" href="Ledger.Ledger.Properties.html#10835" class="Function">STS→updateGovSt≡</a> <a id="11280" href="Ledger.Ledger.Properties.html#11224" class="Bound">vps</a> <a id="11284" class="Symbol">(</a><a id="11285" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="11289" href="Ledger.Ledger.Properties.html#11229" class="Bound">k</a><a id="11290" class="Symbol">)</a> <a id="11292" href="Ledger.Ledger.Properties.html#11252" class="Bound">h</a>
    <a id="11298" href="Ledger.Ledger.Properties.html#10835" class="Function">STS→updateGovSt≡</a> <a id="11315" class="Symbol">(</a><a id="11316" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="11321" href="Ledger.Ledger.Properties.html#11321" class="Bound">p</a> <a id="11323" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11325" href="Ledger.Ledger.Properties.html#11325" class="Bound">vps</a><a id="11328" class="Symbol">)</a> <a id="11330" href="Ledger.Ledger.Properties.html#11330" class="Bound">k</a> <a id="11332" class="Symbol">(</a><a id="11333" href="Interface.STS.html#1630" class="InductiveConstructor">BS-ind</a> <a id="11340" class="Symbol">(</a><a id="11341" href="Ledger.Gov.html#14483" class="InductiveConstructor">GOV-Propose</a> <a id="11353" href="Ledger.Ledger.Properties.html#11353" class="Bound">x</a><a id="11354" class="Symbol">)</a> <a id="11356" href="Ledger.Ledger.Properties.html#11356" class="Bound">h</a><a id="11357" class="Symbol">)</a> <a id="11359" class="Symbol">=</a> <a id="11361" href="Ledger.Ledger.Properties.html#10835" class="Function">STS→updateGovSt≡</a> <a id="11378" href="Ledger.Ledger.Properties.html#11325" class="Bound">vps</a> <a id="11382" class="Symbol">(</a><a id="11383" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="11387" href="Ledger.Ledger.Properties.html#11330" class="Bound">k</a><a id="11388" class="Symbol">)</a> <a id="11390" href="Ledger.Ledger.Properties.html#11356" class="Bound">h</a>

  <a id="11395" class="Keyword">opaque</a>
    <a id="11406" class="Keyword">unfolding</a> <a id="11416" href="Ledger.Gov.html#5798" class="Function">addVote</a>

    <a id="LEDGER-PROPS.dpMap-rmOrphanDRepVotes"></a><a id="11429" href="Ledger.Ledger.Properties.html#11429" class="Function">dpMap-rmOrphanDRepVotes</a> <a id="11453" class="Symbol">:</a> <a id="11455" class="Symbol">∀</a> <a id="11457" href="Ledger.Ledger.Properties.html#11457" class="Bound">certState</a> <a id="11467" href="Ledger.Ledger.Properties.html#11467" class="Bound">govSt</a> <a id="11473" class="Symbol">→</a> <a id="11475" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="11481" class="Symbol">(</a><a id="11482" href="Ledger.Ledger.html#1825" class="Function">rmOrphanDRepVotes</a> <a id="11500" href="Ledger.Ledger.Properties.html#11457" class="Bound">certState</a> <a id="11510" href="Ledger.Ledger.Properties.html#11467" class="Bound">govSt</a><a id="11515" class="Symbol">)</a> <a id="11517" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11519" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="11525" href="Ledger.Ledger.Properties.html#11467" class="Bound">govSt</a>
    <a id="11535" href="Ledger.Ledger.Properties.html#11429" class="Function">dpMap-rmOrphanDRepVotes</a> <a id="11559" href="Ledger.Ledger.Properties.html#11559" class="Bound">certState</a> <a id="11569" href="Ledger.Ledger.Properties.html#11569" class="Bound">govSt</a> <a id="11575" class="Symbol">=</a> <a id="11577" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="11581" class="Symbol">(</a><a id="11582" href="Class.Functor.Core.html#627" class="Field">fmap-∘</a> <a id="11589" href="Ledger.Ledger.Properties.html#11569" class="Bound">govSt</a><a id="11594" class="Symbol">)</a> <a id="11596" class="Comment">-- map proj₁ ∘ map (map₂ _) ≡ map (proj₁ ∘ map₂ _) ≡ map proj₁</a>

<a id="11660" class="Keyword">module</a> <a id="SetoidProperties"></a><a id="11667" href="Ledger.Ledger.Properties.html#11667" class="Module">SetoidProperties</a> <a id="11684" class="Symbol">(</a><a id="11685" href="Ledger.Ledger.Properties.html#11685" class="Bound">tx</a> <a id="11688" class="Symbol">:</a> <a id="11690" href="Ledger.Transaction.html#4234" class="Record">Tx</a><a id="11692" class="Symbol">)</a> <a id="11694" class="Symbol">(</a><a id="11695" href="Ledger.Ledger.Properties.html#11695" class="Bound">Γ</a> <a id="11697" class="Symbol">:</a> <a id="11699" href="Ledger.Ledger.html#545" class="Record">LEnv</a><a id="11703" class="Symbol">)</a> <a id="11705" class="Symbol">(</a><a id="11706" href="Ledger.Ledger.Properties.html#11706" class="Bound">s</a> <a id="11708" class="Symbol">:</a> <a id="11710" href="Ledger.Ledger.html#809" class="Record">LState</a><a id="11716" class="Symbol">)</a> <a id="11718" class="Keyword">where</a>
  <a id="11726" class="Keyword">open</a> <a id="11731" href="Ledger.Transaction.html#4234" class="Module">Tx</a> <a id="11734" href="Ledger.Ledger.Properties.html#11685" class="Bound">tx</a> <a id="11737" class="Keyword">renaming</a> <a id="11746" class="Symbol">(</a><a id="11747" href="Ledger.Transaction.html#4266" class="Field">body</a> <a id="11752" class="Symbol">to</a> <a id="11755" class="Field">txb</a><a id="11758" class="Symbol">);</a> <a id="11761" class="Keyword">open</a> <a id="11766" href="Ledger.Transaction.html#2691" class="Module">TxBody</a> <a id="11773" href="Ledger.Ledger.Properties.html#11755" class="Function">txb</a>
  <a id="11779" class="Keyword">open</a> <a id="11784" href="Ledger.Ledger.html#545" class="Module">LEnv</a> <a id="11789" href="Ledger.Ledger.Properties.html#11695" class="Bound">Γ</a> <a id="11791" class="Keyword">renaming</a> <a id="11800" class="Symbol">(</a><a id="11801" href="Ledger.Ledger.html#633" class="Field">pparams</a> <a id="11809" class="Symbol">to</a> <a id="11812" class="Field">pp</a><a id="11814" class="Symbol">)</a>
  <a id="11818" class="Keyword">open</a> <a id="11823" href="Ledger.PParams.html#1570" class="Module">PParams</a> <a id="11831" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a> <a id="11834" class="Keyword">using</a> <a id="11840" class="Symbol">(</a><a id="11841" href="Ledger.PParams.html#3236" class="Field">govActionDeposit</a><a id="11857" class="Symbol">;</a> <a id="11859" href="Ledger.PParams.html#2121" class="Field">poolDeposit</a><a id="11870" class="Symbol">)</a>
  <a id="SetoidProperties.govSt"></a><a id="11874" href="Ledger.Ledger.Properties.html#11874" class="Function">govSt</a> <a id="11880" class="Symbol">:</a> <a id="11882" href="Ledger.Gov.html#1334" class="Function">GovState</a>
  <a id="11893" href="Ledger.Ledger.Properties.html#11874" class="Function">govSt</a> <a id="11899" class="Symbol">=</a> <a id="11901" href="Ledger.Ledger.html#895" class="Field">LState.govSt</a> <a id="11914" href="Ledger.Ledger.Properties.html#11706" class="Bound">s</a>
  <a id="11918" class="Keyword">open</a> <a id="11923" href="Ledger.Ledger.Properties.html#9143" class="Module">LEDGER-PROPS</a> <a id="11936" href="Ledger.Ledger.Properties.html#11685" class="Bound">tx</a> <a id="11939" href="Ledger.Ledger.Properties.html#11695" class="Bound">Γ</a> <a id="11941" href="Ledger.Ledger.Properties.html#11706" class="Bound">s</a> <a id="11943" class="Keyword">using</a> <a id="11949" class="Symbol">(</a><a id="11950" href="Ledger.Ledger.Properties.html#9425" class="Function">utxoDeps</a><a id="11958" class="Symbol">;</a> <a id="11960" href="Ledger.Ledger.Properties.html#9795" class="Function">propUpdate</a><a id="11970" class="Symbol">;</a> <a id="11972" href="Ledger.Ledger.Properties.html#9538" class="Function">mkAction</a><a id="11980" class="Symbol">;</a> <a id="11982" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a><a id="11997" class="Symbol">;</a> <a id="11999" href="Ledger.Ledger.Properties.html#10450" class="Function">STS→GovSt≡</a><a id="12009" class="Symbol">;</a> <a id="12011" href="Ledger.Ledger.Properties.html#9936" class="Function">voteUpdate</a><a id="12021" class="Symbol">;</a> <a id="12023" href="Ledger.Ledger.Properties.html#11429" class="Function">dpMap-rmOrphanDRepVotes</a><a id="12046" class="Symbol">)</a>
  <a id="12050" class="Keyword">open</a> <a id="12055" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="12071" class="Symbol">(</a><a id="12072" href="Axiom.Set.Properties.html#3967" class="Function">≡ᵉ-Setoid</a><a id="12081" class="Symbol">{</a><a id="12082" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a><a id="12096" class="Symbol">})</a>

  <a id="SetoidProperties.CredDepIsNotGADep"></a><a id="12102" href="Ledger.Ledger.Properties.html#12102" class="Function">CredDepIsNotGADep</a> <a id="12120" class="Symbol">:</a> <a id="12122" class="Symbol">∀</a> <a id="12124" class="Symbol">{</a><a id="12125" href="Ledger.Ledger.Properties.html#12125" class="Bound">a</a> <a id="12127" href="Ledger.Ledger.Properties.html#12127" class="Bound">c</a><a id="12128" class="Symbol">}</a> <a id="12130" class="Symbol">→</a> <a id="12132" href="Ledger.Ledger.Properties.html#12125" class="Bound">a</a> <a id="12134" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12136" href="Ledger.Certs.html#362" class="InductiveConstructor">CredentialDeposit</a> <a id="12154" href="Ledger.Ledger.Properties.html#12127" class="Bound">c</a> <a id="12156" class="Symbol">→</a> <a id="12158" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12160" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="12172" href="Ledger.Ledger.Properties.html#12125" class="Bound">a</a>
  <a id="12176" href="Ledger.Ledger.Properties.html#12102" class="Function">CredDepIsNotGADep</a> <a id="12194" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12199" class="Symbol">()</a>

  <a id="SetoidProperties.PoolDepIsNotGADep"></a><a id="12205" href="Ledger.Ledger.Properties.html#12205" class="Function">PoolDepIsNotGADep</a> <a id="12223" class="Symbol">:</a> <a id="12225" class="Symbol">∀</a> <a id="12227" class="Symbol">{</a><a id="12228" href="Ledger.Ledger.Properties.html#12228" class="Bound">a</a> <a id="12230" href="Ledger.Ledger.Properties.html#12230" class="Bound">c</a><a id="12231" class="Symbol">}</a> <a id="12233" class="Symbol">→</a> <a id="12235" href="Ledger.Ledger.Properties.html#12228" class="Bound">a</a> <a id="12237" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12239" href="Ledger.Certs.html#415" class="InductiveConstructor">PoolDeposit</a> <a id="12251" href="Ledger.Ledger.Properties.html#12230" class="Bound">c</a> <a id="12253" class="Symbol">→</a> <a id="12255" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12257" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="12269" href="Ledger.Ledger.Properties.html#12228" class="Bound">a</a>
  <a id="12273" href="Ledger.Ledger.Properties.html#12205" class="Function">PoolDepIsNotGADep</a> <a id="12291" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12296" class="Symbol">()</a>

  <a id="SetoidProperties.DRepDepIsNotGADep"></a><a id="12302" href="Ledger.Ledger.Properties.html#12302" class="Function">DRepDepIsNotGADep</a> <a id="12320" class="Symbol">:</a> <a id="12322" class="Symbol">∀</a> <a id="12324" class="Symbol">{</a><a id="12325" href="Ledger.Ledger.Properties.html#12325" class="Bound">a</a> <a id="12327" href="Ledger.Ledger.Properties.html#12327" class="Bound">c</a><a id="12328" class="Symbol">}</a> <a id="12330" class="Symbol">→</a> <a id="12332" href="Ledger.Ledger.Properties.html#12325" class="Bound">a</a> <a id="12334" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12336" href="Ledger.Certs.html#468" class="InductiveConstructor">DRepDeposit</a> <a id="12348" href="Ledger.Ledger.Properties.html#12327" class="Bound">c</a> <a id="12350" class="Symbol">→</a> <a id="12352" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12354" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="12366" href="Ledger.Ledger.Properties.html#12325" class="Bound">a</a>
  <a id="12370" href="Ledger.Ledger.Properties.html#12302" class="Function">DRepDepIsNotGADep</a> <a id="12388" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12393" class="Symbol">()</a>

  <a id="SetoidProperties.filterCR"></a><a id="12399" href="Ledger.Ledger.Properties.html#12399" class="Function">filterCR</a> <a id="12408" class="Symbol">:</a> <a id="12410" class="Symbol">(</a><a id="12411" href="Ledger.Ledger.Properties.html#12411" class="Bound">c</a> <a id="12413" class="Symbol">:</a> <a id="12415" href="Ledger.Certs.html#1324" class="Datatype">DCert</a><a id="12420" class="Symbol">)</a> <a id="12422" class="Symbol">(</a><a id="12423" href="Ledger.Ledger.Properties.html#12423" class="Bound">deps</a> <a id="12428" class="Symbol">:</a> <a id="12430" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="12438" class="Symbol">)</a>
             <a id="12453" class="Symbol">→</a> <a id="12455" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12463" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="12475" class="Symbol">(</a><a id="12476" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12480" class="Symbol">(</a> <a id="12482" href="Ledger.Ledger.Properties.html#12423" class="Bound">deps</a> <a id="12487" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12489" href="Ledger.Utxo.html#4323" class="Function">certRefund</a> <a id="12500" href="Ledger.Ledger.Properties.html#12411" class="Bound">c</a> <a id="12502" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a> <a id="12504" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12506" class="Symbol">))</a> <a id="12509" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="12512" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12520" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="12532" class="Symbol">(</a><a id="12533" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12537" class="Symbol">(</a><a id="12538" href="Ledger.Ledger.Properties.html#12423" class="Bound">deps</a> <a id="12543" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12544" class="Symbol">))</a>
  <a id="12549" href="Ledger.Ledger.Properties.html#12399" class="Function">filterCR</a> <a id="12558" class="Symbol">(</a><a id="12559" href="Ledger.Certs.html#1418" class="InductiveConstructor">dereg</a> <a id="12565" href="Ledger.Ledger.Properties.html#12565" class="Bound">c</a> <a id="12567" class="Symbol">_)</a> <a id="12570" href="Ledger.Ledger.Properties.html#12570" class="Bound">deps</a> <a id="12575" class="Symbol">=</a> <a id="12577" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="12584" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12586" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="12596" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12604" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="12616" class="Symbol">(</a><a id="12617" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12621" class="Symbol">(</a><a id="12622" href="Ledger.Ledger.Properties.html#12570" class="Bound">deps</a> <a id="12627" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12628" class="Symbol">))</a> <a id="12631" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="12635" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="12650" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12652" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="12661" class="Symbol">(</a><a id="12662" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="12671" href="Axiom.Set.Properties.html#9285" class="Function">Dec-∈-singleton</a><a id="12686" class="Symbol">)</a> <a id="12688" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="12694" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12702" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="12714" class="Symbol">(</a><a id="12715" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12719" class="Symbol">((</a><a id="12721" href="Ledger.Ledger.Properties.html#12570" class="Bound">deps</a> <a id="12726" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12728" href="Ledger.Ledger.Properties.html#13168" class="Function">cr</a><a id="12730" class="Symbol">)</a><a id="12731" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12733" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12735" class="Symbol">(</a><a id="12736" href="Ledger.Ledger.Properties.html#12570" class="Bound">deps</a> <a id="12741" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12743" href="Ledger.Ledger.Properties.html#13168" class="Function">cr</a> <a id="12746" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12747" class="Symbol">)</a><a id="12748" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12749" class="Symbol">))</a> <a id="12752" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12755" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="12770" href="Axiom.Set.Rel.html#3736" class="Function">dom∪</a> <a id="12775" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12781" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12789" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="12801" class="Symbol">(</a><a id="12802" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12806" class="Symbol">((</a><a id="12808" href="Ledger.Ledger.Properties.html#12570" class="Bound">deps</a> <a id="12813" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12815" href="Ledger.Ledger.Properties.html#13168" class="Function">cr</a><a id="12817" class="Symbol">)</a> <a id="12819" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12820" class="Symbol">)</a> <a id="12822" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12824" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12828" class="Symbol">((</a><a id="12830" href="Ledger.Ledger.Properties.html#12570" class="Bound">deps</a> <a id="12835" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12837" href="Ledger.Ledger.Properties.html#13168" class="Function">cr</a> <a id="12840" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12841" class="Symbol">)</a> <a id="12843" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12845" class="Symbol">))</a> <a id="12848" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12851" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="12864" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12870" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12878" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="12890" class="Symbol">(</a><a id="12891" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12895" class="Symbol">((</a><a id="12897" href="Ledger.Ledger.Properties.html#12570" class="Bound">deps</a> <a id="12902" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12904" href="Ledger.Ledger.Properties.html#13168" class="Function">cr</a><a id="12906" class="Symbol">)</a> <a id="12908" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12909" class="Symbol">))</a> <a id="12912" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12914" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12922" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="12934" class="Symbol">(</a><a id="12935" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12939" class="Symbol">((</a><a id="12941" href="Ledger.Ledger.Properties.html#12570" class="Bound">deps</a> <a id="12946" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12948" href="Ledger.Ledger.Properties.html#13168" class="Function">cr</a> <a id="12951" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12952" class="Symbol">)</a> <a id="12954" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12956" class="Symbol">))</a> <a id="12959" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12962" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="12969" href="Ledger.Ledger.Properties.html#13201" class="Function">filter0</a> <a id="12977" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="12985" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12991" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="12993" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12995" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13003" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="13015" class="Symbol">(</a><a id="13016" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13020" class="Symbol">((</a><a id="13022" href="Ledger.Ledger.Properties.html#12570" class="Bound">deps</a> <a id="13027" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13029" href="Ledger.Ledger.Properties.html#13168" class="Function">cr</a> <a id="13032" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13033" class="Symbol">)</a> <a id="13035" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13037" class="Symbol">))</a> <a id="13040" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13043" href="Axiom.Set.Properties.html#11917" class="Function">∪-identityˡ</a> <a id="13055" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13057" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13065" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="13077" class="Symbol">(</a><a id="13078" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13082" class="Symbol">((</a><a id="13084" href="Ledger.Ledger.Properties.html#12570" class="Bound">deps</a> <a id="13089" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13091" href="Ledger.Ledger.Properties.html#13168" class="Function">cr</a> <a id="13094" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13095" class="Symbol">)</a> <a id="13097" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13099" class="Symbol">))</a> <a id="13102" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13108" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13116" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="13128" class="Symbol">(</a><a id="13129" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13133" class="Symbol">((</a><a id="13135" href="Ledger.Ledger.Properties.html#12570" class="Bound">deps</a> <a id="13140" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13142" href="Ledger.Ledger.Properties.html#13168" class="Function">cr</a> <a id="13145" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13146" class="Symbol">)</a> <a id="13148" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13149" class="Symbol">))</a> <a id="13152" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="13158" class="Keyword">where</a>
    <a id="13168" href="Ledger.Ledger.Properties.html#13168" class="Function">cr</a> <a id="13171" class="Symbol">=</a> <a id="13173" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="13175" href="Ledger.Certs.html#362" class="InductiveConstructor">CredentialDeposit</a> <a id="13193" href="Ledger.Ledger.Properties.html#12565" class="Bound">c</a> <a id="13195" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
    <a id="13201" href="Ledger.Ledger.Properties.html#13201" class="Function">filter0</a> <a id="13209" class="Symbol">=</a> <a id="13211" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="13220" class="Symbol">(λ</a> <a id="13223" href="Ledger.Ledger.Properties.html#13223" class="Bound">_</a> <a id="13225" class="Symbol">→</a> <a id="13227" href="Ledger.Ledger.Properties.html#12102" class="Function">CredDepIsNotGADep</a> <a id="13245" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13247" class="Symbol">(</a><a id="13248" href="Function.Bundles.html#4834" class="Field">from</a> <a id="13253" href="Axiom.Set.html#6243" class="Function">∈-singleton</a><a id="13264" class="Symbol">)</a> <a id="13266" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13268" href="Axiom.Set.Rel.html#6681" class="Function">res-dom</a><a id="13275" class="Symbol">)</a>
  <a id="13279" href="Ledger.Ledger.Properties.html#12399" class="Function">filterCR</a> <a id="13288" class="Symbol">(</a><a id="13289" href="Ledger.Certs.html#1602" class="InductiveConstructor">deregdrep</a> <a id="13299" href="Ledger.Ledger.Properties.html#13299" class="Bound">c</a> <a id="13301" class="Symbol">_)</a> <a id="13304" href="Ledger.Ledger.Properties.html#13304" class="Bound">deps</a> <a id="13309" class="Symbol">=</a> <a id="13311" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="13318" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13320" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="13330" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13338" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="13350" class="Symbol">(</a><a id="13351" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13355" class="Symbol">(</a><a id="13356" href="Ledger.Ledger.Properties.html#13304" class="Bound">deps</a> <a id="13361" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13362" class="Symbol">))</a> <a id="13365" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="13369" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="13384" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13386" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="13395" class="Symbol">(</a><a id="13396" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="13405" href="Axiom.Set.Properties.html#9285" class="Function">Dec-∈-singleton</a><a id="13420" class="Symbol">)</a> <a id="13422" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="13428" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13436" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="13448" class="Symbol">(</a><a id="13449" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13453" class="Symbol">((</a><a id="13455" href="Ledger.Ledger.Properties.html#13304" class="Bound">deps</a> <a id="13460" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="13462" href="Ledger.Ledger.Properties.html#13902" class="Function">cr</a><a id="13464" class="Symbol">)</a><a id="13465" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13467" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13469" class="Symbol">(</a><a id="13470" href="Ledger.Ledger.Properties.html#13304" class="Bound">deps</a> <a id="13475" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13477" href="Ledger.Ledger.Properties.html#13902" class="Function">cr</a> <a id="13480" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13481" class="Symbol">)</a><a id="13482" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13483" class="Symbol">))</a> <a id="13486" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13489" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="13504" href="Axiom.Set.Rel.html#3736" class="Function">dom∪</a> <a id="13509" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13515" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13523" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="13535" class="Symbol">(</a><a id="13536" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13540" class="Symbol">((</a><a id="13542" href="Ledger.Ledger.Properties.html#13304" class="Bound">deps</a> <a id="13547" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="13549" href="Ledger.Ledger.Properties.html#13902" class="Function">cr</a><a id="13551" class="Symbol">)</a> <a id="13553" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13554" class="Symbol">)</a> <a id="13556" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13558" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13562" class="Symbol">((</a><a id="13564" href="Ledger.Ledger.Properties.html#13304" class="Bound">deps</a> <a id="13569" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13571" href="Ledger.Ledger.Properties.html#13902" class="Function">cr</a> <a id="13574" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13575" class="Symbol">)</a> <a id="13577" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13579" class="Symbol">))</a> <a id="13582" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13585" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="13598" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13604" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13612" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="13624" class="Symbol">(</a><a id="13625" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13629" class="Symbol">((</a><a id="13631" href="Ledger.Ledger.Properties.html#13304" class="Bound">deps</a> <a id="13636" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="13638" href="Ledger.Ledger.Properties.html#13902" class="Function">cr</a><a id="13640" class="Symbol">)</a> <a id="13642" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13643" class="Symbol">))</a> <a id="13646" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13648" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13656" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="13668" class="Symbol">(</a><a id="13669" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13673" class="Symbol">((</a><a id="13675" href="Ledger.Ledger.Properties.html#13304" class="Bound">deps</a> <a id="13680" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13682" href="Ledger.Ledger.Properties.html#13902" class="Function">cr</a> <a id="13685" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13686" class="Symbol">)</a> <a id="13688" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13690" class="Symbol">))</a> <a id="13693" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13696" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="13703" href="Ledger.Ledger.Properties.html#13929" class="Function">filter0</a> <a id="13711" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="13719" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13725" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="13727" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13729" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13737" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="13749" class="Symbol">(</a><a id="13750" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13754" class="Symbol">((</a><a id="13756" href="Ledger.Ledger.Properties.html#13304" class="Bound">deps</a> <a id="13761" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13763" href="Ledger.Ledger.Properties.html#13902" class="Function">cr</a> <a id="13766" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13767" class="Symbol">)</a> <a id="13769" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13771" class="Symbol">))</a> <a id="13774" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13777" href="Axiom.Set.Properties.html#11917" class="Function">∪-identityˡ</a> <a id="13789" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13791" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13799" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="13811" class="Symbol">(</a><a id="13812" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13816" class="Symbol">((</a><a id="13818" href="Ledger.Ledger.Properties.html#13304" class="Bound">deps</a> <a id="13823" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13825" href="Ledger.Ledger.Properties.html#13902" class="Function">cr</a> <a id="13828" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13829" class="Symbol">)</a> <a id="13831" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13833" class="Symbol">))</a> <a id="13836" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13842" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13850" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="13862" class="Symbol">(</a><a id="13863" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13867" class="Symbol">((</a><a id="13869" href="Ledger.Ledger.Properties.html#13304" class="Bound">deps</a> <a id="13874" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13876" href="Ledger.Ledger.Properties.html#13902" class="Function">cr</a> <a id="13879" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13880" class="Symbol">)</a> <a id="13882" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13883" class="Symbol">))</a> <a id="13886" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="13892" class="Keyword">where</a>
    <a id="13902" href="Ledger.Ledger.Properties.html#13902" class="Function">cr</a> <a id="13905" class="Symbol">=</a> <a id="13907" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="13909" href="Ledger.Certs.html#468" class="InductiveConstructor">DRepDeposit</a> <a id="13921" href="Ledger.Ledger.Properties.html#13299" class="Bound">c</a> <a id="13923" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
    <a id="13929" href="Ledger.Ledger.Properties.html#13929" class="Function">filter0</a> <a id="13937" class="Symbol">=</a> <a id="13939" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="13948" class="Symbol">(λ</a> <a id="13951" href="Ledger.Ledger.Properties.html#13951" class="Bound">_</a> <a id="13953" class="Symbol">→</a> <a id="13955" href="Ledger.Ledger.Properties.html#12302" class="Function">DRepDepIsNotGADep</a> <a id="13973" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13975" class="Symbol">(</a><a id="13976" href="Function.Bundles.html#4834" class="Field">from</a> <a id="13981" href="Axiom.Set.html#6243" class="Function">∈-singleton</a><a id="13992" class="Symbol">)</a> <a id="13994" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13996" href="Axiom.Set.Rel.html#6681" class="Function">res-dom</a><a id="14003" class="Symbol">)</a>
  <a id="14007" href="Ledger.Ledger.Properties.html#12399" class="Function">filterCR</a> <a id="14016" class="Symbol">(</a><a id="14017" href="Ledger.Certs.html#1345" class="InductiveConstructor">delegate</a> <a id="14026" class="Symbol">_</a> <a id="14028" class="Symbol">_</a> <a id="14030" class="Symbol">_</a> <a id="14032" class="Symbol">_)</a>  <a id="14036" href="Ledger.Ledger.Properties.html#14036" class="Bound">deps</a> <a id="14041" class="Symbol">=</a> <a id="14043" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14058" class="Symbol">(</a><a id="14059" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14068" class="Symbol">(</a><a id="14069" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14077" class="Symbol">{</a><a id="14078" class="Argument">M</a> <a id="14080" class="Symbol">=</a> <a id="14082" href="Ledger.Ledger.Properties.html#14036" class="Bound">deps</a><a id="14086" class="Symbol">}))</a>
  <a id="14092" href="Ledger.Ledger.Properties.html#12399" class="Function">filterCR</a> <a id="14101" class="Symbol">(</a><a id="14102" href="Ledger.Certs.html#1466" class="InductiveConstructor">regpool</a> <a id="14110" class="Symbol">_</a> <a id="14112" class="Symbol">_)</a>       <a id="14121" href="Ledger.Ledger.Properties.html#14121" class="Bound">deps</a> <a id="14126" class="Symbol">=</a> <a id="14128" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14143" class="Symbol">(</a><a id="14144" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14153" class="Symbol">(</a><a id="14154" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14162" class="Symbol">{</a><a id="14163" class="Argument">M</a> <a id="14165" class="Symbol">=</a> <a id="14167" href="Ledger.Ledger.Properties.html#14121" class="Bound">deps</a><a id="14171" class="Symbol">}))</a>
  <a id="14177" href="Ledger.Ledger.Properties.html#12399" class="Function">filterCR</a> <a id="14186" class="Symbol">(</a><a id="14187" href="Ledger.Certs.html#1551" class="InductiveConstructor">regdrep</a> <a id="14195" class="Symbol">_</a> <a id="14197" class="Symbol">_</a> <a id="14199" class="Symbol">_)</a>     <a id="14206" href="Ledger.Ledger.Properties.html#14206" class="Bound">deps</a> <a id="14211" class="Symbol">=</a> <a id="14213" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14228" class="Symbol">(</a><a id="14229" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14238" class="Symbol">(</a><a id="14239" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14247" class="Symbol">{</a><a id="14248" class="Argument">M</a> <a id="14250" class="Symbol">=</a> <a id="14252" href="Ledger.Ledger.Properties.html#14206" class="Bound">deps</a><a id="14256" class="Symbol">}))</a>
  <a id="14262" href="Ledger.Ledger.Properties.html#12399" class="Function">filterCR</a> <a id="14271" class="Symbol">(</a><a id="14272" href="Ledger.Certs.html#1511" class="InductiveConstructor">retirepool</a> <a id="14283" class="Symbol">_</a> <a id="14285" class="Symbol">_)</a>    <a id="14291" href="Ledger.Ledger.Properties.html#14291" class="Bound">deps</a> <a id="14296" class="Symbol">=</a> <a id="14298" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14313" class="Symbol">(</a><a id="14314" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14323" class="Symbol">(</a><a id="14324" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14332" class="Symbol">{</a><a id="14333" class="Argument">M</a> <a id="14335" class="Symbol">=</a> <a id="14337" href="Ledger.Ledger.Properties.html#14291" class="Bound">deps</a><a id="14341" class="Symbol">}))</a>
  <a id="14347" href="Ledger.Ledger.Properties.html#12399" class="Function">filterCR</a> <a id="14356" class="Symbol">(</a><a id="14357" href="Ledger.Certs.html#1644" class="InductiveConstructor">ccreghot</a> <a id="14366" class="Symbol">_</a> <a id="14368" class="Symbol">_)</a>      <a id="14376" href="Ledger.Ledger.Properties.html#14376" class="Bound">deps</a> <a id="14381" class="Symbol">=</a> <a id="14383" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14398" class="Symbol">(</a><a id="14399" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14408" class="Symbol">(</a><a id="14409" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14417" class="Symbol">{</a><a id="14418" class="Argument">M</a> <a id="14420" class="Symbol">=</a> <a id="14422" href="Ledger.Ledger.Properties.html#14376" class="Bound">deps</a><a id="14426" class="Symbol">}))</a>
  <a id="14432" href="Ledger.Ledger.Properties.html#12399" class="Function">filterCR</a> <a id="14441" class="Symbol">(</a><a id="14442" href="Ledger.Certs.html#2031" class="InductiveConstructor">reg</a> <a id="14446" class="Symbol">_</a> <a id="14448" class="Symbol">_)</a>           <a id="14461" href="Ledger.Ledger.Properties.html#14461" class="Bound">deps</a> <a id="14466" class="Symbol">=</a> <a id="14468" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14483" class="Symbol">(</a><a id="14484" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14493" class="Symbol">(</a><a id="14494" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14502" class="Symbol">{</a><a id="14503" class="Argument">M</a> <a id="14505" class="Symbol">=</a> <a id="14507" href="Ledger.Ledger.Properties.html#14461" class="Bound">deps</a><a id="14511" class="Symbol">}))</a>

  <a id="SetoidProperties.filterCD"></a><a id="14518" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="14527" class="Symbol">:</a> <a id="14529" class="Symbol">(</a><a id="14530" href="Ledger.Ledger.Properties.html#14530" class="Bound">c</a> <a id="14532" class="Symbol">:</a> <a id="14534" href="Ledger.Certs.html#1324" class="Datatype">DCert</a><a id="14539" class="Symbol">)</a> <a id="14541" class="Symbol">(</a><a id="14542" href="Ledger.Ledger.Properties.html#14542" class="Bound">deps</a> <a id="14547" class="Symbol">:</a> <a id="14549" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="14557" class="Symbol">)</a> <a id="14559" class="Symbol">→</a> <a id="14561" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="14569" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="14581" class="Symbol">(</a><a id="14582" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14586" class="Symbol">(</a><a id="14587" href="Ledger.Utxo.html#3966" class="Function">certDeposit</a> <a id="14599" href="Ledger.Ledger.Properties.html#14530" class="Bound">c</a> <a id="14601" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a> <a id="14604" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="14605" class="Symbol">))</a> <a id="14608" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="14611" href="Class.HasEmptySet.html#287" class="Field">∅</a>
  <a id="14615" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="14624" class="Symbol">(</a><a id="14625" href="Ledger.Certs.html#1345" class="InductiveConstructor">delegate</a> <a id="14634" class="Symbol">_</a> <a id="14636" class="Symbol">_</a> <a id="14638" class="Symbol">_</a> <a id="14640" class="Symbol">_)</a>  <a id="14644" href="Ledger.Ledger.Properties.html#14644" class="Bound">deps</a> <a id="14649" class="Symbol">=</a> <a id="14651" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="14660" class="Symbol">λ</a> <a id="14662" href="Ledger.Ledger.Properties.html#14662" class="Bound">_</a> <a id="14664" class="Symbol">→</a> <a id="14666" href="Ledger.Ledger.Properties.html#12102" class="Function">CredDepIsNotGADep</a> <a id="14684" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14686" href="Function.Bundles.html#4834" class="Field">from</a> <a id="14691" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="14703" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14705" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="14725" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="14734" class="Symbol">(</a><a id="14735" href="Ledger.Certs.html#2031" class="InductiveConstructor">reg</a> <a id="14739" class="Symbol">_</a> <a id="14741" class="Symbol">_)</a>           <a id="14754" href="Ledger.Ledger.Properties.html#14754" class="Bound">deps</a> <a id="14759" class="Symbol">=</a> <a id="14761" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="14770" class="Symbol">λ</a> <a id="14772" href="Ledger.Ledger.Properties.html#14772" class="Bound">_</a> <a id="14774" class="Symbol">→</a> <a id="14776" href="Ledger.Ledger.Properties.html#12102" class="Function">CredDepIsNotGADep</a> <a id="14794" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14796" href="Function.Bundles.html#4834" class="Field">from</a> <a id="14801" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="14813" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14815" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="14835" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="14844" class="Symbol">(</a><a id="14845" href="Ledger.Certs.html#1466" class="InductiveConstructor">regpool</a> <a id="14853" class="Symbol">_</a> <a id="14855" class="Symbol">_)</a>       <a id="14864" href="Ledger.Ledger.Properties.html#14864" class="Bound">deps</a> <a id="14869" class="Symbol">=</a> <a id="14871" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="14880" class="Symbol">λ</a> <a id="14882" href="Ledger.Ledger.Properties.html#14882" class="Bound">_</a> <a id="14884" class="Symbol">→</a> <a id="14886" href="Ledger.Ledger.Properties.html#12205" class="Function">PoolDepIsNotGADep</a> <a id="14904" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14906" href="Function.Bundles.html#4834" class="Field">from</a> <a id="14911" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="14923" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14925" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="14945" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="14954" class="Symbol">(</a><a id="14955" href="Ledger.Certs.html#1551" class="InductiveConstructor">regdrep</a> <a id="14963" class="Symbol">_</a> <a id="14965" class="Symbol">_</a> <a id="14967" class="Symbol">_)</a>     <a id="14974" href="Ledger.Ledger.Properties.html#14974" class="Bound">deps</a> <a id="14979" class="Symbol">=</a> <a id="14981" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="14990" class="Symbol">λ</a> <a id="14992" href="Ledger.Ledger.Properties.html#14992" class="Bound">_</a> <a id="14994" class="Symbol">→</a> <a id="14996" href="Ledger.Ledger.Properties.html#12302" class="Function">DRepDepIsNotGADep</a> <a id="15014" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="15016" href="Function.Bundles.html#4834" class="Field">from</a> <a id="15021" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="15033" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="15035" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="15055" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="15064" class="Symbol">(</a><a id="15065" href="Ledger.Certs.html#1418" class="InductiveConstructor">dereg</a> <a id="15071" class="Symbol">_</a> <a id="15073" class="Symbol">_)</a>         <a id="15084" href="Ledger.Ledger.Properties.html#15084" class="Bound">deps</a> <a id="15089" class="Symbol">=</a> <a id="15091" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="15100" class="Symbol">(</a><a id="15101" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15116" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="15120" class="Symbol">)</a> <a id="15122" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15124" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="15133" class="Symbol">λ</a> <a id="15135" href="Ledger.Ledger.Properties.html#15135" class="Bound">_</a> <a id="15137" href="Ledger.Ledger.Properties.html#15137" class="Bound">a∈</a> <a id="15140" href="Ledger.Ledger.Properties.html#15140" class="Bound">_</a> <a id="15142" class="Symbol">→</a> <a id="15144" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="15148" href="Ledger.Ledger.Properties.html#15137" class="Bound">a∈</a>
  <a id="15153" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="15162" class="Symbol">(</a><a id="15163" href="Ledger.Certs.html#1511" class="InductiveConstructor">retirepool</a> <a id="15174" class="Symbol">_</a> <a id="15176" class="Symbol">_)</a>    <a id="15182" href="Ledger.Ledger.Properties.html#15182" class="Bound">deps</a> <a id="15187" class="Symbol">=</a> <a id="15189" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="15198" class="Symbol">(</a><a id="15199" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15214" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="15218" class="Symbol">)</a> <a id="15220" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15222" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="15231" class="Symbol">λ</a> <a id="15233" href="Ledger.Ledger.Properties.html#15233" class="Bound">_</a> <a id="15235" href="Ledger.Ledger.Properties.html#15235" class="Bound">a∈</a> <a id="15238" href="Ledger.Ledger.Properties.html#15238" class="Bound">_</a> <a id="15240" class="Symbol">→</a> <a id="15242" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="15246" href="Ledger.Ledger.Properties.html#15235" class="Bound">a∈</a>
  <a id="15251" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="15260" class="Symbol">(</a><a id="15261" href="Ledger.Certs.html#1602" class="InductiveConstructor">deregdrep</a> <a id="15271" class="Symbol">_</a> <a id="15273" class="Symbol">_)</a>     <a id="15280" href="Ledger.Ledger.Properties.html#15280" class="Bound">deps</a> <a id="15285" class="Symbol">=</a> <a id="15287" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="15296" class="Symbol">(</a><a id="15297" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15312" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="15316" class="Symbol">)</a> <a id="15318" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15320" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="15329" class="Symbol">λ</a> <a id="15331" href="Ledger.Ledger.Properties.html#15331" class="Bound">_</a> <a id="15333" href="Ledger.Ledger.Properties.html#15333" class="Bound">a∈</a> <a id="15336" href="Ledger.Ledger.Properties.html#15336" class="Bound">_</a> <a id="15338" class="Symbol">→</a> <a id="15340" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="15344" href="Ledger.Ledger.Properties.html#15333" class="Bound">a∈</a>
  <a id="15349" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="15358" class="Symbol">(</a><a id="15359" href="Ledger.Certs.html#1644" class="InductiveConstructor">ccreghot</a> <a id="15368" class="Symbol">_</a> <a id="15370" class="Symbol">_)</a>      <a id="15378" href="Ledger.Ledger.Properties.html#15378" class="Bound">deps</a> <a id="15383" class="Symbol">=</a> <a id="15385" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="15394" class="Symbol">(</a><a id="15395" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15410" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="15414" class="Symbol">)</a> <a id="15416" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15418" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="15427" class="Symbol">λ</a> <a id="15429" href="Ledger.Ledger.Properties.html#15429" class="Bound">_</a> <a id="15431" href="Ledger.Ledger.Properties.html#15431" class="Bound">a∈</a> <a id="15434" href="Ledger.Ledger.Properties.html#15434" class="Bound">_</a> <a id="15436" class="Symbol">→</a> <a id="15438" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="15442" href="Ledger.Ledger.Properties.html#15431" class="Bound">a∈</a>

  <a id="SetoidProperties.noGACerts"></a><a id="15448" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="15458" class="Symbol">:</a> <a id="15460" class="Symbol">(</a><a id="15461" href="Ledger.Ledger.Properties.html#15461" class="Bound">cs</a> <a id="15464" class="Symbol">:</a> <a id="15466" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="15471" href="Ledger.Certs.html#1324" class="Datatype">DCert</a><a id="15476" class="Symbol">)</a> <a id="15478" class="Symbol">(</a><a id="15479" href="Ledger.Ledger.Properties.html#15479" class="Bound">deps</a> <a id="15484" class="Symbol">:</a> <a id="15486" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="15494" class="Symbol">)</a>
    <a id="15500" class="Symbol">→</a> <a id="15502" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15510" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="15522" class="Symbol">(</a><a id="15523" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15527" class="Symbol">(</a><a id="15528" href="Ledger.Utxo.html#7875" class="Function">updateCertDeposits</a> <a id="15547" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a> <a id="15550" href="Ledger.Ledger.Properties.html#15461" class="Bound">cs</a> <a id="15553" href="Ledger.Ledger.Properties.html#15479" class="Bound">deps</a><a id="15557" class="Symbol">))</a> <a id="15560" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="15563" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15571" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="15583" class="Symbol">(</a><a id="15584" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15588" href="Ledger.Ledger.Properties.html#15479" class="Bound">deps</a><a id="15592" class="Symbol">)</a>
  <a id="15596" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="15606" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="15609" class="Symbol">_</a> <a id="15611" class="Symbol">=</a> <a id="15613" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15628" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a>
  <a id="15638" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="15648" class="Symbol">(</a><a id="15649" href="Ledger.Ledger.Properties.html#15649" class="Bound">dcert</a><a id="15654" class="Symbol">@(</a><a id="15656" href="Ledger.Certs.html#1345" class="InductiveConstructor">delegate</a> <a id="15665" class="Symbol">_</a> <a id="15667" class="Symbol">_</a> <a id="15669" class="Symbol">_</a> <a id="15671" class="Symbol">_)</a> <a id="15674" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15676" href="Ledger.Ledger.Properties.html#15676" class="Bound">cs</a><a id="15678" class="Symbol">)</a> <a id="15680" href="Ledger.Ledger.Properties.html#15680" class="Bound">deps</a> <a id="15685" class="Symbol">=</a> <a id="15687" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="15697" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15705" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="15717" class="Symbol">(</a><a id="15718" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15722" class="Symbol">(</a><a id="15723" href="Ledger.Utxo.html#7875" class="Function">updateCertDeposits</a> <a id="15742" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a> <a id="15745" href="Ledger.Ledger.Properties.html#15676" class="Bound">cs</a> <a id="15748" class="Symbol">(</a><a id="15749" href="Ledger.Ledger.Properties.html#15680" class="Bound">deps</a> <a id="15754" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="15757" href="Ledger.Ledger.Properties.html#16178" class="Function">cd</a><a id="15759" class="Symbol">)))</a> <a id="15763" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15766" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="15776" href="Ledger.Ledger.Properties.html#15676" class="Bound">cs</a> <a id="15779" class="Symbol">_</a> <a id="15781" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="15787" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15795" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="15807" class="Symbol">(</a><a id="15808" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15812" class="Symbol">(</a><a id="15813" href="Ledger.Ledger.Properties.html#15680" class="Bound">deps</a> <a id="15818" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="15821" href="Ledger.Ledger.Properties.html#16178" class="Function">cd</a><a id="15823" class="Symbol">))</a> <a id="15826" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15829" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15844" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="15855" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="15861" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15869" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="15881" class="Symbol">(</a><a id="15882" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15886" href="Ledger.Ledger.Properties.html#15680" class="Bound">deps</a> <a id="15891" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="15893" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15897" class="Symbol">(</a><a id="15898" href="Ledger.Ledger.Properties.html#16178" class="Function">cd</a> <a id="15901" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="15903" class="Symbol">))</a> <a id="15906" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15909" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="15922" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="15928" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15936" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="15948" class="Symbol">(</a><a id="15949" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15953" href="Ledger.Ledger.Properties.html#15680" class="Bound">deps</a><a id="15957" class="Symbol">)</a> <a id="15959" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="15961" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15969" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="15981" class="Symbol">(</a><a id="15982" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15986" class="Symbol">(</a><a id="15987" href="Ledger.Ledger.Properties.html#16178" class="Function">cd</a> <a id="15990" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="15991" class="Symbol">))</a> <a id="15994" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15997" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="16004" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="16012" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16014" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="16023" href="Ledger.Ledger.Properties.html#15649" class="Bound">dcert</a> <a id="16029" href="Ledger.Ledger.Properties.html#15680" class="Bound">deps</a> <a id="16034" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16040" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16048" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="16060" class="Symbol">(</a><a id="16061" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16065" href="Ledger.Ledger.Properties.html#15680" class="Bound">deps</a><a id="16069" class="Symbol">)</a> <a id="16071" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16073" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="16075" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16078" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="16090" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16092" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16100" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="16112" class="Symbol">(</a><a id="16113" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16117" href="Ledger.Ledger.Properties.html#15680" class="Bound">deps</a><a id="16121" class="Symbol">)</a> <a id="16123" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16129" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16137" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="16149" class="Symbol">(</a><a id="16150" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16154" href="Ledger.Ledger.Properties.html#15680" class="Bound">deps</a><a id="16158" class="Symbol">)</a> <a id="16160" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="16166" class="Keyword">where</a>
      <a id="16178" href="Ledger.Ledger.Properties.html#16178" class="Function">cd</a> <a id="16181" class="Symbol">=</a> <a id="16183" href="Ledger.Utxo.html#3966" class="Function">certDeposit</a> <a id="16195" href="Ledger.Ledger.Properties.html#15649" class="Bound">dcert</a> <a id="16201" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a>
      <a id="16210" href="Ledger.Ledger.Properties.html#16210" class="Function">filter0</a> <a id="16218" class="Symbol">=</a> <a id="16220" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="16229" href="Ledger.Ledger.Properties.html#15649" class="Bound">dcert</a> <a id="16235" href="Ledger.Ledger.Properties.html#15680" class="Bound">deps</a>
  <a id="16242" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="16252" class="Symbol">(</a><a id="16253" href="Ledger.Ledger.Properties.html#16253" class="Bound">dcert</a><a id="16258" class="Symbol">@(</a><a id="16260" href="Ledger.Certs.html#2031" class="InductiveConstructor">reg</a> <a id="16264" class="Symbol">_</a> <a id="16266" class="Symbol">_)</a> <a id="16269" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16271" href="Ledger.Ledger.Properties.html#16271" class="Bound">cs</a><a id="16273" class="Symbol">)</a> <a id="16275" href="Ledger.Ledger.Properties.html#16275" class="Bound">deps</a> <a id="16280" class="Symbol">=</a> <a id="16282" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16292" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16300" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="16312" class="Symbol">(</a><a id="16313" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16317" class="Symbol">(</a><a id="16318" href="Ledger.Utxo.html#7875" class="Function">updateCertDeposits</a> <a id="16337" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a> <a id="16340" href="Ledger.Ledger.Properties.html#16271" class="Bound">cs</a> <a id="16343" class="Symbol">(</a><a id="16344" href="Ledger.Ledger.Properties.html#16275" class="Bound">deps</a> <a id="16349" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="16352" href="Ledger.Ledger.Properties.html#16773" class="Function">cd</a><a id="16354" class="Symbol">)))</a> <a id="16358" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16361" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="16371" href="Ledger.Ledger.Properties.html#16271" class="Bound">cs</a> <a id="16374" class="Symbol">_</a> <a id="16376" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16382" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16390" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="16402" class="Symbol">(</a><a id="16403" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16407" class="Symbol">(</a><a id="16408" href="Ledger.Ledger.Properties.html#16275" class="Bound">deps</a> <a id="16413" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="16416" href="Ledger.Ledger.Properties.html#16773" class="Function">cd</a><a id="16418" class="Symbol">))</a> <a id="16421" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16424" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="16439" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="16450" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16456" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16464" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="16476" class="Symbol">(</a><a id="16477" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16481" href="Ledger.Ledger.Properties.html#16275" class="Bound">deps</a> <a id="16486" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16488" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16492" class="Symbol">(</a><a id="16493" href="Ledger.Ledger.Properties.html#16773" class="Function">cd</a> <a id="16496" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="16498" class="Symbol">))</a> <a id="16501" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16504" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="16517" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16523" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16531" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="16543" class="Symbol">(</a><a id="16544" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16548" href="Ledger.Ledger.Properties.html#16275" class="Bound">deps</a><a id="16552" class="Symbol">)</a> <a id="16554" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16556" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16564" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="16576" class="Symbol">(</a><a id="16577" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16581" class="Symbol">(</a><a id="16582" href="Ledger.Ledger.Properties.html#16773" class="Function">cd</a> <a id="16585" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="16586" class="Symbol">))</a> <a id="16589" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16592" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="16599" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="16607" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16609" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="16618" href="Ledger.Ledger.Properties.html#16253" class="Bound">dcert</a> <a id="16624" href="Ledger.Ledger.Properties.html#16275" class="Bound">deps</a> <a id="16629" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16635" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16643" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="16655" class="Symbol">(</a><a id="16656" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16660" href="Ledger.Ledger.Properties.html#16275" class="Bound">deps</a><a id="16664" class="Symbol">)</a> <a id="16666" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16668" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="16670" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16673" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="16685" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16687" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16695" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="16707" class="Symbol">(</a><a id="16708" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16712" href="Ledger.Ledger.Properties.html#16275" class="Bound">deps</a><a id="16716" class="Symbol">)</a> <a id="16718" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16724" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16732" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="16744" class="Symbol">(</a><a id="16745" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16749" href="Ledger.Ledger.Properties.html#16275" class="Bound">deps</a><a id="16753" class="Symbol">)</a> <a id="16755" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="16761" class="Keyword">where</a>
      <a id="16773" href="Ledger.Ledger.Properties.html#16773" class="Function">cd</a> <a id="16776" class="Symbol">=</a> <a id="16778" href="Ledger.Utxo.html#3966" class="Function">certDeposit</a> <a id="16790" href="Ledger.Ledger.Properties.html#16253" class="Bound">dcert</a> <a id="16796" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a>
      <a id="16805" href="Ledger.Ledger.Properties.html#16805" class="Function">filter0</a> <a id="16813" class="Symbol">=</a> <a id="16815" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="16824" href="Ledger.Ledger.Properties.html#16253" class="Bound">dcert</a> <a id="16830" href="Ledger.Ledger.Properties.html#16275" class="Bound">deps</a>
  <a id="16837" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="16847" class="Symbol">(</a><a id="16848" href="Ledger.Ledger.Properties.html#16848" class="Bound">dcert</a><a id="16853" class="Symbol">@(</a><a id="16855" href="Ledger.Certs.html#1466" class="InductiveConstructor">regpool</a> <a id="16863" class="Symbol">_</a> <a id="16865" class="Symbol">_)</a> <a id="16868" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16870" href="Ledger.Ledger.Properties.html#16870" class="Bound">cs</a><a id="16872" class="Symbol">)</a> <a id="16874" href="Ledger.Ledger.Properties.html#16874" class="Bound">deps</a> <a id="16879" class="Symbol">=</a> <a id="16881" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16891" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16899" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="16911" class="Symbol">(</a><a id="16912" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16916" class="Symbol">(</a><a id="16917" href="Ledger.Utxo.html#7875" class="Function">updateCertDeposits</a> <a id="16936" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a> <a id="16939" href="Ledger.Ledger.Properties.html#16870" class="Bound">cs</a> <a id="16942" class="Symbol">(</a><a id="16943" href="Ledger.Ledger.Properties.html#16874" class="Bound">deps</a> <a id="16948" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="16951" href="Ledger.Ledger.Properties.html#17358" class="Function">cd</a><a id="16953" class="Symbol">)))</a> <a id="16957" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16960" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="16970" href="Ledger.Ledger.Properties.html#16870" class="Bound">cs</a> <a id="16973" class="Symbol">_</a> <a id="16975" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16981" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16989" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17001" class="Symbol">(</a><a id="17002" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17006" class="Symbol">(</a><a id="17007" href="Ledger.Ledger.Properties.html#16874" class="Bound">deps</a> <a id="17012" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="17015" href="Ledger.Ledger.Properties.html#17358" class="Function">cd</a><a id="17017" class="Symbol">))</a> <a id="17020" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17023" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="17038" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="17049" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17055" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17063" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17075" class="Symbol">(</a><a id="17076" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17080" href="Ledger.Ledger.Properties.html#16874" class="Bound">deps</a> <a id="17085" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17087" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17091" class="Symbol">(</a><a id="17092" href="Ledger.Ledger.Properties.html#17358" class="Function">cd</a> <a id="17095" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="17097" class="Symbol">))</a> <a id="17100" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17103" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="17116" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17122" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17130" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17142" class="Symbol">(</a><a id="17143" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17147" href="Ledger.Ledger.Properties.html#16874" class="Bound">deps</a><a id="17151" class="Symbol">)</a> <a id="17153" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17155" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17163" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17175" class="Symbol">(</a><a id="17176" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17180" class="Symbol">(</a><a id="17181" href="Ledger.Ledger.Properties.html#17358" class="Function">cd</a> <a id="17184" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="17185" class="Symbol">))</a> <a id="17188" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17191" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="17198" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="17206" href="Ledger.Ledger.Properties.html#17390" class="Function">filter0</a> <a id="17214" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17220" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17228" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17240" class="Symbol">(</a><a id="17241" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17245" href="Ledger.Ledger.Properties.html#16874" class="Bound">deps</a><a id="17249" class="Symbol">)</a> <a id="17251" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17253" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="17255" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17258" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="17270" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17272" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17280" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17292" class="Symbol">(</a><a id="17293" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17297" href="Ledger.Ledger.Properties.html#16874" class="Bound">deps</a><a id="17301" class="Symbol">)</a> <a id="17303" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17309" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17317" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17329" class="Symbol">(</a><a id="17330" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17334" href="Ledger.Ledger.Properties.html#16874" class="Bound">deps</a><a id="17338" class="Symbol">)</a> <a id="17340" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="17346" class="Keyword">where</a>
      <a id="17358" href="Ledger.Ledger.Properties.html#17358" class="Function">cd</a> <a id="17361" class="Symbol">=</a> <a id="17363" href="Ledger.Utxo.html#3966" class="Function">certDeposit</a> <a id="17375" href="Ledger.Ledger.Properties.html#16848" class="Bound">dcert</a> <a id="17381" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a>
      <a id="17390" href="Ledger.Ledger.Properties.html#17390" class="Function">filter0</a> <a id="17398" class="Symbol">=</a> <a id="17400" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="17409" href="Ledger.Ledger.Properties.html#16848" class="Bound">dcert</a> <a id="17415" href="Ledger.Ledger.Properties.html#16874" class="Bound">deps</a>
  <a id="17422" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="17432" class="Symbol">(</a><a id="17433" href="Ledger.Ledger.Properties.html#17433" class="Bound">dcert</a><a id="17438" class="Symbol">@(</a><a id="17440" href="Ledger.Certs.html#1551" class="InductiveConstructor">regdrep</a> <a id="17448" class="Symbol">_</a> <a id="17450" class="Symbol">_</a> <a id="17452" class="Symbol">_)</a> <a id="17455" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17457" href="Ledger.Ledger.Properties.html#17457" class="Bound">cs</a><a id="17459" class="Symbol">)</a> <a id="17461" href="Ledger.Ledger.Properties.html#17461" class="Bound">deps</a> <a id="17466" class="Symbol">=</a> <a id="17468" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="17478" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17486" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17498" class="Symbol">(</a><a id="17499" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17503" class="Symbol">(</a><a id="17504" href="Ledger.Utxo.html#7875" class="Function">updateCertDeposits</a> <a id="17523" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a> <a id="17526" href="Ledger.Ledger.Properties.html#17457" class="Bound">cs</a> <a id="17529" class="Symbol">(</a><a id="17530" href="Ledger.Ledger.Properties.html#17461" class="Bound">deps</a> <a id="17535" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="17538" href="Ledger.Utxo.html#3966" class="Function">certDeposit</a> <a id="17550" href="Ledger.Ledger.Properties.html#17433" class="Bound">dcert</a> <a id="17556" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a><a id="17558" class="Symbol">)))</a> <a id="17562" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17565" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="17575" href="Ledger.Ledger.Properties.html#17457" class="Bound">cs</a> <a id="17578" class="Symbol">_</a> <a id="17580" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17586" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17594" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17606" class="Symbol">(</a><a id="17607" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17611" class="Symbol">(</a><a id="17612" href="Ledger.Ledger.Properties.html#17461" class="Bound">deps</a> <a id="17617" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="17620" href="Ledger.Ledger.Properties.html#17963" class="Function">cd</a><a id="17622" class="Symbol">))</a> <a id="17625" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17628" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="17643" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="17654" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17660" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17668" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17680" class="Symbol">(</a><a id="17681" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17685" href="Ledger.Ledger.Properties.html#17461" class="Bound">deps</a> <a id="17690" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17692" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17696" class="Symbol">(</a><a id="17697" href="Ledger.Ledger.Properties.html#17963" class="Function">cd</a> <a id="17700" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="17702" class="Symbol">))</a> <a id="17705" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17708" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="17721" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17727" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17735" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17747" class="Symbol">(</a><a id="17748" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17752" href="Ledger.Ledger.Properties.html#17461" class="Bound">deps</a><a id="17756" class="Symbol">)</a> <a id="17758" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17760" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17768" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17780" class="Symbol">(</a><a id="17781" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17785" class="Symbol">(</a><a id="17786" href="Ledger.Ledger.Properties.html#17963" class="Function">cd</a> <a id="17789" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="17790" class="Symbol">))</a> <a id="17793" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17796" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="17803" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="17811" href="Ledger.Ledger.Properties.html#17995" class="Function">filter0</a> <a id="17819" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17825" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17833" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17845" class="Symbol">(</a><a id="17846" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17850" href="Ledger.Ledger.Properties.html#17461" class="Bound">deps</a><a id="17854" class="Symbol">)</a> <a id="17856" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17858" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="17860" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17863" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="17875" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17877" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17885" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17897" class="Symbol">(</a><a id="17898" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17902" href="Ledger.Ledger.Properties.html#17461" class="Bound">deps</a><a id="17906" class="Symbol">)</a> <a id="17908" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17914" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17922" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="17934" class="Symbol">(</a><a id="17935" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17939" href="Ledger.Ledger.Properties.html#17461" class="Bound">deps</a><a id="17943" class="Symbol">)</a> <a id="17945" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="17951" class="Keyword">where</a>
      <a id="17963" href="Ledger.Ledger.Properties.html#17963" class="Function">cd</a> <a id="17966" class="Symbol">=</a> <a id="17968" href="Ledger.Utxo.html#3966" class="Function">certDeposit</a> <a id="17980" href="Ledger.Ledger.Properties.html#17433" class="Bound">dcert</a> <a id="17986" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a>
      <a id="17995" href="Ledger.Ledger.Properties.html#17995" class="Function">filter0</a> <a id="18003" class="Symbol">=</a> <a id="18005" href="Ledger.Ledger.Properties.html#14518" class="Function">filterCD</a> <a id="18014" href="Ledger.Ledger.Properties.html#17433" class="Bound">dcert</a> <a id="18020" href="Ledger.Ledger.Properties.html#17461" class="Bound">deps</a>
  <a id="18027" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="18037" class="Symbol">(</a><a id="18038" href="Ledger.Ledger.Properties.html#18038" class="Bound">dcert</a><a id="18043" class="Symbol">@(</a><a id="18045" href="Ledger.Certs.html#1418" class="InductiveConstructor">dereg</a> <a id="18051" href="Ledger.Ledger.Properties.html#18051" class="Bound">c</a> <a id="18053" href="Ledger.Ledger.Properties.html#18053" class="Bound">v</a><a id="18054" class="Symbol">)</a> <a id="18056" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18058" href="Ledger.Ledger.Properties.html#18058" class="Bound">cs</a><a id="18060" class="Symbol">)</a> <a id="18062" href="Ledger.Ledger.Properties.html#18062" class="Bound">deps</a> <a id="18067" class="Symbol">=</a> <a id="18069" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="18079" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18087" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="18099" class="Symbol">(</a><a id="18100" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18104" class="Symbol">(</a><a id="18105" href="Ledger.Utxo.html#7875" class="Function">updateCertDeposits</a> <a id="18124" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a> <a id="18127" href="Ledger.Ledger.Properties.html#18058" class="Bound">cs</a> <a id="18130" class="Symbol">(</a><a id="18131" href="Ledger.Ledger.Properties.html#18062" class="Bound">deps</a> <a id="18136" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18138" href="Ledger.Utxo.html#4323" class="Function">certRefund</a> <a id="18149" class="Symbol">(</a><a id="18150" href="Ledger.Certs.html#1418" class="InductiveConstructor">dereg</a> <a id="18156" href="Ledger.Ledger.Properties.html#18051" class="Bound">c</a> <a id="18158" href="Ledger.Ledger.Properties.html#18053" class="Bound">v</a><a id="18159" class="Symbol">)</a><a id="18160" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18161" class="Symbol">)))</a> <a id="18165" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18168" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="18178" href="Ledger.Ledger.Properties.html#18058" class="Bound">cs</a> <a id="18181" class="Symbol">_</a> <a id="18183" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18189" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18197" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="18209" class="Symbol">(</a><a id="18210" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18214" class="Symbol">(</a><a id="18215" href="Ledger.Ledger.Properties.html#18062" class="Bound">deps</a> <a id="18220" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18222" href="Ledger.Utxo.html#4323" class="Function">certRefund</a> <a id="18233" class="Symbol">(</a><a id="18234" href="Ledger.Certs.html#1418" class="InductiveConstructor">dereg</a> <a id="18240" href="Ledger.Ledger.Properties.html#18051" class="Bound">c</a> <a id="18242" href="Ledger.Ledger.Properties.html#18053" class="Bound">v</a><a id="18243" class="Symbol">)</a><a id="18244" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18245" class="Symbol">))</a> <a id="18248" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18251" href="Ledger.Ledger.Properties.html#12399" class="Function">filterCR</a> <a id="18260" href="Ledger.Ledger.Properties.html#18038" class="Bound">dcert</a> <a id="18266" href="Ledger.Ledger.Properties.html#18062" class="Bound">deps</a> <a id="18271" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18277" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18285" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="18297" class="Symbol">(</a><a id="18298" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18302" href="Ledger.Ledger.Properties.html#18062" class="Bound">deps</a><a id="18306" class="Symbol">)</a> <a id="18308" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="18312" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="18322" class="Symbol">(</a><a id="18323" href="Ledger.Ledger.Properties.html#18323" class="Bound">dcert</a><a id="18328" class="Symbol">@(</a><a id="18330" href="Ledger.Certs.html#1602" class="InductiveConstructor">deregdrep</a> <a id="18340" href="Ledger.Ledger.Properties.html#18340" class="Bound">c</a> <a id="18342" href="Ledger.Ledger.Properties.html#18342" class="Bound">v</a><a id="18343" class="Symbol">)</a> <a id="18345" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18347" href="Ledger.Ledger.Properties.html#18347" class="Bound">cs</a><a id="18349" class="Symbol">)</a> <a id="18351" href="Ledger.Ledger.Properties.html#18351" class="Bound">deps</a> <a id="18356" class="Symbol">=</a> <a id="18358" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="18368" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18376" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="18388" class="Symbol">(</a><a id="18389" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18393" class="Symbol">(</a><a id="18394" href="Ledger.Utxo.html#7875" class="Function">updateCertDeposits</a> <a id="18413" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a> <a id="18416" href="Ledger.Ledger.Properties.html#18347" class="Bound">cs</a> <a id="18419" class="Symbol">(</a><a id="18420" href="Ledger.Ledger.Properties.html#18351" class="Bound">deps</a> <a id="18425" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18427" href="Ledger.Utxo.html#4323" class="Function">certRefund</a> <a id="18438" class="Symbol">(</a><a id="18439" href="Ledger.Certs.html#1602" class="InductiveConstructor">deregdrep</a> <a id="18449" href="Ledger.Ledger.Properties.html#18340" class="Bound">c</a> <a id="18451" href="Ledger.Ledger.Properties.html#18342" class="Bound">v</a><a id="18452" class="Symbol">)</a><a id="18453" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18454" class="Symbol">)))</a> <a id="18458" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18461" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="18471" href="Ledger.Ledger.Properties.html#18347" class="Bound">cs</a> <a id="18474" class="Symbol">_</a> <a id="18476" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18482" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18490" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="18502" class="Symbol">(</a><a id="18503" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18507" class="Symbol">(</a><a id="18508" href="Ledger.Ledger.Properties.html#18351" class="Bound">deps</a> <a id="18513" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18515" href="Ledger.Utxo.html#4323" class="Function">certRefund</a> <a id="18526" class="Symbol">(</a><a id="18527" href="Ledger.Certs.html#1602" class="InductiveConstructor">deregdrep</a> <a id="18537" href="Ledger.Ledger.Properties.html#18340" class="Bound">c</a> <a id="18539" href="Ledger.Ledger.Properties.html#18342" class="Bound">v</a><a id="18540" class="Symbol">)</a><a id="18541" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18542" class="Symbol">))</a> <a id="18545" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18548" href="Ledger.Ledger.Properties.html#12399" class="Function">filterCR</a> <a id="18557" href="Ledger.Ledger.Properties.html#18323" class="Bound">dcert</a> <a id="18563" href="Ledger.Ledger.Properties.html#18351" class="Bound">deps</a> <a id="18568" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18574" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18582" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="18594" class="Symbol">(</a><a id="18595" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18599" href="Ledger.Ledger.Properties.html#18351" class="Bound">deps</a><a id="18603" class="Symbol">)</a> <a id="18605" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="18609" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="18619" class="Symbol">(</a><a id="18620" href="Ledger.Certs.html#1511" class="InductiveConstructor">retirepool</a> <a id="18631" class="Symbol">_</a> <a id="18633" class="Symbol">_</a> <a id="18635" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18637" href="Ledger.Ledger.Properties.html#18637" class="Bound">cs</a><a id="18639" class="Symbol">)</a> <a id="18641" href="Ledger.Ledger.Properties.html#18641" class="Bound">deps</a> <a id="18646" class="Symbol">=</a> <a id="18648" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="18658" href="Ledger.Ledger.Properties.html#18637" class="Bound">cs</a> <a id="18661" href="Ledger.Ledger.Properties.html#18641" class="Bound">deps</a>
  <a id="18668" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="18678" class="Symbol">(</a><a id="18679" href="Ledger.Certs.html#1644" class="InductiveConstructor">ccreghot</a> <a id="18688" class="Symbol">_</a> <a id="18690" class="Symbol">_</a> <a id="18692" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18694" href="Ledger.Ledger.Properties.html#18694" class="Bound">cs</a><a id="18696" class="Symbol">)</a> <a id="18698" href="Ledger.Ledger.Properties.html#18698" class="Bound">deps</a> <a id="18703" class="Symbol">=</a> <a id="18705" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="18715" href="Ledger.Ledger.Properties.html#18694" class="Bound">cs</a> <a id="18718" href="Ledger.Ledger.Properties.html#18698" class="Bound">deps</a>

  <a id="18726" class="Keyword">opaque</a>
    <a id="18737" class="Keyword">unfolding</a> <a id="18747" href="Ledger.Gov.html#5798" class="Function">addVote</a>

    <a id="SetoidProperties.dpMap∘voteUpdate≡dpMap"></a><a id="18760" href="Ledger.Ledger.Properties.html#18760" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="18783" class="Symbol">:</a> <a id="18785" class="Symbol">(</a><a id="18786" href="Ledger.Ledger.Properties.html#18786" class="Bound">v</a> <a id="18788" class="Symbol">:</a> <a id="18790" href="Ledger.GovernanceActions.html#2227" class="Record">GovVote</a><a id="18797" class="Symbol">)</a> <a id="18799" class="Symbol">{</a><a id="18800" href="Ledger.Ledger.Properties.html#18800" class="Bound">govSt</a> <a id="18806" class="Symbol">:</a> <a id="18808" href="Ledger.Gov.html#1334" class="Function">GovState</a><a id="18816" class="Symbol">}</a>
      <a id="18824" class="Symbol">→</a> <a id="18826" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="18832" class="Symbol">(</a><a id="18833" href="Ledger.Ledger.Properties.html#9936" class="Function">voteUpdate</a> <a id="18844" href="Ledger.Ledger.Properties.html#18800" class="Bound">govSt</a> <a id="18850" href="Ledger.Ledger.Properties.html#18786" class="Bound">v</a><a id="18851" class="Symbol">)</a> <a id="18853" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18855" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="18861" href="Ledger.Ledger.Properties.html#18800" class="Bound">govSt</a>
    <a id="18871" href="Ledger.Ledger.Properties.html#18760" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="18894" href="Ledger.Ledger.Properties.html#18894" class="Bound">v</a> <a id="18896" class="Symbol">{</a><a id="18897" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="18899" class="Symbol">}</a> <a id="18901" class="Symbol">=</a> <a id="18903" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="18912" href="Ledger.Ledger.Properties.html#18760" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="18935" href="Ledger.Ledger.Properties.html#18935" class="Bound">v</a> <a id="18937" class="Symbol">{(</a><a id="18939" href="Ledger.Ledger.Properties.html#18939" class="Bound">aid</a> <a id="18943" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18945" href="Ledger.Ledger.Properties.html#18945" class="Bound">ast</a><a id="18948" class="Symbol">)</a> <a id="18950" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18952" href="Ledger.Ledger.Properties.html#18952" class="Bound">govSt</a><a id="18957" class="Symbol">}</a> <a id="18959" class="Symbol">=</a>
      <a id="18967" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="18972" class="Symbol">(λ</a> <a id="18975" href="Ledger.Ledger.Properties.html#18975" class="Bound">x</a> <a id="18977" class="Symbol">→</a> <a id="18979" class="Symbol">(</a><a id="18980" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="18997" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="18999" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="19004" class="Symbol">)</a> <a id="19006" class="Symbol">(</a><a id="19007" href="Ledger.Ledger.Properties.html#18939" class="Bound">aid</a> <a id="19011" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19013" href="Ledger.Ledger.Properties.html#18945" class="Bound">ast</a><a id="19016" class="Symbol">)</a> <a id="19018" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19020" href="Ledger.Ledger.Properties.html#18975" class="Bound">x</a><a id="19021" class="Symbol">)</a> <a id="19023" class="Symbol">(</a><a id="19024" href="Ledger.Ledger.Properties.html#18760" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="19047" href="Ledger.Ledger.Properties.html#18935" class="Bound">v</a><a id="19048" class="Symbol">)</a>

  <a id="SetoidProperties.props-dpMap-votes-invar"></a><a id="19053" href="Ledger.Ledger.Properties.html#19053" class="Function">props-dpMap-votes-invar</a> <a id="19077" class="Symbol">:</a> <a id="19079" class="Symbol">(</a><a id="19080" href="Ledger.Ledger.Properties.html#19080" class="Bound">vs</a> <a id="19083" class="Symbol">:</a> <a id="19085" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19090" href="Ledger.GovernanceActions.html#2227" class="Record">GovVote</a><a id="19097" class="Symbol">)</a> <a id="19099" class="Symbol">(</a><a id="19100" href="Ledger.Ledger.Properties.html#19100" class="Bound">ps</a> <a id="19103" class="Symbol">:</a> <a id="19105" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19110" href="Ledger.GovernanceActions.html#2372" class="Record">GovProposal</a><a id="19121" class="Symbol">)</a> <a id="19123" class="Symbol">{</a><a id="19124" href="Ledger.Ledger.Properties.html#19124" class="Bound">k</a> <a id="19126" class="Symbol">:</a> <a id="19128" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="19129" class="Symbol">}</a> <a id="19131" class="Symbol">{</a><a id="19132" href="Ledger.Ledger.Properties.html#19132" class="Bound">govSt</a> <a id="19138" class="Symbol">:</a> <a id="19140" href="Ledger.Gov.html#1334" class="Function">GovState</a><a id="19148" class="Symbol">}</a>
    <a id="19154" class="Symbol">→</a> <a id="19156" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19165" class="Symbol">(</a><a id="19166" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="19172" class="Symbol">(</a><a id="19173" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="19189" class="Symbol">(</a><a id="19190" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="19194" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19199" href="Ledger.Ledger.Properties.html#19100" class="Bound">ps</a> <a id="19202" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="19205" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="19209" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="19214" href="Ledger.Ledger.Properties.html#19080" class="Bound">vs</a><a id="19216" class="Symbol">)</a> <a id="19218" href="Ledger.Ledger.Properties.html#19124" class="Bound">k</a> <a id="19220" href="Ledger.Ledger.Properties.html#19132" class="Bound">govSt</a> <a id="19226" class="Symbol">))</a>
      <a id="19235" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="19238" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19247" class="Symbol">(</a><a id="19248" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="19254" class="Symbol">(</a><a id="19255" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="19271" class="Symbol">(</a><a id="19272" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="19276" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19281" href="Ledger.Ledger.Properties.html#19100" class="Bound">ps</a><a id="19283" class="Symbol">)</a> <a id="19285" href="Ledger.Ledger.Properties.html#19124" class="Bound">k</a> <a id="19287" href="Ledger.Ledger.Properties.html#19132" class="Bound">govSt</a><a id="19292" class="Symbol">))</a>
  <a id="19297" href="Ledger.Ledger.Properties.html#19053" class="Function">props-dpMap-votes-invar</a> <a id="19321" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="19324" href="Ledger.Ledger.Properties.html#19324" class="Bound">ps</a> <a id="19327" class="Symbol">{</a><a id="19328" href="Ledger.Ledger.Properties.html#19328" class="Bound">k</a><a id="19329" class="Symbol">}</a> <a id="19331" class="Symbol">{</a><a id="19332" href="Ledger.Ledger.Properties.html#19332" class="Bound">govSt</a><a id="19337" class="Symbol">}</a> <a id="19339" class="Symbol">=</a> <a id="19341" href="Relation.Binary.Structures.html#1674" class="Function">≡ᵉ.reflexive</a>
    <a id="19358" class="Symbol">(</a><a id="19359" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19364" class="Symbol">(λ</a> <a id="19367" href="Ledger.Ledger.Properties.html#19367" class="Bound">x</a> <a id="19369" class="Symbol">→</a> <a id="19371" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19380" class="Symbol">(</a><a id="19381" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="19387" class="Symbol">(</a><a id="19388" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="19404" href="Ledger.Ledger.Properties.html#19367" class="Bound">x</a> <a id="19406" href="Ledger.Ledger.Properties.html#19328" class="Bound">k</a> <a id="19408" href="Ledger.Ledger.Properties.html#19332" class="Bound">govSt</a><a id="19413" class="Symbol">)))</a> <a id="19417" class="Symbol">(</a><a id="19418" href="Data.List.Properties.html#5457" class="Function">++-identityʳ</a> <a id="19431" class="Symbol">(</a><a id="19432" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="19436" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19441" href="Ledger.Ledger.Properties.html#19324" class="Bound">ps</a><a id="19443" class="Symbol">)))</a>
  <a id="19449" href="Ledger.Ledger.Properties.html#19053" class="Function">props-dpMap-votes-invar</a> <a id="19473" class="Symbol">(</a><a id="19474" href="Ledger.Ledger.Properties.html#19474" class="Bound">v</a> <a id="19476" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19478" href="Ledger.Ledger.Properties.html#19478" class="Bound">vs</a><a id="19480" class="Symbol">)</a> <a id="19482" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="19485" class="Symbol">{</a><a id="19486" href="Ledger.Ledger.Properties.html#19486" class="Bound">k</a><a id="19487" class="Symbol">}</a> <a id="19489" class="Symbol">{</a><a id="19490" href="Ledger.Ledger.Properties.html#19490" class="Bound">govSt</a><a id="19495" class="Symbol">}</a> <a id="19497" class="Symbol">=</a> <a id="19499" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="19509" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19518" class="Symbol">(</a><a id="19519" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="19525" class="Symbol">(</a><a id="19526" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="19542" class="Symbol">(</a><a id="19543" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="19547" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="19552" class="Symbol">(</a><a id="19553" href="Ledger.Ledger.Properties.html#19474" class="Bound">v</a> <a id="19555" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19557" href="Ledger.Ledger.Properties.html#19478" class="Bound">vs</a><a id="19559" class="Symbol">))</a> <a id="19562" href="Ledger.Ledger.Properties.html#19486" class="Bound">k</a> <a id="19564" href="Ledger.Ledger.Properties.html#19490" class="Bound">govSt</a><a id="19569" class="Symbol">))</a>
      <a id="19578" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="19581" href="Ledger.Ledger.Properties.html#19053" class="Function">props-dpMap-votes-invar</a> <a id="19605" href="Ledger.Ledger.Properties.html#19478" class="Bound">vs</a> <a id="19608" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="19611" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="19617" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19626" class="Symbol">(</a><a id="19627" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="19633" class="Symbol">(</a><a id="19634" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="19650" class="Symbol">(</a><a id="19651" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="19655" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19660" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="19662" class="Symbol">)</a> <a id="19664" class="Symbol">(</a><a id="19665" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="19669" href="Ledger.Ledger.Properties.html#19486" class="Bound">k</a><a id="19670" class="Symbol">)</a> <a id="19672" class="Symbol">(</a><a id="19673" href="Ledger.Ledger.Properties.html#9936" class="Function">voteUpdate</a> <a id="19684" href="Ledger.Ledger.Properties.html#19490" class="Bound">govSt</a> <a id="19690" href="Ledger.Ledger.Properties.html#19474" class="Bound">v</a><a id="19691" class="Symbol">)))</a>
      <a id="19701" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="19704" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19709" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19718" class="Symbol">(</a><a id="19719" href="Ledger.Ledger.Properties.html#18760" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="19742" href="Ledger.Ledger.Properties.html#19474" class="Bound">v</a><a id="19743" class="Symbol">)</a> <a id="19745" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="19751" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19760" class="Symbol">(</a><a id="19761" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="19767" href="Ledger.Ledger.Properties.html#19490" class="Bound">govSt</a><a id="19772" class="Symbol">)</a>
      <a id="19780" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="19784" href="Ledger.Ledger.Properties.html#19053" class="Function">props-dpMap-votes-invar</a> <a id="19808" class="Symbol">(</a><a id="19809" href="Ledger.Ledger.Properties.html#19809" class="Bound">v</a> <a id="19811" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19813" href="Ledger.Ledger.Properties.html#19813" class="Bound">vs</a><a id="19815" class="Symbol">)</a> <a id="19817" class="Symbol">(</a><a id="19818" href="Ledger.Ledger.Properties.html#19818" class="Bound">p</a> <a id="19820" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19822" href="Ledger.Ledger.Properties.html#19822" class="Bound">ps</a><a id="19824" class="Symbol">)</a> <a id="19826" class="Symbol">{</a><a id="19827" href="Ledger.Ledger.Properties.html#19827" class="Bound">k</a><a id="19828" class="Symbol">}</a> <a id="19830" class="Symbol">{</a><a id="19831" href="Ledger.Ledger.Properties.html#19831" class="Bound">govSt</a><a id="19836" class="Symbol">}</a> <a id="19838" class="Symbol">=</a> <a id="19840" href="Ledger.Ledger.Properties.html#19053" class="Function">props-dpMap-votes-invar</a> <a id="19864" class="Symbol">(</a><a id="19865" href="Ledger.Ledger.Properties.html#19809" class="Bound">v</a> <a id="19867" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19869" href="Ledger.Ledger.Properties.html#19813" class="Bound">vs</a><a id="19871" class="Symbol">)</a> <a id="19873" href="Ledger.Ledger.Properties.html#19822" class="Bound">ps</a>

  <a id="SetoidProperties.dpMap-update-∪"></a><a id="19879" href="Ledger.Ledger.Properties.html#19879" class="Function">dpMap-update-∪</a> <a id="19894" class="Symbol">:</a> <a id="19896" class="Symbol">∀</a> <a id="19898" href="Ledger.Ledger.Properties.html#19898" class="Bound">gSt</a> <a id="19902" href="Ledger.Ledger.Properties.html#19902" class="Bound">p</a> <a id="19904" href="Ledger.Ledger.Properties.html#19904" class="Bound">k</a>
    <a id="19910" class="Symbol">→</a> <a id="19912" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19921" class="Symbol">(</a><a id="19922" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="19928" href="Ledger.Ledger.Properties.html#19898" class="Bound">gSt</a><a id="19931" class="Symbol">)</a> <a id="19933" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="19935" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="19937" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="19954" class="Symbol">(</a><a id="19955" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="19960" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19962" href="Ledger.Ledger.Properties.html#19904" class="Bound">k</a><a id="19963" class="Symbol">)</a> <a id="19965" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="19975" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="19978" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19987" class="Symbol">(</a><a id="19988" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="19994" class="Symbol">(</a><a id="19995" href="Ledger.Ledger.Properties.html#9795" class="Function">propUpdate</a> <a id="20006" href="Ledger.Ledger.Properties.html#19898" class="Bound">gSt</a> <a id="20010" href="Ledger.Ledger.Properties.html#19902" class="Bound">p</a> <a id="20012" href="Ledger.Ledger.Properties.html#19904" class="Bound">k</a><a id="20013" class="Symbol">))</a>
  <a id="20018" href="Ledger.Ledger.Properties.html#19879" class="Function">dpMap-update-∪</a> <a id="20033" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="20036" href="Ledger.Ledger.Properties.html#20036" class="Bound">p</a> <a id="20038" href="Ledger.Ledger.Properties.html#20038" class="Bound">k</a> <a id="20040" class="Symbol">=</a> <a id="20042" href="Axiom.Set.Properties.html#11917" class="Function">∪-identityˡ</a> <a id="20054" class="Symbol">(</a><a id="20055" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20064" class="Symbol">(</a><a id="20065" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="20071" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="20073" href="Ledger.Ledger.Properties.html#9538" class="Function">mkAction</a> <a id="20082" href="Ledger.Ledger.Properties.html#20036" class="Bound">p</a> <a id="20084" href="Ledger.Ledger.Properties.html#20038" class="Bound">k</a> <a id="20086" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="20087" class="Symbol">))</a>
  <a id="20092" href="Ledger.Ledger.Properties.html#19879" class="Function">dpMap-update-∪</a> <a id="20107" class="Symbol">(</a><a id="20108" href="Ledger.Ledger.Properties.html#20108" class="Bound">g</a><a id="20109" class="Symbol">@(</a><a id="20111" href="Ledger.Ledger.Properties.html#20111" class="Bound">gaID₀</a> <a id="20117" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20119" href="Ledger.Ledger.Properties.html#20119" class="Bound">gaSt₀</a><a id="20124" class="Symbol">)</a> <a id="20126" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20128" href="Ledger.Ledger.Properties.html#20128" class="Bound">gSt</a><a id="20131" class="Symbol">)</a> <a id="20133" href="Ledger.Ledger.Properties.html#20133" class="Bound">p</a> <a id="20135" href="Ledger.Ledger.Properties.html#20135" class="Bound">k</a>
    <a id="20141" class="Keyword">with</a> <a id="20146" class="Symbol">(</a><a id="20147" href="Ledger.Gov.html#2092" class="Function">govActionPriority</a> <a id="20165" class="Symbol">(</a><a id="20166" href="Ledger.GovernanceActions.html#2715" class="Field">GovActionState.action</a> <a id="20188" href="Ledger.Ledger.Properties.html#20119" class="Bound">gaSt₀</a> <a id="20194" class="Symbol">.</a><a id="20195" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a><a id="20201" class="Symbol">))</a>
         <a id="20213" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="20216" class="Symbol">(</a><a id="20217" href="Ledger.Gov.html#2092" class="Function">govActionPriority</a> <a id="20235" class="Symbol">(</a><a id="20236" href="Ledger.GovernanceActions.html#2715" class="Field">GovActionState.action</a> <a id="20258" class="Symbol">(</a><a id="20259" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="20265" class="Symbol">(</a><a id="20266" href="Ledger.Ledger.Properties.html#9538" class="Function">mkAction</a> <a id="20275" href="Ledger.Ledger.Properties.html#20133" class="Bound">p</a> <a id="20277" href="Ledger.Ledger.Properties.html#20135" class="Bound">k</a><a id="20278" class="Symbol">))</a> <a id="20281" class="Symbol">.</a><a id="20282" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a><a id="20288" class="Symbol">))</a>
  <a id="20293" class="Symbol">...</a> <a id="20297" class="Symbol">|</a> <a id="20299" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="20303" class="Symbol">_</a>  <a id="20306" class="Symbol">=</a> <a id="20308" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="20320" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20329" class="Symbol">(</a><a id="20330" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="20336" class="Symbol">(</a><a id="20337" class="Bound">g</a> <a id="20339" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20341" class="Bound">gSt</a><a id="20344" class="Symbol">))</a> <a id="20347" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20349" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20351" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="20368" class="Symbol">(</a><a id="20369" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="20374" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20376" class="Bound">k</a><a id="20377" class="Symbol">)</a> <a id="20379" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="20389" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="20392" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="20399" href="Axiom.Set.Properties.html#12190" class="Function">fromList-∪-singleton</a> <a id="20420" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="20428" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="20436" class="Symbol">(</a><a id="20437" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20439" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="20456" class="Bound">gaID₀</a> <a id="20462" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20464" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20466" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20475" class="Symbol">(</a><a id="20476" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="20482" class="Bound">gSt</a><a id="20485" class="Symbol">))</a> <a id="20488" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20490" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20492" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="20509" class="Symbol">(</a><a id="20510" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="20515" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20517" class="Bound">k</a><a id="20518" class="Symbol">)</a> <a id="20520" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="20530" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="20533" href="Axiom.Set.Properties.html#12114" class="Function">∪-assoc</a> <a id="20541" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20543" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="20560" class="Bound">gaID₀</a> <a id="20566" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20568" class="Symbol">(</a><a id="20569" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20578" class="Symbol">(</a><a id="20579" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="20585" class="Bound">gSt</a><a id="20588" class="Symbol">))</a> <a id="20591" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20593" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="20610" class="Symbol">(</a><a id="20611" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="20616" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20618" class="Bound">k</a><a id="20619" class="Symbol">)</a> <a id="20621" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20623" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="20631" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20633" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="20650" class="Bound">gaID₀</a> <a id="20656" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20658" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20660" class="Symbol">(</a><a id="20661" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20670" class="Symbol">(</a><a id="20671" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="20677" class="Bound">gSt</a><a id="20680" class="Symbol">)</a> <a id="20682" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20684" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20686" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="20703" class="Symbol">(</a><a id="20704" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="20709" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20711" class="Bound">k</a><a id="20712" class="Symbol">)</a> <a id="20714" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="20715" class="Symbol">)</a>
        <a id="20725" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="20728" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="20735" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="20743" class="Symbol">(</a><a id="20744" href="Ledger.Ledger.Properties.html#19879" class="Function">dpMap-update-∪</a> <a id="20759" class="Bound">gSt</a> <a id="20763" class="Bound">p</a> <a id="20765" class="Bound">k</a><a id="20766" class="Symbol">)</a> <a id="20768" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="20776" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20778" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="20795" class="Bound">gaID₀</a> <a id="20801" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20803" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20805" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20814" class="Symbol">(</a><a id="20815" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="20821" class="Symbol">(</a><a id="20822" href="Ledger.Ledger.Properties.html#9795" class="Function">propUpdate</a> <a id="20833" class="Bound">gSt</a> <a id="20837" class="Bound">p</a> <a id="20839" class="Bound">k</a><a id="20840" class="Symbol">))</a>
        <a id="20851" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="20855" href="Axiom.Set.Properties.html#12190" class="Function">fromList-∪-singleton</a> <a id="20876" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="20884" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20893" class="Symbol">(</a><a id="20894" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="20900" class="Symbol">(</a><a id="20901" class="Bound">g</a> <a id="20903" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20905" href="Ledger.Gov.html#4923" class="Function">insertGovAction</a> <a id="20921" class="Bound">gSt</a> <a id="20925" class="Symbol">(</a><a id="20926" href="Ledger.Ledger.Properties.html#9538" class="Function">mkAction</a> <a id="20935" class="Bound">p</a> <a id="20937" class="Bound">k</a><a id="20938" class="Symbol">)))</a>
        <a id="20950" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="20954" class="Symbol">...</a> <a id="20958" class="Symbol">|</a> <a id="20960" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="20963" class="Symbol">_</a>   <a id="20967" class="Symbol">=</a> <a id="20969" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="20981" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20990" class="Symbol">(</a><a id="20991" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="20997" class="Symbol">(</a><a id="20998" class="Bound">g</a> <a id="21000" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21002" class="Bound">gSt</a><a id="21005" class="Symbol">))</a> <a id="21008" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21010" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21012" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="21029" class="Symbol">(</a><a id="21030" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="21035" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21037" class="Bound">k</a><a id="21038" class="Symbol">)</a> <a id="21040" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="21050" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="21053" href="Axiom.Set.Properties.html#12053" class="Function">∪-comm</a> <a id="21060" class="Symbol">(</a><a id="21061" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21070" class="Symbol">(</a><a id="21071" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="21077" class="Symbol">(</a><a id="21078" class="Bound">g</a> <a id="21080" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21082" class="Bound">gSt</a><a id="21085" class="Symbol">)))</a> <a id="21089" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21091" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="21108" class="Symbol">(</a><a id="21109" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="21114" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21116" class="Bound">k</a><a id="21117" class="Symbol">)</a> <a id="21119" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="21121" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="21129" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21131" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="21148" class="Symbol">(</a><a id="21149" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="21154" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21156" class="Bound">k</a><a id="21157" class="Symbol">)</a> <a id="21159" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="21161" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21163" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21172" class="Symbol">(</a><a id="21173" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="21179" class="Symbol">(</a><a id="21180" class="Bound">g</a> <a id="21182" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21184" class="Bound">gSt</a><a id="21187" class="Symbol">))</a>
        <a id="21198" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="21202" href="Axiom.Set.Properties.html#12190" class="Function">fromList-∪-singleton</a> <a id="21223" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="21231" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21240" class="Symbol">(</a><a id="21241" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="21247" class="Symbol">((</a><a id="21249" href="Ledger.Ledger.Properties.html#9538" class="Function">mkAction</a> <a id="21258" class="Bound">p</a> <a id="21260" class="Bound">k</a><a id="21261" class="Symbol">)</a> <a id="21263" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21265" class="Bound">g</a> <a id="21267" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21269" class="Bound">gSt</a><a id="21272" class="Symbol">))</a>
        <a id="21283" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="SetoidProperties.connex-lemma"></a><a id="21288" href="Ledger.Ledger.Properties.html#21288" class="Function">connex-lemma</a> <a id="21301" class="Symbol">:</a> <a id="21303" class="Symbol">∀</a> <a id="21305" href="Ledger.Ledger.Properties.html#21305" class="Bound">gSt</a> <a id="21309" href="Ledger.Ledger.Properties.html#21309" class="Bound">p</a> <a id="21311" href="Ledger.Ledger.Properties.html#21311" class="Bound">ps</a> <a id="21314" class="Symbol">{</a><a id="21315" href="Ledger.Ledger.Properties.html#21315" class="Bound">k</a><a id="21316" class="Symbol">}</a>
    <a id="21322" class="Symbol">→</a> <a id="21324" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21333" class="Symbol">(</a><a id="21334" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="21340" class="Symbol">(</a><a id="21341" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="21357" class="Symbol">(</a><a id="21358" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="21362" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="21367" href="Ledger.Ledger.Properties.html#21311" class="Bound">ps</a><a id="21369" class="Symbol">)</a> <a id="21371" href="Ledger.Ledger.Properties.html#21315" class="Bound">k</a> <a id="21373" href="Ledger.Ledger.Properties.html#21305" class="Bound">gSt</a><a id="21376" class="Symbol">))</a> <a id="21379" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21381" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21383" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="21400" class="Symbol">(</a><a id="21401" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="21406" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21408" href="Ledger.Ledger.Properties.html#21315" class="Bound">k</a> <a id="21410" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21412" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21419" href="Ledger.Ledger.Properties.html#21311" class="Bound">ps</a><a id="21421" class="Symbol">)</a> <a id="21423" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="21433" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="21436" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21445" class="Symbol">(</a><a id="21446" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="21452" class="Symbol">(</a><a id="21453" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="21469" class="Symbol">(</a><a id="21470" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="21474" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="21479" href="Ledger.Ledger.Properties.html#21311" class="Bound">ps</a><a id="21481" class="Symbol">)</a> <a id="21483" class="Symbol">(</a><a id="21484" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="21488" href="Ledger.Ledger.Properties.html#21315" class="Bound">k</a><a id="21489" class="Symbol">)</a> <a id="21491" class="Symbol">(</a><a id="21492" href="Ledger.Ledger.Properties.html#9795" class="Function">propUpdate</a> <a id="21503" href="Ledger.Ledger.Properties.html#21305" class="Bound">gSt</a> <a id="21507" href="Ledger.Ledger.Properties.html#21309" class="Bound">p</a> <a id="21509" href="Ledger.Ledger.Properties.html#21315" class="Bound">k</a><a id="21510" class="Symbol">)))</a>
  <a id="21516" href="Ledger.Ledger.Properties.html#21288" class="Function">connex-lemma</a> <a id="21529" href="Ledger.Ledger.Properties.html#21529" class="Bound">gSt</a> <a id="21533" href="Ledger.Ledger.Properties.html#21533" class="Bound">p</a> <a id="21535" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="21538" class="Symbol">{</a><a id="21539" href="Ledger.Ledger.Properties.html#21539" class="Bound">k</a><a id="21540" class="Symbol">}</a> <a id="21542" class="Symbol">=</a> <a id="21544" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="21556" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21565" class="Symbol">(</a><a id="21566" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="21572" href="Ledger.Ledger.Properties.html#21529" class="Bound">gSt</a><a id="21575" class="Symbol">)</a> <a id="21577" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21579" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21581" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="21598" class="Symbol">(</a><a id="21599" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="21604" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21606" href="Ledger.Ledger.Properties.html#21539" class="Bound">k</a> <a id="21608" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21610" class="Number">0</a><a id="21611" class="Symbol">)</a> <a id="21613" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="21623" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21626" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21631" class="Symbol">(λ</a> <a id="21634" href="Ledger.Ledger.Properties.html#21634" class="Bound">x</a> <a id="21636" class="Symbol">→</a> <a id="21638" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21647" class="Symbol">(</a><a id="21648" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="21654" href="Ledger.Ledger.Properties.html#21529" class="Bound">gSt</a><a id="21657" class="Symbol">)</a> <a id="21659" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21661" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21663" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="21680" class="Symbol">(</a><a id="21681" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="21686" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21688" href="Ledger.Ledger.Properties.html#21634" class="Bound">x</a><a id="21689" class="Symbol">)</a> <a id="21691" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="21692" class="Symbol">)</a> <a id="21694" class="Symbol">(</a><a id="21695" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="21707" href="Ledger.Ledger.Properties.html#21539" class="Bound">k</a><a id="21708" class="Symbol">)</a> <a id="21710" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="21718" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21727" class="Symbol">(</a><a id="21728" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="21734" href="Ledger.Ledger.Properties.html#21529" class="Bound">gSt</a><a id="21737" class="Symbol">)</a> <a id="21739" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21741" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21743" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="21760" class="Symbol">(</a><a id="21761" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="21766" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21768" href="Ledger.Ledger.Properties.html#21539" class="Bound">k</a><a id="21769" class="Symbol">)</a> <a id="21771" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="21781" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="21784" href="Ledger.Ledger.Properties.html#19879" class="Function">dpMap-update-∪</a> <a id="21799" href="Ledger.Ledger.Properties.html#21529" class="Bound">gSt</a> <a id="21803" href="Ledger.Ledger.Properties.html#21533" class="Bound">p</a> <a id="21805" href="Ledger.Ledger.Properties.html#21539" class="Bound">k</a> <a id="21807" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="21815" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21824" class="Symbol">(</a><a id="21825" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="21831" class="Symbol">(</a><a id="21832" href="Ledger.Ledger.Properties.html#9795" class="Function">propUpdate</a> <a id="21843" href="Ledger.Ledger.Properties.html#21529" class="Bound">gSt</a> <a id="21847" href="Ledger.Ledger.Properties.html#21533" class="Bound">p</a> <a id="21849" href="Ledger.Ledger.Properties.html#21539" class="Bound">k</a><a id="21850" class="Symbol">))</a>
        <a id="21861" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="21865" href="Ledger.Ledger.Properties.html#21288" class="Function">connex-lemma</a> <a id="21878" href="Ledger.Ledger.Properties.html#21878" class="Bound">gSt</a> <a id="21882" href="Ledger.Ledger.Properties.html#21882" class="Bound">p</a> <a id="21884" class="Symbol">(</a><a id="21885" href="Ledger.Ledger.Properties.html#21885" class="Bound">p&#39;</a> <a id="21888" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21890" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="21892" class="Symbol">)</a> <a id="21894" class="Symbol">{</a><a id="21895" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a><a id="21896" class="Symbol">}</a> <a id="21898" class="Symbol">=</a> <a id="21900" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="21910" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21919" class="Symbol">(</a><a id="21920" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="21926" class="Symbol">(</a><a id="21927" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="21943" class="Symbol">(</a><a id="21944" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="21948" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="21953" class="Symbol">(</a><a id="21954" href="Ledger.Ledger.Properties.html#21885" class="Bound">p&#39;</a> <a id="21957" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21959" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="21961" class="Symbol">))</a> <a id="21964" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a> <a id="21966" href="Ledger.Ledger.Properties.html#21878" class="Bound">gSt</a><a id="21969" class="Symbol">))</a>
      <a id="21978" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21980" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21982" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="21999" class="Symbol">(</a><a id="22000" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="22005" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22007" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a> <a id="22009" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22011" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22018" class="Symbol">(</a><a id="22019" href="Ledger.Ledger.Properties.html#21885" class="Bound">p&#39;</a> <a id="22022" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="22024" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="22026" class="Symbol">))</a> <a id="22029" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="22039" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22042" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22047" class="Symbol">(λ</a> <a id="22050" href="Ledger.Ledger.Properties.html#22050" class="Bound">x</a> <a id="22052" class="Symbol">→</a> <a id="22054" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22063" class="Symbol">(</a><a id="22064" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="22070" class="Symbol">(</a><a id="22071" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="22087" class="Symbol">(</a><a id="22088" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="22092" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22097" class="Symbol">(</a><a id="22098" href="Ledger.Ledger.Properties.html#21885" class="Bound">p&#39;</a> <a id="22101" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="22103" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="22105" class="Symbol">))</a> <a id="22108" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a> <a id="22110" href="Ledger.Ledger.Properties.html#21878" class="Bound">gSt</a><a id="22113" class="Symbol">))</a>
            <a id="22128" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22130" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22132" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="22149" class="Symbol">(</a><a id="22150" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="22155" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22157" href="Ledger.Ledger.Properties.html#22050" class="Bound">x</a><a id="22158" class="Symbol">)</a> <a id="22160" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="22161" class="Symbol">)</a> <a id="22163" class="Symbol">(</a><a id="22164" href="Data.Nat.Properties.html#15101" class="Function">+-suc</a> <a id="22170" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a> <a id="22172" class="Symbol">(</a><a id="22173" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22180" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="22182" class="Symbol">))</a> <a id="22185" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="22191" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22200" class="Symbol">(</a><a id="22201" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="22207" class="Symbol">(</a><a id="22208" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="22224" class="Symbol">(</a><a id="22225" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="22229" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22234" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="22236" class="Symbol">)</a> <a id="22238" class="Symbol">(</a><a id="22239" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22243" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a><a id="22244" class="Symbol">)</a> <a id="22246" class="Symbol">(</a><a id="22247" href="Ledger.Ledger.Properties.html#9795" class="Function">propUpdate</a> <a id="22258" href="Ledger.Ledger.Properties.html#21878" class="Bound">gSt</a> <a id="22262" href="Ledger.Ledger.Properties.html#21885" class="Bound">p&#39;</a> <a id="22265" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a><a id="22266" class="Symbol">)))</a>
      <a id="22276" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22278" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22280" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="22297" class="Symbol">(</a><a id="22298" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="22303" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22305" class="Symbol">(</a><a id="22306" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22310" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a><a id="22311" class="Symbol">)</a> <a id="22313" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22315" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22322" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="22324" class="Symbol">)</a> <a id="22326" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="22336" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="22340" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="22347" class="Symbol">(</a><a id="22348" href="Ledger.Ledger.Properties.html#21288" class="Function">connex-lemma</a> <a id="22361" href="Ledger.Ledger.Properties.html#21878" class="Bound">gSt</a> <a id="22365" href="Ledger.Ledger.Properties.html#21885" class="Bound">p&#39;</a> <a id="22368" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="22370" class="Symbol">)</a> <a id="22372" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="22380" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="22386" class="Symbol">(</a><a id="22387" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22396" class="Symbol">(</a><a id="22397" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="22403" class="Symbol">(</a><a id="22404" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="22420" class="Symbol">(</a><a id="22421" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="22425" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22430" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="22432" class="Symbol">)</a> <a id="22434" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a> <a id="22436" href="Ledger.Ledger.Properties.html#21878" class="Bound">gSt</a><a id="22439" class="Symbol">))</a>
      <a id="22448" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22450" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22452" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="22469" class="Symbol">(</a><a id="22470" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="22475" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22477" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a> <a id="22479" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22481" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22488" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="22490" class="Symbol">)</a> <a id="22492" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="22493" class="Symbol">)</a>
      <a id="22501" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22503" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22505" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="22522" class="Symbol">(</a><a id="22523" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="22528" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22530" class="Symbol">(</a><a id="22531" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22535" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a><a id="22536" class="Symbol">)</a> <a id="22538" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22540" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22547" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="22549" class="Symbol">)</a> <a id="22551" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="22561" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="22564" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="22571" class="Symbol">(</a><a id="22572" href="Ledger.Ledger.Properties.html#21288" class="Function">connex-lemma</a> <a id="22585" href="Ledger.Ledger.Properties.html#21878" class="Bound">gSt</a> <a id="22589" href="Ledger.Ledger.Properties.html#21882" class="Bound">p</a> <a id="22591" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="22593" class="Symbol">)</a> <a id="22595" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="22603" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="22609" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22618" class="Symbol">(</a><a id="22619" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="22625" class="Symbol">(</a><a id="22626" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="22642" class="Symbol">(</a><a id="22643" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="22647" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22652" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="22654" class="Symbol">)</a> <a id="22656" class="Symbol">(</a><a id="22657" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22661" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a><a id="22662" class="Symbol">)</a> <a id="22664" class="Symbol">(</a><a id="22665" href="Ledger.Ledger.Properties.html#9795" class="Function">propUpdate</a> <a id="22676" href="Ledger.Ledger.Properties.html#21878" class="Bound">gSt</a> <a id="22680" href="Ledger.Ledger.Properties.html#21882" class="Bound">p</a> <a id="22682" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a><a id="22683" class="Symbol">)))</a>
      <a id="22693" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22695" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22697" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="22714" class="Symbol">(</a><a id="22715" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="22720" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22722" class="Symbol">(</a><a id="22723" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22727" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a><a id="22728" class="Symbol">)</a> <a id="22730" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22732" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22739" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="22741" class="Symbol">)</a> <a id="22743" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="22753" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="22756" href="Ledger.Ledger.Properties.html#21288" class="Function">connex-lemma</a> <a id="22769" class="Symbol">(</a><a id="22770" href="Ledger.Ledger.Properties.html#9795" class="Function">propUpdate</a> <a id="22781" href="Ledger.Ledger.Properties.html#21878" class="Bound">gSt</a> <a id="22785" href="Ledger.Ledger.Properties.html#21882" class="Bound">p</a> <a id="22787" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a><a id="22788" class="Symbol">)</a> <a id="22790" href="Ledger.Ledger.Properties.html#21885" class="Bound">p&#39;</a> <a id="22793" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a> <a id="22796" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="22802" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22811" class="Symbol">(</a><a id="22812" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="22818" class="Symbol">(</a><a id="22819" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="22835" class="Symbol">(</a><a id="22836" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="22840" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22845" class="Symbol">(</a><a id="22846" href="Ledger.Ledger.Properties.html#21885" class="Bound">p&#39;</a> <a id="22849" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="22851" href="Ledger.Ledger.Properties.html#21890" class="Bound">ps</a><a id="22853" class="Symbol">))</a> <a id="22856" class="Symbol">(</a><a id="22857" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22861" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a><a id="22862" class="Symbol">)</a> <a id="22864" class="Symbol">(</a><a id="22865" href="Ledger.Ledger.Properties.html#9795" class="Function">propUpdate</a> <a id="22876" href="Ledger.Ledger.Properties.html#21878" class="Bound">gSt</a> <a id="22880" href="Ledger.Ledger.Properties.html#21882" class="Bound">p</a> <a id="22882" href="Ledger.Ledger.Properties.html#21895" class="Bound">k</a><a id="22883" class="Symbol">)))</a>
        <a id="22895" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="SetoidProperties.utxo-govst-connex"></a><a id="22900" href="Ledger.Ledger.Properties.html#22900" class="Function">utxo-govst-connex</a> <a id="22918" class="Symbol">:</a> <a id="22920" class="Symbol">∀</a> <a id="22922" href="Ledger.Ledger.Properties.html#22922" class="Bound">txp</a> <a id="22926" class="Symbol">{</a><a id="22927" href="Ledger.Ledger.Properties.html#22927" class="Bound">utxoDs</a> <a id="22934" href="Ledger.Ledger.Properties.html#22934" class="Bound">gSt</a> <a id="22938" href="Ledger.Ledger.Properties.html#22938" class="Bound">gad</a><a id="22941" class="Symbol">}</a>
    <a id="22947" class="Symbol">→</a> <a id="22949" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="22957" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="22969" class="Symbol">(</a><a id="22970" href="Class.IsSet.html#916" class="Function">dom</a> <a id="22974" class="Symbol">(</a><a id="22975" href="Ledger.Ledger.Properties.html#22927" class="Bound">utxoDs</a><a id="22981" class="Symbol">))</a> <a id="22984" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="22987" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22996" class="Symbol">(</a><a id="22997" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="23003" href="Ledger.Ledger.Properties.html#22934" class="Bound">gSt</a><a id="23006" class="Symbol">)</a>
    <a id="23012" class="Symbol">→</a> <a id="23014" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23022" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="23034" class="Symbol">(</a><a id="23035" href="Class.IsSet.html#916" class="Function">dom</a> <a id="23039" class="Symbol">(</a><a id="23040" href="Ledger.Utxo.html#8848" class="Function">updateProposalDeposits</a> <a id="23063" href="Ledger.Ledger.Properties.html#22922" class="Bound">txp</a> <a id="23067" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="23072" href="Ledger.Ledger.Properties.html#22938" class="Bound">gad</a> <a id="23076" href="Ledger.Ledger.Properties.html#22927" class="Bound">utxoDs</a><a id="23082" class="Symbol">))</a>
      <a id="23091" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="23094" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23103" class="Symbol">(</a><a id="23104" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="23110" class="Symbol">(</a><a id="23111" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="23127" class="Symbol">(</a><a id="23128" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="23132" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="23137" href="Ledger.Ledger.Properties.html#22922" class="Bound">txp</a><a id="23140" class="Symbol">)</a> <a id="23142" class="Number">0</a> <a id="23144" href="Ledger.Ledger.Properties.html#22934" class="Bound">gSt</a><a id="23147" class="Symbol">))</a>
  <a id="23152" href="Ledger.Ledger.Properties.html#22900" class="Function">utxo-govst-connex</a> <a id="23170" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="23173" href="Ledger.Ledger.Properties.html#23173" class="Bound">x</a> <a id="23175" class="Symbol">=</a> <a id="23177" href="Ledger.Ledger.Properties.html#23173" class="Bound">x</a>
  <a id="23181" href="Ledger.Ledger.Properties.html#22900" class="Function">utxo-govst-connex</a> <a id="23199" class="Symbol">(</a><a id="23200" href="Ledger.Ledger.Properties.html#23200" class="Bound">p</a> <a id="23202" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="23204" href="Ledger.Ledger.Properties.html#23204" class="Bound">ps</a><a id="23206" class="Symbol">)</a> <a id="23208" class="Symbol">{</a><a id="23209" href="Ledger.Ledger.Properties.html#23209" class="Bound">utxoDs</a><a id="23215" class="Symbol">}</a> <a id="23217" class="Symbol">{</a><a id="23218" href="Ledger.Ledger.Properties.html#23218" class="Bound">gSt</a><a id="23221" class="Symbol">}</a> <a id="23223" class="Symbol">{</a><a id="23224" href="Ledger.Ledger.Properties.html#23224" class="Bound">gad</a><a id="23227" class="Symbol">}</a> <a id="23229" href="Ledger.Ledger.Properties.html#23229" class="Bound">x</a> <a id="23231" class="Symbol">=</a> <a id="23233" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="23243" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23251" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="23263" class="Symbol">(</a><a id="23264" href="Class.IsSet.html#916" class="Function">dom</a> <a id="23268" class="Symbol">(</a><a id="23269" href="Ledger.Utxo.html#8848" class="Function">updateProposalDeposits</a> <a id="23292" class="Symbol">(</a><a id="23293" href="Ledger.Ledger.Properties.html#23200" class="Bound">p</a> <a id="23295" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="23297" href="Ledger.Ledger.Properties.html#23204" class="Bound">ps</a><a id="23299" class="Symbol">)</a> <a id="23301" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="23306" href="Ledger.Ledger.Properties.html#23224" class="Bound">gad</a> <a id="23310" href="Ledger.Ledger.Properties.html#23209" class="Bound">utxoDs</a><a id="23316" class="Symbol">))</a>
      <a id="23325" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="23328" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="23343" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="23354" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="23360" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23368" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="23380" class="Symbol">((</a><a id="23382" href="Class.IsSet.html#916" class="Function">dom</a> <a id="23386" class="Symbol">(</a><a id="23387" href="Ledger.Utxo.html#8848" class="Function">updateProposalDeposits</a> <a id="23410" href="Ledger.Ledger.Properties.html#23204" class="Bound">ps</a> <a id="23413" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="23418" href="Ledger.Ledger.Properties.html#23224" class="Bound">gad</a> <a id="23422" href="Ledger.Ledger.Properties.html#23209" class="Bound">utxoDs</a><a id="23428" class="Symbol">))</a>
      <a id="23437" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="23439" class="Symbol">(</a><a id="23440" href="Class.IsSet.html#916" class="Function">dom</a><a id="23443" class="Symbol">{</a><a id="23444" class="Argument">X</a> <a id="23446" class="Symbol">=</a> <a id="23448" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="23456" class="Symbol">}</a> <a id="23458" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="23460" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="23477" class="Symbol">(</a><a id="23478" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="23483" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23485" href="Data.List.Base.html#5044" class="Function">length</a> <a id="23492" href="Ledger.Ledger.Properties.html#23204" class="Bound">ps</a><a id="23494" class="Symbol">)</a> <a id="23496" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23498" href="Ledger.Ledger.Properties.html#23224" class="Bound">gad</a> <a id="23502" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="23503" class="Symbol">))</a>
      <a id="23512" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="23515" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="23528" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="23534" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23542" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="23554" class="Symbol">(</a><a id="23555" href="Class.IsSet.html#916" class="Function">dom</a> <a id="23559" class="Symbol">(</a><a id="23560" href="Ledger.Utxo.html#8848" class="Function">updateProposalDeposits</a> <a id="23583" href="Ledger.Ledger.Properties.html#23204" class="Bound">ps</a> <a id="23586" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="23591" href="Ledger.Ledger.Properties.html#23224" class="Bound">gad</a> <a id="23595" href="Ledger.Ledger.Properties.html#23209" class="Bound">utxoDs</a><a id="23601" class="Symbol">))</a> <a id="23604" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="23606" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23614" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a>
        <a id="23634" class="Symbol">(</a><a id="23635" href="Class.IsSet.html#916" class="Function">dom</a><a id="23638" class="Symbol">{</a><a id="23639" class="Argument">X</a> <a id="23641" class="Symbol">=</a> <a id="23643" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="23651" class="Symbol">}</a> <a id="23653" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="23655" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="23672" class="Symbol">(</a><a id="23673" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="23678" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23680" href="Data.List.Base.html#5044" class="Function">length</a> <a id="23687" href="Ledger.Ledger.Properties.html#23204" class="Bound">ps</a><a id="23689" class="Symbol">)</a> <a id="23691" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23693" href="Ledger.Ledger.Properties.html#23224" class="Bound">gad</a> <a id="23697" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="23698" class="Symbol">)</a>
      <a id="23706" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="23709" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="23716" class="Symbol">(</a><a id="23717" href="Ledger.Ledger.Properties.html#22900" class="Function">utxo-govst-connex</a> <a id="23735" href="Ledger.Ledger.Properties.html#23204" class="Bound">ps</a> <a id="23738" href="Ledger.Ledger.Properties.html#23229" class="Bound">x</a><a id="23739" class="Symbol">)</a> <a id="23741" class="Symbol">(</a><a id="23742" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="23757" href="Axiom.Set.Rel.html#3373" class="Function">dom-single≡single</a><a id="23774" class="Symbol">)</a> <a id="23776" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="23782" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23791" class="Symbol">(</a><a id="23792" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="23798" class="Symbol">(</a><a id="23799" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="23815" class="Symbol">(</a><a id="23816" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="23820" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="23825" href="Ledger.Ledger.Properties.html#23204" class="Bound">ps</a><a id="23827" class="Symbol">)</a> <a id="23829" class="Number">0</a> <a id="23831" href="Ledger.Ledger.Properties.html#23218" class="Bound">gSt</a><a id="23834" class="Symbol">))</a>
      <a id="23843" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="23845" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23853" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="23865" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="23867" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="23884" class="Symbol">(</a><a id="23885" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="23890" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23892" href="Data.List.Base.html#5044" class="Function">length</a> <a id="23899" href="Ledger.Ledger.Properties.html#23204" class="Bound">ps</a><a id="23901" class="Symbol">)</a> <a id="23903" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="23911" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="23914" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a>  <a id="23922" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="23930" class="Symbol">(</a><a id="23931" href="Ledger.Ledger.Properties.html#8794" class="Function">filterGA</a> <a id="23940" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="23945" class="Symbol">_)</a> <a id="23948" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="23954" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23963" class="Symbol">(</a><a id="23964" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="23970" class="Symbol">(</a><a id="23971" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="23987" class="Symbol">(</a><a id="23988" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="23992" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="23997" href="Ledger.Ledger.Properties.html#23204" class="Bound">ps</a><a id="23999" class="Symbol">)</a> <a id="24001" class="Number">0</a> <a id="24003" href="Ledger.Ledger.Properties.html#23218" class="Bound">gSt</a><a id="24006" class="Symbol">))</a> <a id="24009" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="24011" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="24013" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="24030" class="Symbol">(</a><a id="24031" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="24036" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24038" href="Data.List.Base.html#5044" class="Function">length</a> <a id="24045" href="Ledger.Ledger.Properties.html#23204" class="Bound">ps</a><a id="24047" class="Symbol">)</a> <a id="24049" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="24057" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="24060" href="Ledger.Ledger.Properties.html#21288" class="Function">connex-lemma</a> <a id="24073" href="Ledger.Ledger.Properties.html#23218" class="Bound">gSt</a> <a id="24077" href="Ledger.Ledger.Properties.html#23200" class="Bound">p</a> <a id="24079" href="Ledger.Ledger.Properties.html#23204" class="Bound">ps</a> <a id="24082" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="24088" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24097" class="Symbol">(</a><a id="24098" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="24104" class="Symbol">(</a><a id="24105" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="24121" class="Symbol">(</a><a id="24122" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="24126" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24131" class="Symbol">(</a><a id="24132" href="Ledger.Ledger.Properties.html#23200" class="Bound">p</a> <a id="24134" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="24136" href="Ledger.Ledger.Properties.html#23204" class="Bound">ps</a><a id="24138" class="Symbol">))</a> <a id="24141" class="Number">0</a> <a id="24143" href="Ledger.Ledger.Properties.html#23218" class="Bound">gSt</a><a id="24146" class="Symbol">))</a> <a id="24149" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="24154" class="Comment">-- The list of natural numbers from 0 up to `n` - 1.</a>
  <a id="SetoidProperties.⟦0:&lt;_⟧"></a><a id="24209" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;_⟧</a> <a id="24216" class="Symbol">:</a> <a id="24218" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="24220" class="Symbol">→</a> <a id="24222" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="24227" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="24231" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="24236" class="Number">0</a>     <a id="24242" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a> <a id="24244" class="Symbol">=</a> <a id="24246" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="24251" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="24256" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="24260" href="Ledger.Ledger.Properties.html#24260" class="Bound">n</a> <a id="24262" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a> <a id="24264" class="Symbol">=</a> <a id="24266" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="24271" href="Ledger.Ledger.Properties.html#24260" class="Bound">n</a> <a id="24273" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a> <a id="24275" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="24278" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="24280" href="Ledger.Ledger.Properties.html#24260" class="Bound">n</a> <a id="24282" href="Data.List.Base.html#5205" class="Function Operator">]</a>

  <a id="SetoidProperties.connex-lemma-rep"></a><a id="24287" href="Ledger.Ledger.Properties.html#24287" class="Function">connex-lemma-rep</a> <a id="24304" class="Symbol">:</a> <a id="24306" class="Symbol">∀</a> <a id="24308" href="Ledger.Ledger.Properties.html#24308" class="Bound">k</a> <a id="24310" href="Ledger.Ledger.Properties.html#24310" class="Bound">govSt</a> <a id="24316" href="Ledger.Ledger.Properties.html#24316" class="Bound">ps</a> <a id="24319" class="Symbol">→</a>
    <a id="24325" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24334" class="Symbol">(</a><a id="24335" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="24341" class="Symbol">(</a><a id="24342" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="24358" class="Symbol">(</a><a id="24359" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="24363" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24368" href="Ledger.Ledger.Properties.html#24316" class="Bound">ps</a><a id="24370" class="Symbol">)</a> <a id="24372" href="Ledger.Ledger.Properties.html#24308" class="Bound">k</a> <a id="24374" href="Ledger.Ledger.Properties.html#24310" class="Bound">govSt</a><a id="24379" class="Symbol">))</a>
    <a id="24386" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a>
    <a id="24393" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24402" class="Symbol">(</a><a id="24403" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="24409" href="Ledger.Ledger.Properties.html#24310" class="Bound">govSt</a><a id="24414" class="Symbol">)</a> <a id="24416" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="24418" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24427" class="Symbol">(</a><a id="24428" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="24432" class="Symbol">(λ</a> <a id="24435" href="Ledger.Ledger.Properties.html#24435" class="Bound">i</a> <a id="24437" class="Symbol">→</a> <a id="24439" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="24456" class="Symbol">(</a><a id="24457" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="24462" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24464" href="Ledger.Ledger.Properties.html#24308" class="Bound">k</a> <a id="24466" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24468" href="Ledger.Ledger.Properties.html#24435" class="Bound">i</a><a id="24469" class="Symbol">))</a> <a id="24472" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="24477" href="Data.List.Base.html#5044" class="Function">length</a> <a id="24484" href="Ledger.Ledger.Properties.html#24316" class="Bound">ps</a> <a id="24487" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a><a id="24488" class="Symbol">)</a>
  <a id="24492" href="Ledger.Ledger.Properties.html#24287" class="Function">connex-lemma-rep</a> <a id="24509" href="Ledger.Ledger.Properties.html#24509" class="Bound">k</a> <a id="24511" href="Ledger.Ledger.Properties.html#24511" class="Bound">govSt</a> <a id="24517" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="24520" class="Symbol">=</a> <a id="24522" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="24532" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24541" class="Symbol">(</a><a id="24542" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="24548" href="Ledger.Ledger.Properties.html#24511" class="Bound">govSt</a><a id="24553" class="Symbol">)</a>
      <a id="24561" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="24565" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="24577" class="Symbol">(</a><a id="24578" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24587" class="Symbol">(</a><a id="24588" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="24594" href="Ledger.Ledger.Properties.html#24511" class="Bound">govSt</a><a id="24599" class="Symbol">))</a> <a id="24602" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="24608" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24617" class="Symbol">(</a><a id="24618" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="24624" href="Ledger.Ledger.Properties.html#24511" class="Bound">govSt</a><a id="24629" class="Symbol">)</a> <a id="24631" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="24633" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24642" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="24651" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="24659" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24668" class="Symbol">(</a><a id="24669" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="24675" href="Ledger.Ledger.Properties.html#24511" class="Bound">govSt</a><a id="24680" class="Symbol">)</a> <a id="24682" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="24684" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24693" class="Symbol">(</a><a id="24694" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="24698" class="Symbol">(λ</a> <a id="24701" href="Ledger.Ledger.Properties.html#24701" class="Bound">i</a> <a id="24703" class="Symbol">→</a> <a id="24705" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="24722" class="Symbol">(</a><a id="24723" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="24728" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24730" href="Ledger.Ledger.Properties.html#24509" class="Bound">k</a> <a id="24732" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24734" href="Ledger.Ledger.Properties.html#24701" class="Bound">i</a><a id="24735" class="Symbol">))</a> <a id="24738" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="24743" class="Number">0</a> <a id="24745" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a><a id="24746" class="Symbol">)</a> <a id="24748" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="24752" href="Ledger.Ledger.Properties.html#24287" class="Function">connex-lemma-rep</a> <a id="24769" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="24771" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a> <a id="24777" class="Symbol">(</a><a id="24778" href="Ledger.Ledger.Properties.html#24778" class="Bound">p</a> <a id="24780" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="24782" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="24784" class="Symbol">)</a> <a id="24786" class="Symbol">=</a> <a id="24788" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="24798" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24807" class="Symbol">(</a><a id="24808" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="24814" class="Symbol">(</a><a id="24815" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="24831" class="Symbol">(</a><a id="24832" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="24836" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24841" class="Symbol">(</a><a id="24842" href="Ledger.Ledger.Properties.html#24778" class="Bound">p</a> <a id="24844" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="24846" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="24848" class="Symbol">))</a> <a id="24851" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="24853" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a><a id="24858" class="Symbol">))</a>
      <a id="24867" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="24875" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24884" class="Symbol">(</a><a id="24885" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="24891" class="Symbol">(</a><a id="24892" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="24908" class="Symbol">(</a><a id="24909" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24914" href="Ledger.Ledger.Properties.html#24778" class="Bound">p</a> <a id="24916" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="24918" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="24922" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24927" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="24929" class="Symbol">)</a> <a id="24931" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="24933" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a><a id="24938" class="Symbol">))</a>
      <a id="24947" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="24955" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24964" class="Symbol">(</a><a id="24965" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="24971" class="Symbol">(</a><a id="24972" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="24988" class="Symbol">(</a><a id="24989" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="24993" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24998" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="25000" class="Symbol">)</a> <a id="25002" class="Symbol">(</a><a id="25003" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="25007" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a><a id="25008" class="Symbol">)</a> <a id="25010" class="Symbol">(</a><a id="25011" href="Ledger.Ledger.Properties.html#9795" class="Function">propUpdate</a> <a id="25022" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a> <a id="25028" href="Ledger.Ledger.Properties.html#24778" class="Bound">p</a> <a id="25030" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a><a id="25031" class="Symbol">)))</a>
      <a id="25041" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="25045" href="Ledger.Ledger.Properties.html#21288" class="Function">connex-lemma</a> <a id="25058" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a> <a id="25064" href="Ledger.Ledger.Properties.html#24778" class="Bound">p</a> <a id="25066" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a> <a id="25069" class="Symbol">{</a><a id="25070" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a><a id="25071" class="Symbol">}</a> <a id="25073" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="25079" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25088" class="Symbol">(</a><a id="25089" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="25095" class="Symbol">(</a><a id="25096" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="25112" class="Symbol">(</a><a id="25113" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="25117" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="25122" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="25124" class="Symbol">)</a> <a id="25126" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="25128" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a><a id="25133" class="Symbol">))</a> <a id="25136" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25138" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="25140" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="25157" class="Symbol">(</a><a id="25158" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="25163" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25165" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="25167" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25169" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25176" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="25178" class="Symbol">)</a> <a id="25180" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="25188" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="25191" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="25198" class="Symbol">(</a><a id="25199" href="Ledger.Ledger.Properties.html#24287" class="Function">connex-lemma-rep</a> <a id="25216" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="25218" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a> <a id="25224" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="25226" class="Symbol">)</a> <a id="25228" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="25236" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="25242" class="Symbol">(</a><a id="25243" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25252" class="Symbol">(</a><a id="25253" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="25259" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a><a id="25264" class="Symbol">)</a> <a id="25266" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25268" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25277" class="Symbol">(</a><a id="25278" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="25282" class="Symbol">(λ</a> <a id="25285" href="Ledger.Ledger.Properties.html#25285" class="Bound">i</a> <a id="25287" class="Symbol">→</a> <a id="25289" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="25306" class="Symbol">(</a><a id="25307" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="25312" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25314" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="25316" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25318" href="Ledger.Ledger.Properties.html#25285" class="Bound">i</a><a id="25319" class="Symbol">))</a> <a id="25322" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="25327" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25334" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a> <a id="25337" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a><a id="25338" class="Symbol">))</a> <a id="25341" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25343" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="25345" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="25362" class="Symbol">(</a><a id="25363" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="25368" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25370" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="25372" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25374" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25381" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="25383" class="Symbol">)</a> <a id="25385" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="25393" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="25396" href="Axiom.Set.Properties.html#12114" class="Function">∪-assoc</a> <a id="25404" class="Symbol">(</a><a id="25405" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25414" class="Symbol">(</a><a id="25415" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="25421" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a><a id="25426" class="Symbol">))</a> <a id="25429" class="Symbol">(</a><a id="25430" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25439" class="Symbol">(</a><a id="25440" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="25444" class="Symbol">(λ</a> <a id="25447" href="Ledger.Ledger.Properties.html#25447" class="Bound">i</a> <a id="25449" class="Symbol">→</a> <a id="25451" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="25468" class="Symbol">(</a><a id="25469" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="25474" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25476" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="25478" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25480" href="Ledger.Ledger.Properties.html#25447" class="Bound">i</a><a id="25481" class="Symbol">))</a> <a id="25484" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="25489" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25496" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a> <a id="25499" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a><a id="25500" class="Symbol">))</a> <a id="25503" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="25505" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="25522" class="Symbol">(</a><a id="25523" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="25528" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25530" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="25532" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25534" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25541" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="25543" class="Symbol">)</a> <a id="25545" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="25547" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="25553" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25562" class="Symbol">(</a><a id="25563" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="25569" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a><a id="25574" class="Symbol">)</a> <a id="25576" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25578" class="Symbol">(</a><a id="25579" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25588" class="Symbol">(</a><a id="25589" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="25593" class="Symbol">(λ</a> <a id="25596" href="Ledger.Ledger.Properties.html#25596" class="Bound">i</a> <a id="25598" class="Symbol">→</a> <a id="25600" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="25617" class="Symbol">(</a><a id="25618" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="25623" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25625" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="25627" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25629" href="Ledger.Ledger.Properties.html#25596" class="Bound">i</a><a id="25630" class="Symbol">))</a> <a id="25633" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="25638" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25645" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a> <a id="25648" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a><a id="25649" class="Symbol">)</a> <a id="25651" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25653" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="25655" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="25672" class="Symbol">(</a><a id="25673" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="25678" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25680" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="25682" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25684" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25691" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="25693" class="Symbol">)</a> <a id="25695" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="25696" class="Symbol">)</a>
      <a id="25704" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="25712" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25721" class="Symbol">(</a><a id="25722" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="25728" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a><a id="25733" class="Symbol">)</a> <a id="25735" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25737" class="Symbol">(</a><a id="25738" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25747" class="Symbol">(</a><a id="25748" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="25752" class="Symbol">(λ</a> <a id="25755" href="Ledger.Ledger.Properties.html#25755" class="Bound">i</a> <a id="25757" class="Symbol">→</a> <a id="25759" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="25776" class="Symbol">(</a><a id="25777" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="25782" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25784" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="25786" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25788" href="Ledger.Ledger.Properties.html#25755" class="Bound">i</a><a id="25789" class="Symbol">))</a> <a id="25792" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="25797" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25804" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a> <a id="25807" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a><a id="25808" class="Symbol">)</a> <a id="25810" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25812" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25821" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="25823" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="25840" class="Symbol">(</a><a id="25841" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="25846" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25848" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="25850" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25852" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25859" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="25861" class="Symbol">)</a> <a id="25863" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="25864" class="Symbol">)</a>
      <a id="25872" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="25875" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="25882" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="25890" class="Symbol">(</a><a id="25891" href="Axiom.Set.Properties.html#12610" class="Function">∪-fromList-++</a> <a id="25905" class="Symbol">(</a><a id="25906" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="25910" class="Symbol">(λ</a> <a id="25913" href="Ledger.Ledger.Properties.html#25913" class="Bound">i</a> <a id="25915" class="Symbol">→</a> <a id="25917" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="25934" class="Symbol">(</a><a id="25935" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="25940" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25942" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="25944" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25946" href="Ledger.Ledger.Properties.html#25913" class="Bound">i</a><a id="25947" class="Symbol">))</a> <a id="25950" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="25955" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25962" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a> <a id="25965" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a><a id="25966" class="Symbol">)</a> <a id="25968" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="25970" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="25987" class="Symbol">(</a><a id="25988" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="25993" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25995" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="25997" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25999" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26006" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="26008" class="Symbol">)</a> <a id="26010" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="26011" class="Symbol">)</a> <a id="26013" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="26019" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26028" class="Symbol">(</a><a id="26029" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="26035" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a><a id="26040" class="Symbol">)</a> <a id="26042" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="26044" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26053" class="Symbol">(</a><a id="26054" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="26058" class="Symbol">(λ</a> <a id="26061" href="Ledger.Ledger.Properties.html#26061" class="Bound">i</a> <a id="26063" class="Symbol">→</a> <a id="26065" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="26082" class="Symbol">(</a><a id="26083" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="26088" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26090" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="26092" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26094" href="Ledger.Ledger.Properties.html#26061" class="Bound">i</a><a id="26095" class="Symbol">))</a> <a id="26098" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="26103" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26110" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a> <a id="26113" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a> <a id="26115" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="26118" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="26120" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="26137" class="Symbol">(</a><a id="26138" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="26143" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26145" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="26147" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26149" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26156" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="26158" class="Symbol">)</a> <a id="26160" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="26161" class="Symbol">)</a>
      <a id="26169" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="26173" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="26178" class="Symbol">(λ</a> <a id="26181" href="Ledger.Ledger.Properties.html#26181" class="Bound">x</a> <a id="26183" class="Symbol">→</a> <a id="26185" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26194" class="Symbol">(</a><a id="26195" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="26201" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a><a id="26206" class="Symbol">)</a> <a id="26208" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="26210" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26219" href="Ledger.Ledger.Properties.html#26181" class="Bound">x</a><a id="26220" class="Symbol">)</a> <a id="26222" class="Symbol">(</a><a id="26223" href="Data.List.Properties.html#3851" class="Function">map-++</a> <a id="26230" class="Symbol">_</a> <a id="26232" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="26237" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26244" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a> <a id="26247" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a> <a id="26249" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="26251" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26258" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a> <a id="26261" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="26262" class="Symbol">)</a> <a id="26264" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="26270" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26279" class="Symbol">(</a><a id="26280" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="26286" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a><a id="26291" class="Symbol">)</a> <a id="26293" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="26295" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26304" class="Symbol">(</a><a id="26305" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="26309" class="Symbol">(λ</a> <a id="26312" href="Ledger.Ledger.Properties.html#26312" class="Bound">i</a> <a id="26314" class="Symbol">→</a> <a id="26316" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="26333" class="Symbol">(</a><a id="26334" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="26339" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26341" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="26343" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26345" href="Ledger.Ledger.Properties.html#26312" class="Bound">i</a><a id="26346" class="Symbol">))</a> <a id="26349" class="Symbol">(</a><a id="26350" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="26355" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26362" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a> <a id="26365" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a> <a id="26367" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="26370" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="26372" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26379" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a> <a id="26382" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="26383" class="Symbol">))</a>
      <a id="26392" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="26400" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26409" class="Symbol">(</a><a id="26410" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="26416" href="Ledger.Ledger.Properties.html#24771" class="Bound">govSt</a><a id="26421" class="Symbol">)</a> <a id="26423" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="26425" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26434" class="Symbol">(</a><a id="26435" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="26439" class="Symbol">(λ</a> <a id="26442" href="Ledger.Ledger.Properties.html#26442" class="Bound">i</a> <a id="26444" class="Symbol">→</a> <a id="26446" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="26463" class="Symbol">(</a><a id="26464" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="26469" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26471" href="Ledger.Ledger.Properties.html#24769" class="Bound">k</a> <a id="26473" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26475" href="Ledger.Ledger.Properties.html#26442" class="Bound">i</a><a id="26476" class="Symbol">))</a> <a id="26479" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="26484" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26491" class="Symbol">(</a><a id="26492" href="Ledger.Ledger.Properties.html#24778" class="Bound">p</a> <a id="26494" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="26496" href="Ledger.Ledger.Properties.html#24782" class="Bound">ps</a><a id="26498" class="Symbol">)</a> <a id="26500" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a><a id="26501" class="Symbol">)</a> <a id="26503" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="26508" class="Comment">-- Removing orphan DRep votes does not modify the set of GAs in GovState</a>
  <a id="SetoidProperties.|ᵒ-GAs-pres"></a><a id="26583" href="Ledger.Ledger.Properties.html#26583" class="Function">|ᵒ-GAs-pres</a> <a id="26595" class="Symbol">:</a> <a id="26597" class="Symbol">∀</a> <a id="26599" href="Ledger.Ledger.Properties.html#26599" class="Bound">k</a> <a id="26601" href="Ledger.Ledger.Properties.html#26601" class="Bound">govSt</a> <a id="26607" href="Ledger.Ledger.Properties.html#26607" class="Bound">certState</a> <a id="26617" class="Symbol">→</a>
    <a id="26623" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26632" class="Symbol">(</a><a id="26633" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="26639" class="Symbol">(</a><a id="26640" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="26656" class="Symbol">(</a><a id="26657" href="Ledger.Ledger.html#1707" class="Function">txgov</a> <a id="26663" href="Ledger.Ledger.Properties.html#11755" class="Function">txb</a><a id="26666" class="Symbol">)</a> <a id="26668" href="Ledger.Ledger.Properties.html#26599" class="Bound">k</a> <a id="26670" class="Symbol">(</a><a id="26671" href="Ledger.Ledger.html#1825" class="Function">rmOrphanDRepVotes</a> <a id="26689" href="Ledger.Ledger.Properties.html#26607" class="Bound">certState</a> <a id="26699" href="Ledger.Ledger.Properties.html#26601" class="Bound">govSt</a><a id="26704" class="Symbol">)))</a>
    <a id="26712" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a>
    <a id="26719" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26728" class="Symbol">(</a><a id="26729" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="26735" class="Symbol">(</a><a id="26736" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="26752" class="Symbol">(</a><a id="26753" href="Ledger.Ledger.html#1707" class="Function">txgov</a> <a id="26759" href="Ledger.Ledger.Properties.html#11755" class="Function">txb</a><a id="26762" class="Symbol">)</a> <a id="26764" href="Ledger.Ledger.Properties.html#26599" class="Bound">k</a> <a id="26766" href="Ledger.Ledger.Properties.html#26601" class="Bound">govSt</a><a id="26771" class="Symbol">))</a>
  <a id="26776" href="Ledger.Ledger.Properties.html#26583" class="Function">|ᵒ-GAs-pres</a> <a id="26788" href="Ledger.Ledger.Properties.html#26788" class="Bound">k</a> <a id="26790" href="Ledger.Ledger.Properties.html#26790" class="Bound">govSt</a> <a id="26796" href="Ledger.Ledger.Properties.html#26796" class="Bound">certState</a> <a id="26806" class="Symbol">=</a> <a id="26808" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="26818" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26827" class="Symbol">(</a><a id="26828" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="26834" class="Symbol">(</a><a id="26835" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="26851" class="Symbol">(</a><a id="26852" href="Ledger.Ledger.html#1707" class="Function">txgov</a> <a id="26858" href="Ledger.Ledger.Properties.html#11755" class="Function">txb</a><a id="26861" class="Symbol">)</a> <a id="26863" href="Ledger.Ledger.Properties.html#26788" class="Bound">k</a> <a id="26865" class="Symbol">(</a><a id="26866" href="Ledger.Ledger.html#1825" class="Function">rmOrphanDRepVotes</a> <a id="26884" href="Ledger.Ledger.Properties.html#26796" class="Bound">certState</a> <a id="26894" href="Ledger.Ledger.Properties.html#26790" class="Bound">govSt</a><a id="26899" class="Symbol">)))</a>
      <a id="26909" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="26912" href="Ledger.Ledger.Properties.html#19053" class="Function">props-dpMap-votes-invar</a> <a id="26936" href="Ledger.Transaction.html#2987" class="Function">txvote</a> <a id="26943" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="26950" class="Symbol">{</a><a id="26951" href="Ledger.Ledger.Properties.html#26788" class="Bound">k</a><a id="26952" class="Symbol">}</a> <a id="26954" class="Symbol">{</a><a id="26955" href="Ledger.Ledger.html#1825" class="Function">rmOrphanDRepVotes</a> <a id="26973" href="Ledger.Ledger.Properties.html#26796" class="Bound">certState</a> <a id="26983" href="Ledger.Ledger.Properties.html#26790" class="Bound">govSt</a><a id="26988" class="Symbol">}</a> <a id="26990" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="26996" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27005" class="Symbol">(</a><a id="27006" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="27012" class="Symbol">(</a><a id="27013" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="27029" class="Symbol">(</a><a id="27030" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="27034" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="27039" href="Ledger.Transaction.html#3023" class="Function">txprop</a><a id="27045" class="Symbol">)</a> <a id="27047" href="Ledger.Ledger.Properties.html#26788" class="Bound">k</a> <a id="27049" class="Symbol">(</a><a id="27050" href="Ledger.Ledger.html#1825" class="Function">rmOrphanDRepVotes</a> <a id="27068" href="Ledger.Ledger.Properties.html#26796" class="Bound">certState</a> <a id="27078" href="Ledger.Ledger.Properties.html#26790" class="Bound">govSt</a><a id="27083" class="Symbol">)))</a>
      <a id="27093" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="27096" href="Ledger.Ledger.Properties.html#24287" class="Function">connex-lemma-rep</a> <a id="27113" href="Ledger.Ledger.Properties.html#26788" class="Bound">k</a> <a id="27115" class="Symbol">(</a><a id="27116" href="Ledger.Ledger.html#1825" class="Function">rmOrphanDRepVotes</a> <a id="27134" href="Ledger.Ledger.Properties.html#26796" class="Bound">certState</a> <a id="27144" href="Ledger.Ledger.Properties.html#26790" class="Bound">govSt</a><a id="27149" class="Symbol">)</a> <a id="27151" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="27158" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="27164" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27173" class="Symbol">(</a><a id="27174" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="27180" class="Symbol">(</a><a id="27181" href="Ledger.Ledger.html#1825" class="Function">rmOrphanDRepVotes</a> <a id="27199" href="Ledger.Ledger.Properties.html#26796" class="Bound">certState</a> <a id="27209" href="Ledger.Ledger.Properties.html#26790" class="Bound">govSt</a><a id="27214" class="Symbol">))</a> <a id="27217" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="27219" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27228" class="Symbol">(</a><a id="27229" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="27233" class="Symbol">(λ</a> <a id="27236" href="Ledger.Ledger.Properties.html#27236" class="Bound">i</a> <a id="27238" class="Symbol">→</a> <a id="27240" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="27257" class="Symbol">(</a><a id="27258" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="27263" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27265" href="Ledger.Ledger.Properties.html#26788" class="Bound">k</a> <a id="27267" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="27269" href="Ledger.Ledger.Properties.html#27236" class="Bound">i</a><a id="27270" class="Symbol">))</a> <a id="27273" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="27278" href="Data.List.Base.html#5044" class="Function">length</a> <a id="27285" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="27292" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a><a id="27293" class="Symbol">)</a>
      <a id="27301" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27304" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27309" class="Symbol">(λ</a> <a id="27312" href="Ledger.Ledger.Properties.html#27312" class="Bound">x</a> <a id="27314" class="Symbol">→</a> <a id="27316" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27325" href="Ledger.Ledger.Properties.html#27312" class="Bound">x</a> <a id="27327" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="27329" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27338" class="Symbol">(</a><a id="27339" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="27343" class="Symbol">(λ</a> <a id="27346" href="Ledger.Ledger.Properties.html#27346" class="Bound">i</a> <a id="27348" class="Symbol">→</a> <a id="27350" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="27367" class="Symbol">(</a><a id="27368" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="27373" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27375" href="Ledger.Ledger.Properties.html#26788" class="Bound">k</a> <a id="27377" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="27379" href="Ledger.Ledger.Properties.html#27346" class="Bound">i</a><a id="27380" class="Symbol">))</a> <a id="27383" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="27388" href="Data.List.Base.html#5044" class="Function">length</a> <a id="27395" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="27402" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a><a id="27403" class="Symbol">))</a> <a id="27406" class="Symbol">(</a><a id="27407" href="Ledger.Ledger.Properties.html#11429" class="Function">dpMap-rmOrphanDRepVotes</a> <a id="27431" href="Ledger.Ledger.Properties.html#26796" class="Bound">certState</a> <a id="27441" href="Ledger.Ledger.Properties.html#26790" class="Bound">govSt</a><a id="27446" class="Symbol">)</a> <a id="27448" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="27454" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27463" class="Symbol">(</a><a id="27464" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="27470" href="Ledger.Ledger.Properties.html#26790" class="Bound">govSt</a><a id="27475" class="Symbol">)</a> <a id="27477" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="27479" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27488" class="Symbol">(</a><a id="27489" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="27493" class="Symbol">(λ</a> <a id="27496" href="Ledger.Ledger.Properties.html#27496" class="Bound">i</a> <a id="27498" class="Symbol">→</a> <a id="27500" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="27517" class="Symbol">(</a><a id="27518" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="27523" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27525" href="Ledger.Ledger.Properties.html#26788" class="Bound">k</a> <a id="27527" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="27529" href="Ledger.Ledger.Properties.html#27496" class="Bound">i</a><a id="27530" class="Symbol">))</a> <a id="27533" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟦0:&lt;</a> <a id="27538" href="Data.List.Base.html#5044" class="Function">length</a> <a id="27545" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="27552" href="Ledger.Ledger.Properties.html#24209" class="Function Operator">⟧</a><a id="27553" class="Symbol">)</a>
      <a id="27561" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="27565" href="Ledger.Ledger.Properties.html#24287" class="Function">connex-lemma-rep</a> <a id="27582" href="Ledger.Ledger.Properties.html#26788" class="Bound">k</a> <a id="27584" href="Ledger.Ledger.Properties.html#26790" class="Bound">govSt</a> <a id="27590" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="27597" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="27603" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27612" class="Symbol">(</a><a id="27613" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="27619" class="Symbol">(</a><a id="27620" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="27636" class="Symbol">(</a><a id="27637" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="27641" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="27646" href="Ledger.Transaction.html#3023" class="Function">txprop</a><a id="27652" class="Symbol">)</a> <a id="27654" href="Ledger.Ledger.Properties.html#26788" class="Bound">k</a> <a id="27656" href="Ledger.Ledger.Properties.html#26790" class="Bound">govSt</a><a id="27661" class="Symbol">))</a>
      <a id="27670" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="27674" href="Ledger.Ledger.Properties.html#19053" class="Function">props-dpMap-votes-invar</a> <a id="27698" href="Ledger.Transaction.html#2987" class="Function">txvote</a> <a id="27705" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="27712" class="Symbol">{</a><a id="27713" href="Ledger.Ledger.Properties.html#26788" class="Bound">k</a><a id="27714" class="Symbol">}</a> <a id="27716" class="Symbol">{</a><a id="27717" href="Ledger.Ledger.Properties.html#26790" class="Bound">govSt</a><a id="27722" class="Symbol">}</a> <a id="27724" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="27730" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27739" class="Symbol">(</a><a id="27740" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="27746" class="Symbol">(</a><a id="27747" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="27763" class="Symbol">(</a><a id="27764" href="Ledger.Ledger.html#1707" class="Function">txgov</a> <a id="27770" href="Ledger.Ledger.Properties.html#11755" class="Function">txb</a><a id="27773" class="Symbol">)</a> <a id="27775" href="Ledger.Ledger.Properties.html#26788" class="Bound">k</a> <a id="27777" href="Ledger.Ledger.Properties.html#26790" class="Bound">govSt</a><a id="27782" class="Symbol">))</a> <a id="27785" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="27790" class="Comment">-- GA Deposits Invariance Property for LEDGER STS ----------------------------------------------------</a>
  <a id="SetoidProperties.LEDGER-govDepsMatch"></a><a id="27895" href="Ledger.Ledger.Properties.html#27895" class="Function">LEDGER-govDepsMatch</a> <a id="27915" class="Symbol">:</a> <a id="27917" class="Symbol">∀</a> <a id="27919" class="Symbol">{</a><a id="27920" href="Ledger.Ledger.Properties.html#27920" class="Bound">s&#39;</a> <a id="27923" class="Symbol">:</a> <a id="27925" href="Ledger.Ledger.html#809" class="Record">LState</a><a id="27931" class="Symbol">}</a> <a id="27933" class="Symbol">→</a> <a id="27935" href="Ledger.Ledger.Properties.html#11695" class="Bound">Γ</a> <a id="27937" href="Ledger.Ledger.html#2581" class="Datatype Operator">⊢</a> <a id="27939" href="Ledger.Ledger.Properties.html#11706" class="Bound">s</a> <a id="27941" href="Ledger.Ledger.html#2581" class="Datatype Operator">⇀⦇</a> <a id="27944" href="Ledger.Ledger.Properties.html#11685" class="Bound">tx</a> <a id="27947" href="Ledger.Ledger.html#2581" class="Datatype Operator">,LEDGER⦈</a> <a id="27956" href="Ledger.Ledger.Properties.html#27920" class="Bound">s&#39;</a>
                        <a id="27983" class="Symbol">→</a> <a id="27985" href="Ledger.Ledger.Properties.html#8452" class="Function">govDepsMatch</a> <a id="27998" href="Ledger.Ledger.Properties.html#11706" class="Bound">s</a> <a id="28000" class="Symbol">→</a> <a id="28002" href="Ledger.Ledger.Properties.html#8452" class="Function">govDepsMatch</a> <a id="28015" href="Ledger.Ledger.Properties.html#27920" class="Bound">s&#39;</a>
  <a id="28020" href="Ledger.Ledger.Properties.html#27895" class="Function">LEDGER-govDepsMatch</a> <a id="28040" class="Symbol">(</a><a id="28041" href="Ledger.Ledger.html#3637" class="InductiveConstructor">LEDGER-I⋯</a> <a id="28051" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="28056" class="Symbol">(</a><a id="28057" href="Ledger.Ledger.Properties.html#8691" class="InductiveConstructor">UTXOW-UTXOS</a> <a id="28069" class="Symbol">(</a><a id="28070" href="Ledger.Utxo.html#13356" class="InductiveConstructor">Scripts-No</a> <a id="28081" class="Symbol">_)))</a> <a id="28086" href="Ledger.Ledger.Properties.html#28086" class="Bound">aprioriMatch</a> <a id="28099" class="Symbol">=</a> <a id="28101" href="Ledger.Ledger.Properties.html#28086" class="Bound">aprioriMatch</a>

  <a id="28117" href="Ledger.Ledger.Properties.html#27895" class="Function">LEDGER-govDepsMatch</a> <a id="28137" class="Symbol">{</a><a id="28138" class="Argument">s&#39;</a> <a id="28141" class="Symbol">=</a> <a id="28143" href="Ledger.Ledger.Properties.html#28143" class="Bound">s&#39;</a><a id="28145" class="Symbol">}</a>
    <a id="28151" href="Ledger.Ledger.Properties.html#28151" class="Bound">utxosts</a><a id="28158" class="Symbol">@(</a><a id="28160" href="Ledger.Ledger.html#3584" class="InductiveConstructor">LEDGER-V⋯</a> <a id="28170" href="Ledger.Ledger.Properties.html#28170" class="Bound">tx-valid</a> <a id="28179" class="Symbol">(</a><a id="28180" href="Ledger.Ledger.Properties.html#8691" class="InductiveConstructor">UTXOW-UTXOS</a> <a id="28192" class="Symbol">(</a><a id="28193" href="Ledger.Utxo.html#12842" class="InductiveConstructor">Scripts-Yes</a> <a id="28205" href="Ledger.Ledger.Properties.html#28205" class="Bound">x</a><a id="28206" class="Symbol">))</a> <a id="28209" class="Symbol">_</a> <a id="28211" href="Ledger.Ledger.Properties.html#28211" class="Bound">GOV-sts</a><a id="28218" class="Symbol">)</a> <a id="28220" href="Ledger.Ledger.Properties.html#28220" class="Bound">aprioriMatch</a> <a id="28233" class="Symbol">=</a>
    <a id="28239" class="Keyword">let</a> <a id="28243" class="Keyword">open</a> <a id="28248" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="28255" href="Ledger.Ledger.Properties.html#28143" class="Bound">s&#39;</a> <a id="28258" class="Keyword">renaming</a> <a id="28267" class="Symbol">(</a><a id="28268" href="Ledger.Ledger.html#895" class="Field">govSt</a> <a id="28274" class="Symbol">to</a> <a id="28277" class="Field">govSt&#39;</a><a id="28283" class="Symbol">;</a> <a id="28285" href="Ledger.Ledger.html#921" class="Field">certState</a> <a id="28295" class="Symbol">to</a> <a id="28298" class="Field">certState&#39;</a><a id="28308" class="Symbol">)</a> <a id="28310" class="Keyword">in</a>
    <a id="28317" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="28329" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="28337" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="28349" class="Symbol">(</a><a id="28350" href="Class.IsSet.html#916" class="Function">dom</a> <a id="28354" class="Symbol">(</a><a id="28355" href="Ledger.Utxo.html#9153" class="Function">updateDeposits</a> <a id="28370" href="Ledger.Ledger.Properties.html#11812" class="Function">pp</a> <a id="28373" href="Ledger.Ledger.Properties.html#11755" class="Function">txb</a> <a id="28377" href="Ledger.Ledger.Properties.html#9425" class="Function">utxoDeps</a><a id="28385" class="Symbol">))</a>
        <a id="28396" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="28399" href="Ledger.Ledger.Properties.html#15448" class="Function">noGACerts</a> <a id="28409" href="Ledger.Transaction.html#2925" class="Function">txcerts</a> <a id="28417" class="Symbol">(</a><a id="28418" href="Ledger.Utxo.html#8848" class="Function">updateProposalDeposits</a> <a id="28441" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="28448" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="28453" href="Ledger.PParams.html#3236" class="Function">govActionDeposit</a> <a id="28470" href="Ledger.Ledger.Properties.html#9425" class="Function">utxoDeps</a><a id="28478" class="Symbol">)</a> <a id="28480" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="28488" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="28496" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="28508" class="Symbol">(</a><a id="28509" href="Class.IsSet.html#916" class="Function">dom</a> <a id="28513" class="Symbol">(</a><a id="28514" href="Ledger.Utxo.html#8848" class="Function">updateProposalDeposits</a> <a id="28537" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="28544" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="28549" href="Ledger.PParams.html#3236" class="Function">govActionDeposit</a> <a id="28566" href="Ledger.Ledger.Properties.html#9425" class="Function">utxoDeps</a><a id="28574" class="Symbol">))</a>
        <a id="28585" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="28588" href="Ledger.Ledger.Properties.html#22900" class="Function">utxo-govst-connex</a> <a id="28606" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="28613" href="Ledger.Ledger.Properties.html#28220" class="Bound">aprioriMatch</a> <a id="28626" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="28634" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="28643" class="Symbol">(</a><a id="28644" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="28650" class="Symbol">(</a><a id="28651" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="28667" class="Symbol">(</a><a id="28668" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="28672" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="28677" href="Ledger.Transaction.html#3023" class="Function">txprop</a><a id="28683" class="Symbol">)</a> <a id="28685" class="Number">0</a> <a id="28687" href="Ledger.Ledger.Properties.html#11874" class="Function">govSt</a><a id="28692" class="Symbol">))</a>
        <a id="28703" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="28707" href="Ledger.Ledger.Properties.html#19053" class="Function">props-dpMap-votes-invar</a> <a id="28731" href="Ledger.Transaction.html#2987" class="Function">txvote</a> <a id="28738" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="28745" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="28753" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="28762" class="Symbol">(</a><a id="28763" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="28769" class="Symbol">(</a><a id="28770" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="28786" class="Symbol">(</a><a id="28787" href="Ledger.Ledger.html#1707" class="Function">txgov</a> <a id="28793" href="Ledger.Ledger.Properties.html#11755" class="Function">txb</a><a id="28796" class="Symbol">)</a> <a id="28798" class="Number">0</a> <a id="28800" href="Ledger.Ledger.Properties.html#11874" class="Function">govSt</a> <a id="28806" class="Symbol">))</a>
        <a id="28817" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="28821" href="Ledger.Ledger.Properties.html#26583" class="Function">|ᵒ-GAs-pres</a> <a id="28833" class="Number">0</a> <a id="28835" href="Ledger.Ledger.Properties.html#11874" class="Function">govSt</a> <a id="28841" href="Ledger.Ledger.Properties.html#28298" class="Function">certState&#39;</a> <a id="28852" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="28860" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="28869" class="Symbol">(</a><a id="28870" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="28876" class="Symbol">(</a><a id="28877" href="Ledger.Ledger.Properties.html#10107" class="Function">updateGovStates</a> <a id="28893" class="Symbol">(</a><a id="28894" href="Ledger.Ledger.html#1707" class="Function">txgov</a> <a id="28900" href="Ledger.Ledger.Properties.html#11755" class="Function">txb</a><a id="28903" class="Symbol">)</a> <a id="28905" class="Number">0</a> <a id="28907" class="Symbol">(</a><a id="28908" href="Ledger.Ledger.html#1825" class="Function">rmOrphanDRepVotes</a> <a id="28926" href="Ledger.Ledger.Properties.html#28298" class="Function">certState&#39;</a> <a id="28937" href="Ledger.Ledger.Properties.html#11874" class="Function">govSt</a><a id="28942" class="Symbol">)))</a>
        <a id="28954" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="28958" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="28963" class="Symbol">(</a><a id="28964" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="28973" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="28975" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="28981" class="Symbol">)</a> <a id="28983" class="Symbol">(</a><a id="28984" href="Ledger.Ledger.Properties.html#10450" class="Function">STS→GovSt≡</a> <a id="28995" href="Ledger.Ledger.Properties.html#28151" class="Bound">utxosts</a> <a id="29003" href="Ledger.Ledger.Properties.html#28170" class="Bound">tx-valid</a><a id="29011" class="Symbol">)</a> <a id="29013" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="29021" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="29030" class="Symbol">(</a><a id="29031" href="Ledger.Ledger.Properties.html#8162" class="Function">dpMap</a> <a id="29037" href="Ledger.Ledger.Properties.html#28277" class="Function">govSt&#39;</a><a id="29043" class="Symbol">)</a> <a id="29045" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="29050" href="Ledger.Ledger.Properties.html#27895" class="Function">LEDGER-govDepsMatch</a> <a id="29070" class="Symbol">{</a><a id="29071" class="Argument">s&#39;</a> <a id="29074" class="Symbol">=</a> <a id="29076" href="Ledger.Ledger.Properties.html#29076" class="Bound">s&#39;</a><a id="29078" class="Symbol">}</a> <a id="29080" href="Ledger.Ledger.Properties.html#29080" class="Bound">utxosts</a><a id="29087" class="Symbol">@(</a><a id="29089" href="Ledger.Ledger.html#2643" class="InductiveConstructor">LEDGER-V</a> <a id="29098" class="Symbol">(()</a> <a id="29102" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29104" href="Ledger.Ledger.Properties.html#8691" class="InductiveConstructor">UTXOW-UTXOS</a> <a id="29116" class="Symbol">(</a><a id="29117" href="Ledger.Utxo.html#13356" class="InductiveConstructor">Scripts-No</a> <a id="29128" class="Symbol">(_</a> <a id="29131" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29133" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="29137" class="Symbol">))</a> <a id="29140" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29142" class="Symbol">_</a> <a id="29144" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29146" href="Ledger.Ledger.Properties.html#29146" class="Bound">GOV-sts</a><a id="29153" class="Symbol">))</a> <a id="29156" href="Ledger.Ledger.Properties.html#29156" class="Bound">aprioriMatch</a>

<a id="29170" class="Keyword">module</a> <a id="EPOCH-Body"></a><a id="29177" href="Ledger.Ledger.Properties.html#29177" class="Module">EPOCH-Body</a> <a id="29188" class="Symbol">(</a><a id="29189" href="Ledger.Ledger.Properties.html#29189" class="Bound">eps</a> <a id="29193" class="Symbol">:</a> <a id="29195" href="Ledger.Epoch.html#1098" class="Record">EpochState</a><a id="29205" class="Symbol">)</a> <a id="29207" class="Keyword">where</a>
  <a id="29215" class="Keyword">open</a> <a id="29220" href="Ledger.Epoch.html#1098" class="Module">EpochState</a> <a id="29231" href="Ledger.Ledger.Properties.html#29189" class="Bound">eps</a> <a id="29235" class="Keyword">hiding</a> <a id="29242" class="Symbol">(</a><a id="29243" href="Ledger.Epoch.html#1239" class="Field">es</a><a id="29245" class="Symbol">)</a> <a id="29247" class="Keyword">public</a>
  <a id="29256" class="Keyword">open</a> <a id="29261" href="Ledger.Ratify.html#3224" class="Module">RatifyState</a> <a id="29273" href="Ledger.Epoch.html#1267" class="Field">fut</a> <a id="29277" class="Keyword">using</a> <a id="29283" class="Symbol">(</a><a id="29284" href="Ledger.Ratify.html#3294" class="Field">removed</a><a id="29291" class="Symbol">)</a> <a id="29293" class="Keyword">renaming</a> <a id="29302" class="Symbol">(</a><a id="29303" href="Ledger.Ratify.html#3261" class="Field">es</a> <a id="29306" class="Symbol">to</a> <a id="29309" class="Field">esW</a><a id="29312" class="Symbol">)</a> <a id="29314" class="Keyword">public</a>
  <a id="29323" class="Keyword">open</a> <a id="29328" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="29335" href="Ledger.Epoch.html#1215" class="Field">ls</a> <a id="29338" class="Keyword">public</a>
  <a id="29347" class="Keyword">open</a> <a id="29352" href="Ledger.GovernanceActions.html#2594" class="Module">GovActionState</a> <a id="29367" class="Keyword">public</a>
  <a id="29376" class="Keyword">open</a> <a id="29381" href="Ledger.Utxo.html#2561" class="Module">UTxOState</a> <a id="29391" class="Keyword">public</a>

  <a id="EPOCH-Body.es"></a><a id="29401" href="Ledger.Ledger.Properties.html#29401" class="Function">es</a>       <a id="29410" class="Symbol">=</a> <a id="29412" class="Keyword">record</a> <a id="29419" href="Ledger.Ledger.Properties.html#29309" class="Function">esW</a> <a id="29423" class="Symbol">{</a> <a id="29425" href="Ledger.Enact.html#649" class="Field">withdrawals</a> <a id="29437" class="Symbol">=</a> <a id="29439" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="29441" class="Symbol">}</a>
  <a id="EPOCH-Body.tmpGovSt"></a><a id="29445" href="Ledger.Ledger.Properties.html#29445" class="Function">tmpGovSt</a> <a id="29454" class="Symbol">=</a> <a id="29456" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="29463" class="Symbol">(λ</a> <a id="29466" href="Ledger.Ledger.Properties.html#29466" class="Bound">x</a> <a id="29468" class="Symbol">→</a> <a id="29470" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="29472" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="29478" href="Ledger.Ledger.Properties.html#29466" class="Bound">x</a> <a id="29480" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="29482" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="29487" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="29493" href="Ledger.Ratify.html#3294" class="Function">removed</a> <a id="29501" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a><a id="29502" class="Symbol">)</a> <a id="29504" href="Ledger.Ledger.html#895" class="Function">govSt</a>
  <a id="EPOCH-Body.orphans"></a><a id="29512" href="Ledger.Ledger.Properties.html#29512" class="Function">orphans</a>  <a id="29521" class="Symbol">=</a> <a id="29523" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="29532" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="29534" href="Ledger.Epoch.html#4332" class="Function">getOrphans</a> <a id="29545" href="Ledger.Ledger.Properties.html#29401" class="Function">es</a> <a id="29548" href="Ledger.Ledger.Properties.html#29445" class="Function">tmpGovSt</a>
  <a id="EPOCH-Body.removed&#39;"></a><a id="29559" href="Ledger.Ledger.Properties.html#29559" class="Function">removed&#39;</a> <a id="29568" class="Symbol">=</a> <a id="29570" href="Ledger.Ratify.html#3294" class="Function">removed</a> <a id="29578" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="29580" href="Ledger.Ledger.Properties.html#29512" class="Function">orphans</a>
  <a id="EPOCH-Body.removedGovActions"></a><a id="29590" href="Ledger.Ledger.Properties.html#29590" class="Function">removedGovActions</a> <a id="29608" class="Symbol">=</a> <a id="29610" href="Function.Base.html#1638" class="Function">flip</a> <a id="29615" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="29626" href="Ledger.Ledger.Properties.html#29559" class="Function">removed&#39;</a> <a id="29635" class="Symbol">λ</a> <a id="29637" class="Symbol">(</a><a id="29638" href="Ledger.Ledger.Properties.html#29638" class="Bound">gaid</a> <a id="29643" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29645" href="Ledger.Ledger.Properties.html#29645" class="Bound">gaSt</a><a id="29649" class="Symbol">)</a> <a id="29651" class="Symbol">→</a>
    <a id="29657" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="29662" class="Symbol">(</a><a id="29663" href="Ledger.GovernanceActions.html#2665" class="Field">returnAddr</a> <a id="29674" href="Ledger.Ledger.Properties.html#29645" class="Bound">gaSt</a> <a id="29679" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="29681" class="Symbol">)</a> <a id="29683" class="Symbol">((</a><a id="29685" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="29692" class="Symbol">.</a><a id="29693" href="Ledger.Utxo.html#2669" class="Field">deposits</a> <a id="29702" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="29704" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="29706" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="29723" href="Ledger.Ledger.Properties.html#29638" class="Bound">gaid</a> <a id="29728" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="29729" class="Symbol">)</a> <a id="29731" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="29732" class="Symbol">)</a>
  <a id="EPOCH-Body.govActionReturns"></a><a id="29736" href="Ledger.Ledger.Properties.html#29736" class="Function">govActionReturns</a> <a id="29753" class="Symbol">=</a> <a id="29755" href="Axiom.Set.Map.Dec.html#1932" class="Function">aggregate₊</a> <a id="29766" class="Symbol">(</a><a id="29767" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="29772" class="Symbol">(λ</a> <a id="29775" class="Symbol">(</a><a id="29776" href="Ledger.Ledger.Properties.html#29776" class="Bound">a</a> <a id="29778" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29780" class="Symbol">_</a> <a id="29782" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29784" href="Ledger.Ledger.Properties.html#29784" class="Bound">d</a><a id="29785" class="Symbol">)</a> <a id="29787" class="Symbol">→</a> <a id="29789" href="Ledger.Ledger.Properties.html#29776" class="Bound">a</a> <a id="29791" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29793" href="Ledger.Ledger.Properties.html#29784" class="Bound">d</a><a id="29794" class="Symbol">)</a> <a id="29796" href="Ledger.Ledger.Properties.html#29590" class="Function">removedGovActions</a> <a id="29814" href="abstract-set-theory.FiniteSetTheory.html#2767" class="Function Operator">ᶠˢ</a><a id="29816" class="Symbol">)</a>

<a id="29819" class="Keyword">module</a> <a id="EPOCH-PROPS"></a><a id="29826" href="Ledger.Ledger.Properties.html#29826" class="Module">EPOCH-PROPS</a> <a id="29838" class="Symbol">{</a><a id="29839" href="Ledger.Ledger.Properties.html#29839" class="Bound">eps</a> <a id="29843" class="Symbol">:</a> <a id="29845" href="Ledger.Epoch.html#1098" class="Record">EpochState</a><a id="29855" class="Symbol">}</a> <a id="29857" class="Keyword">where</a>
  <a id="29865" class="Keyword">open</a> <a id="29870" href="Ledger.Ledger.Properties.html#29177" class="Module">EPOCH-Body</a> <a id="29881" href="Ledger.Ledger.Properties.html#29839" class="Bound">eps</a>

  <a id="29888" class="Comment">-- GA Deposits Invariance Property for EPOCH STS -----------------------------------------------</a>
  <a id="EPOCH-PROPS.EPOCH-govDepsMatch"></a><a id="29987" href="Ledger.Ledger.Properties.html#29987" class="Function">EPOCH-govDepsMatch</a> <a id="30006" class="Symbol">:</a>
    <a id="30012" class="Symbol">(</a><a id="30013" href="Ledger.Ledger.Properties.html#30013" class="Bound">ratify-removed</a> <a id="30028" class="Symbol">:</a> <a id="30030" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30035" class="Symbol">(</a><a id="30036" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="30053" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30055" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="30060" class="Symbol">)</a> <a id="30062" href="Ledger.Ledger.Properties.html#29559" class="Function">removed&#39;</a> <a id="30071" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="30073" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30078" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="30084" class="Symbol">(</a><a id="30085" href="Ledger.Utxo.html#2669" class="Field">UTxOState.deposits</a> <a id="30104" href="Ledger.Ledger.html#868" class="Function">utxoSt</a> <a id="30111" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="30112" class="Symbol">))</a>
    <a id="30119" class="Symbol">{</a><a id="30120" href="Ledger.Ledger.Properties.html#30120" class="Bound">eps&#39;</a> <a id="30125" class="Symbol">:</a> <a id="30127" href="Ledger.Epoch.html#1098" class="Record">EpochState</a><a id="30137" class="Symbol">}</a> <a id="30139" class="Symbol">{</a><a id="30140" href="Ledger.Ledger.Properties.html#30140" class="Bound">e</a> <a id="30142" class="Symbol">:</a> <a id="30144" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a><a id="30149" class="Symbol">}</a>
    <a id="30155" class="Symbol">→</a> <a id="30157" class="Symbol">_</a> <a id="30159" href="Ledger.Epoch.html#6227" class="Datatype Operator">⊢</a> <a id="30161" href="Ledger.Ledger.Properties.html#29839" class="Bound">eps</a> <a id="30165" href="Ledger.Epoch.html#6227" class="Datatype Operator">⇀⦇</a> <a id="30168" href="Ledger.Ledger.Properties.html#30140" class="Bound">e</a> <a id="30170" href="Ledger.Epoch.html#6227" class="Datatype Operator">,EPOCH⦈</a> <a id="30178" href="Ledger.Ledger.Properties.html#30120" class="Bound">eps&#39;</a>
    <a id="30187" class="Symbol">→</a> <a id="30189" href="Ledger.Ledger.Properties.html#8452" class="Function">govDepsMatch</a> <a id="30202" class="Symbol">(</a><a id="30203" href="Ledger.Epoch.html#1215" class="Field">EpochState.ls</a> <a id="30217" href="Ledger.Ledger.Properties.html#29839" class="Bound">eps</a><a id="30220" class="Symbol">)</a> <a id="30222" class="Symbol">→</a> <a id="30224" href="Ledger.Ledger.Properties.html#8452" class="Function">govDepsMatch</a> <a id="30237" class="Symbol">(</a><a id="30238" href="Ledger.Epoch.html#1215" class="Field">EpochState.ls</a> <a id="30252" href="Ledger.Ledger.Properties.html#30120" class="Bound">eps&#39;</a><a id="30256" class="Symbol">)</a>

  <a id="30261" href="Ledger.Ledger.Properties.html#29987" class="Function">EPOCH-govDepsMatch</a> <a id="30280" href="Ledger.Ledger.Properties.html#30280" class="Bound">ratify-removed</a> <a id="30295" class="Symbol">(</a><a id="30296" href="Ledger.Epoch.html#6297" class="InductiveConstructor">EPOCH</a> <a id="30302" href="Ledger.Ledger.Properties.html#30302" class="Bound">x</a> <a id="30304" class="Symbol">_)</a> <a id="30307" class="Symbol">=</a>
      <a id="30315" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="30324" class="Symbol">(</a><a id="30325" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="30340" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="30342" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="30351" class="Symbol">(</a><a id="30352" href="Axiom.Set.Rel.html#6892" class="Function">res-comp-cong</a> <a id="30366" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="30368" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="30375" href="Ledger.Ledger.Properties.html#31083" class="Function">χ&#39;≡χ</a><a id="30379" class="Symbol">))</a>
      <a id="30388" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30390" href="Function.Bundles.html#4834" class="Field">from</a> <a id="30395" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a> <a id="30402" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30404" href="Ledger.Ledger.Properties.html#33212" class="Function">main-invariance-lemma</a> <a id="30426" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30428" href="Function.Bundles.html#4810" class="Field">to</a> <a id="30431" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a>
    <a id="30442" class="Keyword">where</a>

    <a id="30453" class="Comment">-- the combinator used in the EPOCH rule</a>
    <a id="30498" href="Ledger.Ledger.Properties.html#30498" class="Function">χ</a> <a id="30500" class="Symbol">:</a> <a id="30502" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="30504" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a>
    <a id="30523" href="Ledger.Ledger.Properties.html#30498" class="Function">χ</a> <a id="30525" class="Symbol">=</a> <a id="30527" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30532" class="Symbol">(</a><a id="30533" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="30539" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30541" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="30546" class="Symbol">)</a> <a id="30548" href="Ledger.Ledger.Properties.html#29590" class="Function">removedGovActions</a>

    <a id="30571" class="Comment">-- a simpler combinator that suffices here;</a>
    <a id="30619" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a> <a id="30622" class="Symbol">:</a> <a id="30624" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="30626" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a>
    <a id="30645" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a> <a id="30648" class="Symbol">=</a> <a id="30650" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30655" class="Symbol">(</a><a id="30656" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="30673" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30675" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="30680" class="Symbol">)</a> <a id="30682" href="Ledger.Ledger.Properties.html#29559" class="Function">removed&#39;</a>
    <a id="30695" class="Comment">-- Below we prove χ and χ&#39; are essentially equivalent.</a>

    <a id="30755" href="Ledger.Ledger.Properties.html#30755" class="Function">P</a> <a id="30757" class="Symbol">:</a> <a id="30759" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="30771" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="30773" href="Ledger.GovernanceActions.html#2594" class="Record">GovActionState</a> <a id="30788" class="Symbol">→</a> <a id="30790" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="30799" href="Ledger.Ledger.Properties.html#30755" class="Function">P</a> <a id="30801" class="Symbol">=</a> <a id="30803" class="Symbol">λ</a> <a id="30805" href="Ledger.Ledger.Properties.html#30805" class="Bound">u</a> <a id="30807" class="Symbol">→</a> <a id="30809" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="30815" href="Ledger.Ledger.Properties.html#30805" class="Bound">u</a> <a id="30817" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="30819" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30824" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="30830" href="Ledger.Ledger.Properties.html#29559" class="Function">removed&#39;</a>

    <a id="30844" href="Ledger.Ledger.Properties.html#30844" class="Function">P?</a> <a id="30847" class="Symbol">:</a> <a id="30849" href="Relation.Unary.html#4543" class="Function">Decidable</a> <a id="30859" href="Ledger.Ledger.Properties.html#30755" class="Function">P</a>
    <a id="30865" href="Ledger.Ledger.Properties.html#30844" class="Function">P?</a> <a id="30868" class="Symbol">=</a> <a id="30870" class="Symbol">λ</a> <a id="30872" href="Ledger.Ledger.Properties.html#30872" class="Bound">u</a> <a id="30874" class="Symbol">→</a> <a id="30876" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="30878" href="Ledger.Ledger.Properties.html#30755" class="Function">P</a> <a id="30880" href="Ledger.Ledger.Properties.html#30872" class="Bound">u</a> <a id="30882" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a>

    <a id="30889" href="Ledger.Ledger.Properties.html#30889" class="Function">utxoDeps</a> <a id="30898" class="Symbol">:</a> <a id="30900" href="Ledger.Certs.html#573" class="Function">Deposits</a>
    <a id="30913" href="Ledger.Ledger.Properties.html#30889" class="Function">utxoDeps</a> <a id="30922" class="Symbol">=</a> <a id="30924" href="Ledger.Utxo.html#2669" class="Field">UTxOState.deposits</a> <a id="30943" href="Ledger.Ledger.html#868" class="Function">utxoSt</a>

    <a id="30955" class="Comment">-- utxo deposits restricted to new form of set used in EPOCH rule</a>
    <a id="31025" href="Ledger.Ledger.Properties.html#31025" class="Function">utxoDeps&#39;</a> <a id="31035" class="Symbol">:</a> <a id="31037" href="Ledger.Certs.html#573" class="Function">Deposits</a>
    <a id="31050" href="Ledger.Ledger.Properties.html#31025" class="Function">utxoDeps&#39;</a> <a id="31060" class="Symbol">=</a> <a id="31062" href="Ledger.Ledger.Properties.html#30889" class="Function">utxoDeps</a> <a id="31071" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="31073" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a> <a id="31076" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a>

    <a id="31083" href="Ledger.Ledger.Properties.html#31083" class="Function">χ&#39;≡χ</a> <a id="31088" class="Symbol">:</a> <a id="31090" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a> <a id="31093" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="31096" href="Ledger.Ledger.Properties.html#30498" class="Function">χ</a>
    <a id="31102" href="Ledger.Ledger.Properties.html#31083" class="Function">χ&#39;≡χ</a> <a id="31107" class="Symbol">=</a> <a id="31109" href="Ledger.Ledger.Properties.html#31139" class="Function">χ&#39;⊆χ</a> <a id="31114" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31116" href="Ledger.Ledger.Properties.html#31644" class="Function">χ⊆χ&#39;</a>
      <a id="31127" class="Keyword">where</a>
      <a id="31139" href="Ledger.Ledger.Properties.html#31139" class="Function">χ&#39;⊆χ</a> <a id="31144" class="Symbol">:</a> <a id="31146" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a> <a id="31149" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="31151" href="Ledger.Ledger.Properties.html#30498" class="Function">χ</a>
      <a id="31159" href="Ledger.Ledger.Properties.html#31139" class="Function">χ&#39;⊆χ</a> <a id="31164" class="Symbol">{</a><a id="31165" href="Ledger.Ledger.Properties.html#31165" class="Bound">a</a><a id="31166" class="Symbol">}</a> <a id="31168" href="Ledger.Ledger.Properties.html#31168" class="Bound">x</a> <a id="31170" class="Keyword">with</a> <a id="31175" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31180" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31186" href="Ledger.Ledger.Properties.html#31168" class="Bound">x</a>
      <a id="31194" class="Symbol">...</a> <a id="31198" class="Symbol">|</a> <a id="31200" class="Symbol">(</a><a id="31201" href="Ledger.Ledger.Properties.html#31201" class="Bound">gaid</a> <a id="31206" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31208" href="Ledger.Ledger.Properties.html#31208" class="Bound">gast</a><a id="31212" class="Symbol">)</a> <a id="31214" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31216" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31221" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31223" href="Ledger.Ledger.Properties.html#31223" class="Bound">gaidgast∈rem</a> <a id="31236" class="Keyword">with</a> <a id="31241" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31246" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31252" class="Symbol">(</a><a id="31253" href="Ledger.Ledger.Properties.html#30280" class="Bound">ratify-removed</a> <a id="31268" class="Bound">x</a><a id="31269" class="Symbol">)</a>
      <a id="31277" class="Symbol">...</a> <a id="31281" class="Symbol">|</a> <a id="31283" class="Symbol">(</a><a id="31284" href="Ledger.Ledger.Properties.html#31284" class="Bound">dp</a> <a id="31287" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31289" href="Ledger.Ledger.Properties.html#31289" class="Bound">c</a><a id="31290" class="Symbol">)</a> <a id="31292" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31294" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31299" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31301" href="Ledger.Ledger.Properties.html#31301" class="Bound">dpc∈utxoDeps</a> <a id="31314" class="Symbol">=</a> <a id="31316" class="Keyword">let</a> <a id="31320" href="Ledger.Ledger.Properties.html#31320" class="Bound">gadc</a> <a id="31325" class="Symbol">=</a> <a id="31327" class="Symbol">(</a><a id="31328" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="31345" class="Bound">gaid</a> <a id="31350" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31352" href="Ledger.Ledger.Properties.html#31289" class="Bound">c</a><a id="31353" class="Symbol">)</a> <a id="31355" class="Keyword">in</a>
        <a id="31366" href="Function.Bundles.html#4810" class="Field">to</a> <a id="31369" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31375" class="Symbol">((</a><a id="31377" href="Ledger.GovernanceActions.html#2665" class="Field">returnAddr</a> <a id="31388" class="Symbol">{</a><a id="31389" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a><a id="31392" class="Symbol">}</a> <a id="31394" class="Bound">gast</a> <a id="31399" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31401" href="Ledger.Ledger.Properties.html#31320" class="Bound">gadc</a><a id="31405" class="Symbol">)</a>
                 <a id="31424" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31426" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
                 <a id="31448" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31450" href="Function.Bundles.html#4810" class="Field">to</a> <a id="31453" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="31466" class="Symbol">((</a><a id="31468" class="Bound">gaid</a> <a id="31473" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31475" class="Bound">gast</a><a id="31479" class="Symbol">)</a>
                                   <a id="31516" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31518" class="Bound">gaidgast∈rem</a>
                                   <a id="31566" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31568" href="Function.Bundles.html#4810" class="Field">to</a> <a id="31571" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31577" class="Symbol">(</a><a id="31578" href="Ledger.Ledger.Properties.html#31320" class="Bound">gadc</a> <a id="31583" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31585" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31590" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31592" href="Axiom.Set.Map.html#12520" class="Function">res-singleton⁺</a> <a id="31607" class="Symbol">{</a><a id="31608" class="Argument">m</a> <a id="31610" class="Symbol">=</a> <a id="31612" href="Ledger.Ledger.Properties.html#30889" class="Function">utxoDeps</a><a id="31620" class="Symbol">}</a> <a id="31622" href="Ledger.Ledger.Properties.html#31301" class="Bound">dpc∈utxoDeps</a><a id="31634" class="Symbol">)))</a>
      <a id="31644" href="Ledger.Ledger.Properties.html#31644" class="Function">χ⊆χ&#39;</a> <a id="31649" class="Symbol">:</a> <a id="31651" href="Ledger.Ledger.Properties.html#30498" class="Function">χ</a> <a id="31653" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="31655" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a>
      <a id="31664" href="Ledger.Ledger.Properties.html#31644" class="Function">χ⊆χ&#39;</a> <a id="31669" class="Symbol">{</a><a id="31670" href="Ledger.Ledger.Properties.html#31670" class="Bound">a</a><a id="31671" class="Symbol">}</a> <a id="31673" href="Ledger.Ledger.Properties.html#31673" class="Bound">x</a> <a id="31675" class="Keyword">with</a> <a id="31680" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31685" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31691" href="Ledger.Ledger.Properties.html#31673" class="Bound">x</a>
      <a id="31699" class="Symbol">...</a> <a id="31703" class="Symbol">|</a> <a id="31705" class="Symbol">(</a><a id="31706" href="Ledger.Ledger.Properties.html#31706" class="Bound">rwa</a> <a id="31710" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31712" href="Ledger.Ledger.Properties.html#31712" class="Bound">dp</a> <a id="31715" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31717" href="Ledger.Ledger.Properties.html#31717" class="Bound">c</a><a id="31718" class="Symbol">)</a> <a id="31720" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31722" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31727" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31729" href="Ledger.Ledger.Properties.html#31729" class="Bound">rwa-dp-c∈</a> <a id="31739" class="Keyword">with</a> <a id="31744" class="Symbol">(</a><a id="31745" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31750" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="31763" href="Ledger.Ledger.Properties.html#31729" class="Bound">rwa-dp-c∈</a><a id="31772" class="Symbol">)</a>
      <a id="31780" class="Symbol">...</a> <a id="31784" class="Symbol">|</a> <a id="31786" class="Symbol">(</a><a id="31787" href="Ledger.Ledger.Properties.html#31787" class="Bound">gaid</a> <a id="31792" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31794" href="Ledger.Ledger.Properties.html#31794" class="Bound">gast</a><a id="31798" class="Symbol">)</a> <a id="31800" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31802" href="Ledger.Ledger.Properties.html#31802" class="Bound">gaid-gast-∈-removed</a> <a id="31822" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31824" href="Ledger.Ledger.Properties.html#31824" class="Bound">rwa-dp-c-∈-map</a> <a id="31839" class="Keyword">with</a> <a id="31844" class="Symbol">(</a><a id="31845" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31850" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31856" href="Ledger.Ledger.Properties.html#31824" class="Bound">rwa-dp-c-∈-map</a><a id="31870" class="Symbol">)</a>
      <a id="31878" class="Symbol">...</a> <a id="31882" class="Symbol">|</a> <a id="31884" class="Symbol">(_</a> <a id="31887" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31889" class="Symbol">_)</a> <a id="31892" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31894" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31899" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31901" href="Ledger.Ledger.Properties.html#31901" class="Bound">q∈</a> <a id="31904" class="Symbol">=</a>
        <a id="31914" href="Function.Bundles.html#4810" class="Field">to</a> <a id="31917" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31923" class="Symbol">((</a><a id="31925" class="Bound">gaid</a> <a id="31930" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31932" class="Bound">gast</a><a id="31936" class="Symbol">)</a>
                 <a id="31955" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31957" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="31963" class="Symbol">(</a><a id="31964" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a> <a id="31972" class="Symbol">(</a><a id="31973" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="31979" class="Symbol">(</a><a id="31980" href="Axiom.Set.Map.html#12964" class="Function">res-singleton&#39;&#39;</a> <a id="31996" class="Symbol">{</a><a id="31997" class="Argument">m</a> <a id="31999" class="Symbol">=</a> <a id="32001" href="Ledger.Ledger.Properties.html#30889" class="Function">utxoDeps</a><a id="32009" class="Symbol">}</a> <a id="32011" href="Ledger.Ledger.Properties.html#31901" class="Bound">q∈</a><a id="32013" class="Symbol">)))</a>
                 <a id="32034" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32036" class="Bound">gaid-gast-∈-removed</a><a id="32055" class="Symbol">)</a>


    <a id="32063" href="Ledger.Ledger.Properties.html#32063" class="Function">map-filter-decomp</a> <a id="32081" class="Symbol">:</a> <a id="32083" class="Symbol">∀</a> <a id="32085" href="Ledger.Ledger.Properties.html#32085" class="Bound">a</a> <a id="32087" class="Symbol">→</a> <a id="32089" class="Symbol">(</a><a id="32090" href="Ledger.Ledger.Properties.html#32085" class="Bound">a</a> <a id="32092" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="32094" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a> <a id="32097" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="32099" href="Ledger.Ledger.Properties.html#32085" class="Bound">a</a> <a id="32101" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32104" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="32108" class="Symbol">(</a><a id="32109" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="32126" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32128" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32133" class="Symbol">)</a> <a id="32135" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="32140" class="Symbol">)</a>
                               <a id="32173" href="Function.Bundles.html#12400" class="Function Operator">⇔</a> <a id="32175" class="Symbol">(</a><a id="32176" href="Ledger.Ledger.Properties.html#32085" class="Bound">a</a> <a id="32178" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32181" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="32185" class="Symbol">(</a><a id="32186" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="32203" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32205" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32210" class="Symbol">)(</a><a id="32212" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="32219" href="Ledger.Ledger.Properties.html#30844" class="Function">P?</a> <a id="32222" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="32227" class="Symbol">))</a>
    <a id="32234" href="Ledger.Ledger.Properties.html#32063" class="Function">map-filter-decomp</a> <a id="32252" href="Ledger.Ledger.Properties.html#32252" class="Bound">a</a> <a id="32254" class="Symbol">=</a> <a id="32256" href="Function.Bundles.html#13499" class="Function">mk⇔</a> <a id="32260" href="Ledger.Ledger.Properties.html#32301" class="Function">i</a> <a id="32262" class="Symbol">(λ</a> <a id="32265" href="Ledger.Ledger.Properties.html#32265" class="Bound">h</a> <a id="32267" class="Symbol">→</a> <a id="32269" href="Ledger.Ledger.Properties.html#32673" class="Function">ii</a> <a id="32272" href="Ledger.Ledger.Properties.html#32265" class="Bound">h</a> <a id="32274" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32276" href="Ledger.Ledger.Properties.html#32928" class="Function">iii</a> <a id="32280" href="Ledger.Ledger.Properties.html#32265" class="Bound">h</a><a id="32281" class="Symbol">)</a>
      <a id="32289" class="Keyword">where</a>
      <a id="32301" href="Ledger.Ledger.Properties.html#32301" class="Function">i</a> <a id="32303" class="Symbol">:</a> <a id="32305" class="Symbol">((</a><a id="32307" href="Ledger.Ledger.Properties.html#32252" class="Bound">a</a> <a id="32309" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="32311" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a><a id="32313" class="Symbol">)</a> <a id="32315" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="32317" class="Symbol">(</a><a id="32318" href="Ledger.Ledger.Properties.html#32252" class="Bound">a</a> <a id="32320" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32323" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="32327" class="Symbol">(</a><a id="32328" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="32345" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32347" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32352" class="Symbol">)</a> <a id="32354" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="32359" class="Symbol">))</a>
          <a id="32372" class="Symbol">→</a> <a id="32374" href="Ledger.Ledger.Properties.html#32252" class="Bound">a</a> <a id="32376" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32379" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="32383" class="Symbol">(</a><a id="32384" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="32401" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32403" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32408" class="Symbol">)</a> <a id="32410" class="Symbol">(</a><a id="32411" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="32418" href="Ledger.Ledger.Properties.html#30844" class="Function">P?</a> <a id="32421" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="32426" class="Symbol">)</a>
      <a id="32434" href="Ledger.Ledger.Properties.html#32301" class="Function">i</a> <a id="32436" class="Symbol">(</a><a id="32437" href="Ledger.Ledger.Properties.html#32437" class="Bound">a∉χ&#39;</a> <a id="32442" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32444" href="Ledger.Ledger.Properties.html#32444" class="Bound">a∈</a><a id="32446" class="Symbol">)</a> <a id="32448" class="Keyword">with</a> <a id="32453" href="Function.Bundles.html#7418" class="Field">Inverse.from</a> <a id="32466" class="Symbol">(</a><a id="32467" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="32474" class="Symbol">(</a><a id="32475" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="32492" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32494" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32499" class="Symbol">))</a> <a id="32502" href="Ledger.Ledger.Properties.html#32444" class="Bound">a∈</a>
      <a id="32511" class="Symbol">...</a> <a id="32515" class="Symbol">|</a> <a id="32517" href="Ledger.Ledger.Properties.html#32517" class="Bound">b</a> <a id="32519" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32521" href="Ledger.Ledger.Properties.html#32521" class="Bound">b∈</a> <a id="32524" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32526" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="32531" class="Symbol">=</a> <a id="32533" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="32544" class="Symbol">(</a><a id="32545" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="32552" class="Symbol">(</a><a id="32553" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="32570" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32572" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32577" class="Symbol">))</a>
                                       <a id="32619" class="Symbol">(</a><a id="32620" href="Ledger.Ledger.Properties.html#32517" class="Bound">b</a> <a id="32622" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32624" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a> <a id="32634" href="Ledger.Ledger.Properties.html#30844" class="Function">P?</a> <a id="32637" href="Ledger.Ledger.Properties.html#32521" class="Bound">b∈</a> <a id="32640" class="Symbol">(</a><a id="32641" class="Bound">a∉χ&#39;</a> <a id="32646" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32648" href="Axiom.Set.Properties.html#5166" class="Function">∈-map⁺-∘</a><a id="32656" class="Symbol">)</a> <a id="32658" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32660" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="32664" class="Symbol">)</a>

      <a id="32673" href="Ledger.Ledger.Properties.html#32673" class="Function">ii</a> <a id="32676" class="Symbol">:</a> <a id="32678" href="Ledger.Ledger.Properties.html#32252" class="Bound">a</a> <a id="32680" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32683" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="32687" class="Symbol">(</a><a id="32688" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="32705" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32707" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32712" class="Symbol">)</a> <a id="32714" class="Symbol">(</a><a id="32715" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="32722" href="Ledger.Ledger.Properties.html#30844" class="Function">P?</a> <a id="32725" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="32730" class="Symbol">)</a> <a id="32732" class="Symbol">→</a> <a id="32734" href="Ledger.Ledger.Properties.html#32252" class="Bound">a</a> <a id="32736" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="32738" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a>
      <a id="32747" href="Ledger.Ledger.Properties.html#32673" class="Function">ii</a> <a id="32750" href="Ledger.Ledger.Properties.html#32750" class="Bound">a∈</a> <a id="32753" href="Ledger.Ledger.Properties.html#32753" class="Bound">a∈χ&#39;</a> <a id="32758" class="Keyword">with</a> <a id="32763" href="Function.Bundles.html#4834" class="Field">from</a> <a id="32768" class="Symbol">(</a><a id="32769" href="Data.List.Subpermutations.html#1933" class="Function">∈ˡ-map-filter</a> <a id="32783" class="Symbol">{</a><a id="32784" class="Argument">l</a> <a id="32786" class="Symbol">=</a> <a id="32788" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="32793" class="Symbol">}</a> <a id="32795" class="Symbol">{</a><a id="32796" class="Argument">P?</a> <a id="32799" class="Symbol">=</a> <a id="32801" href="Ledger.Ledger.Properties.html#30844" class="Function">P?</a><a id="32803" class="Symbol">})</a> <a id="32806" href="Ledger.Ledger.Properties.html#32750" class="Bound">a∈</a>
      <a id="32815" class="Symbol">...</a> <a id="32819" class="Symbol">|</a> <a id="32821" class="Symbol">_</a> <a id="32823" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32825" class="Symbol">_</a> <a id="32827" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32829" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="32834" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32836" href="Ledger.Ledger.Properties.html#32836" class="Bound">Pb</a> <a id="32839" class="Keyword">with</a> <a id="32844" href="Axiom.Set.Properties.html#1617" class="Function">∈-map⁻&#39;</a> <a id="32852" class="Bound">a∈χ&#39;</a>
      <a id="32863" class="Symbol">...</a> <a id="32867" class="Symbol">|</a> <a id="32869" href="Ledger.Ledger.Properties.html#32869" class="Bound">q</a> <a id="32871" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32873" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="32878" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32880" href="Ledger.Ledger.Properties.html#32880" class="Bound">q∈rem</a> <a id="32886" class="Symbol">=</a> <a id="32888" class="Bound">Pb</a> <a id="32891" class="Symbol">(</a><a id="32892" href="Function.Bundles.html#4810" class="Field">to</a> <a id="32895" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="32901" class="Symbol">(</a><a id="32902" href="Ledger.Ledger.Properties.html#32869" class="Bound">q</a> <a id="32904" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32906" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="32911" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32913" href="Ledger.Ledger.Properties.html#32880" class="Bound">q∈rem</a><a id="32918" class="Symbol">))</a>

      <a id="32928" href="Ledger.Ledger.Properties.html#32928" class="Function">iii</a> <a id="32932" class="Symbol">:</a> <a id="32934" href="Ledger.Ledger.Properties.html#32252" class="Bound">a</a> <a id="32936" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32939" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="32943" class="Symbol">(</a><a id="32944" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="32961" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32963" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32968" class="Symbol">)</a> <a id="32970" class="Symbol">(</a><a id="32971" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="32978" href="Ledger.Ledger.Properties.html#30844" class="Function">P?</a> <a id="32981" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="32986" class="Symbol">)</a>
            <a id="33000" class="Symbol">→</a> <a id="33002" href="Ledger.Ledger.Properties.html#32252" class="Bound">a</a> <a id="33004" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="33007" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="33011" class="Symbol">(</a><a id="33012" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="33029" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="33031" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="33036" class="Symbol">)</a> <a id="33038" href="Ledger.Ledger.html#895" class="Function">govSt</a>
      <a id="33050" href="Ledger.Ledger.Properties.html#32928" class="Function">iii</a> <a id="33054" href="Ledger.Ledger.Properties.html#33054" class="Bound">a∈</a> <a id="33057" class="Keyword">with</a> <a id="33062" href="Function.Bundles.html#4834" class="Field">from</a> <a id="33067" class="Symbol">(</a><a id="33068" href="Data.List.Subpermutations.html#1933" class="Function">∈ˡ-map-filter</a> <a id="33082" class="Symbol">{</a><a id="33083" class="Argument">l</a> <a id="33085" class="Symbol">=</a> <a id="33087" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="33092" class="Symbol">}</a> <a id="33094" class="Symbol">{</a><a id="33095" class="Argument">P?</a> <a id="33098" class="Symbol">=</a> <a id="33100" href="Ledger.Ledger.Properties.html#30844" class="Function">P?</a><a id="33102" class="Symbol">})</a> <a id="33105" href="Ledger.Ledger.Properties.html#33054" class="Bound">a∈</a>
      <a id="33114" class="Symbol">...</a> <a id="33118" class="Symbol">|</a> <a id="33120" href="Ledger.Ledger.Properties.html#33120" class="Bound">b</a> <a id="33122" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33124" href="Ledger.Ledger.Properties.html#33124" class="Bound">b∈</a> <a id="33127" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33129" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="33134" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33136" href="Ledger.Ledger.Properties.html#33136" class="Bound">Pb</a> <a id="33139" class="Symbol">=</a> <a id="33141" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="33152" class="Symbol">(</a><a id="33153" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="33160" class="Symbol">(</a><a id="33161" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="33178" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="33180" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="33185" class="Symbol">))</a> <a id="33188" class="Symbol">(</a><a id="33189" href="Ledger.Ledger.Properties.html#33120" class="Bound">b</a> <a id="33191" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33193" class="Symbol">(</a><a id="33194" href="Ledger.Ledger.Properties.html#33124" class="Bound">b∈</a> <a id="33197" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33199" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="33203" class="Symbol">))</a>


    <a id="33212" href="Ledger.Ledger.Properties.html#33212" class="Function">main-invariance-lemma</a> <a id="33234" class="Symbol">:</a>
        <a id="33244" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="33252" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="33264" class="Symbol">(</a><a id="33265" href="Class.IsSet.html#916" class="Function">dom</a> <a id="33269" href="Ledger.Ledger.Properties.html#30889" class="Function">utxoDeps</a><a id="33277" class="Symbol">)</a> <a id="33279" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="33283" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="33292" class="Symbol">(</a><a id="33293" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="33297" class="Symbol">(</a><a id="33298" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="33315" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="33317" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="33322" class="Symbol">)</a> <a id="33324" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="33329" class="Symbol">)</a>
        <a id="33339" class="Comment">---------------------------------------------------------------------------------------------------</a>
      <a id="33445" class="Symbol">→</a> <a id="33447" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="33455" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="33467" class="Symbol">(</a><a id="33468" href="Class.IsSet.html#916" class="Function">dom</a> <a id="33472" href="Ledger.Ledger.Properties.html#31025" class="Function">utxoDeps&#39;</a><a id="33481" class="Symbol">)</a> <a id="33483" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="33487" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="33496" class="Symbol">(</a><a id="33497" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="33501" class="Symbol">(</a><a id="33502" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="33519" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="33521" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="33526" class="Symbol">)</a> <a id="33528" class="Symbol">(</a><a id="33529" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="33536" href="Ledger.Ledger.Properties.html#30844" class="Function">P?</a> <a id="33539" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="33544" class="Symbol">))</a>

    <a id="33552" href="Ledger.Ledger.Properties.html#33212" class="Function">main-invariance-lemma</a> <a id="33574" href="Ledger.Ledger.Properties.html#33574" class="Bound">HYP</a> <a id="33578" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="33580" class="Symbol">=</a> <a id="33582" class="Keyword">let</a> <a id="33586" class="Keyword">open</a> <a id="33591" href="Function.Related.Propositional.html#9123" class="Module">R.EquationalReasoning</a> <a id="33613" class="Keyword">in</a>
      <a id="33622" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="33624" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="33626" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="33634" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="33646" class="Symbol">(</a><a id="33647" href="Class.IsSet.html#916" class="Function">dom</a> <a id="33651" href="Ledger.Ledger.Properties.html#31025" class="Function">utxoDeps&#39;</a><a id="33660" class="Symbol">)</a>                         <a id="33686" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="33689" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="33698" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="33707" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="33715" class="Symbol">(</a><a id="33716" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="33728" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="33730" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33732" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="33734" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="33736" href="Class.IsSet.html#916" class="Function">dom</a> <a id="33740" href="Ledger.Ledger.Properties.html#31025" class="Function">utxoDeps&#39;</a><a id="33749" class="Symbol">)</a>                             <a id="33779" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="33782" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="33791" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="33798" href="Axiom.Set.Rel.html#7819" class="Function">∈-resᶜ-dom</a> <a id="33809" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="33817" class="Symbol">(</a><a id="33818" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="33830" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="33832" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33834" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="33836" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="33838" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a> <a id="33841" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33843" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="33846" href="Ledger.Ledger.Properties.html#33846" class="Bound">q</a> <a id="33848" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="33850" class="Symbol">(</a><a id="33851" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="33853" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33855" href="Ledger.Ledger.Properties.html#33846" class="Bound">q</a><a id="33856" class="Symbol">)</a> <a id="33858" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="33860" href="Ledger.Ledger.Properties.html#30889" class="Function">utxoDeps</a><a id="33868" class="Symbol">)</a>            <a id="33881" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="33884" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a> <a id="33893" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="33901" class="Symbol">(</a><a id="33902" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="33904" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="33906" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a> <a id="33909" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33911" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="33923" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="33925" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33927" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="33930" href="Ledger.Ledger.Properties.html#33930" class="Bound">q</a> <a id="33932" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="33934" class="Symbol">(</a><a id="33935" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="33937" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33939" href="Ledger.Ledger.Properties.html#33930" class="Bound">q</a><a id="33940" class="Symbol">)</a> <a id="33942" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="33944" href="Ledger.Ledger.Properties.html#30889" class="Function">utxoDeps</a><a id="33952" class="Symbol">)</a>            <a id="33965" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="33968" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="33977" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="33984" class="Symbol">(</a><a id="33985" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="33994" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="34001" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a><a id="34005" class="Symbol">)</a><a id="34006" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34014" class="Symbol">(</a><a id="34015" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="34017" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="34019" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a> <a id="34022" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34024" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="34036" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="34038" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34040" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="34042" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="34044" href="Class.IsSet.html#916" class="Function">dom</a> <a id="34048" href="Ledger.Ledger.Properties.html#30889" class="Function">utxoDeps</a><a id="34056" class="Symbol">)</a>                     <a id="34078" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34081" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="34090" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="34097" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="34106" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34114" class="Symbol">(</a><a id="34115" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="34117" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="34119" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a> <a id="34122" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34124" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="34126" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="34128" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="34136" href="Ledger.Ledger.Properties.html#8241" class="Function">isGADeposit</a> <a id="34148" class="Symbol">(</a><a id="34149" href="Class.IsSet.html#916" class="Function">dom</a> <a id="34153" href="Ledger.Ledger.Properties.html#30889" class="Function">utxoDeps</a><a id="34161" class="Symbol">))</a>               <a id="34178" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34181" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="34190" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="34197" class="Symbol">(</a><a id="34198" href="Ledger.Ledger.Properties.html#33574" class="Bound">HYP</a> <a id="34202" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a><a id="34203" class="Symbol">)</a> <a id="34205" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34213" class="Symbol">(</a><a id="34214" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="34216" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="34218" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a> <a id="34221" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34223" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="34225" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="34227" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="34236" class="Symbol">(</a><a id="34237" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="34241" class="Symbol">(</a><a id="34242" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="34259" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="34261" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="34266" class="Symbol">)</a> <a id="34268" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="34273" class="Symbol">))</a>  <a id="34277" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34280" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="34289" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="34296" class="Symbol">(</a><a id="34297" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="34306" href="Axiom.Set.html#5776" class="Function">∈-fromList</a><a id="34316" class="Symbol">)</a><a id="34317" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34325" class="Symbol">(</a><a id="34326" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="34328" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="34330" href="Ledger.Ledger.Properties.html#30619" class="Function">χ&#39;</a> <a id="34333" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34335" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="34337" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="34340" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="34344" class="Symbol">(</a><a id="34345" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="34362" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="34364" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="34369" class="Symbol">)</a> <a id="34371" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="34376" class="Symbol">)</a>            <a id="34389" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34392" href="Ledger.Ledger.Properties.html#32063" class="Function">map-filter-decomp</a> <a id="34410" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="34412" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34420" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="34422" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="34425" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="34429" class="Symbol">(</a><a id="34430" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="34447" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="34449" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="34454" class="Symbol">)</a> <a id="34456" class="Symbol">(</a><a id="34457" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="34464" href="Ledger.Ledger.Properties.html#30844" class="Function">P?</a> <a id="34467" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="34472" class="Symbol">)</a>           <a id="34484" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34487" href="Axiom.Set.html#5776" class="Function">∈-fromList</a> <a id="34498" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34506" href="Ledger.Ledger.Properties.html#33578" class="Bound">a</a> <a id="34508" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="34510" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="34519" class="Symbol">(</a><a id="34520" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="34524" class="Symbol">(</a><a id="34525" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="34542" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="34544" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="34549" class="Symbol">)</a> <a id="34551" class="Symbol">(</a><a id="34552" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="34559" href="Ledger.Ledger.Properties.html#30844" class="Function">P?</a> <a id="34562" href="Ledger.Ledger.html#895" class="Function">govSt</a><a id="34567" class="Symbol">))</a> <a id="34570" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="34573" class="Comment">-- GA Deposits Invariance Property for CHAIN STS -----------------------------------------------</a>
<a id="34670" class="Keyword">module</a> <a id="34677" href="Ledger.Ledger.Properties.html#34677" class="Module">_</a> <a id="34679" class="Symbol">(</a><a id="34680" href="Ledger.Ledger.Properties.html#34680" class="Bound">b</a> <a id="34682" class="Symbol">:</a> <a id="34684" href="Ledger.Chain.html#626" class="Record">Block</a><a id="34689" class="Symbol">)</a> <a id="34691" class="Symbol">(</a><a id="34692" href="Ledger.Ledger.Properties.html#34692" class="Bound">cs</a> <a id="34695" class="Symbol">:</a> <a id="34697" href="Ledger.Chain.html#551" class="Record">ChainState</a><a id="34707" class="Symbol">)</a> <a id="34709" class="Keyword">where</a>
  <a id="34717" class="Keyword">open</a> <a id="34722" href="Ledger.Chain.html#626" class="Module">Block</a> <a id="34728" href="Ledger.Ledger.Properties.html#34680" class="Bound">b</a><a id="34729" class="Symbol">;</a> <a id="34731" class="Keyword">open</a> <a id="34736" href="Ledger.Chain.html#551" class="Module">ChainState</a> <a id="34747" href="Ledger.Ledger.Properties.html#34692" class="Bound">cs</a>
  <a id="34752" class="Keyword">open</a> <a id="34757" href="Ledger.Epoch.html#1878" class="Module">NewEpochState</a> <a id="34771" href="Ledger.Chain.html#587" class="Field">newEpochState</a>
  <a id="34787" class="Keyword">open</a> <a id="34792" href="Ledger.Ledger.Properties.html#11667" class="Module">SetoidProperties</a> <a id="34809" class="Keyword">using</a> <a id="34815" class="Symbol">(</a><a id="34816" href="Ledger.Ledger.Properties.html#27895" class="Function">LEDGER-govDepsMatch</a><a id="34835" class="Symbol">)</a>
  <a id="34839" class="Keyword">open</a> <a id="34844" href="Ledger.Ledger.Properties.html#29177" class="Module">EPOCH-Body</a> <a id="34855" href="Ledger.Epoch.html#1941" class="Function">epochState</a>
  <a id="34868" class="Keyword">open</a> <a id="34873" href="Ledger.Enact.html#397" class="Module">EnactState</a> <a id="34884" href="Ledger.Ledger.Properties.html#29401" class="Function">es</a> <a id="34887" class="Keyword">using</a> <a id="34893" class="Symbol">(</a><a id="34894" href="Ledger.Enact.html#607" class="Field">pparams</a><a id="34901" class="Symbol">)</a>
  <a id="34905" href="Ledger.Ledger.Properties.html#34905" class="Function">pp</a> <a id="34908" class="Symbol">=</a> <a id="34910" href="Ledger.Enact.html#607" class="Function">pparams</a> <a id="34918" class="Symbol">.</a><a id="34919" href="Data.Product.Base.html#636" class="Field">proj₁</a>

  <a id="34928" href="Ledger.Ledger.Properties.html#34928" class="Function">updateChainState</a> <a id="34945" class="Symbol">:</a> <a id="34947" href="Ledger.Chain.html#551" class="Record">ChainState</a> <a id="34958" class="Symbol">→</a> <a id="34960" href="Ledger.Epoch.html#1878" class="Record">NewEpochState</a> <a id="34974" class="Symbol">→</a> <a id="34976" href="Ledger.Chain.html#551" class="Record">ChainState</a>
  <a id="34989" href="Ledger.Ledger.Properties.html#34928" class="Function">updateChainState</a> <a id="35006" href="Ledger.Ledger.Properties.html#35006" class="Bound">s</a> <a id="35008" href="Ledger.Ledger.Properties.html#35008" class="Bound">nes</a> <a id="35012" class="Symbol">=</a>
    <a id="35018" class="Keyword">record</a> <a id="35025" href="Ledger.Ledger.Properties.html#35006" class="Bound">s</a> <a id="35027" class="Symbol">{</a> <a id="35029" href="Ledger.Chain.html#587" class="Field">newEpochState</a> <a id="35043" class="Symbol">=</a>
      <a id="35051" class="Keyword">record</a> <a id="35058" href="Ledger.Ledger.Properties.html#35008" class="Bound">nes</a> <a id="35062" class="Symbol">{</a> <a id="35064" href="Ledger.Epoch.html#1941" class="Field">epochState</a> <a id="35075" class="Symbol">=</a>
        <a id="35085" class="Keyword">record</a> <a id="35092" class="Symbol">(</a><a id="35093" href="Ledger.Epoch.html#1941" class="Field">NewEpochState.epochState</a> <a id="35118" class="Symbol">(</a><a id="35119" href="Ledger.Chain.html#587" class="Field">ChainState.newEpochState</a> <a id="35144" href="Ledger.Ledger.Properties.html#35006" class="Bound">s</a><a id="35145" class="Symbol">))</a>
          <a id="35158" class="Symbol">{</a> <a id="35160" href="Ledger.Epoch.html#1215" class="Field">ls</a> <a id="35163" class="Symbol">=</a> <a id="35165" href="Ledger.Epoch.html#1215" class="Field">EpochState.ls</a> <a id="35179" class="Symbol">(</a><a id="35180" href="Ledger.Epoch.html#1941" class="Field">NewEpochState.epochState</a> <a id="35205" href="Ledger.Ledger.Properties.html#35008" class="Bound">nes</a><a id="35208" class="Symbol">)</a> <a id="35210" class="Symbol">}</a>
      <a id="35218" class="Symbol">}</a>
    <a id="35224" class="Symbol">}</a>

  <a id="35229" href="Ledger.Ledger.Properties.html#35229" class="Function">CHAIN-govDepsMatch</a> <a id="35248" class="Symbol">:</a> <a id="35250" class="Symbol">{</a><a id="35251" href="Ledger.Ledger.Properties.html#35251" class="Bound">nes</a> <a id="35255" class="Symbol">:</a> <a id="35257" href="Ledger.Epoch.html#1878" class="Record">NewEpochState</a><a id="35270" class="Symbol">}</a>
    <a id="35276" class="Symbol">→</a> <a id="35278" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="35283" class="Symbol">(</a><a id="35284" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="35301" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="35303" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="35308" class="Symbol">)</a> <a id="35310" href="Ledger.Ledger.Properties.html#29559" class="Function">removed&#39;</a> <a id="35319" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="35321" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="35326" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="35332" class="Symbol">(</a><a id="35333" href="Ledger.Certs.html#729" class="Field">DepositsOf</a> <a id="35344" href="Ledger.Epoch.html#1215" class="Function">ls</a> <a id="35347" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="35348" class="Symbol">)</a>
    <a id="35354" class="Symbol">→</a> <a id="35356" href="Ledger.Chain.html#3467" class="Function">totalRefScriptsSize</a> <a id="35376" href="Ledger.Epoch.html#1215" class="Function">ls</a> <a id="35379" href="Ledger.Chain.html#657" class="Function">ts</a> <a id="35382" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="35384" class="Symbol">(</a><a id="35385" href="Ledger.PParams.html#2482" class="Field">PParams.maxRefScriptSizePerBlock</a> <a id="35418" href="Ledger.Ledger.Properties.html#34905" class="Function">pp</a><a id="35420" class="Symbol">)</a>
    <a id="35426" class="Symbol">→</a> <a id="35428" class="Symbol">_</a> <a id="35430" href="Ledger.Chain.html#3662" class="Datatype Operator">⊢</a> <a id="35432" href="Ledger.Ledger.Properties.html#34692" class="Bound">cs</a> <a id="35435" href="Ledger.Chain.html#3662" class="Datatype Operator">⇀⦇</a> <a id="35438" href="Ledger.Ledger.Properties.html#34680" class="Bound">b</a> <a id="35440" href="Ledger.Chain.html#3662" class="Datatype Operator">,CHAIN⦈</a> <a id="35448" class="Symbol">(</a><a id="35449" href="Ledger.Ledger.Properties.html#34928" class="Function">updateChainState</a> <a id="35466" href="Ledger.Ledger.Properties.html#34692" class="Bound">cs</a> <a id="35469" href="Ledger.Ledger.Properties.html#35251" class="Bound">nes</a><a id="35472" class="Symbol">)</a>
    <a id="35478" class="Symbol">→</a> <a id="35480" href="Ledger.Ledger.Properties.html#8452" class="Function">govDepsMatch</a> <a id="35493" href="Ledger.Epoch.html#1215" class="Function">ls</a> <a id="35496" class="Symbol">→</a> <a id="35498" href="Ledger.Ledger.Properties.html#8452" class="Function">govDepsMatch</a> <a id="35511" class="Symbol">(</a><a id="35512" href="Ledger.Ledger.html#1004" class="Field">LStateOf</a> <a id="35521" href="Ledger.Ledger.Properties.html#35251" class="Bound">nes</a><a id="35524" class="Symbol">)</a>

  <a id="35529" href="Ledger.Ledger.Properties.html#35229" class="Function">CHAIN-govDepsMatch</a> <a id="35548" class="Symbol">{</a><a id="35549" href="Ledger.Ledger.Properties.html#35549" class="Bound">nes</a><a id="35552" class="Symbol">}</a> <a id="35554" href="Ledger.Ledger.Properties.html#35554" class="Bound">rrm</a> <a id="35558" href="Ledger.Ledger.Properties.html#35558" class="Bound">rss</a> <a id="35562" class="Symbol">(</a><a id="35563" href="Ledger.Chain.html#3736" class="InductiveConstructor">CHAIN</a> <a id="35569" class="Symbol">(</a><a id="35570" href="Ledger.Ledger.Properties.html#35570" class="Bound">x</a> <a id="35572" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="35574" class="Symbol">(</a><a id="35575" href="Ledger.Epoch.html#8690" class="InductiveConstructor">NEWEPOCH-New</a> <a id="35588" class="Symbol">(_</a> <a id="35591" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="35593" href="Ledger.Ledger.Properties.html#35593" class="Bound">eps₁→eps₂</a><a id="35602" class="Symbol">))</a> <a id="35605" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="35607" href="Ledger.Ledger.Properties.html#35607" class="Bound">ledgers</a><a id="35614" class="Symbol">))</a> <a id="35617" class="Symbol">=</a>
    <a id="35623" href="Interface.STS.html#4007" class="Function">RTC-preserves-inv</a> <a id="35641" class="Symbol">(λ</a> <a id="35644" class="Symbol">{</a><a id="35645" href="Ledger.Ledger.Properties.html#35645" class="Bound">c</a><a id="35646" class="Symbol">}</a> <a id="35648" class="Symbol">{</a><a id="35649" href="Ledger.Ledger.Properties.html#35649" class="Bound">s</a><a id="35650" class="Symbol">}</a> <a id="35652" class="Symbol">{</a><a id="35653" href="Ledger.Ledger.Properties.html#35653" class="Bound">sig</a><a id="35656" class="Symbol">}</a> <a id="35658" class="Symbol">→</a> <a id="35660" href="Ledger.Ledger.Properties.html#27895" class="Function">LEDGER-govDepsMatch</a> <a id="35680" href="Ledger.Ledger.Properties.html#35653" class="Bound">sig</a> <a id="35684" href="Ledger.Ledger.Properties.html#35645" class="Bound">c</a> <a id="35686" href="Ledger.Ledger.Properties.html#35649" class="Bound">s</a><a id="35687" class="Symbol">)</a> <a id="35689" href="Ledger.Ledger.Properties.html#35607" class="Bound">ledgers</a>
     <a id="35702" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="35704" href="Ledger.Ledger.Properties.html#29987" class="Function">EPOCH-PROPS.EPOCH-govDepsMatch</a> <a id="35735" href="Ledger.Ledger.Properties.html#35554" class="Bound">rrm</a> <a id="35739" href="Ledger.Ledger.Properties.html#35593" class="Bound">eps₁→eps₂</a>
  <a id="35751" href="Ledger.Ledger.Properties.html#35229" class="Function">CHAIN-govDepsMatch</a> <a id="35770" class="Symbol">{</a><a id="35771" href="Ledger.Ledger.Properties.html#35771" class="Bound">nes</a><a id="35774" class="Symbol">}</a> <a id="35776" href="Ledger.Ledger.Properties.html#35776" class="Bound">rrm</a> <a id="35780" href="Ledger.Ledger.Properties.html#35780" class="Bound">rss</a> <a id="35784" class="Symbol">(</a><a id="35785" href="Ledger.Chain.html#3736" class="InductiveConstructor">CHAIN</a> <a id="35791" class="Symbol">(</a><a id="35792" href="Ledger.Ledger.Properties.html#35792" class="Bound">x</a> <a id="35794" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="35796" class="Symbol">(</a><a id="35797" href="Ledger.Epoch.html#8926" class="InductiveConstructor">NEWEPOCH-Not-New</a> <a id="35814" class="Symbol">_)</a> <a id="35817" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="35819" href="Ledger.Ledger.Properties.html#35819" class="Bound">ledgers</a><a id="35826" class="Symbol">))</a> <a id="35829" class="Symbol">=</a>
    <a id="35835" href="Interface.STS.html#4007" class="Function">RTC-preserves-inv</a> <a id="35853" class="Symbol">(λ</a> <a id="35856" class="Symbol">{</a><a id="35857" href="Ledger.Ledger.Properties.html#35857" class="Bound">c</a><a id="35858" class="Symbol">}</a> <a id="35860" class="Symbol">{</a><a id="35861" href="Ledger.Ledger.Properties.html#35861" class="Bound">s</a><a id="35862" class="Symbol">}</a> <a id="35864" class="Symbol">{</a><a id="35865" href="Ledger.Ledger.Properties.html#35865" class="Bound">sig</a><a id="35868" class="Symbol">}</a> <a id="35870" class="Symbol">→</a> <a id="35872" href="Ledger.Ledger.Properties.html#27895" class="Function">LEDGER-govDepsMatch</a> <a id="35892" href="Ledger.Ledger.Properties.html#35865" class="Bound">sig</a> <a id="35896" href="Ledger.Ledger.Properties.html#35857" class="Bound">c</a> <a id="35898" href="Ledger.Ledger.Properties.html#35861" class="Bound">s</a><a id="35899" class="Symbol">)</a> <a id="35901" href="Ledger.Ledger.Properties.html#35819" class="Bound">ledgers</a>
  <a id="35911" href="Ledger.Ledger.Properties.html#35229" class="Function">CHAIN-govDepsMatch</a> <a id="35930" class="Symbol">{</a><a id="35931" href="Ledger.Ledger.Properties.html#35931" class="Bound">nes</a><a id="35934" class="Symbol">}</a> <a id="35936" href="Ledger.Ledger.Properties.html#35936" class="Bound">rrm</a> <a id="35940" href="Ledger.Ledger.Properties.html#35940" class="Bound">rss</a> <a id="35944" class="Symbol">(</a><a id="35945" href="Ledger.Chain.html#3736" class="InductiveConstructor">CHAIN</a> <a id="35951" class="Symbol">(</a><a id="35952" href="Ledger.Ledger.Properties.html#35952" class="Bound">x</a> <a id="35954" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="35956" class="Symbol">(</a><a id="35957" href="Ledger.Epoch.html#9089" class="InductiveConstructor">NEWEPOCH-No-Reward-Update</a> <a id="35983" class="Symbol">(_</a> <a id="35986" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="35988" href="Ledger.Ledger.Properties.html#35988" class="Bound">eps₁→eps₂</a><a id="35997" class="Symbol">))</a> <a id="36000" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="36002" href="Ledger.Ledger.Properties.html#36002" class="Bound">ledgers</a><a id="36009" class="Symbol">))</a> <a id="36012" class="Symbol">=</a>
    <a id="36018" href="Interface.STS.html#4007" class="Function">RTC-preserves-inv</a> <a id="36036" class="Symbol">(λ</a> <a id="36039" class="Symbol">{</a><a id="36040" href="Ledger.Ledger.Properties.html#36040" class="Bound">c</a><a id="36041" class="Symbol">}</a> <a id="36043" class="Symbol">{</a><a id="36044" href="Ledger.Ledger.Properties.html#36044" class="Bound">s</a><a id="36045" class="Symbol">}</a> <a id="36047" class="Symbol">{</a><a id="36048" href="Ledger.Ledger.Properties.html#36048" class="Bound">sig</a><a id="36051" class="Symbol">}</a> <a id="36053" class="Symbol">→</a> <a id="36055" href="Ledger.Ledger.Properties.html#27895" class="Function">LEDGER-govDepsMatch</a> <a id="36075" href="Ledger.Ledger.Properties.html#36048" class="Bound">sig</a> <a id="36079" href="Ledger.Ledger.Properties.html#36040" class="Bound">c</a> <a id="36081" href="Ledger.Ledger.Properties.html#36044" class="Bound">s</a><a id="36082" class="Symbol">)</a> <a id="36084" href="Ledger.Ledger.Properties.html#36002" class="Bound">ledgers</a>
     <a id="36097" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="36099" href="Ledger.Ledger.Properties.html#29987" class="Function">EPOCH-PROPS.EPOCH-govDepsMatch</a> <a id="36130" href="Ledger.Ledger.Properties.html#35936" class="Bound">rrm</a> <a id="36134" href="Ledger.Ledger.Properties.html#35988" class="Bound">eps₁→eps₂</a>
</pre></body></html>