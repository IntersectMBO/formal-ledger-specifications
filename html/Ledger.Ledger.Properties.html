<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Ledger.Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="83" class="Keyword">open</a> <a id="88" class="Keyword">import</a> <a id="95" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>
<a id="111" class="Keyword">import</a> <a id="118" href="Ledger.Certs.html" class="Module">Ledger.Certs</a>

<a id="132" class="Keyword">module</a> <a id="139" href="Ledger.Ledger.Properties.html" class="Module">Ledger.Ledger.Properties</a>
  <a id="166" class="Symbol">(</a><a id="167" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="171" class="Symbol">:</a> <a id="173" class="Symbol">_)</a> <a id="176" class="Symbol">(</a><a id="177" class="Keyword">open</a> <a id="182" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="203" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a><a id="206" class="Symbol">)</a> <a id="208" class="Symbol">(</a><a id="209" class="Keyword">open</a> <a id="214" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="227" href="Ledger.Transaction.html#1809" class="Function">govStructure</a><a id="239" class="Symbol">)</a>
  <a id="243" class="Symbol">(</a><a id="244" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a> <a id="248" class="Symbol">:</a> <a id="250" href="Ledger.Abstract.html#578" class="Record">AbstractFunctions</a> <a id="268" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a><a id="271" class="Symbol">)</a> <a id="273" class="Symbol">(</a><a id="274" class="Keyword">open</a> <a id="279" href="Ledger.Abstract.html#578" class="Module">AbstractFunctions</a> <a id="297" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a><a id="300" class="Symbol">)</a>
  <a id="304" class="Keyword">where</a>

<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="344" href="Axiom.Set.html#10669" class="Function">th</a>
<a id="347" class="Keyword">open</a> <a id="352" class="Keyword">import</a> <a id="359" href="Ledger.Chain.html" class="Module">Ledger.Chain</a> <a id="372" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="376" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Ledger.Enact.html" class="Module">Ledger.Enact</a> <a id="405" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="418" class="Keyword">open</a> <a id="423" class="Keyword">import</a> <a id="430" href="Ledger.Epoch.html" class="Module">Ledger.Epoch</a> <a id="443" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="447" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="451" class="Keyword">open</a> <a id="456" class="Keyword">import</a> <a id="463" href="Ledger.Certs.Properties.html" class="Module">Ledger.Certs.Properties</a> <a id="487" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="500" class="Keyword">open</a> <a id="505" class="Keyword">import</a> <a id="512" href="Ledger.Gov.html" class="Module">Ledger.Gov</a> <a id="523" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a>
<a id="527" class="Keyword">open</a> <a id="532" class="Keyword">import</a> <a id="539" href="Ledger.Gov.Properties.html" class="Module">Ledger.Gov.Properties</a> <a id="561" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a>
<a id="565" class="Keyword">open</a> <a id="570" class="Keyword">import</a> <a id="577" href="Ledger.Ledger.html" class="Module">Ledger.Ledger</a> <a id="591" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="595" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="599" class="Keyword">open</a> <a id="604" class="Keyword">import</a> <a id="611" href="Ledger.Ratify.html" class="Module">Ledger.Ratify</a> <a id="625" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="629" class="Keyword">hiding</a> <a id="636" class="Symbol">(</a><a id="637" href="Ledger.Ratify.html#806" class="Function">vote</a><a id="641" class="Symbol">)</a>
<a id="643" class="Keyword">open</a> <a id="648" class="Keyword">import</a> <a id="655" href="Ledger.Utxo.html" class="Module">Ledger.Utxo</a> <a id="667" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="671" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="675" class="Keyword">open</a> <a id="680" class="Keyword">import</a> <a id="687" href="Ledger.Utxo.Properties.html" class="Module">Ledger.Utxo.Properties</a> <a id="710" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="714" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="718" class="Keyword">open</a> <a id="723" class="Keyword">import</a> <a id="730" href="Ledger.Utxow.html" class="Module">Ledger.Utxow</a> <a id="743" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="747" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="751" class="Keyword">open</a> <a id="756" class="Keyword">import</a> <a id="763" href="Ledger.Utxow.Properties.html" class="Module">Ledger.Utxow.Properties</a> <a id="787" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="791" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>

<a id="796" class="Keyword">open</a> <a id="801" class="Keyword">import</a> <a id="808" href="Data.Bool.Properties.html" class="Module">Data.Bool.Properties</a> <a id="829" class="Keyword">using</a> <a id="835" class="Symbol">(</a><a id="836" href="Data.Bool.Properties.html#15217" class="Function">¬-not</a><a id="841" class="Symbol">)</a>
<a id="843" class="Keyword">open</a> <a id="848" class="Keyword">import</a> <a id="855" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="870" class="Keyword">using</a> <a id="876" class="Symbol">(</a><a id="877" href="Data.List.Base.html#10687" class="Function">filter</a><a id="883" class="Symbol">)</a>
<a id="885" class="Keyword">open</a> <a id="890" class="Keyword">import</a> <a id="897" href="Data.List.Ext.html" class="Module">Data.List.Ext</a> <a id="911" class="Keyword">using</a> <a id="917" class="Symbol">(</a><a id="918" href="Data.List.Ext.html#1921" class="Function">∈ˡ-map-filter</a><a id="931" class="Symbol">)</a>
<a id="933" class="Keyword">open</a> <a id="938" class="Keyword">import</a> <a id="945" href="Data.List.Ext.Properties.html" class="Module">Data.List.Ext.Properties</a> <a id="970" class="Keyword">using</a> <a id="976" class="Symbol">(</a><a id="977" href="Data.List.Ext.Properties.html#737" class="Function Operator">_×-cong_</a><a id="985" class="Symbol">)</a>
<a id="987" class="Keyword">open</a> <a id="992" class="Keyword">import</a> <a id="999" href="Data.List.Properties.html" class="Module">Data.List.Properties</a> <a id="1020" class="Keyword">using</a> <a id="1026" class="Symbol">(</a><a id="1027" href="Data.List.Properties.html#5429" class="Function">++-identityʳ</a><a id="1039" class="Symbol">;</a> <a id="1041" href="Data.List.Properties.html#3823" class="Function">map-++</a><a id="1047" class="Symbol">;</a> <a id="1049" href="Data.List.Properties.html#5241" class="Function">++-assoc</a><a id="1057" class="Symbol">;</a> <a id="1059" href="Data.List.Properties.html#4959" class="Function">length-++</a><a id="1068" class="Symbol">)</a>
<a id="1070" class="Keyword">open</a> <a id="1075" class="Keyword">import</a> <a id="1082" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a> <a id="1128" class="Keyword">using</a> <a id="1134" class="Symbol">(</a><a id="1135" href="Data.List.Membership.Propositional.Properties.html#9096" class="Function">∈-filter⁺</a><a id="1144" class="Symbol">;</a> <a id="1146" href="Data.List.Membership.Propositional.Properties.html#4227" class="Function">map-∈↔</a><a id="1152" class="Symbol">)</a>
<a id="1154" class="Keyword">open</a> <a id="1159" class="Keyword">import</a> <a id="1166" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="1184" class="Keyword">using</a> <a id="1190" class="Symbol">(</a><a id="1191" href="Data.Product.Base.html#5054" class="Function">swap</a><a id="1195" class="Symbol">)</a>
<a id="1197" class="Keyword">open</a> <a id="1202" class="Keyword">import</a> <a id="1209" href="Data.Product.Properties.html" class="Module">Data.Product.Properties</a> <a id="1233" class="Keyword">using</a> <a id="1239" class="Symbol">(</a><a id="1240" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a><a id="1247" class="Symbol">)</a>
<a id="1249" class="Keyword">open</a> <a id="1254" class="Keyword">import</a> <a id="1261" href="Data.Product.Properties.Ext.html" class="Module">Data.Product.Properties.Ext</a> <a id="1289" class="Keyword">using</a> <a id="1295" class="Symbol">(</a><a id="1296" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a><a id="1304" class="Symbol">)</a>
<a id="1306" class="Keyword">open</a> <a id="1311" class="Keyword">import</a> <a id="1318" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="1338" class="Keyword">using</a> <a id="1344" class="Symbol">(</a><a id="1345" href="Data.Nat.Properties.html#17056" class="Function">+-0-monoid</a><a id="1355" class="Symbol">;</a> <a id="1357" href="Data.Nat.Properties.html#15269" class="Function">+-identityʳ</a><a id="1368" class="Symbol">;</a> <a id="1370" href="Data.Nat.Properties.html#14905" class="Function">+-suc</a><a id="1375" class="Symbol">;</a> <a id="1377" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a><a id="1383" class="Symbol">;</a> <a id="1385" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a><a id="1392" class="Symbol">)</a>
<a id="1394" class="Keyword">open</a> <a id="1399" class="Keyword">import</a> <a id="1406" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="1422" class="Keyword">using</a> <a id="1428" class="Symbol">(</a><a id="1429" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a><a id="1442" class="Symbol">)</a>
<a id="1444" class="Keyword">open</a> <a id="1449" class="Keyword">import</a> <a id="1456" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1471" class="Keyword">using</a> <a id="1477" class="Symbol">(</a><a id="1478" href="Relation.Unary.html#4543" class="Function">Decidable</a><a id="1487" class="Symbol">)</a>

<a id="1490" class="Keyword">import</a> <a id="1497" href="Function.Related.Propositional.html" class="Module">Function.Related.Propositional</a> <a id="1528" class="Symbol">as</a> <a id="1531" class="Module">R</a>

<a id="1534" class="Keyword">import</a> <a id="1541" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1574" class="Symbol">as</a> <a id="1577" class="Module">SetoidReasoning</a>

<a id="1594" class="Keyword">instance</a> <a id="1603" href="Ledger.Ledger.Properties.html#1603" class="Function">_</a> <a id="1605" class="Symbol">=</a> <a id="1607" href="Data.Nat.Properties.html#17056" class="Function">+-0-monoid</a>

<a id="1619" class="Keyword">open</a> <a id="1624" class="Keyword">import</a> <a id="1631" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>

<a id="1664" class="Comment">-- ** Proof that LEDGER is computational.</a>

<a id="1707" class="Keyword">instance</a>
  <a id="1718" href="Ledger.Ledger.Properties.html#1718" class="Function">_</a> <a id="1720" class="Symbol">=</a> <a id="1722" href="Interface.ComputationalRelation.html#1827" class="Function">Monad-ComputationResult</a>

  <a id="Computational-LEDGER"></a><a id="1749" href="Ledger.Ledger.Properties.html#1749" class="Function">Computational-LEDGER</a> <a id="1770" class="Symbol">:</a> <a id="1772" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="1786" href="Ledger.Ledger.html#1873" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="1802" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1811" href="Ledger.Ledger.Properties.html#1749" class="Function">Computational-LEDGER</a> <a id="1832" class="Symbol">=</a> <a id="1834" class="Keyword">record</a> <a id="1841" class="Symbol">{</a><a id="1842" href="Ledger.Ledger.Properties.html#2095" class="Module">go</a><a id="1844" class="Symbol">}</a>
    <a id="1850" class="Keyword">where</a>
    <a id="1860" class="Keyword">open</a> <a id="1865" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="1879" class="Symbol">⦃...⦄</a> <a id="1885" class="Keyword">renaming</a> <a id="1894" class="Symbol">(</a><a id="1895" href="Interface.ComputationalRelation.html#2879" class="Field">computeProof</a> <a id="1908" class="Symbol">to</a> <a id="1911" class="Field">comp</a><a id="1915" class="Symbol">;</a> <a id="1917" href="Interface.ComputationalRelation.html#3096" class="Field">completeness</a> <a id="1930" class="Symbol">to</a> <a id="1933" class="Field">complete</a><a id="1941" class="Symbol">)</a>
    <a id="1947" href="Ledger.Ledger.Properties.html#1947" class="Function">computeUtxow</a> <a id="1960" class="Symbol">=</a> <a id="1962" href="Ledger.Ledger.Properties.html#1911" class="Field">comp</a> <a id="1967" class="Symbol">{</a><a id="1968" class="Argument">STS</a> <a id="1972" class="Symbol">=</a> <a id="1974" href="Ledger.Utxow.html#3736" class="Datatype Operator">_⊢_⇀⦇_,UTXOW⦈_</a><a id="1988" class="Symbol">}</a>
    <a id="1994" href="Ledger.Ledger.Properties.html#1994" class="Function">computeCerts</a> <a id="2007" class="Symbol">=</a> <a id="2009" href="Ledger.Ledger.Properties.html#1911" class="Field">comp</a> <a id="2014" class="Symbol">{</a><a id="2015" class="Argument">STS</a> <a id="2019" class="Symbol">=</a> <a id="2021" href="Ledger.Certs.html#5079" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a><a id="2035" class="Symbol">}</a>
    <a id="2041" href="Ledger.Ledger.Properties.html#2041" class="Function">computeGov</a>   <a id="2054" class="Symbol">=</a> <a id="2056" href="Ledger.Ledger.Properties.html#1911" class="Field">comp</a> <a id="2061" class="Symbol">{</a><a id="2062" class="Argument">STS</a> <a id="2066" class="Symbol">=</a> <a id="2068" href="Ledger.Gov.html#4488" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="2081" class="Symbol">}</a>

    <a id="2088" class="Keyword">module</a> <a id="2095" href="Ledger.Ledger.Properties.html#2095" class="Module">go</a>
      <a id="2104" class="Symbol">(</a><a id="2105" href="Ledger.Ledger.Properties.html#2105" class="Bound">Γ</a> <a id="2107" class="Symbol">:</a> <a id="2109" href="Ledger.Ledger.html#545" class="Record">LEnv</a><a id="2113" class="Symbol">)</a>   <a id="2117" class="Symbol">(</a><a id="2118" class="Keyword">let</a> <a id="2122" class="Keyword">open</a> <a id="2127" href="Ledger.Ledger.html#545" class="Module">LEnv</a> <a id="2132" href="Ledger.Ledger.Properties.html#2105" class="Bound">Γ</a><a id="2133" class="Symbol">)</a>
      <a id="2141" class="Symbol">(</a><a id="2142" href="Ledger.Ledger.Properties.html#2142" class="Bound">s</a> <a id="2144" class="Symbol">:</a> <a id="2146" href="Ledger.Ledger.html#715" class="Record">LState</a><a id="2152" class="Symbol">)</a> <a id="2154" class="Symbol">(</a><a id="2155" class="Keyword">let</a> <a id="2159" class="Keyword">open</a> <a id="2164" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="2171" href="Ledger.Ledger.Properties.html#2142" class="Bound">s</a><a id="2172" class="Symbol">)</a>
      <a id="2180" class="Symbol">(</a><a id="2181" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a> <a id="2184" class="Symbol">:</a> <a id="2186" href="Ledger.Transaction.html#3538" class="Record">Tx</a><a id="2188" class="Symbol">)</a>    <a id="2193" class="Symbol">(</a><a id="2194" class="Keyword">let</a> <a id="2198" class="Keyword">open</a> <a id="2203" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="2206" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a> <a id="2209" class="Keyword">renaming</a> <a id="2218" class="Symbol">(</a><a id="2219" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="2224" class="Symbol">to</a> <a id="2227" class="Field">txb</a><a id="2230" class="Symbol">);</a> <a id="2233" class="Keyword">open</a> <a id="2238" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="2245" href="Ledger.Ledger.Properties.html#2227" class="Field">txb</a><a id="2248" class="Symbol">)</a>
      <a id="2256" class="Keyword">where</a>
      <a id="2268" href="Ledger.Ledger.Properties.html#2268" class="Function">utxoΓ</a> <a id="2274" class="Symbol">=</a> <a id="2276" href="Ledger.Utxo.html#2411" class="Record">UTxOEnv</a> <a id="2284" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="2286" class="Keyword">record</a> <a id="2293" class="Symbol">{</a> <a id="2295" href="Ledger.Ledger.Properties.html#2295" class="Module">LEnv</a> <a id="2300" href="Ledger.Ledger.Properties.html#2105" class="Bound">Γ</a> <a id="2302" class="Symbol">}</a>
      <a id="2310" href="Ledger.Ledger.Properties.html#2310" class="Function">certΓ</a> <a id="2316" class="Symbol">=</a> <a id="2318" href="Ledger.Certs.html#2221" class="Record">CertEnv</a> <a id="2326" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="2328" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="2330" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a> <a id="2336" href="Ledger.Ledger.html#575" class="Field">slot</a> <a id="2341" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2343" href="Ledger.Ledger.html#633" class="Field">pparams</a> <a id="2351" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2353" href="Ledger.Transaction.html#2880" class="Function">txvote</a> <a id="2360" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2362" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="2370" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2372" class="Symbol">_</a> <a id="2374" href="Class.To.html#102" class="Field Operator">⟧</a>
      <a id="2382" href="Ledger.Ledger.Properties.html#2382" class="Function">govΓ</a> <a id="2387" class="Symbol">:</a> <a id="2389" href="Ledger.Certs.html#2825" class="Record">CertState</a> <a id="2399" class="Symbol">→</a> <a id="2401" href="Ledger.Gov.html#1291" class="Record">GovEnv</a>
      <a id="2414" href="Ledger.Ledger.Properties.html#2382" class="Function">govΓ</a> <a id="2419" class="Symbol">=</a> <a id="2421" class="Symbol">λ</a> <a id="2423" href="Ledger.Ledger.Properties.html#2423" class="Bound">certState</a> <a id="2433" class="Symbol">→</a> <a id="2435" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="2437" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="2442" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2444" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a> <a id="2450" href="Ledger.Ledger.html#575" class="Field">slot</a> <a id="2455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2457" href="Ledger.Ledger.html#633" class="Field">pparams</a> <a id="2465" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2467" href="Ledger.Ledger.html#598" class="Field">ppolicy</a> <a id="2475" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2477" href="Ledger.Ledger.html#659" class="Field">enactState</a> <a id="2488" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2490" href="Ledger.Ledger.Properties.html#2423" class="Bound">certState</a> <a id="2500" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2502" class="Symbol">_</a> <a id="2504" href="Class.To.html#102" class="Field Operator">⟧</a>

      <a id="2513" href="Ledger.Ledger.Properties.html#2513" class="Function">computeProof</a> <a id="2526" class="Symbol">:</a> <a id="2528" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="2546" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2553" class="Symbol">(</a><a id="2554" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="2557" href="Ledger.Ledger.Properties.html#2557" class="Bound">s&#39;</a> <a id="2560" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="2562" href="Ledger.Ledger.Properties.html#2105" class="Bound">Γ</a> <a id="2564" href="Ledger.Ledger.html#1873" class="Datatype Operator">⊢</a> <a id="2566" href="Ledger.Ledger.Properties.html#2142" class="Bound">s</a> <a id="2568" href="Ledger.Ledger.html#1873" class="Datatype Operator">⇀⦇</a> <a id="2571" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a> <a id="2574" href="Ledger.Ledger.html#1873" class="Datatype Operator">,LEDGER⦈</a> <a id="2583" href="Ledger.Ledger.Properties.html#2557" class="Bound">s&#39;</a><a id="2585" class="Symbol">)</a>
      <a id="2593" href="Ledger.Ledger.Properties.html#2513" class="Function">computeProof</a> <a id="2606" class="Symbol">=</a> <a id="2608" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2613" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="2621" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="2623" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2628" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2631" class="Symbol">λ</a> <a id="2633" class="Keyword">where</a>
        <a id="2647" class="Symbol">(</a><a id="2648" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2652" href="Ledger.Ledger.Properties.html#2652" class="Bound">p</a><a id="2653" class="Symbol">)</a> <a id="2655" class="Symbol">→</a> <a id="2657" class="Keyword">do</a>
          <a id="2670" class="Symbol">(</a><a id="2671" href="Ledger.Ledger.Properties.html#2671" class="Bound">utxoSt&#39;</a> <a id="2679" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2681" href="Ledger.Ledger.Properties.html#2681" class="Bound">utxoStep</a><a id="2689" class="Symbol">)</a> <a id="2691" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="2693" href="Ledger.Ledger.Properties.html#1947" class="Function">computeUtxow</a> <a id="2706" href="Ledger.Ledger.Properties.html#2268" class="Function">utxoΓ</a> <a id="2712" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="2719" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a>
          <a id="2732" class="Symbol">(</a><a id="2733" href="Ledger.Ledger.Properties.html#2733" class="Bound">certSt&#39;</a> <a id="2741" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2743" href="Ledger.Ledger.Properties.html#2743" class="Bound">certStep</a><a id="2751" class="Symbol">)</a> <a id="2753" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="2755" href="Ledger.Ledger.Properties.html#1994" class="Function">computeCerts</a> <a id="2768" href="Ledger.Ledger.Properties.html#2310" class="Function">certΓ</a> <a id="2774" href="Ledger.Ledger.html#827" class="Field">certState</a> <a id="2784" href="Ledger.Transaction.html#2818" class="Function">txcerts</a>
          <a id="2802" class="Symbol">(</a><a id="2803" href="Ledger.Ledger.Properties.html#2803" class="Bound">govSt&#39;</a>  <a id="2811" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2813" href="Ledger.Ledger.Properties.html#2813" class="Bound">govStep</a><a id="2820" class="Symbol">)</a>  <a id="2823" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="2825" href="Ledger.Ledger.Properties.html#2041" class="Function">computeGov</a> <a id="2836" class="Symbol">(</a><a id="2837" href="Ledger.Ledger.Properties.html#2382" class="Function">govΓ</a> <a id="2842" href="Ledger.Ledger.Properties.html#2733" class="Bound">certSt&#39;</a><a id="2849" class="Symbol">)</a> <a id="2851" class="Symbol">(</a><a id="2852" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="2870" href="Ledger.Ledger.Properties.html#2733" class="Bound">certSt&#39;</a> <a id="2878" href="Ledger.Ledger.html#801" class="Field">govSt</a><a id="2883" class="Symbol">)</a> <a id="2885" class="Symbol">(</a><a id="2886" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="2892" href="Ledger.Ledger.Properties.html#2227" class="Field">txb</a><a id="2895" class="Symbol">)</a>
          <a id="2907" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2915" class="Symbol">(_</a> <a id="2918" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2920" href="Ledger.Ledger.html#2876" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2930" href="Ledger.Ledger.Properties.html#2652" class="Bound">p</a> <a id="2932" href="Ledger.Ledger.Properties.html#2681" class="Bound">utxoStep</a> <a id="2941" href="Ledger.Ledger.Properties.html#2743" class="Bound">certStep</a> <a id="2950" href="Ledger.Ledger.Properties.html#2813" class="Bound">govStep</a><a id="2957" class="Symbol">)</a>
        <a id="2967" class="Symbol">(</a><a id="2968" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2971" href="Ledger.Ledger.Properties.html#2971" class="Bound">¬p</a><a id="2973" class="Symbol">)</a> <a id="2975" class="Symbol">→</a> <a id="2977" class="Keyword">do</a>
          <a id="2990" class="Symbol">(</a><a id="2991" href="Ledger.Ledger.Properties.html#2991" class="Bound">utxoSt&#39;</a> <a id="2999" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3001" href="Ledger.Ledger.Properties.html#3001" class="Bound">utxoStep</a><a id="3009" class="Symbol">)</a> <a id="3011" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="3013" href="Ledger.Ledger.Properties.html#1947" class="Function">computeUtxow</a> <a id="3026" href="Ledger.Ledger.Properties.html#2268" class="Function">utxoΓ</a> <a id="3032" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="3039" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a>
          <a id="3052" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3060" class="Symbol">(_</a> <a id="3063" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3065" href="Ledger.Ledger.html#2929" class="InductiveConstructor">LEDGER-I⋯</a> <a id="3075" class="Symbol">(</a><a id="3076" href="Data.Bool.Properties.html#15217" class="Function">¬-not</a> <a id="3082" href="Ledger.Ledger.Properties.html#2971" class="Bound">¬p</a><a id="3084" class="Symbol">)</a> <a id="3086" href="Ledger.Ledger.Properties.html#3001" class="Bound">utxoStep</a><a id="3094" class="Symbol">)</a>

      <a id="3103" href="Ledger.Ledger.Properties.html#3103" class="Function">completeness</a> <a id="3116" class="Symbol">:</a> <a id="3118" class="Symbol">∀</a> <a id="3120" href="Ledger.Ledger.Properties.html#3120" class="Bound">s&#39;</a> <a id="3123" class="Symbol">→</a> <a id="3125" href="Ledger.Ledger.Properties.html#2105" class="Bound">Γ</a> <a id="3127" href="Ledger.Ledger.html#1873" class="Datatype Operator">⊢</a> <a id="3129" href="Ledger.Ledger.Properties.html#2142" class="Bound">s</a> <a id="3131" href="Ledger.Ledger.html#1873" class="Datatype Operator">⇀⦇</a> <a id="3134" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a> <a id="3137" href="Ledger.Ledger.html#1873" class="Datatype Operator">,LEDGER⦈</a> <a id="3146" href="Ledger.Ledger.Properties.html#3120" class="Bound">s&#39;</a> <a id="3149" class="Symbol">→</a> <a id="3151" class="Symbol">(</a><a id="3152" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3158" href="Class.Functor.Core.html#233" class="Field Operator">&lt;$&gt;</a> <a id="3162" href="Ledger.Ledger.Properties.html#2513" class="Function">computeProof</a><a id="3174" class="Symbol">)</a> <a id="3176" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3178" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3186" href="Ledger.Ledger.Properties.html#3120" class="Bound">s&#39;</a>
      <a id="3195" href="Ledger.Ledger.Properties.html#3103" class="Function">completeness</a> <a id="3208" href="Ledger.Ledger.Properties.html#3208" class="Bound">ledgerSt</a> <a id="3217" class="Symbol">(</a><a id="3218" href="Ledger.Ledger.html#2876" class="InductiveConstructor">LEDGER-V⋯</a> <a id="3228" href="Ledger.Ledger.Properties.html#3228" class="Bound">v</a> <a id="3230" href="Ledger.Ledger.Properties.html#3230" class="Bound">utxoStep</a> <a id="3239" href="Ledger.Ledger.Properties.html#3239" class="Bound">certStep</a> <a id="3248" href="Ledger.Ledger.Properties.html#3248" class="Bound">govStep</a><a id="3255" class="Symbol">)</a>
        <a id="3265" class="Keyword">with</a> <a id="3270" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="3278" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="3280" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3291" class="Symbol">...</a> <a id="3295" class="Symbol">|</a> <a id="3297" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3300" href="Ledger.Ledger.Properties.html#3300" class="Bound">¬v</a> <a id="3303" class="Symbol">=</a> <a id="3305" href="Relation.Nullary.Negation.Core.html#1270" class="Function">contradiction</a> <a id="3319" class="Bound">v</a> <a id="3321" href="Ledger.Ledger.Properties.html#3300" class="Bound">¬v</a>
      <a id="3330" class="Symbol">...</a> <a id="3334" class="Symbol">|</a> <a id="3336" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3340" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="3353" class="Keyword">with</a> <a id="3358" href="Ledger.Ledger.Properties.html#1947" class="Function">computeUtxow</a> <a id="3371" href="Ledger.Ledger.Properties.html#2268" class="Function">utxoΓ</a> <a id="3377" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="3384" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a> <a id="3387" class="Symbol">|</a> <a id="3389" href="Ledger.Ledger.Properties.html#1933" class="Field">complete</a> <a id="3398" class="Symbol">_</a> <a id="3400" class="Symbol">_</a> <a id="3402" class="Symbol">_</a> <a id="3404" class="Symbol">_</a> <a id="3406" class="Bound">utxoStep</a>
      <a id="3421" class="Symbol">...</a> <a id="3425" class="Symbol">|</a> <a id="3427" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3435" class="Symbol">(</a><a id="3436" href="Ledger.Ledger.Properties.html#3436" class="Bound">utxoSt&#39;</a> <a id="3444" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3446" class="Symbol">_)</a> <a id="3449" class="Symbol">|</a> <a id="3451" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="3464" class="Keyword">with</a> <a id="3469" href="Ledger.Ledger.Properties.html#1994" class="Function">computeCerts</a> <a id="3482" href="Ledger.Ledger.Properties.html#2310" class="Function">certΓ</a> <a id="3488" href="Ledger.Ledger.html#827" class="Field">certState</a> <a id="3498" href="Ledger.Transaction.html#2818" class="Function">txcerts</a> <a id="3506" class="Symbol">|</a> <a id="3508" href="Ledger.Ledger.Properties.html#1933" class="Field">complete</a> <a id="3517" class="Symbol">_</a> <a id="3519" class="Symbol">_</a> <a id="3521" class="Symbol">_</a> <a id="3523" class="Symbol">_</a> <a id="3525" class="Bound">certStep</a>
      <a id="3540" class="Symbol">...</a> <a id="3544" class="Symbol">|</a> <a id="3546" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3554" class="Symbol">(</a><a id="3555" href="Ledger.Ledger.Properties.html#3555" class="Bound">certSt&#39;</a> <a id="3563" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3565" class="Symbol">_)</a> <a id="3568" class="Symbol">|</a> <a id="3570" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="3583" class="Keyword">with</a> <a id="3588" href="Ledger.Ledger.Properties.html#2041" class="Function">computeGov</a> <a id="3599" class="Symbol">(</a><a id="3600" href="Ledger.Ledger.Properties.html#2382" class="Function">govΓ</a> <a id="3605" href="Ledger.Ledger.Properties.html#3555" class="Bound">certSt&#39;</a><a id="3612" class="Symbol">)</a> <a id="3614" class="Symbol">(</a><a id="3615" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="3633" href="Ledger.Ledger.Properties.html#3555" class="Bound">certSt&#39;</a> <a id="3641" href="Ledger.Ledger.html#801" class="Field">govSt</a> <a id="3647" class="Symbol">)</a> <a id="3649" class="Symbol">(</a><a id="3650" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="3656" href="Ledger.Ledger.Properties.html#2227" class="Field">txb</a><a id="3659" class="Symbol">)</a> <a id="3661" class="Symbol">|</a> <a id="3663" href="Ledger.Ledger.Properties.html#1933" class="Field">complete</a> <a id="3672" class="Symbol">{</a><a id="3673" class="Argument">STS</a> <a id="3677" class="Symbol">=</a> <a id="3679" href="Ledger.Gov.html#4488" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="3692" class="Symbol">}</a> <a id="3694" class="Symbol">(</a><a id="3695" href="Ledger.Ledger.Properties.html#2382" class="Function">govΓ</a> <a id="3700" href="Ledger.Ledger.Properties.html#3555" class="Bound">certSt&#39;</a><a id="3707" class="Symbol">)</a> <a id="3709" class="Symbol">_</a> <a id="3711" class="Symbol">_</a> <a id="3713" class="Symbol">_</a> <a id="3715" class="Bound">govStep</a>
      <a id="3729" class="Symbol">...</a> <a id="3733" class="Symbol">|</a> <a id="3735" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3743" class="Symbol">(</a><a id="3744" href="Ledger.Ledger.Properties.html#3744" class="Bound">govSt&#39;</a> <a id="3751" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3753" class="Symbol">_)</a> <a id="3756" class="Symbol">|</a> <a id="3758" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3763" class="Symbol">=</a> <a id="3765" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="3776" href="Ledger.Ledger.Properties.html#3103" class="Function">completeness</a> <a id="3789" href="Ledger.Ledger.Properties.html#3789" class="Bound">ledgerSt</a> <a id="3798" class="Symbol">(</a><a id="3799" href="Ledger.Ledger.html#2929" class="InductiveConstructor">LEDGER-I⋯</a> <a id="3809" href="Ledger.Ledger.Properties.html#3809" class="Bound">i</a> <a id="3811" href="Ledger.Ledger.Properties.html#3811" class="Bound">utxoStep</a><a id="3819" class="Symbol">)</a>
        <a id="3829" class="Keyword">with</a> <a id="3834" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="3842" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="3844" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3855" class="Symbol">...</a> <a id="3859" class="Symbol">|</a> <a id="3861" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3865" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3870" class="Symbol">=</a> <a id="3872" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3877" class="Bound">i</a> <a id="3879" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3882" class="Symbol">λ</a> <a id="3884" class="Symbol">()</a>
      <a id="3893" class="Symbol">...</a> <a id="3897" class="Symbol">|</a> <a id="3899" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3902" href="Ledger.Ledger.Properties.html#3902" class="Bound">¬v</a>
        <a id="3913" class="Keyword">with</a> <a id="3918" href="Ledger.Ledger.Properties.html#1947" class="Function">computeUtxow</a> <a id="3931" href="Ledger.Ledger.Properties.html#2268" class="Function">utxoΓ</a> <a id="3937" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="3944" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a> <a id="3947" class="Symbol">|</a> <a id="3949" href="Ledger.Ledger.Properties.html#1933" class="Field">complete</a> <a id="3958" class="Symbol">_</a> <a id="3960" class="Symbol">_</a> <a id="3962" class="Symbol">_</a> <a id="3964" class="Symbol">_</a> <a id="3966" class="Bound">utxoStep</a>
      <a id="3981" class="Symbol">...</a> <a id="3985" class="Symbol">|</a> <a id="3987" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3995" class="Symbol">(</a><a id="3996" href="Ledger.Ledger.Properties.html#3996" class="Bound">utxoSt&#39;</a> <a id="4004" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4006" class="Symbol">_)</a> <a id="4009" class="Symbol">|</a> <a id="4011" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4016" class="Symbol">=</a> <a id="4018" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="Computational-LEDGERS"></a><a id="4024" href="Ledger.Ledger.Properties.html#4024" class="Function">Computational-LEDGERS</a> <a id="4046" class="Symbol">:</a> <a id="4048" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="4062" href="Ledger.Ledger.html#2968" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4079" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="4086" href="Ledger.Ledger.Properties.html#4024" class="Function">Computational-LEDGERS</a> <a id="4108" class="Symbol">=</a> <a id="4110" href="Function.Base.html#4736" class="Function">it</a>

<a id="4114" class="Keyword">instance</a>
  <a id="HasCoin-LState"></a><a id="4125" href="Ledger.Ledger.Properties.html#4125" class="Function">HasCoin-LState</a> <a id="4140" class="Symbol">:</a> <a id="4142" href="Ledger.Interface.HasCoin.html#124" class="Record">HasCoin</a> <a id="4150" href="Ledger.Ledger.html#715" class="Record">LState</a>
  <a id="4159" href="Ledger.Ledger.Properties.html#4125" class="Function">HasCoin-LState</a> <a id="4174" class="Symbol">.</a><a id="4175" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4183" href="Ledger.Ledger.Properties.html#4183" class="Bound">s</a> <a id="4185" class="Symbol">=</a> <a id="4187" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4195" class="Symbol">(</a><a id="4196" href="Ledger.Ledger.html#774" class="Field">LState.utxoSt</a> <a id="4210" href="Ledger.Ledger.Properties.html#4183" class="Bound">s</a><a id="4211" class="Symbol">)</a> <a id="4213" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="4215" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4223" class="Symbol">(</a><a id="4224" href="Ledger.Ledger.html#827" class="Field">LState.certState</a> <a id="4241" href="Ledger.Ledger.Properties.html#4183" class="Bound">s</a><a id="4242" class="Symbol">)</a>

<a id="4245" class="Comment">-- ** Proof that LEDGER preserves values.</a>

<a id="FreshTx"></a><a id="4288" href="Ledger.Ledger.Properties.html#4288" class="Function">FreshTx</a> <a id="4296" class="Symbol">:</a> <a id="4298" href="Ledger.Transaction.html#3538" class="Record">Tx</a> <a id="4301" class="Symbol">→</a> <a id="4303" href="Ledger.Ledger.html#715" class="Record">LState</a> <a id="4310" class="Symbol">→</a> <a id="4312" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="4317" href="Ledger.Ledger.Properties.html#4288" class="Function">FreshTx</a> <a id="4325" href="Ledger.Ledger.Properties.html#4325" class="Bound">tx</a> <a id="4328" href="Ledger.Ledger.Properties.html#4328" class="Bound">ls</a> <a id="4331" class="Symbol">=</a> <a id="4333" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="4338" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4340" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="4345" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4351" class="Symbol">(</a><a id="4352" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4356" class="Symbol">(</a><a id="4357" href="Ledger.Ledger.Properties.html#4328" class="Bound">ls</a> <a id="4360" class="Symbol">.</a><a id="4361" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="4368" class="Symbol">.</a><a id="4369" href="Ledger.Utxo.html#2580" class="Field">utxo</a><a id="4373" class="Symbol">))</a>
  <a id="4378" class="Keyword">where</a> <a id="4384" class="Keyword">open</a> <a id="4389" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="4392" href="Ledger.Ledger.Properties.html#4325" class="Bound">tx</a><a id="4394" class="Symbol">;</a> <a id="4396" class="Keyword">open</a> <a id="4401" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="4408" href="Ledger.Transaction.html#3570" class="Function">body</a><a id="4412" class="Symbol">;</a> <a id="4414" class="Keyword">open</a> <a id="4419" href="Ledger.Utxo.html#2516" class="Module">UTxOState</a><a id="4428" class="Symbol">;</a> <a id="4430" class="Keyword">open</a> <a id="4435" href="Ledger.Ledger.html#715" class="Module">LState</a>

<a id="4443" class="Keyword">module</a> <a id="4450" href="Ledger.Ledger.Properties.html#4450" class="Module">_</a>
  <a id="4454" class="Symbol">(</a><a id="4455" href="Ledger.Ledger.Properties.html#4455" class="Bound">tx</a> <a id="4458" class="Symbol">:</a> <a id="4460" href="Ledger.Transaction.html#3538" class="Record">Tx</a><a id="4462" class="Symbol">)</a> <a id="4464" class="Symbol">(</a><a id="4465" class="Keyword">let</a> <a id="4469" class="Keyword">open</a> <a id="4474" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="4477" href="Ledger.Ledger.Properties.html#4455" class="Bound">tx</a><a id="4479" class="Symbol">;</a> <a id="4481" class="Keyword">open</a> <a id="4486" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="4493" href="Ledger.Transaction.html#3570" class="Field">body</a><a id="4497" class="Symbol">)</a>
  <a id="4501" class="Symbol">(</a> <a id="4503" href="Ledger.Ledger.Properties.html#4503" class="Bound">indexedSumᵛ&#39;-∪</a>  <a id="4519" class="Symbol">:</a>  <a id="4522" class="Symbol">{</a><a id="4523" href="Ledger.Ledger.Properties.html#4523" class="Bound">A</a> <a id="4525" class="Symbol">:</a> <a id="4527" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="4531" class="Symbol">}</a> <a id="4533" class="Symbol">⦃</a> <a id="4535" href="Ledger.Ledger.Properties.html#4535" class="Bound">_</a> <a id="4537" class="Symbol">:</a> <a id="4539" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="4545" href="Ledger.Ledger.Properties.html#4523" class="Bound">A</a> <a id="4547" class="Symbol">⦄</a> <a id="4549" class="Symbol">(</a><a id="4550" href="Ledger.Ledger.Properties.html#4550" class="Bound">m</a> <a id="4552" href="Ledger.Ledger.Properties.html#4552" class="Bound">m&#39;</a> <a id="4555" class="Symbol">:</a> <a id="4557" href="Ledger.Ledger.Properties.html#4523" class="Bound">A</a> <a id="4559" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4561" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="4565" class="Symbol">)</a>
                       <a id="4590" class="Symbol">→</a> <a id="4592" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="4601" class="Symbol">(</a><a id="4602" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4606" href="Ledger.Ledger.Properties.html#4550" class="Bound">m</a><a id="4607" class="Symbol">)</a> <a id="4609" class="Symbol">(</a><a id="4610" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4614" href="Ledger.Ledger.Properties.html#4552" class="Bound">m&#39;</a><a id="4616" class="Symbol">)</a> <a id="4618" class="Symbol">→</a> <a id="4620" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4628" class="Symbol">(</a><a id="4629" href="Ledger.Ledger.Properties.html#4550" class="Bound">m</a> <a id="4631" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="4634" href="Ledger.Ledger.Properties.html#4552" class="Bound">m&#39;</a><a id="4636" class="Symbol">)</a> <a id="4638" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4640" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4648" href="Ledger.Ledger.Properties.html#4550" class="Bound">m</a> <a id="4650" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="4652" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4660" href="Ledger.Ledger.Properties.html#4552" class="Bound">m&#39;</a> <a id="4663" class="Symbol">)</a>
  <a id="4667" class="Symbol">(</a> <a id="4669" href="Ledger.Ledger.Properties.html#4669" class="Bound">sumConstZero</a>    <a id="4685" class="Symbol">:</a>  <a id="4688" class="Symbol">{</a><a id="4689" href="Ledger.Ledger.Properties.html#4689" class="Bound">A</a> <a id="4691" class="Symbol">:</a> <a id="4693" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="4697" class="Symbol">}</a> <a id="4699" class="Symbol">⦃</a> <a id="4701" href="Ledger.Ledger.Properties.html#4701" class="Bound">_</a> <a id="4703" class="Symbol">:</a> <a id="4705" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="4711" href="Ledger.Ledger.Properties.html#4689" class="Bound">A</a> <a id="4713" class="Symbol">⦄</a> <a id="4715" class="Symbol">{</a><a id="4716" href="Ledger.Ledger.Properties.html#4716" class="Bound">X</a> <a id="4718" class="Symbol">:</a> <a id="4720" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4722" href="Ledger.Ledger.Properties.html#4689" class="Bound">A</a><a id="4723" class="Symbol">}</a> <a id="4725" class="Symbol">→</a> <a id="4727" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4735" class="Symbol">(</a><a id="4736" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="4745" href="Ledger.Ledger.Properties.html#4716" class="Bound">X</a> <a id="4747" class="Number">0</a><a id="4748" class="Symbol">)</a> <a id="4750" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4752" class="Number">0</a> <a id="4754" class="Symbol">)</a>
  <a id="4758" class="Symbol">(</a> <a id="4760" href="Ledger.Ledger.Properties.html#4760" class="Bound">res-decomp</a>      <a id="4776" class="Symbol">:</a>  <a id="4779" class="Symbol">{</a><a id="4780" href="Ledger.Ledger.Properties.html#4780" class="Bound">A</a> <a id="4782" class="Symbol">:</a> <a id="4784" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="4788" class="Symbol">}</a> <a id="4790" class="Symbol">⦃</a> <a id="4792" href="Ledger.Ledger.Properties.html#4792" class="Bound">_</a> <a id="4794" class="Symbol">:</a> <a id="4796" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="4802" href="Ledger.Ledger.Properties.html#4780" class="Bound">A</a> <a id="4804" class="Symbol">⦄</a> <a id="4806" class="Symbol">(</a><a id="4807" href="Ledger.Ledger.Properties.html#4807" class="Bound">m</a> <a id="4809" href="Ledger.Ledger.Properties.html#4809" class="Bound">m&#39;</a> <a id="4812" class="Symbol">:</a> <a id="4814" href="Ledger.Ledger.Properties.html#4780" class="Bound">A</a> <a id="4816" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4818" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="4822" class="Symbol">)</a>
                       <a id="4847" class="Symbol">→</a> <a id="4849" class="Symbol">(</a><a id="4850" href="Ledger.Ledger.Properties.html#4807" class="Bound">m</a> <a id="4852" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="4855" href="Ledger.Ledger.Properties.html#4809" class="Bound">m&#39;</a><a id="4857" class="Symbol">)</a><a id="4858" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="4860" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="4863" class="Symbol">(</a><a id="4864" href="Ledger.Ledger.Properties.html#4807" class="Bound">m</a> <a id="4866" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="4869" class="Symbol">(</a><a id="4870" href="Ledger.Ledger.Properties.html#4809" class="Bound">m&#39;</a> <a id="4873" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="4875" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4879" class="Symbol">(</a><a id="4880" href="Ledger.Ledger.Properties.html#4807" class="Bound">m</a> <a id="4882" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="4883" class="Symbol">)</a> <a id="4885" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="4886" class="Symbol">))</a><a id="4888" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="4890" class="Symbol">)</a>
  <a id="4894" class="Symbol">(</a> <a id="4896" href="Ledger.Ledger.Properties.html#4896" class="Bound">getCoin-cong</a>    <a id="4912" class="Symbol">:</a>  <a id="4915" class="Symbol">{</a><a id="4916" href="Ledger.Ledger.Properties.html#4916" class="Bound">A</a> <a id="4918" class="Symbol">:</a> <a id="4920" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="4924" class="Symbol">}</a> <a id="4926" class="Symbol">⦃</a> <a id="4928" href="Ledger.Ledger.Properties.html#4928" class="Bound">_</a> <a id="4930" class="Symbol">:</a> <a id="4932" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="4938" href="Ledger.Ledger.Properties.html#4916" class="Bound">A</a> <a id="4940" class="Symbol">⦄</a> <a id="4942" class="Symbol">(</a><a id="4943" href="Ledger.Ledger.Properties.html#4943" class="Bound">s</a> <a id="4945" class="Symbol">:</a> <a id="4947" href="Ledger.Ledger.Properties.html#4916" class="Bound">A</a> <a id="4949" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4951" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="4955" class="Symbol">)</a> <a id="4957" class="Symbol">(</a><a id="4958" href="Ledger.Ledger.Properties.html#4958" class="Bound">s&#39;</a> <a id="4961" class="Symbol">:</a> <a id="4963" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4965" class="Symbol">(</a><a id="4966" href="Ledger.Ledger.Properties.html#4916" class="Bound">A</a> <a id="4968" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4970" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="4974" class="Symbol">))</a> <a id="4977" class="Symbol">→</a> <a id="4979" href="Ledger.Ledger.Properties.html#4943" class="Bound">s</a> <a id="4981" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="4983" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="4986" href="Ledger.Ledger.Properties.html#4958" class="Bound">s&#39;</a>
                       <a id="5012" class="Symbol">→</a> <a id="5014" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="5026" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5032" class="Symbol">(</a><a id="5033" href="Ledger.Ledger.Properties.html#4943" class="Bound">s</a> <a id="5035" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="5036" class="Symbol">)</a> <a id="5038" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5040" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="5052" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5058" href="Ledger.Ledger.Properties.html#4958" class="Bound">s&#39;</a> <a id="5061" class="Symbol">)</a>
  <a id="5065" class="Symbol">(</a> <a id="5067" href="Ledger.Ledger.Properties.html#5067" class="Bound">≡ᵉ-getCoinˢ</a>     <a id="5083" class="Symbol">:</a>  <a id="5086" class="Symbol">{</a><a id="5087" href="Ledger.Ledger.Properties.html#5087" class="Bound">A</a> <a id="5089" href="Ledger.Ledger.Properties.html#5089" class="Bound">A&#39;</a> <a id="5092" class="Symbol">:</a> <a id="5094" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="5098" class="Symbol">}</a> <a id="5100" class="Symbol">⦃</a> <a id="5102" href="Ledger.Ledger.Properties.html#5102" class="Bound">_</a> <a id="5104" class="Symbol">:</a> <a id="5106" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="5112" href="Ledger.Ledger.Properties.html#5087" class="Bound">A</a> <a id="5114" class="Symbol">⦄</a> <a id="5116" class="Symbol">⦃</a> <a id="5118" href="Ledger.Ledger.Properties.html#5118" class="Bound">_</a> <a id="5120" class="Symbol">:</a> <a id="5122" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="5128" href="Ledger.Ledger.Properties.html#5089" class="Bound">A&#39;</a> <a id="5131" class="Symbol">⦄</a> <a id="5133" class="Symbol">(</a><a id="5134" href="Ledger.Ledger.Properties.html#5134" class="Bound">s</a> <a id="5136" class="Symbol">:</a> <a id="5138" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5140" class="Symbol">(</a><a id="5141" href="Ledger.Ledger.Properties.html#5087" class="Bound">A</a> <a id="5143" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5145" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="5149" class="Symbol">))</a> <a id="5152" class="Symbol">{</a><a id="5153" href="Ledger.Ledger.Properties.html#5153" class="Bound">f</a> <a id="5155" class="Symbol">:</a> <a id="5157" href="Ledger.Ledger.Properties.html#5087" class="Bound">A</a> <a id="5159" class="Symbol">→</a> <a id="5161" href="Ledger.Ledger.Properties.html#5089" class="Bound">A&#39;</a><a id="5163" class="Symbol">}</a>
                       <a id="5188" class="Symbol">→</a> <a id="5190" href="Axiom.Set.Map.html#5071" class="Function">InjectiveOn</a> <a id="5202" class="Symbol">(</a><a id="5203" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5207" href="Ledger.Ledger.Properties.html#5134" class="Bound">s</a><a id="5208" class="Symbol">)</a> <a id="5210" href="Ledger.Ledger.Properties.html#5153" class="Bound">f</a> <a id="5212" class="Symbol">→</a> <a id="5214" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="5222" class="Symbol">(</a><a id="5223" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="5228" class="Symbol">(</a><a id="5229" href="Class.Bifunctor.html#1036" class="Function">map₁</a> <a id="5234" href="Ledger.Ledger.Properties.html#5153" class="Bound">f</a><a id="5235" class="Symbol">)</a> <a id="5237" href="Ledger.Ledger.Properties.html#5134" class="Bound">s</a><a id="5238" class="Symbol">)</a> <a id="5240" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5242" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="5250" href="Ledger.Ledger.Properties.html#5134" class="Bound">s</a> <a id="5252" class="Symbol">)</a>
  <a id="5256" class="Keyword">where</a>

  <a id="5265" class="Keyword">private</a> <a id="5273" class="Keyword">variable</a>
    <a id="5286" href="Ledger.Ledger.Properties.html#5286" class="Generalizable">Γ</a> <a id="5288" class="Symbol">:</a> <a id="5290" href="Ledger.Ledger.html#545" class="Record">LEnv</a>
    <a id="5299" href="Ledger.Ledger.Properties.html#5299" class="Generalizable">l</a> <a id="5301" class="Symbol">:</a> <a id="5303" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5308" href="Ledger.Transaction.html#3538" class="Record">Tx</a>

  <a id="5314" class="Keyword">pattern</a> <a id="5322" href="Ledger.Ledger.Properties.html#5322" class="InductiveConstructor">UTXO-induction</a> <a id="5337" href="Ledger.Ledger.Properties.html#5389" class="Bound">r</a> <a id="5339" class="Symbol">=</a> <a id="5341" href="Ledger.Utxo.html#14895" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="5357" class="Symbol">_</a> <a id="5359" class="Symbol">_</a> <a id="5361" class="Symbol">_</a> <a id="5363" class="Symbol">_</a> <a id="5365" class="Symbol">_</a> <a id="5367" class="Symbol">_</a> <a id="5369" class="Symbol">_</a> <a id="5371" class="Symbol">_</a> <a id="5373" class="Symbol">_</a> <a id="5375" class="Symbol">_</a> <a id="5377" class="Symbol">_</a> <a id="5379" class="Symbol">_</a> <a id="5381" class="Symbol">_</a> <a id="5383" class="Symbol">_</a> <a id="5385" class="Symbol">_</a> <a id="5387" class="Symbol">_</a> <a id="5389" href="Ledger.Ledger.Properties.html#5389" class="Bound">r</a> <a id="5391" class="Symbol">_</a> <a id="5393" class="Symbol">_</a> <a id="5395" class="Symbol">_</a>

  <a id="5400" href="Ledger.Ledger.Properties.html#5400" class="Function">LEDGER-pov</a> <a id="5411" class="Symbol">:</a>  <a id="5414" class="Symbol">{</a><a id="5415" href="Ledger.Ledger.Properties.html#5415" class="Bound">s</a> <a id="5417" href="Ledger.Ledger.Properties.html#5417" class="Bound">s&#39;</a> <a id="5420" class="Symbol">:</a> <a id="5422" href="Ledger.Ledger.html#715" class="Record">LState</a><a id="5428" class="Symbol">}</a> <a id="5430" class="Symbol">→</a> <a id="5432" href="Ledger.Ledger.Properties.html#4288" class="Function">FreshTx</a> <a id="5440" href="Ledger.Ledger.Properties.html#4455" class="Bound">tx</a> <a id="5443" href="Ledger.Ledger.Properties.html#5415" class="Bound">s</a> <a id="5445" class="Symbol">→</a> <a id="5447" href="Ledger.Ledger.Properties.html#5286" class="Generalizable">Γ</a> <a id="5449" href="Ledger.Ledger.html#1873" class="Datatype Operator">⊢</a> <a id="5451" href="Ledger.Ledger.Properties.html#5415" class="Bound">s</a> <a id="5453" href="Ledger.Ledger.html#1873" class="Datatype Operator">⇀⦇</a> <a id="5456" href="Ledger.Ledger.Properties.html#4455" class="Bound">tx</a> <a id="5459" href="Ledger.Ledger.html#1873" class="Datatype Operator">,LEDGER⦈</a> <a id="5468" href="Ledger.Ledger.Properties.html#5417" class="Bound">s&#39;</a>
                <a id="5487" class="Symbol">→</a> <a id="5489" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="5497" href="Ledger.Ledger.Properties.html#5415" class="Bound">s</a> <a id="5499" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5501" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="5509" href="Ledger.Ledger.Properties.html#5417" class="Bound">s&#39;</a>
  <a id="5514" href="Ledger.Ledger.Properties.html#5400" class="Function">LEDGER-pov</a>
    <a id="5529" class="Symbol">{</a><a id="5530" class="Argument">s</a>  <a id="5533" class="Symbol">=</a> <a id="5535" href="Ledger.Ledger.Properties.html#5535" class="Bound">s</a><a id="5536" class="Symbol">}</a>
    <a id="5542" class="Symbol">{</a><a id="5543" class="Argument">s&#39;</a> <a id="5546" class="Symbol">=</a> <a id="5548" href="Ledger.Ledger.Properties.html#5548" class="Bound">s&#39;</a><a id="5550" class="Symbol">}</a>
    <a id="5556" href="Ledger.Ledger.Properties.html#5556" class="Bound">h</a> <a id="5558" class="Symbol">(</a><a id="5559" href="Ledger.Ledger.html#1935" class="InductiveConstructor">LEDGER-V</a> <a id="5568" class="Symbol">{</a><a id="5569" class="Argument">utxoSt&#39;</a> <a id="5577" class="Symbol">=</a> <a id="5579" href="Ledger.Ledger.Properties.html#5579" class="Bound">utxoSt&#39;&#39;</a><a id="5587" class="Symbol">}</a> <a id="5589" class="Symbol">(</a> <a id="5591" href="Ledger.Ledger.Properties.html#5591" class="Bound">valid</a> <a id="5597" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5599" href="Ledger.Utxow.html#5380" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="5610" href="Ledger.Ledger.Properties.html#5610" class="Bound">st</a><a id="5612" class="Symbol">@(</a><a id="5614" href="Ledger.Ledger.Properties.html#5322" class="InductiveConstructor">UTXO-induction</a> <a id="5629" href="Ledger.Ledger.Properties.html#5629" class="Bound">r</a><a id="5630" class="Symbol">)</a> <a id="5632" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5634" href="Ledger.Ledger.Properties.html#5634" class="Bound">h&#39;</a> <a id="5637" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5639" class="Symbol">_</a> <a id="5641" class="Symbol">))</a> <a id="5644" class="Symbol">=</a>
    <a id="5650" class="Keyword">let</a>
      <a id="5660" class="Keyword">open</a> <a id="5665" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="5672" href="Ledger.Ledger.Properties.html#5535" class="Bound">s</a>
      <a id="5680" class="Keyword">open</a> <a id="5685" href="Ledger.Certs.html#2825" class="Module">CertState</a> <a id="5695" href="Ledger.Ledger.html#827" class="Function">certState</a>
      <a id="5711" class="Keyword">open</a> <a id="5716" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="5723" href="Ledger.Ledger.Properties.html#5548" class="Bound">s&#39;</a> <a id="5726" class="Keyword">renaming</a> <a id="5735" class="Symbol">(</a><a id="5736" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="5743" class="Symbol">to</a> <a id="5746" class="Field">utxoSt&#39;</a><a id="5753" class="Symbol">;</a> <a id="5755" href="Ledger.Ledger.html#801" class="Field">govSt</a> <a id="5761" class="Symbol">to</a> <a id="5764" class="Field">govSt&#39;</a><a id="5770" class="Symbol">;</a> <a id="5772" href="Ledger.Ledger.html#827" class="Field">certState</a> <a id="5782" class="Symbol">to</a> <a id="5785" class="Field">certState&#39;</a><a id="5795" class="Symbol">)</a>
      <a id="5803" class="Keyword">open</a> <a id="5808" href="Ledger.Certs.html#2825" class="Module">CertState</a> <a id="5818" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a>
      <a id="5835" class="Keyword">open</a> <a id="5840" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>
      <a id="5858" class="Keyword">open</a> <a id="5863" href="Ledger.Certs.Properties.html#11904" class="Module">CERTSpov</a> <a id="5872" href="Ledger.Ledger.Properties.html#4503" class="Bound">indexedSumᵛ&#39;-∪</a> <a id="5887" href="Ledger.Ledger.Properties.html#4669" class="Bound">sumConstZero</a> <a id="5900" href="Ledger.Ledger.Properties.html#4760" class="Bound">res-decomp</a>  <a id="5912" href="Ledger.Ledger.Properties.html#4896" class="Bound">getCoin-cong</a> <a id="5925" href="Ledger.Ledger.Properties.html#5067" class="Bound">≡ᵉ-getCoinˢ</a> <a id="5937" href="Ledger.Ledger.Properties.html#5629" class="Bound">r</a>
      <a id="5945" class="Comment">-- certState  = ⟦ stᵈ , stᵖ , stᵍ ⟧ᶜˢ</a>
      <a id="5989" class="Comment">-- certState&#39; = ⟦ stᵈ&#39; , stᵖ&#39; , stᵍ&#39; ⟧ᶜˢ</a>
      <a id="6036" href="Ledger.Ledger.Properties.html#6036" class="Bound">zeroMap</a>    <a id="6047" class="Symbol">=</a> <a id="6049" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="6058" class="Symbol">(</a><a id="6059" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="6064" href="Ledger.Address.html#1265" class="Field">RwdAddr.stake</a> <a id="6078" class="Symbol">(</a><a id="6079" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6083" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a><a id="6090" class="Symbol">))</a> <a id="6093" class="Number">0</a>
    <a id="6099" class="Keyword">in</a>
    <a id="6106" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="6118" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6126" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6133" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6135" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6143" href="Ledger.Ledger.html#827" class="Function">certState</a>
        <a id="6161" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="6164" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="6169" class="Symbol">(</a><a id="6170" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6178" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6185" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="6187" class="Symbol">)</a> <a id="6189" class="Symbol">(</a><a id="6190" href="Ledger.Certs.Properties.html#15784" class="Function">CERTS-pov</a> <a id="6200" href="Ledger.Ledger.Properties.html#5634" class="Bound">h&#39;</a><a id="6202" class="Symbol">)</a> <a id="6204" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="6212" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6220" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6227" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6229" class="Symbol">(</a><a id="6230" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6238" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a> <a id="6249" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6251" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6259" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a><a id="6266" class="Symbol">)</a>
        <a id="6276" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="6280" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="6285" class="Symbol">(λ</a> <a id="6288" href="Ledger.Ledger.Properties.html#6288" class="Bound">u</a> <a id="6290" class="Symbol">→</a> <a id="6292" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6300" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6307" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6309" class="Symbol">(</a><a id="6310" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6318" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a> <a id="6329" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6331" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a> <a id="6333" class="Symbol">(</a><a id="6334" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6342" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="6350" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6352" href="Ledger.Ledger.Properties.html#6288" class="Bound">u</a><a id="6353" class="Symbol">)))</a> <a id="6357" href="Ledger.Ledger.Properties.html#5591" class="Bound">valid</a> <a id="6363" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="6371" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6379" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6386" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6388" class="Symbol">(</a><a id="6389" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6397" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a> <a id="6408" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6410" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a> <a id="6412" class="Symbol">(</a><a id="6413" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6421" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="6429" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6431" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="6438" class="Symbol">))</a>
        <a id="6449" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="6452" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="6457" class="Symbol">(</a><a id="6458" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6466" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6473" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="6475" class="Symbol">)</a> <a id="6477" class="Symbol">(</a><a id="6478" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="6485" class="Symbol">(</a><a id="6486" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6494" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a><a id="6504" class="Symbol">)</a> <a id="6506" class="Symbol">_)</a> <a id="6509" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="6517" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6525" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6532" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6534" class="Symbol">(</a><a id="6535" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a> <a id="6537" class="Symbol">(</a><a id="6538" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6546" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="6554" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6556" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="6563" class="Symbol">)</a> <a id="6565" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6567" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6575" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a><a id="6585" class="Symbol">)</a>
        <a id="6595" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="6599" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a> <a id="6607" class="Symbol">(</a><a id="6608" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6616" href="Ledger.Ledger.html#774" class="Function">utxoSt</a><a id="6622" class="Symbol">)</a> <a id="6624" class="Symbol">(</a><a id="6625" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a> <a id="6627" class="Symbol">(</a><a id="6628" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6636" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="6644" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6646" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="6653" class="Symbol">))</a> <a id="6656" class="Symbol">(</a><a id="6657" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6665" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a><a id="6675" class="Symbol">)</a> <a id="6677" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="6685" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6693" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6700" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6702" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a> <a id="6704" class="Symbol">(</a><a id="6705" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6713" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="6721" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6723" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="6730" class="Symbol">)</a> <a id="6732" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6734" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6742" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a>
        <a id="6761" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="6764" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="6769" class="Symbol">(</a><a id="6770" href="Class.HasAdd.Core.html#136" class="Field Operator">_+</a> <a id="6773" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6781" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a><a id="6791" class="Symbol">)</a> <a id="6793" class="Symbol">(</a><a id="6794" href="Ledger.Utxo.Properties.html#26346" class="Function">pov</a> <a id="6798" href="Ledger.Ledger.Properties.html#5556" class="Bound">h</a> <a id="6800" href="Ledger.Ledger.Properties.html#5610" class="Bound">st</a><a id="6802" class="Symbol">)</a> <a id="6804" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="6812" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6820" href="Ledger.Ledger.Properties.html#5746" class="Function">utxoSt&#39;</a> <a id="6828" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6830" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6838" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a>
        <a id="6857" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="6862" href="Ledger.Ledger.Properties.html#5400" class="Function">LEDGER-pov</a>  <a id="6874" class="Symbol">{</a><a id="6875" class="Argument">s</a> <a id="6877" class="Symbol">=</a> <a id="6879" href="Ledger.Ledger.Properties.html#6879" class="Bound">s</a><a id="6880" class="Symbol">}</a>
              <a id="6896" class="Symbol">{</a><a id="6897" class="Argument">s&#39;</a> <a id="6900" class="Symbol">=</a> <a id="6902" href="Ledger.Ledger.Properties.html#6902" class="Bound">s&#39;</a><a id="6904" class="Symbol">}</a>
              <a id="6920" href="Ledger.Ledger.Properties.html#6920" class="Bound">h</a> <a id="6922" class="Symbol">(</a><a id="6923" href="Ledger.Ledger.html#2595" class="InductiveConstructor">LEDGER-I</a> <a id="6932" class="Symbol">{</a><a id="6933" class="Argument">utxoSt&#39;</a> <a id="6941" class="Symbol">=</a> <a id="6943" href="Ledger.Ledger.Properties.html#6943" class="Bound">utxoSt&#39;&#39;</a><a id="6951" class="Symbol">}</a> <a id="6953" class="Symbol">(</a><a id="6954" href="Ledger.Ledger.Properties.html#6954" class="Bound">invalid</a> <a id="6962" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6964" href="Ledger.Utxow.html#5380" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="6975" href="Ledger.Ledger.Properties.html#6975" class="Bound">st</a><a id="6977" class="Symbol">))</a> <a id="6980" class="Symbol">=</a>
    <a id="6986" class="Keyword">let</a>
        <a id="6998" class="Keyword">open</a> <a id="7003" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="7010" href="Ledger.Ledger.Properties.html#6879" class="Bound">s</a>
        <a id="7020" class="Keyword">open</a> <a id="7025" href="Ledger.Certs.html#2825" class="Module">CertState</a> <a id="7035" href="Ledger.Ledger.html#827" class="Function">certState</a>
        <a id="7053" class="Keyword">open</a> <a id="7058" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="7065" href="Ledger.Ledger.Properties.html#6902" class="Bound">s&#39;</a> <a id="7068" class="Keyword">renaming</a> <a id="7077" class="Symbol">(</a><a id="7078" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="7085" class="Symbol">to</a> <a id="7088" class="Field">utxoSt&#39;</a><a id="7095" class="Symbol">;</a> <a id="7097" href="Ledger.Ledger.html#801" class="Field">govSt</a> <a id="7103" class="Symbol">to</a> <a id="7106" class="Field">govSt&#39;</a><a id="7112" class="Symbol">;</a> <a id="7114" href="Ledger.Ledger.html#827" class="Field">certState</a> <a id="7124" class="Symbol">to</a> <a id="7127" class="Field">certState&#39;</a><a id="7137" class="Symbol">)</a>
        <a id="7147" class="Keyword">open</a> <a id="7152" href="Ledger.Utxo.html#2516" class="Module">UTxOState</a> <a id="7162" href="Ledger.Ledger.html#774" class="Function">utxoSt</a>
        <a id="7177" class="Keyword">open</a> <a id="7182" href="Ledger.Utxo.html#2516" class="Module">UTxOState</a> <a id="7192" href="Ledger.Ledger.Properties.html#7088" class="Function">utxoSt&#39;</a> <a id="7200" class="Keyword">renaming</a> <a id="7209" class="Symbol">(</a><a id="7210" href="Ledger.Utxo.html#2580" class="Field">utxo</a> <a id="7215" class="Symbol">to</a> <a id="7218" class="Field">utxo&#39;</a><a id="7223" class="Symbol">;</a> <a id="7225" href="Ledger.Utxo.html#2602" class="Field">fees</a> <a id="7230" class="Symbol">to</a> <a id="7233" class="Field">fees&#39;</a>
                                        <a id="7279" class="Symbol">;</a> <a id="7281" href="Ledger.Utxo.html#2624" class="Field">deposits</a> <a id="7290" class="Symbol">to</a> <a id="7293" class="Field">deposits&#39;</a><a id="7302" class="Symbol">;</a> <a id="7304" href="Ledger.Utxo.html#2650" class="Field">donations</a> <a id="7314" class="Symbol">to</a> <a id="7317" class="Field">donations&#39;</a><a id="7327" class="Symbol">)</a> <a id="7329" class="Keyword">in</a>
    <a id="7336" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="7341" class="Symbol">(</a><a id="7342" href="Class.HasAdd.Core.html#136" class="Field Operator">_+</a> <a id="7345" href="Ledger.Certs.html#3131" class="Function">rewardsBalance</a> <a id="7360" href="Ledger.Certs.html#2888" class="Function">dState</a><a id="7366" class="Symbol">)</a>
    <a id="7372" class="Symbol">(</a> <a id="7374" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="7386" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7394" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7396" href="Ledger.Utxo.html#2580" class="Function">utxo</a> <a id="7401" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7403" href="Ledger.Utxo.html#2602" class="Function">fees</a> <a id="7408" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7410" href="Ledger.Utxo.html#2624" class="Function">deposits</a> <a id="7419" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7421" href="Ledger.Utxo.html#2650" class="Function">donations</a> <a id="7431" href="Class.To.html#102" class="Field Operator">⟧</a>
        <a id="7441" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="7445" href="Data.Nat.Properties.html#15269" class="Function">+-identityʳ</a> <a id="7457" class="Symbol">(</a><a id="7458" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7466" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7468" href="Ledger.Utxo.html#2580" class="Function">utxo</a> <a id="7473" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7475" href="Ledger.Utxo.html#2602" class="Function">fees</a> <a id="7480" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7482" href="Ledger.Utxo.html#2624" class="Function">deposits</a> <a id="7491" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7493" href="Ledger.Utxo.html#2650" class="Function">donations</a> <a id="7503" href="Class.To.html#102" class="Field Operator">⟧</a><a id="7504" class="Symbol">)</a> <a id="7506" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="7514" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7522" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7524" href="Ledger.Utxo.html#2580" class="Function">utxo</a> <a id="7529" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7531" href="Ledger.Utxo.html#2602" class="Function">fees</a> <a id="7536" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7538" href="Ledger.Utxo.html#2624" class="Function">deposits</a> <a id="7547" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7549" href="Ledger.Utxo.html#2650" class="Function">donations</a> <a id="7559" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7561" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="7563" class="Number">0</a>
        <a id="7573" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="7577" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="7582" class="Symbol">(λ</a> <a id="7585" href="Ledger.Ledger.Properties.html#7585" class="Bound">x</a> <a id="7587" class="Symbol">→</a> <a id="7589" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7597" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7599" href="Ledger.Utxo.html#2580" class="Function">utxo</a> <a id="7604" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7606" href="Ledger.Utxo.html#2602" class="Function">fees</a> <a id="7611" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7613" href="Ledger.Utxo.html#2624" class="Function">deposits</a> <a id="7622" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7624" href="Ledger.Utxo.html#2650" class="Function">donations</a> <a id="7634" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7636" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="7638" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a><a id="7639" class="Symbol">(</a><a id="7640" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7648" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="7656" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7658" href="Ledger.Ledger.Properties.html#7585" class="Bound">x</a><a id="7659" class="Symbol">))</a> <a id="7662" href="Ledger.Ledger.Properties.html#6954" class="Bound">invalid</a> <a id="7670" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="7678" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7686" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7688" href="Ledger.Utxo.html#2580" class="Function">utxo</a> <a id="7693" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7695" href="Ledger.Utxo.html#2602" class="Function">fees</a> <a id="7700" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7702" href="Ledger.Utxo.html#2624" class="Function">deposits</a> <a id="7711" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7713" href="Ledger.Utxo.html#2650" class="Function">donations</a> <a id="7723" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7725" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="7727" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a><a id="7728" class="Symbol">(</a><a id="7729" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7737" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="7745" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7747" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="7754" class="Symbol">)</a> <a id="7756" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="7759" href="Ledger.Utxo.Properties.html#26346" class="Function">pov</a> <a id="7763" href="Ledger.Ledger.Properties.html#6920" class="Bound">h</a> <a id="7765" href="Ledger.Ledger.Properties.html#6975" class="Bound">st</a> <a id="7768" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="7776" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7784" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7786" href="Ledger.Ledger.Properties.html#7218" class="Function">utxo&#39;</a> <a id="7792" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7794" href="Ledger.Ledger.Properties.html#7233" class="Function">fees&#39;</a> <a id="7800" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7802" href="Ledger.Ledger.Properties.html#7293" class="Function">deposits&#39;</a> <a id="7812" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7814" href="Ledger.Ledger.Properties.html#7317" class="Function">donations&#39;</a> <a id="7825" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7827" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="7829" class="Symbol">)</a>
    <a id="7835" class="Keyword">where</a> <a id="7841" class="Keyword">open</a> <a id="7846" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>


<a id="7860" class="Comment">-- ** Proof that the set equality `govDepsMatch` (below) is a LEDGER invariant.</a>

<a id="7941" class="Comment">-- Mapping a list of `GovActionID × GovActionState`s to a list of</a>
<a id="8007" class="Comment">-- `DepositPurpose`s is so common, we give it a name `dpMap`;</a>
<a id="8069" class="Comment">-- it&#39;s equivalent to `map (λ (id , _) → GovActionDeposit id)`.</a>
<a id="dpMap"></a><a id="8133" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="8139" class="Symbol">:</a> <a id="8141" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="8150" class="Symbol">→</a> <a id="8152" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8157" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a>
<a id="8172" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="8178" class="Symbol">=</a> <a id="8180" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="8184" class="Symbol">(</a><a id="8185" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="8202" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="8204" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="8209" class="Symbol">)</a>

<a id="isGADeposit"></a><a id="8212" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="8224" class="Symbol">:</a> <a id="8226" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="8241" class="Symbol">→</a> <a id="8243" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8248" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="8260" href="Ledger.Ledger.Properties.html#8260" class="Bound">dp</a> <a id="8263" class="Symbol">=</a> <a id="8265" href="Ledger.Ledger.Properties.html#8298" class="Function">isGADepositᵇ</a> <a id="8278" href="Ledger.Ledger.Properties.html#8260" class="Bound">dp</a> <a id="8281" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8283" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="8290" class="Keyword">where</a>
  <a id="8298" href="Ledger.Ledger.Properties.html#8298" class="Function">isGADepositᵇ</a> <a id="8311" class="Symbol">:</a> <a id="8313" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="8328" class="Symbol">→</a> <a id="8330" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="8337" href="Ledger.Ledger.Properties.html#8298" class="Function">isGADepositᵇ</a> <a id="8350" class="Symbol">(</a><a id="8351" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="8368" class="Symbol">_)</a> <a id="8371" class="Symbol">=</a> <a id="8373" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="8380" href="Ledger.Ledger.Properties.html#8298" class="CatchallClause Function">isGADepositᵇ</a><a id="8392" class="CatchallClause"> </a><a id="8393" class="CatchallClause Symbol">_</a>                    <a id="8414" class="Symbol">=</a> <a id="8416" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="govDepsMatch"></a><a id="8423" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="8436" class="Symbol">:</a> <a id="8438" href="Ledger.Ledger.html#715" class="Record">LState</a> <a id="8445" class="Symbol">→</a> <a id="8447" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8452" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="8465" href="Ledger.Ledger.Properties.html#8465" class="Bound">ledgerSt</a> <a id="8474" class="Symbol">=</a>
  <a id="8478" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8486" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="8498" class="Symbol">(</a><a id="8499" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8503" class="Symbol">(</a><a id="8504" href="Ledger.Utxo.html#2624" class="Field">UTxOState.deposits</a> <a id="8523" href="Ledger.Ledger.html#774" class="Field">utxoSt</a><a id="8529" class="Symbol">))</a> <a id="8532" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="8535" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="8544" class="Symbol">(</a><a id="8545" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="8551" href="Ledger.Ledger.html#801" class="Field">govSt</a><a id="8556" class="Symbol">)</a>
  <a id="8560" class="Keyword">where</a>
    <a id="8570" class="Keyword">open</a> <a id="8575" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="8582" href="Ledger.Ledger.Properties.html#8465" class="Bound">ledgerSt</a>

<a id="8592" class="Keyword">module</a> <a id="≡ᵉ"></a><a id="8599" href="Ledger.Ledger.Properties.html#8599" class="Module">≡ᵉ</a> <a id="8602" class="Symbol">=</a> <a id="8604" href="Relation.Binary.Structures.html#1550" class="Module">IsEquivalence</a> <a id="8618" class="Symbol">(</a><a id="8619" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a> <a id="8636" class="Symbol">{</a><a id="8637" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a><a id="8651" class="Symbol">})</a>
<a id="8654" class="Keyword">pattern</a> <a id="UTXOW-UTXOS"></a><a id="8662" href="Ledger.Ledger.Properties.html#8662" class="InductiveConstructor">UTXOW-UTXOS</a> <a id="8674" href="Ledger.Ledger.Properties.html#8744" class="Bound">x</a> <a id="8676" class="Symbol">=</a> <a id="8678" href="Ledger.Utxow.html#5380" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="8689" class="Symbol">(</a><a id="8690" href="Ledger.Utxo.html#14895" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="8706" class="Symbol">_</a> <a id="8708" class="Symbol">_</a> <a id="8710" class="Symbol">_</a> <a id="8712" class="Symbol">_</a> <a id="8714" class="Symbol">_</a> <a id="8716" class="Symbol">_</a> <a id="8718" class="Symbol">_</a> <a id="8720" class="Symbol">_</a> <a id="8722" class="Symbol">_</a> <a id="8724" class="Symbol">_</a> <a id="8726" class="Symbol">_</a> <a id="8728" class="Symbol">_</a> <a id="8730" class="Symbol">_</a> <a id="8732" class="Symbol">_</a> <a id="8734" class="Symbol">_</a> <a id="8736" class="Symbol">_</a> <a id="8738" class="Symbol">_</a> <a id="8740" class="Symbol">_</a> <a id="8742" class="Symbol">_</a> <a id="8744" href="Ledger.Ledger.Properties.html#8744" class="Bound">x</a><a id="8745" class="Symbol">)</a>
<a id="8747" class="Keyword">open</a> <a id="8752" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="filterGA"></a><a id="8765" href="Ledger.Ledger.Properties.html#8765" class="Function">filterGA</a> <a id="8774" class="Symbol">:</a> <a id="8776" class="Symbol">∀</a> <a id="8778" href="Ledger.Ledger.Properties.html#8778" class="Bound">txid</a> <a id="8783" href="Ledger.Ledger.Properties.html#8783" class="Bound">n</a> <a id="8785" class="Symbol">→</a> <a id="8787" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8795" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="8807" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8809" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="8826" class="Symbol">(</a><a id="8827" href="Ledger.Ledger.Properties.html#8778" class="Bound">txid</a> <a id="8832" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8834" href="Ledger.Ledger.Properties.html#8783" class="Bound">n</a><a id="8835" class="Symbol">)</a> <a id="8837" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="8839" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="8842" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8844" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="8861" class="Symbol">(</a><a id="8862" href="Ledger.Ledger.Properties.html#8778" class="Bound">txid</a> <a id="8867" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8869" href="Ledger.Ledger.Properties.html#8783" class="Bound">n</a><a id="8870" class="Symbol">)</a> <a id="8872" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="8874" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8880" class="Symbol">(</a><a id="8881" href="Ledger.Ledger.Properties.html#8765" class="Function">filterGA</a> <a id="8890" href="Ledger.Ledger.Properties.html#8890" class="Bound">txid</a> <a id="8895" href="Ledger.Ledger.Properties.html#8895" class="Bound">n</a><a id="8896" class="Symbol">)</a> <a id="8898" class="Symbol">{</a><a id="8899" href="Ledger.Ledger.Properties.html#8899" class="Bound">a</a><a id="8900" class="Symbol">}</a> <a id="8902" href="Ledger.Ledger.Properties.html#8902" class="Bound">x</a> <a id="8904" class="Symbol">=</a> <a id="8906" class="Symbol">(</a><a id="8907" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="8913" class="Symbol">(</a><a id="8914" href="Function.Bundles.html#4834" class="Field">from</a> <a id="8919" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="8928" href="Ledger.Ledger.Properties.html#8902" class="Bound">x</a><a id="8929" class="Symbol">))</a> <a id="8932" class="Keyword">where</a> <a id="8938" class="Keyword">open</a> <a id="8943" href="Function.Bundles.html#4752" class="Module">Equivalence</a>
<a id="8955" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="8961" class="Symbol">(</a><a id="8962" href="Ledger.Ledger.Properties.html#8765" class="Function">filterGA</a> <a id="8971" href="Ledger.Ledger.Properties.html#8971" class="Bound">txid</a> <a id="8976" href="Ledger.Ledger.Properties.html#8976" class="Bound">n</a><a id="8977" class="Symbol">)</a> <a id="8979" class="Symbol">{</a><a id="8980" href="Ledger.Ledger.Properties.html#8980" class="Bound">a</a><a id="8981" class="Symbol">}</a> <a id="8983" href="Ledger.Ledger.Properties.html#8983" class="Bound">x</a> <a id="8985" class="Symbol">=</a> <a id="8987" href="Function.Bundles.html#4810" class="Field">to</a> <a id="8990" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="8999" class="Symbol">(</a><a id="9000" href="Ledger.Ledger.Properties.html#9038" class="Function">ξ</a> <a id="9002" class="Symbol">(</a><a id="9003" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9008" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="9020" href="Ledger.Ledger.Properties.html#8983" class="Bound">x</a><a id="9021" class="Symbol">)</a> <a id="9023" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9025" href="Ledger.Ledger.Properties.html#8983" class="Bound">x</a><a id="9026" class="Symbol">)</a>
  <a id="9030" class="Keyword">where</a>
  <a id="9038" href="Ledger.Ledger.Properties.html#9038" class="Function">ξ</a> <a id="9040" class="Symbol">:</a> <a id="9042" href="Ledger.Ledger.Properties.html#8980" class="Bound">a</a> <a id="9044" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9046" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="9063" class="Symbol">(</a><a id="9064" href="Ledger.Ledger.Properties.html#8971" class="Bound">txid</a> <a id="9069" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9071" href="Ledger.Ledger.Properties.html#8976" class="Bound">n</a><a id="9072" class="Symbol">)</a> <a id="9074" class="Symbol">→</a> <a id="9076" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="9088" href="Ledger.Ledger.Properties.html#8980" class="Bound">a</a>
  <a id="9092" href="Ledger.Ledger.Properties.html#9038" class="Function">ξ</a> <a id="9094" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9099" class="Symbol">=</a> <a id="9101" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="9107" class="Keyword">module</a> <a id="LEDGER-PROPS"></a><a id="9114" href="Ledger.Ledger.Properties.html#9114" class="Module">LEDGER-PROPS</a> <a id="9127" class="Symbol">(</a><a id="9128" href="Ledger.Ledger.Properties.html#9128" class="Bound">tx</a> <a id="9131" class="Symbol">:</a> <a id="9133" href="Ledger.Transaction.html#3538" class="Record">Tx</a><a id="9135" class="Symbol">)</a> <a id="9137" class="Symbol">(</a><a id="9138" href="Ledger.Ledger.Properties.html#9138" class="Bound">Γ</a> <a id="9140" class="Symbol">:</a> <a id="9142" href="Ledger.Ledger.html#545" class="Record">LEnv</a><a id="9146" class="Symbol">)</a> <a id="9148" class="Symbol">(</a><a id="9149" href="Ledger.Ledger.Properties.html#9149" class="Bound">s</a> <a id="9151" class="Symbol">:</a> <a id="9153" href="Ledger.Ledger.html#715" class="Record">LState</a><a id="9159" class="Symbol">)</a> <a id="9161" class="Keyword">where</a>
  <a id="9169" class="Keyword">open</a> <a id="9174" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="9177" href="Ledger.Ledger.Properties.html#9128" class="Bound">tx</a> <a id="9180" class="Keyword">renaming</a> <a id="9189" class="Symbol">(</a><a id="9190" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="9195" class="Symbol">to</a> <a id="9198" class="Field">txb</a><a id="9201" class="Symbol">);</a> <a id="9204" class="Keyword">open</a> <a id="9209" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="9216" href="Ledger.Ledger.Properties.html#9198" class="Function">txb</a>
  <a id="9222" class="Keyword">open</a> <a id="9227" href="Ledger.Ledger.html#545" class="Module">LEnv</a> <a id="9232" href="Ledger.Ledger.Properties.html#9138" class="Bound">Γ</a> <a id="9234" class="Keyword">renaming</a> <a id="9243" class="Symbol">(</a><a id="9244" href="Ledger.Ledger.html#633" class="Field">pparams</a> <a id="9252" class="Symbol">to</a> <a id="9255" class="Field">pp</a><a id="9257" class="Symbol">)</a>
  <a id="9261" class="Keyword">open</a> <a id="9266" href="Ledger.PParams.html#1443" class="Module">PParams</a> <a id="9274" href="Ledger.Ledger.Properties.html#9255" class="Function">pp</a> <a id="9277" class="Keyword">using</a> <a id="9283" class="Symbol">(</a><a id="9284" href="Ledger.PParams.html#3109" class="Field">govActionDeposit</a><a id="9300" class="Symbol">)</a>
  <a id="9304" class="Keyword">open</a> <a id="9309" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="9316" href="Ledger.Ledger.Properties.html#9149" class="Bound">s</a>
  <a id="9320" class="Keyword">open</a> <a id="9325" href="Ledger.Certs.html#2825" class="Module">CertState</a> <a id="9335" href="Ledger.Ledger.html#827" class="Field">certState</a>
  <a id="9347" class="Keyword">open</a> <a id="9352" href="Ledger.Certs.html#2393" class="Module">DState</a> <a id="9359" href="Ledger.Certs.html#2888" class="Function">dState</a>

  <a id="9369" class="Comment">-- initial utxo deposits</a>
  <a id="LEDGER-PROPS.utxoDeps"></a><a id="9396" href="Ledger.Ledger.Properties.html#9396" class="Function">utxoDeps</a> <a id="9405" class="Symbol">:</a> <a id="9407" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="9422" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="9424" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="9431" href="Ledger.Ledger.Properties.html#9396" class="Function">utxoDeps</a> <a id="9440" class="Symbol">=</a> <a id="9442" href="Ledger.Utxo.html#2624" class="Field">UTxOState.deposits</a> <a id="9461" class="Symbol">(</a><a id="9462" href="Ledger.Ledger.html#774" class="Field">LState.utxoSt</a> <a id="9476" href="Ledger.Ledger.Properties.html#9149" class="Bound">s</a><a id="9477" class="Symbol">)</a>

  <a id="9482" class="Comment">-- GovState definitions and lemmas --</a>
  <a id="LEDGER-PROPS.mkAction"></a><a id="9522" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="9531" class="Symbol">:</a> <a id="9533" href="Ledger.GovernanceActions.html#1883" class="Record">GovProposal</a> <a id="9545" class="Symbol">→</a> <a id="9547" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="9549" class="Symbol">→</a> <a id="9551" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="9563" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9565" href="Ledger.GovernanceActions.html#2096" class="Record">GovActionState</a>
  <a id="9582" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="9591" href="Ledger.Ledger.Properties.html#9591" class="Bound">p</a> <a id="9593" href="Ledger.Ledger.Properties.html#9593" class="Bound">n</a> <a id="9595" class="Symbol">=</a> <a id="9597" class="Keyword">let</a> <a id="9601" class="Keyword">open</a> <a id="9606" href="Ledger.GovernanceActions.html#1883" class="Module">GovProposal</a> <a id="9618" href="Ledger.Ledger.Properties.html#9591" class="Bound">p</a> <a id="9620" class="Keyword">in</a>
    <a id="9627" href="Ledger.Gov.html#2969" class="Function">mkGovStatePair</a>
      <a id="9648" class="Symbol">(</a><a id="9649" href="Ledger.PParams.html#3067" class="Field">PParams.govActionLifetime</a> <a id="9675" href="Ledger.Ledger.Properties.html#9255" class="Function">pp</a> <a id="9678" href="Ledger.Types.Epoch.html#832" class="Function Operator">+ᵉ</a> <a id="9681" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a> <a id="9687" href="Ledger.Ledger.html#575" class="Function">slot</a><a id="9691" class="Symbol">)</a>
      <a id="9699" class="Symbol">(</a><a id="9700" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="9705" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9707" href="Ledger.Ledger.Properties.html#9593" class="Bound">n</a><a id="9708" class="Symbol">)</a> <a id="9710" href="Ledger.GovernanceActions.html#2041" class="Function">returnAddr</a> <a id="9721" href="Ledger.GovernanceActions.html#1920" class="Function">action</a> <a id="9728" href="Ledger.GovernanceActions.html#1948" class="Function">prevAction</a>

  <a id="9742" class="Comment">-- update GovState with a proposal</a>
  <a id="LEDGER-PROPS.propUpdate"></a><a id="9779" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="9790" class="Symbol">:</a> <a id="9792" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="9801" class="Symbol">→</a> <a id="9803" href="Ledger.GovernanceActions.html#1883" class="Record">GovProposal</a> <a id="9815" class="Symbol">→</a> <a id="9817" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="9819" class="Symbol">→</a> <a id="9821" href="Ledger.Gov.html#1218" class="Function">GovState</a>
  <a id="9832" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="9843" href="Ledger.Ledger.Properties.html#9843" class="Bound">s</a> <a id="9845" href="Ledger.Ledger.Properties.html#9845" class="Bound">p</a> <a id="9847" href="Ledger.Ledger.Properties.html#9847" class="Bound">n</a> <a id="9849" class="Symbol">=</a> <a id="9851" href="Ledger.Gov.html#2607" class="Function">insertGovAction</a> <a id="9867" href="Ledger.Ledger.Properties.html#9843" class="Bound">s</a> <a id="9869" class="Symbol">(</a><a id="9870" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="9879" href="Ledger.Ledger.Properties.html#9845" class="Bound">p</a> <a id="9881" href="Ledger.Ledger.Properties.html#9847" class="Bound">n</a><a id="9882" class="Symbol">)</a>

  <a id="9887" class="Comment">-- update GovState with a vote</a>
  <a id="LEDGER-PROPS.voteUpdate"></a><a id="9920" href="Ledger.Ledger.Properties.html#9920" class="Function">voteUpdate</a> <a id="9931" class="Symbol">:</a> <a id="9933" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="9942" class="Symbol">→</a> <a id="9944" href="Ledger.GovernanceActions.html#1738" class="Record">GovVote</a> <a id="9952" class="Symbol">→</a> <a id="9954" href="Ledger.Gov.html#1218" class="Function">GovState</a>
  <a id="9965" href="Ledger.Ledger.Properties.html#9920" class="Function">voteUpdate</a> <a id="9976" href="Ledger.Ledger.Properties.html#9976" class="Bound">s</a> <a id="9978" href="Ledger.Ledger.Properties.html#9978" class="Bound">v</a> <a id="9980" class="Symbol">=</a> <a id="9982" href="Ledger.Gov.html#3446" class="Function">addVote</a> <a id="9990" href="Ledger.Ledger.Properties.html#9976" class="Bound">s</a> <a id="9992" href="Ledger.GovernanceActions.html#1771" class="Field">gid</a> <a id="9996" href="Ledger.GovernanceActions.html#1801" class="Field">voter</a> <a id="10002" href="Ledger.GovernanceActions.html#1825" class="Field">vote</a>
    <a id="10011" class="Keyword">where</a> <a id="10017" class="Keyword">open</a> <a id="10022" href="Ledger.GovernanceActions.html#1738" class="Module">GovVote</a> <a id="10030" href="Ledger.Ledger.Properties.html#9978" class="Bound">v</a>

  <a id="10035" class="Comment">-- update GovState with a list of votes and proposals</a>
  <a id="LEDGER-PROPS.updateGovStates"></a><a id="10091" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10107" class="Symbol">:</a> <a id="10109" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="10114" class="Symbol">(</a><a id="10115" href="Ledger.GovernanceActions.html#1738" class="Record">GovVote</a> <a id="10123" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="10125" href="Ledger.GovernanceActions.html#1883" class="Record">GovProposal</a><a id="10136" class="Symbol">)</a> <a id="10138" class="Symbol">→</a> <a id="10140" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="10142" class="Symbol">→</a> <a id="10144" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="10153" class="Symbol">→</a> <a id="10155" href="Ledger.Gov.html#1218" class="Function">GovState</a>
  <a id="10166" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10182" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="10185" class="Symbol">_</a> <a id="10187" href="Ledger.Ledger.Properties.html#10187" class="Bound">s</a> <a id="10189" class="Symbol">=</a> <a id="10191" href="Ledger.Ledger.Properties.html#10187" class="Bound">s</a>
  <a id="10195" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10211" class="Symbol">(</a><a id="10212" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="10217" href="Ledger.Ledger.Properties.html#10217" class="Bound">v</a> <a id="10219" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10221" href="Ledger.Ledger.Properties.html#10221" class="Bound">vps</a><a id="10224" class="Symbol">)</a> <a id="10226" href="Ledger.Ledger.Properties.html#10226" class="Bound">k</a> <a id="10228" href="Ledger.Ledger.Properties.html#10228" class="Bound">s</a> <a id="10230" class="Symbol">=</a> <a id="10232" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10248" href="Ledger.Ledger.Properties.html#10221" class="Bound">vps</a> <a id="10252" class="Symbol">(</a><a id="10253" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="10257" href="Ledger.Ledger.Properties.html#10226" class="Bound">k</a><a id="10258" class="Symbol">)</a> <a id="10260" class="Symbol">(</a><a id="10261" href="Ledger.Ledger.Properties.html#9920" class="Function">voteUpdate</a> <a id="10272" href="Ledger.Ledger.Properties.html#10228" class="Bound">s</a> <a id="10274" href="Ledger.Ledger.Properties.html#10217" class="Bound">v</a><a id="10275" class="Symbol">)</a>
  <a id="10279" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10295" class="Symbol">(</a><a id="10296" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="10301" href="Ledger.Ledger.Properties.html#10301" class="Bound">p</a> <a id="10303" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10305" href="Ledger.Ledger.Properties.html#10305" class="Bound">vps</a><a id="10308" class="Symbol">)</a> <a id="10310" href="Ledger.Ledger.Properties.html#10310" class="Bound">k</a> <a id="10312" href="Ledger.Ledger.Properties.html#10312" class="Bound">s</a> <a id="10314" class="Symbol">=</a> <a id="10316" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10332" href="Ledger.Ledger.Properties.html#10305" class="Bound">vps</a> <a id="10336" class="Symbol">(</a><a id="10337" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="10341" href="Ledger.Ledger.Properties.html#10310" class="Bound">k</a><a id="10342" class="Symbol">)</a> <a id="10344" class="Symbol">(</a><a id="10345" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="10356" href="Ledger.Ledger.Properties.html#10312" class="Bound">s</a> <a id="10358" href="Ledger.Ledger.Properties.html#10301" class="Bound">p</a> <a id="10360" href="Ledger.Ledger.Properties.html#10310" class="Bound">k</a><a id="10361" class="Symbol">)</a>

  <a id="10366" class="Comment">-- updateGovStates faithfully represents a step of the LEDGER sts</a>
  <a id="LEDGER-PROPS.STS→GovSt≡"></a><a id="10434" href="Ledger.Ledger.Properties.html#10434" class="Function">STS→GovSt≡</a> <a id="10445" class="Symbol">:</a> <a id="10447" class="Symbol">∀</a> <a id="10449" class="Symbol">{</a><a id="10450" href="Ledger.Ledger.Properties.html#10450" class="Bound">s&#39;</a> <a id="10453" class="Symbol">:</a> <a id="10455" href="Ledger.Ledger.html#715" class="Record">LState</a><a id="10461" class="Symbol">}</a> <a id="10463" class="Symbol">→</a> <a id="10465" href="Ledger.Ledger.Properties.html#9138" class="Bound">Γ</a> <a id="10467" href="Ledger.Ledger.html#1873" class="Datatype Operator">⊢</a> <a id="10469" href="Ledger.Ledger.Properties.html#9149" class="Bound">s</a> <a id="10471" href="Ledger.Ledger.html#1873" class="Datatype Operator">⇀⦇</a> <a id="10474" href="Ledger.Ledger.Properties.html#9128" class="Bound">tx</a> <a id="10477" href="Ledger.Ledger.html#1873" class="Datatype Operator">,LEDGER⦈</a> <a id="10486" href="Ledger.Ledger.Properties.html#10450" class="Bound">s&#39;</a>
               <a id="10504" class="Symbol">→</a> <a id="10506" href="Ledger.Transaction.html#3623" class="Function">isValid</a> <a id="10514" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10516" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="10521" class="Symbol">→</a> <a id="10523" href="Ledger.Ledger.html#801" class="Field">LState.govSt</a> <a id="10536" href="Ledger.Ledger.Properties.html#10450" class="Bound">s&#39;</a> <a id="10539" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10541" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10557" class="Symbol">(</a><a id="10558" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="10564" href="Ledger.Ledger.Properties.html#9198" class="Function">txb</a><a id="10567" class="Symbol">)</a> <a id="10569" class="Number">0</a> <a id="10571" class="Symbol">(</a><a id="10572" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="10590" class="Symbol">(</a><a id="10591" href="Ledger.Ledger.html#827" class="Field">LState.certState</a> <a id="10608" href="Ledger.Ledger.Properties.html#10450" class="Bound">s&#39;</a><a id="10610" class="Symbol">)</a> <a id="10612" class="Symbol">(</a><a id="10613" href="Ledger.Ledger.html#801" class="Field">LState.govSt</a> <a id="10626" href="Ledger.Ledger.Properties.html#9149" class="Bound">s</a><a id="10627" class="Symbol">))</a>
  <a id="10632" class="Comment">-- STS→GovSt≡ (LEDGER-V ( _ , _ , _ , x )) refl = STS→updateGovSt≡ (txgov txb) 0 x</a>
  <a id="10717" href="Ledger.Ledger.Properties.html#10434" class="Function">STS→GovSt≡</a> <a id="10728" class="Symbol">(</a><a id="10729" href="Ledger.Ledger.html#1935" class="InductiveConstructor">LEDGER-V</a> <a id="10738" href="Ledger.Ledger.Properties.html#10738" class="Bound">x</a><a id="10739" class="Symbol">)</a> <a id="10741" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="10746" class="Symbol">=</a> <a id="10748" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="10765" class="Symbol">(</a><a id="10766" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="10772" href="Ledger.Ledger.Properties.html#9198" class="Function">txb</a><a id="10775" class="Symbol">)</a> <a id="10777" class="Number">0</a> <a id="10779" class="Symbol">(</a><a id="10780" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10786" class="Symbol">(</a><a id="10787" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10793" class="Symbol">(</a><a id="10794" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10800" href="Ledger.Ledger.Properties.html#10738" class="Bound">x</a><a id="10801" class="Symbol">)))</a>
    <a id="10809" class="Keyword">where</a>
    <a id="10819" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="10836" class="Symbol">:</a> <a id="10838" class="Symbol">(</a><a id="10839" href="Ledger.Ledger.Properties.html#10839" class="Bound">vps</a> <a id="10843" class="Symbol">:</a> <a id="10845" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="10850" class="Symbol">(</a><a id="10851" href="Ledger.GovernanceActions.html#1738" class="Record">GovVote</a> <a id="10859" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="10861" href="Ledger.GovernanceActions.html#1883" class="Record">GovProposal</a><a id="10872" class="Symbol">))</a> <a id="10875" class="Symbol">(</a><a id="10876" href="Ledger.Ledger.Properties.html#10876" class="Bound">k</a> <a id="10878" class="Symbol">:</a> <a id="10880" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="10881" class="Symbol">)</a> <a id="10883" class="Symbol">{</a><a id="10884" href="Ledger.Ledger.Properties.html#10884" class="Bound">certSt</a> <a id="10891" class="Symbol">:</a> <a id="10893" href="Ledger.Certs.html#2825" class="Record">CertState</a><a id="10902" class="Symbol">}</a> <a id="10904" class="Symbol">{</a><a id="10905" href="Ledger.Ledger.Properties.html#10905" class="Bound">govSt</a> <a id="10911" href="Ledger.Ledger.Properties.html#10911" class="Bound">govSt&#39;</a> <a id="10918" class="Symbol">:</a> <a id="10920" href="Ledger.Gov.html#1218" class="Function">GovState</a><a id="10928" class="Symbol">}</a>
      <a id="10936" class="Symbol">→</a> <a id="10938" class="Symbol">(</a><a id="10939" href="Interface.STS.html#1457" class="Datatype Operator">_⊢_⇀⟦_⟧ᵢ*&#39;_</a> <a id="10951" class="Symbol">{</a><a id="10952" class="Argument">_⊢_⇀⟦_⟧ᵇ_</a> <a id="10962" class="Symbol">=</a> <a id="10964" href="Interface.STS.html#1903" class="Datatype">IdSTS</a><a id="10969" class="Symbol">}{</a><a id="10971" href="Ledger.Gov.html#4406" class="Datatype Operator">_⊢_⇀⦇_,GOV⦈_</a><a id="10983" class="Symbol">}</a> <a id="10985" class="Symbol">(</a><a id="10986" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="10988" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="10993" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10995" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a> <a id="11001" href="Ledger.Ledger.html#575" class="Function">slot</a> <a id="11006" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11008" href="Ledger.Ledger.Properties.html#9255" class="Function">pp</a> <a id="11011" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11013" href="Ledger.Ledger.html#598" class="Function">ppolicy</a> <a id="11021" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11023" href="Ledger.Ledger.html#659" class="Function">enactState</a> <a id="11034" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11036" href="Ledger.Ledger.Properties.html#10884" class="Bound">certSt</a> <a id="11043" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11045" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11049" href="Ledger.Certs.html#2531" class="Function">rewards</a> <a id="11057" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="11059" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11061" href="Ledger.Ledger.Properties.html#10876" class="Bound">k</a><a id="11062" class="Symbol">)</a> <a id="11064" href="Ledger.Ledger.Properties.html#10905" class="Bound">govSt</a> <a id="11070" href="Ledger.Ledger.Properties.html#10839" class="Bound">vps</a> <a id="11074" href="Ledger.Ledger.Properties.html#10911" class="Bound">govSt&#39;</a><a id="11080" class="Symbol">)</a>
      <a id="11088" class="Symbol">→</a> <a id="11090" href="Ledger.Ledger.Properties.html#10911" class="Bound">govSt&#39;</a> <a id="11097" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11099" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="11115" href="Ledger.Ledger.Properties.html#10839" class="Bound">vps</a> <a id="11119" href="Ledger.Ledger.Properties.html#10876" class="Bound">k</a> <a id="11121" href="Ledger.Ledger.Properties.html#10905" class="Bound">govSt</a>
    <a id="11131" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="11148" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11151" class="Symbol">_</a> <a id="11153" class="Symbol">(</a><a id="11154" href="Interface.STS.html#1514" class="InductiveConstructor">BS-base</a> <a id="11162" href="Interface.STS.html#1946" class="InductiveConstructor">Id-nop</a><a id="11168" class="Symbol">)</a> <a id="11170" class="Symbol">=</a> <a id="11172" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="11181" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="11198" class="Symbol">(</a><a id="11199" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="11204" href="Ledger.Ledger.Properties.html#11204" class="Bound">v</a> <a id="11206" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11208" href="Ledger.Ledger.Properties.html#11208" class="Bound">vps</a><a id="11211" class="Symbol">)</a> <a id="11213" href="Ledger.Ledger.Properties.html#11213" class="Bound">k</a> <a id="11215" class="Symbol">(</a><a id="11216" href="Interface.STS.html#1630" class="InductiveConstructor">BS-ind</a> <a id="11223" class="Symbol">(</a><a id="11224" href="Ledger.Gov.html#11630" class="InductiveConstructor">GOV-Vote</a> <a id="11233" href="Ledger.Ledger.Properties.html#11233" class="Bound">x</a><a id="11234" class="Symbol">)</a> <a id="11236" href="Ledger.Ledger.Properties.html#11236" class="Bound">h</a><a id="11237" class="Symbol">)</a>
      <a id="11245" class="Symbol">=</a> <a id="11247" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="11264" href="Ledger.Ledger.Properties.html#11208" class="Bound">vps</a> <a id="11268" class="Symbol">(</a><a id="11269" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="11273" href="Ledger.Ledger.Properties.html#11213" class="Bound">k</a><a id="11274" class="Symbol">)</a> <a id="11276" href="Ledger.Ledger.Properties.html#11236" class="Bound">h</a>
    <a id="11282" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="11299" class="Symbol">(</a><a id="11300" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="11305" href="Ledger.Ledger.Properties.html#11305" class="Bound">p</a> <a id="11307" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11309" href="Ledger.Ledger.Properties.html#11309" class="Bound">vps</a><a id="11312" class="Symbol">)</a> <a id="11314" href="Ledger.Ledger.Properties.html#11314" class="Bound">k</a> <a id="11316" class="Symbol">(</a><a id="11317" href="Interface.STS.html#1630" class="InductiveConstructor">BS-ind</a> <a id="11324" class="Symbol">(</a><a id="11325" href="Ledger.Gov.html#11915" class="InductiveConstructor">GOV-Propose</a> <a id="11337" href="Ledger.Ledger.Properties.html#11337" class="Bound">x</a><a id="11338" class="Symbol">)</a> <a id="11340" href="Ledger.Ledger.Properties.html#11340" class="Bound">h</a><a id="11341" class="Symbol">)</a> <a id="11343" class="Symbol">=</a> <a id="11345" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="11362" href="Ledger.Ledger.Properties.html#11309" class="Bound">vps</a> <a id="11366" class="Symbol">(</a><a id="11367" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="11371" href="Ledger.Ledger.Properties.html#11314" class="Bound">k</a><a id="11372" class="Symbol">)</a> <a id="11374" href="Ledger.Ledger.Properties.html#11340" class="Bound">h</a>

  <a id="11379" class="Keyword">opaque</a>
    <a id="11390" class="Keyword">unfolding</a> <a id="11400" href="Ledger.Gov.html#3446" class="Function">addVote</a>

    <a id="LEDGER-PROPS.dpMap-rmOrphanDRepVotes"></a><a id="11413" href="Ledger.Ledger.Properties.html#11413" class="Function">dpMap-rmOrphanDRepVotes</a> <a id="11437" class="Symbol">:</a> <a id="11439" class="Symbol">∀</a> <a id="11441" href="Ledger.Ledger.Properties.html#11441" class="Bound">certState</a> <a id="11451" href="Ledger.Ledger.Properties.html#11451" class="Bound">govSt</a> <a id="11457" class="Symbol">→</a> <a id="11459" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="11465" class="Symbol">(</a><a id="11466" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="11484" href="Ledger.Ledger.Properties.html#11441" class="Bound">certState</a> <a id="11494" href="Ledger.Ledger.Properties.html#11451" class="Bound">govSt</a><a id="11499" class="Symbol">)</a> <a id="11501" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11503" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="11509" href="Ledger.Ledger.Properties.html#11451" class="Bound">govSt</a>
    <a id="11519" href="Ledger.Ledger.Properties.html#11413" class="Function">dpMap-rmOrphanDRepVotes</a> <a id="11543" href="Ledger.Ledger.Properties.html#11543" class="Bound">certState</a> <a id="11553" href="Ledger.Ledger.Properties.html#11553" class="Bound">govSt</a> <a id="11559" class="Symbol">=</a> <a id="11561" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="11565" class="Symbol">(</a><a id="11566" href="Class.Functor.Core.html#618" class="Field">fmap-∘</a> <a id="11573" href="Ledger.Ledger.Properties.html#11553" class="Bound">govSt</a><a id="11578" class="Symbol">)</a> <a id="11580" class="Comment">-- map proj₁ ∘ map (map₂ _) ≡ map (proj₁ ∘ map₂ _) ≡ map proj₁</a>

<a id="11644" class="Keyword">module</a> <a id="SetoidProperties"></a><a id="11651" href="Ledger.Ledger.Properties.html#11651" class="Module">SetoidProperties</a> <a id="11668" class="Symbol">(</a><a id="11669" href="Ledger.Ledger.Properties.html#11669" class="Bound">tx</a> <a id="11672" class="Symbol">:</a> <a id="11674" href="Ledger.Transaction.html#3538" class="Record">Tx</a><a id="11676" class="Symbol">)</a> <a id="11678" class="Symbol">(</a><a id="11679" href="Ledger.Ledger.Properties.html#11679" class="Bound">Γ</a> <a id="11681" class="Symbol">:</a> <a id="11683" href="Ledger.Ledger.html#545" class="Record">LEnv</a><a id="11687" class="Symbol">)</a> <a id="11689" class="Symbol">(</a><a id="11690" href="Ledger.Ledger.Properties.html#11690" class="Bound">s</a> <a id="11692" class="Symbol">:</a> <a id="11694" href="Ledger.Ledger.html#715" class="Record">LState</a><a id="11700" class="Symbol">)</a> <a id="11702" class="Keyword">where</a>
  <a id="11710" class="Keyword">open</a> <a id="11715" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="11718" href="Ledger.Ledger.Properties.html#11669" class="Bound">tx</a> <a id="11721" class="Keyword">renaming</a> <a id="11730" class="Symbol">(</a><a id="11731" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="11736" class="Symbol">to</a> <a id="11739" class="Field">txb</a><a id="11742" class="Symbol">);</a> <a id="11745" class="Keyword">open</a> <a id="11750" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="11757" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a>
  <a id="11763" class="Keyword">open</a> <a id="11768" href="Ledger.Ledger.html#545" class="Module">LEnv</a> <a id="11773" href="Ledger.Ledger.Properties.html#11679" class="Bound">Γ</a> <a id="11775" class="Keyword">renaming</a> <a id="11784" class="Symbol">(</a><a id="11785" href="Ledger.Ledger.html#633" class="Field">pparams</a> <a id="11793" class="Symbol">to</a> <a id="11796" class="Field">pp</a><a id="11798" class="Symbol">)</a>
  <a id="11802" class="Keyword">open</a> <a id="11807" href="Ledger.PParams.html#1443" class="Module">PParams</a> <a id="11815" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="11818" class="Keyword">using</a> <a id="11824" class="Symbol">(</a><a id="11825" href="Ledger.PParams.html#3109" class="Field">govActionDeposit</a><a id="11841" class="Symbol">;</a> <a id="11843" href="Ledger.PParams.html#1994" class="Field">poolDeposit</a><a id="11854" class="Symbol">)</a>
  <a id="SetoidProperties.govSt"></a><a id="11858" href="Ledger.Ledger.Properties.html#11858" class="Function">govSt</a> <a id="11864" class="Symbol">:</a> <a id="11866" href="Ledger.Gov.html#1218" class="Function">GovState</a>
  <a id="11877" href="Ledger.Ledger.Properties.html#11858" class="Function">govSt</a> <a id="11883" class="Symbol">=</a> <a id="11885" href="Ledger.Ledger.html#801" class="Field">LState.govSt</a> <a id="11898" href="Ledger.Ledger.Properties.html#11690" class="Bound">s</a>
  <a id="11902" class="Keyword">open</a> <a id="11907" href="Ledger.Ledger.Properties.html#9114" class="Module">LEDGER-PROPS</a> <a id="11920" href="Ledger.Ledger.Properties.html#11669" class="Bound">tx</a> <a id="11923" href="Ledger.Ledger.Properties.html#11679" class="Bound">Γ</a> <a id="11925" href="Ledger.Ledger.Properties.html#11690" class="Bound">s</a> <a id="11927" class="Keyword">using</a> <a id="11933" class="Symbol">(</a><a id="11934" href="Ledger.Ledger.Properties.html#9396" class="Function">utxoDeps</a><a id="11942" class="Symbol">;</a> <a id="11944" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a><a id="11954" class="Symbol">;</a> <a id="11956" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a><a id="11964" class="Symbol">;</a> <a id="11966" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a><a id="11981" class="Symbol">;</a> <a id="11983" href="Ledger.Ledger.Properties.html#10434" class="Function">STS→GovSt≡</a><a id="11993" class="Symbol">;</a> <a id="11995" href="Ledger.Ledger.Properties.html#9920" class="Function">voteUpdate</a><a id="12005" class="Symbol">;</a> <a id="12007" href="Ledger.Ledger.Properties.html#11413" class="Function">dpMap-rmOrphanDRepVotes</a><a id="12030" class="Symbol">)</a>
  <a id="12034" class="Keyword">open</a> <a id="12039" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="12055" class="Symbol">(</a><a id="12056" href="Axiom.Set.Properties.html#3967" class="Function">≡ᵉ-Setoid</a><a id="12065" class="Symbol">{</a><a id="12066" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a><a id="12080" class="Symbol">})</a>

  <a id="SetoidProperties.CredDepIsNotGADep"></a><a id="12086" href="Ledger.Ledger.Properties.html#12086" class="Function">CredDepIsNotGADep</a> <a id="12104" class="Symbol">:</a> <a id="12106" class="Symbol">∀</a> <a id="12108" class="Symbol">{</a><a id="12109" href="Ledger.Ledger.Properties.html#12109" class="Bound">a</a> <a id="12111" href="Ledger.Ledger.Properties.html#12111" class="Bound">c</a><a id="12112" class="Symbol">}</a> <a id="12114" class="Symbol">→</a> <a id="12116" href="Ledger.Ledger.Properties.html#12109" class="Bound">a</a> <a id="12118" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12120" href="Ledger.Certs.html#316" class="InductiveConstructor">CredentialDeposit</a> <a id="12138" href="Ledger.Ledger.Properties.html#12111" class="Bound">c</a> <a id="12140" class="Symbol">→</a> <a id="12142" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12144" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12156" href="Ledger.Ledger.Properties.html#12109" class="Bound">a</a>
  <a id="12160" href="Ledger.Ledger.Properties.html#12086" class="Function">CredDepIsNotGADep</a> <a id="12178" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12183" class="Symbol">()</a>

  <a id="SetoidProperties.PoolDepIsNotGADep"></a><a id="12189" href="Ledger.Ledger.Properties.html#12189" class="Function">PoolDepIsNotGADep</a> <a id="12207" class="Symbol">:</a> <a id="12209" class="Symbol">∀</a> <a id="12211" class="Symbol">{</a><a id="12212" href="Ledger.Ledger.Properties.html#12212" class="Bound">a</a> <a id="12214" href="Ledger.Ledger.Properties.html#12214" class="Bound">c</a><a id="12215" class="Symbol">}</a> <a id="12217" class="Symbol">→</a> <a id="12219" href="Ledger.Ledger.Properties.html#12212" class="Bound">a</a> <a id="12221" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12223" href="Ledger.Certs.html#369" class="InductiveConstructor">PoolDeposit</a> <a id="12235" href="Ledger.Ledger.Properties.html#12214" class="Bound">c</a> <a id="12237" class="Symbol">→</a> <a id="12239" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12241" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12253" href="Ledger.Ledger.Properties.html#12212" class="Bound">a</a>
  <a id="12257" href="Ledger.Ledger.Properties.html#12189" class="Function">PoolDepIsNotGADep</a> <a id="12275" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12280" class="Symbol">()</a>

  <a id="SetoidProperties.DRepDepIsNotGADep"></a><a id="12286" href="Ledger.Ledger.Properties.html#12286" class="Function">DRepDepIsNotGADep</a> <a id="12304" class="Symbol">:</a> <a id="12306" class="Symbol">∀</a> <a id="12308" class="Symbol">{</a><a id="12309" href="Ledger.Ledger.Properties.html#12309" class="Bound">a</a> <a id="12311" href="Ledger.Ledger.Properties.html#12311" class="Bound">c</a><a id="12312" class="Symbol">}</a> <a id="12314" class="Symbol">→</a> <a id="12316" href="Ledger.Ledger.Properties.html#12309" class="Bound">a</a> <a id="12318" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12320" href="Ledger.Certs.html#422" class="InductiveConstructor">DRepDeposit</a> <a id="12332" href="Ledger.Ledger.Properties.html#12311" class="Bound">c</a> <a id="12334" class="Symbol">→</a> <a id="12336" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12338" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12350" href="Ledger.Ledger.Properties.html#12309" class="Bound">a</a>
  <a id="12354" href="Ledger.Ledger.Properties.html#12286" class="Function">DRepDepIsNotGADep</a> <a id="12372" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12377" class="Symbol">()</a>

  <a id="SetoidProperties.filterCR"></a><a id="12383" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="12392" class="Symbol">:</a> <a id="12394" class="Symbol">(</a><a id="12395" href="Ledger.Ledger.Properties.html#12395" class="Bound">c</a> <a id="12397" class="Symbol">:</a> <a id="12399" href="Ledger.Certs.html#754" class="Datatype">DCert</a><a id="12404" class="Symbol">)</a> <a id="12406" class="Symbol">(</a><a id="12407" href="Ledger.Ledger.Properties.html#12407" class="Bound">deps</a> <a id="12412" class="Symbol">:</a> <a id="12414" href="Ledger.Certs.html#527" class="Function">Deposits</a><a id="12422" class="Symbol">)</a>
             <a id="12437" class="Symbol">→</a> <a id="12439" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12447" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12459" class="Symbol">(</a><a id="12460" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12464" class="Symbol">(</a> <a id="12466" href="Ledger.Ledger.Properties.html#12407" class="Bound">deps</a> <a id="12471" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12473" href="Ledger.Utxo.html#3941" class="Function">certRefund</a> <a id="12484" href="Ledger.Ledger.Properties.html#12395" class="Bound">c</a> <a id="12486" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a> <a id="12488" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12490" class="Symbol">))</a> <a id="12493" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="12496" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12504" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12516" class="Symbol">(</a><a id="12517" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12521" class="Symbol">(</a><a id="12522" href="Ledger.Ledger.Properties.html#12407" class="Bound">deps</a> <a id="12527" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12528" class="Symbol">))</a>
  <a id="12533" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="12542" class="Symbol">(</a><a id="12543" href="Ledger.Certs.html#848" class="InductiveConstructor">dereg</a> <a id="12549" href="Ledger.Ledger.Properties.html#12549" class="Bound">c</a> <a id="12551" class="Symbol">_)</a> <a id="12554" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12559" class="Symbol">=</a> <a id="12561" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="12568" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12570" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="12580" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12588" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12600" class="Symbol">(</a><a id="12601" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12605" class="Symbol">(</a><a id="12606" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12611" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12612" class="Symbol">))</a> <a id="12615" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="12619" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="12634" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12636" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="12645" class="Symbol">(</a><a id="12646" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="12655" href="Axiom.Set.Properties.html#9285" class="Function">Dec-∈-singleton</a><a id="12670" class="Symbol">)</a> <a id="12672" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="12678" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12686" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12698" class="Symbol">(</a><a id="12699" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12703" class="Symbol">((</a><a id="12705" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12710" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12712" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a><a id="12714" class="Symbol">)</a><a id="12715" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12717" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12719" class="Symbol">(</a><a id="12720" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12725" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12727" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="12730" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12731" class="Symbol">)</a><a id="12732" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12733" class="Symbol">))</a> <a id="12736" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12739" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="12754" href="Axiom.Set.Rel.html#3736" class="Function">dom∪</a> <a id="12759" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12765" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12773" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12785" class="Symbol">(</a><a id="12786" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12790" class="Symbol">((</a><a id="12792" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12797" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12799" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a><a id="12801" class="Symbol">)</a> <a id="12803" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12804" class="Symbol">)</a> <a id="12806" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12808" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12812" class="Symbol">((</a><a id="12814" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12819" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12821" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="12824" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12825" class="Symbol">)</a> <a id="12827" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12829" class="Symbol">))</a> <a id="12832" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12835" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="12848" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12854" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12862" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12874" class="Symbol">(</a><a id="12875" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12879" class="Symbol">((</a><a id="12881" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12886" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12888" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a><a id="12890" class="Symbol">)</a> <a id="12892" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12893" class="Symbol">))</a> <a id="12896" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12898" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12906" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12918" class="Symbol">(</a><a id="12919" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12923" class="Symbol">((</a><a id="12925" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12930" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12932" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="12935" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12936" class="Symbol">)</a> <a id="12938" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12940" class="Symbol">))</a> <a id="12943" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12946" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="12953" href="Ledger.Ledger.Properties.html#13185" class="Function">filter0</a> <a id="12961" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="12969" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12975" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="12977" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12979" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12987" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12999" class="Symbol">(</a><a id="13000" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13004" class="Symbol">((</a><a id="13006" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="13011" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13013" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="13016" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13017" class="Symbol">)</a> <a id="13019" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13021" class="Symbol">))</a> <a id="13024" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13027" href="Axiom.Set.Properties.html#11917" class="Function">∪-identityˡ</a> <a id="13039" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13041" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13049" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13061" class="Symbol">(</a><a id="13062" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13066" class="Symbol">((</a><a id="13068" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="13073" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13075" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="13078" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13079" class="Symbol">)</a> <a id="13081" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13083" class="Symbol">))</a> <a id="13086" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13092" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13100" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13112" class="Symbol">(</a><a id="13113" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13117" class="Symbol">((</a><a id="13119" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="13124" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13126" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="13129" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13130" class="Symbol">)</a> <a id="13132" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13133" class="Symbol">))</a> <a id="13136" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="13142" class="Keyword">where</a>
    <a id="13152" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="13155" class="Symbol">=</a> <a id="13157" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="13159" href="Ledger.Certs.html#316" class="InductiveConstructor">CredentialDeposit</a> <a id="13177" href="Ledger.Ledger.Properties.html#12549" class="Bound">c</a> <a id="13179" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
    <a id="13185" href="Ledger.Ledger.Properties.html#13185" class="Function">filter0</a> <a id="13193" class="Symbol">=</a> <a id="13195" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="13204" class="Symbol">(λ</a> <a id="13207" href="Ledger.Ledger.Properties.html#13207" class="Bound">_</a> <a id="13209" class="Symbol">→</a> <a id="13211" href="Ledger.Ledger.Properties.html#12086" class="Function">CredDepIsNotGADep</a> <a id="13229" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13231" class="Symbol">(</a><a id="13232" href="Function.Bundles.html#4834" class="Field">from</a> <a id="13237" href="Axiom.Set.html#6243" class="Function">∈-singleton</a><a id="13248" class="Symbol">)</a> <a id="13250" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13252" href="Axiom.Set.Rel.html#6681" class="Function">res-dom</a><a id="13259" class="Symbol">)</a>
  <a id="13263" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="13272" class="Symbol">(</a><a id="13273" href="Ledger.Certs.html#1032" class="InductiveConstructor">deregdrep</a> <a id="13283" href="Ledger.Ledger.Properties.html#13283" class="Bound">c</a> <a id="13285" class="Symbol">_)</a> <a id="13288" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13293" class="Symbol">=</a> <a id="13295" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="13302" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13304" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="13314" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13322" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13334" class="Symbol">(</a><a id="13335" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13339" class="Symbol">(</a><a id="13340" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13345" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13346" class="Symbol">))</a> <a id="13349" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="13353" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="13368" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13370" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="13379" class="Symbol">(</a><a id="13380" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="13389" href="Axiom.Set.Properties.html#9285" class="Function">Dec-∈-singleton</a><a id="13404" class="Symbol">)</a> <a id="13406" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="13412" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13420" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13432" class="Symbol">(</a><a id="13433" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13437" class="Symbol">((</a><a id="13439" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13444" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="13446" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a><a id="13448" class="Symbol">)</a><a id="13449" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13451" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13453" class="Symbol">(</a><a id="13454" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13459" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13461" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13464" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13465" class="Symbol">)</a><a id="13466" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13467" class="Symbol">))</a> <a id="13470" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13473" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="13488" href="Axiom.Set.Rel.html#3736" class="Function">dom∪</a> <a id="13493" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13499" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13507" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13519" class="Symbol">(</a><a id="13520" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13524" class="Symbol">((</a><a id="13526" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13531" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="13533" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a><a id="13535" class="Symbol">)</a> <a id="13537" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13538" class="Symbol">)</a> <a id="13540" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13542" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13546" class="Symbol">((</a><a id="13548" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13553" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13555" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13558" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13559" class="Symbol">)</a> <a id="13561" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13563" class="Symbol">))</a> <a id="13566" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13569" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="13582" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13588" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13596" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13608" class="Symbol">(</a><a id="13609" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13613" class="Symbol">((</a><a id="13615" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13620" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="13622" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a><a id="13624" class="Symbol">)</a> <a id="13626" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13627" class="Symbol">))</a> <a id="13630" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13632" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13640" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13652" class="Symbol">(</a><a id="13653" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13657" class="Symbol">((</a><a id="13659" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13664" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13666" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13669" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13670" class="Symbol">)</a> <a id="13672" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13674" class="Symbol">))</a> <a id="13677" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13680" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="13687" href="Ledger.Ledger.Properties.html#13913" class="Function">filter0</a> <a id="13695" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="13703" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13709" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="13711" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13713" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13721" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13733" class="Symbol">(</a><a id="13734" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13738" class="Symbol">((</a><a id="13740" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13745" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13747" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13750" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13751" class="Symbol">)</a> <a id="13753" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13755" class="Symbol">))</a> <a id="13758" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13761" href="Axiom.Set.Properties.html#11917" class="Function">∪-identityˡ</a> <a id="13773" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13775" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13783" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13795" class="Symbol">(</a><a id="13796" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13800" class="Symbol">((</a><a id="13802" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13807" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13809" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13812" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13813" class="Symbol">)</a> <a id="13815" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13817" class="Symbol">))</a> <a id="13820" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13826" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13834" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13846" class="Symbol">(</a><a id="13847" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13851" class="Symbol">((</a><a id="13853" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13858" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13860" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13863" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13864" class="Symbol">)</a> <a id="13866" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13867" class="Symbol">))</a> <a id="13870" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="13876" class="Keyword">where</a>
    <a id="13886" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13889" class="Symbol">=</a> <a id="13891" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="13893" href="Ledger.Certs.html#422" class="InductiveConstructor">DRepDeposit</a> <a id="13905" href="Ledger.Ledger.Properties.html#13283" class="Bound">c</a> <a id="13907" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
    <a id="13913" href="Ledger.Ledger.Properties.html#13913" class="Function">filter0</a> <a id="13921" class="Symbol">=</a> <a id="13923" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="13932" class="Symbol">(λ</a> <a id="13935" href="Ledger.Ledger.Properties.html#13935" class="Bound">_</a> <a id="13937" class="Symbol">→</a> <a id="13939" href="Ledger.Ledger.Properties.html#12286" class="Function">DRepDepIsNotGADep</a> <a id="13957" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13959" class="Symbol">(</a><a id="13960" href="Function.Bundles.html#4834" class="Field">from</a> <a id="13965" href="Axiom.Set.html#6243" class="Function">∈-singleton</a><a id="13976" class="Symbol">)</a> <a id="13978" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13980" href="Axiom.Set.Rel.html#6681" class="Function">res-dom</a><a id="13987" class="Symbol">)</a>
  <a id="13991" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="14000" class="Symbol">(</a><a id="14001" href="Ledger.Certs.html#775" class="InductiveConstructor">delegate</a> <a id="14010" class="Symbol">_</a> <a id="14012" class="Symbol">_</a> <a id="14014" class="Symbol">_</a> <a id="14016" class="Symbol">_)</a>  <a id="14020" href="Ledger.Ledger.Properties.html#14020" class="Bound">deps</a> <a id="14025" class="Symbol">=</a> <a id="14027" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14042" class="Symbol">(</a><a id="14043" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14052" class="Symbol">(</a><a id="14053" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14061" class="Symbol">{</a><a id="14062" class="Argument">M</a> <a id="14064" class="Symbol">=</a> <a id="14066" href="Ledger.Ledger.Properties.html#14020" class="Bound">deps</a><a id="14070" class="Symbol">}))</a>
  <a id="14076" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="14085" class="Symbol">(</a><a id="14086" href="Ledger.Certs.html#896" class="InductiveConstructor">regpool</a> <a id="14094" class="Symbol">_</a> <a id="14096" class="Symbol">_)</a>       <a id="14105" href="Ledger.Ledger.Properties.html#14105" class="Bound">deps</a> <a id="14110" class="Symbol">=</a> <a id="14112" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14127" class="Symbol">(</a><a id="14128" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14137" class="Symbol">(</a><a id="14138" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14146" class="Symbol">{</a><a id="14147" class="Argument">M</a> <a id="14149" class="Symbol">=</a> <a id="14151" href="Ledger.Ledger.Properties.html#14105" class="Bound">deps</a><a id="14155" class="Symbol">}))</a>
  <a id="14161" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="14170" class="Symbol">(</a><a id="14171" href="Ledger.Certs.html#981" class="InductiveConstructor">regdrep</a> <a id="14179" class="Symbol">_</a> <a id="14181" class="Symbol">_</a> <a id="14183" class="Symbol">_)</a>     <a id="14190" href="Ledger.Ledger.Properties.html#14190" class="Bound">deps</a> <a id="14195" class="Symbol">=</a> <a id="14197" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14212" class="Symbol">(</a><a id="14213" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14222" class="Symbol">(</a><a id="14223" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14231" class="Symbol">{</a><a id="14232" class="Argument">M</a> <a id="14234" class="Symbol">=</a> <a id="14236" href="Ledger.Ledger.Properties.html#14190" class="Bound">deps</a><a id="14240" class="Symbol">}))</a>
  <a id="14246" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="14255" class="Symbol">(</a><a id="14256" href="Ledger.Certs.html#941" class="InductiveConstructor">retirepool</a> <a id="14267" class="Symbol">_</a> <a id="14269" class="Symbol">_)</a>    <a id="14275" href="Ledger.Ledger.Properties.html#14275" class="Bound">deps</a> <a id="14280" class="Symbol">=</a> <a id="14282" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14297" class="Symbol">(</a><a id="14298" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14307" class="Symbol">(</a><a id="14308" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14316" class="Symbol">{</a><a id="14317" class="Argument">M</a> <a id="14319" class="Symbol">=</a> <a id="14321" href="Ledger.Ledger.Properties.html#14275" class="Bound">deps</a><a id="14325" class="Symbol">}))</a>
  <a id="14331" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="14340" class="Symbol">(</a><a id="14341" href="Ledger.Certs.html#1074" class="InductiveConstructor">ccreghot</a> <a id="14350" class="Symbol">_</a> <a id="14352" class="Symbol">_)</a>      <a id="14360" href="Ledger.Ledger.Properties.html#14360" class="Bound">deps</a> <a id="14365" class="Symbol">=</a> <a id="14367" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14382" class="Symbol">(</a><a id="14383" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14392" class="Symbol">(</a><a id="14393" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14401" class="Symbol">{</a><a id="14402" class="Argument">M</a> <a id="14404" class="Symbol">=</a> <a id="14406" href="Ledger.Ledger.Properties.html#14360" class="Bound">deps</a><a id="14410" class="Symbol">}))</a>
  <a id="14416" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="14425" class="Symbol">(</a><a id="14426" href="Ledger.Certs.html#1461" class="InductiveConstructor">reg</a> <a id="14430" class="Symbol">_</a> <a id="14432" class="Symbol">_)</a>           <a id="14445" href="Ledger.Ledger.Properties.html#14445" class="Bound">deps</a> <a id="14450" class="Symbol">=</a> <a id="14452" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14467" class="Symbol">(</a><a id="14468" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14477" class="Symbol">(</a><a id="14478" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14486" class="Symbol">{</a><a id="14487" class="Argument">M</a> <a id="14489" class="Symbol">=</a> <a id="14491" href="Ledger.Ledger.Properties.html#14445" class="Bound">deps</a><a id="14495" class="Symbol">}))</a>

  <a id="SetoidProperties.filterCD"></a><a id="14502" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="14511" class="Symbol">:</a> <a id="14513" class="Symbol">(</a><a id="14514" href="Ledger.Ledger.Properties.html#14514" class="Bound">c</a> <a id="14516" class="Symbol">:</a> <a id="14518" href="Ledger.Certs.html#754" class="Datatype">DCert</a><a id="14523" class="Symbol">)</a> <a id="14525" class="Symbol">(</a><a id="14526" href="Ledger.Ledger.Properties.html#14526" class="Bound">deps</a> <a id="14531" class="Symbol">:</a> <a id="14533" href="Ledger.Certs.html#527" class="Function">Deposits</a><a id="14541" class="Symbol">)</a> <a id="14543" class="Symbol">→</a> <a id="14545" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="14553" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="14565" class="Symbol">(</a><a id="14566" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14570" class="Symbol">(</a><a id="14571" href="Ledger.Utxo.html#3584" class="Function">certDeposit</a> <a id="14583" href="Ledger.Ledger.Properties.html#14514" class="Bound">c</a> <a id="14585" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="14588" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="14589" class="Symbol">))</a> <a id="14592" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="14595" href="Class.HasEmptySet.html#287" class="Field">∅</a>
  <a id="14599" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="14608" class="Symbol">(</a><a id="14609" href="Ledger.Certs.html#775" class="InductiveConstructor">delegate</a> <a id="14618" class="Symbol">_</a> <a id="14620" class="Symbol">_</a> <a id="14622" class="Symbol">_</a> <a id="14624" class="Symbol">_)</a>  <a id="14628" href="Ledger.Ledger.Properties.html#14628" class="Bound">deps</a> <a id="14633" class="Symbol">=</a> <a id="14635" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="14644" class="Symbol">λ</a> <a id="14646" href="Ledger.Ledger.Properties.html#14646" class="Bound">_</a> <a id="14648" class="Symbol">→</a> <a id="14650" href="Ledger.Ledger.Properties.html#12086" class="Function">CredDepIsNotGADep</a> <a id="14668" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14670" href="Function.Bundles.html#4834" class="Field">from</a> <a id="14675" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="14687" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14689" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="14709" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="14718" class="Symbol">(</a><a id="14719" href="Ledger.Certs.html#1461" class="InductiveConstructor">reg</a> <a id="14723" class="Symbol">_</a> <a id="14725" class="Symbol">_)</a>           <a id="14738" href="Ledger.Ledger.Properties.html#14738" class="Bound">deps</a> <a id="14743" class="Symbol">=</a> <a id="14745" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="14754" class="Symbol">λ</a> <a id="14756" href="Ledger.Ledger.Properties.html#14756" class="Bound">_</a> <a id="14758" class="Symbol">→</a> <a id="14760" href="Ledger.Ledger.Properties.html#12086" class="Function">CredDepIsNotGADep</a> <a id="14778" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14780" href="Function.Bundles.html#4834" class="Field">from</a> <a id="14785" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="14797" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14799" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="14819" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="14828" class="Symbol">(</a><a id="14829" href="Ledger.Certs.html#896" class="InductiveConstructor">regpool</a> <a id="14837" class="Symbol">_</a> <a id="14839" class="Symbol">_)</a>       <a id="14848" href="Ledger.Ledger.Properties.html#14848" class="Bound">deps</a> <a id="14853" class="Symbol">=</a> <a id="14855" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="14864" class="Symbol">λ</a> <a id="14866" href="Ledger.Ledger.Properties.html#14866" class="Bound">_</a> <a id="14868" class="Symbol">→</a> <a id="14870" href="Ledger.Ledger.Properties.html#12189" class="Function">PoolDepIsNotGADep</a> <a id="14888" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14890" href="Function.Bundles.html#4834" class="Field">from</a> <a id="14895" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="14907" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14909" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="14929" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="14938" class="Symbol">(</a><a id="14939" href="Ledger.Certs.html#981" class="InductiveConstructor">regdrep</a> <a id="14947" class="Symbol">_</a> <a id="14949" class="Symbol">_</a> <a id="14951" class="Symbol">_)</a>     <a id="14958" href="Ledger.Ledger.Properties.html#14958" class="Bound">deps</a> <a id="14963" class="Symbol">=</a> <a id="14965" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="14974" class="Symbol">λ</a> <a id="14976" href="Ledger.Ledger.Properties.html#14976" class="Bound">_</a> <a id="14978" class="Symbol">→</a> <a id="14980" href="Ledger.Ledger.Properties.html#12286" class="Function">DRepDepIsNotGADep</a> <a id="14998" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="15000" href="Function.Bundles.html#4834" class="Field">from</a> <a id="15005" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="15017" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="15019" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="15039" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="15048" class="Symbol">(</a><a id="15049" href="Ledger.Certs.html#848" class="InductiveConstructor">dereg</a> <a id="15055" class="Symbol">_</a> <a id="15057" class="Symbol">_)</a>         <a id="15068" href="Ledger.Ledger.Properties.html#15068" class="Bound">deps</a> <a id="15073" class="Symbol">=</a> <a id="15075" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="15084" class="Symbol">(</a><a id="15085" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15100" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="15104" class="Symbol">)</a> <a id="15106" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15108" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="15117" class="Symbol">λ</a> <a id="15119" href="Ledger.Ledger.Properties.html#15119" class="Bound">_</a> <a id="15121" href="Ledger.Ledger.Properties.html#15121" class="Bound">a∈</a> <a id="15124" href="Ledger.Ledger.Properties.html#15124" class="Bound">_</a> <a id="15126" class="Symbol">→</a> <a id="15128" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="15132" href="Ledger.Ledger.Properties.html#15121" class="Bound">a∈</a>
  <a id="15137" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="15146" class="Symbol">(</a><a id="15147" href="Ledger.Certs.html#941" class="InductiveConstructor">retirepool</a> <a id="15158" class="Symbol">_</a> <a id="15160" class="Symbol">_)</a>    <a id="15166" href="Ledger.Ledger.Properties.html#15166" class="Bound">deps</a> <a id="15171" class="Symbol">=</a> <a id="15173" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="15182" class="Symbol">(</a><a id="15183" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15198" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="15202" class="Symbol">)</a> <a id="15204" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15206" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="15215" class="Symbol">λ</a> <a id="15217" href="Ledger.Ledger.Properties.html#15217" class="Bound">_</a> <a id="15219" href="Ledger.Ledger.Properties.html#15219" class="Bound">a∈</a> <a id="15222" href="Ledger.Ledger.Properties.html#15222" class="Bound">_</a> <a id="15224" class="Symbol">→</a> <a id="15226" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="15230" href="Ledger.Ledger.Properties.html#15219" class="Bound">a∈</a>
  <a id="15235" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="15244" class="Symbol">(</a><a id="15245" href="Ledger.Certs.html#1032" class="InductiveConstructor">deregdrep</a> <a id="15255" class="Symbol">_</a> <a id="15257" class="Symbol">_)</a>     <a id="15264" href="Ledger.Ledger.Properties.html#15264" class="Bound">deps</a> <a id="15269" class="Symbol">=</a> <a id="15271" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="15280" class="Symbol">(</a><a id="15281" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15296" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="15300" class="Symbol">)</a> <a id="15302" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15304" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="15313" class="Symbol">λ</a> <a id="15315" href="Ledger.Ledger.Properties.html#15315" class="Bound">_</a> <a id="15317" href="Ledger.Ledger.Properties.html#15317" class="Bound">a∈</a> <a id="15320" href="Ledger.Ledger.Properties.html#15320" class="Bound">_</a> <a id="15322" class="Symbol">→</a> <a id="15324" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="15328" href="Ledger.Ledger.Properties.html#15317" class="Bound">a∈</a>
  <a id="15333" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="15342" class="Symbol">(</a><a id="15343" href="Ledger.Certs.html#1074" class="InductiveConstructor">ccreghot</a> <a id="15352" class="Symbol">_</a> <a id="15354" class="Symbol">_)</a>      <a id="15362" href="Ledger.Ledger.Properties.html#15362" class="Bound">deps</a> <a id="15367" class="Symbol">=</a> <a id="15369" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="15378" class="Symbol">(</a><a id="15379" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15394" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="15398" class="Symbol">)</a> <a id="15400" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15402" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="15411" class="Symbol">λ</a> <a id="15413" href="Ledger.Ledger.Properties.html#15413" class="Bound">_</a> <a id="15415" href="Ledger.Ledger.Properties.html#15415" class="Bound">a∈</a> <a id="15418" href="Ledger.Ledger.Properties.html#15418" class="Bound">_</a> <a id="15420" class="Symbol">→</a> <a id="15422" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="15426" href="Ledger.Ledger.Properties.html#15415" class="Bound">a∈</a>

  <a id="SetoidProperties.noGACerts"></a><a id="15432" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="15442" class="Symbol">:</a> <a id="15444" class="Symbol">(</a><a id="15445" href="Ledger.Ledger.Properties.html#15445" class="Bound">cs</a> <a id="15448" class="Symbol">:</a> <a id="15450" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="15455" href="Ledger.Certs.html#754" class="Datatype">DCert</a><a id="15460" class="Symbol">)</a> <a id="15462" class="Symbol">(</a><a id="15463" href="Ledger.Ledger.Properties.html#15463" class="Bound">deps</a> <a id="15468" class="Symbol">:</a> <a id="15470" href="Ledger.Certs.html#527" class="Function">Deposits</a><a id="15478" class="Symbol">)</a>
    <a id="15484" class="Symbol">→</a> <a id="15486" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15494" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15506" class="Symbol">(</a><a id="15507" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15511" class="Symbol">(</a><a id="15512" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="15531" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="15534" href="Ledger.Ledger.Properties.html#15445" class="Bound">cs</a> <a id="15537" href="Ledger.Ledger.Properties.html#15463" class="Bound">deps</a><a id="15541" class="Symbol">))</a> <a id="15544" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="15547" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15555" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15567" class="Symbol">(</a><a id="15568" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15572" href="Ledger.Ledger.Properties.html#15463" class="Bound">deps</a><a id="15576" class="Symbol">)</a>
  <a id="15580" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="15590" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="15593" class="Symbol">_</a> <a id="15595" class="Symbol">=</a> <a id="15597" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15612" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a>
  <a id="15622" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="15632" class="Symbol">(</a><a id="15633" href="Ledger.Ledger.Properties.html#15633" class="Bound">dcert</a><a id="15638" class="Symbol">@(</a><a id="15640" href="Ledger.Certs.html#775" class="InductiveConstructor">delegate</a> <a id="15649" class="Symbol">_</a> <a id="15651" class="Symbol">_</a> <a id="15653" class="Symbol">_</a> <a id="15655" class="Symbol">_)</a> <a id="15658" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15660" href="Ledger.Ledger.Properties.html#15660" class="Bound">cs</a><a id="15662" class="Symbol">)</a> <a id="15664" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a> <a id="15669" class="Symbol">=</a> <a id="15671" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="15681" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15689" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15701" class="Symbol">(</a><a id="15702" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15706" class="Symbol">(</a><a id="15707" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="15726" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="15729" href="Ledger.Ledger.Properties.html#15660" class="Bound">cs</a> <a id="15732" class="Symbol">(</a><a id="15733" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a> <a id="15738" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="15741" href="Ledger.Ledger.Properties.html#16162" class="Function">cd</a><a id="15743" class="Symbol">)))</a> <a id="15747" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15750" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="15760" href="Ledger.Ledger.Properties.html#15660" class="Bound">cs</a> <a id="15763" class="Symbol">_</a> <a id="15765" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="15771" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15779" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15791" class="Symbol">(</a><a id="15792" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15796" class="Symbol">(</a><a id="15797" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a> <a id="15802" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="15805" href="Ledger.Ledger.Properties.html#16162" class="Function">cd</a><a id="15807" class="Symbol">))</a> <a id="15810" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15813" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15828" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="15839" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="15845" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15853" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15865" class="Symbol">(</a><a id="15866" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15870" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a> <a id="15875" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="15877" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15881" class="Symbol">(</a><a id="15882" href="Ledger.Ledger.Properties.html#16162" class="Function">cd</a> <a id="15885" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="15887" class="Symbol">))</a> <a id="15890" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15893" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="15906" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="15912" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15920" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15932" class="Symbol">(</a><a id="15933" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15937" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a><a id="15941" class="Symbol">)</a> <a id="15943" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="15945" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15953" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15965" class="Symbol">(</a><a id="15966" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15970" class="Symbol">(</a><a id="15971" href="Ledger.Ledger.Properties.html#16162" class="Function">cd</a> <a id="15974" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="15975" class="Symbol">))</a> <a id="15978" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15981" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="15988" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="15996" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15998" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="16007" href="Ledger.Ledger.Properties.html#15633" class="Bound">dcert</a> <a id="16013" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a> <a id="16018" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16024" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16032" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16044" class="Symbol">(</a><a id="16045" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16049" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a><a id="16053" class="Symbol">)</a> <a id="16055" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16057" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="16059" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16062" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="16074" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16076" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16084" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16096" class="Symbol">(</a><a id="16097" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16101" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a><a id="16105" class="Symbol">)</a> <a id="16107" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16113" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16121" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16133" class="Symbol">(</a><a id="16134" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16138" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a><a id="16142" class="Symbol">)</a> <a id="16144" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="16150" class="Keyword">where</a>
      <a id="16162" href="Ledger.Ledger.Properties.html#16162" class="Function">cd</a> <a id="16165" class="Symbol">=</a> <a id="16167" href="Ledger.Utxo.html#3584" class="Function">certDeposit</a> <a id="16179" href="Ledger.Ledger.Properties.html#15633" class="Bound">dcert</a> <a id="16185" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a>
      <a id="16194" href="Ledger.Ledger.Properties.html#16194" class="Function">filter0</a> <a id="16202" class="Symbol">=</a> <a id="16204" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="16213" href="Ledger.Ledger.Properties.html#15633" class="Bound">dcert</a> <a id="16219" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a>
  <a id="16226" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="16236" class="Symbol">(</a><a id="16237" href="Ledger.Ledger.Properties.html#16237" class="Bound">dcert</a><a id="16242" class="Symbol">@(</a><a id="16244" href="Ledger.Certs.html#1461" class="InductiveConstructor">reg</a> <a id="16248" class="Symbol">_</a> <a id="16250" class="Symbol">_)</a> <a id="16253" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16255" href="Ledger.Ledger.Properties.html#16255" class="Bound">cs</a><a id="16257" class="Symbol">)</a> <a id="16259" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a> <a id="16264" class="Symbol">=</a> <a id="16266" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16276" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16284" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16296" class="Symbol">(</a><a id="16297" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16301" class="Symbol">(</a><a id="16302" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="16321" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="16324" href="Ledger.Ledger.Properties.html#16255" class="Bound">cs</a> <a id="16327" class="Symbol">(</a><a id="16328" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a> <a id="16333" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="16336" href="Ledger.Ledger.Properties.html#16757" class="Function">cd</a><a id="16338" class="Symbol">)))</a> <a id="16342" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16345" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="16355" href="Ledger.Ledger.Properties.html#16255" class="Bound">cs</a> <a id="16358" class="Symbol">_</a> <a id="16360" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16366" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16374" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16386" class="Symbol">(</a><a id="16387" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16391" class="Symbol">(</a><a id="16392" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a> <a id="16397" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="16400" href="Ledger.Ledger.Properties.html#16757" class="Function">cd</a><a id="16402" class="Symbol">))</a> <a id="16405" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16408" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="16423" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="16434" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16440" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16448" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16460" class="Symbol">(</a><a id="16461" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16465" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a> <a id="16470" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16472" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16476" class="Symbol">(</a><a id="16477" href="Ledger.Ledger.Properties.html#16757" class="Function">cd</a> <a id="16480" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="16482" class="Symbol">))</a> <a id="16485" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16488" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="16501" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16507" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16515" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16527" class="Symbol">(</a><a id="16528" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16532" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a><a id="16536" class="Symbol">)</a> <a id="16538" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16540" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16548" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16560" class="Symbol">(</a><a id="16561" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16565" class="Symbol">(</a><a id="16566" href="Ledger.Ledger.Properties.html#16757" class="Function">cd</a> <a id="16569" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="16570" class="Symbol">))</a> <a id="16573" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16576" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="16583" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="16591" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16593" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="16602" href="Ledger.Ledger.Properties.html#16237" class="Bound">dcert</a> <a id="16608" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a> <a id="16613" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16619" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16627" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16639" class="Symbol">(</a><a id="16640" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16644" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a><a id="16648" class="Symbol">)</a> <a id="16650" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16652" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="16654" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16657" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="16669" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16671" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16679" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16691" class="Symbol">(</a><a id="16692" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16696" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a><a id="16700" class="Symbol">)</a> <a id="16702" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16708" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16716" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16728" class="Symbol">(</a><a id="16729" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16733" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a><a id="16737" class="Symbol">)</a> <a id="16739" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="16745" class="Keyword">where</a>
      <a id="16757" href="Ledger.Ledger.Properties.html#16757" class="Function">cd</a> <a id="16760" class="Symbol">=</a> <a id="16762" href="Ledger.Utxo.html#3584" class="Function">certDeposit</a> <a id="16774" href="Ledger.Ledger.Properties.html#16237" class="Bound">dcert</a> <a id="16780" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a>
      <a id="16789" href="Ledger.Ledger.Properties.html#16789" class="Function">filter0</a> <a id="16797" class="Symbol">=</a> <a id="16799" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="16808" href="Ledger.Ledger.Properties.html#16237" class="Bound">dcert</a> <a id="16814" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a>
  <a id="16821" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="16831" class="Symbol">(</a><a id="16832" href="Ledger.Ledger.Properties.html#16832" class="Bound">dcert</a><a id="16837" class="Symbol">@(</a><a id="16839" href="Ledger.Certs.html#896" class="InductiveConstructor">regpool</a> <a id="16847" class="Symbol">_</a> <a id="16849" class="Symbol">_)</a> <a id="16852" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16854" href="Ledger.Ledger.Properties.html#16854" class="Bound">cs</a><a id="16856" class="Symbol">)</a> <a id="16858" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a> <a id="16863" class="Symbol">=</a> <a id="16865" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16875" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16883" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16895" class="Symbol">(</a><a id="16896" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16900" class="Symbol">(</a><a id="16901" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="16920" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="16923" href="Ledger.Ledger.Properties.html#16854" class="Bound">cs</a> <a id="16926" class="Symbol">(</a><a id="16927" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a> <a id="16932" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="16935" href="Ledger.Ledger.Properties.html#17342" class="Function">cd</a><a id="16937" class="Symbol">)))</a> <a id="16941" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16944" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="16954" href="Ledger.Ledger.Properties.html#16854" class="Bound">cs</a> <a id="16957" class="Symbol">_</a> <a id="16959" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16965" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16973" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16985" class="Symbol">(</a><a id="16986" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16990" class="Symbol">(</a><a id="16991" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a> <a id="16996" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="16999" href="Ledger.Ledger.Properties.html#17342" class="Function">cd</a><a id="17001" class="Symbol">))</a> <a id="17004" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17007" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="17022" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="17033" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17039" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17047" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17059" class="Symbol">(</a><a id="17060" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17064" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a> <a id="17069" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17071" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17075" class="Symbol">(</a><a id="17076" href="Ledger.Ledger.Properties.html#17342" class="Function">cd</a> <a id="17079" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="17081" class="Symbol">))</a> <a id="17084" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17087" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="17100" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17106" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17114" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17126" class="Symbol">(</a><a id="17127" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17131" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a><a id="17135" class="Symbol">)</a> <a id="17137" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17139" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17147" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17159" class="Symbol">(</a><a id="17160" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17164" class="Symbol">(</a><a id="17165" href="Ledger.Ledger.Properties.html#17342" class="Function">cd</a> <a id="17168" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="17169" class="Symbol">))</a> <a id="17172" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17175" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="17182" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="17190" href="Ledger.Ledger.Properties.html#17374" class="Function">filter0</a> <a id="17198" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17204" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17212" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17224" class="Symbol">(</a><a id="17225" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17229" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a><a id="17233" class="Symbol">)</a> <a id="17235" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17237" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="17239" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17242" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="17254" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17256" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17264" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17276" class="Symbol">(</a><a id="17277" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17281" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a><a id="17285" class="Symbol">)</a> <a id="17287" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17293" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17301" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17313" class="Symbol">(</a><a id="17314" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17318" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a><a id="17322" class="Symbol">)</a> <a id="17324" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="17330" class="Keyword">where</a>
      <a id="17342" href="Ledger.Ledger.Properties.html#17342" class="Function">cd</a> <a id="17345" class="Symbol">=</a> <a id="17347" href="Ledger.Utxo.html#3584" class="Function">certDeposit</a> <a id="17359" href="Ledger.Ledger.Properties.html#16832" class="Bound">dcert</a> <a id="17365" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a>
      <a id="17374" href="Ledger.Ledger.Properties.html#17374" class="Function">filter0</a> <a id="17382" class="Symbol">=</a> <a id="17384" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="17393" href="Ledger.Ledger.Properties.html#16832" class="Bound">dcert</a> <a id="17399" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a>
  <a id="17406" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="17416" class="Symbol">(</a><a id="17417" href="Ledger.Ledger.Properties.html#17417" class="Bound">dcert</a><a id="17422" class="Symbol">@(</a><a id="17424" href="Ledger.Certs.html#981" class="InductiveConstructor">regdrep</a> <a id="17432" class="Symbol">_</a> <a id="17434" class="Symbol">_</a> <a id="17436" class="Symbol">_)</a> <a id="17439" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17441" href="Ledger.Ledger.Properties.html#17441" class="Bound">cs</a><a id="17443" class="Symbol">)</a> <a id="17445" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a> <a id="17450" class="Symbol">=</a> <a id="17452" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="17462" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17470" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17482" class="Symbol">(</a><a id="17483" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17487" class="Symbol">(</a><a id="17488" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="17507" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="17510" href="Ledger.Ledger.Properties.html#17441" class="Bound">cs</a> <a id="17513" class="Symbol">(</a><a id="17514" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a> <a id="17519" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="17522" href="Ledger.Utxo.html#3584" class="Function">certDeposit</a> <a id="17534" href="Ledger.Ledger.Properties.html#17417" class="Bound">dcert</a> <a id="17540" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a><a id="17542" class="Symbol">)))</a> <a id="17546" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17549" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="17559" href="Ledger.Ledger.Properties.html#17441" class="Bound">cs</a> <a id="17562" class="Symbol">_</a> <a id="17564" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17570" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17578" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17590" class="Symbol">(</a><a id="17591" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17595" class="Symbol">(</a><a id="17596" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a> <a id="17601" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="17604" href="Ledger.Ledger.Properties.html#17947" class="Function">cd</a><a id="17606" class="Symbol">))</a> <a id="17609" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17612" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="17627" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="17638" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17644" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17652" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17664" class="Symbol">(</a><a id="17665" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17669" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a> <a id="17674" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17676" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17680" class="Symbol">(</a><a id="17681" href="Ledger.Ledger.Properties.html#17947" class="Function">cd</a> <a id="17684" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="17686" class="Symbol">))</a> <a id="17689" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17692" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="17705" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17711" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17719" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17731" class="Symbol">(</a><a id="17732" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17736" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a><a id="17740" class="Symbol">)</a> <a id="17742" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17744" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17752" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17764" class="Symbol">(</a><a id="17765" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17769" class="Symbol">(</a><a id="17770" href="Ledger.Ledger.Properties.html#17947" class="Function">cd</a> <a id="17773" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="17774" class="Symbol">))</a> <a id="17777" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17780" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="17787" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="17795" href="Ledger.Ledger.Properties.html#17979" class="Function">filter0</a> <a id="17803" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17809" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17817" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17829" class="Symbol">(</a><a id="17830" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17834" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a><a id="17838" class="Symbol">)</a> <a id="17840" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17842" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="17844" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17847" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="17859" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17861" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17869" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17881" class="Symbol">(</a><a id="17882" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17886" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a><a id="17890" class="Symbol">)</a> <a id="17892" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17898" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17906" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17918" class="Symbol">(</a><a id="17919" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17923" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a><a id="17927" class="Symbol">)</a> <a id="17929" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="17935" class="Keyword">where</a>
      <a id="17947" href="Ledger.Ledger.Properties.html#17947" class="Function">cd</a> <a id="17950" class="Symbol">=</a> <a id="17952" href="Ledger.Utxo.html#3584" class="Function">certDeposit</a> <a id="17964" href="Ledger.Ledger.Properties.html#17417" class="Bound">dcert</a> <a id="17970" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a>
      <a id="17979" href="Ledger.Ledger.Properties.html#17979" class="Function">filter0</a> <a id="17987" class="Symbol">=</a> <a id="17989" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="17998" href="Ledger.Ledger.Properties.html#17417" class="Bound">dcert</a> <a id="18004" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a>
  <a id="18011" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18021" class="Symbol">(</a><a id="18022" href="Ledger.Ledger.Properties.html#18022" class="Bound">dcert</a><a id="18027" class="Symbol">@(</a><a id="18029" href="Ledger.Certs.html#848" class="InductiveConstructor">dereg</a> <a id="18035" href="Ledger.Ledger.Properties.html#18035" class="Bound">c</a> <a id="18037" href="Ledger.Ledger.Properties.html#18037" class="Bound">v</a><a id="18038" class="Symbol">)</a> <a id="18040" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18042" href="Ledger.Ledger.Properties.html#18042" class="Bound">cs</a><a id="18044" class="Symbol">)</a> <a id="18046" href="Ledger.Ledger.Properties.html#18046" class="Bound">deps</a> <a id="18051" class="Symbol">=</a> <a id="18053" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="18063" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18071" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="18083" class="Symbol">(</a><a id="18084" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18088" class="Symbol">(</a><a id="18089" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="18108" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="18111" href="Ledger.Ledger.Properties.html#18042" class="Bound">cs</a> <a id="18114" class="Symbol">(</a><a id="18115" href="Ledger.Ledger.Properties.html#18046" class="Bound">deps</a> <a id="18120" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18122" href="Ledger.Utxo.html#3941" class="Function">certRefund</a> <a id="18133" class="Symbol">(</a><a id="18134" href="Ledger.Certs.html#848" class="InductiveConstructor">dereg</a> <a id="18140" href="Ledger.Ledger.Properties.html#18035" class="Bound">c</a> <a id="18142" href="Ledger.Ledger.Properties.html#18037" class="Bound">v</a><a id="18143" class="Symbol">)</a><a id="18144" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18145" class="Symbol">)))</a> <a id="18149" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18152" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18162" href="Ledger.Ledger.Properties.html#18042" class="Bound">cs</a> <a id="18165" class="Symbol">_</a> <a id="18167" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18173" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18181" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="18193" class="Symbol">(</a><a id="18194" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18198" class="Symbol">(</a><a id="18199" href="Ledger.Ledger.Properties.html#18046" class="Bound">deps</a> <a id="18204" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18206" href="Ledger.Utxo.html#3941" class="Function">certRefund</a> <a id="18217" class="Symbol">(</a><a id="18218" href="Ledger.Certs.html#848" class="InductiveConstructor">dereg</a> <a id="18224" href="Ledger.Ledger.Properties.html#18035" class="Bound">c</a> <a id="18226" href="Ledger.Ledger.Properties.html#18037" class="Bound">v</a><a id="18227" class="Symbol">)</a><a id="18228" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18229" class="Symbol">))</a> <a id="18232" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18235" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="18244" href="Ledger.Ledger.Properties.html#18022" class="Bound">dcert</a> <a id="18250" href="Ledger.Ledger.Properties.html#18046" class="Bound">deps</a> <a id="18255" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18261" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18269" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="18281" class="Symbol">(</a><a id="18282" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18286" href="Ledger.Ledger.Properties.html#18046" class="Bound">deps</a><a id="18290" class="Symbol">)</a> <a id="18292" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="18296" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18306" class="Symbol">(</a><a id="18307" href="Ledger.Ledger.Properties.html#18307" class="Bound">dcert</a><a id="18312" class="Symbol">@(</a><a id="18314" href="Ledger.Certs.html#1032" class="InductiveConstructor">deregdrep</a> <a id="18324" href="Ledger.Ledger.Properties.html#18324" class="Bound">c</a> <a id="18326" href="Ledger.Ledger.Properties.html#18326" class="Bound">v</a><a id="18327" class="Symbol">)</a> <a id="18329" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18331" href="Ledger.Ledger.Properties.html#18331" class="Bound">cs</a><a id="18333" class="Symbol">)</a> <a id="18335" href="Ledger.Ledger.Properties.html#18335" class="Bound">deps</a> <a id="18340" class="Symbol">=</a> <a id="18342" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="18352" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18360" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="18372" class="Symbol">(</a><a id="18373" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18377" class="Symbol">(</a><a id="18378" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="18397" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="18400" href="Ledger.Ledger.Properties.html#18331" class="Bound">cs</a> <a id="18403" class="Symbol">(</a><a id="18404" href="Ledger.Ledger.Properties.html#18335" class="Bound">deps</a> <a id="18409" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18411" href="Ledger.Utxo.html#3941" class="Function">certRefund</a> <a id="18422" class="Symbol">(</a><a id="18423" href="Ledger.Certs.html#1032" class="InductiveConstructor">deregdrep</a> <a id="18433" href="Ledger.Ledger.Properties.html#18324" class="Bound">c</a> <a id="18435" href="Ledger.Ledger.Properties.html#18326" class="Bound">v</a><a id="18436" class="Symbol">)</a><a id="18437" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18438" class="Symbol">)))</a> <a id="18442" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18445" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18455" href="Ledger.Ledger.Properties.html#18331" class="Bound">cs</a> <a id="18458" class="Symbol">_</a> <a id="18460" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18466" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18474" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="18486" class="Symbol">(</a><a id="18487" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18491" class="Symbol">(</a><a id="18492" href="Ledger.Ledger.Properties.html#18335" class="Bound">deps</a> <a id="18497" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18499" href="Ledger.Utxo.html#3941" class="Function">certRefund</a> <a id="18510" class="Symbol">(</a><a id="18511" href="Ledger.Certs.html#1032" class="InductiveConstructor">deregdrep</a> <a id="18521" href="Ledger.Ledger.Properties.html#18324" class="Bound">c</a> <a id="18523" href="Ledger.Ledger.Properties.html#18326" class="Bound">v</a><a id="18524" class="Symbol">)</a><a id="18525" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18526" class="Symbol">))</a> <a id="18529" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18532" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="18541" href="Ledger.Ledger.Properties.html#18307" class="Bound">dcert</a> <a id="18547" href="Ledger.Ledger.Properties.html#18335" class="Bound">deps</a> <a id="18552" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18558" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18566" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="18578" class="Symbol">(</a><a id="18579" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18583" href="Ledger.Ledger.Properties.html#18335" class="Bound">deps</a><a id="18587" class="Symbol">)</a> <a id="18589" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="18593" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18603" class="Symbol">(</a><a id="18604" href="Ledger.Certs.html#941" class="InductiveConstructor">retirepool</a> <a id="18615" class="Symbol">_</a> <a id="18617" class="Symbol">_</a> <a id="18619" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18621" href="Ledger.Ledger.Properties.html#18621" class="Bound">cs</a><a id="18623" class="Symbol">)</a> <a id="18625" href="Ledger.Ledger.Properties.html#18625" class="Bound">deps</a> <a id="18630" class="Symbol">=</a> <a id="18632" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18642" href="Ledger.Ledger.Properties.html#18621" class="Bound">cs</a> <a id="18645" href="Ledger.Ledger.Properties.html#18625" class="Bound">deps</a>
  <a id="18652" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18662" class="Symbol">(</a><a id="18663" href="Ledger.Certs.html#1074" class="InductiveConstructor">ccreghot</a> <a id="18672" class="Symbol">_</a> <a id="18674" class="Symbol">_</a> <a id="18676" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18678" href="Ledger.Ledger.Properties.html#18678" class="Bound">cs</a><a id="18680" class="Symbol">)</a> <a id="18682" href="Ledger.Ledger.Properties.html#18682" class="Bound">deps</a> <a id="18687" class="Symbol">=</a> <a id="18689" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18699" href="Ledger.Ledger.Properties.html#18678" class="Bound">cs</a> <a id="18702" href="Ledger.Ledger.Properties.html#18682" class="Bound">deps</a>

  <a id="18710" class="Keyword">opaque</a>
    <a id="18721" class="Keyword">unfolding</a> <a id="18731" href="Ledger.Gov.html#3446" class="Function">addVote</a>

    <a id="SetoidProperties.dpMap∘voteUpdate≡dpMap"></a><a id="18744" href="Ledger.Ledger.Properties.html#18744" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="18767" class="Symbol">:</a> <a id="18769" class="Symbol">(</a><a id="18770" href="Ledger.Ledger.Properties.html#18770" class="Bound">v</a> <a id="18772" class="Symbol">:</a> <a id="18774" href="Ledger.GovernanceActions.html#1738" class="Record">GovVote</a><a id="18781" class="Symbol">)</a> <a id="18783" class="Symbol">{</a><a id="18784" href="Ledger.Ledger.Properties.html#18784" class="Bound">govSt</a> <a id="18790" class="Symbol">:</a> <a id="18792" href="Ledger.Gov.html#1218" class="Function">GovState</a><a id="18800" class="Symbol">}</a>
      <a id="18808" class="Symbol">→</a> <a id="18810" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="18816" class="Symbol">(</a><a id="18817" href="Ledger.Ledger.Properties.html#9920" class="Function">voteUpdate</a> <a id="18828" href="Ledger.Ledger.Properties.html#18784" class="Bound">govSt</a> <a id="18834" href="Ledger.Ledger.Properties.html#18770" class="Bound">v</a><a id="18835" class="Symbol">)</a> <a id="18837" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18839" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="18845" href="Ledger.Ledger.Properties.html#18784" class="Bound">govSt</a>
    <a id="18855" href="Ledger.Ledger.Properties.html#18744" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="18878" href="Ledger.Ledger.Properties.html#18878" class="Bound">v</a> <a id="18880" class="Symbol">{</a><a id="18881" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="18883" class="Symbol">}</a> <a id="18885" class="Symbol">=</a> <a id="18887" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="18896" href="Ledger.Ledger.Properties.html#18744" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="18919" href="Ledger.Ledger.Properties.html#18919" class="Bound">v</a> <a id="18921" class="Symbol">{(</a><a id="18923" href="Ledger.Ledger.Properties.html#18923" class="Bound">aid</a> <a id="18927" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18929" href="Ledger.Ledger.Properties.html#18929" class="Bound">ast</a><a id="18932" class="Symbol">)</a> <a id="18934" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18936" href="Ledger.Ledger.Properties.html#18936" class="Bound">govSt</a><a id="18941" class="Symbol">}</a> <a id="18943" class="Symbol">=</a>
      <a id="18951" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="18956" class="Symbol">(λ</a> <a id="18959" href="Ledger.Ledger.Properties.html#18959" class="Bound">x</a> <a id="18961" class="Symbol">→</a> <a id="18963" class="Symbol">(</a><a id="18964" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="18981" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="18983" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18988" class="Symbol">)</a> <a id="18990" class="Symbol">(</a><a id="18991" href="Ledger.Ledger.Properties.html#18923" class="Bound">aid</a> <a id="18995" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18997" href="Ledger.Ledger.Properties.html#18929" class="Bound">ast</a><a id="19000" class="Symbol">)</a> <a id="19002" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19004" href="Ledger.Ledger.Properties.html#18959" class="Bound">x</a><a id="19005" class="Symbol">)</a> <a id="19007" class="Symbol">(</a><a id="19008" href="Ledger.Ledger.Properties.html#18744" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="19031" href="Ledger.Ledger.Properties.html#18919" class="Bound">v</a><a id="19032" class="Symbol">)</a>

  <a id="SetoidProperties.props-dpMap-votes-invar"></a><a id="19037" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="19061" class="Symbol">:</a> <a id="19063" class="Symbol">(</a><a id="19064" href="Ledger.Ledger.Properties.html#19064" class="Bound">vs</a> <a id="19067" class="Symbol">:</a> <a id="19069" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19074" href="Ledger.GovernanceActions.html#1738" class="Record">GovVote</a><a id="19081" class="Symbol">)</a> <a id="19083" class="Symbol">(</a><a id="19084" href="Ledger.Ledger.Properties.html#19084" class="Bound">ps</a> <a id="19087" class="Symbol">:</a> <a id="19089" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19094" href="Ledger.GovernanceActions.html#1883" class="Record">GovProposal</a><a id="19105" class="Symbol">)</a> <a id="19107" class="Symbol">{</a><a id="19108" href="Ledger.Ledger.Properties.html#19108" class="Bound">k</a> <a id="19110" class="Symbol">:</a> <a id="19112" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="19113" class="Symbol">}</a> <a id="19115" class="Symbol">{</a><a id="19116" href="Ledger.Ledger.Properties.html#19116" class="Bound">govSt</a> <a id="19122" class="Symbol">:</a> <a id="19124" href="Ledger.Gov.html#1218" class="Function">GovState</a><a id="19132" class="Symbol">}</a>
    <a id="19138" class="Symbol">→</a> <a id="19140" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19149" class="Symbol">(</a><a id="19150" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19156" class="Symbol">(</a><a id="19157" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="19173" class="Symbol">(</a><a id="19174" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="19178" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19183" href="Ledger.Ledger.Properties.html#19084" class="Bound">ps</a> <a id="19186" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="19189" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="19193" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="19198" href="Ledger.Ledger.Properties.html#19064" class="Bound">vs</a><a id="19200" class="Symbol">)</a> <a id="19202" href="Ledger.Ledger.Properties.html#19108" class="Bound">k</a> <a id="19204" href="Ledger.Ledger.Properties.html#19116" class="Bound">govSt</a> <a id="19210" class="Symbol">))</a>
      <a id="19219" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="19222" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19231" class="Symbol">(</a><a id="19232" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19238" class="Symbol">(</a><a id="19239" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="19255" class="Symbol">(</a><a id="19256" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="19260" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19265" href="Ledger.Ledger.Properties.html#19084" class="Bound">ps</a><a id="19267" class="Symbol">)</a> <a id="19269" href="Ledger.Ledger.Properties.html#19108" class="Bound">k</a> <a id="19271" href="Ledger.Ledger.Properties.html#19116" class="Bound">govSt</a><a id="19276" class="Symbol">))</a>
  <a id="19281" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="19305" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="19308" href="Ledger.Ledger.Properties.html#19308" class="Bound">ps</a> <a id="19311" class="Symbol">{</a><a id="19312" href="Ledger.Ledger.Properties.html#19312" class="Bound">k</a><a id="19313" class="Symbol">}</a> <a id="19315" class="Symbol">{</a><a id="19316" href="Ledger.Ledger.Properties.html#19316" class="Bound">govSt</a><a id="19321" class="Symbol">}</a> <a id="19323" class="Symbol">=</a> <a id="19325" href="Relation.Binary.Structures.html#1674" class="Function">≡ᵉ.reflexive</a>
    <a id="19342" class="Symbol">(</a><a id="19343" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19348" class="Symbol">(λ</a> <a id="19351" href="Ledger.Ledger.Properties.html#19351" class="Bound">x</a> <a id="19353" class="Symbol">→</a> <a id="19355" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19364" class="Symbol">(</a><a id="19365" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19371" class="Symbol">(</a><a id="19372" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="19388" href="Ledger.Ledger.Properties.html#19351" class="Bound">x</a> <a id="19390" href="Ledger.Ledger.Properties.html#19312" class="Bound">k</a> <a id="19392" href="Ledger.Ledger.Properties.html#19316" class="Bound">govSt</a><a id="19397" class="Symbol">)))</a> <a id="19401" class="Symbol">(</a><a id="19402" href="Data.List.Properties.html#5429" class="Function">++-identityʳ</a> <a id="19415" class="Symbol">(</a><a id="19416" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="19420" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19425" href="Ledger.Ledger.Properties.html#19308" class="Bound">ps</a><a id="19427" class="Symbol">)))</a>
  <a id="19433" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="19457" class="Symbol">(</a><a id="19458" href="Ledger.Ledger.Properties.html#19458" class="Bound">v</a> <a id="19460" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19462" href="Ledger.Ledger.Properties.html#19462" class="Bound">vs</a><a id="19464" class="Symbol">)</a> <a id="19466" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="19469" class="Symbol">{</a><a id="19470" href="Ledger.Ledger.Properties.html#19470" class="Bound">k</a><a id="19471" class="Symbol">}</a> <a id="19473" class="Symbol">{</a><a id="19474" href="Ledger.Ledger.Properties.html#19474" class="Bound">govSt</a><a id="19479" class="Symbol">}</a> <a id="19481" class="Symbol">=</a> <a id="19483" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="19493" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19502" class="Symbol">(</a><a id="19503" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19509" class="Symbol">(</a><a id="19510" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="19526" class="Symbol">(</a><a id="19527" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="19531" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="19536" class="Symbol">(</a><a id="19537" href="Ledger.Ledger.Properties.html#19458" class="Bound">v</a> <a id="19539" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19541" href="Ledger.Ledger.Properties.html#19462" class="Bound">vs</a><a id="19543" class="Symbol">))</a> <a id="19546" href="Ledger.Ledger.Properties.html#19470" class="Bound">k</a> <a id="19548" href="Ledger.Ledger.Properties.html#19474" class="Bound">govSt</a><a id="19553" class="Symbol">))</a>
      <a id="19562" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="19565" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="19589" href="Ledger.Ledger.Properties.html#19462" class="Bound">vs</a> <a id="19592" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="19595" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="19601" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19610" class="Symbol">(</a><a id="19611" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19617" class="Symbol">(</a><a id="19618" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="19634" class="Symbol">(</a><a id="19635" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="19639" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19644" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="19646" class="Symbol">)</a> <a id="19648" class="Symbol">(</a><a id="19649" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="19653" href="Ledger.Ledger.Properties.html#19470" class="Bound">k</a><a id="19654" class="Symbol">)</a> <a id="19656" class="Symbol">(</a><a id="19657" href="Ledger.Ledger.Properties.html#9920" class="Function">voteUpdate</a> <a id="19668" href="Ledger.Ledger.Properties.html#19474" class="Bound">govSt</a> <a id="19674" href="Ledger.Ledger.Properties.html#19458" class="Bound">v</a><a id="19675" class="Symbol">)))</a>
      <a id="19685" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="19688" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19693" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19702" class="Symbol">(</a><a id="19703" href="Ledger.Ledger.Properties.html#18744" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="19726" href="Ledger.Ledger.Properties.html#19458" class="Bound">v</a><a id="19727" class="Symbol">)</a> <a id="19729" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="19735" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19744" class="Symbol">(</a><a id="19745" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19751" href="Ledger.Ledger.Properties.html#19474" class="Bound">govSt</a><a id="19756" class="Symbol">)</a>
      <a id="19764" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="19768" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="19792" class="Symbol">(</a><a id="19793" href="Ledger.Ledger.Properties.html#19793" class="Bound">v</a> <a id="19795" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19797" href="Ledger.Ledger.Properties.html#19797" class="Bound">vs</a><a id="19799" class="Symbol">)</a> <a id="19801" class="Symbol">(</a><a id="19802" href="Ledger.Ledger.Properties.html#19802" class="Bound">p</a> <a id="19804" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19806" href="Ledger.Ledger.Properties.html#19806" class="Bound">ps</a><a id="19808" class="Symbol">)</a> <a id="19810" class="Symbol">{</a><a id="19811" href="Ledger.Ledger.Properties.html#19811" class="Bound">k</a><a id="19812" class="Symbol">}</a> <a id="19814" class="Symbol">{</a><a id="19815" href="Ledger.Ledger.Properties.html#19815" class="Bound">govSt</a><a id="19820" class="Symbol">}</a> <a id="19822" class="Symbol">=</a> <a id="19824" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="19848" class="Symbol">(</a><a id="19849" href="Ledger.Ledger.Properties.html#19793" class="Bound">v</a> <a id="19851" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19853" href="Ledger.Ledger.Properties.html#19797" class="Bound">vs</a><a id="19855" class="Symbol">)</a> <a id="19857" href="Ledger.Ledger.Properties.html#19806" class="Bound">ps</a>

  <a id="SetoidProperties.dpMap-update-∪"></a><a id="19863" href="Ledger.Ledger.Properties.html#19863" class="Function">dpMap-update-∪</a> <a id="19878" class="Symbol">:</a> <a id="19880" class="Symbol">∀</a> <a id="19882" href="Ledger.Ledger.Properties.html#19882" class="Bound">gSt</a> <a id="19886" href="Ledger.Ledger.Properties.html#19886" class="Bound">p</a> <a id="19888" href="Ledger.Ledger.Properties.html#19888" class="Bound">k</a>
    <a id="19894" class="Symbol">→</a> <a id="19896" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19905" class="Symbol">(</a><a id="19906" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19912" href="Ledger.Ledger.Properties.html#19882" class="Bound">gSt</a><a id="19915" class="Symbol">)</a> <a id="19917" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="19919" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="19921" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="19938" class="Symbol">(</a><a id="19939" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="19944" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19946" href="Ledger.Ledger.Properties.html#19888" class="Bound">k</a><a id="19947" class="Symbol">)</a> <a id="19949" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="19959" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="19962" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19971" class="Symbol">(</a><a id="19972" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19978" class="Symbol">(</a><a id="19979" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="19990" href="Ledger.Ledger.Properties.html#19882" class="Bound">gSt</a> <a id="19994" href="Ledger.Ledger.Properties.html#19886" class="Bound">p</a> <a id="19996" href="Ledger.Ledger.Properties.html#19888" class="Bound">k</a><a id="19997" class="Symbol">))</a>
  <a id="20002" href="Ledger.Ledger.Properties.html#19863" class="Function">dpMap-update-∪</a> <a id="20017" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="20020" href="Ledger.Ledger.Properties.html#20020" class="Bound">p</a> <a id="20022" href="Ledger.Ledger.Properties.html#20022" class="Bound">k</a> <a id="20024" class="Symbol">=</a> <a id="20026" href="Axiom.Set.Properties.html#11917" class="Function">∪-identityˡ</a> <a id="20038" class="Symbol">(</a><a id="20039" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20048" class="Symbol">(</a><a id="20049" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20055" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="20057" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="20066" href="Ledger.Ledger.Properties.html#20020" class="Bound">p</a> <a id="20068" href="Ledger.Ledger.Properties.html#20022" class="Bound">k</a> <a id="20070" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="20071" class="Symbol">))</a>
  <a id="20076" href="Ledger.Ledger.Properties.html#19863" class="Function">dpMap-update-∪</a> <a id="20091" class="Symbol">(</a><a id="20092" href="Ledger.Ledger.Properties.html#20092" class="Bound">g</a><a id="20093" class="Symbol">@(</a><a id="20095" href="Ledger.Ledger.Properties.html#20095" class="Bound">gaID₀</a> <a id="20101" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20103" href="Ledger.Ledger.Properties.html#20103" class="Bound">gaSt₀</a><a id="20108" class="Symbol">)</a> <a id="20110" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20112" href="Ledger.Ledger.Properties.html#20112" class="Bound">gSt</a><a id="20115" class="Symbol">)</a> <a id="20117" href="Ledger.Ledger.Properties.html#20117" class="Bound">p</a> <a id="20119" href="Ledger.Ledger.Properties.html#20119" class="Bound">k</a>
    <a id="20125" class="Keyword">with</a> <a id="20130" class="Symbol">(</a><a id="20131" href="Ledger.Gov.html#1833" class="Function">govActionPriority</a> <a id="20149" class="Symbol">(</a><a id="20150" href="Ledger.GovernanceActions.html#2217" class="Field">GovActionState.action</a> <a id="20172" href="Ledger.Ledger.Properties.html#20103" class="Bound">gaSt₀</a><a id="20177" class="Symbol">))</a>
         <a id="20189" href="Class.HasOrder.Core.html#916" class="Function Operator">≤?</a> <a id="20192" class="Symbol">(</a><a id="20193" href="Ledger.Gov.html#1833" class="Function">govActionPriority</a> <a id="20211" class="Symbol">(</a><a id="20212" href="Ledger.GovernanceActions.html#2217" class="Field">GovActionState.action</a> <a id="20234" class="Symbol">(</a><a id="20235" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="20241" class="Symbol">(</a><a id="20242" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="20251" href="Ledger.Ledger.Properties.html#20117" class="Bound">p</a> <a id="20253" href="Ledger.Ledger.Properties.html#20119" class="Bound">k</a><a id="20254" class="Symbol">))))</a>
  <a id="20261" class="Symbol">...</a> <a id="20265" class="Symbol">|</a> <a id="20267" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="20271" class="Symbol">_</a>  <a id="20274" class="Symbol">=</a> <a id="20276" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="20288" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20297" class="Symbol">(</a><a id="20298" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20304" class="Symbol">(</a><a id="20305" class="Bound">g</a> <a id="20307" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20309" class="Bound">gSt</a><a id="20312" class="Symbol">))</a> <a id="20315" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20317" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20319" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20336" class="Symbol">(</a><a id="20337" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="20342" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20344" class="Bound">k</a><a id="20345" class="Symbol">)</a> <a id="20347" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="20357" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="20360" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="20367" href="Axiom.Set.Properties.html#12190" class="Function">fromList-∪-singleton</a> <a id="20388" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="20396" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="20404" class="Symbol">(</a><a id="20405" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20407" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20424" class="Bound">gaID₀</a> <a id="20430" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20432" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20434" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20443" class="Symbol">(</a><a id="20444" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20450" class="Bound">gSt</a><a id="20453" class="Symbol">))</a> <a id="20456" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20458" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20460" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20477" class="Symbol">(</a><a id="20478" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="20483" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20485" class="Bound">k</a><a id="20486" class="Symbol">)</a> <a id="20488" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="20498" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="20501" href="Axiom.Set.Properties.html#12114" class="Function">∪-assoc</a> <a id="20509" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20511" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20528" class="Bound">gaID₀</a> <a id="20534" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20536" class="Symbol">(</a><a id="20537" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20546" class="Symbol">(</a><a id="20547" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20553" class="Bound">gSt</a><a id="20556" class="Symbol">))</a> <a id="20559" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20561" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20578" class="Symbol">(</a><a id="20579" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="20584" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20586" class="Bound">k</a><a id="20587" class="Symbol">)</a> <a id="20589" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20591" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="20599" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20601" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20618" class="Bound">gaID₀</a> <a id="20624" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20626" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20628" class="Symbol">(</a><a id="20629" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20638" class="Symbol">(</a><a id="20639" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20645" class="Bound">gSt</a><a id="20648" class="Symbol">)</a> <a id="20650" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20652" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20654" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20671" class="Symbol">(</a><a id="20672" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="20677" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20679" class="Bound">k</a><a id="20680" class="Symbol">)</a> <a id="20682" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="20683" class="Symbol">)</a>
        <a id="20693" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="20696" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="20703" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="20711" class="Symbol">(</a><a id="20712" href="Ledger.Ledger.Properties.html#19863" class="Function">dpMap-update-∪</a> <a id="20727" class="Bound">gSt</a> <a id="20731" class="Bound">p</a> <a id="20733" class="Bound">k</a><a id="20734" class="Symbol">)</a> <a id="20736" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="20744" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20746" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20763" class="Bound">gaID₀</a> <a id="20769" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20771" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20773" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20782" class="Symbol">(</a><a id="20783" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20789" class="Symbol">(</a><a id="20790" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="20801" class="Bound">gSt</a> <a id="20805" class="Bound">p</a> <a id="20807" class="Bound">k</a><a id="20808" class="Symbol">))</a>
        <a id="20819" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="20823" href="Axiom.Set.Properties.html#12190" class="Function">fromList-∪-singleton</a> <a id="20844" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="20852" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20861" class="Symbol">(</a><a id="20862" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20868" class="Symbol">(</a><a id="20869" class="Bound">g</a> <a id="20871" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20873" href="Ledger.Gov.html#2607" class="Function">insertGovAction</a> <a id="20889" class="Bound">gSt</a> <a id="20893" class="Symbol">(</a><a id="20894" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="20903" class="Bound">p</a> <a id="20905" class="Bound">k</a><a id="20906" class="Symbol">)))</a>
        <a id="20918" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="20922" class="Symbol">...</a> <a id="20926" class="Symbol">|</a> <a id="20928" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="20931" class="Symbol">_</a>   <a id="20935" class="Symbol">=</a> <a id="20937" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="20949" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20958" class="Symbol">(</a><a id="20959" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20965" class="Symbol">(</a><a id="20966" class="Bound">g</a> <a id="20968" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20970" class="Bound">gSt</a><a id="20973" class="Symbol">))</a> <a id="20976" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20978" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20980" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20997" class="Symbol">(</a><a id="20998" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21003" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21005" class="Bound">k</a><a id="21006" class="Symbol">)</a> <a id="21008" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="21018" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="21021" href="Axiom.Set.Properties.html#12053" class="Function">∪-comm</a> <a id="21028" class="Symbol">(</a><a id="21029" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21038" class="Symbol">(</a><a id="21039" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21045" class="Symbol">(</a><a id="21046" class="Bound">g</a> <a id="21048" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21050" class="Bound">gSt</a><a id="21053" class="Symbol">)))</a> <a id="21057" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21059" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21076" class="Symbol">(</a><a id="21077" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21082" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21084" class="Bound">k</a><a id="21085" class="Symbol">)</a> <a id="21087" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="21089" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="21097" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21099" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21116" class="Symbol">(</a><a id="21117" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21122" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21124" class="Bound">k</a><a id="21125" class="Symbol">)</a> <a id="21127" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="21129" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21131" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21140" class="Symbol">(</a><a id="21141" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21147" class="Symbol">(</a><a id="21148" class="Bound">g</a> <a id="21150" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21152" class="Bound">gSt</a><a id="21155" class="Symbol">))</a>
        <a id="21166" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="21170" href="Axiom.Set.Properties.html#12190" class="Function">fromList-∪-singleton</a> <a id="21191" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="21199" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21208" class="Symbol">(</a><a id="21209" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21215" class="Symbol">((</a><a id="21217" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="21226" class="Bound">p</a> <a id="21228" class="Bound">k</a><a id="21229" class="Symbol">)</a> <a id="21231" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21233" class="Bound">g</a> <a id="21235" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21237" class="Bound">gSt</a><a id="21240" class="Symbol">))</a>
        <a id="21251" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="SetoidProperties.connex-lemma"></a><a id="21256" href="Ledger.Ledger.Properties.html#21256" class="Function">connex-lemma</a> <a id="21269" class="Symbol">:</a> <a id="21271" class="Symbol">∀</a> <a id="21273" href="Ledger.Ledger.Properties.html#21273" class="Bound">gSt</a> <a id="21277" href="Ledger.Ledger.Properties.html#21277" class="Bound">p</a> <a id="21279" href="Ledger.Ledger.Properties.html#21279" class="Bound">ps</a> <a id="21282" class="Symbol">{</a><a id="21283" href="Ledger.Ledger.Properties.html#21283" class="Bound">k</a><a id="21284" class="Symbol">}</a>
    <a id="21290" class="Symbol">→</a> <a id="21292" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21301" class="Symbol">(</a><a id="21302" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21308" class="Symbol">(</a><a id="21309" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="21325" class="Symbol">(</a><a id="21326" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="21330" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="21335" href="Ledger.Ledger.Properties.html#21279" class="Bound">ps</a><a id="21337" class="Symbol">)</a> <a id="21339" href="Ledger.Ledger.Properties.html#21283" class="Bound">k</a> <a id="21341" href="Ledger.Ledger.Properties.html#21273" class="Bound">gSt</a><a id="21344" class="Symbol">))</a> <a id="21347" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21349" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21351" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21368" class="Symbol">(</a><a id="21369" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21374" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21376" href="Ledger.Ledger.Properties.html#21283" class="Bound">k</a> <a id="21378" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21380" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21387" href="Ledger.Ledger.Properties.html#21279" class="Bound">ps</a><a id="21389" class="Symbol">)</a> <a id="21391" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="21401" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="21404" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21413" class="Symbol">(</a><a id="21414" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21420" class="Symbol">(</a><a id="21421" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="21437" class="Symbol">(</a><a id="21438" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="21442" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="21447" href="Ledger.Ledger.Properties.html#21279" class="Bound">ps</a><a id="21449" class="Symbol">)</a> <a id="21451" class="Symbol">(</a><a id="21452" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="21456" href="Ledger.Ledger.Properties.html#21283" class="Bound">k</a><a id="21457" class="Symbol">)</a> <a id="21459" class="Symbol">(</a><a id="21460" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="21471" href="Ledger.Ledger.Properties.html#21273" class="Bound">gSt</a> <a id="21475" href="Ledger.Ledger.Properties.html#21277" class="Bound">p</a> <a id="21477" href="Ledger.Ledger.Properties.html#21283" class="Bound">k</a><a id="21478" class="Symbol">)))</a>
  <a id="21484" href="Ledger.Ledger.Properties.html#21256" class="Function">connex-lemma</a> <a id="21497" href="Ledger.Ledger.Properties.html#21497" class="Bound">gSt</a> <a id="21501" href="Ledger.Ledger.Properties.html#21501" class="Bound">p</a> <a id="21503" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="21506" class="Symbol">{</a><a id="21507" href="Ledger.Ledger.Properties.html#21507" class="Bound">k</a><a id="21508" class="Symbol">}</a> <a id="21510" class="Symbol">=</a> <a id="21512" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="21524" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21533" class="Symbol">(</a><a id="21534" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21540" href="Ledger.Ledger.Properties.html#21497" class="Bound">gSt</a><a id="21543" class="Symbol">)</a> <a id="21545" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21547" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21549" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21566" class="Symbol">(</a><a id="21567" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21572" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21574" href="Ledger.Ledger.Properties.html#21507" class="Bound">k</a> <a id="21576" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21578" class="Number">0</a><a id="21579" class="Symbol">)</a> <a id="21581" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="21591" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21594" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21599" class="Symbol">(λ</a> <a id="21602" href="Ledger.Ledger.Properties.html#21602" class="Bound">x</a> <a id="21604" class="Symbol">→</a> <a id="21606" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21615" class="Symbol">(</a><a id="21616" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21622" href="Ledger.Ledger.Properties.html#21497" class="Bound">gSt</a><a id="21625" class="Symbol">)</a> <a id="21627" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21629" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21631" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21648" class="Symbol">(</a><a id="21649" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21654" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21656" href="Ledger.Ledger.Properties.html#21602" class="Bound">x</a><a id="21657" class="Symbol">)</a> <a id="21659" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="21660" class="Symbol">)</a> <a id="21662" class="Symbol">(</a><a id="21663" href="Data.Nat.Properties.html#15269" class="Function">+-identityʳ</a> <a id="21675" href="Ledger.Ledger.Properties.html#21507" class="Bound">k</a><a id="21676" class="Symbol">)</a> <a id="21678" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="21686" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21695" class="Symbol">(</a><a id="21696" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21702" href="Ledger.Ledger.Properties.html#21497" class="Bound">gSt</a><a id="21705" class="Symbol">)</a> <a id="21707" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21709" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21711" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21728" class="Symbol">(</a><a id="21729" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21734" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21736" href="Ledger.Ledger.Properties.html#21507" class="Bound">k</a><a id="21737" class="Symbol">)</a> <a id="21739" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="21749" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="21752" href="Ledger.Ledger.Properties.html#19863" class="Function">dpMap-update-∪</a> <a id="21767" href="Ledger.Ledger.Properties.html#21497" class="Bound">gSt</a> <a id="21771" href="Ledger.Ledger.Properties.html#21501" class="Bound">p</a> <a id="21773" href="Ledger.Ledger.Properties.html#21507" class="Bound">k</a> <a id="21775" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="21783" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21792" class="Symbol">(</a><a id="21793" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21799" class="Symbol">(</a><a id="21800" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="21811" href="Ledger.Ledger.Properties.html#21497" class="Bound">gSt</a> <a id="21815" href="Ledger.Ledger.Properties.html#21501" class="Bound">p</a> <a id="21817" href="Ledger.Ledger.Properties.html#21507" class="Bound">k</a><a id="21818" class="Symbol">))</a>
        <a id="21829" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="21833" href="Ledger.Ledger.Properties.html#21256" class="Function">connex-lemma</a> <a id="21846" href="Ledger.Ledger.Properties.html#21846" class="Bound">gSt</a> <a id="21850" href="Ledger.Ledger.Properties.html#21850" class="Bound">p</a> <a id="21852" class="Symbol">(</a><a id="21853" href="Ledger.Ledger.Properties.html#21853" class="Bound">p&#39;</a> <a id="21856" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21858" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="21860" class="Symbol">)</a> <a id="21862" class="Symbol">{</a><a id="21863" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a><a id="21864" class="Symbol">}</a> <a id="21866" class="Symbol">=</a> <a id="21868" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="21878" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21887" class="Symbol">(</a><a id="21888" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21894" class="Symbol">(</a><a id="21895" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="21911" class="Symbol">(</a><a id="21912" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="21916" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="21921" class="Symbol">(</a><a id="21922" href="Ledger.Ledger.Properties.html#21853" class="Bound">p&#39;</a> <a id="21925" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21927" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="21929" class="Symbol">))</a> <a id="21932" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a> <a id="21934" href="Ledger.Ledger.Properties.html#21846" class="Bound">gSt</a><a id="21937" class="Symbol">))</a>
      <a id="21946" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21948" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21950" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21967" class="Symbol">(</a><a id="21968" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21973" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21975" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a> <a id="21977" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21979" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21986" class="Symbol">(</a><a id="21987" href="Ledger.Ledger.Properties.html#21853" class="Bound">p&#39;</a> <a id="21990" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21992" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="21994" class="Symbol">))</a> <a id="21997" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="22007" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22010" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22015" class="Symbol">(λ</a> <a id="22018" href="Ledger.Ledger.Properties.html#22018" class="Bound">x</a> <a id="22020" class="Symbol">→</a> <a id="22022" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22031" class="Symbol">(</a><a id="22032" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="22038" class="Symbol">(</a><a id="22039" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="22055" class="Symbol">(</a><a id="22056" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="22060" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22065" class="Symbol">(</a><a id="22066" href="Ledger.Ledger.Properties.html#21853" class="Bound">p&#39;</a> <a id="22069" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="22071" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="22073" class="Symbol">))</a> <a id="22076" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a> <a id="22078" href="Ledger.Ledger.Properties.html#21846" class="Bound">gSt</a><a id="22081" class="Symbol">))</a>
            <a id="22096" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22098" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22100" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="22117" class="Symbol">(</a><a id="22118" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="22123" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22125" href="Ledger.Ledger.Properties.html#22018" class="Bound">x</a><a id="22126" class="Symbol">)</a> <a id="22128" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="22129" class="Symbol">)</a> <a id="22131" class="Symbol">(</a><a id="22132" href="Data.Nat.Properties.html#14905" class="Function">+-suc</a> <a id="22138" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a> <a id="22140" class="Symbol">(</a><a id="22141" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22148" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="22150" class="Symbol">))</a> <a id="22153" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="22159" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22168" class="Symbol">(</a><a id="22169" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="22175" class="Symbol">(</a><a id="22176" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="22192" class="Symbol">(</a><a id="22193" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="22197" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22202" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="22204" class="Symbol">)</a> <a id="22206" class="Symbol">(</a><a id="22207" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22211" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a><a id="22212" class="Symbol">)</a> <a id="22214" class="Symbol">(</a><a id="22215" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="22226" href="Ledger.Ledger.Properties.html#21846" class="Bound">gSt</a> <a id="22230" href="Ledger.Ledger.Properties.html#21853" class="Bound">p&#39;</a> <a id="22233" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a><a id="22234" class="Symbol">)))</a>
      <a id="22244" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22246" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22248" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="22265" class="Symbol">(</a><a id="22266" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="22271" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22273" class="Symbol">(</a><a id="22274" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22278" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a><a id="22279" class="Symbol">)</a> <a id="22281" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22283" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22290" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="22292" class="Symbol">)</a> <a id="22294" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="22304" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="22308" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="22315" class="Symbol">(</a><a id="22316" href="Ledger.Ledger.Properties.html#21256" class="Function">connex-lemma</a> <a id="22329" href="Ledger.Ledger.Properties.html#21846" class="Bound">gSt</a> <a id="22333" href="Ledger.Ledger.Properties.html#21853" class="Bound">p&#39;</a> <a id="22336" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="22338" class="Symbol">)</a> <a id="22340" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="22348" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="22354" class="Symbol">(</a><a id="22355" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22364" class="Symbol">(</a><a id="22365" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="22371" class="Symbol">(</a><a id="22372" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="22388" class="Symbol">(</a><a id="22389" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="22393" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22398" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="22400" class="Symbol">)</a> <a id="22402" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a> <a id="22404" href="Ledger.Ledger.Properties.html#21846" class="Bound">gSt</a><a id="22407" class="Symbol">))</a>
      <a id="22416" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22418" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22420" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="22437" class="Symbol">(</a><a id="22438" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="22443" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22445" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a> <a id="22447" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22449" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22456" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="22458" class="Symbol">)</a> <a id="22460" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="22461" class="Symbol">)</a>
      <a id="22469" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22471" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22473" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="22490" class="Symbol">(</a><a id="22491" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="22496" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22498" class="Symbol">(</a><a id="22499" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22503" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a><a id="22504" class="Symbol">)</a> <a id="22506" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22508" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22515" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="22517" class="Symbol">)</a> <a id="22519" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="22529" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="22532" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="22539" class="Symbol">(</a><a id="22540" href="Ledger.Ledger.Properties.html#21256" class="Function">connex-lemma</a> <a id="22553" href="Ledger.Ledger.Properties.html#21846" class="Bound">gSt</a> <a id="22557" href="Ledger.Ledger.Properties.html#21850" class="Bound">p</a> <a id="22559" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="22561" class="Symbol">)</a> <a id="22563" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="22571" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="22577" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22586" class="Symbol">(</a><a id="22587" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="22593" class="Symbol">(</a><a id="22594" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="22610" class="Symbol">(</a><a id="22611" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="22615" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22620" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="22622" class="Symbol">)</a> <a id="22624" class="Symbol">(</a><a id="22625" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22629" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a><a id="22630" class="Symbol">)</a> <a id="22632" class="Symbol">(</a><a id="22633" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="22644" href="Ledger.Ledger.Properties.html#21846" class="Bound">gSt</a> <a id="22648" href="Ledger.Ledger.Properties.html#21850" class="Bound">p</a> <a id="22650" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a><a id="22651" class="Symbol">)))</a>
      <a id="22661" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22663" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22665" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="22682" class="Symbol">(</a><a id="22683" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="22688" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22690" class="Symbol">(</a><a id="22691" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22695" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a><a id="22696" class="Symbol">)</a> <a id="22698" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22700" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22707" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="22709" class="Symbol">)</a> <a id="22711" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="22721" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="22724" href="Ledger.Ledger.Properties.html#21256" class="Function">connex-lemma</a> <a id="22737" class="Symbol">(</a><a id="22738" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="22749" href="Ledger.Ledger.Properties.html#21846" class="Bound">gSt</a> <a id="22753" href="Ledger.Ledger.Properties.html#21850" class="Bound">p</a> <a id="22755" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a><a id="22756" class="Symbol">)</a> <a id="22758" href="Ledger.Ledger.Properties.html#21853" class="Bound">p&#39;</a> <a id="22761" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a> <a id="22764" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="22770" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22779" class="Symbol">(</a><a id="22780" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="22786" class="Symbol">(</a><a id="22787" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="22803" class="Symbol">(</a><a id="22804" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="22808" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22813" class="Symbol">(</a><a id="22814" href="Ledger.Ledger.Properties.html#21853" class="Bound">p&#39;</a> <a id="22817" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="22819" href="Ledger.Ledger.Properties.html#21858" class="Bound">ps</a><a id="22821" class="Symbol">))</a> <a id="22824" class="Symbol">(</a><a id="22825" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22829" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a><a id="22830" class="Symbol">)</a> <a id="22832" class="Symbol">(</a><a id="22833" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="22844" href="Ledger.Ledger.Properties.html#21846" class="Bound">gSt</a> <a id="22848" href="Ledger.Ledger.Properties.html#21850" class="Bound">p</a> <a id="22850" href="Ledger.Ledger.Properties.html#21863" class="Bound">k</a><a id="22851" class="Symbol">)))</a>
        <a id="22863" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="SetoidProperties.utxo-govst-connex"></a><a id="22868" href="Ledger.Ledger.Properties.html#22868" class="Function">utxo-govst-connex</a> <a id="22886" class="Symbol">:</a> <a id="22888" class="Symbol">∀</a> <a id="22890" href="Ledger.Ledger.Properties.html#22890" class="Bound">txp</a> <a id="22894" class="Symbol">{</a><a id="22895" href="Ledger.Ledger.Properties.html#22895" class="Bound">utxoDs</a> <a id="22902" href="Ledger.Ledger.Properties.html#22902" class="Bound">gSt</a> <a id="22906" href="Ledger.Ledger.Properties.html#22906" class="Bound">gad</a><a id="22909" class="Symbol">}</a>
    <a id="22915" class="Symbol">→</a> <a id="22917" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="22925" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="22937" class="Symbol">(</a><a id="22938" href="Class.IsSet.html#916" class="Function">dom</a> <a id="22942" class="Symbol">(</a><a id="22943" href="Ledger.Ledger.Properties.html#22895" class="Bound">utxoDs</a><a id="22949" class="Symbol">))</a> <a id="22952" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="22955" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22964" class="Symbol">(</a><a id="22965" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="22971" href="Ledger.Ledger.Properties.html#22902" class="Bound">gSt</a><a id="22974" class="Symbol">)</a>
    <a id="22980" class="Symbol">→</a> <a id="22982" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="22990" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="23002" class="Symbol">(</a><a id="23003" href="Class.IsSet.html#916" class="Function">dom</a> <a id="23007" class="Symbol">(</a><a id="23008" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="23031" href="Ledger.Ledger.Properties.html#22890" class="Bound">txp</a> <a id="23035" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23040" href="Ledger.Ledger.Properties.html#22906" class="Bound">gad</a> <a id="23044" href="Ledger.Ledger.Properties.html#22895" class="Bound">utxoDs</a><a id="23050" class="Symbol">))</a>
      <a id="23059" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="23062" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23071" class="Symbol">(</a><a id="23072" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="23078" class="Symbol">(</a><a id="23079" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="23095" class="Symbol">(</a><a id="23096" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="23100" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="23105" href="Ledger.Ledger.Properties.html#22890" class="Bound">txp</a><a id="23108" class="Symbol">)</a> <a id="23110" class="Number">0</a> <a id="23112" href="Ledger.Ledger.Properties.html#22902" class="Bound">gSt</a><a id="23115" class="Symbol">))</a>
  <a id="23120" href="Ledger.Ledger.Properties.html#22868" class="Function">utxo-govst-connex</a> <a id="23138" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="23141" href="Ledger.Ledger.Properties.html#23141" class="Bound">x</a> <a id="23143" class="Symbol">=</a> <a id="23145" href="Ledger.Ledger.Properties.html#23141" class="Bound">x</a>
  <a id="23149" href="Ledger.Ledger.Properties.html#22868" class="Function">utxo-govst-connex</a> <a id="23167" class="Symbol">(</a><a id="23168" href="Ledger.Ledger.Properties.html#23168" class="Bound">p</a> <a id="23170" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="23172" href="Ledger.Ledger.Properties.html#23172" class="Bound">ps</a><a id="23174" class="Symbol">)</a> <a id="23176" class="Symbol">{</a><a id="23177" href="Ledger.Ledger.Properties.html#23177" class="Bound">utxoDs</a><a id="23183" class="Symbol">}</a> <a id="23185" class="Symbol">{</a><a id="23186" href="Ledger.Ledger.Properties.html#23186" class="Bound">gSt</a><a id="23189" class="Symbol">}</a> <a id="23191" class="Symbol">{</a><a id="23192" href="Ledger.Ledger.Properties.html#23192" class="Bound">gad</a><a id="23195" class="Symbol">}</a> <a id="23197" href="Ledger.Ledger.Properties.html#23197" class="Bound">x</a> <a id="23199" class="Symbol">=</a> <a id="23201" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="23211" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23219" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="23231" class="Symbol">(</a><a id="23232" href="Class.IsSet.html#916" class="Function">dom</a> <a id="23236" class="Symbol">(</a><a id="23237" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="23260" class="Symbol">(</a><a id="23261" href="Ledger.Ledger.Properties.html#23168" class="Bound">p</a> <a id="23263" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="23265" href="Ledger.Ledger.Properties.html#23172" class="Bound">ps</a><a id="23267" class="Symbol">)</a> <a id="23269" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23274" href="Ledger.Ledger.Properties.html#23192" class="Bound">gad</a> <a id="23278" href="Ledger.Ledger.Properties.html#23177" class="Bound">utxoDs</a><a id="23284" class="Symbol">))</a>
      <a id="23293" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="23296" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="23311" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="23322" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="23328" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23336" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="23348" class="Symbol">((</a><a id="23350" href="Class.IsSet.html#916" class="Function">dom</a> <a id="23354" class="Symbol">(</a><a id="23355" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="23378" href="Ledger.Ledger.Properties.html#23172" class="Bound">ps</a> <a id="23381" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23386" href="Ledger.Ledger.Properties.html#23192" class="Bound">gad</a> <a id="23390" href="Ledger.Ledger.Properties.html#23177" class="Bound">utxoDs</a><a id="23396" class="Symbol">))</a>
      <a id="23405" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="23407" class="Symbol">(</a><a id="23408" href="Class.IsSet.html#916" class="Function">dom</a><a id="23411" class="Symbol">{</a><a id="23412" class="Argument">X</a> <a id="23414" class="Symbol">=</a> <a id="23416" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="23431" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="23433" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="23437" class="Symbol">}</a> <a id="23439" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="23441" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="23458" class="Symbol">(</a><a id="23459" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23464" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23466" href="Data.List.Base.html#5044" class="Function">length</a> <a id="23473" href="Ledger.Ledger.Properties.html#23172" class="Bound">ps</a><a id="23475" class="Symbol">)</a> <a id="23477" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23479" href="Ledger.Ledger.Properties.html#23192" class="Bound">gad</a> <a id="23483" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="23484" class="Symbol">))</a>
      <a id="23493" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="23496" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="23509" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="23515" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23523" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="23535" class="Symbol">(</a><a id="23536" href="Class.IsSet.html#916" class="Function">dom</a> <a id="23540" class="Symbol">(</a><a id="23541" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="23564" href="Ledger.Ledger.Properties.html#23172" class="Bound">ps</a> <a id="23567" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23572" href="Ledger.Ledger.Properties.html#23192" class="Bound">gad</a> <a id="23576" href="Ledger.Ledger.Properties.html#23177" class="Bound">utxoDs</a><a id="23582" class="Symbol">))</a> <a id="23585" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="23587" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23595" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a>
        <a id="23615" class="Symbol">(</a><a id="23616" href="Class.IsSet.html#916" class="Function">dom</a><a id="23619" class="Symbol">{</a><a id="23620" class="Argument">X</a> <a id="23622" class="Symbol">=</a> <a id="23624" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="23639" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="23641" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="23645" class="Symbol">}</a> <a id="23647" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="23649" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="23666" class="Symbol">(</a><a id="23667" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23672" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23674" href="Data.List.Base.html#5044" class="Function">length</a> <a id="23681" href="Ledger.Ledger.Properties.html#23172" class="Bound">ps</a><a id="23683" class="Symbol">)</a> <a id="23685" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23687" href="Ledger.Ledger.Properties.html#23192" class="Bound">gad</a> <a id="23691" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="23692" class="Symbol">)</a>
      <a id="23700" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="23703" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="23710" class="Symbol">(</a><a id="23711" href="Ledger.Ledger.Properties.html#22868" class="Function">utxo-govst-connex</a> <a id="23729" href="Ledger.Ledger.Properties.html#23172" class="Bound">ps</a> <a id="23732" href="Ledger.Ledger.Properties.html#23197" class="Bound">x</a><a id="23733" class="Symbol">)</a> <a id="23735" class="Symbol">(</a><a id="23736" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="23751" href="Axiom.Set.Rel.html#3373" class="Function">dom-single≡single</a><a id="23768" class="Symbol">)</a> <a id="23770" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="23776" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23785" class="Symbol">(</a><a id="23786" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="23792" class="Symbol">(</a><a id="23793" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="23809" class="Symbol">(</a><a id="23810" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="23814" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="23819" href="Ledger.Ledger.Properties.html#23172" class="Bound">ps</a><a id="23821" class="Symbol">)</a> <a id="23823" class="Number">0</a> <a id="23825" href="Ledger.Ledger.Properties.html#23186" class="Bound">gSt</a><a id="23828" class="Symbol">))</a>
      <a id="23837" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="23839" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23847" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="23859" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="23861" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="23878" class="Symbol">(</a><a id="23879" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23884" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23886" href="Data.List.Base.html#5044" class="Function">length</a> <a id="23893" href="Ledger.Ledger.Properties.html#23172" class="Bound">ps</a><a id="23895" class="Symbol">)</a> <a id="23897" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="23905" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="23908" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a>  <a id="23916" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="23924" class="Symbol">(</a><a id="23925" href="Ledger.Ledger.Properties.html#8765" class="Function">filterGA</a> <a id="23934" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23939" class="Symbol">_)</a> <a id="23942" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="23948" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23957" class="Symbol">(</a><a id="23958" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="23964" class="Symbol">(</a><a id="23965" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="23981" class="Symbol">(</a><a id="23982" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="23986" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="23991" href="Ledger.Ledger.Properties.html#23172" class="Bound">ps</a><a id="23993" class="Symbol">)</a> <a id="23995" class="Number">0</a> <a id="23997" href="Ledger.Ledger.Properties.html#23186" class="Bound">gSt</a><a id="24000" class="Symbol">))</a> <a id="24003" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="24005" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="24007" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="24024" class="Symbol">(</a><a id="24025" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="24030" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24032" href="Data.List.Base.html#5044" class="Function">length</a> <a id="24039" href="Ledger.Ledger.Properties.html#23172" class="Bound">ps</a><a id="24041" class="Symbol">)</a> <a id="24043" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="24051" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="24054" href="Ledger.Ledger.Properties.html#21256" class="Function">connex-lemma</a> <a id="24067" href="Ledger.Ledger.Properties.html#23186" class="Bound">gSt</a> <a id="24071" href="Ledger.Ledger.Properties.html#23168" class="Bound">p</a> <a id="24073" href="Ledger.Ledger.Properties.html#23172" class="Bound">ps</a> <a id="24076" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="24082" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24091" class="Symbol">(</a><a id="24092" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24098" class="Symbol">(</a><a id="24099" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="24115" class="Symbol">(</a><a id="24116" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24120" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24125" class="Symbol">(</a><a id="24126" href="Ledger.Ledger.Properties.html#23168" class="Bound">p</a> <a id="24128" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="24130" href="Ledger.Ledger.Properties.html#23172" class="Bound">ps</a><a id="24132" class="Symbol">))</a> <a id="24135" class="Number">0</a> <a id="24137" href="Ledger.Ledger.Properties.html#23186" class="Bound">gSt</a><a id="24140" class="Symbol">))</a> <a id="24143" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="24148" class="Comment">-- The list of natural numbers from 0 up to `n` - 1.</a>
  <a id="SetoidProperties.⟦0:&lt;_⟧"></a><a id="24203" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;_⟧</a> <a id="24210" class="Symbol">:</a> <a id="24212" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="24214" class="Symbol">→</a> <a id="24216" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="24221" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="24225" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="24230" class="Number">0</a>     <a id="24236" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a> <a id="24238" class="Symbol">=</a> <a id="24240" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="24245" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="24250" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="24254" href="Ledger.Ledger.Properties.html#24254" class="Bound">n</a> <a id="24256" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a> <a id="24258" class="Symbol">=</a> <a id="24260" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="24265" href="Ledger.Ledger.Properties.html#24254" class="Bound">n</a> <a id="24267" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a> <a id="24269" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="24272" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="24274" href="Ledger.Ledger.Properties.html#24254" class="Bound">n</a> <a id="24276" href="Data.List.Base.html#5205" class="Function Operator">]</a>

  <a id="SetoidProperties.connex-lemma-rep"></a><a id="24281" href="Ledger.Ledger.Properties.html#24281" class="Function">connex-lemma-rep</a> <a id="24298" class="Symbol">:</a> <a id="24300" class="Symbol">∀</a> <a id="24302" href="Ledger.Ledger.Properties.html#24302" class="Bound">k</a> <a id="24304" href="Ledger.Ledger.Properties.html#24304" class="Bound">govSt</a> <a id="24310" href="Ledger.Ledger.Properties.html#24310" class="Bound">ps</a> <a id="24313" class="Symbol">→</a>
    <a id="24319" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24328" class="Symbol">(</a><a id="24329" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24335" class="Symbol">(</a><a id="24336" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="24352" class="Symbol">(</a><a id="24353" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24357" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24362" href="Ledger.Ledger.Properties.html#24310" class="Bound">ps</a><a id="24364" class="Symbol">)</a> <a id="24366" href="Ledger.Ledger.Properties.html#24302" class="Bound">k</a> <a id="24368" href="Ledger.Ledger.Properties.html#24304" class="Bound">govSt</a><a id="24373" class="Symbol">))</a>
    <a id="24380" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a>
    <a id="24387" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24396" class="Symbol">(</a><a id="24397" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24403" href="Ledger.Ledger.Properties.html#24304" class="Bound">govSt</a><a id="24408" class="Symbol">)</a> <a id="24410" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="24412" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24421" class="Symbol">(</a><a id="24422" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24426" class="Symbol">(λ</a> <a id="24429" href="Ledger.Ledger.Properties.html#24429" class="Bound">i</a> <a id="24431" class="Symbol">→</a> <a id="24433" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="24450" class="Symbol">(</a><a id="24451" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="24456" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24458" href="Ledger.Ledger.Properties.html#24302" class="Bound">k</a> <a id="24460" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24462" href="Ledger.Ledger.Properties.html#24429" class="Bound">i</a><a id="24463" class="Symbol">))</a> <a id="24466" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="24471" href="Data.List.Base.html#5044" class="Function">length</a> <a id="24478" href="Ledger.Ledger.Properties.html#24310" class="Bound">ps</a> <a id="24481" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a><a id="24482" class="Symbol">)</a>
  <a id="24486" href="Ledger.Ledger.Properties.html#24281" class="Function">connex-lemma-rep</a> <a id="24503" href="Ledger.Ledger.Properties.html#24503" class="Bound">k</a> <a id="24505" href="Ledger.Ledger.Properties.html#24505" class="Bound">govSt</a> <a id="24511" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="24514" class="Symbol">=</a> <a id="24516" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="24526" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24535" class="Symbol">(</a><a id="24536" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24542" href="Ledger.Ledger.Properties.html#24505" class="Bound">govSt</a><a id="24547" class="Symbol">)</a>
      <a id="24555" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="24559" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="24571" class="Symbol">(</a><a id="24572" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24581" class="Symbol">(</a><a id="24582" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24588" href="Ledger.Ledger.Properties.html#24505" class="Bound">govSt</a><a id="24593" class="Symbol">))</a> <a id="24596" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="24602" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24611" class="Symbol">(</a><a id="24612" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24618" href="Ledger.Ledger.Properties.html#24505" class="Bound">govSt</a><a id="24623" class="Symbol">)</a> <a id="24625" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="24627" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24636" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="24645" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="24653" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24662" class="Symbol">(</a><a id="24663" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24669" href="Ledger.Ledger.Properties.html#24505" class="Bound">govSt</a><a id="24674" class="Symbol">)</a> <a id="24676" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="24678" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24687" class="Symbol">(</a><a id="24688" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24692" class="Symbol">(λ</a> <a id="24695" href="Ledger.Ledger.Properties.html#24695" class="Bound">i</a> <a id="24697" class="Symbol">→</a> <a id="24699" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="24716" class="Symbol">(</a><a id="24717" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="24722" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24724" href="Ledger.Ledger.Properties.html#24503" class="Bound">k</a> <a id="24726" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24728" href="Ledger.Ledger.Properties.html#24695" class="Bound">i</a><a id="24729" class="Symbol">))</a> <a id="24732" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="24737" class="Number">0</a> <a id="24739" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a><a id="24740" class="Symbol">)</a> <a id="24742" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="24746" href="Ledger.Ledger.Properties.html#24281" class="Function">connex-lemma-rep</a> <a id="24763" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="24765" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a> <a id="24771" class="Symbol">(</a><a id="24772" href="Ledger.Ledger.Properties.html#24772" class="Bound">p</a> <a id="24774" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="24776" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="24778" class="Symbol">)</a> <a id="24780" class="Symbol">=</a> <a id="24782" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="24792" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24801" class="Symbol">(</a><a id="24802" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24808" class="Symbol">(</a><a id="24809" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="24825" class="Symbol">(</a><a id="24826" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24830" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24835" class="Symbol">(</a><a id="24836" href="Ledger.Ledger.Properties.html#24772" class="Bound">p</a> <a id="24838" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="24840" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="24842" class="Symbol">))</a> <a id="24845" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="24847" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a><a id="24852" class="Symbol">))</a>
      <a id="24861" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="24869" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24878" class="Symbol">(</a><a id="24879" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24885" class="Symbol">(</a><a id="24886" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="24902" class="Symbol">(</a><a id="24903" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24908" href="Ledger.Ledger.Properties.html#24772" class="Bound">p</a> <a id="24910" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="24912" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24916" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24921" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="24923" class="Symbol">)</a> <a id="24925" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="24927" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a><a id="24932" class="Symbol">))</a>
      <a id="24941" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="24949" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24958" class="Symbol">(</a><a id="24959" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24965" class="Symbol">(</a><a id="24966" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="24982" class="Symbol">(</a><a id="24983" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24987" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24992" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="24994" class="Symbol">)</a> <a id="24996" class="Symbol">(</a><a id="24997" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="25001" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a><a id="25002" class="Symbol">)</a> <a id="25004" class="Symbol">(</a><a id="25005" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="25016" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a> <a id="25022" href="Ledger.Ledger.Properties.html#24772" class="Bound">p</a> <a id="25024" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a><a id="25025" class="Symbol">)))</a>
      <a id="25035" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="25039" href="Ledger.Ledger.Properties.html#21256" class="Function">connex-lemma</a> <a id="25052" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a> <a id="25058" href="Ledger.Ledger.Properties.html#24772" class="Bound">p</a> <a id="25060" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a> <a id="25063" class="Symbol">{</a><a id="25064" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a><a id="25065" class="Symbol">}</a> <a id="25067" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="25073" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25082" class="Symbol">(</a><a id="25083" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="25089" class="Symbol">(</a><a id="25090" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="25106" class="Symbol">(</a><a id="25107" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="25111" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="25116" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="25118" class="Symbol">)</a> <a id="25120" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="25122" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a><a id="25127" class="Symbol">))</a> <a id="25130" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25132" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="25134" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25151" class="Symbol">(</a><a id="25152" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25157" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25159" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="25161" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25163" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25170" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="25172" class="Symbol">)</a> <a id="25174" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="25182" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="25185" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="25192" class="Symbol">(</a><a id="25193" href="Ledger.Ledger.Properties.html#24281" class="Function">connex-lemma-rep</a> <a id="25210" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="25212" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a> <a id="25218" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="25220" class="Symbol">)</a> <a id="25222" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="25230" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="25236" class="Symbol">(</a><a id="25237" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25246" class="Symbol">(</a><a id="25247" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="25253" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a><a id="25258" class="Symbol">)</a> <a id="25260" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25262" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25271" class="Symbol">(</a><a id="25272" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="25276" class="Symbol">(λ</a> <a id="25279" href="Ledger.Ledger.Properties.html#25279" class="Bound">i</a> <a id="25281" class="Symbol">→</a> <a id="25283" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25300" class="Symbol">(</a><a id="25301" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25306" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25308" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="25310" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25312" href="Ledger.Ledger.Properties.html#25279" class="Bound">i</a><a id="25313" class="Symbol">))</a> <a id="25316" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="25321" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25328" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a> <a id="25331" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a><a id="25332" class="Symbol">))</a> <a id="25335" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25337" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="25339" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25356" class="Symbol">(</a><a id="25357" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25362" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25364" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="25366" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25368" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25375" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="25377" class="Symbol">)</a> <a id="25379" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="25387" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="25390" href="Axiom.Set.Properties.html#12114" class="Function">∪-assoc</a> <a id="25398" class="Symbol">(</a><a id="25399" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25408" class="Symbol">(</a><a id="25409" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="25415" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a><a id="25420" class="Symbol">))</a> <a id="25423" class="Symbol">(</a><a id="25424" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25433" class="Symbol">(</a><a id="25434" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="25438" class="Symbol">(λ</a> <a id="25441" href="Ledger.Ledger.Properties.html#25441" class="Bound">i</a> <a id="25443" class="Symbol">→</a> <a id="25445" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25462" class="Symbol">(</a><a id="25463" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25468" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25470" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="25472" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25474" href="Ledger.Ledger.Properties.html#25441" class="Bound">i</a><a id="25475" class="Symbol">))</a> <a id="25478" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="25483" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25490" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a> <a id="25493" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a><a id="25494" class="Symbol">))</a> <a id="25497" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="25499" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25516" class="Symbol">(</a><a id="25517" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25522" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25524" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="25526" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25528" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25535" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="25537" class="Symbol">)</a> <a id="25539" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="25541" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="25547" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25556" class="Symbol">(</a><a id="25557" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="25563" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a><a id="25568" class="Symbol">)</a> <a id="25570" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25572" class="Symbol">(</a><a id="25573" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25582" class="Symbol">(</a><a id="25583" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="25587" class="Symbol">(λ</a> <a id="25590" href="Ledger.Ledger.Properties.html#25590" class="Bound">i</a> <a id="25592" class="Symbol">→</a> <a id="25594" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25611" class="Symbol">(</a><a id="25612" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25617" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25619" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="25621" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25623" href="Ledger.Ledger.Properties.html#25590" class="Bound">i</a><a id="25624" class="Symbol">))</a> <a id="25627" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="25632" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25639" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a> <a id="25642" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a><a id="25643" class="Symbol">)</a> <a id="25645" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25647" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="25649" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25666" class="Symbol">(</a><a id="25667" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25672" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25674" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="25676" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25678" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25685" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="25687" class="Symbol">)</a> <a id="25689" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="25690" class="Symbol">)</a>
      <a id="25698" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="25706" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25715" class="Symbol">(</a><a id="25716" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="25722" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a><a id="25727" class="Symbol">)</a> <a id="25729" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25731" class="Symbol">(</a><a id="25732" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25741" class="Symbol">(</a><a id="25742" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="25746" class="Symbol">(λ</a> <a id="25749" href="Ledger.Ledger.Properties.html#25749" class="Bound">i</a> <a id="25751" class="Symbol">→</a> <a id="25753" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25770" class="Symbol">(</a><a id="25771" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25776" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25778" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="25780" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25782" href="Ledger.Ledger.Properties.html#25749" class="Bound">i</a><a id="25783" class="Symbol">))</a> <a id="25786" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="25791" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25798" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a> <a id="25801" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a><a id="25802" class="Symbol">)</a> <a id="25804" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25806" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25815" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="25817" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25834" class="Symbol">(</a><a id="25835" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25840" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25842" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="25844" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25846" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25853" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="25855" class="Symbol">)</a> <a id="25857" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="25858" class="Symbol">)</a>
      <a id="25866" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="25869" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="25876" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="25884" class="Symbol">(</a><a id="25885" href="Axiom.Set.Properties.html#12610" class="Function">∪-fromList-++</a> <a id="25899" class="Symbol">(</a><a id="25900" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="25904" class="Symbol">(λ</a> <a id="25907" href="Ledger.Ledger.Properties.html#25907" class="Bound">i</a> <a id="25909" class="Symbol">→</a> <a id="25911" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25928" class="Symbol">(</a><a id="25929" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25934" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25936" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="25938" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25940" href="Ledger.Ledger.Properties.html#25907" class="Bound">i</a><a id="25941" class="Symbol">))</a> <a id="25944" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="25949" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25956" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a> <a id="25959" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a><a id="25960" class="Symbol">)</a> <a id="25962" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="25964" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25981" class="Symbol">(</a><a id="25982" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25987" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25989" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="25991" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25993" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26000" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="26002" class="Symbol">)</a> <a id="26004" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="26005" class="Symbol">)</a> <a id="26007" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="26013" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26022" class="Symbol">(</a><a id="26023" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26029" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a><a id="26034" class="Symbol">)</a> <a id="26036" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="26038" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26047" class="Symbol">(</a><a id="26048" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="26052" class="Symbol">(λ</a> <a id="26055" href="Ledger.Ledger.Properties.html#26055" class="Bound">i</a> <a id="26057" class="Symbol">→</a> <a id="26059" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="26076" class="Symbol">(</a><a id="26077" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="26082" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26084" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="26086" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="26088" href="Ledger.Ledger.Properties.html#26055" class="Bound">i</a><a id="26089" class="Symbol">))</a> <a id="26092" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="26097" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26104" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a> <a id="26107" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a> <a id="26109" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="26112" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="26114" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="26131" class="Symbol">(</a><a id="26132" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="26137" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26139" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="26141" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="26143" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26150" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="26152" class="Symbol">)</a> <a id="26154" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="26155" class="Symbol">)</a>
      <a id="26163" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="26167" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="26172" class="Symbol">(λ</a> <a id="26175" href="Ledger.Ledger.Properties.html#26175" class="Bound">x</a> <a id="26177" class="Symbol">→</a> <a id="26179" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26188" class="Symbol">(</a><a id="26189" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26195" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a><a id="26200" class="Symbol">)</a> <a id="26202" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="26204" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26213" href="Ledger.Ledger.Properties.html#26175" class="Bound">x</a><a id="26214" class="Symbol">)</a> <a id="26216" class="Symbol">(</a><a id="26217" href="Data.List.Properties.html#3823" class="Function">map-++</a> <a id="26224" class="Symbol">_</a> <a id="26226" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="26231" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26238" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a> <a id="26241" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a> <a id="26243" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="26245" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26252" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a> <a id="26255" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="26256" class="Symbol">)</a> <a id="26258" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="26264" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26273" class="Symbol">(</a><a id="26274" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26280" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a><a id="26285" class="Symbol">)</a> <a id="26287" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="26289" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26298" class="Symbol">(</a><a id="26299" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="26303" class="Symbol">(λ</a> <a id="26306" href="Ledger.Ledger.Properties.html#26306" class="Bound">i</a> <a id="26308" class="Symbol">→</a> <a id="26310" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="26327" class="Symbol">(</a><a id="26328" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="26333" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26335" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="26337" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="26339" href="Ledger.Ledger.Properties.html#26306" class="Bound">i</a><a id="26340" class="Symbol">))</a> <a id="26343" class="Symbol">(</a><a id="26344" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="26349" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26356" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a> <a id="26359" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a> <a id="26361" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="26364" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="26366" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26373" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a> <a id="26376" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="26377" class="Symbol">))</a>
      <a id="26386" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="26394" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26403" class="Symbol">(</a><a id="26404" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26410" href="Ledger.Ledger.Properties.html#24765" class="Bound">govSt</a><a id="26415" class="Symbol">)</a> <a id="26417" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="26419" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26428" class="Symbol">(</a><a id="26429" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="26433" class="Symbol">(λ</a> <a id="26436" href="Ledger.Ledger.Properties.html#26436" class="Bound">i</a> <a id="26438" class="Symbol">→</a> <a id="26440" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="26457" class="Symbol">(</a><a id="26458" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="26463" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26465" href="Ledger.Ledger.Properties.html#24763" class="Bound">k</a> <a id="26467" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="26469" href="Ledger.Ledger.Properties.html#26436" class="Bound">i</a><a id="26470" class="Symbol">))</a> <a id="26473" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="26478" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26485" class="Symbol">(</a><a id="26486" href="Ledger.Ledger.Properties.html#24772" class="Bound">p</a> <a id="26488" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="26490" href="Ledger.Ledger.Properties.html#24776" class="Bound">ps</a><a id="26492" class="Symbol">)</a> <a id="26494" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a><a id="26495" class="Symbol">)</a> <a id="26497" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="26502" class="Comment">-- Removing orphan DRep votes does not modify the set of GAs in GovState</a>
  <a id="SetoidProperties.|ᵒ-GAs-pres"></a><a id="26577" href="Ledger.Ledger.Properties.html#26577" class="Function">|ᵒ-GAs-pres</a> <a id="26589" class="Symbol">:</a> <a id="26591" class="Symbol">∀</a> <a id="26593" href="Ledger.Ledger.Properties.html#26593" class="Bound">k</a> <a id="26595" href="Ledger.Ledger.Properties.html#26595" class="Bound">govSt</a> <a id="26601" href="Ledger.Ledger.Properties.html#26601" class="Bound">certState</a> <a id="26611" class="Symbol">→</a>
    <a id="26617" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26626" class="Symbol">(</a><a id="26627" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26633" class="Symbol">(</a><a id="26634" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="26650" class="Symbol">(</a><a id="26651" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="26657" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a><a id="26660" class="Symbol">)</a> <a id="26662" href="Ledger.Ledger.Properties.html#26593" class="Bound">k</a> <a id="26664" class="Symbol">(</a><a id="26665" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="26683" href="Ledger.Ledger.Properties.html#26601" class="Bound">certState</a> <a id="26693" href="Ledger.Ledger.Properties.html#26595" class="Bound">govSt</a><a id="26698" class="Symbol">)))</a>
    <a id="26706" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a>
    <a id="26713" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26722" class="Symbol">(</a><a id="26723" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26729" class="Symbol">(</a><a id="26730" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="26746" class="Symbol">(</a><a id="26747" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="26753" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a><a id="26756" class="Symbol">)</a> <a id="26758" href="Ledger.Ledger.Properties.html#26593" class="Bound">k</a> <a id="26760" href="Ledger.Ledger.Properties.html#26595" class="Bound">govSt</a><a id="26765" class="Symbol">))</a>
  <a id="26770" href="Ledger.Ledger.Properties.html#26577" class="Function">|ᵒ-GAs-pres</a> <a id="26782" href="Ledger.Ledger.Properties.html#26782" class="Bound">k</a> <a id="26784" href="Ledger.Ledger.Properties.html#26784" class="Bound">govSt</a> <a id="26790" href="Ledger.Ledger.Properties.html#26790" class="Bound">certState</a> <a id="26800" class="Symbol">=</a> <a id="26802" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="26812" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26821" class="Symbol">(</a><a id="26822" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26828" class="Symbol">(</a><a id="26829" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="26845" class="Symbol">(</a><a id="26846" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="26852" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a><a id="26855" class="Symbol">)</a> <a id="26857" href="Ledger.Ledger.Properties.html#26782" class="Bound">k</a> <a id="26859" class="Symbol">(</a><a id="26860" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="26878" href="Ledger.Ledger.Properties.html#26790" class="Bound">certState</a> <a id="26888" href="Ledger.Ledger.Properties.html#26784" class="Bound">govSt</a><a id="26893" class="Symbol">)))</a>
      <a id="26903" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="26906" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="26930" href="Ledger.Transaction.html#2880" class="Function">txvote</a> <a id="26937" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="26944" class="Symbol">{</a><a id="26945" href="Ledger.Ledger.Properties.html#26782" class="Bound">k</a><a id="26946" class="Symbol">}</a> <a id="26948" class="Symbol">{</a><a id="26949" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="26967" href="Ledger.Ledger.Properties.html#26790" class="Bound">certState</a> <a id="26977" href="Ledger.Ledger.Properties.html#26784" class="Bound">govSt</a><a id="26982" class="Symbol">}</a> <a id="26984" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="26990" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26999" class="Symbol">(</a><a id="27000" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="27006" class="Symbol">(</a><a id="27007" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="27023" class="Symbol">(</a><a id="27024" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="27028" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="27033" href="Ledger.Transaction.html#2916" class="Function">txprop</a><a id="27039" class="Symbol">)</a> <a id="27041" href="Ledger.Ledger.Properties.html#26782" class="Bound">k</a> <a id="27043" class="Symbol">(</a><a id="27044" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="27062" href="Ledger.Ledger.Properties.html#26790" class="Bound">certState</a> <a id="27072" href="Ledger.Ledger.Properties.html#26784" class="Bound">govSt</a><a id="27077" class="Symbol">)))</a>
      <a id="27087" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="27090" href="Ledger.Ledger.Properties.html#24281" class="Function">connex-lemma-rep</a> <a id="27107" href="Ledger.Ledger.Properties.html#26782" class="Bound">k</a> <a id="27109" class="Symbol">(</a><a id="27110" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="27128" href="Ledger.Ledger.Properties.html#26790" class="Bound">certState</a> <a id="27138" href="Ledger.Ledger.Properties.html#26784" class="Bound">govSt</a><a id="27143" class="Symbol">)</a> <a id="27145" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="27152" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="27158" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27167" class="Symbol">(</a><a id="27168" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="27174" class="Symbol">(</a><a id="27175" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="27193" href="Ledger.Ledger.Properties.html#26790" class="Bound">certState</a> <a id="27203" href="Ledger.Ledger.Properties.html#26784" class="Bound">govSt</a><a id="27208" class="Symbol">))</a> <a id="27211" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="27213" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27222" class="Symbol">(</a><a id="27223" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="27227" class="Symbol">(λ</a> <a id="27230" href="Ledger.Ledger.Properties.html#27230" class="Bound">i</a> <a id="27232" class="Symbol">→</a> <a id="27234" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="27251" class="Symbol">(</a><a id="27252" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="27257" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27259" href="Ledger.Ledger.Properties.html#26782" class="Bound">k</a> <a id="27261" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="27263" href="Ledger.Ledger.Properties.html#27230" class="Bound">i</a><a id="27264" class="Symbol">))</a> <a id="27267" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="27272" href="Data.List.Base.html#5044" class="Function">length</a> <a id="27279" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="27286" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a><a id="27287" class="Symbol">)</a>
      <a id="27295" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27298" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27303" class="Symbol">(λ</a> <a id="27306" href="Ledger.Ledger.Properties.html#27306" class="Bound">x</a> <a id="27308" class="Symbol">→</a> <a id="27310" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27319" href="Ledger.Ledger.Properties.html#27306" class="Bound">x</a> <a id="27321" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="27323" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27332" class="Symbol">(</a><a id="27333" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="27337" class="Symbol">(λ</a> <a id="27340" href="Ledger.Ledger.Properties.html#27340" class="Bound">i</a> <a id="27342" class="Symbol">→</a> <a id="27344" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="27361" class="Symbol">(</a><a id="27362" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="27367" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27369" href="Ledger.Ledger.Properties.html#26782" class="Bound">k</a> <a id="27371" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="27373" href="Ledger.Ledger.Properties.html#27340" class="Bound">i</a><a id="27374" class="Symbol">))</a> <a id="27377" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="27382" href="Data.List.Base.html#5044" class="Function">length</a> <a id="27389" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="27396" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a><a id="27397" class="Symbol">))</a> <a id="27400" class="Symbol">(</a><a id="27401" href="Ledger.Ledger.Properties.html#11413" class="Function">dpMap-rmOrphanDRepVotes</a> <a id="27425" href="Ledger.Ledger.Properties.html#26790" class="Bound">certState</a> <a id="27435" href="Ledger.Ledger.Properties.html#26784" class="Bound">govSt</a><a id="27440" class="Symbol">)</a> <a id="27442" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="27448" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27457" class="Symbol">(</a><a id="27458" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="27464" href="Ledger.Ledger.Properties.html#26784" class="Bound">govSt</a><a id="27469" class="Symbol">)</a> <a id="27471" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="27473" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27482" class="Symbol">(</a><a id="27483" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="27487" class="Symbol">(λ</a> <a id="27490" href="Ledger.Ledger.Properties.html#27490" class="Bound">i</a> <a id="27492" class="Symbol">→</a> <a id="27494" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="27511" class="Symbol">(</a><a id="27512" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="27517" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27519" href="Ledger.Ledger.Properties.html#26782" class="Bound">k</a> <a id="27521" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="27523" href="Ledger.Ledger.Properties.html#27490" class="Bound">i</a><a id="27524" class="Symbol">))</a> <a id="27527" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟦0:&lt;</a> <a id="27532" href="Data.List.Base.html#5044" class="Function">length</a> <a id="27539" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="27546" href="Ledger.Ledger.Properties.html#24203" class="Function Operator">⟧</a><a id="27547" class="Symbol">)</a>
      <a id="27555" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="27559" href="Ledger.Ledger.Properties.html#24281" class="Function">connex-lemma-rep</a> <a id="27576" href="Ledger.Ledger.Properties.html#26782" class="Bound">k</a> <a id="27578" href="Ledger.Ledger.Properties.html#26784" class="Bound">govSt</a> <a id="27584" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="27591" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="27597" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27606" class="Symbol">(</a><a id="27607" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="27613" class="Symbol">(</a><a id="27614" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="27630" class="Symbol">(</a><a id="27631" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="27635" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="27640" href="Ledger.Transaction.html#2916" class="Function">txprop</a><a id="27646" class="Symbol">)</a> <a id="27648" href="Ledger.Ledger.Properties.html#26782" class="Bound">k</a> <a id="27650" href="Ledger.Ledger.Properties.html#26784" class="Bound">govSt</a><a id="27655" class="Symbol">))</a>
      <a id="27664" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="27668" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="27692" href="Ledger.Transaction.html#2880" class="Function">txvote</a> <a id="27699" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="27706" class="Symbol">{</a><a id="27707" href="Ledger.Ledger.Properties.html#26782" class="Bound">k</a><a id="27708" class="Symbol">}</a> <a id="27710" class="Symbol">{</a><a id="27711" href="Ledger.Ledger.Properties.html#26784" class="Bound">govSt</a><a id="27716" class="Symbol">}</a> <a id="27718" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="27724" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27733" class="Symbol">(</a><a id="27734" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="27740" class="Symbol">(</a><a id="27741" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="27757" class="Symbol">(</a><a id="27758" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="27764" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a><a id="27767" class="Symbol">)</a> <a id="27769" href="Ledger.Ledger.Properties.html#26782" class="Bound">k</a> <a id="27771" href="Ledger.Ledger.Properties.html#26784" class="Bound">govSt</a><a id="27776" class="Symbol">))</a> <a id="27779" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="27784" class="Comment">-- GA Deposits Invariance Property for LEDGER STS ----------------------------------------------------</a>
  <a id="SetoidProperties.LEDGER-govDepsMatch"></a><a id="27889" href="Ledger.Ledger.Properties.html#27889" class="Function">LEDGER-govDepsMatch</a> <a id="27909" class="Symbol">:</a> <a id="27911" class="Symbol">∀</a> <a id="27913" class="Symbol">{</a><a id="27914" href="Ledger.Ledger.Properties.html#27914" class="Bound">s&#39;</a> <a id="27917" class="Symbol">:</a> <a id="27919" href="Ledger.Ledger.html#715" class="Record">LState</a><a id="27925" class="Symbol">}</a> <a id="27927" class="Symbol">→</a> <a id="27929" href="Ledger.Ledger.Properties.html#11679" class="Bound">Γ</a> <a id="27931" href="Ledger.Ledger.html#1873" class="Datatype Operator">⊢</a> <a id="27933" href="Ledger.Ledger.Properties.html#11690" class="Bound">s</a> <a id="27935" href="Ledger.Ledger.html#1873" class="Datatype Operator">⇀⦇</a> <a id="27938" href="Ledger.Ledger.Properties.html#11669" class="Bound">tx</a> <a id="27941" href="Ledger.Ledger.html#1873" class="Datatype Operator">,LEDGER⦈</a> <a id="27950" href="Ledger.Ledger.Properties.html#27914" class="Bound">s&#39;</a>
                        <a id="27977" class="Symbol">→</a> <a id="27979" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="27992" href="Ledger.Ledger.Properties.html#11690" class="Bound">s</a> <a id="27994" class="Symbol">→</a> <a id="27996" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="28009" href="Ledger.Ledger.Properties.html#27914" class="Bound">s&#39;</a>
  <a id="28014" href="Ledger.Ledger.Properties.html#27889" class="Function">LEDGER-govDepsMatch</a> <a id="28034" class="Symbol">(</a><a id="28035" href="Ledger.Ledger.html#2929" class="InductiveConstructor">LEDGER-I⋯</a> <a id="28045" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="28050" class="Symbol">(</a><a id="28051" href="Ledger.Ledger.Properties.html#8662" class="InductiveConstructor">UTXOW-UTXOS</a> <a id="28063" class="Symbol">(</a><a id="28064" href="Ledger.Utxo.html#12974" class="InductiveConstructor">Scripts-No</a> <a id="28075" class="Symbol">_)))</a> <a id="28080" href="Ledger.Ledger.Properties.html#28080" class="Bound">aprioriMatch</a> <a id="28093" class="Symbol">=</a> <a id="28095" href="Ledger.Ledger.Properties.html#28080" class="Bound">aprioriMatch</a>

  <a id="28111" href="Ledger.Ledger.Properties.html#27889" class="Function">LEDGER-govDepsMatch</a> <a id="28131" class="Symbol">{</a><a id="28132" class="Argument">s&#39;</a> <a id="28135" class="Symbol">=</a> <a id="28137" href="Ledger.Ledger.Properties.html#28137" class="Bound">s&#39;</a><a id="28139" class="Symbol">}</a>
    <a id="28145" href="Ledger.Ledger.Properties.html#28145" class="Bound">utxosts</a><a id="28152" class="Symbol">@(</a><a id="28154" href="Ledger.Ledger.html#2876" class="InductiveConstructor">LEDGER-V⋯</a> <a id="28164" href="Ledger.Ledger.Properties.html#28164" class="Bound">tx-valid</a> <a id="28173" class="Symbol">(</a><a id="28174" href="Ledger.Ledger.Properties.html#8662" class="InductiveConstructor">UTXOW-UTXOS</a> <a id="28186" class="Symbol">(</a><a id="28187" href="Ledger.Utxo.html#12460" class="InductiveConstructor">Scripts-Yes</a> <a id="28199" href="Ledger.Ledger.Properties.html#28199" class="Bound">x</a><a id="28200" class="Symbol">))</a> <a id="28203" class="Symbol">_</a> <a id="28205" href="Ledger.Ledger.Properties.html#28205" class="Bound">GOV-sts</a><a id="28212" class="Symbol">)</a> <a id="28214" href="Ledger.Ledger.Properties.html#28214" class="Bound">aprioriMatch</a> <a id="28227" class="Symbol">=</a>
    <a id="28233" class="Keyword">let</a> <a id="28237" class="Keyword">open</a> <a id="28242" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="28249" href="Ledger.Ledger.Properties.html#28137" class="Bound">s&#39;</a> <a id="28252" class="Keyword">renaming</a> <a id="28261" class="Symbol">(</a><a id="28262" href="Ledger.Ledger.html#801" class="Field">govSt</a> <a id="28268" class="Symbol">to</a> <a id="28271" class="Field">govSt&#39;</a><a id="28277" class="Symbol">;</a> <a id="28279" href="Ledger.Ledger.html#827" class="Field">certState</a> <a id="28289" class="Symbol">to</a> <a id="28292" class="Field">certState&#39;</a><a id="28302" class="Symbol">)</a> <a id="28304" class="Keyword">in</a>
    <a id="28311" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="28323" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="28331" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="28343" class="Symbol">(</a><a id="28344" href="Class.IsSet.html#916" class="Function">dom</a> <a id="28348" class="Symbol">(</a><a id="28349" href="Ledger.Utxo.html#8771" class="Function">updateDeposits</a> <a id="28364" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="28367" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a> <a id="28371" href="Ledger.Ledger.Properties.html#9396" class="Function">utxoDeps</a><a id="28379" class="Symbol">))</a>
        <a id="28390" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="28393" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="28403" href="Ledger.Transaction.html#2818" class="Function">txcerts</a> <a id="28411" class="Symbol">(</a><a id="28412" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="28435" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="28442" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="28447" href="Ledger.PParams.html#3109" class="Function">govActionDeposit</a> <a id="28464" href="Ledger.Ledger.Properties.html#9396" class="Function">utxoDeps</a><a id="28472" class="Symbol">)</a> <a id="28474" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="28482" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="28490" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="28502" class="Symbol">(</a><a id="28503" href="Class.IsSet.html#916" class="Function">dom</a> <a id="28507" class="Symbol">(</a><a id="28508" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="28531" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="28538" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="28543" href="Ledger.PParams.html#3109" class="Function">govActionDeposit</a> <a id="28560" href="Ledger.Ledger.Properties.html#9396" class="Function">utxoDeps</a><a id="28568" class="Symbol">))</a>
        <a id="28579" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="28582" href="Ledger.Ledger.Properties.html#22868" class="Function">utxo-govst-connex</a> <a id="28600" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="28607" href="Ledger.Ledger.Properties.html#28214" class="Bound">aprioriMatch</a> <a id="28620" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="28628" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="28637" class="Symbol">(</a><a id="28638" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="28644" class="Symbol">(</a><a id="28645" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="28661" class="Symbol">(</a><a id="28662" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="28666" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="28671" href="Ledger.Transaction.html#2916" class="Function">txprop</a><a id="28677" class="Symbol">)</a> <a id="28679" class="Number">0</a> <a id="28681" href="Ledger.Ledger.Properties.html#11858" class="Function">govSt</a><a id="28686" class="Symbol">))</a>
        <a id="28697" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="28701" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="28725" href="Ledger.Transaction.html#2880" class="Function">txvote</a> <a id="28732" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="28739" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="28747" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="28756" class="Symbol">(</a><a id="28757" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="28763" class="Symbol">(</a><a id="28764" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="28780" class="Symbol">(</a><a id="28781" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="28787" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a><a id="28790" class="Symbol">)</a> <a id="28792" class="Number">0</a> <a id="28794" href="Ledger.Ledger.Properties.html#11858" class="Function">govSt</a> <a id="28800" class="Symbol">))</a>
        <a id="28811" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="28815" href="Ledger.Ledger.Properties.html#26577" class="Function">|ᵒ-GAs-pres</a> <a id="28827" class="Number">0</a> <a id="28829" href="Ledger.Ledger.Properties.html#11858" class="Function">govSt</a> <a id="28835" href="Ledger.Ledger.Properties.html#28292" class="Function">certState&#39;</a> <a id="28846" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="28854" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="28863" class="Symbol">(</a><a id="28864" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="28870" class="Symbol">(</a><a id="28871" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="28887" class="Symbol">(</a><a id="28888" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="28894" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a><a id="28897" class="Symbol">)</a> <a id="28899" class="Number">0</a> <a id="28901" class="Symbol">(</a><a id="28902" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="28920" href="Ledger.Ledger.Properties.html#28292" class="Function">certState&#39;</a> <a id="28931" href="Ledger.Ledger.Properties.html#11858" class="Function">govSt</a><a id="28936" class="Symbol">)))</a>
        <a id="28948" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="28952" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="28957" class="Symbol">(</a><a id="28958" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="28967" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="28969" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="28975" class="Symbol">)</a> <a id="28977" class="Symbol">(</a><a id="28978" href="Ledger.Ledger.Properties.html#10434" class="Function">STS→GovSt≡</a> <a id="28989" href="Ledger.Ledger.Properties.html#28145" class="Bound">utxosts</a> <a id="28997" href="Ledger.Ledger.Properties.html#28164" class="Bound">tx-valid</a><a id="29005" class="Symbol">)</a> <a id="29007" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="29015" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="29024" class="Symbol">(</a><a id="29025" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="29031" href="Ledger.Ledger.Properties.html#28271" class="Function">govSt&#39;</a><a id="29037" class="Symbol">)</a> <a id="29039" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="29044" href="Ledger.Ledger.Properties.html#27889" class="Function">LEDGER-govDepsMatch</a> <a id="29064" class="Symbol">{</a><a id="29065" class="Argument">s&#39;</a> <a id="29068" class="Symbol">=</a> <a id="29070" href="Ledger.Ledger.Properties.html#29070" class="Bound">s&#39;</a><a id="29072" class="Symbol">}</a> <a id="29074" href="Ledger.Ledger.Properties.html#29074" class="Bound">utxosts</a><a id="29081" class="Symbol">@(</a><a id="29083" href="Ledger.Ledger.html#1935" class="InductiveConstructor">LEDGER-V</a> <a id="29092" class="Symbol">(()</a> <a id="29096" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29098" href="Ledger.Ledger.Properties.html#8662" class="InductiveConstructor">UTXOW-UTXOS</a> <a id="29110" class="Symbol">(</a><a id="29111" href="Ledger.Utxo.html#12974" class="InductiveConstructor">Scripts-No</a> <a id="29122" class="Symbol">(_</a> <a id="29125" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29127" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="29131" class="Symbol">))</a> <a id="29134" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29136" class="Symbol">_</a> <a id="29138" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29140" href="Ledger.Ledger.Properties.html#29140" class="Bound">GOV-sts</a><a id="29147" class="Symbol">))</a> <a id="29150" href="Ledger.Ledger.Properties.html#29150" class="Bound">aprioriMatch</a>

<a id="29164" class="Keyword">module</a> <a id="EPOCH-Body"></a><a id="29171" href="Ledger.Ledger.Properties.html#29171" class="Module">EPOCH-Body</a> <a id="29182" class="Symbol">(</a><a id="29183" href="Ledger.Ledger.Properties.html#29183" class="Bound">eps</a> <a id="29187" class="Symbol">:</a> <a id="29189" href="Ledger.Epoch.html#1127" class="Record">EpochState</a><a id="29199" class="Symbol">)</a> <a id="29201" class="Keyword">where</a>
  <a id="29209" class="Keyword">open</a> <a id="29214" href="Ledger.Epoch.html#1127" class="Module">EpochState</a> <a id="29225" href="Ledger.Ledger.Properties.html#29183" class="Bound">eps</a> <a id="29229" class="Keyword">hiding</a> <a id="29236" class="Symbol">(</a><a id="29237" href="Ledger.Epoch.html#1268" class="Field">es</a><a id="29239" class="Symbol">)</a> <a id="29241" class="Keyword">public</a>
  <a id="29250" class="Keyword">open</a> <a id="29255" href="Ledger.Ratify.html#3241" class="Module">RatifyState</a> <a id="29267" href="Ledger.Epoch.html#1296" class="Field">fut</a> <a id="29271" class="Keyword">using</a> <a id="29277" class="Symbol">(</a><a id="29278" href="Ledger.Ratify.html#3311" class="Field">removed</a><a id="29285" class="Symbol">)</a> <a id="29287" class="Keyword">renaming</a> <a id="29296" class="Symbol">(</a><a id="29297" href="Ledger.Ratify.html#3278" class="Field">es</a> <a id="29300" class="Symbol">to</a> <a id="29303" class="Field">esW</a><a id="29306" class="Symbol">)</a> <a id="29308" class="Keyword">public</a>
  <a id="29317" class="Keyword">open</a> <a id="29322" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="29329" href="Ledger.Epoch.html#1244" class="Field">ls</a> <a id="29332" class="Keyword">public</a>
  <a id="29341" class="Keyword">open</a> <a id="29346" href="Ledger.GovernanceActions.html#2096" class="Module">GovActionState</a> <a id="29361" class="Keyword">public</a>
  <a id="29370" class="Keyword">open</a> <a id="29375" href="Ledger.Utxo.html#2516" class="Module">UTxOState</a> <a id="29385" class="Keyword">public</a>

  <a id="EPOCH-Body.es"></a><a id="29395" href="Ledger.Ledger.Properties.html#29395" class="Function">es</a>       <a id="29404" class="Symbol">=</a> <a id="29406" class="Keyword">record</a> <a id="29413" href="Ledger.Ledger.Properties.html#29303" class="Function">esW</a> <a id="29417" class="Symbol">{</a> <a id="29419" href="Ledger.Enact.html#649" class="Field">withdrawals</a> <a id="29431" class="Symbol">=</a> <a id="29433" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="29435" class="Symbol">}</a>
  <a id="EPOCH-Body.tmpGovSt"></a><a id="29439" href="Ledger.Ledger.Properties.html#29439" class="Function">tmpGovSt</a> <a id="29448" class="Symbol">=</a> <a id="29450" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="29457" class="Symbol">(λ</a> <a id="29460" href="Ledger.Ledger.Properties.html#29460" class="Bound">x</a> <a id="29462" class="Symbol">→</a> <a id="29464" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="29466" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="29472" href="Ledger.Ledger.Properties.html#29460" class="Bound">x</a> <a id="29474" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="29476" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="29481" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="29487" href="Ledger.Ratify.html#3311" class="Function">removed</a> <a id="29495" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a><a id="29496" class="Symbol">)</a> <a id="29498" href="Ledger.Ledger.html#801" class="Function">govSt</a>
  <a id="EPOCH-Body.orphans"></a><a id="29506" href="Ledger.Ledger.Properties.html#29506" class="Function">orphans</a>  <a id="29515" class="Symbol">=</a> <a id="29517" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="29526" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="29528" href="Ledger.Epoch.html#2745" class="Function">getOrphans</a> <a id="29539" href="Ledger.Ledger.Properties.html#29395" class="Function">es</a> <a id="29542" href="Ledger.Ledger.Properties.html#29439" class="Function">tmpGovSt</a>
  <a id="EPOCH-Body.removed&#39;"></a><a id="29553" href="Ledger.Ledger.Properties.html#29553" class="Function">removed&#39;</a> <a id="29562" class="Symbol">=</a> <a id="29564" href="Ledger.Ratify.html#3311" class="Function">removed</a> <a id="29572" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="29574" href="Ledger.Ledger.Properties.html#29506" class="Function">orphans</a>
  <a id="EPOCH-Body.removedGovActions"></a><a id="29584" href="Ledger.Ledger.Properties.html#29584" class="Function">removedGovActions</a> <a id="29602" class="Symbol">=</a> <a id="29604" href="Function.Base.html#1638" class="Function">flip</a> <a id="29609" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="29620" href="Ledger.Ledger.Properties.html#29553" class="Function">removed&#39;</a> <a id="29629" class="Symbol">λ</a> <a id="29631" class="Symbol">(</a><a id="29632" href="Ledger.Ledger.Properties.html#29632" class="Bound">gaid</a> <a id="29637" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29639" href="Ledger.Ledger.Properties.html#29639" class="Bound">gaSt</a><a id="29643" class="Symbol">)</a> <a id="29645" class="Symbol">→</a>
    <a id="29651" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="29656" class="Symbol">(</a><a id="29657" href="Ledger.GovernanceActions.html#2167" class="Field">returnAddr</a> <a id="29668" href="Ledger.Ledger.Properties.html#29639" class="Bound">gaSt</a> <a id="29673" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="29675" class="Symbol">)</a> <a id="29677" class="Symbol">((</a><a id="29679" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="29686" class="Symbol">.</a><a id="29687" href="Ledger.Utxo.html#2624" class="Field">deposits</a> <a id="29696" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="29698" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="29700" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="29717" href="Ledger.Ledger.Properties.html#29632" class="Bound">gaid</a> <a id="29722" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="29723" class="Symbol">)</a> <a id="29725" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="29726" class="Symbol">)</a>
  <a id="EPOCH-Body.govActionReturns"></a><a id="29730" href="Ledger.Ledger.Properties.html#29730" class="Function">govActionReturns</a> <a id="29747" class="Symbol">=</a> <a id="29749" href="Axiom.Set.Map.Dec.html#1932" class="Function">aggregate₊</a> <a id="29760" class="Symbol">(</a><a id="29761" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="29766" class="Symbol">(λ</a> <a id="29769" class="Symbol">(</a><a id="29770" href="Ledger.Ledger.Properties.html#29770" class="Bound">a</a> <a id="29772" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29774" class="Symbol">_</a> <a id="29776" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29778" href="Ledger.Ledger.Properties.html#29778" class="Bound">d</a><a id="29779" class="Symbol">)</a> <a id="29781" class="Symbol">→</a> <a id="29783" href="Ledger.Ledger.Properties.html#29770" class="Bound">a</a> <a id="29785" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29787" href="Ledger.Ledger.Properties.html#29778" class="Bound">d</a><a id="29788" class="Symbol">)</a> <a id="29790" href="Ledger.Ledger.Properties.html#29584" class="Function">removedGovActions</a> <a id="29808" href="abstract-set-theory.FiniteSetTheory.html#2767" class="Function Operator">ᶠˢ</a><a id="29810" class="Symbol">)</a>

<a id="29813" class="Keyword">module</a> <a id="EPOCH-PROPS"></a><a id="29820" href="Ledger.Ledger.Properties.html#29820" class="Module">EPOCH-PROPS</a> <a id="29832" class="Symbol">{</a><a id="29833" href="Ledger.Ledger.Properties.html#29833" class="Bound">eps</a> <a id="29837" class="Symbol">:</a> <a id="29839" href="Ledger.Epoch.html#1127" class="Record">EpochState</a><a id="29849" class="Symbol">}</a> <a id="29851" class="Keyword">where</a>
  <a id="29859" class="Keyword">open</a> <a id="29864" href="Ledger.Ledger.Properties.html#29171" class="Module">EPOCH-Body</a> <a id="29875" href="Ledger.Ledger.Properties.html#29833" class="Bound">eps</a>

  <a id="29882" class="Comment">-- GA Deposits Invariance Property for EPOCH STS -----------------------------------------------</a>
  <a id="EPOCH-PROPS.EPOCH-govDepsMatch"></a><a id="29981" href="Ledger.Ledger.Properties.html#29981" class="Function">EPOCH-govDepsMatch</a> <a id="30000" class="Symbol">:</a>
    <a id="30006" class="Symbol">(</a><a id="30007" href="Ledger.Ledger.Properties.html#30007" class="Bound">ratify-removed</a> <a id="30022" class="Symbol">:</a> <a id="30024" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30029" class="Symbol">(</a><a id="30030" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="30047" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30049" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="30054" class="Symbol">)</a> <a id="30056" href="Ledger.Ledger.Properties.html#29553" class="Function">removed&#39;</a> <a id="30065" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="30067" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30072" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="30078" class="Symbol">(</a><a id="30079" href="Ledger.Utxo.html#2624" class="Field">UTxOState.deposits</a> <a id="30098" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="30105" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="30106" class="Symbol">))</a>
    <a id="30113" class="Symbol">{</a><a id="30114" href="Ledger.Ledger.Properties.html#30114" class="Bound">eps&#39;</a> <a id="30119" class="Symbol">:</a> <a id="30121" href="Ledger.Epoch.html#1127" class="Record">EpochState</a><a id="30131" class="Symbol">}</a> <a id="30133" class="Symbol">{</a><a id="30134" href="Ledger.Ledger.Properties.html#30134" class="Bound">e</a> <a id="30136" class="Symbol">:</a> <a id="30138" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a><a id="30143" class="Symbol">}</a>
    <a id="30149" class="Symbol">→</a> <a id="30151" class="Symbol">_</a> <a id="30153" href="Ledger.Epoch.html#4636" class="Datatype Operator">⊢</a> <a id="30155" href="Ledger.Ledger.Properties.html#29833" class="Bound">eps</a> <a id="30159" href="Ledger.Epoch.html#4636" class="Datatype Operator">⇀⦇</a> <a id="30162" href="Ledger.Ledger.Properties.html#30134" class="Bound">e</a> <a id="30164" href="Ledger.Epoch.html#4636" class="Datatype Operator">,EPOCH⦈</a> <a id="30172" href="Ledger.Ledger.Properties.html#30114" class="Bound">eps&#39;</a>
    <a id="30181" class="Symbol">→</a> <a id="30183" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="30196" class="Symbol">(</a><a id="30197" href="Ledger.Epoch.html#1244" class="Field">EpochState.ls</a> <a id="30211" href="Ledger.Ledger.Properties.html#29833" class="Bound">eps</a><a id="30214" class="Symbol">)</a> <a id="30216" class="Symbol">→</a> <a id="30218" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="30231" class="Symbol">(</a><a id="30232" href="Ledger.Epoch.html#1244" class="Field">EpochState.ls</a> <a id="30246" href="Ledger.Ledger.Properties.html#30114" class="Bound">eps&#39;</a><a id="30250" class="Symbol">)</a>

  <a id="30255" href="Ledger.Ledger.Properties.html#29981" class="Function">EPOCH-govDepsMatch</a> <a id="30274" href="Ledger.Ledger.Properties.html#30274" class="Bound">ratify-removed</a> <a id="30289" class="Symbol">(</a><a id="30290" href="Ledger.Epoch.html#4706" class="InductiveConstructor">EPOCH</a> <a id="30296" href="Ledger.Ledger.Properties.html#30296" class="Bound">x</a> <a id="30298" class="Symbol">_)</a> <a id="30301" class="Symbol">=</a>
      <a id="30309" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="30318" class="Symbol">(</a><a id="30319" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="30334" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="30336" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="30345" class="Symbol">(</a><a id="30346" href="Axiom.Set.Rel.html#6892" class="Function">res-comp-cong</a> <a id="30360" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="30362" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="30369" href="Ledger.Ledger.Properties.html#31077" class="Function">χ&#39;≡χ</a><a id="30373" class="Symbol">))</a>
      <a id="30382" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30384" href="Function.Bundles.html#4834" class="Field">from</a> <a id="30389" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a> <a id="30396" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30398" href="Ledger.Ledger.Properties.html#33206" class="Function">main-invariance-lemma</a> <a id="30420" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30422" href="Function.Bundles.html#4810" class="Field">to</a> <a id="30425" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a>
    <a id="30436" class="Keyword">where</a>

    <a id="30447" class="Comment">-- the combinator used in the EPOCH rule</a>
    <a id="30492" href="Ledger.Ledger.Properties.html#30492" class="Function">χ</a> <a id="30494" class="Symbol">:</a> <a id="30496" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="30498" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a>
    <a id="30517" href="Ledger.Ledger.Properties.html#30492" class="Function">χ</a> <a id="30519" class="Symbol">=</a> <a id="30521" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30526" class="Symbol">(</a><a id="30527" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="30533" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30535" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="30540" class="Symbol">)</a> <a id="30542" href="Ledger.Ledger.Properties.html#29584" class="Function">removedGovActions</a>

    <a id="30565" class="Comment">-- a simpler combinator that suffices here;</a>
    <a id="30613" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a> <a id="30616" class="Symbol">:</a> <a id="30618" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="30620" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a>
    <a id="30639" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a> <a id="30642" class="Symbol">=</a> <a id="30644" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30649" class="Symbol">(</a><a id="30650" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="30667" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30669" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="30674" class="Symbol">)</a> <a id="30676" href="Ledger.Ledger.Properties.html#29553" class="Function">removed&#39;</a>
    <a id="30689" class="Comment">-- Below we prove χ and χ&#39; are essentially equivalent.</a>

    <a id="30749" href="Ledger.Ledger.Properties.html#30749" class="Function">P</a> <a id="30751" class="Symbol">:</a> <a id="30753" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="30765" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="30767" href="Ledger.GovernanceActions.html#2096" class="Record">GovActionState</a> <a id="30782" class="Symbol">→</a> <a id="30784" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="30793" href="Ledger.Ledger.Properties.html#30749" class="Function">P</a> <a id="30795" class="Symbol">=</a> <a id="30797" class="Symbol">λ</a> <a id="30799" href="Ledger.Ledger.Properties.html#30799" class="Bound">u</a> <a id="30801" class="Symbol">→</a> <a id="30803" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="30809" href="Ledger.Ledger.Properties.html#30799" class="Bound">u</a> <a id="30811" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="30813" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30818" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="30824" href="Ledger.Ledger.Properties.html#29553" class="Function">removed&#39;</a>

    <a id="30838" href="Ledger.Ledger.Properties.html#30838" class="Function">P?</a> <a id="30841" class="Symbol">:</a> <a id="30843" href="Relation.Unary.html#4543" class="Function">Decidable</a> <a id="30853" href="Ledger.Ledger.Properties.html#30749" class="Function">P</a>
    <a id="30859" href="Ledger.Ledger.Properties.html#30838" class="Function">P?</a> <a id="30862" class="Symbol">=</a> <a id="30864" class="Symbol">λ</a> <a id="30866" href="Ledger.Ledger.Properties.html#30866" class="Bound">u</a> <a id="30868" class="Symbol">→</a> <a id="30870" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="30872" href="Ledger.Ledger.Properties.html#30749" class="Function">P</a> <a id="30874" href="Ledger.Ledger.Properties.html#30866" class="Bound">u</a> <a id="30876" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a>

    <a id="30883" href="Ledger.Ledger.Properties.html#30883" class="Function">utxoDeps</a> <a id="30892" class="Symbol">:</a> <a id="30894" href="Ledger.Certs.html#527" class="Function">Deposits</a>
    <a id="30907" href="Ledger.Ledger.Properties.html#30883" class="Function">utxoDeps</a> <a id="30916" class="Symbol">=</a> <a id="30918" href="Ledger.Utxo.html#2624" class="Field">UTxOState.deposits</a> <a id="30937" href="Ledger.Ledger.html#774" class="Function">utxoSt</a>

    <a id="30949" class="Comment">-- utxo deposits restricted to new form of set used in EPOCH rule</a>
    <a id="31019" href="Ledger.Ledger.Properties.html#31019" class="Function">utxoDeps&#39;</a> <a id="31029" class="Symbol">:</a> <a id="31031" href="Ledger.Certs.html#527" class="Function">Deposits</a>
    <a id="31044" href="Ledger.Ledger.Properties.html#31019" class="Function">utxoDeps&#39;</a> <a id="31054" class="Symbol">=</a> <a id="31056" href="Ledger.Ledger.Properties.html#30883" class="Function">utxoDeps</a> <a id="31065" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="31067" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a> <a id="31070" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a>

    <a id="31077" href="Ledger.Ledger.Properties.html#31077" class="Function">χ&#39;≡χ</a> <a id="31082" class="Symbol">:</a> <a id="31084" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a> <a id="31087" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="31090" href="Ledger.Ledger.Properties.html#30492" class="Function">χ</a>
    <a id="31096" href="Ledger.Ledger.Properties.html#31077" class="Function">χ&#39;≡χ</a> <a id="31101" class="Symbol">=</a> <a id="31103" href="Ledger.Ledger.Properties.html#31133" class="Function">χ&#39;⊆χ</a> <a id="31108" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31110" href="Ledger.Ledger.Properties.html#31638" class="Function">χ⊆χ&#39;</a>
      <a id="31121" class="Keyword">where</a>
      <a id="31133" href="Ledger.Ledger.Properties.html#31133" class="Function">χ&#39;⊆χ</a> <a id="31138" class="Symbol">:</a> <a id="31140" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a> <a id="31143" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="31145" href="Ledger.Ledger.Properties.html#30492" class="Function">χ</a>
      <a id="31153" href="Ledger.Ledger.Properties.html#31133" class="Function">χ&#39;⊆χ</a> <a id="31158" class="Symbol">{</a><a id="31159" href="Ledger.Ledger.Properties.html#31159" class="Bound">a</a><a id="31160" class="Symbol">}</a> <a id="31162" href="Ledger.Ledger.Properties.html#31162" class="Bound">x</a> <a id="31164" class="Keyword">with</a> <a id="31169" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31174" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31180" href="Ledger.Ledger.Properties.html#31162" class="Bound">x</a>
      <a id="31188" class="Symbol">...</a> <a id="31192" class="Symbol">|</a> <a id="31194" class="Symbol">(</a><a id="31195" href="Ledger.Ledger.Properties.html#31195" class="Bound">gaid</a> <a id="31200" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31202" href="Ledger.Ledger.Properties.html#31202" class="Bound">gast</a><a id="31206" class="Symbol">)</a> <a id="31208" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31210" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31215" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31217" href="Ledger.Ledger.Properties.html#31217" class="Bound">gaidgast∈rem</a> <a id="31230" class="Keyword">with</a> <a id="31235" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31240" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31246" class="Symbol">(</a><a id="31247" href="Ledger.Ledger.Properties.html#30274" class="Bound">ratify-removed</a> <a id="31262" class="Bound">x</a><a id="31263" class="Symbol">)</a>
      <a id="31271" class="Symbol">...</a> <a id="31275" class="Symbol">|</a> <a id="31277" class="Symbol">(</a><a id="31278" href="Ledger.Ledger.Properties.html#31278" class="Bound">dp</a> <a id="31281" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31283" href="Ledger.Ledger.Properties.html#31283" class="Bound">c</a><a id="31284" class="Symbol">)</a> <a id="31286" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31288" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31293" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31295" href="Ledger.Ledger.Properties.html#31295" class="Bound">dpc∈utxoDeps</a> <a id="31308" class="Symbol">=</a> <a id="31310" class="Keyword">let</a> <a id="31314" href="Ledger.Ledger.Properties.html#31314" class="Bound">gadc</a> <a id="31319" class="Symbol">=</a> <a id="31321" class="Symbol">(</a><a id="31322" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="31339" class="Bound">gaid</a> <a id="31344" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31346" href="Ledger.Ledger.Properties.html#31283" class="Bound">c</a><a id="31347" class="Symbol">)</a> <a id="31349" class="Keyword">in</a>
        <a id="31360" href="Function.Bundles.html#4810" class="Field">to</a> <a id="31363" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31369" class="Symbol">((</a><a id="31371" href="Ledger.GovernanceActions.html#2167" class="Field">returnAddr</a> <a id="31382" class="Symbol">{</a><a id="31383" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a><a id="31386" class="Symbol">}</a> <a id="31388" class="Bound">gast</a> <a id="31393" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31395" href="Ledger.Ledger.Properties.html#31314" class="Bound">gadc</a><a id="31399" class="Symbol">)</a>
                 <a id="31418" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31420" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
                 <a id="31442" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31444" href="Function.Bundles.html#4810" class="Field">to</a> <a id="31447" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="31460" class="Symbol">((</a><a id="31462" class="Bound">gaid</a> <a id="31467" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31469" class="Bound">gast</a><a id="31473" class="Symbol">)</a>
                                   <a id="31510" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31512" class="Bound">gaidgast∈rem</a>
                                   <a id="31560" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31562" href="Function.Bundles.html#4810" class="Field">to</a> <a id="31565" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31571" class="Symbol">(</a><a id="31572" href="Ledger.Ledger.Properties.html#31314" class="Bound">gadc</a> <a id="31577" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31579" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31584" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31586" href="Axiom.Set.Map.html#12520" class="Function">res-singleton⁺</a> <a id="31601" class="Symbol">{</a><a id="31602" class="Argument">m</a> <a id="31604" class="Symbol">=</a> <a id="31606" href="Ledger.Ledger.Properties.html#30883" class="Function">utxoDeps</a><a id="31614" class="Symbol">}</a> <a id="31616" href="Ledger.Ledger.Properties.html#31295" class="Bound">dpc∈utxoDeps</a><a id="31628" class="Symbol">)))</a>
      <a id="31638" href="Ledger.Ledger.Properties.html#31638" class="Function">χ⊆χ&#39;</a> <a id="31643" class="Symbol">:</a> <a id="31645" href="Ledger.Ledger.Properties.html#30492" class="Function">χ</a> <a id="31647" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="31649" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a>
      <a id="31658" href="Ledger.Ledger.Properties.html#31638" class="Function">χ⊆χ&#39;</a> <a id="31663" class="Symbol">{</a><a id="31664" href="Ledger.Ledger.Properties.html#31664" class="Bound">a</a><a id="31665" class="Symbol">}</a> <a id="31667" href="Ledger.Ledger.Properties.html#31667" class="Bound">x</a> <a id="31669" class="Keyword">with</a> <a id="31674" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31679" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31685" href="Ledger.Ledger.Properties.html#31667" class="Bound">x</a>
      <a id="31693" class="Symbol">...</a> <a id="31697" class="Symbol">|</a> <a id="31699" class="Symbol">(</a><a id="31700" href="Ledger.Ledger.Properties.html#31700" class="Bound">rwa</a> <a id="31704" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31706" href="Ledger.Ledger.Properties.html#31706" class="Bound">dp</a> <a id="31709" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31711" href="Ledger.Ledger.Properties.html#31711" class="Bound">c</a><a id="31712" class="Symbol">)</a> <a id="31714" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31716" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31721" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31723" href="Ledger.Ledger.Properties.html#31723" class="Bound">rwa-dp-c∈</a> <a id="31733" class="Keyword">with</a> <a id="31738" class="Symbol">(</a><a id="31739" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31744" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="31757" href="Ledger.Ledger.Properties.html#31723" class="Bound">rwa-dp-c∈</a><a id="31766" class="Symbol">)</a>
      <a id="31774" class="Symbol">...</a> <a id="31778" class="Symbol">|</a> <a id="31780" class="Symbol">(</a><a id="31781" href="Ledger.Ledger.Properties.html#31781" class="Bound">gaid</a> <a id="31786" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31788" href="Ledger.Ledger.Properties.html#31788" class="Bound">gast</a><a id="31792" class="Symbol">)</a> <a id="31794" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31796" href="Ledger.Ledger.Properties.html#31796" class="Bound">gaid-gast-∈-removed</a> <a id="31816" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31818" href="Ledger.Ledger.Properties.html#31818" class="Bound">rwa-dp-c-∈-map</a> <a id="31833" class="Keyword">with</a> <a id="31838" class="Symbol">(</a><a id="31839" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31844" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31850" href="Ledger.Ledger.Properties.html#31818" class="Bound">rwa-dp-c-∈-map</a><a id="31864" class="Symbol">)</a>
      <a id="31872" class="Symbol">...</a> <a id="31876" class="Symbol">|</a> <a id="31878" class="Symbol">(_</a> <a id="31881" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31883" class="Symbol">_)</a> <a id="31886" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31888" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31893" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31895" href="Ledger.Ledger.Properties.html#31895" class="Bound">q∈</a> <a id="31898" class="Symbol">=</a>
        <a id="31908" href="Function.Bundles.html#4810" class="Field">to</a> <a id="31911" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31917" class="Symbol">((</a><a id="31919" class="Bound">gaid</a> <a id="31924" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31926" class="Bound">gast</a><a id="31930" class="Symbol">)</a>
                 <a id="31949" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31951" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="31957" class="Symbol">(</a><a id="31958" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a> <a id="31966" class="Symbol">(</a><a id="31967" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="31973" class="Symbol">(</a><a id="31974" href="Axiom.Set.Map.html#12964" class="Function">res-singleton&#39;&#39;</a> <a id="31990" class="Symbol">{</a><a id="31991" class="Argument">m</a> <a id="31993" class="Symbol">=</a> <a id="31995" href="Ledger.Ledger.Properties.html#30883" class="Function">utxoDeps</a><a id="32003" class="Symbol">}</a> <a id="32005" href="Ledger.Ledger.Properties.html#31895" class="Bound">q∈</a><a id="32007" class="Symbol">)))</a>
                 <a id="32028" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32030" class="Bound">gaid-gast-∈-removed</a><a id="32049" class="Symbol">)</a>


    <a id="32057" href="Ledger.Ledger.Properties.html#32057" class="Function">map-filter-decomp</a> <a id="32075" class="Symbol">:</a> <a id="32077" class="Symbol">∀</a> <a id="32079" href="Ledger.Ledger.Properties.html#32079" class="Bound">a</a> <a id="32081" class="Symbol">→</a> <a id="32083" class="Symbol">(</a><a id="32084" href="Ledger.Ledger.Properties.html#32079" class="Bound">a</a> <a id="32086" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="32088" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a> <a id="32091" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="32093" href="Ledger.Ledger.Properties.html#32079" class="Bound">a</a> <a id="32095" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32098" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="32102" class="Symbol">(</a><a id="32103" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32120" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32122" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32127" class="Symbol">)</a> <a id="32129" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32134" class="Symbol">)</a>
                               <a id="32167" href="Function.Bundles.html#12400" class="Function Operator">⇔</a> <a id="32169" class="Symbol">(</a><a id="32170" href="Ledger.Ledger.Properties.html#32079" class="Bound">a</a> <a id="32172" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32175" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="32179" class="Symbol">(</a><a id="32180" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32197" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32199" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32204" class="Symbol">)(</a><a id="32206" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="32213" href="Ledger.Ledger.Properties.html#30838" class="Function">P?</a> <a id="32216" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32221" class="Symbol">))</a>
    <a id="32228" href="Ledger.Ledger.Properties.html#32057" class="Function">map-filter-decomp</a> <a id="32246" href="Ledger.Ledger.Properties.html#32246" class="Bound">a</a> <a id="32248" class="Symbol">=</a> <a id="32250" href="Function.Bundles.html#13499" class="Function">mk⇔</a> <a id="32254" href="Ledger.Ledger.Properties.html#32295" class="Function">i</a> <a id="32256" class="Symbol">(λ</a> <a id="32259" href="Ledger.Ledger.Properties.html#32259" class="Bound">h</a> <a id="32261" class="Symbol">→</a> <a id="32263" href="Ledger.Ledger.Properties.html#32667" class="Function">ii</a> <a id="32266" href="Ledger.Ledger.Properties.html#32259" class="Bound">h</a> <a id="32268" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32270" href="Ledger.Ledger.Properties.html#32922" class="Function">iii</a> <a id="32274" href="Ledger.Ledger.Properties.html#32259" class="Bound">h</a><a id="32275" class="Symbol">)</a>
      <a id="32283" class="Keyword">where</a>
      <a id="32295" href="Ledger.Ledger.Properties.html#32295" class="Function">i</a> <a id="32297" class="Symbol">:</a> <a id="32299" class="Symbol">((</a><a id="32301" href="Ledger.Ledger.Properties.html#32246" class="Bound">a</a> <a id="32303" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="32305" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a><a id="32307" class="Symbol">)</a> <a id="32309" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="32311" class="Symbol">(</a><a id="32312" href="Ledger.Ledger.Properties.html#32246" class="Bound">a</a> <a id="32314" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32317" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="32321" class="Symbol">(</a><a id="32322" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32339" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32341" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32346" class="Symbol">)</a> <a id="32348" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32353" class="Symbol">))</a>
          <a id="32366" class="Symbol">→</a> <a id="32368" href="Ledger.Ledger.Properties.html#32246" class="Bound">a</a> <a id="32370" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32373" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="32377" class="Symbol">(</a><a id="32378" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32395" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32397" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32402" class="Symbol">)</a> <a id="32404" class="Symbol">(</a><a id="32405" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="32412" href="Ledger.Ledger.Properties.html#30838" class="Function">P?</a> <a id="32415" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32420" class="Symbol">)</a>
      <a id="32428" href="Ledger.Ledger.Properties.html#32295" class="Function">i</a> <a id="32430" class="Symbol">(</a><a id="32431" href="Ledger.Ledger.Properties.html#32431" class="Bound">a∉χ&#39;</a> <a id="32436" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32438" href="Ledger.Ledger.Properties.html#32438" class="Bound">a∈</a><a id="32440" class="Symbol">)</a> <a id="32442" class="Keyword">with</a> <a id="32447" href="Function.Bundles.html#7418" class="Field">Inverse.from</a> <a id="32460" class="Symbol">(</a><a id="32461" href="Data.List.Membership.Propositional.Properties.html#4227" class="Function">map-∈↔</a> <a id="32468" class="Symbol">(</a><a id="32469" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32486" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32488" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32493" class="Symbol">))</a> <a id="32496" href="Ledger.Ledger.Properties.html#32438" class="Bound">a∈</a>
      <a id="32505" class="Symbol">...</a> <a id="32509" class="Symbol">|</a> <a id="32511" href="Ledger.Ledger.Properties.html#32511" class="Bound">b</a> <a id="32513" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32515" href="Ledger.Ledger.Properties.html#32515" class="Bound">b∈</a> <a id="32518" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32520" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="32525" class="Symbol">=</a> <a id="32527" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="32538" class="Symbol">(</a><a id="32539" href="Data.List.Membership.Propositional.Properties.html#4227" class="Function">map-∈↔</a> <a id="32546" class="Symbol">(</a><a id="32547" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32564" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32566" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32571" class="Symbol">))</a>
                                       <a id="32613" class="Symbol">(</a><a id="32614" href="Ledger.Ledger.Properties.html#32511" class="Bound">b</a> <a id="32616" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32618" href="Data.List.Membership.Propositional.Properties.html#9096" class="Function">∈-filter⁺</a> <a id="32628" href="Ledger.Ledger.Properties.html#30838" class="Function">P?</a> <a id="32631" href="Ledger.Ledger.Properties.html#32515" class="Bound">b∈</a> <a id="32634" class="Symbol">(</a><a id="32635" class="Bound">a∉χ&#39;</a> <a id="32640" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32642" href="Axiom.Set.Properties.html#5166" class="Function">∈-map⁺-∘</a><a id="32650" class="Symbol">)</a> <a id="32652" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32654" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="32658" class="Symbol">)</a>

      <a id="32667" href="Ledger.Ledger.Properties.html#32667" class="Function">ii</a> <a id="32670" class="Symbol">:</a> <a id="32672" href="Ledger.Ledger.Properties.html#32246" class="Bound">a</a> <a id="32674" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32677" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="32681" class="Symbol">(</a><a id="32682" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32699" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32701" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32706" class="Symbol">)</a> <a id="32708" class="Symbol">(</a><a id="32709" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="32716" href="Ledger.Ledger.Properties.html#30838" class="Function">P?</a> <a id="32719" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32724" class="Symbol">)</a> <a id="32726" class="Symbol">→</a> <a id="32728" href="Ledger.Ledger.Properties.html#32246" class="Bound">a</a> <a id="32730" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="32732" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a>
      <a id="32741" href="Ledger.Ledger.Properties.html#32667" class="Function">ii</a> <a id="32744" href="Ledger.Ledger.Properties.html#32744" class="Bound">a∈</a> <a id="32747" href="Ledger.Ledger.Properties.html#32747" class="Bound">a∈χ&#39;</a> <a id="32752" class="Keyword">with</a> <a id="32757" href="Function.Bundles.html#4834" class="Field">from</a> <a id="32762" class="Symbol">(</a><a id="32763" href="Data.List.Ext.html#1921" class="Function">∈ˡ-map-filter</a> <a id="32777" class="Symbol">{</a><a id="32778" class="Argument">l</a> <a id="32780" class="Symbol">=</a> <a id="32782" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32787" class="Symbol">}</a> <a id="32789" class="Symbol">{</a><a id="32790" class="Argument">P?</a> <a id="32793" class="Symbol">=</a> <a id="32795" href="Ledger.Ledger.Properties.html#30838" class="Function">P?</a><a id="32797" class="Symbol">})</a> <a id="32800" href="Ledger.Ledger.Properties.html#32744" class="Bound">a∈</a>
      <a id="32809" class="Symbol">...</a> <a id="32813" class="Symbol">|</a> <a id="32815" class="Symbol">_</a> <a id="32817" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32819" class="Symbol">_</a> <a id="32821" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32823" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="32828" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32830" href="Ledger.Ledger.Properties.html#32830" class="Bound">Pb</a> <a id="32833" class="Keyword">with</a> <a id="32838" href="Axiom.Set.Properties.html#1617" class="Function">∈-map⁻&#39;</a> <a id="32846" class="Bound">a∈χ&#39;</a>
      <a id="32857" class="Symbol">...</a> <a id="32861" class="Symbol">|</a> <a id="32863" href="Ledger.Ledger.Properties.html#32863" class="Bound">q</a> <a id="32865" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32867" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="32872" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32874" href="Ledger.Ledger.Properties.html#32874" class="Bound">q∈rem</a> <a id="32880" class="Symbol">=</a> <a id="32882" class="Bound">Pb</a> <a id="32885" class="Symbol">(</a><a id="32886" href="Function.Bundles.html#4810" class="Field">to</a> <a id="32889" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="32895" class="Symbol">(</a><a id="32896" href="Ledger.Ledger.Properties.html#32863" class="Bound">q</a> <a id="32898" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32900" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="32905" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32907" href="Ledger.Ledger.Properties.html#32874" class="Bound">q∈rem</a><a id="32912" class="Symbol">))</a>

      <a id="32922" href="Ledger.Ledger.Properties.html#32922" class="Function">iii</a> <a id="32926" class="Symbol">:</a> <a id="32928" href="Ledger.Ledger.Properties.html#32246" class="Bound">a</a> <a id="32930" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32933" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="32937" class="Symbol">(</a><a id="32938" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32955" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32957" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32962" class="Symbol">)</a> <a id="32964" class="Symbol">(</a><a id="32965" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="32972" href="Ledger.Ledger.Properties.html#30838" class="Function">P?</a> <a id="32975" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32980" class="Symbol">)</a>
            <a id="32994" class="Symbol">→</a> <a id="32996" href="Ledger.Ledger.Properties.html#32246" class="Bound">a</a> <a id="32998" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="33001" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="33005" class="Symbol">(</a><a id="33006" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="33023" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="33025" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="33030" class="Symbol">)</a> <a id="33032" href="Ledger.Ledger.html#801" class="Function">govSt</a>
      <a id="33044" href="Ledger.Ledger.Properties.html#32922" class="Function">iii</a> <a id="33048" href="Ledger.Ledger.Properties.html#33048" class="Bound">a∈</a> <a id="33051" class="Keyword">with</a> <a id="33056" href="Function.Bundles.html#4834" class="Field">from</a> <a id="33061" class="Symbol">(</a><a id="33062" href="Data.List.Ext.html#1921" class="Function">∈ˡ-map-filter</a> <a id="33076" class="Symbol">{</a><a id="33077" class="Argument">l</a> <a id="33079" class="Symbol">=</a> <a id="33081" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="33086" class="Symbol">}</a> <a id="33088" class="Symbol">{</a><a id="33089" class="Argument">P?</a> <a id="33092" class="Symbol">=</a> <a id="33094" href="Ledger.Ledger.Properties.html#30838" class="Function">P?</a><a id="33096" class="Symbol">})</a> <a id="33099" href="Ledger.Ledger.Properties.html#33048" class="Bound">a∈</a>
      <a id="33108" class="Symbol">...</a> <a id="33112" class="Symbol">|</a> <a id="33114" href="Ledger.Ledger.Properties.html#33114" class="Bound">b</a> <a id="33116" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33118" href="Ledger.Ledger.Properties.html#33118" class="Bound">b∈</a> <a id="33121" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33123" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="33128" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33130" href="Ledger.Ledger.Properties.html#33130" class="Bound">Pb</a> <a id="33133" class="Symbol">=</a> <a id="33135" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="33146" class="Symbol">(</a><a id="33147" href="Data.List.Membership.Propositional.Properties.html#4227" class="Function">map-∈↔</a> <a id="33154" class="Symbol">(</a><a id="33155" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="33172" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="33174" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="33179" class="Symbol">))</a> <a id="33182" class="Symbol">(</a><a id="33183" href="Ledger.Ledger.Properties.html#33114" class="Bound">b</a> <a id="33185" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33187" class="Symbol">(</a><a id="33188" href="Ledger.Ledger.Properties.html#33118" class="Bound">b∈</a> <a id="33191" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33193" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="33197" class="Symbol">))</a>


    <a id="33206" href="Ledger.Ledger.Properties.html#33206" class="Function">main-invariance-lemma</a> <a id="33228" class="Symbol">:</a>
        <a id="33238" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="33246" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="33258" class="Symbol">(</a><a id="33259" href="Class.IsSet.html#916" class="Function">dom</a> <a id="33263" href="Ledger.Ledger.Properties.html#30883" class="Function">utxoDeps</a><a id="33271" class="Symbol">)</a> <a id="33273" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="33277" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="33286" class="Symbol">(</a><a id="33287" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="33291" class="Symbol">(</a><a id="33292" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="33309" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="33311" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="33316" class="Symbol">)</a> <a id="33318" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="33323" class="Symbol">)</a>
        <a id="33333" class="Comment">---------------------------------------------------------------------------------------------------</a>
      <a id="33439" class="Symbol">→</a> <a id="33441" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="33449" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="33461" class="Symbol">(</a><a id="33462" href="Class.IsSet.html#916" class="Function">dom</a> <a id="33466" href="Ledger.Ledger.Properties.html#31019" class="Function">utxoDeps&#39;</a><a id="33475" class="Symbol">)</a> <a id="33477" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="33481" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="33490" class="Symbol">(</a><a id="33491" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="33495" class="Symbol">(</a><a id="33496" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="33513" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="33515" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="33520" class="Symbol">)</a> <a id="33522" class="Symbol">(</a><a id="33523" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="33530" href="Ledger.Ledger.Properties.html#30838" class="Function">P?</a> <a id="33533" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="33538" class="Symbol">))</a>

    <a id="33546" href="Ledger.Ledger.Properties.html#33206" class="Function">main-invariance-lemma</a> <a id="33568" href="Ledger.Ledger.Properties.html#33568" class="Bound">HYP</a> <a id="33572" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="33574" class="Symbol">=</a> <a id="33576" class="Keyword">let</a> <a id="33580" class="Keyword">open</a> <a id="33585" href="Function.Related.Propositional.html#9123" class="Module">R.EquationalReasoning</a> <a id="33607" class="Keyword">in</a>
      <a id="33616" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="33618" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="33620" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="33628" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="33640" class="Symbol">(</a><a id="33641" href="Class.IsSet.html#916" class="Function">dom</a> <a id="33645" href="Ledger.Ledger.Properties.html#31019" class="Function">utxoDeps&#39;</a><a id="33654" class="Symbol">)</a>                         <a id="33680" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="33683" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="33692" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="33701" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="33709" class="Symbol">(</a><a id="33710" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="33722" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="33724" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33726" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="33728" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="33730" href="Class.IsSet.html#916" class="Function">dom</a> <a id="33734" href="Ledger.Ledger.Properties.html#31019" class="Function">utxoDeps&#39;</a><a id="33743" class="Symbol">)</a>                             <a id="33773" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="33776" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="33785" href="Data.List.Ext.Properties.html#737" class="Function Operator">×-cong</a> <a id="33792" href="Axiom.Set.Rel.html#7819" class="Function">∈-resᶜ-dom</a> <a id="33803" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="33811" class="Symbol">(</a><a id="33812" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="33824" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="33826" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33828" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="33830" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="33832" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a> <a id="33835" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33837" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="33840" href="Ledger.Ledger.Properties.html#33840" class="Bound">q</a> <a id="33842" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="33844" class="Symbol">(</a><a id="33845" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="33847" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33849" href="Ledger.Ledger.Properties.html#33840" class="Bound">q</a><a id="33850" class="Symbol">)</a> <a id="33852" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="33854" href="Ledger.Ledger.Properties.html#30883" class="Function">utxoDeps</a><a id="33862" class="Symbol">)</a>            <a id="33875" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="33878" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a> <a id="33887" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="33895" class="Symbol">(</a><a id="33896" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="33898" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="33900" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a> <a id="33903" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33905" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="33917" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="33919" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33921" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="33924" href="Ledger.Ledger.Properties.html#33924" class="Bound">q</a> <a id="33926" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="33928" class="Symbol">(</a><a id="33929" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="33931" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33933" href="Ledger.Ledger.Properties.html#33924" class="Bound">q</a><a id="33934" class="Symbol">)</a> <a id="33936" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="33938" href="Ledger.Ledger.Properties.html#30883" class="Function">utxoDeps</a><a id="33946" class="Symbol">)</a>            <a id="33959" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="33962" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="33971" href="Data.List.Ext.Properties.html#737" class="Function Operator">×-cong</a> <a id="33978" class="Symbol">(</a><a id="33979" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="33988" href="Data.List.Ext.Properties.html#737" class="Function Operator">×-cong</a> <a id="33995" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a><a id="33999" class="Symbol">)</a><a id="34000" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34008" class="Symbol">(</a><a id="34009" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="34011" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="34013" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a> <a id="34016" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34018" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="34030" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="34032" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34034" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="34036" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="34038" href="Class.IsSet.html#916" class="Function">dom</a> <a id="34042" href="Ledger.Ledger.Properties.html#30883" class="Function">utxoDeps</a><a id="34050" class="Symbol">)</a>                     <a id="34072" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34075" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="34084" href="Data.List.Ext.Properties.html#737" class="Function Operator">×-cong</a> <a id="34091" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="34100" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34108" class="Symbol">(</a><a id="34109" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="34111" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="34113" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a> <a id="34116" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34118" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="34120" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="34122" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="34130" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="34142" class="Symbol">(</a><a id="34143" href="Class.IsSet.html#916" class="Function">dom</a> <a id="34147" href="Ledger.Ledger.Properties.html#30883" class="Function">utxoDeps</a><a id="34155" class="Symbol">))</a>               <a id="34172" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34175" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="34184" href="Data.List.Ext.Properties.html#737" class="Function Operator">×-cong</a> <a id="34191" class="Symbol">(</a><a id="34192" href="Ledger.Ledger.Properties.html#33568" class="Bound">HYP</a> <a id="34196" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a><a id="34197" class="Symbol">)</a> <a id="34199" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34207" class="Symbol">(</a><a id="34208" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="34210" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="34212" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a> <a id="34215" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34217" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="34219" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="34221" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="34230" class="Symbol">(</a><a id="34231" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="34235" class="Symbol">(</a><a id="34236" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="34253" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="34255" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="34260" class="Symbol">)</a> <a id="34262" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="34267" class="Symbol">))</a>  <a id="34271" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34274" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="34283" href="Data.List.Ext.Properties.html#737" class="Function Operator">×-cong</a> <a id="34290" class="Symbol">(</a><a id="34291" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="34300" href="Axiom.Set.html#5776" class="Function">∈-fromList</a><a id="34310" class="Symbol">)</a><a id="34311" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34319" class="Symbol">(</a><a id="34320" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="34322" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="34324" href="Ledger.Ledger.Properties.html#30613" class="Function">χ&#39;</a> <a id="34327" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34329" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="34331" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="34334" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="34338" class="Symbol">(</a><a id="34339" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="34356" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="34358" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="34363" class="Symbol">)</a> <a id="34365" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="34370" class="Symbol">)</a>            <a id="34383" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34386" href="Ledger.Ledger.Properties.html#32057" class="Function">map-filter-decomp</a> <a id="34404" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="34406" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34414" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="34416" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="34419" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="34423" class="Symbol">(</a><a id="34424" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="34441" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="34443" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="34448" class="Symbol">)</a> <a id="34450" class="Symbol">(</a><a id="34451" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="34458" href="Ledger.Ledger.Properties.html#30838" class="Function">P?</a> <a id="34461" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="34466" class="Symbol">)</a>           <a id="34478" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34481" href="Axiom.Set.html#5776" class="Function">∈-fromList</a> <a id="34492" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34500" href="Ledger.Ledger.Properties.html#33572" class="Bound">a</a> <a id="34502" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="34504" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="34513" class="Symbol">(</a><a id="34514" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="34518" class="Symbol">(</a><a id="34519" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="34536" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="34538" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="34543" class="Symbol">)</a> <a id="34545" class="Symbol">(</a><a id="34546" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="34553" href="Ledger.Ledger.Properties.html#30838" class="Function">P?</a> <a id="34556" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="34561" class="Symbol">))</a> <a id="34564" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="34567" class="Comment">-- GA Deposits Invariance Property for CHAIN STS -----------------------------------------------</a>
<a id="34664" class="Keyword">module</a> <a id="34671" href="Ledger.Ledger.Properties.html#34671" class="Module">_</a> <a id="34673" class="Symbol">(</a><a id="34674" href="Ledger.Ledger.Properties.html#34674" class="Bound">b</a> <a id="34676" class="Symbol">:</a> <a id="34678" href="Ledger.Chain.html#626" class="Record">Block</a><a id="34683" class="Symbol">)</a> <a id="34685" class="Symbol">(</a><a id="34686" href="Ledger.Ledger.Properties.html#34686" class="Bound">cs</a> <a id="34689" class="Symbol">:</a> <a id="34691" href="Ledger.Chain.html#551" class="Record">ChainState</a><a id="34701" class="Symbol">)</a> <a id="34703" class="Keyword">where</a>
  <a id="34711" class="Keyword">open</a> <a id="34716" href="Ledger.Chain.html#626" class="Module">Block</a> <a id="34722" href="Ledger.Ledger.Properties.html#34674" class="Bound">b</a><a id="34723" class="Symbol">;</a> <a id="34725" class="Keyword">open</a> <a id="34730" href="Ledger.Chain.html#551" class="Module">ChainState</a> <a id="34741" href="Ledger.Ledger.Properties.html#34686" class="Bound">cs</a>
  <a id="34746" class="Keyword">open</a> <a id="34751" href="Ledger.Epoch.html#1330" class="Module">NewEpochState</a> <a id="34765" href="Ledger.Chain.html#587" class="Field">newEpochState</a>
  <a id="34781" class="Keyword">open</a> <a id="34786" href="Ledger.Ledger.Properties.html#11651" class="Module">SetoidProperties</a> <a id="34803" class="Keyword">using</a> <a id="34809" class="Symbol">(</a><a id="34810" href="Ledger.Ledger.Properties.html#27889" class="Function">LEDGER-govDepsMatch</a><a id="34829" class="Symbol">)</a>
  <a id="34833" class="Keyword">open</a> <a id="34838" href="Ledger.Ledger.Properties.html#29171" class="Module">EPOCH-Body</a> <a id="34849" href="Ledger.Epoch.html#1393" class="Function">epochState</a>
  <a id="34862" class="Keyword">open</a> <a id="34867" href="Ledger.Enact.html#397" class="Module">EnactState</a> <a id="34878" href="Ledger.Ledger.Properties.html#29395" class="Function">es</a> <a id="34881" class="Keyword">using</a> <a id="34887" class="Symbol">(</a><a id="34888" href="Ledger.Enact.html#607" class="Field">pparams</a><a id="34895" class="Symbol">)</a>
  <a id="34899" href="Ledger.Ledger.Properties.html#34899" class="Function">pp</a> <a id="34902" class="Symbol">=</a> <a id="34904" href="Ledger.Enact.html#607" class="Function">pparams</a> <a id="34912" class="Symbol">.</a><a id="34913" href="Data.Product.Base.html#636" class="Field">proj₁</a>

  <a id="34922" href="Ledger.Ledger.Properties.html#34922" class="Function">updateChainState</a> <a id="34939" class="Symbol">:</a> <a id="34941" href="Ledger.Chain.html#551" class="Record">ChainState</a> <a id="34952" class="Symbol">→</a> <a id="34954" href="Ledger.Epoch.html#1330" class="Record">NewEpochState</a> <a id="34968" class="Symbol">→</a> <a id="34970" href="Ledger.Chain.html#551" class="Record">ChainState</a>
  <a id="34983" href="Ledger.Ledger.Properties.html#34922" class="Function">updateChainState</a> <a id="35000" href="Ledger.Ledger.Properties.html#35000" class="Bound">s</a> <a id="35002" href="Ledger.Ledger.Properties.html#35002" class="Bound">nes</a> <a id="35006" class="Symbol">=</a>
    <a id="35012" class="Keyword">record</a> <a id="35019" href="Ledger.Ledger.Properties.html#35000" class="Bound">s</a> <a id="35021" class="Symbol">{</a> <a id="35023" href="Ledger.Chain.html#587" class="Field">newEpochState</a> <a id="35037" class="Symbol">=</a>
      <a id="35045" class="Keyword">record</a> <a id="35052" href="Ledger.Ledger.Properties.html#35002" class="Bound">nes</a> <a id="35056" class="Symbol">{</a> <a id="35058" href="Ledger.Epoch.html#1393" class="Field">epochState</a> <a id="35069" class="Symbol">=</a>
        <a id="35079" class="Keyword">record</a> <a id="35086" class="Symbol">(</a><a id="35087" href="Ledger.Epoch.html#1393" class="Field">NewEpochState.epochState</a> <a id="35112" class="Symbol">(</a><a id="35113" href="Ledger.Chain.html#587" class="Field">ChainState.newEpochState</a> <a id="35138" href="Ledger.Ledger.Properties.html#35000" class="Bound">s</a><a id="35139" class="Symbol">))</a>
          <a id="35152" class="Symbol">{</a> <a id="35154" href="Ledger.Epoch.html#1244" class="Field">ls</a> <a id="35157" class="Symbol">=</a> <a id="35159" href="Ledger.Epoch.html#1244" class="Field">EpochState.ls</a> <a id="35173" class="Symbol">(</a><a id="35174" href="Ledger.Epoch.html#1393" class="Field">NewEpochState.epochState</a> <a id="35199" href="Ledger.Ledger.Properties.html#35002" class="Bound">nes</a><a id="35202" class="Symbol">)</a> <a id="35204" class="Symbol">}</a>
      <a id="35212" class="Symbol">}</a>
    <a id="35218" class="Symbol">}</a>

  <a id="35223" href="Ledger.Ledger.Properties.html#35223" class="Function">CHAIN-govDepsMatch</a> <a id="35242" class="Symbol">:</a> <a id="35244" class="Symbol">{</a><a id="35245" href="Ledger.Ledger.Properties.html#35245" class="Bound">nes</a> <a id="35249" class="Symbol">:</a> <a id="35251" href="Ledger.Epoch.html#1330" class="Record">NewEpochState</a><a id="35264" class="Symbol">}</a>
    <a id="35270" class="Symbol">→</a> <a id="35272" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="35277" class="Symbol">(</a><a id="35278" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="35295" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="35297" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="35302" class="Symbol">)</a> <a id="35304" href="Ledger.Ledger.Properties.html#29553" class="Function">removed&#39;</a> <a id="35313" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="35315" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="35320" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="35326" class="Symbol">(</a><a id="35327" href="Ledger.Utxo.html#2624" class="Field">UTxOState.deposits</a> <a id="35346" class="Symbol">(</a><a id="35347" href="Ledger.Ledger.html#774" class="Field">LState.utxoSt</a> <a id="35361" href="Ledger.Epoch.html#1244" class="Function">ls</a><a id="35363" class="Symbol">)</a> <a id="35365" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="35366" class="Symbol">)</a>
    <a id="35372" class="Symbol">→</a> <a id="35374" href="Ledger.Chain.html#2474" class="Function">totalRefScriptsSize</a> <a id="35394" href="Ledger.Epoch.html#1244" class="Function">ls</a> <a id="35397" href="Ledger.Chain.html#657" class="Function">ts</a> <a id="35400" href="Class.HasOrder.Core.html#551" class="Field Operator">≤</a> <a id="35402" class="Symbol">(</a><a id="35403" href="Ledger.PParams.html#2355" class="Field">PParams.maxRefScriptSizePerBlock</a> <a id="35436" href="Ledger.Ledger.Properties.html#34899" class="Function">pp</a><a id="35438" class="Symbol">)</a>
    <a id="35444" class="Symbol">→</a> <a id="35446" class="Symbol">_</a> <a id="35448" href="Ledger.Chain.html#2636" class="Datatype Operator">⊢</a> <a id="35450" href="Ledger.Ledger.Properties.html#34686" class="Bound">cs</a> <a id="35453" href="Ledger.Chain.html#2636" class="Datatype Operator">⇀⦇</a> <a id="35456" href="Ledger.Ledger.Properties.html#34674" class="Bound">b</a> <a id="35458" href="Ledger.Chain.html#2636" class="Datatype Operator">,CHAIN⦈</a> <a id="35466" class="Symbol">(</a><a id="35467" href="Ledger.Ledger.Properties.html#34922" class="Function">updateChainState</a> <a id="35484" href="Ledger.Ledger.Properties.html#34686" class="Bound">cs</a> <a id="35487" href="Ledger.Ledger.Properties.html#35245" class="Bound">nes</a><a id="35490" class="Symbol">)</a>
    <a id="35496" class="Symbol">→</a> <a id="35498" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="35511" href="Ledger.Epoch.html#1244" class="Function">ls</a> <a id="35514" class="Symbol">→</a> <a id="35516" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="35529" class="Symbol">(</a><a id="35530" href="Ledger.Epoch.html#1244" class="Field">EpochState.ls</a> <a id="35544" class="Symbol">(</a><a id="35545" href="Ledger.Epoch.html#1393" class="Field">NewEpochState.epochState</a> <a id="35570" href="Ledger.Ledger.Properties.html#35245" class="Bound">nes</a><a id="35573" class="Symbol">))</a>

  <a id="35579" href="Ledger.Ledger.Properties.html#35223" class="Function">CHAIN-govDepsMatch</a> <a id="35598" href="Ledger.Ledger.Properties.html#35598" class="Bound">rrm</a> <a id="35602" href="Ledger.Ledger.Properties.html#35602" class="Bound">rss</a> <a id="35606" class="Symbol">(</a><a id="35607" href="Ledger.Chain.html#2710" class="InductiveConstructor">CHAIN</a> <a id="35613" href="Ledger.Ledger.Properties.html#35613" class="Bound">x</a> <a id="35615" class="Symbol">(</a><a id="35616" href="Ledger.Epoch.html#7099" class="InductiveConstructor">NEWEPOCH-New</a> <a id="35629" class="Symbol">(_</a> <a id="35632" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="35634" href="Ledger.Ledger.Properties.html#35634" class="Bound">eps₁→eps₂</a><a id="35643" class="Symbol">))</a> <a id="35646" href="Ledger.Ledger.Properties.html#35646" class="Bound">ledgers</a><a id="35653" class="Symbol">)</a> <a id="35655" class="Symbol">=</a>
    <a id="35661" href="Interface.STS.html#4007" class="Function">RTC-preserves-inv</a> <a id="35679" class="Symbol">(λ</a> <a id="35682" class="Symbol">{</a><a id="35683" href="Ledger.Ledger.Properties.html#35683" class="Bound">c</a><a id="35684" class="Symbol">}</a> <a id="35686" class="Symbol">{</a><a id="35687" href="Ledger.Ledger.Properties.html#35687" class="Bound">s</a><a id="35688" class="Symbol">}</a> <a id="35690" class="Symbol">{</a><a id="35691" href="Ledger.Ledger.Properties.html#35691" class="Bound">sig</a><a id="35694" class="Symbol">}</a> <a id="35696" class="Symbol">→</a> <a id="35698" href="Ledger.Ledger.Properties.html#27889" class="Function">LEDGER-govDepsMatch</a> <a id="35718" href="Ledger.Ledger.Properties.html#35691" class="Bound">sig</a> <a id="35722" href="Ledger.Ledger.Properties.html#35683" class="Bound">c</a> <a id="35724" href="Ledger.Ledger.Properties.html#35687" class="Bound">s</a><a id="35725" class="Symbol">)</a> <a id="35727" href="Ledger.Ledger.Properties.html#35646" class="Bound">ledgers</a>
     <a id="35740" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="35742" href="Ledger.Ledger.Properties.html#29981" class="Function">EPOCH-PROPS.EPOCH-govDepsMatch</a> <a id="35773" href="Ledger.Ledger.Properties.html#35598" class="Bound">rrm</a> <a id="35777" href="Ledger.Ledger.Properties.html#35634" class="Bound">eps₁→eps₂</a>

  <a id="35790" href="Ledger.Ledger.Properties.html#35223" class="Function">CHAIN-govDepsMatch</a> <a id="35809" href="Ledger.Ledger.Properties.html#35809" class="Bound">rrm</a> <a id="35813" href="Ledger.Ledger.Properties.html#35813" class="Bound">rss</a> <a id="35817" class="Symbol">(</a><a id="35818" href="Ledger.Chain.html#2710" class="InductiveConstructor">CHAIN</a> <a id="35824" href="Ledger.Ledger.Properties.html#35824" class="Bound">x</a> <a id="35826" class="Symbol">(</a><a id="35827" href="Ledger.Epoch.html#7335" class="InductiveConstructor">NEWEPOCH-Not-New</a> <a id="35844" class="Symbol">_)</a> <a id="35847" href="Ledger.Ledger.Properties.html#35847" class="Bound">ledgers</a><a id="35854" class="Symbol">)</a> <a id="35856" class="Symbol">=</a>
    <a id="35862" href="Interface.STS.html#4007" class="Function">RTC-preserves-inv</a> <a id="35880" class="Symbol">(λ</a> <a id="35883" class="Symbol">{</a><a id="35884" href="Ledger.Ledger.Properties.html#35884" class="Bound">c</a><a id="35885" class="Symbol">}</a> <a id="35887" class="Symbol">{</a><a id="35888" href="Ledger.Ledger.Properties.html#35888" class="Bound">s</a><a id="35889" class="Symbol">}</a> <a id="35891" class="Symbol">{</a><a id="35892" href="Ledger.Ledger.Properties.html#35892" class="Bound">sig</a><a id="35895" class="Symbol">}</a> <a id="35897" class="Symbol">→</a> <a id="35899" href="Ledger.Ledger.Properties.html#27889" class="Function">LEDGER-govDepsMatch</a> <a id="35919" href="Ledger.Ledger.Properties.html#35892" class="Bound">sig</a> <a id="35923" href="Ledger.Ledger.Properties.html#35884" class="Bound">c</a> <a id="35925" href="Ledger.Ledger.Properties.html#35888" class="Bound">s</a><a id="35926" class="Symbol">)</a> <a id="35928" href="Ledger.Ledger.Properties.html#35847" class="Bound">ledgers</a>

  <a id="35939" href="Ledger.Ledger.Properties.html#35223" class="Function">CHAIN-govDepsMatch</a> <a id="35958" href="Ledger.Ledger.Properties.html#35958" class="Bound">rrm</a> <a id="35962" href="Ledger.Ledger.Properties.html#35962" class="Bound">rss</a> <a id="35966" class="Symbol">(</a><a id="35967" href="Ledger.Chain.html#2710" class="InductiveConstructor">CHAIN</a> <a id="35973" href="Ledger.Ledger.Properties.html#35973" class="Bound">x</a> <a id="35975" class="Symbol">(</a><a id="35976" href="Ledger.Epoch.html#7498" class="InductiveConstructor">NEWEPOCH-No-Reward-Update</a> <a id="36002" class="Symbol">(_</a> <a id="36005" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="36007" href="Ledger.Ledger.Properties.html#36007" class="Bound">eps₁→eps₂</a><a id="36016" class="Symbol">))</a> <a id="36019" href="Ledger.Ledger.Properties.html#36019" class="Bound">ledgers</a><a id="36026" class="Symbol">)</a> <a id="36028" class="Symbol">=</a>
    <a id="36034" href="Interface.STS.html#4007" class="Function">RTC-preserves-inv</a> <a id="36052" class="Symbol">(λ</a> <a id="36055" class="Symbol">{</a><a id="36056" href="Ledger.Ledger.Properties.html#36056" class="Bound">c</a><a id="36057" class="Symbol">}</a> <a id="36059" class="Symbol">{</a><a id="36060" href="Ledger.Ledger.Properties.html#36060" class="Bound">s</a><a id="36061" class="Symbol">}</a> <a id="36063" class="Symbol">{</a><a id="36064" href="Ledger.Ledger.Properties.html#36064" class="Bound">sig</a><a id="36067" class="Symbol">}</a> <a id="36069" class="Symbol">→</a> <a id="36071" href="Ledger.Ledger.Properties.html#27889" class="Function">LEDGER-govDepsMatch</a> <a id="36091" href="Ledger.Ledger.Properties.html#36064" class="Bound">sig</a> <a id="36095" href="Ledger.Ledger.Properties.html#36056" class="Bound">c</a> <a id="36097" href="Ledger.Ledger.Properties.html#36060" class="Bound">s</a><a id="36098" class="Symbol">)</a> <a id="36100" href="Ledger.Ledger.Properties.html#36019" class="Bound">ledgers</a>
     <a id="36113" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="36115" href="Ledger.Ledger.Properties.html#29981" class="Function">EPOCH-PROPS.EPOCH-govDepsMatch</a> <a id="36146" href="Ledger.Ledger.Properties.html#35958" class="Bound">rrm</a> <a id="36150" href="Ledger.Ledger.Properties.html#36007" class="Bound">eps₁→eps₂</a>
</pre></body></html>