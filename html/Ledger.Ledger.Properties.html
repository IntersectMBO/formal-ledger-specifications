<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Ledger.Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="83" class="Keyword">open</a> <a id="88" class="Keyword">import</a> <a id="95" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>
<a id="111" class="Keyword">import</a> <a id="118" href="Ledger.Certs.html" class="Module">Ledger.Certs</a>

<a id="132" class="Keyword">module</a> <a id="139" href="Ledger.Ledger.Properties.html" class="Module">Ledger.Ledger.Properties</a>
  <a id="166" class="Symbol">(</a><a id="167" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="171" class="Symbol">:</a> <a id="173" class="Symbol">_)</a> <a id="176" class="Symbol">(</a><a id="177" class="Keyword">open</a> <a id="182" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="203" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a><a id="206" class="Symbol">)</a> <a id="208" class="Symbol">(</a><a id="209" class="Keyword">open</a> <a id="214" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="227" href="Ledger.Transaction.html#1809" class="Function">govStructure</a><a id="239" class="Symbol">)</a>
  <a id="243" class="Symbol">(</a><a id="244" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a> <a id="248" class="Symbol">:</a> <a id="250" href="Ledger.Abstract.html#578" class="Record">AbstractFunctions</a> <a id="268" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a><a id="271" class="Symbol">)</a> <a id="273" class="Symbol">(</a><a id="274" class="Keyword">open</a> <a id="279" href="Ledger.Abstract.html#578" class="Module">AbstractFunctions</a> <a id="297" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a><a id="300" class="Symbol">)</a>
  <a id="304" class="Keyword">where</a>

<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="344" href="Axiom.Set.html#10669" class="Function">th</a>
<a id="347" class="Keyword">open</a> <a id="352" class="Keyword">import</a> <a id="359" href="Ledger.Chain.html" class="Module">Ledger.Chain</a> <a id="372" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="376" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Ledger.Enact.html" class="Module">Ledger.Enact</a> <a id="405" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="418" class="Keyword">open</a> <a id="423" class="Keyword">import</a> <a id="430" href="Ledger.Epoch.html" class="Module">Ledger.Epoch</a> <a id="443" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="447" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="451" class="Keyword">open</a> <a id="456" class="Keyword">import</a> <a id="463" href="Ledger.Certs.Properties.html" class="Module">Ledger.Certs.Properties</a> <a id="487" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="500" class="Keyword">open</a> <a id="505" class="Keyword">import</a> <a id="512" href="Ledger.Gov.html" class="Module">Ledger.Gov</a> <a id="523" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a>
<a id="527" class="Keyword">open</a> <a id="532" class="Keyword">import</a> <a id="539" href="Ledger.Gov.Properties.html" class="Module">Ledger.Gov.Properties</a> <a id="561" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a>
<a id="565" class="Keyword">open</a> <a id="570" class="Keyword">import</a> <a id="577" href="Ledger.Ledger.html" class="Module">Ledger.Ledger</a> <a id="591" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="595" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="599" class="Keyword">open</a> <a id="604" class="Keyword">import</a> <a id="611" href="Ledger.Ratify.html" class="Module">Ledger.Ratify</a> <a id="625" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="629" class="Keyword">hiding</a> <a id="636" class="Symbol">(</a><a id="637" href="Ledger.Ratify.html#806" class="Function">vote</a><a id="641" class="Symbol">)</a>
<a id="643" class="Keyword">open</a> <a id="648" class="Keyword">import</a> <a id="655" href="Ledger.Utxo.html" class="Module">Ledger.Utxo</a> <a id="667" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="671" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="675" class="Keyword">open</a> <a id="680" class="Keyword">import</a> <a id="687" href="Ledger.Utxo.Properties.html" class="Module">Ledger.Utxo.Properties</a> <a id="710" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="714" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="718" class="Keyword">open</a> <a id="723" class="Keyword">import</a> <a id="730" href="Ledger.Utxow.html" class="Module">Ledger.Utxow</a> <a id="743" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="747" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>
<a id="751" class="Keyword">open</a> <a id="756" class="Keyword">import</a> <a id="763" href="Ledger.Utxow.Properties.html" class="Module">Ledger.Utxow.Properties</a> <a id="787" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a> <a id="791" href="Ledger.Ledger.Properties.html#244" class="Bound">abs</a>

<a id="796" class="Keyword">open</a> <a id="801" class="Keyword">import</a> <a id="808" href="Data.Bool.Properties.html" class="Module">Data.Bool.Properties</a> <a id="829" class="Keyword">using</a> <a id="835" class="Symbol">(</a><a id="836" href="Data.Bool.Properties.html#15217" class="Function">¬-not</a><a id="841" class="Symbol">)</a>
<a id="843" class="Keyword">open</a> <a id="848" class="Keyword">import</a> <a id="855" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="870" class="Keyword">using</a> <a id="876" class="Symbol">(</a><a id="877" href="Data.List.Base.html#10687" class="Function">filter</a><a id="883" class="Symbol">)</a>
<a id="885" class="Keyword">open</a> <a id="890" class="Keyword">import</a> <a id="897" href="Data.List.Ext.html" class="Module">Data.List.Ext</a> <a id="911" class="Keyword">using</a> <a id="917" class="Symbol">(</a><a id="918" href="Data.List.Ext.html#1921" class="Function">∈ˡ-map-filter</a><a id="931" class="Symbol">)</a>
<a id="933" class="Keyword">open</a> <a id="938" class="Keyword">import</a> <a id="945" href="Data.List.Ext.Properties.html" class="Module">Data.List.Ext.Properties</a> <a id="970" class="Keyword">using</a> <a id="976" class="Symbol">(</a><a id="977" href="Data.List.Ext.Properties.html#737" class="Function Operator">_×-cong_</a><a id="985" class="Symbol">)</a>
<a id="987" class="Keyword">open</a> <a id="992" class="Keyword">import</a> <a id="999" href="Data.List.Properties.html" class="Module">Data.List.Properties</a> <a id="1020" class="Keyword">using</a> <a id="1026" class="Symbol">(</a><a id="1027" href="Data.List.Properties.html#5429" class="Function">++-identityʳ</a><a id="1039" class="Symbol">;</a> <a id="1041" href="Data.List.Properties.html#3823" class="Function">map-++</a><a id="1047" class="Symbol">;</a> <a id="1049" href="Data.List.Properties.html#5241" class="Function">++-assoc</a><a id="1057" class="Symbol">;</a> <a id="1059" href="Data.List.Properties.html#4959" class="Function">length-++</a><a id="1068" class="Symbol">)</a>
<a id="1070" class="Keyword">open</a> <a id="1075" class="Keyword">import</a> <a id="1082" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a> <a id="1128" class="Keyword">using</a> <a id="1134" class="Symbol">(</a><a id="1135" href="Data.List.Membership.Propositional.Properties.html#9096" class="Function">∈-filter⁺</a><a id="1144" class="Symbol">;</a> <a id="1146" href="Data.List.Membership.Propositional.Properties.html#4227" class="Function">map-∈↔</a><a id="1152" class="Symbol">)</a>
<a id="1154" class="Keyword">open</a> <a id="1159" class="Keyword">import</a> <a id="1166" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="1184" class="Keyword">using</a> <a id="1190" class="Symbol">(</a><a id="1191" href="Data.Product.Base.html#5054" class="Function">swap</a><a id="1195" class="Symbol">)</a>
<a id="1197" class="Keyword">open</a> <a id="1202" class="Keyword">import</a> <a id="1209" href="Data.Product.Properties.html" class="Module">Data.Product.Properties</a> <a id="1233" class="Keyword">using</a> <a id="1239" class="Symbol">(</a><a id="1240" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a><a id="1247" class="Symbol">)</a>
<a id="1249" class="Keyword">open</a> <a id="1254" class="Keyword">import</a> <a id="1261" href="Data.Product.Properties.Ext.html" class="Module">Data.Product.Properties.Ext</a> <a id="1289" class="Keyword">using</a> <a id="1295" class="Symbol">(</a><a id="1296" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a><a id="1304" class="Symbol">)</a>
<a id="1306" class="Keyword">open</a> <a id="1311" class="Keyword">import</a> <a id="1318" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="1338" class="Keyword">using</a> <a id="1344" class="Symbol">(</a><a id="1345" href="Data.Nat.Properties.html#17056" class="Function">+-0-monoid</a><a id="1355" class="Symbol">;</a> <a id="1357" href="Data.Nat.Properties.html#15269" class="Function">+-identityʳ</a><a id="1368" class="Symbol">;</a> <a id="1370" href="Data.Nat.Properties.html#14905" class="Function">+-suc</a><a id="1375" class="Symbol">;</a> <a id="1377" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a><a id="1383" class="Symbol">;</a> <a id="1385" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a><a id="1392" class="Symbol">)</a>
<a id="1394" class="Keyword">open</a> <a id="1399" class="Keyword">import</a> <a id="1406" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="1422" class="Keyword">using</a> <a id="1428" class="Symbol">(</a><a id="1429" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a><a id="1442" class="Symbol">)</a>
<a id="1444" class="Keyword">open</a> <a id="1449" class="Keyword">import</a> <a id="1456" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1471" class="Keyword">using</a> <a id="1477" class="Symbol">(</a><a id="1478" href="Relation.Unary.html#4543" class="Function">Decidable</a><a id="1487" class="Symbol">)</a>

<a id="1490" class="Keyword">import</a> <a id="1497" href="Function.Related.Propositional.html" class="Module">Function.Related.Propositional</a> <a id="1528" class="Symbol">as</a> <a id="1531" class="Module">R</a>

<a id="1534" class="Keyword">import</a> <a id="1541" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1574" class="Symbol">as</a> <a id="1577" class="Module">SetoidReasoning</a>

<a id="1594" class="Keyword">instance</a> <a id="1603" href="Ledger.Ledger.Properties.html#1603" class="Function">_</a> <a id="1605" class="Symbol">=</a> <a id="1607" href="Data.Nat.Properties.html#17056" class="Function">+-0-monoid</a>

<a id="1619" class="Keyword">open</a> <a id="1624" class="Keyword">import</a> <a id="1631" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>

<a id="1664" class="Comment">-- ** Proof that LEDGER is computational.</a>

<a id="1707" class="Keyword">instance</a>
  <a id="1718" href="Ledger.Ledger.Properties.html#1718" class="Function">_</a> <a id="1720" class="Symbol">=</a> <a id="1722" href="Interface.ComputationalRelation.html#1827" class="Function">Monad-ComputationResult</a>

  <a id="Computational-LEDGER"></a><a id="1749" href="Ledger.Ledger.Properties.html#1749" class="Function">Computational-LEDGER</a> <a id="1770" class="Symbol">:</a> <a id="1772" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="1786" href="Ledger.Ledger.html#1873" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="1802" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1811" href="Ledger.Ledger.Properties.html#1749" class="Function">Computational-LEDGER</a> <a id="1832" class="Symbol">=</a> <a id="1834" class="Keyword">record</a> <a id="1841" class="Symbol">{</a><a id="1842" href="Ledger.Ledger.Properties.html#2095" class="Module">go</a><a id="1844" class="Symbol">}</a>
    <a id="1850" class="Keyword">where</a>
    <a id="1860" class="Keyword">open</a> <a id="1865" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="1879" class="Symbol">⦃...⦄</a> <a id="1885" class="Keyword">renaming</a> <a id="1894" class="Symbol">(</a><a id="1895" href="Interface.ComputationalRelation.html#2879" class="Field">computeProof</a> <a id="1908" class="Symbol">to</a> <a id="1911" class="Field">comp</a><a id="1915" class="Symbol">;</a> <a id="1917" href="Interface.ComputationalRelation.html#3096" class="Field">completeness</a> <a id="1930" class="Symbol">to</a> <a id="1933" class="Field">complete</a><a id="1941" class="Symbol">)</a>
    <a id="1947" href="Ledger.Ledger.Properties.html#1947" class="Function">computeUtxow</a> <a id="1960" class="Symbol">=</a> <a id="1962" href="Ledger.Ledger.Properties.html#1911" class="Field">comp</a> <a id="1967" class="Symbol">{</a><a id="1968" class="Argument">STS</a> <a id="1972" class="Symbol">=</a> <a id="1974" href="Ledger.Utxow.html#3736" class="Datatype Operator">_⊢_⇀⦇_,UTXOW⦈_</a><a id="1988" class="Symbol">}</a>
    <a id="1994" href="Ledger.Ledger.Properties.html#1994" class="Function">computeCerts</a> <a id="2007" class="Symbol">=</a> <a id="2009" href="Ledger.Ledger.Properties.html#1911" class="Field">comp</a> <a id="2014" class="Symbol">{</a><a id="2015" class="Argument">STS</a> <a id="2019" class="Symbol">=</a> <a id="2021" href="Ledger.Certs.html#5079" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a><a id="2035" class="Symbol">}</a>
    <a id="2041" href="Ledger.Ledger.Properties.html#2041" class="Function">computeGov</a>   <a id="2054" class="Symbol">=</a> <a id="2056" href="Ledger.Ledger.Properties.html#1911" class="Field">comp</a> <a id="2061" class="Symbol">{</a><a id="2062" class="Argument">STS</a> <a id="2066" class="Symbol">=</a> <a id="2068" href="Ledger.Gov.html#6606" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="2081" class="Symbol">}</a>

    <a id="2088" class="Keyword">module</a> <a id="2095" href="Ledger.Ledger.Properties.html#2095" class="Module">go</a>
      <a id="2104" class="Symbol">(</a><a id="2105" href="Ledger.Ledger.Properties.html#2105" class="Bound">Γ</a> <a id="2107" class="Symbol">:</a> <a id="2109" href="Ledger.Ledger.html#545" class="Record">LEnv</a><a id="2113" class="Symbol">)</a>   <a id="2117" class="Symbol">(</a><a id="2118" class="Keyword">let</a> <a id="2122" class="Keyword">open</a> <a id="2127" href="Ledger.Ledger.html#545" class="Module">LEnv</a> <a id="2132" href="Ledger.Ledger.Properties.html#2105" class="Bound">Γ</a><a id="2133" class="Symbol">)</a>
      <a id="2141" class="Symbol">(</a><a id="2142" href="Ledger.Ledger.Properties.html#2142" class="Bound">s</a> <a id="2144" class="Symbol">:</a> <a id="2146" href="Ledger.Ledger.html#715" class="Record">LState</a><a id="2152" class="Symbol">)</a> <a id="2154" class="Symbol">(</a><a id="2155" class="Keyword">let</a> <a id="2159" class="Keyword">open</a> <a id="2164" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="2171" href="Ledger.Ledger.Properties.html#2142" class="Bound">s</a><a id="2172" class="Symbol">)</a>
      <a id="2180" class="Symbol">(</a><a id="2181" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a> <a id="2184" class="Symbol">:</a> <a id="2186" href="Ledger.Transaction.html#3538" class="Record">Tx</a><a id="2188" class="Symbol">)</a>    <a id="2193" class="Symbol">(</a><a id="2194" class="Keyword">let</a> <a id="2198" class="Keyword">open</a> <a id="2203" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="2206" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a> <a id="2209" class="Keyword">renaming</a> <a id="2218" class="Symbol">(</a><a id="2219" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="2224" class="Symbol">to</a> <a id="2227" class="Field">txb</a><a id="2230" class="Symbol">);</a> <a id="2233" class="Keyword">open</a> <a id="2238" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="2245" href="Ledger.Ledger.Properties.html#2227" class="Field">txb</a><a id="2248" class="Symbol">)</a>
      <a id="2256" class="Keyword">where</a>
      <a id="2268" href="Ledger.Ledger.Properties.html#2268" class="Function">utxoΓ</a> <a id="2274" class="Symbol">=</a> <a id="2276" href="Ledger.Utxo.html#2411" class="Record">UTxOEnv</a> <a id="2284" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="2286" class="Keyword">record</a> <a id="2293" class="Symbol">{</a> <a id="2295" href="Ledger.Ledger.Properties.html#2295" class="Module">LEnv</a> <a id="2300" href="Ledger.Ledger.Properties.html#2105" class="Bound">Γ</a> <a id="2302" class="Symbol">}</a>
      <a id="2310" href="Ledger.Ledger.Properties.html#2310" class="Function">certΓ</a> <a id="2316" class="Symbol">=</a> <a id="2318" href="Ledger.Certs.html#2221" class="Record">CertEnv</a> <a id="2326" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="2328" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="2330" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a> <a id="2336" href="Ledger.Ledger.html#575" class="Field">slot</a> <a id="2341" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2343" href="Ledger.Ledger.html#633" class="Field">pparams</a> <a id="2351" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2353" href="Ledger.Transaction.html#2880" class="Function">txvote</a> <a id="2360" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2362" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="2370" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2372" class="Symbol">_</a> <a id="2374" href="Class.To.html#102" class="Field Operator">⟧</a>
      <a id="2382" href="Ledger.Ledger.Properties.html#2382" class="Function">govΓ</a> <a id="2387" class="Symbol">:</a> <a id="2389" href="Ledger.Certs.html#2825" class="Record">CertState</a> <a id="2399" class="Symbol">→</a> <a id="2401" href="Ledger.Gov.html#1291" class="Record">GovEnv</a>
      <a id="2414" href="Ledger.Ledger.Properties.html#2382" class="Function">govΓ</a> <a id="2419" class="Symbol">=</a> <a id="2421" class="Symbol">λ</a> <a id="2423" href="Ledger.Ledger.Properties.html#2423" class="Bound">certState</a> <a id="2433" class="Symbol">→</a> <a id="2435" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="2437" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="2442" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2444" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a> <a id="2450" href="Ledger.Ledger.html#575" class="Field">slot</a> <a id="2455" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2457" href="Ledger.Ledger.html#633" class="Field">pparams</a> <a id="2465" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2467" href="Ledger.Ledger.html#598" class="Field">ppolicy</a> <a id="2475" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2477" href="Ledger.Ledger.html#659" class="Field">enactState</a> <a id="2488" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2490" href="Ledger.Ledger.Properties.html#2423" class="Bound">certState</a> <a id="2500" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2502" class="Symbol">_</a> <a id="2504" href="Class.To.html#102" class="Field Operator">⟧</a>

      <a id="2513" href="Ledger.Ledger.Properties.html#2513" class="Function">computeProof</a> <a id="2526" class="Symbol">:</a> <a id="2528" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="2546" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2553" class="Symbol">(</a><a id="2554" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="2557" href="Ledger.Ledger.Properties.html#2557" class="Bound">s&#39;</a> <a id="2560" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="2562" href="Ledger.Ledger.Properties.html#2105" class="Bound">Γ</a> <a id="2564" href="Ledger.Ledger.html#1873" class="Datatype Operator">⊢</a> <a id="2566" href="Ledger.Ledger.Properties.html#2142" class="Bound">s</a> <a id="2568" href="Ledger.Ledger.html#1873" class="Datatype Operator">⇀⦇</a> <a id="2571" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a> <a id="2574" href="Ledger.Ledger.html#1873" class="Datatype Operator">,LEDGER⦈</a> <a id="2583" href="Ledger.Ledger.Properties.html#2557" class="Bound">s&#39;</a><a id="2585" class="Symbol">)</a>
      <a id="2593" href="Ledger.Ledger.Properties.html#2513" class="Function">computeProof</a> <a id="2606" class="Symbol">=</a> <a id="2608" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2613" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="2621" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="2623" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2628" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2631" class="Symbol">λ</a> <a id="2633" class="Keyword">where</a>
        <a id="2647" class="Symbol">(</a><a id="2648" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2652" href="Ledger.Ledger.Properties.html#2652" class="Bound">p</a><a id="2653" class="Symbol">)</a> <a id="2655" class="Symbol">→</a> <a id="2657" class="Keyword">do</a>
          <a id="2670" class="Symbol">(</a><a id="2671" href="Ledger.Ledger.Properties.html#2671" class="Bound">utxoSt&#39;</a> <a id="2679" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2681" href="Ledger.Ledger.Properties.html#2681" class="Bound">utxoStep</a><a id="2689" class="Symbol">)</a> <a id="2691" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="2693" href="Ledger.Ledger.Properties.html#1947" class="Function">computeUtxow</a> <a id="2706" href="Ledger.Ledger.Properties.html#2268" class="Function">utxoΓ</a> <a id="2712" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="2719" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a>
          <a id="2732" class="Symbol">(</a><a id="2733" href="Ledger.Ledger.Properties.html#2733" class="Bound">certSt&#39;</a> <a id="2741" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2743" href="Ledger.Ledger.Properties.html#2743" class="Bound">certStep</a><a id="2751" class="Symbol">)</a> <a id="2753" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="2755" href="Ledger.Ledger.Properties.html#1994" class="Function">computeCerts</a> <a id="2768" href="Ledger.Ledger.Properties.html#2310" class="Function">certΓ</a> <a id="2774" href="Ledger.Ledger.html#827" class="Field">certState</a> <a id="2784" href="Ledger.Transaction.html#2818" class="Function">txcerts</a>
          <a id="2802" class="Symbol">(</a><a id="2803" href="Ledger.Ledger.Properties.html#2803" class="Bound">govSt&#39;</a>  <a id="2811" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2813" href="Ledger.Ledger.Properties.html#2813" class="Bound">govStep</a><a id="2820" class="Symbol">)</a>  <a id="2823" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="2825" href="Ledger.Ledger.Properties.html#2041" class="Function">computeGov</a> <a id="2836" class="Symbol">(</a><a id="2837" href="Ledger.Ledger.Properties.html#2382" class="Function">govΓ</a> <a id="2842" href="Ledger.Ledger.Properties.html#2733" class="Bound">certSt&#39;</a><a id="2849" class="Symbol">)</a> <a id="2851" class="Symbol">(</a><a id="2852" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="2870" href="Ledger.Ledger.Properties.html#2733" class="Bound">certSt&#39;</a> <a id="2878" href="Ledger.Ledger.html#801" class="Field">govSt</a><a id="2883" class="Symbol">)</a> <a id="2885" class="Symbol">(</a><a id="2886" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="2892" href="Ledger.Ledger.Properties.html#2227" class="Field">txb</a><a id="2895" class="Symbol">)</a>
          <a id="2907" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2915" class="Symbol">(_</a> <a id="2918" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2920" href="Ledger.Ledger.html#2876" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2930" href="Ledger.Ledger.Properties.html#2652" class="Bound">p</a> <a id="2932" href="Ledger.Ledger.Properties.html#2681" class="Bound">utxoStep</a> <a id="2941" href="Ledger.Ledger.Properties.html#2743" class="Bound">certStep</a> <a id="2950" href="Ledger.Ledger.Properties.html#2813" class="Bound">govStep</a><a id="2957" class="Symbol">)</a>
        <a id="2967" class="Symbol">(</a><a id="2968" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2971" href="Ledger.Ledger.Properties.html#2971" class="Bound">¬p</a><a id="2973" class="Symbol">)</a> <a id="2975" class="Symbol">→</a> <a id="2977" class="Keyword">do</a>
          <a id="2990" class="Symbol">(</a><a id="2991" href="Ledger.Ledger.Properties.html#2991" class="Bound">utxoSt&#39;</a> <a id="2999" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3001" href="Ledger.Ledger.Properties.html#3001" class="Bound">utxoStep</a><a id="3009" class="Symbol">)</a> <a id="3011" href="Class.Monad.Core.html#290" class="Field Operator">←</a> <a id="3013" href="Ledger.Ledger.Properties.html#1947" class="Function">computeUtxow</a> <a id="3026" href="Ledger.Ledger.Properties.html#2268" class="Function">utxoΓ</a> <a id="3032" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="3039" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a>
          <a id="3052" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3060" class="Symbol">(_</a> <a id="3063" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3065" href="Ledger.Ledger.html#2929" class="InductiveConstructor">LEDGER-I⋯</a> <a id="3075" class="Symbol">(</a><a id="3076" href="Data.Bool.Properties.html#15217" class="Function">¬-not</a> <a id="3082" href="Ledger.Ledger.Properties.html#2971" class="Bound">¬p</a><a id="3084" class="Symbol">)</a> <a id="3086" href="Ledger.Ledger.Properties.html#3001" class="Bound">utxoStep</a><a id="3094" class="Symbol">)</a>

      <a id="3103" href="Ledger.Ledger.Properties.html#3103" class="Function">completeness</a> <a id="3116" class="Symbol">:</a> <a id="3118" class="Symbol">∀</a> <a id="3120" href="Ledger.Ledger.Properties.html#3120" class="Bound">s&#39;</a> <a id="3123" class="Symbol">→</a> <a id="3125" href="Ledger.Ledger.Properties.html#2105" class="Bound">Γ</a> <a id="3127" href="Ledger.Ledger.html#1873" class="Datatype Operator">⊢</a> <a id="3129" href="Ledger.Ledger.Properties.html#2142" class="Bound">s</a> <a id="3131" href="Ledger.Ledger.html#1873" class="Datatype Operator">⇀⦇</a> <a id="3134" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a> <a id="3137" href="Ledger.Ledger.html#1873" class="Datatype Operator">,LEDGER⦈</a> <a id="3146" href="Ledger.Ledger.Properties.html#3120" class="Bound">s&#39;</a> <a id="3149" class="Symbol">→</a> <a id="3151" class="Symbol">(</a><a id="3152" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="3158" href="Class.Functor.Core.html#233" class="Field Operator">&lt;$&gt;</a> <a id="3162" href="Ledger.Ledger.Properties.html#2513" class="Function">computeProof</a><a id="3174" class="Symbol">)</a> <a id="3176" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3178" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3186" href="Ledger.Ledger.Properties.html#3120" class="Bound">s&#39;</a>
      <a id="3195" href="Ledger.Ledger.Properties.html#3103" class="Function">completeness</a> <a id="3208" href="Ledger.Ledger.Properties.html#3208" class="Bound">ledgerSt</a> <a id="3217" class="Symbol">(</a><a id="3218" href="Ledger.Ledger.html#2876" class="InductiveConstructor">LEDGER-V⋯</a> <a id="3228" href="Ledger.Ledger.Properties.html#3228" class="Bound">v</a> <a id="3230" href="Ledger.Ledger.Properties.html#3230" class="Bound">utxoStep</a> <a id="3239" href="Ledger.Ledger.Properties.html#3239" class="Bound">certStep</a> <a id="3248" href="Ledger.Ledger.Properties.html#3248" class="Bound">govStep</a><a id="3255" class="Symbol">)</a>
        <a id="3265" class="Keyword">with</a> <a id="3270" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="3278" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="3280" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3291" class="Symbol">...</a> <a id="3295" class="Symbol">|</a> <a id="3297" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3300" href="Ledger.Ledger.Properties.html#3300" class="Bound">¬v</a> <a id="3303" class="Symbol">=</a> <a id="3305" href="Relation.Nullary.Negation.Core.html#1270" class="Function">contradiction</a> <a id="3319" class="Bound">v</a> <a id="3321" href="Ledger.Ledger.Properties.html#3300" class="Bound">¬v</a>
      <a id="3330" class="Symbol">...</a> <a id="3334" class="Symbol">|</a> <a id="3336" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3340" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="3353" class="Keyword">with</a> <a id="3358" href="Ledger.Ledger.Properties.html#1947" class="Function">computeUtxow</a> <a id="3371" href="Ledger.Ledger.Properties.html#2268" class="Function">utxoΓ</a> <a id="3377" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="3384" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a> <a id="3387" class="Symbol">|</a> <a id="3389" href="Ledger.Ledger.Properties.html#1933" class="Field">complete</a> <a id="3398" class="Symbol">_</a> <a id="3400" class="Symbol">_</a> <a id="3402" class="Symbol">_</a> <a id="3404" class="Symbol">_</a> <a id="3406" class="Bound">utxoStep</a>
      <a id="3421" class="Symbol">...</a> <a id="3425" class="Symbol">|</a> <a id="3427" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3435" class="Symbol">(</a><a id="3436" href="Ledger.Ledger.Properties.html#3436" class="Bound">utxoSt&#39;</a> <a id="3444" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3446" class="Symbol">_)</a> <a id="3449" class="Symbol">|</a> <a id="3451" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="3464" class="Keyword">with</a> <a id="3469" href="Ledger.Ledger.Properties.html#1994" class="Function">computeCerts</a> <a id="3482" href="Ledger.Ledger.Properties.html#2310" class="Function">certΓ</a> <a id="3488" href="Ledger.Ledger.html#827" class="Field">certState</a> <a id="3498" href="Ledger.Transaction.html#2818" class="Function">txcerts</a> <a id="3506" class="Symbol">|</a> <a id="3508" href="Ledger.Ledger.Properties.html#1933" class="Field">complete</a> <a id="3517" class="Symbol">_</a> <a id="3519" class="Symbol">_</a> <a id="3521" class="Symbol">_</a> <a id="3523" class="Symbol">_</a> <a id="3525" class="Bound">certStep</a>
      <a id="3540" class="Symbol">...</a> <a id="3544" class="Symbol">|</a> <a id="3546" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3554" class="Symbol">(</a><a id="3555" href="Ledger.Ledger.Properties.html#3555" class="Bound">certSt&#39;</a> <a id="3563" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3565" class="Symbol">_)</a> <a id="3568" class="Symbol">|</a> <a id="3570" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="3583" class="Keyword">with</a> <a id="3588" href="Ledger.Ledger.Properties.html#2041" class="Function">computeGov</a> <a id="3599" class="Symbol">(</a><a id="3600" href="Ledger.Ledger.Properties.html#2382" class="Function">govΓ</a> <a id="3605" href="Ledger.Ledger.Properties.html#3555" class="Bound">certSt&#39;</a><a id="3612" class="Symbol">)</a> <a id="3614" class="Symbol">(</a><a id="3615" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="3633" href="Ledger.Ledger.Properties.html#3555" class="Bound">certSt&#39;</a> <a id="3641" href="Ledger.Ledger.html#801" class="Field">govSt</a> <a id="3647" class="Symbol">)</a> <a id="3649" class="Symbol">(</a><a id="3650" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="3656" href="Ledger.Ledger.Properties.html#2227" class="Field">txb</a><a id="3659" class="Symbol">)</a> <a id="3661" class="Symbol">|</a> <a id="3663" href="Ledger.Ledger.Properties.html#1933" class="Field">complete</a> <a id="3672" class="Symbol">{</a><a id="3673" class="Argument">STS</a> <a id="3677" class="Symbol">=</a> <a id="3679" href="Ledger.Gov.html#6606" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="3692" class="Symbol">}</a> <a id="3694" class="Symbol">(</a><a id="3695" href="Ledger.Ledger.Properties.html#2382" class="Function">govΓ</a> <a id="3700" href="Ledger.Ledger.Properties.html#3555" class="Bound">certSt&#39;</a><a id="3707" class="Symbol">)</a> <a id="3709" class="Symbol">_</a> <a id="3711" class="Symbol">_</a> <a id="3713" class="Symbol">_</a> <a id="3715" class="Bound">govStep</a>
      <a id="3729" class="Symbol">...</a> <a id="3733" class="Symbol">|</a> <a id="3735" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3743" class="Symbol">(</a><a id="3744" href="Ledger.Ledger.Properties.html#3744" class="Bound">govSt&#39;</a> <a id="3751" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3753" class="Symbol">_)</a> <a id="3756" class="Symbol">|</a> <a id="3758" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3763" class="Symbol">=</a> <a id="3765" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="3776" href="Ledger.Ledger.Properties.html#3103" class="Function">completeness</a> <a id="3789" href="Ledger.Ledger.Properties.html#3789" class="Bound">ledgerSt</a> <a id="3798" class="Symbol">(</a><a id="3799" href="Ledger.Ledger.html#2929" class="InductiveConstructor">LEDGER-I⋯</a> <a id="3809" href="Ledger.Ledger.Properties.html#3809" class="Bound">i</a> <a id="3811" href="Ledger.Ledger.Properties.html#3811" class="Bound">utxoStep</a><a id="3819" class="Symbol">)</a>
        <a id="3829" class="Keyword">with</a> <a id="3834" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="3842" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="3844" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3855" class="Symbol">...</a> <a id="3859" class="Symbol">|</a> <a id="3861" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3865" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3870" class="Symbol">=</a> <a id="3872" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3877" class="Bound">i</a> <a id="3879" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3882" class="Symbol">λ</a> <a id="3884" class="Symbol">()</a>
      <a id="3893" class="Symbol">...</a> <a id="3897" class="Symbol">|</a> <a id="3899" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3902" href="Ledger.Ledger.Properties.html#3902" class="Bound">¬v</a>
        <a id="3913" class="Keyword">with</a> <a id="3918" href="Ledger.Ledger.Properties.html#1947" class="Function">computeUtxow</a> <a id="3931" href="Ledger.Ledger.Properties.html#2268" class="Function">utxoΓ</a> <a id="3937" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="3944" href="Ledger.Ledger.Properties.html#2181" class="Bound">tx</a> <a id="3947" class="Symbol">|</a> <a id="3949" href="Ledger.Ledger.Properties.html#1933" class="Field">complete</a> <a id="3958" class="Symbol">_</a> <a id="3960" class="Symbol">_</a> <a id="3962" class="Symbol">_</a> <a id="3964" class="Symbol">_</a> <a id="3966" class="Bound">utxoStep</a>
      <a id="3981" class="Symbol">...</a> <a id="3985" class="Symbol">|</a> <a id="3987" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3995" class="Symbol">(</a><a id="3996" href="Ledger.Ledger.Properties.html#3996" class="Bound">utxoSt&#39;</a> <a id="4004" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4006" class="Symbol">_)</a> <a id="4009" class="Symbol">|</a> <a id="4011" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4016" class="Symbol">=</a> <a id="4018" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="Computational-LEDGERS"></a><a id="4024" href="Ledger.Ledger.Properties.html#4024" class="Function">Computational-LEDGERS</a> <a id="4046" class="Symbol">:</a> <a id="4048" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="4062" href="Ledger.Ledger.html#2968" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="4079" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="4086" href="Ledger.Ledger.Properties.html#4024" class="Function">Computational-LEDGERS</a> <a id="4108" class="Symbol">=</a> <a id="4110" href="Function.Base.html#4736" class="Function">it</a>

<a id="4114" class="Keyword">instance</a>
  <a id="HasCoin-LState"></a><a id="4125" href="Ledger.Ledger.Properties.html#4125" class="Function">HasCoin-LState</a> <a id="4140" class="Symbol">:</a> <a id="4142" href="Ledger.Interface.HasCoin.html#124" class="Record">HasCoin</a> <a id="4150" href="Ledger.Ledger.html#715" class="Record">LState</a>
  <a id="4159" href="Ledger.Ledger.Properties.html#4125" class="Function">HasCoin-LState</a> <a id="4174" class="Symbol">.</a><a id="4175" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4183" href="Ledger.Ledger.Properties.html#4183" class="Bound">s</a> <a id="4185" class="Symbol">=</a> <a id="4187" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4195" class="Symbol">(</a><a id="4196" href="Ledger.Ledger.html#774" class="Field">LState.utxoSt</a> <a id="4210" href="Ledger.Ledger.Properties.html#4183" class="Bound">s</a><a id="4211" class="Symbol">)</a> <a id="4213" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="4215" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4223" class="Symbol">(</a><a id="4224" href="Ledger.Ledger.html#827" class="Field">LState.certState</a> <a id="4241" href="Ledger.Ledger.Properties.html#4183" class="Bound">s</a><a id="4242" class="Symbol">)</a>

<a id="4245" class="Comment">-- ** Proof that LEDGER preserves values.</a>

<a id="FreshTx"></a><a id="4288" href="Ledger.Ledger.Properties.html#4288" class="Function">FreshTx</a> <a id="4296" class="Symbol">:</a> <a id="4298" href="Ledger.Transaction.html#3538" class="Record">Tx</a> <a id="4301" class="Symbol">→</a> <a id="4303" href="Ledger.Ledger.html#715" class="Record">LState</a> <a id="4310" class="Symbol">→</a> <a id="4312" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="4317" href="Ledger.Ledger.Properties.html#4288" class="Function">FreshTx</a> <a id="4325" href="Ledger.Ledger.Properties.html#4325" class="Bound">tx</a> <a id="4328" href="Ledger.Ledger.Properties.html#4328" class="Bound">ls</a> <a id="4331" class="Symbol">=</a> <a id="4333" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="4338" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4340" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="4345" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4351" class="Symbol">(</a><a id="4352" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4356" class="Symbol">(</a><a id="4357" href="Ledger.Ledger.Properties.html#4328" class="Bound">ls</a> <a id="4360" class="Symbol">.</a><a id="4361" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="4368" class="Symbol">.</a><a id="4369" href="Ledger.Utxo.html#2580" class="Field">utxo</a><a id="4373" class="Symbol">))</a>
  <a id="4378" class="Keyword">where</a> <a id="4384" class="Keyword">open</a> <a id="4389" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="4392" href="Ledger.Ledger.Properties.html#4325" class="Bound">tx</a><a id="4394" class="Symbol">;</a> <a id="4396" class="Keyword">open</a> <a id="4401" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="4408" href="Ledger.Transaction.html#3570" class="Function">body</a><a id="4412" class="Symbol">;</a> <a id="4414" class="Keyword">open</a> <a id="4419" href="Ledger.Utxo.html#2516" class="Module">UTxOState</a><a id="4428" class="Symbol">;</a> <a id="4430" class="Keyword">open</a> <a id="4435" href="Ledger.Ledger.html#715" class="Module">LState</a>

<a id="4443" class="Keyword">module</a> <a id="4450" href="Ledger.Ledger.Properties.html#4450" class="Module">_</a>
  <a id="4454" class="Symbol">(</a><a id="4455" href="Ledger.Ledger.Properties.html#4455" class="Bound">tx</a> <a id="4458" class="Symbol">:</a> <a id="4460" href="Ledger.Transaction.html#3538" class="Record">Tx</a><a id="4462" class="Symbol">)</a> <a id="4464" class="Symbol">(</a><a id="4465" class="Keyword">let</a> <a id="4469" class="Keyword">open</a> <a id="4474" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="4477" href="Ledger.Ledger.Properties.html#4455" class="Bound">tx</a><a id="4479" class="Symbol">;</a> <a id="4481" class="Keyword">open</a> <a id="4486" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="4493" href="Ledger.Transaction.html#3570" class="Field">body</a><a id="4497" class="Symbol">)</a>
  <a id="4501" class="Symbol">(</a> <a id="4503" href="Ledger.Ledger.Properties.html#4503" class="Bound">indexedSumᵛ&#39;-∪</a>  <a id="4519" class="Symbol">:</a>  <a id="4522" class="Symbol">{</a><a id="4523" href="Ledger.Ledger.Properties.html#4523" class="Bound">A</a> <a id="4525" class="Symbol">:</a> <a id="4527" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="4531" class="Symbol">}</a> <a id="4533" class="Symbol">⦃</a> <a id="4535" href="Ledger.Ledger.Properties.html#4535" class="Bound">_</a> <a id="4537" class="Symbol">:</a> <a id="4539" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="4545" href="Ledger.Ledger.Properties.html#4523" class="Bound">A</a> <a id="4547" class="Symbol">⦄</a> <a id="4549" class="Symbol">(</a><a id="4550" href="Ledger.Ledger.Properties.html#4550" class="Bound">m</a> <a id="4552" href="Ledger.Ledger.Properties.html#4552" class="Bound">m&#39;</a> <a id="4555" class="Symbol">:</a> <a id="4557" href="Ledger.Ledger.Properties.html#4523" class="Bound">A</a> <a id="4559" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4561" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="4565" class="Symbol">)</a>
                       <a id="4590" class="Symbol">→</a> <a id="4592" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="4601" class="Symbol">(</a><a id="4602" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4606" href="Ledger.Ledger.Properties.html#4550" class="Bound">m</a><a id="4607" class="Symbol">)</a> <a id="4609" class="Symbol">(</a><a id="4610" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4614" href="Ledger.Ledger.Properties.html#4552" class="Bound">m&#39;</a><a id="4616" class="Symbol">)</a> <a id="4618" class="Symbol">→</a> <a id="4620" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4628" class="Symbol">(</a><a id="4629" href="Ledger.Ledger.Properties.html#4550" class="Bound">m</a> <a id="4631" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="4634" href="Ledger.Ledger.Properties.html#4552" class="Bound">m&#39;</a><a id="4636" class="Symbol">)</a> <a id="4638" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4640" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4648" href="Ledger.Ledger.Properties.html#4550" class="Bound">m</a> <a id="4650" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="4652" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4660" href="Ledger.Ledger.Properties.html#4552" class="Bound">m&#39;</a> <a id="4663" class="Symbol">)</a>
  <a id="4667" class="Symbol">(</a> <a id="4669" href="Ledger.Ledger.Properties.html#4669" class="Bound">sumConstZero</a>    <a id="4685" class="Symbol">:</a>  <a id="4688" class="Symbol">{</a><a id="4689" href="Ledger.Ledger.Properties.html#4689" class="Bound">A</a> <a id="4691" class="Symbol">:</a> <a id="4693" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="4697" class="Symbol">}</a> <a id="4699" class="Symbol">⦃</a> <a id="4701" href="Ledger.Ledger.Properties.html#4701" class="Bound">_</a> <a id="4703" class="Symbol">:</a> <a id="4705" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="4711" href="Ledger.Ledger.Properties.html#4689" class="Bound">A</a> <a id="4713" class="Symbol">⦄</a> <a id="4715" class="Symbol">{</a><a id="4716" href="Ledger.Ledger.Properties.html#4716" class="Bound">X</a> <a id="4718" class="Symbol">:</a> <a id="4720" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4722" href="Ledger.Ledger.Properties.html#4689" class="Bound">A</a><a id="4723" class="Symbol">}</a> <a id="4725" class="Symbol">→</a> <a id="4727" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="4735" class="Symbol">(</a><a id="4736" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="4745" href="Ledger.Ledger.Properties.html#4716" class="Bound">X</a> <a id="4747" class="Number">0</a><a id="4748" class="Symbol">)</a> <a id="4750" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4752" class="Number">0</a> <a id="4754" class="Symbol">)</a>
  <a id="4758" class="Symbol">(</a> <a id="4760" href="Ledger.Ledger.Properties.html#4760" class="Bound">res-decomp</a>      <a id="4776" class="Symbol">:</a>  <a id="4779" class="Symbol">{</a><a id="4780" href="Ledger.Ledger.Properties.html#4780" class="Bound">A</a> <a id="4782" class="Symbol">:</a> <a id="4784" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="4788" class="Symbol">}</a> <a id="4790" class="Symbol">⦃</a> <a id="4792" href="Ledger.Ledger.Properties.html#4792" class="Bound">_</a> <a id="4794" class="Symbol">:</a> <a id="4796" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="4802" href="Ledger.Ledger.Properties.html#4780" class="Bound">A</a> <a id="4804" class="Symbol">⦄</a> <a id="4806" class="Symbol">(</a><a id="4807" href="Ledger.Ledger.Properties.html#4807" class="Bound">m</a> <a id="4809" href="Ledger.Ledger.Properties.html#4809" class="Bound">m&#39;</a> <a id="4812" class="Symbol">:</a> <a id="4814" href="Ledger.Ledger.Properties.html#4780" class="Bound">A</a> <a id="4816" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4818" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="4822" class="Symbol">)</a>
                       <a id="4847" class="Symbol">→</a> <a id="4849" class="Symbol">(</a><a id="4850" href="Ledger.Ledger.Properties.html#4807" class="Bound">m</a> <a id="4852" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="4855" href="Ledger.Ledger.Properties.html#4809" class="Bound">m&#39;</a><a id="4857" class="Symbol">)</a><a id="4858" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="4860" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="4863" class="Symbol">(</a><a id="4864" href="Ledger.Ledger.Properties.html#4807" class="Bound">m</a> <a id="4866" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="4869" class="Symbol">(</a><a id="4870" href="Ledger.Ledger.Properties.html#4809" class="Bound">m&#39;</a> <a id="4873" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="4875" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4879" class="Symbol">(</a><a id="4880" href="Ledger.Ledger.Properties.html#4807" class="Bound">m</a> <a id="4882" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="4883" class="Symbol">)</a> <a id="4885" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="4886" class="Symbol">))</a><a id="4888" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="4890" class="Symbol">)</a>
  <a id="4894" class="Symbol">(</a> <a id="4896" href="Ledger.Ledger.Properties.html#4896" class="Bound">getCoin-cong</a>    <a id="4912" class="Symbol">:</a>  <a id="4915" class="Symbol">{</a><a id="4916" href="Ledger.Ledger.Properties.html#4916" class="Bound">A</a> <a id="4918" class="Symbol">:</a> <a id="4920" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="4924" class="Symbol">}</a> <a id="4926" class="Symbol">⦃</a> <a id="4928" href="Ledger.Ledger.Properties.html#4928" class="Bound">_</a> <a id="4930" class="Symbol">:</a> <a id="4932" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="4938" href="Ledger.Ledger.Properties.html#4916" class="Bound">A</a> <a id="4940" class="Symbol">⦄</a> <a id="4942" class="Symbol">(</a><a id="4943" href="Ledger.Ledger.Properties.html#4943" class="Bound">s</a> <a id="4945" class="Symbol">:</a> <a id="4947" href="Ledger.Ledger.Properties.html#4916" class="Bound">A</a> <a id="4949" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4951" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="4955" class="Symbol">)</a> <a id="4957" class="Symbol">(</a><a id="4958" href="Ledger.Ledger.Properties.html#4958" class="Bound">s&#39;</a> <a id="4961" class="Symbol">:</a> <a id="4963" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4965" class="Symbol">(</a><a id="4966" href="Ledger.Ledger.Properties.html#4916" class="Bound">A</a> <a id="4968" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4970" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="4974" class="Symbol">))</a> <a id="4977" class="Symbol">→</a> <a id="4979" href="Ledger.Ledger.Properties.html#4943" class="Bound">s</a> <a id="4981" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="4983" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="4986" href="Ledger.Ledger.Properties.html#4958" class="Bound">s&#39;</a>
                       <a id="5012" class="Symbol">→</a> <a id="5014" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="5026" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5032" class="Symbol">(</a><a id="5033" href="Ledger.Ledger.Properties.html#4943" class="Bound">s</a> <a id="5035" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="5036" class="Symbol">)</a> <a id="5038" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5040" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="5052" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="5058" href="Ledger.Ledger.Properties.html#4958" class="Bound">s&#39;</a> <a id="5061" class="Symbol">)</a>
  <a id="5065" class="Symbol">(</a> <a id="5067" href="Ledger.Ledger.Properties.html#5067" class="Bound">≡ᵉ-getCoinˢ</a>     <a id="5083" class="Symbol">:</a>  <a id="5086" class="Symbol">{</a><a id="5087" href="Ledger.Ledger.Properties.html#5087" class="Bound">A</a> <a id="5089" href="Ledger.Ledger.Properties.html#5089" class="Bound">A&#39;</a> <a id="5092" class="Symbol">:</a> <a id="5094" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="5098" class="Symbol">}</a> <a id="5100" class="Symbol">⦃</a> <a id="5102" href="Ledger.Ledger.Properties.html#5102" class="Bound">_</a> <a id="5104" class="Symbol">:</a> <a id="5106" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="5112" href="Ledger.Ledger.Properties.html#5087" class="Bound">A</a> <a id="5114" class="Symbol">⦄</a> <a id="5116" class="Symbol">⦃</a> <a id="5118" href="Ledger.Ledger.Properties.html#5118" class="Bound">_</a> <a id="5120" class="Symbol">:</a> <a id="5122" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="5128" href="Ledger.Ledger.Properties.html#5089" class="Bound">A&#39;</a> <a id="5131" class="Symbol">⦄</a> <a id="5133" class="Symbol">(</a><a id="5134" href="Ledger.Ledger.Properties.html#5134" class="Bound">s</a> <a id="5136" class="Symbol">:</a> <a id="5138" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5140" class="Symbol">(</a><a id="5141" href="Ledger.Ledger.Properties.html#5087" class="Bound">A</a> <a id="5143" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5145" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="5149" class="Symbol">))</a> <a id="5152" class="Symbol">{</a><a id="5153" href="Ledger.Ledger.Properties.html#5153" class="Bound">f</a> <a id="5155" class="Symbol">:</a> <a id="5157" href="Ledger.Ledger.Properties.html#5087" class="Bound">A</a> <a id="5159" class="Symbol">→</a> <a id="5161" href="Ledger.Ledger.Properties.html#5089" class="Bound">A&#39;</a><a id="5163" class="Symbol">}</a>
                       <a id="5188" class="Symbol">→</a> <a id="5190" href="Axiom.Set.Map.html#5071" class="Function">InjectiveOn</a> <a id="5202" class="Symbol">(</a><a id="5203" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5207" href="Ledger.Ledger.Properties.html#5134" class="Bound">s</a><a id="5208" class="Symbol">)</a> <a id="5210" href="Ledger.Ledger.Properties.html#5153" class="Bound">f</a> <a id="5212" class="Symbol">→</a> <a id="5214" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="5222" class="Symbol">(</a><a id="5223" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="5228" class="Symbol">(</a><a id="5229" href="Class.Bifunctor.html#1036" class="Function">map₁</a> <a id="5234" href="Ledger.Ledger.Properties.html#5153" class="Bound">f</a><a id="5235" class="Symbol">)</a> <a id="5237" href="Ledger.Ledger.Properties.html#5134" class="Bound">s</a><a id="5238" class="Symbol">)</a> <a id="5240" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5242" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="5250" href="Ledger.Ledger.Properties.html#5134" class="Bound">s</a> <a id="5252" class="Symbol">)</a>
  <a id="5256" class="Keyword">where</a>

  <a id="5265" class="Keyword">private</a> <a id="5273" class="Keyword">variable</a>
    <a id="5286" href="Ledger.Ledger.Properties.html#5286" class="Generalizable">Γ</a> <a id="5288" class="Symbol">:</a> <a id="5290" href="Ledger.Ledger.html#545" class="Record">LEnv</a>
    <a id="5299" href="Ledger.Ledger.Properties.html#5299" class="Generalizable">l</a> <a id="5301" class="Symbol">:</a> <a id="5303" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5308" href="Ledger.Transaction.html#3538" class="Record">Tx</a>

  <a id="5314" class="Keyword">pattern</a> <a id="5322" href="Ledger.Ledger.Properties.html#5322" class="InductiveConstructor">UTXO-induction</a> <a id="5337" href="Ledger.Ledger.Properties.html#5389" class="Bound">r</a> <a id="5339" class="Symbol">=</a> <a id="5341" href="Ledger.Utxo.html#14895" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="5357" class="Symbol">_</a> <a id="5359" class="Symbol">_</a> <a id="5361" class="Symbol">_</a> <a id="5363" class="Symbol">_</a> <a id="5365" class="Symbol">_</a> <a id="5367" class="Symbol">_</a> <a id="5369" class="Symbol">_</a> <a id="5371" class="Symbol">_</a> <a id="5373" class="Symbol">_</a> <a id="5375" class="Symbol">_</a> <a id="5377" class="Symbol">_</a> <a id="5379" class="Symbol">_</a> <a id="5381" class="Symbol">_</a> <a id="5383" class="Symbol">_</a> <a id="5385" class="Symbol">_</a> <a id="5387" class="Symbol">_</a> <a id="5389" href="Ledger.Ledger.Properties.html#5389" class="Bound">r</a> <a id="5391" class="Symbol">_</a> <a id="5393" class="Symbol">_</a> <a id="5395" class="Symbol">_</a>

  <a id="5400" href="Ledger.Ledger.Properties.html#5400" class="Function">LEDGER-pov</a> <a id="5411" class="Symbol">:</a>  <a id="5414" class="Symbol">{</a><a id="5415" href="Ledger.Ledger.Properties.html#5415" class="Bound">s</a> <a id="5417" href="Ledger.Ledger.Properties.html#5417" class="Bound">s&#39;</a> <a id="5420" class="Symbol">:</a> <a id="5422" href="Ledger.Ledger.html#715" class="Record">LState</a><a id="5428" class="Symbol">}</a> <a id="5430" class="Symbol">→</a> <a id="5432" href="Ledger.Ledger.Properties.html#4288" class="Function">FreshTx</a> <a id="5440" href="Ledger.Ledger.Properties.html#4455" class="Bound">tx</a> <a id="5443" href="Ledger.Ledger.Properties.html#5415" class="Bound">s</a> <a id="5445" class="Symbol">→</a> <a id="5447" href="Ledger.Ledger.Properties.html#5286" class="Generalizable">Γ</a> <a id="5449" href="Ledger.Ledger.html#1873" class="Datatype Operator">⊢</a> <a id="5451" href="Ledger.Ledger.Properties.html#5415" class="Bound">s</a> <a id="5453" href="Ledger.Ledger.html#1873" class="Datatype Operator">⇀⦇</a> <a id="5456" href="Ledger.Ledger.Properties.html#4455" class="Bound">tx</a> <a id="5459" href="Ledger.Ledger.html#1873" class="Datatype Operator">,LEDGER⦈</a> <a id="5468" href="Ledger.Ledger.Properties.html#5417" class="Bound">s&#39;</a>
                <a id="5487" class="Symbol">→</a> <a id="5489" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="5497" href="Ledger.Ledger.Properties.html#5415" class="Bound">s</a> <a id="5499" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5501" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="5509" href="Ledger.Ledger.Properties.html#5417" class="Bound">s&#39;</a>
  <a id="5514" href="Ledger.Ledger.Properties.html#5400" class="Function">LEDGER-pov</a>
    <a id="5529" class="Symbol">{</a><a id="5530" class="Argument">s</a>  <a id="5533" class="Symbol">=</a> <a id="5535" href="Ledger.Ledger.Properties.html#5535" class="Bound">s</a><a id="5536" class="Symbol">}</a>
    <a id="5542" class="Symbol">{</a><a id="5543" class="Argument">s&#39;</a> <a id="5546" class="Symbol">=</a> <a id="5548" href="Ledger.Ledger.Properties.html#5548" class="Bound">s&#39;</a><a id="5550" class="Symbol">}</a>
    <a id="5556" href="Ledger.Ledger.Properties.html#5556" class="Bound">h</a> <a id="5558" class="Symbol">(</a><a id="5559" href="Ledger.Ledger.html#1935" class="InductiveConstructor">LEDGER-V</a> <a id="5568" class="Symbol">{</a><a id="5569" class="Argument">utxoSt&#39;</a> <a id="5577" class="Symbol">=</a> <a id="5579" href="Ledger.Ledger.Properties.html#5579" class="Bound">utxoSt&#39;&#39;</a><a id="5587" class="Symbol">}</a> <a id="5589" class="Symbol">(</a> <a id="5591" href="Ledger.Ledger.Properties.html#5591" class="Bound">valid</a> <a id="5597" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5599" href="Ledger.Utxow.html#5380" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="5610" href="Ledger.Ledger.Properties.html#5610" class="Bound">st</a><a id="5612" class="Symbol">@(</a><a id="5614" href="Ledger.Ledger.Properties.html#5322" class="InductiveConstructor">UTXO-induction</a> <a id="5629" href="Ledger.Ledger.Properties.html#5629" class="Bound">r</a><a id="5630" class="Symbol">)</a> <a id="5632" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5634" href="Ledger.Ledger.Properties.html#5634" class="Bound">h&#39;</a> <a id="5637" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5639" class="Symbol">_</a> <a id="5641" class="Symbol">))</a> <a id="5644" class="Symbol">=</a>
    <a id="5650" class="Keyword">let</a>
      <a id="5660" class="Keyword">open</a> <a id="5665" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="5672" href="Ledger.Ledger.Properties.html#5535" class="Bound">s</a>
      <a id="5680" class="Keyword">open</a> <a id="5685" href="Ledger.Certs.html#2825" class="Module">CertState</a> <a id="5695" href="Ledger.Ledger.html#827" class="Function">certState</a>
      <a id="5711" class="Keyword">open</a> <a id="5716" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="5723" href="Ledger.Ledger.Properties.html#5548" class="Bound">s&#39;</a> <a id="5726" class="Keyword">renaming</a> <a id="5735" class="Symbol">(</a><a id="5736" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="5743" class="Symbol">to</a> <a id="5746" class="Field">utxoSt&#39;</a><a id="5753" class="Symbol">;</a> <a id="5755" href="Ledger.Ledger.html#801" class="Field">govSt</a> <a id="5761" class="Symbol">to</a> <a id="5764" class="Field">govSt&#39;</a><a id="5770" class="Symbol">;</a> <a id="5772" href="Ledger.Ledger.html#827" class="Field">certState</a> <a id="5782" class="Symbol">to</a> <a id="5785" class="Field">certState&#39;</a><a id="5795" class="Symbol">)</a>
      <a id="5803" class="Keyword">open</a> <a id="5808" href="Ledger.Certs.html#2825" class="Module">CertState</a> <a id="5818" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a>
      <a id="5835" class="Keyword">open</a> <a id="5840" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>
      <a id="5858" class="Keyword">open</a> <a id="5863" href="Ledger.Certs.Properties.html#11904" class="Module">CERTSpov</a> <a id="5872" href="Ledger.Ledger.Properties.html#4503" class="Bound">indexedSumᵛ&#39;-∪</a> <a id="5887" href="Ledger.Ledger.Properties.html#4669" class="Bound">sumConstZero</a> <a id="5900" href="Ledger.Ledger.Properties.html#4760" class="Bound">res-decomp</a>  <a id="5912" href="Ledger.Ledger.Properties.html#4896" class="Bound">getCoin-cong</a> <a id="5925" href="Ledger.Ledger.Properties.html#5067" class="Bound">≡ᵉ-getCoinˢ</a> <a id="5937" href="Ledger.Ledger.Properties.html#5629" class="Bound">r</a>
      <a id="5945" class="Comment">-- certState  = ⟦ stᵈ , stᵖ , stᵍ ⟧ᶜˢ</a>
      <a id="5989" class="Comment">-- certState&#39; = ⟦ stᵈ&#39; , stᵖ&#39; , stᵍ&#39; ⟧ᶜˢ</a>
      <a id="6036" href="Ledger.Ledger.Properties.html#6036" class="Bound">zeroMap</a>    <a id="6047" class="Symbol">=</a> <a id="6049" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="6058" class="Symbol">(</a><a id="6059" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="6064" href="Ledger.Address.html#1265" class="Field">RwdAddr.stake</a> <a id="6078" class="Symbol">(</a><a id="6079" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6083" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a><a id="6090" class="Symbol">))</a> <a id="6093" class="Number">0</a>
    <a id="6099" class="Keyword">in</a>
    <a id="6106" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="6118" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6126" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6133" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6135" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6143" href="Ledger.Ledger.html#827" class="Function">certState</a>
        <a id="6161" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="6164" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="6169" class="Symbol">(</a><a id="6170" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6178" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6185" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="6187" class="Symbol">)</a> <a id="6189" class="Symbol">(</a><a id="6190" href="Ledger.Certs.Properties.html#15784" class="Function">CERTS-pov</a> <a id="6200" href="Ledger.Ledger.Properties.html#5634" class="Bound">h&#39;</a><a id="6202" class="Symbol">)</a> <a id="6204" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="6212" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6220" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6227" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6229" class="Symbol">(</a><a id="6230" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6238" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a> <a id="6249" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6251" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6259" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a><a id="6266" class="Symbol">)</a>
        <a id="6276" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="6280" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="6285" class="Symbol">(λ</a> <a id="6288" href="Ledger.Ledger.Properties.html#6288" class="Bound">u</a> <a id="6290" class="Symbol">→</a> <a id="6292" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6300" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6307" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6309" class="Symbol">(</a><a id="6310" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6318" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a> <a id="6329" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6331" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a> <a id="6333" class="Symbol">(</a><a id="6334" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6342" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="6350" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6352" href="Ledger.Ledger.Properties.html#6288" class="Bound">u</a><a id="6353" class="Symbol">)))</a> <a id="6357" href="Ledger.Ledger.Properties.html#5591" class="Bound">valid</a> <a id="6363" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="6371" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6379" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6386" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6388" class="Symbol">(</a><a id="6389" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6397" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a> <a id="6408" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6410" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a> <a id="6412" class="Symbol">(</a><a id="6413" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6421" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="6429" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6431" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="6438" class="Symbol">))</a>
        <a id="6449" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="6452" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="6457" class="Symbol">(</a><a id="6458" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6466" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6473" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="6475" class="Symbol">)</a> <a id="6477" class="Symbol">(</a><a id="6478" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="6485" class="Symbol">(</a><a id="6486" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6494" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a><a id="6504" class="Symbol">)</a> <a id="6506" class="Symbol">_)</a> <a id="6509" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="6517" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6525" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6532" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6534" class="Symbol">(</a><a id="6535" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a> <a id="6537" class="Symbol">(</a><a id="6538" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6546" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="6554" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6556" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="6563" class="Symbol">)</a> <a id="6565" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6567" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6575" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a><a id="6585" class="Symbol">)</a>
        <a id="6595" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="6599" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a> <a id="6607" class="Symbol">(</a><a id="6608" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6616" href="Ledger.Ledger.html#774" class="Function">utxoSt</a><a id="6622" class="Symbol">)</a> <a id="6624" class="Symbol">(</a><a id="6625" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a> <a id="6627" class="Symbol">(</a><a id="6628" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6636" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="6644" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6646" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="6653" class="Symbol">))</a> <a id="6656" class="Symbol">(</a><a id="6657" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6665" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a><a id="6675" class="Symbol">)</a> <a id="6677" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="6685" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6693" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="6700" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6702" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a> <a id="6704" class="Symbol">(</a><a id="6705" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6713" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="6721" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6723" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="6730" class="Symbol">)</a> <a id="6732" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6734" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6742" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a>
        <a id="6761" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="6764" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="6769" class="Symbol">(</a><a id="6770" href="Class.HasAdd.Core.html#136" class="Field Operator">_+</a> <a id="6773" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6781" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a><a id="6791" class="Symbol">)</a> <a id="6793" class="Symbol">(</a><a id="6794" href="Ledger.Utxo.Properties.html#26346" class="Function">pov</a> <a id="6798" href="Ledger.Ledger.Properties.html#5556" class="Bound">h</a> <a id="6800" href="Ledger.Ledger.Properties.html#5610" class="Bound">st</a><a id="6802" class="Symbol">)</a> <a id="6804" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="6812" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6820" href="Ledger.Ledger.Properties.html#5746" class="Function">utxoSt&#39;</a> <a id="6828" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="6830" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="6838" href="Ledger.Ledger.Properties.html#5785" class="Function">certState&#39;</a>
        <a id="6857" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="6862" href="Ledger.Ledger.Properties.html#5400" class="Function">LEDGER-pov</a>  <a id="6874" class="Symbol">{</a><a id="6875" class="Argument">s</a> <a id="6877" class="Symbol">=</a> <a id="6879" href="Ledger.Ledger.Properties.html#6879" class="Bound">s</a><a id="6880" class="Symbol">}</a>
              <a id="6896" class="Symbol">{</a><a id="6897" class="Argument">s&#39;</a> <a id="6900" class="Symbol">=</a> <a id="6902" href="Ledger.Ledger.Properties.html#6902" class="Bound">s&#39;</a><a id="6904" class="Symbol">}</a>
              <a id="6920" href="Ledger.Ledger.Properties.html#6920" class="Bound">h</a> <a id="6922" class="Symbol">(</a><a id="6923" href="Ledger.Ledger.html#2595" class="InductiveConstructor">LEDGER-I</a> <a id="6932" class="Symbol">{</a><a id="6933" class="Argument">utxoSt&#39;</a> <a id="6941" class="Symbol">=</a> <a id="6943" href="Ledger.Ledger.Properties.html#6943" class="Bound">utxoSt&#39;&#39;</a><a id="6951" class="Symbol">}</a> <a id="6953" class="Symbol">(</a><a id="6954" href="Ledger.Ledger.Properties.html#6954" class="Bound">invalid</a> <a id="6962" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6964" href="Ledger.Utxow.html#5380" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="6975" href="Ledger.Ledger.Properties.html#6975" class="Bound">st</a><a id="6977" class="Symbol">))</a> <a id="6980" class="Symbol">=</a>
    <a id="6986" class="Keyword">let</a>
        <a id="6998" class="Keyword">open</a> <a id="7003" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="7010" href="Ledger.Ledger.Properties.html#6879" class="Bound">s</a>
        <a id="7020" class="Keyword">open</a> <a id="7025" href="Ledger.Certs.html#2825" class="Module">CertState</a> <a id="7035" href="Ledger.Ledger.html#827" class="Function">certState</a>
        <a id="7053" class="Keyword">open</a> <a id="7058" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="7065" href="Ledger.Ledger.Properties.html#6902" class="Bound">s&#39;</a> <a id="7068" class="Keyword">renaming</a> <a id="7077" class="Symbol">(</a><a id="7078" href="Ledger.Ledger.html#774" class="Field">utxoSt</a> <a id="7085" class="Symbol">to</a> <a id="7088" class="Field">utxoSt&#39;</a><a id="7095" class="Symbol">;</a> <a id="7097" href="Ledger.Ledger.html#801" class="Field">govSt</a> <a id="7103" class="Symbol">to</a> <a id="7106" class="Field">govSt&#39;</a><a id="7112" class="Symbol">;</a> <a id="7114" href="Ledger.Ledger.html#827" class="Field">certState</a> <a id="7124" class="Symbol">to</a> <a id="7127" class="Field">certState&#39;</a><a id="7137" class="Symbol">)</a>
        <a id="7147" class="Keyword">open</a> <a id="7152" href="Ledger.Utxo.html#2516" class="Module">UTxOState</a> <a id="7162" href="Ledger.Ledger.html#774" class="Function">utxoSt</a>
        <a id="7177" class="Keyword">open</a> <a id="7182" href="Ledger.Utxo.html#2516" class="Module">UTxOState</a> <a id="7192" href="Ledger.Ledger.Properties.html#7088" class="Function">utxoSt&#39;</a> <a id="7200" class="Keyword">renaming</a> <a id="7209" class="Symbol">(</a><a id="7210" href="Ledger.Utxo.html#2580" class="Field">utxo</a> <a id="7215" class="Symbol">to</a> <a id="7218" class="Field">utxo&#39;</a><a id="7223" class="Symbol">;</a> <a id="7225" href="Ledger.Utxo.html#2602" class="Field">fees</a> <a id="7230" class="Symbol">to</a> <a id="7233" class="Field">fees&#39;</a>
                                        <a id="7279" class="Symbol">;</a> <a id="7281" href="Ledger.Utxo.html#2624" class="Field">deposits</a> <a id="7290" class="Symbol">to</a> <a id="7293" class="Field">deposits&#39;</a><a id="7302" class="Symbol">;</a> <a id="7304" href="Ledger.Utxo.html#2650" class="Field">donations</a> <a id="7314" class="Symbol">to</a> <a id="7317" class="Field">donations&#39;</a><a id="7327" class="Symbol">)</a> <a id="7329" class="Keyword">in</a>
    <a id="7336" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="7341" class="Symbol">(</a><a id="7342" href="Class.HasAdd.Core.html#136" class="Field Operator">_+</a> <a id="7345" href="Ledger.Certs.html#3131" class="Function">rewardsBalance</a> <a id="7360" href="Ledger.Certs.html#2888" class="Function">dState</a><a id="7366" class="Symbol">)</a>
    <a id="7372" class="Symbol">(</a> <a id="7374" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="7386" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7394" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7396" href="Ledger.Utxo.html#2580" class="Function">utxo</a> <a id="7401" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7403" href="Ledger.Utxo.html#2602" class="Function">fees</a> <a id="7408" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7410" href="Ledger.Utxo.html#2624" class="Function">deposits</a> <a id="7419" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7421" href="Ledger.Utxo.html#2650" class="Function">donations</a> <a id="7431" href="Class.To.html#102" class="Field Operator">⟧</a>
        <a id="7441" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="7445" href="Data.Nat.Properties.html#15269" class="Function">+-identityʳ</a> <a id="7457" class="Symbol">(</a><a id="7458" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7466" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7468" href="Ledger.Utxo.html#2580" class="Function">utxo</a> <a id="7473" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7475" href="Ledger.Utxo.html#2602" class="Function">fees</a> <a id="7480" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7482" href="Ledger.Utxo.html#2624" class="Function">deposits</a> <a id="7491" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7493" href="Ledger.Utxo.html#2650" class="Function">donations</a> <a id="7503" href="Class.To.html#102" class="Field Operator">⟧</a><a id="7504" class="Symbol">)</a> <a id="7506" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="7514" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7522" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7524" href="Ledger.Utxo.html#2580" class="Function">utxo</a> <a id="7529" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7531" href="Ledger.Utxo.html#2602" class="Function">fees</a> <a id="7536" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7538" href="Ledger.Utxo.html#2624" class="Function">deposits</a> <a id="7547" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7549" href="Ledger.Utxo.html#2650" class="Function">donations</a> <a id="7559" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7561" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="7563" class="Number">0</a>
        <a id="7573" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="7577" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="7582" class="Symbol">(λ</a> <a id="7585" href="Ledger.Ledger.Properties.html#7585" class="Bound">x</a> <a id="7587" class="Symbol">→</a> <a id="7589" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7597" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7599" href="Ledger.Utxo.html#2580" class="Function">utxo</a> <a id="7604" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7606" href="Ledger.Utxo.html#2602" class="Function">fees</a> <a id="7611" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7613" href="Ledger.Utxo.html#2624" class="Function">deposits</a> <a id="7622" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7624" href="Ledger.Utxo.html#2650" class="Function">donations</a> <a id="7634" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7636" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="7638" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a><a id="7639" class="Symbol">(</a><a id="7640" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7648" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="7656" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7658" href="Ledger.Ledger.Properties.html#7585" class="Bound">x</a><a id="7659" class="Symbol">))</a> <a id="7662" href="Ledger.Ledger.Properties.html#6954" class="Bound">invalid</a> <a id="7670" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="7678" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7686" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7688" href="Ledger.Utxo.html#2580" class="Function">utxo</a> <a id="7693" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7695" href="Ledger.Utxo.html#2602" class="Function">fees</a> <a id="7700" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7702" href="Ledger.Utxo.html#2624" class="Function">deposits</a> <a id="7711" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7713" href="Ledger.Utxo.html#2650" class="Function">donations</a> <a id="7723" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7725" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="7727" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a><a id="7728" class="Symbol">(</a><a id="7729" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7737" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="7745" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7747" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="7754" class="Symbol">)</a> <a id="7756" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="7759" href="Ledger.Utxo.Properties.html#26346" class="Function">pov</a> <a id="7763" href="Ledger.Ledger.Properties.html#6920" class="Bound">h</a> <a id="7765" href="Ledger.Ledger.Properties.html#6975" class="Bound">st</a> <a id="7768" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="7776" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="7784" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7786" href="Ledger.Ledger.Properties.html#7218" class="Function">utxo&#39;</a> <a id="7792" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7794" href="Ledger.Ledger.Properties.html#7233" class="Function">fees&#39;</a> <a id="7800" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7802" href="Ledger.Ledger.Properties.html#7293" class="Function">deposits&#39;</a> <a id="7812" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7814" href="Ledger.Ledger.Properties.html#7317" class="Function">donations&#39;</a> <a id="7825" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7827" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="7829" class="Symbol">)</a>
    <a id="7835" class="Keyword">where</a> <a id="7841" class="Keyword">open</a> <a id="7846" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>


<a id="7860" class="Comment">-- ** Proof that the set equality `govDepsMatch` (below) is a LEDGER invariant.</a>

<a id="7941" class="Comment">-- Mapping a list of `GovActionID × GovActionState`s to a list of</a>
<a id="8007" class="Comment">-- `DepositPurpose`s is so common, we give it a name `dpMap`;</a>
<a id="8069" class="Comment">-- it&#39;s equivalent to `map (λ (id , _) → GovActionDeposit id)`.</a>
<a id="dpMap"></a><a id="8133" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="8139" class="Symbol">:</a> <a id="8141" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="8150" class="Symbol">→</a> <a id="8152" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8157" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a>
<a id="8172" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="8178" class="Symbol">=</a> <a id="8180" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="8184" class="Symbol">(</a><a id="8185" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="8202" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="8204" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="8209" class="Symbol">)</a>

<a id="isGADeposit"></a><a id="8212" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="8224" class="Symbol">:</a> <a id="8226" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="8241" class="Symbol">→</a> <a id="8243" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8248" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="8260" href="Ledger.Ledger.Properties.html#8260" class="Bound">dp</a> <a id="8263" class="Symbol">=</a> <a id="8265" href="Ledger.Ledger.Properties.html#8298" class="Function">isGADepositᵇ</a> <a id="8278" href="Ledger.Ledger.Properties.html#8260" class="Bound">dp</a> <a id="8281" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8283" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="8290" class="Keyword">where</a>
  <a id="8298" href="Ledger.Ledger.Properties.html#8298" class="Function">isGADepositᵇ</a> <a id="8311" class="Symbol">:</a> <a id="8313" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="8328" class="Symbol">→</a> <a id="8330" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="8337" href="Ledger.Ledger.Properties.html#8298" class="Function">isGADepositᵇ</a> <a id="8350" class="Symbol">(</a><a id="8351" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="8368" class="Symbol">_)</a> <a id="8371" class="Symbol">=</a> <a id="8373" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="8380" href="Ledger.Ledger.Properties.html#8298" class="CatchallClause Function">isGADepositᵇ</a><a id="8392" class="CatchallClause"> </a><a id="8393" class="CatchallClause Symbol">_</a>                    <a id="8414" class="Symbol">=</a> <a id="8416" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="govDepsMatch"></a><a id="8423" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="8436" class="Symbol">:</a> <a id="8438" href="Ledger.Ledger.html#715" class="Record">LState</a> <a id="8445" class="Symbol">→</a> <a id="8447" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8452" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="8465" href="Ledger.Ledger.Properties.html#8465" class="Bound">ledgerSt</a> <a id="8474" class="Symbol">=</a>
  <a id="8478" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8486" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="8498" class="Symbol">(</a><a id="8499" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8503" class="Symbol">(</a><a id="8504" href="Ledger.Utxo.html#2624" class="Field">UTxOState.deposits</a> <a id="8523" href="Ledger.Ledger.html#774" class="Field">utxoSt</a><a id="8529" class="Symbol">))</a> <a id="8532" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="8535" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="8544" class="Symbol">(</a><a id="8545" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="8551" href="Ledger.Ledger.html#801" class="Field">govSt</a><a id="8556" class="Symbol">)</a>
  <a id="8560" class="Keyword">where</a>
    <a id="8570" class="Keyword">open</a> <a id="8575" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="8582" href="Ledger.Ledger.Properties.html#8465" class="Bound">ledgerSt</a>

<a id="8592" class="Keyword">module</a> <a id="≡ᵉ"></a><a id="8599" href="Ledger.Ledger.Properties.html#8599" class="Module">≡ᵉ</a> <a id="8602" class="Symbol">=</a> <a id="8604" href="Relation.Binary.Structures.html#1550" class="Module">IsEquivalence</a> <a id="8618" class="Symbol">(</a><a id="8619" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a> <a id="8636" class="Symbol">{</a><a id="8637" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a><a id="8651" class="Symbol">})</a>
<a id="8654" class="Keyword">pattern</a> <a id="UTXOW-UTXOS"></a><a id="8662" href="Ledger.Ledger.Properties.html#8662" class="InductiveConstructor">UTXOW-UTXOS</a> <a id="8674" href="Ledger.Ledger.Properties.html#8744" class="Bound">x</a> <a id="8676" class="Symbol">=</a> <a id="8678" href="Ledger.Utxow.html#5380" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="8689" class="Symbol">(</a><a id="8690" href="Ledger.Utxo.html#14895" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="8706" class="Symbol">_</a> <a id="8708" class="Symbol">_</a> <a id="8710" class="Symbol">_</a> <a id="8712" class="Symbol">_</a> <a id="8714" class="Symbol">_</a> <a id="8716" class="Symbol">_</a> <a id="8718" class="Symbol">_</a> <a id="8720" class="Symbol">_</a> <a id="8722" class="Symbol">_</a> <a id="8724" class="Symbol">_</a> <a id="8726" class="Symbol">_</a> <a id="8728" class="Symbol">_</a> <a id="8730" class="Symbol">_</a> <a id="8732" class="Symbol">_</a> <a id="8734" class="Symbol">_</a> <a id="8736" class="Symbol">_</a> <a id="8738" class="Symbol">_</a> <a id="8740" class="Symbol">_</a> <a id="8742" class="Symbol">_</a> <a id="8744" href="Ledger.Ledger.Properties.html#8744" class="Bound">x</a><a id="8745" class="Symbol">)</a>
<a id="8747" class="Keyword">open</a> <a id="8752" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="filterGA"></a><a id="8765" href="Ledger.Ledger.Properties.html#8765" class="Function">filterGA</a> <a id="8774" class="Symbol">:</a> <a id="8776" class="Symbol">∀</a> <a id="8778" href="Ledger.Ledger.Properties.html#8778" class="Bound">txid</a> <a id="8783" href="Ledger.Ledger.Properties.html#8783" class="Bound">n</a> <a id="8785" class="Symbol">→</a> <a id="8787" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8795" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="8807" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8809" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="8826" class="Symbol">(</a><a id="8827" href="Ledger.Ledger.Properties.html#8778" class="Bound">txid</a> <a id="8832" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8834" href="Ledger.Ledger.Properties.html#8783" class="Bound">n</a><a id="8835" class="Symbol">)</a> <a id="8837" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="8839" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="8842" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8844" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="8861" class="Symbol">(</a><a id="8862" href="Ledger.Ledger.Properties.html#8778" class="Bound">txid</a> <a id="8867" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8869" href="Ledger.Ledger.Properties.html#8783" class="Bound">n</a><a id="8870" class="Symbol">)</a> <a id="8872" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="8874" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8880" class="Symbol">(</a><a id="8881" href="Ledger.Ledger.Properties.html#8765" class="Function">filterGA</a> <a id="8890" href="Ledger.Ledger.Properties.html#8890" class="Bound">txid</a> <a id="8895" href="Ledger.Ledger.Properties.html#8895" class="Bound">n</a><a id="8896" class="Symbol">)</a> <a id="8898" class="Symbol">{</a><a id="8899" href="Ledger.Ledger.Properties.html#8899" class="Bound">a</a><a id="8900" class="Symbol">}</a> <a id="8902" href="Ledger.Ledger.Properties.html#8902" class="Bound">x</a> <a id="8904" class="Symbol">=</a> <a id="8906" class="Symbol">(</a><a id="8907" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="8913" class="Symbol">(</a><a id="8914" href="Function.Bundles.html#4834" class="Field">from</a> <a id="8919" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="8928" href="Ledger.Ledger.Properties.html#8902" class="Bound">x</a><a id="8929" class="Symbol">))</a> <a id="8932" class="Keyword">where</a> <a id="8938" class="Keyword">open</a> <a id="8943" href="Function.Bundles.html#4752" class="Module">Equivalence</a>
<a id="8955" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="8961" class="Symbol">(</a><a id="8962" href="Ledger.Ledger.Properties.html#8765" class="Function">filterGA</a> <a id="8971" href="Ledger.Ledger.Properties.html#8971" class="Bound">txid</a> <a id="8976" href="Ledger.Ledger.Properties.html#8976" class="Bound">n</a><a id="8977" class="Symbol">)</a> <a id="8979" class="Symbol">{</a><a id="8980" href="Ledger.Ledger.Properties.html#8980" class="Bound">a</a><a id="8981" class="Symbol">}</a> <a id="8983" href="Ledger.Ledger.Properties.html#8983" class="Bound">x</a> <a id="8985" class="Symbol">=</a> <a id="8987" href="Function.Bundles.html#4810" class="Field">to</a> <a id="8990" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="8999" class="Symbol">(</a><a id="9000" href="Ledger.Ledger.Properties.html#9038" class="Function">ξ</a> <a id="9002" class="Symbol">(</a><a id="9003" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9008" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="9020" href="Ledger.Ledger.Properties.html#8983" class="Bound">x</a><a id="9021" class="Symbol">)</a> <a id="9023" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9025" href="Ledger.Ledger.Properties.html#8983" class="Bound">x</a><a id="9026" class="Symbol">)</a>
  <a id="9030" class="Keyword">where</a>
  <a id="9038" href="Ledger.Ledger.Properties.html#9038" class="Function">ξ</a> <a id="9040" class="Symbol">:</a> <a id="9042" href="Ledger.Ledger.Properties.html#8980" class="Bound">a</a> <a id="9044" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9046" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="9063" class="Symbol">(</a><a id="9064" href="Ledger.Ledger.Properties.html#8971" class="Bound">txid</a> <a id="9069" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9071" href="Ledger.Ledger.Properties.html#8976" class="Bound">n</a><a id="9072" class="Symbol">)</a> <a id="9074" class="Symbol">→</a> <a id="9076" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="9088" href="Ledger.Ledger.Properties.html#8980" class="Bound">a</a>
  <a id="9092" href="Ledger.Ledger.Properties.html#9038" class="Function">ξ</a> <a id="9094" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9099" class="Symbol">=</a> <a id="9101" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="9107" class="Keyword">module</a> <a id="LEDGER-PROPS"></a><a id="9114" href="Ledger.Ledger.Properties.html#9114" class="Module">LEDGER-PROPS</a> <a id="9127" class="Symbol">(</a><a id="9128" href="Ledger.Ledger.Properties.html#9128" class="Bound">tx</a> <a id="9131" class="Symbol">:</a> <a id="9133" href="Ledger.Transaction.html#3538" class="Record">Tx</a><a id="9135" class="Symbol">)</a> <a id="9137" class="Symbol">(</a><a id="9138" href="Ledger.Ledger.Properties.html#9138" class="Bound">Γ</a> <a id="9140" class="Symbol">:</a> <a id="9142" href="Ledger.Ledger.html#545" class="Record">LEnv</a><a id="9146" class="Symbol">)</a> <a id="9148" class="Symbol">(</a><a id="9149" href="Ledger.Ledger.Properties.html#9149" class="Bound">s</a> <a id="9151" class="Symbol">:</a> <a id="9153" href="Ledger.Ledger.html#715" class="Record">LState</a><a id="9159" class="Symbol">)</a> <a id="9161" class="Keyword">where</a>
  <a id="9169" class="Keyword">open</a> <a id="9174" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="9177" href="Ledger.Ledger.Properties.html#9128" class="Bound">tx</a> <a id="9180" class="Keyword">renaming</a> <a id="9189" class="Symbol">(</a><a id="9190" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="9195" class="Symbol">to</a> <a id="9198" class="Field">txb</a><a id="9201" class="Symbol">);</a> <a id="9204" class="Keyword">open</a> <a id="9209" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="9216" href="Ledger.Ledger.Properties.html#9198" class="Function">txb</a>
  <a id="9222" class="Keyword">open</a> <a id="9227" href="Ledger.Ledger.html#545" class="Module">LEnv</a> <a id="9232" href="Ledger.Ledger.Properties.html#9138" class="Bound">Γ</a> <a id="9234" class="Keyword">renaming</a> <a id="9243" class="Symbol">(</a><a id="9244" href="Ledger.Ledger.html#633" class="Field">pparams</a> <a id="9252" class="Symbol">to</a> <a id="9255" class="Field">pp</a><a id="9257" class="Symbol">)</a>
  <a id="9261" class="Keyword">open</a> <a id="9266" href="Ledger.PParams.html#1389" class="Module">PParams</a> <a id="9274" href="Ledger.Ledger.Properties.html#9255" class="Function">pp</a> <a id="9277" class="Keyword">using</a> <a id="9283" class="Symbol">(</a><a id="9284" href="Ledger.PParams.html#2915" class="Field">govActionDeposit</a><a id="9300" class="Symbol">)</a>
  <a id="9304" class="Keyword">open</a> <a id="9309" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="9316" href="Ledger.Ledger.Properties.html#9149" class="Bound">s</a>
  <a id="9320" class="Keyword">open</a> <a id="9325" href="Ledger.Certs.html#2825" class="Module">CertState</a> <a id="9335" href="Ledger.Ledger.html#827" class="Field">certState</a>
  <a id="9347" class="Keyword">open</a> <a id="9352" href="Ledger.Certs.html#2393" class="Module">DState</a> <a id="9359" href="Ledger.Certs.html#2888" class="Function">dState</a>

  <a id="9369" class="Comment">-- initial utxo deposits</a>
  <a id="LEDGER-PROPS.utxoDeps"></a><a id="9396" href="Ledger.Ledger.Properties.html#9396" class="Function">utxoDeps</a> <a id="9405" class="Symbol">:</a> <a id="9407" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="9422" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="9424" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="9431" href="Ledger.Ledger.Properties.html#9396" class="Function">utxoDeps</a> <a id="9440" class="Symbol">=</a> <a id="9442" href="Ledger.Utxo.html#2624" class="Field">UTxOState.deposits</a> <a id="9461" class="Symbol">(</a><a id="9462" href="Ledger.Ledger.html#774" class="Field">LState.utxoSt</a> <a id="9476" href="Ledger.Ledger.Properties.html#9149" class="Bound">s</a><a id="9477" class="Symbol">)</a>

  <a id="9482" class="Comment">-- GovState definitions and lemmas --</a>
  <a id="LEDGER-PROPS.mkAction"></a><a id="9522" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="9531" class="Symbol">:</a> <a id="9533" href="Ledger.GovernanceActions.html#2077" class="Record">GovProposal</a> <a id="9545" class="Symbol">→</a> <a id="9547" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="9549" class="Symbol">→</a> <a id="9551" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="9563" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9565" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a>
  <a id="9582" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="9591" href="Ledger.Ledger.Properties.html#9591" class="Bound">p</a> <a id="9593" href="Ledger.Ledger.Properties.html#9593" class="Bound">n</a> <a id="9595" class="Symbol">=</a> <a id="9597" class="Keyword">let</a> <a id="9601" class="Keyword">open</a> <a id="9606" href="Ledger.GovernanceActions.html#2077" class="Module">GovProposal</a> <a id="9618" href="Ledger.Ledger.Properties.html#9591" class="Bound">p</a> <a id="9620" class="Keyword">in</a>
    <a id="9627" href="Ledger.Gov.html#5051" class="Function">mkGovStatePair</a>
      <a id="9648" class="Symbol">(</a><a id="9649" href="Ledger.PParams.html#2873" class="Field">PParams.govActionLifetime</a> <a id="9675" href="Ledger.Ledger.Properties.html#9255" class="Function">pp</a> <a id="9678" href="Ledger.Types.Epoch.html#832" class="Function Operator">+ᵉ</a> <a id="9681" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a> <a id="9687" href="Ledger.Ledger.html#575" class="Function">slot</a><a id="9691" class="Symbol">)</a>
      <a id="9699" class="Symbol">(</a><a id="9700" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="9705" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9707" href="Ledger.Ledger.Properties.html#9593" class="Bound">n</a><a id="9708" class="Symbol">)</a> <a id="9710" href="Ledger.GovernanceActions.html#2244" class="Function">returnAddr</a> <a id="9721" href="Ledger.GovernanceActions.html#2114" class="Function">action</a> <a id="9728" href="Ledger.GovernanceActions.html#2142" class="Function">prevAction</a>

  <a id="9742" class="Comment">-- update GovState with a proposal</a>
  <a id="LEDGER-PROPS.propUpdate"></a><a id="9779" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="9790" class="Symbol">:</a> <a id="9792" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="9801" class="Symbol">→</a> <a id="9803" href="Ledger.GovernanceActions.html#2077" class="Record">GovProposal</a> <a id="9815" class="Symbol">→</a> <a id="9817" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="9819" class="Symbol">→</a> <a id="9821" href="Ledger.Gov.html#1218" class="Function">GovState</a>
  <a id="9832" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="9843" href="Ledger.Ledger.Properties.html#9843" class="Bound">s</a> <a id="9845" href="Ledger.Ledger.Properties.html#9845" class="Bound">p</a> <a id="9847" href="Ledger.Ledger.Properties.html#9847" class="Bound">n</a> <a id="9849" class="Symbol">=</a> <a id="9851" href="Ledger.Gov.html#4673" class="Function">insertGovAction</a> <a id="9867" href="Ledger.Ledger.Properties.html#9843" class="Bound">s</a> <a id="9869" class="Symbol">(</a><a id="9870" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="9879" href="Ledger.Ledger.Properties.html#9845" class="Bound">p</a> <a id="9881" href="Ledger.Ledger.Properties.html#9847" class="Bound">n</a><a id="9882" class="Symbol">)</a>

  <a id="9887" class="Comment">-- update GovState with a vote</a>
  <a id="LEDGER-PROPS.voteUpdate"></a><a id="9920" href="Ledger.Ledger.Properties.html#9920" class="Function">voteUpdate</a> <a id="9931" class="Symbol">:</a> <a id="9933" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="9942" class="Symbol">→</a> <a id="9944" href="Ledger.GovernanceActions.html#1932" class="Record">GovVote</a> <a id="9952" class="Symbol">→</a> <a id="9954" href="Ledger.Gov.html#1218" class="Function">GovState</a>
  <a id="9965" href="Ledger.Ledger.Properties.html#9920" class="Function">voteUpdate</a> <a id="9976" href="Ledger.Ledger.Properties.html#9976" class="Bound">s</a> <a id="9978" href="Ledger.Ledger.Properties.html#9978" class="Bound">v</a> <a id="9980" class="Symbol">=</a> <a id="9982" href="Ledger.Gov.html#5548" class="Function">addVote</a> <a id="9990" href="Ledger.Ledger.Properties.html#9976" class="Bound">s</a> <a id="9992" href="Ledger.GovernanceActions.html#1965" class="Field">gid</a> <a id="9996" href="Ledger.GovernanceActions.html#1995" class="Field">voter</a> <a id="10002" href="Ledger.GovernanceActions.html#2019" class="Field">vote</a>
    <a id="10011" class="Keyword">where</a> <a id="10017" class="Keyword">open</a> <a id="10022" href="Ledger.GovernanceActions.html#1932" class="Module">GovVote</a> <a id="10030" href="Ledger.Ledger.Properties.html#9978" class="Bound">v</a>

  <a id="10035" class="Comment">-- update GovState with a list of votes and proposals</a>
  <a id="LEDGER-PROPS.updateGovStates"></a><a id="10091" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10107" class="Symbol">:</a> <a id="10109" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="10114" class="Symbol">(</a><a id="10115" href="Ledger.GovernanceActions.html#1932" class="Record">GovVote</a> <a id="10123" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="10125" href="Ledger.GovernanceActions.html#2077" class="Record">GovProposal</a><a id="10136" class="Symbol">)</a> <a id="10138" class="Symbol">→</a> <a id="10140" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="10142" class="Symbol">→</a> <a id="10144" href="Ledger.Gov.html#1218" class="Function">GovState</a> <a id="10153" class="Symbol">→</a> <a id="10155" href="Ledger.Gov.html#1218" class="Function">GovState</a>
  <a id="10166" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10182" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="10185" class="Symbol">_</a> <a id="10187" href="Ledger.Ledger.Properties.html#10187" class="Bound">s</a> <a id="10189" class="Symbol">=</a> <a id="10191" href="Ledger.Ledger.Properties.html#10187" class="Bound">s</a>
  <a id="10195" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10211" class="Symbol">(</a><a id="10212" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="10217" href="Ledger.Ledger.Properties.html#10217" class="Bound">v</a> <a id="10219" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10221" href="Ledger.Ledger.Properties.html#10221" class="Bound">vps</a><a id="10224" class="Symbol">)</a> <a id="10226" href="Ledger.Ledger.Properties.html#10226" class="Bound">k</a> <a id="10228" href="Ledger.Ledger.Properties.html#10228" class="Bound">s</a> <a id="10230" class="Symbol">=</a> <a id="10232" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10248" href="Ledger.Ledger.Properties.html#10221" class="Bound">vps</a> <a id="10252" class="Symbol">(</a><a id="10253" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="10257" href="Ledger.Ledger.Properties.html#10226" class="Bound">k</a><a id="10258" class="Symbol">)</a> <a id="10260" class="Symbol">(</a><a id="10261" href="Ledger.Ledger.Properties.html#9920" class="Function">voteUpdate</a> <a id="10272" href="Ledger.Ledger.Properties.html#10228" class="Bound">s</a> <a id="10274" href="Ledger.Ledger.Properties.html#10217" class="Bound">v</a><a id="10275" class="Symbol">)</a>
  <a id="10279" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10295" class="Symbol">(</a><a id="10296" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="10301" href="Ledger.Ledger.Properties.html#10301" class="Bound">p</a> <a id="10303" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10305" href="Ledger.Ledger.Properties.html#10305" class="Bound">vps</a><a id="10308" class="Symbol">)</a> <a id="10310" href="Ledger.Ledger.Properties.html#10310" class="Bound">k</a> <a id="10312" href="Ledger.Ledger.Properties.html#10312" class="Bound">s</a> <a id="10314" class="Symbol">=</a> <a id="10316" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10332" href="Ledger.Ledger.Properties.html#10305" class="Bound">vps</a> <a id="10336" class="Symbol">(</a><a id="10337" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="10341" href="Ledger.Ledger.Properties.html#10310" class="Bound">k</a><a id="10342" class="Symbol">)</a> <a id="10344" class="Symbol">(</a><a id="10345" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="10356" href="Ledger.Ledger.Properties.html#10312" class="Bound">s</a> <a id="10358" href="Ledger.Ledger.Properties.html#10301" class="Bound">p</a> <a id="10360" href="Ledger.Ledger.Properties.html#10310" class="Bound">k</a><a id="10361" class="Symbol">)</a>

  <a id="10366" class="Comment">-- updateGovStates faithfully represents a step of the LEDGER sts</a>
  <a id="LEDGER-PROPS.STS→GovSt≡"></a><a id="10434" href="Ledger.Ledger.Properties.html#10434" class="Function">STS→GovSt≡</a> <a id="10445" class="Symbol">:</a> <a id="10447" class="Symbol">∀</a> <a id="10449" class="Symbol">{</a><a id="10450" href="Ledger.Ledger.Properties.html#10450" class="Bound">s&#39;</a> <a id="10453" class="Symbol">:</a> <a id="10455" href="Ledger.Ledger.html#715" class="Record">LState</a><a id="10461" class="Symbol">}</a> <a id="10463" class="Symbol">→</a> <a id="10465" href="Ledger.Ledger.Properties.html#9138" class="Bound">Γ</a> <a id="10467" href="Ledger.Ledger.html#1873" class="Datatype Operator">⊢</a> <a id="10469" href="Ledger.Ledger.Properties.html#9149" class="Bound">s</a> <a id="10471" href="Ledger.Ledger.html#1873" class="Datatype Operator">⇀⦇</a> <a id="10474" href="Ledger.Ledger.Properties.html#9128" class="Bound">tx</a> <a id="10477" href="Ledger.Ledger.html#1873" class="Datatype Operator">,LEDGER⦈</a> <a id="10486" href="Ledger.Ledger.Properties.html#10450" class="Bound">s&#39;</a>
               <a id="10504" class="Symbol">→</a> <a id="10506" href="Ledger.Transaction.html#3623" class="Function">isValid</a> <a id="10514" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10516" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="10521" class="Symbol">→</a> <a id="10523" href="Ledger.Ledger.html#801" class="Field">LState.govSt</a> <a id="10536" href="Ledger.Ledger.Properties.html#10450" class="Bound">s&#39;</a> <a id="10539" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10541" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="10557" class="Symbol">(</a><a id="10558" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="10564" href="Ledger.Ledger.Properties.html#9198" class="Function">txb</a><a id="10567" class="Symbol">)</a> <a id="10569" class="Number">0</a> <a id="10571" class="Symbol">(</a><a id="10572" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="10590" class="Symbol">(</a><a id="10591" href="Ledger.Ledger.html#827" class="Field">LState.certState</a> <a id="10608" href="Ledger.Ledger.Properties.html#10450" class="Bound">s&#39;</a><a id="10610" class="Symbol">)</a> <a id="10612" class="Symbol">(</a><a id="10613" href="Ledger.Ledger.html#801" class="Field">LState.govSt</a> <a id="10626" href="Ledger.Ledger.Properties.html#9149" class="Bound">s</a><a id="10627" class="Symbol">))</a>
  <a id="10632" class="Comment">-- STS→GovSt≡ (LEDGER-V ( _ , _ , _ , x )) refl = STS→updateGovSt≡ (txgov txb) 0 x</a>
  <a id="10717" href="Ledger.Ledger.Properties.html#10434" class="Function">STS→GovSt≡</a> <a id="10728" class="Symbol">(</a><a id="10729" href="Ledger.Ledger.html#1935" class="InductiveConstructor">LEDGER-V</a> <a id="10738" href="Ledger.Ledger.Properties.html#10738" class="Bound">x</a><a id="10739" class="Symbol">)</a> <a id="10741" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="10746" class="Symbol">=</a> <a id="10748" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="10765" class="Symbol">(</a><a id="10766" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="10772" href="Ledger.Ledger.Properties.html#9198" class="Function">txb</a><a id="10775" class="Symbol">)</a> <a id="10777" class="Number">0</a> <a id="10779" class="Symbol">(</a><a id="10780" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10786" class="Symbol">(</a><a id="10787" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10793" class="Symbol">(</a><a id="10794" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10800" href="Ledger.Ledger.Properties.html#10738" class="Bound">x</a><a id="10801" class="Symbol">)))</a>
    <a id="10809" class="Keyword">where</a>
    <a id="10819" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="10836" class="Symbol">:</a> <a id="10838" class="Symbol">(</a><a id="10839" href="Ledger.Ledger.Properties.html#10839" class="Bound">vps</a> <a id="10843" class="Symbol">:</a> <a id="10845" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="10850" class="Symbol">(</a><a id="10851" href="Ledger.GovernanceActions.html#1932" class="Record">GovVote</a> <a id="10859" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="10861" href="Ledger.GovernanceActions.html#2077" class="Record">GovProposal</a><a id="10872" class="Symbol">))</a> <a id="10875" class="Symbol">(</a><a id="10876" href="Ledger.Ledger.Properties.html#10876" class="Bound">k</a> <a id="10878" class="Symbol">:</a> <a id="10880" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="10881" class="Symbol">)</a> <a id="10883" class="Symbol">{</a><a id="10884" href="Ledger.Ledger.Properties.html#10884" class="Bound">certSt</a> <a id="10891" class="Symbol">:</a> <a id="10893" href="Ledger.Certs.html#2825" class="Record">CertState</a><a id="10902" class="Symbol">}</a> <a id="10904" class="Symbol">{</a><a id="10905" href="Ledger.Ledger.Properties.html#10905" class="Bound">govSt</a> <a id="10911" href="Ledger.Ledger.Properties.html#10911" class="Bound">govSt&#39;</a> <a id="10918" class="Symbol">:</a> <a id="10920" href="Ledger.Gov.html#1218" class="Function">GovState</a><a id="10928" class="Symbol">}</a>
      <a id="10936" class="Symbol">→</a> <a id="10938" class="Symbol">(</a><a id="10939" href="Interface.STS.html#1457" class="Datatype Operator">_⊢_⇀⟦_⟧ᵢ*&#39;_</a> <a id="10951" class="Symbol">{</a><a id="10952" class="Argument">_⊢_⇀⟦_⟧ᵇ_</a> <a id="10962" class="Symbol">=</a> <a id="10964" href="Interface.STS.html#1903" class="Datatype">IdSTS</a><a id="10969" class="Symbol">}{</a><a id="10971" href="Ledger.Gov.html#6524" class="Datatype Operator">_⊢_⇀⦇_,GOV⦈_</a><a id="10983" class="Symbol">}</a> <a id="10985" class="Symbol">(</a><a id="10986" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="10988" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="10993" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10995" href="Ledger.Types.Epoch.html#688" class="Function">epoch</a> <a id="11001" href="Ledger.Ledger.html#575" class="Function">slot</a> <a id="11006" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11008" href="Ledger.Ledger.Properties.html#9255" class="Function">pp</a> <a id="11011" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11013" href="Ledger.Ledger.html#598" class="Function">ppolicy</a> <a id="11021" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11023" href="Ledger.Ledger.html#659" class="Function">enactState</a> <a id="11034" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11036" href="Ledger.Ledger.Properties.html#10884" class="Bound">certSt</a> <a id="11043" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11045" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11049" href="Ledger.Certs.html#2531" class="Function">rewards</a> <a id="11057" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="11059" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11061" href="Ledger.Ledger.Properties.html#10876" class="Bound">k</a><a id="11062" class="Symbol">)</a> <a id="11064" href="Ledger.Ledger.Properties.html#10905" class="Bound">govSt</a> <a id="11070" href="Ledger.Ledger.Properties.html#10839" class="Bound">vps</a> <a id="11074" href="Ledger.Ledger.Properties.html#10911" class="Bound">govSt&#39;</a><a id="11080" class="Symbol">)</a>
      <a id="11088" class="Symbol">→</a> <a id="11090" href="Ledger.Ledger.Properties.html#10911" class="Bound">govSt&#39;</a> <a id="11097" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11099" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="11115" href="Ledger.Ledger.Properties.html#10839" class="Bound">vps</a> <a id="11119" href="Ledger.Ledger.Properties.html#10876" class="Bound">k</a> <a id="11121" href="Ledger.Ledger.Properties.html#10905" class="Bound">govSt</a>
    <a id="11131" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="11148" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11151" class="Symbol">_</a> <a id="11153" class="Symbol">(</a><a id="11154" href="Interface.STS.html#1514" class="InductiveConstructor">BS-base</a> <a id="11162" href="Interface.STS.html#1946" class="InductiveConstructor">Id-nop</a><a id="11168" class="Symbol">)</a> <a id="11170" class="Symbol">=</a> <a id="11172" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="11181" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="11198" class="Symbol">(</a><a id="11199" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="11204" href="Ledger.Ledger.Properties.html#11204" class="Bound">v</a> <a id="11206" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11208" href="Ledger.Ledger.Properties.html#11208" class="Bound">vps</a><a id="11211" class="Symbol">)</a> <a id="11213" href="Ledger.Ledger.Properties.html#11213" class="Bound">k</a> <a id="11215" class="Symbol">(</a><a id="11216" href="Interface.STS.html#1630" class="InductiveConstructor">BS-ind</a> <a id="11223" class="Symbol">(</a><a id="11224" href="Ledger.Gov.html#13927" class="InductiveConstructor">GOV-Vote</a> <a id="11233" href="Ledger.Ledger.Properties.html#11233" class="Bound">x</a><a id="11234" class="Symbol">)</a> <a id="11236" href="Ledger.Ledger.Properties.html#11236" class="Bound">h</a><a id="11237" class="Symbol">)</a>
      <a id="11245" class="Symbol">=</a> <a id="11247" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="11264" href="Ledger.Ledger.Properties.html#11208" class="Bound">vps</a> <a id="11268" class="Symbol">(</a><a id="11269" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="11273" href="Ledger.Ledger.Properties.html#11213" class="Bound">k</a><a id="11274" class="Symbol">)</a> <a id="11276" href="Ledger.Ledger.Properties.html#11236" class="Bound">h</a>
    <a id="11282" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="11299" class="Symbol">(</a><a id="11300" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="11305" href="Ledger.Ledger.Properties.html#11305" class="Bound">p</a> <a id="11307" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11309" href="Ledger.Ledger.Properties.html#11309" class="Bound">vps</a><a id="11312" class="Symbol">)</a> <a id="11314" href="Ledger.Ledger.Properties.html#11314" class="Bound">k</a> <a id="11316" class="Symbol">(</a><a id="11317" href="Interface.STS.html#1630" class="InductiveConstructor">BS-ind</a> <a id="11324" class="Symbol">(</a><a id="11325" href="Ledger.Gov.html#14212" class="InductiveConstructor">GOV-Propose</a> <a id="11337" href="Ledger.Ledger.Properties.html#11337" class="Bound">x</a><a id="11338" class="Symbol">)</a> <a id="11340" href="Ledger.Ledger.Properties.html#11340" class="Bound">h</a><a id="11341" class="Symbol">)</a> <a id="11343" class="Symbol">=</a> <a id="11345" href="Ledger.Ledger.Properties.html#10819" class="Function">STS→updateGovSt≡</a> <a id="11362" href="Ledger.Ledger.Properties.html#11309" class="Bound">vps</a> <a id="11366" class="Symbol">(</a><a id="11367" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="11371" href="Ledger.Ledger.Properties.html#11314" class="Bound">k</a><a id="11372" class="Symbol">)</a> <a id="11374" href="Ledger.Ledger.Properties.html#11340" class="Bound">h</a>

  <a id="11379" class="Keyword">opaque</a>
    <a id="11390" class="Keyword">unfolding</a> <a id="11400" href="Ledger.Gov.html#5548" class="Function">addVote</a>

    <a id="LEDGER-PROPS.dpMap-rmOrphanDRepVotes"></a><a id="11413" href="Ledger.Ledger.Properties.html#11413" class="Function">dpMap-rmOrphanDRepVotes</a> <a id="11437" class="Symbol">:</a> <a id="11439" class="Symbol">∀</a> <a id="11441" href="Ledger.Ledger.Properties.html#11441" class="Bound">certState</a> <a id="11451" href="Ledger.Ledger.Properties.html#11451" class="Bound">govSt</a> <a id="11457" class="Symbol">→</a> <a id="11459" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="11465" class="Symbol">(</a><a id="11466" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="11484" href="Ledger.Ledger.Properties.html#11441" class="Bound">certState</a> <a id="11494" href="Ledger.Ledger.Properties.html#11451" class="Bound">govSt</a><a id="11499" class="Symbol">)</a> <a id="11501" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11503" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="11509" href="Ledger.Ledger.Properties.html#11451" class="Bound">govSt</a>
    <a id="11519" href="Ledger.Ledger.Properties.html#11413" class="Function">dpMap-rmOrphanDRepVotes</a> <a id="11543" href="Ledger.Ledger.Properties.html#11543" class="Bound">certState</a> <a id="11553" href="Ledger.Ledger.Properties.html#11553" class="Bound">govSt</a> <a id="11559" class="Symbol">=</a> <a id="11561" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="11565" class="Symbol">(</a><a id="11566" href="Class.Functor.Core.html#618" class="Field">fmap-∘</a> <a id="11573" href="Ledger.Ledger.Properties.html#11553" class="Bound">govSt</a><a id="11578" class="Symbol">)</a> <a id="11580" class="Comment">-- map proj₁ ∘ map (map₂ _) ≡ map (proj₁ ∘ map₂ _) ≡ map proj₁</a>

<a id="11644" class="Keyword">module</a> <a id="SetoidProperties"></a><a id="11651" href="Ledger.Ledger.Properties.html#11651" class="Module">SetoidProperties</a> <a id="11668" class="Symbol">(</a><a id="11669" href="Ledger.Ledger.Properties.html#11669" class="Bound">tx</a> <a id="11672" class="Symbol">:</a> <a id="11674" href="Ledger.Transaction.html#3538" class="Record">Tx</a><a id="11676" class="Symbol">)</a> <a id="11678" class="Symbol">(</a><a id="11679" href="Ledger.Ledger.Properties.html#11679" class="Bound">Γ</a> <a id="11681" class="Symbol">:</a> <a id="11683" href="Ledger.Ledger.html#545" class="Record">LEnv</a><a id="11687" class="Symbol">)</a> <a id="11689" class="Symbol">(</a><a id="11690" href="Ledger.Ledger.Properties.html#11690" class="Bound">s</a> <a id="11692" class="Symbol">:</a> <a id="11694" href="Ledger.Ledger.html#715" class="Record">LState</a><a id="11700" class="Symbol">)</a> <a id="11702" class="Keyword">where</a>
  <a id="11710" class="Keyword">open</a> <a id="11715" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="11718" href="Ledger.Ledger.Properties.html#11669" class="Bound">tx</a> <a id="11721" class="Keyword">renaming</a> <a id="11730" class="Symbol">(</a><a id="11731" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="11736" class="Symbol">to</a> <a id="11739" class="Field">txb</a><a id="11742" class="Symbol">);</a> <a id="11745" class="Keyword">open</a> <a id="11750" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="11757" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a>
  <a id="11763" class="Keyword">open</a> <a id="11768" href="Ledger.Ledger.html#545" class="Module">LEnv</a> <a id="11773" href="Ledger.Ledger.Properties.html#11679" class="Bound">Γ</a> <a id="11775" class="Keyword">renaming</a> <a id="11784" class="Symbol">(</a><a id="11785" href="Ledger.Ledger.html#633" class="Field">pparams</a> <a id="11793" class="Symbol">to</a> <a id="11796" class="Field">pp</a><a id="11798" class="Symbol">)</a>
  <a id="11802" class="Keyword">open</a> <a id="11807" href="Ledger.PParams.html#1389" class="Module">PParams</a> <a id="11815" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="11818" class="Keyword">using</a> <a id="11824" class="Symbol">(</a><a id="11825" href="Ledger.PParams.html#2915" class="Field">govActionDeposit</a><a id="11841" class="Symbol">;</a> <a id="11843" href="Ledger.PParams.html#1940" class="Field">poolDeposit</a><a id="11854" class="Symbol">)</a>
  <a id="SetoidProperties.govSt"></a><a id="11858" href="Ledger.Ledger.Properties.html#11858" class="Function">govSt</a> <a id="11864" class="Symbol">:</a> <a id="11866" href="Ledger.Gov.html#1218" class="Function">GovState</a>
  <a id="11877" href="Ledger.Ledger.Properties.html#11858" class="Function">govSt</a> <a id="11883" class="Symbol">=</a> <a id="11885" href="Ledger.Ledger.html#801" class="Field">LState.govSt</a> <a id="11898" href="Ledger.Ledger.Properties.html#11690" class="Bound">s</a>
  <a id="11902" class="Keyword">open</a> <a id="11907" href="Ledger.Ledger.Properties.html#9114" class="Module">LEDGER-PROPS</a> <a id="11920" href="Ledger.Ledger.Properties.html#11669" class="Bound">tx</a> <a id="11923" href="Ledger.Ledger.Properties.html#11679" class="Bound">Γ</a> <a id="11925" href="Ledger.Ledger.Properties.html#11690" class="Bound">s</a> <a id="11927" class="Keyword">using</a> <a id="11933" class="Symbol">(</a><a id="11934" href="Ledger.Ledger.Properties.html#9396" class="Function">utxoDeps</a><a id="11942" class="Symbol">;</a> <a id="11944" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a><a id="11954" class="Symbol">;</a> <a id="11956" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a><a id="11964" class="Symbol">;</a> <a id="11966" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a><a id="11981" class="Symbol">;</a> <a id="11983" href="Ledger.Ledger.Properties.html#10434" class="Function">STS→GovSt≡</a><a id="11993" class="Symbol">;</a> <a id="11995" href="Ledger.Ledger.Properties.html#9920" class="Function">voteUpdate</a><a id="12005" class="Symbol">;</a> <a id="12007" href="Ledger.Ledger.Properties.html#11413" class="Function">dpMap-rmOrphanDRepVotes</a><a id="12030" class="Symbol">)</a>
  <a id="12034" class="Keyword">open</a> <a id="12039" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="12055" class="Symbol">(</a><a id="12056" href="Axiom.Set.Properties.html#3967" class="Function">≡ᵉ-Setoid</a><a id="12065" class="Symbol">{</a><a id="12066" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a><a id="12080" class="Symbol">})</a>

  <a id="SetoidProperties.CredDepIsNotGADep"></a><a id="12086" href="Ledger.Ledger.Properties.html#12086" class="Function">CredDepIsNotGADep</a> <a id="12104" class="Symbol">:</a> <a id="12106" class="Symbol">∀</a> <a id="12108" class="Symbol">{</a><a id="12109" href="Ledger.Ledger.Properties.html#12109" class="Bound">a</a> <a id="12111" href="Ledger.Ledger.Properties.html#12111" class="Bound">c</a><a id="12112" class="Symbol">}</a> <a id="12114" class="Symbol">→</a> <a id="12116" href="Ledger.Ledger.Properties.html#12109" class="Bound">a</a> <a id="12118" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12120" href="Ledger.Certs.html#316" class="InductiveConstructor">CredentialDeposit</a> <a id="12138" href="Ledger.Ledger.Properties.html#12111" class="Bound">c</a> <a id="12140" class="Symbol">→</a> <a id="12142" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12144" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12156" href="Ledger.Ledger.Properties.html#12109" class="Bound">a</a>
  <a id="12160" href="Ledger.Ledger.Properties.html#12086" class="Function">CredDepIsNotGADep</a> <a id="12178" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12183" class="Symbol">()</a>

  <a id="SetoidProperties.PoolDepIsNotGADep"></a><a id="12189" href="Ledger.Ledger.Properties.html#12189" class="Function">PoolDepIsNotGADep</a> <a id="12207" class="Symbol">:</a> <a id="12209" class="Symbol">∀</a> <a id="12211" class="Symbol">{</a><a id="12212" href="Ledger.Ledger.Properties.html#12212" class="Bound">a</a> <a id="12214" href="Ledger.Ledger.Properties.html#12214" class="Bound">c</a><a id="12215" class="Symbol">}</a> <a id="12217" class="Symbol">→</a> <a id="12219" href="Ledger.Ledger.Properties.html#12212" class="Bound">a</a> <a id="12221" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12223" href="Ledger.Certs.html#369" class="InductiveConstructor">PoolDeposit</a> <a id="12235" href="Ledger.Ledger.Properties.html#12214" class="Bound">c</a> <a id="12237" class="Symbol">→</a> <a id="12239" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12241" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12253" href="Ledger.Ledger.Properties.html#12212" class="Bound">a</a>
  <a id="12257" href="Ledger.Ledger.Properties.html#12189" class="Function">PoolDepIsNotGADep</a> <a id="12275" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12280" class="Symbol">()</a>

  <a id="SetoidProperties.DRepDepIsNotGADep"></a><a id="12286" href="Ledger.Ledger.Properties.html#12286" class="Function">DRepDepIsNotGADep</a> <a id="12304" class="Symbol">:</a> <a id="12306" class="Symbol">∀</a> <a id="12308" class="Symbol">{</a><a id="12309" href="Ledger.Ledger.Properties.html#12309" class="Bound">a</a> <a id="12311" href="Ledger.Ledger.Properties.html#12311" class="Bound">c</a><a id="12312" class="Symbol">}</a> <a id="12314" class="Symbol">→</a> <a id="12316" href="Ledger.Ledger.Properties.html#12309" class="Bound">a</a> <a id="12318" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12320" href="Ledger.Certs.html#422" class="InductiveConstructor">DRepDeposit</a> <a id="12332" href="Ledger.Ledger.Properties.html#12311" class="Bound">c</a> <a id="12334" class="Symbol">→</a> <a id="12336" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="12338" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12350" href="Ledger.Ledger.Properties.html#12309" class="Bound">a</a>
  <a id="12354" href="Ledger.Ledger.Properties.html#12286" class="Function">DRepDepIsNotGADep</a> <a id="12372" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12377" class="Symbol">()</a>

  <a id="SetoidProperties.filterCR"></a><a id="12383" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="12392" class="Symbol">:</a> <a id="12394" class="Symbol">(</a><a id="12395" href="Ledger.Ledger.Properties.html#12395" class="Bound">c</a> <a id="12397" class="Symbol">:</a> <a id="12399" href="Ledger.Certs.html#754" class="Datatype">DCert</a><a id="12404" class="Symbol">)</a> <a id="12406" class="Symbol">(</a><a id="12407" href="Ledger.Ledger.Properties.html#12407" class="Bound">deps</a> <a id="12412" class="Symbol">:</a> <a id="12414" href="Ledger.Certs.html#527" class="Function">Deposits</a><a id="12422" class="Symbol">)</a>
             <a id="12437" class="Symbol">→</a> <a id="12439" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12447" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12459" class="Symbol">(</a><a id="12460" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12464" class="Symbol">(</a> <a id="12466" href="Ledger.Ledger.Properties.html#12407" class="Bound">deps</a> <a id="12471" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12473" href="Ledger.Utxo.html#3941" class="Function">certRefund</a> <a id="12484" href="Ledger.Ledger.Properties.html#12395" class="Bound">c</a> <a id="12486" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a> <a id="12488" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12490" class="Symbol">))</a> <a id="12493" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="12496" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12504" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12516" class="Symbol">(</a><a id="12517" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12521" class="Symbol">(</a><a id="12522" href="Ledger.Ledger.Properties.html#12407" class="Bound">deps</a> <a id="12527" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12528" class="Symbol">))</a>
  <a id="12533" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="12542" class="Symbol">(</a><a id="12543" href="Ledger.Certs.html#848" class="InductiveConstructor">dereg</a> <a id="12549" href="Ledger.Ledger.Properties.html#12549" class="Bound">c</a> <a id="12551" class="Symbol">_)</a> <a id="12554" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12559" class="Symbol">=</a> <a id="12561" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="12568" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12570" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="12580" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12588" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12600" class="Symbol">(</a><a id="12601" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12605" class="Symbol">(</a><a id="12606" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12611" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12612" class="Symbol">))</a> <a id="12615" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="12619" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="12634" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12636" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="12645" class="Symbol">(</a><a id="12646" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="12655" href="Axiom.Set.Properties.html#9285" class="Function">Dec-∈-singleton</a><a id="12670" class="Symbol">)</a> <a id="12672" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="12678" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12686" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12698" class="Symbol">(</a><a id="12699" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12703" class="Symbol">((</a><a id="12705" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12710" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12712" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a><a id="12714" class="Symbol">)</a><a id="12715" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12717" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12719" class="Symbol">(</a><a id="12720" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12725" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12727" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="12730" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12731" class="Symbol">)</a><a id="12732" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12733" class="Symbol">))</a> <a id="12736" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12739" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="12754" href="Axiom.Set.Rel.html#3736" class="Function">dom∪</a> <a id="12759" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12765" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12773" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12785" class="Symbol">(</a><a id="12786" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12790" class="Symbol">((</a><a id="12792" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12797" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12799" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a><a id="12801" class="Symbol">)</a> <a id="12803" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12804" class="Symbol">)</a> <a id="12806" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12808" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12812" class="Symbol">((</a><a id="12814" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12819" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12821" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="12824" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12825" class="Symbol">)</a> <a id="12827" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12829" class="Symbol">))</a> <a id="12832" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12835" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="12848" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12854" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12862" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12874" class="Symbol">(</a><a id="12875" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12879" class="Symbol">((</a><a id="12881" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12886" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12888" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a><a id="12890" class="Symbol">)</a> <a id="12892" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12893" class="Symbol">))</a> <a id="12896" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12898" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12906" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12918" class="Symbol">(</a><a id="12919" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12923" class="Symbol">((</a><a id="12925" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="12930" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="12932" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="12935" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="12936" class="Symbol">)</a> <a id="12938" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12940" class="Symbol">))</a> <a id="12943" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12946" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="12953" href="Ledger.Ledger.Properties.html#13185" class="Function">filter0</a> <a id="12961" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="12969" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12975" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="12977" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12979" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12987" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="12999" class="Symbol">(</a><a id="13000" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13004" class="Symbol">((</a><a id="13006" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="13011" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13013" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="13016" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13017" class="Symbol">)</a> <a id="13019" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13021" class="Symbol">))</a> <a id="13024" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13027" href="Axiom.Set.Properties.html#11917" class="Function">∪-identityˡ</a> <a id="13039" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13041" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13049" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13061" class="Symbol">(</a><a id="13062" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13066" class="Symbol">((</a><a id="13068" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="13073" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13075" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="13078" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13079" class="Symbol">)</a> <a id="13081" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13083" class="Symbol">))</a> <a id="13086" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13092" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13100" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13112" class="Symbol">(</a><a id="13113" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13117" class="Symbol">((</a><a id="13119" href="Ledger.Ledger.Properties.html#12554" class="Bound">deps</a> <a id="13124" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13126" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="13129" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13130" class="Symbol">)</a> <a id="13132" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13133" class="Symbol">))</a> <a id="13136" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="13142" class="Keyword">where</a>
    <a id="13152" href="Ledger.Ledger.Properties.html#13152" class="Function">cr</a> <a id="13155" class="Symbol">=</a> <a id="13157" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="13159" href="Ledger.Certs.html#316" class="InductiveConstructor">CredentialDeposit</a> <a id="13177" href="Ledger.Ledger.Properties.html#12549" class="Bound">c</a> <a id="13179" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
    <a id="13185" href="Ledger.Ledger.Properties.html#13185" class="Function">filter0</a> <a id="13193" class="Symbol">=</a> <a id="13195" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="13204" class="Symbol">(λ</a> <a id="13207" href="Ledger.Ledger.Properties.html#13207" class="Bound">_</a> <a id="13209" class="Symbol">→</a> <a id="13211" href="Ledger.Ledger.Properties.html#12086" class="Function">CredDepIsNotGADep</a> <a id="13229" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13231" class="Symbol">(</a><a id="13232" href="Function.Bundles.html#4834" class="Field">from</a> <a id="13237" href="Axiom.Set.html#6243" class="Function">∈-singleton</a><a id="13248" class="Symbol">)</a> <a id="13250" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13252" href="Axiom.Set.Rel.html#6681" class="Function">res-dom</a><a id="13259" class="Symbol">)</a>
  <a id="13263" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="13272" class="Symbol">(</a><a id="13273" href="Ledger.Certs.html#1032" class="InductiveConstructor">deregdrep</a> <a id="13283" href="Ledger.Ledger.Properties.html#13283" class="Bound">c</a> <a id="13285" class="Symbol">_)</a> <a id="13288" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13293" class="Symbol">=</a> <a id="13295" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="13302" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13304" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="13314" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13322" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13334" class="Symbol">(</a><a id="13335" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13339" class="Symbol">(</a><a id="13340" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13345" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13346" class="Symbol">))</a> <a id="13349" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="13353" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="13368" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13370" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="13379" class="Symbol">(</a><a id="13380" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="13389" href="Axiom.Set.Properties.html#9285" class="Function">Dec-∈-singleton</a><a id="13404" class="Symbol">)</a> <a id="13406" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="13412" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13420" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13432" class="Symbol">(</a><a id="13433" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13437" class="Symbol">((</a><a id="13439" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13444" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="13446" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a><a id="13448" class="Symbol">)</a><a id="13449" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13451" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13453" class="Symbol">(</a><a id="13454" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13459" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13461" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13464" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13465" class="Symbol">)</a><a id="13466" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13467" class="Symbol">))</a> <a id="13470" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13473" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="13488" href="Axiom.Set.Rel.html#3736" class="Function">dom∪</a> <a id="13493" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13499" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13507" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13519" class="Symbol">(</a><a id="13520" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13524" class="Symbol">((</a><a id="13526" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13531" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="13533" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a><a id="13535" class="Symbol">)</a> <a id="13537" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13538" class="Symbol">)</a> <a id="13540" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13542" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13546" class="Symbol">((</a><a id="13548" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13553" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13555" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13558" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13559" class="Symbol">)</a> <a id="13561" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13563" class="Symbol">))</a> <a id="13566" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13569" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="13582" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13588" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13596" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13608" class="Symbol">(</a><a id="13609" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13613" class="Symbol">((</a><a id="13615" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13620" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="13622" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a><a id="13624" class="Symbol">)</a> <a id="13626" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13627" class="Symbol">))</a> <a id="13630" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13632" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13640" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13652" class="Symbol">(</a><a id="13653" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13657" class="Symbol">((</a><a id="13659" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13664" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13666" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13669" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13670" class="Symbol">)</a> <a id="13672" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13674" class="Symbol">))</a> <a id="13677" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13680" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="13687" href="Ledger.Ledger.Properties.html#13913" class="Function">filter0</a> <a id="13695" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="13703" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13709" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="13711" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13713" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13721" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13733" class="Symbol">(</a><a id="13734" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13738" class="Symbol">((</a><a id="13740" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13745" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13747" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13750" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13751" class="Symbol">)</a> <a id="13753" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13755" class="Symbol">))</a> <a id="13758" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13761" href="Axiom.Set.Properties.html#11917" class="Function">∪-identityˡ</a> <a id="13773" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13775" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13783" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13795" class="Symbol">(</a><a id="13796" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13800" class="Symbol">((</a><a id="13802" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13807" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13809" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13812" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13813" class="Symbol">)</a> <a id="13815" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13817" class="Symbol">))</a> <a id="13820" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13826" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13834" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="13846" class="Symbol">(</a><a id="13847" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13851" class="Symbol">((</a><a id="13853" href="Ledger.Ledger.Properties.html#13288" class="Bound">deps</a> <a id="13858" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13860" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13863" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13864" class="Symbol">)</a> <a id="13866" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13867" class="Symbol">))</a> <a id="13870" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="13876" class="Keyword">where</a>
    <a id="13886" href="Ledger.Ledger.Properties.html#13886" class="Function">cr</a> <a id="13889" class="Symbol">=</a> <a id="13891" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="13893" href="Ledger.Certs.html#422" class="InductiveConstructor">DRepDeposit</a> <a id="13905" href="Ledger.Ledger.Properties.html#13283" class="Bound">c</a> <a id="13907" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
    <a id="13913" href="Ledger.Ledger.Properties.html#13913" class="Function">filter0</a> <a id="13921" class="Symbol">=</a> <a id="13923" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="13932" class="Symbol">(λ</a> <a id="13935" href="Ledger.Ledger.Properties.html#13935" class="Bound">_</a> <a id="13937" class="Symbol">→</a> <a id="13939" href="Ledger.Ledger.Properties.html#12286" class="Function">DRepDepIsNotGADep</a> <a id="13957" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13959" class="Symbol">(</a><a id="13960" href="Function.Bundles.html#4834" class="Field">from</a> <a id="13965" href="Axiom.Set.html#6243" class="Function">∈-singleton</a><a id="13976" class="Symbol">)</a> <a id="13978" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="13980" href="Axiom.Set.Rel.html#6681" class="Function">res-dom</a><a id="13987" class="Symbol">)</a>
  <a id="13991" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="14000" class="Symbol">(</a><a id="14001" href="Ledger.Certs.html#775" class="InductiveConstructor">delegate</a> <a id="14010" class="Symbol">_</a> <a id="14012" class="Symbol">_</a> <a id="14014" class="Symbol">_</a> <a id="14016" class="Symbol">_)</a>  <a id="14020" href="Ledger.Ledger.Properties.html#14020" class="Bound">deps</a> <a id="14025" class="Symbol">=</a> <a id="14027" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14042" class="Symbol">(</a><a id="14043" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14052" class="Symbol">(</a><a id="14053" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14061" class="Symbol">{</a><a id="14062" class="Argument">M</a> <a id="14064" class="Symbol">=</a> <a id="14066" href="Ledger.Ledger.Properties.html#14020" class="Bound">deps</a><a id="14070" class="Symbol">}))</a>
  <a id="14076" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="14085" class="Symbol">(</a><a id="14086" href="Ledger.Certs.html#896" class="InductiveConstructor">regpool</a> <a id="14094" class="Symbol">_</a> <a id="14096" class="Symbol">_)</a>       <a id="14105" href="Ledger.Ledger.Properties.html#14105" class="Bound">deps</a> <a id="14110" class="Symbol">=</a> <a id="14112" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14127" class="Symbol">(</a><a id="14128" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14137" class="Symbol">(</a><a id="14138" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14146" class="Symbol">{</a><a id="14147" class="Argument">M</a> <a id="14149" class="Symbol">=</a> <a id="14151" href="Ledger.Ledger.Properties.html#14105" class="Bound">deps</a><a id="14155" class="Symbol">}))</a>
  <a id="14161" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="14170" class="Symbol">(</a><a id="14171" href="Ledger.Certs.html#981" class="InductiveConstructor">regdrep</a> <a id="14179" class="Symbol">_</a> <a id="14181" class="Symbol">_</a> <a id="14183" class="Symbol">_)</a>     <a id="14190" href="Ledger.Ledger.Properties.html#14190" class="Bound">deps</a> <a id="14195" class="Symbol">=</a> <a id="14197" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14212" class="Symbol">(</a><a id="14213" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14222" class="Symbol">(</a><a id="14223" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14231" class="Symbol">{</a><a id="14232" class="Argument">M</a> <a id="14234" class="Symbol">=</a> <a id="14236" href="Ledger.Ledger.Properties.html#14190" class="Bound">deps</a><a id="14240" class="Symbol">}))</a>
  <a id="14246" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="14255" class="Symbol">(</a><a id="14256" href="Ledger.Certs.html#941" class="InductiveConstructor">retirepool</a> <a id="14267" class="Symbol">_</a> <a id="14269" class="Symbol">_)</a>    <a id="14275" href="Ledger.Ledger.Properties.html#14275" class="Bound">deps</a> <a id="14280" class="Symbol">=</a> <a id="14282" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14297" class="Symbol">(</a><a id="14298" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14307" class="Symbol">(</a><a id="14308" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14316" class="Symbol">{</a><a id="14317" class="Argument">M</a> <a id="14319" class="Symbol">=</a> <a id="14321" href="Ledger.Ledger.Properties.html#14275" class="Bound">deps</a><a id="14325" class="Symbol">}))</a>
  <a id="14331" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="14340" class="Symbol">(</a><a id="14341" href="Ledger.Certs.html#1074" class="InductiveConstructor">ccreghot</a> <a id="14350" class="Symbol">_</a> <a id="14352" class="Symbol">_)</a>      <a id="14360" href="Ledger.Ledger.Properties.html#14360" class="Bound">deps</a> <a id="14365" class="Symbol">=</a> <a id="14367" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14382" class="Symbol">(</a><a id="14383" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14392" class="Symbol">(</a><a id="14393" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14401" class="Symbol">{</a><a id="14402" class="Argument">M</a> <a id="14404" class="Symbol">=</a> <a id="14406" href="Ledger.Ledger.Properties.html#14360" class="Bound">deps</a><a id="14410" class="Symbol">}))</a>
  <a id="14416" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="14425" class="Symbol">(</a><a id="14426" href="Ledger.Certs.html#1461" class="InductiveConstructor">reg</a> <a id="14430" class="Symbol">_</a> <a id="14432" class="Symbol">_)</a>           <a id="14445" href="Ledger.Ledger.Properties.html#14445" class="Bound">deps</a> <a id="14450" class="Symbol">=</a> <a id="14452" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="14467" class="Symbol">(</a><a id="14468" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="14477" class="Symbol">(</a><a id="14478" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="14486" class="Symbol">{</a><a id="14487" class="Argument">M</a> <a id="14489" class="Symbol">=</a> <a id="14491" href="Ledger.Ledger.Properties.html#14445" class="Bound">deps</a><a id="14495" class="Symbol">}))</a>

  <a id="SetoidProperties.filterCD"></a><a id="14502" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="14511" class="Symbol">:</a> <a id="14513" class="Symbol">(</a><a id="14514" href="Ledger.Ledger.Properties.html#14514" class="Bound">c</a> <a id="14516" class="Symbol">:</a> <a id="14518" href="Ledger.Certs.html#754" class="Datatype">DCert</a><a id="14523" class="Symbol">)</a> <a id="14525" class="Symbol">(</a><a id="14526" href="Ledger.Ledger.Properties.html#14526" class="Bound">deps</a> <a id="14531" class="Symbol">:</a> <a id="14533" href="Ledger.Certs.html#527" class="Function">Deposits</a><a id="14541" class="Symbol">)</a> <a id="14543" class="Symbol">→</a> <a id="14545" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="14553" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="14565" class="Symbol">(</a><a id="14566" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14570" class="Symbol">(</a><a id="14571" href="Ledger.Utxo.html#3584" class="Function">certDeposit</a> <a id="14583" href="Ledger.Ledger.Properties.html#14514" class="Bound">c</a> <a id="14585" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="14588" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="14589" class="Symbol">))</a> <a id="14592" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="14595" href="Class.HasEmptySet.html#287" class="Field">∅</a>
  <a id="14599" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="14608" class="Symbol">(</a><a id="14609" href="Ledger.Certs.html#775" class="InductiveConstructor">delegate</a> <a id="14618" class="Symbol">_</a> <a id="14620" class="Symbol">_</a> <a id="14622" class="Symbol">_</a> <a id="14624" class="Symbol">_)</a>  <a id="14628" href="Ledger.Ledger.Properties.html#14628" class="Bound">deps</a> <a id="14633" class="Symbol">=</a> <a id="14635" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="14644" class="Symbol">λ</a> <a id="14646" href="Ledger.Ledger.Properties.html#14646" class="Bound">_</a> <a id="14648" class="Symbol">→</a> <a id="14650" href="Ledger.Ledger.Properties.html#12086" class="Function">CredDepIsNotGADep</a> <a id="14668" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14670" href="Function.Bundles.html#4834" class="Field">from</a> <a id="14675" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="14687" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14689" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="14709" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="14718" class="Symbol">(</a><a id="14719" href="Ledger.Certs.html#1461" class="InductiveConstructor">reg</a> <a id="14723" class="Symbol">_</a> <a id="14725" class="Symbol">_)</a>           <a id="14738" href="Ledger.Ledger.Properties.html#14738" class="Bound">deps</a> <a id="14743" class="Symbol">=</a> <a id="14745" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="14754" class="Symbol">λ</a> <a id="14756" href="Ledger.Ledger.Properties.html#14756" class="Bound">_</a> <a id="14758" class="Symbol">→</a> <a id="14760" href="Ledger.Ledger.Properties.html#12086" class="Function">CredDepIsNotGADep</a> <a id="14778" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14780" href="Function.Bundles.html#4834" class="Field">from</a> <a id="14785" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="14797" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14799" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="14819" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="14828" class="Symbol">(</a><a id="14829" href="Ledger.Certs.html#896" class="InductiveConstructor">regpool</a> <a id="14837" class="Symbol">_</a> <a id="14839" class="Symbol">_)</a>       <a id="14848" href="Ledger.Ledger.Properties.html#14848" class="Bound">deps</a> <a id="14853" class="Symbol">=</a> <a id="14855" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="14864" class="Symbol">λ</a> <a id="14866" href="Ledger.Ledger.Properties.html#14866" class="Bound">_</a> <a id="14868" class="Symbol">→</a> <a id="14870" href="Ledger.Ledger.Properties.html#12189" class="Function">PoolDepIsNotGADep</a> <a id="14888" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14890" href="Function.Bundles.html#4834" class="Field">from</a> <a id="14895" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="14907" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14909" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="14929" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="14938" class="Symbol">(</a><a id="14939" href="Ledger.Certs.html#981" class="InductiveConstructor">regdrep</a> <a id="14947" class="Symbol">_</a> <a id="14949" class="Symbol">_</a> <a id="14951" class="Symbol">_)</a>     <a id="14958" href="Ledger.Ledger.Properties.html#14958" class="Bound">deps</a> <a id="14963" class="Symbol">=</a> <a id="14965" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="14974" class="Symbol">λ</a> <a id="14976" href="Ledger.Ledger.Properties.html#14976" class="Bound">_</a> <a id="14978" class="Symbol">→</a> <a id="14980" href="Ledger.Ledger.Properties.html#12286" class="Function">DRepDepIsNotGADep</a> <a id="14998" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="15000" href="Function.Bundles.html#4834" class="Field">from</a> <a id="15005" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="15017" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="15019" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="15039" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="15048" class="Symbol">(</a><a id="15049" href="Ledger.Certs.html#848" class="InductiveConstructor">dereg</a> <a id="15055" class="Symbol">_</a> <a id="15057" class="Symbol">_)</a>         <a id="15068" href="Ledger.Ledger.Properties.html#15068" class="Bound">deps</a> <a id="15073" class="Symbol">=</a> <a id="15075" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="15084" class="Symbol">(</a><a id="15085" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15100" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="15104" class="Symbol">)</a> <a id="15106" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15108" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="15117" class="Symbol">λ</a> <a id="15119" href="Ledger.Ledger.Properties.html#15119" class="Bound">_</a> <a id="15121" href="Ledger.Ledger.Properties.html#15121" class="Bound">a∈</a> <a id="15124" href="Ledger.Ledger.Properties.html#15124" class="Bound">_</a> <a id="15126" class="Symbol">→</a> <a id="15128" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="15132" href="Ledger.Ledger.Properties.html#15121" class="Bound">a∈</a>
  <a id="15137" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="15146" class="Symbol">(</a><a id="15147" href="Ledger.Certs.html#941" class="InductiveConstructor">retirepool</a> <a id="15158" class="Symbol">_</a> <a id="15160" class="Symbol">_)</a>    <a id="15166" href="Ledger.Ledger.Properties.html#15166" class="Bound">deps</a> <a id="15171" class="Symbol">=</a> <a id="15173" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="15182" class="Symbol">(</a><a id="15183" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15198" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="15202" class="Symbol">)</a> <a id="15204" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15206" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="15215" class="Symbol">λ</a> <a id="15217" href="Ledger.Ledger.Properties.html#15217" class="Bound">_</a> <a id="15219" href="Ledger.Ledger.Properties.html#15219" class="Bound">a∈</a> <a id="15222" href="Ledger.Ledger.Properties.html#15222" class="Bound">_</a> <a id="15224" class="Symbol">→</a> <a id="15226" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="15230" href="Ledger.Ledger.Properties.html#15219" class="Bound">a∈</a>
  <a id="15235" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="15244" class="Symbol">(</a><a id="15245" href="Ledger.Certs.html#1032" class="InductiveConstructor">deregdrep</a> <a id="15255" class="Symbol">_</a> <a id="15257" class="Symbol">_)</a>     <a id="15264" href="Ledger.Ledger.Properties.html#15264" class="Bound">deps</a> <a id="15269" class="Symbol">=</a> <a id="15271" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="15280" class="Symbol">(</a><a id="15281" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15296" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="15300" class="Symbol">)</a> <a id="15302" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15304" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="15313" class="Symbol">λ</a> <a id="15315" href="Ledger.Ledger.Properties.html#15315" class="Bound">_</a> <a id="15317" href="Ledger.Ledger.Properties.html#15317" class="Bound">a∈</a> <a id="15320" href="Ledger.Ledger.Properties.html#15320" class="Bound">_</a> <a id="15322" class="Symbol">→</a> <a id="15324" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="15328" href="Ledger.Ledger.Properties.html#15317" class="Bound">a∈</a>
  <a id="15333" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="15342" class="Symbol">(</a><a id="15343" href="Ledger.Certs.html#1074" class="InductiveConstructor">ccreghot</a> <a id="15352" class="Symbol">_</a> <a id="15354" class="Symbol">_)</a>      <a id="15362" href="Ledger.Ledger.Properties.html#15362" class="Bound">deps</a> <a id="15367" class="Symbol">=</a> <a id="15369" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="15378" class="Symbol">(</a><a id="15379" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15394" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="15398" class="Symbol">)</a> <a id="15400" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15402" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="15411" class="Symbol">λ</a> <a id="15413" href="Ledger.Ledger.Properties.html#15413" class="Bound">_</a> <a id="15415" href="Ledger.Ledger.Properties.html#15415" class="Bound">a∈</a> <a id="15418" href="Ledger.Ledger.Properties.html#15418" class="Bound">_</a> <a id="15420" class="Symbol">→</a> <a id="15422" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="15426" href="Ledger.Ledger.Properties.html#15415" class="Bound">a∈</a>

  <a id="SetoidProperties.noGACerts"></a><a id="15432" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="15442" class="Symbol">:</a> <a id="15444" class="Symbol">(</a><a id="15445" href="Ledger.Ledger.Properties.html#15445" class="Bound">cs</a> <a id="15448" class="Symbol">:</a> <a id="15450" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="15455" href="Ledger.Certs.html#754" class="Datatype">DCert</a><a id="15460" class="Symbol">)</a> <a id="15462" class="Symbol">(</a><a id="15463" href="Ledger.Ledger.Properties.html#15463" class="Bound">deps</a> <a id="15468" class="Symbol">:</a> <a id="15470" href="Ledger.Certs.html#527" class="Function">Deposits</a><a id="15478" class="Symbol">)</a>
    <a id="15484" class="Symbol">→</a> <a id="15486" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15494" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15506" class="Symbol">(</a><a id="15507" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15511" class="Symbol">(</a><a id="15512" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="15531" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="15534" href="Ledger.Ledger.Properties.html#15445" class="Bound">cs</a> <a id="15537" href="Ledger.Ledger.Properties.html#15463" class="Bound">deps</a><a id="15541" class="Symbol">))</a> <a id="15544" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="15547" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15555" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15567" class="Symbol">(</a><a id="15568" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15572" href="Ledger.Ledger.Properties.html#15463" class="Bound">deps</a><a id="15576" class="Symbol">)</a>
  <a id="15580" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="15590" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="15593" class="Symbol">_</a> <a id="15595" class="Symbol">=</a> <a id="15597" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15612" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a>
  <a id="15622" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="15632" class="Symbol">(</a><a id="15633" href="Ledger.Ledger.Properties.html#15633" class="Bound">dcert</a><a id="15638" class="Symbol">@(</a><a id="15640" href="Ledger.Certs.html#775" class="InductiveConstructor">delegate</a> <a id="15649" class="Symbol">_</a> <a id="15651" class="Symbol">_</a> <a id="15653" class="Symbol">_</a> <a id="15655" class="Symbol">_)</a> <a id="15658" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15660" href="Ledger.Ledger.Properties.html#15660" class="Bound">cs</a><a id="15662" class="Symbol">)</a> <a id="15664" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a> <a id="15669" class="Symbol">=</a> <a id="15671" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="15681" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15689" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15701" class="Symbol">(</a><a id="15702" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15706" class="Symbol">(</a><a id="15707" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="15726" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="15729" href="Ledger.Ledger.Properties.html#15660" class="Bound">cs</a> <a id="15732" class="Symbol">(</a><a id="15733" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a> <a id="15738" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="15741" href="Ledger.Ledger.Properties.html#16162" class="Function">cd</a><a id="15743" class="Symbol">)))</a> <a id="15747" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15750" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="15760" href="Ledger.Ledger.Properties.html#15660" class="Bound">cs</a> <a id="15763" class="Symbol">_</a> <a id="15765" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="15771" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15779" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15791" class="Symbol">(</a><a id="15792" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15796" class="Symbol">(</a><a id="15797" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a> <a id="15802" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="15805" href="Ledger.Ledger.Properties.html#16162" class="Function">cd</a><a id="15807" class="Symbol">))</a> <a id="15810" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15813" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="15828" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="15839" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="15845" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15853" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15865" class="Symbol">(</a><a id="15866" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15870" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a> <a id="15875" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="15877" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15881" class="Symbol">(</a><a id="15882" href="Ledger.Ledger.Properties.html#16162" class="Function">cd</a> <a id="15885" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="15887" class="Symbol">))</a> <a id="15890" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15893" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="15906" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="15912" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15920" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15932" class="Symbol">(</a><a id="15933" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15937" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a><a id="15941" class="Symbol">)</a> <a id="15943" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="15945" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="15953" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="15965" class="Symbol">(</a><a id="15966" href="Class.IsSet.html#916" class="Function">dom</a> <a id="15970" class="Symbol">(</a><a id="15971" href="Ledger.Ledger.Properties.html#16162" class="Function">cd</a> <a id="15974" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="15975" class="Symbol">))</a> <a id="15978" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15981" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="15988" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="15996" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15998" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="16007" href="Ledger.Ledger.Properties.html#15633" class="Bound">dcert</a> <a id="16013" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a> <a id="16018" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16024" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16032" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16044" class="Symbol">(</a><a id="16045" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16049" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a><a id="16053" class="Symbol">)</a> <a id="16055" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16057" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="16059" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16062" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="16074" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16076" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16084" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16096" class="Symbol">(</a><a id="16097" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16101" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a><a id="16105" class="Symbol">)</a> <a id="16107" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16113" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16121" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16133" class="Symbol">(</a><a id="16134" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16138" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a><a id="16142" class="Symbol">)</a> <a id="16144" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="16150" class="Keyword">where</a>
      <a id="16162" href="Ledger.Ledger.Properties.html#16162" class="Function">cd</a> <a id="16165" class="Symbol">=</a> <a id="16167" href="Ledger.Utxo.html#3584" class="Function">certDeposit</a> <a id="16179" href="Ledger.Ledger.Properties.html#15633" class="Bound">dcert</a> <a id="16185" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a>
      <a id="16194" href="Ledger.Ledger.Properties.html#16194" class="Function">filter0</a> <a id="16202" class="Symbol">=</a> <a id="16204" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="16213" href="Ledger.Ledger.Properties.html#15633" class="Bound">dcert</a> <a id="16219" href="Ledger.Ledger.Properties.html#15664" class="Bound">deps</a>
  <a id="16226" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="16236" class="Symbol">(</a><a id="16237" href="Ledger.Ledger.Properties.html#16237" class="Bound">dcert</a><a id="16242" class="Symbol">@(</a><a id="16244" href="Ledger.Certs.html#1461" class="InductiveConstructor">reg</a> <a id="16248" class="Symbol">_</a> <a id="16250" class="Symbol">_)</a> <a id="16253" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16255" href="Ledger.Ledger.Properties.html#16255" class="Bound">cs</a><a id="16257" class="Symbol">)</a> <a id="16259" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a> <a id="16264" class="Symbol">=</a> <a id="16266" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16276" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16284" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16296" class="Symbol">(</a><a id="16297" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16301" class="Symbol">(</a><a id="16302" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="16321" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="16324" href="Ledger.Ledger.Properties.html#16255" class="Bound">cs</a> <a id="16327" class="Symbol">(</a><a id="16328" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a> <a id="16333" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="16336" href="Ledger.Ledger.Properties.html#16757" class="Function">cd</a><a id="16338" class="Symbol">)))</a> <a id="16342" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16345" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="16355" href="Ledger.Ledger.Properties.html#16255" class="Bound">cs</a> <a id="16358" class="Symbol">_</a> <a id="16360" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16366" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16374" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16386" class="Symbol">(</a><a id="16387" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16391" class="Symbol">(</a><a id="16392" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a> <a id="16397" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="16400" href="Ledger.Ledger.Properties.html#16757" class="Function">cd</a><a id="16402" class="Symbol">))</a> <a id="16405" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16408" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="16423" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="16434" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16440" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16448" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16460" class="Symbol">(</a><a id="16461" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16465" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a> <a id="16470" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16472" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16476" class="Symbol">(</a><a id="16477" href="Ledger.Ledger.Properties.html#16757" class="Function">cd</a> <a id="16480" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="16482" class="Symbol">))</a> <a id="16485" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16488" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="16501" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16507" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16515" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16527" class="Symbol">(</a><a id="16528" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16532" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a><a id="16536" class="Symbol">)</a> <a id="16538" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16540" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16548" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16560" class="Symbol">(</a><a id="16561" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16565" class="Symbol">(</a><a id="16566" href="Ledger.Ledger.Properties.html#16757" class="Function">cd</a> <a id="16569" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="16570" class="Symbol">))</a> <a id="16573" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16576" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="16583" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="16591" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16593" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="16602" href="Ledger.Ledger.Properties.html#16237" class="Bound">dcert</a> <a id="16608" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a> <a id="16613" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16619" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16627" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16639" class="Symbol">(</a><a id="16640" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16644" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a><a id="16648" class="Symbol">)</a> <a id="16650" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16652" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="16654" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16657" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="16669" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16671" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16679" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16691" class="Symbol">(</a><a id="16692" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16696" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a><a id="16700" class="Symbol">)</a> <a id="16702" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16708" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16716" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16728" class="Symbol">(</a><a id="16729" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16733" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a><a id="16737" class="Symbol">)</a> <a id="16739" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="16745" class="Keyword">where</a>
      <a id="16757" href="Ledger.Ledger.Properties.html#16757" class="Function">cd</a> <a id="16760" class="Symbol">=</a> <a id="16762" href="Ledger.Utxo.html#3584" class="Function">certDeposit</a> <a id="16774" href="Ledger.Ledger.Properties.html#16237" class="Bound">dcert</a> <a id="16780" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a>
      <a id="16789" href="Ledger.Ledger.Properties.html#16789" class="Function">filter0</a> <a id="16797" class="Symbol">=</a> <a id="16799" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="16808" href="Ledger.Ledger.Properties.html#16237" class="Bound">dcert</a> <a id="16814" href="Ledger.Ledger.Properties.html#16259" class="Bound">deps</a>
  <a id="16821" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="16831" class="Symbol">(</a><a id="16832" href="Ledger.Ledger.Properties.html#16832" class="Bound">dcert</a><a id="16837" class="Symbol">@(</a><a id="16839" href="Ledger.Certs.html#896" class="InductiveConstructor">regpool</a> <a id="16847" class="Symbol">_</a> <a id="16849" class="Symbol">_)</a> <a id="16852" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16854" href="Ledger.Ledger.Properties.html#16854" class="Bound">cs</a><a id="16856" class="Symbol">)</a> <a id="16858" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a> <a id="16863" class="Symbol">=</a> <a id="16865" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16875" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16883" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16895" class="Symbol">(</a><a id="16896" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16900" class="Symbol">(</a><a id="16901" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="16920" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="16923" href="Ledger.Ledger.Properties.html#16854" class="Bound">cs</a> <a id="16926" class="Symbol">(</a><a id="16927" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a> <a id="16932" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="16935" href="Ledger.Ledger.Properties.html#17342" class="Function">cd</a><a id="16937" class="Symbol">)))</a> <a id="16941" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16944" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="16954" href="Ledger.Ledger.Properties.html#16854" class="Bound">cs</a> <a id="16957" class="Symbol">_</a> <a id="16959" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="16965" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="16973" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="16985" class="Symbol">(</a><a id="16986" href="Class.IsSet.html#916" class="Function">dom</a> <a id="16990" class="Symbol">(</a><a id="16991" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a> <a id="16996" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="16999" href="Ledger.Ledger.Properties.html#17342" class="Function">cd</a><a id="17001" class="Symbol">))</a> <a id="17004" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17007" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="17022" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="17033" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17039" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17047" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17059" class="Symbol">(</a><a id="17060" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17064" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a> <a id="17069" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17071" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17075" class="Symbol">(</a><a id="17076" href="Ledger.Ledger.Properties.html#17342" class="Function">cd</a> <a id="17079" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="17081" class="Symbol">))</a> <a id="17084" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17087" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="17100" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17106" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17114" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17126" class="Symbol">(</a><a id="17127" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17131" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a><a id="17135" class="Symbol">)</a> <a id="17137" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17139" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17147" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17159" class="Symbol">(</a><a id="17160" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17164" class="Symbol">(</a><a id="17165" href="Ledger.Ledger.Properties.html#17342" class="Function">cd</a> <a id="17168" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="17169" class="Symbol">))</a> <a id="17172" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17175" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="17182" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="17190" href="Ledger.Ledger.Properties.html#17374" class="Function">filter0</a> <a id="17198" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17204" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17212" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17224" class="Symbol">(</a><a id="17225" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17229" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a><a id="17233" class="Symbol">)</a> <a id="17235" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17237" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="17239" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17242" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="17254" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17256" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17264" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17276" class="Symbol">(</a><a id="17277" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17281" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a><a id="17285" class="Symbol">)</a> <a id="17287" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17293" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17301" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17313" class="Symbol">(</a><a id="17314" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17318" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a><a id="17322" class="Symbol">)</a> <a id="17324" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="17330" class="Keyword">where</a>
      <a id="17342" href="Ledger.Ledger.Properties.html#17342" class="Function">cd</a> <a id="17345" class="Symbol">=</a> <a id="17347" href="Ledger.Utxo.html#3584" class="Function">certDeposit</a> <a id="17359" href="Ledger.Ledger.Properties.html#16832" class="Bound">dcert</a> <a id="17365" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a>
      <a id="17374" href="Ledger.Ledger.Properties.html#17374" class="Function">filter0</a> <a id="17382" class="Symbol">=</a> <a id="17384" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="17393" href="Ledger.Ledger.Properties.html#16832" class="Bound">dcert</a> <a id="17399" href="Ledger.Ledger.Properties.html#16858" class="Bound">deps</a>
  <a id="17406" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="17416" class="Symbol">(</a><a id="17417" href="Ledger.Ledger.Properties.html#17417" class="Bound">dcert</a><a id="17422" class="Symbol">@(</a><a id="17424" href="Ledger.Certs.html#981" class="InductiveConstructor">regdrep</a> <a id="17432" class="Symbol">_</a> <a id="17434" class="Symbol">_</a> <a id="17436" class="Symbol">_)</a> <a id="17439" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17441" href="Ledger.Ledger.Properties.html#17441" class="Bound">cs</a><a id="17443" class="Symbol">)</a> <a id="17445" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a> <a id="17450" class="Symbol">=</a> <a id="17452" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="17462" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17470" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17482" class="Symbol">(</a><a id="17483" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17487" class="Symbol">(</a><a id="17488" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="17507" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="17510" href="Ledger.Ledger.Properties.html#17441" class="Bound">cs</a> <a id="17513" class="Symbol">(</a><a id="17514" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a> <a id="17519" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="17522" href="Ledger.Utxo.html#3584" class="Function">certDeposit</a> <a id="17534" href="Ledger.Ledger.Properties.html#17417" class="Bound">dcert</a> <a id="17540" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a><a id="17542" class="Symbol">)))</a> <a id="17546" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17549" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="17559" href="Ledger.Ledger.Properties.html#17441" class="Bound">cs</a> <a id="17562" class="Symbol">_</a> <a id="17564" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17570" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17578" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17590" class="Symbol">(</a><a id="17591" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17595" class="Symbol">(</a><a id="17596" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a> <a id="17601" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="17604" href="Ledger.Ledger.Properties.html#17947" class="Function">cd</a><a id="17606" class="Symbol">))</a> <a id="17609" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17612" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="17627" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="17638" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17644" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17652" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17664" class="Symbol">(</a><a id="17665" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17669" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a> <a id="17674" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17676" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17680" class="Symbol">(</a><a id="17681" href="Ledger.Ledger.Properties.html#17947" class="Function">cd</a> <a id="17684" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="17686" class="Symbol">))</a> <a id="17689" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17692" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="17705" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17711" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17719" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17731" class="Symbol">(</a><a id="17732" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17736" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a><a id="17740" class="Symbol">)</a> <a id="17742" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17744" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17752" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17764" class="Symbol">(</a><a id="17765" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17769" class="Symbol">(</a><a id="17770" href="Ledger.Ledger.Properties.html#17947" class="Function">cd</a> <a id="17773" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="17774" class="Symbol">))</a> <a id="17777" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17780" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="17787" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="17795" href="Ledger.Ledger.Properties.html#17979" class="Function">filter0</a> <a id="17803" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17809" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17817" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17829" class="Symbol">(</a><a id="17830" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17834" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a><a id="17838" class="Symbol">)</a> <a id="17840" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17842" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="17844" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17847" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="17859" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17861" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17869" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17881" class="Symbol">(</a><a id="17882" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17886" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a><a id="17890" class="Symbol">)</a> <a id="17892" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="17898" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="17906" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="17918" class="Symbol">(</a><a id="17919" href="Class.IsSet.html#916" class="Function">dom</a> <a id="17923" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a><a id="17927" class="Symbol">)</a> <a id="17929" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="17935" class="Keyword">where</a>
      <a id="17947" href="Ledger.Ledger.Properties.html#17947" class="Function">cd</a> <a id="17950" class="Symbol">=</a> <a id="17952" href="Ledger.Utxo.html#3584" class="Function">certDeposit</a> <a id="17964" href="Ledger.Ledger.Properties.html#17417" class="Bound">dcert</a> <a id="17970" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a>
      <a id="17979" href="Ledger.Ledger.Properties.html#17979" class="Function">filter0</a> <a id="17987" class="Symbol">=</a> <a id="17989" href="Ledger.Ledger.Properties.html#14502" class="Function">filterCD</a> <a id="17998" href="Ledger.Ledger.Properties.html#17417" class="Bound">dcert</a> <a id="18004" href="Ledger.Ledger.Properties.html#17445" class="Bound">deps</a>
  <a id="18011" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18021" class="Symbol">(</a><a id="18022" href="Ledger.Ledger.Properties.html#18022" class="Bound">dcert</a><a id="18027" class="Symbol">@(</a><a id="18029" href="Ledger.Certs.html#848" class="InductiveConstructor">dereg</a> <a id="18035" href="Ledger.Ledger.Properties.html#18035" class="Bound">c</a> <a id="18037" href="Ledger.Ledger.Properties.html#18037" class="Bound">v</a><a id="18038" class="Symbol">)</a> <a id="18040" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18042" href="Ledger.Ledger.Properties.html#18042" class="Bound">cs</a><a id="18044" class="Symbol">)</a> <a id="18046" href="Ledger.Ledger.Properties.html#18046" class="Bound">deps</a> <a id="18051" class="Symbol">=</a> <a id="18053" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="18063" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18071" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="18083" class="Symbol">(</a><a id="18084" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18088" class="Symbol">(</a><a id="18089" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="18108" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="18111" href="Ledger.Ledger.Properties.html#18042" class="Bound">cs</a> <a id="18114" class="Symbol">(</a><a id="18115" href="Ledger.Ledger.Properties.html#18046" class="Bound">deps</a> <a id="18120" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18122" href="Ledger.Utxo.html#3941" class="Function">certRefund</a> <a id="18133" class="Symbol">(</a><a id="18134" href="Ledger.Certs.html#848" class="InductiveConstructor">dereg</a> <a id="18140" href="Ledger.Ledger.Properties.html#18035" class="Bound">c</a> <a id="18142" href="Ledger.Ledger.Properties.html#18037" class="Bound">v</a><a id="18143" class="Symbol">)</a><a id="18144" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18145" class="Symbol">)))</a> <a id="18149" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18152" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18162" href="Ledger.Ledger.Properties.html#18042" class="Bound">cs</a> <a id="18165" class="Symbol">_</a> <a id="18167" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18173" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18181" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="18193" class="Symbol">(</a><a id="18194" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18198" class="Symbol">(</a><a id="18199" href="Ledger.Ledger.Properties.html#18046" class="Bound">deps</a> <a id="18204" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18206" href="Ledger.Utxo.html#3941" class="Function">certRefund</a> <a id="18217" class="Symbol">(</a><a id="18218" href="Ledger.Certs.html#848" class="InductiveConstructor">dereg</a> <a id="18224" href="Ledger.Ledger.Properties.html#18035" class="Bound">c</a> <a id="18226" href="Ledger.Ledger.Properties.html#18037" class="Bound">v</a><a id="18227" class="Symbol">)</a><a id="18228" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18229" class="Symbol">))</a> <a id="18232" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18235" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="18244" href="Ledger.Ledger.Properties.html#18022" class="Bound">dcert</a> <a id="18250" href="Ledger.Ledger.Properties.html#18046" class="Bound">deps</a> <a id="18255" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18261" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18269" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="18281" class="Symbol">(</a><a id="18282" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18286" href="Ledger.Ledger.Properties.html#18046" class="Bound">deps</a><a id="18290" class="Symbol">)</a> <a id="18292" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="18296" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18306" class="Symbol">(</a><a id="18307" href="Ledger.Ledger.Properties.html#18307" class="Bound">dcert</a><a id="18312" class="Symbol">@(</a><a id="18314" href="Ledger.Certs.html#1032" class="InductiveConstructor">deregdrep</a> <a id="18324" href="Ledger.Ledger.Properties.html#18324" class="Bound">c</a> <a id="18326" href="Ledger.Ledger.Properties.html#18326" class="Bound">v</a><a id="18327" class="Symbol">)</a> <a id="18329" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18331" href="Ledger.Ledger.Properties.html#18331" class="Bound">cs</a><a id="18333" class="Symbol">)</a> <a id="18335" href="Ledger.Ledger.Properties.html#18335" class="Bound">deps</a> <a id="18340" class="Symbol">=</a> <a id="18342" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="18352" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18360" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="18372" class="Symbol">(</a><a id="18373" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18377" class="Symbol">(</a><a id="18378" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="18397" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="18400" href="Ledger.Ledger.Properties.html#18331" class="Bound">cs</a> <a id="18403" class="Symbol">(</a><a id="18404" href="Ledger.Ledger.Properties.html#18335" class="Bound">deps</a> <a id="18409" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18411" href="Ledger.Utxo.html#3941" class="Function">certRefund</a> <a id="18422" class="Symbol">(</a><a id="18423" href="Ledger.Certs.html#1032" class="InductiveConstructor">deregdrep</a> <a id="18433" href="Ledger.Ledger.Properties.html#18324" class="Bound">c</a> <a id="18435" href="Ledger.Ledger.Properties.html#18326" class="Bound">v</a><a id="18436" class="Symbol">)</a><a id="18437" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18438" class="Symbol">)))</a> <a id="18442" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18445" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18455" href="Ledger.Ledger.Properties.html#18331" class="Bound">cs</a> <a id="18458" class="Symbol">_</a> <a id="18460" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18466" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18474" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="18486" class="Symbol">(</a><a id="18487" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18491" class="Symbol">(</a><a id="18492" href="Ledger.Ledger.Properties.html#18335" class="Bound">deps</a> <a id="18497" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18499" href="Ledger.Utxo.html#3941" class="Function">certRefund</a> <a id="18510" class="Symbol">(</a><a id="18511" href="Ledger.Certs.html#1032" class="InductiveConstructor">deregdrep</a> <a id="18521" href="Ledger.Ledger.Properties.html#18324" class="Bound">c</a> <a id="18523" href="Ledger.Ledger.Properties.html#18326" class="Bound">v</a><a id="18524" class="Symbol">)</a><a id="18525" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18526" class="Symbol">))</a> <a id="18529" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18532" href="Ledger.Ledger.Properties.html#12383" class="Function">filterCR</a> <a id="18541" href="Ledger.Ledger.Properties.html#18307" class="Bound">dcert</a> <a id="18547" href="Ledger.Ledger.Properties.html#18335" class="Bound">deps</a> <a id="18552" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18558" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18566" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="18578" class="Symbol">(</a><a id="18579" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18583" href="Ledger.Ledger.Properties.html#18335" class="Bound">deps</a><a id="18587" class="Symbol">)</a> <a id="18589" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="18593" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18603" class="Symbol">(</a><a id="18604" href="Ledger.Certs.html#941" class="InductiveConstructor">retirepool</a> <a id="18615" class="Symbol">_</a> <a id="18617" class="Symbol">_</a> <a id="18619" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18621" href="Ledger.Ledger.Properties.html#18621" class="Bound">cs</a><a id="18623" class="Symbol">)</a> <a id="18625" href="Ledger.Ledger.Properties.html#18625" class="Bound">deps</a> <a id="18630" class="Symbol">=</a> <a id="18632" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18642" href="Ledger.Ledger.Properties.html#18621" class="Bound">cs</a> <a id="18645" href="Ledger.Ledger.Properties.html#18625" class="Bound">deps</a>
  <a id="18652" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18662" class="Symbol">(</a><a id="18663" href="Ledger.Certs.html#1074" class="InductiveConstructor">ccreghot</a> <a id="18672" class="Symbol">_</a> <a id="18674" class="Symbol">_</a> <a id="18676" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18678" href="Ledger.Ledger.Properties.html#18678" class="Bound">cs</a><a id="18680" class="Symbol">)</a> <a id="18682" href="Ledger.Ledger.Properties.html#18682" class="Bound">deps</a> <a id="18687" class="Symbol">=</a> <a id="18689" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="18699" href="Ledger.Ledger.Properties.html#18678" class="Bound">cs</a> <a id="18702" href="Ledger.Ledger.Properties.html#18682" class="Bound">deps</a>

  <a id="18710" class="Keyword">opaque</a>
    <a id="18721" class="Keyword">unfolding</a> <a id="18731" href="Ledger.Gov.html#5548" class="Function">addVote</a>

    <a id="SetoidProperties.dpMap∘voteUpdate≡dpMap"></a><a id="18744" href="Ledger.Ledger.Properties.html#18744" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="18767" class="Symbol">:</a> <a id="18769" class="Symbol">(</a><a id="18770" href="Ledger.Ledger.Properties.html#18770" class="Bound">v</a> <a id="18772" class="Symbol">:</a> <a id="18774" href="Ledger.GovernanceActions.html#1932" class="Record">GovVote</a><a id="18781" class="Symbol">)</a> <a id="18783" class="Symbol">{</a><a id="18784" href="Ledger.Ledger.Properties.html#18784" class="Bound">govSt</a> <a id="18790" class="Symbol">:</a> <a id="18792" href="Ledger.Gov.html#1218" class="Function">GovState</a><a id="18800" class="Symbol">}</a>
      <a id="18808" class="Symbol">→</a> <a id="18810" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="18816" class="Symbol">(</a><a id="18817" href="Ledger.Ledger.Properties.html#9920" class="Function">voteUpdate</a> <a id="18828" href="Ledger.Ledger.Properties.html#18784" class="Bound">govSt</a> <a id="18834" href="Ledger.Ledger.Properties.html#18770" class="Bound">v</a><a id="18835" class="Symbol">)</a> <a id="18837" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18839" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="18845" href="Ledger.Ledger.Properties.html#18784" class="Bound">govSt</a>
    <a id="18855" href="Ledger.Ledger.Properties.html#18744" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="18878" href="Ledger.Ledger.Properties.html#18878" class="Bound">v</a> <a id="18880" class="Symbol">{</a><a id="18881" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="18883" class="Symbol">}</a> <a id="18885" class="Symbol">=</a> <a id="18887" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="18896" href="Ledger.Ledger.Properties.html#18744" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="18919" href="Ledger.Ledger.Properties.html#18919" class="Bound">v</a> <a id="18921" class="Symbol">{(</a><a id="18923" href="Ledger.Ledger.Properties.html#18923" class="Bound">aid</a> <a id="18927" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18929" href="Ledger.Ledger.Properties.html#18929" class="Bound">ast</a><a id="18932" class="Symbol">)</a> <a id="18934" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18936" href="Ledger.Ledger.Properties.html#18936" class="Bound">govSt</a><a id="18941" class="Symbol">}</a> <a id="18943" class="Symbol">=</a>
      <a id="18951" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="18956" class="Symbol">(λ</a> <a id="18959" href="Ledger.Ledger.Properties.html#18959" class="Bound">x</a> <a id="18961" class="Symbol">→</a> <a id="18963" class="Symbol">(</a><a id="18964" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="18981" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="18983" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18988" class="Symbol">)</a> <a id="18990" class="Symbol">(</a><a id="18991" href="Ledger.Ledger.Properties.html#18923" class="Bound">aid</a> <a id="18995" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18997" href="Ledger.Ledger.Properties.html#18929" class="Bound">ast</a><a id="19000" class="Symbol">)</a> <a id="19002" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19004" href="Ledger.Ledger.Properties.html#18959" class="Bound">x</a><a id="19005" class="Symbol">)</a> <a id="19007" class="Symbol">(</a><a id="19008" href="Ledger.Ledger.Properties.html#18744" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="19031" href="Ledger.Ledger.Properties.html#18919" class="Bound">v</a><a id="19032" class="Symbol">)</a>

  <a id="SetoidProperties.props-dpMap-votes-invar"></a><a id="19037" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="19061" class="Symbol">:</a> <a id="19063" class="Symbol">(</a><a id="19064" href="Ledger.Ledger.Properties.html#19064" class="Bound">vs</a> <a id="19067" class="Symbol">:</a> <a id="19069" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19074" href="Ledger.GovernanceActions.html#1932" class="Record">GovVote</a><a id="19081" class="Symbol">)</a> <a id="19083" class="Symbol">(</a><a id="19084" href="Ledger.Ledger.Properties.html#19084" class="Bound">ps</a> <a id="19087" class="Symbol">:</a> <a id="19089" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19094" href="Ledger.GovernanceActions.html#2077" class="Record">GovProposal</a><a id="19105" class="Symbol">)</a> <a id="19107" class="Symbol">{</a><a id="19108" href="Ledger.Ledger.Properties.html#19108" class="Bound">k</a> <a id="19110" class="Symbol">:</a> <a id="19112" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="19113" class="Symbol">}</a> <a id="19115" class="Symbol">{</a><a id="19116" href="Ledger.Ledger.Properties.html#19116" class="Bound">govSt</a> <a id="19122" class="Symbol">:</a> <a id="19124" href="Ledger.Gov.html#1218" class="Function">GovState</a><a id="19132" class="Symbol">}</a>
    <a id="19138" class="Symbol">→</a> <a id="19140" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19149" class="Symbol">(</a><a id="19150" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19156" class="Symbol">(</a><a id="19157" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="19173" class="Symbol">(</a><a id="19174" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="19178" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19183" href="Ledger.Ledger.Properties.html#19084" class="Bound">ps</a> <a id="19186" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="19189" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="19193" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="19198" href="Ledger.Ledger.Properties.html#19064" class="Bound">vs</a><a id="19200" class="Symbol">)</a> <a id="19202" href="Ledger.Ledger.Properties.html#19108" class="Bound">k</a> <a id="19204" href="Ledger.Ledger.Properties.html#19116" class="Bound">govSt</a> <a id="19210" class="Symbol">))</a>
      <a id="19219" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="19222" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19231" class="Symbol">(</a><a id="19232" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19238" class="Symbol">(</a><a id="19239" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="19255" class="Symbol">(</a><a id="19256" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="19260" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19265" href="Ledger.Ledger.Properties.html#19084" class="Bound">ps</a><a id="19267" class="Symbol">)</a> <a id="19269" href="Ledger.Ledger.Properties.html#19108" class="Bound">k</a> <a id="19271" href="Ledger.Ledger.Properties.html#19116" class="Bound">govSt</a><a id="19276" class="Symbol">))</a>
  <a id="19281" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="19305" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="19308" href="Ledger.Ledger.Properties.html#19308" class="Bound">ps</a> <a id="19311" class="Symbol">{</a><a id="19312" href="Ledger.Ledger.Properties.html#19312" class="Bound">k</a><a id="19313" class="Symbol">}</a> <a id="19315" class="Symbol">{</a><a id="19316" href="Ledger.Ledger.Properties.html#19316" class="Bound">govSt</a><a id="19321" class="Symbol">}</a> <a id="19323" class="Symbol">=</a> <a id="19325" href="Relation.Binary.Structures.html#1674" class="Function">≡ᵉ.reflexive</a>
    <a id="19342" class="Symbol">(</a><a id="19343" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19348" class="Symbol">(λ</a> <a id="19351" href="Ledger.Ledger.Properties.html#19351" class="Bound">x</a> <a id="19353" class="Symbol">→</a> <a id="19355" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19364" class="Symbol">(</a><a id="19365" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19371" class="Symbol">(</a><a id="19372" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="19388" href="Ledger.Ledger.Properties.html#19351" class="Bound">x</a> <a id="19390" href="Ledger.Ledger.Properties.html#19312" class="Bound">k</a> <a id="19392" href="Ledger.Ledger.Properties.html#19316" class="Bound">govSt</a><a id="19397" class="Symbol">)))</a> <a id="19401" class="Symbol">(</a><a id="19402" href="Data.List.Properties.html#5429" class="Function">++-identityʳ</a> <a id="19415" class="Symbol">(</a><a id="19416" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="19420" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19425" href="Ledger.Ledger.Properties.html#19308" class="Bound">ps</a><a id="19427" class="Symbol">)))</a>
  <a id="19433" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="19457" class="Symbol">(</a><a id="19458" href="Ledger.Ledger.Properties.html#19458" class="Bound">v</a> <a id="19460" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19462" href="Ledger.Ledger.Properties.html#19462" class="Bound">vs</a><a id="19464" class="Symbol">)</a> <a id="19466" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="19469" class="Symbol">{</a><a id="19470" href="Ledger.Ledger.Properties.html#19470" class="Bound">k</a><a id="19471" class="Symbol">}</a> <a id="19473" class="Symbol">{</a><a id="19474" href="Ledger.Ledger.Properties.html#19474" class="Bound">govSt</a><a id="19479" class="Symbol">}</a> <a id="19481" class="Symbol">=</a> <a id="19483" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="19493" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19502" class="Symbol">(</a><a id="19503" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19509" class="Symbol">(</a><a id="19510" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="19526" class="Symbol">(</a><a id="19527" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="19531" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="19536" class="Symbol">(</a><a id="19537" href="Ledger.Ledger.Properties.html#19458" class="Bound">v</a> <a id="19539" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19541" href="Ledger.Ledger.Properties.html#19462" class="Bound">vs</a><a id="19543" class="Symbol">))</a> <a id="19546" href="Ledger.Ledger.Properties.html#19470" class="Bound">k</a> <a id="19548" href="Ledger.Ledger.Properties.html#19474" class="Bound">govSt</a><a id="19553" class="Symbol">))</a>
      <a id="19562" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="19565" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="19589" href="Ledger.Ledger.Properties.html#19462" class="Bound">vs</a> <a id="19592" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="19595" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="19601" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19610" class="Symbol">(</a><a id="19611" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19617" class="Symbol">(</a><a id="19618" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="19634" class="Symbol">(</a><a id="19635" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="19639" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19644" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="19646" class="Symbol">)</a> <a id="19648" class="Symbol">(</a><a id="19649" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="19653" href="Ledger.Ledger.Properties.html#19470" class="Bound">k</a><a id="19654" class="Symbol">)</a> <a id="19656" class="Symbol">(</a><a id="19657" href="Ledger.Ledger.Properties.html#9920" class="Function">voteUpdate</a> <a id="19668" href="Ledger.Ledger.Properties.html#19474" class="Bound">govSt</a> <a id="19674" href="Ledger.Ledger.Properties.html#19458" class="Bound">v</a><a id="19675" class="Symbol">)))</a>
      <a id="19685" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="19688" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19693" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19702" class="Symbol">(</a><a id="19703" href="Ledger.Ledger.Properties.html#18744" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="19726" href="Ledger.Ledger.Properties.html#19458" class="Bound">v</a><a id="19727" class="Symbol">)</a> <a id="19729" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="19735" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19744" class="Symbol">(</a><a id="19745" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19751" href="Ledger.Ledger.Properties.html#19474" class="Bound">govSt</a><a id="19756" class="Symbol">)</a>
      <a id="19764" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="19768" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="19792" class="Symbol">(</a><a id="19793" href="Ledger.Ledger.Properties.html#19793" class="Bound">v</a> <a id="19795" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19797" href="Ledger.Ledger.Properties.html#19797" class="Bound">vs</a><a id="19799" class="Symbol">)</a> <a id="19801" class="Symbol">(</a><a id="19802" href="Ledger.Ledger.Properties.html#19802" class="Bound">p</a> <a id="19804" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19806" href="Ledger.Ledger.Properties.html#19806" class="Bound">ps</a><a id="19808" class="Symbol">)</a> <a id="19810" class="Symbol">{</a><a id="19811" href="Ledger.Ledger.Properties.html#19811" class="Bound">k</a><a id="19812" class="Symbol">}</a> <a id="19814" class="Symbol">{</a><a id="19815" href="Ledger.Ledger.Properties.html#19815" class="Bound">govSt</a><a id="19820" class="Symbol">}</a> <a id="19822" class="Symbol">=</a> <a id="19824" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="19848" class="Symbol">(</a><a id="19849" href="Ledger.Ledger.Properties.html#19793" class="Bound">v</a> <a id="19851" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19853" href="Ledger.Ledger.Properties.html#19797" class="Bound">vs</a><a id="19855" class="Symbol">)</a> <a id="19857" href="Ledger.Ledger.Properties.html#19806" class="Bound">ps</a>

  <a id="SetoidProperties.dpMap-update-∪"></a><a id="19863" href="Ledger.Ledger.Properties.html#19863" class="Function">dpMap-update-∪</a> <a id="19878" class="Symbol">:</a> <a id="19880" class="Symbol">∀</a> <a id="19882" href="Ledger.Ledger.Properties.html#19882" class="Bound">gSt</a> <a id="19886" href="Ledger.Ledger.Properties.html#19886" class="Bound">p</a> <a id="19888" href="Ledger.Ledger.Properties.html#19888" class="Bound">k</a>
    <a id="19894" class="Symbol">→</a> <a id="19896" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19905" class="Symbol">(</a><a id="19906" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19912" href="Ledger.Ledger.Properties.html#19882" class="Bound">gSt</a><a id="19915" class="Symbol">)</a> <a id="19917" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="19919" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="19921" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="19938" class="Symbol">(</a><a id="19939" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="19944" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19946" href="Ledger.Ledger.Properties.html#19888" class="Bound">k</a><a id="19947" class="Symbol">)</a> <a id="19949" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="19959" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="19962" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19971" class="Symbol">(</a><a id="19972" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="19978" class="Symbol">(</a><a id="19979" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="19990" href="Ledger.Ledger.Properties.html#19882" class="Bound">gSt</a> <a id="19994" href="Ledger.Ledger.Properties.html#19886" class="Bound">p</a> <a id="19996" href="Ledger.Ledger.Properties.html#19888" class="Bound">k</a><a id="19997" class="Symbol">))</a>
  <a id="20002" href="Ledger.Ledger.Properties.html#19863" class="Function">dpMap-update-∪</a> <a id="20017" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="20020" href="Ledger.Ledger.Properties.html#20020" class="Bound">p</a> <a id="20022" href="Ledger.Ledger.Properties.html#20022" class="Bound">k</a> <a id="20024" class="Symbol">=</a> <a id="20026" href="Axiom.Set.Properties.html#11917" class="Function">∪-identityˡ</a> <a id="20038" class="Symbol">(</a><a id="20039" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20048" class="Symbol">(</a><a id="20049" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20055" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="20057" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="20066" href="Ledger.Ledger.Properties.html#20020" class="Bound">p</a> <a id="20068" href="Ledger.Ledger.Properties.html#20022" class="Bound">k</a> <a id="20070" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="20071" class="Symbol">))</a>
  <a id="20076" href="Ledger.Ledger.Properties.html#19863" class="Function">dpMap-update-∪</a> <a id="20091" class="Symbol">(</a><a id="20092" href="Ledger.Ledger.Properties.html#20092" class="Bound">g</a><a id="20093" class="Symbol">@(</a><a id="20095" href="Ledger.Ledger.Properties.html#20095" class="Bound">gaID₀</a> <a id="20101" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20103" href="Ledger.Ledger.Properties.html#20103" class="Bound">gaSt₀</a><a id="20108" class="Symbol">)</a> <a id="20110" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20112" href="Ledger.Ledger.Properties.html#20112" class="Bound">gSt</a><a id="20115" class="Symbol">)</a> <a id="20117" href="Ledger.Ledger.Properties.html#20117" class="Bound">p</a> <a id="20119" href="Ledger.Ledger.Properties.html#20119" class="Bound">k</a>
    <a id="20125" class="Keyword">with</a> <a id="20130" class="Symbol">(</a><a id="20131" href="Ledger.Gov.html#1842" class="Function">govActionPriority</a> <a id="20149" class="Symbol">(</a><a id="20150" href="Ledger.GovernanceActions.html#2420" class="Field">GovActionState.action</a> <a id="20172" href="Ledger.Ledger.Properties.html#20103" class="Bound">gaSt₀</a> <a id="20178" class="Symbol">.</a><a id="20179" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a><a id="20185" class="Symbol">))</a>
         <a id="20197" href="Class.HasOrder.Core.html#916" class="Function Operator">≤?</a> <a id="20200" class="Symbol">(</a><a id="20201" href="Ledger.Gov.html#1842" class="Function">govActionPriority</a> <a id="20219" class="Symbol">(</a><a id="20220" href="Ledger.GovernanceActions.html#2420" class="Field">GovActionState.action</a> <a id="20242" class="Symbol">(</a><a id="20243" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="20249" class="Symbol">(</a><a id="20250" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="20259" href="Ledger.Ledger.Properties.html#20117" class="Bound">p</a> <a id="20261" href="Ledger.Ledger.Properties.html#20119" class="Bound">k</a><a id="20262" class="Symbol">))</a> <a id="20265" class="Symbol">.</a><a id="20266" href="Ledger.GovernanceActions.html#1429" class="Field">gaType</a><a id="20272" class="Symbol">))</a>
  <a id="20277" class="Symbol">...</a> <a id="20281" class="Symbol">|</a> <a id="20283" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="20287" class="Symbol">_</a>  <a id="20290" class="Symbol">=</a> <a id="20292" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="20304" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20313" class="Symbol">(</a><a id="20314" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20320" class="Symbol">(</a><a id="20321" class="Bound">g</a> <a id="20323" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20325" class="Bound">gSt</a><a id="20328" class="Symbol">))</a> <a id="20331" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20333" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20335" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20352" class="Symbol">(</a><a id="20353" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="20358" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20360" class="Bound">k</a><a id="20361" class="Symbol">)</a> <a id="20363" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="20373" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="20376" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="20383" href="Axiom.Set.Properties.html#12190" class="Function">fromList-∪-singleton</a> <a id="20404" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="20412" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="20420" class="Symbol">(</a><a id="20421" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20423" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20440" class="Bound">gaID₀</a> <a id="20446" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20448" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20450" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20459" class="Symbol">(</a><a id="20460" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20466" class="Bound">gSt</a><a id="20469" class="Symbol">))</a> <a id="20472" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20474" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20476" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20493" class="Symbol">(</a><a id="20494" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="20499" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20501" class="Bound">k</a><a id="20502" class="Symbol">)</a> <a id="20504" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="20514" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="20517" href="Axiom.Set.Properties.html#12114" class="Function">∪-assoc</a> <a id="20525" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20527" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20544" class="Bound">gaID₀</a> <a id="20550" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20552" class="Symbol">(</a><a id="20553" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20562" class="Symbol">(</a><a id="20563" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20569" class="Bound">gSt</a><a id="20572" class="Symbol">))</a> <a id="20575" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20577" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20594" class="Symbol">(</a><a id="20595" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="20600" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20602" class="Bound">k</a><a id="20603" class="Symbol">)</a> <a id="20605" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20607" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="20615" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20617" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20634" class="Bound">gaID₀</a> <a id="20640" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20642" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20644" class="Symbol">(</a><a id="20645" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20654" class="Symbol">(</a><a id="20655" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20661" class="Bound">gSt</a><a id="20664" class="Symbol">)</a> <a id="20666" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20668" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20670" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20687" class="Symbol">(</a><a id="20688" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="20693" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20695" class="Bound">k</a><a id="20696" class="Symbol">)</a> <a id="20698" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="20699" class="Symbol">)</a>
        <a id="20709" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="20712" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="20719" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="20727" class="Symbol">(</a><a id="20728" href="Ledger.Ledger.Properties.html#19863" class="Function">dpMap-update-∪</a> <a id="20743" class="Bound">gSt</a> <a id="20747" class="Bound">p</a> <a id="20749" class="Bound">k</a><a id="20750" class="Symbol">)</a> <a id="20752" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="20760" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20762" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="20779" class="Bound">gaID₀</a> <a id="20785" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="20787" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20789" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20798" class="Symbol">(</a><a id="20799" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20805" class="Symbol">(</a><a id="20806" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="20817" class="Bound">gSt</a> <a id="20821" class="Bound">p</a> <a id="20823" class="Bound">k</a><a id="20824" class="Symbol">))</a>
        <a id="20835" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="20839" href="Axiom.Set.Properties.html#12190" class="Function">fromList-∪-singleton</a> <a id="20860" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="20868" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20877" class="Symbol">(</a><a id="20878" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20884" class="Symbol">(</a><a id="20885" class="Bound">g</a> <a id="20887" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20889" href="Ledger.Gov.html#4673" class="Function">insertGovAction</a> <a id="20905" class="Bound">gSt</a> <a id="20909" class="Symbol">(</a><a id="20910" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="20919" class="Bound">p</a> <a id="20921" class="Bound">k</a><a id="20922" class="Symbol">)))</a>
        <a id="20934" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="20938" class="Symbol">...</a> <a id="20942" class="Symbol">|</a> <a id="20944" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="20947" class="Symbol">_</a>   <a id="20951" class="Symbol">=</a> <a id="20953" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="20965" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20974" class="Symbol">(</a><a id="20975" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="20981" class="Symbol">(</a><a id="20982" class="Bound">g</a> <a id="20984" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20986" class="Bound">gSt</a><a id="20989" class="Symbol">))</a> <a id="20992" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20994" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20996" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21013" class="Symbol">(</a><a id="21014" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21019" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21021" class="Bound">k</a><a id="21022" class="Symbol">)</a> <a id="21024" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="21034" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="21037" href="Axiom.Set.Properties.html#12053" class="Function">∪-comm</a> <a id="21044" class="Symbol">(</a><a id="21045" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21054" class="Symbol">(</a><a id="21055" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21061" class="Symbol">(</a><a id="21062" class="Bound">g</a> <a id="21064" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21066" class="Bound">gSt</a><a id="21069" class="Symbol">)))</a> <a id="21073" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21075" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21092" class="Symbol">(</a><a id="21093" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21098" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21100" class="Bound">k</a><a id="21101" class="Symbol">)</a> <a id="21103" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="21105" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="21113" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21115" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21132" class="Symbol">(</a><a id="21133" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21138" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21140" class="Bound">k</a><a id="21141" class="Symbol">)</a> <a id="21143" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="21145" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21147" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21156" class="Symbol">(</a><a id="21157" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21163" class="Symbol">(</a><a id="21164" class="Bound">g</a> <a id="21166" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21168" class="Bound">gSt</a><a id="21171" class="Symbol">))</a>
        <a id="21182" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="21186" href="Axiom.Set.Properties.html#12190" class="Function">fromList-∪-singleton</a> <a id="21207" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="21215" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21224" class="Symbol">(</a><a id="21225" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21231" class="Symbol">((</a><a id="21233" href="Ledger.Ledger.Properties.html#9522" class="Function">mkAction</a> <a id="21242" class="Bound">p</a> <a id="21244" class="Bound">k</a><a id="21245" class="Symbol">)</a> <a id="21247" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21249" class="Bound">g</a> <a id="21251" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21253" class="Bound">gSt</a><a id="21256" class="Symbol">))</a>
        <a id="21267" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="SetoidProperties.connex-lemma"></a><a id="21272" href="Ledger.Ledger.Properties.html#21272" class="Function">connex-lemma</a> <a id="21285" class="Symbol">:</a> <a id="21287" class="Symbol">∀</a> <a id="21289" href="Ledger.Ledger.Properties.html#21289" class="Bound">gSt</a> <a id="21293" href="Ledger.Ledger.Properties.html#21293" class="Bound">p</a> <a id="21295" href="Ledger.Ledger.Properties.html#21295" class="Bound">ps</a> <a id="21298" class="Symbol">{</a><a id="21299" href="Ledger.Ledger.Properties.html#21299" class="Bound">k</a><a id="21300" class="Symbol">}</a>
    <a id="21306" class="Symbol">→</a> <a id="21308" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21317" class="Symbol">(</a><a id="21318" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21324" class="Symbol">(</a><a id="21325" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="21341" class="Symbol">(</a><a id="21342" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="21346" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="21351" href="Ledger.Ledger.Properties.html#21295" class="Bound">ps</a><a id="21353" class="Symbol">)</a> <a id="21355" href="Ledger.Ledger.Properties.html#21299" class="Bound">k</a> <a id="21357" href="Ledger.Ledger.Properties.html#21289" class="Bound">gSt</a><a id="21360" class="Symbol">))</a> <a id="21363" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21365" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21367" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21384" class="Symbol">(</a><a id="21385" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21390" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21392" href="Ledger.Ledger.Properties.html#21299" class="Bound">k</a> <a id="21394" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21396" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21403" href="Ledger.Ledger.Properties.html#21295" class="Bound">ps</a><a id="21405" class="Symbol">)</a> <a id="21407" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="21417" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="21420" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21429" class="Symbol">(</a><a id="21430" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21436" class="Symbol">(</a><a id="21437" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="21453" class="Symbol">(</a><a id="21454" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="21458" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="21463" href="Ledger.Ledger.Properties.html#21295" class="Bound">ps</a><a id="21465" class="Symbol">)</a> <a id="21467" class="Symbol">(</a><a id="21468" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="21472" href="Ledger.Ledger.Properties.html#21299" class="Bound">k</a><a id="21473" class="Symbol">)</a> <a id="21475" class="Symbol">(</a><a id="21476" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="21487" href="Ledger.Ledger.Properties.html#21289" class="Bound">gSt</a> <a id="21491" href="Ledger.Ledger.Properties.html#21293" class="Bound">p</a> <a id="21493" href="Ledger.Ledger.Properties.html#21299" class="Bound">k</a><a id="21494" class="Symbol">)))</a>
  <a id="21500" href="Ledger.Ledger.Properties.html#21272" class="Function">connex-lemma</a> <a id="21513" href="Ledger.Ledger.Properties.html#21513" class="Bound">gSt</a> <a id="21517" href="Ledger.Ledger.Properties.html#21517" class="Bound">p</a> <a id="21519" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="21522" class="Symbol">{</a><a id="21523" href="Ledger.Ledger.Properties.html#21523" class="Bound">k</a><a id="21524" class="Symbol">}</a> <a id="21526" class="Symbol">=</a> <a id="21528" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="21540" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21549" class="Symbol">(</a><a id="21550" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21556" href="Ledger.Ledger.Properties.html#21513" class="Bound">gSt</a><a id="21559" class="Symbol">)</a> <a id="21561" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21563" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21565" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21582" class="Symbol">(</a><a id="21583" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21588" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21590" href="Ledger.Ledger.Properties.html#21523" class="Bound">k</a> <a id="21592" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21594" class="Number">0</a><a id="21595" class="Symbol">)</a> <a id="21597" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="21607" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21610" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21615" class="Symbol">(λ</a> <a id="21618" href="Ledger.Ledger.Properties.html#21618" class="Bound">x</a> <a id="21620" class="Symbol">→</a> <a id="21622" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21631" class="Symbol">(</a><a id="21632" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21638" href="Ledger.Ledger.Properties.html#21513" class="Bound">gSt</a><a id="21641" class="Symbol">)</a> <a id="21643" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21645" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21647" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21664" class="Symbol">(</a><a id="21665" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21670" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21672" href="Ledger.Ledger.Properties.html#21618" class="Bound">x</a><a id="21673" class="Symbol">)</a> <a id="21675" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="21676" class="Symbol">)</a> <a id="21678" class="Symbol">(</a><a id="21679" href="Data.Nat.Properties.html#15269" class="Function">+-identityʳ</a> <a id="21691" href="Ledger.Ledger.Properties.html#21523" class="Bound">k</a><a id="21692" class="Symbol">)</a> <a id="21694" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="21702" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21711" class="Symbol">(</a><a id="21712" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21718" href="Ledger.Ledger.Properties.html#21513" class="Bound">gSt</a><a id="21721" class="Symbol">)</a> <a id="21723" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21725" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21727" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21744" class="Symbol">(</a><a id="21745" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21752" href="Ledger.Ledger.Properties.html#21523" class="Bound">k</a><a id="21753" class="Symbol">)</a> <a id="21755" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="21765" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="21768" href="Ledger.Ledger.Properties.html#19863" class="Function">dpMap-update-∪</a> <a id="21783" href="Ledger.Ledger.Properties.html#21513" class="Bound">gSt</a> <a id="21787" href="Ledger.Ledger.Properties.html#21517" class="Bound">p</a> <a id="21789" href="Ledger.Ledger.Properties.html#21523" class="Bound">k</a> <a id="21791" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="21799" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21808" class="Symbol">(</a><a id="21809" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21815" class="Symbol">(</a><a id="21816" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="21827" href="Ledger.Ledger.Properties.html#21513" class="Bound">gSt</a> <a id="21831" href="Ledger.Ledger.Properties.html#21517" class="Bound">p</a> <a id="21833" href="Ledger.Ledger.Properties.html#21523" class="Bound">k</a><a id="21834" class="Symbol">))</a>
        <a id="21845" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="21849" href="Ledger.Ledger.Properties.html#21272" class="Function">connex-lemma</a> <a id="21862" href="Ledger.Ledger.Properties.html#21862" class="Bound">gSt</a> <a id="21866" href="Ledger.Ledger.Properties.html#21866" class="Bound">p</a> <a id="21868" class="Symbol">(</a><a id="21869" href="Ledger.Ledger.Properties.html#21869" class="Bound">p&#39;</a> <a id="21872" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21874" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="21876" class="Symbol">)</a> <a id="21878" class="Symbol">{</a><a id="21879" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a><a id="21880" class="Symbol">}</a> <a id="21882" class="Symbol">=</a> <a id="21884" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="21894" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21903" class="Symbol">(</a><a id="21904" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="21910" class="Symbol">(</a><a id="21911" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="21927" class="Symbol">(</a><a id="21928" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="21932" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="21937" class="Symbol">(</a><a id="21938" href="Ledger.Ledger.Properties.html#21869" class="Bound">p&#39;</a> <a id="21941" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21943" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="21945" class="Symbol">))</a> <a id="21948" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a> <a id="21950" href="Ledger.Ledger.Properties.html#21862" class="Bound">gSt</a><a id="21953" class="Symbol">))</a>
      <a id="21962" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21964" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21966" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="21983" class="Symbol">(</a><a id="21984" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="21989" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21991" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a> <a id="21993" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21995" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22002" class="Symbol">(</a><a id="22003" href="Ledger.Ledger.Properties.html#21869" class="Bound">p&#39;</a> <a id="22006" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="22008" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="22010" class="Symbol">))</a> <a id="22013" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="22023" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22026" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22031" class="Symbol">(λ</a> <a id="22034" href="Ledger.Ledger.Properties.html#22034" class="Bound">x</a> <a id="22036" class="Symbol">→</a> <a id="22038" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22047" class="Symbol">(</a><a id="22048" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="22054" class="Symbol">(</a><a id="22055" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="22071" class="Symbol">(</a><a id="22072" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="22076" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22081" class="Symbol">(</a><a id="22082" href="Ledger.Ledger.Properties.html#21869" class="Bound">p&#39;</a> <a id="22085" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="22087" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="22089" class="Symbol">))</a> <a id="22092" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a> <a id="22094" href="Ledger.Ledger.Properties.html#21862" class="Bound">gSt</a><a id="22097" class="Symbol">))</a>
            <a id="22112" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22114" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22116" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="22133" class="Symbol">(</a><a id="22134" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="22139" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22141" href="Ledger.Ledger.Properties.html#22034" class="Bound">x</a><a id="22142" class="Symbol">)</a> <a id="22144" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="22145" class="Symbol">)</a> <a id="22147" class="Symbol">(</a><a id="22148" href="Data.Nat.Properties.html#14905" class="Function">+-suc</a> <a id="22154" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a> <a id="22156" class="Symbol">(</a><a id="22157" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22164" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="22166" class="Symbol">))</a> <a id="22169" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="22175" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22184" class="Symbol">(</a><a id="22185" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="22191" class="Symbol">(</a><a id="22192" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="22208" class="Symbol">(</a><a id="22209" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="22213" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22218" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="22220" class="Symbol">)</a> <a id="22222" class="Symbol">(</a><a id="22223" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22227" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a><a id="22228" class="Symbol">)</a> <a id="22230" class="Symbol">(</a><a id="22231" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="22242" href="Ledger.Ledger.Properties.html#21862" class="Bound">gSt</a> <a id="22246" href="Ledger.Ledger.Properties.html#21869" class="Bound">p&#39;</a> <a id="22249" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a><a id="22250" class="Symbol">)))</a>
      <a id="22260" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22262" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22264" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="22281" class="Symbol">(</a><a id="22282" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="22287" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22289" class="Symbol">(</a><a id="22290" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22294" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a><a id="22295" class="Symbol">)</a> <a id="22297" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22299" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22306" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="22308" class="Symbol">)</a> <a id="22310" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="22320" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="22324" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="22331" class="Symbol">(</a><a id="22332" href="Ledger.Ledger.Properties.html#21272" class="Function">connex-lemma</a> <a id="22345" href="Ledger.Ledger.Properties.html#21862" class="Bound">gSt</a> <a id="22349" href="Ledger.Ledger.Properties.html#21869" class="Bound">p&#39;</a> <a id="22352" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="22354" class="Symbol">)</a> <a id="22356" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="22364" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="22370" class="Symbol">(</a><a id="22371" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22380" class="Symbol">(</a><a id="22381" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="22387" class="Symbol">(</a><a id="22388" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="22404" class="Symbol">(</a><a id="22405" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="22409" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22414" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="22416" class="Symbol">)</a> <a id="22418" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a> <a id="22420" href="Ledger.Ledger.Properties.html#21862" class="Bound">gSt</a><a id="22423" class="Symbol">))</a>
      <a id="22432" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22434" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22436" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="22453" class="Symbol">(</a><a id="22454" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="22459" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22461" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a> <a id="22463" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22465" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22472" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="22474" class="Symbol">)</a> <a id="22476" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="22477" class="Symbol">)</a>
      <a id="22485" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22487" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22489" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="22506" class="Symbol">(</a><a id="22507" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="22512" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22514" class="Symbol">(</a><a id="22515" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22519" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a><a id="22520" class="Symbol">)</a> <a id="22522" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22524" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22531" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="22533" class="Symbol">)</a> <a id="22535" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="22545" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="22548" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="22555" class="Symbol">(</a><a id="22556" href="Ledger.Ledger.Properties.html#21272" class="Function">connex-lemma</a> <a id="22569" href="Ledger.Ledger.Properties.html#21862" class="Bound">gSt</a> <a id="22573" href="Ledger.Ledger.Properties.html#21866" class="Bound">p</a> <a id="22575" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="22577" class="Symbol">)</a> <a id="22579" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="22587" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="22593" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22602" class="Symbol">(</a><a id="22603" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="22609" class="Symbol">(</a><a id="22610" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="22626" class="Symbol">(</a><a id="22627" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="22631" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22636" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="22638" class="Symbol">)</a> <a id="22640" class="Symbol">(</a><a id="22641" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22645" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a><a id="22646" class="Symbol">)</a> <a id="22648" class="Symbol">(</a><a id="22649" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="22660" href="Ledger.Ledger.Properties.html#21862" class="Bound">gSt</a> <a id="22664" href="Ledger.Ledger.Properties.html#21866" class="Bound">p</a> <a id="22666" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a><a id="22667" class="Symbol">)))</a>
      <a id="22677" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22679" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="22681" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="22698" class="Symbol">(</a><a id="22699" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="22704" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22706" class="Symbol">(</a><a id="22707" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22711" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a><a id="22712" class="Symbol">)</a> <a id="22714" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22716" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22723" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="22725" class="Symbol">)</a> <a id="22727" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="22737" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="22740" href="Ledger.Ledger.Properties.html#21272" class="Function">connex-lemma</a> <a id="22753" class="Symbol">(</a><a id="22754" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="22765" href="Ledger.Ledger.Properties.html#21862" class="Bound">gSt</a> <a id="22769" href="Ledger.Ledger.Properties.html#21866" class="Bound">p</a> <a id="22771" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a><a id="22772" class="Symbol">)</a> <a id="22774" href="Ledger.Ledger.Properties.html#21869" class="Bound">p&#39;</a> <a id="22777" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a> <a id="22780" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="22786" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22795" class="Symbol">(</a><a id="22796" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="22802" class="Symbol">(</a><a id="22803" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="22819" class="Symbol">(</a><a id="22820" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="22824" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22829" class="Symbol">(</a><a id="22830" href="Ledger.Ledger.Properties.html#21869" class="Bound">p&#39;</a> <a id="22833" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="22835" href="Ledger.Ledger.Properties.html#21874" class="Bound">ps</a><a id="22837" class="Symbol">))</a> <a id="22840" class="Symbol">(</a><a id="22841" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="22845" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a><a id="22846" class="Symbol">)</a> <a id="22848" class="Symbol">(</a><a id="22849" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="22860" href="Ledger.Ledger.Properties.html#21862" class="Bound">gSt</a> <a id="22864" href="Ledger.Ledger.Properties.html#21866" class="Bound">p</a> <a id="22866" href="Ledger.Ledger.Properties.html#21879" class="Bound">k</a><a id="22867" class="Symbol">)))</a>
        <a id="22879" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="SetoidProperties.utxo-govst-connex"></a><a id="22884" href="Ledger.Ledger.Properties.html#22884" class="Function">utxo-govst-connex</a> <a id="22902" class="Symbol">:</a> <a id="22904" class="Symbol">∀</a> <a id="22906" href="Ledger.Ledger.Properties.html#22906" class="Bound">txp</a> <a id="22910" class="Symbol">{</a><a id="22911" href="Ledger.Ledger.Properties.html#22911" class="Bound">utxoDs</a> <a id="22918" href="Ledger.Ledger.Properties.html#22918" class="Bound">gSt</a> <a id="22922" href="Ledger.Ledger.Properties.html#22922" class="Bound">gad</a><a id="22925" class="Symbol">}</a>
    <a id="22931" class="Symbol">→</a> <a id="22933" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="22941" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="22953" class="Symbol">(</a><a id="22954" href="Class.IsSet.html#916" class="Function">dom</a> <a id="22958" class="Symbol">(</a><a id="22959" href="Ledger.Ledger.Properties.html#22911" class="Bound">utxoDs</a><a id="22965" class="Symbol">))</a> <a id="22968" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="22971" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22980" class="Symbol">(</a><a id="22981" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="22987" href="Ledger.Ledger.Properties.html#22918" class="Bound">gSt</a><a id="22990" class="Symbol">)</a>
    <a id="22996" class="Symbol">→</a> <a id="22998" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23006" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="23018" class="Symbol">(</a><a id="23019" href="Class.IsSet.html#916" class="Function">dom</a> <a id="23023" class="Symbol">(</a><a id="23024" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="23047" href="Ledger.Ledger.Properties.html#22906" class="Bound">txp</a> <a id="23051" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23056" href="Ledger.Ledger.Properties.html#22922" class="Bound">gad</a> <a id="23060" href="Ledger.Ledger.Properties.html#22911" class="Bound">utxoDs</a><a id="23066" class="Symbol">))</a>
      <a id="23075" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="23078" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23087" class="Symbol">(</a><a id="23088" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="23094" class="Symbol">(</a><a id="23095" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="23111" class="Symbol">(</a><a id="23112" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="23116" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="23121" href="Ledger.Ledger.Properties.html#22906" class="Bound">txp</a><a id="23124" class="Symbol">)</a> <a id="23126" class="Number">0</a> <a id="23128" href="Ledger.Ledger.Properties.html#22918" class="Bound">gSt</a><a id="23131" class="Symbol">))</a>
  <a id="23136" href="Ledger.Ledger.Properties.html#22884" class="Function">utxo-govst-connex</a> <a id="23154" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="23157" href="Ledger.Ledger.Properties.html#23157" class="Bound">x</a> <a id="23159" class="Symbol">=</a> <a id="23161" href="Ledger.Ledger.Properties.html#23157" class="Bound">x</a>
  <a id="23165" href="Ledger.Ledger.Properties.html#22884" class="Function">utxo-govst-connex</a> <a id="23183" class="Symbol">(</a><a id="23184" href="Ledger.Ledger.Properties.html#23184" class="Bound">p</a> <a id="23186" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="23188" href="Ledger.Ledger.Properties.html#23188" class="Bound">ps</a><a id="23190" class="Symbol">)</a> <a id="23192" class="Symbol">{</a><a id="23193" href="Ledger.Ledger.Properties.html#23193" class="Bound">utxoDs</a><a id="23199" class="Symbol">}</a> <a id="23201" class="Symbol">{</a><a id="23202" href="Ledger.Ledger.Properties.html#23202" class="Bound">gSt</a><a id="23205" class="Symbol">}</a> <a id="23207" class="Symbol">{</a><a id="23208" href="Ledger.Ledger.Properties.html#23208" class="Bound">gad</a><a id="23211" class="Symbol">}</a> <a id="23213" href="Ledger.Ledger.Properties.html#23213" class="Bound">x</a> <a id="23215" class="Symbol">=</a> <a id="23217" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="23227" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23235" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="23247" class="Symbol">(</a><a id="23248" href="Class.IsSet.html#916" class="Function">dom</a> <a id="23252" class="Symbol">(</a><a id="23253" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="23276" class="Symbol">(</a><a id="23277" href="Ledger.Ledger.Properties.html#23184" class="Bound">p</a> <a id="23279" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="23281" href="Ledger.Ledger.Properties.html#23188" class="Bound">ps</a><a id="23283" class="Symbol">)</a> <a id="23285" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23290" href="Ledger.Ledger.Properties.html#23208" class="Bound">gad</a> <a id="23294" href="Ledger.Ledger.Properties.html#23193" class="Bound">utxoDs</a><a id="23300" class="Symbol">))</a>
      <a id="23309" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="23312" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="23327" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="23338" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="23344" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23352" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="23364" class="Symbol">((</a><a id="23366" href="Class.IsSet.html#916" class="Function">dom</a> <a id="23370" class="Symbol">(</a><a id="23371" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="23394" href="Ledger.Ledger.Properties.html#23188" class="Bound">ps</a> <a id="23397" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23402" href="Ledger.Ledger.Properties.html#23208" class="Bound">gad</a> <a id="23406" href="Ledger.Ledger.Properties.html#23193" class="Bound">utxoDs</a><a id="23412" class="Symbol">))</a>
      <a id="23421" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="23423" class="Symbol">(</a><a id="23424" href="Class.IsSet.html#916" class="Function">dom</a><a id="23427" class="Symbol">{</a><a id="23428" class="Argument">X</a> <a id="23430" class="Symbol">=</a> <a id="23432" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="23447" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="23449" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="23453" class="Symbol">}</a> <a id="23455" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="23457" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="23474" class="Symbol">(</a><a id="23475" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23480" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23482" href="Data.List.Base.html#5044" class="Function">length</a> <a id="23489" href="Ledger.Ledger.Properties.html#23188" class="Bound">ps</a><a id="23491" class="Symbol">)</a> <a id="23493" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23495" href="Ledger.Ledger.Properties.html#23208" class="Bound">gad</a> <a id="23499" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="23500" class="Symbol">))</a>
      <a id="23509" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="23512" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="23525" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="23531" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23539" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="23551" class="Symbol">(</a><a id="23552" href="Class.IsSet.html#916" class="Function">dom</a> <a id="23556" class="Symbol">(</a><a id="23557" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="23580" href="Ledger.Ledger.Properties.html#23188" class="Bound">ps</a> <a id="23583" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23588" href="Ledger.Ledger.Properties.html#23208" class="Bound">gad</a> <a id="23592" href="Ledger.Ledger.Properties.html#23193" class="Bound">utxoDs</a><a id="23598" class="Symbol">))</a> <a id="23601" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="23603" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23611" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a>
        <a id="23631" class="Symbol">(</a><a id="23632" href="Class.IsSet.html#916" class="Function">dom</a><a id="23635" class="Symbol">{</a><a id="23636" class="Argument">X</a> <a id="23638" class="Symbol">=</a> <a id="23640" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="23655" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="23657" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="23661" class="Symbol">}</a> <a id="23663" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="23665" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="23682" class="Symbol">(</a><a id="23683" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23688" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23690" href="Data.List.Base.html#5044" class="Function">length</a> <a id="23697" href="Ledger.Ledger.Properties.html#23188" class="Bound">ps</a><a id="23699" class="Symbol">)</a> <a id="23701" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23703" href="Ledger.Ledger.Properties.html#23208" class="Bound">gad</a> <a id="23707" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="23708" class="Symbol">)</a>
      <a id="23716" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="23719" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="23726" class="Symbol">(</a><a id="23727" href="Ledger.Ledger.Properties.html#22884" class="Function">utxo-govst-connex</a> <a id="23745" href="Ledger.Ledger.Properties.html#23188" class="Bound">ps</a> <a id="23748" href="Ledger.Ledger.Properties.html#23213" class="Bound">x</a><a id="23749" class="Symbol">)</a> <a id="23751" class="Symbol">(</a><a id="23752" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="23767" href="Axiom.Set.Rel.html#3373" class="Function">dom-single≡single</a><a id="23784" class="Symbol">)</a> <a id="23786" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="23792" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23801" class="Symbol">(</a><a id="23802" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="23808" class="Symbol">(</a><a id="23809" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="23825" class="Symbol">(</a><a id="23826" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="23830" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="23835" href="Ledger.Ledger.Properties.html#23188" class="Bound">ps</a><a id="23837" class="Symbol">)</a> <a id="23839" class="Number">0</a> <a id="23841" href="Ledger.Ledger.Properties.html#23202" class="Bound">gSt</a><a id="23844" class="Symbol">))</a>
      <a id="23853" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="23855" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="23863" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="23875" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="23877" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="23894" class="Symbol">(</a><a id="23895" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23900" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23902" href="Data.List.Base.html#5044" class="Function">length</a> <a id="23909" href="Ledger.Ledger.Properties.html#23188" class="Bound">ps</a><a id="23911" class="Symbol">)</a> <a id="23913" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="23921" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="23924" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a>  <a id="23932" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="23940" class="Symbol">(</a><a id="23941" href="Ledger.Ledger.Properties.html#8765" class="Function">filterGA</a> <a id="23950" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="23955" class="Symbol">_)</a> <a id="23958" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="23964" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23973" class="Symbol">(</a><a id="23974" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="23980" class="Symbol">(</a><a id="23981" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="23997" class="Symbol">(</a><a id="23998" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24002" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24007" href="Ledger.Ledger.Properties.html#23188" class="Bound">ps</a><a id="24009" class="Symbol">)</a> <a id="24011" class="Number">0</a> <a id="24013" href="Ledger.Ledger.Properties.html#23202" class="Bound">gSt</a><a id="24016" class="Symbol">))</a> <a id="24019" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="24021" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="24023" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="24040" class="Symbol">(</a><a id="24041" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="24046" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24048" href="Data.List.Base.html#5044" class="Function">length</a> <a id="24055" href="Ledger.Ledger.Properties.html#23188" class="Bound">ps</a><a id="24057" class="Symbol">)</a> <a id="24059" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="24067" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="24070" href="Ledger.Ledger.Properties.html#21272" class="Function">connex-lemma</a> <a id="24083" href="Ledger.Ledger.Properties.html#23202" class="Bound">gSt</a> <a id="24087" href="Ledger.Ledger.Properties.html#23184" class="Bound">p</a> <a id="24089" href="Ledger.Ledger.Properties.html#23188" class="Bound">ps</a> <a id="24092" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="24098" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24107" class="Symbol">(</a><a id="24108" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24114" class="Symbol">(</a><a id="24115" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="24131" class="Symbol">(</a><a id="24132" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24136" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24141" class="Symbol">(</a><a id="24142" href="Ledger.Ledger.Properties.html#23184" class="Bound">p</a> <a id="24144" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="24146" href="Ledger.Ledger.Properties.html#23188" class="Bound">ps</a><a id="24148" class="Symbol">))</a> <a id="24151" class="Number">0</a> <a id="24153" href="Ledger.Ledger.Properties.html#23202" class="Bound">gSt</a><a id="24156" class="Symbol">))</a> <a id="24159" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="24164" class="Comment">-- The list of natural numbers from 0 up to `n` - 1.</a>
  <a id="SetoidProperties.⟦0:&lt;_⟧"></a><a id="24219" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;_⟧</a> <a id="24226" class="Symbol">:</a> <a id="24228" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="24230" class="Symbol">→</a> <a id="24232" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="24237" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="24241" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="24246" class="Number">0</a>     <a id="24252" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a> <a id="24254" class="Symbol">=</a> <a id="24256" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="24261" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="24266" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="24270" href="Ledger.Ledger.Properties.html#24270" class="Bound">n</a> <a id="24272" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a> <a id="24274" class="Symbol">=</a> <a id="24276" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="24281" href="Ledger.Ledger.Properties.html#24270" class="Bound">n</a> <a id="24283" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a> <a id="24285" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="24288" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="24290" href="Ledger.Ledger.Properties.html#24270" class="Bound">n</a> <a id="24292" href="Data.List.Base.html#5205" class="Function Operator">]</a>

  <a id="SetoidProperties.connex-lemma-rep"></a><a id="24297" href="Ledger.Ledger.Properties.html#24297" class="Function">connex-lemma-rep</a> <a id="24314" class="Symbol">:</a> <a id="24316" class="Symbol">∀</a> <a id="24318" href="Ledger.Ledger.Properties.html#24318" class="Bound">k</a> <a id="24320" href="Ledger.Ledger.Properties.html#24320" class="Bound">govSt</a> <a id="24326" href="Ledger.Ledger.Properties.html#24326" class="Bound">ps</a> <a id="24329" class="Symbol">→</a>
    <a id="24335" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24344" class="Symbol">(</a><a id="24345" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24351" class="Symbol">(</a><a id="24352" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="24368" class="Symbol">(</a><a id="24369" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24373" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24378" href="Ledger.Ledger.Properties.html#24326" class="Bound">ps</a><a id="24380" class="Symbol">)</a> <a id="24382" href="Ledger.Ledger.Properties.html#24318" class="Bound">k</a> <a id="24384" href="Ledger.Ledger.Properties.html#24320" class="Bound">govSt</a><a id="24389" class="Symbol">))</a>
    <a id="24396" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a>
    <a id="24403" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24412" class="Symbol">(</a><a id="24413" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24419" href="Ledger.Ledger.Properties.html#24320" class="Bound">govSt</a><a id="24424" class="Symbol">)</a> <a id="24426" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="24428" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24437" class="Symbol">(</a><a id="24438" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24442" class="Symbol">(λ</a> <a id="24445" href="Ledger.Ledger.Properties.html#24445" class="Bound">i</a> <a id="24447" class="Symbol">→</a> <a id="24449" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="24466" class="Symbol">(</a><a id="24467" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="24472" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24474" href="Ledger.Ledger.Properties.html#24318" class="Bound">k</a> <a id="24476" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24478" href="Ledger.Ledger.Properties.html#24445" class="Bound">i</a><a id="24479" class="Symbol">))</a> <a id="24482" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="24487" href="Data.List.Base.html#5044" class="Function">length</a> <a id="24494" href="Ledger.Ledger.Properties.html#24326" class="Bound">ps</a> <a id="24497" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a><a id="24498" class="Symbol">)</a>
  <a id="24502" href="Ledger.Ledger.Properties.html#24297" class="Function">connex-lemma-rep</a> <a id="24519" href="Ledger.Ledger.Properties.html#24519" class="Bound">k</a> <a id="24521" href="Ledger.Ledger.Properties.html#24521" class="Bound">govSt</a> <a id="24527" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="24530" class="Symbol">=</a> <a id="24532" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="24542" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24551" class="Symbol">(</a><a id="24552" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24558" href="Ledger.Ledger.Properties.html#24521" class="Bound">govSt</a><a id="24563" class="Symbol">)</a>
      <a id="24571" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="24575" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="24587" class="Symbol">(</a><a id="24588" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24597" class="Symbol">(</a><a id="24598" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24604" href="Ledger.Ledger.Properties.html#24521" class="Bound">govSt</a><a id="24609" class="Symbol">))</a> <a id="24612" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="24618" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24627" class="Symbol">(</a><a id="24628" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24634" href="Ledger.Ledger.Properties.html#24521" class="Bound">govSt</a><a id="24639" class="Symbol">)</a> <a id="24641" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="24643" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24652" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="24661" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="24669" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24678" class="Symbol">(</a><a id="24679" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24685" href="Ledger.Ledger.Properties.html#24521" class="Bound">govSt</a><a id="24690" class="Symbol">)</a> <a id="24692" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="24694" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24703" class="Symbol">(</a><a id="24704" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24708" class="Symbol">(λ</a> <a id="24711" href="Ledger.Ledger.Properties.html#24711" class="Bound">i</a> <a id="24713" class="Symbol">→</a> <a id="24715" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="24732" class="Symbol">(</a><a id="24733" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="24738" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24740" href="Ledger.Ledger.Properties.html#24519" class="Bound">k</a> <a id="24742" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24744" href="Ledger.Ledger.Properties.html#24711" class="Bound">i</a><a id="24745" class="Symbol">))</a> <a id="24748" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="24753" class="Number">0</a> <a id="24755" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a><a id="24756" class="Symbol">)</a> <a id="24758" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="24762" href="Ledger.Ledger.Properties.html#24297" class="Function">connex-lemma-rep</a> <a id="24779" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="24781" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a> <a id="24787" class="Symbol">(</a><a id="24788" href="Ledger.Ledger.Properties.html#24788" class="Bound">p</a> <a id="24790" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="24792" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="24794" class="Symbol">)</a> <a id="24796" class="Symbol">=</a> <a id="24798" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="24808" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24817" class="Symbol">(</a><a id="24818" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24824" class="Symbol">(</a><a id="24825" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="24841" class="Symbol">(</a><a id="24842" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24846" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24851" class="Symbol">(</a><a id="24852" href="Ledger.Ledger.Properties.html#24788" class="Bound">p</a> <a id="24854" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="24856" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="24858" class="Symbol">))</a> <a id="24861" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="24863" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a><a id="24868" class="Symbol">))</a>
      <a id="24877" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="24885" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24894" class="Symbol">(</a><a id="24895" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24901" class="Symbol">(</a><a id="24902" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="24918" class="Symbol">(</a><a id="24919" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24924" href="Ledger.Ledger.Properties.html#24788" class="Bound">p</a> <a id="24926" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="24928" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="24932" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="24937" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="24939" class="Symbol">)</a> <a id="24941" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="24943" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a><a id="24948" class="Symbol">))</a>
      <a id="24957" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="24965" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="24974" class="Symbol">(</a><a id="24975" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="24981" class="Symbol">(</a><a id="24982" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="24998" class="Symbol">(</a><a id="24999" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="25003" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="25008" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="25010" class="Symbol">)</a> <a id="25012" class="Symbol">(</a><a id="25013" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="25017" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a><a id="25018" class="Symbol">)</a> <a id="25020" class="Symbol">(</a><a id="25021" href="Ledger.Ledger.Properties.html#9779" class="Function">propUpdate</a> <a id="25032" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a> <a id="25038" href="Ledger.Ledger.Properties.html#24788" class="Bound">p</a> <a id="25040" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a><a id="25041" class="Symbol">)))</a>
      <a id="25051" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="25055" href="Ledger.Ledger.Properties.html#21272" class="Function">connex-lemma</a> <a id="25068" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a> <a id="25074" href="Ledger.Ledger.Properties.html#24788" class="Bound">p</a> <a id="25076" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a> <a id="25079" class="Symbol">{</a><a id="25080" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a><a id="25081" class="Symbol">}</a> <a id="25083" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="25089" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25098" class="Symbol">(</a><a id="25099" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="25105" class="Symbol">(</a><a id="25106" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="25122" class="Symbol">(</a><a id="25123" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="25127" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="25132" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="25134" class="Symbol">)</a> <a id="25136" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="25138" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a><a id="25143" class="Symbol">))</a> <a id="25146" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25148" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="25150" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25167" class="Symbol">(</a><a id="25168" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25173" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25175" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="25177" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25179" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25186" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="25188" class="Symbol">)</a> <a id="25190" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="25198" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="25201" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="25208" class="Symbol">(</a><a id="25209" href="Ledger.Ledger.Properties.html#24297" class="Function">connex-lemma-rep</a> <a id="25226" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="25228" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a> <a id="25234" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="25236" class="Symbol">)</a> <a id="25238" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="25246" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="25252" class="Symbol">(</a><a id="25253" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25262" class="Symbol">(</a><a id="25263" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="25269" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a><a id="25274" class="Symbol">)</a> <a id="25276" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25278" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25287" class="Symbol">(</a><a id="25288" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="25292" class="Symbol">(λ</a> <a id="25295" href="Ledger.Ledger.Properties.html#25295" class="Bound">i</a> <a id="25297" class="Symbol">→</a> <a id="25299" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25316" class="Symbol">(</a><a id="25317" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25322" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25324" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="25326" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25328" href="Ledger.Ledger.Properties.html#25295" class="Bound">i</a><a id="25329" class="Symbol">))</a> <a id="25332" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="25337" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25344" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a> <a id="25347" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a><a id="25348" class="Symbol">))</a> <a id="25351" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25353" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="25355" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25372" class="Symbol">(</a><a id="25373" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25378" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25380" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="25382" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25384" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25391" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="25393" class="Symbol">)</a> <a id="25395" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="25403" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="25406" href="Axiom.Set.Properties.html#12114" class="Function">∪-assoc</a> <a id="25414" class="Symbol">(</a><a id="25415" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25424" class="Symbol">(</a><a id="25425" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="25431" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a><a id="25436" class="Symbol">))</a> <a id="25439" class="Symbol">(</a><a id="25440" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25449" class="Symbol">(</a><a id="25450" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="25454" class="Symbol">(λ</a> <a id="25457" href="Ledger.Ledger.Properties.html#25457" class="Bound">i</a> <a id="25459" class="Symbol">→</a> <a id="25461" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25478" class="Symbol">(</a><a id="25479" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25484" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25486" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="25488" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25490" href="Ledger.Ledger.Properties.html#25457" class="Bound">i</a><a id="25491" class="Symbol">))</a> <a id="25494" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="25499" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25506" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a> <a id="25509" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a><a id="25510" class="Symbol">))</a> <a id="25513" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="25515" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25532" class="Symbol">(</a><a id="25533" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25538" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25540" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="25542" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25544" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25551" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="25553" class="Symbol">)</a> <a id="25555" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="25557" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="25563" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25572" class="Symbol">(</a><a id="25573" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="25579" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a><a id="25584" class="Symbol">)</a> <a id="25586" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25588" class="Symbol">(</a><a id="25589" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25598" class="Symbol">(</a><a id="25599" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="25603" class="Symbol">(λ</a> <a id="25606" href="Ledger.Ledger.Properties.html#25606" class="Bound">i</a> <a id="25608" class="Symbol">→</a> <a id="25610" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25627" class="Symbol">(</a><a id="25628" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25633" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25635" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="25637" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25639" href="Ledger.Ledger.Properties.html#25606" class="Bound">i</a><a id="25640" class="Symbol">))</a> <a id="25643" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="25648" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25655" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a> <a id="25658" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a><a id="25659" class="Symbol">)</a> <a id="25661" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25663" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="25665" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25682" class="Symbol">(</a><a id="25683" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25688" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25690" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="25692" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25694" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25701" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="25703" class="Symbol">)</a> <a id="25705" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="25706" class="Symbol">)</a>
      <a id="25714" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="25722" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25731" class="Symbol">(</a><a id="25732" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="25738" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a><a id="25743" class="Symbol">)</a> <a id="25745" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25747" class="Symbol">(</a><a id="25748" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25757" class="Symbol">(</a><a id="25758" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="25762" class="Symbol">(λ</a> <a id="25765" href="Ledger.Ledger.Properties.html#25765" class="Bound">i</a> <a id="25767" class="Symbol">→</a> <a id="25769" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25786" class="Symbol">(</a><a id="25787" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25792" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25794" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="25796" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25798" href="Ledger.Ledger.Properties.html#25765" class="Bound">i</a><a id="25799" class="Symbol">))</a> <a id="25802" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="25807" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25814" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a> <a id="25817" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a><a id="25818" class="Symbol">)</a> <a id="25820" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="25822" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="25831" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="25833" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25850" class="Symbol">(</a><a id="25851" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25856" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25858" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="25860" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25862" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25869" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="25871" class="Symbol">)</a> <a id="25873" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="25874" class="Symbol">)</a>
      <a id="25882" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="25885" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="25892" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="25900" class="Symbol">(</a><a id="25901" href="Axiom.Set.Properties.html#12610" class="Function">∪-fromList-++</a> <a id="25915" class="Symbol">(</a><a id="25916" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="25920" class="Symbol">(λ</a> <a id="25923" href="Ledger.Ledger.Properties.html#25923" class="Bound">i</a> <a id="25925" class="Symbol">→</a> <a id="25927" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25944" class="Symbol">(</a><a id="25945" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="25950" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25952" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="25954" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25956" href="Ledger.Ledger.Properties.html#25923" class="Bound">i</a><a id="25957" class="Symbol">))</a> <a id="25960" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="25965" href="Data.List.Base.html#5044" class="Function">length</a> <a id="25972" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a> <a id="25975" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a><a id="25976" class="Symbol">)</a> <a id="25978" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="25980" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="25997" class="Symbol">(</a><a id="25998" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="26003" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26005" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="26007" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="26009" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26016" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="26018" class="Symbol">)</a> <a id="26020" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="26021" class="Symbol">)</a> <a id="26023" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="26029" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26038" class="Symbol">(</a><a id="26039" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26045" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a><a id="26050" class="Symbol">)</a> <a id="26052" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="26054" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26063" class="Symbol">(</a><a id="26064" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="26068" class="Symbol">(λ</a> <a id="26071" href="Ledger.Ledger.Properties.html#26071" class="Bound">i</a> <a id="26073" class="Symbol">→</a> <a id="26075" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="26092" class="Symbol">(</a><a id="26093" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="26098" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26100" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="26102" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="26104" href="Ledger.Ledger.Properties.html#26071" class="Bound">i</a><a id="26105" class="Symbol">))</a> <a id="26108" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="26113" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26120" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a> <a id="26123" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a> <a id="26125" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="26128" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="26130" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="26147" class="Symbol">(</a><a id="26148" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="26153" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26155" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="26157" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="26159" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26166" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="26168" class="Symbol">)</a> <a id="26170" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="26171" class="Symbol">)</a>
      <a id="26179" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="26183" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="26188" class="Symbol">(λ</a> <a id="26191" href="Ledger.Ledger.Properties.html#26191" class="Bound">x</a> <a id="26193" class="Symbol">→</a> <a id="26195" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26204" class="Symbol">(</a><a id="26205" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26211" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a><a id="26216" class="Symbol">)</a> <a id="26218" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="26220" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26229" href="Ledger.Ledger.Properties.html#26191" class="Bound">x</a><a id="26230" class="Symbol">)</a> <a id="26232" class="Symbol">(</a><a id="26233" href="Data.List.Properties.html#3823" class="Function">map-++</a> <a id="26240" class="Symbol">_</a> <a id="26242" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="26247" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26254" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a> <a id="26257" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a> <a id="26259" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="26261" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26268" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a> <a id="26271" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="26272" class="Symbol">)</a> <a id="26274" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="26280" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26289" class="Symbol">(</a><a id="26290" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26296" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a><a id="26301" class="Symbol">)</a> <a id="26303" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="26305" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26314" class="Symbol">(</a><a id="26315" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="26319" class="Symbol">(λ</a> <a id="26322" href="Ledger.Ledger.Properties.html#26322" class="Bound">i</a> <a id="26324" class="Symbol">→</a> <a id="26326" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="26343" class="Symbol">(</a><a id="26344" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="26349" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26351" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="26353" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="26355" href="Ledger.Ledger.Properties.html#26322" class="Bound">i</a><a id="26356" class="Symbol">))</a> <a id="26359" class="Symbol">(</a><a id="26360" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="26365" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26372" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a> <a id="26375" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a> <a id="26377" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="26380" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="26382" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26389" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a> <a id="26392" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="26393" class="Symbol">))</a>
      <a id="26402" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="26410" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26419" class="Symbol">(</a><a id="26420" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26426" href="Ledger.Ledger.Properties.html#24781" class="Bound">govSt</a><a id="26431" class="Symbol">)</a> <a id="26433" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="26435" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26444" class="Symbol">(</a><a id="26445" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="26449" class="Symbol">(λ</a> <a id="26452" href="Ledger.Ledger.Properties.html#26452" class="Bound">i</a> <a id="26454" class="Symbol">→</a> <a id="26456" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="26473" class="Symbol">(</a><a id="26474" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="26479" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26481" href="Ledger.Ledger.Properties.html#24779" class="Bound">k</a> <a id="26483" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="26485" href="Ledger.Ledger.Properties.html#26452" class="Bound">i</a><a id="26486" class="Symbol">))</a> <a id="26489" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="26494" href="Data.List.Base.html#5044" class="Function">length</a> <a id="26501" class="Symbol">(</a><a id="26502" href="Ledger.Ledger.Properties.html#24788" class="Bound">p</a> <a id="26504" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="26506" href="Ledger.Ledger.Properties.html#24792" class="Bound">ps</a><a id="26508" class="Symbol">)</a> <a id="26510" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a><a id="26511" class="Symbol">)</a> <a id="26513" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="26518" class="Comment">-- Removing orphan DRep votes does not modify the set of GAs in GovState</a>
  <a id="SetoidProperties.|ᵒ-GAs-pres"></a><a id="26593" href="Ledger.Ledger.Properties.html#26593" class="Function">|ᵒ-GAs-pres</a> <a id="26605" class="Symbol">:</a> <a id="26607" class="Symbol">∀</a> <a id="26609" href="Ledger.Ledger.Properties.html#26609" class="Bound">k</a> <a id="26611" href="Ledger.Ledger.Properties.html#26611" class="Bound">govSt</a> <a id="26617" href="Ledger.Ledger.Properties.html#26617" class="Bound">certState</a> <a id="26627" class="Symbol">→</a>
    <a id="26633" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26642" class="Symbol">(</a><a id="26643" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26649" class="Symbol">(</a><a id="26650" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="26666" class="Symbol">(</a><a id="26667" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="26673" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a><a id="26676" class="Symbol">)</a> <a id="26678" href="Ledger.Ledger.Properties.html#26609" class="Bound">k</a> <a id="26680" class="Symbol">(</a><a id="26681" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="26699" href="Ledger.Ledger.Properties.html#26617" class="Bound">certState</a> <a id="26709" href="Ledger.Ledger.Properties.html#26611" class="Bound">govSt</a><a id="26714" class="Symbol">)))</a>
    <a id="26722" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a>
    <a id="26729" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26738" class="Symbol">(</a><a id="26739" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26745" class="Symbol">(</a><a id="26746" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="26762" class="Symbol">(</a><a id="26763" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="26769" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a><a id="26772" class="Symbol">)</a> <a id="26774" href="Ledger.Ledger.Properties.html#26609" class="Bound">k</a> <a id="26776" href="Ledger.Ledger.Properties.html#26611" class="Bound">govSt</a><a id="26781" class="Symbol">))</a>
  <a id="26786" href="Ledger.Ledger.Properties.html#26593" class="Function">|ᵒ-GAs-pres</a> <a id="26798" href="Ledger.Ledger.Properties.html#26798" class="Bound">k</a> <a id="26800" href="Ledger.Ledger.Properties.html#26800" class="Bound">govSt</a> <a id="26806" href="Ledger.Ledger.Properties.html#26806" class="Bound">certState</a> <a id="26816" class="Symbol">=</a> <a id="26818" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="26828" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="26837" class="Symbol">(</a><a id="26838" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="26844" class="Symbol">(</a><a id="26845" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="26861" class="Symbol">(</a><a id="26862" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="26868" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a><a id="26871" class="Symbol">)</a> <a id="26873" href="Ledger.Ledger.Properties.html#26798" class="Bound">k</a> <a id="26875" class="Symbol">(</a><a id="26876" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="26894" href="Ledger.Ledger.Properties.html#26806" class="Bound">certState</a> <a id="26904" href="Ledger.Ledger.Properties.html#26800" class="Bound">govSt</a><a id="26909" class="Symbol">)))</a>
      <a id="26919" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="26922" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="26946" href="Ledger.Transaction.html#2880" class="Function">txvote</a> <a id="26953" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="26960" class="Symbol">{</a><a id="26961" href="Ledger.Ledger.Properties.html#26798" class="Bound">k</a><a id="26962" class="Symbol">}</a> <a id="26964" class="Symbol">{</a><a id="26965" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="26983" href="Ledger.Ledger.Properties.html#26806" class="Bound">certState</a> <a id="26993" href="Ledger.Ledger.Properties.html#26800" class="Bound">govSt</a><a id="26998" class="Symbol">}</a> <a id="27000" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="27006" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27015" class="Symbol">(</a><a id="27016" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="27022" class="Symbol">(</a><a id="27023" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="27039" class="Symbol">(</a><a id="27040" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="27044" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="27049" href="Ledger.Transaction.html#2916" class="Function">txprop</a><a id="27055" class="Symbol">)</a> <a id="27057" href="Ledger.Ledger.Properties.html#26798" class="Bound">k</a> <a id="27059" class="Symbol">(</a><a id="27060" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="27078" href="Ledger.Ledger.Properties.html#26806" class="Bound">certState</a> <a id="27088" href="Ledger.Ledger.Properties.html#26800" class="Bound">govSt</a><a id="27093" class="Symbol">)))</a>
      <a id="27103" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="27106" href="Ledger.Ledger.Properties.html#24297" class="Function">connex-lemma-rep</a> <a id="27123" href="Ledger.Ledger.Properties.html#26798" class="Bound">k</a> <a id="27125" class="Symbol">(</a><a id="27126" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="27144" href="Ledger.Ledger.Properties.html#26806" class="Bound">certState</a> <a id="27154" href="Ledger.Ledger.Properties.html#26800" class="Bound">govSt</a><a id="27159" class="Symbol">)</a> <a id="27161" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="27168" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="27174" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27183" class="Symbol">(</a><a id="27184" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="27190" class="Symbol">(</a><a id="27191" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="27209" href="Ledger.Ledger.Properties.html#26806" class="Bound">certState</a> <a id="27219" href="Ledger.Ledger.Properties.html#26800" class="Bound">govSt</a><a id="27224" class="Symbol">))</a> <a id="27227" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="27229" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27238" class="Symbol">(</a><a id="27239" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="27243" class="Symbol">(λ</a> <a id="27246" href="Ledger.Ledger.Properties.html#27246" class="Bound">i</a> <a id="27248" class="Symbol">→</a> <a id="27250" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="27267" class="Symbol">(</a><a id="27268" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="27273" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27275" href="Ledger.Ledger.Properties.html#26798" class="Bound">k</a> <a id="27277" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="27279" href="Ledger.Ledger.Properties.html#27246" class="Bound">i</a><a id="27280" class="Symbol">))</a> <a id="27283" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="27288" href="Data.List.Base.html#5044" class="Function">length</a> <a id="27295" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="27302" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a><a id="27303" class="Symbol">)</a>
      <a id="27311" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27314" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27319" class="Symbol">(λ</a> <a id="27322" href="Ledger.Ledger.Properties.html#27322" class="Bound">x</a> <a id="27324" class="Symbol">→</a> <a id="27326" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27335" href="Ledger.Ledger.Properties.html#27322" class="Bound">x</a> <a id="27337" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="27339" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27348" class="Symbol">(</a><a id="27349" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="27353" class="Symbol">(λ</a> <a id="27356" href="Ledger.Ledger.Properties.html#27356" class="Bound">i</a> <a id="27358" class="Symbol">→</a> <a id="27360" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="27377" class="Symbol">(</a><a id="27378" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="27383" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27385" href="Ledger.Ledger.Properties.html#26798" class="Bound">k</a> <a id="27387" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="27389" href="Ledger.Ledger.Properties.html#27356" class="Bound">i</a><a id="27390" class="Symbol">))</a> <a id="27393" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="27398" href="Data.List.Base.html#5044" class="Function">length</a> <a id="27405" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="27412" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a><a id="27413" class="Symbol">))</a> <a id="27416" class="Symbol">(</a><a id="27417" href="Ledger.Ledger.Properties.html#11413" class="Function">dpMap-rmOrphanDRepVotes</a> <a id="27441" href="Ledger.Ledger.Properties.html#26806" class="Bound">certState</a> <a id="27451" href="Ledger.Ledger.Properties.html#26800" class="Bound">govSt</a><a id="27456" class="Symbol">)</a> <a id="27458" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="27464" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27473" class="Symbol">(</a><a id="27474" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="27480" href="Ledger.Ledger.Properties.html#26800" class="Bound">govSt</a><a id="27485" class="Symbol">)</a> <a id="27487" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="27489" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27498" class="Symbol">(</a><a id="27499" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="27503" class="Symbol">(λ</a> <a id="27506" href="Ledger.Ledger.Properties.html#27506" class="Bound">i</a> <a id="27508" class="Symbol">→</a> <a id="27510" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="27527" class="Symbol">(</a><a id="27528" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="27533" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27535" href="Ledger.Ledger.Properties.html#26798" class="Bound">k</a> <a id="27537" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="27539" href="Ledger.Ledger.Properties.html#27506" class="Bound">i</a><a id="27540" class="Symbol">))</a> <a id="27543" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟦0:&lt;</a> <a id="27548" href="Data.List.Base.html#5044" class="Function">length</a> <a id="27555" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="27562" href="Ledger.Ledger.Properties.html#24219" class="Function Operator">⟧</a><a id="27563" class="Symbol">)</a>
      <a id="27571" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="27575" href="Ledger.Ledger.Properties.html#24297" class="Function">connex-lemma-rep</a> <a id="27592" href="Ledger.Ledger.Properties.html#26798" class="Bound">k</a> <a id="27594" href="Ledger.Ledger.Properties.html#26800" class="Bound">govSt</a> <a id="27600" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="27607" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="27613" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27622" class="Symbol">(</a><a id="27623" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="27629" class="Symbol">(</a><a id="27630" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="27646" class="Symbol">(</a><a id="27647" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="27651" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="27656" href="Ledger.Transaction.html#2916" class="Function">txprop</a><a id="27662" class="Symbol">)</a> <a id="27664" href="Ledger.Ledger.Properties.html#26798" class="Bound">k</a> <a id="27666" href="Ledger.Ledger.Properties.html#26800" class="Bound">govSt</a><a id="27671" class="Symbol">))</a>
      <a id="27680" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="27684" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="27708" href="Ledger.Transaction.html#2880" class="Function">txvote</a> <a id="27715" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="27722" class="Symbol">{</a><a id="27723" href="Ledger.Ledger.Properties.html#26798" class="Bound">k</a><a id="27724" class="Symbol">}</a> <a id="27726" class="Symbol">{</a><a id="27727" href="Ledger.Ledger.Properties.html#26800" class="Bound">govSt</a><a id="27732" class="Symbol">}</a> <a id="27734" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="27740" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="27749" class="Symbol">(</a><a id="27750" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="27756" class="Symbol">(</a><a id="27757" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="27773" class="Symbol">(</a><a id="27774" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="27780" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a><a id="27783" class="Symbol">)</a> <a id="27785" href="Ledger.Ledger.Properties.html#26798" class="Bound">k</a> <a id="27787" href="Ledger.Ledger.Properties.html#26800" class="Bound">govSt</a><a id="27792" class="Symbol">))</a> <a id="27795" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="27800" class="Comment">-- GA Deposits Invariance Property for LEDGER STS ----------------------------------------------------</a>
  <a id="SetoidProperties.LEDGER-govDepsMatch"></a><a id="27905" href="Ledger.Ledger.Properties.html#27905" class="Function">LEDGER-govDepsMatch</a> <a id="27925" class="Symbol">:</a> <a id="27927" class="Symbol">∀</a> <a id="27929" class="Symbol">{</a><a id="27930" href="Ledger.Ledger.Properties.html#27930" class="Bound">s&#39;</a> <a id="27933" class="Symbol">:</a> <a id="27935" href="Ledger.Ledger.html#715" class="Record">LState</a><a id="27941" class="Symbol">}</a> <a id="27943" class="Symbol">→</a> <a id="27945" href="Ledger.Ledger.Properties.html#11679" class="Bound">Γ</a> <a id="27947" href="Ledger.Ledger.html#1873" class="Datatype Operator">⊢</a> <a id="27949" href="Ledger.Ledger.Properties.html#11690" class="Bound">s</a> <a id="27951" href="Ledger.Ledger.html#1873" class="Datatype Operator">⇀⦇</a> <a id="27954" href="Ledger.Ledger.Properties.html#11669" class="Bound">tx</a> <a id="27957" href="Ledger.Ledger.html#1873" class="Datatype Operator">,LEDGER⦈</a> <a id="27966" href="Ledger.Ledger.Properties.html#27930" class="Bound">s&#39;</a>
                        <a id="27993" class="Symbol">→</a> <a id="27995" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="28008" href="Ledger.Ledger.Properties.html#11690" class="Bound">s</a> <a id="28010" class="Symbol">→</a> <a id="28012" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="28025" href="Ledger.Ledger.Properties.html#27930" class="Bound">s&#39;</a>
  <a id="28030" href="Ledger.Ledger.Properties.html#27905" class="Function">LEDGER-govDepsMatch</a> <a id="28050" class="Symbol">(</a><a id="28051" href="Ledger.Ledger.html#2929" class="InductiveConstructor">LEDGER-I⋯</a> <a id="28061" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="28066" class="Symbol">(</a><a id="28067" href="Ledger.Ledger.Properties.html#8662" class="InductiveConstructor">UTXOW-UTXOS</a> <a id="28079" class="Symbol">(</a><a id="28080" href="Ledger.Utxo.html#12974" class="InductiveConstructor">Scripts-No</a> <a id="28091" class="Symbol">_)))</a> <a id="28096" href="Ledger.Ledger.Properties.html#28096" class="Bound">aprioriMatch</a> <a id="28109" class="Symbol">=</a> <a id="28111" href="Ledger.Ledger.Properties.html#28096" class="Bound">aprioriMatch</a>

  <a id="28127" href="Ledger.Ledger.Properties.html#27905" class="Function">LEDGER-govDepsMatch</a> <a id="28147" class="Symbol">{</a><a id="28148" class="Argument">s&#39;</a> <a id="28151" class="Symbol">=</a> <a id="28153" href="Ledger.Ledger.Properties.html#28153" class="Bound">s&#39;</a><a id="28155" class="Symbol">}</a>
    <a id="28161" href="Ledger.Ledger.Properties.html#28161" class="Bound">utxosts</a><a id="28168" class="Symbol">@(</a><a id="28170" href="Ledger.Ledger.html#2876" class="InductiveConstructor">LEDGER-V⋯</a> <a id="28180" href="Ledger.Ledger.Properties.html#28180" class="Bound">tx-valid</a> <a id="28189" class="Symbol">(</a><a id="28190" href="Ledger.Ledger.Properties.html#8662" class="InductiveConstructor">UTXOW-UTXOS</a> <a id="28202" class="Symbol">(</a><a id="28203" href="Ledger.Utxo.html#12460" class="InductiveConstructor">Scripts-Yes</a> <a id="28215" href="Ledger.Ledger.Properties.html#28215" class="Bound">x</a><a id="28216" class="Symbol">))</a> <a id="28219" class="Symbol">_</a> <a id="28221" href="Ledger.Ledger.Properties.html#28221" class="Bound">GOV-sts</a><a id="28228" class="Symbol">)</a> <a id="28230" href="Ledger.Ledger.Properties.html#28230" class="Bound">aprioriMatch</a> <a id="28243" class="Symbol">=</a>
    <a id="28249" class="Keyword">let</a> <a id="28253" class="Keyword">open</a> <a id="28258" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="28265" href="Ledger.Ledger.Properties.html#28153" class="Bound">s&#39;</a> <a id="28268" class="Keyword">renaming</a> <a id="28277" class="Symbol">(</a><a id="28278" href="Ledger.Ledger.html#801" class="Field">govSt</a> <a id="28284" class="Symbol">to</a> <a id="28287" class="Field">govSt&#39;</a><a id="28293" class="Symbol">;</a> <a id="28295" href="Ledger.Ledger.html#827" class="Field">certState</a> <a id="28305" class="Symbol">to</a> <a id="28308" class="Field">certState&#39;</a><a id="28318" class="Symbol">)</a> <a id="28320" class="Keyword">in</a>
    <a id="28327" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="28339" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="28347" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="28359" class="Symbol">(</a><a id="28360" href="Class.IsSet.html#916" class="Function">dom</a> <a id="28364" class="Symbol">(</a><a id="28365" href="Ledger.Utxo.html#8771" class="Function">updateDeposits</a> <a id="28380" href="Ledger.Ledger.Properties.html#11796" class="Function">pp</a> <a id="28383" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a> <a id="28387" href="Ledger.Ledger.Properties.html#9396" class="Function">utxoDeps</a><a id="28395" class="Symbol">))</a>
        <a id="28406" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="28409" href="Ledger.Ledger.Properties.html#15432" class="Function">noGACerts</a> <a id="28419" href="Ledger.Transaction.html#2818" class="Function">txcerts</a> <a id="28427" class="Symbol">(</a><a id="28428" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="28451" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="28458" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="28463" href="Ledger.PParams.html#2915" class="Function">govActionDeposit</a> <a id="28480" href="Ledger.Ledger.Properties.html#9396" class="Function">utxoDeps</a><a id="28488" class="Symbol">)</a> <a id="28490" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="28498" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="28506" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="28518" class="Symbol">(</a><a id="28519" href="Class.IsSet.html#916" class="Function">dom</a> <a id="28523" class="Symbol">(</a><a id="28524" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="28547" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="28554" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="28559" href="Ledger.PParams.html#2915" class="Function">govActionDeposit</a> <a id="28576" href="Ledger.Ledger.Properties.html#9396" class="Function">utxoDeps</a><a id="28584" class="Symbol">))</a>
        <a id="28595" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="28598" href="Ledger.Ledger.Properties.html#22884" class="Function">utxo-govst-connex</a> <a id="28616" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="28623" href="Ledger.Ledger.Properties.html#28230" class="Bound">aprioriMatch</a> <a id="28636" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="28644" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="28653" class="Symbol">(</a><a id="28654" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="28660" class="Symbol">(</a><a id="28661" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="28677" class="Symbol">(</a><a id="28678" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="28682" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="28687" href="Ledger.Transaction.html#2916" class="Function">txprop</a><a id="28693" class="Symbol">)</a> <a id="28695" class="Number">0</a> <a id="28697" href="Ledger.Ledger.Properties.html#11858" class="Function">govSt</a><a id="28702" class="Symbol">))</a>
        <a id="28713" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="28717" href="Ledger.Ledger.Properties.html#19037" class="Function">props-dpMap-votes-invar</a> <a id="28741" href="Ledger.Transaction.html#2880" class="Function">txvote</a> <a id="28748" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="28755" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="28763" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="28772" class="Symbol">(</a><a id="28773" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="28779" class="Symbol">(</a><a id="28780" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="28796" class="Symbol">(</a><a id="28797" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="28803" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a><a id="28806" class="Symbol">)</a> <a id="28808" class="Number">0</a> <a id="28810" href="Ledger.Ledger.Properties.html#11858" class="Function">govSt</a> <a id="28816" class="Symbol">))</a>
        <a id="28827" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="28831" href="Ledger.Ledger.Properties.html#26593" class="Function">|ᵒ-GAs-pres</a> <a id="28843" class="Number">0</a> <a id="28845" href="Ledger.Ledger.Properties.html#11858" class="Function">govSt</a> <a id="28851" href="Ledger.Ledger.Properties.html#28308" class="Function">certState&#39;</a> <a id="28862" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="28870" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="28879" class="Symbol">(</a><a id="28880" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="28886" class="Symbol">(</a><a id="28887" href="Ledger.Ledger.Properties.html#10091" class="Function">updateGovStates</a> <a id="28903" class="Symbol">(</a><a id="28904" href="Ledger.Ledger.html#999" class="Function">txgov</a> <a id="28910" href="Ledger.Ledger.Properties.html#11739" class="Function">txb</a><a id="28913" class="Symbol">)</a> <a id="28915" class="Number">0</a> <a id="28917" class="Symbol">(</a><a id="28918" href="Ledger.Ledger.html#1117" class="Function">rmOrphanDRepVotes</a> <a id="28936" href="Ledger.Ledger.Properties.html#28308" class="Function">certState&#39;</a> <a id="28947" href="Ledger.Ledger.Properties.html#11858" class="Function">govSt</a><a id="28952" class="Symbol">)))</a>
        <a id="28964" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="28968" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="28973" class="Symbol">(</a><a id="28974" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="28983" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="28985" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="28991" class="Symbol">)</a> <a id="28993" class="Symbol">(</a><a id="28994" href="Ledger.Ledger.Properties.html#10434" class="Function">STS→GovSt≡</a> <a id="29005" href="Ledger.Ledger.Properties.html#28161" class="Bound">utxosts</a> <a id="29013" href="Ledger.Ledger.Properties.html#28180" class="Bound">tx-valid</a><a id="29021" class="Symbol">)</a> <a id="29023" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="29031" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="29040" class="Symbol">(</a><a id="29041" href="Ledger.Ledger.Properties.html#8133" class="Function">dpMap</a> <a id="29047" href="Ledger.Ledger.Properties.html#28287" class="Function">govSt&#39;</a><a id="29053" class="Symbol">)</a> <a id="29055" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="29060" href="Ledger.Ledger.Properties.html#27905" class="Function">LEDGER-govDepsMatch</a> <a id="29080" class="Symbol">{</a><a id="29081" class="Argument">s&#39;</a> <a id="29084" class="Symbol">=</a> <a id="29086" href="Ledger.Ledger.Properties.html#29086" class="Bound">s&#39;</a><a id="29088" class="Symbol">}</a> <a id="29090" href="Ledger.Ledger.Properties.html#29090" class="Bound">utxosts</a><a id="29097" class="Symbol">@(</a><a id="29099" href="Ledger.Ledger.html#1935" class="InductiveConstructor">LEDGER-V</a> <a id="29108" class="Symbol">(()</a> <a id="29112" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29114" href="Ledger.Ledger.Properties.html#8662" class="InductiveConstructor">UTXOW-UTXOS</a> <a id="29126" class="Symbol">(</a><a id="29127" href="Ledger.Utxo.html#12974" class="InductiveConstructor">Scripts-No</a> <a id="29138" class="Symbol">(_</a> <a id="29141" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29143" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="29147" class="Symbol">))</a> <a id="29150" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29152" class="Symbol">_</a> <a id="29154" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29156" href="Ledger.Ledger.Properties.html#29156" class="Bound">GOV-sts</a><a id="29163" class="Symbol">))</a> <a id="29166" href="Ledger.Ledger.Properties.html#29166" class="Bound">aprioriMatch</a>

<a id="29180" class="Keyword">module</a> <a id="EPOCH-Body"></a><a id="29187" href="Ledger.Ledger.Properties.html#29187" class="Module">EPOCH-Body</a> <a id="29198" class="Symbol">(</a><a id="29199" href="Ledger.Ledger.Properties.html#29199" class="Bound">eps</a> <a id="29203" class="Symbol">:</a> <a id="29205" href="Ledger.Epoch.html#1127" class="Record">EpochState</a><a id="29215" class="Symbol">)</a> <a id="29217" class="Keyword">where</a>
  <a id="29225" class="Keyword">open</a> <a id="29230" href="Ledger.Epoch.html#1127" class="Module">EpochState</a> <a id="29241" href="Ledger.Ledger.Properties.html#29199" class="Bound">eps</a> <a id="29245" class="Keyword">hiding</a> <a id="29252" class="Symbol">(</a><a id="29253" href="Ledger.Epoch.html#1268" class="Field">es</a><a id="29255" class="Symbol">)</a> <a id="29257" class="Keyword">public</a>
  <a id="29266" class="Keyword">open</a> <a id="29271" href="Ledger.Ratify.html#3255" class="Module">RatifyState</a> <a id="29283" href="Ledger.Epoch.html#1296" class="Field">fut</a> <a id="29287" class="Keyword">using</a> <a id="29293" class="Symbol">(</a><a id="29294" href="Ledger.Ratify.html#3325" class="Field">removed</a><a id="29301" class="Symbol">)</a> <a id="29303" class="Keyword">renaming</a> <a id="29312" class="Symbol">(</a><a id="29313" href="Ledger.Ratify.html#3292" class="Field">es</a> <a id="29316" class="Symbol">to</a> <a id="29319" class="Field">esW</a><a id="29322" class="Symbol">)</a> <a id="29324" class="Keyword">public</a>
  <a id="29333" class="Keyword">open</a> <a id="29338" href="Ledger.Ledger.html#715" class="Module">LState</a> <a id="29345" href="Ledger.Epoch.html#1244" class="Field">ls</a> <a id="29348" class="Keyword">public</a>
  <a id="29357" class="Keyword">open</a> <a id="29362" href="Ledger.GovernanceActions.html#2299" class="Module">GovActionState</a> <a id="29377" class="Keyword">public</a>
  <a id="29386" class="Keyword">open</a> <a id="29391" href="Ledger.Utxo.html#2516" class="Module">UTxOState</a> <a id="29401" class="Keyword">public</a>

  <a id="EPOCH-Body.es"></a><a id="29411" href="Ledger.Ledger.Properties.html#29411" class="Function">es</a>       <a id="29420" class="Symbol">=</a> <a id="29422" class="Keyword">record</a> <a id="29429" href="Ledger.Ledger.Properties.html#29319" class="Function">esW</a> <a id="29433" class="Symbol">{</a> <a id="29435" href="Ledger.Enact.html#649" class="Field">withdrawals</a> <a id="29447" class="Symbol">=</a> <a id="29449" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="29451" class="Symbol">}</a>
  <a id="EPOCH-Body.tmpGovSt"></a><a id="29455" href="Ledger.Ledger.Properties.html#29455" class="Function">tmpGovSt</a> <a id="29464" class="Symbol">=</a> <a id="29466" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="29473" class="Symbol">(λ</a> <a id="29476" href="Ledger.Ledger.Properties.html#29476" class="Bound">x</a> <a id="29478" class="Symbol">→</a> <a id="29480" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="29482" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="29488" href="Ledger.Ledger.Properties.html#29476" class="Bound">x</a> <a id="29490" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="29492" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="29497" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="29503" href="Ledger.Ratify.html#3325" class="Function">removed</a> <a id="29511" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a><a id="29512" class="Symbol">)</a> <a id="29514" href="Ledger.Ledger.html#801" class="Function">govSt</a>
  <a id="EPOCH-Body.orphans"></a><a id="29522" href="Ledger.Ledger.Properties.html#29522" class="Function">orphans</a>  <a id="29531" class="Symbol">=</a> <a id="29533" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="29542" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="29544" href="Ledger.Epoch.html#2745" class="Function">getOrphans</a> <a id="29555" href="Ledger.Ledger.Properties.html#29411" class="Function">es</a> <a id="29558" href="Ledger.Ledger.Properties.html#29455" class="Function">tmpGovSt</a>
  <a id="EPOCH-Body.removed&#39;"></a><a id="29569" href="Ledger.Ledger.Properties.html#29569" class="Function">removed&#39;</a> <a id="29578" class="Symbol">=</a> <a id="29580" href="Ledger.Ratify.html#3325" class="Function">removed</a> <a id="29588" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="29590" href="Ledger.Ledger.Properties.html#29522" class="Function">orphans</a>
  <a id="EPOCH-Body.removedGovActions"></a><a id="29600" href="Ledger.Ledger.Properties.html#29600" class="Function">removedGovActions</a> <a id="29618" class="Symbol">=</a> <a id="29620" href="Function.Base.html#1638" class="Function">flip</a> <a id="29625" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="29636" href="Ledger.Ledger.Properties.html#29569" class="Function">removed&#39;</a> <a id="29645" class="Symbol">λ</a> <a id="29647" class="Symbol">(</a><a id="29648" href="Ledger.Ledger.Properties.html#29648" class="Bound">gaid</a> <a id="29653" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29655" href="Ledger.Ledger.Properties.html#29655" class="Bound">gaSt</a><a id="29659" class="Symbol">)</a> <a id="29661" class="Symbol">→</a>
    <a id="29667" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="29672" class="Symbol">(</a><a id="29673" href="Ledger.GovernanceActions.html#2370" class="Field">returnAddr</a> <a id="29684" href="Ledger.Ledger.Properties.html#29655" class="Bound">gaSt</a> <a id="29689" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="29691" class="Symbol">)</a> <a id="29693" class="Symbol">((</a><a id="29695" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="29702" class="Symbol">.</a><a id="29703" href="Ledger.Utxo.html#2624" class="Field">deposits</a> <a id="29712" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="29714" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="29716" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="29733" href="Ledger.Ledger.Properties.html#29648" class="Bound">gaid</a> <a id="29738" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="29739" class="Symbol">)</a> <a id="29741" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="29742" class="Symbol">)</a>
  <a id="EPOCH-Body.govActionReturns"></a><a id="29746" href="Ledger.Ledger.Properties.html#29746" class="Function">govActionReturns</a> <a id="29763" class="Symbol">=</a> <a id="29765" href="Axiom.Set.Map.Dec.html#1932" class="Function">aggregate₊</a> <a id="29776" class="Symbol">(</a><a id="29777" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="29782" class="Symbol">(λ</a> <a id="29785" class="Symbol">(</a><a id="29786" href="Ledger.Ledger.Properties.html#29786" class="Bound">a</a> <a id="29788" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29790" class="Symbol">_</a> <a id="29792" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29794" href="Ledger.Ledger.Properties.html#29794" class="Bound">d</a><a id="29795" class="Symbol">)</a> <a id="29797" class="Symbol">→</a> <a id="29799" href="Ledger.Ledger.Properties.html#29786" class="Bound">a</a> <a id="29801" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29803" href="Ledger.Ledger.Properties.html#29794" class="Bound">d</a><a id="29804" class="Symbol">)</a> <a id="29806" href="Ledger.Ledger.Properties.html#29600" class="Function">removedGovActions</a> <a id="29824" href="abstract-set-theory.FiniteSetTheory.html#2767" class="Function Operator">ᶠˢ</a><a id="29826" class="Symbol">)</a>

<a id="29829" class="Keyword">module</a> <a id="EPOCH-PROPS"></a><a id="29836" href="Ledger.Ledger.Properties.html#29836" class="Module">EPOCH-PROPS</a> <a id="29848" class="Symbol">{</a><a id="29849" href="Ledger.Ledger.Properties.html#29849" class="Bound">eps</a> <a id="29853" class="Symbol">:</a> <a id="29855" href="Ledger.Epoch.html#1127" class="Record">EpochState</a><a id="29865" class="Symbol">}</a> <a id="29867" class="Keyword">where</a>
  <a id="29875" class="Keyword">open</a> <a id="29880" href="Ledger.Ledger.Properties.html#29187" class="Module">EPOCH-Body</a> <a id="29891" href="Ledger.Ledger.Properties.html#29849" class="Bound">eps</a>

  <a id="29898" class="Comment">-- GA Deposits Invariance Property for EPOCH STS -----------------------------------------------</a>
  <a id="EPOCH-PROPS.EPOCH-govDepsMatch"></a><a id="29997" href="Ledger.Ledger.Properties.html#29997" class="Function">EPOCH-govDepsMatch</a> <a id="30016" class="Symbol">:</a>
    <a id="30022" class="Symbol">(</a><a id="30023" href="Ledger.Ledger.Properties.html#30023" class="Bound">ratify-removed</a> <a id="30038" class="Symbol">:</a> <a id="30040" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30045" class="Symbol">(</a><a id="30046" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="30063" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30065" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="30070" class="Symbol">)</a> <a id="30072" href="Ledger.Ledger.Properties.html#29569" class="Function">removed&#39;</a> <a id="30081" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="30083" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30088" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="30094" class="Symbol">(</a><a id="30095" href="Ledger.Utxo.html#2624" class="Field">UTxOState.deposits</a> <a id="30114" href="Ledger.Ledger.html#774" class="Function">utxoSt</a> <a id="30121" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="30122" class="Symbol">))</a>
    <a id="30129" class="Symbol">{</a><a id="30130" href="Ledger.Ledger.Properties.html#30130" class="Bound">eps&#39;</a> <a id="30135" class="Symbol">:</a> <a id="30137" href="Ledger.Epoch.html#1127" class="Record">EpochState</a><a id="30147" class="Symbol">}</a> <a id="30149" class="Symbol">{</a><a id="30150" href="Ledger.Ledger.Properties.html#30150" class="Bound">e</a> <a id="30152" class="Symbol">:</a> <a id="30154" href="Ledger.Types.Epoch.html#476" class="Function">Epoch</a><a id="30159" class="Symbol">}</a>
    <a id="30165" class="Symbol">→</a> <a id="30167" class="Symbol">_</a> <a id="30169" href="Ledger.Epoch.html#4646" class="Datatype Operator">⊢</a> <a id="30171" href="Ledger.Ledger.Properties.html#29849" class="Bound">eps</a> <a id="30175" href="Ledger.Epoch.html#4646" class="Datatype Operator">⇀⦇</a> <a id="30178" href="Ledger.Ledger.Properties.html#30150" class="Bound">e</a> <a id="30180" href="Ledger.Epoch.html#4646" class="Datatype Operator">,EPOCH⦈</a> <a id="30188" href="Ledger.Ledger.Properties.html#30130" class="Bound">eps&#39;</a>
    <a id="30197" class="Symbol">→</a> <a id="30199" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="30212" class="Symbol">(</a><a id="30213" href="Ledger.Epoch.html#1244" class="Field">EpochState.ls</a> <a id="30227" href="Ledger.Ledger.Properties.html#29849" class="Bound">eps</a><a id="30230" class="Symbol">)</a> <a id="30232" class="Symbol">→</a> <a id="30234" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="30247" class="Symbol">(</a><a id="30248" href="Ledger.Epoch.html#1244" class="Field">EpochState.ls</a> <a id="30262" href="Ledger.Ledger.Properties.html#30130" class="Bound">eps&#39;</a><a id="30266" class="Symbol">)</a>

  <a id="30271" href="Ledger.Ledger.Properties.html#29997" class="Function">EPOCH-govDepsMatch</a> <a id="30290" href="Ledger.Ledger.Properties.html#30290" class="Bound">ratify-removed</a> <a id="30305" class="Symbol">(</a><a id="30306" href="Ledger.Epoch.html#4716" class="InductiveConstructor">EPOCH</a> <a id="30312" href="Ledger.Ledger.Properties.html#30312" class="Bound">x</a> <a id="30314" class="Symbol">_)</a> <a id="30317" class="Symbol">=</a>
      <a id="30325" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="30334" class="Symbol">(</a><a id="30335" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="30350" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="30352" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="30361" class="Symbol">(</a><a id="30362" href="Axiom.Set.Rel.html#6892" class="Function">res-comp-cong</a> <a id="30376" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="30378" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="30385" href="Ledger.Ledger.Properties.html#31093" class="Function">χ&#39;≡χ</a><a id="30389" class="Symbol">))</a>
      <a id="30398" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30400" href="Function.Bundles.html#4834" class="Field">from</a> <a id="30405" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a> <a id="30412" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30414" href="Ledger.Ledger.Properties.html#33222" class="Function">main-invariance-lemma</a> <a id="30436" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30438" href="Function.Bundles.html#4810" class="Field">to</a> <a id="30441" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a>
    <a id="30452" class="Keyword">where</a>

    <a id="30463" class="Comment">-- the combinator used in the EPOCH rule</a>
    <a id="30508" href="Ledger.Ledger.Properties.html#30508" class="Function">χ</a> <a id="30510" class="Symbol">:</a> <a id="30512" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="30514" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a>
    <a id="30533" href="Ledger.Ledger.Properties.html#30508" class="Function">χ</a> <a id="30535" class="Symbol">=</a> <a id="30537" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30542" class="Symbol">(</a><a id="30543" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="30549" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30551" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="30556" class="Symbol">)</a> <a id="30558" href="Ledger.Ledger.Properties.html#29600" class="Function">removedGovActions</a>

    <a id="30581" class="Comment">-- a simpler combinator that suffices here;</a>
    <a id="30629" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a> <a id="30632" class="Symbol">:</a> <a id="30634" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="30636" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a>
    <a id="30655" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a> <a id="30658" class="Symbol">=</a> <a id="30660" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30665" class="Symbol">(</a><a id="30666" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="30683" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="30685" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="30690" class="Symbol">)</a> <a id="30692" href="Ledger.Ledger.Properties.html#29569" class="Function">removed&#39;</a>
    <a id="30705" class="Comment">-- Below we prove χ and χ&#39; are essentially equivalent.</a>

    <a id="30765" href="Ledger.Ledger.Properties.html#30765" class="Function">P</a> <a id="30767" class="Symbol">:</a> <a id="30769" href="Ledger.GovernanceActions.html#428" class="Function">GovActionID</a> <a id="30781" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="30783" href="Ledger.GovernanceActions.html#2299" class="Record">GovActionState</a> <a id="30798" class="Symbol">→</a> <a id="30800" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="30809" href="Ledger.Ledger.Properties.html#30765" class="Function">P</a> <a id="30811" class="Symbol">=</a> <a id="30813" class="Symbol">λ</a> <a id="30815" href="Ledger.Ledger.Properties.html#30815" class="Bound">u</a> <a id="30817" class="Symbol">→</a> <a id="30819" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="30825" href="Ledger.Ledger.Properties.html#30815" class="Bound">u</a> <a id="30827" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="30829" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="30834" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="30840" href="Ledger.Ledger.Properties.html#29569" class="Function">removed&#39;</a>

    <a id="30854" href="Ledger.Ledger.Properties.html#30854" class="Function">P?</a> <a id="30857" class="Symbol">:</a> <a id="30859" href="Relation.Unary.html#4543" class="Function">Decidable</a> <a id="30869" href="Ledger.Ledger.Properties.html#30765" class="Function">P</a>
    <a id="30875" href="Ledger.Ledger.Properties.html#30854" class="Function">P?</a> <a id="30878" class="Symbol">=</a> <a id="30880" class="Symbol">λ</a> <a id="30882" href="Ledger.Ledger.Properties.html#30882" class="Bound">u</a> <a id="30884" class="Symbol">→</a> <a id="30886" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="30888" href="Ledger.Ledger.Properties.html#30765" class="Function">P</a> <a id="30890" href="Ledger.Ledger.Properties.html#30882" class="Bound">u</a> <a id="30892" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a>

    <a id="30899" href="Ledger.Ledger.Properties.html#30899" class="Function">utxoDeps</a> <a id="30908" class="Symbol">:</a> <a id="30910" href="Ledger.Certs.html#527" class="Function">Deposits</a>
    <a id="30923" href="Ledger.Ledger.Properties.html#30899" class="Function">utxoDeps</a> <a id="30932" class="Symbol">=</a> <a id="30934" href="Ledger.Utxo.html#2624" class="Field">UTxOState.deposits</a> <a id="30953" href="Ledger.Ledger.html#774" class="Function">utxoSt</a>

    <a id="30965" class="Comment">-- utxo deposits restricted to new form of set used in EPOCH rule</a>
    <a id="31035" href="Ledger.Ledger.Properties.html#31035" class="Function">utxoDeps&#39;</a> <a id="31045" class="Symbol">:</a> <a id="31047" href="Ledger.Certs.html#527" class="Function">Deposits</a>
    <a id="31060" href="Ledger.Ledger.Properties.html#31035" class="Function">utxoDeps&#39;</a> <a id="31070" class="Symbol">=</a> <a id="31072" href="Ledger.Ledger.Properties.html#30899" class="Function">utxoDeps</a> <a id="31081" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="31083" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a> <a id="31086" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a>

    <a id="31093" href="Ledger.Ledger.Properties.html#31093" class="Function">χ&#39;≡χ</a> <a id="31098" class="Symbol">:</a> <a id="31100" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a> <a id="31103" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="31106" href="Ledger.Ledger.Properties.html#30508" class="Function">χ</a>
    <a id="31112" href="Ledger.Ledger.Properties.html#31093" class="Function">χ&#39;≡χ</a> <a id="31117" class="Symbol">=</a> <a id="31119" href="Ledger.Ledger.Properties.html#31149" class="Function">χ&#39;⊆χ</a> <a id="31124" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31126" href="Ledger.Ledger.Properties.html#31654" class="Function">χ⊆χ&#39;</a>
      <a id="31137" class="Keyword">where</a>
      <a id="31149" href="Ledger.Ledger.Properties.html#31149" class="Function">χ&#39;⊆χ</a> <a id="31154" class="Symbol">:</a> <a id="31156" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a> <a id="31159" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="31161" href="Ledger.Ledger.Properties.html#30508" class="Function">χ</a>
      <a id="31169" href="Ledger.Ledger.Properties.html#31149" class="Function">χ&#39;⊆χ</a> <a id="31174" class="Symbol">{</a><a id="31175" href="Ledger.Ledger.Properties.html#31175" class="Bound">a</a><a id="31176" class="Symbol">}</a> <a id="31178" href="Ledger.Ledger.Properties.html#31178" class="Bound">x</a> <a id="31180" class="Keyword">with</a> <a id="31185" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31190" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31196" href="Ledger.Ledger.Properties.html#31178" class="Bound">x</a>
      <a id="31204" class="Symbol">...</a> <a id="31208" class="Symbol">|</a> <a id="31210" class="Symbol">(</a><a id="31211" href="Ledger.Ledger.Properties.html#31211" class="Bound">gaid</a> <a id="31216" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31218" href="Ledger.Ledger.Properties.html#31218" class="Bound">gast</a><a id="31222" class="Symbol">)</a> <a id="31224" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31226" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31231" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31233" href="Ledger.Ledger.Properties.html#31233" class="Bound">gaidgast∈rem</a> <a id="31246" class="Keyword">with</a> <a id="31251" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31256" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31262" class="Symbol">(</a><a id="31263" href="Ledger.Ledger.Properties.html#30290" class="Bound">ratify-removed</a> <a id="31278" class="Bound">x</a><a id="31279" class="Symbol">)</a>
      <a id="31287" class="Symbol">...</a> <a id="31291" class="Symbol">|</a> <a id="31293" class="Symbol">(</a><a id="31294" href="Ledger.Ledger.Properties.html#31294" class="Bound">dp</a> <a id="31297" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31299" href="Ledger.Ledger.Properties.html#31299" class="Bound">c</a><a id="31300" class="Symbol">)</a> <a id="31302" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31304" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31309" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31311" href="Ledger.Ledger.Properties.html#31311" class="Bound">dpc∈utxoDeps</a> <a id="31324" class="Symbol">=</a> <a id="31326" class="Keyword">let</a> <a id="31330" href="Ledger.Ledger.Properties.html#31330" class="Bound">gadc</a> <a id="31335" class="Symbol">=</a> <a id="31337" class="Symbol">(</a><a id="31338" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="31355" class="Bound">gaid</a> <a id="31360" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31362" href="Ledger.Ledger.Properties.html#31299" class="Bound">c</a><a id="31363" class="Symbol">)</a> <a id="31365" class="Keyword">in</a>
        <a id="31376" href="Function.Bundles.html#4810" class="Field">to</a> <a id="31379" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31385" class="Symbol">((</a><a id="31387" href="Ledger.GovernanceActions.html#2370" class="Field">returnAddr</a> <a id="31398" class="Symbol">{</a><a id="31399" href="Ledger.Ledger.Properties.html#167" class="Bound">txs</a><a id="31402" class="Symbol">}</a> <a id="31404" class="Bound">gast</a> <a id="31409" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31411" href="Ledger.Ledger.Properties.html#31330" class="Bound">gadc</a><a id="31415" class="Symbol">)</a>
                 <a id="31434" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31436" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
                 <a id="31458" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31460" href="Function.Bundles.html#4810" class="Field">to</a> <a id="31463" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="31476" class="Symbol">((</a><a id="31478" class="Bound">gaid</a> <a id="31483" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31485" class="Bound">gast</a><a id="31489" class="Symbol">)</a>
                                   <a id="31526" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31528" class="Bound">gaidgast∈rem</a>
                                   <a id="31576" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31578" href="Function.Bundles.html#4810" class="Field">to</a> <a id="31581" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31587" class="Symbol">(</a><a id="31588" href="Ledger.Ledger.Properties.html#31330" class="Bound">gadc</a> <a id="31593" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31595" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31600" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31602" href="Axiom.Set.Map.html#12520" class="Function">res-singleton⁺</a> <a id="31617" class="Symbol">{</a><a id="31618" class="Argument">m</a> <a id="31620" class="Symbol">=</a> <a id="31622" href="Ledger.Ledger.Properties.html#30899" class="Function">utxoDeps</a><a id="31630" class="Symbol">}</a> <a id="31632" href="Ledger.Ledger.Properties.html#31311" class="Bound">dpc∈utxoDeps</a><a id="31644" class="Symbol">)))</a>
      <a id="31654" href="Ledger.Ledger.Properties.html#31654" class="Function">χ⊆χ&#39;</a> <a id="31659" class="Symbol">:</a> <a id="31661" href="Ledger.Ledger.Properties.html#30508" class="Function">χ</a> <a id="31663" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="31665" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a>
      <a id="31674" href="Ledger.Ledger.Properties.html#31654" class="Function">χ⊆χ&#39;</a> <a id="31679" class="Symbol">{</a><a id="31680" href="Ledger.Ledger.Properties.html#31680" class="Bound">a</a><a id="31681" class="Symbol">}</a> <a id="31683" href="Ledger.Ledger.Properties.html#31683" class="Bound">x</a> <a id="31685" class="Keyword">with</a> <a id="31690" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31695" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31701" href="Ledger.Ledger.Properties.html#31683" class="Bound">x</a>
      <a id="31709" class="Symbol">...</a> <a id="31713" class="Symbol">|</a> <a id="31715" class="Symbol">(</a><a id="31716" href="Ledger.Ledger.Properties.html#31716" class="Bound">rwa</a> <a id="31720" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31722" href="Ledger.Ledger.Properties.html#31722" class="Bound">dp</a> <a id="31725" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31727" href="Ledger.Ledger.Properties.html#31727" class="Bound">c</a><a id="31728" class="Symbol">)</a> <a id="31730" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31732" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31737" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31739" href="Ledger.Ledger.Properties.html#31739" class="Bound">rwa-dp-c∈</a> <a id="31749" class="Keyword">with</a> <a id="31754" class="Symbol">(</a><a id="31755" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31760" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="31773" href="Ledger.Ledger.Properties.html#31739" class="Bound">rwa-dp-c∈</a><a id="31782" class="Symbol">)</a>
      <a id="31790" class="Symbol">...</a> <a id="31794" class="Symbol">|</a> <a id="31796" class="Symbol">(</a><a id="31797" href="Ledger.Ledger.Properties.html#31797" class="Bound">gaid</a> <a id="31802" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31804" href="Ledger.Ledger.Properties.html#31804" class="Bound">gast</a><a id="31808" class="Symbol">)</a> <a id="31810" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31812" href="Ledger.Ledger.Properties.html#31812" class="Bound">gaid-gast-∈-removed</a> <a id="31832" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31834" href="Ledger.Ledger.Properties.html#31834" class="Bound">rwa-dp-c-∈-map</a> <a id="31849" class="Keyword">with</a> <a id="31854" class="Symbol">(</a><a id="31855" href="Function.Bundles.html#4834" class="Field">from</a> <a id="31860" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31866" href="Ledger.Ledger.Properties.html#31834" class="Bound">rwa-dp-c-∈-map</a><a id="31880" class="Symbol">)</a>
      <a id="31888" class="Symbol">...</a> <a id="31892" class="Symbol">|</a> <a id="31894" class="Symbol">(_</a> <a id="31897" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31899" class="Symbol">_)</a> <a id="31902" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31904" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="31909" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31911" href="Ledger.Ledger.Properties.html#31911" class="Bound">q∈</a> <a id="31914" class="Symbol">=</a>
        <a id="31924" href="Function.Bundles.html#4810" class="Field">to</a> <a id="31927" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="31933" class="Symbol">((</a><a id="31935" class="Bound">gaid</a> <a id="31940" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31942" class="Bound">gast</a><a id="31946" class="Symbol">)</a>
                 <a id="31965" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31967" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="31973" class="Symbol">(</a><a id="31974" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a> <a id="31982" class="Symbol">(</a><a id="31983" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="31989" class="Symbol">(</a><a id="31990" href="Axiom.Set.Map.html#12964" class="Function">res-singleton&#39;&#39;</a> <a id="32006" class="Symbol">{</a><a id="32007" class="Argument">m</a> <a id="32009" class="Symbol">=</a> <a id="32011" href="Ledger.Ledger.Properties.html#30899" class="Function">utxoDeps</a><a id="32019" class="Symbol">}</a> <a id="32021" href="Ledger.Ledger.Properties.html#31911" class="Bound">q∈</a><a id="32023" class="Symbol">)))</a>
                 <a id="32044" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32046" class="Bound">gaid-gast-∈-removed</a><a id="32065" class="Symbol">)</a>


    <a id="32073" href="Ledger.Ledger.Properties.html#32073" class="Function">map-filter-decomp</a> <a id="32091" class="Symbol">:</a> <a id="32093" class="Symbol">∀</a> <a id="32095" href="Ledger.Ledger.Properties.html#32095" class="Bound">a</a> <a id="32097" class="Symbol">→</a> <a id="32099" class="Symbol">(</a><a id="32100" href="Ledger.Ledger.Properties.html#32095" class="Bound">a</a> <a id="32102" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="32104" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a> <a id="32107" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="32109" href="Ledger.Ledger.Properties.html#32095" class="Bound">a</a> <a id="32111" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32114" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="32118" class="Symbol">(</a><a id="32119" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32136" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32138" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32143" class="Symbol">)</a> <a id="32145" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32150" class="Symbol">)</a>
                               <a id="32183" href="Function.Bundles.html#12400" class="Function Operator">⇔</a> <a id="32185" class="Symbol">(</a><a id="32186" href="Ledger.Ledger.Properties.html#32095" class="Bound">a</a> <a id="32188" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32191" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="32195" class="Symbol">(</a><a id="32196" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32213" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32215" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32220" class="Symbol">)(</a><a id="32222" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="32229" href="Ledger.Ledger.Properties.html#30854" class="Function">P?</a> <a id="32232" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32237" class="Symbol">))</a>
    <a id="32244" href="Ledger.Ledger.Properties.html#32073" class="Function">map-filter-decomp</a> <a id="32262" href="Ledger.Ledger.Properties.html#32262" class="Bound">a</a> <a id="32264" class="Symbol">=</a> <a id="32266" href="Function.Bundles.html#13499" class="Function">mk⇔</a> <a id="32270" href="Ledger.Ledger.Properties.html#32311" class="Function">i</a> <a id="32272" class="Symbol">(λ</a> <a id="32275" href="Ledger.Ledger.Properties.html#32275" class="Bound">h</a> <a id="32277" class="Symbol">→</a> <a id="32279" href="Ledger.Ledger.Properties.html#32683" class="Function">ii</a> <a id="32282" href="Ledger.Ledger.Properties.html#32275" class="Bound">h</a> <a id="32284" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32286" href="Ledger.Ledger.Properties.html#32938" class="Function">iii</a> <a id="32290" href="Ledger.Ledger.Properties.html#32275" class="Bound">h</a><a id="32291" class="Symbol">)</a>
      <a id="32299" class="Keyword">where</a>
      <a id="32311" href="Ledger.Ledger.Properties.html#32311" class="Function">i</a> <a id="32313" class="Symbol">:</a> <a id="32315" class="Symbol">((</a><a id="32317" href="Ledger.Ledger.Properties.html#32262" class="Bound">a</a> <a id="32319" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="32321" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a><a id="32323" class="Symbol">)</a> <a id="32325" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="32327" class="Symbol">(</a><a id="32328" href="Ledger.Ledger.Properties.html#32262" class="Bound">a</a> <a id="32330" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32333" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="32337" class="Symbol">(</a><a id="32338" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32355" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32357" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32362" class="Symbol">)</a> <a id="32364" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32369" class="Symbol">))</a>
          <a id="32382" class="Symbol">→</a> <a id="32384" href="Ledger.Ledger.Properties.html#32262" class="Bound">a</a> <a id="32386" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32389" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="32393" class="Symbol">(</a><a id="32394" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32411" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32413" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32418" class="Symbol">)</a> <a id="32420" class="Symbol">(</a><a id="32421" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="32428" href="Ledger.Ledger.Properties.html#30854" class="Function">P?</a> <a id="32431" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32436" class="Symbol">)</a>
      <a id="32444" href="Ledger.Ledger.Properties.html#32311" class="Function">i</a> <a id="32446" class="Symbol">(</a><a id="32447" href="Ledger.Ledger.Properties.html#32447" class="Bound">a∉χ&#39;</a> <a id="32452" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32454" href="Ledger.Ledger.Properties.html#32454" class="Bound">a∈</a><a id="32456" class="Symbol">)</a> <a id="32458" class="Keyword">with</a> <a id="32463" href="Function.Bundles.html#7418" class="Field">Inverse.from</a> <a id="32476" class="Symbol">(</a><a id="32477" href="Data.List.Membership.Propositional.Properties.html#4227" class="Function">map-∈↔</a> <a id="32484" class="Symbol">(</a><a id="32485" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32502" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32504" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32509" class="Symbol">))</a> <a id="32512" href="Ledger.Ledger.Properties.html#32454" class="Bound">a∈</a>
      <a id="32521" class="Symbol">...</a> <a id="32525" class="Symbol">|</a> <a id="32527" href="Ledger.Ledger.Properties.html#32527" class="Bound">b</a> <a id="32529" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32531" href="Ledger.Ledger.Properties.html#32531" class="Bound">b∈</a> <a id="32534" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32536" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="32541" class="Symbol">=</a> <a id="32543" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="32554" class="Symbol">(</a><a id="32555" href="Data.List.Membership.Propositional.Properties.html#4227" class="Function">map-∈↔</a> <a id="32562" class="Symbol">(</a><a id="32563" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32580" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32582" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32587" class="Symbol">))</a>
                                       <a id="32629" class="Symbol">(</a><a id="32630" href="Ledger.Ledger.Properties.html#32527" class="Bound">b</a> <a id="32632" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32634" href="Data.List.Membership.Propositional.Properties.html#9096" class="Function">∈-filter⁺</a> <a id="32644" href="Ledger.Ledger.Properties.html#30854" class="Function">P?</a> <a id="32647" href="Ledger.Ledger.Properties.html#32531" class="Bound">b∈</a> <a id="32650" class="Symbol">(</a><a id="32651" class="Bound">a∉χ&#39;</a> <a id="32656" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32658" href="Axiom.Set.Properties.html#5166" class="Function">∈-map⁺-∘</a><a id="32666" class="Symbol">)</a> <a id="32668" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32670" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="32674" class="Symbol">)</a>

      <a id="32683" href="Ledger.Ledger.Properties.html#32683" class="Function">ii</a> <a id="32686" class="Symbol">:</a> <a id="32688" href="Ledger.Ledger.Properties.html#32262" class="Bound">a</a> <a id="32690" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32693" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="32697" class="Symbol">(</a><a id="32698" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32715" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32717" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32722" class="Symbol">)</a> <a id="32724" class="Symbol">(</a><a id="32725" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="32732" href="Ledger.Ledger.Properties.html#30854" class="Function">P?</a> <a id="32735" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32740" class="Symbol">)</a> <a id="32742" class="Symbol">→</a> <a id="32744" href="Ledger.Ledger.Properties.html#32262" class="Bound">a</a> <a id="32746" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="32748" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a>
      <a id="32757" href="Ledger.Ledger.Properties.html#32683" class="Function">ii</a> <a id="32760" href="Ledger.Ledger.Properties.html#32760" class="Bound">a∈</a> <a id="32763" href="Ledger.Ledger.Properties.html#32763" class="Bound">a∈χ&#39;</a> <a id="32768" class="Keyword">with</a> <a id="32773" href="Function.Bundles.html#4834" class="Field">from</a> <a id="32778" class="Symbol">(</a><a id="32779" href="Data.List.Ext.html#1921" class="Function">∈ˡ-map-filter</a> <a id="32793" class="Symbol">{</a><a id="32794" class="Argument">l</a> <a id="32796" class="Symbol">=</a> <a id="32798" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32803" class="Symbol">}</a> <a id="32805" class="Symbol">{</a><a id="32806" class="Argument">P?</a> <a id="32809" class="Symbol">=</a> <a id="32811" href="Ledger.Ledger.Properties.html#30854" class="Function">P?</a><a id="32813" class="Symbol">})</a> <a id="32816" href="Ledger.Ledger.Properties.html#32760" class="Bound">a∈</a>
      <a id="32825" class="Symbol">...</a> <a id="32829" class="Symbol">|</a> <a id="32831" class="Symbol">_</a> <a id="32833" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32835" class="Symbol">_</a> <a id="32837" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32839" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="32844" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32846" href="Ledger.Ledger.Properties.html#32846" class="Bound">Pb</a> <a id="32849" class="Keyword">with</a> <a id="32854" href="Axiom.Set.Properties.html#1617" class="Function">∈-map⁻&#39;</a> <a id="32862" class="Bound">a∈χ&#39;</a>
      <a id="32873" class="Symbol">...</a> <a id="32877" class="Symbol">|</a> <a id="32879" href="Ledger.Ledger.Properties.html#32879" class="Bound">q</a> <a id="32881" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32883" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="32888" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32890" href="Ledger.Ledger.Properties.html#32890" class="Bound">q∈rem</a> <a id="32896" class="Symbol">=</a> <a id="32898" class="Bound">Pb</a> <a id="32901" class="Symbol">(</a><a id="32902" href="Function.Bundles.html#4810" class="Field">to</a> <a id="32905" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="32911" class="Symbol">(</a><a id="32912" href="Ledger.Ledger.Properties.html#32879" class="Bound">q</a> <a id="32914" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32916" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="32921" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="32923" href="Ledger.Ledger.Properties.html#32890" class="Bound">q∈rem</a><a id="32928" class="Symbol">))</a>

      <a id="32938" href="Ledger.Ledger.Properties.html#32938" class="Function">iii</a> <a id="32942" class="Symbol">:</a> <a id="32944" href="Ledger.Ledger.Properties.html#32262" class="Bound">a</a> <a id="32946" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="32949" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="32953" class="Symbol">(</a><a id="32954" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="32971" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="32973" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="32978" class="Symbol">)</a> <a id="32980" class="Symbol">(</a><a id="32981" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="32988" href="Ledger.Ledger.Properties.html#30854" class="Function">P?</a> <a id="32991" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="32996" class="Symbol">)</a>
            <a id="33010" class="Symbol">→</a> <a id="33012" href="Ledger.Ledger.Properties.html#32262" class="Bound">a</a> <a id="33014" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="33017" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="33021" class="Symbol">(</a><a id="33022" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="33039" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="33041" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="33046" class="Symbol">)</a> <a id="33048" href="Ledger.Ledger.html#801" class="Function">govSt</a>
      <a id="33060" href="Ledger.Ledger.Properties.html#32938" class="Function">iii</a> <a id="33064" href="Ledger.Ledger.Properties.html#33064" class="Bound">a∈</a> <a id="33067" class="Keyword">with</a> <a id="33072" href="Function.Bundles.html#4834" class="Field">from</a> <a id="33077" class="Symbol">(</a><a id="33078" href="Data.List.Ext.html#1921" class="Function">∈ˡ-map-filter</a> <a id="33092" class="Symbol">{</a><a id="33093" class="Argument">l</a> <a id="33095" class="Symbol">=</a> <a id="33097" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="33102" class="Symbol">}</a> <a id="33104" class="Symbol">{</a><a id="33105" class="Argument">P?</a> <a id="33108" class="Symbol">=</a> <a id="33110" href="Ledger.Ledger.Properties.html#30854" class="Function">P?</a><a id="33112" class="Symbol">})</a> <a id="33115" href="Ledger.Ledger.Properties.html#33064" class="Bound">a∈</a>
      <a id="33124" class="Symbol">...</a> <a id="33128" class="Symbol">|</a> <a id="33130" href="Ledger.Ledger.Properties.html#33130" class="Bound">b</a> <a id="33132" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33134" href="Ledger.Ledger.Properties.html#33134" class="Bound">b∈</a> <a id="33137" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33139" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="33144" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33146" href="Ledger.Ledger.Properties.html#33146" class="Bound">Pb</a> <a id="33149" class="Symbol">=</a> <a id="33151" href="Function.Bundles.html#7394" class="Field">Inverse.to</a> <a id="33162" class="Symbol">(</a><a id="33163" href="Data.List.Membership.Propositional.Properties.html#4227" class="Function">map-∈↔</a> <a id="33170" class="Symbol">(</a><a id="33171" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="33188" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="33190" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="33195" class="Symbol">))</a> <a id="33198" class="Symbol">(</a><a id="33199" href="Ledger.Ledger.Properties.html#33130" class="Bound">b</a> <a id="33201" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33203" class="Symbol">(</a><a id="33204" href="Ledger.Ledger.Properties.html#33134" class="Bound">b∈</a> <a id="33207" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33209" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="33213" class="Symbol">))</a>


    <a id="33222" href="Ledger.Ledger.Properties.html#33222" class="Function">main-invariance-lemma</a> <a id="33244" class="Symbol">:</a>
        <a id="33254" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="33262" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="33274" class="Symbol">(</a><a id="33275" href="Class.IsSet.html#916" class="Function">dom</a> <a id="33279" href="Ledger.Ledger.Properties.html#30899" class="Function">utxoDeps</a><a id="33287" class="Symbol">)</a> <a id="33289" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="33293" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="33302" class="Symbol">(</a><a id="33303" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="33307" class="Symbol">(</a><a id="33308" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="33325" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="33327" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="33332" class="Symbol">)</a> <a id="33334" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="33339" class="Symbol">)</a>
        <a id="33349" class="Comment">---------------------------------------------------------------------------------------------------</a>
      <a id="33455" class="Symbol">→</a> <a id="33457" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="33465" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="33477" class="Symbol">(</a><a id="33478" href="Class.IsSet.html#916" class="Function">dom</a> <a id="33482" href="Ledger.Ledger.Properties.html#31035" class="Function">utxoDeps&#39;</a><a id="33491" class="Symbol">)</a> <a id="33493" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="33497" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="33506" class="Symbol">(</a><a id="33507" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="33511" class="Symbol">(</a><a id="33512" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="33529" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="33531" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="33536" class="Symbol">)</a> <a id="33538" class="Symbol">(</a><a id="33539" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="33546" href="Ledger.Ledger.Properties.html#30854" class="Function">P?</a> <a id="33549" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="33554" class="Symbol">))</a>

    <a id="33562" href="Ledger.Ledger.Properties.html#33222" class="Function">main-invariance-lemma</a> <a id="33584" href="Ledger.Ledger.Properties.html#33584" class="Bound">HYP</a> <a id="33588" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="33590" class="Symbol">=</a> <a id="33592" class="Keyword">let</a> <a id="33596" class="Keyword">open</a> <a id="33601" href="Function.Related.Propositional.html#9123" class="Module">R.EquationalReasoning</a> <a id="33623" class="Keyword">in</a>
      <a id="33632" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="33634" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="33636" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="33644" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="33656" class="Symbol">(</a><a id="33657" href="Class.IsSet.html#916" class="Function">dom</a> <a id="33661" href="Ledger.Ledger.Properties.html#31035" class="Function">utxoDeps&#39;</a><a id="33670" class="Symbol">)</a>                         <a id="33696" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="33699" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="33708" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="33717" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="33725" class="Symbol">(</a><a id="33726" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="33738" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="33740" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33742" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="33744" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="33746" href="Class.IsSet.html#916" class="Function">dom</a> <a id="33750" href="Ledger.Ledger.Properties.html#31035" class="Function">utxoDeps&#39;</a><a id="33759" class="Symbol">)</a>                             <a id="33789" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="33792" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="33801" href="Data.List.Ext.Properties.html#737" class="Function Operator">×-cong</a> <a id="33808" href="Axiom.Set.Rel.html#7819" class="Function">∈-resᶜ-dom</a> <a id="33819" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="33827" class="Symbol">(</a><a id="33828" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="33840" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="33842" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33844" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="33846" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="33848" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a> <a id="33851" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33853" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="33856" href="Ledger.Ledger.Properties.html#33856" class="Bound">q</a> <a id="33858" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="33860" class="Symbol">(</a><a id="33861" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="33863" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33865" href="Ledger.Ledger.Properties.html#33856" class="Bound">q</a><a id="33866" class="Symbol">)</a> <a id="33868" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="33870" href="Ledger.Ledger.Properties.html#30899" class="Function">utxoDeps</a><a id="33878" class="Symbol">)</a>            <a id="33891" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="33894" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a> <a id="33903" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="33911" class="Symbol">(</a><a id="33912" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="33914" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="33916" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a> <a id="33919" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33921" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="33933" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="33935" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="33937" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="33940" href="Ledger.Ledger.Properties.html#33940" class="Bound">q</a> <a id="33942" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="33944" class="Symbol">(</a><a id="33945" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="33947" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="33949" href="Ledger.Ledger.Properties.html#33940" class="Bound">q</a><a id="33950" class="Symbol">)</a> <a id="33952" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="33954" href="Ledger.Ledger.Properties.html#30899" class="Function">utxoDeps</a><a id="33962" class="Symbol">)</a>            <a id="33975" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="33978" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="33987" href="Data.List.Ext.Properties.html#737" class="Function Operator">×-cong</a> <a id="33994" class="Symbol">(</a><a id="33995" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="34004" href="Data.List.Ext.Properties.html#737" class="Function Operator">×-cong</a> <a id="34011" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a><a id="34015" class="Symbol">)</a><a id="34016" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34024" class="Symbol">(</a><a id="34025" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="34027" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="34029" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a> <a id="34032" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34034" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="34046" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="34048" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34050" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="34052" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="34054" href="Class.IsSet.html#916" class="Function">dom</a> <a id="34058" href="Ledger.Ledger.Properties.html#30899" class="Function">utxoDeps</a><a id="34066" class="Symbol">)</a>                     <a id="34088" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34091" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="34100" href="Data.List.Ext.Properties.html#737" class="Function Operator">×-cong</a> <a id="34107" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="34116" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34124" class="Symbol">(</a><a id="34125" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="34127" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="34129" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a> <a id="34132" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34134" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="34136" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="34138" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="34146" href="Ledger.Ledger.Properties.html#8212" class="Function">isGADeposit</a> <a id="34158" class="Symbol">(</a><a id="34159" href="Class.IsSet.html#916" class="Function">dom</a> <a id="34163" href="Ledger.Ledger.Properties.html#30899" class="Function">utxoDeps</a><a id="34171" class="Symbol">))</a>               <a id="34188" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34191" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="34200" href="Data.List.Ext.Properties.html#737" class="Function Operator">×-cong</a> <a id="34207" class="Symbol">(</a><a id="34208" href="Ledger.Ledger.Properties.html#33584" class="Bound">HYP</a> <a id="34212" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a><a id="34213" class="Symbol">)</a> <a id="34215" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34223" class="Symbol">(</a><a id="34224" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="34226" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="34228" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a> <a id="34231" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34233" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="34235" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="34237" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="34246" class="Symbol">(</a><a id="34247" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="34251" class="Symbol">(</a><a id="34252" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="34269" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="34271" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="34276" class="Symbol">)</a> <a id="34278" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="34283" class="Symbol">))</a>  <a id="34287" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34290" href="Function.Related.Propositional.html#7059" class="Function">R.K-refl</a> <a id="34299" href="Data.List.Ext.Properties.html#737" class="Function Operator">×-cong</a> <a id="34306" class="Symbol">(</a><a id="34307" href="Function.Related.Propositional.html#8137" class="Function">R.SK-sym</a> <a id="34316" href="Axiom.Set.html#5776" class="Function">∈-fromList</a><a id="34326" class="Symbol">)</a><a id="34327" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34335" class="Symbol">(</a><a id="34336" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="34338" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="34340" href="Ledger.Ledger.Properties.html#30629" class="Function">χ&#39;</a> <a id="34343" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="34345" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="34347" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="34350" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="34354" class="Symbol">(</a><a id="34355" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="34372" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="34374" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="34379" class="Symbol">)</a> <a id="34381" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="34386" class="Symbol">)</a>            <a id="34399" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34402" href="Ledger.Ledger.Properties.html#32073" class="Function">map-filter-decomp</a> <a id="34420" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="34422" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34430" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="34432" href="Prelude.html#543" class="Function Operator">∈ˡ</a> <a id="34435" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="34439" class="Symbol">(</a><a id="34440" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="34457" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="34459" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="34464" class="Symbol">)</a> <a id="34466" class="Symbol">(</a><a id="34467" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="34474" href="Ledger.Ledger.Properties.html#30854" class="Function">P?</a> <a id="34477" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="34482" class="Symbol">)</a>           <a id="34494" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="34497" href="Axiom.Set.html#5776" class="Function">∈-fromList</a> <a id="34508" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="34516" href="Ledger.Ledger.Properties.html#33588" class="Bound">a</a> <a id="34518" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="34520" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="34529" class="Symbol">(</a><a id="34530" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="34534" class="Symbol">(</a><a id="34535" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="34552" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="34554" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="34559" class="Symbol">)</a> <a id="34561" class="Symbol">(</a><a id="34562" href="Data.List.Base.html#10687" class="Function">filter</a> <a id="34569" href="Ledger.Ledger.Properties.html#30854" class="Function">P?</a> <a id="34572" href="Ledger.Ledger.html#801" class="Function">govSt</a><a id="34577" class="Symbol">))</a> <a id="34580" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="34583" class="Comment">-- GA Deposits Invariance Property for CHAIN STS -----------------------------------------------</a>
<a id="34680" class="Keyword">module</a> <a id="34687" href="Ledger.Ledger.Properties.html#34687" class="Module">_</a> <a id="34689" class="Symbol">(</a><a id="34690" href="Ledger.Ledger.Properties.html#34690" class="Bound">b</a> <a id="34692" class="Symbol">:</a> <a id="34694" href="Ledger.Chain.html#626" class="Record">Block</a><a id="34699" class="Symbol">)</a> <a id="34701" class="Symbol">(</a><a id="34702" href="Ledger.Ledger.Properties.html#34702" class="Bound">cs</a> <a id="34705" class="Symbol">:</a> <a id="34707" href="Ledger.Chain.html#551" class="Record">ChainState</a><a id="34717" class="Symbol">)</a> <a id="34719" class="Keyword">where</a>
  <a id="34727" class="Keyword">open</a> <a id="34732" href="Ledger.Chain.html#626" class="Module">Block</a> <a id="34738" href="Ledger.Ledger.Properties.html#34690" class="Bound">b</a><a id="34739" class="Symbol">;</a> <a id="34741" class="Keyword">open</a> <a id="34746" href="Ledger.Chain.html#551" class="Module">ChainState</a> <a id="34757" href="Ledger.Ledger.Properties.html#34702" class="Bound">cs</a>
  <a id="34762" class="Keyword">open</a> <a id="34767" href="Ledger.Epoch.html#1330" class="Module">NewEpochState</a> <a id="34781" href="Ledger.Chain.html#587" class="Field">newEpochState</a>
  <a id="34797" class="Keyword">open</a> <a id="34802" href="Ledger.Ledger.Properties.html#11651" class="Module">SetoidProperties</a> <a id="34819" class="Keyword">using</a> <a id="34825" class="Symbol">(</a><a id="34826" href="Ledger.Ledger.Properties.html#27905" class="Function">LEDGER-govDepsMatch</a><a id="34845" class="Symbol">)</a>
  <a id="34849" class="Keyword">open</a> <a id="34854" href="Ledger.Ledger.Properties.html#29187" class="Module">EPOCH-Body</a> <a id="34865" href="Ledger.Epoch.html#1393" class="Function">epochState</a>
  <a id="34878" class="Keyword">open</a> <a id="34883" href="Ledger.Enact.html#397" class="Module">EnactState</a> <a id="34894" href="Ledger.Ledger.Properties.html#29411" class="Function">es</a> <a id="34897" class="Keyword">using</a> <a id="34903" class="Symbol">(</a><a id="34904" href="Ledger.Enact.html#607" class="Field">pparams</a><a id="34911" class="Symbol">)</a>
  <a id="34915" href="Ledger.Ledger.Properties.html#34915" class="Function">pp</a> <a id="34918" class="Symbol">=</a> <a id="34920" href="Ledger.Enact.html#607" class="Function">pparams</a> <a id="34928" class="Symbol">.</a><a id="34929" href="Data.Product.Base.html#636" class="Field">proj₁</a>

  <a id="34938" href="Ledger.Ledger.Properties.html#34938" class="Function">updateChainState</a> <a id="34955" class="Symbol">:</a> <a id="34957" href="Ledger.Chain.html#551" class="Record">ChainState</a> <a id="34968" class="Symbol">→</a> <a id="34970" href="Ledger.Epoch.html#1330" class="Record">NewEpochState</a> <a id="34984" class="Symbol">→</a> <a id="34986" href="Ledger.Chain.html#551" class="Record">ChainState</a>
  <a id="34999" href="Ledger.Ledger.Properties.html#34938" class="Function">updateChainState</a> <a id="35016" href="Ledger.Ledger.Properties.html#35016" class="Bound">s</a> <a id="35018" href="Ledger.Ledger.Properties.html#35018" class="Bound">nes</a> <a id="35022" class="Symbol">=</a>
    <a id="35028" class="Keyword">record</a> <a id="35035" href="Ledger.Ledger.Properties.html#35016" class="Bound">s</a> <a id="35037" class="Symbol">{</a> <a id="35039" href="Ledger.Chain.html#587" class="Field">newEpochState</a> <a id="35053" class="Symbol">=</a>
      <a id="35061" class="Keyword">record</a> <a id="35068" href="Ledger.Ledger.Properties.html#35018" class="Bound">nes</a> <a id="35072" class="Symbol">{</a> <a id="35074" href="Ledger.Epoch.html#1393" class="Field">epochState</a> <a id="35085" class="Symbol">=</a>
        <a id="35095" class="Keyword">record</a> <a id="35102" class="Symbol">(</a><a id="35103" href="Ledger.Epoch.html#1393" class="Field">NewEpochState.epochState</a> <a id="35128" class="Symbol">(</a><a id="35129" href="Ledger.Chain.html#587" class="Field">ChainState.newEpochState</a> <a id="35154" href="Ledger.Ledger.Properties.html#35016" class="Bound">s</a><a id="35155" class="Symbol">))</a>
          <a id="35168" class="Symbol">{</a> <a id="35170" href="Ledger.Epoch.html#1244" class="Field">ls</a> <a id="35173" class="Symbol">=</a> <a id="35175" href="Ledger.Epoch.html#1244" class="Field">EpochState.ls</a> <a id="35189" class="Symbol">(</a><a id="35190" href="Ledger.Epoch.html#1393" class="Field">NewEpochState.epochState</a> <a id="35215" href="Ledger.Ledger.Properties.html#35018" class="Bound">nes</a><a id="35218" class="Symbol">)</a> <a id="35220" class="Symbol">}</a>
      <a id="35228" class="Symbol">}</a>
    <a id="35234" class="Symbol">}</a>

  <a id="35239" href="Ledger.Ledger.Properties.html#35239" class="Function">CHAIN-govDepsMatch</a> <a id="35258" class="Symbol">:</a> <a id="35260" class="Symbol">{</a><a id="35261" href="Ledger.Ledger.Properties.html#35261" class="Bound">nes</a> <a id="35265" class="Symbol">:</a> <a id="35267" href="Ledger.Epoch.html#1330" class="Record">NewEpochState</a><a id="35280" class="Symbol">}</a>
    <a id="35286" class="Symbol">→</a> <a id="35288" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="35293" class="Symbol">(</a><a id="35294" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="35311" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="35313" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="35318" class="Symbol">)</a> <a id="35320" href="Ledger.Ledger.Properties.html#29569" class="Function">removed&#39;</a> <a id="35329" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="35331" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="35336" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="35342" class="Symbol">(</a><a id="35343" href="Ledger.Utxo.html#2624" class="Field">UTxOState.deposits</a> <a id="35362" class="Symbol">(</a><a id="35363" href="Ledger.Ledger.html#774" class="Field">LState.utxoSt</a> <a id="35377" href="Ledger.Epoch.html#1244" class="Function">ls</a><a id="35379" class="Symbol">)</a> <a id="35381" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="35382" class="Symbol">)</a>
    <a id="35388" class="Symbol">→</a> <a id="35390" href="Ledger.Chain.html#2474" class="Function">totalRefScriptsSize</a> <a id="35410" href="Ledger.Epoch.html#1244" class="Function">ls</a> <a id="35413" href="Ledger.Chain.html#657" class="Function">ts</a> <a id="35416" href="Class.HasOrder.Core.html#551" class="Field Operator">≤</a> <a id="35418" class="Symbol">(</a><a id="35419" href="Ledger.PParams.html#2161" class="Field">PParams.maxRefScriptSizePerBlock</a> <a id="35452" href="Ledger.Ledger.Properties.html#34915" class="Function">pp</a><a id="35454" class="Symbol">)</a>
    <a id="35460" class="Symbol">→</a> <a id="35462" class="Symbol">_</a> <a id="35464" href="Ledger.Chain.html#2636" class="Datatype Operator">⊢</a> <a id="35466" href="Ledger.Ledger.Properties.html#34702" class="Bound">cs</a> <a id="35469" href="Ledger.Chain.html#2636" class="Datatype Operator">⇀⦇</a> <a id="35472" href="Ledger.Ledger.Properties.html#34690" class="Bound">b</a> <a id="35474" href="Ledger.Chain.html#2636" class="Datatype Operator">,CHAIN⦈</a> <a id="35482" class="Symbol">(</a><a id="35483" href="Ledger.Ledger.Properties.html#34938" class="Function">updateChainState</a> <a id="35500" href="Ledger.Ledger.Properties.html#34702" class="Bound">cs</a> <a id="35503" href="Ledger.Ledger.Properties.html#35261" class="Bound">nes</a><a id="35506" class="Symbol">)</a>
    <a id="35512" class="Symbol">→</a> <a id="35514" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="35527" href="Ledger.Epoch.html#1244" class="Function">ls</a> <a id="35530" class="Symbol">→</a> <a id="35532" href="Ledger.Ledger.Properties.html#8423" class="Function">govDepsMatch</a> <a id="35545" class="Symbol">(</a><a id="35546" href="Ledger.Epoch.html#1244" class="Field">EpochState.ls</a> <a id="35560" class="Symbol">(</a><a id="35561" href="Ledger.Epoch.html#1393" class="Field">NewEpochState.epochState</a> <a id="35586" href="Ledger.Ledger.Properties.html#35261" class="Bound">nes</a><a id="35589" class="Symbol">))</a>

  <a id="35595" href="Ledger.Ledger.Properties.html#35239" class="Function">CHAIN-govDepsMatch</a> <a id="35614" href="Ledger.Ledger.Properties.html#35614" class="Bound">rrm</a> <a id="35618" href="Ledger.Ledger.Properties.html#35618" class="Bound">rss</a> <a id="35622" class="Symbol">(</a><a id="35623" href="Ledger.Chain.html#2710" class="InductiveConstructor">CHAIN</a> <a id="35629" href="Ledger.Ledger.Properties.html#35629" class="Bound">x</a> <a id="35631" class="Symbol">(</a><a id="35632" href="Ledger.Epoch.html#7109" class="InductiveConstructor">NEWEPOCH-New</a> <a id="35645" class="Symbol">(_</a> <a id="35648" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="35650" href="Ledger.Ledger.Properties.html#35650" class="Bound">eps₁→eps₂</a><a id="35659" class="Symbol">))</a> <a id="35662" href="Ledger.Ledger.Properties.html#35662" class="Bound">ledgers</a><a id="35669" class="Symbol">)</a> <a id="35671" class="Symbol">=</a>
    <a id="35677" href="Interface.STS.html#4007" class="Function">RTC-preserves-inv</a> <a id="35695" class="Symbol">(λ</a> <a id="35698" class="Symbol">{</a><a id="35699" href="Ledger.Ledger.Properties.html#35699" class="Bound">c</a><a id="35700" class="Symbol">}</a> <a id="35702" class="Symbol">{</a><a id="35703" href="Ledger.Ledger.Properties.html#35703" class="Bound">s</a><a id="35704" class="Symbol">}</a> <a id="35706" class="Symbol">{</a><a id="35707" href="Ledger.Ledger.Properties.html#35707" class="Bound">sig</a><a id="35710" class="Symbol">}</a> <a id="35712" class="Symbol">→</a> <a id="35714" href="Ledger.Ledger.Properties.html#27905" class="Function">LEDGER-govDepsMatch</a> <a id="35734" href="Ledger.Ledger.Properties.html#35707" class="Bound">sig</a> <a id="35738" href="Ledger.Ledger.Properties.html#35699" class="Bound">c</a> <a id="35740" href="Ledger.Ledger.Properties.html#35703" class="Bound">s</a><a id="35741" class="Symbol">)</a> <a id="35743" href="Ledger.Ledger.Properties.html#35662" class="Bound">ledgers</a>
     <a id="35756" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="35758" href="Ledger.Ledger.Properties.html#29997" class="Function">EPOCH-PROPS.EPOCH-govDepsMatch</a> <a id="35789" href="Ledger.Ledger.Properties.html#35614" class="Bound">rrm</a> <a id="35793" href="Ledger.Ledger.Properties.html#35650" class="Bound">eps₁→eps₂</a>

  <a id="35806" href="Ledger.Ledger.Properties.html#35239" class="Function">CHAIN-govDepsMatch</a> <a id="35825" href="Ledger.Ledger.Properties.html#35825" class="Bound">rrm</a> <a id="35829" href="Ledger.Ledger.Properties.html#35829" class="Bound">rss</a> <a id="35833" class="Symbol">(</a><a id="35834" href="Ledger.Chain.html#2710" class="InductiveConstructor">CHAIN</a> <a id="35840" href="Ledger.Ledger.Properties.html#35840" class="Bound">x</a> <a id="35842" class="Symbol">(</a><a id="35843" href="Ledger.Epoch.html#7345" class="InductiveConstructor">NEWEPOCH-Not-New</a> <a id="35860" class="Symbol">_)</a> <a id="35863" href="Ledger.Ledger.Properties.html#35863" class="Bound">ledgers</a><a id="35870" class="Symbol">)</a> <a id="35872" class="Symbol">=</a>
    <a id="35878" href="Interface.STS.html#4007" class="Function">RTC-preserves-inv</a> <a id="35896" class="Symbol">(λ</a> <a id="35899" class="Symbol">{</a><a id="35900" href="Ledger.Ledger.Properties.html#35900" class="Bound">c</a><a id="35901" class="Symbol">}</a> <a id="35903" class="Symbol">{</a><a id="35904" href="Ledger.Ledger.Properties.html#35904" class="Bound">s</a><a id="35905" class="Symbol">}</a> <a id="35907" class="Symbol">{</a><a id="35908" href="Ledger.Ledger.Properties.html#35908" class="Bound">sig</a><a id="35911" class="Symbol">}</a> <a id="35913" class="Symbol">→</a> <a id="35915" href="Ledger.Ledger.Properties.html#27905" class="Function">LEDGER-govDepsMatch</a> <a id="35935" href="Ledger.Ledger.Properties.html#35908" class="Bound">sig</a> <a id="35939" href="Ledger.Ledger.Properties.html#35900" class="Bound">c</a> <a id="35941" href="Ledger.Ledger.Properties.html#35904" class="Bound">s</a><a id="35942" class="Symbol">)</a> <a id="35944" href="Ledger.Ledger.Properties.html#35863" class="Bound">ledgers</a>

  <a id="35955" href="Ledger.Ledger.Properties.html#35239" class="Function">CHAIN-govDepsMatch</a> <a id="35974" href="Ledger.Ledger.Properties.html#35974" class="Bound">rrm</a> <a id="35978" href="Ledger.Ledger.Properties.html#35978" class="Bound">rss</a> <a id="35982" class="Symbol">(</a><a id="35983" href="Ledger.Chain.html#2710" class="InductiveConstructor">CHAIN</a> <a id="35989" href="Ledger.Ledger.Properties.html#35989" class="Bound">x</a> <a id="35991" class="Symbol">(</a><a id="35992" href="Ledger.Epoch.html#7508" class="InductiveConstructor">NEWEPOCH-No-Reward-Update</a> <a id="36018" class="Symbol">(_</a> <a id="36021" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="36023" href="Ledger.Ledger.Properties.html#36023" class="Bound">eps₁→eps₂</a><a id="36032" class="Symbol">))</a> <a id="36035" href="Ledger.Ledger.Properties.html#36035" class="Bound">ledgers</a><a id="36042" class="Symbol">)</a> <a id="36044" class="Symbol">=</a>
    <a id="36050" href="Interface.STS.html#4007" class="Function">RTC-preserves-inv</a> <a id="36068" class="Symbol">(λ</a> <a id="36071" class="Symbol">{</a><a id="36072" href="Ledger.Ledger.Properties.html#36072" class="Bound">c</a><a id="36073" class="Symbol">}</a> <a id="36075" class="Symbol">{</a><a id="36076" href="Ledger.Ledger.Properties.html#36076" class="Bound">s</a><a id="36077" class="Symbol">}</a> <a id="36079" class="Symbol">{</a><a id="36080" href="Ledger.Ledger.Properties.html#36080" class="Bound">sig</a><a id="36083" class="Symbol">}</a> <a id="36085" class="Symbol">→</a> <a id="36087" href="Ledger.Ledger.Properties.html#27905" class="Function">LEDGER-govDepsMatch</a> <a id="36107" href="Ledger.Ledger.Properties.html#36080" class="Bound">sig</a> <a id="36111" href="Ledger.Ledger.Properties.html#36072" class="Bound">c</a> <a id="36113" href="Ledger.Ledger.Properties.html#36076" class="Bound">s</a><a id="36114" class="Symbol">)</a> <a id="36116" href="Ledger.Ledger.Properties.html#36035" class="Bound">ledgers</a>
     <a id="36129" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="36131" href="Ledger.Ledger.Properties.html#29997" class="Function">EPOCH-PROPS.EPOCH-govDepsMatch</a> <a id="36162" href="Ledger.Ledger.Properties.html#35974" class="Bound">rrm</a> <a id="36166" href="Ledger.Ledger.Properties.html#36023" class="Bound">eps₁→eps₂</a>
</pre></body></html>