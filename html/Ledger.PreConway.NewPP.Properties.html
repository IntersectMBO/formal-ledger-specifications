<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.PreConway.NewPP.Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>

<a id="65" class="Keyword">open</a> <a id="70" class="Keyword">import</a> <a id="77" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="92" class="Keyword">open</a> <a id="97" class="Keyword">import</a> <a id="104" href="Ledger.Conway.Transaction.html" class="Module">Ledger.Conway.Transaction</a>

<a id="131" class="Keyword">module</a> <a id="138" href="Ledger.PreConway.NewPP.Properties.html" class="Module">Ledger.PreConway.NewPP.Properties</a> <a id="172" class="Symbol">(</a><a id="173" href="Ledger.PreConway.NewPP.Properties.html#173" class="Bound">txs</a> <a id="177" class="Symbol">:</a> <a id="179" class="Symbol">_)</a> <a id="182" class="Symbol">(</a><a id="183" class="Keyword">open</a> <a id="188" href="Ledger.Conway.Transaction.html#910" class="Module">TransactionStructure</a> <a id="209" href="Ledger.PreConway.NewPP.Properties.html#173" class="Bound">txs</a><a id="212" class="Symbol">)</a> <a id="214" class="Keyword">where</a>

<a id="221" class="Keyword">open</a> <a id="226" class="Keyword">import</a> <a id="233" href="Ledger.PreConway.PPUp.html" class="Module">Ledger.PreConway.PPUp</a> <a id="255" href="Ledger.PreConway.NewPP.Properties.html#173" class="Bound">txs</a>
<a id="259" class="Keyword">open</a> <a id="264" class="Keyword">import</a> <a id="271" href="Ledger.PreConway.NewPP.html" class="Module">Ledger.PreConway.NewPP</a> <a id="294" href="Ledger.PreConway.NewPP.Properties.html#173" class="Bound">txs</a>

<a id="299" class="Keyword">instance</a>
  <a id="Computational-NEWPP"></a><a id="310" href="Ledger.PreConway.NewPP.Properties.html#310" class="Function">Computational-NEWPP</a> <a id="330" class="Symbol">:</a> <a id="332" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="346" href="Ledger.PreConway.NewPP.html#1106" class="Datatype Operator">_⊢_⇀⦇_,NEWPP⦈_</a> <a id="361" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="370" href="Ledger.PreConway.NewPP.Properties.html#310" class="Function">Computational-NEWPP</a> <a id="390" class="Symbol">=</a> <a id="392" class="Keyword">record</a> <a id="399" class="Symbol">{</a><a id="400" href="Ledger.PreConway.NewPP.Properties.html#416" class="Module">M</a><a id="401" class="Symbol">}</a> <a id="403" class="Keyword">where</a> <a id="409" class="Keyword">module</a> <a id="416" href="Ledger.PreConway.NewPP.Properties.html#416" class="Module">M</a> <a id="418" href="Ledger.PreConway.NewPP.Properties.html#418" class="Bound">Γ</a> <a id="420" href="Ledger.PreConway.NewPP.Properties.html#420" class="Bound">s</a> <a id="422" class="Symbol">(</a><a id="423" class="Keyword">open</a> <a id="428" href="Ledger.PreConway.NewPP.html#302" class="Module">NewPParamState</a> <a id="443" href="Ledger.PreConway.NewPP.Properties.html#420" class="Bound">s</a><a id="444" class="Symbol">)</a> <a id="446" class="Keyword">where</a>
    <a id="456" href="Ledger.PreConway.NewPP.Properties.html#456" class="Function">computeProof</a> <a id="469" class="Symbol">=</a> <a id="471" class="Symbol">λ</a> <a id="473" class="Keyword">where</a>
      <a id="485" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="493" class="Symbol">→</a> <a id="495" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="503" class="Symbol">(_</a> <a id="506" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="508" href="Ledger.PreConway.NewPP.html#1422" class="InductiveConstructor">NEWPP-Reject</a><a id="520" class="Symbol">)</a>
      <a id="528" class="Symbol">(</a><a id="529" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="534" href="Ledger.PreConway.NewPP.Properties.html#534" class="Bound">upd</a><a id="537" class="Symbol">)</a> <a id="539" class="Symbol">→</a> <a id="541" class="Keyword">let</a> <a id="545" href="Ledger.PreConway.NewPP.Properties.html#545" class="Bound">newpp</a> <a id="551" class="Symbol">=</a> <a id="553" href="Ledger.Conway.PParams.html#14235" class="Function">applyUpdate</a> <a id="565" href="Ledger.PreConway.NewPP.html#342" class="Field">pparams</a> <a id="573" href="Ledger.PreConway.NewPP.Properties.html#534" class="Bound">upd</a> <a id="577" class="Keyword">in</a>
        <a id="588" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="593" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="595" href="Ledger.PreConway.PPUp.html#726" class="Function">viablePParams</a> <a id="609" href="Ledger.PreConway.NewPP.Properties.html#545" class="Bound">newpp</a> <a id="615" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="617" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="620" class="Symbol">λ</a> <a id="622" class="Keyword">where</a>
          <a id="638" class="Symbol">(</a><a id="639" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="643" href="Ledger.PreConway.NewPP.Properties.html#643" class="Bound">p</a><a id="644" class="Symbol">)</a> <a id="646" class="Symbol">→</a> <a id="648" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="656" class="Symbol">(_</a> <a id="659" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="661" href="Ledger.PreConway.NewPP.html#1209" class="InductiveConstructor">NEWPP-Accept</a> <a id="674" href="Ledger.PreConway.NewPP.Properties.html#643" class="Bound">p</a><a id="675" class="Symbol">)</a>
          <a id="687" class="Symbol">(</a><a id="688" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="691" class="Symbol">_)</a>  <a id="695" class="Symbol">→</a> <a id="697" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="705" class="String">&quot;Failed in NEWPP&quot;</a>

    <a id="728" href="Ledger.PreConway.NewPP.Properties.html#728" class="Function">completeness</a> <a id="741" class="Symbol">:</a> <a id="743" class="Symbol">_</a>
    <a id="749" href="Ledger.PreConway.NewPP.Properties.html#728" class="Function">completeness</a> <a id="762" href="Ledger.PreConway.NewPP.Properties.html#762" class="Bound">sig</a> <a id="766" href="Ledger.PreConway.NewPP.Properties.html#766" class="Bound">s&#39;</a> <a id="769" href="Ledger.PreConway.NewPP.Properties.html#769" class="Bound">h</a> <a id="771" class="Keyword">with</a> <a id="776" href="Ledger.PreConway.NewPP.Properties.html#762" class="Bound">sig</a> <a id="780" class="Symbol">|</a> <a id="782" href="Ledger.PreConway.NewPP.Properties.html#769" class="Bound">h</a>
    <a id="788" class="Symbol">...</a> <a id="792" class="Symbol">|</a> <a id="794" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="803" class="Symbol">|</a> <a id="805" href="Ledger.PreConway.NewPP.html#1422" class="InductiveConstructor">NEWPP-Reject</a>   <a id="820" class="Symbol">=</a> <a id="822" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="831" class="Symbol">...</a> <a id="835" class="Symbol">|</a> <a id="837" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="842" href="Ledger.PreConway.NewPP.Properties.html#842" class="Bound">upd</a> <a id="846" class="Symbol">|</a> <a id="848" href="Ledger.PreConway.NewPP.html#1209" class="InductiveConstructor">NEWPP-Accept</a> <a id="861" href="Ledger.PreConway.NewPP.Properties.html#861" class="Bound">p</a>
      <a id="869" class="Keyword">rewrite</a> <a id="877" class="Keyword">let</a> <a id="881" href="Ledger.PreConway.NewPP.Properties.html#881" class="Bound">newpp</a> <a id="887" class="Symbol">=</a> <a id="889" href="Ledger.Conway.PParams.html#14235" class="Function">applyUpdate</a> <a id="901" href="Ledger.PreConway.NewPP.html#342" class="Field">pparams</a> <a id="909" href="Ledger.PreConway.NewPP.Properties.html#842" class="Bound">upd</a> <a id="913" class="Keyword">in</a>
              <a id="930" href="Relation.Nullary.Decidable.html#2626" class="Function">dec-yes</a> <a id="938" class="Symbol">(</a><a id="939" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="941" href="Ledger.PreConway.PPUp.html#726" class="Function">viablePParams</a> <a id="955" href="Ledger.PreConway.NewPP.Properties.html#881" class="Bound">newpp</a> <a id="961" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a><a id="962" class="Symbol">)</a> <a id="964" href="Ledger.PreConway.NewPP.Properties.html#861" class="Bound">p</a> <a id="966" class="Symbol">.</a><a id="967" href="Data.Product.Base.html#650" class="Field">proj₂</a>
              <a id="987" class="Symbol">=</a> <a id="989" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre></body></html>