<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Utxo.Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Algebra.Morphism.html" class="Module">Algebra.Morphism</a>            <a id="66" class="Keyword">using</a> <a id="72" class="Symbol">(</a><a id="73" class="Keyword">module</a> <a id="80" href="Algebra.Morphism.Structures.html#4053" class="Module">MonoidMorphisms</a><a id="95" class="Symbol">;</a> <a id="97" href="Algebra.Morphism.Structures.html#2757" class="Record">IsMagmaHomomorphism</a><a id="116" class="Symbol">)</a>
<a id="118" class="Keyword">import</a> <a id="125" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="134" class="Symbol">as</a> <a id="137" class="Module">ℕ</a>
<a id="139" class="Keyword">open</a> <a id="144" class="Keyword">import</a> <a id="151" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>         <a id="179" class="Keyword">hiding</a> <a id="186" class="Symbol">(</a><a id="187" href="Data.Nat.Properties.html#3874" class="Function Operator">_≟_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Product.html" class="Module">Data.Product</a>                <a id="232" class="Keyword">using</a> <a id="238" class="Symbol">(</a><a id="239" href="Data.Product.Base.html#5054" class="Function">swap</a><a id="243" class="Symbol">)</a>
<a id="245" class="Keyword">open</a> <a id="250" class="Keyword">import</a> <a id="257" href="Data.Sign.html" class="Module">Data.Sign</a>                   <a id="285" class="Keyword">using</a> <a id="291" class="Symbol">(</a><a id="292" href="Data.Sign.Base.html#523" class="Datatype">Sign</a><a id="296" class="Symbol">)</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="323" class="Symbol">as</a> <a id="326" class="Module">ℤ</a>           <a id="338" class="Keyword">using</a> <a id="344" class="Symbol">(</a><a id="345" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="346" class="Symbol">)</a>
<a id="348" class="Keyword">import</a> <a id="355" href="Data.Integer.Properties.html" class="Module">Data.Integer.Properties</a> <a id="379" class="Symbol">as</a> <a id="382" class="Module">ℤ</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Data.String.Base.html" class="Module">Data.String.Base</a>            <a id="424" class="Keyword">renaming</a> <a id="433" class="Symbol">(</a><a id="434" href="Data.String.Base.html#2425" class="Function Operator">_++_</a> <a id="439" class="Symbol">to</a> <a id="442" class="Function Operator">_+ˢ_</a><a id="446" class="Symbol">)</a> <a id="448" class="Keyword">using</a> <a id="454" class="Symbol">()</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Relation.Binary.html" class="Module">Relation.Binary</a>             <a id="497" class="Keyword">using</a> <a id="503" class="Symbol">(</a><a id="504" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a><a id="517" class="Symbol">)</a>

<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a>  <a id="562" class="Keyword">using</a> <a id="568" class="Symbol">(</a><a id="569" href="Data.List.Relation.Unary.All.html#1644" class="Datatype">All</a><a id="572" class="Symbol">)</a>
<a id="574" class="Keyword">open</a> <a id="579" class="Keyword">import</a> <a id="586" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>  <a id="616" class="Keyword">using</a> <a id="622" class="Symbol">(</a><a id="623" href="Data.List.Relation.Unary.Any.html#1148" class="Datatype">Any</a><a id="626" class="Symbol">);</a> <a id="629" class="Keyword">open</a> <a id="634" href="Data.List.Relation.Unary.Any.html#1148" class="Module">Any</a>

<a id="639" class="Keyword">open</a> <a id="644" class="Keyword">import</a> <a id="651" href="Prelude.html" class="Module">Prelude</a><a id="658" class="Symbol">;</a> <a id="660" class="Keyword">open</a> <a id="665" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="678" class="Keyword">open</a> <a id="683" class="Keyword">import</a> <a id="690" href="Tactic.Cong.html" class="Module">Tactic.Cong</a>                 <a id="718" class="Keyword">using</a> <a id="724" class="Symbol">(</a><a id="725" href="Tactic.Cong.html#9441" class="Function">cong!</a><a id="730" class="Symbol">)</a>
<a id="732" class="Keyword">open</a> <a id="737" class="Keyword">import</a> <a id="744" href="Tactic.Defaults.html" class="Module">Tactic.Defaults</a>
<a id="760" class="Keyword">open</a> <a id="765" class="Keyword">import</a> <a id="772" href="Tactic.EquationalReasoning.html" class="Module">Tactic.EquationalReasoning</a>  <a id="800" class="Keyword">using</a> <a id="806" class="Symbol">(</a><a id="807" class="Keyword">module</a> <a id="814" href="Tactic.EquationalReasoning.html#418" class="Module">≡-Reasoning</a><a id="825" class="Symbol">)</a>
<a id="827" class="Keyword">open</a> <a id="832" class="Keyword">import</a> <a id="839" href="stdlib-meta.Tactic.GenError.html" class="Module">stdlib-meta.Tactic.GenError</a>
<a id="867" class="Keyword">open</a> <a id="872" class="Keyword">import</a> <a id="879" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html" class="Module">stdlib-meta.Tactic.MonoidSolver.NonNormalising</a> <a id="926" class="Keyword">using</a> <a id="932" class="Symbol">(</a><a id="933" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html#574" class="Function">solve-macro</a><a id="944" class="Symbol">)</a>

<a id="947" class="Keyword">open</a> <a id="952" class="Keyword">import</a> <a id="959" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="974" class="Keyword">hiding</a> <a id="981" class="Symbol">(</a><a id="982" href="Class.HasOrder.Core.html#995" class="Function">≤-trans</a><a id="989" class="Symbol">;</a> <a id="991" href="Class.HasOrder.Core.html#1894" class="Field">≤-antisym</a><a id="1000" class="Symbol">;</a> <a id="1002" href="Axiom.Set.html#9724" class="Function">All</a><a id="1005" class="Symbol">);</a> <a id="1008" class="Keyword">open</a> <a id="1013" href="abstract-set-theory.FiniteSetTheory.html#1716" class="Module">Properties</a>
<a id="1024" class="Keyword">open</a> <a id="1029" class="Keyword">import</a> <a id="1036" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>
<a id="1052" class="Keyword">open</a> <a id="1057" class="Keyword">import</a> <a id="1064" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="1083" class="Keyword">open</a> <a id="1088" class="Keyword">import</a> <a id="1095" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>

<a id="1128" class="Keyword">module</a> <a id="1135" href="Ledger.Utxo.Properties.html" class="Module">Ledger.Utxo.Properties</a>
  <a id="1160" class="Symbol">(</a><a id="1161" href="Ledger.Utxo.Properties.html#1161" class="Bound">txs</a> <a id="1165" class="Symbol">:</a> <a id="1167" class="Symbol">_)</a> <a id="1170" class="Symbol">(</a><a id="1171" class="Keyword">open</a> <a id="1176" href="Ledger.Transaction.html#840" class="Module">TransactionStructure</a> <a id="1197" href="Ledger.Utxo.Properties.html#1161" class="Bound">txs</a><a id="1200" class="Symbol">)</a>
  <a id="1204" class="Symbol">(</a><a id="1205" href="Ledger.Utxo.Properties.html#1205" class="Bound">abs</a> <a id="1209" class="Symbol">:</a> <a id="1211" href="Ledger.Abstract.html#578" class="Record">AbstractFunctions</a> <a id="1229" href="Ledger.Utxo.Properties.html#1161" class="Bound">txs</a><a id="1232" class="Symbol">)</a> <a id="1234" class="Symbol">(</a><a id="1235" class="Keyword">open</a> <a id="1240" href="Ledger.Abstract.html#578" class="Module">AbstractFunctions</a> <a id="1258" href="Ledger.Utxo.Properties.html#1205" class="Bound">abs</a><a id="1261" class="Symbol">)</a>
  <a id="1265" class="Keyword">where</a>

<a id="1272" class="Keyword">open</a> <a id="1277" class="Keyword">import</a> <a id="1284" href="Ledger.Utxo.html" class="Module">Ledger.Utxo</a> <a id="1296" href="Ledger.Utxo.Properties.html#1161" class="Bound">txs</a> <a id="1300" href="Ledger.Utxo.Properties.html#1205" class="Bound">abs</a>
<a id="1304" class="Keyword">open</a> <a id="1309" class="Keyword">import</a> <a id="1316" href="Ledger.ScriptValidation.html" class="Module">Ledger.ScriptValidation</a> <a id="1340" href="Ledger.Utxo.Properties.html#1161" class="Bound">txs</a> <a id="1344" href="Ledger.Utxo.Properties.html#1205" class="Bound">abs</a>
<a id="1348" class="Keyword">open</a> <a id="1353" class="Keyword">import</a> <a id="1360" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="1373" href="Ledger.Transaction.html#1782" class="Function">govStructure</a>
<a id="1386" class="Keyword">open</a> <a id="1391" class="Keyword">import</a> <a id="1398" href="Algebra.Definitions.RawMagma.html" class="Module">Algebra.Definitions.RawMagma</a> <a id="1427" href="Data.Nat.Base.html#4468" class="Function">+-rawMagma</a> <a id="1438" class="Keyword">using</a> <a id="1444" class="Symbol">()</a> <a id="1447" class="Keyword">renaming</a> <a id="1456" class="Symbol">(</a><a id="1457" href="Algebra.Definitions.RawMagma.html#1419" class="InductiveConstructor Operator">_,_</a> <a id="1461" class="Symbol">to</a> <a id="1464" class="InductiveConstructor Operator">_,≤_</a><a id="1468" class="Symbol">)</a>

<a id="1471" class="Keyword">instance</a>
  <a id="1482" href="Ledger.Utxo.Properties.html#1482" class="Function">_</a> <a id="1484" class="Symbol">=</a> <a id="1486" href="Ledger.TokenAlgebra.html#510" class="Field">TokenAlgebra.Value-CommutativeMonoid</a> <a id="1523" href="Ledger.Transaction.html#1679" class="Field">tokenAlgebra</a>
  <a id="1538" href="Ledger.Utxo.Properties.html#1538" class="Function">_</a> <a id="1540" class="Symbol">=</a> <a id="1542" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a>
  <a id="1555" href="Ledger.Utxo.Properties.html#1555" class="Function">_</a> <a id="1557" class="Symbol">=</a> <a id="1559" href="Interface.ComputationalRelation.html#1365" class="Function">Functor-ComputationResult</a>

<a id="1586" class="Keyword">instance</a>
  <a id="Computational-UTXOS"></a><a id="1597" href="Ledger.Utxo.Properties.html#1597" class="Function">Computational-UTXOS</a> <a id="1617" class="Symbol">:</a> <a id="1619" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="1633" href="Ledger.Utxo.html#12889" class="Datatype Operator">_⊢_⇀⦇_,UTXOS⦈_</a> <a id="1648" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1657" href="Ledger.Utxo.Properties.html#1597" class="Function">Computational-UTXOS</a> <a id="1677" class="Symbol">=</a> <a id="1679" class="Keyword">record</a> <a id="1686" class="Symbol">{</a><a id="1687" href="Ledger.Utxo.Properties.html#1708" class="Module">go</a><a id="1689" class="Symbol">}</a> <a id="1691" class="Keyword">where</a>
    <a id="1701" class="Keyword">module</a> <a id="1708" href="Ledger.Utxo.Properties.html#1708" class="Module">go</a> <a id="1711" class="Symbol">(</a><a id="1712" href="Ledger.Utxo.Properties.html#1712" class="Bound">Γ</a> <a id="1714" class="Symbol">:</a> <a id="1716" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a><a id="1723" class="Symbol">)</a> <a id="1725" class="Symbol">(</a><a id="1726" href="Ledger.Utxo.Properties.html#1726" class="Bound">s</a> <a id="1728" class="Symbol">:</a> <a id="1730" href="Ledger.Utxo.html#2705" class="Record">UTxOState</a><a id="1739" class="Symbol">)</a> <a id="1741" class="Symbol">(</a><a id="1742" href="Ledger.Utxo.Properties.html#1742" class="Bound">tx</a> <a id="1745" class="Symbol">:</a> <a id="1747" href="Ledger.Transaction.html#4194" class="Record">Tx</a><a id="1749" class="Symbol">)</a>
      <a id="1757" class="Symbol">(</a><a id="1758" class="Keyword">let</a> <a id="1762" class="Keyword">open</a> <a id="1767" href="Ledger.Utxo.html#2705" class="Module">UTxOState</a> <a id="1777" href="Ledger.Utxo.Properties.html#1726" class="Bound">s</a><a id="1778" class="Symbol">)</a>
      <a id="1786" class="Symbol">(</a><a id="1787" class="Keyword">let</a> <a id="1791" href="Ledger.Utxo.Properties.html#1791" class="Bound">H-Yes</a> <a id="1797" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1799" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1801" href="Ledger.Utxo.Properties.html#1801" class="Bound">H-Yes?</a> <a id="1808" class="Symbol">=</a> <a id="1810" href="Ledger.Utxo.html#13929" class="Function">Scripts-Yes-premises</a> <a id="1831" class="Symbol">{</a><a id="1832" href="Ledger.Utxo.Properties.html#1712" class="Bound">Γ</a><a id="1833" class="Symbol">}</a> <a id="1835" class="Symbol">{</a><a id="1836" href="Ledger.Utxo.Properties.html#1742" class="Bound">tx</a><a id="1838" class="Symbol">}</a> <a id="1840" class="Symbol">{</a><a id="1841" href="Ledger.Utxo.html#2769" class="Function">utxo</a><a id="1845" class="Symbol">}</a> <a id="1847" class="Symbol">{</a><a id="1848" href="Ledger.Utxo.html#2813" class="Function">deposits</a><a id="1856" class="Symbol">})</a>
      <a id="1865" class="Symbol">(</a><a id="1866" class="Keyword">let</a> <a id="1870" href="Ledger.Utxo.Properties.html#1870" class="Bound">H-No</a>  <a id="1876" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1878" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1880" href="Ledger.Utxo.Properties.html#1880" class="Bound">H-No?</a>  <a id="1887" class="Symbol">=</a> <a id="1889" href="Ledger.Utxo.html#14017" class="Function">Scripts-No-premises</a>  <a id="1910" class="Symbol">{</a><a id="1911" href="Ledger.Utxo.Properties.html#1712" class="Bound">Γ</a><a id="1912" class="Symbol">}</a> <a id="1914" class="Symbol">{</a><a id="1915" href="Ledger.Utxo.Properties.html#1742" class="Bound">tx</a><a id="1917" class="Symbol">}</a> <a id="1919" class="Symbol">{</a><a id="1920" href="Ledger.Utxo.html#2769" class="Function">utxo</a><a id="1924" class="Symbol">})</a> <a id="1927" class="Keyword">where</a>
      <a id="1939" class="Keyword">open</a> <a id="1944" href="Ledger.Transaction.html#4194" class="Module">Tx</a> <a id="1947" href="Ledger.Utxo.Properties.html#1742" class="Bound">tx</a> <a id="1950" class="Keyword">renaming</a> <a id="1959" class="Symbol">(</a><a id="1960" href="Ledger.Transaction.html#4226" class="Field">body</a> <a id="1965" class="Symbol">to</a> <a id="1968" class="Field">txb</a><a id="1971" class="Symbol">);</a> <a id="1974" class="Keyword">open</a> <a id="1979" href="Ledger.Transaction.html#2650" class="Module">TxBody</a> <a id="1986" href="Ledger.Utxo.Properties.html#1968" class="Field">txb</a>
      <a id="1996" class="Keyword">open</a> <a id="2001" href="Ledger.Utxo.html#2353" class="Module">UTxOEnv</a> <a id="2009" href="Ledger.Utxo.Properties.html#1712" class="Bound">Γ</a> <a id="2011" class="Keyword">renaming</a> <a id="2020" class="Symbol">(</a><a id="2021" href="Ledger.Utxo.html#2407" class="Field">pparams</a> <a id="2029" class="Symbol">to</a> <a id="2032" class="Field">pp</a><a id="2034" class="Symbol">)</a>
      <a id="2042" href="Ledger.Utxo.Properties.html#2042" class="Function">sLst</a> <a id="2047" class="Symbol">=</a> <a id="2049" href="Ledger.ScriptValidation.html#5858" class="Function">collectPhaseTwoScriptInputs</a> <a id="2077" href="Ledger.Utxo.Properties.html#2032" class="Function">pp</a> <a id="2080" href="Ledger.Utxo.Properties.html#1742" class="Bound">tx</a> <a id="2083" href="Ledger.Utxo.html#2769" class="Function">utxo</a>

      <a id="2095" href="Ledger.Utxo.Properties.html#2095" class="Function">computeProof</a> <a id="2108" class="Symbol">=</a>
        <a id="2118" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2123" href="Ledger.Utxo.Properties.html#1801" class="Bound">H-Yes?</a> <a id="2130" href="Data.Product.Base.html#1686" class="Function Operator">,′</a> <a id="2133" href="Ledger.Utxo.Properties.html#1880" class="Bound">H-No?</a> <a id="2139" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2142" class="Symbol">λ</a> <a id="2144" class="Keyword">where</a>
          <a id="2160" class="Symbol">(</a><a id="2161" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2165" href="Ledger.Utxo.Properties.html#2165" class="Bound">p</a> <a id="2167" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2169" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2172" class="Symbol">_</a> <a id="2174" class="Symbol">)</a> <a id="2176" class="Symbol">→</a> <a id="2178" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2186" class="Symbol">(_</a> <a id="2189" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2191" class="Symbol">(</a><a id="2192" href="Ledger.Utxo.html#12960" class="InductiveConstructor">Scripts-Yes</a> <a id="2204" href="Ledger.Utxo.Properties.html#2165" class="Bound">p</a><a id="2205" class="Symbol">))</a>
          <a id="2218" class="Symbol">(</a><a id="2219" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2222" class="Symbol">_</a>  <a id="2225" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2227" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2231" href="Ledger.Utxo.Properties.html#2231" class="Bound">p</a><a id="2232" class="Symbol">)</a> <a id="2234" class="Symbol">→</a> <a id="2236" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2244" class="Symbol">(_</a> <a id="2247" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2249" class="Symbol">(</a><a id="2250" href="Ledger.Utxo.html#13474" class="InductiveConstructor">Scripts-No</a> <a id="2261" href="Ledger.Utxo.Properties.html#2231" class="Bound">p</a><a id="2262" class="Symbol">))</a>
          <a id="2275" class="CatchallClause Symbol">(_</a><a id="2277" class="CatchallClause">     </a><a id="2282" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="2283" class="CatchallClause"> </a><a id="2284" class="CatchallClause Symbol">_</a><a id="2285" class="CatchallClause">    </a><a id="2289" class="CatchallClause Symbol">)</a> <a id="2291" class="Symbol">→</a> <a id="2293" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="2301" class="String">&quot;isValid check failed&quot;</a>

      <a id="2331" href="Ledger.Utxo.Properties.html#2331" class="Function">completeness</a> <a id="2344" class="Symbol">:</a> <a id="2346" class="Symbol">∀</a> <a id="2348" href="Ledger.Utxo.Properties.html#2348" class="Bound">s&#39;</a> <a id="2351" class="Symbol">→</a> <a id="2353" href="Ledger.Utxo.Properties.html#1712" class="Bound">Γ</a> <a id="2355" href="Ledger.Utxo.html#12889" class="Datatype Operator">⊢</a> <a id="2357" href="Ledger.Utxo.Properties.html#1726" class="Bound">s</a> <a id="2359" href="Ledger.Utxo.html#12889" class="Datatype Operator">⇀⦇</a> <a id="2362" href="Ledger.Utxo.Properties.html#1742" class="Bound">tx</a> <a id="2365" href="Ledger.Utxo.html#12889" class="Datatype Operator">,UTXOS⦈</a> <a id="2373" href="Ledger.Utxo.Properties.html#2348" class="Bound">s&#39;</a> <a id="2376" class="Symbol">→</a> <a id="2378" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2382" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2388" href="Ledger.Utxo.Properties.html#2095" class="Function">computeProof</a> <a id="2401" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2403" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2411" href="Ledger.Utxo.Properties.html#2348" class="Bound">s&#39;</a>
      <a id="2420" href="Ledger.Utxo.Properties.html#2331" class="Function">completeness</a> <a id="2433" class="Symbol">_</a> <a id="2435" class="Symbol">(</a><a id="2436" href="Ledger.Utxo.html#12960" class="InductiveConstructor">Scripts-Yes</a> <a id="2448" href="Ledger.Utxo.Properties.html#2448" class="Bound">p</a><a id="2449" class="Symbol">)</a> <a id="2451" class="Keyword">with</a> <a id="2456" href="Ledger.Utxo.Properties.html#1880" class="Bound">H-No?</a> <a id="2462" class="Symbol">|</a> <a id="2464" href="Ledger.Utxo.Properties.html#1801" class="Bound">H-Yes?</a>
      <a id="2477" class="Symbol">...</a> <a id="2481" class="Symbol">|</a> <a id="2483" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2487" class="Symbol">(_</a> <a id="2490" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2492" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2496" class="Symbol">)</a> <a id="2498" class="Symbol">|</a> <a id="2500" class="Symbol">_</a>     <a id="2506" class="Symbol">=</a> <a id="2508" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2513" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2519" class="Bound">p</a> <a id="2521" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2524" class="Symbol">λ</a> <a id="2526" class="Symbol">()</a>
      <a id="2535" class="Symbol">...</a> <a id="2539" class="Symbol">|</a> <a id="2541" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2544" class="Symbol">_</a>           <a id="2556" class="Symbol">|</a> <a id="2558" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2562" class="Symbol">_</a> <a id="2564" class="Symbol">=</a> <a id="2566" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2577" class="Symbol">...</a> <a id="2581" class="Symbol">|</a> <a id="2583" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2586" class="Symbol">_</a>           <a id="2598" class="Symbol">|</a> <a id="2600" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2603" href="Ledger.Utxo.Properties.html#2603" class="Bound">¬p</a> <a id="2606" class="Symbol">=</a> <a id="2608" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2613" href="Ledger.Utxo.Properties.html#2603" class="Bound">¬p</a> <a id="2616" class="Bound">p</a> <a id="2618" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2621" class="Symbol">λ</a> <a id="2623" class="Symbol">()</a>
      <a id="2632" href="Ledger.Utxo.Properties.html#2331" class="Function">completeness</a> <a id="2645" class="Symbol">_</a> <a id="2647" class="Symbol">(</a><a id="2648" href="Ledger.Utxo.html#13474" class="InductiveConstructor">Scripts-No</a> <a id="2659" href="Ledger.Utxo.Properties.html#2659" class="Bound">p</a><a id="2660" class="Symbol">)</a> <a id="2662" class="Keyword">with</a> <a id="2667" href="Ledger.Utxo.Properties.html#1801" class="Bound">H-Yes?</a> <a id="2674" class="Symbol">|</a> <a id="2676" href="Ledger.Utxo.Properties.html#1880" class="Bound">H-No?</a>
      <a id="2688" class="Symbol">...</a> <a id="2692" class="Symbol">|</a> <a id="2694" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2698" class="Symbol">(_</a> <a id="2701" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2703" class="Symbol">_</a> <a id="2705" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2707" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2711" class="Symbol">)</a> <a id="2713" class="Symbol">|</a> <a id="2715" class="Symbol">_</a>     <a id="2721" class="Symbol">=</a> <a id="2723" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2728" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2734" class="Bound">p</a> <a id="2736" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2739" class="Symbol">λ</a> <a id="2741" class="Symbol">()</a>
      <a id="2750" class="Symbol">...</a> <a id="2754" class="Symbol">|</a> <a id="2756" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2759" class="Symbol">_</a>               <a id="2775" class="Symbol">|</a> <a id="2777" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2781" class="Symbol">_</a> <a id="2783" class="Symbol">=</a> <a id="2785" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2796" class="Symbol">...</a> <a id="2800" class="Symbol">|</a> <a id="2802" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2805" class="Symbol">_</a>               <a id="2821" class="Symbol">|</a> <a id="2823" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2826" href="Ledger.Utxo.Properties.html#2826" class="Bound">¬p</a> <a id="2829" class="Symbol">=</a> <a id="2831" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2836" href="Ledger.Utxo.Properties.html#2826" class="Bound">¬p</a> <a id="2839" class="Bound">p</a> <a id="2841" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2844" class="Symbol">λ</a> <a id="2846" class="Symbol">()</a>

<a id="2850" class="Keyword">instance</a>
  <a id="Computational-UTXO&#39;"></a><a id="2861" href="Ledger.Utxo.Properties.html#2861" class="Function">Computational-UTXO&#39;</a> <a id="2881" class="Symbol">:</a> <a id="2883" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="2897" href="Ledger.Utxo.html#3350" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="2911" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="2920" href="Ledger.Utxo.Properties.html#2861" class="Function">Computational-UTXO&#39;</a> <a id="2940" class="Symbol">=</a> <a id="2942" class="Keyword">record</a> <a id="2949" class="Symbol">{</a><a id="2950" href="Ledger.Utxo.Properties.html#2977" class="Module">Go</a><a id="2952" class="Symbol">}</a>
    <a id="2958" class="Keyword">where</a>
      <a id="2970" class="Keyword">module</a> <a id="2977" href="Ledger.Utxo.Properties.html#2977" class="Module">Go</a> <a id="2980" href="Ledger.Utxo.Properties.html#2980" class="Bound">Γ</a> <a id="2982" href="Ledger.Utxo.Properties.html#2982" class="Bound">s</a> <a id="2984" href="Ledger.Utxo.Properties.html#2984" class="Bound">tx</a> <a id="2987" class="Symbol">(</a><a id="2988" class="Keyword">let</a> <a id="2992" href="Ledger.Utxo.Properties.html#2992" class="Bound">H</a> <a id="2994" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2996" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="2998" href="Ledger.Utxo.Properties.html#2998" class="Bound">H?</a> <a id="3001" class="Symbol">=</a> <a id="3003" href="Ledger.Utxo.html#15569" class="Function">UTXO-premises</a> <a id="3017" class="Symbol">{</a><a id="3018" class="Argument">Γ</a> <a id="3020" class="Symbol">=</a> <a id="3022" href="Ledger.Utxo.Properties.html#2980" class="Bound">Γ</a><a id="3023" class="Symbol">}</a> <a id="3025" class="Symbol">{</a><a id="3026" class="Argument">s</a> <a id="3028" class="Symbol">=</a> <a id="3030" href="Ledger.Utxo.Properties.html#2982" class="Bound">s</a><a id="3031" class="Symbol">}</a> <a id="3033" class="Symbol">{</a><a id="3034" class="Argument">tx</a> <a id="3037" class="Symbol">=</a> <a id="3039" href="Ledger.Utxo.Properties.html#2984" class="Bound">tx</a><a id="3041" class="Symbol">})</a> <a id="3044" class="Keyword">where</a>

        <a id="3059" class="Keyword">open</a> <a id="3064" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="3078" href="Ledger.Utxo.Properties.html#1597" class="Function">Computational-UTXOS</a>
          <a id="3108" class="Keyword">renaming</a> <a id="3117" class="Symbol">(</a><a id="3118" href="Interface.ComputationalRelation.html#2879" class="Field">computeProof</a> <a id="3131" class="Symbol">to</a> <a id="3134" class="Field">computeProof&#39;</a><a id="3147" class="Symbol">;</a> <a id="3149" href="Interface.ComputationalRelation.html#3096" class="Field">completeness</a> <a id="3162" class="Symbol">to</a> <a id="3165" class="Field">completeness&#39;</a><a id="3178" class="Symbol">)</a>

        <a id="3189" href="Ledger.Utxo.Properties.html#3189" class="Function">genErr</a> <a id="3196" class="Symbol">:</a> <a id="3198" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="3200" href="Ledger.Utxo.Properties.html#2992" class="Bound">H</a> <a id="3202" class="Symbol">→</a> <a id="3204" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
        <a id="3219" href="Ledger.Utxo.Properties.html#3189" class="Function">genErr</a>  <a id="3227" href="Ledger.Utxo.Properties.html#3227" class="Bound">¬p</a> <a id="3230" class="Symbol">=</a> <a id="3232" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3237" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="3251" href="Ledger.Utxo.Properties.html#3227" class="Bound">¬p</a> <a id="3254" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3257" class="Symbol">λ</a> <a id="3259" class="Keyword">where</a>
          <a id="3275" class="Symbol">(</a><a id="3276" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3281" href="Ledger.Utxo.Properties.html#3281" class="Bound">a</a><a id="3282" class="Symbol">)</a> <a id="3284" class="Symbol">→</a> <a id="3286" class="String">&quot;¬ TxBody.txins (Tx.body tx) ≢ ∅&quot;</a>
          <a id="3330" class="Symbol">(</a><a id="3331" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3336" href="Ledger.Utxo.Properties.html#3336" class="Bound">b</a><a id="3337" class="Symbol">)</a> <a id="3339" class="Symbol">→</a> <a id="3341" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3346" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="3360" href="Ledger.Utxo.Properties.html#3336" class="Bound">b</a> <a id="3362" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3365" class="Symbol">λ</a> <a id="3367" class="Keyword">where</a>
            <a id="3385" class="Symbol">(</a><a id="3386" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3391" href="Ledger.Utxo.Properties.html#3391" class="Bound">a₁</a><a id="3393" class="Symbol">)</a> <a id="3395" class="Symbol">→</a> <a id="3397" class="String">&quot;¬ TxBody.txins (Tx.body tx) ⊆ dom (UTxOState.utxo s)&quot;</a>
            <a id="3464" class="Symbol">(</a><a id="3465" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3470" href="Ledger.Utxo.Properties.html#3470" class="Bound">b₁</a><a id="3472" class="Symbol">)</a> <a id="3474" class="Symbol">→</a> <a id="3476" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3481" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="3495" href="Ledger.Utxo.Properties.html#3470" class="Bound">b₁</a> <a id="3498" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3501" class="Symbol">λ</a> <a id="3503" class="Keyword">where</a>
                <a id="3525" class="Symbol">(</a><a id="3526" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3531" href="Ledger.Utxo.Properties.html#3531" class="Bound">a₁&#39;</a><a id="3534" class="Symbol">)</a> <a id="3536" class="Symbol">→</a> <a id="3538" class="String">&quot;¬ refInputs ⊆ dom utxo &quot;</a>
                <a id="3580" class="Symbol">(</a><a id="3581" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3586" href="Ledger.Utxo.Properties.html#3586" class="Bound">b₂&#39;</a><a id="3589" class="Symbol">)</a> <a id="3591" class="Symbol">→</a> <a id="3593" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3598" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="3612" href="Ledger.Utxo.Properties.html#3586" class="Bound">b₂&#39;</a> <a id="3616" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3619" class="Symbol">λ</a> <a id="3621" class="Keyword">where</a>
                  <a id="3645" class="Symbol">(</a><a id="3646" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3651" href="Ledger.Utxo.Properties.html#3651" class="Bound">a₂</a><a id="3653" class="Symbol">)</a> <a id="3655" class="Symbol">→</a> <a id="3657" class="String">&quot;¬ inInterval (UTxOEnv.slot Γ) (txvldt (Tx.body tx))&quot;</a>
                  <a id="3729" class="Symbol">(</a><a id="3730" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3735" href="Ledger.Utxo.Properties.html#3735" class="Bound">b₂</a><a id="3737" class="Symbol">)</a> <a id="3739" class="Symbol">→</a> <a id="3741" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3746" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="3760" href="Ledger.Utxo.Properties.html#3735" class="Bound">b₂</a> <a id="3763" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3766" class="Symbol">λ</a> <a id="3768" class="Keyword">where</a>
                    <a id="3794" class="Symbol">(</a><a id="3795" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3800" href="Ledger.Utxo.Properties.html#3800" class="Bound">a₃</a><a id="3802" class="Symbol">)</a> <a id="3804" class="Symbol">→</a> <a id="3806" class="String">&quot;¬ feesOK pp tx utxo&quot;</a>
                    <a id="3848" class="Symbol">(</a><a id="3849" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3854" href="Ledger.Utxo.Properties.html#3854" class="Bound">b₃</a><a id="3856" class="Symbol">)</a> <a id="3858" class="Symbol">→</a> <a id="3860" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3865" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="3879" href="Ledger.Utxo.Properties.html#3854" class="Bound">b₃</a> <a id="3882" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3885" class="Symbol">λ</a> <a id="3887" class="Keyword">where</a>
                        <a id="3917" class="Symbol">(</a><a id="3918" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3923" href="Ledger.Utxo.Properties.html#3923" class="Bound">a₄</a><a id="3925" class="Symbol">)</a> <a id="3927" class="Symbol">→</a>
                          <a id="3955" class="Keyword">let</a>
                            <a id="3987" href="Ledger.Utxo.Properties.html#3987" class="Bound">pp</a> <a id="3990" class="Symbol">=</a> <a id="3992" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="4008" href="Ledger.Utxo.Properties.html#2980" class="Bound">Γ</a>
                            <a id="4038" href="Ledger.Utxo.Properties.html#4038" class="Bound">txb</a> <a id="4042" class="Symbol">=</a> <a id="4044" href="Ledger.Transaction.html#4226" class="Field">Tx.body</a> <a id="4052" href="Ledger.Utxo.Properties.html#2984" class="Bound">tx</a>
                            <a id="4083" href="Ledger.Utxo.Properties.html#4083" class="Bound">con</a> <a id="4087" class="Symbol">=</a> <a id="4089" href="Ledger.Utxo.html#12290" class="Function">consumed</a> <a id="4098" href="Ledger.Utxo.Properties.html#3987" class="Bound">pp</a> <a id="4101" href="Ledger.Utxo.Properties.html#2982" class="Bound">s</a> <a id="4103" href="Ledger.Utxo.Properties.html#4038" class="Bound">txb</a>
                            <a id="4135" href="Ledger.Utxo.Properties.html#4135" class="Bound">prod</a> <a id="4140" class="Symbol">=</a> <a id="4142" href="Ledger.Utxo.html#12498" class="Function">produced</a> <a id="4151" href="Ledger.Utxo.Properties.html#3987" class="Bound">pp</a> <a id="4154" href="Ledger.Utxo.Properties.html#2982" class="Bound">s</a> <a id="4156" href="Ledger.Utxo.Properties.html#4038" class="Bound">txb</a>
                            <a id="4188" href="Ledger.Utxo.Properties.html#4188" class="Bound">showValue</a> <a id="4198" class="Symbol">=</a> <a id="4200" href="Class.Show.Core.html#187" class="Field">show</a> <a id="4205" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4207" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a>
                          <a id="4238" class="Keyword">in</a>
                            <a id="4269" class="Symbol">(</a> <a id="4271" class="String">&quot;¬consumed (UTxOEnv.pparams Γ) s (Tx.body tx) ≡ produced (UTxOEnv.pparams Γ) s (Tx.body tx)&quot;</a>
                            <a id="4392" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4395" class="String">&quot;\n  consumed =\t\t&quot;</a> <a id="4416" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4419" href="Ledger.Utxo.Properties.html#4188" class="Bound">showValue</a> <a id="4429" href="Ledger.Utxo.Properties.html#4083" class="Bound">con</a>
                            <a id="4461" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4464" class="String">&quot;\n    ins  =\t\t&quot;</a> <a id="4483" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4486" href="Ledger.Utxo.Properties.html#4188" class="Bound">showValue</a> <a id="4496" class="Symbol">(</a><a id="4497" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="4505" class="Symbol">(</a><a id="4506" href="Ledger.Transaction.html#2593" class="Field">UTxOOf</a> <a id="4513" href="Ledger.Utxo.Properties.html#2982" class="Bound">s</a> <a id="4515" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="4517" href="Ledger.Utxo.Properties.html#4038" class="Bound">txb</a> <a id="4521" class="Symbol">.</a><a id="4522" href="Ledger.Transaction.html#2686" class="Field">TxBody.txins</a><a id="4534" class="Symbol">))</a>
                            <a id="4565" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4568" class="String">&quot;\n    mint =\t\t&quot;</a> <a id="4587" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4590" href="Ledger.Utxo.Properties.html#4188" class="Bound">showValue</a> <a id="4600" class="Symbol">(</a><a id="4601" href="Ledger.Transaction.html#2808" class="Field">TxBody.mint</a> <a id="4613" href="Ledger.Utxo.Properties.html#4038" class="Bound">txb</a><a id="4616" class="Symbol">)</a>
                            <a id="4646" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4649" class="String">&quot;\n    depositRefunds =\t&quot;</a> <a id="4676" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4679" href="Ledger.Utxo.Properties.html#4188" class="Bound">showValue</a> <a id="4689" class="Symbol">(</a><a id="4690" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="4697" class="Symbol">(</a><a id="4698" href="Ledger.Utxo.html#12032" class="Function">depositRefunds</a> <a id="4713" href="Ledger.Utxo.Properties.html#3987" class="Bound">pp</a> <a id="4716" href="Ledger.Utxo.Properties.html#2982" class="Bound">s</a> <a id="4718" href="Ledger.Utxo.Properties.html#4038" class="Bound">txb</a><a id="4721" class="Symbol">))</a>
                            <a id="4752" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4755" class="String">&quot;\n  produced =\t\t&quot;</a> <a id="4776" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4779" href="Ledger.Utxo.Properties.html#4188" class="Bound">showValue</a> <a id="4789" href="Ledger.Utxo.Properties.html#4135" class="Bound">prod</a>
                            <a id="4822" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4825" class="String">&quot;\n    outs =\t\t&quot;</a> <a id="4844" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4847" href="Ledger.Utxo.Properties.html#4188" class="Bound">showValue</a> <a id="4857" class="Symbol">(</a><a id="4858" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="4866" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4868" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="4873" href="Ledger.Utxo.Properties.html#4038" class="Bound">txb</a><a id="4876" class="Symbol">)</a>
                            <a id="4906" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4909" class="String">&quot;\n    fee  =\t\t&quot;</a> <a id="4928" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4931" href="Class.Show.Core.html#187" class="Field">show</a> <a id="4936" class="Symbol">(</a><a id="4937" href="Ledger.Utxo.Properties.html#4038" class="Bound">txb</a> <a id="4941" class="Symbol">.</a><a id="4942" href="Ledger.Transaction.html#2780" class="Field">TxBody.txfee</a><a id="4954" class="Symbol">)</a>
                            <a id="4984" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4987" class="String">&quot;\n    newDeposits  =\t&quot;</a> <a id="5012" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5015" href="Class.Show.Core.html#187" class="Field">show</a> <a id="5020" class="Symbol">(</a><a id="5021" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="5033" href="Ledger.Utxo.Properties.html#3987" class="Bound">pp</a> <a id="5036" href="Ledger.Utxo.Properties.html#2982" class="Bound">s</a> <a id="5038" href="Ledger.Utxo.Properties.html#4038" class="Bound">txb</a><a id="5041" class="Symbol">)</a>
                            <a id="5071" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5074" class="String">&quot;\n    donation  =\t\t&quot;</a> <a id="5098" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5101" href="Class.Show.Core.html#187" class="Field">show</a> <a id="5106" class="Symbol">(</a><a id="5107" href="Ledger.Utxo.Properties.html#4038" class="Bound">txb</a> <a id="5111" class="Symbol">.</a><a id="5112" href="Ledger.Transaction.html#3022" class="Field">TxBody.txdonation</a><a id="5129" class="Symbol">)</a>
                            <a id="5159" class="Symbol">)</a>
                        <a id="5185" class="Symbol">(</a><a id="5186" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5191" href="Ledger.Utxo.Properties.html#5191" class="Bound">b₄</a><a id="5193" class="Symbol">)</a> <a id="5195" class="Symbol">→</a> <a id="5197" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5202" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="5216" href="Ledger.Utxo.Properties.html#5191" class="Bound">b₄</a> <a id="5219" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5222" class="Symbol">λ</a> <a id="5224" class="Keyword">where</a>
                          <a id="5256" class="Symbol">(</a><a id="5257" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5262" href="Ledger.Utxo.Properties.html#5262" class="Bound">a₅</a><a id="5264" class="Symbol">)</a> <a id="5266" class="Symbol">→</a> <a id="5268" class="String">&quot;¬ coin (TxBody.mint (Tx.body tx)) ≡ 0&quot;</a>
                          <a id="5334" class="Symbol">(</a><a id="5335" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5340" href="Ledger.Utxo.Properties.html#5340" class="Bound">b₅</a><a id="5342" class="Symbol">)</a> <a id="5344" class="Symbol">→</a> <a id="5346" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5351" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="5365" href="Ledger.Utxo.Properties.html#5340" class="Bound">b₅</a> <a id="5368" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5371" class="Symbol">λ</a> <a id="5373" class="Keyword">where</a>
                              <a id="5409" class="Symbol">(</a><a id="5410" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5415" href="Ledger.Utxo.Properties.html#5415" class="Bound">a₆</a><a id="5417" class="Symbol">)</a> <a id="5419" class="Symbol">→</a> <a id="5421" class="String">&quot;¬(TxBody.txsize (Tx.body tx) Data.Nat.Base.≤ maxTxSize (UTxOEnv.pparams Γ))&quot;</a>
                              <a id="5529" class="Symbol">(</a><a id="5530" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5535" href="Ledger.Utxo.Properties.html#5535" class="Bound">b₆</a><a id="5537" class="Symbol">)</a> <a id="5539" class="Symbol">→</a> <a id="5541" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5546" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="5560" href="Ledger.Utxo.Properties.html#5535" class="Bound">b₆</a> <a id="5563" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5566" class="Symbol">λ</a> <a id="5568" class="Keyword">where</a>
                                <a id="5606" class="Symbol">(</a><a id="5607" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5612" href="Ledger.Utxo.Properties.html#5612" class="Bound">a₇</a><a id="5614" class="Symbol">)</a> <a id="5616" class="Symbol">→</a> <a id="5618" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] inject (utxoEntrySize txout * coinsPerUTxOByte pp) ≤ᵗ getValue txout&quot;</a>
                                <a id="5754" class="Symbol">(</a><a id="5755" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5760" href="Ledger.Utxo.Properties.html#5760" class="Bound">b₇</a><a id="5762" class="Symbol">)</a> <a id="5764" class="Symbol">→</a> <a id="5766" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5771" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="5785" href="Ledger.Utxo.Properties.html#5760" class="Bound">b₇</a> <a id="5788" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5791" class="Symbol">λ</a> <a id="5793" class="Keyword">where</a>
                                    <a id="5835" class="Symbol">(</a><a id="5836" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5841" href="Ledger.Utxo.Properties.html#5841" class="Bound">a₈</a><a id="5843" class="Symbol">)</a> <a id="5845" class="Symbol">→</a> <a id="5847" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] serSize (getValue txout) ≤ maxValSize pp&quot;</a>
                                    <a id="5959" class="Symbol">(</a><a id="5960" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5965" href="Ledger.Utxo.Properties.html#5965" class="Bound">b₈</a><a id="5967" class="Symbol">)</a> <a id="5969" class="Symbol">→</a> <a id="5971" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5976" href="Ledger.Prelude.html#1343" class="Function">dec-de-morgan</a> <a id="5990" href="Ledger.Utxo.Properties.html#5965" class="Bound">b₈</a> <a id="5993" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5996" class="Symbol">λ</a> <a id="5998" class="Keyword">where</a>
                                      <a id="6042" class="Symbol">(</a><a id="6043" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6048" href="Ledger.Utxo.Properties.html#6048" class="Bound">a₉</a><a id="6050" class="Symbol">)</a> <a id="6052" class="Symbol">→</a> <a id="6054" class="String">&quot;∀[ (a , _) ∈ range txouts ] Sum.All (const ⊤) (λ a → a .BootstrapAddr.attrsSize ≤ 64) a&quot;</a>
                                      <a id="6182" class="Symbol">(</a><a id="6183" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6188" class="Symbol">_)</a> <a id="6191" class="Symbol">→</a> <a id="6193" class="String">&quot;something else broke&quot;</a>

        <a id="6225" href="Ledger.Utxo.Properties.html#6225" class="Function">computeProofH</a> <a id="6239" class="Symbol">:</a> <a id="6241" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="6245" href="Ledger.Utxo.Properties.html#2992" class="Bound">H</a> <a id="6247" class="Symbol">→</a> <a id="6249" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6267" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6274" class="Symbol">(</a><a id="6275" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6278" href="Ledger.Utxo.Properties.html#6278" class="Bound">s&#39;</a> <a id="6281" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6283" href="Ledger.Utxo.Properties.html#2980" class="Bound">Γ</a> <a id="6285" href="Ledger.Utxo.html#3350" class="Datatype Operator">⊢</a> <a id="6287" href="Ledger.Utxo.Properties.html#2982" class="Bound">s</a> <a id="6289" href="Ledger.Utxo.html#3350" class="Datatype Operator">⇀⦇</a> <a id="6292" href="Ledger.Utxo.Properties.html#2984" class="Bound">tx</a> <a id="6295" href="Ledger.Utxo.html#3350" class="Datatype Operator">,UTXO⦈</a> <a id="6302" href="Ledger.Utxo.Properties.html#6278" class="Bound">s&#39;</a><a id="6304" class="Symbol">)</a>
        <a id="6314" href="Ledger.Utxo.Properties.html#6225" class="Function">computeProofH</a> <a id="6328" class="Symbol">(</a><a id="6329" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6333" class="Symbol">(</a><a id="6334" href="Ledger.Utxo.Properties.html#6334" class="Bound">x</a> <a id="6336" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6338" href="Ledger.Utxo.Properties.html#6338" class="Bound">y</a> <a id="6340" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6342" href="Ledger.Utxo.Properties.html#6342" class="Bound">z</a> <a id="6344" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6346" href="Ledger.Utxo.Properties.html#6346" class="Bound">e</a> <a id="6348" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6350" href="Ledger.Utxo.Properties.html#6350" class="Bound">k</a> <a id="6352" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6354" href="Ledger.Utxo.Properties.html#6354" class="Bound">l</a> <a id="6356" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6358" href="Ledger.Utxo.Properties.html#6358" class="Bound">m</a> <a id="6360" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6362" href="Ledger.Utxo.Properties.html#6362" class="Bound">v</a> <a id="6364" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6366" href="Ledger.Utxo.Properties.html#6366" class="Bound">j</a> <a id="6368" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6370" href="Ledger.Utxo.Properties.html#6370" class="Bound">n</a> <a id="6372" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6374" href="Ledger.Utxo.Properties.html#6374" class="Bound">o</a> <a id="6376" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6378" href="Ledger.Utxo.Properties.html#6378" class="Bound">p</a> <a id="6380" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6382" href="Ledger.Utxo.Properties.html#6382" class="Bound">q</a> <a id="6384" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6386" href="Ledger.Utxo.Properties.html#6386" class="Bound">r</a> <a id="6388" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6390" href="Ledger.Utxo.Properties.html#6390" class="Bound">t</a> <a id="6392" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6394" href="Ledger.Utxo.Properties.html#6394" class="Bound">u</a><a id="6395" class="Symbol">))</a> <a id="6398" class="Symbol">=</a>
            <a id="6412" href="Class.Bifunctor.html#615" class="Function">map₂′</a> <a id="6418" class="Symbol">(</a><a id="6419" href="Ledger.Utxo.html#15387" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6435" class="Symbol">_</a> <a id="6437" class="Symbol">_</a> <a id="6439" class="Symbol">_</a> <a id="6441" href="Ledger.Utxo.Properties.html#6334" class="Bound">x</a> <a id="6443" href="Ledger.Utxo.Properties.html#6338" class="Bound">y</a> <a id="6445" href="Ledger.Utxo.Properties.html#6342" class="Bound">z</a> <a id="6447" href="Ledger.Utxo.Properties.html#6346" class="Bound">e</a> <a id="6449" href="Ledger.Utxo.Properties.html#6350" class="Bound">k</a> <a id="6451" href="Ledger.Utxo.Properties.html#6354" class="Bound">l</a> <a id="6453" href="Ledger.Utxo.Properties.html#6358" class="Bound">m</a> <a id="6455" href="Ledger.Utxo.Properties.html#6362" class="Bound">v</a> <a id="6457" href="Ledger.Utxo.Properties.html#6366" class="Bound">j</a> <a id="6459" href="Ledger.Utxo.Properties.html#6370" class="Bound">n</a> <a id="6461" href="Ledger.Utxo.Properties.html#6374" class="Bound">o</a> <a id="6463" href="Ledger.Utxo.Properties.html#6378" class="Bound">p</a> <a id="6465" href="Ledger.Utxo.Properties.html#6382" class="Bound">q</a> <a id="6467" href="Ledger.Utxo.Properties.html#6386" class="Bound">r</a> <a id="6469" href="Ledger.Utxo.Properties.html#6390" class="Bound">t</a> <a id="6471" href="Ledger.Utxo.Properties.html#6394" class="Bound">u</a><a id="6472" class="Symbol">)</a> <a id="6474" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="6478" href="Ledger.Utxo.Properties.html#3134" class="Function">computeProof&#39;</a> <a id="6492" href="Ledger.Utxo.Properties.html#2980" class="Bound">Γ</a> <a id="6494" href="Ledger.Utxo.Properties.html#2982" class="Bound">s</a> <a id="6496" href="Ledger.Utxo.Properties.html#2984" class="Bound">tx</a>
        <a id="6507" href="Ledger.Utxo.Properties.html#6225" class="Function">computeProofH</a> <a id="6521" class="Symbol">(</a><a id="6522" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6525" href="Ledger.Utxo.Properties.html#6525" class="Bound">¬p</a><a id="6527" class="Symbol">)</a> <a id="6529" class="Symbol">=</a> <a id="6531" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="6539" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6541" href="Ledger.Utxo.Properties.html#3189" class="Function">genErr</a> <a id="6548" href="Ledger.Utxo.Properties.html#6525" class="Bound">¬p</a>

        <a id="6560" href="Ledger.Utxo.Properties.html#6560" class="Function">computeProof</a> <a id="6573" class="Symbol">:</a> <a id="6575" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6593" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6600" class="Symbol">(</a><a id="6601" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6604" href="Ledger.Utxo.Properties.html#6604" class="Bound">s&#39;</a> <a id="6607" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6609" href="Ledger.Utxo.Properties.html#2980" class="Bound">Γ</a> <a id="6611" href="Ledger.Utxo.html#3350" class="Datatype Operator">⊢</a> <a id="6613" href="Ledger.Utxo.Properties.html#2982" class="Bound">s</a> <a id="6615" href="Ledger.Utxo.html#3350" class="Datatype Operator">⇀⦇</a> <a id="6618" href="Ledger.Utxo.Properties.html#2984" class="Bound">tx</a> <a id="6621" href="Ledger.Utxo.html#3350" class="Datatype Operator">,UTXO⦈</a> <a id="6628" href="Ledger.Utxo.Properties.html#6604" class="Bound">s&#39;</a><a id="6630" class="Symbol">)</a>
        <a id="6640" href="Ledger.Utxo.Properties.html#6560" class="Function">computeProof</a> <a id="6653" class="Symbol">=</a> <a id="6655" href="Ledger.Utxo.Properties.html#6225" class="Function">computeProofH</a> <a id="6669" href="Ledger.Utxo.Properties.html#2998" class="Bound">H?</a>

        <a id="6681" href="Ledger.Utxo.Properties.html#6681" class="Function">completeness</a> <a id="6694" class="Symbol">:</a> <a id="6696" class="Symbol">∀</a> <a id="6698" href="Ledger.Utxo.Properties.html#6698" class="Bound">s&#39;</a> <a id="6701" class="Symbol">→</a> <a id="6703" href="Ledger.Utxo.Properties.html#2980" class="Bound">Γ</a> <a id="6705" href="Ledger.Utxo.html#3350" class="Datatype Operator">⊢</a> <a id="6707" href="Ledger.Utxo.Properties.html#2982" class="Bound">s</a> <a id="6709" href="Ledger.Utxo.html#3350" class="Datatype Operator">⇀⦇</a> <a id="6712" href="Ledger.Utxo.Properties.html#2984" class="Bound">tx</a> <a id="6715" href="Ledger.Utxo.html#3350" class="Datatype Operator">,UTXO⦈</a> <a id="6722" href="Ledger.Utxo.Properties.html#6698" class="Bound">s&#39;</a> <a id="6725" class="Symbol">→</a> <a id="6727" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="6731" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6737" href="Ledger.Utxo.Properties.html#6560" class="Function">computeProof</a> <a id="6750" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6752" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="6760" href="Ledger.Utxo.Properties.html#6698" class="Bound">s&#39;</a>
        <a id="6771" href="Ledger.Utxo.Properties.html#6681" class="Function">completeness</a> <a id="6784" href="Ledger.Utxo.Properties.html#6784" class="Bound">s&#39;</a> <a id="6787" class="Symbol">(</a><a id="6788" href="Ledger.Utxo.html#15387" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6804" class="Symbol">_</a> <a id="6806" class="Symbol">_</a> <a id="6808" class="Symbol">_</a> <a id="6810" href="Ledger.Utxo.Properties.html#6810" class="Bound">x</a> <a id="6812" href="Ledger.Utxo.Properties.html#6812" class="Bound">y</a> <a id="6814" href="Ledger.Utxo.Properties.html#6814" class="Bound">z</a> <a id="6816" href="Ledger.Utxo.Properties.html#6816" class="Bound">w</a> <a id="6818" href="Ledger.Utxo.Properties.html#6818" class="Bound">k</a> <a id="6820" href="Ledger.Utxo.Properties.html#6820" class="Bound">l</a> <a id="6822" href="Ledger.Utxo.Properties.html#6822" class="Bound">m</a> <a id="6824" href="Ledger.Utxo.Properties.html#6824" class="Bound">v</a> <a id="6826" href="Ledger.Utxo.Properties.html#6826" class="Bound">j</a> <a id="6828" href="Ledger.Utxo.Properties.html#6828" class="Bound">n</a> <a id="6830" href="Ledger.Utxo.Properties.html#6830" class="Bound">o</a> <a id="6832" href="Ledger.Utxo.Properties.html#6832" class="Bound">p</a> <a id="6834" href="Ledger.Utxo.Properties.html#6834" class="Bound">q</a> <a id="6836" href="Ledger.Utxo.Properties.html#6836" class="Bound">r</a> <a id="6838" href="Ledger.Utxo.Properties.html#6838" class="Bound">t</a> <a id="6840" href="Ledger.Utxo.Properties.html#6840" class="Bound">u</a> <a id="6842" href="Ledger.Utxo.Properties.html#6842" class="Bound">h</a><a id="6843" class="Symbol">)</a> <a id="6845" class="Keyword">with</a> <a id="6850" href="Ledger.Utxo.Properties.html#2998" class="Bound">H?</a>
        <a id="6861" class="Symbol">...</a> <a id="6865" class="Symbol">|</a> <a id="6867" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6870" href="Ledger.Utxo.Properties.html#6870" class="Bound">¬p</a> <a id="6873" class="Symbol">=</a> <a id="6875" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="6882" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6884" href="Ledger.Utxo.Properties.html#6870" class="Bound">¬p</a> <a id="6887" class="Symbol">(</a><a id="6888" class="Bound">x</a> <a id="6890" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6892" class="Bound">y</a> <a id="6894" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6896" class="Bound">z</a> <a id="6898" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6900" class="Bound">w</a> <a id="6902" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6904" class="Bound">k</a> <a id="6906" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6908" class="Bound">l</a> <a id="6910" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6912" class="Bound">m</a> <a id="6914" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6916" class="Bound">v</a> <a id="6918" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6920" class="Bound">j</a> <a id="6922" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6924" class="Bound">n</a> <a id="6926" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6928" class="Bound">o</a> <a id="6930" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6932" class="Bound">p</a> <a id="6934" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6936" class="Bound">q</a> <a id="6938" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6940" class="Bound">r</a> <a id="6942" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6944" class="Bound">t</a> <a id="6946" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6948" class="Bound">u</a><a id="6949" class="Symbol">)</a>
        <a id="6959" class="Symbol">...</a> <a id="6963" class="Symbol">|</a> <a id="6965" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6969" class="Symbol">_</a> <a id="6971" class="Keyword">with</a> <a id="6976" href="Ledger.Utxo.Properties.html#3134" class="Function">computeProof&#39;</a> <a id="6990" href="Ledger.Utxo.Properties.html#2980" class="Bound">Γ</a> <a id="6992" href="Ledger.Utxo.Properties.html#2982" class="Bound">s</a> <a id="6994" href="Ledger.Utxo.Properties.html#2984" class="Bound">tx</a> <a id="6997" class="Symbol">|</a> <a id="6999" href="Ledger.Utxo.Properties.html#3165" class="Function">completeness&#39;</a> <a id="7013" class="Symbol">_</a> <a id="7015" class="Symbol">_</a> <a id="7017" class="Symbol">_</a> <a id="7019" class="Symbol">_</a> <a id="7021" class="Bound">h</a>
        <a id="7031" class="Symbol">...</a> <a id="7035" class="Symbol">|</a> <a id="7037" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="7045" class="Symbol">_</a> <a id="7047" class="Symbol">|</a> <a id="7049" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7054" class="Symbol">=</a> <a id="7056" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="7062" class="Keyword">open</a> <a id="7067" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="7081" class="Symbol">⦃...⦄</a>

<a id="7088" class="Keyword">opaque</a>
  <a id="7097" class="Keyword">unfolding</a> <a id="7107" href="abstract-set-theory.FiniteSetTheory.html#240" class="Function">List-Model</a>
  <a id="Computational-UTXO"></a><a id="7120" href="Ledger.Utxo.Properties.html#7120" class="Function">Computational-UTXO</a> <a id="7139" class="Symbol">:</a> <a id="7141" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="7155" href="Ledger.Utxo.html#3350" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="7169" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="7178" href="Ledger.Utxo.Properties.html#7120" class="Function">Computational-UTXO</a> <a id="7197" class="Symbol">=</a> <a id="7199" href="Ledger.Utxo.Properties.html#2861" class="Function">Computational-UTXO&#39;</a>

<a id="7220" class="Keyword">private</a> <a id="7228" class="Keyword">variable</a>
  <a id="7239" href="Ledger.Utxo.Properties.html#7239" class="Generalizable">tx</a>                               <a id="7272" class="Symbol">:</a> <a id="7274" href="Ledger.Transaction.html#4194" class="Record">Tx</a>
  <a id="7279" href="Ledger.Utxo.Properties.html#7279" class="Generalizable">utxo</a> <a id="7284" href="Ledger.Utxo.Properties.html#7284" class="Generalizable">utxo&#39;</a>                       <a id="7312" class="Symbol">:</a> <a id="7314" href="Ledger.Transaction.html#2361" class="Function">UTxO</a>
  <a id="7321" href="Ledger.Utxo.Properties.html#7321" class="Generalizable">Γ</a>                                <a id="7354" class="Symbol">:</a> <a id="7356" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a>
  <a id="7366" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a> <a id="7376" href="Ledger.Utxo.Properties.html#7376" class="Generalizable">utxoState&#39;</a>             <a id="7399" class="Symbol">:</a> <a id="7401" href="Ledger.Utxo.html#2705" class="Record">UTxOState</a>
  <a id="7413" href="Ledger.Utxo.Properties.html#7413" class="Generalizable">fees</a> <a id="7418" href="Ledger.Utxo.Properties.html#7418" class="Generalizable">fees&#39;</a> <a id="7424" href="Ledger.Utxo.Properties.html#7424" class="Generalizable">donations</a> <a id="7434" href="Ledger.Utxo.Properties.html#7434" class="Generalizable">donations&#39;</a>  <a id="7446" class="Symbol">:</a> <a id="7448" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="7455" href="Ledger.Utxo.Properties.html#7455" class="Generalizable">deposits</a> <a id="7464" href="Ledger.Utxo.Properties.html#7464" class="Generalizable">deposits&#39;</a>               <a id="7488" class="Symbol">:</a> <a id="7490" href="Ledger.Certs.html#573" class="Function">Deposits</a>

<a id="7500" class="Keyword">open</a> <a id="7505" href="Algebra.Morphism.Structures.html#4393" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>
<a id="7542" class="Keyword">private</a>
  <a id="∙-homo-Coin"></a><a id="7552" href="Ledger.Utxo.Properties.html#7552" class="Function">∙-homo-Coin</a> <a id="7564" class="Symbol">=</a> <a id="7566" href="Algebra.Morphism.Structures.html#2891" class="Field">IsMagmaHomomorphism.homo</a> <a id="7591" class="Symbol">(</a><a id="7592" href="Algebra.Morphism.Structures.html#4470" class="Field">isMagmaHomomorphism</a> <a id="7612" href="Ledger.TokenAlgebra.html#1112" class="Function">coinIsMonoidHomomorphism</a><a id="7636" class="Symbol">)</a>

<a id="7639" class="Keyword">opaque</a>
  <a id="7648" class="Keyword">unfolding</a> <a id="7658" href="Ledger.Utxo.html#3554" class="Function">balance</a>
  <a id="balance-cong"></a><a id="7668" href="Ledger.Utxo.Properties.html#7668" class="Function">balance-cong</a> <a id="7681" class="Symbol">:</a>  <a id="7684" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7686" href="Ledger.Utxo.Properties.html#7279" class="Generalizable">utxo</a> <a id="7691" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7693" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="7696" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7698" href="Ledger.Utxo.Properties.html#7284" class="Generalizable">utxo&#39;</a> <a id="7704" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7706" class="Symbol">→</a> <a id="7708" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="7716" href="Ledger.Utxo.Properties.html#7279" class="Generalizable">utxo</a> <a id="7721" href="Algebra.Bundles.html#8008" class="Function Operator">≈</a> <a id="7723" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="7731" href="Ledger.Utxo.Properties.html#7284" class="Generalizable">utxo&#39;</a>
  <a id="7739" href="Ledger.Utxo.Properties.html#7668" class="Function">balance-cong</a> <a id="7752" class="Symbol">{</a><a id="7753" href="Ledger.Utxo.Properties.html#7753" class="Bound">utxo</a><a id="7757" class="Symbol">}</a> <a id="7759" class="Symbol">{</a><a id="7760" href="Ledger.Utxo.Properties.html#7760" class="Bound">utxo&#39;</a><a id="7765" class="Symbol">}</a> <a id="7767" href="Ledger.Utxo.Properties.html#7767" class="Bound">eq</a> <a id="7770" class="Symbol">=</a> <a id="7772" href="Axiom.Set.Sum.html#4667" class="Function">indexedSumᵐ-cong</a> <a id="7789" class="Symbol">{</a><a id="7790" class="Argument">M</a> <a id="7792" class="Symbol">=</a> <a id="7794" href="Ledger.TokenAlgebra.html#492" class="Function">Value</a><a id="7799" class="Symbol">}</a> <a id="7801" class="Symbol">{</a><a id="7802" class="Argument">x</a> <a id="7804" class="Symbol">=</a> <a id="7806" class="Symbol">(</a><a id="7807" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7817" href="Ledger.Transaction.html#5048" class="Function">txOutHash</a> <a id="7827" href="Ledger.Utxo.Properties.html#7753" class="Bound">utxo</a><a id="7831" class="Symbol">)</a> <a id="7833" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="7835" class="Symbol">}</a> <a id="7837" class="Symbol">{(</a><a id="7839" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7849" href="Ledger.Transaction.html#5048" class="Function">txOutHash</a> <a id="7859" href="Ledger.Utxo.Properties.html#7760" class="Bound">utxo&#39;</a><a id="7864" class="Symbol">)</a> <a id="7866" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="7868" class="Symbol">}</a> <a id="7870" class="Symbol">(</a><a id="7871" href="Axiom.Set.Properties.html#5411" class="Function">map-≡ᵉ</a> <a id="7878" href="Ledger.Utxo.Properties.html#7767" class="Bound">eq</a><a id="7880" class="Symbol">)</a>

  <a id="balance-cong-coin"></a><a id="7885" href="Ledger.Utxo.Properties.html#7885" class="Function">balance-cong-coin</a> <a id="7903" class="Symbol">:</a> <a id="7905" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7907" href="Ledger.Utxo.Properties.html#7279" class="Generalizable">utxo</a> <a id="7912" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7914" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="7917" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7919" href="Ledger.Utxo.Properties.html#7284" class="Generalizable">utxo&#39;</a> <a id="7925" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="7927" class="Symbol">→</a> <a id="7929" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="7938" href="Ledger.Utxo.Properties.html#7279" class="Generalizable">utxo</a> <a id="7943" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7945" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="7954" href="Ledger.Utxo.Properties.html#7284" class="Generalizable">utxo&#39;</a>
  <a id="7962" href="Ledger.Utxo.Properties.html#7885" class="Function">balance-cong-coin</a> <a id="7980" class="Symbol">{</a><a id="7981" href="Ledger.Utxo.Properties.html#7981" class="Bound">utxo</a><a id="7985" class="Symbol">}</a> <a id="7987" class="Symbol">{</a><a id="7988" href="Ledger.Utxo.Properties.html#7988" class="Bound">utxo&#39;</a><a id="7993" class="Symbol">}</a> <a id="7995" href="Ledger.Utxo.Properties.html#7995" class="Bound">x</a> <a id="7997" class="Symbol">=</a>
    <a id="8003" href="Ledger.TokenAlgebra.html#1112" class="Function">coinIsMonoidHomomorphism</a> <a id="8028" class="Symbol">.</a><a id="8029" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8037" class="Symbol">(</a><a id="8038" href="Ledger.Utxo.Properties.html#7668" class="Function">balance-cong</a> <a id="8051" class="Symbol">{</a><a id="8052" href="Ledger.Utxo.Properties.html#7981" class="Bound">utxo</a><a id="8056" class="Symbol">}</a> <a id="8058" class="Symbol">{</a><a id="8059" href="Ledger.Utxo.Properties.html#7988" class="Bound">utxo&#39;</a><a id="8064" class="Symbol">}</a> <a id="8066" href="Ledger.Utxo.Properties.html#7995" class="Bound">x</a><a id="8067" class="Symbol">)</a>
    <a id="8073" class="Keyword">where</a> <a id="8079" class="Keyword">open</a> <a id="8084" href="Algebra.Morphism.Structures.html#4393" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>

  <a id="balance-∪"></a><a id="8124" href="Ledger.Utxo.Properties.html#8124" class="Function">balance-∪</a> <a id="8134" class="Symbol">:</a> <a id="8136" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="8145" class="Symbol">(</a><a id="8146" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8150" href="Ledger.Utxo.Properties.html#7279" class="Generalizable">utxo</a><a id="8154" class="Symbol">)</a> <a id="8156" class="Symbol">(</a><a id="8157" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8161" href="Ledger.Utxo.Properties.html#7284" class="Generalizable">utxo&#39;</a><a id="8166" class="Symbol">)</a>
                       <a id="8191" class="Symbol">→</a> <a id="8193" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="8202" class="Symbol">(</a><a id="8203" href="Ledger.Utxo.Properties.html#7279" class="Generalizable">utxo</a> <a id="8208" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8211" href="Ledger.Utxo.Properties.html#7284" class="Generalizable">utxo&#39;</a><a id="8216" class="Symbol">)</a> <a id="8218" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8220" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="8229" href="Ledger.Utxo.Properties.html#7279" class="Generalizable">utxo</a> <a id="8234" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8236" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="8245" href="Ledger.Utxo.Properties.html#7284" class="Generalizable">utxo&#39;</a>
  <a id="8253" href="Ledger.Utxo.Properties.html#8124" class="Function">balance-∪</a> <a id="8263" class="Symbol">{</a><a id="8264" href="Ledger.Utxo.Properties.html#8264" class="Bound">utxo</a><a id="8268" class="Symbol">}</a> <a id="8270" class="Symbol">{</a><a id="8271" href="Ledger.Utxo.Properties.html#8271" class="Bound">utxo&#39;</a><a id="8276" class="Symbol">}</a> <a id="8278" href="Ledger.Utxo.Properties.html#8278" class="Bound">h</a> <a id="8280" class="Symbol">=</a> <a id="8282" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="8292" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="8301" class="Symbol">(</a><a id="8302" href="Ledger.Utxo.Properties.html#8264" class="Bound">utxo</a> <a id="8307" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8310" href="Ledger.Utxo.Properties.html#8271" class="Bound">utxo&#39;</a><a id="8315" class="Symbol">)</a>
      <a id="8323" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8326" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8334" href="Ledger.TokenAlgebra.html#1112" class="Function">coinIsMonoidHomomorphism</a>
      <a id="8365" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8367" href="Axiom.Set.Sum.html#4667" class="Function">indexedSumᵐ-cong</a> <a id="8384" class="Symbol">{</a><a id="8385" class="Argument">f</a> <a id="8387" class="Symbol">=</a> <a id="8389" href="Ledger.Transaction.html#5137" class="Function">getValueʰ</a> <a id="8399" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="8401" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="8406" class="Symbol">}</a> <a id="8408" class="Symbol">{</a><a id="8409" class="Argument">x</a> <a id="8411" class="Symbol">=</a> <a id="8413" class="Symbol">(</a><a id="8414" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8424" href="Ledger.Transaction.html#5048" class="Function">txOutHash</a> <a id="8434" class="Symbol">(</a><a id="8435" href="Ledger.Utxo.Properties.html#8264" class="Bound">utxo</a> <a id="8440" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8443" href="Ledger.Utxo.Properties.html#8271" class="Bound">utxo&#39;</a><a id="8448" class="Symbol">))</a> <a id="8451" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8453" class="Symbol">}</a> <a id="8455" class="Symbol">{((</a><a id="8458" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8468" href="Ledger.Transaction.html#5048" class="Function">txOutHash</a> <a id="8478" href="Ledger.Utxo.Properties.html#8264" class="Bound">utxo</a><a id="8482" class="Symbol">)</a> <a id="8484" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8486" class="Symbol">)</a> <a id="8488" href="Axiom.Set.Sum.html#5189" class="Function Operator">∪ˡᶠ</a> <a id="8492" class="Symbol">((</a><a id="8494" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8504" href="Ledger.Transaction.html#5048" class="Function">txOutHash</a> <a id="8514" href="Ledger.Utxo.Properties.html#8271" class="Bound">utxo&#39;</a><a id="8519" class="Symbol">)</a> <a id="8521" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8523" class="Symbol">)}</a> <a id="8526" class="Symbol">(</a><a id="8527" href="Axiom.Set.Map.html#7309" class="Function">disjoint-∪ˡ-mapValues</a> <a id="8549" class="Symbol">{</a><a id="8550" class="Argument">M</a> <a id="8552" class="Symbol">=</a> <a id="8554" href="Ledger.Utxo.Properties.html#8264" class="Bound">utxo</a><a id="8558" class="Symbol">}</a> <a id="8560" class="Symbol">{</a><a id="8561" href="Ledger.Utxo.Properties.html#8271" class="Bound">utxo&#39;</a><a id="8566" class="Symbol">}</a> <a id="8568" class="Symbol">_</a> <a id="8570" href="Ledger.Utxo.Properties.html#8278" class="Bound">h</a><a id="8571" class="Symbol">)</a>
      <a id="8579" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8585" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="8590" class="Symbol">(</a><a id="8591" href="Axiom.Set.Sum.html#4466" class="Function">indexedSumᵐ</a> <a id="8603" class="Symbol">_</a> <a id="8605" class="Symbol">(((</a><a id="8608" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8618" href="Ledger.Transaction.html#5048" class="Function">txOutHash</a> <a id="8628" href="Ledger.Utxo.Properties.html#8264" class="Bound">utxo</a><a id="8632" class="Symbol">)</a> <a id="8634" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8636" class="Symbol">)</a> <a id="8638" href="Axiom.Set.Sum.html#5189" class="Function Operator">∪ˡᶠ</a> <a id="8642" class="Symbol">((</a><a id="8644" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8654" href="Ledger.Transaction.html#5048" class="Function">txOutHash</a> <a id="8664" href="Ledger.Utxo.Properties.html#8271" class="Bound">utxo&#39;</a><a id="8669" class="Symbol">)</a> <a id="8671" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8673" class="Symbol">)))</a>
      <a id="8683" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8686" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8694" href="Ledger.TokenAlgebra.html#1112" class="Function">coinIsMonoidHomomorphism</a>
       <a id="8726" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8728" href="Axiom.Set.Sum.html#5347" class="Function">indexedSumᵐ-∪</a> <a id="8742" class="Symbol">{</a><a id="8743" class="Argument">M</a> <a id="8745" class="Symbol">=</a> <a id="8747" href="Ledger.TokenAlgebra.html#492" class="Function">Value</a><a id="8752" class="Symbol">}</a> <a id="8754" class="Symbol">{</a><a id="8755" class="Argument">X</a> <a id="8757" class="Symbol">=</a> <a id="8759" class="Symbol">(</a><a id="8760" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8770" href="Ledger.Transaction.html#5048" class="Function">txOutHash</a> <a id="8780" href="Ledger.Utxo.Properties.html#8264" class="Bound">utxo</a><a id="8784" class="Symbol">)</a> <a id="8786" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8788" class="Symbol">}</a> <a id="8790" class="Symbol">{(</a><a id="8792" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8802" href="Ledger.Transaction.html#5048" class="Function">txOutHash</a> <a id="8812" href="Ledger.Utxo.Properties.html#8271" class="Bound">utxo&#39;</a><a id="8817" class="Symbol">)</a> <a id="8819" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8821" class="Symbol">}</a>
       <a id="8830" class="Symbol">(λ</a> <a id="8833" href="Ledger.Utxo.Properties.html#8833" class="Bound">x</a> <a id="8835" href="Ledger.Utxo.Properties.html#8835" class="Bound">x₁</a> <a id="8838" class="Symbol">→</a> <a id="8840" href="Ledger.Utxo.Properties.html#8278" class="Bound">h</a> <a id="8842" class="Symbol">(</a><a id="8843" href="Axiom.Set.Rel.html#4590" class="Function">dom-mapʳ⊆</a> <a id="8853" href="Ledger.Utxo.Properties.html#8833" class="Bound">x</a><a id="8854" class="Symbol">)</a> <a id="8856" class="Symbol">(</a><a id="8857" href="Axiom.Set.Rel.html#4590" class="Function">dom-mapʳ⊆</a> <a id="8867" href="Ledger.Utxo.Properties.html#8835" class="Bound">x₁</a><a id="8869" class="Symbol">))</a>
       <a id="8879" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8885" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="8890" class="Symbol">(</a><a id="8891" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="8899" href="Ledger.Utxo.Properties.html#8264" class="Bound">utxo</a> <a id="8904" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8906" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="8914" href="Ledger.Utxo.Properties.html#8271" class="Bound">utxo&#39;</a><a id="8919" class="Symbol">)</a>
      <a id="8927" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8930" href="Ledger.Utxo.Properties.html#7552" class="Function">∙-homo-Coin</a> <a id="8942" class="Symbol">_</a> <a id="8944" class="Symbol">_</a> <a id="8946" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8952" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="8961" href="Ledger.Utxo.Properties.html#8264" class="Bound">utxo</a> <a id="8966" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8968" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="8977" href="Ledger.Utxo.Properties.html#8271" class="Bound">utxo&#39;</a>
      <a id="8989" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="8995" class="Keyword">where</a> <a id="9001" class="Keyword">open</a> <a id="9006" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="9045" class="Symbol">{</a><a id="9046" class="Argument">A</a> <a id="9048" class="Symbol">=</a> <a id="9050" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="9051" class="Symbol">}</a> <a id="9053" class="Symbol">(</a><a id="9054" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html#574" class="Function">solve-macro</a> <a id="9066" class="Symbol">(</a><a id="9067" class="Keyword">quoteTerm</a> <a id="9077" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="9087" class="Symbol">))</a>

<a id="9091" class="Keyword">module</a> <a id="9098" href="Ledger.Utxo.Properties.html#9098" class="Module">_</a> <a id="9100" class="Symbol">{</a><a id="9101" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a> <a id="9105" class="Symbol">:</a> <a id="9107" class="Symbol">_}</a> <a id="9110" class="Symbol">(</a><a id="9111" class="Keyword">open</a> <a id="9116" href="Ledger.Transaction.html#2650" class="Module">TxBody</a> <a id="9123" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="9126" class="Symbol">)</a> <a id="9128" class="Keyword">where</a> <a id="9134" class="Keyword">opaque</a>
  <a id="9143" class="Keyword">unfolding</a> <a id="9153" href="Ledger.Utxo.html#3483" class="Function">outs</a>
  <a id="9160" class="Keyword">open</a> <a id="9165" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="9204" class="Symbol">{</a><a id="9205" class="Argument">A</a> <a id="9207" class="Symbol">=</a> <a id="9209" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="9210" class="Symbol">}</a> <a id="9212" class="Symbol">(</a><a id="9213" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html#574" class="Function">solve-macro</a> <a id="9225" class="Symbol">(</a><a id="9226" class="Keyword">quoteTerm</a> <a id="9236" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="9246" class="Symbol">))</a>

  <a id="9252" href="Ledger.Utxo.Properties.html#9252" class="Function">newTxid⇒disj</a> <a id="9265" class="Symbol">:</a> <a id="9267" href="Ledger.Transaction.html#3218" class="Field">txid</a> <a id="9272" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="9274" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9279" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9285" class="Symbol">(</a><a id="9286" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9290" href="Ledger.Utxo.Properties.html#7279" class="Generalizable">utxo</a><a id="9294" class="Symbol">)</a>
              <a id="9310" class="Symbol">→</a> <a id="9312" href="Axiom.Set.html#9583" class="Function">disjoint&#39;</a> <a id="9322" class="Symbol">(</a><a id="9323" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9327" href="Ledger.Utxo.Properties.html#7279" class="Generalizable">utxo</a><a id="9331" class="Symbol">)</a> <a id="9333" class="Symbol">(</a><a id="9334" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9338" class="Symbol">(</a><a id="9339" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="9344" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="9347" class="Symbol">))</a>
  <a id="9352" href="Ledger.Utxo.Properties.html#9252" class="Function">newTxid⇒disj</a> <a id="9365" href="Ledger.Utxo.Properties.html#9365" class="Bound">id∉utxo</a> <a id="9373" class="Symbol">=</a> <a id="9375" href="Axiom.Set.Properties.html#13484" class="Function">disjoint⇒disjoint&#39;</a> <a id="9394" class="Symbol">λ</a> <a id="9396" href="Ledger.Utxo.Properties.html#9396" class="Bound">h</a> <a id="9398" href="Ledger.Utxo.Properties.html#9398" class="Bound">h&#39;</a> <a id="9401" class="Symbol">→</a> <a id="9403" href="Ledger.Utxo.Properties.html#9365" class="Bound">id∉utxo</a> <a id="9411" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9413" href="Function.Bundles.html#4810" class="Field">to</a> <a id="9416" href="Axiom.Set.html#5140" class="Function">∈-map</a>
    <a id="9426" class="Symbol">(</a><a id="9427" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="9430" class="Symbol">(</a><a id="9431" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9436" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9441" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="9447" href="Ledger.Utxo.Properties.html#9398" class="Bound">h&#39;</a> <a id="9450" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9453" class="Symbol">λ</a> <a id="9455" class="Keyword">where</a>
          <a id="9471" class="Symbol">(_</a> <a id="9474" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9476" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9481" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9483" href="Ledger.Utxo.Properties.html#9483" class="Bound">h&#39;&#39;</a><a id="9486" class="Symbol">)</a> <a id="9488" class="Symbol">→</a> <a id="9490" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9495" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9500" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="9506" href="Ledger.Utxo.Properties.html#9483" class="Bound">h&#39;&#39;</a> <a id="9510" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9513" class="Symbol">λ</a> <a id="9515" class="Keyword">where</a> <a id="9521" class="Symbol">(_</a> <a id="9524" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9526" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9531" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9533" class="Symbol">_)</a> <a id="9536" class="Symbol">→</a> <a id="9538" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9542" class="Symbol">)</a> <a id="9544" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9546" href="Ledger.Utxo.Properties.html#9396" class="Bound">h</a><a id="9547" class="Symbol">)</a>

  <a id="9552" href="Ledger.Utxo.Properties.html#9552" class="Function">consumedCoinEquality</a> <a id="9573" class="Symbol">:</a> <a id="9575" class="Symbol">∀</a> <a id="9577" class="Symbol">{</a><a id="9578" href="Ledger.Utxo.Properties.html#9578" class="Bound">pp</a><a id="9580" class="Symbol">}</a>
    <a id="9586" class="Symbol">→</a> <a id="9588" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="9593" href="Ledger.Transaction.html#2808" class="Field">mint</a> <a id="9598" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9600" class="Number">0</a>
    <a id="9606" class="Symbol">→</a> <a id="9608" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="9613" class="Symbol">(</a><a id="9614" href="Ledger.Utxo.html#12290" class="Function">consumed</a> <a id="9623" href="Ledger.Utxo.Properties.html#9578" class="Bound">pp</a> <a id="9626" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a> <a id="9636" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="9639" class="Symbol">)</a>
    <a id="9645" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9647" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="9656" class="Symbol">((</a><a id="9658" href="Ledger.Utxo.html#2769" class="Field">UTxOState.utxo</a> <a id="9673" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a><a id="9682" class="Symbol">)</a> <a id="9684" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9686" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="9691" class="Symbol">)</a> <a id="9693" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9695" href="Ledger.Utxo.html#12032" class="Function">depositRefunds</a> <a id="9710" href="Ledger.Utxo.Properties.html#9578" class="Bound">pp</a> <a id="9713" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a> <a id="9723" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a> <a id="9727" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9729" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="9737" href="Ledger.Transaction.html#2918" class="Field">txwdrls</a>
  <a id="9747" href="Ledger.Utxo.Properties.html#9552" class="Function">consumedCoinEquality</a> <a id="9768" class="Symbol">{</a><a id="9769" href="Ledger.Utxo.Properties.html#9769" class="Bound">utxoState</a><a id="9778" class="Symbol">}</a> <a id="9780" class="Symbol">{</a><a id="9781" href="Ledger.Utxo.Properties.html#9781" class="Bound">pp</a><a id="9783" class="Symbol">}</a> <a id="9785" href="Ledger.Utxo.Properties.html#9785" class="Bound">h</a> <a id="9787" class="Symbol">=</a>
    <a id="9793" class="Keyword">let</a>  <a id="9798" href="Ledger.Utxo.Properties.html#9798" class="Bound">utxo</a> <a id="9803" class="Symbol">=</a> <a id="9805" href="Ledger.Utxo.html#2769" class="Field">UTxOState.utxo</a> <a id="9820" href="Ledger.Utxo.Properties.html#9769" class="Bound">utxoState</a>
         <a id="9839" href="Ledger.Utxo.Properties.html#9839" class="Bound">dRefs</a> <a id="9845" class="Symbol">=</a> <a id="9847" href="Ledger.Utxo.html#12032" class="Function">depositRefunds</a> <a id="9862" href="Ledger.Utxo.Properties.html#9781" class="Bound">pp</a> <a id="9865" href="Ledger.Utxo.Properties.html#9769" class="Bound">utxoState</a> <a id="9875" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a>
         <a id="9888" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a> <a id="9894" class="Symbol">=</a> <a id="9896" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="9904" href="Ledger.Transaction.html#2918" class="Field">txwdrls</a>
    <a id="9916" class="Keyword">in</a> <a id="9919" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="9929" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="9934" class="Symbol">(</a><a id="9935" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="9943" class="Symbol">(</a><a id="9944" href="Ledger.Utxo.Properties.html#9798" class="Bound">utxo</a> <a id="9949" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9951" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="9956" class="Symbol">)</a> <a id="9958" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9960" href="Ledger.Transaction.html#2808" class="Field">mint</a> <a id="9965" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9967" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="9974" href="Ledger.Utxo.Properties.html#9839" class="Bound">dRefs</a> <a id="9980" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9982" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="9989" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a><a id="9994" class="Symbol">)</a>
      <a id="10002" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10005" href="Ledger.Utxo.Properties.html#7552" class="Function">∙-homo-Coin</a> <a id="10017" class="Symbol">_</a> <a id="10019" class="Symbol">_</a> <a id="10021" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10027" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10032" class="Symbol">(</a><a id="10033" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="10041" class="Symbol">(</a><a id="10042" href="Ledger.Utxo.Properties.html#9798" class="Bound">utxo</a> <a id="10047" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10049" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="10054" class="Symbol">)</a> <a id="10056" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10058" href="Ledger.Transaction.html#2808" class="Field">mint</a> <a id="10063" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10065" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10072" href="Ledger.Utxo.Properties.html#9839" class="Bound">dRefs</a><a id="10077" class="Symbol">)</a> <a id="10079" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10081" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10086" class="Symbol">(</a><a id="10087" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10094" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10096" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a><a id="10101" class="Symbol">)</a>
 <a id="10104" class="Comment">--     ≡⟨ cong (coin (balance (utxo ∣ txins) + mint + inject dRefs) +_) (property _) ⟩</a>
      <a id="10197" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10200" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10205" class="Symbol">(</a><a id="10206" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10211" class="Symbol">(</a><a id="10212" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="10220" class="Symbol">(</a><a id="10221" href="Ledger.Utxo.Properties.html#9798" class="Bound">utxo</a> <a id="10226" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10228" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="10233" class="Symbol">)</a> <a id="10235" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10237" href="Ledger.Transaction.html#2808" class="Field">mint</a> <a id="10242" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10244" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10251" href="Ledger.Utxo.Properties.html#9839" class="Bound">dRefs</a><a id="10256" class="Symbol">)</a> <a id="10258" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="10260" class="Symbol">)</a> <a id="10262" class="Symbol">(</a><a id="10263" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="10278" class="Symbol">_)</a> <a id="10281" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10287" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10292" class="Symbol">(</a><a id="10293" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="10301" class="Symbol">(</a><a id="10302" href="Ledger.Utxo.Properties.html#9798" class="Bound">utxo</a> <a id="10307" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10309" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="10314" class="Symbol">)</a> <a id="10316" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10318" href="Ledger.Transaction.html#2808" class="Field">mint</a> <a id="10323" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10325" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10332" href="Ledger.Utxo.Properties.html#9839" class="Bound">dRefs</a><a id="10337" class="Symbol">)</a> <a id="10339" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10341" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a>
      <a id="10353" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10356" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10361" class="Symbol">(</a><a id="10362" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="10365" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a><a id="10370" class="Symbol">)</a> <a id="10372" class="Symbol">(</a><a id="10373" href="Ledger.Utxo.Properties.html#7552" class="Function">∙-homo-Coin</a> <a id="10385" class="Symbol">_</a> <a id="10387" class="Symbol">_)</a> <a id="10390" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10396" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10401" class="Symbol">(</a><a id="10402" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="10410" class="Symbol">(</a><a id="10411" href="Ledger.Utxo.Properties.html#9798" class="Bound">utxo</a> <a id="10416" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10418" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="10423" class="Symbol">)</a> <a id="10425" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10427" href="Ledger.Transaction.html#2808" class="Field">mint</a><a id="10431" class="Symbol">)</a> <a id="10433" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10435" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10440" class="Symbol">(</a><a id="10441" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10448" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10450" href="Ledger.Utxo.Properties.html#9839" class="Bound">dRefs</a><a id="10455" class="Symbol">)</a> <a id="10457" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10459" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a>
<a id="10465" class="Comment">--      ≡⟨ cong (λ u → coin (balance (utxo ∣ txins) + mint) + u + sWdls) (property _) ⟩</a>
      <a id="10559" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10562" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10567" class="Symbol">(λ</a> <a id="10570" href="Ledger.Utxo.Properties.html#10570" class="Bound">u</a> <a id="10572" class="Symbol">→</a> <a id="10574" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10579" class="Symbol">(</a><a id="10580" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="10588" class="Symbol">(</a><a id="10589" href="Ledger.Utxo.Properties.html#9798" class="Bound">utxo</a> <a id="10594" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10596" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="10601" class="Symbol">)</a> <a id="10603" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10605" href="Ledger.Transaction.html#2808" class="Field">mint</a><a id="10609" class="Symbol">)</a> <a id="10611" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10613" href="Ledger.Utxo.Properties.html#10570" class="Bound">u</a> <a id="10615" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10617" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a><a id="10622" class="Symbol">)</a> <a id="10624" class="Symbol">(</a><a id="10625" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="10640" class="Symbol">_)</a> <a id="10643" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10649" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10654" class="Symbol">(</a><a id="10655" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="10663" class="Symbol">(</a><a id="10664" href="Ledger.Utxo.Properties.html#9798" class="Bound">utxo</a> <a id="10669" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10671" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="10676" class="Symbol">)</a> <a id="10678" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10680" href="Ledger.Transaction.html#2808" class="Field">mint</a><a id="10684" class="Symbol">)</a> <a id="10686" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10688" href="Ledger.Utxo.Properties.html#9839" class="Bound">dRefs</a> <a id="10694" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10696" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a>
      <a id="10708" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10711" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10716" class="Symbol">(λ</a> <a id="10719" href="Ledger.Utxo.Properties.html#10719" class="Bound">u</a> <a id="10721" class="Symbol">→</a> <a id="10723" href="Ledger.Utxo.Properties.html#10719" class="Bound">u</a> <a id="10725" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10727" href="Ledger.Utxo.Properties.html#9839" class="Bound">dRefs</a> <a id="10733" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10735" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a><a id="10740" class="Symbol">)</a> <a id="10742" class="Symbol">(</a><a id="10743" href="Ledger.Utxo.Properties.html#7552" class="Function">∙-homo-Coin</a> <a id="10755" class="Symbol">_</a> <a id="10757" class="Symbol">_)</a> <a id="10760" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10766" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="10775" class="Symbol">(</a><a id="10776" href="Ledger.Utxo.Properties.html#9798" class="Bound">utxo</a> <a id="10781" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10783" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="10788" class="Symbol">)</a> <a id="10790" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10792" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10797" href="Ledger.Transaction.html#2808" class="Field">mint</a> <a id="10802" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10804" href="Ledger.Utxo.Properties.html#9839" class="Bound">dRefs</a> <a id="10810" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10812" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a>
      <a id="10824" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10827" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10832" class="Symbol">(λ</a> <a id="10835" href="Ledger.Utxo.Properties.html#10835" class="Bound">x</a> <a id="10837" class="Symbol">→</a> <a id="10839" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="10848" class="Symbol">(</a><a id="10849" href="Ledger.Utxo.Properties.html#9798" class="Bound">utxo</a> <a id="10854" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10856" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="10861" class="Symbol">)</a> <a id="10863" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10865" href="Ledger.Utxo.Properties.html#10835" class="Bound">x</a> <a id="10867" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10869" href="Ledger.Utxo.Properties.html#9839" class="Bound">dRefs</a> <a id="10875" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10877" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a><a id="10882" class="Symbol">)</a> <a id="10884" href="Ledger.Utxo.Properties.html#9785" class="Bound">h</a> <a id="10886" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10892" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="10901" class="Symbol">(</a><a id="10902" href="Ledger.Utxo.Properties.html#9798" class="Bound">utxo</a> <a id="10907" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10909" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="10914" class="Symbol">)</a> <a id="10916" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10918" class="Number">0</a> <a id="10920" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10922" href="Ledger.Utxo.Properties.html#9839" class="Bound">dRefs</a> <a id="10928" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10930" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a>
      <a id="10942" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10945" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10950" class="Symbol">(λ</a> <a id="10953" href="Ledger.Utxo.Properties.html#10953" class="Bound">x</a> <a id="10955" class="Symbol">→</a> <a id="10957" href="Ledger.Utxo.Properties.html#10953" class="Bound">x</a> <a id="10959" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10961" href="Ledger.Utxo.Properties.html#9839" class="Bound">dRefs</a> <a id="10967" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10969" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a><a id="10974" class="Symbol">)</a> <a id="10976" class="Symbol">(</a><a id="10977" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="10989" class="Symbol">(</a><a id="10990" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="10999" class="Symbol">(</a><a id="11000" href="Ledger.Utxo.Properties.html#9798" class="Bound">utxo</a> <a id="11005" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="11007" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="11012" class="Symbol">)))</a> <a id="11016" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="11022" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="11031" class="Symbol">(</a><a id="11032" href="Ledger.Utxo.Properties.html#9798" class="Bound">utxo</a> <a id="11037" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="11039" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="11044" class="Symbol">)</a> <a id="11046" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11048" href="Ledger.Utxo.Properties.html#9839" class="Bound">dRefs</a> <a id="11054" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11056" href="Ledger.Utxo.Properties.html#9888" class="Bound">sWdls</a>
      <a id="11068" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="11073" href="Ledger.Utxo.Properties.html#11073" class="Function">producedCoinEquality</a> <a id="11094" class="Symbol">:</a> <a id="11096" class="Symbol">∀</a> <a id="11098" class="Symbol">{</a><a id="11099" href="Ledger.Utxo.Properties.html#11099" class="Bound">pp</a><a id="11101" class="Symbol">}</a>
    <a id="11107" class="Symbol">→</a> <a id="11109" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11114" class="Symbol">(</a><a id="11115" href="Ledger.Utxo.html#12498" class="Function">produced</a> <a id="11124" href="Ledger.Utxo.Properties.html#11099" class="Bound">pp</a> <a id="11127" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a> <a id="11137" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="11140" class="Symbol">)</a>
    <a id="11146" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11148" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="11157" class="Symbol">(</a><a id="11158" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="11163" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="11166" class="Symbol">)</a> <a id="11168" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11170" href="Ledger.Transaction.html#2780" class="Field">txfee</a> <a id="11176" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11178" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="11190" href="Ledger.Utxo.Properties.html#11099" class="Bound">pp</a> <a id="11193" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a> <a id="11203" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a> <a id="11207" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11209" href="Ledger.Transaction.html#3022" class="Field">txdonation</a>
  <a id="11222" href="Ledger.Utxo.Properties.html#11073" class="Function">producedCoinEquality</a> <a id="11243" class="Symbol">{</a><a id="11244" href="Ledger.Utxo.Properties.html#11244" class="Bound">utxoState</a><a id="11253" class="Symbol">}</a> <a id="11255" class="Symbol">{</a><a id="11256" href="Ledger.Utxo.Properties.html#11256" class="Bound">pp</a><a id="11258" class="Symbol">}</a> <a id="11260" class="Symbol">=</a>
      <a id="11268" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="11278" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11283" class="Symbol">(</a><a id="11284" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="11292" class="Symbol">(</a><a id="11293" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="11298" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="11301" class="Symbol">)</a> <a id="11303" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11305" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11312" href="Ledger.Transaction.html#2780" class="Field">txfee</a>
      <a id="11324" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11326" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11333" class="Symbol">(</a><a id="11334" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="11346" href="Ledger.Utxo.Properties.html#11256" class="Bound">pp</a> <a id="11349" href="Ledger.Utxo.Properties.html#11244" class="Bound">utxoState</a> <a id="11359" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="11362" class="Symbol">)</a> <a id="11364" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11366" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11373" href="Ledger.Transaction.html#3022" class="Field">txdonation</a><a id="11383" class="Symbol">)</a>
      <a id="11391" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11394" href="Ledger.Utxo.Properties.html#7552" class="Function">∙-homo-Coin</a> <a id="11406" class="Symbol">_</a> <a id="11408" class="Symbol">_</a> <a id="11410" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="11416" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11421" class="Symbol">(</a><a id="11422" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="11430" class="Symbol">(</a><a id="11431" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="11436" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="11439" class="Symbol">)</a> <a id="11441" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11443" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11450" href="Ledger.Transaction.html#2780" class="Field">txfee</a>
      <a id="11462" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11464" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11471" class="Symbol">(</a><a id="11472" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="11484" href="Ledger.Utxo.Properties.html#11256" class="Bound">pp</a> <a id="11487" href="Ledger.Utxo.Properties.html#11244" class="Bound">utxoState</a> <a id="11497" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="11500" class="Symbol">))</a> <a id="11503" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11505" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11510" class="Symbol">(</a><a id="11511" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11518" href="Ledger.Transaction.html#3022" class="Field">txdonation</a><a id="11528" class="Symbol">)</a>
      <a id="11536" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11539" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="11544" class="Symbol">(</a><a id="11545" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="11548" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11553" class="Symbol">(</a><a id="11554" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11561" href="Ledger.Transaction.html#3022" class="Field">txdonation</a><a id="11571" class="Symbol">))</a> <a id="11574" class="Symbol">(</a><a id="11575" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="11589" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11594" class="Symbol">(</a><a id="11595" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="11603" class="Symbol">(</a><a id="11604" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="11609" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="11612" class="Symbol">)</a> <a id="11614" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11616" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11623" href="Ledger.Transaction.html#2780" class="Field">txfee</a>
          <a id="11639" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11641" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11648" class="Symbol">(</a><a id="11649" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="11661" href="Ledger.Utxo.Properties.html#11256" class="Bound">pp</a> <a id="11664" href="Ledger.Utxo.Properties.html#11244" class="Bound">utxoState</a> <a id="11674" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="11677" class="Symbol">))</a>
          <a id="11690" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11693" href="Ledger.Utxo.Properties.html#7552" class="Function">∙-homo-Coin</a> <a id="11705" class="Symbol">_</a> <a id="11707" class="Symbol">_</a> <a id="11709" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11719" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11724" class="Symbol">(</a><a id="11725" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="11733" class="Symbol">(</a><a id="11734" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="11739" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="11742" class="Symbol">)</a> <a id="11744" href="Ledger.TokenAlgebra.html#719" class="Function Operator">+ᵛ</a> <a id="11747" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11754" href="Ledger.Transaction.html#2780" class="Field">txfee</a><a id="11759" class="Symbol">)</a>
          <a id="11771" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11775" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11780" class="Symbol">(</a><a id="11781" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11788" class="Symbol">(</a><a id="11789" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="11801" href="Ledger.Utxo.Properties.html#11256" class="Bound">pp</a> <a id="11804" href="Ledger.Utxo.Properties.html#11244" class="Bound">utxoState</a> <a id="11814" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="11817" class="Symbol">))</a>
<a id="11820" class="Comment">--          ≡⟨ cong! (property _) ⟩</a>
          <a id="11866" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11869" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="11875" class="Symbol">(</a><a id="11876" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="11891" class="Symbol">_)</a> <a id="11894" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11904" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11909" class="Symbol">(</a><a id="11910" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="11918" class="Symbol">(</a><a id="11919" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="11924" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="11927" class="Symbol">)</a> <a id="11929" href="Ledger.TokenAlgebra.html#719" class="Function Operator">+ᵛ</a> <a id="11932" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11939" href="Ledger.Transaction.html#2780" class="Field">txfee</a><a id="11944" class="Symbol">)</a>
          <a id="11956" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11960" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="11972" href="Ledger.Utxo.Properties.html#11256" class="Bound">pp</a> <a id="11975" href="Ledger.Utxo.Properties.html#11244" class="Bound">utxoState</a> <a id="11985" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a>
          <a id="11999" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12002" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="12008" class="Symbol">(</a><a id="12009" href="Ledger.Utxo.Properties.html#7552" class="Function">∙-homo-Coin</a> <a id="12021" class="Symbol">_</a> <a id="12023" class="Symbol">_)</a> <a id="12026" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="12036" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12041" class="Symbol">(</a><a id="12042" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="12050" class="Symbol">(</a><a id="12051" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="12056" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="12059" class="Symbol">))</a> <a id="12062" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="12066" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12071" class="Symbol">(</a><a id="12072" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="12079" href="Ledger.Transaction.html#2780" class="Field">txfee</a><a id="12084" class="Symbol">)</a>
          <a id="12096" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="12100" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="12112" href="Ledger.Utxo.Properties.html#11256" class="Bound">pp</a> <a id="12115" href="Ledger.Utxo.Properties.html#11244" class="Bound">utxoState</a> <a id="12125" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a>
          <a id="12139" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12142" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="12147" class="Symbol">(λ</a> <a id="12150" href="Ledger.Utxo.Properties.html#12150" class="Bound">x</a> <a id="12152" class="Symbol">→</a> <a id="12154" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="12163" class="Symbol">(</a><a id="12164" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="12169" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="12172" class="Symbol">)</a> <a id="12174" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12176" href="Ledger.Utxo.Properties.html#12150" class="Bound">x</a> <a id="12178" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12180" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="12192" href="Ledger.Utxo.Properties.html#11256" class="Bound">pp</a> <a id="12195" href="Ledger.Utxo.Properties.html#11244" class="Bound">utxoState</a> <a id="12205" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="12208" class="Symbol">)</a>
<a id="12210" class="Comment">--                $ property txfee ⟩</a>
                <a id="12263" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12265" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="12280" href="Ledger.Transaction.html#2780" class="Field">txfee</a> <a id="12286" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="12296" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="12305" class="Symbol">(</a><a id="12306" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="12311" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="12314" class="Symbol">)</a> <a id="12316" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12318" href="Ledger.Transaction.html#2780" class="Field">txfee</a> <a id="12324" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12326" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="12338" href="Ledger.Utxo.Properties.html#11256" class="Bound">pp</a> <a id="12341" href="Ledger.Utxo.Properties.html#11244" class="Bound">utxoState</a> <a id="12351" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a>
          <a id="12365" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="12373" class="Symbol">)</a><a id="12374" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12380" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="12389" class="Symbol">(</a><a id="12390" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="12395" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="12398" class="Symbol">)</a> <a id="12400" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12402" href="Ledger.Transaction.html#2780" class="Field">txfee</a>
      <a id="12414" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12416" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="12428" href="Ledger.Utxo.Properties.html#11256" class="Bound">pp</a> <a id="12431" href="Ledger.Utxo.Properties.html#11244" class="Bound">utxoState</a> <a id="12441" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a> <a id="12445" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12447" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12452" class="Symbol">(</a><a id="12453" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="12460" href="Ledger.Transaction.html#3022" class="Field">txdonation</a><a id="12470" class="Symbol">)</a>
      <a id="12478" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12481" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="12486" class="Symbol">(</a><a id="12487" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="12496" class="Symbol">(</a><a id="12497" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="12502" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="12505" class="Symbol">)</a> <a id="12507" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12509" href="Ledger.Transaction.html#2780" class="Field">txfee</a> <a id="12515" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12517" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="12529" href="Ledger.Utxo.Properties.html#11256" class="Bound">pp</a> <a id="12532" href="Ledger.Utxo.Properties.html#11244" class="Bound">utxoState</a> <a id="12542" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a> <a id="12546" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="12548" class="Symbol">)</a>
<a id="12550" class="Comment">--            $ property _ ⟩</a>
            <a id="12591" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12593" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="12608" class="Symbol">_</a> <a id="12610" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12616" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="12625" class="Symbol">(</a><a id="12626" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="12631" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="12634" class="Symbol">)</a> <a id="12636" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12638" href="Ledger.Transaction.html#2780" class="Field">txfee</a> <a id="12644" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12646" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="12658" href="Ledger.Utxo.Properties.html#11256" class="Bound">pp</a> <a id="12661" href="Ledger.Utxo.Properties.html#11244" class="Bound">utxoState</a> <a id="12671" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a> <a id="12675" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12677" href="Ledger.Transaction.html#3022" class="Field">txdonation</a>
      <a id="12694" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="12699" href="Ledger.Utxo.Properties.html#12699" class="Function">balValueToCoin</a> <a id="12714" class="Symbol">:</a> <a id="12716" class="Symbol">∀</a> <a id="12718" class="Symbol">{</a><a id="12719" href="Ledger.Utxo.Properties.html#12719" class="Bound">pp</a><a id="12721" class="Symbol">}</a>
    <a id="12727" class="Symbol">→</a> <a id="12729" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12734" href="Ledger.Transaction.html#2808" class="Field">mint</a> <a id="12739" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12741" class="Number">0</a>
    <a id="12747" class="Symbol">→</a> <a id="12749" href="Ledger.Utxo.html#12290" class="Function">consumed</a> <a id="12758" href="Ledger.Utxo.Properties.html#12719" class="Bound">pp</a> <a id="12761" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a> <a id="12771" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a> <a id="12775" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12777" href="Ledger.Utxo.html#12498" class="Function">produced</a> <a id="12786" href="Ledger.Utxo.Properties.html#12719" class="Bound">pp</a> <a id="12789" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a> <a id="12799" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a>
    <a id="12807" class="Symbol">→</a> <a id="12809" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="12818" class="Symbol">((</a><a id="12820" href="Ledger.Utxo.html#2769" class="Field">UTxOState.utxo</a> <a id="12835" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a><a id="12844" class="Symbol">)</a> <a id="12846" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12848" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="12853" class="Symbol">)</a>
    <a id="12859" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12861" href="Ledger.Utxo.html#12032" class="Function">depositRefunds</a> <a id="12876" href="Ledger.Utxo.Properties.html#12719" class="Bound">pp</a> <a id="12879" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a> <a id="12889" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a> <a id="12893" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12895" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="12903" href="Ledger.Transaction.html#2918" class="Field">txwdrls</a>
    <a id="12915" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12917" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="12926" class="Symbol">(</a><a id="12927" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="12932" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="12935" class="Symbol">)</a> <a id="12937" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12939" href="Ledger.Transaction.html#2780" class="Field">txfee</a> <a id="12945" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12947" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="12959" href="Ledger.Utxo.Properties.html#12719" class="Bound">pp</a> <a id="12962" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a> <a id="12972" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a> <a id="12976" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12978" href="Ledger.Transaction.html#3022" class="Field">txdonation</a>
  <a id="12991" href="Ledger.Utxo.Properties.html#12699" class="Function">balValueToCoin</a> <a id="13006" class="Symbol">{</a><a id="13007" href="Ledger.Utxo.Properties.html#13007" class="Bound">utxoState</a><a id="13016" class="Symbol">}</a> <a id="13018" class="Symbol">{</a><a id="13019" href="Ledger.Utxo.Properties.html#13019" class="Bound">pp</a><a id="13021" class="Symbol">}</a> <a id="13023" href="Ledger.Utxo.Properties.html#13023" class="Bound">h</a> <a id="13025" href="Ledger.Utxo.Properties.html#13025" class="Bound">h&#39;</a> <a id="13028" class="Symbol">=</a> <a id="13030" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="13040" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="13049" class="Symbol">((</a><a id="13051" href="Ledger.Utxo.html#2769" class="Field">UTxOState.utxo</a> <a id="13066" href="Ledger.Utxo.Properties.html#13007" class="Bound">utxoState</a><a id="13075" class="Symbol">)</a> <a id="13077" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="13079" href="Ledger.Transaction.html#2686" class="Field">txins</a><a id="13084" class="Symbol">)</a> <a id="13086" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13088" href="Ledger.Utxo.html#12032" class="Function">depositRefunds</a> <a id="13103" href="Ledger.Utxo.Properties.html#13019" class="Bound">pp</a> <a id="13106" href="Ledger.Utxo.Properties.html#13007" class="Bound">utxoState</a> <a id="13116" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a> <a id="13120" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13122" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="13130" href="Ledger.Transaction.html#2918" class="Field">txwdrls</a>
      <a id="13144" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="13148" href="Ledger.Utxo.Properties.html#9552" class="Function">consumedCoinEquality</a> <a id="13169" class="Symbol">{</a><a id="13170" href="Ledger.Utxo.Properties.html#13007" class="Bound">utxoState</a><a id="13179" class="Symbol">}</a> <a id="13181" class="Symbol">{</a><a id="13182" href="Ledger.Utxo.Properties.html#13019" class="Bound">pp</a><a id="13184" class="Symbol">}</a> <a id="13186" href="Ledger.Utxo.Properties.html#13023" class="Bound">h</a> <a id="13188" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="13194" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="13199" class="Symbol">(</a><a id="13200" href="Ledger.Utxo.html#12290" class="Function">consumed</a> <a id="13209" href="Ledger.Utxo.Properties.html#13019" class="Bound">pp</a> <a id="13212" href="Ledger.Utxo.Properties.html#13007" class="Bound">utxoState</a> <a id="13222" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="13225" class="Symbol">)</a>
      <a id="13233" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="13236" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="13242" href="Ledger.Utxo.Properties.html#13025" class="Bound">h&#39;</a> <a id="13245" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="13251" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="13256" class="Symbol">(</a><a id="13257" href="Ledger.Utxo.html#12498" class="Function">produced</a> <a id="13266" href="Ledger.Utxo.Properties.html#13019" class="Bound">pp</a> <a id="13269" href="Ledger.Utxo.Properties.html#13007" class="Bound">utxoState</a> <a id="13279" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="13282" class="Symbol">)</a>
      <a id="13290" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="13293" href="Ledger.Utxo.Properties.html#11073" class="Function">producedCoinEquality</a> <a id="13314" class="Symbol">{</a><a id="13315" href="Ledger.Utxo.Properties.html#13007" class="Bound">utxoState</a><a id="13324" class="Symbol">}</a> <a id="13326" class="Symbol">{</a><a id="13327" href="Ledger.Utxo.Properties.html#13019" class="Bound">pp</a><a id="13329" class="Symbol">}</a> <a id="13331" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="13337" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="13346" class="Symbol">(</a><a id="13347" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="13352" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a><a id="13355" class="Symbol">)</a> <a id="13357" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13359" href="Ledger.Transaction.html#2780" class="Field">txfee</a> <a id="13365" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13367" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="13379" href="Ledger.Utxo.Properties.html#13019" class="Bound">pp</a> <a id="13382" href="Ledger.Utxo.Properties.html#13007" class="Bound">utxoState</a> <a id="13392" href="Ledger.Utxo.Properties.html#9101" class="Bound">txb</a> <a id="13396" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13398" href="Ledger.Transaction.html#3022" class="Field">txdonation</a>
      <a id="13415" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="posPart-negPart≡x"></a><a id="13418" href="Ledger.Utxo.Properties.html#13418" class="Function">posPart-negPart≡x</a> <a id="13436" class="Symbol">:</a> <a id="13438" class="Symbol">{</a><a id="13439" href="Ledger.Utxo.Properties.html#13439" class="Bound">x</a> <a id="13441" class="Symbol">:</a> <a id="13443" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="13444" class="Symbol">}</a> <a id="13446" class="Symbol">→</a> <a id="13448" href="Prelude.html#3167" class="Function">posPart</a> <a id="13456" href="Ledger.Utxo.Properties.html#13439" class="Bound">x</a> <a id="13458" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="13460" href="Prelude.html#3244" class="Function">negPart</a> <a id="13468" href="Ledger.Utxo.Properties.html#13439" class="Bound">x</a> <a id="13470" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13472" href="Ledger.Utxo.Properties.html#13439" class="Bound">x</a>
<a id="13474" href="Ledger.Utxo.Properties.html#13418" class="Function">posPart-negPart≡x</a> <a id="13492" class="Symbol">{</a><a id="13493" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="13498" href="Ledger.Utxo.Properties.html#13498" class="Bound">n</a><a id="13499" class="Symbol">}</a>     <a id="13505" class="Symbol">=</a> <a id="13507" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="13512" href="Ledger.Utxo.Properties.html#13418" class="Function">posPart-negPart≡x</a> <a id="13530" class="Symbol">{</a><a id="13531" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="13540" href="Ledger.Utxo.Properties.html#13540" class="Bound">n</a><a id="13541" class="Symbol">}</a> <a id="13543" class="Symbol">=</a> <a id="13545" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="χ"></a><a id="13551" href="Ledger.Utxo.Properties.html#13551" class="Function">χ</a> <a id="13553" class="Symbol">:</a> <a id="13555" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="13560" class="Symbol">→</a> <a id="13562" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="13564" href="Ledger.Utxo.Properties.html#13551" class="Function">χ</a> <a id="13566" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>  <a id="13573" class="Symbol">=</a> <a id="13575" class="Number">0</a>
<a id="13577" href="Ledger.Utxo.Properties.html#13551" class="Function">χ</a> <a id="13579" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>   <a id="13586" class="Symbol">=</a> <a id="13588" class="Number">1</a>

<a id="13591" class="Keyword">module</a> <a id="13598" href="Ledger.Utxo.Properties.html#13598" class="Module">DepositHelpers</a>
  <a id="13615" class="Symbol">{</a><a id="13616" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="13621" href="Ledger.Utxo.Properties.html#13621" class="Bound">utxo&#39;</a> <a id="13627" class="Symbol">:</a> <a id="13629" href="Ledger.Transaction.html#2361" class="Function">UTxO</a><a id="13633" class="Symbol">}</a>
  <a id="13637" class="Symbol">{</a><a id="13638" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="13643" href="Ledger.Utxo.Properties.html#13643" class="Bound">fees&#39;</a> <a id="13649" class="Symbol">:</a> <a id="13651" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13655" class="Symbol">}</a>
  <a id="13659" class="Symbol">{</a><a id="13660" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a> <a id="13669" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="13679" class="Symbol">:</a> <a id="13681" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="13689" class="Symbol">}</a>
  <a id="13693" class="Symbol">{</a><a id="13694" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="13704" href="Ledger.Utxo.Properties.html#13704" class="Bound">donations&#39;</a> <a id="13715" class="Symbol">:</a> <a id="13717" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13721" class="Symbol">}</a>
  <a id="13725" class="Symbol">{</a><a id="13726" href="Ledger.Utxo.Properties.html#13726" class="Bound">tx</a> <a id="13729" class="Symbol">:</a> <a id="13731" href="Ledger.Transaction.html#4194" class="Record">Tx</a><a id="13733" class="Symbol">}</a> <a id="13735" class="Symbol">(</a><a id="13736" class="Keyword">let</a> <a id="13740" class="Keyword">open</a> <a id="13745" href="Ledger.Transaction.html#4194" class="Module">Tx</a> <a id="13748" href="Ledger.Utxo.Properties.html#13726" class="Bound">tx</a> <a id="13751" class="Keyword">renaming</a> <a id="13760" class="Symbol">(</a><a id="13761" href="Ledger.Transaction.html#4226" class="Field">body</a> <a id="13766" class="Symbol">to</a> <a id="13769" class="Field">txb</a><a id="13772" class="Symbol">);</a> <a id="13775" class="Keyword">open</a> <a id="13780" href="Ledger.Transaction.html#2650" class="Module">TxBody</a> <a id="13787" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a><a id="13790" class="Symbol">)</a>
  <a id="13794" class="Symbol">{</a><a id="13795" href="Ledger.Utxo.Properties.html#13795" class="Bound">Γ</a> <a id="13797" class="Symbol">:</a> <a id="13799" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a><a id="13806" class="Symbol">}</a>
  <a id="13810" class="Symbol">(</a><a id="13811" href="Ledger.Utxo.Properties.html#13811" class="Bound">step</a>  <a id="13817" class="Symbol">:</a> <a id="13819" href="Ledger.Utxo.Properties.html#13795" class="Bound">Γ</a> <a id="13821" href="Ledger.Utxo.html#3350" class="Datatype Operator">⊢</a> <a id="13823" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="13825" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a>  <a id="13831" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13833" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a>  <a id="13839" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13841" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a>  <a id="13851" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13853" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a>  <a id="13864" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a> <a id="13866" href="Ledger.Utxo.html#3350" class="Datatype Operator">⇀⦇</a> <a id="13869" href="Ledger.Utxo.Properties.html#13726" class="Bound">tx</a> <a id="13872" href="Ledger.Utxo.html#3350" class="Datatype Operator">,UTXO⦈</a>
               <a id="13894" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="13896" href="Ledger.Utxo.Properties.html#13621" class="Bound">utxo&#39;</a> <a id="13902" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13904" href="Ledger.Utxo.Properties.html#13643" class="Bound">fees&#39;</a> <a id="13910" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13912" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="13922" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13924" href="Ledger.Utxo.Properties.html#13704" class="Bound">donations&#39;</a> <a id="13935" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a><a id="13936" class="Symbol">)</a>
  <a id="13940" class="Symbol">(</a><a id="13941" href="Ledger.Utxo.Properties.html#13941" class="Bound">h&#39;</a> <a id="13944" class="Symbol">:</a> <a id="13946" href="Ledger.Transaction.html#3218" class="Function">txid</a> <a id="13951" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="13953" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="13958" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13964" class="Symbol">(</a><a id="13965" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13969" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a><a id="13973" class="Symbol">))</a>
  <a id="13978" class="Keyword">where</a>
  <a id="13986" class="Keyword">open</a> <a id="13991" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="14030" class="Symbol">{</a><a id="14031" class="Argument">A</a> <a id="14033" class="Symbol">=</a> <a id="14035" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="14036" class="Symbol">}</a> <a id="14038" class="Symbol">(</a><a id="14039" href="stdlib-meta.Tactic.MonoidSolver.NonNormalising.html#574" class="Function">solve-macro</a> <a id="14051" class="Symbol">(</a><a id="14052" class="Keyword">quoteTerm</a> <a id="14062" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="14072" class="Symbol">))</a>

  <a id="14078" class="Keyword">private</a>
    <a id="14090" href="Ledger.Utxo.Properties.html#14090" class="Function">stepS</a> <a id="14096" class="Symbol">:</a> <a id="14098" href="Ledger.Utxo.Properties.html#13795" class="Bound">Γ</a> <a id="14100" href="Ledger.Utxo.html#12889" class="Datatype Operator">⊢</a> <a id="14102" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="14104" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a>  <a id="14110" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14112" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a>  <a id="14118" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14120" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a>  <a id="14130" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14132" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a>  <a id="14143" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a> <a id="14145" href="Ledger.Utxo.html#12889" class="Datatype Operator">⇀⦇</a> <a id="14148" href="Ledger.Utxo.Properties.html#13726" class="Bound">tx</a> <a id="14151" href="Ledger.Utxo.html#12889" class="Datatype Operator">,UTXOS⦈</a>
                <a id="14175" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="14177" href="Ledger.Utxo.Properties.html#13621" class="Bound">utxo&#39;</a> <a id="14183" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14185" href="Ledger.Utxo.Properties.html#13643" class="Bound">fees&#39;</a> <a id="14191" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14193" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="14203" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14205" href="Ledger.Utxo.Properties.html#13704" class="Bound">donations&#39;</a> <a id="14216" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>
    <a id="14222" href="Ledger.Utxo.Properties.html#14090" class="Function">stepS</a> <a id="14228" class="Symbol">=</a> <a id="14230" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="14235" href="Ledger.Utxo.Properties.html#13811" class="Bound">step</a> <a id="14240" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="14243" class="Symbol">λ</a> <a id="14245" class="Keyword">where</a>
      <a id="14257" class="Symbol">(</a><a id="14258" href="Ledger.Utxo.html#15387" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="14274" class="Symbol">_</a> <a id="14276" class="Symbol">_</a> <a id="14278" class="Symbol">_</a> <a id="14280" class="Symbol">_</a> <a id="14282" class="Symbol">_</a> <a id="14284" class="Symbol">_</a> <a id="14286" class="Symbol">_</a> <a id="14288" class="Symbol">_</a> <a id="14290" class="Symbol">_</a> <a id="14292" class="Symbol">_</a> <a id="14294" class="Symbol">_</a> <a id="14296" class="Symbol">_</a> <a id="14298" class="Symbol">_</a> <a id="14300" class="Symbol">_</a> <a id="14302" class="Symbol">_</a> <a id="14304" class="Symbol">_</a> <a id="14306" class="Symbol">_</a> <a id="14308" class="Symbol">_</a> <a id="14310" class="Symbol">_</a> <a id="14312" href="Ledger.Utxo.Properties.html#14312" class="Bound">h</a><a id="14313" class="Symbol">)</a> <a id="14315" class="Symbol">→</a> <a id="14317" href="Ledger.Utxo.Properties.html#14312" class="Bound">h</a>

    <a id="14324" href="Ledger.Utxo.Properties.html#14324" class="Function">pp</a> <a id="14327" class="Symbol">:</a> <a id="14329" href="Ledger.PParams.html#1570" class="Record">PParams</a>
    <a id="14341" href="Ledger.Utxo.Properties.html#14324" class="Function">pp</a> <a id="14344" class="Symbol">=</a> <a id="14346" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="14362" href="Ledger.Utxo.Properties.html#13795" class="Bound">Γ</a>
    <a id="14368" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="14372" class="Symbol">:</a> <a id="14374" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14383" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="14387" class="Symbol">=</a> <a id="14389" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14397" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a>
    <a id="14410" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="14415" class="Symbol">:</a> <a id="14417" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14426" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="14431" class="Symbol">=</a> <a id="14433" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14441" class="Symbol">(</a><a id="14442" href="Ledger.Utxo.html#9297" class="Function">updateDeposits</a> <a id="14457" href="Ledger.Utxo.Properties.html#14324" class="Function">pp</a> <a id="14460" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a> <a id="14464" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a><a id="14472" class="Symbol">)</a>
    <a id="14478" href="Ledger.Utxo.Properties.html#14478" class="Function">Δdep</a> <a id="14483" class="Symbol">:</a> <a id="14485" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
    <a id="14491" href="Ledger.Utxo.Properties.html#14478" class="Function">Δdep</a> <a id="14496" class="Symbol">=</a> <a id="14498" href="Ledger.Utxo.html#9704" class="Function">depositsChange</a> <a id="14513" href="Ledger.Utxo.Properties.html#14324" class="Function">pp</a> <a id="14516" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a> <a id="14520" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a>
    <a id="14533" href="Ledger.Utxo.Properties.html#14533" class="Function">utxoSt</a> <a id="14540" class="Symbol">:</a> <a id="14542" href="Ledger.Utxo.html#2705" class="Record">UTxOState</a>
    <a id="14556" href="Ledger.Utxo.Properties.html#14533" class="Function">utxoSt</a> <a id="14563" class="Symbol">=</a> <a id="14565" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="14567" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="14572" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14574" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="14579" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14581" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a> <a id="14590" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14592" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="14602" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>
    <a id="14608" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="14612" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="14616" class="Symbol">:</a> <a id="14618" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14627" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="14631" class="Symbol">=</a> <a id="14633" href="Ledger.Utxo.html#12032" class="Function">depositRefunds</a> <a id="14648" href="Ledger.Utxo.Properties.html#14324" class="Function">pp</a> <a id="14651" href="Ledger.Utxo.Properties.html#14533" class="Function">utxoSt</a> <a id="14658" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a>
    <a id="14666" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="14671" class="Symbol">=</a> <a id="14673" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14681" href="Ledger.Transaction.html#2918" class="Function">txwdrls</a>
    <a id="14693" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="14697" class="Symbol">=</a> <a id="14699" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a>    <a id="14714" href="Ledger.Utxo.Properties.html#14324" class="Function">pp</a> <a id="14717" href="Ledger.Utxo.Properties.html#14533" class="Function">utxoSt</a> <a id="14724" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a>
    <a id="14732" href="Ledger.Utxo.Properties.html#14732" class="Function">h</a> <a id="14734" class="Symbol">:</a> <a id="14736" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="14745" class="Symbol">(</a><a id="14746" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14750" class="Symbol">(</a><a id="14751" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="14756" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="14758" href="Ledger.Transaction.html#2686" class="Function">txins</a> <a id="14764" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="14765" class="Symbol">))</a> <a id="14768" class="Symbol">(</a><a id="14769" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14773" class="Symbol">(</a><a id="14774" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="14779" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a><a id="14782" class="Symbol">))</a>
    <a id="14789" href="Ledger.Utxo.Properties.html#14732" class="Function">h</a> <a id="14791" class="Symbol">=</a> <a id="14793" class="Symbol">λ</a> <a id="14795" href="Ledger.Utxo.Properties.html#14795" class="Bound">h₁</a> <a id="14798" href="Ledger.Utxo.Properties.html#14798" class="Bound">h₂</a> <a id="14801" class="Symbol">→</a> <a id="14803" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="14807" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14809" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="14815" class="Symbol">(</a><a id="14816" href="Ledger.Utxo.Properties.html#9252" class="Function">newTxid⇒disj</a> <a id="14829" class="Symbol">{</a><a id="14830" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a><a id="14833" class="Symbol">}</a> <a id="14835" class="Symbol">{</a><a id="14836" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a><a id="14840" class="Symbol">}</a> <a id="14842" href="Ledger.Utxo.Properties.html#13941" class="Bound">h&#39;</a><a id="14844" class="Symbol">)</a>
                      <a id="14868" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14870" href="Function.Bundles.html#4810" class="Field">to</a> <a id="14873" href="Axiom.Set.html#9351" class="Function">∈-∩</a> <a id="14877" class="Symbol">(</a><a id="14878" href="Axiom.Set.Rel.html#7214" class="Function">res-comp-domᵐ</a> <a id="14892" href="Ledger.Utxo.Properties.html#14795" class="Bound">h₁</a> <a id="14895" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14897" href="Ledger.Utxo.Properties.html#14798" class="Bound">h₂</a><a id="14899" class="Symbol">)</a>
    <a id="14905" href="Ledger.Utxo.Properties.html#14905" class="Function">newBal&#39;</a> <a id="14913" class="Symbol">:</a> <a id="14915" href="Ledger.Utxo.Properties.html#13795" class="Bound">Γ</a> <a id="14917" href="Ledger.Utxo.html#3350" class="Datatype Operator">⊢</a> <a id="14919" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="14921" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a>  <a id="14927" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14929" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a>  <a id="14935" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14937" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a>  <a id="14947" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14949" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a>  <a id="14960" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a> <a id="14962" href="Ledger.Utxo.html#3350" class="Datatype Operator">⇀⦇</a> <a id="14965" href="Ledger.Utxo.Properties.html#13726" class="Bound">tx</a> <a id="14968" href="Ledger.Utxo.html#3350" class="Datatype Operator">,UTXO⦈</a>
                  <a id="14993" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="14995" href="Ledger.Utxo.Properties.html#13621" class="Bound">utxo&#39;</a> <a id="15001" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15003" href="Ledger.Utxo.Properties.html#13643" class="Bound">fees&#39;</a> <a id="15009" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15011" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="15021" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15023" href="Ledger.Utxo.Properties.html#13704" class="Bound">donations&#39;</a> <a id="15034" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>
            <a id="15048" class="Symbol">→</a> <a id="15050" href="Ledger.Utxo.html#12290" class="Function">consumed</a> <a id="15059" href="Ledger.Utxo.Properties.html#14324" class="Function">pp</a> <a id="15062" href="Ledger.Utxo.Properties.html#14533" class="Function">utxoSt</a> <a id="15069" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a> <a id="15073" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15075" href="Ledger.Utxo.html#12498" class="Function">produced</a> <a id="15084" href="Ledger.Utxo.Properties.html#14324" class="Function">pp</a> <a id="15087" href="Ledger.Utxo.Properties.html#14533" class="Function">utxoSt</a> <a id="15094" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a>
    <a id="15102" href="Ledger.Utxo.Properties.html#14905" class="Function">newBal&#39;</a> <a id="15110" class="Symbol">(</a><a id="15111" href="Ledger.Utxo.html#15387" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="15127" class="Symbol">_</a> <a id="15129" class="Symbol">_</a> <a id="15131" class="Symbol">_</a> <a id="15133" class="Symbol">_</a> <a id="15135" class="Symbol">_</a> <a id="15137" class="Symbol">_</a> <a id="15139" class="Symbol">_</a> <a id="15141" class="Symbol">_</a> <a id="15143" href="Ledger.Utxo.Properties.html#15143" class="Bound">x</a> <a id="15145" class="Symbol">_</a> <a id="15147" class="Symbol">_</a> <a id="15149" class="Symbol">_</a> <a id="15151" class="Symbol">_</a> <a id="15153" class="Symbol">_</a> <a id="15155" class="Symbol">_</a> <a id="15157" class="Symbol">_</a> <a id="15159" class="Symbol">_</a> <a id="15161" class="Symbol">_</a> <a id="15163" class="Symbol">_</a> <a id="15165" class="Symbol">_)</a> <a id="15168" class="Symbol">=</a> <a id="15170" href="Ledger.Utxo.Properties.html#15143" class="Bound">x</a>
    <a id="15176" href="Ledger.Utxo.Properties.html#15176" class="Function">newBal</a> <a id="15183" class="Symbol">:</a> <a id="15185" href="Ledger.Utxo.html#12290" class="Function">consumed</a> <a id="15194" href="Ledger.Utxo.Properties.html#14324" class="Function">pp</a> <a id="15197" href="Ledger.Utxo.Properties.html#14533" class="Function">utxoSt</a> <a id="15204" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a> <a id="15208" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15210" href="Ledger.Utxo.html#12498" class="Function">produced</a> <a id="15219" href="Ledger.Utxo.Properties.html#14324" class="Function">pp</a> <a id="15222" href="Ledger.Utxo.Properties.html#14533" class="Function">utxoSt</a> <a id="15229" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a>
    <a id="15237" href="Ledger.Utxo.Properties.html#15176" class="Function">newBal</a> <a id="15244" class="Symbol">=</a> <a id="15246" href="Ledger.Utxo.Properties.html#14905" class="Function">newBal&#39;</a> <a id="15254" href="Ledger.Utxo.Properties.html#13811" class="Bound">step</a>
    <a id="15263" href="Ledger.Utxo.Properties.html#15263" class="Function">noMintAda&#39;</a> <a id="15274" class="Symbol">:</a> <a id="15276" href="Ledger.Utxo.Properties.html#13795" class="Bound">Γ</a> <a id="15278" href="Ledger.Utxo.html#3350" class="Datatype Operator">⊢</a> <a id="15280" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="15282" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a>  <a id="15288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15290" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a>  <a id="15296" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15298" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a>  <a id="15308" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15310" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a>  <a id="15321" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a> <a id="15323" href="Ledger.Utxo.html#3350" class="Datatype Operator">⇀⦇</a> <a id="15326" href="Ledger.Utxo.Properties.html#13726" class="Bound">tx</a> <a id="15329" href="Ledger.Utxo.html#3350" class="Datatype Operator">,UTXO⦈</a>
                     <a id="15357" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="15359" href="Ledger.Utxo.Properties.html#13621" class="Bound">utxo&#39;</a> <a id="15365" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15367" href="Ledger.Utxo.Properties.html#13643" class="Bound">fees&#39;</a> <a id="15373" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15375" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="15385" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15387" href="Ledger.Utxo.Properties.html#13704" class="Bound">donations&#39;</a> <a id="15398" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>
               <a id="15415" class="Symbol">→</a> <a id="15417" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="15422" class="Symbol">(</a><a id="15423" href="Ledger.Transaction.html#2808" class="Function">mint</a><a id="15427" class="Symbol">)</a> <a id="15429" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15431" class="Number">0</a>
    <a id="15437" href="Ledger.Utxo.Properties.html#15263" class="Function">noMintAda&#39;</a> <a id="15448" class="Symbol">(</a><a id="15449" href="Ledger.Utxo.html#15387" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="15465" class="Symbol">_</a> <a id="15467" class="Symbol">_</a> <a id="15469" class="Symbol">_</a> <a id="15471" class="Symbol">_</a> <a id="15473" class="Symbol">_</a> <a id="15475" class="Symbol">_</a> <a id="15477" class="Symbol">_</a> <a id="15479" class="Symbol">_</a> <a id="15481" class="Symbol">_</a> <a id="15483" href="Ledger.Utxo.Properties.html#15483" class="Bound">x</a> <a id="15485" class="Symbol">_</a> <a id="15487" class="Symbol">_</a> <a id="15489" class="Symbol">_</a> <a id="15491" class="Symbol">_</a> <a id="15493" class="Symbol">_</a> <a id="15495" class="Symbol">_</a> <a id="15497" class="Symbol">_</a> <a id="15499" class="Symbol">_</a> <a id="15501" class="Symbol">_</a> <a id="15503" class="Symbol">_)</a> <a id="15506" class="Symbol">=</a> <a id="15508" href="Ledger.Utxo.Properties.html#15483" class="Bound">x</a>
    <a id="15514" href="Ledger.Utxo.Properties.html#15514" class="Function">noMintAda</a> <a id="15524" class="Symbol">:</a> <a id="15526" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="15531" href="Ledger.Transaction.html#2808" class="Function">mint</a> <a id="15536" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15538" class="Number">0</a>
    <a id="15544" href="Ledger.Utxo.Properties.html#15514" class="Function">noMintAda</a> <a id="15554" class="Symbol">=</a> <a id="15556" href="Ledger.Utxo.Properties.html#15263" class="Function">noMintAda&#39;</a> <a id="15567" href="Ledger.Utxo.Properties.html#13811" class="Bound">step</a>
    <a id="15576" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="15586" class="Symbol">:</a> <a id="15588" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="15597" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="15607" class="Symbol">=</a> <a id="15609" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="15617" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a> <a id="15626" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15628" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a>

  <a id="15635" href="Ledger.Utxo.Properties.html#15635" class="Function">deposits-change&#39;</a> <a id="15652" class="Symbol">:</a> <a id="15654" href="Ledger.Utxo.Properties.html#14478" class="Function">Δdep</a> <a id="15659" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15661" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="15665" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15667" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a>
  <a id="15673" href="Ledger.Utxo.Properties.html#15635" class="Function">deposits-change&#39;</a> <a id="15690" class="Symbol">=</a> <a id="15692" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="15696" href="Ledger.Utxo.Properties.html#13418" class="Function">posPart-negPart≡x</a>

  <a id="15717" href="Ledger.Utxo.Properties.html#15717" class="Function">dep-ref</a> <a id="15725" class="Symbol">:</a> <a id="15727" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="15731" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15733" class="Number">0</a> <a id="15735" class="Symbol">→</a> <a id="15737" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="15742" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15744" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="15748" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15750" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a>
  <a id="15756" href="Ledger.Utxo.Properties.html#15717" class="Function">dep-ref</a> <a id="15764" href="Ledger.Utxo.Properties.html#15764" class="Bound">tot≡0</a> <a id="15770" class="Symbol">=</a> <a id="15772" href="Data.Integer.Properties.html#2689" class="Function">ℤ.+-injective</a> <a id="15786" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15788" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="15798" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15803" class="Symbol">(</a><a id="15804" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="15809" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15811" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a><a id="15814" class="Symbol">)</a>          <a id="15825" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15828" href="Data.Integer.Properties.html#32743" class="Function">ℤ.pos-+</a> <a id="15836" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="15841" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="15845" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="15851" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15856" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="15861" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15865" class="Symbol">(</a><a id="15866" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="15870" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15872" class="Number">0</a><a id="15873" class="Symbol">)</a>    <a id="15878" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="15882" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15887" class="Symbol">(λ</a> <a id="15890" href="Ledger.Utxo.Properties.html#15890" class="Bound">u</a> <a id="15892" class="Symbol">→</a> <a id="15894" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15899" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="15904" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15908" class="Symbol">(</a><a id="15909" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="15913" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15915" href="Ledger.Utxo.Properties.html#15890" class="Bound">u</a><a id="15916" class="Symbol">))</a> <a id="15919" href="Ledger.Utxo.Properties.html#15764" class="Bound">tot≡0</a> <a id="15925" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="15931" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15936" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="15941" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15945" class="Symbol">(</a><a id="15946" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="15950" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15952" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a><a id="15955" class="Symbol">)</a>  <a id="15958" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15961" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15966" class="Symbol">((</a><a id="15968" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="15972" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a><a id="15976" class="Symbol">)</a> <a id="15978" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="15980" class="Symbol">)</a> <a id="15982" class="Symbol">(</a><a id="15983" href="Data.Integer.Properties.html#19768" class="Function">ℤ.⊖-swap</a> <a id="15992" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="15996" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a><a id="15999" class="Symbol">)</a> <a id="16001" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16007" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16012" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16017" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="16021" class="Symbol">(</a><a id="16022" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="16026" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16028" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a><a id="16031" class="Symbol">)</a>  <a id="16034" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16038" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16043" class="Symbol">(λ</a> <a id="16046" href="Ledger.Utxo.Properties.html#16046" class="Bound">u</a> <a id="16048" class="Symbol">→</a>  <a id="16051" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16056" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16061" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="16065" href="Ledger.Utxo.Properties.html#16046" class="Bound">u</a><a id="16066" class="Symbol">)</a> <a id="16068" href="Ledger.Utxo.Properties.html#15635" class="Function">deposits-change&#39;</a> <a id="16085" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16091" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16096" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16101" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="16105" href="Ledger.Utxo.Properties.html#14478" class="Function">Δdep</a>         <a id="16118" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16122" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16127" class="Symbol">((</a><a id="16129" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="16133" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a><a id="16137" class="Symbol">)</a> <a id="16139" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="16141" class="Symbol">)</a> <a id="16143" class="Symbol">(</a><a id="16144" href="Data.Integer.Properties.html#19768" class="Function">ℤ.⊖-swap</a> <a id="16153" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="16157" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a><a id="16161" class="Symbol">)</a> <a id="16163" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16169" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16174" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16179" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16181" class="Symbol">(</a><a id="16182" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="16186" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16188" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a><a id="16192" class="Symbol">)</a>   <a id="16196" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16199" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="16218" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16223" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="16227" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16232" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16238" class="Symbol">(</a><a id="16239" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16244" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16246" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="16249" class="Symbol">)</a> <a id="16251" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16253" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a>        <a id="16265" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16268" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16273" class="Symbol">(</a><a id="16274" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="16277" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a><a id="16281" class="Symbol">)</a> <a id="16283" class="Symbol">(</a><a id="16284" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="16291" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16296" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="16299" class="Symbol">)</a> <a id="16301" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16307" class="Symbol">(</a><a id="16308" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="16312" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16314" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a><a id="16318" class="Symbol">)</a> <a id="16320" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16322" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a>        <a id="16334" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16338" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="16357" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="16361" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16366" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16371" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16377" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16382" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="16386" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16390" class="Symbol">(</a><a id="16391" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16396" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16398" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a><a id="16402" class="Symbol">)</a> <a id="16404" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16407" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16412" class="Symbol">(λ</a> <a id="16415" href="Ledger.Utxo.Properties.html#16415" class="Bound">u</a> <a id="16417" class="Symbol">→</a> <a id="16419" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16424" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="16428" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16432" href="Ledger.Utxo.Properties.html#16415" class="Bound">u</a><a id="16433" class="Symbol">)</a> <a id="16435" class="Symbol">(</a><a id="16436" href="Data.Integer.Properties.html#19485" class="Function">ℤ.n⊖n≡0</a> <a id="16444" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a><a id="16448" class="Symbol">)</a> <a id="16450" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16456" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16461" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="16465" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16469" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>          <a id="16483" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16486" href="Data.Integer.Properties.html#26987" class="Function">ℤ.+-identityʳ</a> <a id="16500" class="Symbol">_</a> <a id="16502" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16508" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16513" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="16517" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="16522" href="Ledger.Utxo.Properties.html#16522" class="Function">ref-tot-0</a> <a id="16532" class="Symbol">:</a> <a id="16534" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="16538" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="16540" class="Number">0</a> <a id="16542" class="Symbol">→</a> <a id="16544" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="16548" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16550" class="Number">0</a>
  <a id="16554" href="Ledger.Utxo.Properties.html#16522" class="Function">ref-tot-0</a> <a id="16564" href="Ledger.Utxo.Properties.html#16564" class="Bound">ref≢0</a> <a id="16570" class="Keyword">with</a> <a id="16575" href="Ledger.Utxo.Properties.html#14478" class="Function">Δdep</a>
  <a id="16582" class="Symbol">...</a> <a id="16586" class="Symbol">|</a> <a id="16588" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16593" href="Ledger.Utxo.Properties.html#16593" class="Bound">n</a>     <a id="16599" class="Symbol">=</a> <a id="16601" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="16608" class="Symbol">(</a><a id="16609" class="Bound">ref≢0</a> <a id="16615" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="16619" class="Symbol">)</a>
  <a id="16623" class="Symbol">...</a> <a id="16627" class="Symbol">|</a> <a id="16629" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="16638" href="Ledger.Utxo.Properties.html#16638" class="Bound">n</a> <a id="16640" class="Symbol">=</a> <a id="16642" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="16650" href="Ledger.Utxo.Properties.html#16650" class="Function">ref≤dep</a> <a id="16658" class="Symbol">:</a> <a id="16660" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="16664" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="16666" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a>
  <a id="16672" href="Ledger.Utxo.Properties.html#16650" class="Function">ref≤dep</a> <a id="16680" class="Keyword">with</a> <a id="16685" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="16689" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="16691" class="Number">0</a>
  <a id="16695" href="Ledger.Utxo.Properties.html#16650" class="Function">...</a> <a id="16699" class="Symbol">|</a> <a id="16701" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="16704" href="Ledger.Utxo.Properties.html#16704" class="Bound">¬p</a> <a id="16707" class="Symbol">=</a> <a id="16709" href="Data.Nat.Properties.html#66499" class="Function">≤″⇒≤</a> <a id="16714" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16716" class="Symbol">_</a> <a id="16718" href="Ledger.Utxo.Properties.html#1464" class="InductiveConstructor Operator">,≤_</a> <a id="16722" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16724" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16734" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="16738" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16740" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16745" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16748" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="16755" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="16759" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16764" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16770" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16775" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16777" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="16781" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16784" href="Ledger.Utxo.Properties.html#15717" class="Function">dep-ref</a> <a id="16792" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16794" href="Ledger.Utxo.Properties.html#16522" class="Function">ref-tot-0</a> <a id="16804" href="Ledger.Utxo.Properties.html#16704" class="Bound">¬p</a> <a id="16807" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16813" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a>        <a id="16824" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="16828" href="Ledger.Utxo.Properties.html#16650" class="Function">...</a> <a id="16832" class="Symbol">|</a> <a id="16834" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="16838" href="Ledger.Utxo.Properties.html#16838" class="Bound">p</a> <a id="16840" class="Keyword">rewrite</a> <a id="16848" href="Ledger.Utxo.Properties.html#16838" class="Bound">p</a> <a id="16850" class="Symbol">=</a> <a id="16852" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a>

  <a id="16859" href="Ledger.Utxo.Properties.html#16859" class="Function">deposits-change</a> <a id="16875" class="Symbol">:</a> <a id="16877" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="16882" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16884" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="16888" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16890" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="16894" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16896" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a>
  <a id="16902" href="Ledger.Utxo.Properties.html#16859" class="Function">deposits-change</a> <a id="16918" class="Symbol">=</a> <a id="16920" href="Data.Integer.Properties.html#2689" class="Function">ℤ.+-injective</a> <a id="16934" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16936" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16946" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16951" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a>                                 <a id="16988" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16992" href="Data.Integer.Properties.html#26987" class="Function">ℤ.+-identityʳ</a> <a id="17006" class="Symbol">_</a> <a id="17008" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="17014" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17019" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="17024" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17028" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>                        <a id="17056" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17060" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17066" class="Symbol">(</a><a id="17067" href="Data.Integer.Properties.html#30664" class="Function">ℤ.+-inverseˡ</a> <a id="17080" class="Symbol">(</a><a id="17081" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17086" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="17089" class="Symbol">))</a> <a id="17092" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="17098" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17103" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="17108" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17112" class="Symbol">(</a><a id="17113" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="17118" class="Symbol">(</a><a id="17119" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17124" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="17127" class="Symbol">)</a> <a id="17129" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17133" class="Symbol">(</a><a id="17134" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17139" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="17142" class="Symbol">))</a>
      <a id="17151" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17155" href="Data.Integer.Properties.html#28651" class="Function">ℤ.+-assoc</a> <a id="17165" class="Symbol">(</a><a id="17166" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17171" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a><a id="17175" class="Symbol">)</a> <a id="17177" class="Symbol">(</a><a id="17178" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="17183" class="Symbol">(</a><a id="17184" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17189" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="17192" class="Symbol">))</a> <a id="17195" class="Symbol">(</a><a id="17196" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17201" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="17204" class="Symbol">)</a> <a id="17206" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="17212" class="Symbol">(</a><a id="17213" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17218" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="17223" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="17227" class="Symbol">(</a><a id="17228" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17233" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="17236" class="Symbol">))</a> <a id="17239" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17243" class="Symbol">(</a><a id="17244" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17249" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="17252" class="Symbol">)</a> <a id="17254" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17257" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17263" class="Symbol">(</a><a id="17264" href="Data.Integer.Properties.html#21429" class="Function">ℤ.m-n≡m⊖n</a> <a id="17274" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a> <a id="17279" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="17282" class="Symbol">)</a> <a id="17284" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17290" href="Ledger.Utxo.Properties.html#14478" class="Function">Δdep</a> <a id="17295" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17299" class="Symbol">(</a><a id="17300" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17305" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="17308" class="Symbol">)</a>                       <a id="17332" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17335" href="Data.Integer.Properties.html#26694" class="Function">ℤ.+-comm</a> <a id="17344" href="Ledger.Utxo.Properties.html#14478" class="Function">Δdep</a> <a id="17349" class="Symbol">(</a><a id="17350" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17355" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="17358" class="Symbol">)</a> <a id="17360" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17366" class="Symbol">(</a><a id="17367" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17372" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="17375" class="Symbol">)</a> <a id="17377" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17381" href="Ledger.Utxo.Properties.html#14478" class="Function">Δdep</a>                       <a id="17408" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17411" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17417" href="Ledger.Utxo.Properties.html#15635" class="Function">deposits-change&#39;</a> <a id="17434" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17440" class="Symbol">(</a><a id="17441" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17446" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="17449" class="Symbol">)</a> <a id="17451" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17455" class="Symbol">(</a><a id="17456" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="17460" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17462" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a><a id="17465" class="Symbol">)</a>                <a id="17482" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17485" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="17504" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="17508" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="17512" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="17516" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17522" class="Symbol">(</a><a id="17523" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="17527" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17529" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a><a id="17532" class="Symbol">)</a> <a id="17534" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17536" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a>                         <a id="17564" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17567" href="Data.Integer.Properties.html#20106" class="Function">ℤ.⊖-≥</a> <a id="17573" class="Symbol">(</a><a id="17574" href="Data.Nat.Properties.html#19075" class="Function">m≤n⇒m≤n+o</a> <a id="17584" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="17588" href="Ledger.Utxo.Properties.html#16650" class="Function">ref≤dep</a><a id="17595" class="Symbol">)</a> <a id="17597" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17603" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17608" class="Symbol">(</a><a id="17609" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="17613" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17615" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="17619" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17621" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a><a id="17624" class="Symbol">)</a> <a id="17626" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="17631" href="Ledger.Utxo.Properties.html#17631" class="Function">split-balance</a> <a id="17645" class="Symbol">:</a> <a id="17647" class="Symbol">∀</a> <a id="17649" href="Ledger.Utxo.Properties.html#17649" class="Bound">keys</a> <a id="17654" class="Symbol">→</a> <a id="17656" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="17665" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="17670" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="17672" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="17681" class="Symbol">(</a><a id="17682" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="17687" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17689" href="Ledger.Utxo.Properties.html#17649" class="Bound">keys</a> <a id="17694" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17695" class="Symbol">)</a> <a id="17697" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17699" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="17708" class="Symbol">(</a><a id="17709" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="17714" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17716" href="Ledger.Utxo.Properties.html#17649" class="Bound">keys</a><a id="17720" class="Symbol">)</a>
  <a id="17724" href="Ledger.Utxo.Properties.html#17631" class="Function">split-balance</a> <a id="17738" href="Ledger.Utxo.Properties.html#17738" class="Bound">keys</a> <a id="17743" class="Symbol">=</a> <a id="17745" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
                      <a id="17773" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="17782" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a>
                        <a id="17811" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17815" href="Ledger.Utxo.Properties.html#7885" class="Function">balance-cong-coin</a> <a id="17833" class="Symbol">{</a><a id="17834" class="Argument">utxo</a> <a id="17839" class="Symbol">=</a> <a id="17841" class="Symbol">(</a><a id="17842" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="17847" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17849" href="Ledger.Utxo.Properties.html#17738" class="Bound">keys</a> <a id="17854" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17855" class="Symbol">)</a> <a id="17857" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="17860" class="Symbol">(</a><a id="17861" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="17866" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17868" href="Ledger.Utxo.Properties.html#17738" class="Bound">keys</a><a id="17872" class="Symbol">)}{</a><a id="17875" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a><a id="17879" class="Symbol">}</a>
                          <a id="17907" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17909" href="Axiom.Set.Map.html#6492" class="Function">disjoint-∪ˡ-∪</a> <a id="17923" class="Symbol">(</a><a id="17924" href="Axiom.Set.Properties.html#13237" class="Function">disjoint-sym</a> <a id="17937" href="Axiom.Set.Rel.html#8146" class="Function">res-ex-disjoint</a><a id="17952" class="Symbol">)</a>
                          <a id="17980" href="Ledger.Utxo.Properties.html#18374" class="Function Operator">≡ᵉ-∘</a> <a id="17985" href="Axiom.Set.Properties.html#10950" class="Function">∪-sym</a>
                          <a id="18017" href="Ledger.Utxo.Properties.html#18374" class="Function Operator">≡ᵉ-∘</a> <a id="18022" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="18031" class="Symbol">(</a><a id="18032" href="Axiom.Set.html#10771" class="Function Operator">_∈?</a> <a id="18036" href="Ledger.Utxo.Properties.html#17738" class="Bound">keys</a><a id="18040" class="Symbol">)</a> <a id="18042" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                      <a id="18066" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="18075" class="Symbol">((</a><a id="18077" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="18082" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18084" href="Ledger.Utxo.Properties.html#17738" class="Bound">keys</a> <a id="18089" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18090" class="Symbol">)</a> <a id="18092" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="18095" class="Symbol">(</a><a id="18096" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="18101" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="18103" href="Ledger.Utxo.Properties.html#17738" class="Bound">keys</a><a id="18107" class="Symbol">))</a>
                        <a id="18134" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="18137" href="Ledger.Utxo.Properties.html#8124" class="Function">balance-∪</a> <a id="18147" class="Symbol">{</a><a id="18148" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="18153" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18155" href="Ledger.Utxo.Properties.html#17738" class="Bound">keys</a> <a id="18160" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18161" class="Symbol">}</a> <a id="18163" class="Symbol">{</a><a id="18164" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="18169" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="18171" href="Ledger.Utxo.Properties.html#17738" class="Bound">keys</a><a id="18175" class="Symbol">}</a> <a id="18177" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="18179" href="Function.Base.html#1638" class="Function">flip</a> <a id="18184" href="Axiom.Set.Rel.html#8146" class="Function">res-ex-disjoint</a> <a id="18200" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                      <a id="18224" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="18233" class="Symbol">(</a><a id="18234" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="18239" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18241" href="Ledger.Utxo.Properties.html#17738" class="Bound">keys</a> <a id="18246" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18247" class="Symbol">)</a> <a id="18249" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18251" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="18260" class="Symbol">(</a><a id="18261" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="18266" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="18268" href="Ledger.Utxo.Properties.html#17738" class="Bound">keys</a><a id="18272" class="Symbol">)</a>
                        <a id="18298" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="18304" class="Keyword">where</a> <a id="18310" class="Keyword">open</a> <a id="18315" href="Relation.Binary.Structures.html#1550" class="Module">IsEquivalence</a> <a id="18329" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a> <a id="18346" class="Keyword">renaming</a> <a id="18355" class="Symbol">(</a><a id="18356" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="18362" class="Symbol">to</a> <a id="18365" class="Keyword">infixl</a> <a id="18372" class="Number">4</a> <a id="18374" class="Field">_≡ᵉ-∘_</a><a id="18380" class="Symbol">)</a>

  <a id="18385" class="Keyword">module</a> <a id="18392" href="Ledger.Utxo.Properties.html#18392" class="Module">_</a> <a id="18394" class="Symbol">(</a><a id="18395" href="Ledger.Utxo.Properties.html#18395" class="Bound">balanceUtxo</a> <a id="18407" href="Ledger.Utxo.Properties.html#18407" class="Bound">balanceIns</a> <a id="18418" href="Ledger.Utxo.Properties.html#18418" class="Bound">balanceNoIns</a> <a id="18431" href="Ledger.Utxo.Properties.html#18431" class="Bound">balanceOuts</a> <a id="18443" href="Ledger.Utxo.Properties.html#18443" class="Bound">balanceUtxo&#39;</a> <a id="18456" class="Symbol">:</a> <a id="18458" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="18462" class="Symbol">)</a>
           <a id="18475" class="Symbol">(</a><a id="18476" href="Ledger.Utxo.Properties.html#18476" class="Bound">ref</a> <a id="18480" href="Ledger.Utxo.Properties.html#18480" class="Bound">txfee</a> <a id="18486" href="Ledger.Utxo.Properties.html#18486" class="Bound">txdonation</a> <a id="18497" href="Ledger.Utxo.Properties.html#18497" class="Bound">tot</a> <a id="18501" class="Symbol">:</a> <a id="18503" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="18507" class="Symbol">)</a>
           <a id="18520" class="Symbol">(</a><a id="18521" href="Ledger.Utxo.Properties.html#18521" class="Bound">splitUtxo</a> <a id="18531" class="Symbol">:</a> <a id="18533" href="Ledger.Utxo.Properties.html#18395" class="Bound">balanceUtxo</a> <a id="18545" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18547" href="Ledger.Utxo.Properties.html#18418" class="Bound">balanceNoIns</a> <a id="18560" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18562" href="Ledger.Utxo.Properties.html#18407" class="Bound">balanceIns</a><a id="18572" class="Symbol">)</a>
           <a id="18585" class="Symbol">(</a><a id="18586" href="Ledger.Utxo.Properties.html#18586" class="Bound">splitUtxo&#39;</a> <a id="18597" class="Symbol">:</a> <a id="18599" href="Ledger.Utxo.Properties.html#18443" class="Bound">balanceUtxo&#39;</a> <a id="18612" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18614" href="Ledger.Utxo.Properties.html#18418" class="Bound">balanceNoIns</a> <a id="18627" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18629" href="Ledger.Utxo.Properties.html#18431" class="Bound">balanceOuts</a><a id="18640" class="Symbol">)</a>
           <a id="18653" class="Symbol">(</a><a id="18654" href="Ledger.Utxo.Properties.html#18654" class="Bound">balanced</a> <a id="18663" class="Symbol">:</a> <a id="18665" href="Ledger.Utxo.Properties.html#18407" class="Bound">balanceIns</a> <a id="18676" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18678" href="Ledger.Utxo.Properties.html#18476" class="Bound">ref</a> <a id="18682" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18684" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="18689" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18691" href="Ledger.Utxo.Properties.html#18431" class="Bound">balanceOuts</a> <a id="18703" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18705" href="Ledger.Utxo.Properties.html#18480" class="Bound">txfee</a> <a id="18711" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18713" href="Ledger.Utxo.Properties.html#18497" class="Bound">tot</a> <a id="18717" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18719" href="Ledger.Utxo.Properties.html#18486" class="Bound">txdonation</a><a id="18729" class="Symbol">)</a> <a id="18731" class="Keyword">where</a>

    <a id="18742" href="Ledger.Utxo.Properties.html#18742" class="Function">utxo-ref-prop-worker</a> <a id="18763" class="Symbol">:</a>
      <a id="18771" href="Ledger.Utxo.Properties.html#18395" class="Bound">balanceUtxo</a> <a id="18783" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18785" href="Ledger.Utxo.Properties.html#18476" class="Bound">ref</a> <a id="18789" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18791" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="18796" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18798" href="Ledger.Utxo.Properties.html#18443" class="Bound">balanceUtxo&#39;</a> <a id="18811" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18813" href="Ledger.Utxo.Properties.html#18480" class="Bound">txfee</a> <a id="18819" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18821" href="Ledger.Utxo.Properties.html#18486" class="Bound">txdonation</a> <a id="18832" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18834" href="Ledger.Utxo.Properties.html#18497" class="Bound">tot</a>
    <a id="18842" href="Ledger.Utxo.Properties.html#18742" class="Function">utxo-ref-prop-worker</a> <a id="18863" class="Symbol">=</a> <a id="18865" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="18877" href="Ledger.Utxo.Properties.html#18395" class="Bound">balanceUtxo</a> <a id="18889" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18891" href="Ledger.Utxo.Properties.html#18476" class="Bound">ref</a> <a id="18895" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18897" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a>
        <a id="18910" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="18913" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="18918" class="Symbol">(λ</a> <a id="18921" href="Ledger.Utxo.Properties.html#18921" class="Bound">u</a> <a id="18923" class="Symbol">→</a> <a id="18925" href="Ledger.Utxo.Properties.html#18921" class="Bound">u</a> <a id="18927" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18929" href="Ledger.Utxo.Properties.html#18476" class="Bound">ref</a> <a id="18933" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18935" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="18939" class="Symbol">)</a> <a id="18941" href="Ledger.Utxo.Properties.html#18521" class="Bound">splitUtxo</a> <a id="18951" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="18959" href="Ledger.Utxo.Properties.html#18418" class="Bound">balanceNoIns</a> <a id="18972" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18976" href="Ledger.Utxo.Properties.html#18407" class="Bound">balanceIns</a> <a id="18987" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18991" href="Ledger.Utxo.Properties.html#18476" class="Bound">ref</a> <a id="18995" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18999" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a>
        <a id="19012" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19023" href="Ledger.Utxo.Properties.html#18418" class="Bound">balanceNoIns</a> <a id="19036" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19040" class="Symbol">(</a><a id="19041" href="Ledger.Utxo.Properties.html#18407" class="Bound">balanceIns</a> <a id="19052" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19056" href="Ledger.Utxo.Properties.html#18476" class="Bound">ref</a> <a id="19060" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19064" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="19068" class="Symbol">)</a>
        <a id="19078" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="19081" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19086" class="Symbol">(</a><a id="19087" href="Ledger.Utxo.Properties.html#18418" class="Bound">balanceNoIns</a> <a id="19100" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="19102" class="Symbol">)</a> <a id="19104" href="Ledger.Utxo.Properties.html#18654" class="Bound">balanced</a> <a id="19113" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="19121" href="Ledger.Utxo.Properties.html#18418" class="Bound">balanceNoIns</a> <a id="19134" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19138" class="Symbol">(</a><a id="19139" href="Ledger.Utxo.Properties.html#18431" class="Bound">balanceOuts</a> <a id="19151" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19155" href="Ledger.Utxo.Properties.html#18480" class="Bound">txfee</a> <a id="19161" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19165" href="Ledger.Utxo.Properties.html#18497" class="Bound">tot</a> <a id="19169" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19173" href="Ledger.Utxo.Properties.html#18486" class="Bound">txdonation</a><a id="19183" class="Symbol">)</a>
        <a id="19193" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19204" class="Symbol">(</a><a id="19205" href="Ledger.Utxo.Properties.html#18418" class="Bound">balanceNoIns</a> <a id="19218" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19222" href="Ledger.Utxo.Properties.html#18431" class="Bound">balanceOuts</a> <a id="19234" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19238" href="Ledger.Utxo.Properties.html#18480" class="Bound">txfee</a><a id="19243" class="Symbol">)</a> <a id="19245" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19249" href="Ledger.Utxo.Properties.html#18497" class="Bound">tot</a> <a id="19253" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19257" href="Ledger.Utxo.Properties.html#18486" class="Bound">txdonation</a>
        <a id="19276" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="19280" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19285" class="Symbol">(λ</a> <a id="19288" href="Ledger.Utxo.Properties.html#19288" class="Bound">x</a> <a id="19290" class="Symbol">→</a> <a id="19292" class="Symbol">(</a><a id="19293" href="Ledger.Utxo.Properties.html#19288" class="Bound">x</a> <a id="19295" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19297" href="Ledger.Utxo.Properties.html#18480" class="Bound">txfee</a><a id="19302" class="Symbol">)</a> <a id="19304" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19306" href="Ledger.Utxo.Properties.html#18497" class="Bound">tot</a> <a id="19310" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19312" href="Ledger.Utxo.Properties.html#18486" class="Bound">txdonation</a><a id="19322" class="Symbol">)</a> <a id="19324" href="Ledger.Utxo.Properties.html#18586" class="Bound">splitUtxo&#39;</a> <a id="19335" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="19343" class="Symbol">(</a><a id="19344" href="Ledger.Utxo.Properties.html#18443" class="Bound">balanceUtxo&#39;</a> <a id="19357" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19361" href="Ledger.Utxo.Properties.html#18480" class="Bound">txfee</a><a id="19366" class="Symbol">)</a> <a id="19368" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19372" href="Ledger.Utxo.Properties.html#18497" class="Bound">tot</a> <a id="19376" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19380" href="Ledger.Utxo.Properties.html#18486" class="Bound">txdonation</a>
        <a id="19399" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19410" href="Ledger.Utxo.Properties.html#18443" class="Bound">balanceUtxo&#39;</a> <a id="19423" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19427" href="Ledger.Utxo.Properties.html#18480" class="Bound">txfee</a> <a id="19433" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19437" class="Symbol">(</a><a id="19438" href="Ledger.Utxo.Properties.html#18497" class="Bound">tot</a> <a id="19442" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19446" href="Ledger.Utxo.Properties.html#18486" class="Bound">txdonation</a><a id="19456" class="Symbol">)</a>
        <a id="19466" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="19469" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19474" class="Symbol">(</a><a id="19475" href="Ledger.Utxo.Properties.html#18443" class="Bound">balanceUtxo&#39;</a> <a id="19488" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19490" href="Ledger.Utxo.Properties.html#18480" class="Bound">txfee</a> <a id="19496" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="19498" class="Symbol">)</a> <a id="19500" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="19502" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="19509" href="Ledger.Utxo.Properties.html#18497" class="Bound">tot</a> <a id="19513" href="Ledger.Utxo.Properties.html#18486" class="Bound">txdonation</a> <a id="19524" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="19532" href="Ledger.Utxo.Properties.html#18443" class="Bound">balanceUtxo&#39;</a> <a id="19545" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19549" href="Ledger.Utxo.Properties.html#18480" class="Bound">txfee</a> <a id="19555" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19559" class="Symbol">(</a><a id="19560" href="Ledger.Utxo.Properties.html#18486" class="Bound">txdonation</a> <a id="19571" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19575" href="Ledger.Utxo.Properties.html#18497" class="Bound">tot</a><a id="19578" class="Symbol">)</a>
        <a id="19588" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19599" class="Symbol">(</a><a id="19600" href="Ledger.Utxo.Properties.html#18443" class="Bound">balanceUtxo&#39;</a> <a id="19613" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19617" href="Ledger.Utxo.Properties.html#18480" class="Bound">txfee</a><a id="19622" class="Symbol">)</a> <a id="19624" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19628" href="Ledger.Utxo.Properties.html#18486" class="Bound">txdonation</a> <a id="19639" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19643" href="Ledger.Utxo.Properties.html#18497" class="Bound">tot</a>
        <a id="19655" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="19660" href="Ledger.Utxo.Properties.html#19660" class="Function">utxo-ref-prop</a> <a id="19674" class="Symbol">:</a>
    <a id="19680" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="19689" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="19694" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19696" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="19700" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19702" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="19707" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>
    <a id="19713" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="19722" class="Symbol">((</a><a id="19724" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="19729" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19731" href="Ledger.Transaction.html#2686" class="Function">txins</a> <a id="19737" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19738" class="Symbol">)</a> <a id="19740" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="19743" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="19748" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a><a id="19751" class="Symbol">)</a> <a id="19753" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19755" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="19761" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19763" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="19774" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19776" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a>
  <a id="19782" href="Ledger.Utxo.Properties.html#19660" class="Function">utxo-ref-prop</a> <a id="19796" class="Symbol">=</a> <a id="19798" href="Ledger.Utxo.Properties.html#18742" class="Function">utxo-ref-prop-worker</a>
                    <a id="19839" class="Symbol">(</a><a id="19840" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="19849" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a><a id="19853" class="Symbol">)</a>
                    <a id="19875" class="Symbol">(</a><a id="19876" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="19885" class="Symbol">(</a><a id="19886" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="19891" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="19893" href="Ledger.Transaction.html#2686" class="Function">txins</a><a id="19898" class="Symbol">))</a>
                    <a id="19921" class="Symbol">(</a><a id="19922" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="19931" class="Symbol">(</a><a id="19932" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="19937" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19939" href="Ledger.Transaction.html#2686" class="Function">txins</a> <a id="19945" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19946" class="Symbol">))</a>
                    <a id="19969" class="Symbol">(</a><a id="19970" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="19979" class="Symbol">(</a><a id="19980" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="19985" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a><a id="19988" class="Symbol">))</a>
                    <a id="20011" class="Symbol">(</a><a id="20012" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="20021" class="Symbol">((</a><a id="20023" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="20028" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="20030" href="Ledger.Transaction.html#2686" class="Function">txins</a> <a id="20036" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="20037" class="Symbol">)</a> <a id="20039" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="20042" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="20047" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a><a id="20050" class="Symbol">))</a>
                    <a id="20073" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="20077" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="20083" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="20094" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a>
                    <a id="20118" class="Symbol">(</a><a id="20119" href="Ledger.Utxo.Properties.html#17631" class="Function">split-balance</a> <a id="20133" href="Ledger.Transaction.html#2686" class="Function">txins</a><a id="20138" class="Symbol">)</a>
                    <a id="20160" class="Symbol">(</a><a id="20161" href="Ledger.Utxo.Properties.html#8124" class="Function">balance-∪</a> <a id="20171" class="Symbol">{</a><a id="20172" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="20177" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="20179" href="Ledger.Transaction.html#2686" class="Function">txins</a> <a id="20185" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="20186" class="Symbol">}</a> <a id="20188" class="Symbol">{</a><a id="20189" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="20194" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a><a id="20197" class="Symbol">}</a> <a id="20199" href="Ledger.Utxo.Properties.html#14732" class="Function">h</a><a id="20200" class="Symbol">)</a>
                    <a id="20222" class="Symbol">(</a><a id="20223" href="Ledger.Utxo.Properties.html#12699" class="Function">balValueToCoin</a> <a id="20238" class="Symbol">{</a><a id="20239" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a><a id="20242" class="Symbol">}</a> <a id="20244" class="Symbol">{</a><a id="20245" href="Ledger.Utxo.Properties.html#14533" class="Function">utxoSt</a><a id="20251" class="Symbol">}</a> <a id="20253" class="Symbol">{</a><a id="20254" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="20270" href="Ledger.Utxo.Properties.html#13795" class="Bound">Γ</a><a id="20271" class="Symbol">}</a> <a id="20273" href="Ledger.Utxo.Properties.html#15514" class="Function">noMintAda</a> <a id="20283" href="Ledger.Utxo.Properties.html#15176" class="Function">newBal</a><a id="20289" class="Symbol">)</a>

  <a id="20294" href="Ledger.Utxo.Properties.html#20294" class="Function">rearrange0</a> <a id="20305" class="Symbol">:</a>
      <a id="20313" class="Symbol">(</a><a id="20314" href="Ledger.Utxo.Properties.html#20314" class="Bound">bal</a> <a id="20318" class="Symbol">:</a> <a id="20320" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="20321" class="Symbol">)</a>
    <a id="20327" class="Symbol">→</a> <a id="20329" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="20339" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20341" href="Ledger.Utxo.html#9297" class="Function">updateDeposits</a> <a id="20356" href="Ledger.Utxo.Properties.html#14324" class="Function">pp</a> <a id="20359" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a> <a id="20363" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a>
    <a id="20376" class="Symbol">→</a> <a id="20378" href="Ledger.Utxo.Properties.html#20314" class="Bound">bal</a> <a id="20382" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20384" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="20390" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20392" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="20403" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20405" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="20409" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20411" class="Symbol">(</a><a id="20412" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="20422" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20424" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="20428" class="Symbol">)</a>
    <a id="20434" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20436" href="Ledger.Utxo.Properties.html#20314" class="Bound">bal</a> <a id="20440" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20442" class="Symbol">(</a><a id="20443" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="20448" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20450" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="20456" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20458" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="20466" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="20476" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20478" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="20488" class="Symbol">)</a>
  <a id="20492" href="Ledger.Utxo.Properties.html#20294" class="Function">rearrange0</a> <a id="20503" href="Ledger.Utxo.Properties.html#20503" class="Bound">bal</a> <a id="20507" href="Ledger.Utxo.Properties.html#20507" class="Bound">h</a> <a id="20509" class="Symbol">=</a> <a id="20511" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="20521" href="Ledger.Utxo.Properties.html#20503" class="Bound">bal</a> <a id="20525" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20529" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="20535" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20539" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="20550" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20554" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="20558" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20562" class="Symbol">(</a><a id="20563" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="20573" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20577" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="20581" class="Symbol">)</a>
      <a id="20589" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
    <a id="20598" href="Ledger.Utxo.Properties.html#20503" class="Bound">bal</a> <a id="20602" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20606" class="Symbol">(</a><a id="20607" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="20613" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20617" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="20628" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20632" class="Symbol">(</a><a id="20633" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="20637" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20641" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a><a id="20650" class="Symbol">)</a> <a id="20652" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20656" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="20660" class="Symbol">)</a>
      <a id="20668" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20671" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20676" class="Symbol">(</a><a id="20677" href="Ledger.Utxo.Properties.html#20503" class="Bound">bal</a> <a id="20681" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="20683" class="Symbol">)</a> <a id="20685" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20687" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="20701" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="20707" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20709" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="20720" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20722" class="Symbol">(</a><a id="20723" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="20727" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20729" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a><a id="20738" class="Symbol">)</a> <a id="20740" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20742" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a>
          <a id="20757" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20760" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="20767" class="Symbol">_</a> <a id="20769" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="20774" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="20784" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="20789" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20793" class="Symbol">(</a><a id="20794" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="20800" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20804" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="20815" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20819" class="Symbol">(</a><a id="20820" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="20824" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20828" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a><a id="20837" class="Symbol">))</a>
          <a id="20850" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
        <a id="20863" class="Symbol">(</a><a id="20864" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="20869" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20873" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="20878" class="Symbol">)</a> <a id="20880" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20884" class="Symbol">(</a><a id="20885" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="20896" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20900" class="Symbol">(</a><a id="20901" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="20905" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20909" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a><a id="20918" class="Symbol">))</a>
          <a id="20931" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20934" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20939" class="Symbol">((</a><a id="20941" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="20946" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20948" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="20953" class="Symbol">)</a> <a id="20955" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="20957" class="Symbol">)</a> <a id="20959" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20961" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="20968" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="20979" class="Symbol">(</a><a id="20980" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="20984" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20986" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a><a id="20995" class="Symbol">)</a> <a id="20997" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="21007" class="Symbol">(</a><a id="21008" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="21013" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21015" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="21020" class="Symbol">)</a> <a id="21022" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21026" class="Symbol">((</a><a id="21028" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="21032" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21034" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a><a id="21043" class="Symbol">)</a> <a id="21045" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21049" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="21059" class="Symbol">)</a>
          <a id="21071" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
        <a id="21084" class="Symbol">(</a><a id="21085" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="21090" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21092" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="21097" class="Symbol">)</a> <a id="21099" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21103" class="Symbol">(</a><a id="21104" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="21108" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21110" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a><a id="21119" class="Symbol">)</a> <a id="21121" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="21125" href="Ledger.Transaction.html#3022" class="Function">txdonation</a>
          <a id="21146" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21149" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21154" class="Symbol">(λ</a> <a id="21157" href="Ledger.Utxo.Properties.html#21157" class="Bound">x</a> <a id="21159" class="Symbol">→</a> <a id="21161" class="Symbol">(</a><a id="21162" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="21167" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21169" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="21174" class="Symbol">)</a> <a id="21176" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21178" href="Ledger.Utxo.Properties.html#21157" class="Bound">x</a> <a id="21180" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21182" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="21192" class="Symbol">)</a>
          <a id="21204" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21206" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a> <a id="21212" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="21216" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21218" class="Symbol">(</a><a id="21219" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="21223" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21225" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a><a id="21228" class="Symbol">)</a> <a id="21230" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="21234" href="Data.Nat.Properties.html#50173" class="Function">+-∸-assoc</a> <a id="21244" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="21248" href="Ledger.Utxo.Properties.html#16650" class="Function">ref≤dep</a> <a id="21256" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                  <a id="21276" class="Symbol">(</a><a id="21277" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="21281" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21283" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="21286" class="Symbol">)</a> <a id="21288" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21290" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="21294" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21297" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21302" class="Symbol">(</a><a id="21303" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="21306" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a><a id="21309" class="Symbol">)</a> <a id="21311" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21313" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="21320" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="21324" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="21328" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                  <a id="21348" class="Symbol">(</a><a id="21349" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="21353" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21355" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a><a id="21358" class="Symbol">)</a> <a id="21360" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21362" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="21366" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="21370" href="Ledger.Utxo.Properties.html#16859" class="Function">deposits-change</a> <a id="21386" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                  <a id="21406" href="Ledger.Utxo.Properties.html#14410" class="Function">uDep</a>              <a id="21424" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21427" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21432" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21440" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21442" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="21446" href="Ledger.Utxo.Properties.html#20507" class="Bound">h</a> <a id="21448" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                  <a id="21468" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21476" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="21486" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21488" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="21498" class="Symbol">(</a><a id="21499" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="21504" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21506" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="21511" class="Symbol">)</a> <a id="21513" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21515" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21523" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="21533" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21535" href="Ledger.Transaction.html#3022" class="Function">txdonation</a>
          <a id="21556" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21558" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="21564" href="Ledger.Utxo.Properties.html#20503" class="Bound">bal</a> <a id="21568" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21570" class="Symbol">((</a><a id="21572" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="21577" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21579" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="21584" class="Symbol">)</a> <a id="21586" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21588" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21596" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="21606" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21608" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="21618" class="Symbol">)</a>
      <a id="21626" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="21631" class="Keyword">module</a> <a id="21638" href="Ledger.Utxo.Properties.html#21638" class="Module">_</a> <a id="21640" class="Symbol">(</a><a id="21641" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="21653" href="Ledger.Utxo.Properties.html#21653" class="Bound">balanceUtxo&#39;</a> <a id="21666" class="Symbol">:</a> <a id="21668" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="21672" class="Symbol">)</a>
           <a id="21685" class="Symbol">(</a><a id="21686" href="Ledger.Utxo.Properties.html#21686" class="Bound">ref-prop</a> <a id="21695" class="Symbol">:</a> <a id="21697" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="21709" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21711" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="21715" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21717" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="21722" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21724" href="Ledger.Utxo.Properties.html#21653" class="Bound">balanceUtxo&#39;</a> <a id="21737" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21739" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="21745" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21747" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="21758" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21760" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a><a id="21763" class="Symbol">)</a>
           <a id="21776" class="Symbol">(</a><a id="21777" href="Ledger.Utxo.Properties.html#21777" class="Bound">h</a> <a id="21779" class="Symbol">:</a> <a id="21781" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="21791" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21793" href="Ledger.Utxo.html#9297" class="Function">updateDeposits</a> <a id="21808" href="Ledger.Utxo.Properties.html#14324" class="Function">pp</a> <a id="21811" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a> <a id="21815" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a><a id="21823" class="Symbol">)</a>
           <a id="21836" class="Keyword">where</a>

    <a id="21847" href="Ledger.Utxo.Properties.html#21847" class="Function">pov-scripts-worker</a> <a id="21866" class="Symbol">:</a>  <a id="21869" href="Ledger.Transaction.html#4279" class="Field">isValid</a> <a id="21877" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21879" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                          <a id="21910" class="Symbol">→</a>  <a id="21913" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="21925" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21927" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="21932" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21934" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21942" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a> <a id="21951" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21953" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="21963" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21965" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="21970" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="21972" href="Ledger.Utxo.Properties.html#13551" class="Function">χ</a><a id="21973" class="Symbol">(</a><a id="21974" href="Ledger.Transaction.html#4279" class="Field">isValid</a><a id="21981" class="Symbol">)</a>
                             <a id="22012" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="22014" href="Ledger.Utxo.Properties.html#21653" class="Bound">balanceUtxo&#39;</a> <a id="22027" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22029" class="Symbol">(</a><a id="22030" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22035" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22037" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="22042" class="Symbol">)</a> <a id="22044" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22046" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="22054" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="22064" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22066" class="Symbol">(</a><a id="22067" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="22077" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22079" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="22089" class="Symbol">)</a>
    <a id="22095" href="Ledger.Utxo.Properties.html#21847" class="Function">pov-scripts-worker</a> <a id="22114" href="Ledger.Utxo.Properties.html#22114" class="Bound">valid</a> <a id="22120" class="Symbol">=</a> <a id="22122" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="22134" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="22146" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22148" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22153" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22155" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="22159" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22161" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="22171" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22173" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="22178" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="22180" href="Ledger.Utxo.Properties.html#13551" class="Function">χ</a><a id="22181" class="Symbol">(</a><a id="22182" href="Ledger.Transaction.html#4279" class="Field">isValid</a><a id="22189" class="Symbol">)</a>
        <a id="22199" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22202" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22207" class="Symbol">(λ</a> <a id="22210" href="Ledger.Utxo.Properties.html#22210" class="Bound">x</a> <a id="22212" class="Symbol">→</a> <a id="22214" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="22226" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22228" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22233" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22235" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="22239" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22241" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="22251" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22253" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="22258" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="22260" href="Ledger.Utxo.Properties.html#13551" class="Function">χ</a> <a id="22262" href="Ledger.Utxo.Properties.html#22210" class="Bound">x</a><a id="22263" class="Symbol">)</a> <a id="22265" href="Ledger.Utxo.Properties.html#22114" class="Bound">valid</a> <a id="22271" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22279" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="22291" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22293" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22298" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22300" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="22304" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22306" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="22316" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22318" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="22323" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="22325" class="Number">1</a>
        <a id="22335" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22338" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22343" class="Symbol">(</a><a id="22344" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="22356" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22358" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22363" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22365" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="22369" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22371" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="22381" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="22383" class="Symbol">)</a> <a id="22385" class="Symbol">(</a><a id="22386" href="Data.Nat.Properties.html#21834" class="Function">*-identityʳ</a> <a id="22398" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="22402" class="Symbol">)</a> <a id="22404" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22412" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="22424" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22426" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22431" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22433" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="22437" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22439" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="22449" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22451" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a>
        <a id="22464" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22467" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="22475" class="Symbol">(</a><a id="22476" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="22488" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22490" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22495" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22497" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="22500" class="Symbol">)</a> <a id="22502" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="22512" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="22517" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22525" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="22537" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22539" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22544" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22546" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="22550" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22552" class="Symbol">(</a><a id="22553" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="22563" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22565" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="22569" class="Symbol">)</a>
        <a id="22579" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22582" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22587" class="Symbol">(</a><a id="22588" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="22600" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22602" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22607" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22609" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="22613" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="22615" class="Symbol">)</a> <a id="22617" class="Symbol">(</a><a id="22618" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="22625" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="22635" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="22639" class="Symbol">)</a> <a id="22641" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22649" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="22661" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22663" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22668" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22670" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="22674" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22676" class="Symbol">(</a><a id="22677" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="22682" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22684" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a><a id="22693" class="Symbol">)</a>
        <a id="22703" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="22707" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="22715" class="Symbol">(</a><a id="22716" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="22728" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22730" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22735" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22737" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a><a id="22740" class="Symbol">)</a> <a id="22742" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="22747" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a>  <a id="22758" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="22766" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="22778" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22780" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22785" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22787" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="22791" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22793" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="22798" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22800" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a>
        <a id="22818" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22821" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22826" class="Symbol">(</a><a id="22827" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="22830" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a><a id="22839" class="Symbol">)</a>
        <a id="22849" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="22851" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
            <a id="22869" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="22881" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22883" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22888" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22890" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="22894" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22896" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a>
              <a id="22915" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="22919" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22924" class="Symbol">(λ</a> <a id="22927" href="Ledger.Utxo.Properties.html#22927" class="Bound">x</a> <a id="22929" class="Symbol">→</a> <a id="22931" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="22943" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22945" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="22950" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22952" href="Ledger.Utxo.Properties.html#22927" class="Bound">x</a> <a id="22954" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22956" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="22960" class="Symbol">)</a> <a id="22962" class="Symbol">(</a><a id="22963" href="Data.Nat.Properties.html#51744" class="Function">m+[n∸m]≡n</a> <a id="22973" href="Ledger.Utxo.Properties.html#16650" class="Function">ref≤dep</a><a id="22980" class="Symbol">)</a> <a id="22982" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="22996" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23008" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23010" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="23015" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23017" class="Symbol">(</a><a id="23018" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23022" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23024" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a><a id="23033" class="Symbol">)</a> <a id="23035" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23037" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a>
              <a id="23056" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23059" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23064" class="Symbol">(</a><a id="23065" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="23068" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="23072" class="Symbol">)</a> <a id="23074" class="Symbol">(</a><a id="23075" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23083" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23095" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="23100" class="Symbol">(</a><a id="23101" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23105" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23107" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a><a id="23116" class="Symbol">))</a> <a id="23119" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23133" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23145" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23147" class="Symbol">(</a><a id="23148" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="23153" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23155" class="Symbol">(</a><a id="23156" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23160" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23162" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a><a id="23171" class="Symbol">))</a> <a id="23174" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23176" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a>
              <a id="23195" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23198" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23203" class="Symbol">(λ</a> <a id="23206" href="Ledger.Utxo.Properties.html#23206" class="Bound">x</a> <a id="23208" class="Symbol">→</a> <a id="23210" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23222" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23224" href="Ledger.Utxo.Properties.html#23206" class="Bound">x</a> <a id="23226" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23228" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="23232" class="Symbol">)</a> <a id="23234" class="Symbol">(</a><a id="23235" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="23242" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="23247" class="Symbol">(</a><a id="23248" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23252" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23254" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a><a id="23263" class="Symbol">))</a> <a id="23266" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23280" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23292" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23294" class="Symbol">(</a><a id="23295" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23299" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23301" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="23311" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23313" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="23317" class="Symbol">)</a> <a id="23319" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23321" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a>
              <a id="23340" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23343" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23348" class="Symbol">(λ</a> <a id="23351" href="Ledger.Utxo.Properties.html#23351" class="Bound">x</a> <a id="23353" class="Symbol">→</a> <a id="23355" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23367" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23369" href="Ledger.Utxo.Properties.html#23351" class="Bound">x</a> <a id="23371" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23373" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="23377" class="Symbol">)</a> <a id="23379" class="Symbol">(</a><a id="23380" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23388" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23392" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="23402" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="23406" class="Symbol">)</a> <a id="23408" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a> <a id="23410" class="Comment">--</a>
            <a id="23425" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23437" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23439" class="Symbol">(</a><a id="23440" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23444" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23446" class="Symbol">(</a><a id="23447" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="23457" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23459" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="23463" class="Symbol">))</a> <a id="23466" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23468" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a>
              <a id="23487" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23490" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23498" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23510" class="Symbol">(</a><a id="23511" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23515" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23517" class="Symbol">(</a><a id="23518" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="23528" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23530" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="23534" class="Symbol">))</a> <a id="23537" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="23542" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a> <a id="23544" class="Comment">--</a>
            <a id="23559" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23571" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23573" class="Symbol">(</a><a id="23574" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23578" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23580" class="Symbol">(</a><a id="23581" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="23591" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23593" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="23597" class="Symbol">)</a> <a id="23599" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23601" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="23605" class="Symbol">)</a>
              <a id="23621" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23624" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23629" class="Symbol">(</a><a id="23630" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23642" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="23644" class="Symbol">)</a> <a id="23646" class="Symbol">(</a><a id="23647" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23655" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23659" class="Symbol">(</a><a id="23660" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="23670" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23672" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="23676" class="Symbol">)</a> <a id="23678" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="23682" class="Symbol">)</a> <a id="23684" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23698" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23710" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23712" class="Symbol">(</a><a id="23713" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23717" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23719" class="Symbol">((</a><a id="23721" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="23731" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23733" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="23737" class="Symbol">)</a> <a id="23739" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23741" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="23745" class="Symbol">))</a>
              <a id="23762" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23765" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23770" class="Symbol">(λ</a> <a id="23773" href="Ledger.Utxo.Properties.html#23773" class="Bound">x</a> <a id="23775" class="Symbol">→</a> <a id="23777" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23789" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23791" class="Symbol">(</a><a id="23792" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23796" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23798" href="Ledger.Utxo.Properties.html#23773" class="Bound">x</a><a id="23799" class="Symbol">))</a> <a id="23802" class="Symbol">(</a><a id="23803" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="23810" class="Symbol">(</a><a id="23811" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="23821" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23823" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="23827" class="Symbol">)</a> <a id="23829" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="23833" class="Symbol">)</a> <a id="23835" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23849" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23861" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23863" class="Symbol">(</a><a id="23864" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23868" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23870" class="Symbol">(</a><a id="23871" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="23876" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23878" class="Symbol">(</a><a id="23879" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="23889" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23891" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="23895" class="Symbol">)))</a>
              <a id="23913" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="23917" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23925" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23937" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="23941" class="Symbol">(</a><a id="23942" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="23947" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23949" class="Symbol">(</a><a id="23950" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="23960" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23962" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="23966" class="Symbol">))</a> <a id="23969" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="23983" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="23995" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23997" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="24001" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24003" class="Symbol">(</a><a id="24004" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="24009" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24011" class="Symbol">(</a><a id="24012" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="24022" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24024" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="24028" class="Symbol">))</a>
              <a id="24045" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="24049" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="24057" class="Symbol">(</a><a id="24058" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="24070" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24072" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a><a id="24075" class="Symbol">)</a> <a id="24077" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="24082" class="Symbol">(</a><a id="24083" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="24093" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24095" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="24099" class="Symbol">)</a> <a id="24101" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="24115" href="Ledger.Utxo.Properties.html#21641" class="Bound">balanceUtxo</a> <a id="24127" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24129" href="Ledger.Utxo.Properties.html#14608" class="Function">ref</a> <a id="24133" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24135" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="24140" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24142" class="Symbol">(</a><a id="24143" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="24153" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24155" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="24159" class="Symbol">)</a>
              <a id="24175" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="24178" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="24183" class="Symbol">(</a><a id="24184" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="24187" class="Symbol">(</a><a id="24188" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="24198" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24200" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="24204" class="Symbol">))</a> <a id="24207" href="Ledger.Utxo.Properties.html#21686" class="Bound">ref-prop</a> <a id="24216" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="24230" href="Ledger.Utxo.Properties.html#21653" class="Bound">balanceUtxo&#39;</a> <a id="24243" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24245" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="24251" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24253" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="24264" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24266" href="Ledger.Utxo.Properties.html#14612" class="Function">tot</a> <a id="24270" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24272" class="Symbol">(</a><a id="24273" href="Ledger.Utxo.Properties.html#15576" class="Function">remDepTot</a> <a id="24283" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24285" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="24289" class="Symbol">)</a>
              <a id="24305" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="24308" href="Ledger.Utxo.Properties.html#20294" class="Function">rearrange0</a> <a id="24319" class="Symbol">(</a><a id="24320" href="Ledger.Utxo.Properties.html#21653" class="Bound">balanceUtxo&#39;</a><a id="24332" class="Symbol">)</a> <a id="24334" href="Ledger.Utxo.Properties.html#21777" class="Bound">h</a> <a id="24336" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="24350" href="Ledger.Utxo.Properties.html#21653" class="Bound">balanceUtxo&#39;</a> <a id="24363" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24365" class="Symbol">(</a><a id="24366" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="24371" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24373" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="24379" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24381" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24389" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="24399" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24401" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="24411" class="Symbol">)</a>
              <a id="24427" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="24429" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="24437" href="Ledger.Utxo.Properties.html#21653" class="Bound">balanceUtxo&#39;</a> <a id="24450" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24454" class="Symbol">(</a><a id="24455" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="24460" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24462" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="24468" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24472" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24480" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="24490" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24494" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="24504" class="Symbol">)</a> <a id="24506" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24510" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a>
        <a id="24528" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="24539" href="Ledger.Utxo.Properties.html#21653" class="Bound">balanceUtxo&#39;</a> <a id="24552" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24556" class="Symbol">(</a><a id="24557" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="24562" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24564" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="24569" class="Symbol">)</a> <a id="24571" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24575" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24583" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="24593" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24597" class="Symbol">(</a><a id="24598" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="24609" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24613" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a><a id="24622" class="Symbol">)</a>
        <a id="24632" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="24635" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="24640" class="Symbol">(</a><a id="24641" href="Ledger.Utxo.Properties.html#21653" class="Bound">balanceUtxo&#39;</a> <a id="24654" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24656" class="Symbol">(</a><a id="24657" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="24662" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24664" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="24669" class="Symbol">)</a> <a id="24671" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24673" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24681" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="24691" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+_</a><a id="24695" class="Symbol">)</a>
         <a id="24706" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="24708" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="24715" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="24726" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="24736" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="24744" href="Ledger.Utxo.Properties.html#21653" class="Bound">balanceUtxo&#39;</a> <a id="24757" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24759" class="Symbol">(</a><a id="24760" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="24765" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24767" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="24772" class="Symbol">)</a> <a id="24774" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24776" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24784" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="24794" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24796" class="Symbol">(</a><a id="24797" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="24807" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24809" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="24819" class="Symbol">)</a>
        <a id="24829" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="24834" href="Ledger.Utxo.Properties.html#24834" class="Function">pov-scripts</a> <a id="24846" class="Symbol">:</a>  <a id="24849" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="24859" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24861" href="Ledger.Utxo.html#9297" class="Function">updateDeposits</a> <a id="24876" href="Ledger.Utxo.Properties.html#14324" class="Function">pp</a> <a id="24879" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a> <a id="24883" href="Ledger.Utxo.Properties.html#13660" class="Bound">deposits</a>
                 <a id="24909" class="Symbol">→</a>  <a id="24912" href="Ledger.Transaction.html#4279" class="Field">isValid</a> <a id="24920" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24922" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                 <a id="24944" class="Symbol">→</a>  <a id="24947" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="24956" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="24961" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24963" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="24968" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24970" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="24974" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24976" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="24986" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24988" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="24993" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="24995" href="Ledger.Utxo.Properties.html#13551" class="Function">χ</a><a id="24996" class="Symbol">(</a><a id="24997" href="Ledger.Transaction.html#4279" class="Field">isValid</a><a id="25004" class="Symbol">)</a>
                    <a id="25026" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>  <a id="25029" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="25038" class="Symbol">((</a><a id="25040" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="25045" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25047" href="Ledger.Transaction.html#2686" class="Function">txins</a> <a id="25053" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25054" class="Symbol">)</a> <a id="25056" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="25059" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="25064" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a><a id="25067" class="Symbol">)</a>
                       <a id="25092" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25094" class="Symbol">(</a><a id="25095" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="25100" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25102" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="25107" class="Symbol">)</a> <a id="25109" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25111" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="25119" href="Ledger.Utxo.Properties.html#13669" class="Bound">deposits&#39;</a> <a id="25129" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25131" class="Symbol">(</a><a id="25132" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="25142" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25144" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="25154" class="Symbol">)</a>
  <a id="25158" href="Ledger.Utxo.Properties.html#24834" class="Function">pov-scripts</a> <a id="25170" href="Ledger.Utxo.Properties.html#25170" class="Bound">h</a> <a id="25172" href="Ledger.Utxo.Properties.html#25172" class="Bound">valid</a> <a id="25178" class="Symbol">=</a> <a id="25180" href="Ledger.Utxo.Properties.html#21847" class="Function">pov-scripts-worker</a> <a id="25199" class="Symbol">(</a><a id="25200" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="25209" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a><a id="25213" class="Symbol">)</a> <a id="25215" class="Symbol">(</a><a id="25216" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="25225" class="Symbol">((</a><a id="25227" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="25232" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25234" href="Ledger.Transaction.html#2686" class="Function">txins</a> <a id="25240" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25241" class="Symbol">)</a> <a id="25243" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="25246" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="25251" href="Ledger.Utxo.Properties.html#13769" class="Field">txb</a><a id="25254" class="Symbol">))</a> <a id="25257" href="Ledger.Utxo.Properties.html#19660" class="Function">utxo-ref-prop</a> <a id="25271" href="Ledger.Utxo.Properties.html#25170" class="Bound">h</a> <a id="25273" href="Ledger.Utxo.Properties.html#25172" class="Bound">valid</a>

  <a id="25282" href="Ledger.Utxo.Properties.html#25282" class="Function">pov-no-scripts</a> <a id="25297" class="Symbol">:</a>  <a id="25300" href="Ledger.Transaction.html#4279" class="Field">isValid</a> <a id="25308" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25310" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="25336" class="Symbol">→</a>  <a id="25339" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="25348" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="25353" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25355" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="25360" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25362" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="25366" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25368" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="25378" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25380" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="25385" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25387" href="Ledger.Utxo.Properties.html#13551" class="Function">χ</a><a id="25388" class="Symbol">(</a><a id="25389" href="Ledger.Transaction.html#4279" class="Field">isValid</a><a id="25396" class="Symbol">)</a>
                       <a id="25421" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25423" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="25432" class="Symbol">(</a><a id="25433" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="25438" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25440" href="Ledger.Transaction.html#3246" class="Function">collateral</a> <a id="25451" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25452" class="Symbol">)</a> <a id="25454" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25456" class="Symbol">(</a><a id="25457" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="25462" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25464" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="25473" class="Symbol">(</a><a id="25474" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="25479" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25481" href="Ledger.Transaction.html#3246" class="Function">collateral</a><a id="25491" class="Symbol">))</a> <a id="25494" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25496" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="25500" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25502" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a>
  <a id="25514" href="Ledger.Utxo.Properties.html#25282" class="Function">pov-no-scripts</a> <a id="25529" href="Ledger.Utxo.Properties.html#25529" class="Bound">invalid</a> <a id="25537" class="Symbol">=</a> <a id="25539" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="25549" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="25558" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="25563" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25565" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="25570" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25572" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="25576" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25578" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="25588" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25590" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="25595" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25597" href="Ledger.Utxo.Properties.html#13551" class="Function">χ</a><a id="25598" class="Symbol">(</a><a id="25599" href="Ledger.Transaction.html#4279" class="Field">isValid</a><a id="25606" class="Symbol">)</a> <a id="25608" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25611" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25616" class="Symbol">(λ</a> <a id="25619" href="Ledger.Utxo.Properties.html#25619" class="Bound">x</a> <a id="25621" class="Symbol">→</a> <a id="25623" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="25632" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="25637" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25639" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="25644" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25646" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="25650" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25652" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="25662" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25664" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="25669" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25671" href="Ledger.Utxo.Properties.html#13551" class="Function">χ</a> <a id="25673" href="Ledger.Utxo.Properties.html#25619" class="Bound">x</a><a id="25674" class="Symbol">)</a> <a id="25676" href="Ledger.Utxo.Properties.html#25529" class="Bound">invalid</a> <a id="25684" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25690" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="25699" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="25704" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25706" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="25711" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25713" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="25717" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25719" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="25729" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25731" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a> <a id="25736" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="25738" class="Number">0</a> <a id="25740" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25743" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25748" class="Symbol">(</a><a id="25749" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="25758" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="25763" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25765" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="25770" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25772" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="25776" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25778" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="25788" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a> <a id="25791" class="Symbol">)</a> <a id="25793" class="Symbol">(</a><a id="25794" href="Data.Nat.Properties.html#22054" class="Function">*-zeroʳ</a> <a id="25802" href="Ledger.Utxo.Properties.html#14666" class="Function">wdls</a><a id="25806" class="Symbol">)</a> <a id="25808" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25814" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="25823" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="25828" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25830" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="25835" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25837" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="25841" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25843" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="25853" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25855" class="Number">0</a> <a id="25857" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25860" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="25872" class="Symbol">_</a> <a id="25874" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25880" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="25889" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="25894" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25896" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="25901" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25903" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="25907" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25909" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a> <a id="25919" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25922" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25927" class="Symbol">(λ</a> <a id="25930" href="Ledger.Utxo.Properties.html#25930" class="Bound">x</a> <a id="25932" class="Symbol">→</a> <a id="25934" href="Ledger.Utxo.Properties.html#25930" class="Bound">x</a> <a id="25936" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25938" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="25942" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25944" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a><a id="25953" class="Symbol">)</a> <a id="25955" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="25957" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="25969" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="25978" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="25983" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25987" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="25992" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25995" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="26000" class="Symbol">(</a><a id="26001" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="26004" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="26008" class="Symbol">)</a> <a id="26010" class="Symbol">(</a><a id="26011" href="Ledger.Utxo.Properties.html#17631" class="Function">split-balance</a> <a id="26025" href="Ledger.Transaction.html#3246" class="Function">collateral</a><a id="26035" class="Symbol">)</a> <a id="26037" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="26045" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="26054" class="Symbol">(</a><a id="26055" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="26060" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26062" href="Ledger.Transaction.html#3246" class="Function">collateral</a> <a id="26073" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26074" class="Symbol">)</a> <a id="26076" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26080" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="26089" class="Symbol">(</a><a id="26090" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="26095" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="26097" href="Ledger.Transaction.html#3246" class="Function">collateral</a><a id="26107" class="Symbol">)</a> <a id="26109" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26113" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="26118" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="26129" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="26138" class="Symbol">(</a><a id="26139" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="26144" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26146" href="Ledger.Transaction.html#3246" class="Function">collateral</a> <a id="26157" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26158" class="Symbol">)</a> <a id="26160" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26164" class="Symbol">(</a><a id="26165" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="26174" class="Symbol">(</a><a id="26175" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="26180" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="26182" href="Ledger.Transaction.html#3246" class="Function">collateral</a><a id="26192" class="Symbol">)</a> <a id="26194" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26198" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="26202" class="Symbol">)</a> <a id="26204" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="26207" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="26212" class="Symbol">(</a><a id="26213" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="26222" class="Symbol">(</a><a id="26223" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="26228" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26230" href="Ledger.Transaction.html#3246" class="Function">collateral</a> <a id="26241" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26242" class="Symbol">)</a> <a id="26244" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="26246" class="Symbol">)</a> <a id="26248" class="Symbol">(</a><a id="26249" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="26256" class="Symbol">_</a> <a id="26258" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a><a id="26262" class="Symbol">)</a> <a id="26264" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="26272" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="26281" class="Symbol">(</a><a id="26282" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="26287" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26289" href="Ledger.Transaction.html#3246" class="Function">collateral</a> <a id="26300" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26301" class="Symbol">)</a> <a id="26303" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26307" class="Symbol">(</a><a id="26308" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="26313" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="26317" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="26326" class="Symbol">(</a><a id="26327" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="26332" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="26334" href="Ledger.Transaction.html#3246" class="Function">collateral</a><a id="26344" class="Symbol">))</a> <a id="26347" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="26349" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="26355" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="26364" class="Symbol">(</a><a id="26365" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="26370" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="26372" href="Ledger.Transaction.html#3246" class="Function">collateral</a> <a id="26383" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="26384" class="Symbol">)</a> <a id="26386" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26388" class="Symbol">(</a><a id="26389" href="Ledger.Utxo.Properties.html#13638" class="Bound">fees</a> <a id="26394" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26396" href="Ledger.Utxo.html#3643" class="Function">cbalance</a> <a id="26405" class="Symbol">(</a><a id="26406" href="Ledger.Utxo.Properties.html#13616" class="Bound">utxo</a> <a id="26411" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="26413" href="Ledger.Transaction.html#3246" class="Function">collateral</a><a id="26423" class="Symbol">))</a> <a id="26426" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26428" href="Ledger.Utxo.Properties.html#14368" class="Function">dep</a> <a id="26432" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26434" href="Ledger.Utxo.Properties.html#13694" class="Bound">donations</a>
    <a id="26448" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>


<a id="UTXO-step"></a><a id="26452" href="Ledger.Utxo.Properties.html#26452" class="Function">UTXO-step</a> <a id="26462" class="Symbol">:</a> <a id="26464" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a> <a id="26472" class="Symbol">→</a> <a id="26474" href="Ledger.Utxo.html#2705" class="Record">UTxOState</a> <a id="26484" class="Symbol">→</a> <a id="26486" href="Ledger.Transaction.html#4194" class="Record">Tx</a> <a id="26489" class="Symbol">→</a> <a id="26491" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="26509" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="26516" href="Ledger.Utxo.html#2705" class="Record">UTxOState</a>
<a id="26526" href="Ledger.Utxo.Properties.html#26452" class="Function">UTXO-step</a> <a id="26536" class="Symbol">=</a> <a id="26538" href="Interface.ComputationalRelation.html#2976" class="Function">compute</a> <a id="26546" class="Symbol">⦃</a> <a id="26548" href="Ledger.Utxo.Properties.html#7120" class="Function">Computational-UTXO</a> <a id="26567" class="Symbol">⦄</a>

<a id="UTXO-step-computes-UTXO"></a><a id="26570" href="Ledger.Utxo.Properties.html#26570" class="Function">UTXO-step-computes-UTXO</a>  <a id="26595" class="Symbol">:</a>  <a id="26598" href="Ledger.Utxo.Properties.html#26452" class="Function">UTXO-step</a> <a id="26608" href="Ledger.Utxo.Properties.html#7321" class="Generalizable">Γ</a> <a id="26610" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a> <a id="26620" href="Ledger.Utxo.Properties.html#7239" class="Generalizable">tx</a> <a id="26623" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26625" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="26633" href="Ledger.Utxo.Properties.html#7376" class="Generalizable">utxoState&#39;</a>
                         <a id="26669" href="Function.Bundles.html#12400" class="Function Operator">⇔</a>  <a id="26672" href="Ledger.Utxo.Properties.html#7321" class="Generalizable">Γ</a> <a id="26674" href="Ledger.Utxo.html#3350" class="Datatype Operator">⊢</a> <a id="26676" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a> <a id="26686" href="Ledger.Utxo.html#3350" class="Datatype Operator">⇀⦇</a> <a id="26689" href="Ledger.Utxo.Properties.html#7239" class="Generalizable">tx</a> <a id="26692" href="Ledger.Utxo.html#3350" class="Datatype Operator">,UTXO⦈</a> <a id="26699" href="Ledger.Utxo.Properties.html#7376" class="Generalizable">utxoState&#39;</a>
<a id="26710" href="Ledger.Utxo.Properties.html#26570" class="Function">UTXO-step-computes-UTXO</a> <a id="26734" class="Symbol">=</a> <a id="26736" href="Interface.ComputationalRelation.html#3323" class="Function">≡-success⇔STS</a> <a id="26750" class="Symbol">⦃</a> <a id="26752" href="Ledger.Utxo.Properties.html#7120" class="Function">Computational-UTXO</a> <a id="26771" class="Symbol">⦄</a>


<a id="isRefundCert"></a><a id="26775" href="Ledger.Utxo.Properties.html#26775" class="Function">isRefundCert</a> <a id="26788" class="Symbol">:</a> <a id="26790" href="Ledger.Certs.html#1324" class="Datatype">DCert</a> <a id="26796" class="Symbol">→</a> <a id="26798" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="26803" href="Ledger.Utxo.Properties.html#26775" class="Function">isRefundCert</a> <a id="26816" class="Symbol">(</a><a id="26817" href="Ledger.Certs.html#1418" class="InductiveConstructor">dereg</a> <a id="26823" href="Ledger.Utxo.Properties.html#26823" class="Bound">c</a> <a id="26825" class="Symbol">_)</a> <a id="26828" class="Symbol">=</a> <a id="26830" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="26835" href="Ledger.Utxo.Properties.html#26775" class="Function">isRefundCert</a> <a id="26848" class="Symbol">(</a><a id="26849" href="Ledger.Certs.html#1602" class="InductiveConstructor">deregdrep</a> <a id="26859" href="Ledger.Utxo.Properties.html#26859" class="Bound">c</a> <a id="26861" class="Symbol">_)</a> <a id="26864" class="Symbol">=</a> <a id="26866" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="26871" href="Ledger.Utxo.Properties.html#26775" class="CatchallClause Function">isRefundCert</a><a id="26883" class="CatchallClause"> </a><a id="26884" class="CatchallClause Symbol">_</a> <a id="26886" class="Symbol">=</a> <a id="26888" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="noRefundCert"></a><a id="26895" href="Ledger.Utxo.Properties.html#26895" class="Function">noRefundCert</a> <a id="26908" class="Symbol">:</a> <a id="26910" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="26915" href="Ledger.Certs.html#1324" class="Datatype">DCert</a> <a id="26921" class="Symbol">→</a> <a id="26923" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="26928" class="Symbol">_</a>
<a id="26930" href="Ledger.Utxo.Properties.html#26895" class="Function">noRefundCert</a> <a id="26943" href="Ledger.Utxo.Properties.html#26943" class="Bound">l</a> <a id="26945" class="Symbol">=</a> <a id="26947" href="Data.List.Relation.Unary.All.html#1644" class="Datatype">All</a> <a id="26951" class="Symbol">(λ</a> <a id="26954" href="Ledger.Utxo.Properties.html#26954" class="Bound">cert</a> <a id="26959" class="Symbol">→</a> <a id="26961" href="Ledger.Utxo.Properties.html#26775" class="Function">isRefundCert</a> <a id="26974" href="Ledger.Utxo.Properties.html#26954" class="Bound">cert</a> <a id="26979" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26981" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="26986" class="Symbol">)</a> <a id="26988" href="Ledger.Utxo.Properties.html#26943" class="Bound">l</a>

<a id="26991" class="Keyword">opaque</a>
  <a id="27000" class="Keyword">unfolding</a> <a id="27010" href="abstract-set-theory.FiniteSetTheory.html#240" class="Function">List-Model</a>
  <a id="27023" class="Keyword">unfolding</a> <a id="27033" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a>
  <a id="fin∘list[]"></a><a id="27046" href="Ledger.Utxo.Properties.html#27046" class="Function">fin∘list[]</a> <a id="27057" class="Symbol">:</a> <a id="27059" class="Symbol">{</a><a id="27060" href="Ledger.Utxo.Properties.html#27060" class="Bound">A</a> <a id="27062" class="Symbol">:</a> <a id="27064" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="27068" class="Symbol">}</a> <a id="27070" class="Symbol">→</a> <a id="27072" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27078" class="Symbol">(</a><a id="27079" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a><a id="27089" class="Symbol">{</a><a id="27090" class="Argument">A</a> <a id="27092" class="Symbol">=</a> <a id="27094" href="Ledger.Utxo.Properties.html#27060" class="Bound">A</a><a id="27095" class="Symbol">}</a> <a id="27097" href="Class.HasEmptySet.html#287" class="Field">∅</a><a id="27098" class="Symbol">)</a> <a id="27100" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27102" class="InductiveConstructor">[]</a>
  <a id="27107" href="Ledger.Utxo.Properties.html#27046" class="Function">fin∘list[]</a> <a id="27118" class="Symbol">=</a> <a id="27120" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="fin∘list∷[]"></a><a id="27127" href="Ledger.Utxo.Properties.html#27127" class="Function">fin∘list∷[]</a> <a id="27139" class="Symbol">:</a> <a id="27141" class="Symbol">{</a><a id="27142" href="Ledger.Utxo.Properties.html#27142" class="Bound">A</a> <a id="27144" class="Symbol">:</a> <a id="27146" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="27150" class="Symbol">}</a> <a id="27152" class="Symbol">{</a><a id="27153" href="Ledger.Utxo.Properties.html#27153" class="Bound">a</a> <a id="27155" class="Symbol">:</a> <a id="27157" href="Ledger.Utxo.Properties.html#27142" class="Bound">A</a><a id="27158" class="Symbol">}</a> <a id="27160" class="Symbol">→</a> <a id="27162" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27168" class="Symbol">(</a><a id="27169" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27180" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="27182" href="Ledger.Utxo.Properties.html#27153" class="Bound">a</a> <a id="27184" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="27185" class="Symbol">)</a> <a id="27187" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27189" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="27191" href="Ledger.Utxo.Properties.html#27153" class="Bound">a</a> <a id="27193" href="Data.List.Base.html#5205" class="Function Operator">]</a>
  <a id="27197" href="Ledger.Utxo.Properties.html#27127" class="Function">fin∘list∷[]</a> <a id="27209" class="Symbol">=</a> <a id="27211" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="coin∅"></a><a id="27217" href="Ledger.Utxo.Properties.html#27217" class="Function">coin∅</a> <a id="27223" class="Symbol">:</a> <a id="27225" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="27232" class="Symbol">{</a><a id="27233" class="Argument">A</a> <a id="27235" class="Symbol">=</a> <a id="27237" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="27245" class="Symbol">}</a> <a id="27247" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="27249" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27251" class="Number">0</a>
<a id="27253" href="Ledger.Utxo.Properties.html#27217" class="Function">coin∅</a> <a id="27259" class="Symbol">=</a> <a id="27261" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="27269" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27275" class="Symbol">(λ</a> <a id="27278" href="Ledger.Utxo.Properties.html#27278" class="Bound">x</a> <a id="27280" class="Symbol">→</a> <a id="27282" class="Symbol">(</a><a id="27283" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27289" href="Ledger.Utxo.Properties.html#27278" class="Bound">x</a><a id="27290" class="Symbol">)</a> <a id="27292" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27294" class="Symbol">)</a> <a id="27296" class="Number">0</a> <a id="27298" class="Symbol">(</a><a id="27299" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27311" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27315" class="Symbol">(</a><a id="27316" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27322" class="Symbol">(</a><a id="27323" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27334" href="Class.HasEmptySet.html#287" class="Field">∅</a><a id="27335" class="Symbol">)))</a>
    <a id="27343" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27346" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27351" class="Symbol">(λ</a> <a id="27354" href="Ledger.Utxo.Properties.html#27354" class="Bound">u</a> <a id="27356" class="Symbol">→</a> <a id="27358" class="Symbol">(</a><a id="27359" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27365" class="Symbol">(λ</a> <a id="27368" href="Ledger.Utxo.Properties.html#27368" class="Bound">x</a> <a id="27370" class="Symbol">→</a> <a id="27372" class="Symbol">(</a><a id="27373" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27379" href="Ledger.Utxo.Properties.html#27368" class="Bound">x</a><a id="27380" class="Symbol">)</a> <a id="27382" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27384" class="Symbol">)</a> <a id="27386" class="Number">0</a> <a id="27388" class="Symbol">(</a><a id="27389" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27401" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27405" href="Ledger.Utxo.Properties.html#27354" class="Bound">u</a><a id="27406" class="Symbol">)))</a> <a id="27410" href="Ledger.Utxo.Properties.html#27046" class="Function">fin∘list[]</a> <a id="27421" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27425" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27431" class="Symbol">(λ</a> <a id="27434" class="Symbol">(</a><a id="27435" href="Ledger.Utxo.Properties.html#27435" class="Bound">x</a> <a id="27437" class="Symbol">:</a> <a id="27439" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="27454" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27456" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27460" class="Symbol">)</a> <a id="27462" class="Symbol">→</a> <a id="27464" class="Symbol">(</a><a id="27465" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27471" href="Ledger.Utxo.Properties.html#27435" class="Bound">x</a><a id="27472" class="Symbol">)</a> <a id="27474" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27476" class="Symbol">)</a> <a id="27478" class="Number">0</a> <a id="27480" class="Symbol">(</a><a id="27481" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27493" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27497" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27499" class="Symbol">)</a>
    <a id="27505" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27508" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27513" class="Symbol">(λ</a> <a id="27516" href="Ledger.Utxo.Properties.html#27516" class="Bound">u</a> <a id="27518" class="Symbol">→</a> <a id="27520" class="Symbol">(</a><a id="27521" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27527" class="Symbol">(λ</a> <a id="27530" class="Symbol">(</a><a id="27531" href="Ledger.Utxo.Properties.html#27531" class="Bound">x</a> <a id="27533" class="Symbol">:</a> <a id="27535" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="27550" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27552" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27556" class="Symbol">)</a> <a id="27558" class="Symbol">→</a> <a id="27560" class="Symbol">(</a><a id="27561" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27567" href="Ledger.Utxo.Properties.html#27531" class="Bound">x</a><a id="27568" class="Symbol">)</a> <a id="27570" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27572" class="Symbol">)</a> <a id="27574" class="Number">0</a>  <a id="27577" href="Ledger.Utxo.Properties.html#27516" class="Bound">u</a><a id="27578" class="Symbol">))</a>
            <a id="27593" class="Symbol">{</a><a id="27594" class="Argument">x</a> <a id="27596" class="Symbol">=</a> <a id="27598" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27610" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27614" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27616" class="Symbol">}</a> <a id="27618" class="Symbol">{</a><a id="27619" class="Argument">y</a> <a id="27621" class="Symbol">=</a> <a id="27623" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27625" class="Symbol">}</a> <a id="27627" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="27632" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27636" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27642" class="Symbol">(λ</a> <a id="27645" class="Symbol">(</a><a id="27646" href="Ledger.Utxo.Properties.html#27646" class="Bound">x</a> <a id="27648" class="Symbol">:</a> <a id="27650" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="27665" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27667" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27671" class="Symbol">)</a> <a id="27673" class="Symbol">→</a> <a id="27675" class="Symbol">(</a><a id="27676" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27682" href="Ledger.Utxo.Properties.html#27646" class="Bound">x</a><a id="27683" class="Symbol">)</a> <a id="27685" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27687" class="Symbol">)</a> <a id="27689" class="Number">0</a> <a id="27691" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="27698" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27701" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="27706" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27710" class="Number">0</a> <a id="27712" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="27716" class="Keyword">where</a> <a id="27722" class="Keyword">open</a> <a id="27727" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

<a id="getCoin-singleton"></a><a id="27748" href="Ledger.Utxo.Properties.html#27748" class="Function">getCoin-singleton</a> <a id="27766" class="Symbol">:</a> <a id="27768" class="Symbol">(</a><a id="27769" href="Ledger.Utxo.Properties.html#27769" class="Bound">(</a><a id="27770" href="Ledger.Utxo.Properties.html#27770" class="Bound">dp</a> <a id="27773" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27775" href="Ledger.Utxo.Properties.html#27775" class="Bound">c</a><a id="27776" href="Ledger.Utxo.Properties.html#27769" class="Bound">)</a> <a id="27778" class="Symbol">:</a> <a id="27780" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="27795" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27797" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27801" class="Symbol">)</a> <a id="27803" class="Symbol">→</a> <a id="27805" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">indexedSumᵛ&#39;</a> <a id="27818" href="Function.Base.html#704" class="Function">id</a> <a id="27821" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="27823" class="Symbol">(</a><a id="27824" href="Ledger.Utxo.Properties.html#27770" class="Bound">dp</a> <a id="27827" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27829" href="Ledger.Utxo.Properties.html#27775" class="Bound">c</a><a id="27830" class="Symbol">)</a> <a id="27832" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="27834" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27836" href="Ledger.Utxo.Properties.html#27775" class="Bound">c</a>
<a id="27838" href="Ledger.Utxo.Properties.html#27748" class="Function">getCoin-singleton</a> <a id="27856" class="Symbol">_</a> <a id="27858" class="Symbol">=</a> <a id="27860" href="Axiom.Set.Sum.html#4082" class="Function">indexedSum-singleton&#39;</a> <a id="27882" class="Symbol">{</a><a id="27883" class="Argument">A</a> <a id="27885" class="Symbol">=</a> <a id="27887" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="27902" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27904" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27908" class="Symbol">}</a> <a id="27910" class="Symbol">{</a><a id="27911" class="Argument">f</a> <a id="27913" class="Symbol">=</a> <a id="27915" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="27920" class="Symbol">}</a> <a id="27922" class="Symbol">(</a><a id="27923" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27934" class="Symbol">_)</a>

<a id="27938" class="Keyword">module</a> <a id="27945" href="Ledger.Utxo.Properties.html#27945" class="Module">_</a> <a id="27947" class="Comment">-- ASSUMPTION --</a>
         <a id="27973" class="Symbol">(</a><a id="27974" href="Ledger.Utxo.Properties.html#27974" class="Bound">gc-hom</a> <a id="27981" class="Symbol">:</a> <a id="27983" class="Symbol">(</a><a id="27984" href="Ledger.Utxo.Properties.html#27984" class="Bound">d₁</a> <a id="27987" href="Ledger.Utxo.Properties.html#27987" class="Bound">d₂</a> <a id="27990" class="Symbol">:</a> <a id="27992" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="28000" class="Symbol">)</a> <a id="28002" class="Symbol">→</a> <a id="28004" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28012" class="Symbol">(</a><a id="28013" href="Ledger.Utxo.Properties.html#27984" class="Bound">d₁</a> <a id="28016" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28019" href="Ledger.Utxo.Properties.html#27987" class="Bound">d₂</a><a id="28021" class="Symbol">)</a> <a id="28023" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28025" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28033" href="Ledger.Utxo.Properties.html#27984" class="Bound">d₁</a> <a id="28036" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28038" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28046" href="Ledger.Utxo.Properties.html#27987" class="Bound">d₂</a><a id="28048" class="Symbol">)</a>
  <a id="28052" class="Keyword">where</a>
  <a id="28060" href="Ledger.Utxo.Properties.html#28060" class="Function">∪⁺singleton≡</a> <a id="28073" class="Symbol">:</a> <a id="28075" class="Symbol">{</a><a id="28076" href="Ledger.Utxo.Properties.html#28076" class="Bound">deps</a> <a id="28081" class="Symbol">:</a> <a id="28083" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="28091" class="Symbol">}</a> <a id="28093" class="Symbol">{</a><a id="28094" href="Ledger.Utxo.Properties.html#28094" class="Symbol">(</a><a id="28095" href="Ledger.Utxo.Properties.html#28095" class="Bound">dp</a> <a id="28098" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28100" href="Ledger.Utxo.Properties.html#28100" class="Bound">c</a><a id="28101" href="Ledger.Utxo.Properties.html#28094" class="Symbol">)</a> <a id="28103" class="Symbol">:</a> <a id="28105" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="28120" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="28122" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28126" class="Symbol">}</a>
                 <a id="28145" class="Symbol">→</a> <a id="28147" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28155" class="Symbol">(</a><a id="28156" href="Ledger.Utxo.Properties.html#28076" class="Bound">deps</a> <a id="28161" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28164" href="Axiom.Set.Map.html#4588" class="Function Operator">❴</a> <a id="28166" class="Symbol">(</a><a id="28167" href="Ledger.Utxo.Properties.html#28095" class="Bound">dp</a> <a id="28170" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28172" href="Ledger.Utxo.Properties.html#28100" class="Bound">c</a><a id="28173" class="Symbol">)</a> <a id="28175" href="Axiom.Set.Map.html#4588" class="Function Operator">❵ᵐ</a><a id="28177" class="Symbol">)</a> <a id="28179" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28181" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28189" href="Ledger.Utxo.Properties.html#28076" class="Bound">deps</a> <a id="28194" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28196" href="Ledger.Utxo.Properties.html#28100" class="Bound">c</a>
  <a id="28200" href="Ledger.Utxo.Properties.html#28060" class="Function">∪⁺singleton≡</a> <a id="28213" class="Symbol">{</a><a id="28214" href="Ledger.Utxo.Properties.html#28214" class="Bound">deps</a><a id="28218" class="Symbol">}</a> <a id="28220" class="Symbol">{(</a><a id="28222" href="Ledger.Utxo.Properties.html#28222" class="Bound">dp</a> <a id="28225" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28227" href="Ledger.Utxo.Properties.html#28227" class="Bound">c</a><a id="28228" class="Symbol">)}</a> <a id="28231" class="Symbol">=</a> <a id="28233" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="28243" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28251" class="Symbol">(</a><a id="28252" href="Ledger.Utxo.Properties.html#28214" class="Bound">deps</a> <a id="28257" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28260" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28262" class="Symbol">(</a><a id="28263" href="Ledger.Utxo.Properties.html#28222" class="Bound">dp</a> <a id="28266" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28268" href="Ledger.Utxo.Properties.html#28227" class="Bound">c</a><a id="28269" class="Symbol">)</a> <a id="28271" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="28272" class="Symbol">)</a>
      <a id="28280" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="28283" href="Ledger.Utxo.Properties.html#27974" class="Bound">gc-hom</a> <a id="28290" href="Ledger.Utxo.Properties.html#28214" class="Bound">deps</a> <a id="28295" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28297" class="Symbol">(</a><a id="28298" href="Ledger.Utxo.Properties.html#28222" class="Bound">dp</a> <a id="28301" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28303" href="Ledger.Utxo.Properties.html#28227" class="Bound">c</a><a id="28304" class="Symbol">)</a> <a id="28306" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="28308" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="28314" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28322" href="Ledger.Utxo.Properties.html#28214" class="Bound">deps</a> <a id="28327" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28329" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="28336" class="Symbol">{</a><a id="28337" class="Argument">A</a> <a id="28339" class="Symbol">=</a> <a id="28341" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="28349" class="Symbol">}</a> <a id="28351" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28353" class="Symbol">(</a><a id="28354" href="Ledger.Utxo.Properties.html#28222" class="Bound">dp</a> <a id="28357" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28359" href="Ledger.Utxo.Properties.html#28227" class="Bound">c</a><a id="28360" class="Symbol">)</a> <a id="28362" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="28370" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="28373" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="28378" class="Symbol">(</a><a id="28379" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28387" href="Ledger.Utxo.Properties.html#28214" class="Bound">deps</a> <a id="28392" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="28394" class="Symbol">)</a> <a id="28396" class="Symbol">(</a><a id="28397" href="Ledger.Utxo.Properties.html#27748" class="Function">getCoin-singleton</a> <a id="28415" class="Symbol">(</a><a id="28416" href="Ledger.Utxo.Properties.html#28222" class="Bound">dp</a> <a id="28419" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28421" href="Ledger.Utxo.Properties.html#28227" class="Bound">c</a><a id="28422" class="Symbol">))</a> <a id="28425" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="28431" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28439" href="Ledger.Utxo.Properties.html#28214" class="Bound">deps</a> <a id="28444" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28446" href="Ledger.Utxo.Properties.html#28227" class="Bound">c</a>
      <a id="28454" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="28460" class="Keyword">where</a> <a id="28466" class="Keyword">open</a> <a id="28471" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

  <a id="28494" class="Keyword">module</a> <a id="28501" href="Ledger.Utxo.Properties.html#28501" class="Module">_</a> <a id="28503" class="Symbol">{</a><a id="28504" href="Ledger.Utxo.Properties.html#28504" class="Bound">deposits</a> <a id="28513" class="Symbol">:</a> <a id="28515" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="28523" class="Symbol">}</a> <a id="28525" class="Symbol">{</a><a id="28526" href="Ledger.Utxo.Properties.html#28526" class="Bound">txid</a> <a id="28531" class="Symbol">:</a> <a id="28533" href="Ledger.Transaction.html#892" class="Field">TxId</a><a id="28537" class="Symbol">}</a> <a id="28539" class="Symbol">{</a><a id="28540" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a> <a id="28546" class="Symbol">:</a> <a id="28548" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28552" class="Symbol">}</a> <a id="28554" class="Keyword">where</a>

    <a id="28565" href="Ledger.Utxo.Properties.html#28565" class="Function">≤updatePropDeps</a> <a id="28581" class="Symbol">:</a> <a id="28583" class="Symbol">(</a><a id="28584" href="Ledger.Utxo.Properties.html#28584" class="Bound">props</a> <a id="28590" class="Symbol">:</a> <a id="28592" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="28597" href="Ledger.GovernanceActions.html#2524" class="Record">GovProposal</a><a id="28608" class="Symbol">)</a>
      <a id="28616" class="Symbol">→</a> <a id="28618" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28626" href="Ledger.Utxo.Properties.html#28504" class="Bound">deposits</a> <a id="28635" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="28637" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28645" class="Symbol">(</a><a id="28646" href="Ledger.Utxo.html#8992" class="Function">updateProposalDeposits</a> <a id="28669" href="Ledger.Utxo.Properties.html#28584" class="Bound">props</a> <a id="28675" href="Ledger.Utxo.Properties.html#28526" class="Bound">txid</a> <a id="28680" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a> <a id="28686" href="Ledger.Utxo.Properties.html#28504" class="Bound">deposits</a><a id="28694" class="Symbol">)</a>
    <a id="28700" href="Ledger.Utxo.Properties.html#28565" class="Function">≤updatePropDeps</a> <a id="28716" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="28719" class="Symbol">=</a> <a id="28721" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="28733" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="28742" href="Ledger.Utxo.Properties.html#28565" class="Function">≤updatePropDeps</a> <a id="28758" class="Symbol">(</a><a id="28759" href="Ledger.Utxo.Properties.html#28759" class="Bound">x</a> <a id="28761" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="28763" href="Ledger.Utxo.Properties.html#28763" class="Bound">props</a><a id="28768" class="Symbol">)</a> <a id="28770" class="Symbol">=</a> <a id="28772" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="28780" class="Symbol">(</a><a id="28781" href="Ledger.Utxo.Properties.html#28565" class="Function">≤updatePropDeps</a> <a id="28797" href="Ledger.Utxo.Properties.html#28763" class="Bound">props</a><a id="28802" class="Symbol">)</a>
                                          <a id="28846" class="Symbol">(</a><a id="28847" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="28855" class="Symbol">(</a><a id="28856" href="Data.Nat.Properties.html#19178" class="Function">m≤m+n</a> <a id="28862" class="Symbol">_</a> <a id="28864" class="Symbol">_)</a>
                                                   <a id="28918" class="Symbol">(</a><a id="28919" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="28931" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="28933" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="28937" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="28939" href="Ledger.Utxo.Properties.html#28060" class="Function">∪⁺singleton≡</a><a id="28951" class="Symbol">))</a>
    <a id="28958" href="Ledger.Utxo.Properties.html#28958" class="Function">updatePropDeps≡</a> <a id="28974" class="Symbol">:</a> <a id="28976" class="Symbol">(</a><a id="28977" href="Ledger.Utxo.Properties.html#28977" class="Bound">ps</a> <a id="28980" class="Symbol">:</a> <a id="28982" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="28987" href="Ledger.GovernanceActions.html#2524" class="Record">GovProposal</a><a id="28998" class="Symbol">)</a>
      <a id="29006" class="Symbol">→</a> <a id="29008" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29016" class="Symbol">(</a><a id="29017" href="Ledger.Utxo.html#8992" class="Function">updateProposalDeposits</a> <a id="29040" href="Ledger.Utxo.Properties.html#28977" class="Bound">ps</a> <a id="29043" href="Ledger.Utxo.Properties.html#28526" class="Bound">txid</a> <a id="29048" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a> <a id="29054" href="Ledger.Utxo.Properties.html#28504" class="Bound">deposits</a><a id="29062" class="Symbol">)</a> <a id="29064" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="29066" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29074" href="Ledger.Utxo.Properties.html#28504" class="Bound">deposits</a> <a id="29083" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="29085" class="Symbol">(</a><a id="29086" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29093" href="Ledger.Utxo.Properties.html#28977" class="Bound">ps</a><a id="29095" class="Symbol">)</a> <a id="29097" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29099" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a>
    <a id="29109" href="Ledger.Utxo.Properties.html#28958" class="Function">updatePropDeps≡</a> <a id="29125" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="29128" class="Symbol">=</a> <a id="29130" href="Data.Nat.Properties.html#46355" class="Function">n∸n≡0</a> <a id="29136" class="Symbol">(</a><a id="29137" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29145" href="Ledger.Utxo.Properties.html#28504" class="Bound">deposits</a><a id="29153" class="Symbol">)</a>
    <a id="29159" href="Ledger.Utxo.Properties.html#28958" class="Function">updatePropDeps≡</a> <a id="29175" class="Symbol">(_</a> <a id="29178" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="29180" href="Ledger.Utxo.Properties.html#29180" class="Bound">ps</a><a id="29182" class="Symbol">)</a> <a id="29184" class="Symbol">=</a> <a id="29186" class="Keyword">let</a>
      <a id="29196" href="Ledger.Utxo.Properties.html#29196" class="Bound">upD</a> <a id="29200" class="Symbol">=</a> <a id="29202" href="Ledger.Utxo.html#8992" class="Function">updateProposalDeposits</a> <a id="29225" href="Ledger.Utxo.Properties.html#29180" class="Bound">ps</a> <a id="29228" href="Ledger.Utxo.Properties.html#28526" class="Bound">txid</a> <a id="29233" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a> <a id="29239" href="Ledger.Utxo.Properties.html#28504" class="Bound">deposits</a> <a id="29248" class="Keyword">in</a>
      <a id="29257" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="29271" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29279" class="Symbol">(</a><a id="29280" href="Ledger.Utxo.Properties.html#29196" class="Bound">upD</a> <a id="29284" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="29287" href="Axiom.Set.Map.html#4588" class="Function Operator">❴</a> <a id="29289" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="29306" class="Symbol">(</a><a id="29307" href="Ledger.Utxo.Properties.html#28526" class="Bound">txid</a> <a id="29312" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29314" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29321" href="Ledger.Utxo.Properties.html#29180" class="Bound">ps</a><a id="29323" class="Symbol">)</a> <a id="29325" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29327" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a> <a id="29333" href="Axiom.Set.Map.html#4588" class="Function Operator">❵ᵐ</a><a id="29335" class="Symbol">)</a> <a id="29337" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29339" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29347" href="Ledger.Utxo.Properties.html#28504" class="Bound">deposits</a>
          <a id="29366" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29369" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="29374" class="Symbol">(</a><a id="29375" href="Data.Nat.Base.html#4462" class="Primitive Operator">_∸</a> <a id="29378" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29386" href="Ledger.Utxo.Properties.html#28504" class="Bound">deposits</a><a id="29394" class="Symbol">)</a> <a id="29396" href="Ledger.Utxo.Properties.html#28060" class="Function">∪⁺singleton≡</a> <a id="29409" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29419" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29427" href="Ledger.Utxo.Properties.html#29196" class="Bound">upD</a> <a id="29431" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29433" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a> <a id="29439" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29441" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29449" href="Ledger.Utxo.Properties.html#28504" class="Bound">deposits</a>
          <a id="29468" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29471" href="Data.Nat.Properties.html#49780" class="Function">+-∸-comm</a> <a id="29480" class="Symbol">_</a> <a id="29482" class="Symbol">(</a><a id="29483" href="Ledger.Utxo.Properties.html#28565" class="Function">≤updatePropDeps</a> <a id="29499" href="Ledger.Utxo.Properties.html#29180" class="Bound">ps</a><a id="29501" class="Symbol">)</a> <a id="29503" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29513" class="Symbol">(</a><a id="29514" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29522" href="Ledger.Utxo.Properties.html#29196" class="Bound">upD</a> <a id="29526" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29528" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29536" href="Ledger.Utxo.Properties.html#28504" class="Bound">deposits</a><a id="29544" class="Symbol">)</a> <a id="29546" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29548" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a>
          <a id="29564" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29567" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="29572" class="Symbol">(</a><a id="29573" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="29576" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a><a id="29581" class="Symbol">)</a> <a id="29583" class="Symbol">(</a><a id="29584" href="Ledger.Utxo.Properties.html#28958" class="Function">updatePropDeps≡</a> <a id="29600" href="Ledger.Utxo.Properties.html#29180" class="Bound">ps</a><a id="29602" class="Symbol">)</a> <a id="29604" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29614" class="Symbol">(</a><a id="29615" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29622" href="Ledger.Utxo.Properties.html#29180" class="Bound">ps</a><a id="29624" class="Symbol">)</a> <a id="29626" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29628" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a> <a id="29634" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29636" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a>
          <a id="29652" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29655" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="29662" class="Symbol">((</a><a id="29664" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29671" href="Ledger.Utxo.Properties.html#29180" class="Bound">ps</a><a id="29673" class="Symbol">)</a> <a id="29675" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29677" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a><a id="29682" class="Symbol">)</a> <a id="29684" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a> <a id="29690" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29700" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a> <a id="29706" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29708" class="Symbol">(</a><a id="29709" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29716" href="Ledger.Utxo.Properties.html#29180" class="Bound">ps</a><a id="29718" class="Symbol">)</a> <a id="29720" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29722" href="Ledger.Utxo.Properties.html#28540" class="Bound">gaDep</a>
          <a id="29738" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
        <a id="29748" class="Keyword">where</a> <a id="29754" class="Keyword">open</a> <a id="29759" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

  <a id="29782" href="Ledger.Utxo.Properties.html#29782" class="Function">≤certDeps</a>  <a id="29793" class="Symbol">:</a>  <a id="29796" class="Symbol">{</a><a id="29797" href="Ledger.Utxo.Properties.html#29797" class="Bound">d</a> <a id="29799" class="Symbol">:</a> <a id="29801" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="29809" class="Symbol">}</a> <a id="29811" class="Symbol">{</a><a id="29812" href="Ledger.Utxo.Properties.html#29812" class="Symbol">(</a><a id="29813" href="Ledger.Utxo.Properties.html#29813" class="Bound">dp</a> <a id="29816" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29818" href="Ledger.Utxo.Properties.html#29818" class="Bound">c</a><a id="29819" href="Ledger.Utxo.Properties.html#29812" class="Symbol">)</a> <a id="29821" class="Symbol">:</a> <a id="29823" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="29838" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="29840" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="29844" class="Symbol">}</a>
             <a id="29859" class="Symbol">→</a>  <a id="29862" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29870" href="Ledger.Utxo.Properties.html#29797" class="Bound">d</a> <a id="29872" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="29874" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29882" class="Symbol">(</a><a id="29883" href="Ledger.Utxo.Properties.html#29797" class="Bound">d</a> <a id="29885" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="29888" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="29890" class="Symbol">(</a><a id="29891" href="Ledger.Utxo.Properties.html#29813" class="Bound">dp</a> <a id="29894" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29896" href="Ledger.Utxo.Properties.html#29818" class="Bound">c</a><a id="29897" class="Symbol">)</a> <a id="29899" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="29900" class="Symbol">)</a>

  <a id="29905" href="Ledger.Utxo.Properties.html#29782" class="Function">≤certDeps</a> <a id="29915" class="Symbol">{</a><a id="29916" href="Ledger.Utxo.Properties.html#29916" class="Bound">d</a><a id="29917" class="Symbol">}</a> <a id="29919" class="Symbol">=</a> <a id="29921" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="29931" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29939" href="Ledger.Utxo.Properties.html#29916" class="Bound">d</a>                      <a id="29962" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="29965" href="Data.Nat.Properties.html#19178" class="Function">m≤m+n</a> <a id="29971" class="Symbol">(</a><a id="29972" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29980" href="Ledger.Utxo.Properties.html#29916" class="Bound">d</a><a id="29981" class="Symbol">)</a> <a id="29983" class="Symbol">_</a> <a id="29985" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="29991" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29999" href="Ledger.Utxo.Properties.html#29916" class="Bound">d</a> <a id="30001" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="30003" class="Symbol">_</a>                  <a id="30022" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="30025" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="30029" href="Ledger.Utxo.Properties.html#28060" class="Function">∪⁺singleton≡</a> <a id="30042" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="30048" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30056" class="Symbol">(</a><a id="30057" href="Ledger.Utxo.Properties.html#29916" class="Bound">d</a> <a id="30059" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30062" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30064" class="Symbol">_</a> <a id="30066" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30067" class="Symbol">)</a>           <a id="30079" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="30085" class="Keyword">where</a> <a id="30091" class="Keyword">open</a> <a id="30096" href="Data.Nat.Properties.html#14692" class="Module">≤-Reasoning</a>


  <a id="30112" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="30128" class="Symbol">:</a> <a id="30130" class="Symbol">(</a><a id="30131" href="Ledger.Utxo.Properties.html#30131" class="Bound">cs</a> <a id="30134" class="Symbol">:</a> <a id="30136" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="30141" href="Ledger.Certs.html#1324" class="Datatype">DCert</a><a id="30146" class="Symbol">)</a> <a id="30148" class="Symbol">{</a><a id="30149" href="Ledger.Utxo.Properties.html#30149" class="Bound">pp</a> <a id="30152" class="Symbol">:</a> <a id="30154" href="Ledger.PParams.html#1570" class="Record">PParams</a><a id="30161" class="Symbol">}</a> <a id="30163" class="Symbol">{</a><a id="30164" href="Ledger.Utxo.Properties.html#30164" class="Bound">deposits</a> <a id="30173" class="Symbol">:</a> <a id="30175" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="30183" class="Symbol">}</a>
    <a id="30189" class="Symbol">→</a> <a id="30191" href="Ledger.Utxo.Properties.html#26895" class="Function">noRefundCert</a> <a id="30204" href="Ledger.Utxo.Properties.html#30131" class="Bound">cs</a>
    <a id="30211" class="Symbol">→</a> <a id="30213" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30221" href="Ledger.Utxo.Properties.html#30164" class="Bound">deposits</a> <a id="30230" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="30232" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30240" class="Symbol">(</a><a id="30241" href="Ledger.Utxo.html#8019" class="Function">updateCertDeposits</a> <a id="30260" href="Ledger.Utxo.Properties.html#30149" class="Bound">pp</a> <a id="30263" href="Ledger.Utxo.Properties.html#30131" class="Bound">cs</a> <a id="30266" href="Ledger.Utxo.Properties.html#30164" class="Bound">deposits</a><a id="30274" class="Symbol">)</a>
  <a id="30278" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="30294" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="30297" href="Ledger.Utxo.Properties.html#30297" class="Bound">nrf</a> <a id="30301" class="Symbol">=</a> <a id="30303" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="30315" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="30322" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="30338" class="Symbol">(</a><a id="30339" href="Ledger.Certs.html#2031" class="InductiveConstructor">reg</a> <a id="30343" href="Ledger.Utxo.Properties.html#30343" class="Bound">c</a> <a id="30345" href="Ledger.Utxo.Properties.html#30345" class="Bound">v</a> <a id="30347" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30349" href="Ledger.Utxo.Properties.html#30349" class="Bound">cs</a><a id="30351" class="Symbol">)</a> <a id="30353" class="Symbol">{</a><a id="30354" href="Ledger.Utxo.Properties.html#30354" class="Bound">pp</a><a id="30356" class="Symbol">}</a> <a id="30358" class="Symbol">{</a><a id="30359" href="Ledger.Utxo.Properties.html#30359" class="Bound">deposits</a><a id="30367" class="Symbol">}</a> <a id="30369" class="Symbol">(_</a> <a id="30372" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30378" href="Ledger.Utxo.Properties.html#30378" class="Bound">nrf</a><a id="30381" class="Symbol">)</a> <a id="30383" class="Symbol">=</a>
    <a id="30389" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30397" href="Ledger.Utxo.Properties.html#29782" class="Function">≤certDeps</a> <a id="30407" class="Symbol">(</a><a id="30408" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="30424" href="Ledger.Utxo.Properties.html#30349" class="Bound">cs</a> <a id="30427" class="Symbol">{</a><a id="30428" href="Ledger.Utxo.Properties.html#30354" class="Bound">pp</a><a id="30430" class="Symbol">}</a> <a id="30432" class="Symbol">{</a><a id="30433" href="Ledger.Utxo.Properties.html#30359" class="Bound">deposits</a> <a id="30442" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30445" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30447" href="Ledger.Certs.html#362" class="InductiveConstructor">CredentialDeposit</a> <a id="30465" href="Ledger.Utxo.Properties.html#30343" class="Bound">c</a> <a id="30467" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30469" href="Ledger.Utxo.Properties.html#30354" class="Bound">pp</a> <a id="30472" class="Symbol">.</a><a id="30473" href="Ledger.PParams.html#2076" class="Field">PParams.keyDeposit</a> <a id="30492" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30493" class="Symbol">}</a> <a id="30495" href="Ledger.Utxo.Properties.html#30378" class="Bound">nrf</a><a id="30498" class="Symbol">)</a>
  <a id="30502" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="30518" class="Symbol">(</a><a id="30519" href="Ledger.Certs.html#1345" class="InductiveConstructor">delegate</a> <a id="30528" href="Ledger.Utxo.Properties.html#30528" class="Bound">c</a> <a id="30530" class="Symbol">_</a> <a id="30532" class="Symbol">_</a> <a id="30534" href="Ledger.Utxo.Properties.html#30534" class="Bound">v</a> <a id="30536" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30538" href="Ledger.Utxo.Properties.html#30538" class="Bound">cs</a><a id="30540" class="Symbol">)</a> <a id="30542" class="Symbol">{</a><a id="30543" href="Ledger.Utxo.Properties.html#30543" class="Bound">pp</a><a id="30545" class="Symbol">}</a> <a id="30547" class="Symbol">{</a><a id="30548" href="Ledger.Utxo.Properties.html#30548" class="Bound">deposits</a><a id="30556" class="Symbol">}</a> <a id="30558" class="Symbol">(_</a> <a id="30561" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30567" href="Ledger.Utxo.Properties.html#30567" class="Bound">nrf</a><a id="30570" class="Symbol">)</a> <a id="30572" class="Symbol">=</a>
    <a id="30578" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30586" href="Ledger.Utxo.Properties.html#29782" class="Function">≤certDeps</a> <a id="30596" class="Symbol">(</a><a id="30597" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="30613" href="Ledger.Utxo.Properties.html#30538" class="Bound">cs</a> <a id="30616" class="Symbol">{</a><a id="30617" href="Ledger.Utxo.Properties.html#30543" class="Bound">pp</a><a id="30619" class="Symbol">}</a> <a id="30621" class="Symbol">{</a><a id="30622" href="Ledger.Utxo.Properties.html#30548" class="Bound">deposits</a> <a id="30631" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30634" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30636" href="Ledger.Certs.html#362" class="InductiveConstructor">CredentialDeposit</a> <a id="30654" href="Ledger.Utxo.Properties.html#30528" class="Bound">c</a> <a id="30656" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30658" href="Ledger.Utxo.Properties.html#30534" class="Bound">v</a> <a id="30660" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30661" class="Symbol">}</a> <a id="30663" href="Ledger.Utxo.Properties.html#30567" class="Bound">nrf</a><a id="30666" class="Symbol">)</a>
  <a id="30670" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="30686" class="Symbol">(</a><a id="30687" href="Ledger.Certs.html#1466" class="InductiveConstructor">regpool</a> <a id="30695" class="Symbol">_</a> <a id="30697" class="Symbol">_</a> <a id="30699" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30701" href="Ledger.Utxo.Properties.html#30701" class="Bound">cs</a><a id="30703" class="Symbol">)</a>       <a id="30711" class="Symbol">(_</a> <a id="30714" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30720" href="Ledger.Utxo.Properties.html#30720" class="Bound">nrf</a><a id="30723" class="Symbol">)</a> <a id="30725" class="Symbol">=</a> <a id="30727" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30735" href="Ledger.Utxo.Properties.html#29782" class="Function">≤certDeps</a> <a id="30745" class="Symbol">(</a><a id="30746" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="30762" href="Ledger.Utxo.Properties.html#30701" class="Bound">cs</a> <a id="30765" href="Ledger.Utxo.Properties.html#30720" class="Bound">nrf</a><a id="30768" class="Symbol">)</a>
  <a id="30772" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="30788" class="Symbol">(</a><a id="30789" href="Ledger.Certs.html#1511" class="InductiveConstructor">retirepool</a> <a id="30800" class="Symbol">_</a> <a id="30802" class="Symbol">_</a> <a id="30804" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30806" href="Ledger.Utxo.Properties.html#30806" class="Bound">cs</a><a id="30808" class="Symbol">)</a>    <a id="30813" class="Symbol">(_</a> <a id="30816" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30822" href="Ledger.Utxo.Properties.html#30822" class="Bound">nrf</a><a id="30825" class="Symbol">)</a> <a id="30827" class="Symbol">=</a> <a id="30829" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="30845" href="Ledger.Utxo.Properties.html#30806" class="Bound">cs</a> <a id="30848" href="Ledger.Utxo.Properties.html#30822" class="Bound">nrf</a>
  <a id="30854" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="30870" class="Symbol">(</a><a id="30871" href="Ledger.Certs.html#1551" class="InductiveConstructor">regdrep</a> <a id="30879" class="Symbol">_</a> <a id="30881" class="Symbol">_</a> <a id="30883" class="Symbol">_</a> <a id="30885" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30887" href="Ledger.Utxo.Properties.html#30887" class="Bound">cs</a><a id="30889" class="Symbol">)</a>     <a id="30895" class="Symbol">(_</a> <a id="30898" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30904" href="Ledger.Utxo.Properties.html#30904" class="Bound">nrf</a><a id="30907" class="Symbol">)</a> <a id="30909" class="Symbol">=</a> <a id="30911" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30919" href="Ledger.Utxo.Properties.html#29782" class="Function">≤certDeps</a> <a id="30929" class="Symbol">(</a><a id="30930" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="30946" href="Ledger.Utxo.Properties.html#30887" class="Bound">cs</a> <a id="30949" href="Ledger.Utxo.Properties.html#30904" class="Bound">nrf</a><a id="30952" class="Symbol">)</a>
  <a id="30956" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="30972" class="Symbol">(</a><a id="30973" href="Ledger.Certs.html#1644" class="InductiveConstructor">ccreghot</a> <a id="30982" class="Symbol">_</a> <a id="30984" class="Symbol">_</a> <a id="30986" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30988" href="Ledger.Utxo.Properties.html#30988" class="Bound">cs</a><a id="30990" class="Symbol">)</a>      <a id="30997" class="Symbol">(_</a> <a id="31000" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="31006" href="Ledger.Utxo.Properties.html#31006" class="Bound">nrf</a><a id="31009" class="Symbol">)</a> <a id="31011" class="Symbol">=</a> <a id="31013" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="31029" href="Ledger.Utxo.Properties.html#30988" class="Bound">cs</a> <a id="31032" href="Ledger.Utxo.Properties.html#31006" class="Bound">nrf</a>

  <a id="31039" class="Comment">-- Main Theorem: General Minimum Spending Condition --</a>
  <a id="31096" href="Ledger.Utxo.Properties.html#31096" class="Function">gmsc</a> <a id="31101" class="Symbol">:</a>  <a id="31104" class="Keyword">let</a> <a id="31108" class="Keyword">open</a> <a id="31113" href="Ledger.Transaction.html#4194" class="Module">Tx</a> <a id="31116" href="Ledger.Utxo.Properties.html#7239" class="Generalizable">tx</a> <a id="31119" class="Keyword">renaming</a> <a id="31128" class="Symbol">(</a><a id="31129" href="Ledger.Transaction.html#4226" class="Field">body</a> <a id="31134" class="Symbol">to</a> <a id="31137" class="Field">txb</a><a id="31140" class="Symbol">);</a> <a id="31143" class="Keyword">open</a> <a id="31148" href="Ledger.Transaction.html#2650" class="Module">TxBody</a> <a id="31155" href="Ledger.Utxo.Properties.html#31137" class="Function">txb</a>
              <a id="31173" href="Ledger.Utxo.Properties.html#31173" class="Bound">pp</a> <a id="31176" class="Symbol">=</a> <a id="31178" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="31194" href="Ledger.Utxo.Properties.html#7321" class="Generalizable">Γ</a><a id="31195" class="Symbol">;</a> <a id="31197" class="Keyword">open</a> <a id="31202" href="Ledger.PParams.html#1570" class="Module">PParams</a> <a id="31210" href="Ledger.Utxo.Properties.html#31173" class="Bound">pp</a>
              <a id="31227" class="Keyword">open</a> <a id="31232" href="Ledger.Utxo.html#2705" class="Module">UTxOState</a> <a id="31242" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a>
                <a id="31268" class="Keyword">renaming</a> <a id="31277" class="Symbol">(</a><a id="31278" href="Ledger.Utxo.html#2769" class="Field">utxo</a> <a id="31283" class="Symbol">to</a> <a id="31286" class="Field">st</a><a id="31288" class="Symbol">;</a> <a id="31290" href="Ledger.Utxo.html#2791" class="Field">fees</a> <a id="31295" class="Symbol">to</a> <a id="31298" class="Field">fs</a><a id="31300" class="Symbol">;</a> <a id="31302" href="Ledger.Utxo.html#2813" class="Field">deposits</a> <a id="31311" class="Symbol">to</a> <a id="31314" class="Field">deps</a><a id="31318" class="Symbol">;</a> <a id="31320" href="Ledger.Utxo.html#2839" class="Field">donations</a> <a id="31330" class="Symbol">to</a> <a id="31333" class="Field">dons</a><a id="31337" class="Symbol">)</a>
          <a id="31349" class="Keyword">in</a>
    <a id="31356" href="Ledger.Utxo.Properties.html#7321" class="Generalizable">Γ</a> <a id="31358" href="Ledger.Utxo.html#3350" class="Datatype Operator">⊢</a>  <a id="31361" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="31363" href="Ledger.Utxo.Properties.html#31286" class="Function">st</a>   <a id="31368" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31370" href="Ledger.Utxo.Properties.html#31298" class="Function">fs</a>   <a id="31375" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31377" href="Ledger.Utxo.Properties.html#31314" class="Function">deps</a>   <a id="31384" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31386" href="Ledger.Utxo.Properties.html#31333" class="Function">dons</a>   <a id="31393" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a> <a id="31395" href="Ledger.Utxo.html#3350" class="Datatype Operator">⇀⦇</a> <a id="31398" href="Ledger.Utxo.Properties.html#7239" class="Generalizable">tx</a> <a id="31401" href="Ledger.Utxo.html#3350" class="Datatype Operator">,UTXO⦈</a>
         <a id="31417" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="31419" href="Ledger.Utxo.Properties.html#7284" class="Generalizable">utxo&#39;</a>  <a id="31426" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31428" href="Ledger.Utxo.Properties.html#7418" class="Generalizable">fees&#39;</a>  <a id="31435" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31437" href="Ledger.Utxo.Properties.html#7464" class="Generalizable">deposits&#39;</a>  <a id="31448" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31450" href="Ledger.Utxo.Properties.html#7434" class="Generalizable">donations&#39;</a>  <a id="31462" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>

    <a id="31469" class="Symbol">→</a> <a id="31471" href="Ledger.Utxo.Properties.html#26895" class="Function">noRefundCert</a> <a id="31484" href="Ledger.Transaction.html#2884" class="Function">txcerts</a> <a id="31492" class="Comment">-- FINAL ASSUMPTION --</a>

       <a id="31523" class="Comment">-------------------------------------------------------------------</a>
    <a id="31595" class="Symbol">→</a>  <a id="31598" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="31603" class="Symbol">(</a><a id="31604" href="Ledger.Utxo.html#12290" class="Function">consumed</a> <a id="31613" href="Ledger.Utxo.Properties.html#31173" class="Bound">pp</a> <a id="31616" href="Ledger.Utxo.Properties.html#7366" class="Generalizable">utxoState</a> <a id="31626" href="Ledger.Utxo.Properties.html#31137" class="Function">txb</a><a id="31629" class="Symbol">)</a> <a id="31631" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="31633" href="Data.List.Base.html#5044" class="Function">length</a> <a id="31640" href="Ledger.Transaction.html#2982" class="Function">txprop</a> <a id="31647" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="31649" href="Ledger.PParams.html#3236" class="Function">govActionDeposit</a>

  <a id="31669" href="Ledger.Utxo.Properties.html#31096" class="Function">gmsc</a> <a id="31674" href="Ledger.Utxo.Properties.html#31674" class="Bound">step</a><a id="31678" class="Symbol">@(</a><a id="31680" href="Ledger.Utxo.html#15387" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="31696" href="Ledger.Utxo.Properties.html#31696" class="Bound">tx</a> <a id="31699" href="Ledger.Utxo.Properties.html#31699" class="Bound">Γ</a> <a id="31701" href="Ledger.Utxo.Properties.html#31701" class="Bound">utxoState</a> <a id="31711" class="Symbol">_</a> <a id="31713" class="Symbol">_</a> <a id="31715" class="Symbol">_</a> <a id="31717" class="Symbol">_</a> <a id="31719" class="Symbol">_</a> <a id="31721" href="Ledger.Utxo.Properties.html#31721" class="Bound">c≡p</a> <a id="31725" href="Ledger.Utxo.Properties.html#31725" class="Bound">cmint≡0</a> <a id="31733" class="Symbol">_</a> <a id="31735" class="Symbol">_</a> <a id="31737" class="Symbol">_</a> <a id="31739" class="Symbol">_</a> <a id="31741" class="Symbol">_</a> <a id="31743" class="Symbol">_</a> <a id="31745" class="Symbol">_</a> <a id="31747" class="Symbol">_</a> <a id="31749" class="Symbol">_</a> <a id="31751" class="Symbol">_)</a> <a id="31754" href="Ledger.Utxo.Properties.html#31754" class="Bound">nrf</a> <a id="31758" class="Symbol">=</a>
    <a id="31764" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="31774" href="Data.List.Base.html#5044" class="Function">length</a> <a id="31781" href="Ledger.Transaction.html#2982" class="Function">txprop</a> <a id="31788" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="31790" href="Ledger.PParams.html#3236" class="Function">govActionDeposit</a>
      <a id="31813" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="31817" href="Ledger.Utxo.Properties.html#28958" class="Function">updatePropDeps≡</a> <a id="31833" href="Ledger.Transaction.html#2982" class="Function">txprop</a> <a id="31840" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="31846" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31854" class="Symbol">(</a><a id="31855" href="Ledger.Utxo.html#8992" class="Function">updateProposalDeposits</a> <a id="31878" href="Ledger.Transaction.html#2982" class="Function">txprop</a> <a id="31885" href="Ledger.Transaction.html#3218" class="Function">txid</a> <a id="31890" href="Ledger.PParams.html#3236" class="Function">govActionDeposit</a> <a id="31907" href="Ledger.Utxo.Properties.html#33224" class="Function">deps</a><a id="31911" class="Symbol">)</a> <a id="31913" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="31915" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31923" href="Ledger.Utxo.Properties.html#33224" class="Function">deps</a>
      <a id="31934" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="31937" href="Data.Nat.Properties.html#47411" class="Function">∸-monoˡ-≤</a> <a id="31947" class="Symbol">(</a><a id="31948" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="31956" href="Ledger.Utxo.Properties.html#33224" class="Function">deps</a><a id="31960" class="Symbol">)</a> <a id="31962" class="Symbol">(</a><a id="31963" href="Ledger.Utxo.Properties.html#30112" class="Function">≤updateCertDeps</a> <a id="31979" href="Ledger.Transaction.html#2884" class="Function">txcerts</a> <a id="31987" href="Ledger.Utxo.Properties.html#31754" class="Bound">nrf</a><a id="31990" class="Symbol">)</a> <a id="31992" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="31998" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32006" class="Symbol">(</a><a id="32007" href="Ledger.Utxo.html#9297" class="Function">updateDeposits</a> <a id="32022" href="Ledger.Utxo.Properties.html#33037" class="Function">pp</a> <a id="32025" href="Ledger.Utxo.Properties.html#33127" class="Function">txb</a> <a id="32029" href="Ledger.Utxo.Properties.html#33224" class="Function">deps</a><a id="32033" class="Symbol">)</a> <a id="32035" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="32037" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32045" href="Ledger.Utxo.Properties.html#33224" class="Function">deps</a>
      <a id="32056" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32059" href="Prelude.html#3321" class="Function">∸≡posPart⊖</a> <a id="32070" class="Symbol">{</a><a id="32071" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32079" class="Symbol">(</a><a id="32080" href="Ledger.Utxo.html#9297" class="Function">updateDeposits</a> <a id="32095" href="Ledger.Utxo.Properties.html#33037" class="Function">pp</a> <a id="32098" href="Ledger.Utxo.Properties.html#33127" class="Function">txb</a> <a id="32102" href="Ledger.Utxo.Properties.html#33224" class="Function">deps</a><a id="32106" class="Symbol">)}</a> <a id="32109" class="Symbol">{</a><a id="32110" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32118" href="Ledger.Utxo.Properties.html#33224" class="Function">deps</a><a id="32122" class="Symbol">}</a> <a id="32124" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32130" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a>
      <a id="32144" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="32147" href="Data.Nat.Properties.html#19261" class="Function">m≤n+m</a> <a id="32153" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a> <a id="32161" class="Symbol">(</a><a id="32162" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32167" href="Ledger.Utxo.Properties.html#33411" class="Function">balOut</a> <a id="32174" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32176" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="32182" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32184" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="32194" class="Symbol">)</a> <a id="32196" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="32202" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32207" href="Ledger.Utxo.Properties.html#33411" class="Function">balOut</a> <a id="32214" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32216" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="32222" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32224" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="32235" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32237" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a>
      <a id="32251" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32254" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="32262" class="Symbol">(</a><a id="32263" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32268" href="Ledger.Utxo.Properties.html#33411" class="Function">balOut</a> <a id="32275" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32277" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="32282" class="Symbol">)</a> <a id="32284" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="32295" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a> <a id="32303" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32309" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32314" href="Ledger.Utxo.Properties.html#33411" class="Function">balOut</a> <a id="32321" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32323" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="32329" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32331" class="Symbol">(</a><a id="32332" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="32343" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32345" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a><a id="32352" class="Symbol">)</a>
      <a id="32360" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32363" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32368" class="Symbol">(</a><a id="32369" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32374" href="Ledger.Utxo.Properties.html#33411" class="Function">balOut</a> <a id="32381" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32383" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="32389" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="32391" class="Symbol">)</a> <a id="32393" class="Symbol">(</a><a id="32394" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="32401" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="32412" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a><a id="32419" class="Symbol">)</a> <a id="32421" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32427" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32432" href="Ledger.Utxo.Properties.html#33411" class="Function">balOut</a> <a id="32439" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32441" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="32447" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32449" class="Symbol">(</a><a id="32450" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a> <a id="32458" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32460" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="32470" class="Symbol">)</a>
      <a id="32478" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32482" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="32490" class="Symbol">(</a><a id="32491" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32496" href="Ledger.Utxo.Properties.html#33411" class="Function">balOut</a> <a id="32503" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32505" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="32510" class="Symbol">)</a> <a id="32512" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a> <a id="32520" href="Ledger.Transaction.html#3022" class="Function">txdonation</a> <a id="32531" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32537" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32542" href="Ledger.Utxo.Properties.html#33411" class="Function">balOut</a> <a id="32549" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32551" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="32557" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32559" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a> <a id="32567" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32569" href="Ledger.Transaction.html#3022" class="Function">txdonation</a>
      <a id="32586" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32590" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32595" class="Symbol">(λ</a> <a id="32598" href="Ledger.Utxo.Properties.html#32598" class="Bound">x</a> <a id="32600" class="Symbol">→</a> <a id="32602" href="Ledger.Utxo.Properties.html#32598" class="Bound">x</a> <a id="32604" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32606" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a> <a id="32614" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32616" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="32626" class="Symbol">)</a> <a id="32628" href="Ledger.TokenAlgebra.html#1313" class="Function">coin-inject-lemma</a> <a id="32646" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32652" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32657" class="Symbol">(</a><a id="32658" href="Ledger.Utxo.Properties.html#33411" class="Function">balOut</a> <a id="32665" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32667" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="32674" href="Ledger.Transaction.html#2780" class="Function">txfee</a><a id="32679" class="Symbol">)</a> <a id="32681" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32683" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a> <a id="32691" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32693" href="Ledger.Transaction.html#3022" class="Function">txdonation</a>
      <a id="32710" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32714" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32719" class="Symbol">(</a><a id="32720" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="32723" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="32733" class="Symbol">)</a> <a id="32735" href="Ledger.TokenAlgebra.html#1313" class="Function">coin-inject-lemma</a> <a id="32753" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32759" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32764" class="Symbol">(</a><a id="32765" href="Ledger.Utxo.Properties.html#33411" class="Function">balOut</a> <a id="32772" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32774" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="32781" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="32787" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32789" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="32796" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a><a id="32803" class="Symbol">)</a> <a id="32805" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32807" href="Ledger.Transaction.html#3022" class="Function">txdonation</a>
      <a id="32824" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32828" href="Ledger.TokenAlgebra.html#1313" class="Function">coin-inject-lemma</a> <a id="32846" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32852" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32857" class="Symbol">(</a><a id="32858" href="Ledger.Utxo.Properties.html#33411" class="Function">balOut</a> <a id="32865" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32867" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="32874" href="Ledger.Transaction.html#2780" class="Function">txfee</a> <a id="32880" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32882" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="32889" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a> <a id="32897" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32899" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="32906" href="Ledger.Transaction.html#3022" class="Function">txdonation</a><a id="32916" class="Symbol">)</a>
      <a id="32924" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32928" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32933" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32938" href="Ledger.Utxo.Properties.html#31721" class="Bound">c≡p</a> <a id="32942" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32948" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32953" class="Symbol">(</a><a id="32954" href="Ledger.Utxo.Properties.html#33405" class="Function">balIn</a> <a id="32960" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32962" href="Ledger.Transaction.html#2808" class="Function">mint</a> <a id="32967" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32969" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="32976" href="Ledger.Utxo.Properties.html#33262" class="Function">refunds</a> <a id="32984" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32986" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="32993" href="Ledger.Utxo.Properties.html#33270" class="Function">wdrls</a><a id="32998" class="Symbol">)</a> <a id="33000" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="33006" class="Keyword">where</a>
    <a id="33016" class="Keyword">open</a> <a id="33021" href="Data.Nat.Properties.html#14692" class="Module">≤-Reasoning</a>
    <a id="33037" href="Ledger.Utxo.Properties.html#33037" class="Function">pp</a> <a id="33040" class="Symbol">:</a> <a id="33042" href="Ledger.PParams.html#1570" class="Record">PParams</a>
    <a id="33054" href="Ledger.Utxo.Properties.html#33037" class="Function">pp</a> <a id="33057" class="Symbol">=</a> <a id="33059" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="33075" href="Ledger.Utxo.Properties.html#31699" class="Bound">Γ</a><a id="33076" class="Symbol">;</a> <a id="33078" class="Keyword">open</a> <a id="33083" href="Ledger.PParams.html#1570" class="Module">PParams</a> <a id="33091" href="Ledger.Utxo.Properties.html#33037" class="Function">pp</a>
    <a id="33098" class="Keyword">open</a> <a id="33103" href="Ledger.Transaction.html#4194" class="Module">Tx</a> <a id="33106" href="Ledger.Utxo.Properties.html#31696" class="Bound">tx</a> <a id="33109" class="Keyword">renaming</a> <a id="33118" class="Symbol">(</a><a id="33119" href="Ledger.Transaction.html#4226" class="Field">body</a> <a id="33124" class="Symbol">to</a> <a id="33127" class="Field">txb</a><a id="33130" class="Symbol">);</a> <a id="33133" class="Keyword">open</a> <a id="33138" href="Ledger.Transaction.html#2650" class="Module">TxBody</a> <a id="33145" href="Ledger.Utxo.Properties.html#33127" class="Function">txb</a>
    <a id="33153" class="Keyword">open</a> <a id="33158" href="Ledger.Utxo.html#2705" class="Module">UTxOState</a> <a id="33168" href="Ledger.Utxo.Properties.html#31701" class="Bound">utxoState</a> <a id="33178" class="Keyword">renaming</a> <a id="33187" class="Symbol">(</a><a id="33188" href="Ledger.Utxo.html#2769" class="Field">utxo</a> <a id="33193" class="Symbol">to</a> <a id="33196" class="Field">st</a><a id="33198" class="Symbol">;</a> <a id="33200" href="Ledger.Utxo.html#2791" class="Field">fees</a> <a id="33205" class="Symbol">to</a> <a id="33208" class="Field">fs</a><a id="33210" class="Symbol">;</a> <a id="33212" href="Ledger.Utxo.html#2813" class="Field">deposits</a> <a id="33221" class="Symbol">to</a> <a id="33224" class="Field">deps</a><a id="33228" class="Symbol">;</a> <a id="33230" href="Ledger.Utxo.html#2839" class="Field">donations</a> <a id="33240" class="Symbol">to</a> <a id="33243" class="Field">dons</a><a id="33247" class="Symbol">)</a>

    <a id="33254" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a> <a id="33262" href="Ledger.Utxo.Properties.html#33262" class="Function">refunds</a> <a id="33270" href="Ledger.Utxo.Properties.html#33270" class="Function">wdrls</a> <a id="33276" class="Symbol">:</a> <a id="33278" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="33287" href="Ledger.Utxo.Properties.html#33254" class="Function">newDeps</a> <a id="33295" class="Symbol">=</a> <a id="33297" href="Ledger.Utxo.html#12164" class="Function">newDeposits</a> <a id="33309" href="Ledger.Utxo.Properties.html#33037" class="Function">pp</a> <a id="33312" href="Ledger.Utxo.Properties.html#31701" class="Bound">utxoState</a> <a id="33322" href="Ledger.Utxo.Properties.html#33127" class="Function">txb</a>
    <a id="33330" href="Ledger.Utxo.Properties.html#33262" class="Function">refunds</a> <a id="33338" class="Symbol">=</a> <a id="33340" href="Ledger.Utxo.html#12032" class="Function">depositRefunds</a> <a id="33355" href="Ledger.Utxo.Properties.html#33037" class="Function">pp</a> <a id="33358" href="Ledger.Utxo.Properties.html#31701" class="Bound">utxoState</a> <a id="33368" href="Ledger.Utxo.Properties.html#33127" class="Function">txb</a>
    <a id="33376" href="Ledger.Utxo.Properties.html#33270" class="Function">wdrls</a> <a id="33382" class="Symbol">=</a> <a id="33384" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="33392" href="Ledger.Transaction.html#2918" class="Function">txwdrls</a>

    <a id="33405" href="Ledger.Utxo.Properties.html#33405" class="Function">balIn</a> <a id="33411" href="Ledger.Utxo.Properties.html#33411" class="Function">balOut</a> <a id="33418" class="Symbol">:</a> <a id="33420" href="Ledger.TokenAlgebra.html#492" class="Function">Value</a>
    <a id="33430" href="Ledger.Utxo.Properties.html#33405" class="Function">balIn</a> <a id="33436" class="Symbol">=</a> <a id="33438" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="33446" class="Symbol">(</a><a id="33447" href="Ledger.Utxo.Properties.html#33196" class="Function">st</a> <a id="33450" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="33452" href="Ledger.Transaction.html#2686" class="Function">txins</a><a id="33457" class="Symbol">)</a>
    <a id="33463" href="Ledger.Utxo.Properties.html#33411" class="Function">balOut</a> <a id="33470" class="Symbol">=</a> <a id="33472" href="Ledger.Utxo.html#3554" class="Function">balance</a> <a id="33480" class="Symbol">(</a><a id="33481" href="Ledger.Utxo.html#3483" class="Function">outs</a> <a id="33486" href="Ledger.Utxo.Properties.html#33127" class="Function">txb</a><a id="33489" class="Symbol">)</a>

</pre></body></html>