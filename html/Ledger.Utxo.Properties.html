<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Utxo.Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Algebra.Morphism.html" class="Module">Algebra.Morphism</a>            <a id="66" class="Keyword">using</a> <a id="72" class="Symbol">(</a><a id="73" class="Keyword">module</a> <a id="80" href="Algebra.Morphism.Structures.html#4053" class="Module">MonoidMorphisms</a><a id="95" class="Symbol">;</a> <a id="97" href="Algebra.Morphism.Structures.html#2757" class="Record">IsMagmaHomomorphism</a><a id="116" class="Symbol">)</a>
<a id="118" class="Keyword">import</a> <a id="125" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="134" class="Symbol">as</a> <a id="137" class="Module">ℕ</a>
<a id="139" class="Keyword">open</a> <a id="144" class="Keyword">import</a> <a id="151" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>         <a id="179" class="Keyword">hiding</a> <a id="186" class="Symbol">(</a><a id="187" href="Data.Nat.Properties.html#3874" class="Function Operator">_≟_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Product.html" class="Module">Data.Product</a>                <a id="232" class="Keyword">using</a> <a id="238" class="Symbol">(</a><a id="239" href="Data.Product.Base.html#5054" class="Function">swap</a><a id="243" class="Symbol">)</a>
<a id="245" class="Keyword">open</a> <a id="250" class="Keyword">import</a> <a id="257" href="Data.Sign.html" class="Module">Data.Sign</a>                   <a id="285" class="Keyword">using</a> <a id="291" class="Symbol">(</a><a id="292" href="Data.Sign.Base.html#523" class="Datatype">Sign</a><a id="296" class="Symbol">)</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="323" class="Symbol">as</a> <a id="326" class="Module">ℤ</a>           <a id="338" class="Keyword">using</a> <a id="344" class="Symbol">(</a><a id="345" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="346" class="Symbol">)</a>
<a id="348" class="Keyword">import</a> <a id="355" href="Data.Integer.Properties.html" class="Module">Data.Integer.Properties</a> <a id="379" class="Symbol">as</a> <a id="382" class="Module">ℤ</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Data.String.Base.html" class="Module">Data.String.Base</a>            <a id="424" class="Keyword">renaming</a> <a id="433" class="Symbol">(</a><a id="434" href="Data.String.Base.html#2425" class="Function Operator">_++_</a> <a id="439" class="Symbol">to</a> <a id="442" class="Function Operator">_+ˢ_</a><a id="446" class="Symbol">)</a> <a id="448" class="Keyword">using</a> <a id="454" class="Symbol">()</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Relation.Binary.html" class="Module">Relation.Binary</a>             <a id="497" class="Keyword">using</a> <a id="503" class="Symbol">(</a><a id="504" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a><a id="517" class="Symbol">)</a>

<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a>  <a id="562" class="Keyword">using</a> <a id="568" class="Symbol">(</a><a id="569" href="Data.List.Relation.Unary.All.html#1644" class="Datatype">All</a><a id="572" class="Symbol">)</a>
<a id="574" class="Keyword">open</a> <a id="579" class="Keyword">import</a> <a id="586" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>  <a id="616" class="Keyword">using</a> <a id="622" class="Symbol">(</a><a id="623" href="Data.List.Relation.Unary.Any.html#1148" class="Datatype">Any</a><a id="626" class="Symbol">);</a> <a id="629" class="Keyword">open</a> <a id="634" href="Data.List.Relation.Unary.Any.html#1148" class="Module">Any</a>

<a id="639" class="Keyword">open</a> <a id="644" class="Keyword">import</a> <a id="651" href="Prelude.html" class="Module">Prelude</a><a id="658" class="Symbol">;</a> <a id="660" class="Keyword">open</a> <a id="665" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="678" class="Keyword">open</a> <a id="683" class="Keyword">import</a> <a id="690" href="Tactic.Cong.html" class="Module">Tactic.Cong</a>                 <a id="718" class="Keyword">using</a> <a id="724" class="Symbol">(</a><a id="725" href="Tactic.Cong.html#9441" class="Function">cong!</a><a id="730" class="Symbol">)</a>
<a id="732" class="Keyword">open</a> <a id="737" class="Keyword">import</a> <a id="744" href="Tactic.Defaults.html" class="Module">Tactic.Defaults</a>
<a id="760" class="Keyword">open</a> <a id="765" class="Keyword">import</a> <a id="772" href="Tactic.EquationalReasoning.html" class="Module">Tactic.EquationalReasoning</a>  <a id="800" class="Keyword">using</a> <a id="806" class="Symbol">(</a><a id="807" class="Keyword">module</a> <a id="814" href="Tactic.EquationalReasoning.html#418" class="Module">≡-Reasoning</a><a id="825" class="Symbol">)</a>
<a id="827" class="Keyword">open</a> <a id="832" class="Keyword">import</a> <a id="839" href="Tactic.GenError.html" class="Module">Tactic.GenError</a>
<a id="855" class="Keyword">open</a> <a id="860" class="Keyword">import</a> <a id="867" href="Tactic.MonoidSolver.NonNormalising.html" class="Module">Tactic.MonoidSolver.NonNormalising</a> <a id="902" class="Keyword">using</a> <a id="908" class="Symbol">(</a><a id="909" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a><a id="920" class="Symbol">)</a>

<a id="923" class="Keyword">open</a> <a id="928" class="Keyword">import</a> <a id="935" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="950" class="Keyword">hiding</a> <a id="957" class="Symbol">(</a><a id="958" href="Class.HasOrder.Core.html#995" class="Function">≤-trans</a><a id="965" class="Symbol">;</a> <a id="967" href="Class.HasOrder.Core.html#1894" class="Field">≤-antisym</a><a id="976" class="Symbol">;</a> <a id="978" href="Axiom.Set.html#9724" class="Function">All</a><a id="981" class="Symbol">);</a> <a id="984" class="Keyword">open</a> <a id="989" href="abstract-set-theory.FiniteSetTheory.html#1716" class="Module">Properties</a>
<a id="1000" class="Keyword">open</a> <a id="1005" class="Keyword">import</a> <a id="1012" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>
<a id="1028" class="Keyword">open</a> <a id="1033" class="Keyword">import</a> <a id="1040" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="1059" class="Keyword">open</a> <a id="1064" class="Keyword">import</a> <a id="1071" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>

<a id="1104" class="Keyword">module</a> <a id="1111" href="Ledger.Utxo.Properties.html" class="Module">Ledger.Utxo.Properties</a>
  <a id="1136" class="Symbol">(</a><a id="1137" href="Ledger.Utxo.Properties.html#1137" class="Bound">txs</a> <a id="1141" class="Symbol">:</a> <a id="1143" class="Symbol">_)</a> <a id="1146" class="Symbol">(</a><a id="1147" class="Keyword">open</a> <a id="1152" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="1173" href="Ledger.Utxo.Properties.html#1137" class="Bound">txs</a><a id="1176" class="Symbol">)</a>
  <a id="1180" class="Symbol">(</a><a id="1181" href="Ledger.Utxo.Properties.html#1181" class="Bound">abs</a> <a id="1185" class="Symbol">:</a> <a id="1187" href="Ledger.Abstract.html#578" class="Record">AbstractFunctions</a> <a id="1205" href="Ledger.Utxo.Properties.html#1137" class="Bound">txs</a><a id="1208" class="Symbol">)</a> <a id="1210" class="Symbol">(</a><a id="1211" class="Keyword">open</a> <a id="1216" href="Ledger.Abstract.html#578" class="Module">AbstractFunctions</a> <a id="1234" href="Ledger.Utxo.Properties.html#1181" class="Bound">abs</a><a id="1237" class="Symbol">)</a>
  <a id="1241" class="Keyword">where</a>

<a id="1248" class="Keyword">open</a> <a id="1253" class="Keyword">import</a> <a id="1260" href="Ledger.Utxo.html" class="Module">Ledger.Utxo</a> <a id="1272" href="Ledger.Utxo.Properties.html#1137" class="Bound">txs</a> <a id="1276" href="Ledger.Utxo.Properties.html#1181" class="Bound">abs</a>
<a id="1280" class="Keyword">open</a> <a id="1285" class="Keyword">import</a> <a id="1292" href="Ledger.ScriptValidation.html" class="Module">Ledger.ScriptValidation</a> <a id="1316" href="Ledger.Utxo.Properties.html#1137" class="Bound">txs</a> <a id="1320" href="Ledger.Utxo.Properties.html#1181" class="Bound">abs</a>
<a id="1324" class="Keyword">open</a> <a id="1329" class="Keyword">import</a> <a id="1336" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="1349" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="1362" class="Keyword">open</a> <a id="1367" class="Keyword">import</a> <a id="1374" href="Algebra.Definitions.RawMagma.html" class="Module">Algebra.Definitions.RawMagma</a> <a id="1403" href="Data.Nat.Base.html#4468" class="Function">+-rawMagma</a> <a id="1414" class="Keyword">using</a> <a id="1420" class="Symbol">()</a> <a id="1423" class="Keyword">renaming</a> <a id="1432" class="Symbol">(</a><a id="1433" href="Algebra.Definitions.RawMagma.html#1419" class="InductiveConstructor Operator">_,_</a> <a id="1437" class="Symbol">to</a> <a id="1440" class="InductiveConstructor Operator">_,≤_</a><a id="1444" class="Symbol">)</a>

<a id="1447" class="Keyword">instance</a>
  <a id="1458" href="Ledger.Utxo.Properties.html#1458" class="Function">_</a> <a id="1460" class="Symbol">=</a> <a id="1462" href="Ledger.TokenAlgebra.html#510" class="Field">TokenAlgebra.Value-CommutativeMonoid</a> <a id="1499" href="Ledger.Transaction.html#1706" class="Field">tokenAlgebra</a>
  <a id="1514" href="Ledger.Utxo.Properties.html#1514" class="Function">_</a> <a id="1516" class="Symbol">=</a> <a id="1518" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a>
  <a id="1531" href="Ledger.Utxo.Properties.html#1531" class="Function">_</a> <a id="1533" class="Symbol">=</a> <a id="1535" href="Interface.ComputationalRelation.html#1365" class="Function">Functor-ComputationResult</a>

<a id="1562" class="Keyword">instance</a>
  <a id="Computational-UTXOS"></a><a id="1573" href="Ledger.Utxo.Properties.html#1573" class="Function">Computational-UTXOS</a> <a id="1593" class="Symbol">:</a> <a id="1595" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="1609" href="Ledger.Utxo.html#12749" class="Datatype Operator">_⊢_⇀⦇_,UTXOS⦈_</a> <a id="1624" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1633" href="Ledger.Utxo.Properties.html#1573" class="Function">Computational-UTXOS</a> <a id="1653" class="Symbol">=</a> <a id="1655" class="Keyword">record</a> <a id="1662" class="Symbol">{</a><a id="1663" href="Ledger.Utxo.Properties.html#1684" class="Module">go</a><a id="1665" class="Symbol">}</a> <a id="1667" class="Keyword">where</a>
    <a id="1677" class="Keyword">module</a> <a id="1684" href="Ledger.Utxo.Properties.html#1684" class="Module">go</a> <a id="1687" class="Symbol">(</a><a id="1688" href="Ledger.Utxo.Properties.html#1688" class="Bound">Γ</a> <a id="1690" class="Symbol">:</a> <a id="1692" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a><a id="1699" class="Symbol">)</a> <a id="1701" class="Symbol">(</a><a id="1702" href="Ledger.Utxo.Properties.html#1702" class="Bound">s</a> <a id="1704" class="Symbol">:</a> <a id="1706" href="Ledger.Utxo.html#2561" class="Record">UTxOState</a><a id="1715" class="Symbol">)</a> <a id="1717" class="Symbol">(</a><a id="1718" href="Ledger.Utxo.Properties.html#1718" class="Bound">tx</a> <a id="1721" class="Symbol">:</a> <a id="1723" href="Ledger.Transaction.html#4234" class="Record">Tx</a><a id="1725" class="Symbol">)</a>
      <a id="1733" class="Symbol">(</a><a id="1734" class="Keyword">let</a> <a id="1738" class="Keyword">open</a> <a id="1743" href="Ledger.Utxo.html#2561" class="Module">UTxOState</a> <a id="1753" href="Ledger.Utxo.Properties.html#1702" class="Bound">s</a><a id="1754" class="Symbol">)</a>
      <a id="1762" class="Symbol">(</a><a id="1763" class="Keyword">let</a> <a id="1767" href="Ledger.Utxo.Properties.html#1767" class="Bound">H-Yes</a> <a id="1773" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1775" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1777" href="Ledger.Utxo.Properties.html#1777" class="Bound">H-Yes?</a> <a id="1784" class="Symbol">=</a> <a id="1786" href="Ledger.Utxo.html#13811" class="Function">Scripts-Yes-premises</a> <a id="1807" class="Symbol">{</a><a id="1808" href="Ledger.Utxo.Properties.html#1688" class="Bound">Γ</a><a id="1809" class="Symbol">}</a> <a id="1811" class="Symbol">{</a><a id="1812" href="Ledger.Utxo.Properties.html#1718" class="Bound">tx</a><a id="1814" class="Symbol">}</a> <a id="1816" class="Symbol">{</a><a id="1817" href="Ledger.Utxo.html#2625" class="Function">utxo</a><a id="1821" class="Symbol">}</a> <a id="1823" class="Symbol">{</a><a id="1824" href="Ledger.Utxo.html#2669" class="Function">deposits</a><a id="1832" class="Symbol">})</a>
      <a id="1841" class="Symbol">(</a><a id="1842" class="Keyword">let</a> <a id="1846" href="Ledger.Utxo.Properties.html#1846" class="Bound">H-No</a>  <a id="1852" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1854" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1856" href="Ledger.Utxo.Properties.html#1856" class="Bound">H-No?</a>  <a id="1863" class="Symbol">=</a> <a id="1865" href="Ledger.Utxo.html#13899" class="Function">Scripts-No-premises</a>  <a id="1886" class="Symbol">{</a><a id="1887" href="Ledger.Utxo.Properties.html#1688" class="Bound">Γ</a><a id="1888" class="Symbol">}</a> <a id="1890" class="Symbol">{</a><a id="1891" href="Ledger.Utxo.Properties.html#1718" class="Bound">tx</a><a id="1893" class="Symbol">}</a> <a id="1895" class="Symbol">{</a><a id="1896" href="Ledger.Utxo.html#2625" class="Function">utxo</a><a id="1900" class="Symbol">})</a> <a id="1903" class="Keyword">where</a>
      <a id="1915" class="Keyword">open</a> <a id="1920" href="Ledger.Transaction.html#4234" class="Module">Tx</a> <a id="1923" href="Ledger.Utxo.Properties.html#1718" class="Bound">tx</a> <a id="1926" class="Keyword">renaming</a> <a id="1935" class="Symbol">(</a><a id="1936" href="Ledger.Transaction.html#4266" class="Field">body</a> <a id="1941" class="Symbol">to</a> <a id="1944" class="Field">txb</a><a id="1947" class="Symbol">);</a> <a id="1950" class="Keyword">open</a> <a id="1955" href="Ledger.Transaction.html#2691" class="Module">TxBody</a> <a id="1962" href="Ledger.Utxo.Properties.html#1944" class="Field">txb</a>
      <a id="1972" class="Keyword">open</a> <a id="1977" href="Ledger.Utxo.html#2353" class="Module">UTxOEnv</a> <a id="1985" href="Ledger.Utxo.Properties.html#1688" class="Bound">Γ</a> <a id="1987" class="Keyword">renaming</a> <a id="1996" class="Symbol">(</a><a id="1997" href="Ledger.Utxo.html#2407" class="Field">pparams</a> <a id="2005" class="Symbol">to</a> <a id="2008" class="Field">pp</a><a id="2010" class="Symbol">)</a>
      <a id="2018" href="Ledger.Utxo.Properties.html#2018" class="Function">sLst</a> <a id="2023" class="Symbol">=</a> <a id="2025" href="Ledger.ScriptValidation.html#5858" class="Function">collectPhaseTwoScriptInputs</a> <a id="2053" href="Ledger.Utxo.Properties.html#2008" class="Function">pp</a> <a id="2056" href="Ledger.Utxo.Properties.html#1718" class="Bound">tx</a> <a id="2059" href="Ledger.Utxo.html#2625" class="Function">utxo</a>

      <a id="2071" href="Ledger.Utxo.Properties.html#2071" class="Function">computeProof</a> <a id="2084" class="Symbol">=</a>
        <a id="2094" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2099" href="Ledger.Utxo.Properties.html#1777" class="Bound">H-Yes?</a> <a id="2106" href="Data.Product.Base.html#1686" class="Function Operator">,′</a> <a id="2109" href="Ledger.Utxo.Properties.html#1856" class="Bound">H-No?</a> <a id="2115" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2118" class="Symbol">λ</a> <a id="2120" class="Keyword">where</a>
          <a id="2136" class="Symbol">(</a><a id="2137" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2141" href="Ledger.Utxo.Properties.html#2141" class="Bound">p</a> <a id="2143" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2145" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2148" class="Symbol">_</a> <a id="2150" class="Symbol">)</a> <a id="2152" class="Symbol">→</a> <a id="2154" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2162" class="Symbol">(_</a> <a id="2165" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2167" class="Symbol">(</a><a id="2168" href="Ledger.Utxo.html#12842" class="InductiveConstructor">Scripts-Yes</a> <a id="2180" href="Ledger.Utxo.Properties.html#2141" class="Bound">p</a><a id="2181" class="Symbol">))</a>
          <a id="2194" class="Symbol">(</a><a id="2195" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2198" class="Symbol">_</a>  <a id="2201" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2203" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2207" href="Ledger.Utxo.Properties.html#2207" class="Bound">p</a><a id="2208" class="Symbol">)</a> <a id="2210" class="Symbol">→</a> <a id="2212" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2220" class="Symbol">(_</a> <a id="2223" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2225" class="Symbol">(</a><a id="2226" href="Ledger.Utxo.html#13356" class="InductiveConstructor">Scripts-No</a> <a id="2237" href="Ledger.Utxo.Properties.html#2207" class="Bound">p</a><a id="2238" class="Symbol">))</a>
          <a id="2251" class="CatchallClause Symbol">(_</a><a id="2253" class="CatchallClause">     </a><a id="2258" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="2259" class="CatchallClause"> </a><a id="2260" class="CatchallClause Symbol">_</a><a id="2261" class="CatchallClause">    </a><a id="2265" class="CatchallClause Symbol">)</a> <a id="2267" class="Symbol">→</a> <a id="2269" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="2277" class="String">&quot;isValid check failed&quot;</a>

      <a id="2307" href="Ledger.Utxo.Properties.html#2307" class="Function">completeness</a> <a id="2320" class="Symbol">:</a> <a id="2322" class="Symbol">∀</a> <a id="2324" href="Ledger.Utxo.Properties.html#2324" class="Bound">s&#39;</a> <a id="2327" class="Symbol">→</a> <a id="2329" href="Ledger.Utxo.Properties.html#1688" class="Bound">Γ</a> <a id="2331" href="Ledger.Utxo.html#12749" class="Datatype Operator">⊢</a> <a id="2333" href="Ledger.Utxo.Properties.html#1702" class="Bound">s</a> <a id="2335" href="Ledger.Utxo.html#12749" class="Datatype Operator">⇀⦇</a> <a id="2338" href="Ledger.Utxo.Properties.html#1718" class="Bound">tx</a> <a id="2341" href="Ledger.Utxo.html#12749" class="Datatype Operator">,UTXOS⦈</a> <a id="2349" href="Ledger.Utxo.Properties.html#2324" class="Bound">s&#39;</a> <a id="2352" class="Symbol">→</a> <a id="2354" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2358" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2364" href="Ledger.Utxo.Properties.html#2071" class="Function">computeProof</a> <a id="2377" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2379" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2387" href="Ledger.Utxo.Properties.html#2324" class="Bound">s&#39;</a>
      <a id="2396" href="Ledger.Utxo.Properties.html#2307" class="Function">completeness</a> <a id="2409" class="Symbol">_</a> <a id="2411" class="Symbol">(</a><a id="2412" href="Ledger.Utxo.html#12842" class="InductiveConstructor">Scripts-Yes</a> <a id="2424" href="Ledger.Utxo.Properties.html#2424" class="Bound">p</a><a id="2425" class="Symbol">)</a> <a id="2427" class="Keyword">with</a> <a id="2432" href="Ledger.Utxo.Properties.html#1856" class="Bound">H-No?</a> <a id="2438" class="Symbol">|</a> <a id="2440" href="Ledger.Utxo.Properties.html#1777" class="Bound">H-Yes?</a>
      <a id="2453" class="Symbol">...</a> <a id="2457" class="Symbol">|</a> <a id="2459" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2463" class="Symbol">(_</a> <a id="2466" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2468" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2472" class="Symbol">)</a> <a id="2474" class="Symbol">|</a> <a id="2476" class="Symbol">_</a>     <a id="2482" class="Symbol">=</a> <a id="2484" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2489" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2495" class="Bound">p</a> <a id="2497" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2500" class="Symbol">λ</a> <a id="2502" class="Symbol">()</a>
      <a id="2511" class="Symbol">...</a> <a id="2515" class="Symbol">|</a> <a id="2517" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2520" class="Symbol">_</a>           <a id="2532" class="Symbol">|</a> <a id="2534" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2538" class="Symbol">_</a> <a id="2540" class="Symbol">=</a> <a id="2542" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2553" class="Symbol">...</a> <a id="2557" class="Symbol">|</a> <a id="2559" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2562" class="Symbol">_</a>           <a id="2574" class="Symbol">|</a> <a id="2576" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2579" href="Ledger.Utxo.Properties.html#2579" class="Bound">¬p</a> <a id="2582" class="Symbol">=</a> <a id="2584" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2589" href="Ledger.Utxo.Properties.html#2579" class="Bound">¬p</a> <a id="2592" class="Bound">p</a> <a id="2594" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2597" class="Symbol">λ</a> <a id="2599" class="Symbol">()</a>
      <a id="2608" href="Ledger.Utxo.Properties.html#2307" class="Function">completeness</a> <a id="2621" class="Symbol">_</a> <a id="2623" class="Symbol">(</a><a id="2624" href="Ledger.Utxo.html#13356" class="InductiveConstructor">Scripts-No</a> <a id="2635" href="Ledger.Utxo.Properties.html#2635" class="Bound">p</a><a id="2636" class="Symbol">)</a> <a id="2638" class="Keyword">with</a> <a id="2643" href="Ledger.Utxo.Properties.html#1777" class="Bound">H-Yes?</a> <a id="2650" class="Symbol">|</a> <a id="2652" href="Ledger.Utxo.Properties.html#1856" class="Bound">H-No?</a>
      <a id="2664" class="Symbol">...</a> <a id="2668" class="Symbol">|</a> <a id="2670" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2674" class="Symbol">(_</a> <a id="2677" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2679" class="Symbol">_</a> <a id="2681" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2683" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2687" class="Symbol">)</a> <a id="2689" class="Symbol">|</a> <a id="2691" class="Symbol">_</a>     <a id="2697" class="Symbol">=</a> <a id="2699" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2704" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2710" class="Bound">p</a> <a id="2712" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2715" class="Symbol">λ</a> <a id="2717" class="Symbol">()</a>
      <a id="2726" class="Symbol">...</a> <a id="2730" class="Symbol">|</a> <a id="2732" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2735" class="Symbol">_</a>               <a id="2751" class="Symbol">|</a> <a id="2753" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2757" class="Symbol">_</a> <a id="2759" class="Symbol">=</a> <a id="2761" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2772" class="Symbol">...</a> <a id="2776" class="Symbol">|</a> <a id="2778" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2781" class="Symbol">_</a>               <a id="2797" class="Symbol">|</a> <a id="2799" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2802" href="Ledger.Utxo.Properties.html#2802" class="Bound">¬p</a> <a id="2805" class="Symbol">=</a> <a id="2807" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2812" href="Ledger.Utxo.Properties.html#2802" class="Bound">¬p</a> <a id="2815" class="Bound">p</a> <a id="2817" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2820" class="Symbol">λ</a> <a id="2822" class="Symbol">()</a>

<a id="2826" class="Keyword">instance</a>
  <a id="Computational-UTXO&#39;"></a><a id="2837" href="Ledger.Utxo.Properties.html#2837" class="Function">Computational-UTXO&#39;</a> <a id="2857" class="Symbol">:</a> <a id="2859" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="2873" href="Ledger.Utxo.html#3206" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="2887" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="2896" href="Ledger.Utxo.Properties.html#2837" class="Function">Computational-UTXO&#39;</a> <a id="2916" class="Symbol">=</a> <a id="2918" class="Keyword">record</a> <a id="2925" class="Symbol">{</a><a id="2926" href="Ledger.Utxo.Properties.html#2953" class="Module">Go</a><a id="2928" class="Symbol">}</a>
    <a id="2934" class="Keyword">where</a>
      <a id="2946" class="Keyword">module</a> <a id="2953" href="Ledger.Utxo.Properties.html#2953" class="Module">Go</a> <a id="2956" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a> <a id="2958" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="2960" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a> <a id="2963" class="Symbol">(</a><a id="2964" class="Keyword">let</a> <a id="2968" href="Ledger.Utxo.Properties.html#2968" class="Bound">H</a> <a id="2970" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2972" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="2974" href="Ledger.Utxo.Properties.html#2974" class="Bound">H?</a> <a id="2977" class="Symbol">=</a> <a id="2979" href="Ledger.Utxo.html#15451" class="Function">UTXO-premises</a> <a id="2993" class="Symbol">{</a><a id="2994" class="Argument">Γ</a> <a id="2996" class="Symbol">=</a> <a id="2998" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a><a id="2999" class="Symbol">}</a> <a id="3001" class="Symbol">{</a><a id="3002" class="Argument">s</a> <a id="3004" class="Symbol">=</a> <a id="3006" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a><a id="3007" class="Symbol">}</a> <a id="3009" class="Symbol">{</a><a id="3010" class="Argument">tx</a> <a id="3013" class="Symbol">=</a> <a id="3015" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a><a id="3017" class="Symbol">})</a> <a id="3020" class="Keyword">where</a>

        <a id="3035" class="Keyword">open</a> <a id="3040" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="3054" href="Ledger.Utxo.Properties.html#1573" class="Function">Computational-UTXOS</a>
          <a id="3084" class="Keyword">renaming</a> <a id="3093" class="Symbol">(</a><a id="3094" href="Interface.ComputationalRelation.html#2879" class="Field">computeProof</a> <a id="3107" class="Symbol">to</a> <a id="3110" class="Field">computeProof&#39;</a><a id="3123" class="Symbol">;</a> <a id="3125" href="Interface.ComputationalRelation.html#3096" class="Field">completeness</a> <a id="3138" class="Symbol">to</a> <a id="3141" class="Field">completeness&#39;</a><a id="3154" class="Symbol">)</a>

        <a id="3165" href="Ledger.Utxo.Properties.html#3165" class="Function">genErr</a> <a id="3172" class="Symbol">:</a> <a id="3174" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="3176" href="Ledger.Utxo.Properties.html#2968" class="Bound">H</a> <a id="3178" class="Symbol">→</a> <a id="3180" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
        <a id="3195" href="Ledger.Utxo.Properties.html#3165" class="Function">genErr</a>  <a id="3203" href="Ledger.Utxo.Properties.html#3203" class="Bound">¬p</a> <a id="3206" class="Symbol">=</a> <a id="3208" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3213" href="Ledger.Prelude.html#1193" class="Function">dec-de-morgan</a> <a id="3227" href="Ledger.Utxo.Properties.html#3203" class="Bound">¬p</a> <a id="3230" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3233" class="Symbol">λ</a> <a id="3235" class="Keyword">where</a>
          <a id="3251" class="Symbol">(</a><a id="3252" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3257" href="Ledger.Utxo.Properties.html#3257" class="Bound">a</a><a id="3258" class="Symbol">)</a> <a id="3260" class="Symbol">→</a> <a id="3262" class="String">&quot;¬ TxBody.txins (Tx.body tx) ≢ ∅&quot;</a>
          <a id="3306" class="Symbol">(</a><a id="3307" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3312" href="Ledger.Utxo.Properties.html#3312" class="Bound">b</a><a id="3313" class="Symbol">)</a> <a id="3315" class="Symbol">→</a> <a id="3317" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3322" href="Ledger.Prelude.html#1193" class="Function">dec-de-morgan</a> <a id="3336" href="Ledger.Utxo.Properties.html#3312" class="Bound">b</a> <a id="3338" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3341" class="Symbol">λ</a> <a id="3343" class="Keyword">where</a>
            <a id="3361" class="Symbol">(</a><a id="3362" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3367" href="Ledger.Utxo.Properties.html#3367" class="Bound">a₁</a><a id="3369" class="Symbol">)</a> <a id="3371" class="Symbol">→</a> <a id="3373" class="String">&quot;¬ TxBody.txins (Tx.body tx) ⊆ dom (UTxOState.utxo s)&quot;</a>
            <a id="3440" class="Symbol">(</a><a id="3441" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3446" href="Ledger.Utxo.Properties.html#3446" class="Bound">b₁</a><a id="3448" class="Symbol">)</a> <a id="3450" class="Symbol">→</a> <a id="3452" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3457" href="Ledger.Prelude.html#1193" class="Function">dec-de-morgan</a> <a id="3471" href="Ledger.Utxo.Properties.html#3446" class="Bound">b₁</a> <a id="3474" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3477" class="Symbol">λ</a> <a id="3479" class="Keyword">where</a>
                <a id="3501" class="Symbol">(</a><a id="3502" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3507" href="Ledger.Utxo.Properties.html#3507" class="Bound">a₁&#39;</a><a id="3510" class="Symbol">)</a> <a id="3512" class="Symbol">→</a> <a id="3514" class="String">&quot;¬ refInputs ⊆ dom utxo &quot;</a>
                <a id="3556" class="Symbol">(</a><a id="3557" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3562" href="Ledger.Utxo.Properties.html#3562" class="Bound">b₂&#39;</a><a id="3565" class="Symbol">)</a> <a id="3567" class="Symbol">→</a> <a id="3569" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3574" href="Ledger.Prelude.html#1193" class="Function">dec-de-morgan</a> <a id="3588" href="Ledger.Utxo.Properties.html#3562" class="Bound">b₂&#39;</a> <a id="3592" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3595" class="Symbol">λ</a> <a id="3597" class="Keyword">where</a>
                  <a id="3621" class="Symbol">(</a><a id="3622" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3627" href="Ledger.Utxo.Properties.html#3627" class="Bound">a₂</a><a id="3629" class="Symbol">)</a> <a id="3631" class="Symbol">→</a> <a id="3633" class="String">&quot;¬ inInterval (UTxOEnv.slot Γ) (txvldt (Tx.body tx))&quot;</a>
                  <a id="3705" class="Symbol">(</a><a id="3706" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3711" href="Ledger.Utxo.Properties.html#3711" class="Bound">b₂</a><a id="3713" class="Symbol">)</a> <a id="3715" class="Symbol">→</a> <a id="3717" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3722" href="Ledger.Prelude.html#1193" class="Function">dec-de-morgan</a> <a id="3736" href="Ledger.Utxo.Properties.html#3711" class="Bound">b₂</a> <a id="3739" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3742" class="Symbol">λ</a> <a id="3744" class="Keyword">where</a>
                    <a id="3770" class="Symbol">(</a><a id="3771" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3776" href="Ledger.Utxo.Properties.html#3776" class="Bound">a₃</a><a id="3778" class="Symbol">)</a> <a id="3780" class="Symbol">→</a> <a id="3782" class="String">&quot;¬ feesOK pp tx utxo&quot;</a>
                    <a id="3824" class="Symbol">(</a><a id="3825" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3830" href="Ledger.Utxo.Properties.html#3830" class="Bound">b₃</a><a id="3832" class="Symbol">)</a> <a id="3834" class="Symbol">→</a> <a id="3836" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3841" href="Ledger.Prelude.html#1193" class="Function">dec-de-morgan</a> <a id="3855" href="Ledger.Utxo.Properties.html#3830" class="Bound">b₃</a> <a id="3858" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3861" class="Symbol">λ</a> <a id="3863" class="Keyword">where</a>
                        <a id="3893" class="Symbol">(</a><a id="3894" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3899" href="Ledger.Utxo.Properties.html#3899" class="Bound">a₄</a><a id="3901" class="Symbol">)</a> <a id="3903" class="Symbol">→</a>
                          <a id="3931" class="Keyword">let</a>
                            <a id="3963" href="Ledger.Utxo.Properties.html#3963" class="Bound">pp</a> <a id="3966" class="Symbol">=</a> <a id="3968" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="3984" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a>
                            <a id="4014" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a> <a id="4018" class="Symbol">=</a> <a id="4020" href="Ledger.Transaction.html#4266" class="Field">Tx.body</a> <a id="4028" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a>
                            <a id="4059" href="Ledger.Utxo.Properties.html#4059" class="Bound">con</a> <a id="4063" class="Symbol">=</a> <a id="4065" href="Ledger.Utxo.html#12146" class="Function">consumed</a> <a id="4074" href="Ledger.Utxo.Properties.html#3963" class="Bound">pp</a> <a id="4077" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="4079" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a>
                            <a id="4111" href="Ledger.Utxo.Properties.html#4111" class="Bound">prod</a> <a id="4116" class="Symbol">=</a> <a id="4118" href="Ledger.Utxo.html#12354" class="Function">produced</a> <a id="4127" href="Ledger.Utxo.Properties.html#3963" class="Bound">pp</a> <a id="4130" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="4132" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a>
                            <a id="4164" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4174" class="Symbol">=</a> <a id="4176" href="Class.Show.Core.html#187" class="Field">show</a> <a id="4181" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4183" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a>
                          <a id="4214" class="Keyword">in</a>
                            <a id="4245" class="Symbol">(</a> <a id="4247" class="String">&quot;¬consumed (UTxOEnv.pparams Γ) s (Tx.body tx) ≡ produced (UTxOEnv.pparams Γ) s (Tx.body tx)&quot;</a>
                            <a id="4368" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4371" class="String">&quot;\n  consumed =\t\t&quot;</a> <a id="4392" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4395" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4405" href="Ledger.Utxo.Properties.html#4059" class="Bound">con</a>
                            <a id="4437" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4440" class="String">&quot;\n    ins  =\t\t&quot;</a> <a id="4459" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4462" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4472" class="Symbol">(</a><a id="4473" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="4481" class="Symbol">(</a><a id="4482" href="Ledger.Transaction.html#2634" class="Field">UTxOOf</a> <a id="4489" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="4491" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="4493" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a> <a id="4497" class="Symbol">.</a><a id="4498" href="Ledger.Transaction.html#2727" class="Field">TxBody.txins</a><a id="4510" class="Symbol">))</a>
                            <a id="4541" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4544" class="String">&quot;\n    mint =\t\t&quot;</a> <a id="4563" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4566" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4576" class="Symbol">(</a><a id="4577" href="Ledger.Transaction.html#2849" class="Field">TxBody.mint</a> <a id="4589" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a><a id="4592" class="Symbol">)</a>
                            <a id="4622" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4625" class="String">&quot;\n    depositRefunds =\t&quot;</a> <a id="4652" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4655" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4665" class="Symbol">(</a><a id="4666" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="4673" class="Symbol">(</a><a id="4674" href="Ledger.Utxo.html#11888" class="Function">depositRefunds</a> <a id="4689" href="Ledger.Utxo.Properties.html#3963" class="Bound">pp</a> <a id="4692" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="4694" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a><a id="4697" class="Symbol">))</a>
                            <a id="4728" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4731" class="String">&quot;\n  produced =\t\t&quot;</a> <a id="4752" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4755" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4765" href="Ledger.Utxo.Properties.html#4111" class="Bound">prod</a>
                            <a id="4798" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4801" class="String">&quot;\n    outs =\t\t&quot;</a> <a id="4820" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4823" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4833" class="Symbol">(</a><a id="4834" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="4842" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4844" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="4849" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a><a id="4852" class="Symbol">)</a>
                            <a id="4882" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4885" class="String">&quot;\n    fee  =\t\t&quot;</a> <a id="4904" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4907" href="Class.Show.Core.html#187" class="Field">show</a> <a id="4912" class="Symbol">(</a><a id="4913" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a> <a id="4917" class="Symbol">.</a><a id="4918" href="Ledger.Transaction.html#2821" class="Field">TxBody.txfee</a><a id="4930" class="Symbol">)</a>
                            <a id="4960" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4963" class="String">&quot;\n    newDeposits  =\t&quot;</a> <a id="4988" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4991" href="Class.Show.Core.html#187" class="Field">show</a> <a id="4996" class="Symbol">(</a><a id="4997" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="5009" href="Ledger.Utxo.Properties.html#3963" class="Bound">pp</a> <a id="5012" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="5014" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a><a id="5017" class="Symbol">)</a>
                            <a id="5047" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5050" class="String">&quot;\n    donation  =\t\t&quot;</a> <a id="5074" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5077" href="Class.Show.Core.html#187" class="Field">show</a> <a id="5082" class="Symbol">(</a><a id="5083" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a> <a id="5087" class="Symbol">.</a><a id="5088" href="Ledger.Transaction.html#3063" class="Field">TxBody.txdonation</a><a id="5105" class="Symbol">)</a>
                            <a id="5135" class="Symbol">)</a>
                        <a id="5161" class="Symbol">(</a><a id="5162" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5167" href="Ledger.Utxo.Properties.html#5167" class="Bound">b₄</a><a id="5169" class="Symbol">)</a> <a id="5171" class="Symbol">→</a> <a id="5173" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5178" href="Ledger.Prelude.html#1193" class="Function">dec-de-morgan</a> <a id="5192" href="Ledger.Utxo.Properties.html#5167" class="Bound">b₄</a> <a id="5195" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5198" class="Symbol">λ</a> <a id="5200" class="Keyword">where</a>
                          <a id="5232" class="Symbol">(</a><a id="5233" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5238" href="Ledger.Utxo.Properties.html#5238" class="Bound">a₅</a><a id="5240" class="Symbol">)</a> <a id="5242" class="Symbol">→</a> <a id="5244" class="String">&quot;¬ coin (TxBody.mint (Tx.body tx)) ≡ 0&quot;</a>
                          <a id="5310" class="Symbol">(</a><a id="5311" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5316" href="Ledger.Utxo.Properties.html#5316" class="Bound">b₅</a><a id="5318" class="Symbol">)</a> <a id="5320" class="Symbol">→</a> <a id="5322" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5327" href="Ledger.Prelude.html#1193" class="Function">dec-de-morgan</a> <a id="5341" href="Ledger.Utxo.Properties.html#5316" class="Bound">b₅</a> <a id="5344" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5347" class="Symbol">λ</a> <a id="5349" class="Keyword">where</a>
                              <a id="5385" class="Symbol">(</a><a id="5386" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5391" href="Ledger.Utxo.Properties.html#5391" class="Bound">a₆</a><a id="5393" class="Symbol">)</a> <a id="5395" class="Symbol">→</a> <a id="5397" class="String">&quot;¬(TxBody.txsize (Tx.body tx) Data.Nat.Base.≤ maxTxSize (UTxOEnv.pparams Γ))&quot;</a>
                              <a id="5505" class="Symbol">(</a><a id="5506" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5511" href="Ledger.Utxo.Properties.html#5511" class="Bound">b₆</a><a id="5513" class="Symbol">)</a> <a id="5515" class="Symbol">→</a> <a id="5517" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5522" href="Ledger.Prelude.html#1193" class="Function">dec-de-morgan</a> <a id="5536" href="Ledger.Utxo.Properties.html#5511" class="Bound">b₆</a> <a id="5539" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5542" class="Symbol">λ</a> <a id="5544" class="Keyword">where</a>
                                <a id="5582" class="Symbol">(</a><a id="5583" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5588" href="Ledger.Utxo.Properties.html#5588" class="Bound">a₇</a><a id="5590" class="Symbol">)</a> <a id="5592" class="Symbol">→</a> <a id="5594" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] inject (utxoEntrySize txout * coinsPerUTxOByte pp) ≤ᵗ getValue txout&quot;</a>
                                <a id="5730" class="Symbol">(</a><a id="5731" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5736" href="Ledger.Utxo.Properties.html#5736" class="Bound">b₇</a><a id="5738" class="Symbol">)</a> <a id="5740" class="Symbol">→</a> <a id="5742" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5747" href="Ledger.Prelude.html#1193" class="Function">dec-de-morgan</a> <a id="5761" href="Ledger.Utxo.Properties.html#5736" class="Bound">b₇</a> <a id="5764" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5767" class="Symbol">λ</a> <a id="5769" class="Keyword">where</a>
                                    <a id="5811" class="Symbol">(</a><a id="5812" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5817" href="Ledger.Utxo.Properties.html#5817" class="Bound">a₈</a><a id="5819" class="Symbol">)</a> <a id="5821" class="Symbol">→</a> <a id="5823" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] serSize (getValue txout) ≤ maxValSize pp&quot;</a>
                                    <a id="5935" class="Symbol">(</a><a id="5936" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5941" href="Ledger.Utxo.Properties.html#5941" class="Bound">b₈</a><a id="5943" class="Symbol">)</a> <a id="5945" class="Symbol">→</a> <a id="5947" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5952" href="Ledger.Prelude.html#1193" class="Function">dec-de-morgan</a> <a id="5966" href="Ledger.Utxo.Properties.html#5941" class="Bound">b₈</a> <a id="5969" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5972" class="Symbol">λ</a> <a id="5974" class="Keyword">where</a>
                                      <a id="6018" class="Symbol">(</a><a id="6019" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6024" href="Ledger.Utxo.Properties.html#6024" class="Bound">a₉</a><a id="6026" class="Symbol">)</a> <a id="6028" class="Symbol">→</a> <a id="6030" class="String">&quot;∀[ (a , _) ∈ range txouts ] Sum.All (const ⊤) (λ a → a .BootstrapAddr.attrsSize ≤ 64) a&quot;</a>
                                      <a id="6158" class="Symbol">(</a><a id="6159" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6164" class="Symbol">_)</a> <a id="6167" class="Symbol">→</a> <a id="6169" class="String">&quot;something else broke&quot;</a>

        <a id="6201" href="Ledger.Utxo.Properties.html#6201" class="Function">computeProofH</a> <a id="6215" class="Symbol">:</a> <a id="6217" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="6221" href="Ledger.Utxo.Properties.html#2968" class="Bound">H</a> <a id="6223" class="Symbol">→</a> <a id="6225" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6243" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6250" class="Symbol">(</a><a id="6251" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6254" href="Ledger.Utxo.Properties.html#6254" class="Bound">s&#39;</a> <a id="6257" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6259" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a> <a id="6261" href="Ledger.Utxo.html#3206" class="Datatype Operator">⊢</a> <a id="6263" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="6265" href="Ledger.Utxo.html#3206" class="Datatype Operator">⇀⦇</a> <a id="6268" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a> <a id="6271" href="Ledger.Utxo.html#3206" class="Datatype Operator">,UTXO⦈</a> <a id="6278" href="Ledger.Utxo.Properties.html#6254" class="Bound">s&#39;</a><a id="6280" class="Symbol">)</a>
        <a id="6290" href="Ledger.Utxo.Properties.html#6201" class="Function">computeProofH</a> <a id="6304" class="Symbol">(</a><a id="6305" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6309" class="Symbol">(</a><a id="6310" href="Ledger.Utxo.Properties.html#6310" class="Bound">x</a> <a id="6312" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6314" href="Ledger.Utxo.Properties.html#6314" class="Bound">y</a> <a id="6316" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6318" href="Ledger.Utxo.Properties.html#6318" class="Bound">z</a> <a id="6320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6322" href="Ledger.Utxo.Properties.html#6322" class="Bound">e</a> <a id="6324" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6326" href="Ledger.Utxo.Properties.html#6326" class="Bound">k</a> <a id="6328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6330" href="Ledger.Utxo.Properties.html#6330" class="Bound">l</a> <a id="6332" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6334" href="Ledger.Utxo.Properties.html#6334" class="Bound">m</a> <a id="6336" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6338" href="Ledger.Utxo.Properties.html#6338" class="Bound">v</a> <a id="6340" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6342" href="Ledger.Utxo.Properties.html#6342" class="Bound">j</a> <a id="6344" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6346" href="Ledger.Utxo.Properties.html#6346" class="Bound">n</a> <a id="6348" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6350" href="Ledger.Utxo.Properties.html#6350" class="Bound">o</a> <a id="6352" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6354" href="Ledger.Utxo.Properties.html#6354" class="Bound">p</a> <a id="6356" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6358" href="Ledger.Utxo.Properties.html#6358" class="Bound">q</a> <a id="6360" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6362" href="Ledger.Utxo.Properties.html#6362" class="Bound">r</a> <a id="6364" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6366" href="Ledger.Utxo.Properties.html#6366" class="Bound">t</a> <a id="6368" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6370" href="Ledger.Utxo.Properties.html#6370" class="Bound">u</a><a id="6371" class="Symbol">))</a> <a id="6374" class="Symbol">=</a>
            <a id="6388" href="Class.Bifunctor.html#615" class="Function">map₂′</a> <a id="6394" class="Symbol">(</a><a id="6395" href="Ledger.Utxo.html#15269" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6411" class="Symbol">_</a> <a id="6413" class="Symbol">_</a> <a id="6415" class="Symbol">_</a> <a id="6417" href="Ledger.Utxo.Properties.html#6310" class="Bound">x</a> <a id="6419" href="Ledger.Utxo.Properties.html#6314" class="Bound">y</a> <a id="6421" href="Ledger.Utxo.Properties.html#6318" class="Bound">z</a> <a id="6423" href="Ledger.Utxo.Properties.html#6322" class="Bound">e</a> <a id="6425" href="Ledger.Utxo.Properties.html#6326" class="Bound">k</a> <a id="6427" href="Ledger.Utxo.Properties.html#6330" class="Bound">l</a> <a id="6429" href="Ledger.Utxo.Properties.html#6334" class="Bound">m</a> <a id="6431" href="Ledger.Utxo.Properties.html#6338" class="Bound">v</a> <a id="6433" href="Ledger.Utxo.Properties.html#6342" class="Bound">j</a> <a id="6435" href="Ledger.Utxo.Properties.html#6346" class="Bound">n</a> <a id="6437" href="Ledger.Utxo.Properties.html#6350" class="Bound">o</a> <a id="6439" href="Ledger.Utxo.Properties.html#6354" class="Bound">p</a> <a id="6441" href="Ledger.Utxo.Properties.html#6358" class="Bound">q</a> <a id="6443" href="Ledger.Utxo.Properties.html#6362" class="Bound">r</a> <a id="6445" href="Ledger.Utxo.Properties.html#6366" class="Bound">t</a> <a id="6447" href="Ledger.Utxo.Properties.html#6370" class="Bound">u</a><a id="6448" class="Symbol">)</a> <a id="6450" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="6454" href="Ledger.Utxo.Properties.html#3110" class="Function">computeProof&#39;</a> <a id="6468" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a> <a id="6470" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="6472" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a>
        <a id="6483" href="Ledger.Utxo.Properties.html#6201" class="Function">computeProofH</a> <a id="6497" class="Symbol">(</a><a id="6498" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6501" href="Ledger.Utxo.Properties.html#6501" class="Bound">¬p</a><a id="6503" class="Symbol">)</a> <a id="6505" class="Symbol">=</a> <a id="6507" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="6515" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6517" href="Ledger.Utxo.Properties.html#3165" class="Function">genErr</a> <a id="6524" href="Ledger.Utxo.Properties.html#6501" class="Bound">¬p</a>

        <a id="6536" href="Ledger.Utxo.Properties.html#6536" class="Function">computeProof</a> <a id="6549" class="Symbol">:</a> <a id="6551" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6569" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6576" class="Symbol">(</a><a id="6577" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6580" href="Ledger.Utxo.Properties.html#6580" class="Bound">s&#39;</a> <a id="6583" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6585" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a> <a id="6587" href="Ledger.Utxo.html#3206" class="Datatype Operator">⊢</a> <a id="6589" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="6591" href="Ledger.Utxo.html#3206" class="Datatype Operator">⇀⦇</a> <a id="6594" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a> <a id="6597" href="Ledger.Utxo.html#3206" class="Datatype Operator">,UTXO⦈</a> <a id="6604" href="Ledger.Utxo.Properties.html#6580" class="Bound">s&#39;</a><a id="6606" class="Symbol">)</a>
        <a id="6616" href="Ledger.Utxo.Properties.html#6536" class="Function">computeProof</a> <a id="6629" class="Symbol">=</a> <a id="6631" href="Ledger.Utxo.Properties.html#6201" class="Function">computeProofH</a> <a id="6645" href="Ledger.Utxo.Properties.html#2974" class="Bound">H?</a>

        <a id="6657" href="Ledger.Utxo.Properties.html#6657" class="Function">completeness</a> <a id="6670" class="Symbol">:</a> <a id="6672" class="Symbol">∀</a> <a id="6674" href="Ledger.Utxo.Properties.html#6674" class="Bound">s&#39;</a> <a id="6677" class="Symbol">→</a> <a id="6679" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a> <a id="6681" href="Ledger.Utxo.html#3206" class="Datatype Operator">⊢</a> <a id="6683" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="6685" href="Ledger.Utxo.html#3206" class="Datatype Operator">⇀⦇</a> <a id="6688" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a> <a id="6691" href="Ledger.Utxo.html#3206" class="Datatype Operator">,UTXO⦈</a> <a id="6698" href="Ledger.Utxo.Properties.html#6674" class="Bound">s&#39;</a> <a id="6701" class="Symbol">→</a> <a id="6703" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="6707" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6713" href="Ledger.Utxo.Properties.html#6536" class="Function">computeProof</a> <a id="6726" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6728" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="6736" href="Ledger.Utxo.Properties.html#6674" class="Bound">s&#39;</a>
        <a id="6747" href="Ledger.Utxo.Properties.html#6657" class="Function">completeness</a> <a id="6760" href="Ledger.Utxo.Properties.html#6760" class="Bound">s&#39;</a> <a id="6763" class="Symbol">(</a><a id="6764" href="Ledger.Utxo.html#15269" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6780" class="Symbol">_</a> <a id="6782" class="Symbol">_</a> <a id="6784" class="Symbol">_</a> <a id="6786" href="Ledger.Utxo.Properties.html#6786" class="Bound">x</a> <a id="6788" href="Ledger.Utxo.Properties.html#6788" class="Bound">y</a> <a id="6790" href="Ledger.Utxo.Properties.html#6790" class="Bound">z</a> <a id="6792" href="Ledger.Utxo.Properties.html#6792" class="Bound">w</a> <a id="6794" href="Ledger.Utxo.Properties.html#6794" class="Bound">k</a> <a id="6796" href="Ledger.Utxo.Properties.html#6796" class="Bound">l</a> <a id="6798" href="Ledger.Utxo.Properties.html#6798" class="Bound">m</a> <a id="6800" href="Ledger.Utxo.Properties.html#6800" class="Bound">v</a> <a id="6802" href="Ledger.Utxo.Properties.html#6802" class="Bound">j</a> <a id="6804" href="Ledger.Utxo.Properties.html#6804" class="Bound">n</a> <a id="6806" href="Ledger.Utxo.Properties.html#6806" class="Bound">o</a> <a id="6808" href="Ledger.Utxo.Properties.html#6808" class="Bound">p</a> <a id="6810" href="Ledger.Utxo.Properties.html#6810" class="Bound">q</a> <a id="6812" href="Ledger.Utxo.Properties.html#6812" class="Bound">r</a> <a id="6814" href="Ledger.Utxo.Properties.html#6814" class="Bound">t</a> <a id="6816" href="Ledger.Utxo.Properties.html#6816" class="Bound">u</a> <a id="6818" href="Ledger.Utxo.Properties.html#6818" class="Bound">h</a><a id="6819" class="Symbol">)</a> <a id="6821" class="Keyword">with</a> <a id="6826" href="Ledger.Utxo.Properties.html#2974" class="Bound">H?</a>
        <a id="6837" class="Symbol">...</a> <a id="6841" class="Symbol">|</a> <a id="6843" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6846" href="Ledger.Utxo.Properties.html#6846" class="Bound">¬p</a> <a id="6849" class="Symbol">=</a> <a id="6851" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="6858" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6860" href="Ledger.Utxo.Properties.html#6846" class="Bound">¬p</a> <a id="6863" class="Symbol">(</a><a id="6864" class="Bound">x</a> <a id="6866" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6868" class="Bound">y</a> <a id="6870" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6872" class="Bound">z</a> <a id="6874" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6876" class="Bound">w</a> <a id="6878" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6880" class="Bound">k</a> <a id="6882" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6884" class="Bound">l</a> <a id="6886" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6888" class="Bound">m</a> <a id="6890" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6892" class="Bound">v</a> <a id="6894" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6896" class="Bound">j</a> <a id="6898" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6900" class="Bound">n</a> <a id="6902" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6904" class="Bound">o</a> <a id="6906" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6908" class="Bound">p</a> <a id="6910" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6912" class="Bound">q</a> <a id="6914" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6916" class="Bound">r</a> <a id="6918" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6920" class="Bound">t</a> <a id="6922" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6924" class="Bound">u</a><a id="6925" class="Symbol">)</a>
        <a id="6935" class="Symbol">...</a> <a id="6939" class="Symbol">|</a> <a id="6941" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6945" class="Symbol">_</a> <a id="6947" class="Keyword">with</a> <a id="6952" href="Ledger.Utxo.Properties.html#3110" class="Function">computeProof&#39;</a> <a id="6966" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a> <a id="6968" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="6970" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a> <a id="6973" class="Symbol">|</a> <a id="6975" href="Ledger.Utxo.Properties.html#3141" class="Function">completeness&#39;</a> <a id="6989" class="Symbol">_</a> <a id="6991" class="Symbol">_</a> <a id="6993" class="Symbol">_</a> <a id="6995" class="Symbol">_</a> <a id="6997" class="Bound">h</a>
        <a id="7007" class="Symbol">...</a> <a id="7011" class="Symbol">|</a> <a id="7013" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="7021" class="Symbol">_</a> <a id="7023" class="Symbol">|</a> <a id="7025" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7030" class="Symbol">=</a> <a id="7032" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="7038" class="Keyword">open</a> <a id="7043" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="7057" class="Symbol">⦃...⦄</a>

<a id="7064" class="Keyword">opaque</a>
  <a id="7073" class="Keyword">unfolding</a> <a id="7083" href="abstract-set-theory.FiniteSetTheory.html#240" class="Function">List-Model</a>
  <a id="Computational-UTXO"></a><a id="7096" href="Ledger.Utxo.Properties.html#7096" class="Function">Computational-UTXO</a> <a id="7115" class="Symbol">:</a> <a id="7117" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="7131" href="Ledger.Utxo.html#3206" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="7145" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="7154" href="Ledger.Utxo.Properties.html#7096" class="Function">Computational-UTXO</a> <a id="7173" class="Symbol">=</a> <a id="7175" href="Ledger.Utxo.Properties.html#2837" class="Function">Computational-UTXO&#39;</a>

<a id="7196" class="Keyword">private</a> <a id="7204" class="Keyword">variable</a>
  <a id="7215" href="Ledger.Utxo.Properties.html#7215" class="Generalizable">tx</a>                               <a id="7248" class="Symbol">:</a> <a id="7250" href="Ledger.Transaction.html#4234" class="Record">Tx</a>
  <a id="7255" href="Ledger.Utxo.Properties.html#7255" class="Generalizable">utxo</a> <a id="7260" href="Ledger.Utxo.Properties.html#7260" class="Generalizable">utxo&#39;</a>                       <a id="7288" class="Symbol">:</a> <a id="7290" href="Ledger.Transaction.html#2402" class="Function">UTxO</a>
  <a id="7297" href="Ledger.Utxo.Properties.html#7297" class="Generalizable">Γ</a>                                <a id="7330" class="Symbol">:</a> <a id="7332" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a>
  <a id="7342" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a> <a id="7352" href="Ledger.Utxo.Properties.html#7352" class="Generalizable">utxoState&#39;</a>             <a id="7375" class="Symbol">:</a> <a id="7377" href="Ledger.Utxo.html#2561" class="Record">UTxOState</a>
  <a id="7389" href="Ledger.Utxo.Properties.html#7389" class="Generalizable">fees</a> <a id="7394" href="Ledger.Utxo.Properties.html#7394" class="Generalizable">fees&#39;</a> <a id="7400" href="Ledger.Utxo.Properties.html#7400" class="Generalizable">donations</a> <a id="7410" href="Ledger.Utxo.Properties.html#7410" class="Generalizable">donations&#39;</a>  <a id="7422" class="Symbol">:</a> <a id="7424" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="7431" href="Ledger.Utxo.Properties.html#7431" class="Generalizable">deposits</a> <a id="7440" href="Ledger.Utxo.Properties.html#7440" class="Generalizable">deposits&#39;</a>               <a id="7464" class="Symbol">:</a> <a id="7466" href="Ledger.Certs.html#573" class="Function">Deposits</a>

<a id="7476" class="Keyword">open</a> <a id="7481" href="Algebra.Morphism.Structures.html#4393" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>
<a id="7518" class="Keyword">private</a>
  <a id="∙-homo-Coin"></a><a id="7528" href="Ledger.Utxo.Properties.html#7528" class="Function">∙-homo-Coin</a> <a id="7540" class="Symbol">=</a> <a id="7542" href="Algebra.Morphism.Structures.html#2891" class="Field">IsMagmaHomomorphism.homo</a> <a id="7567" class="Symbol">(</a><a id="7568" href="Algebra.Morphism.Structures.html#4470" class="Field">isMagmaHomomorphism</a> <a id="7588" href="Ledger.TokenAlgebra.html#1112" class="Function">coinIsMonoidHomomorphism</a><a id="7612" class="Symbol">)</a>

<a id="7615" class="Keyword">opaque</a>
  <a id="7624" class="Keyword">unfolding</a> <a id="7634" href="Ledger.Utxo.html#3410" class="Function">balance</a>
  <a id="balance-cong"></a><a id="7644" href="Ledger.Utxo.Properties.html#7644" class="Function">balance-cong</a> <a id="7657" class="Symbol">:</a>  <a id="7660" href="Ledger.Prelude.html#2393" class="Function Operator">∣</a> <a id="7662" href="Ledger.Utxo.Properties.html#7255" class="Generalizable">utxo</a> <a id="7667" href="Ledger.Prelude.html#2393" class="Function Operator">∣</a> <a id="7669" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="7672" href="Ledger.Prelude.html#2393" class="Function Operator">∣</a> <a id="7674" href="Ledger.Utxo.Properties.html#7260" class="Generalizable">utxo&#39;</a> <a id="7680" href="Ledger.Prelude.html#2393" class="Function Operator">∣</a> <a id="7682" class="Symbol">→</a> <a id="7684" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="7692" href="Ledger.Utxo.Properties.html#7255" class="Generalizable">utxo</a> <a id="7697" href="Algebra.Bundles.html#8008" class="Function Operator">≈</a> <a id="7699" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="7707" href="Ledger.Utxo.Properties.html#7260" class="Generalizable">utxo&#39;</a>
  <a id="7715" href="Ledger.Utxo.Properties.html#7644" class="Function">balance-cong</a> <a id="7728" class="Symbol">{</a><a id="7729" href="Ledger.Utxo.Properties.html#7729" class="Bound">utxo</a><a id="7733" class="Symbol">}</a> <a id="7735" class="Symbol">{</a><a id="7736" href="Ledger.Utxo.Properties.html#7736" class="Bound">utxo&#39;</a><a id="7741" class="Symbol">}</a> <a id="7743" href="Ledger.Utxo.Properties.html#7743" class="Bound">eq</a> <a id="7746" class="Symbol">=</a> <a id="7748" href="Axiom.Set.Sum.html#4667" class="Function">indexedSumᵐ-cong</a> <a id="7765" class="Symbol">{</a><a id="7766" class="Argument">M</a> <a id="7768" class="Symbol">=</a> <a id="7770" href="Ledger.TokenAlgebra.html#492" class="Function">Value</a><a id="7775" class="Symbol">}</a> <a id="7777" class="Symbol">{</a><a id="7778" class="Argument">x</a> <a id="7780" class="Symbol">=</a> <a id="7782" class="Symbol">(</a><a id="7783" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7793" href="Ledger.Transaction.html#4585" class="Function">txOutHash</a> <a id="7803" href="Ledger.Utxo.Properties.html#7729" class="Bound">utxo</a><a id="7807" class="Symbol">)</a> <a id="7809" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="7811" class="Symbol">}</a> <a id="7813" class="Symbol">{(</a><a id="7815" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7825" href="Ledger.Transaction.html#4585" class="Function">txOutHash</a> <a id="7835" href="Ledger.Utxo.Properties.html#7736" class="Bound">utxo&#39;</a><a id="7840" class="Symbol">)</a> <a id="7842" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="7844" class="Symbol">}</a> <a id="7846" class="Symbol">(</a><a id="7847" href="Axiom.Set.Properties.html#5411" class="Function">map-≡ᵉ</a> <a id="7854" href="Ledger.Utxo.Properties.html#7743" class="Bound">eq</a><a id="7856" class="Symbol">)</a>

  <a id="balance-cong-coin"></a><a id="7861" href="Ledger.Utxo.Properties.html#7861" class="Function">balance-cong-coin</a> <a id="7879" class="Symbol">:</a> <a id="7881" href="Ledger.Prelude.html#2393" class="Function Operator">∣</a> <a id="7883" href="Ledger.Utxo.Properties.html#7255" class="Generalizable">utxo</a> <a id="7888" href="Ledger.Prelude.html#2393" class="Function Operator">∣</a> <a id="7890" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="7893" href="Ledger.Prelude.html#2393" class="Function Operator">∣</a> <a id="7895" href="Ledger.Utxo.Properties.html#7260" class="Generalizable">utxo&#39;</a> <a id="7901" href="Ledger.Prelude.html#2393" class="Function Operator">∣</a> <a id="7903" class="Symbol">→</a> <a id="7905" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="7914" href="Ledger.Utxo.Properties.html#7255" class="Generalizable">utxo</a> <a id="7919" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7921" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="7930" href="Ledger.Utxo.Properties.html#7260" class="Generalizable">utxo&#39;</a>
  <a id="7938" href="Ledger.Utxo.Properties.html#7861" class="Function">balance-cong-coin</a> <a id="7956" class="Symbol">{</a><a id="7957" href="Ledger.Utxo.Properties.html#7957" class="Bound">utxo</a><a id="7961" class="Symbol">}</a> <a id="7963" class="Symbol">{</a><a id="7964" href="Ledger.Utxo.Properties.html#7964" class="Bound">utxo&#39;</a><a id="7969" class="Symbol">}</a> <a id="7971" href="Ledger.Utxo.Properties.html#7971" class="Bound">x</a> <a id="7973" class="Symbol">=</a>
    <a id="7979" href="Ledger.TokenAlgebra.html#1112" class="Function">coinIsMonoidHomomorphism</a> <a id="8004" class="Symbol">.</a><a id="8005" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8013" class="Symbol">(</a><a id="8014" href="Ledger.Utxo.Properties.html#7644" class="Function">balance-cong</a> <a id="8027" class="Symbol">{</a><a id="8028" href="Ledger.Utxo.Properties.html#7957" class="Bound">utxo</a><a id="8032" class="Symbol">}</a> <a id="8034" class="Symbol">{</a><a id="8035" href="Ledger.Utxo.Properties.html#7964" class="Bound">utxo&#39;</a><a id="8040" class="Symbol">}</a> <a id="8042" href="Ledger.Utxo.Properties.html#7971" class="Bound">x</a><a id="8043" class="Symbol">)</a>
    <a id="8049" class="Keyword">where</a> <a id="8055" class="Keyword">open</a> <a id="8060" href="Algebra.Morphism.Structures.html#4393" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>

  <a id="balance-∪"></a><a id="8100" href="Ledger.Utxo.Properties.html#8100" class="Function">balance-∪</a> <a id="8110" class="Symbol">:</a> <a id="8112" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="8121" class="Symbol">(</a><a id="8122" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8126" href="Ledger.Utxo.Properties.html#7255" class="Generalizable">utxo</a><a id="8130" class="Symbol">)</a> <a id="8132" class="Symbol">(</a><a id="8133" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8137" href="Ledger.Utxo.Properties.html#7260" class="Generalizable">utxo&#39;</a><a id="8142" class="Symbol">)</a>
                       <a id="8167" class="Symbol">→</a> <a id="8169" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="8178" class="Symbol">(</a><a id="8179" href="Ledger.Utxo.Properties.html#7255" class="Generalizable">utxo</a> <a id="8184" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8187" href="Ledger.Utxo.Properties.html#7260" class="Generalizable">utxo&#39;</a><a id="8192" class="Symbol">)</a> <a id="8194" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8196" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="8205" href="Ledger.Utxo.Properties.html#7255" class="Generalizable">utxo</a> <a id="8210" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8212" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="8221" href="Ledger.Utxo.Properties.html#7260" class="Generalizable">utxo&#39;</a>
  <a id="8229" href="Ledger.Utxo.Properties.html#8100" class="Function">balance-∪</a> <a id="8239" class="Symbol">{</a><a id="8240" href="Ledger.Utxo.Properties.html#8240" class="Bound">utxo</a><a id="8244" class="Symbol">}</a> <a id="8246" class="Symbol">{</a><a id="8247" href="Ledger.Utxo.Properties.html#8247" class="Bound">utxo&#39;</a><a id="8252" class="Symbol">}</a> <a id="8254" href="Ledger.Utxo.Properties.html#8254" class="Bound">h</a> <a id="8256" class="Symbol">=</a> <a id="8258" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="8268" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="8277" class="Symbol">(</a><a id="8278" href="Ledger.Utxo.Properties.html#8240" class="Bound">utxo</a> <a id="8283" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8286" href="Ledger.Utxo.Properties.html#8247" class="Bound">utxo&#39;</a><a id="8291" class="Symbol">)</a>
      <a id="8299" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8302" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8310" href="Ledger.TokenAlgebra.html#1112" class="Function">coinIsMonoidHomomorphism</a>
      <a id="8341" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8343" href="Axiom.Set.Sum.html#4667" class="Function">indexedSumᵐ-cong</a> <a id="8360" class="Symbol">{</a><a id="8361" class="Argument">f</a> <a id="8363" class="Symbol">=</a> <a id="8365" href="Ledger.Transaction.html#4674" class="Function">getValueʰ</a> <a id="8375" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="8377" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="8382" class="Symbol">}</a> <a id="8384" class="Symbol">{</a><a id="8385" class="Argument">x</a> <a id="8387" class="Symbol">=</a> <a id="8389" class="Symbol">(</a><a id="8390" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8400" href="Ledger.Transaction.html#4585" class="Function">txOutHash</a> <a id="8410" class="Symbol">(</a><a id="8411" href="Ledger.Utxo.Properties.html#8240" class="Bound">utxo</a> <a id="8416" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8419" href="Ledger.Utxo.Properties.html#8247" class="Bound">utxo&#39;</a><a id="8424" class="Symbol">))</a> <a id="8427" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8429" class="Symbol">}</a> <a id="8431" class="Symbol">{((</a><a id="8434" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8444" href="Ledger.Transaction.html#4585" class="Function">txOutHash</a> <a id="8454" href="Ledger.Utxo.Properties.html#8240" class="Bound">utxo</a><a id="8458" class="Symbol">)</a> <a id="8460" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8462" class="Symbol">)</a> <a id="8464" href="Axiom.Set.Sum.html#5189" class="Function Operator">∪ˡᶠ</a> <a id="8468" class="Symbol">((</a><a id="8470" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8480" href="Ledger.Transaction.html#4585" class="Function">txOutHash</a> <a id="8490" href="Ledger.Utxo.Properties.html#8247" class="Bound">utxo&#39;</a><a id="8495" class="Symbol">)</a> <a id="8497" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8499" class="Symbol">)}</a> <a id="8502" class="Symbol">(</a><a id="8503" href="Axiom.Set.Map.html#7309" class="Function">disjoint-∪ˡ-mapValues</a> <a id="8525" class="Symbol">{</a><a id="8526" class="Argument">M</a> <a id="8528" class="Symbol">=</a> <a id="8530" href="Ledger.Utxo.Properties.html#8240" class="Bound">utxo</a><a id="8534" class="Symbol">}</a> <a id="8536" class="Symbol">{</a><a id="8537" href="Ledger.Utxo.Properties.html#8247" class="Bound">utxo&#39;</a><a id="8542" class="Symbol">}</a> <a id="8544" class="Symbol">_</a> <a id="8546" href="Ledger.Utxo.Properties.html#8254" class="Bound">h</a><a id="8547" class="Symbol">)</a>
      <a id="8555" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8561" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="8566" class="Symbol">(</a><a id="8567" href="Axiom.Set.Sum.html#4466" class="Function">indexedSumᵐ</a> <a id="8579" class="Symbol">_</a> <a id="8581" class="Symbol">(((</a><a id="8584" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8594" href="Ledger.Transaction.html#4585" class="Function">txOutHash</a> <a id="8604" href="Ledger.Utxo.Properties.html#8240" class="Bound">utxo</a><a id="8608" class="Symbol">)</a> <a id="8610" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8612" class="Symbol">)</a> <a id="8614" href="Axiom.Set.Sum.html#5189" class="Function Operator">∪ˡᶠ</a> <a id="8618" class="Symbol">((</a><a id="8620" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8630" href="Ledger.Transaction.html#4585" class="Function">txOutHash</a> <a id="8640" href="Ledger.Utxo.Properties.html#8247" class="Bound">utxo&#39;</a><a id="8645" class="Symbol">)</a> <a id="8647" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8649" class="Symbol">)))</a>
      <a id="8659" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8662" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8670" href="Ledger.TokenAlgebra.html#1112" class="Function">coinIsMonoidHomomorphism</a>
       <a id="8702" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8704" href="Axiom.Set.Sum.html#5347" class="Function">indexedSumᵐ-∪</a> <a id="8718" class="Symbol">{</a><a id="8719" class="Argument">M</a> <a id="8721" class="Symbol">=</a> <a id="8723" href="Ledger.TokenAlgebra.html#492" class="Function">Value</a><a id="8728" class="Symbol">}</a> <a id="8730" class="Symbol">{</a><a id="8731" class="Argument">X</a> <a id="8733" class="Symbol">=</a> <a id="8735" class="Symbol">(</a><a id="8736" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8746" href="Ledger.Transaction.html#4585" class="Function">txOutHash</a> <a id="8756" href="Ledger.Utxo.Properties.html#8240" class="Bound">utxo</a><a id="8760" class="Symbol">)</a> <a id="8762" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8764" class="Symbol">}</a> <a id="8766" class="Symbol">{(</a><a id="8768" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8778" href="Ledger.Transaction.html#4585" class="Function">txOutHash</a> <a id="8788" href="Ledger.Utxo.Properties.html#8247" class="Bound">utxo&#39;</a><a id="8793" class="Symbol">)</a> <a id="8795" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8797" class="Symbol">}</a>
       <a id="8806" class="Symbol">(λ</a> <a id="8809" href="Ledger.Utxo.Properties.html#8809" class="Bound">x</a> <a id="8811" href="Ledger.Utxo.Properties.html#8811" class="Bound">x₁</a> <a id="8814" class="Symbol">→</a> <a id="8816" href="Ledger.Utxo.Properties.html#8254" class="Bound">h</a> <a id="8818" class="Symbol">(</a><a id="8819" href="Axiom.Set.Rel.html#4590" class="Function">dom-mapʳ⊆</a> <a id="8829" href="Ledger.Utxo.Properties.html#8809" class="Bound">x</a><a id="8830" class="Symbol">)</a> <a id="8832" class="Symbol">(</a><a id="8833" href="Axiom.Set.Rel.html#4590" class="Function">dom-mapʳ⊆</a> <a id="8843" href="Ledger.Utxo.Properties.html#8811" class="Bound">x₁</a><a id="8845" class="Symbol">))</a>
       <a id="8855" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8861" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="8866" class="Symbol">(</a><a id="8867" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="8875" href="Ledger.Utxo.Properties.html#8240" class="Bound">utxo</a> <a id="8880" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8882" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="8890" href="Ledger.Utxo.Properties.html#8247" class="Bound">utxo&#39;</a><a id="8895" class="Symbol">)</a>
      <a id="8903" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8906" href="Ledger.Utxo.Properties.html#7528" class="Function">∙-homo-Coin</a> <a id="8918" class="Symbol">_</a> <a id="8920" class="Symbol">_</a> <a id="8922" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8928" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="8937" href="Ledger.Utxo.Properties.html#8240" class="Bound">utxo</a> <a id="8942" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8944" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="8953" href="Ledger.Utxo.Properties.html#8247" class="Bound">utxo&#39;</a>
      <a id="8965" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="8971" class="Keyword">where</a> <a id="8977" class="Keyword">open</a> <a id="8982" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="9021" class="Symbol">{</a><a id="9022" class="Argument">A</a> <a id="9024" class="Symbol">=</a> <a id="9026" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="9027" class="Symbol">}</a> <a id="9029" class="Symbol">(</a><a id="9030" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a> <a id="9042" class="Symbol">(</a><a id="9043" class="Keyword">quoteTerm</a> <a id="9053" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="9063" class="Symbol">))</a>

<a id="9067" class="Keyword">module</a> <a id="9074" href="Ledger.Utxo.Properties.html#9074" class="Module">_</a> <a id="9076" class="Symbol">{</a><a id="9077" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a> <a id="9081" class="Symbol">:</a> <a id="9083" class="Symbol">_}</a> <a id="9086" class="Symbol">(</a><a id="9087" class="Keyword">open</a> <a id="9092" href="Ledger.Transaction.html#2691" class="Module">TxBody</a> <a id="9099" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="9102" class="Symbol">)</a> <a id="9104" class="Keyword">where</a> <a id="9110" class="Keyword">opaque</a>
  <a id="9119" class="Keyword">unfolding</a> <a id="9129" href="Ledger.Utxo.html#3339" class="Function">outs</a>
  <a id="9136" class="Keyword">open</a> <a id="9141" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="9180" class="Symbol">{</a><a id="9181" class="Argument">A</a> <a id="9183" class="Symbol">=</a> <a id="9185" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="9186" class="Symbol">}</a> <a id="9188" class="Symbol">(</a><a id="9189" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a> <a id="9201" class="Symbol">(</a><a id="9202" class="Keyword">quoteTerm</a> <a id="9212" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="9222" class="Symbol">))</a>

  <a id="9228" href="Ledger.Utxo.Properties.html#9228" class="Function">newTxid⇒disj</a> <a id="9241" class="Symbol">:</a> <a id="9243" href="Ledger.Transaction.html#3259" class="Field">txid</a> <a id="9248" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="9250" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9255" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9261" class="Symbol">(</a><a id="9262" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9266" href="Ledger.Utxo.Properties.html#7255" class="Generalizable">utxo</a><a id="9270" class="Symbol">)</a>
              <a id="9286" class="Symbol">→</a> <a id="9288" href="Axiom.Set.html#9583" class="Function">disjoint&#39;</a> <a id="9298" class="Symbol">(</a><a id="9299" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9303" href="Ledger.Utxo.Properties.html#7255" class="Generalizable">utxo</a><a id="9307" class="Symbol">)</a> <a id="9309" class="Symbol">(</a><a id="9310" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9314" class="Symbol">(</a><a id="9315" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="9320" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="9323" class="Symbol">))</a>
  <a id="9328" href="Ledger.Utxo.Properties.html#9228" class="Function">newTxid⇒disj</a> <a id="9341" href="Ledger.Utxo.Properties.html#9341" class="Bound">id∉utxo</a> <a id="9349" class="Symbol">=</a> <a id="9351" href="Axiom.Set.Properties.html#13484" class="Function">disjoint⇒disjoint&#39;</a> <a id="9370" class="Symbol">λ</a> <a id="9372" href="Ledger.Utxo.Properties.html#9372" class="Bound">h</a> <a id="9374" href="Ledger.Utxo.Properties.html#9374" class="Bound">h&#39;</a> <a id="9377" class="Symbol">→</a> <a id="9379" href="Ledger.Utxo.Properties.html#9341" class="Bound">id∉utxo</a> <a id="9387" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9389" href="Function.Bundles.html#4810" class="Field">to</a> <a id="9392" href="Axiom.Set.html#5140" class="Function">∈-map</a>
    <a id="9402" class="Symbol">(</a><a id="9403" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="9406" class="Symbol">(</a><a id="9407" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9412" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9417" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="9423" href="Ledger.Utxo.Properties.html#9374" class="Bound">h&#39;</a> <a id="9426" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9429" class="Symbol">λ</a> <a id="9431" class="Keyword">where</a>
          <a id="9447" class="Symbol">(_</a> <a id="9450" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9452" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9457" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9459" href="Ledger.Utxo.Properties.html#9459" class="Bound">h&#39;&#39;</a><a id="9462" class="Symbol">)</a> <a id="9464" class="Symbol">→</a> <a id="9466" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9471" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9476" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="9482" href="Ledger.Utxo.Properties.html#9459" class="Bound">h&#39;&#39;</a> <a id="9486" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9489" class="Symbol">λ</a> <a id="9491" class="Keyword">where</a> <a id="9497" class="Symbol">(_</a> <a id="9500" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9502" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9507" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9509" class="Symbol">_)</a> <a id="9512" class="Symbol">→</a> <a id="9514" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9518" class="Symbol">)</a> <a id="9520" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9522" href="Ledger.Utxo.Properties.html#9372" class="Bound">h</a><a id="9523" class="Symbol">)</a>

  <a id="9528" href="Ledger.Utxo.Properties.html#9528" class="Function">consumedCoinEquality</a> <a id="9549" class="Symbol">:</a> <a id="9551" class="Symbol">∀</a> <a id="9553" class="Symbol">{</a><a id="9554" href="Ledger.Utxo.Properties.html#9554" class="Bound">pp</a><a id="9556" class="Symbol">}</a>
    <a id="9562" class="Symbol">→</a> <a id="9564" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="9569" href="Ledger.Transaction.html#2849" class="Field">mint</a> <a id="9574" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9576" class="Number">0</a>
    <a id="9582" class="Symbol">→</a> <a id="9584" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="9589" class="Symbol">(</a><a id="9590" href="Ledger.Utxo.html#12146" class="Function">consumed</a> <a id="9599" href="Ledger.Utxo.Properties.html#9554" class="Bound">pp</a> <a id="9602" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a> <a id="9612" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="9615" class="Symbol">)</a>
    <a id="9621" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9623" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="9632" class="Symbol">((</a><a id="9634" href="Ledger.Utxo.html#2625" class="Field">UTxOState.utxo</a> <a id="9649" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a><a id="9658" class="Symbol">)</a> <a id="9660" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9662" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="9667" class="Symbol">)</a> <a id="9669" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9671" href="Ledger.Utxo.html#11888" class="Function">depositRefunds</a> <a id="9686" href="Ledger.Utxo.Properties.html#9554" class="Bound">pp</a> <a id="9689" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a> <a id="9699" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a> <a id="9703" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9705" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="9713" href="Ledger.Transaction.html#2959" class="Field">txwdrls</a>
  <a id="9723" href="Ledger.Utxo.Properties.html#9528" class="Function">consumedCoinEquality</a> <a id="9744" class="Symbol">{</a><a id="9745" href="Ledger.Utxo.Properties.html#9745" class="Bound">utxoState</a><a id="9754" class="Symbol">}</a> <a id="9756" class="Symbol">{</a><a id="9757" href="Ledger.Utxo.Properties.html#9757" class="Bound">pp</a><a id="9759" class="Symbol">}</a> <a id="9761" href="Ledger.Utxo.Properties.html#9761" class="Bound">h</a> <a id="9763" class="Symbol">=</a>
    <a id="9769" class="Keyword">let</a>  <a id="9774" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxo</a> <a id="9779" class="Symbol">=</a> <a id="9781" href="Ledger.Utxo.html#2625" class="Field">UTxOState.utxo</a> <a id="9796" href="Ledger.Utxo.Properties.html#9745" class="Bound">utxoState</a>
         <a id="9815" href="Ledger.Utxo.Properties.html#9815" class="Bound">dRefs</a> <a id="9821" class="Symbol">=</a> <a id="9823" href="Ledger.Utxo.html#11888" class="Function">depositRefunds</a> <a id="9838" href="Ledger.Utxo.Properties.html#9757" class="Bound">pp</a> <a id="9841" href="Ledger.Utxo.Properties.html#9745" class="Bound">utxoState</a> <a id="9851" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a>
         <a id="9864" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a> <a id="9870" class="Symbol">=</a> <a id="9872" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="9880" href="Ledger.Transaction.html#2959" class="Field">txwdrls</a>
    <a id="9892" class="Keyword">in</a> <a id="9895" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="9905" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="9910" class="Symbol">(</a><a id="9911" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="9919" class="Symbol">(</a><a id="9920" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxo</a> <a id="9925" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9927" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="9932" class="Symbol">)</a> <a id="9934" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9936" href="Ledger.Transaction.html#2849" class="Field">mint</a> <a id="9941" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9943" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="9950" href="Ledger.Utxo.Properties.html#9815" class="Bound">dRefs</a> <a id="9956" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9958" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="9965" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a><a id="9970" class="Symbol">)</a>
      <a id="9978" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="9981" href="Ledger.Utxo.Properties.html#7528" class="Function">∙-homo-Coin</a> <a id="9993" class="Symbol">_</a> <a id="9995" class="Symbol">_</a> <a id="9997" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10003" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10008" class="Symbol">(</a><a id="10009" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="10017" class="Symbol">(</a><a id="10018" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxo</a> <a id="10023" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10025" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="10030" class="Symbol">)</a> <a id="10032" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10034" href="Ledger.Transaction.html#2849" class="Field">mint</a> <a id="10039" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10041" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10048" href="Ledger.Utxo.Properties.html#9815" class="Bound">dRefs</a><a id="10053" class="Symbol">)</a> <a id="10055" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10057" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10062" class="Symbol">(</a><a id="10063" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10070" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10072" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a><a id="10077" class="Symbol">)</a>
      <a id="10085" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10088" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10093" class="Symbol">(</a><a id="10094" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10099" class="Symbol">(</a><a id="10100" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="10108" class="Symbol">(</a><a id="10109" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxo</a> <a id="10114" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10116" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="10121" class="Symbol">)</a> <a id="10123" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10125" href="Ledger.Transaction.html#2849" class="Field">mint</a> <a id="10130" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10132" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10139" href="Ledger.Utxo.Properties.html#9815" class="Bound">dRefs</a><a id="10144" class="Symbol">)</a> <a id="10146" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="10148" class="Symbol">)</a> <a id="10150" class="Symbol">(</a><a id="10151" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="10166" class="Symbol">_)</a> <a id="10169" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10175" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10180" class="Symbol">(</a><a id="10181" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="10189" class="Symbol">(</a><a id="10190" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxo</a> <a id="10195" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10197" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="10202" class="Symbol">)</a> <a id="10204" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10206" href="Ledger.Transaction.html#2849" class="Field">mint</a> <a id="10211" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10213" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10220" href="Ledger.Utxo.Properties.html#9815" class="Bound">dRefs</a><a id="10225" class="Symbol">)</a> <a id="10227" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10229" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a>
      <a id="10241" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10244" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10249" class="Symbol">(</a><a id="10250" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="10253" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a><a id="10258" class="Symbol">)</a> <a id="10260" class="Symbol">(</a><a id="10261" href="Ledger.Utxo.Properties.html#7528" class="Function">∙-homo-Coin</a> <a id="10273" class="Symbol">_</a> <a id="10275" class="Symbol">_)</a> <a id="10278" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10284" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10289" class="Symbol">(</a><a id="10290" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="10298" class="Symbol">(</a><a id="10299" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxo</a> <a id="10304" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10306" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="10311" class="Symbol">)</a> <a id="10313" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10315" href="Ledger.Transaction.html#2849" class="Field">mint</a><a id="10319" class="Symbol">)</a> <a id="10321" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10323" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10328" class="Symbol">(</a><a id="10329" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10336" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10338" href="Ledger.Utxo.Properties.html#9815" class="Bound">dRefs</a><a id="10343" class="Symbol">)</a> <a id="10345" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10347" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a>
      <a id="10359" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10362" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10367" class="Symbol">(λ</a> <a id="10370" href="Ledger.Utxo.Properties.html#10370" class="Bound">u</a> <a id="10372" class="Symbol">→</a> <a id="10374" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10379" class="Symbol">(</a><a id="10380" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="10388" class="Symbol">(</a><a id="10389" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxo</a> <a id="10394" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10396" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="10401" class="Symbol">)</a> <a id="10403" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10405" href="Ledger.Transaction.html#2849" class="Field">mint</a><a id="10409" class="Symbol">)</a> <a id="10411" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10413" href="Ledger.Utxo.Properties.html#10370" class="Bound">u</a> <a id="10415" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10417" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a><a id="10422" class="Symbol">)</a> <a id="10424" class="Symbol">(</a><a id="10425" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="10440" class="Symbol">_)</a> <a id="10443" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10449" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10454" class="Symbol">(</a><a id="10455" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="10463" class="Symbol">(</a><a id="10464" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxo</a> <a id="10469" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10471" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="10476" class="Symbol">)</a> <a id="10478" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10480" href="Ledger.Transaction.html#2849" class="Field">mint</a><a id="10484" class="Symbol">)</a> <a id="10486" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10488" href="Ledger.Utxo.Properties.html#9815" class="Bound">dRefs</a> <a id="10494" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10496" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a>
      <a id="10508" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10511" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10516" class="Symbol">(λ</a> <a id="10519" href="Ledger.Utxo.Properties.html#10519" class="Bound">u</a> <a id="10521" class="Symbol">→</a> <a id="10523" href="Ledger.Utxo.Properties.html#10519" class="Bound">u</a> <a id="10525" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10527" href="Ledger.Utxo.Properties.html#9815" class="Bound">dRefs</a> <a id="10533" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10535" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a><a id="10540" class="Symbol">)</a> <a id="10542" class="Symbol">(</a><a id="10543" href="Ledger.Utxo.Properties.html#7528" class="Function">∙-homo-Coin</a> <a id="10555" class="Symbol">_</a> <a id="10557" class="Symbol">_)</a> <a id="10560" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10566" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="10575" class="Symbol">(</a><a id="10576" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxo</a> <a id="10581" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10583" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="10588" class="Symbol">)</a> <a id="10590" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10592" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10597" href="Ledger.Transaction.html#2849" class="Field">mint</a> <a id="10602" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10604" href="Ledger.Utxo.Properties.html#9815" class="Bound">dRefs</a> <a id="10610" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10612" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a>
      <a id="10624" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10627" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10632" class="Symbol">(λ</a> <a id="10635" href="Ledger.Utxo.Properties.html#10635" class="Bound">x</a> <a id="10637" class="Symbol">→</a> <a id="10639" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="10648" class="Symbol">(</a><a id="10649" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxo</a> <a id="10654" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10656" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="10661" class="Symbol">)</a> <a id="10663" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10665" href="Ledger.Utxo.Properties.html#10635" class="Bound">x</a> <a id="10667" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10669" href="Ledger.Utxo.Properties.html#9815" class="Bound">dRefs</a> <a id="10675" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10677" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a><a id="10682" class="Symbol">)</a> <a id="10684" href="Ledger.Utxo.Properties.html#9761" class="Bound">h</a> <a id="10686" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10692" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="10701" class="Symbol">(</a><a id="10702" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxo</a> <a id="10707" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10709" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="10714" class="Symbol">)</a> <a id="10716" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10718" class="Number">0</a> <a id="10720" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10722" href="Ledger.Utxo.Properties.html#9815" class="Bound">dRefs</a> <a id="10728" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10730" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a>
      <a id="10742" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10745" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10750" class="Symbol">(λ</a> <a id="10753" href="Ledger.Utxo.Properties.html#10753" class="Bound">x</a> <a id="10755" class="Symbol">→</a> <a id="10757" href="Ledger.Utxo.Properties.html#10753" class="Bound">x</a> <a id="10759" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10761" href="Ledger.Utxo.Properties.html#9815" class="Bound">dRefs</a> <a id="10767" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10769" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a><a id="10774" class="Symbol">)</a> <a id="10776" class="Symbol">(</a><a id="10777" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="10789" class="Symbol">(</a><a id="10790" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="10799" class="Symbol">(</a><a id="10800" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxo</a> <a id="10805" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10807" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="10812" class="Symbol">)))</a> <a id="10816" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10822" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="10831" class="Symbol">(</a><a id="10832" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxo</a> <a id="10837" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10839" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="10844" class="Symbol">)</a> <a id="10846" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10848" href="Ledger.Utxo.Properties.html#9815" class="Bound">dRefs</a> <a id="10854" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10856" href="Ledger.Utxo.Properties.html#9864" class="Bound">sWdls</a>
      <a id="10868" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="10873" href="Ledger.Utxo.Properties.html#10873" class="Function">producedCoinEquality</a> <a id="10894" class="Symbol">:</a> <a id="10896" class="Symbol">∀</a> <a id="10898" class="Symbol">{</a><a id="10899" href="Ledger.Utxo.Properties.html#10899" class="Bound">pp</a><a id="10901" class="Symbol">}</a>
    <a id="10907" class="Symbol">→</a> <a id="10909" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10914" class="Symbol">(</a><a id="10915" href="Ledger.Utxo.html#12354" class="Function">produced</a> <a id="10924" href="Ledger.Utxo.Properties.html#10899" class="Bound">pp</a> <a id="10927" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a> <a id="10937" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="10940" class="Symbol">)</a>
    <a id="10946" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10948" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="10957" class="Symbol">(</a><a id="10958" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="10963" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="10966" class="Symbol">)</a> <a id="10968" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10970" href="Ledger.Transaction.html#2821" class="Field">txfee</a> <a id="10976" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10978" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="10990" href="Ledger.Utxo.Properties.html#10899" class="Bound">pp</a> <a id="10993" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a> <a id="11003" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a> <a id="11007" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11009" href="Ledger.Transaction.html#3063" class="Field">txdonation</a>
  <a id="11022" href="Ledger.Utxo.Properties.html#10873" class="Function">producedCoinEquality</a> <a id="11043" class="Symbol">{</a><a id="11044" href="Ledger.Utxo.Properties.html#11044" class="Bound">utxoState</a><a id="11053" class="Symbol">}</a> <a id="11055" class="Symbol">{</a><a id="11056" href="Ledger.Utxo.Properties.html#11056" class="Bound">pp</a><a id="11058" class="Symbol">}</a> <a id="11060" class="Symbol">=</a>
      <a id="11068" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="11078" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11083" class="Symbol">(</a><a id="11084" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="11092" class="Symbol">(</a><a id="11093" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="11098" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="11101" class="Symbol">)</a> <a id="11103" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11105" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11112" href="Ledger.Transaction.html#2821" class="Field">txfee</a>
      <a id="11124" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11126" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11133" class="Symbol">(</a><a id="11134" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="11146" href="Ledger.Utxo.Properties.html#11056" class="Bound">pp</a> <a id="11149" href="Ledger.Utxo.Properties.html#11044" class="Bound">utxoState</a> <a id="11159" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="11162" class="Symbol">)</a> <a id="11164" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11166" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11173" href="Ledger.Transaction.html#3063" class="Field">txdonation</a><a id="11183" class="Symbol">)</a>
      <a id="11191" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11194" href="Ledger.Utxo.Properties.html#7528" class="Function">∙-homo-Coin</a> <a id="11206" class="Symbol">_</a> <a id="11208" class="Symbol">_</a> <a id="11210" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="11216" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11221" class="Symbol">(</a><a id="11222" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="11230" class="Symbol">(</a><a id="11231" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="11236" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="11239" class="Symbol">)</a> <a id="11241" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11243" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11250" href="Ledger.Transaction.html#2821" class="Field">txfee</a>
      <a id="11262" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11264" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11271" class="Symbol">(</a><a id="11272" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="11284" href="Ledger.Utxo.Properties.html#11056" class="Bound">pp</a> <a id="11287" href="Ledger.Utxo.Properties.html#11044" class="Bound">utxoState</a> <a id="11297" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="11300" class="Symbol">))</a> <a id="11303" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11305" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11310" class="Symbol">(</a><a id="11311" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11318" href="Ledger.Transaction.html#3063" class="Field">txdonation</a><a id="11328" class="Symbol">)</a>
      <a id="11336" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11339" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="11344" class="Symbol">(</a><a id="11345" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="11348" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11353" class="Symbol">(</a><a id="11354" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11361" href="Ledger.Transaction.html#3063" class="Field">txdonation</a><a id="11371" class="Symbol">))</a> <a id="11374" class="Symbol">(</a><a id="11375" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="11389" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11394" class="Symbol">(</a><a id="11395" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="11403" class="Symbol">(</a><a id="11404" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="11409" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="11412" class="Symbol">)</a> <a id="11414" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11416" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11423" href="Ledger.Transaction.html#2821" class="Field">txfee</a>
          <a id="11439" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11441" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11448" class="Symbol">(</a><a id="11449" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="11461" href="Ledger.Utxo.Properties.html#11056" class="Bound">pp</a> <a id="11464" href="Ledger.Utxo.Properties.html#11044" class="Bound">utxoState</a> <a id="11474" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="11477" class="Symbol">))</a>
          <a id="11490" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11493" href="Ledger.Utxo.Properties.html#7528" class="Function">∙-homo-Coin</a> <a id="11505" class="Symbol">_</a> <a id="11507" class="Symbol">_</a> <a id="11509" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11519" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11524" class="Symbol">(</a><a id="11525" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="11533" class="Symbol">(</a><a id="11534" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="11539" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="11542" class="Symbol">)</a> <a id="11544" href="Ledger.TokenAlgebra.html#719" class="Function Operator">+ᵛ</a> <a id="11547" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11554" href="Ledger.Transaction.html#2821" class="Field">txfee</a><a id="11559" class="Symbol">)</a>
          <a id="11571" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11575" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11580" class="Symbol">(</a><a id="11581" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11588" class="Symbol">(</a><a id="11589" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="11601" href="Ledger.Utxo.Properties.html#11056" class="Bound">pp</a> <a id="11604" href="Ledger.Utxo.Properties.html#11044" class="Bound">utxoState</a> <a id="11614" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="11617" class="Symbol">))</a>
          <a id="11630" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11633" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="11639" class="Symbol">(</a><a id="11640" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="11655" class="Symbol">_)</a> <a id="11658" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11668" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11673" class="Symbol">(</a><a id="11674" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="11682" class="Symbol">(</a><a id="11683" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="11688" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="11691" class="Symbol">)</a> <a id="11693" href="Ledger.TokenAlgebra.html#719" class="Function Operator">+ᵛ</a> <a id="11696" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11703" href="Ledger.Transaction.html#2821" class="Field">txfee</a><a id="11708" class="Symbol">)</a>
          <a id="11720" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11724" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="11736" href="Ledger.Utxo.Properties.html#11056" class="Bound">pp</a> <a id="11739" href="Ledger.Utxo.Properties.html#11044" class="Bound">utxoState</a> <a id="11749" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a>
          <a id="11763" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11766" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="11772" class="Symbol">(</a><a id="11773" href="Ledger.Utxo.Properties.html#7528" class="Function">∙-homo-Coin</a> <a id="11785" class="Symbol">_</a> <a id="11787" class="Symbol">_)</a> <a id="11790" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11800" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11805" class="Symbol">(</a><a id="11806" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="11814" class="Symbol">(</a><a id="11815" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="11820" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="11823" class="Symbol">))</a> <a id="11826" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11830" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11835" class="Symbol">(</a><a id="11836" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11843" href="Ledger.Transaction.html#2821" class="Field">txfee</a><a id="11848" class="Symbol">)</a>
          <a id="11860" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11864" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="11876" href="Ledger.Utxo.Properties.html#11056" class="Bound">pp</a> <a id="11879" href="Ledger.Utxo.Properties.html#11044" class="Bound">utxoState</a> <a id="11889" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a>
          <a id="11903" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11906" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="11911" class="Symbol">(λ</a> <a id="11914" href="Ledger.Utxo.Properties.html#11914" class="Bound">x</a> <a id="11916" class="Symbol">→</a> <a id="11918" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="11927" class="Symbol">(</a><a id="11928" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="11933" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="11936" class="Symbol">)</a> <a id="11938" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11940" href="Ledger.Utxo.Properties.html#11914" class="Bound">x</a> <a id="11942" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11944" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="11956" href="Ledger.Utxo.Properties.html#11056" class="Bound">pp</a> <a id="11959" href="Ledger.Utxo.Properties.html#11044" class="Bound">utxoState</a> <a id="11969" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="11972" class="Symbol">)</a>
                <a id="11990" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11992" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="12007" href="Ledger.Transaction.html#2821" class="Field">txfee</a> <a id="12013" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="12023" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="12032" class="Symbol">(</a><a id="12033" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="12038" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="12041" class="Symbol">)</a> <a id="12043" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12045" href="Ledger.Transaction.html#2821" class="Field">txfee</a> <a id="12051" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12053" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="12065" href="Ledger.Utxo.Properties.html#11056" class="Bound">pp</a> <a id="12068" href="Ledger.Utxo.Properties.html#11044" class="Bound">utxoState</a> <a id="12078" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a>
          <a id="12092" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="12100" class="Symbol">)</a><a id="12101" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12107" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="12116" class="Symbol">(</a><a id="12117" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="12122" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="12125" class="Symbol">)</a> <a id="12127" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12129" href="Ledger.Transaction.html#2821" class="Field">txfee</a>
      <a id="12141" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12143" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="12155" href="Ledger.Utxo.Properties.html#11056" class="Bound">pp</a> <a id="12158" href="Ledger.Utxo.Properties.html#11044" class="Bound">utxoState</a> <a id="12168" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a> <a id="12172" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12174" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12179" class="Symbol">(</a><a id="12180" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="12187" href="Ledger.Transaction.html#3063" class="Field">txdonation</a><a id="12197" class="Symbol">)</a>
      <a id="12205" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12208" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="12213" class="Symbol">(</a><a id="12214" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="12223" class="Symbol">(</a><a id="12224" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="12229" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="12232" class="Symbol">)</a> <a id="12234" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12236" href="Ledger.Transaction.html#2821" class="Field">txfee</a> <a id="12242" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12244" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="12256" href="Ledger.Utxo.Properties.html#11056" class="Bound">pp</a> <a id="12259" href="Ledger.Utxo.Properties.html#11044" class="Bound">utxoState</a> <a id="12269" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a> <a id="12273" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="12275" class="Symbol">)</a>
            <a id="12289" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12291" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="12306" class="Symbol">_</a> <a id="12308" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12314" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="12323" class="Symbol">(</a><a id="12324" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="12329" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="12332" class="Symbol">)</a> <a id="12334" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12336" href="Ledger.Transaction.html#2821" class="Field">txfee</a> <a id="12342" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12344" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="12356" href="Ledger.Utxo.Properties.html#11056" class="Bound">pp</a> <a id="12359" href="Ledger.Utxo.Properties.html#11044" class="Bound">utxoState</a> <a id="12369" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a> <a id="12373" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12375" href="Ledger.Transaction.html#3063" class="Field">txdonation</a>
      <a id="12392" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="12397" href="Ledger.Utxo.Properties.html#12397" class="Function">balValueToCoin</a> <a id="12412" class="Symbol">:</a> <a id="12414" class="Symbol">∀</a> <a id="12416" class="Symbol">{</a><a id="12417" href="Ledger.Utxo.Properties.html#12417" class="Bound">pp</a><a id="12419" class="Symbol">}</a>
    <a id="12425" class="Symbol">→</a> <a id="12427" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12432" href="Ledger.Transaction.html#2849" class="Field">mint</a> <a id="12437" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12439" class="Number">0</a>
    <a id="12445" class="Symbol">→</a> <a id="12447" href="Ledger.Utxo.html#12146" class="Function">consumed</a> <a id="12456" href="Ledger.Utxo.Properties.html#12417" class="Bound">pp</a> <a id="12459" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a> <a id="12469" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a> <a id="12473" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12475" href="Ledger.Utxo.html#12354" class="Function">produced</a> <a id="12484" href="Ledger.Utxo.Properties.html#12417" class="Bound">pp</a> <a id="12487" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a> <a id="12497" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a>
    <a id="12505" class="Symbol">→</a> <a id="12507" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="12516" class="Symbol">((</a><a id="12518" href="Ledger.Utxo.html#2625" class="Field">UTxOState.utxo</a> <a id="12533" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a><a id="12542" class="Symbol">)</a> <a id="12544" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12546" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="12551" class="Symbol">)</a>
    <a id="12557" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12559" href="Ledger.Utxo.html#11888" class="Function">depositRefunds</a> <a id="12574" href="Ledger.Utxo.Properties.html#12417" class="Bound">pp</a> <a id="12577" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a> <a id="12587" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a> <a id="12591" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12593" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="12601" href="Ledger.Transaction.html#2959" class="Field">txwdrls</a>
    <a id="12613" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12615" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="12624" class="Symbol">(</a><a id="12625" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="12630" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="12633" class="Symbol">)</a> <a id="12635" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12637" href="Ledger.Transaction.html#2821" class="Field">txfee</a> <a id="12643" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12645" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="12657" href="Ledger.Utxo.Properties.html#12417" class="Bound">pp</a> <a id="12660" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a> <a id="12670" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a> <a id="12674" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12676" href="Ledger.Transaction.html#3063" class="Field">txdonation</a>
  <a id="12689" href="Ledger.Utxo.Properties.html#12397" class="Function">balValueToCoin</a> <a id="12704" class="Symbol">{</a><a id="12705" href="Ledger.Utxo.Properties.html#12705" class="Bound">utxoState</a><a id="12714" class="Symbol">}</a> <a id="12716" class="Symbol">{</a><a id="12717" href="Ledger.Utxo.Properties.html#12717" class="Bound">pp</a><a id="12719" class="Symbol">}</a> <a id="12721" href="Ledger.Utxo.Properties.html#12721" class="Bound">h</a> <a id="12723" href="Ledger.Utxo.Properties.html#12723" class="Bound">h&#39;</a> <a id="12726" class="Symbol">=</a> <a id="12728" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="12738" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="12747" class="Symbol">((</a><a id="12749" href="Ledger.Utxo.html#2625" class="Field">UTxOState.utxo</a> <a id="12764" href="Ledger.Utxo.Properties.html#12705" class="Bound">utxoState</a><a id="12773" class="Symbol">)</a> <a id="12775" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12777" href="Ledger.Transaction.html#2727" class="Field">txins</a><a id="12782" class="Symbol">)</a> <a id="12784" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12786" href="Ledger.Utxo.html#11888" class="Function">depositRefunds</a> <a id="12801" href="Ledger.Utxo.Properties.html#12717" class="Bound">pp</a> <a id="12804" href="Ledger.Utxo.Properties.html#12705" class="Bound">utxoState</a> <a id="12814" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a> <a id="12818" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12820" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="12828" href="Ledger.Transaction.html#2959" class="Field">txwdrls</a>
      <a id="12842" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="12846" href="Ledger.Utxo.Properties.html#9528" class="Function">consumedCoinEquality</a> <a id="12867" class="Symbol">{</a><a id="12868" href="Ledger.Utxo.Properties.html#12705" class="Bound">utxoState</a><a id="12877" class="Symbol">}</a> <a id="12879" class="Symbol">{</a><a id="12880" href="Ledger.Utxo.Properties.html#12717" class="Bound">pp</a><a id="12882" class="Symbol">}</a> <a id="12884" href="Ledger.Utxo.Properties.html#12721" class="Bound">h</a> <a id="12886" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="12892" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12897" class="Symbol">(</a><a id="12898" href="Ledger.Utxo.html#12146" class="Function">consumed</a> <a id="12907" href="Ledger.Utxo.Properties.html#12717" class="Bound">pp</a> <a id="12910" href="Ledger.Utxo.Properties.html#12705" class="Bound">utxoState</a> <a id="12920" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="12923" class="Symbol">)</a>
      <a id="12931" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12934" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="12940" href="Ledger.Utxo.Properties.html#12723" class="Bound">h&#39;</a> <a id="12943" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12949" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12954" class="Symbol">(</a><a id="12955" href="Ledger.Utxo.html#12354" class="Function">produced</a> <a id="12964" href="Ledger.Utxo.Properties.html#12717" class="Bound">pp</a> <a id="12967" href="Ledger.Utxo.Properties.html#12705" class="Bound">utxoState</a> <a id="12977" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="12980" class="Symbol">)</a>
      <a id="12988" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12991" href="Ledger.Utxo.Properties.html#10873" class="Function">producedCoinEquality</a> <a id="13012" class="Symbol">{</a><a id="13013" href="Ledger.Utxo.Properties.html#12705" class="Bound">utxoState</a><a id="13022" class="Symbol">}</a> <a id="13024" class="Symbol">{</a><a id="13025" href="Ledger.Utxo.Properties.html#12717" class="Bound">pp</a><a id="13027" class="Symbol">}</a> <a id="13029" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="13035" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="13044" class="Symbol">(</a><a id="13045" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="13050" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a><a id="13053" class="Symbol">)</a> <a id="13055" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13057" href="Ledger.Transaction.html#2821" class="Field">txfee</a> <a id="13063" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13065" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="13077" href="Ledger.Utxo.Properties.html#12717" class="Bound">pp</a> <a id="13080" href="Ledger.Utxo.Properties.html#12705" class="Bound">utxoState</a> <a id="13090" href="Ledger.Utxo.Properties.html#9077" class="Bound">txb</a> <a id="13094" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13096" href="Ledger.Transaction.html#3063" class="Field">txdonation</a>
      <a id="13113" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="posPart-negPart≡x"></a><a id="13116" href="Ledger.Utxo.Properties.html#13116" class="Function">posPart-negPart≡x</a> <a id="13134" class="Symbol">:</a> <a id="13136" class="Symbol">{</a><a id="13137" href="Ledger.Utxo.Properties.html#13137" class="Bound">x</a> <a id="13139" class="Symbol">:</a> <a id="13141" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="13142" class="Symbol">}</a> <a id="13144" class="Symbol">→</a> <a id="13146" href="Prelude.html#3167" class="Function">posPart</a> <a id="13154" href="Ledger.Utxo.Properties.html#13137" class="Bound">x</a> <a id="13156" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="13158" href="Prelude.html#3244" class="Function">negPart</a> <a id="13166" href="Ledger.Utxo.Properties.html#13137" class="Bound">x</a> <a id="13168" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13170" href="Ledger.Utxo.Properties.html#13137" class="Bound">x</a>
<a id="13172" href="Ledger.Utxo.Properties.html#13116" class="Function">posPart-negPart≡x</a> <a id="13190" class="Symbol">{</a><a id="13191" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="13196" href="Ledger.Utxo.Properties.html#13196" class="Bound">n</a><a id="13197" class="Symbol">}</a>     <a id="13203" class="Symbol">=</a> <a id="13205" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="13210" href="Ledger.Utxo.Properties.html#13116" class="Function">posPart-negPart≡x</a> <a id="13228" class="Symbol">{</a><a id="13229" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="13238" href="Ledger.Utxo.Properties.html#13238" class="Bound">n</a><a id="13239" class="Symbol">}</a> <a id="13241" class="Symbol">=</a> <a id="13243" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="φ"></a><a id="13249" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a> <a id="13251" class="Symbol">:</a> <a id="13253" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="13255" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="13257" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="13262" class="Symbol">→</a> <a id="13264" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="13266" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a> <a id="13268" class="Symbol">(</a><a id="13269" href="Ledger.Utxo.Properties.html#13269" class="Bound">n</a> <a id="13271" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13273" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="13277" class="Symbol">)</a> <a id="13279" class="Symbol">=</a> <a id="13281" href="Ledger.Utxo.Properties.html#13269" class="Bound">n</a>
<a id="13283" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a> <a id="13285" class="Symbol">(</a><a id="13286" href="Ledger.Utxo.Properties.html#13286" class="Bound">n</a> <a id="13288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13290" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="13295" class="Symbol">)</a> <a id="13297" class="Symbol">=</a> <a id="13299" class="Number">0</a>

<a id="13302" class="Keyword">module</a> <a id="13309" href="Ledger.Utxo.Properties.html#13309" class="Module">DepositHelpers</a>
  <a id="13326" class="Symbol">{</a><a id="13327" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="13332" href="Ledger.Utxo.Properties.html#13332" class="Bound">utxo&#39;</a> <a id="13338" class="Symbol">:</a> <a id="13340" href="Ledger.Transaction.html#2402" class="Function">UTxO</a><a id="13344" class="Symbol">}</a>
  <a id="13348" class="Symbol">{</a><a id="13349" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="13354" href="Ledger.Utxo.Properties.html#13354" class="Bound">fees&#39;</a> <a id="13360" class="Symbol">:</a> <a id="13362" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13366" class="Symbol">}</a>
  <a id="13370" class="Symbol">{</a><a id="13371" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a> <a id="13380" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="13390" class="Symbol">:</a> <a id="13392" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="13400" class="Symbol">}</a>
  <a id="13404" class="Symbol">{</a><a id="13405" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="13415" href="Ledger.Utxo.Properties.html#13415" class="Bound">donations&#39;</a> <a id="13426" class="Symbol">:</a> <a id="13428" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13432" class="Symbol">}</a>
  <a id="13436" class="Symbol">{</a><a id="13437" href="Ledger.Utxo.Properties.html#13437" class="Bound">tx</a> <a id="13440" class="Symbol">:</a> <a id="13442" href="Ledger.Transaction.html#4234" class="Record">Tx</a><a id="13444" class="Symbol">}</a> <a id="13446" class="Symbol">(</a><a id="13447" class="Keyword">let</a> <a id="13451" class="Keyword">open</a> <a id="13456" href="Ledger.Transaction.html#4234" class="Module">Tx</a> <a id="13459" href="Ledger.Utxo.Properties.html#13437" class="Bound">tx</a> <a id="13462" class="Keyword">renaming</a> <a id="13471" class="Symbol">(</a><a id="13472" href="Ledger.Transaction.html#4266" class="Field">body</a> <a id="13477" class="Symbol">to</a> <a id="13480" class="Field">txb</a><a id="13483" class="Symbol">);</a> <a id="13486" class="Keyword">open</a> <a id="13491" href="Ledger.Transaction.html#2691" class="Module">TxBody</a> <a id="13498" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a><a id="13501" class="Symbol">)</a>
  <a id="13505" class="Symbol">{</a><a id="13506" href="Ledger.Utxo.Properties.html#13506" class="Bound">Γ</a> <a id="13508" class="Symbol">:</a> <a id="13510" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a><a id="13517" class="Symbol">}</a>
  <a id="13521" class="Symbol">(</a><a id="13522" href="Ledger.Utxo.Properties.html#13522" class="Bound">step</a>  <a id="13528" class="Symbol">:</a> <a id="13530" href="Ledger.Utxo.Properties.html#13506" class="Bound">Γ</a> <a id="13532" href="Ledger.Utxo.html#3206" class="Datatype Operator">⊢</a> <a id="13534" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="13536" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a>  <a id="13542" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13544" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a>  <a id="13550" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13552" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a>  <a id="13562" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13564" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a>  <a id="13575" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a> <a id="13577" href="Ledger.Utxo.html#3206" class="Datatype Operator">⇀⦇</a> <a id="13580" href="Ledger.Utxo.Properties.html#13437" class="Bound">tx</a> <a id="13583" href="Ledger.Utxo.html#3206" class="Datatype Operator">,UTXO⦈</a>
               <a id="13605" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="13607" href="Ledger.Utxo.Properties.html#13332" class="Bound">utxo&#39;</a> <a id="13613" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13615" href="Ledger.Utxo.Properties.html#13354" class="Bound">fees&#39;</a> <a id="13621" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13623" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="13633" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13635" href="Ledger.Utxo.Properties.html#13415" class="Bound">donations&#39;</a> <a id="13646" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a><a id="13647" class="Symbol">)</a>
  <a id="13651" class="Symbol">(</a><a id="13652" href="Ledger.Utxo.Properties.html#13652" class="Bound">h&#39;</a> <a id="13655" class="Symbol">:</a> <a id="13657" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="13662" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="13664" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="13669" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13675" class="Symbol">(</a><a id="13676" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13680" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a><a id="13684" class="Symbol">))</a>
  <a id="13689" class="Keyword">where</a>
  <a id="13697" class="Keyword">open</a> <a id="13702" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="13741" class="Symbol">{</a><a id="13742" class="Argument">A</a> <a id="13744" class="Symbol">=</a> <a id="13746" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="13747" class="Symbol">}</a> <a id="13749" class="Symbol">(</a><a id="13750" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a> <a id="13762" class="Symbol">(</a><a id="13763" class="Keyword">quoteTerm</a> <a id="13773" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="13783" class="Symbol">))</a>

  <a id="13789" class="Keyword">private</a>
    <a id="13801" href="Ledger.Utxo.Properties.html#13801" class="Function">stepS</a> <a id="13807" class="Symbol">:</a> <a id="13809" href="Ledger.Utxo.Properties.html#13506" class="Bound">Γ</a> <a id="13811" href="Ledger.Utxo.html#12749" class="Datatype Operator">⊢</a> <a id="13813" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="13815" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a>  <a id="13821" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13823" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a>  <a id="13829" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13831" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a>  <a id="13841" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13843" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a>  <a id="13854" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a> <a id="13856" href="Ledger.Utxo.html#12749" class="Datatype Operator">⇀⦇</a> <a id="13859" href="Ledger.Utxo.Properties.html#13437" class="Bound">tx</a> <a id="13862" href="Ledger.Utxo.html#12749" class="Datatype Operator">,UTXOS⦈</a>
                <a id="13886" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="13888" href="Ledger.Utxo.Properties.html#13332" class="Bound">utxo&#39;</a> <a id="13894" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13896" href="Ledger.Utxo.Properties.html#13354" class="Bound">fees&#39;</a> <a id="13902" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13904" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="13914" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13916" href="Ledger.Utxo.Properties.html#13415" class="Bound">donations&#39;</a> <a id="13927" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a>
    <a id="13933" href="Ledger.Utxo.Properties.html#13801" class="Function">stepS</a> <a id="13939" class="Symbol">=</a> <a id="13941" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="13946" href="Ledger.Utxo.Properties.html#13522" class="Bound">step</a> <a id="13951" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="13954" class="Symbol">λ</a> <a id="13956" class="Keyword">where</a>
      <a id="13968" class="Symbol">(</a><a id="13969" href="Ledger.Utxo.html#15269" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="13985" class="Symbol">_</a> <a id="13987" class="Symbol">_</a> <a id="13989" class="Symbol">_</a> <a id="13991" class="Symbol">_</a> <a id="13993" class="Symbol">_</a> <a id="13995" class="Symbol">_</a> <a id="13997" class="Symbol">_</a> <a id="13999" class="Symbol">_</a> <a id="14001" class="Symbol">_</a> <a id="14003" class="Symbol">_</a> <a id="14005" class="Symbol">_</a> <a id="14007" class="Symbol">_</a> <a id="14009" class="Symbol">_</a> <a id="14011" class="Symbol">_</a> <a id="14013" class="Symbol">_</a> <a id="14015" class="Symbol">_</a> <a id="14017" class="Symbol">_</a> <a id="14019" class="Symbol">_</a> <a id="14021" class="Symbol">_</a> <a id="14023" href="Ledger.Utxo.Properties.html#14023" class="Bound">h</a><a id="14024" class="Symbol">)</a> <a id="14026" class="Symbol">→</a> <a id="14028" href="Ledger.Utxo.Properties.html#14023" class="Bound">h</a>

    <a id="14035" href="Ledger.Utxo.Properties.html#14035" class="Function">pp</a> <a id="14038" class="Symbol">:</a> <a id="14040" href="Ledger.PParams.html#1570" class="Record">PParams</a>
    <a id="14052" href="Ledger.Utxo.Properties.html#14035" class="Function">pp</a> <a id="14055" class="Symbol">=</a> <a id="14057" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="14073" href="Ledger.Utxo.Properties.html#13506" class="Bound">Γ</a>
    <a id="14079" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="14083" class="Symbol">:</a> <a id="14085" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14094" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="14098" class="Symbol">=</a> <a id="14100" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14108" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a>
    <a id="14121" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="14126" class="Symbol">:</a> <a id="14128" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14137" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="14142" class="Symbol">=</a> <a id="14144" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14152" class="Symbol">(</a><a id="14153" href="Ledger.Utxo.html#9153" class="Function">updateDeposits</a> <a id="14168" href="Ledger.Utxo.Properties.html#14035" class="Function">pp</a> <a id="14171" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a> <a id="14175" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a><a id="14183" class="Symbol">)</a>
    <a id="14189" href="Ledger.Utxo.Properties.html#14189" class="Function">Δdep</a> <a id="14194" class="Symbol">:</a> <a id="14196" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
    <a id="14202" href="Ledger.Utxo.Properties.html#14189" class="Function">Δdep</a> <a id="14207" class="Symbol">=</a> <a id="14209" href="Ledger.Utxo.html#9560" class="Function">depositsChange</a> <a id="14224" href="Ledger.Utxo.Properties.html#14035" class="Function">pp</a> <a id="14227" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a> <a id="14231" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a>
    <a id="14244" href="Ledger.Utxo.Properties.html#14244" class="Function">utxoSt</a> <a id="14251" class="Symbol">:</a> <a id="14253" href="Ledger.Utxo.html#2561" class="Record">UTxOState</a>
    <a id="14267" href="Ledger.Utxo.Properties.html#14244" class="Function">utxoSt</a> <a id="14274" class="Symbol">=</a> <a id="14276" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="14278" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="14283" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14285" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="14290" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14292" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a> <a id="14301" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14303" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="14313" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a>
    <a id="14319" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="14323" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="14327" class="Symbol">:</a> <a id="14329" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14338" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="14342" class="Symbol">=</a> <a id="14344" href="Ledger.Utxo.html#11888" class="Function">depositRefunds</a> <a id="14359" href="Ledger.Utxo.Properties.html#14035" class="Function">pp</a> <a id="14362" href="Ledger.Utxo.Properties.html#14244" class="Function">utxoSt</a> <a id="14369" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a>
    <a id="14377" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="14382" class="Symbol">=</a> <a id="14384" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14392" href="Ledger.Transaction.html#2959" class="Function">txwdrls</a>
    <a id="14404" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="14408" class="Symbol">=</a> <a id="14410" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a>    <a id="14425" href="Ledger.Utxo.Properties.html#14035" class="Function">pp</a> <a id="14428" href="Ledger.Utxo.Properties.html#14244" class="Function">utxoSt</a> <a id="14435" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a>
    <a id="14443" href="Ledger.Utxo.Properties.html#14443" class="Function">h</a> <a id="14445" class="Symbol">:</a> <a id="14447" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="14456" class="Symbol">(</a><a id="14457" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14461" class="Symbol">(</a><a id="14462" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="14467" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="14469" href="Ledger.Transaction.html#2727" class="Function">txins</a> <a id="14475" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="14476" class="Symbol">))</a> <a id="14479" class="Symbol">(</a><a id="14480" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14484" class="Symbol">(</a><a id="14485" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="14490" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a><a id="14493" class="Symbol">))</a>
    <a id="14500" href="Ledger.Utxo.Properties.html#14443" class="Function">h</a> <a id="14502" class="Symbol">=</a> <a id="14504" class="Symbol">λ</a> <a id="14506" href="Ledger.Utxo.Properties.html#14506" class="Bound">h₁</a> <a id="14509" href="Ledger.Utxo.Properties.html#14509" class="Bound">h₂</a> <a id="14512" class="Symbol">→</a> <a id="14514" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="14518" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14520" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="14526" class="Symbol">(</a><a id="14527" href="Ledger.Utxo.Properties.html#9228" class="Function">newTxid⇒disj</a> <a id="14540" class="Symbol">{</a><a id="14541" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a><a id="14544" class="Symbol">}</a> <a id="14546" class="Symbol">{</a><a id="14547" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a><a id="14551" class="Symbol">}</a> <a id="14553" href="Ledger.Utxo.Properties.html#13652" class="Bound">h&#39;</a><a id="14555" class="Symbol">)</a>
                      <a id="14579" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14581" href="Function.Bundles.html#4810" class="Field">to</a> <a id="14584" href="Axiom.Set.html#9351" class="Function">∈-∩</a> <a id="14588" class="Symbol">(</a><a id="14589" href="Axiom.Set.Rel.html#7214" class="Function">res-comp-domᵐ</a> <a id="14603" href="Ledger.Utxo.Properties.html#14506" class="Bound">h₁</a> <a id="14606" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14608" href="Ledger.Utxo.Properties.html#14509" class="Bound">h₂</a><a id="14610" class="Symbol">)</a>
    <a id="14616" href="Ledger.Utxo.Properties.html#14616" class="Function">newBal&#39;</a> <a id="14624" class="Symbol">:</a> <a id="14626" href="Ledger.Utxo.Properties.html#13506" class="Bound">Γ</a> <a id="14628" href="Ledger.Utxo.html#3206" class="Datatype Operator">⊢</a> <a id="14630" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="14632" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a>  <a id="14638" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14640" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a>  <a id="14646" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14648" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a>  <a id="14658" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14660" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a>  <a id="14671" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a> <a id="14673" href="Ledger.Utxo.html#3206" class="Datatype Operator">⇀⦇</a> <a id="14676" href="Ledger.Utxo.Properties.html#13437" class="Bound">tx</a> <a id="14679" href="Ledger.Utxo.html#3206" class="Datatype Operator">,UTXO⦈</a>
                  <a id="14704" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="14706" href="Ledger.Utxo.Properties.html#13332" class="Bound">utxo&#39;</a> <a id="14712" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14714" href="Ledger.Utxo.Properties.html#13354" class="Bound">fees&#39;</a> <a id="14720" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14722" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="14732" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14734" href="Ledger.Utxo.Properties.html#13415" class="Bound">donations&#39;</a> <a id="14745" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a>
            <a id="14759" class="Symbol">→</a> <a id="14761" href="Ledger.Utxo.html#12146" class="Function">consumed</a> <a id="14770" href="Ledger.Utxo.Properties.html#14035" class="Function">pp</a> <a id="14773" href="Ledger.Utxo.Properties.html#14244" class="Function">utxoSt</a> <a id="14780" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a> <a id="14784" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14786" href="Ledger.Utxo.html#12354" class="Function">produced</a> <a id="14795" href="Ledger.Utxo.Properties.html#14035" class="Function">pp</a> <a id="14798" href="Ledger.Utxo.Properties.html#14244" class="Function">utxoSt</a> <a id="14805" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a>
    <a id="14813" href="Ledger.Utxo.Properties.html#14616" class="Function">newBal&#39;</a> <a id="14821" class="Symbol">(</a><a id="14822" href="Ledger.Utxo.html#15269" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="14838" class="Symbol">_</a> <a id="14840" class="Symbol">_</a> <a id="14842" class="Symbol">_</a> <a id="14844" class="Symbol">_</a> <a id="14846" class="Symbol">_</a> <a id="14848" class="Symbol">_</a> <a id="14850" class="Symbol">_</a> <a id="14852" class="Symbol">_</a> <a id="14854" href="Ledger.Utxo.Properties.html#14854" class="Bound">x</a> <a id="14856" class="Symbol">_</a> <a id="14858" class="Symbol">_</a> <a id="14860" class="Symbol">_</a> <a id="14862" class="Symbol">_</a> <a id="14864" class="Symbol">_</a> <a id="14866" class="Symbol">_</a> <a id="14868" class="Symbol">_</a> <a id="14870" class="Symbol">_</a> <a id="14872" class="Symbol">_</a> <a id="14874" class="Symbol">_</a> <a id="14876" class="Symbol">_)</a> <a id="14879" class="Symbol">=</a> <a id="14881" href="Ledger.Utxo.Properties.html#14854" class="Bound">x</a>
    <a id="14887" href="Ledger.Utxo.Properties.html#14887" class="Function">newBal</a> <a id="14894" class="Symbol">:</a> <a id="14896" href="Ledger.Utxo.html#12146" class="Function">consumed</a> <a id="14905" href="Ledger.Utxo.Properties.html#14035" class="Function">pp</a> <a id="14908" href="Ledger.Utxo.Properties.html#14244" class="Function">utxoSt</a> <a id="14915" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a> <a id="14919" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14921" href="Ledger.Utxo.html#12354" class="Function">produced</a> <a id="14930" href="Ledger.Utxo.Properties.html#14035" class="Function">pp</a> <a id="14933" href="Ledger.Utxo.Properties.html#14244" class="Function">utxoSt</a> <a id="14940" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a>
    <a id="14948" href="Ledger.Utxo.Properties.html#14887" class="Function">newBal</a> <a id="14955" class="Symbol">=</a> <a id="14957" href="Ledger.Utxo.Properties.html#14616" class="Function">newBal&#39;</a> <a id="14965" href="Ledger.Utxo.Properties.html#13522" class="Bound">step</a>
    <a id="14974" href="Ledger.Utxo.Properties.html#14974" class="Function">noMintAda&#39;</a> <a id="14985" class="Symbol">:</a> <a id="14987" href="Ledger.Utxo.Properties.html#13506" class="Bound">Γ</a> <a id="14989" href="Ledger.Utxo.html#3206" class="Datatype Operator">⊢</a> <a id="14991" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="14993" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a>  <a id="14999" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15001" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a>  <a id="15007" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15009" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a>  <a id="15019" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15021" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a>  <a id="15032" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a> <a id="15034" href="Ledger.Utxo.html#3206" class="Datatype Operator">⇀⦇</a> <a id="15037" href="Ledger.Utxo.Properties.html#13437" class="Bound">tx</a> <a id="15040" href="Ledger.Utxo.html#3206" class="Datatype Operator">,UTXO⦈</a>
                     <a id="15068" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="15070" href="Ledger.Utxo.Properties.html#13332" class="Bound">utxo&#39;</a> <a id="15076" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15078" href="Ledger.Utxo.Properties.html#13354" class="Bound">fees&#39;</a> <a id="15084" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15086" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="15096" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15098" href="Ledger.Utxo.Properties.html#13415" class="Bound">donations&#39;</a> <a id="15109" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a>
               <a id="15126" class="Symbol">→</a> <a id="15128" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="15133" class="Symbol">(</a><a id="15134" href="Ledger.Transaction.html#2849" class="Function">mint</a><a id="15138" class="Symbol">)</a> <a id="15140" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15142" class="Number">0</a>
    <a id="15148" href="Ledger.Utxo.Properties.html#14974" class="Function">noMintAda&#39;</a> <a id="15159" class="Symbol">(</a><a id="15160" href="Ledger.Utxo.html#15269" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="15176" class="Symbol">_</a> <a id="15178" class="Symbol">_</a> <a id="15180" class="Symbol">_</a> <a id="15182" class="Symbol">_</a> <a id="15184" class="Symbol">_</a> <a id="15186" class="Symbol">_</a> <a id="15188" class="Symbol">_</a> <a id="15190" class="Symbol">_</a> <a id="15192" class="Symbol">_</a> <a id="15194" href="Ledger.Utxo.Properties.html#15194" class="Bound">x</a> <a id="15196" class="Symbol">_</a> <a id="15198" class="Symbol">_</a> <a id="15200" class="Symbol">_</a> <a id="15202" class="Symbol">_</a> <a id="15204" class="Symbol">_</a> <a id="15206" class="Symbol">_</a> <a id="15208" class="Symbol">_</a> <a id="15210" class="Symbol">_</a> <a id="15212" class="Symbol">_</a> <a id="15214" class="Symbol">_)</a> <a id="15217" class="Symbol">=</a> <a id="15219" href="Ledger.Utxo.Properties.html#15194" class="Bound">x</a>
    <a id="15225" href="Ledger.Utxo.Properties.html#15225" class="Function">noMintAda</a> <a id="15235" class="Symbol">:</a> <a id="15237" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="15242" href="Ledger.Transaction.html#2849" class="Function">mint</a> <a id="15247" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15249" class="Number">0</a>
    <a id="15255" href="Ledger.Utxo.Properties.html#15225" class="Function">noMintAda</a> <a id="15265" class="Symbol">=</a> <a id="15267" href="Ledger.Utxo.Properties.html#14974" class="Function">noMintAda&#39;</a> <a id="15278" href="Ledger.Utxo.Properties.html#13522" class="Bound">step</a>
    <a id="15287" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="15297" class="Symbol">:</a> <a id="15299" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="15308" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="15318" class="Symbol">=</a> <a id="15320" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="15328" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a> <a id="15337" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15339" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a>

  <a id="15346" href="Ledger.Utxo.Properties.html#15346" class="Function">deposits-change&#39;</a> <a id="15363" class="Symbol">:</a> <a id="15365" href="Ledger.Utxo.Properties.html#14189" class="Function">Δdep</a> <a id="15370" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15372" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="15376" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15378" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a>
  <a id="15384" href="Ledger.Utxo.Properties.html#15346" class="Function">deposits-change&#39;</a> <a id="15401" class="Symbol">=</a> <a id="15403" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="15407" href="Ledger.Utxo.Properties.html#13116" class="Function">posPart-negPart≡x</a>

  <a id="15428" href="Ledger.Utxo.Properties.html#15428" class="Function">dep-ref</a> <a id="15436" class="Symbol">:</a> <a id="15438" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="15442" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15444" class="Number">0</a> <a id="15446" class="Symbol">→</a> <a id="15448" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="15453" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15455" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="15459" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15461" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a>
  <a id="15467" href="Ledger.Utxo.Properties.html#15428" class="Function">dep-ref</a> <a id="15475" href="Ledger.Utxo.Properties.html#15475" class="Bound">tot≡0</a> <a id="15481" class="Symbol">=</a> <a id="15483" href="Data.Integer.Properties.html#2689" class="Function">ℤ.+-injective</a> <a id="15497" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15499" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="15509" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15514" class="Symbol">(</a><a id="15515" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="15520" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15522" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a><a id="15525" class="Symbol">)</a>          <a id="15536" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15539" href="Data.Integer.Properties.html#32743" class="Function">ℤ.pos-+</a> <a id="15547" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="15552" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="15556" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="15562" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15567" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="15572" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15576" class="Symbol">(</a><a id="15577" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="15581" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15583" class="Number">0</a><a id="15584" class="Symbol">)</a>    <a id="15589" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="15593" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15598" class="Symbol">(λ</a> <a id="15601" href="Ledger.Utxo.Properties.html#15601" class="Bound">u</a> <a id="15603" class="Symbol">→</a> <a id="15605" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15610" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="15615" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15619" class="Symbol">(</a><a id="15620" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="15624" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15626" href="Ledger.Utxo.Properties.html#15601" class="Bound">u</a><a id="15627" class="Symbol">))</a> <a id="15630" href="Ledger.Utxo.Properties.html#15475" class="Bound">tot≡0</a> <a id="15636" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="15642" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15647" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="15652" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15656" class="Symbol">(</a><a id="15657" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="15661" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15663" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a><a id="15666" class="Symbol">)</a>  <a id="15669" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15672" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15677" class="Symbol">((</a><a id="15679" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="15683" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a><a id="15687" class="Symbol">)</a> <a id="15689" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="15691" class="Symbol">)</a> <a id="15693" class="Symbol">(</a><a id="15694" href="Data.Integer.Properties.html#19768" class="Function">ℤ.⊖-swap</a> <a id="15703" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="15707" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a><a id="15710" class="Symbol">)</a> <a id="15712" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="15718" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15723" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="15728" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="15732" class="Symbol">(</a><a id="15733" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="15737" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15739" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a><a id="15742" class="Symbol">)</a>  <a id="15745" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="15749" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15754" class="Symbol">(λ</a> <a id="15757" href="Ledger.Utxo.Properties.html#15757" class="Bound">u</a> <a id="15759" class="Symbol">→</a>  <a id="15762" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15767" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="15772" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="15776" href="Ledger.Utxo.Properties.html#15757" class="Bound">u</a><a id="15777" class="Symbol">)</a> <a id="15779" href="Ledger.Utxo.Properties.html#15346" class="Function">deposits-change&#39;</a> <a id="15796" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="15802" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15807" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="15812" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="15816" href="Ledger.Utxo.Properties.html#14189" class="Function">Δdep</a>         <a id="15829" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="15833" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15838" class="Symbol">((</a><a id="15840" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="15844" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a><a id="15848" class="Symbol">)</a> <a id="15850" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="15852" class="Symbol">)</a> <a id="15854" class="Symbol">(</a><a id="15855" href="Data.Integer.Properties.html#19768" class="Function">ℤ.⊖-swap</a> <a id="15864" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="15868" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a><a id="15872" class="Symbol">)</a> <a id="15874" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="15880" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15885" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="15890" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15892" class="Symbol">(</a><a id="15893" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="15897" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15899" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a><a id="15903" class="Symbol">)</a>   <a id="15907" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15910" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="15929" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="15934" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="15938" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="15943" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="15949" class="Symbol">(</a><a id="15950" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="15955" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15957" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="15960" class="Symbol">)</a> <a id="15962" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15964" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a>        <a id="15976" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15979" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15984" class="Symbol">(</a><a id="15985" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="15988" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a><a id="15992" class="Symbol">)</a> <a id="15994" class="Symbol">(</a><a id="15995" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="16002" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="16007" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="16010" class="Symbol">)</a> <a id="16012" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16018" class="Symbol">(</a><a id="16019" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="16023" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16025" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a><a id="16029" class="Symbol">)</a> <a id="16031" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16033" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a>        <a id="16045" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16049" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="16068" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="16072" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="16077" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="16082" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16088" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16093" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="16097" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16101" class="Symbol">(</a><a id="16102" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="16107" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16109" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a><a id="16113" class="Symbol">)</a> <a id="16115" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16118" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16123" class="Symbol">(λ</a> <a id="16126" href="Ledger.Utxo.Properties.html#16126" class="Bound">u</a> <a id="16128" class="Symbol">→</a> <a id="16130" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16135" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="16139" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16143" href="Ledger.Utxo.Properties.html#16126" class="Bound">u</a><a id="16144" class="Symbol">)</a> <a id="16146" class="Symbol">(</a><a id="16147" href="Data.Integer.Properties.html#19485" class="Function">ℤ.n⊖n≡0</a> <a id="16155" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a><a id="16159" class="Symbol">)</a> <a id="16161" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16167" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16172" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="16176" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16180" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>          <a id="16194" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16197" href="Data.Integer.Properties.html#26987" class="Function">ℤ.+-identityʳ</a> <a id="16211" class="Symbol">_</a> <a id="16213" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16219" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16224" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="16228" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="16233" href="Ledger.Utxo.Properties.html#16233" class="Function">ref-tot-0</a> <a id="16243" class="Symbol">:</a> <a id="16245" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="16249" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="16251" class="Number">0</a> <a id="16253" class="Symbol">→</a> <a id="16255" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="16259" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16261" class="Number">0</a>
  <a id="16265" href="Ledger.Utxo.Properties.html#16233" class="Function">ref-tot-0</a> <a id="16275" href="Ledger.Utxo.Properties.html#16275" class="Bound">ref≢0</a> <a id="16281" class="Keyword">with</a> <a id="16286" href="Ledger.Utxo.Properties.html#14189" class="Function">Δdep</a>
  <a id="16293" class="Symbol">...</a> <a id="16297" class="Symbol">|</a> <a id="16299" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16304" href="Ledger.Utxo.Properties.html#16304" class="Bound">n</a>     <a id="16310" class="Symbol">=</a> <a id="16312" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="16319" class="Symbol">(</a><a id="16320" class="Bound">ref≢0</a> <a id="16326" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="16330" class="Symbol">)</a>
  <a id="16334" class="Symbol">...</a> <a id="16338" class="Symbol">|</a> <a id="16340" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="16349" href="Ledger.Utxo.Properties.html#16349" class="Bound">n</a> <a id="16351" class="Symbol">=</a> <a id="16353" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="16361" href="Ledger.Utxo.Properties.html#16361" class="Function">ref≤dep</a> <a id="16369" class="Symbol">:</a> <a id="16371" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="16375" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="16377" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a>
  <a id="16383" href="Ledger.Utxo.Properties.html#16361" class="Function">ref≤dep</a> <a id="16391" class="Keyword">with</a> <a id="16396" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="16400" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="16402" class="Number">0</a>
  <a id="16406" href="Ledger.Utxo.Properties.html#16361" class="Function">...</a> <a id="16410" class="Symbol">|</a> <a id="16412" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="16415" href="Ledger.Utxo.Properties.html#16415" class="Bound">¬p</a> <a id="16418" class="Symbol">=</a> <a id="16420" href="Data.Nat.Properties.html#66499" class="Function">≤″⇒≤</a> <a id="16425" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16427" class="Symbol">_</a> <a id="16429" href="Ledger.Utxo.Properties.html#1440" class="InductiveConstructor Operator">,≤_</a> <a id="16433" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16435" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16445" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="16449" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16451" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="16456" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16459" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="16466" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="16470" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="16475" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16481" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="16486" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16488" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="16492" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16495" href="Ledger.Utxo.Properties.html#15428" class="Function">dep-ref</a> <a id="16503" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16505" href="Ledger.Utxo.Properties.html#16233" class="Function">ref-tot-0</a> <a id="16515" href="Ledger.Utxo.Properties.html#16415" class="Bound">¬p</a> <a id="16518" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16524" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a>        <a id="16535" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="16539" href="Ledger.Utxo.Properties.html#16361" class="Function">...</a> <a id="16543" class="Symbol">|</a> <a id="16545" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="16549" href="Ledger.Utxo.Properties.html#16549" class="Bound">p</a> <a id="16551" class="Keyword">rewrite</a> <a id="16559" href="Ledger.Utxo.Properties.html#16549" class="Bound">p</a> <a id="16561" class="Symbol">=</a> <a id="16563" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a>

  <a id="16570" href="Ledger.Utxo.Properties.html#16570" class="Function">deposits-change</a> <a id="16586" class="Symbol">:</a> <a id="16588" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="16593" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16595" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="16599" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16601" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="16605" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16607" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a>
  <a id="16613" href="Ledger.Utxo.Properties.html#16570" class="Function">deposits-change</a> <a id="16629" class="Symbol">=</a> <a id="16631" href="Data.Integer.Properties.html#2689" class="Function">ℤ.+-injective</a> <a id="16645" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16647" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16657" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16662" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a>                                 <a id="16699" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16703" href="Data.Integer.Properties.html#26987" class="Function">ℤ.+-identityʳ</a> <a id="16717" class="Symbol">_</a> <a id="16719" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16725" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16730" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="16735" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16739" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>                        <a id="16767" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16771" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="16777" class="Symbol">(</a><a id="16778" href="Data.Integer.Properties.html#30664" class="Function">ℤ.+-inverseˡ</a> <a id="16791" class="Symbol">(</a><a id="16792" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16797" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="16800" class="Symbol">))</a> <a id="16803" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16809" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16814" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="16819" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16823" class="Symbol">(</a><a id="16824" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="16829" class="Symbol">(</a><a id="16830" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16835" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="16838" class="Symbol">)</a> <a id="16840" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16844" class="Symbol">(</a><a id="16845" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16850" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="16853" class="Symbol">))</a>
      <a id="16862" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16866" href="Data.Integer.Properties.html#28651" class="Function">ℤ.+-assoc</a> <a id="16876" class="Symbol">(</a><a id="16877" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16882" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a><a id="16886" class="Symbol">)</a> <a id="16888" class="Symbol">(</a><a id="16889" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="16894" class="Symbol">(</a><a id="16895" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16900" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="16903" class="Symbol">))</a> <a id="16906" class="Symbol">(</a><a id="16907" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16912" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="16915" class="Symbol">)</a> <a id="16917" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16923" class="Symbol">(</a><a id="16924" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16929" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="16934" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="16938" class="Symbol">(</a><a id="16939" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16944" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="16947" class="Symbol">))</a> <a id="16950" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16954" class="Symbol">(</a><a id="16955" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16960" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="16963" class="Symbol">)</a> <a id="16965" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16968" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="16974" class="Symbol">(</a><a id="16975" href="Data.Integer.Properties.html#21429" class="Function">ℤ.m-n≡m⊖n</a> <a id="16985" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a> <a id="16990" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="16993" class="Symbol">)</a> <a id="16995" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17001" href="Ledger.Utxo.Properties.html#14189" class="Function">Δdep</a> <a id="17006" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17010" class="Symbol">(</a><a id="17011" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17016" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="17019" class="Symbol">)</a>                       <a id="17043" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17046" href="Data.Integer.Properties.html#26694" class="Function">ℤ.+-comm</a> <a id="17055" href="Ledger.Utxo.Properties.html#14189" class="Function">Δdep</a> <a id="17060" class="Symbol">(</a><a id="17061" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17066" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="17069" class="Symbol">)</a> <a id="17071" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17077" class="Symbol">(</a><a id="17078" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17083" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="17086" class="Symbol">)</a> <a id="17088" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17092" href="Ledger.Utxo.Properties.html#14189" class="Function">Δdep</a>                       <a id="17119" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17122" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17128" href="Ledger.Utxo.Properties.html#15346" class="Function">deposits-change&#39;</a> <a id="17145" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17151" class="Symbol">(</a><a id="17152" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17157" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="17160" class="Symbol">)</a> <a id="17162" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17166" class="Symbol">(</a><a id="17167" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="17171" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17173" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a><a id="17176" class="Symbol">)</a>                <a id="17193" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17196" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="17215" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="17219" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="17223" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="17227" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17233" class="Symbol">(</a><a id="17234" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="17238" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17240" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a><a id="17243" class="Symbol">)</a> <a id="17245" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17247" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a>                         <a id="17275" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17278" href="Data.Integer.Properties.html#20106" class="Function">ℤ.⊖-≥</a> <a id="17284" class="Symbol">(</a><a id="17285" href="Data.Nat.Properties.html#19075" class="Function">m≤n⇒m≤n+o</a> <a id="17295" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="17299" href="Ledger.Utxo.Properties.html#16361" class="Function">ref≤dep</a><a id="17306" class="Symbol">)</a> <a id="17308" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17314" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17319" class="Symbol">(</a><a id="17320" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="17324" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17326" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="17330" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17332" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a><a id="17335" class="Symbol">)</a> <a id="17337" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="17342" href="Ledger.Utxo.Properties.html#17342" class="Function">split-balance</a> <a id="17356" class="Symbol">:</a> <a id="17358" class="Symbol">∀</a> <a id="17360" href="Ledger.Utxo.Properties.html#17360" class="Bound">keys</a> <a id="17365" class="Symbol">→</a> <a id="17367" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="17376" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="17381" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="17383" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="17392" class="Symbol">(</a><a id="17393" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="17398" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17400" href="Ledger.Utxo.Properties.html#17360" class="Bound">keys</a> <a id="17405" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17406" class="Symbol">)</a> <a id="17408" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17410" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="17419" class="Symbol">(</a><a id="17420" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="17425" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17427" href="Ledger.Utxo.Properties.html#17360" class="Bound">keys</a><a id="17431" class="Symbol">)</a>
  <a id="17435" href="Ledger.Utxo.Properties.html#17342" class="Function">split-balance</a> <a id="17449" href="Ledger.Utxo.Properties.html#17449" class="Bound">keys</a> <a id="17454" class="Symbol">=</a> <a id="17456" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
                      <a id="17484" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="17493" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a>
                        <a id="17522" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17526" href="Ledger.Utxo.Properties.html#7861" class="Function">balance-cong-coin</a> <a id="17544" class="Symbol">{</a><a id="17545" class="Argument">utxo</a> <a id="17550" class="Symbol">=</a> <a id="17552" class="Symbol">(</a><a id="17553" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="17558" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17560" href="Ledger.Utxo.Properties.html#17449" class="Bound">keys</a> <a id="17565" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17566" class="Symbol">)</a> <a id="17568" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="17571" class="Symbol">(</a><a id="17572" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="17577" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17579" href="Ledger.Utxo.Properties.html#17449" class="Bound">keys</a><a id="17583" class="Symbol">)}{</a><a id="17586" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a><a id="17590" class="Symbol">}</a>
                          <a id="17618" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17620" href="Axiom.Set.Map.html#6492" class="Function">disjoint-∪ˡ-∪</a> <a id="17634" class="Symbol">(</a><a id="17635" href="Axiom.Set.Properties.html#13237" class="Function">disjoint-sym</a> <a id="17648" href="Axiom.Set.Rel.html#8146" class="Function">res-ex-disjoint</a><a id="17663" class="Symbol">)</a>
                          <a id="17691" href="Ledger.Utxo.Properties.html#18085" class="Function Operator">≡ᵉ-∘</a> <a id="17696" href="Axiom.Set.Properties.html#10950" class="Function">∪-sym</a>
                          <a id="17728" href="Ledger.Utxo.Properties.html#18085" class="Function Operator">≡ᵉ-∘</a> <a id="17733" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="17742" class="Symbol">(</a><a id="17743" href="Axiom.Set.html#10771" class="Function Operator">_∈?</a> <a id="17747" href="Ledger.Utxo.Properties.html#17449" class="Bound">keys</a><a id="17751" class="Symbol">)</a> <a id="17753" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                      <a id="17777" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="17786" class="Symbol">((</a><a id="17788" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="17793" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17795" href="Ledger.Utxo.Properties.html#17449" class="Bound">keys</a> <a id="17800" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17801" class="Symbol">)</a> <a id="17803" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="17806" class="Symbol">(</a><a id="17807" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="17812" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17814" href="Ledger.Utxo.Properties.html#17449" class="Bound">keys</a><a id="17818" class="Symbol">))</a>
                        <a id="17845" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17848" href="Ledger.Utxo.Properties.html#8100" class="Function">balance-∪</a> <a id="17858" class="Symbol">{</a><a id="17859" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="17864" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17866" href="Ledger.Utxo.Properties.html#17449" class="Bound">keys</a> <a id="17871" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17872" class="Symbol">}</a> <a id="17874" class="Symbol">{</a><a id="17875" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="17880" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17882" href="Ledger.Utxo.Properties.html#17449" class="Bound">keys</a><a id="17886" class="Symbol">}</a> <a id="17888" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17890" href="Function.Base.html#1638" class="Function">flip</a> <a id="17895" href="Axiom.Set.Rel.html#8146" class="Function">res-ex-disjoint</a> <a id="17911" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                      <a id="17935" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="17944" class="Symbol">(</a><a id="17945" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="17950" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17952" href="Ledger.Utxo.Properties.html#17449" class="Bound">keys</a> <a id="17957" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17958" class="Symbol">)</a> <a id="17960" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17962" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="17971" class="Symbol">(</a><a id="17972" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="17977" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17979" href="Ledger.Utxo.Properties.html#17449" class="Bound">keys</a><a id="17983" class="Symbol">)</a>
                        <a id="18009" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="18015" class="Keyword">where</a> <a id="18021" class="Keyword">open</a> <a id="18026" href="Relation.Binary.Structures.html#1550" class="Module">IsEquivalence</a> <a id="18040" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a> <a id="18057" class="Keyword">renaming</a> <a id="18066" class="Symbol">(</a><a id="18067" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="18073" class="Symbol">to</a> <a id="18076" class="Keyword">infixl</a> <a id="18083" class="Number">4</a> <a id="18085" class="Field">_≡ᵉ-∘_</a><a id="18091" class="Symbol">)</a>

  <a id="18096" class="Keyword">module</a> <a id="18103" href="Ledger.Utxo.Properties.html#18103" class="Module">_</a> <a id="18105" class="Symbol">(</a><a id="18106" href="Ledger.Utxo.Properties.html#18106" class="Bound">balanceUtxo</a> <a id="18118" href="Ledger.Utxo.Properties.html#18118" class="Bound">balanceIns</a> <a id="18129" href="Ledger.Utxo.Properties.html#18129" class="Bound">balanceNoIns</a> <a id="18142" href="Ledger.Utxo.Properties.html#18142" class="Bound">balanceOuts</a> <a id="18154" href="Ledger.Utxo.Properties.html#18154" class="Bound">balanceUtxo&#39;</a> <a id="18167" class="Symbol">:</a> <a id="18169" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="18173" class="Symbol">)</a>
           <a id="18186" class="Symbol">(</a><a id="18187" href="Ledger.Utxo.Properties.html#18187" class="Bound">ref</a> <a id="18191" href="Ledger.Utxo.Properties.html#18191" class="Bound">txfee</a> <a id="18197" href="Ledger.Utxo.Properties.html#18197" class="Bound">txdonation</a> <a id="18208" href="Ledger.Utxo.Properties.html#18208" class="Bound">tot</a> <a id="18212" class="Symbol">:</a> <a id="18214" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="18218" class="Symbol">)</a>
           <a id="18231" class="Symbol">(</a><a id="18232" href="Ledger.Utxo.Properties.html#18232" class="Bound">splitUtxo</a> <a id="18242" class="Symbol">:</a> <a id="18244" href="Ledger.Utxo.Properties.html#18106" class="Bound">balanceUtxo</a> <a id="18256" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18258" href="Ledger.Utxo.Properties.html#18129" class="Bound">balanceNoIns</a> <a id="18271" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18273" href="Ledger.Utxo.Properties.html#18118" class="Bound">balanceIns</a><a id="18283" class="Symbol">)</a>
           <a id="18296" class="Symbol">(</a><a id="18297" href="Ledger.Utxo.Properties.html#18297" class="Bound">splitUtxo&#39;</a> <a id="18308" class="Symbol">:</a> <a id="18310" href="Ledger.Utxo.Properties.html#18154" class="Bound">balanceUtxo&#39;</a> <a id="18323" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18325" href="Ledger.Utxo.Properties.html#18129" class="Bound">balanceNoIns</a> <a id="18338" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18340" href="Ledger.Utxo.Properties.html#18142" class="Bound">balanceOuts</a><a id="18351" class="Symbol">)</a>
           <a id="18364" class="Symbol">(</a><a id="18365" href="Ledger.Utxo.Properties.html#18365" class="Bound">balanced</a> <a id="18374" class="Symbol">:</a> <a id="18376" href="Ledger.Utxo.Properties.html#18118" class="Bound">balanceIns</a> <a id="18387" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18389" href="Ledger.Utxo.Properties.html#18187" class="Bound">ref</a> <a id="18393" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18395" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="18400" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18402" href="Ledger.Utxo.Properties.html#18142" class="Bound">balanceOuts</a> <a id="18414" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18416" href="Ledger.Utxo.Properties.html#18191" class="Bound">txfee</a> <a id="18422" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18424" href="Ledger.Utxo.Properties.html#18208" class="Bound">tot</a> <a id="18428" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18430" href="Ledger.Utxo.Properties.html#18197" class="Bound">txdonation</a><a id="18440" class="Symbol">)</a> <a id="18442" class="Keyword">where</a>

    <a id="18453" href="Ledger.Utxo.Properties.html#18453" class="Function">utxo-ref-prop-worker</a> <a id="18474" class="Symbol">:</a>
      <a id="18482" href="Ledger.Utxo.Properties.html#18106" class="Bound">balanceUtxo</a> <a id="18494" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18496" href="Ledger.Utxo.Properties.html#18187" class="Bound">ref</a> <a id="18500" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18502" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="18507" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18509" href="Ledger.Utxo.Properties.html#18154" class="Bound">balanceUtxo&#39;</a> <a id="18522" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18524" href="Ledger.Utxo.Properties.html#18191" class="Bound">txfee</a> <a id="18530" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18532" href="Ledger.Utxo.Properties.html#18197" class="Bound">txdonation</a> <a id="18543" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18545" href="Ledger.Utxo.Properties.html#18208" class="Bound">tot</a>
    <a id="18553" href="Ledger.Utxo.Properties.html#18453" class="Function">utxo-ref-prop-worker</a> <a id="18574" class="Symbol">=</a> <a id="18576" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="18588" href="Ledger.Utxo.Properties.html#18106" class="Bound">balanceUtxo</a> <a id="18600" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18602" href="Ledger.Utxo.Properties.html#18187" class="Bound">ref</a> <a id="18606" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18608" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a>
        <a id="18621" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="18624" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="18629" class="Symbol">(λ</a> <a id="18632" href="Ledger.Utxo.Properties.html#18632" class="Bound">u</a> <a id="18634" class="Symbol">→</a> <a id="18636" href="Ledger.Utxo.Properties.html#18632" class="Bound">u</a> <a id="18638" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18640" href="Ledger.Utxo.Properties.html#18187" class="Bound">ref</a> <a id="18644" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18646" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a><a id="18650" class="Symbol">)</a> <a id="18652" href="Ledger.Utxo.Properties.html#18232" class="Bound">splitUtxo</a> <a id="18662" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="18670" href="Ledger.Utxo.Properties.html#18129" class="Bound">balanceNoIns</a> <a id="18683" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18687" href="Ledger.Utxo.Properties.html#18118" class="Bound">balanceIns</a> <a id="18698" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18702" href="Ledger.Utxo.Properties.html#18187" class="Bound">ref</a> <a id="18706" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18710" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a>
        <a id="18723" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="18734" href="Ledger.Utxo.Properties.html#18129" class="Bound">balanceNoIns</a> <a id="18747" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18751" class="Symbol">(</a><a id="18752" href="Ledger.Utxo.Properties.html#18118" class="Bound">balanceIns</a> <a id="18763" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18767" href="Ledger.Utxo.Properties.html#18187" class="Bound">ref</a> <a id="18771" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18775" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a><a id="18779" class="Symbol">)</a>
        <a id="18789" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="18792" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="18797" class="Symbol">(</a><a id="18798" href="Ledger.Utxo.Properties.html#18129" class="Bound">balanceNoIns</a> <a id="18811" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="18813" class="Symbol">)</a> <a id="18815" href="Ledger.Utxo.Properties.html#18365" class="Bound">balanced</a> <a id="18824" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="18832" href="Ledger.Utxo.Properties.html#18129" class="Bound">balanceNoIns</a> <a id="18845" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18849" class="Symbol">(</a><a id="18850" href="Ledger.Utxo.Properties.html#18142" class="Bound">balanceOuts</a> <a id="18862" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18866" href="Ledger.Utxo.Properties.html#18191" class="Bound">txfee</a> <a id="18872" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18876" href="Ledger.Utxo.Properties.html#18208" class="Bound">tot</a> <a id="18880" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18884" href="Ledger.Utxo.Properties.html#18197" class="Bound">txdonation</a><a id="18894" class="Symbol">)</a>
        <a id="18904" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="18915" class="Symbol">(</a><a id="18916" href="Ledger.Utxo.Properties.html#18129" class="Bound">balanceNoIns</a> <a id="18929" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18933" href="Ledger.Utxo.Properties.html#18142" class="Bound">balanceOuts</a> <a id="18945" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18949" href="Ledger.Utxo.Properties.html#18191" class="Bound">txfee</a><a id="18954" class="Symbol">)</a> <a id="18956" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18960" href="Ledger.Utxo.Properties.html#18208" class="Bound">tot</a> <a id="18964" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18968" href="Ledger.Utxo.Properties.html#18197" class="Bound">txdonation</a>
        <a id="18987" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="18991" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="18996" class="Symbol">(λ</a> <a id="18999" href="Ledger.Utxo.Properties.html#18999" class="Bound">x</a> <a id="19001" class="Symbol">→</a> <a id="19003" class="Symbol">(</a><a id="19004" href="Ledger.Utxo.Properties.html#18999" class="Bound">x</a> <a id="19006" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19008" href="Ledger.Utxo.Properties.html#18191" class="Bound">txfee</a><a id="19013" class="Symbol">)</a> <a id="19015" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19017" href="Ledger.Utxo.Properties.html#18208" class="Bound">tot</a> <a id="19021" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19023" href="Ledger.Utxo.Properties.html#18197" class="Bound">txdonation</a><a id="19033" class="Symbol">)</a> <a id="19035" href="Ledger.Utxo.Properties.html#18297" class="Bound">splitUtxo&#39;</a> <a id="19046" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="19054" class="Symbol">(</a><a id="19055" href="Ledger.Utxo.Properties.html#18154" class="Bound">balanceUtxo&#39;</a> <a id="19068" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19072" href="Ledger.Utxo.Properties.html#18191" class="Bound">txfee</a><a id="19077" class="Symbol">)</a> <a id="19079" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19083" href="Ledger.Utxo.Properties.html#18208" class="Bound">tot</a> <a id="19087" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19091" href="Ledger.Utxo.Properties.html#18197" class="Bound">txdonation</a>
        <a id="19110" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19121" href="Ledger.Utxo.Properties.html#18154" class="Bound">balanceUtxo&#39;</a> <a id="19134" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19138" href="Ledger.Utxo.Properties.html#18191" class="Bound">txfee</a> <a id="19144" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19148" class="Symbol">(</a><a id="19149" href="Ledger.Utxo.Properties.html#18208" class="Bound">tot</a> <a id="19153" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19157" href="Ledger.Utxo.Properties.html#18197" class="Bound">txdonation</a><a id="19167" class="Symbol">)</a>
        <a id="19177" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="19180" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19185" class="Symbol">(</a><a id="19186" href="Ledger.Utxo.Properties.html#18154" class="Bound">balanceUtxo&#39;</a> <a id="19199" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19201" href="Ledger.Utxo.Properties.html#18191" class="Bound">txfee</a> <a id="19207" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="19209" class="Symbol">)</a> <a id="19211" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="19213" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="19220" href="Ledger.Utxo.Properties.html#18208" class="Bound">tot</a> <a id="19224" href="Ledger.Utxo.Properties.html#18197" class="Bound">txdonation</a> <a id="19235" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="19243" href="Ledger.Utxo.Properties.html#18154" class="Bound">balanceUtxo&#39;</a> <a id="19256" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19260" href="Ledger.Utxo.Properties.html#18191" class="Bound">txfee</a> <a id="19266" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19270" class="Symbol">(</a><a id="19271" href="Ledger.Utxo.Properties.html#18197" class="Bound">txdonation</a> <a id="19282" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19286" href="Ledger.Utxo.Properties.html#18208" class="Bound">tot</a><a id="19289" class="Symbol">)</a>
        <a id="19299" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19310" class="Symbol">(</a><a id="19311" href="Ledger.Utxo.Properties.html#18154" class="Bound">balanceUtxo&#39;</a> <a id="19324" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19328" href="Ledger.Utxo.Properties.html#18191" class="Bound">txfee</a><a id="19333" class="Symbol">)</a> <a id="19335" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19339" href="Ledger.Utxo.Properties.html#18197" class="Bound">txdonation</a> <a id="19350" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19354" href="Ledger.Utxo.Properties.html#18208" class="Bound">tot</a>
        <a id="19366" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="19371" href="Ledger.Utxo.Properties.html#19371" class="Function">utxo-ref-prop</a> <a id="19385" class="Symbol">:</a>
    <a id="19391" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="19400" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="19405" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19407" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="19411" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19413" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="19418" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>
    <a id="19424" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="19433" class="Symbol">((</a><a id="19435" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="19440" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19442" href="Ledger.Transaction.html#2727" class="Function">txins</a> <a id="19448" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19449" class="Symbol">)</a> <a id="19451" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="19454" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="19459" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a><a id="19462" class="Symbol">)</a> <a id="19464" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19466" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="19472" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19474" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="19485" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19487" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a>
  <a id="19493" href="Ledger.Utxo.Properties.html#19371" class="Function">utxo-ref-prop</a> <a id="19507" class="Symbol">=</a> <a id="19509" href="Ledger.Utxo.Properties.html#18453" class="Function">utxo-ref-prop-worker</a>
                    <a id="19550" class="Symbol">(</a><a id="19551" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="19560" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a><a id="19564" class="Symbol">)</a>
                    <a id="19586" class="Symbol">(</a><a id="19587" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="19596" class="Symbol">(</a><a id="19597" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="19602" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="19604" href="Ledger.Transaction.html#2727" class="Function">txins</a><a id="19609" class="Symbol">))</a>
                    <a id="19632" class="Symbol">(</a><a id="19633" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="19642" class="Symbol">(</a><a id="19643" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="19648" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19650" href="Ledger.Transaction.html#2727" class="Function">txins</a> <a id="19656" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19657" class="Symbol">))</a>
                    <a id="19680" class="Symbol">(</a><a id="19681" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="19690" class="Symbol">(</a><a id="19691" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="19696" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a><a id="19699" class="Symbol">))</a>
                    <a id="19722" class="Symbol">(</a><a id="19723" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="19732" class="Symbol">((</a><a id="19734" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="19739" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19741" href="Ledger.Transaction.html#2727" class="Function">txins</a> <a id="19747" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19748" class="Symbol">)</a> <a id="19750" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="19753" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="19758" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a><a id="19761" class="Symbol">))</a>
                    <a id="19784" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="19788" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="19794" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="19805" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a>
                    <a id="19829" class="Symbol">(</a><a id="19830" href="Ledger.Utxo.Properties.html#17342" class="Function">split-balance</a> <a id="19844" href="Ledger.Transaction.html#2727" class="Function">txins</a><a id="19849" class="Symbol">)</a>
                    <a id="19871" class="Symbol">(</a><a id="19872" href="Ledger.Utxo.Properties.html#8100" class="Function">balance-∪</a> <a id="19882" class="Symbol">{</a><a id="19883" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="19888" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19890" href="Ledger.Transaction.html#2727" class="Function">txins</a> <a id="19896" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19897" class="Symbol">}</a> <a id="19899" class="Symbol">{</a><a id="19900" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="19905" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a><a id="19908" class="Symbol">}</a> <a id="19910" href="Ledger.Utxo.Properties.html#14443" class="Function">h</a><a id="19911" class="Symbol">)</a>
                    <a id="19933" class="Symbol">(</a><a id="19934" href="Ledger.Utxo.Properties.html#12397" class="Function">balValueToCoin</a> <a id="19949" class="Symbol">{</a><a id="19950" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a><a id="19953" class="Symbol">}</a> <a id="19955" class="Symbol">{</a><a id="19956" href="Ledger.Utxo.Properties.html#14244" class="Function">utxoSt</a><a id="19962" class="Symbol">}</a> <a id="19964" class="Symbol">{</a><a id="19965" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="19981" href="Ledger.Utxo.Properties.html#13506" class="Bound">Γ</a><a id="19982" class="Symbol">}</a> <a id="19984" href="Ledger.Utxo.Properties.html#15225" class="Function">noMintAda</a> <a id="19994" href="Ledger.Utxo.Properties.html#14887" class="Function">newBal</a><a id="20000" class="Symbol">)</a>

  <a id="20005" href="Ledger.Utxo.Properties.html#20005" class="Function">rearrange0</a> <a id="20016" class="Symbol">:</a>
      <a id="20024" class="Symbol">(</a><a id="20025" href="Ledger.Utxo.Properties.html#20025" class="Bound">bal</a> <a id="20029" class="Symbol">:</a> <a id="20031" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="20032" class="Symbol">)</a>
    <a id="20038" class="Symbol">→</a> <a id="20040" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="20050" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20052" href="Ledger.Utxo.html#9153" class="Function">updateDeposits</a> <a id="20067" href="Ledger.Utxo.Properties.html#14035" class="Function">pp</a> <a id="20070" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a> <a id="20074" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a>
    <a id="20087" class="Symbol">→</a> <a id="20089" href="Ledger.Utxo.Properties.html#20025" class="Bound">bal</a> <a id="20093" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20095" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="20101" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20103" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="20114" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20116" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="20120" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20122" class="Symbol">(</a><a id="20123" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="20133" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20135" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="20139" class="Symbol">)</a>
    <a id="20145" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20147" href="Ledger.Utxo.Properties.html#20025" class="Bound">bal</a> <a id="20151" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20153" class="Symbol">(</a><a id="20154" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="20159" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20161" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="20167" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20169" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="20177" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="20187" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20189" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="20199" class="Symbol">)</a>
  <a id="20203" href="Ledger.Utxo.Properties.html#20005" class="Function">rearrange0</a> <a id="20214" href="Ledger.Utxo.Properties.html#20214" class="Bound">bal</a> <a id="20218" href="Ledger.Utxo.Properties.html#20218" class="Bound">h</a> <a id="20220" class="Symbol">=</a> <a id="20222" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="20232" href="Ledger.Utxo.Properties.html#20214" class="Bound">bal</a> <a id="20236" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20240" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="20246" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20250" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="20261" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20265" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="20269" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20273" class="Symbol">(</a><a id="20274" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="20284" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20288" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="20292" class="Symbol">)</a>
      <a id="20300" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
    <a id="20309" href="Ledger.Utxo.Properties.html#20214" class="Bound">bal</a> <a id="20313" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20317" class="Symbol">(</a><a id="20318" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="20324" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20328" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="20339" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20343" class="Symbol">(</a><a id="20344" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="20348" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20352" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a><a id="20361" class="Symbol">)</a> <a id="20363" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20367" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="20371" class="Symbol">)</a>
      <a id="20379" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20382" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20387" class="Symbol">(</a><a id="20388" href="Ledger.Utxo.Properties.html#20214" class="Bound">bal</a> <a id="20392" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="20394" class="Symbol">)</a> <a id="20396" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20398" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="20412" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="20418" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20420" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="20431" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20433" class="Symbol">(</a><a id="20434" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="20438" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20440" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a><a id="20449" class="Symbol">)</a> <a id="20451" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20453" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a>
          <a id="20468" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20471" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="20478" class="Symbol">_</a> <a id="20480" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="20485" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="20495" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="20500" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20504" class="Symbol">(</a><a id="20505" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="20511" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20515" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="20526" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20530" class="Symbol">(</a><a id="20531" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="20535" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20539" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a><a id="20548" class="Symbol">))</a>
          <a id="20561" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
        <a id="20574" class="Symbol">(</a><a id="20575" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="20580" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20584" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="20589" class="Symbol">)</a> <a id="20591" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20595" class="Symbol">(</a><a id="20596" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="20607" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20611" class="Symbol">(</a><a id="20612" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="20616" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20620" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a><a id="20629" class="Symbol">))</a>
          <a id="20642" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20645" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20650" class="Symbol">((</a><a id="20652" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="20657" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20659" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="20664" class="Symbol">)</a> <a id="20666" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="20668" class="Symbol">)</a> <a id="20670" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20672" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="20679" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="20690" class="Symbol">(</a><a id="20691" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="20695" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20697" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a><a id="20706" class="Symbol">)</a> <a id="20708" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="20718" class="Symbol">(</a><a id="20719" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="20724" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20726" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="20731" class="Symbol">)</a> <a id="20733" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20737" class="Symbol">((</a><a id="20739" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="20743" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20745" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a><a id="20754" class="Symbol">)</a> <a id="20756" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20760" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="20770" class="Symbol">)</a>
          <a id="20782" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
        <a id="20795" class="Symbol">(</a><a id="20796" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="20801" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20803" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="20808" class="Symbol">)</a> <a id="20810" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20814" class="Symbol">(</a><a id="20815" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="20819" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20821" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a><a id="20830" class="Symbol">)</a> <a id="20832" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20836" href="Ledger.Transaction.html#3063" class="Function">txdonation</a>
          <a id="20857" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20860" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20865" class="Symbol">(λ</a> <a id="20868" href="Ledger.Utxo.Properties.html#20868" class="Bound">x</a> <a id="20870" class="Symbol">→</a> <a id="20872" class="Symbol">(</a><a id="20873" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="20878" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20880" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="20885" class="Symbol">)</a> <a id="20887" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20889" href="Ledger.Utxo.Properties.html#20868" class="Bound">x</a> <a id="20891" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20893" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="20903" class="Symbol">)</a>
          <a id="20915" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20917" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a> <a id="20923" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="20927" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20929" class="Symbol">(</a><a id="20930" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="20934" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="20936" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a><a id="20939" class="Symbol">)</a> <a id="20941" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="20945" href="Data.Nat.Properties.html#50173" class="Function">+-∸-assoc</a> <a id="20955" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="20959" href="Ledger.Utxo.Properties.html#16361" class="Function">ref≤dep</a> <a id="20967" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                  <a id="20987" class="Symbol">(</a><a id="20988" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="20992" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20994" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="20997" class="Symbol">)</a> <a id="20999" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21001" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="21005" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21008" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21013" class="Symbol">(</a><a id="21014" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="21017" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a><a id="21020" class="Symbol">)</a> <a id="21022" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21024" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="21031" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="21035" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="21039" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                  <a id="21059" class="Symbol">(</a><a id="21060" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="21064" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21066" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a><a id="21069" class="Symbol">)</a> <a id="21071" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21073" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="21077" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="21081" href="Ledger.Utxo.Properties.html#16570" class="Function">deposits-change</a> <a id="21097" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                  <a id="21117" href="Ledger.Utxo.Properties.html#14121" class="Function">uDep</a>              <a id="21135" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21138" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21143" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21151" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21153" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="21157" href="Ledger.Utxo.Properties.html#20218" class="Bound">h</a> <a id="21159" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                  <a id="21179" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21187" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="21197" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21199" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="21209" class="Symbol">(</a><a id="21210" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="21215" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21217" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="21222" class="Symbol">)</a> <a id="21224" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21226" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21234" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="21244" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21246" href="Ledger.Transaction.html#3063" class="Function">txdonation</a>
          <a id="21267" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21269" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="21275" href="Ledger.Utxo.Properties.html#20214" class="Bound">bal</a> <a id="21279" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21281" class="Symbol">((</a><a id="21283" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="21288" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21290" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="21295" class="Symbol">)</a> <a id="21297" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21299" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21307" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="21317" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21319" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="21329" class="Symbol">)</a>
      <a id="21337" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="21342" class="Keyword">module</a> <a id="21349" href="Ledger.Utxo.Properties.html#21349" class="Module">_</a> <a id="21351" class="Symbol">(</a><a id="21352" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="21364" href="Ledger.Utxo.Properties.html#21364" class="Bound">balanceUtxo&#39;</a> <a id="21377" class="Symbol">:</a> <a id="21379" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="21383" class="Symbol">)</a>
           <a id="21396" class="Symbol">(</a><a id="21397" href="Ledger.Utxo.Properties.html#21397" class="Bound">ref-prop</a> <a id="21406" class="Symbol">:</a> <a id="21408" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="21420" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21422" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="21426" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21428" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="21433" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21435" href="Ledger.Utxo.Properties.html#21364" class="Bound">balanceUtxo&#39;</a> <a id="21448" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21450" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="21456" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21458" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="21469" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21471" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a><a id="21474" class="Symbol">)</a>
           <a id="21487" class="Symbol">(</a><a id="21488" href="Ledger.Utxo.Properties.html#21488" class="Bound">h</a> <a id="21490" class="Symbol">:</a> <a id="21492" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="21502" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21504" href="Ledger.Utxo.html#9153" class="Function">updateDeposits</a> <a id="21519" href="Ledger.Utxo.Properties.html#14035" class="Function">pp</a> <a id="21522" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a> <a id="21526" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a><a id="21534" class="Symbol">)</a>
           <a id="21547" class="Keyword">where</a>

    <a id="21558" href="Ledger.Utxo.Properties.html#21558" class="Function">pov-scripts-worker</a> <a id="21577" class="Symbol">:</a>  <a id="21580" href="Ledger.Transaction.html#4319" class="Field">isValid</a> <a id="21588" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21590" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                          <a id="21621" class="Symbol">→</a>  <a id="21624" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="21636" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21638" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="21643" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21645" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21653" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a> <a id="21662" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21664" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="21674" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21676" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a><a id="21677" class="Symbol">(</a><a id="21678" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="21683" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21685" href="Ledger.Transaction.html#4319" class="Field">isValid</a><a id="21692" class="Symbol">)</a>
                             <a id="21723" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21725" href="Ledger.Utxo.Properties.html#21364" class="Bound">balanceUtxo&#39;</a> <a id="21738" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21740" class="Symbol">(</a><a id="21741" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="21746" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21748" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="21753" class="Symbol">)</a> <a id="21755" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21757" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21765" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="21775" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21777" class="Symbol">(</a><a id="21778" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="21788" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21790" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="21800" class="Symbol">)</a>
    <a id="21806" href="Ledger.Utxo.Properties.html#21558" class="Function">pov-scripts-worker</a> <a id="21825" href="Ledger.Utxo.Properties.html#21825" class="Bound">valid</a> <a id="21831" class="Symbol">=</a> <a id="21833" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="21845" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="21857" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21859" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="21864" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21866" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21874" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a> <a id="21883" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21885" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="21895" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21897" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a><a id="21898" class="Symbol">(</a><a id="21899" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="21904" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21906" href="Ledger.Transaction.html#4319" class="Field">isValid</a><a id="21913" class="Symbol">)</a>
        <a id="21923" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21926" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21931" class="Symbol">(λ</a> <a id="21934" href="Ledger.Utxo.Properties.html#21934" class="Bound">x</a> <a id="21936" class="Symbol">→</a> <a id="21938" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="21950" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21952" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="21957" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21959" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21967" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a> <a id="21976" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21978" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="21988" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21990" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a><a id="21991" class="Symbol">(</a><a id="21992" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="21997" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21999" href="Ledger.Utxo.Properties.html#21934" class="Bound">x</a><a id="22000" class="Symbol">))</a> <a id="22003" href="Ledger.Utxo.Properties.html#21825" class="Bound">valid</a> <a id="22009" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22017" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22029" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22031" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="22036" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22038" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="22042" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22044" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="22054" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22056" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a>
        <a id="22069" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22072" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="22080" class="Symbol">(</a><a id="22081" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22093" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22095" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="22100" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22102" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="22105" class="Symbol">)</a> <a id="22107" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="22117" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="22122" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22130" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22142" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22144" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="22149" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22151" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="22155" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22157" class="Symbol">(</a><a id="22158" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="22168" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22170" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a><a id="22174" class="Symbol">)</a>
        <a id="22184" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22187" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22192" class="Symbol">(</a><a id="22193" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22205" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22207" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="22212" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22214" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="22218" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="22220" class="Symbol">)</a> <a id="22222" class="Symbol">(</a><a id="22223" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="22230" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="22240" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a><a id="22244" class="Symbol">)</a> <a id="22246" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22254" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22266" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22268" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="22273" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22275" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="22279" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22281" class="Symbol">(</a><a id="22282" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="22287" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22289" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a><a id="22298" class="Symbol">)</a>
        <a id="22308" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="22312" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="22320" class="Symbol">(</a><a id="22321" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22333" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22335" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="22340" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22342" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a><a id="22345" class="Symbol">)</a> <a id="22347" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="22352" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a>  <a id="22363" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="22371" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22383" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22385" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="22390" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22392" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="22396" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22398" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="22403" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22405" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a>
        <a id="22423" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22426" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22431" class="Symbol">(</a><a id="22432" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="22435" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a><a id="22444" class="Symbol">)</a>
        <a id="22454" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="22456" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
            <a id="22474" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22486" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22488" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="22493" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22495" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="22499" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22501" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a>
              <a id="22520" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="22524" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22529" class="Symbol">(λ</a> <a id="22532" href="Ledger.Utxo.Properties.html#22532" class="Bound">x</a> <a id="22534" class="Symbol">→</a> <a id="22536" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22548" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22550" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="22555" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22557" href="Ledger.Utxo.Properties.html#22532" class="Bound">x</a> <a id="22559" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22561" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a><a id="22565" class="Symbol">)</a> <a id="22567" class="Symbol">(</a><a id="22568" href="Data.Nat.Properties.html#51744" class="Function">m+[n∸m]≡n</a> <a id="22578" href="Ledger.Utxo.Properties.html#16361" class="Function">ref≤dep</a><a id="22585" class="Symbol">)</a> <a id="22587" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="22601" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22613" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22615" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="22620" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22622" class="Symbol">(</a><a id="22623" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="22627" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22629" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a><a id="22638" class="Symbol">)</a> <a id="22640" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22642" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a>
              <a id="22661" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22664" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22669" class="Symbol">(</a><a id="22670" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="22673" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a><a id="22677" class="Symbol">)</a> <a id="22679" class="Symbol">(</a><a id="22680" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="22688" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22700" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="22705" class="Symbol">(</a><a id="22706" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="22710" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22712" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a><a id="22721" class="Symbol">))</a> <a id="22724" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="22738" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22750" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22752" class="Symbol">(</a><a id="22753" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="22758" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22760" class="Symbol">(</a><a id="22761" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="22765" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22767" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a><a id="22776" class="Symbol">))</a> <a id="22779" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22781" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a>
              <a id="22800" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22803" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22808" class="Symbol">(λ</a> <a id="22811" href="Ledger.Utxo.Properties.html#22811" class="Bound">x</a> <a id="22813" class="Symbol">→</a> <a id="22815" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22827" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22829" href="Ledger.Utxo.Properties.html#22811" class="Bound">x</a> <a id="22831" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22833" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a><a id="22837" class="Symbol">)</a> <a id="22839" class="Symbol">(</a><a id="22840" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="22847" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="22852" class="Symbol">(</a><a id="22853" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="22857" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22859" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a><a id="22868" class="Symbol">))</a> <a id="22871" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="22885" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22897" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22899" class="Symbol">(</a><a id="22900" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="22904" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22906" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="22916" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22918" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="22922" class="Symbol">)</a> <a id="22924" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22926" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a>
              <a id="22945" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22948" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22953" class="Symbol">(λ</a> <a id="22956" href="Ledger.Utxo.Properties.html#22956" class="Bound">x</a> <a id="22958" class="Symbol">→</a> <a id="22960" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="22972" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22974" href="Ledger.Utxo.Properties.html#22956" class="Bound">x</a> <a id="22976" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22978" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a><a id="22982" class="Symbol">)</a> <a id="22984" class="Symbol">(</a><a id="22985" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="22993" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="22997" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23007" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23011" class="Symbol">)</a> <a id="23013" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a> <a id="23015" class="Comment">--</a>
            <a id="23030" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="23042" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23044" class="Symbol">(</a><a id="23045" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="23049" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23051" class="Symbol">(</a><a id="23052" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23062" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23064" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23068" class="Symbol">))</a> <a id="23071" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23073" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a>
              <a id="23092" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23095" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23103" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="23115" class="Symbol">(</a><a id="23116" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="23120" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23122" class="Symbol">(</a><a id="23123" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23133" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23135" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23139" class="Symbol">))</a> <a id="23142" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="23147" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a> <a id="23149" class="Comment">--</a>
            <a id="23164" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="23176" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23178" class="Symbol">(</a><a id="23179" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="23183" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23185" class="Symbol">(</a><a id="23186" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23196" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23198" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23202" class="Symbol">)</a> <a id="23204" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23206" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a><a id="23210" class="Symbol">)</a>
              <a id="23226" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23229" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23234" class="Symbol">(</a><a id="23235" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="23247" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="23249" class="Symbol">)</a> <a id="23251" class="Symbol">(</a><a id="23252" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23260" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="23264" class="Symbol">(</a><a id="23265" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23275" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23277" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23281" class="Symbol">)</a> <a id="23283" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a><a id="23287" class="Symbol">)</a> <a id="23289" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23303" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="23315" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23317" class="Symbol">(</a><a id="23318" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="23322" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23324" class="Symbol">((</a><a id="23326" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23336" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23338" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23342" class="Symbol">)</a> <a id="23344" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23346" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a><a id="23350" class="Symbol">))</a>
              <a id="23367" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23370" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23375" class="Symbol">(λ</a> <a id="23378" href="Ledger.Utxo.Properties.html#23378" class="Bound">x</a> <a id="23380" class="Symbol">→</a> <a id="23382" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="23394" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23396" class="Symbol">(</a><a id="23397" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="23401" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23403" href="Ledger.Utxo.Properties.html#23378" class="Bound">x</a><a id="23404" class="Symbol">))</a> <a id="23407" class="Symbol">(</a><a id="23408" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="23415" class="Symbol">(</a><a id="23416" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23426" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23428" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23432" class="Symbol">)</a> <a id="23434" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a><a id="23438" class="Symbol">)</a> <a id="23440" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23454" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="23466" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23468" class="Symbol">(</a><a id="23469" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="23473" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23475" class="Symbol">(</a><a id="23476" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="23481" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23483" class="Symbol">(</a><a id="23484" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23494" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23496" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23500" class="Symbol">)))</a>
              <a id="23518" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="23522" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23530" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="23542" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="23546" class="Symbol">(</a><a id="23547" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="23552" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23554" class="Symbol">(</a><a id="23555" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23565" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23567" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23571" class="Symbol">))</a> <a id="23574" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="23588" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="23600" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23602" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="23606" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23608" class="Symbol">(</a><a id="23609" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="23614" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23616" class="Symbol">(</a><a id="23617" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23627" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23629" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23633" class="Symbol">))</a>
              <a id="23650" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="23654" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23662" class="Symbol">(</a><a id="23663" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="23675" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23677" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a><a id="23680" class="Symbol">)</a> <a id="23682" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="23687" class="Symbol">(</a><a id="23688" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23698" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23700" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23704" class="Symbol">)</a> <a id="23706" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="23720" href="Ledger.Utxo.Properties.html#21352" class="Bound">balanceUtxo</a> <a id="23732" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23734" href="Ledger.Utxo.Properties.html#14319" class="Function">ref</a> <a id="23738" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23740" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="23745" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23747" class="Symbol">(</a><a id="23748" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23758" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23760" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23764" class="Symbol">)</a>
              <a id="23780" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23783" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23788" class="Symbol">(</a><a id="23789" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="23792" class="Symbol">(</a><a id="23793" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23803" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23805" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23809" class="Symbol">))</a> <a id="23812" href="Ledger.Utxo.Properties.html#21397" class="Bound">ref-prop</a> <a id="23821" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23835" href="Ledger.Utxo.Properties.html#21364" class="Bound">balanceUtxo&#39;</a> <a id="23848" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23850" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="23856" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23858" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="23869" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23871" href="Ledger.Utxo.Properties.html#14323" class="Function">tot</a> <a id="23875" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23877" class="Symbol">(</a><a id="23878" href="Ledger.Utxo.Properties.html#15287" class="Function">remDepTot</a> <a id="23888" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23890" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="23894" class="Symbol">)</a>
              <a id="23910" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23913" href="Ledger.Utxo.Properties.html#20005" class="Function">rearrange0</a> <a id="23924" class="Symbol">(</a><a id="23925" href="Ledger.Utxo.Properties.html#21364" class="Bound">balanceUtxo&#39;</a><a id="23937" class="Symbol">)</a> <a id="23939" href="Ledger.Utxo.Properties.html#21488" class="Bound">h</a> <a id="23941" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23955" href="Ledger.Utxo.Properties.html#21364" class="Bound">balanceUtxo&#39;</a> <a id="23968" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23970" class="Symbol">(</a><a id="23971" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="23976" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23978" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="23984" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23986" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="23994" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="24004" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24006" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="24016" class="Symbol">)</a>
              <a id="24032" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="24034" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="24042" href="Ledger.Utxo.Properties.html#21364" class="Bound">balanceUtxo&#39;</a> <a id="24055" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24059" class="Symbol">(</a><a id="24060" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="24065" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24067" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="24073" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24077" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24085" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="24095" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24099" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="24109" class="Symbol">)</a> <a id="24111" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24115" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a>
        <a id="24133" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="24144" href="Ledger.Utxo.Properties.html#21364" class="Bound">balanceUtxo&#39;</a> <a id="24157" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24161" class="Symbol">(</a><a id="24162" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="24167" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24169" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="24174" class="Symbol">)</a> <a id="24176" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24180" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24188" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="24198" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24202" class="Symbol">(</a><a id="24203" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="24214" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24218" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a><a id="24227" class="Symbol">)</a>
        <a id="24237" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="24240" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="24245" class="Symbol">(</a><a id="24246" href="Ledger.Utxo.Properties.html#21364" class="Bound">balanceUtxo&#39;</a> <a id="24259" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24261" class="Symbol">(</a><a id="24262" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="24267" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24269" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="24274" class="Symbol">)</a> <a id="24276" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24278" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24286" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="24296" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+_</a><a id="24300" class="Symbol">)</a>
         <a id="24311" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="24313" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="24320" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="24331" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="24341" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="24349" href="Ledger.Utxo.Properties.html#21364" class="Bound">balanceUtxo&#39;</a> <a id="24362" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24364" class="Symbol">(</a><a id="24365" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="24370" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24372" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="24377" class="Symbol">)</a> <a id="24379" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24381" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24389" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="24399" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24401" class="Symbol">(</a><a id="24402" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="24412" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24414" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="24424" class="Symbol">)</a>
        <a id="24434" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="24439" href="Ledger.Utxo.Properties.html#24439" class="Function">pov-scripts</a> <a id="24451" class="Symbol">:</a>  <a id="24454" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="24464" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24466" href="Ledger.Utxo.html#9153" class="Function">updateDeposits</a> <a id="24481" href="Ledger.Utxo.Properties.html#14035" class="Function">pp</a> <a id="24484" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a> <a id="24488" href="Ledger.Utxo.Properties.html#13371" class="Bound">deposits</a>
                 <a id="24514" class="Symbol">→</a>  <a id="24517" href="Ledger.Transaction.html#4319" class="Field">isValid</a> <a id="24525" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24527" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                 <a id="24549" class="Symbol">→</a>  <a id="24552" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="24561" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="24566" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24568" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="24573" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24575" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="24579" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24581" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="24591" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24593" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a><a id="24594" class="Symbol">(</a><a id="24595" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="24600" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24602" href="Ledger.Transaction.html#4319" class="Field">isValid</a><a id="24609" class="Symbol">)</a>
                    <a id="24631" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>  <a id="24634" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="24643" class="Symbol">((</a><a id="24645" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="24650" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="24652" href="Ledger.Transaction.html#2727" class="Function">txins</a> <a id="24658" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="24659" class="Symbol">)</a> <a id="24661" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="24664" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="24669" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a><a id="24672" class="Symbol">)</a>
                       <a id="24697" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24699" class="Symbol">(</a><a id="24700" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="24705" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24707" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="24712" class="Symbol">)</a> <a id="24714" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24716" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24724" href="Ledger.Utxo.Properties.html#13380" class="Bound">deposits&#39;</a> <a id="24734" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24736" class="Symbol">(</a><a id="24737" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="24747" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24749" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="24759" class="Symbol">)</a>
  <a id="24763" href="Ledger.Utxo.Properties.html#24439" class="Function">pov-scripts</a> <a id="24775" href="Ledger.Utxo.Properties.html#24775" class="Bound">h</a> <a id="24777" href="Ledger.Utxo.Properties.html#24777" class="Bound">valid</a> <a id="24783" class="Symbol">=</a> <a id="24785" href="Ledger.Utxo.Properties.html#21558" class="Function">pov-scripts-worker</a> <a id="24804" class="Symbol">(</a><a id="24805" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="24814" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a><a id="24818" class="Symbol">)</a> <a id="24820" class="Symbol">(</a><a id="24821" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="24830" class="Symbol">((</a><a id="24832" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="24837" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="24839" href="Ledger.Transaction.html#2727" class="Function">txins</a> <a id="24845" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="24846" class="Symbol">)</a> <a id="24848" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="24851" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="24856" href="Ledger.Utxo.Properties.html#13480" class="Field">txb</a><a id="24859" class="Symbol">))</a> <a id="24862" href="Ledger.Utxo.Properties.html#19371" class="Function">utxo-ref-prop</a> <a id="24876" href="Ledger.Utxo.Properties.html#24775" class="Bound">h</a> <a id="24878" href="Ledger.Utxo.Properties.html#24777" class="Bound">valid</a>

  <a id="24887" href="Ledger.Utxo.Properties.html#24887" class="Function">pov-no-scripts</a> <a id="24902" class="Symbol">:</a>  <a id="24905" href="Ledger.Transaction.html#4319" class="Field">isValid</a> <a id="24913" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24915" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="24941" class="Symbol">→</a>  <a id="24944" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="24953" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="24958" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24960" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="24965" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24967" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="24971" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24973" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="24983" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24985" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a><a id="24986" class="Symbol">(</a><a id="24987" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="24992" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24994" href="Ledger.Transaction.html#4319" class="Field">isValid</a><a id="25001" class="Symbol">)</a>
                       <a id="25026" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25028" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25037" class="Symbol">(</a><a id="25038" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25043" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25045" href="Ledger.Transaction.html#3287" class="Function">collateral</a> <a id="25056" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25057" class="Symbol">)</a> <a id="25059" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25061" class="Symbol">(</a><a id="25062" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="25067" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25069" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25078" class="Symbol">(</a><a id="25079" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25084" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25086" href="Ledger.Transaction.html#3287" class="Function">collateral</a><a id="25096" class="Symbol">))</a> <a id="25099" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25101" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="25105" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25107" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a>
  <a id="25119" href="Ledger.Utxo.Properties.html#24887" class="Function">pov-no-scripts</a> <a id="25134" href="Ledger.Utxo.Properties.html#25134" class="Bound">invalid</a> <a id="25142" class="Symbol">=</a> <a id="25144" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="25154" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25163" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25168" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25170" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="25175" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25177" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="25181" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25183" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="25193" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25195" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a><a id="25196" class="Symbol">(</a><a id="25197" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="25202" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25204" href="Ledger.Transaction.html#4319" class="Field">isValid</a><a id="25211" class="Symbol">)</a> <a id="25213" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25216" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25221" class="Symbol">(λ</a> <a id="25224" href="Ledger.Utxo.Properties.html#25224" class="Bound">x</a> <a id="25226" class="Symbol">→</a> <a id="25228" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25237" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25242" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25244" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="25249" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25251" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="25255" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25257" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="25267" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25269" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a><a id="25270" class="Symbol">(</a><a id="25271" href="Ledger.Utxo.Properties.html#14377" class="Function">wdls</a> <a id="25276" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25278" href="Ledger.Utxo.Properties.html#25224" class="Bound">x</a><a id="25279" class="Symbol">))</a> <a id="25282" href="Ledger.Utxo.Properties.html#25134" class="Bound">invalid</a> <a id="25290" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25296" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25305" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25310" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25312" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="25317" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25319" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="25323" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25325" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="25335" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25337" class="Number">0</a> <a id="25339" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25342" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="25354" class="Symbol">_</a> <a id="25356" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25362" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25371" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25376" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25378" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="25383" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25385" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="25389" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25391" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a> <a id="25401" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25404" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25409" class="Symbol">(λ</a> <a id="25412" href="Ledger.Utxo.Properties.html#25412" class="Bound">x</a> <a id="25414" class="Symbol">→</a> <a id="25416" href="Ledger.Utxo.Properties.html#25412" class="Bound">x</a> <a id="25418" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25420" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="25424" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25426" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a><a id="25435" class="Symbol">)</a> <a id="25437" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="25439" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="25451" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25460" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25465" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25469" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="25474" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25477" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25482" class="Symbol">(</a><a id="25483" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="25486" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="25490" class="Symbol">)</a> <a id="25492" class="Symbol">(</a><a id="25493" href="Ledger.Utxo.Properties.html#17342" class="Function">split-balance</a> <a id="25507" href="Ledger.Transaction.html#3287" class="Function">collateral</a><a id="25517" class="Symbol">)</a> <a id="25519" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="25527" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25536" class="Symbol">(</a><a id="25537" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25542" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25544" href="Ledger.Transaction.html#3287" class="Function">collateral</a> <a id="25555" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25556" class="Symbol">)</a> <a id="25558" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25562" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25571" class="Symbol">(</a><a id="25572" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25577" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25579" href="Ledger.Transaction.html#3287" class="Function">collateral</a><a id="25589" class="Symbol">)</a> <a id="25591" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25595" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="25600" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="25611" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25620" class="Symbol">(</a><a id="25621" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25626" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25628" href="Ledger.Transaction.html#3287" class="Function">collateral</a> <a id="25639" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25640" class="Symbol">)</a> <a id="25642" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25646" class="Symbol">(</a><a id="25647" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25656" class="Symbol">(</a><a id="25657" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25662" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25664" href="Ledger.Transaction.html#3287" class="Function">collateral</a><a id="25674" class="Symbol">)</a> <a id="25676" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25680" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="25684" class="Symbol">)</a> <a id="25686" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25689" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25694" class="Symbol">(</a><a id="25695" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25704" class="Symbol">(</a><a id="25705" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25710" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25712" href="Ledger.Transaction.html#3287" class="Function">collateral</a> <a id="25723" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25724" class="Symbol">)</a> <a id="25726" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="25728" class="Symbol">)</a> <a id="25730" class="Symbol">(</a><a id="25731" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="25738" class="Symbol">_</a> <a id="25740" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a><a id="25744" class="Symbol">)</a> <a id="25746" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="25754" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25763" class="Symbol">(</a><a id="25764" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25769" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25771" href="Ledger.Transaction.html#3287" class="Function">collateral</a> <a id="25782" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25783" class="Symbol">)</a> <a id="25785" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25789" class="Symbol">(</a><a id="25790" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="25795" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25799" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25808" class="Symbol">(</a><a id="25809" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25814" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25816" href="Ledger.Transaction.html#3287" class="Function">collateral</a><a id="25826" class="Symbol">))</a> <a id="25829" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="25831" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25837" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25846" class="Symbol">(</a><a id="25847" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25852" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25854" href="Ledger.Transaction.html#3287" class="Function">collateral</a> <a id="25865" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25866" class="Symbol">)</a> <a id="25868" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25870" class="Symbol">(</a><a id="25871" href="Ledger.Utxo.Properties.html#13349" class="Bound">fees</a> <a id="25876" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25878" href="Ledger.Utxo.html#3499" class="Function">cbalance</a> <a id="25887" class="Symbol">(</a><a id="25888" href="Ledger.Utxo.Properties.html#13327" class="Bound">utxo</a> <a id="25893" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25895" href="Ledger.Transaction.html#3287" class="Function">collateral</a><a id="25905" class="Symbol">))</a> <a id="25908" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25910" href="Ledger.Utxo.Properties.html#14079" class="Function">dep</a> <a id="25914" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25916" href="Ledger.Utxo.Properties.html#13405" class="Bound">donations</a>
    <a id="25930" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>


<a id="UTXO-step"></a><a id="25934" href="Ledger.Utxo.Properties.html#25934" class="Function">UTXO-step</a> <a id="25944" class="Symbol">:</a> <a id="25946" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a> <a id="25954" class="Symbol">→</a> <a id="25956" href="Ledger.Utxo.html#2561" class="Record">UTxOState</a> <a id="25966" class="Symbol">→</a> <a id="25968" href="Ledger.Transaction.html#4234" class="Record">Tx</a> <a id="25971" class="Symbol">→</a> <a id="25973" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="25991" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="25998" href="Ledger.Utxo.html#2561" class="Record">UTxOState</a>
<a id="26008" href="Ledger.Utxo.Properties.html#25934" class="Function">UTXO-step</a> <a id="26018" class="Symbol">=</a> <a id="26020" href="Interface.ComputationalRelation.html#2976" class="Function">compute</a> <a id="26028" class="Symbol">⦃</a> <a id="26030" href="Ledger.Utxo.Properties.html#7096" class="Function">Computational-UTXO</a> <a id="26049" class="Symbol">⦄</a>

<a id="UTXO-step-computes-UTXO"></a><a id="26052" href="Ledger.Utxo.Properties.html#26052" class="Function">UTXO-step-computes-UTXO</a>  <a id="26077" class="Symbol">:</a>  <a id="26080" href="Ledger.Utxo.Properties.html#25934" class="Function">UTXO-step</a> <a id="26090" href="Ledger.Utxo.Properties.html#7297" class="Generalizable">Γ</a> <a id="26092" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a> <a id="26102" href="Ledger.Utxo.Properties.html#7215" class="Generalizable">tx</a> <a id="26105" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26107" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="26115" href="Ledger.Utxo.Properties.html#7352" class="Generalizable">utxoState&#39;</a>
                         <a id="26151" href="Function.Bundles.html#12400" class="Function Operator">⇔</a>  <a id="26154" href="Ledger.Utxo.Properties.html#7297" class="Generalizable">Γ</a> <a id="26156" href="Ledger.Utxo.html#3206" class="Datatype Operator">⊢</a> <a id="26158" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a> <a id="26168" href="Ledger.Utxo.html#3206" class="Datatype Operator">⇀⦇</a> <a id="26171" href="Ledger.Utxo.Properties.html#7215" class="Generalizable">tx</a> <a id="26174" href="Ledger.Utxo.html#3206" class="Datatype Operator">,UTXO⦈</a> <a id="26181" href="Ledger.Utxo.Properties.html#7352" class="Generalizable">utxoState&#39;</a>
<a id="26192" href="Ledger.Utxo.Properties.html#26052" class="Function">UTXO-step-computes-UTXO</a> <a id="26216" class="Symbol">=</a> <a id="26218" href="Interface.ComputationalRelation.html#3323" class="Function">≡-success⇔STS</a> <a id="26232" class="Symbol">⦃</a> <a id="26234" href="Ledger.Utxo.Properties.html#7096" class="Function">Computational-UTXO</a> <a id="26253" class="Symbol">⦄</a>


<a id="pov"></a><a id="26257" href="Ledger.Utxo.Properties.html#26257" class="Function">pov</a> <a id="26261" class="Symbol">:</a> <a id="26263" class="Keyword">let</a> <a id="26267" class="Keyword">open</a> <a id="26272" href="Ledger.Transaction.html#4234" class="Module">Tx</a> <a id="26275" href="Ledger.Utxo.Properties.html#7215" class="Generalizable">tx</a><a id="26277" class="Symbol">;</a> <a id="26279" class="Keyword">open</a> <a id="26284" href="Ledger.Transaction.html#2691" class="Module">TxBody</a> <a id="26291" href="Ledger.Transaction.html#4266" class="Function">body</a> <a id="26296" class="Keyword">in</a>


  <a id="26303" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="26308" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="26310" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="26315" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="26321" class="Symbol">(</a><a id="26322" href="Class.IsSet.html#916" class="Function">dom</a> <a id="26326" href="Ledger.Utxo.Properties.html#7255" class="Generalizable">utxo</a><a id="26330" class="Symbol">)</a>


  <a id="26336" class="Symbol">→</a>


  <a id="26342" href="Ledger.Utxo.Properties.html#7297" class="Generalizable">Γ</a> <a id="26344" href="Ledger.Utxo.html#3206" class="Datatype Operator">⊢</a>  <a id="26347" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="26349" href="Ledger.Utxo.Properties.html#7255" class="Generalizable">utxo</a>   <a id="26356" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26358" href="Ledger.Utxo.Properties.html#7389" class="Generalizable">fees</a>   <a id="26365" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26367" href="Ledger.Utxo.Properties.html#7431" class="Generalizable">deposits</a>   <a id="26378" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26380" href="Ledger.Utxo.Properties.html#7400" class="Generalizable">donations</a>   <a id="26392" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a> <a id="26394" href="Ledger.Utxo.html#3206" class="Datatype Operator">⇀⦇</a> <a id="26397" href="Ledger.Utxo.Properties.html#7215" class="Generalizable">tx</a> <a id="26400" href="Ledger.Utxo.html#3206" class="Datatype Operator">,UTXO⦈</a>
       <a id="26414" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="26416" href="Ledger.Utxo.Properties.html#7260" class="Generalizable">utxo&#39;</a>  <a id="26423" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26425" href="Ledger.Utxo.Properties.html#7394" class="Generalizable">fees&#39;</a>  <a id="26432" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26434" href="Ledger.Utxo.Properties.html#7440" class="Generalizable">deposits&#39;</a>  <a id="26445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26447" href="Ledger.Utxo.Properties.html#7410" class="Generalizable">donations&#39;</a>  <a id="26459" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a>


  <a id="26465" class="Symbol">→</a>


  <a id="26471" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26479" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="26481" href="Ledger.Utxo.Properties.html#7255" class="Generalizable">utxo</a> <a id="26486" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26488" href="Ledger.Utxo.Properties.html#7389" class="Generalizable">fees</a> <a id="26493" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26495" href="Ledger.Utxo.Properties.html#7431" class="Generalizable">deposits</a> <a id="26504" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26506" href="Ledger.Utxo.Properties.html#7400" class="Generalizable">donations</a> <a id="26516" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a> <a id="26518" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26520" href="Ledger.Utxo.Properties.html#13249" class="Function">φ</a><a id="26521" class="Symbol">(</a><a id="26522" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26530" href="Ledger.Transaction.html#2959" class="Function">txwdrls</a> <a id="26538" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26540" href="Ledger.Transaction.html#4319" class="Function">isValid</a><a id="26547" class="Symbol">)</a>
  <a id="26551" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26553" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26561" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="26563" href="Ledger.Utxo.Properties.html#7260" class="Generalizable">utxo&#39;</a> <a id="26569" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26571" href="Ledger.Utxo.Properties.html#7394" class="Generalizable">fees&#39;</a> <a id="26577" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26579" href="Ledger.Utxo.Properties.html#7440" class="Generalizable">deposits&#39;</a> <a id="26589" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26591" href="Ledger.Utxo.Properties.html#7410" class="Generalizable">donations&#39;</a> <a id="26602" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a>


<a id="26606" href="Ledger.Utxo.Properties.html#26257" class="Function">pov</a> <a id="26610" class="Symbol">{</a><a id="26611" class="Argument">deposits&#39;</a> <a id="26621" class="Symbol">=</a> <a id="26623" href="Ledger.Utxo.Properties.html#26623" class="Bound">deposits&#39;</a><a id="26632" class="Symbol">}</a> <a id="26634" href="Ledger.Utxo.Properties.html#26634" class="Bound">h&#39;</a>
    <a id="26641" href="Ledger.Utxo.Properties.html#26641" class="Bound">step</a><a id="26645" class="Symbol">@(</a><a id="26647" href="Ledger.Utxo.html#15269" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="26663" class="Symbol">_</a> <a id="26665" href="Ledger.Utxo.Properties.html#26665" class="Bound">Γ</a> <a id="26667" class="Symbol">_</a> <a id="26669" class="Symbol">_</a> <a id="26671" class="Symbol">_</a> <a id="26673" class="Symbol">_</a> <a id="26675" class="Symbol">_</a> <a id="26677" class="Symbol">_</a> <a id="26679" href="Ledger.Utxo.Properties.html#26679" class="Bound">newBal</a> <a id="26686" href="Ledger.Utxo.Properties.html#26686" class="Bound">noMintAda</a> <a id="26696" class="Symbol">_</a> <a id="26698" class="Symbol">_</a> <a id="26700" class="Symbol">_</a> <a id="26702" class="Symbol">_</a> <a id="26704" class="Symbol">_</a> <a id="26706" class="Symbol">_</a> <a id="26708" class="Symbol">_</a> <a id="26710" class="Symbol">_</a> <a id="26712" class="Symbol">_</a> <a id="26714" class="Symbol">(</a><a id="26715" href="Ledger.Utxo.html#12842" class="InductiveConstructor">Scripts-Yes</a> <a id="26727" class="Symbol">(_</a> <a id="26730" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26732" class="Symbol">_</a> <a id="26734" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26736" href="Ledger.Utxo.Properties.html#26736" class="Bound">valid</a><a id="26741" class="Symbol">)))</a> <a id="26745" class="Symbol">=</a>
    <a id="26751" href="Ledger.Utxo.Properties.html#24439" class="Function">DepositHelpers.pov-scripts</a> <a id="26778" href="Ledger.Utxo.Properties.html#26641" class="Bound">step</a> <a id="26783" href="Ledger.Utxo.Properties.html#26634" class="Bound">h&#39;</a> <a id="26786" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="26791" href="Ledger.Utxo.Properties.html#26736" class="Bound">valid</a>

<a id="26798" href="Ledger.Utxo.Properties.html#26257" class="Function">pov</a> <a id="26802" href="Ledger.Utxo.Properties.html#26802" class="Bound">h&#39;</a> <a id="26805" href="Ledger.Utxo.Properties.html#26805" class="Bound">step</a><a id="26809" class="Symbol">@(</a><a id="26811" href="Ledger.Utxo.html#15269" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="26827" class="Symbol">_</a> <a id="26829" class="Symbol">_</a> <a id="26831" class="Symbol">_</a> <a id="26833" class="Symbol">_</a> <a id="26835" class="Symbol">_</a> <a id="26837" class="Symbol">_</a> <a id="26839" class="Symbol">_</a> <a id="26841" class="Symbol">_</a> <a id="26843" class="Symbol">_</a> <a id="26845" class="Symbol">_</a> <a id="26847" class="Symbol">_</a> <a id="26849" class="Symbol">_</a> <a id="26851" class="Symbol">_</a> <a id="26853" class="Symbol">_</a> <a id="26855" class="Symbol">_</a> <a id="26857" class="Symbol">_</a> <a id="26859" class="Symbol">_</a> <a id="26861" class="Symbol">_</a> <a id="26863" class="Symbol">_</a> <a id="26865" class="Symbol">(</a><a id="26866" href="Ledger.Utxo.html#13356" class="InductiveConstructor">Scripts-No</a> <a id="26877" class="Symbol">(_</a> <a id="26880" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26882" href="Ledger.Utxo.Properties.html#26882" class="Bound">invalid</a><a id="26889" class="Symbol">)))</a> <a id="26893" class="Symbol">=</a>
  <a id="26897" href="Ledger.Utxo.Properties.html#24887" class="Function">DepositHelpers.pov-no-scripts</a> <a id="26927" href="Ledger.Utxo.Properties.html#26805" class="Bound">step</a> <a id="26932" href="Ledger.Utxo.Properties.html#26802" class="Bound">h&#39;</a> <a id="26935" href="Ledger.Utxo.Properties.html#26882" class="Bound">invalid</a>


<a id="isRefundCert"></a><a id="26945" href="Ledger.Utxo.Properties.html#26945" class="Function">isRefundCert</a> <a id="26958" class="Symbol">:</a> <a id="26960" href="Ledger.Certs.html#1324" class="Datatype">DCert</a> <a id="26966" class="Symbol">→</a> <a id="26968" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="26973" href="Ledger.Utxo.Properties.html#26945" class="Function">isRefundCert</a> <a id="26986" class="Symbol">(</a><a id="26987" href="Ledger.Certs.html#1418" class="InductiveConstructor">dereg</a> <a id="26993" href="Ledger.Utxo.Properties.html#26993" class="Bound">c</a> <a id="26995" class="Symbol">_)</a> <a id="26998" class="Symbol">=</a> <a id="27000" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="27005" href="Ledger.Utxo.Properties.html#26945" class="Function">isRefundCert</a> <a id="27018" class="Symbol">(</a><a id="27019" href="Ledger.Certs.html#1602" class="InductiveConstructor">deregdrep</a> <a id="27029" href="Ledger.Utxo.Properties.html#27029" class="Bound">c</a> <a id="27031" class="Symbol">_)</a> <a id="27034" class="Symbol">=</a> <a id="27036" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="27041" href="Ledger.Utxo.Properties.html#26945" class="CatchallClause Function">isRefundCert</a><a id="27053" class="CatchallClause"> </a><a id="27054" class="CatchallClause Symbol">_</a> <a id="27056" class="Symbol">=</a> <a id="27058" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="noRefundCert"></a><a id="27065" href="Ledger.Utxo.Properties.html#27065" class="Function">noRefundCert</a> <a id="27078" class="Symbol">:</a> <a id="27080" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="27085" href="Ledger.Certs.html#1324" class="Datatype">DCert</a> <a id="27091" class="Symbol">→</a> <a id="27093" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="27098" class="Symbol">_</a>
<a id="27100" href="Ledger.Utxo.Properties.html#27065" class="Function">noRefundCert</a> <a id="27113" href="Ledger.Utxo.Properties.html#27113" class="Bound">l</a> <a id="27115" class="Symbol">=</a> <a id="27117" href="Data.List.Relation.Unary.All.html#1644" class="Datatype">All</a> <a id="27121" class="Symbol">(λ</a> <a id="27124" href="Ledger.Utxo.Properties.html#27124" class="Bound">cert</a> <a id="27129" class="Symbol">→</a> <a id="27131" href="Ledger.Utxo.Properties.html#26945" class="Function">isRefundCert</a> <a id="27144" href="Ledger.Utxo.Properties.html#27124" class="Bound">cert</a> <a id="27149" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27151" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="27156" class="Symbol">)</a> <a id="27158" href="Ledger.Utxo.Properties.html#27113" class="Bound">l</a>

<a id="27161" class="Keyword">opaque</a>
  <a id="27170" class="Keyword">unfolding</a> <a id="27180" href="abstract-set-theory.FiniteSetTheory.html#240" class="Function">List-Model</a>
  <a id="27193" class="Keyword">unfolding</a> <a id="27203" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a>
  <a id="fin∘list[]"></a><a id="27216" href="Ledger.Utxo.Properties.html#27216" class="Function">fin∘list[]</a> <a id="27227" class="Symbol">:</a> <a id="27229" class="Symbol">{</a><a id="27230" href="Ledger.Utxo.Properties.html#27230" class="Bound">A</a> <a id="27232" class="Symbol">:</a> <a id="27234" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="27238" class="Symbol">}</a> <a id="27240" class="Symbol">→</a> <a id="27242" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27248" class="Symbol">(</a><a id="27249" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a><a id="27259" class="Symbol">{</a><a id="27260" class="Argument">A</a> <a id="27262" class="Symbol">=</a> <a id="27264" href="Ledger.Utxo.Properties.html#27230" class="Bound">A</a><a id="27265" class="Symbol">}</a> <a id="27267" href="Class.HasEmptySet.html#287" class="Field">∅</a><a id="27268" class="Symbol">)</a> <a id="27270" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27272" class="InductiveConstructor">[]</a>
  <a id="27277" href="Ledger.Utxo.Properties.html#27216" class="Function">fin∘list[]</a> <a id="27288" class="Symbol">=</a> <a id="27290" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="fin∘list∷[]"></a><a id="27297" href="Ledger.Utxo.Properties.html#27297" class="Function">fin∘list∷[]</a> <a id="27309" class="Symbol">:</a> <a id="27311" class="Symbol">{</a><a id="27312" href="Ledger.Utxo.Properties.html#27312" class="Bound">A</a> <a id="27314" class="Symbol">:</a> <a id="27316" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="27320" class="Symbol">}</a> <a id="27322" class="Symbol">{</a><a id="27323" href="Ledger.Utxo.Properties.html#27323" class="Bound">a</a> <a id="27325" class="Symbol">:</a> <a id="27327" href="Ledger.Utxo.Properties.html#27312" class="Bound">A</a><a id="27328" class="Symbol">}</a> <a id="27330" class="Symbol">→</a> <a id="27332" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27338" class="Symbol">(</a><a id="27339" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27350" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="27352" href="Ledger.Utxo.Properties.html#27323" class="Bound">a</a> <a id="27354" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="27355" class="Symbol">)</a> <a id="27357" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27359" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="27361" href="Ledger.Utxo.Properties.html#27323" class="Bound">a</a> <a id="27363" href="Data.List.Base.html#5205" class="Function Operator">]</a>
  <a id="27367" href="Ledger.Utxo.Properties.html#27297" class="Function">fin∘list∷[]</a> <a id="27379" class="Symbol">=</a> <a id="27381" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="coin∅"></a><a id="27387" href="Ledger.Utxo.Properties.html#27387" class="Function">coin∅</a> <a id="27393" class="Symbol">:</a> <a id="27395" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="27402" class="Symbol">{</a><a id="27403" class="Argument">A</a> <a id="27405" class="Symbol">=</a> <a id="27407" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="27415" class="Symbol">}</a> <a id="27417" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="27419" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27421" class="Number">0</a>
<a id="27423" href="Ledger.Utxo.Properties.html#27387" class="Function">coin∅</a> <a id="27429" class="Symbol">=</a> <a id="27431" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="27439" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27445" class="Symbol">(λ</a> <a id="27448" href="Ledger.Utxo.Properties.html#27448" class="Bound">x</a> <a id="27450" class="Symbol">→</a> <a id="27452" class="Symbol">(</a><a id="27453" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27459" href="Ledger.Utxo.Properties.html#27448" class="Bound">x</a><a id="27460" class="Symbol">)</a> <a id="27462" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27464" class="Symbol">)</a> <a id="27466" class="Number">0</a> <a id="27468" class="Symbol">(</a><a id="27469" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27481" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27485" class="Symbol">(</a><a id="27486" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27492" class="Symbol">(</a><a id="27493" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27504" href="Class.HasEmptySet.html#287" class="Field">∅</a><a id="27505" class="Symbol">)))</a>
    <a id="27513" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27516" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27521" class="Symbol">(λ</a> <a id="27524" href="Ledger.Utxo.Properties.html#27524" class="Bound">u</a> <a id="27526" class="Symbol">→</a> <a id="27528" class="Symbol">(</a><a id="27529" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27535" class="Symbol">(λ</a> <a id="27538" href="Ledger.Utxo.Properties.html#27538" class="Bound">x</a> <a id="27540" class="Symbol">→</a> <a id="27542" class="Symbol">(</a><a id="27543" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27549" href="Ledger.Utxo.Properties.html#27538" class="Bound">x</a><a id="27550" class="Symbol">)</a> <a id="27552" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27554" class="Symbol">)</a> <a id="27556" class="Number">0</a> <a id="27558" class="Symbol">(</a><a id="27559" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27571" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27575" href="Ledger.Utxo.Properties.html#27524" class="Bound">u</a><a id="27576" class="Symbol">)))</a> <a id="27580" href="Ledger.Utxo.Properties.html#27216" class="Function">fin∘list[]</a> <a id="27591" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27595" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27601" class="Symbol">(λ</a> <a id="27604" class="Symbol">(</a><a id="27605" href="Ledger.Utxo.Properties.html#27605" class="Bound">x</a> <a id="27607" class="Symbol">:</a> <a id="27609" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="27624" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27626" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27630" class="Symbol">)</a> <a id="27632" class="Symbol">→</a> <a id="27634" class="Symbol">(</a><a id="27635" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27641" href="Ledger.Utxo.Properties.html#27605" class="Bound">x</a><a id="27642" class="Symbol">)</a> <a id="27644" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27646" class="Symbol">)</a> <a id="27648" class="Number">0</a> <a id="27650" class="Symbol">(</a><a id="27651" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27663" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27667" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27669" class="Symbol">)</a>
    <a id="27675" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27678" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27683" class="Symbol">(λ</a> <a id="27686" href="Ledger.Utxo.Properties.html#27686" class="Bound">u</a> <a id="27688" class="Symbol">→</a> <a id="27690" class="Symbol">(</a><a id="27691" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27697" class="Symbol">(λ</a> <a id="27700" class="Symbol">(</a><a id="27701" href="Ledger.Utxo.Properties.html#27701" class="Bound">x</a> <a id="27703" class="Symbol">:</a> <a id="27705" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="27720" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27722" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27726" class="Symbol">)</a> <a id="27728" class="Symbol">→</a> <a id="27730" class="Symbol">(</a><a id="27731" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27737" href="Ledger.Utxo.Properties.html#27701" class="Bound">x</a><a id="27738" class="Symbol">)</a> <a id="27740" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27742" class="Symbol">)</a> <a id="27744" class="Number">0</a>  <a id="27747" href="Ledger.Utxo.Properties.html#27686" class="Bound">u</a><a id="27748" class="Symbol">))</a>
            <a id="27763" class="Symbol">{</a><a id="27764" class="Argument">x</a> <a id="27766" class="Symbol">=</a> <a id="27768" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27780" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27784" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27786" class="Symbol">}</a> <a id="27788" class="Symbol">{</a><a id="27789" class="Argument">y</a> <a id="27791" class="Symbol">=</a> <a id="27793" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27795" class="Symbol">}</a> <a id="27797" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="27802" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27806" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27812" class="Symbol">(λ</a> <a id="27815" class="Symbol">(</a><a id="27816" href="Ledger.Utxo.Properties.html#27816" class="Bound">x</a> <a id="27818" class="Symbol">:</a> <a id="27820" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="27835" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27837" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27841" class="Symbol">)</a> <a id="27843" class="Symbol">→</a> <a id="27845" class="Symbol">(</a><a id="27846" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27852" href="Ledger.Utxo.Properties.html#27816" class="Bound">x</a><a id="27853" class="Symbol">)</a> <a id="27855" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27857" class="Symbol">)</a> <a id="27859" class="Number">0</a> <a id="27861" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="27868" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27871" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="27876" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27880" class="Number">0</a> <a id="27882" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="27886" class="Keyword">where</a> <a id="27892" class="Keyword">open</a> <a id="27897" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

<a id="getCoin-singleton"></a><a id="27918" href="Ledger.Utxo.Properties.html#27918" class="Function">getCoin-singleton</a> <a id="27936" class="Symbol">:</a> <a id="27938" class="Symbol">(</a><a id="27939" href="Ledger.Utxo.Properties.html#27939" class="Bound">(</a><a id="27940" href="Ledger.Utxo.Properties.html#27940" class="Bound">dp</a> <a id="27943" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27945" href="Ledger.Utxo.Properties.html#27945" class="Bound">c</a><a id="27946" href="Ledger.Utxo.Properties.html#27939" class="Bound">)</a> <a id="27948" class="Symbol">:</a> <a id="27950" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="27965" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27967" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27971" class="Symbol">)</a> <a id="27973" class="Symbol">→</a> <a id="27975" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">indexedSumᵛ&#39;</a> <a id="27988" href="Function.Base.html#704" class="Function">id</a> <a id="27991" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="27993" class="Symbol">(</a><a id="27994" href="Ledger.Utxo.Properties.html#27940" class="Bound">dp</a> <a id="27997" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="27999" href="Ledger.Utxo.Properties.html#27945" class="Bound">c</a><a id="28000" class="Symbol">)</a> <a id="28002" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="28004" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28006" href="Ledger.Utxo.Properties.html#27945" class="Bound">c</a>
<a id="28008" href="Ledger.Utxo.Properties.html#27918" class="Function">getCoin-singleton</a> <a id="28026" class="Symbol">_</a> <a id="28028" class="Symbol">=</a> <a id="28030" href="Axiom.Set.Sum.html#4082" class="Function">indexedSum-singleton&#39;</a> <a id="28052" class="Symbol">{</a><a id="28053" class="Argument">A</a> <a id="28055" class="Symbol">=</a> <a id="28057" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="28072" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="28074" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28078" class="Symbol">}</a> <a id="28080" class="Symbol">{</a><a id="28081" class="Argument">f</a> <a id="28083" class="Symbol">=</a> <a id="28085" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="28090" class="Symbol">}</a> <a id="28092" class="Symbol">(</a><a id="28093" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="28104" class="Symbol">_)</a>

<a id="28108" class="Keyword">module</a> <a id="28115" href="Ledger.Utxo.Properties.html#28115" class="Module">_</a> <a id="28117" class="Comment">-- ASSUMPTION --</a>
         <a id="28143" class="Symbol">(</a><a id="28144" href="Ledger.Utxo.Properties.html#28144" class="Bound">gc-hom</a> <a id="28151" class="Symbol">:</a> <a id="28153" class="Symbol">(</a><a id="28154" href="Ledger.Utxo.Properties.html#28154" class="Bound">d₁</a> <a id="28157" href="Ledger.Utxo.Properties.html#28157" class="Bound">d₂</a> <a id="28160" class="Symbol">:</a> <a id="28162" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="28170" class="Symbol">)</a> <a id="28172" class="Symbol">→</a> <a id="28174" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28182" class="Symbol">(</a><a id="28183" href="Ledger.Utxo.Properties.html#28154" class="Bound">d₁</a> <a id="28186" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28189" href="Ledger.Utxo.Properties.html#28157" class="Bound">d₂</a><a id="28191" class="Symbol">)</a> <a id="28193" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28195" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28203" href="Ledger.Utxo.Properties.html#28154" class="Bound">d₁</a> <a id="28206" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28208" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28216" href="Ledger.Utxo.Properties.html#28157" class="Bound">d₂</a><a id="28218" class="Symbol">)</a>
  <a id="28222" class="Keyword">where</a>
  <a id="28230" href="Ledger.Utxo.Properties.html#28230" class="Function">∪⁺singleton≡</a> <a id="28243" class="Symbol">:</a> <a id="28245" class="Symbol">{</a><a id="28246" href="Ledger.Utxo.Properties.html#28246" class="Bound">deps</a> <a id="28251" class="Symbol">:</a> <a id="28253" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="28261" class="Symbol">}</a> <a id="28263" class="Symbol">{</a><a id="28264" href="Ledger.Utxo.Properties.html#28264" class="Symbol">(</a><a id="28265" href="Ledger.Utxo.Properties.html#28265" class="Bound">dp</a> <a id="28268" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28270" href="Ledger.Utxo.Properties.html#28270" class="Bound">c</a><a id="28271" href="Ledger.Utxo.Properties.html#28264" class="Symbol">)</a> <a id="28273" class="Symbol">:</a> <a id="28275" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="28290" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="28292" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28296" class="Symbol">}</a>
                 <a id="28315" class="Symbol">→</a> <a id="28317" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28325" class="Symbol">(</a><a id="28326" href="Ledger.Utxo.Properties.html#28246" class="Bound">deps</a> <a id="28331" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28334" href="Axiom.Set.Map.html#4588" class="Function Operator">❴</a> <a id="28336" class="Symbol">(</a><a id="28337" href="Ledger.Utxo.Properties.html#28265" class="Bound">dp</a> <a id="28340" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28342" href="Ledger.Utxo.Properties.html#28270" class="Bound">c</a><a id="28343" class="Symbol">)</a> <a id="28345" href="Axiom.Set.Map.html#4588" class="Function Operator">❵ᵐ</a><a id="28347" class="Symbol">)</a> <a id="28349" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28351" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28359" href="Ledger.Utxo.Properties.html#28246" class="Bound">deps</a> <a id="28364" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28366" href="Ledger.Utxo.Properties.html#28270" class="Bound">c</a>
  <a id="28370" href="Ledger.Utxo.Properties.html#28230" class="Function">∪⁺singleton≡</a> <a id="28383" class="Symbol">{</a><a id="28384" href="Ledger.Utxo.Properties.html#28384" class="Bound">deps</a><a id="28388" class="Symbol">}</a> <a id="28390" class="Symbol">{(</a><a id="28392" href="Ledger.Utxo.Properties.html#28392" class="Bound">dp</a> <a id="28395" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28397" href="Ledger.Utxo.Properties.html#28397" class="Bound">c</a><a id="28398" class="Symbol">)}</a> <a id="28401" class="Symbol">=</a> <a id="28403" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="28413" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28421" class="Symbol">(</a><a id="28422" href="Ledger.Utxo.Properties.html#28384" class="Bound">deps</a> <a id="28427" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28430" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28432" class="Symbol">(</a><a id="28433" href="Ledger.Utxo.Properties.html#28392" class="Bound">dp</a> <a id="28436" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28438" href="Ledger.Utxo.Properties.html#28397" class="Bound">c</a><a id="28439" class="Symbol">)</a> <a id="28441" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="28442" class="Symbol">)</a>
      <a id="28450" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="28453" href="Ledger.Utxo.Properties.html#28144" class="Bound">gc-hom</a> <a id="28460" href="Ledger.Utxo.Properties.html#28384" class="Bound">deps</a> <a id="28465" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28467" class="Symbol">(</a><a id="28468" href="Ledger.Utxo.Properties.html#28392" class="Bound">dp</a> <a id="28471" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28473" href="Ledger.Utxo.Properties.html#28397" class="Bound">c</a><a id="28474" class="Symbol">)</a> <a id="28476" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="28478" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="28484" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28492" href="Ledger.Utxo.Properties.html#28384" class="Bound">deps</a> <a id="28497" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28499" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="28506" class="Symbol">{</a><a id="28507" class="Argument">A</a> <a id="28509" class="Symbol">=</a> <a id="28511" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="28519" class="Symbol">}</a> <a id="28521" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28523" class="Symbol">(</a><a id="28524" href="Ledger.Utxo.Properties.html#28392" class="Bound">dp</a> <a id="28527" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28529" href="Ledger.Utxo.Properties.html#28397" class="Bound">c</a><a id="28530" class="Symbol">)</a> <a id="28532" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="28540" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="28543" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="28548" class="Symbol">(</a><a id="28549" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28557" href="Ledger.Utxo.Properties.html#28384" class="Bound">deps</a> <a id="28562" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="28564" class="Symbol">)</a> <a id="28566" class="Symbol">(</a><a id="28567" href="Ledger.Utxo.Properties.html#27918" class="Function">getCoin-singleton</a> <a id="28585" class="Symbol">(</a><a id="28586" href="Ledger.Utxo.Properties.html#28392" class="Bound">dp</a> <a id="28589" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28591" href="Ledger.Utxo.Properties.html#28397" class="Bound">c</a><a id="28592" class="Symbol">))</a> <a id="28595" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="28601" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28609" href="Ledger.Utxo.Properties.html#28384" class="Bound">deps</a> <a id="28614" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28616" href="Ledger.Utxo.Properties.html#28397" class="Bound">c</a>
      <a id="28624" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="28630" class="Keyword">where</a> <a id="28636" class="Keyword">open</a> <a id="28641" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

  <a id="28664" class="Keyword">module</a> <a id="28671" href="Ledger.Utxo.Properties.html#28671" class="Module">_</a> <a id="28673" class="Symbol">{</a><a id="28674" href="Ledger.Utxo.Properties.html#28674" class="Bound">deposits</a> <a id="28683" class="Symbol">:</a> <a id="28685" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="28693" class="Symbol">}</a> <a id="28695" class="Symbol">{</a><a id="28696" href="Ledger.Utxo.Properties.html#28696" class="Bound">txid</a> <a id="28701" class="Symbol">:</a> <a id="28703" href="Ledger.Transaction.html#919" class="Field">TxId</a><a id="28707" class="Symbol">}</a> <a id="28709" class="Symbol">{</a><a id="28710" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a> <a id="28716" class="Symbol">:</a> <a id="28718" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28722" class="Symbol">}</a> <a id="28724" class="Keyword">where</a>

    <a id="28735" href="Ledger.Utxo.Properties.html#28735" class="Function">≤updatePropDeps</a> <a id="28751" class="Symbol">:</a> <a id="28753" class="Symbol">(</a><a id="28754" href="Ledger.Utxo.Properties.html#28754" class="Bound">props</a> <a id="28760" class="Symbol">:</a> <a id="28762" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="28767" href="Ledger.GovernanceActions.html#2372" class="Record">GovProposal</a><a id="28778" class="Symbol">)</a>
      <a id="28786" class="Symbol">→</a> <a id="28788" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28796" href="Ledger.Utxo.Properties.html#28674" class="Bound">deposits</a> <a id="28805" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="28807" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28815" class="Symbol">(</a><a id="28816" href="Ledger.Utxo.html#8848" class="Function">updateProposalDeposits</a> <a id="28839" href="Ledger.Utxo.Properties.html#28754" class="Bound">props</a> <a id="28845" href="Ledger.Utxo.Properties.html#28696" class="Bound">txid</a> <a id="28850" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a> <a id="28856" href="Ledger.Utxo.Properties.html#28674" class="Bound">deposits</a><a id="28864" class="Symbol">)</a>
    <a id="28870" href="Ledger.Utxo.Properties.html#28735" class="Function">≤updatePropDeps</a> <a id="28886" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="28889" class="Symbol">=</a> <a id="28891" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="28903" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="28912" href="Ledger.Utxo.Properties.html#28735" class="Function">≤updatePropDeps</a> <a id="28928" class="Symbol">(</a><a id="28929" href="Ledger.Utxo.Properties.html#28929" class="Bound">x</a> <a id="28931" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="28933" href="Ledger.Utxo.Properties.html#28933" class="Bound">props</a><a id="28938" class="Symbol">)</a> <a id="28940" class="Symbol">=</a> <a id="28942" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="28950" class="Symbol">(</a><a id="28951" href="Ledger.Utxo.Properties.html#28735" class="Function">≤updatePropDeps</a> <a id="28967" href="Ledger.Utxo.Properties.html#28933" class="Bound">props</a><a id="28972" class="Symbol">)</a>
                                          <a id="29016" class="Symbol">(</a><a id="29017" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="29025" class="Symbol">(</a><a id="29026" href="Data.Nat.Properties.html#19178" class="Function">m≤m+n</a> <a id="29032" class="Symbol">_</a> <a id="29034" class="Symbol">_)</a>
                                                   <a id="29088" class="Symbol">(</a><a id="29089" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="29101" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="29103" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="29107" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="29109" href="Ledger.Utxo.Properties.html#28230" class="Function">∪⁺singleton≡</a><a id="29121" class="Symbol">))</a>
    <a id="29128" href="Ledger.Utxo.Properties.html#29128" class="Function">updatePropDeps≡</a> <a id="29144" class="Symbol">:</a> <a id="29146" class="Symbol">(</a><a id="29147" href="Ledger.Utxo.Properties.html#29147" class="Bound">ps</a> <a id="29150" class="Symbol">:</a> <a id="29152" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="29157" href="Ledger.GovernanceActions.html#2372" class="Record">GovProposal</a><a id="29168" class="Symbol">)</a>
      <a id="29176" class="Symbol">→</a> <a id="29178" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29186" class="Symbol">(</a><a id="29187" href="Ledger.Utxo.html#8848" class="Function">updateProposalDeposits</a> <a id="29210" href="Ledger.Utxo.Properties.html#29147" class="Bound">ps</a> <a id="29213" href="Ledger.Utxo.Properties.html#28696" class="Bound">txid</a> <a id="29218" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a> <a id="29224" href="Ledger.Utxo.Properties.html#28674" class="Bound">deposits</a><a id="29232" class="Symbol">)</a> <a id="29234" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="29236" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29244" href="Ledger.Utxo.Properties.html#28674" class="Bound">deposits</a> <a id="29253" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="29255" class="Symbol">(</a><a id="29256" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29263" href="Ledger.Utxo.Properties.html#29147" class="Bound">ps</a><a id="29265" class="Symbol">)</a> <a id="29267" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29269" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a>
    <a id="29279" href="Ledger.Utxo.Properties.html#29128" class="Function">updatePropDeps≡</a> <a id="29295" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="29298" class="Symbol">=</a> <a id="29300" href="Data.Nat.Properties.html#46355" class="Function">n∸n≡0</a> <a id="29306" class="Symbol">(</a><a id="29307" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29315" href="Ledger.Utxo.Properties.html#28674" class="Bound">deposits</a><a id="29323" class="Symbol">)</a>
    <a id="29329" href="Ledger.Utxo.Properties.html#29128" class="Function">updatePropDeps≡</a> <a id="29345" class="Symbol">(_</a> <a id="29348" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="29350" href="Ledger.Utxo.Properties.html#29350" class="Bound">ps</a><a id="29352" class="Symbol">)</a> <a id="29354" class="Symbol">=</a> <a id="29356" class="Keyword">let</a>
      <a id="29366" href="Ledger.Utxo.Properties.html#29366" class="Bound">upD</a> <a id="29370" class="Symbol">=</a> <a id="29372" href="Ledger.Utxo.html#8848" class="Function">updateProposalDeposits</a> <a id="29395" href="Ledger.Utxo.Properties.html#29350" class="Bound">ps</a> <a id="29398" href="Ledger.Utxo.Properties.html#28696" class="Bound">txid</a> <a id="29403" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a> <a id="29409" href="Ledger.Utxo.Properties.html#28674" class="Bound">deposits</a> <a id="29418" class="Keyword">in</a>
      <a id="29427" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="29441" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29449" class="Symbol">(</a><a id="29450" href="Ledger.Utxo.Properties.html#29366" class="Bound">upD</a> <a id="29454" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="29457" href="Axiom.Set.Map.html#4588" class="Function Operator">❴</a> <a id="29459" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="29476" class="Symbol">(</a><a id="29477" href="Ledger.Utxo.Properties.html#28696" class="Bound">txid</a> <a id="29482" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29484" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29491" href="Ledger.Utxo.Properties.html#29350" class="Bound">ps</a><a id="29493" class="Symbol">)</a> <a id="29495" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29497" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a> <a id="29503" href="Axiom.Set.Map.html#4588" class="Function Operator">❵ᵐ</a><a id="29505" class="Symbol">)</a> <a id="29507" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29509" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29517" href="Ledger.Utxo.Properties.html#28674" class="Bound">deposits</a>
          <a id="29536" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29539" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="29544" class="Symbol">(</a><a id="29545" href="Data.Nat.Base.html#4462" class="Primitive Operator">_∸</a> <a id="29548" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29556" href="Ledger.Utxo.Properties.html#28674" class="Bound">deposits</a><a id="29564" class="Symbol">)</a> <a id="29566" href="Ledger.Utxo.Properties.html#28230" class="Function">∪⁺singleton≡</a> <a id="29579" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29589" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29597" href="Ledger.Utxo.Properties.html#29366" class="Bound">upD</a> <a id="29601" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29603" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a> <a id="29609" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29611" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29619" href="Ledger.Utxo.Properties.html#28674" class="Bound">deposits</a>
          <a id="29638" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29641" href="Data.Nat.Properties.html#49780" class="Function">+-∸-comm</a> <a id="29650" class="Symbol">_</a> <a id="29652" class="Symbol">(</a><a id="29653" href="Ledger.Utxo.Properties.html#28735" class="Function">≤updatePropDeps</a> <a id="29669" href="Ledger.Utxo.Properties.html#29350" class="Bound">ps</a><a id="29671" class="Symbol">)</a> <a id="29673" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29683" class="Symbol">(</a><a id="29684" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29692" href="Ledger.Utxo.Properties.html#29366" class="Bound">upD</a> <a id="29696" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29698" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29706" href="Ledger.Utxo.Properties.html#28674" class="Bound">deposits</a><a id="29714" class="Symbol">)</a> <a id="29716" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29718" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a>
          <a id="29734" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29737" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="29742" class="Symbol">(</a><a id="29743" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="29746" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a><a id="29751" class="Symbol">)</a> <a id="29753" class="Symbol">(</a><a id="29754" href="Ledger.Utxo.Properties.html#29128" class="Function">updatePropDeps≡</a> <a id="29770" href="Ledger.Utxo.Properties.html#29350" class="Bound">ps</a><a id="29772" class="Symbol">)</a> <a id="29774" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29784" class="Symbol">(</a><a id="29785" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29792" href="Ledger.Utxo.Properties.html#29350" class="Bound">ps</a><a id="29794" class="Symbol">)</a> <a id="29796" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29798" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a> <a id="29804" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29806" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a>
          <a id="29822" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29825" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="29832" class="Symbol">((</a><a id="29834" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29841" href="Ledger.Utxo.Properties.html#29350" class="Bound">ps</a><a id="29843" class="Symbol">)</a> <a id="29845" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29847" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a><a id="29852" class="Symbol">)</a> <a id="29854" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a> <a id="29860" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29870" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a> <a id="29876" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29878" class="Symbol">(</a><a id="29879" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29886" href="Ledger.Utxo.Properties.html#29350" class="Bound">ps</a><a id="29888" class="Symbol">)</a> <a id="29890" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29892" href="Ledger.Utxo.Properties.html#28710" class="Bound">gaDep</a>
          <a id="29908" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
        <a id="29918" class="Keyword">where</a> <a id="29924" class="Keyword">open</a> <a id="29929" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

  <a id="29952" href="Ledger.Utxo.Properties.html#29952" class="Function">≤certDeps</a>  <a id="29963" class="Symbol">:</a>  <a id="29966" class="Symbol">{</a><a id="29967" href="Ledger.Utxo.Properties.html#29967" class="Bound">d</a> <a id="29969" class="Symbol">:</a> <a id="29971" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="29979" class="Symbol">}</a> <a id="29981" class="Symbol">{</a><a id="29982" href="Ledger.Utxo.Properties.html#29982" class="Symbol">(</a><a id="29983" href="Ledger.Utxo.Properties.html#29983" class="Bound">dp</a> <a id="29986" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29988" href="Ledger.Utxo.Properties.html#29988" class="Bound">c</a><a id="29989" href="Ledger.Utxo.Properties.html#29982" class="Symbol">)</a> <a id="29991" class="Symbol">:</a> <a id="29993" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="30008" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="30010" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="30014" class="Symbol">}</a>
             <a id="30029" class="Symbol">→</a>  <a id="30032" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30040" href="Ledger.Utxo.Properties.html#29967" class="Bound">d</a> <a id="30042" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="30044" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30052" class="Symbol">(</a><a id="30053" href="Ledger.Utxo.Properties.html#29967" class="Bound">d</a> <a id="30055" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30058" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30060" class="Symbol">(</a><a id="30061" href="Ledger.Utxo.Properties.html#29983" class="Bound">dp</a> <a id="30064" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30066" href="Ledger.Utxo.Properties.html#29988" class="Bound">c</a><a id="30067" class="Symbol">)</a> <a id="30069" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30070" class="Symbol">)</a>

  <a id="30075" href="Ledger.Utxo.Properties.html#29952" class="Function">≤certDeps</a> <a id="30085" class="Symbol">{</a><a id="30086" href="Ledger.Utxo.Properties.html#30086" class="Bound">d</a><a id="30087" class="Symbol">}</a> <a id="30089" class="Symbol">=</a> <a id="30091" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="30101" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30109" href="Ledger.Utxo.Properties.html#30086" class="Bound">d</a>                      <a id="30132" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="30135" href="Data.Nat.Properties.html#19178" class="Function">m≤m+n</a> <a id="30141" class="Symbol">(</a><a id="30142" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30150" href="Ledger.Utxo.Properties.html#30086" class="Bound">d</a><a id="30151" class="Symbol">)</a> <a id="30153" class="Symbol">_</a> <a id="30155" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="30161" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30169" href="Ledger.Utxo.Properties.html#30086" class="Bound">d</a> <a id="30171" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="30173" class="Symbol">_</a>                  <a id="30192" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="30195" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="30199" href="Ledger.Utxo.Properties.html#28230" class="Function">∪⁺singleton≡</a> <a id="30212" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="30218" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30226" class="Symbol">(</a><a id="30227" href="Ledger.Utxo.Properties.html#30086" class="Bound">d</a> <a id="30229" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30232" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30234" class="Symbol">_</a> <a id="30236" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30237" class="Symbol">)</a>           <a id="30249" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="30255" class="Keyword">where</a> <a id="30261" class="Keyword">open</a> <a id="30266" href="Data.Nat.Properties.html#14692" class="Module">≤-Reasoning</a>


  <a id="30282" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="30298" class="Symbol">:</a> <a id="30300" class="Symbol">(</a><a id="30301" href="Ledger.Utxo.Properties.html#30301" class="Bound">cs</a> <a id="30304" class="Symbol">:</a> <a id="30306" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="30311" href="Ledger.Certs.html#1324" class="Datatype">DCert</a><a id="30316" class="Symbol">)</a> <a id="30318" class="Symbol">{</a><a id="30319" href="Ledger.Utxo.Properties.html#30319" class="Bound">pp</a> <a id="30322" class="Symbol">:</a> <a id="30324" href="Ledger.PParams.html#1570" class="Record">PParams</a><a id="30331" class="Symbol">}</a> <a id="30333" class="Symbol">{</a><a id="30334" href="Ledger.Utxo.Properties.html#30334" class="Bound">deposits</a> <a id="30343" class="Symbol">:</a> <a id="30345" href="Ledger.Certs.html#573" class="Function">Deposits</a><a id="30353" class="Symbol">}</a>
    <a id="30359" class="Symbol">→</a> <a id="30361" href="Ledger.Utxo.Properties.html#27065" class="Function">noRefundCert</a> <a id="30374" href="Ledger.Utxo.Properties.html#30301" class="Bound">cs</a>
    <a id="30381" class="Symbol">→</a> <a id="30383" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30391" href="Ledger.Utxo.Properties.html#30334" class="Bound">deposits</a> <a id="30400" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="30402" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30410" class="Symbol">(</a><a id="30411" href="Ledger.Utxo.html#7875" class="Function">updateCertDeposits</a> <a id="30430" href="Ledger.Utxo.Properties.html#30319" class="Bound">pp</a> <a id="30433" href="Ledger.Utxo.Properties.html#30301" class="Bound">cs</a> <a id="30436" href="Ledger.Utxo.Properties.html#30334" class="Bound">deposits</a><a id="30444" class="Symbol">)</a>
  <a id="30448" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="30464" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="30467" href="Ledger.Utxo.Properties.html#30467" class="Bound">nrf</a> <a id="30471" class="Symbol">=</a> <a id="30473" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="30485" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="30492" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="30508" class="Symbol">(</a><a id="30509" href="Ledger.Certs.html#2031" class="InductiveConstructor">reg</a> <a id="30513" href="Ledger.Utxo.Properties.html#30513" class="Bound">c</a> <a id="30515" href="Ledger.Utxo.Properties.html#30515" class="Bound">v</a> <a id="30517" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30519" href="Ledger.Utxo.Properties.html#30519" class="Bound">cs</a><a id="30521" class="Symbol">)</a> <a id="30523" class="Symbol">{</a><a id="30524" href="Ledger.Utxo.Properties.html#30524" class="Bound">pp</a><a id="30526" class="Symbol">}</a> <a id="30528" class="Symbol">{</a><a id="30529" href="Ledger.Utxo.Properties.html#30529" class="Bound">deposits</a><a id="30537" class="Symbol">}</a> <a id="30539" class="Symbol">(_</a> <a id="30542" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30548" href="Ledger.Utxo.Properties.html#30548" class="Bound">nrf</a><a id="30551" class="Symbol">)</a> <a id="30553" class="Symbol">=</a>
    <a id="30559" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30567" href="Ledger.Utxo.Properties.html#29952" class="Function">≤certDeps</a> <a id="30577" class="Symbol">(</a><a id="30578" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="30594" href="Ledger.Utxo.Properties.html#30519" class="Bound">cs</a> <a id="30597" class="Symbol">{</a><a id="30598" href="Ledger.Utxo.Properties.html#30524" class="Bound">pp</a><a id="30600" class="Symbol">}</a> <a id="30602" class="Symbol">{</a><a id="30603" href="Ledger.Utxo.Properties.html#30529" class="Bound">deposits</a> <a id="30612" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30615" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30617" href="Ledger.Certs.html#362" class="InductiveConstructor">CredentialDeposit</a> <a id="30635" href="Ledger.Utxo.Properties.html#30513" class="Bound">c</a> <a id="30637" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30639" href="Ledger.Utxo.Properties.html#30524" class="Bound">pp</a> <a id="30642" class="Symbol">.</a><a id="30643" href="Ledger.PParams.html#2076" class="Field">PParams.keyDeposit</a> <a id="30662" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30663" class="Symbol">}</a> <a id="30665" href="Ledger.Utxo.Properties.html#30548" class="Bound">nrf</a><a id="30668" class="Symbol">)</a>
  <a id="30672" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="30688" class="Symbol">(</a><a id="30689" href="Ledger.Certs.html#1345" class="InductiveConstructor">delegate</a> <a id="30698" href="Ledger.Utxo.Properties.html#30698" class="Bound">c</a> <a id="30700" class="Symbol">_</a> <a id="30702" class="Symbol">_</a> <a id="30704" href="Ledger.Utxo.Properties.html#30704" class="Bound">v</a> <a id="30706" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30708" href="Ledger.Utxo.Properties.html#30708" class="Bound">cs</a><a id="30710" class="Symbol">)</a> <a id="30712" class="Symbol">{</a><a id="30713" href="Ledger.Utxo.Properties.html#30713" class="Bound">pp</a><a id="30715" class="Symbol">}</a> <a id="30717" class="Symbol">{</a><a id="30718" href="Ledger.Utxo.Properties.html#30718" class="Bound">deposits</a><a id="30726" class="Symbol">}</a> <a id="30728" class="Symbol">(_</a> <a id="30731" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30737" href="Ledger.Utxo.Properties.html#30737" class="Bound">nrf</a><a id="30740" class="Symbol">)</a> <a id="30742" class="Symbol">=</a>
    <a id="30748" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30756" href="Ledger.Utxo.Properties.html#29952" class="Function">≤certDeps</a> <a id="30766" class="Symbol">(</a><a id="30767" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="30783" href="Ledger.Utxo.Properties.html#30708" class="Bound">cs</a> <a id="30786" class="Symbol">{</a><a id="30787" href="Ledger.Utxo.Properties.html#30713" class="Bound">pp</a><a id="30789" class="Symbol">}</a> <a id="30791" class="Symbol">{</a><a id="30792" href="Ledger.Utxo.Properties.html#30718" class="Bound">deposits</a> <a id="30801" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30804" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30806" href="Ledger.Certs.html#362" class="InductiveConstructor">CredentialDeposit</a> <a id="30824" href="Ledger.Utxo.Properties.html#30698" class="Bound">c</a> <a id="30826" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30828" href="Ledger.Utxo.Properties.html#30704" class="Bound">v</a> <a id="30830" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30831" class="Symbol">}</a> <a id="30833" href="Ledger.Utxo.Properties.html#30737" class="Bound">nrf</a><a id="30836" class="Symbol">)</a>
  <a id="30840" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="30856" class="Symbol">(</a><a id="30857" href="Ledger.Certs.html#1466" class="InductiveConstructor">regpool</a> <a id="30865" class="Symbol">_</a> <a id="30867" class="Symbol">_</a> <a id="30869" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30871" href="Ledger.Utxo.Properties.html#30871" class="Bound">cs</a><a id="30873" class="Symbol">)</a>       <a id="30881" class="Symbol">(_</a> <a id="30884" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30890" href="Ledger.Utxo.Properties.html#30890" class="Bound">nrf</a><a id="30893" class="Symbol">)</a> <a id="30895" class="Symbol">=</a> <a id="30897" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30905" href="Ledger.Utxo.Properties.html#29952" class="Function">≤certDeps</a> <a id="30915" class="Symbol">(</a><a id="30916" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="30932" href="Ledger.Utxo.Properties.html#30871" class="Bound">cs</a> <a id="30935" href="Ledger.Utxo.Properties.html#30890" class="Bound">nrf</a><a id="30938" class="Symbol">)</a>
  <a id="30942" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="30958" class="Symbol">(</a><a id="30959" href="Ledger.Certs.html#1511" class="InductiveConstructor">retirepool</a> <a id="30970" class="Symbol">_</a> <a id="30972" class="Symbol">_</a> <a id="30974" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30976" href="Ledger.Utxo.Properties.html#30976" class="Bound">cs</a><a id="30978" class="Symbol">)</a>    <a id="30983" class="Symbol">(_</a> <a id="30986" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30992" href="Ledger.Utxo.Properties.html#30992" class="Bound">nrf</a><a id="30995" class="Symbol">)</a> <a id="30997" class="Symbol">=</a> <a id="30999" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="31015" href="Ledger.Utxo.Properties.html#30976" class="Bound">cs</a> <a id="31018" href="Ledger.Utxo.Properties.html#30992" class="Bound">nrf</a>
  <a id="31024" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="31040" class="Symbol">(</a><a id="31041" href="Ledger.Certs.html#1551" class="InductiveConstructor">regdrep</a> <a id="31049" class="Symbol">_</a> <a id="31051" class="Symbol">_</a> <a id="31053" class="Symbol">_</a> <a id="31055" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="31057" href="Ledger.Utxo.Properties.html#31057" class="Bound">cs</a><a id="31059" class="Symbol">)</a>     <a id="31065" class="Symbol">(_</a> <a id="31068" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="31074" href="Ledger.Utxo.Properties.html#31074" class="Bound">nrf</a><a id="31077" class="Symbol">)</a> <a id="31079" class="Symbol">=</a> <a id="31081" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="31089" href="Ledger.Utxo.Properties.html#29952" class="Function">≤certDeps</a> <a id="31099" class="Symbol">(</a><a id="31100" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="31116" href="Ledger.Utxo.Properties.html#31057" class="Bound">cs</a> <a id="31119" href="Ledger.Utxo.Properties.html#31074" class="Bound">nrf</a><a id="31122" class="Symbol">)</a>
  <a id="31126" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="31142" class="Symbol">(</a><a id="31143" href="Ledger.Certs.html#1644" class="InductiveConstructor">ccreghot</a> <a id="31152" class="Symbol">_</a> <a id="31154" class="Symbol">_</a> <a id="31156" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="31158" href="Ledger.Utxo.Properties.html#31158" class="Bound">cs</a><a id="31160" class="Symbol">)</a>      <a id="31167" class="Symbol">(_</a> <a id="31170" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="31176" href="Ledger.Utxo.Properties.html#31176" class="Bound">nrf</a><a id="31179" class="Symbol">)</a> <a id="31181" class="Symbol">=</a> <a id="31183" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="31199" href="Ledger.Utxo.Properties.html#31158" class="Bound">cs</a> <a id="31202" href="Ledger.Utxo.Properties.html#31176" class="Bound">nrf</a>

  <a id="31209" class="Comment">-- Main Theorem: General Minimum Spending Condition --</a>
  <a id="31266" href="Ledger.Utxo.Properties.html#31266" class="Function">gmsc</a> <a id="31271" class="Symbol">:</a>  <a id="31274" class="Keyword">let</a> <a id="31278" class="Keyword">open</a> <a id="31283" href="Ledger.Transaction.html#4234" class="Module">Tx</a> <a id="31286" href="Ledger.Utxo.Properties.html#7215" class="Generalizable">tx</a> <a id="31289" class="Keyword">renaming</a> <a id="31298" class="Symbol">(</a><a id="31299" href="Ledger.Transaction.html#4266" class="Field">body</a> <a id="31304" class="Symbol">to</a> <a id="31307" class="Field">txb</a><a id="31310" class="Symbol">);</a> <a id="31313" class="Keyword">open</a> <a id="31318" href="Ledger.Transaction.html#2691" class="Module">TxBody</a> <a id="31325" href="Ledger.Utxo.Properties.html#31307" class="Function">txb</a>
              <a id="31343" href="Ledger.Utxo.Properties.html#31343" class="Bound">pp</a> <a id="31346" class="Symbol">=</a> <a id="31348" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="31364" href="Ledger.Utxo.Properties.html#7297" class="Generalizable">Γ</a><a id="31365" class="Symbol">;</a> <a id="31367" class="Keyword">open</a> <a id="31372" href="Ledger.PParams.html#1570" class="Module">PParams</a> <a id="31380" href="Ledger.Utxo.Properties.html#31343" class="Bound">pp</a>
              <a id="31397" class="Keyword">open</a> <a id="31402" href="Ledger.Utxo.html#2561" class="Module">UTxOState</a> <a id="31412" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a>
                <a id="31438" class="Keyword">renaming</a> <a id="31447" class="Symbol">(</a><a id="31448" href="Ledger.Utxo.html#2625" class="Field">utxo</a> <a id="31453" class="Symbol">to</a> <a id="31456" class="Field">st</a><a id="31458" class="Symbol">;</a> <a id="31460" href="Ledger.Utxo.html#2647" class="Field">fees</a> <a id="31465" class="Symbol">to</a> <a id="31468" class="Field">fs</a><a id="31470" class="Symbol">;</a> <a id="31472" href="Ledger.Utxo.html#2669" class="Field">deposits</a> <a id="31481" class="Symbol">to</a> <a id="31484" class="Field">deps</a><a id="31488" class="Symbol">;</a> <a id="31490" href="Ledger.Utxo.html#2695" class="Field">donations</a> <a id="31500" class="Symbol">to</a> <a id="31503" class="Field">dons</a><a id="31507" class="Symbol">)</a>
          <a id="31519" class="Keyword">in</a>
    <a id="31526" href="Ledger.Utxo.Properties.html#7297" class="Generalizable">Γ</a> <a id="31528" href="Ledger.Utxo.html#3206" class="Datatype Operator">⊢</a>  <a id="31531" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="31533" href="Ledger.Utxo.Properties.html#31456" class="Function">st</a>   <a id="31538" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31540" href="Ledger.Utxo.Properties.html#31468" class="Function">fs</a>   <a id="31545" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31547" href="Ledger.Utxo.Properties.html#31484" class="Function">deps</a>   <a id="31554" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31556" href="Ledger.Utxo.Properties.html#31503" class="Function">dons</a>   <a id="31563" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a> <a id="31565" href="Ledger.Utxo.html#3206" class="Datatype Operator">⇀⦇</a> <a id="31568" href="Ledger.Utxo.Properties.html#7215" class="Generalizable">tx</a> <a id="31571" href="Ledger.Utxo.html#3206" class="Datatype Operator">,UTXO⦈</a>
         <a id="31587" href="Ledger.Prelude.html#2291" class="Function Operator">⟦</a> <a id="31589" href="Ledger.Utxo.Properties.html#7260" class="Generalizable">utxo&#39;</a>  <a id="31596" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31598" href="Ledger.Utxo.Properties.html#7394" class="Generalizable">fees&#39;</a>  <a id="31605" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31607" href="Ledger.Utxo.Properties.html#7440" class="Generalizable">deposits&#39;</a>  <a id="31618" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31620" href="Ledger.Utxo.Properties.html#7410" class="Generalizable">donations&#39;</a>  <a id="31632" href="Ledger.Prelude.html#2291" class="Function Operator">⟧</a>

    <a id="31639" class="Symbol">→</a> <a id="31641" href="Ledger.Utxo.Properties.html#27065" class="Function">noRefundCert</a> <a id="31654" href="Ledger.Transaction.html#2925" class="Function">txcerts</a> <a id="31662" class="Comment">-- FINAL ASSUMPTION --</a>

       <a id="31693" class="Comment">-------------------------------------------------------------------</a>
    <a id="31765" class="Symbol">→</a>  <a id="31768" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="31773" class="Symbol">(</a><a id="31774" href="Ledger.Utxo.html#12146" class="Function">consumed</a> <a id="31783" href="Ledger.Utxo.Properties.html#31343" class="Bound">pp</a> <a id="31786" href="Ledger.Utxo.Properties.html#7342" class="Generalizable">utxoState</a> <a id="31796" href="Ledger.Utxo.Properties.html#31307" class="Function">txb</a><a id="31799" class="Symbol">)</a> <a id="31801" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="31803" href="Data.List.Base.html#5044" class="Function">length</a> <a id="31810" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="31817" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="31819" href="Ledger.PParams.html#3236" class="Function">govActionDeposit</a>

  <a id="31839" href="Ledger.Utxo.Properties.html#31266" class="Function">gmsc</a> <a id="31844" href="Ledger.Utxo.Properties.html#31844" class="Bound">step</a><a id="31848" class="Symbol">@(</a><a id="31850" href="Ledger.Utxo.html#15269" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="31866" href="Ledger.Utxo.Properties.html#31866" class="Bound">tx</a> <a id="31869" href="Ledger.Utxo.Properties.html#31869" class="Bound">Γ</a> <a id="31871" href="Ledger.Utxo.Properties.html#31871" class="Bound">utxoState</a> <a id="31881" class="Symbol">_</a> <a id="31883" class="Symbol">_</a> <a id="31885" class="Symbol">_</a> <a id="31887" class="Symbol">_</a> <a id="31889" class="Symbol">_</a> <a id="31891" href="Ledger.Utxo.Properties.html#31891" class="Bound">c≡p</a> <a id="31895" href="Ledger.Utxo.Properties.html#31895" class="Bound">cmint≡0</a> <a id="31903" class="Symbol">_</a> <a id="31905" class="Symbol">_</a> <a id="31907" class="Symbol">_</a> <a id="31909" class="Symbol">_</a> <a id="31911" class="Symbol">_</a> <a id="31913" class="Symbol">_</a> <a id="31915" class="Symbol">_</a> <a id="31917" class="Symbol">_</a> <a id="31919" class="Symbol">_</a> <a id="31921" class="Symbol">_)</a> <a id="31924" href="Ledger.Utxo.Properties.html#31924" class="Bound">nrf</a> <a id="31928" class="Symbol">=</a>
    <a id="31934" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="31944" href="Data.List.Base.html#5044" class="Function">length</a> <a id="31951" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="31958" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="31960" href="Ledger.PParams.html#3236" class="Function">govActionDeposit</a>
      <a id="31983" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="31987" href="Ledger.Utxo.Properties.html#29128" class="Function">updatePropDeps≡</a> <a id="32003" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="32010" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32016" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32024" class="Symbol">(</a><a id="32025" href="Ledger.Utxo.html#8848" class="Function">updateProposalDeposits</a> <a id="32048" href="Ledger.Transaction.html#3023" class="Function">txprop</a> <a id="32055" href="Ledger.Transaction.html#3259" class="Function">txid</a> <a id="32060" href="Ledger.PParams.html#3236" class="Function">govActionDeposit</a> <a id="32077" href="Ledger.Utxo.Properties.html#33394" class="Function">deps</a><a id="32081" class="Symbol">)</a> <a id="32083" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="32085" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32093" href="Ledger.Utxo.Properties.html#33394" class="Function">deps</a>
      <a id="32104" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="32107" href="Data.Nat.Properties.html#47411" class="Function">∸-monoˡ-≤</a> <a id="32117" class="Symbol">(</a><a id="32118" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32126" href="Ledger.Utxo.Properties.html#33394" class="Function">deps</a><a id="32130" class="Symbol">)</a> <a id="32132" class="Symbol">(</a><a id="32133" href="Ledger.Utxo.Properties.html#30282" class="Function">≤updateCertDeps</a> <a id="32149" href="Ledger.Transaction.html#2925" class="Function">txcerts</a> <a id="32157" href="Ledger.Utxo.Properties.html#31924" class="Bound">nrf</a><a id="32160" class="Symbol">)</a> <a id="32162" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="32168" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32176" class="Symbol">(</a><a id="32177" href="Ledger.Utxo.html#9153" class="Function">updateDeposits</a> <a id="32192" href="Ledger.Utxo.Properties.html#33207" class="Function">pp</a> <a id="32195" href="Ledger.Utxo.Properties.html#33297" class="Function">txb</a> <a id="32199" href="Ledger.Utxo.Properties.html#33394" class="Function">deps</a><a id="32203" class="Symbol">)</a> <a id="32205" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="32207" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32215" href="Ledger.Utxo.Properties.html#33394" class="Function">deps</a>
      <a id="32226" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32229" href="Prelude.html#3321" class="Function">∸≡posPart⊖</a> <a id="32240" class="Symbol">{</a><a id="32241" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32249" class="Symbol">(</a><a id="32250" href="Ledger.Utxo.html#9153" class="Function">updateDeposits</a> <a id="32265" href="Ledger.Utxo.Properties.html#33207" class="Function">pp</a> <a id="32268" href="Ledger.Utxo.Properties.html#33297" class="Function">txb</a> <a id="32272" href="Ledger.Utxo.Properties.html#33394" class="Function">deps</a><a id="32276" class="Symbol">)}</a> <a id="32279" class="Symbol">{</a><a id="32280" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32288" href="Ledger.Utxo.Properties.html#33394" class="Function">deps</a><a id="32292" class="Symbol">}</a> <a id="32294" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32300" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a>
      <a id="32314" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="32317" href="Data.Nat.Properties.html#19261" class="Function">m≤n+m</a> <a id="32323" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a> <a id="32331" class="Symbol">(</a><a id="32332" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32337" href="Ledger.Utxo.Properties.html#33581" class="Function">balOut</a> <a id="32344" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32346" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="32352" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32354" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="32364" class="Symbol">)</a> <a id="32366" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="32372" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32377" href="Ledger.Utxo.Properties.html#33581" class="Function">balOut</a> <a id="32384" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32386" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="32392" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32394" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="32405" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32407" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a>
      <a id="32421" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32424" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="32432" class="Symbol">(</a><a id="32433" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32438" href="Ledger.Utxo.Properties.html#33581" class="Function">balOut</a> <a id="32445" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32447" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="32452" class="Symbol">)</a> <a id="32454" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="32465" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a> <a id="32473" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32479" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32484" href="Ledger.Utxo.Properties.html#33581" class="Function">balOut</a> <a id="32491" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32493" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="32499" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32501" class="Symbol">(</a><a id="32502" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="32513" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32515" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a><a id="32522" class="Symbol">)</a>
      <a id="32530" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32533" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32538" class="Symbol">(</a><a id="32539" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32544" href="Ledger.Utxo.Properties.html#33581" class="Function">balOut</a> <a id="32551" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32553" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="32559" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="32561" class="Symbol">)</a> <a id="32563" class="Symbol">(</a><a id="32564" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="32571" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="32582" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a><a id="32589" class="Symbol">)</a> <a id="32591" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32597" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32602" href="Ledger.Utxo.Properties.html#33581" class="Function">balOut</a> <a id="32609" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32611" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="32617" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32619" class="Symbol">(</a><a id="32620" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a> <a id="32628" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32630" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="32640" class="Symbol">)</a>
      <a id="32648" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32652" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="32660" class="Symbol">(</a><a id="32661" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32666" href="Ledger.Utxo.Properties.html#33581" class="Function">balOut</a> <a id="32673" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32675" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="32680" class="Symbol">)</a> <a id="32682" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a> <a id="32690" href="Ledger.Transaction.html#3063" class="Function">txdonation</a> <a id="32701" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32707" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32712" href="Ledger.Utxo.Properties.html#33581" class="Function">balOut</a> <a id="32719" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32721" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="32727" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32729" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a> <a id="32737" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32739" href="Ledger.Transaction.html#3063" class="Function">txdonation</a>
      <a id="32756" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32760" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32765" class="Symbol">(λ</a> <a id="32768" href="Ledger.Utxo.Properties.html#32768" class="Bound">x</a> <a id="32770" class="Symbol">→</a> <a id="32772" href="Ledger.Utxo.Properties.html#32768" class="Bound">x</a> <a id="32774" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32776" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a> <a id="32784" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32786" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="32796" class="Symbol">)</a> <a id="32798" href="Ledger.TokenAlgebra.html#1313" class="Function">coin-inject-lemma</a> <a id="32816" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32822" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32827" class="Symbol">(</a><a id="32828" href="Ledger.Utxo.Properties.html#33581" class="Function">balOut</a> <a id="32835" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32837" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="32844" href="Ledger.Transaction.html#2821" class="Function">txfee</a><a id="32849" class="Symbol">)</a> <a id="32851" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32853" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a> <a id="32861" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32863" href="Ledger.Transaction.html#3063" class="Function">txdonation</a>
      <a id="32880" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32884" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32889" class="Symbol">(</a><a id="32890" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="32893" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="32903" class="Symbol">)</a> <a id="32905" href="Ledger.TokenAlgebra.html#1313" class="Function">coin-inject-lemma</a> <a id="32923" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32929" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32934" class="Symbol">(</a><a id="32935" href="Ledger.Utxo.Properties.html#33581" class="Function">balOut</a> <a id="32942" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32944" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="32951" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="32957" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32959" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="32966" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a><a id="32973" class="Symbol">)</a> <a id="32975" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32977" href="Ledger.Transaction.html#3063" class="Function">txdonation</a>
      <a id="32994" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32998" href="Ledger.TokenAlgebra.html#1313" class="Function">coin-inject-lemma</a> <a id="33016" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="33022" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="33027" class="Symbol">(</a><a id="33028" href="Ledger.Utxo.Properties.html#33581" class="Function">balOut</a> <a id="33035" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33037" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33044" href="Ledger.Transaction.html#2821" class="Function">txfee</a> <a id="33050" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33052" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33059" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a> <a id="33067" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33069" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33076" href="Ledger.Transaction.html#3063" class="Function">txdonation</a><a id="33086" class="Symbol">)</a>
      <a id="33094" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="33098" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="33103" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="33108" href="Ledger.Utxo.Properties.html#31891" class="Bound">c≡p</a> <a id="33112" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="33118" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="33123" class="Symbol">(</a><a id="33124" href="Ledger.Utxo.Properties.html#33575" class="Function">balIn</a> <a id="33130" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33132" href="Ledger.Transaction.html#2849" class="Function">mint</a> <a id="33137" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33139" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33146" href="Ledger.Utxo.Properties.html#33432" class="Function">refunds</a> <a id="33154" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33156" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33163" href="Ledger.Utxo.Properties.html#33440" class="Function">wdrls</a><a id="33168" class="Symbol">)</a> <a id="33170" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="33176" class="Keyword">where</a>
    <a id="33186" class="Keyword">open</a> <a id="33191" href="Data.Nat.Properties.html#14692" class="Module">≤-Reasoning</a>
    <a id="33207" href="Ledger.Utxo.Properties.html#33207" class="Function">pp</a> <a id="33210" class="Symbol">:</a> <a id="33212" href="Ledger.PParams.html#1570" class="Record">PParams</a>
    <a id="33224" href="Ledger.Utxo.Properties.html#33207" class="Function">pp</a> <a id="33227" class="Symbol">=</a> <a id="33229" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="33245" href="Ledger.Utxo.Properties.html#31869" class="Bound">Γ</a><a id="33246" class="Symbol">;</a> <a id="33248" class="Keyword">open</a> <a id="33253" href="Ledger.PParams.html#1570" class="Module">PParams</a> <a id="33261" href="Ledger.Utxo.Properties.html#33207" class="Function">pp</a>
    <a id="33268" class="Keyword">open</a> <a id="33273" href="Ledger.Transaction.html#4234" class="Module">Tx</a> <a id="33276" href="Ledger.Utxo.Properties.html#31866" class="Bound">tx</a> <a id="33279" class="Keyword">renaming</a> <a id="33288" class="Symbol">(</a><a id="33289" href="Ledger.Transaction.html#4266" class="Field">body</a> <a id="33294" class="Symbol">to</a> <a id="33297" class="Field">txb</a><a id="33300" class="Symbol">);</a> <a id="33303" class="Keyword">open</a> <a id="33308" href="Ledger.Transaction.html#2691" class="Module">TxBody</a> <a id="33315" href="Ledger.Utxo.Properties.html#33297" class="Function">txb</a>
    <a id="33323" class="Keyword">open</a> <a id="33328" href="Ledger.Utxo.html#2561" class="Module">UTxOState</a> <a id="33338" href="Ledger.Utxo.Properties.html#31871" class="Bound">utxoState</a> <a id="33348" class="Keyword">renaming</a> <a id="33357" class="Symbol">(</a><a id="33358" href="Ledger.Utxo.html#2625" class="Field">utxo</a> <a id="33363" class="Symbol">to</a> <a id="33366" class="Field">st</a><a id="33368" class="Symbol">;</a> <a id="33370" href="Ledger.Utxo.html#2647" class="Field">fees</a> <a id="33375" class="Symbol">to</a> <a id="33378" class="Field">fs</a><a id="33380" class="Symbol">;</a> <a id="33382" href="Ledger.Utxo.html#2669" class="Field">deposits</a> <a id="33391" class="Symbol">to</a> <a id="33394" class="Field">deps</a><a id="33398" class="Symbol">;</a> <a id="33400" href="Ledger.Utxo.html#2695" class="Field">donations</a> <a id="33410" class="Symbol">to</a> <a id="33413" class="Field">dons</a><a id="33417" class="Symbol">)</a>

    <a id="33424" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a> <a id="33432" href="Ledger.Utxo.Properties.html#33432" class="Function">refunds</a> <a id="33440" href="Ledger.Utxo.Properties.html#33440" class="Function">wdrls</a> <a id="33446" class="Symbol">:</a> <a id="33448" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="33457" href="Ledger.Utxo.Properties.html#33424" class="Function">newDeps</a> <a id="33465" class="Symbol">=</a> <a id="33467" href="Ledger.Utxo.html#12020" class="Function">newDeposits</a> <a id="33479" href="Ledger.Utxo.Properties.html#33207" class="Function">pp</a> <a id="33482" href="Ledger.Utxo.Properties.html#31871" class="Bound">utxoState</a> <a id="33492" href="Ledger.Utxo.Properties.html#33297" class="Function">txb</a>
    <a id="33500" href="Ledger.Utxo.Properties.html#33432" class="Function">refunds</a> <a id="33508" class="Symbol">=</a> <a id="33510" href="Ledger.Utxo.html#11888" class="Function">depositRefunds</a> <a id="33525" href="Ledger.Utxo.Properties.html#33207" class="Function">pp</a> <a id="33528" href="Ledger.Utxo.Properties.html#31871" class="Bound">utxoState</a> <a id="33538" href="Ledger.Utxo.Properties.html#33297" class="Function">txb</a>
    <a id="33546" href="Ledger.Utxo.Properties.html#33440" class="Function">wdrls</a> <a id="33552" class="Symbol">=</a> <a id="33554" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="33562" href="Ledger.Transaction.html#2959" class="Function">txwdrls</a>

    <a id="33575" href="Ledger.Utxo.Properties.html#33575" class="Function">balIn</a> <a id="33581" href="Ledger.Utxo.Properties.html#33581" class="Function">balOut</a> <a id="33588" class="Symbol">:</a> <a id="33590" href="Ledger.TokenAlgebra.html#492" class="Function">Value</a>
    <a id="33600" href="Ledger.Utxo.Properties.html#33575" class="Function">balIn</a> <a id="33606" class="Symbol">=</a> <a id="33608" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="33616" class="Symbol">(</a><a id="33617" href="Ledger.Utxo.Properties.html#33366" class="Function">st</a> <a id="33620" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="33622" href="Ledger.Transaction.html#2727" class="Function">txins</a><a id="33627" class="Symbol">)</a>
    <a id="33633" href="Ledger.Utxo.Properties.html#33581" class="Function">balOut</a> <a id="33640" class="Symbol">=</a> <a id="33642" href="Ledger.Utxo.html#3410" class="Function">balance</a> <a id="33650" class="Symbol">(</a><a id="33651" href="Ledger.Utxo.html#3339" class="Function">outs</a> <a id="33656" href="Ledger.Utxo.Properties.html#33297" class="Function">txb</a><a id="33659" class="Symbol">)</a>

</pre></body></html>