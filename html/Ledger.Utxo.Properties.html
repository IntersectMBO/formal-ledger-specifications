<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Utxo.Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Algebra.Morphism.html" class="Module">Algebra.Morphism</a>            <a id="66" class="Keyword">using</a> <a id="72" class="Symbol">(</a><a id="73" class="Keyword">module</a> <a id="80" href="Algebra.Morphism.Structures.html#4053" class="Module">MonoidMorphisms</a><a id="95" class="Symbol">;</a> <a id="97" href="Algebra.Morphism.Structures.html#2757" class="Record">IsMagmaHomomorphism</a><a id="116" class="Symbol">)</a>
<a id="118" class="Keyword">import</a> <a id="125" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="134" class="Symbol">as</a> <a id="137" class="Module">ℕ</a>
<a id="139" class="Keyword">open</a> <a id="144" class="Keyword">import</a> <a id="151" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>         <a id="179" class="Keyword">hiding</a> <a id="186" class="Symbol">(</a><a id="187" href="Data.Nat.Properties.html#3874" class="Function Operator">_≟_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Product.html" class="Module">Data.Product</a>                <a id="232" class="Keyword">using</a> <a id="238" class="Symbol">(</a><a id="239" href="Data.Product.Base.html#5054" class="Function">swap</a><a id="243" class="Symbol">)</a>
<a id="245" class="Keyword">open</a> <a id="250" class="Keyword">import</a> <a id="257" href="Data.Sign.html" class="Module">Data.Sign</a>                   <a id="285" class="Keyword">using</a> <a id="291" class="Symbol">(</a><a id="292" href="Data.Sign.Base.html#523" class="Datatype">Sign</a><a id="296" class="Symbol">)</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="323" class="Symbol">as</a> <a id="326" class="Module">ℤ</a>           <a id="338" class="Keyword">using</a> <a id="344" class="Symbol">(</a><a id="345" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="346" class="Symbol">)</a>
<a id="348" class="Keyword">import</a> <a id="355" href="Data.Integer.Properties.html" class="Module">Data.Integer.Properties</a> <a id="379" class="Symbol">as</a> <a id="382" class="Module">ℤ</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Data.String.Base.html" class="Module">Data.String.Base</a>            <a id="424" class="Keyword">renaming</a> <a id="433" class="Symbol">(</a><a id="434" href="Data.String.Base.html#2425" class="Function Operator">_++_</a> <a id="439" class="Symbol">to</a> <a id="442" class="Function Operator">_+ˢ_</a><a id="446" class="Symbol">)</a> <a id="448" class="Keyword">using</a> <a id="454" class="Symbol">()</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Relation.Binary.html" class="Module">Relation.Binary</a>             <a id="497" class="Keyword">using</a> <a id="503" class="Symbol">(</a><a id="504" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a><a id="517" class="Symbol">)</a>

<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a>  <a id="562" class="Keyword">using</a> <a id="568" class="Symbol">(</a><a id="569" href="Data.List.Relation.Unary.All.html#1644" class="Datatype">All</a><a id="572" class="Symbol">)</a>
<a id="574" class="Keyword">open</a> <a id="579" class="Keyword">import</a> <a id="586" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>  <a id="616" class="Keyword">using</a> <a id="622" class="Symbol">(</a><a id="623" href="Data.List.Relation.Unary.Any.html#1148" class="Datatype">Any</a><a id="626" class="Symbol">);</a> <a id="629" class="Keyword">open</a> <a id="634" href="Data.List.Relation.Unary.Any.html#1148" class="Module">Any</a>

<a id="639" class="Keyword">open</a> <a id="644" class="Keyword">import</a> <a id="651" href="Prelude.html" class="Module">Prelude</a><a id="658" class="Symbol">;</a> <a id="660" class="Keyword">open</a> <a id="665" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="678" class="Keyword">open</a> <a id="683" class="Keyword">import</a> <a id="690" href="Tactic.Cong.html" class="Module">Tactic.Cong</a>                 <a id="718" class="Keyword">using</a> <a id="724" class="Symbol">(</a><a id="725" href="Tactic.Cong.html#9441" class="Function">cong!</a><a id="730" class="Symbol">)</a>
<a id="732" class="Keyword">open</a> <a id="737" class="Keyword">import</a> <a id="744" href="Tactic.Defaults.html" class="Module">Tactic.Defaults</a>
<a id="760" class="Keyword">open</a> <a id="765" class="Keyword">import</a> <a id="772" href="Tactic.EquationalReasoning.html" class="Module">Tactic.EquationalReasoning</a>  <a id="800" class="Keyword">using</a> <a id="806" class="Symbol">(</a><a id="807" class="Keyword">module</a> <a id="814" href="Tactic.EquationalReasoning.html#418" class="Module">≡-Reasoning</a><a id="825" class="Symbol">)</a>
<a id="827" class="Keyword">open</a> <a id="832" class="Keyword">import</a> <a id="839" href="Tactic.GenError.html" class="Module">Tactic.GenError</a>
<a id="855" class="Keyword">open</a> <a id="860" class="Keyword">import</a> <a id="867" href="Tactic.MonoidSolver.NonNormalising.html" class="Module">Tactic.MonoidSolver.NonNormalising</a> <a id="902" class="Keyword">using</a> <a id="908" class="Symbol">(</a><a id="909" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a><a id="920" class="Symbol">)</a>

<a id="923" class="Keyword">open</a> <a id="928" class="Keyword">import</a> <a id="935" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="950" class="Keyword">hiding</a> <a id="957" class="Symbol">(</a><a id="958" href="Class.HasOrder.Core.html#995" class="Function">≤-trans</a><a id="965" class="Symbol">;</a> <a id="967" href="Class.HasOrder.Core.html#1894" class="Field">≤-antisym</a><a id="976" class="Symbol">;</a> <a id="978" href="Axiom.Set.html#9724" class="Function">All</a><a id="981" class="Symbol">);</a> <a id="984" class="Keyword">open</a> <a id="989" href="abstract-set-theory.FiniteSetTheory.html#1716" class="Module">Properties</a>
<a id="1000" class="Keyword">open</a> <a id="1005" class="Keyword">import</a> <a id="1012" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>
<a id="1028" class="Keyword">open</a> <a id="1033" class="Keyword">import</a> <a id="1040" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="1059" class="Keyword">open</a> <a id="1064" class="Keyword">import</a> <a id="1071" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>

<a id="1104" class="Keyword">module</a> <a id="1111" href="Ledger.Utxo.Properties.html" class="Module">Ledger.Utxo.Properties</a>
  <a id="1136" class="Symbol">(</a><a id="1137" href="Ledger.Utxo.Properties.html#1137" class="Bound">txs</a> <a id="1141" class="Symbol">:</a> <a id="1143" class="Symbol">_)</a> <a id="1146" class="Symbol">(</a><a id="1147" class="Keyword">open</a> <a id="1152" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="1173" href="Ledger.Utxo.Properties.html#1137" class="Bound">txs</a><a id="1176" class="Symbol">)</a>
  <a id="1180" class="Symbol">(</a><a id="1181" href="Ledger.Utxo.Properties.html#1181" class="Bound">abs</a> <a id="1185" class="Symbol">:</a> <a id="1187" href="Ledger.Abstract.html#578" class="Record">AbstractFunctions</a> <a id="1205" href="Ledger.Utxo.Properties.html#1137" class="Bound">txs</a><a id="1208" class="Symbol">)</a> <a id="1210" class="Symbol">(</a><a id="1211" class="Keyword">open</a> <a id="1216" href="Ledger.Abstract.html#578" class="Module">AbstractFunctions</a> <a id="1234" href="Ledger.Utxo.Properties.html#1181" class="Bound">abs</a><a id="1237" class="Symbol">)</a>
  <a id="1241" class="Keyword">where</a>

<a id="1248" class="Keyword">open</a> <a id="1253" class="Keyword">import</a> <a id="1260" href="Ledger.Utxo.html" class="Module">Ledger.Utxo</a> <a id="1272" href="Ledger.Utxo.Properties.html#1137" class="Bound">txs</a> <a id="1276" href="Ledger.Utxo.Properties.html#1181" class="Bound">abs</a>
<a id="1280" class="Keyword">open</a> <a id="1285" class="Keyword">import</a> <a id="1292" href="Ledger.ScriptValidation.html" class="Module">Ledger.ScriptValidation</a> <a id="1316" href="Ledger.Utxo.Properties.html#1137" class="Bound">txs</a> <a id="1320" href="Ledger.Utxo.Properties.html#1181" class="Bound">abs</a>
<a id="1324" class="Keyword">open</a> <a id="1329" class="Keyword">import</a> <a id="1336" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="1349" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="1362" class="Keyword">open</a> <a id="1367" class="Keyword">import</a> <a id="1374" href="Algebra.Definitions.RawMagma.html" class="Module">Algebra.Definitions.RawMagma</a> <a id="1403" href="Data.Nat.Base.html#4468" class="Function">+-rawMagma</a> <a id="1414" class="Keyword">using</a> <a id="1420" class="Symbol">()</a> <a id="1423" class="Keyword">renaming</a> <a id="1432" class="Symbol">(</a><a id="1433" href="Algebra.Definitions.RawMagma.html#1419" class="InductiveConstructor Operator">_,_</a> <a id="1437" class="Symbol">to</a> <a id="1440" class="InductiveConstructor Operator">_,≤_</a><a id="1444" class="Symbol">)</a>

<a id="1447" class="Keyword">instance</a>
  <a id="1458" href="Ledger.Utxo.Properties.html#1458" class="Function">_</a> <a id="1460" class="Symbol">=</a> <a id="1462" href="Ledger.TokenAlgebra.html#510" class="Field">TokenAlgebra.Value-CommutativeMonoid</a> <a id="1499" href="Ledger.Transaction.html#1706" class="Field">tokenAlgebra</a>
  <a id="1514" href="Ledger.Utxo.Properties.html#1514" class="Function">_</a> <a id="1516" class="Symbol">=</a> <a id="1518" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a>
  <a id="1531" href="Ledger.Utxo.Properties.html#1531" class="Function">_</a> <a id="1533" class="Symbol">=</a> <a id="1535" href="Interface.ComputationalRelation.html#1365" class="Function">Functor-ComputationResult</a>

<a id="1562" class="Keyword">instance</a>
  <a id="Computational-UTXOS"></a><a id="1573" href="Ledger.Utxo.Properties.html#1573" class="Function">Computational-UTXOS</a> <a id="1593" class="Symbol">:</a> <a id="1595" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="1609" href="Ledger.Utxo.html#12309" class="Datatype Operator">_⊢_⇀⦇_,UTXOS⦈_</a> <a id="1624" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1633" href="Ledger.Utxo.Properties.html#1573" class="Function">Computational-UTXOS</a> <a id="1653" class="Symbol">=</a> <a id="1655" class="Keyword">record</a> <a id="1662" class="Symbol">{</a><a id="1663" href="Ledger.Utxo.Properties.html#1684" class="Module">go</a><a id="1665" class="Symbol">}</a> <a id="1667" class="Keyword">where</a>
    <a id="1677" class="Keyword">module</a> <a id="1684" href="Ledger.Utxo.Properties.html#1684" class="Module">go</a> <a id="1687" class="Symbol">(</a><a id="1688" href="Ledger.Utxo.Properties.html#1688" class="Bound">Γ</a> <a id="1690" class="Symbol">:</a> <a id="1692" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a><a id="1699" class="Symbol">)</a> <a id="1701" class="Symbol">(</a><a id="1702" href="Ledger.Utxo.Properties.html#1702" class="Bound">s</a> <a id="1704" class="Symbol">:</a> <a id="1706" href="Ledger.Utxo.html#2458" class="Record">UTxOState</a><a id="1715" class="Symbol">)</a> <a id="1717" class="Symbol">(</a><a id="1718" href="Ledger.Utxo.Properties.html#1718" class="Bound">tx</a> <a id="1721" class="Symbol">:</a> <a id="1723" href="Ledger.Transaction.html#3538" class="Record">Tx</a><a id="1725" class="Symbol">)</a>
      <a id="1733" class="Symbol">(</a><a id="1734" class="Keyword">let</a> <a id="1738" class="Keyword">open</a> <a id="1743" href="Ledger.Utxo.html#2458" class="Module">UTxOState</a> <a id="1753" href="Ledger.Utxo.Properties.html#1702" class="Bound">s</a><a id="1754" class="Symbol">)</a>
      <a id="1762" class="Symbol">(</a><a id="1763" class="Keyword">let</a> <a id="1767" href="Ledger.Utxo.Properties.html#1767" class="Bound">H-Yes</a> <a id="1773" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1775" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1777" href="Ledger.Utxo.Properties.html#1777" class="Bound">H-Yes?</a> <a id="1784" class="Symbol">=</a> <a id="1786" href="Ledger.Utxo.html#13371" class="Function">Scripts-Yes-premises</a> <a id="1807" class="Symbol">{</a><a id="1808" href="Ledger.Utxo.Properties.html#1688" class="Bound">Γ</a><a id="1809" class="Symbol">}</a> <a id="1811" class="Symbol">{</a><a id="1812" href="Ledger.Utxo.Properties.html#1718" class="Bound">tx</a><a id="1814" class="Symbol">}</a> <a id="1816" class="Symbol">{</a><a id="1817" href="Ledger.Utxo.html#2522" class="Function">utxo</a><a id="1821" class="Symbol">}</a> <a id="1823" class="Symbol">{</a><a id="1824" href="Ledger.Utxo.html#2566" class="Function">deposits</a><a id="1832" class="Symbol">})</a>
      <a id="1841" class="Symbol">(</a><a id="1842" class="Keyword">let</a> <a id="1846" href="Ledger.Utxo.Properties.html#1846" class="Bound">H-No</a>  <a id="1852" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1854" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1856" href="Ledger.Utxo.Properties.html#1856" class="Bound">H-No?</a>  <a id="1863" class="Symbol">=</a> <a id="1865" href="Ledger.Utxo.html#13459" class="Function">Scripts-No-premises</a>  <a id="1886" class="Symbol">{</a><a id="1887" href="Ledger.Utxo.Properties.html#1688" class="Bound">Γ</a><a id="1888" class="Symbol">}</a> <a id="1890" class="Symbol">{</a><a id="1891" href="Ledger.Utxo.Properties.html#1718" class="Bound">tx</a><a id="1893" class="Symbol">}</a> <a id="1895" class="Symbol">{</a><a id="1896" href="Ledger.Utxo.html#2522" class="Function">utxo</a><a id="1900" class="Symbol">})</a> <a id="1903" class="Keyword">where</a>
      <a id="1915" class="Keyword">open</a> <a id="1920" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="1923" href="Ledger.Utxo.Properties.html#1718" class="Bound">tx</a> <a id="1926" class="Keyword">renaming</a> <a id="1935" class="Symbol">(</a><a id="1936" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="1941" class="Symbol">to</a> <a id="1944" class="Field">txb</a><a id="1947" class="Symbol">);</a> <a id="1950" class="Keyword">open</a> <a id="1955" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="1962" href="Ledger.Utxo.Properties.html#1944" class="Field">txb</a>
      <a id="1972" class="Keyword">open</a> <a id="1977" href="Ledger.Utxo.html#2353" class="Module">UTxOEnv</a> <a id="1985" href="Ledger.Utxo.Properties.html#1688" class="Bound">Γ</a> <a id="1987" class="Keyword">renaming</a> <a id="1996" class="Symbol">(</a><a id="1997" href="Ledger.Utxo.html#2407" class="Field">pparams</a> <a id="2005" class="Symbol">to</a> <a id="2008" class="Field">pp</a><a id="2010" class="Symbol">)</a>
      <a id="2018" href="Ledger.Utxo.Properties.html#2018" class="Function">sLst</a> <a id="2023" class="Symbol">=</a> <a id="2025" href="Ledger.ScriptValidation.html#5863" class="Function">collectPhaseTwoScriptInputs</a> <a id="2053" href="Ledger.Utxo.Properties.html#2008" class="Function">pp</a> <a id="2056" href="Ledger.Utxo.Properties.html#1718" class="Bound">tx</a> <a id="2059" href="Ledger.Utxo.html#2522" class="Function">utxo</a>

      <a id="2071" href="Ledger.Utxo.Properties.html#2071" class="Function">computeProof</a> <a id="2084" class="Symbol">=</a>
        <a id="2094" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2099" href="Ledger.Utxo.Properties.html#1777" class="Bound">H-Yes?</a> <a id="2106" href="Data.Product.Base.html#1686" class="Function Operator">,′</a> <a id="2109" href="Ledger.Utxo.Properties.html#1856" class="Bound">H-No?</a> <a id="2115" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2118" class="Symbol">λ</a> <a id="2120" class="Keyword">where</a>
          <a id="2136" class="Symbol">(</a><a id="2137" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2141" href="Ledger.Utxo.Properties.html#2141" class="Bound">p</a> <a id="2143" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2145" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2148" class="Symbol">_</a> <a id="2150" class="Symbol">)</a> <a id="2152" class="Symbol">→</a> <a id="2154" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2162" class="Symbol">(_</a> <a id="2165" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2167" class="Symbol">(</a><a id="2168" href="Ledger.Utxo.html#12402" class="InductiveConstructor">Scripts-Yes</a> <a id="2180" href="Ledger.Utxo.Properties.html#2141" class="Bound">p</a><a id="2181" class="Symbol">))</a>
          <a id="2194" class="Symbol">(</a><a id="2195" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2198" class="Symbol">_</a>  <a id="2201" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2203" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2207" href="Ledger.Utxo.Properties.html#2207" class="Bound">p</a><a id="2208" class="Symbol">)</a> <a id="2210" class="Symbol">→</a> <a id="2212" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2220" class="Symbol">(_</a> <a id="2223" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2225" class="Symbol">(</a><a id="2226" href="Ledger.Utxo.html#12916" class="InductiveConstructor">Scripts-No</a> <a id="2237" href="Ledger.Utxo.Properties.html#2207" class="Bound">p</a><a id="2238" class="Symbol">))</a>
          <a id="2251" class="CatchallClause Symbol">(_</a><a id="2253" class="CatchallClause">     </a><a id="2258" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="2259" class="CatchallClause"> </a><a id="2260" class="CatchallClause Symbol">_</a><a id="2261" class="CatchallClause">    </a><a id="2265" class="CatchallClause Symbol">)</a> <a id="2267" class="Symbol">→</a> <a id="2269" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="2277" class="String">&quot;isValid check failed&quot;</a>

      <a id="2307" href="Ledger.Utxo.Properties.html#2307" class="Function">completeness</a> <a id="2320" class="Symbol">:</a> <a id="2322" class="Symbol">∀</a> <a id="2324" href="Ledger.Utxo.Properties.html#2324" class="Bound">s&#39;</a> <a id="2327" class="Symbol">→</a> <a id="2329" href="Ledger.Utxo.Properties.html#1688" class="Bound">Γ</a> <a id="2331" href="Ledger.Utxo.html#12309" class="Datatype Operator">⊢</a> <a id="2333" href="Ledger.Utxo.Properties.html#1702" class="Bound">s</a> <a id="2335" href="Ledger.Utxo.html#12309" class="Datatype Operator">⇀⦇</a> <a id="2338" href="Ledger.Utxo.Properties.html#1718" class="Bound">tx</a> <a id="2341" href="Ledger.Utxo.html#12309" class="Datatype Operator">,UTXOS⦈</a> <a id="2349" href="Ledger.Utxo.Properties.html#2324" class="Bound">s&#39;</a> <a id="2352" class="Symbol">→</a> <a id="2354" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2358" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2364" href="Ledger.Utxo.Properties.html#2071" class="Function">computeProof</a> <a id="2377" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2379" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2387" href="Ledger.Utxo.Properties.html#2324" class="Bound">s&#39;</a>
      <a id="2396" href="Ledger.Utxo.Properties.html#2307" class="Function">completeness</a> <a id="2409" class="Symbol">_</a> <a id="2411" class="Symbol">(</a><a id="2412" href="Ledger.Utxo.html#12402" class="InductiveConstructor">Scripts-Yes</a> <a id="2424" href="Ledger.Utxo.Properties.html#2424" class="Bound">p</a><a id="2425" class="Symbol">)</a> <a id="2427" class="Keyword">with</a> <a id="2432" href="Ledger.Utxo.Properties.html#1856" class="Bound">H-No?</a> <a id="2438" class="Symbol">|</a> <a id="2440" href="Ledger.Utxo.Properties.html#1777" class="Bound">H-Yes?</a>
      <a id="2453" class="Symbol">...</a> <a id="2457" class="Symbol">|</a> <a id="2459" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2463" class="Symbol">(_</a> <a id="2466" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2468" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2472" class="Symbol">)</a> <a id="2474" class="Symbol">|</a> <a id="2476" class="Symbol">_</a>     <a id="2482" class="Symbol">=</a> <a id="2484" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2489" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2495" class="Bound">p</a> <a id="2497" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2500" class="Symbol">λ</a> <a id="2502" class="Symbol">()</a>
      <a id="2511" class="Symbol">...</a> <a id="2515" class="Symbol">|</a> <a id="2517" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2520" class="Symbol">_</a>           <a id="2532" class="Symbol">|</a> <a id="2534" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2538" class="Symbol">_</a> <a id="2540" class="Symbol">=</a> <a id="2542" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2553" class="Symbol">...</a> <a id="2557" class="Symbol">|</a> <a id="2559" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2562" class="Symbol">_</a>           <a id="2574" class="Symbol">|</a> <a id="2576" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2579" href="Ledger.Utxo.Properties.html#2579" class="Bound">¬p</a> <a id="2582" class="Symbol">=</a> <a id="2584" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2589" href="Ledger.Utxo.Properties.html#2579" class="Bound">¬p</a> <a id="2592" class="Bound">p</a> <a id="2594" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2597" class="Symbol">λ</a> <a id="2599" class="Symbol">()</a>
      <a id="2608" href="Ledger.Utxo.Properties.html#2307" class="Function">completeness</a> <a id="2621" class="Symbol">_</a> <a id="2623" class="Symbol">(</a><a id="2624" href="Ledger.Utxo.html#12916" class="InductiveConstructor">Scripts-No</a> <a id="2635" href="Ledger.Utxo.Properties.html#2635" class="Bound">p</a><a id="2636" class="Symbol">)</a> <a id="2638" class="Keyword">with</a> <a id="2643" href="Ledger.Utxo.Properties.html#1777" class="Bound">H-Yes?</a> <a id="2650" class="Symbol">|</a> <a id="2652" href="Ledger.Utxo.Properties.html#1856" class="Bound">H-No?</a>
      <a id="2664" class="Symbol">...</a> <a id="2668" class="Symbol">|</a> <a id="2670" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2674" class="Symbol">(_</a> <a id="2677" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2679" class="Symbol">_</a> <a id="2681" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2683" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2687" class="Symbol">)</a> <a id="2689" class="Symbol">|</a> <a id="2691" class="Symbol">_</a>     <a id="2697" class="Symbol">=</a> <a id="2699" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2704" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2710" class="Bound">p</a> <a id="2712" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2715" class="Symbol">λ</a> <a id="2717" class="Symbol">()</a>
      <a id="2726" class="Symbol">...</a> <a id="2730" class="Symbol">|</a> <a id="2732" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2735" class="Symbol">_</a>               <a id="2751" class="Symbol">|</a> <a id="2753" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2757" class="Symbol">_</a> <a id="2759" class="Symbol">=</a> <a id="2761" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2772" class="Symbol">...</a> <a id="2776" class="Symbol">|</a> <a id="2778" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2781" class="Symbol">_</a>               <a id="2797" class="Symbol">|</a> <a id="2799" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2802" href="Ledger.Utxo.Properties.html#2802" class="Bound">¬p</a> <a id="2805" class="Symbol">=</a> <a id="2807" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2812" href="Ledger.Utxo.Properties.html#2802" class="Bound">¬p</a> <a id="2815" class="Bound">p</a> <a id="2817" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2820" class="Symbol">λ</a> <a id="2822" class="Symbol">()</a>

<a id="2826" class="Keyword">instance</a>
  <a id="Computational-UTXO&#39;"></a><a id="2837" href="Ledger.Utxo.Properties.html#2837" class="Function">Computational-UTXO&#39;</a> <a id="2857" class="Symbol">:</a> <a id="2859" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="2873" href="Ledger.Utxo.html#2766" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="2887" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="2896" href="Ledger.Utxo.Properties.html#2837" class="Function">Computational-UTXO&#39;</a> <a id="2916" class="Symbol">=</a> <a id="2918" class="Keyword">record</a> <a id="2925" class="Symbol">{</a><a id="2926" href="Ledger.Utxo.Properties.html#2953" class="Module">Go</a><a id="2928" class="Symbol">}</a>
    <a id="2934" class="Keyword">where</a>
      <a id="2946" class="Keyword">module</a> <a id="2953" href="Ledger.Utxo.Properties.html#2953" class="Module">Go</a> <a id="2956" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a> <a id="2958" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="2960" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a> <a id="2963" class="Symbol">(</a><a id="2964" class="Keyword">let</a> <a id="2968" href="Ledger.Utxo.Properties.html#2968" class="Bound">H</a> <a id="2970" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2972" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="2974" href="Ledger.Utxo.Properties.html#2974" class="Bound">H?</a> <a id="2977" class="Symbol">=</a> <a id="2979" href="Ledger.Utxo.html#15019" class="Function">UTXO-premises</a> <a id="2993" class="Symbol">{</a><a id="2994" class="Argument">Γ</a> <a id="2996" class="Symbol">=</a> <a id="2998" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a><a id="2999" class="Symbol">}</a> <a id="3001" class="Symbol">{</a><a id="3002" class="Argument">s</a> <a id="3004" class="Symbol">=</a> <a id="3006" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a><a id="3007" class="Symbol">}</a> <a id="3009" class="Symbol">{</a><a id="3010" class="Argument">tx</a> <a id="3013" class="Symbol">=</a> <a id="3015" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a><a id="3017" class="Symbol">})</a> <a id="3020" class="Keyword">where</a>

        <a id="3035" class="Keyword">open</a> <a id="3040" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="3054" href="Ledger.Utxo.Properties.html#1573" class="Function">Computational-UTXOS</a>
          <a id="3084" class="Keyword">renaming</a> <a id="3093" class="Symbol">(</a><a id="3094" href="Interface.ComputationalRelation.html#2879" class="Field">computeProof</a> <a id="3107" class="Symbol">to</a> <a id="3110" class="Field">computeProof&#39;</a><a id="3123" class="Symbol">;</a> <a id="3125" href="Interface.ComputationalRelation.html#3096" class="Field">completeness</a> <a id="3138" class="Symbol">to</a> <a id="3141" class="Field">completeness&#39;</a><a id="3154" class="Symbol">)</a>

        <a id="3165" href="Ledger.Utxo.Properties.html#3165" class="Function">genErr</a> <a id="3172" class="Symbol">:</a> <a id="3174" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="3176" href="Ledger.Utxo.Properties.html#2968" class="Bound">H</a> <a id="3178" class="Symbol">→</a> <a id="3180" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
        <a id="3195" href="Ledger.Utxo.Properties.html#3165" class="Function">genErr</a>  <a id="3203" href="Ledger.Utxo.Properties.html#3203" class="Bound">¬p</a> <a id="3206" class="Symbol">=</a> <a id="3208" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3213" href="Ledger.Prelude.html#1188" class="Function">dec-de-morgan</a> <a id="3227" href="Ledger.Utxo.Properties.html#3203" class="Bound">¬p</a> <a id="3230" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3233" class="Symbol">λ</a> <a id="3235" class="Keyword">where</a>
          <a id="3251" class="Symbol">(</a><a id="3252" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3257" href="Ledger.Utxo.Properties.html#3257" class="Bound">a</a><a id="3258" class="Symbol">)</a> <a id="3260" class="Symbol">→</a> <a id="3262" class="String">&quot;¬ TxBody.txins (Tx.body tx) ≢ ∅&quot;</a>
          <a id="3306" class="Symbol">(</a><a id="3307" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3312" href="Ledger.Utxo.Properties.html#3312" class="Bound">b</a><a id="3313" class="Symbol">)</a> <a id="3315" class="Symbol">→</a> <a id="3317" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3322" href="Ledger.Prelude.html#1188" class="Function">dec-de-morgan</a> <a id="3336" href="Ledger.Utxo.Properties.html#3312" class="Bound">b</a> <a id="3338" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3341" class="Symbol">λ</a> <a id="3343" class="Keyword">where</a>
            <a id="3361" class="Symbol">(</a><a id="3362" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3367" href="Ledger.Utxo.Properties.html#3367" class="Bound">a₁</a><a id="3369" class="Symbol">)</a> <a id="3371" class="Symbol">→</a> <a id="3373" class="String">&quot;¬ TxBody.txins (Tx.body tx) ⊆ dom (UTxOState.utxo s)&quot;</a>
            <a id="3440" class="Symbol">(</a><a id="3441" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3446" href="Ledger.Utxo.Properties.html#3446" class="Bound">b₁</a><a id="3448" class="Symbol">)</a> <a id="3450" class="Symbol">→</a> <a id="3452" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3457" href="Ledger.Prelude.html#1188" class="Function">dec-de-morgan</a> <a id="3471" href="Ledger.Utxo.Properties.html#3446" class="Bound">b₁</a> <a id="3474" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3477" class="Symbol">λ</a> <a id="3479" class="Keyword">where</a>
                <a id="3501" class="Symbol">(</a><a id="3502" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3507" href="Ledger.Utxo.Properties.html#3507" class="Bound">a₁&#39;</a><a id="3510" class="Symbol">)</a> <a id="3512" class="Symbol">→</a> <a id="3514" class="String">&quot;¬ refInputs ⊆ dom utxo &quot;</a>
                <a id="3556" class="Symbol">(</a><a id="3557" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3562" href="Ledger.Utxo.Properties.html#3562" class="Bound">b₂&#39;</a><a id="3565" class="Symbol">)</a> <a id="3567" class="Symbol">→</a> <a id="3569" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3574" href="Ledger.Prelude.html#1188" class="Function">dec-de-morgan</a> <a id="3588" href="Ledger.Utxo.Properties.html#3562" class="Bound">b₂&#39;</a> <a id="3592" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3595" class="Symbol">λ</a> <a id="3597" class="Keyword">where</a>
                  <a id="3621" class="Symbol">(</a><a id="3622" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3627" href="Ledger.Utxo.Properties.html#3627" class="Bound">a₂</a><a id="3629" class="Symbol">)</a> <a id="3631" class="Symbol">→</a> <a id="3633" class="String">&quot;¬ inInterval (UTxOEnv.slot Γ) (txvldt (Tx.body tx))&quot;</a>
                  <a id="3705" class="Symbol">(</a><a id="3706" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3711" href="Ledger.Utxo.Properties.html#3711" class="Bound">b₂</a><a id="3713" class="Symbol">)</a> <a id="3715" class="Symbol">→</a> <a id="3717" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3722" href="Ledger.Prelude.html#1188" class="Function">dec-de-morgan</a> <a id="3736" href="Ledger.Utxo.Properties.html#3711" class="Bound">b₂</a> <a id="3739" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3742" class="Symbol">λ</a> <a id="3744" class="Keyword">where</a>
                    <a id="3770" class="Symbol">(</a><a id="3771" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3776" href="Ledger.Utxo.Properties.html#3776" class="Bound">a₃</a><a id="3778" class="Symbol">)</a> <a id="3780" class="Symbol">→</a> <a id="3782" class="String">&quot;¬ feesOK pp tx utxo&quot;</a>
                    <a id="3824" class="Symbol">(</a><a id="3825" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3830" href="Ledger.Utxo.Properties.html#3830" class="Bound">b₃</a><a id="3832" class="Symbol">)</a> <a id="3834" class="Symbol">→</a> <a id="3836" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3841" href="Ledger.Prelude.html#1188" class="Function">dec-de-morgan</a> <a id="3855" href="Ledger.Utxo.Properties.html#3830" class="Bound">b₃</a> <a id="3858" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3861" class="Symbol">λ</a> <a id="3863" class="Keyword">where</a>
                        <a id="3893" class="Symbol">(</a><a id="3894" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3899" href="Ledger.Utxo.Properties.html#3899" class="Bound">a₄</a><a id="3901" class="Symbol">)</a> <a id="3903" class="Symbol">→</a>
                          <a id="3931" class="Keyword">let</a>
                            <a id="3963" href="Ledger.Utxo.Properties.html#3963" class="Bound">pp</a> <a id="3966" class="Symbol">=</a> <a id="3968" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="3984" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a>
                            <a id="4014" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a> <a id="4018" class="Symbol">=</a> <a id="4020" href="Ledger.Transaction.html#3570" class="Field">Tx.body</a> <a id="4028" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a>
                            <a id="4059" href="Ledger.Utxo.Properties.html#4059" class="Bound">con</a> <a id="4063" class="Symbol">=</a> <a id="4065" href="Ledger.Utxo.html#11706" class="Function">consumed</a> <a id="4074" href="Ledger.Utxo.Properties.html#3963" class="Bound">pp</a> <a id="4077" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="4079" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a>
                            <a id="4111" href="Ledger.Utxo.Properties.html#4111" class="Bound">prod</a> <a id="4116" class="Symbol">=</a> <a id="4118" href="Ledger.Utxo.html#11914" class="Function">produced</a> <a id="4127" href="Ledger.Utxo.Properties.html#3963" class="Bound">pp</a> <a id="4130" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="4132" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a>
                            <a id="4164" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4174" class="Symbol">=</a> <a id="4176" href="Class.Show.Core.html#187" class="Field">show</a> <a id="4181" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4183" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a>
                          <a id="4214" class="Keyword">in</a>
                            <a id="4245" class="Symbol">(</a> <a id="4247" class="String">&quot;¬consumed (UTxOEnv.pparams Γ) s (Tx.body tx) ≡ produced (UTxOEnv.pparams Γ) s (Tx.body tx)&quot;</a>
                            <a id="4368" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4371" class="String">&quot;\n  consumed =\t\t&quot;</a> <a id="4392" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4395" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4405" href="Ledger.Utxo.Properties.html#4059" class="Bound">con</a>
                            <a id="4437" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4440" class="String">&quot;\n    ins  =\t\t&quot;</a> <a id="4459" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4462" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4472" class="Symbol">(</a><a id="4473" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="4481" class="Symbol">(</a><a id="4482" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="4484" class="Symbol">.</a><a id="4485" href="Ledger.Utxo.html#2522" class="Field">UTxOState.utxo</a> <a id="4500" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="4502" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a> <a id="4506" class="Symbol">.</a><a id="4507" href="Ledger.Transaction.html#2620" class="Field">TxBody.txins</a><a id="4519" class="Symbol">))</a>
                            <a id="4550" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4553" class="String">&quot;\n    mint =\t\t&quot;</a> <a id="4572" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4575" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4585" class="Symbol">(</a><a id="4586" href="Ledger.Transaction.html#2742" class="Field">TxBody.mint</a> <a id="4598" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a><a id="4601" class="Symbol">)</a>
                            <a id="4631" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4634" class="String">&quot;\n    depositRefunds =\t&quot;</a> <a id="4661" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4664" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4674" class="Symbol">(</a><a id="4675" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="4682" class="Symbol">(</a><a id="4683" href="Ledger.Utxo.html#11448" class="Function">depositRefunds</a> <a id="4698" href="Ledger.Utxo.Properties.html#3963" class="Bound">pp</a> <a id="4701" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="4703" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a><a id="4706" class="Symbol">))</a>
                            <a id="4737" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4740" class="String">&quot;\n  produced =\t\t&quot;</a> <a id="4761" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4764" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4774" href="Ledger.Utxo.Properties.html#4111" class="Bound">prod</a>
                            <a id="4807" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4810" class="String">&quot;\n    outs =\t\t&quot;</a> <a id="4829" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4832" href="Ledger.Utxo.Properties.html#4164" class="Bound">showValue</a> <a id="4842" class="Symbol">(</a><a id="4843" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="4851" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4853" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="4858" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a><a id="4861" class="Symbol">)</a>
                            <a id="4891" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4894" class="String">&quot;\n    fee  =\t\t&quot;</a> <a id="4913" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4916" href="Class.Show.Core.html#187" class="Field">show</a> <a id="4921" class="Symbol">(</a><a id="4922" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a> <a id="4926" class="Symbol">.</a><a id="4927" href="Ledger.Transaction.html#2714" class="Field">TxBody.txfee</a><a id="4939" class="Symbol">)</a>
                            <a id="4969" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="4972" class="String">&quot;\n    newDeposits  =\t&quot;</a> <a id="4997" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5000" href="Class.Show.Core.html#187" class="Field">show</a> <a id="5005" class="Symbol">(</a><a id="5006" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="5018" href="Ledger.Utxo.Properties.html#3963" class="Bound">pp</a> <a id="5021" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="5023" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a><a id="5026" class="Symbol">)</a>
                            <a id="5056" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5059" class="String">&quot;\n    donation  =\t\t&quot;</a> <a id="5083" href="Ledger.Utxo.Properties.html#442" class="Function Operator">+ˢ</a> <a id="5086" href="Class.Show.Core.html#187" class="Field">show</a> <a id="5091" class="Symbol">(</a><a id="5092" href="Ledger.Utxo.Properties.html#4014" class="Bound">txb</a> <a id="5096" class="Symbol">.</a><a id="5097" href="Ledger.Transaction.html#2956" class="Field">TxBody.txdonation</a><a id="5114" class="Symbol">)</a>
                            <a id="5144" class="Symbol">)</a>
                        <a id="5170" class="Symbol">(</a><a id="5171" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5176" href="Ledger.Utxo.Properties.html#5176" class="Bound">b₄</a><a id="5178" class="Symbol">)</a> <a id="5180" class="Symbol">→</a> <a id="5182" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5187" href="Ledger.Prelude.html#1188" class="Function">dec-de-morgan</a> <a id="5201" href="Ledger.Utxo.Properties.html#5176" class="Bound">b₄</a> <a id="5204" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5207" class="Symbol">λ</a> <a id="5209" class="Keyword">where</a>
                          <a id="5241" class="Symbol">(</a><a id="5242" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5247" href="Ledger.Utxo.Properties.html#5247" class="Bound">a₅</a><a id="5249" class="Symbol">)</a> <a id="5251" class="Symbol">→</a> <a id="5253" class="String">&quot;¬ coin (TxBody.mint (Tx.body tx)) ≡ 0&quot;</a>
                          <a id="5319" class="Symbol">(</a><a id="5320" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5325" href="Ledger.Utxo.Properties.html#5325" class="Bound">b₅</a><a id="5327" class="Symbol">)</a> <a id="5329" class="Symbol">→</a> <a id="5331" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5336" href="Ledger.Prelude.html#1188" class="Function">dec-de-morgan</a> <a id="5350" href="Ledger.Utxo.Properties.html#5325" class="Bound">b₅</a> <a id="5353" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5356" class="Symbol">λ</a> <a id="5358" class="Keyword">where</a>
                              <a id="5394" class="Symbol">(</a><a id="5395" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5400" href="Ledger.Utxo.Properties.html#5400" class="Bound">a₆</a><a id="5402" class="Symbol">)</a> <a id="5404" class="Symbol">→</a> <a id="5406" class="String">&quot;¬(TxBody.txsize (Tx.body tx) Data.Nat.Base.≤ maxTxSize (UTxOEnv.pparams Γ))&quot;</a>
                              <a id="5514" class="Symbol">(</a><a id="5515" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5520" href="Ledger.Utxo.Properties.html#5520" class="Bound">b₆</a><a id="5522" class="Symbol">)</a> <a id="5524" class="Symbol">→</a> <a id="5526" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5531" href="Ledger.Prelude.html#1188" class="Function">dec-de-morgan</a> <a id="5545" href="Ledger.Utxo.Properties.html#5520" class="Bound">b₆</a> <a id="5548" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5551" class="Symbol">λ</a> <a id="5553" class="Keyword">where</a>
                                <a id="5591" class="Symbol">(</a><a id="5592" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5597" href="Ledger.Utxo.Properties.html#5597" class="Bound">a₇</a><a id="5599" class="Symbol">)</a> <a id="5601" class="Symbol">→</a> <a id="5603" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] inject (utxoEntrySize txout * coinsPerUTxOByte pp) ≤ᵗ getValue txout&quot;</a>
                                <a id="5739" class="Symbol">(</a><a id="5740" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5745" href="Ledger.Utxo.Properties.html#5745" class="Bound">b₇</a><a id="5747" class="Symbol">)</a> <a id="5749" class="Symbol">→</a> <a id="5751" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5756" href="Ledger.Prelude.html#1188" class="Function">dec-de-morgan</a> <a id="5770" href="Ledger.Utxo.Properties.html#5745" class="Bound">b₇</a> <a id="5773" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5776" class="Symbol">λ</a> <a id="5778" class="Keyword">where</a>
                                    <a id="5820" class="Symbol">(</a><a id="5821" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5826" href="Ledger.Utxo.Properties.html#5826" class="Bound">a₈</a><a id="5828" class="Symbol">)</a> <a id="5830" class="Symbol">→</a> <a id="5832" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] serSize (getValue txout) ≤ maxValSize pp&quot;</a>
                                    <a id="5944" class="Symbol">(</a><a id="5945" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5950" href="Ledger.Utxo.Properties.html#5950" class="Bound">b₈</a><a id="5952" class="Symbol">)</a> <a id="5954" class="Symbol">→</a> <a id="5956" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5961" href="Ledger.Prelude.html#1188" class="Function">dec-de-morgan</a> <a id="5975" href="Ledger.Utxo.Properties.html#5950" class="Bound">b₈</a> <a id="5978" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5981" class="Symbol">λ</a> <a id="5983" class="Keyword">where</a>
                                      <a id="6027" class="Symbol">(</a><a id="6028" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6033" href="Ledger.Utxo.Properties.html#6033" class="Bound">a₉</a><a id="6035" class="Symbol">)</a> <a id="6037" class="Symbol">→</a> <a id="6039" class="String">&quot;∀[ (a , _) ∈ range txouts ] Sum.All (const ⊤) (λ a → a .BootstrapAddr.attrsSize ≤ 64) a&quot;</a>
                                      <a id="6167" class="Symbol">(</a><a id="6168" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6173" class="Symbol">_)</a> <a id="6176" class="Symbol">→</a> <a id="6178" class="String">&quot;something else broke&quot;</a>

        <a id="6210" href="Ledger.Utxo.Properties.html#6210" class="Function">computeProofH</a> <a id="6224" class="Symbol">:</a> <a id="6226" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="6230" href="Ledger.Utxo.Properties.html#2968" class="Bound">H</a> <a id="6232" class="Symbol">→</a> <a id="6234" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6252" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6259" class="Symbol">(</a><a id="6260" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6263" href="Ledger.Utxo.Properties.html#6263" class="Bound">s&#39;</a> <a id="6266" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6268" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a> <a id="6270" href="Ledger.Utxo.html#2766" class="Datatype Operator">⊢</a> <a id="6272" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="6274" href="Ledger.Utxo.html#2766" class="Datatype Operator">⇀⦇</a> <a id="6277" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a> <a id="6280" href="Ledger.Utxo.html#2766" class="Datatype Operator">,UTXO⦈</a> <a id="6287" href="Ledger.Utxo.Properties.html#6263" class="Bound">s&#39;</a><a id="6289" class="Symbol">)</a>
        <a id="6299" href="Ledger.Utxo.Properties.html#6210" class="Function">computeProofH</a> <a id="6313" class="Symbol">(</a><a id="6314" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6318" class="Symbol">(</a><a id="6319" href="Ledger.Utxo.Properties.html#6319" class="Bound">x</a> <a id="6321" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6323" href="Ledger.Utxo.Properties.html#6323" class="Bound">y</a> <a id="6325" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6327" href="Ledger.Utxo.Properties.html#6327" class="Bound">z</a> <a id="6329" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6331" href="Ledger.Utxo.Properties.html#6331" class="Bound">e</a> <a id="6333" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6335" href="Ledger.Utxo.Properties.html#6335" class="Bound">k</a> <a id="6337" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6339" href="Ledger.Utxo.Properties.html#6339" class="Bound">l</a> <a id="6341" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6343" href="Ledger.Utxo.Properties.html#6343" class="Bound">m</a> <a id="6345" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6347" href="Ledger.Utxo.Properties.html#6347" class="Bound">v</a> <a id="6349" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6351" href="Ledger.Utxo.Properties.html#6351" class="Bound">j</a> <a id="6353" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6355" href="Ledger.Utxo.Properties.html#6355" class="Bound">n</a> <a id="6357" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6359" href="Ledger.Utxo.Properties.html#6359" class="Bound">o</a> <a id="6361" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6363" href="Ledger.Utxo.Properties.html#6363" class="Bound">p</a> <a id="6365" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6367" href="Ledger.Utxo.Properties.html#6367" class="Bound">q</a> <a id="6369" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6371" href="Ledger.Utxo.Properties.html#6371" class="Bound">r</a> <a id="6373" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6375" href="Ledger.Utxo.Properties.html#6375" class="Bound">t</a> <a id="6377" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6379" href="Ledger.Utxo.Properties.html#6379" class="Bound">u</a><a id="6380" class="Symbol">))</a> <a id="6383" class="Symbol">=</a>
            <a id="6397" href="Class.Bifunctor.html#615" class="Function">map₂′</a> <a id="6403" class="Symbol">(</a><a id="6404" href="Ledger.Utxo.html#14837" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6420" class="Symbol">_</a> <a id="6422" class="Symbol">_</a> <a id="6424" class="Symbol">_</a> <a id="6426" href="Ledger.Utxo.Properties.html#6319" class="Bound">x</a> <a id="6428" href="Ledger.Utxo.Properties.html#6323" class="Bound">y</a> <a id="6430" href="Ledger.Utxo.Properties.html#6327" class="Bound">z</a> <a id="6432" href="Ledger.Utxo.Properties.html#6331" class="Bound">e</a> <a id="6434" href="Ledger.Utxo.Properties.html#6335" class="Bound">k</a> <a id="6436" href="Ledger.Utxo.Properties.html#6339" class="Bound">l</a> <a id="6438" href="Ledger.Utxo.Properties.html#6343" class="Bound">m</a> <a id="6440" href="Ledger.Utxo.Properties.html#6347" class="Bound">v</a> <a id="6442" href="Ledger.Utxo.Properties.html#6351" class="Bound">j</a> <a id="6444" href="Ledger.Utxo.Properties.html#6355" class="Bound">n</a> <a id="6446" href="Ledger.Utxo.Properties.html#6359" class="Bound">o</a> <a id="6448" href="Ledger.Utxo.Properties.html#6363" class="Bound">p</a> <a id="6450" href="Ledger.Utxo.Properties.html#6367" class="Bound">q</a> <a id="6452" href="Ledger.Utxo.Properties.html#6371" class="Bound">r</a> <a id="6454" href="Ledger.Utxo.Properties.html#6375" class="Bound">t</a> <a id="6456" href="Ledger.Utxo.Properties.html#6379" class="Bound">u</a><a id="6457" class="Symbol">)</a> <a id="6459" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="6463" href="Ledger.Utxo.Properties.html#3110" class="Function">computeProof&#39;</a> <a id="6477" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a> <a id="6479" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="6481" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a>
        <a id="6492" href="Ledger.Utxo.Properties.html#6210" class="Function">computeProofH</a> <a id="6506" class="Symbol">(</a><a id="6507" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6510" href="Ledger.Utxo.Properties.html#6510" class="Bound">¬p</a><a id="6512" class="Symbol">)</a> <a id="6514" class="Symbol">=</a> <a id="6516" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="6524" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6526" href="Ledger.Utxo.Properties.html#3165" class="Function">genErr</a> <a id="6533" href="Ledger.Utxo.Properties.html#6510" class="Bound">¬p</a>

        <a id="6545" href="Ledger.Utxo.Properties.html#6545" class="Function">computeProof</a> <a id="6558" class="Symbol">:</a> <a id="6560" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6578" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6585" class="Symbol">(</a><a id="6586" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6589" href="Ledger.Utxo.Properties.html#6589" class="Bound">s&#39;</a> <a id="6592" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6594" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a> <a id="6596" href="Ledger.Utxo.html#2766" class="Datatype Operator">⊢</a> <a id="6598" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="6600" href="Ledger.Utxo.html#2766" class="Datatype Operator">⇀⦇</a> <a id="6603" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a> <a id="6606" href="Ledger.Utxo.html#2766" class="Datatype Operator">,UTXO⦈</a> <a id="6613" href="Ledger.Utxo.Properties.html#6589" class="Bound">s&#39;</a><a id="6615" class="Symbol">)</a>
        <a id="6625" href="Ledger.Utxo.Properties.html#6545" class="Function">computeProof</a> <a id="6638" class="Symbol">=</a> <a id="6640" href="Ledger.Utxo.Properties.html#6210" class="Function">computeProofH</a> <a id="6654" href="Ledger.Utxo.Properties.html#2974" class="Bound">H?</a>

        <a id="6666" href="Ledger.Utxo.Properties.html#6666" class="Function">completeness</a> <a id="6679" class="Symbol">:</a> <a id="6681" class="Symbol">∀</a> <a id="6683" href="Ledger.Utxo.Properties.html#6683" class="Bound">s&#39;</a> <a id="6686" class="Symbol">→</a> <a id="6688" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a> <a id="6690" href="Ledger.Utxo.html#2766" class="Datatype Operator">⊢</a> <a id="6692" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="6694" href="Ledger.Utxo.html#2766" class="Datatype Operator">⇀⦇</a> <a id="6697" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a> <a id="6700" href="Ledger.Utxo.html#2766" class="Datatype Operator">,UTXO⦈</a> <a id="6707" href="Ledger.Utxo.Properties.html#6683" class="Bound">s&#39;</a> <a id="6710" class="Symbol">→</a> <a id="6712" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="6716" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6722" href="Ledger.Utxo.Properties.html#6545" class="Function">computeProof</a> <a id="6735" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6737" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="6745" href="Ledger.Utxo.Properties.html#6683" class="Bound">s&#39;</a>
        <a id="6756" href="Ledger.Utxo.Properties.html#6666" class="Function">completeness</a> <a id="6769" href="Ledger.Utxo.Properties.html#6769" class="Bound">s&#39;</a> <a id="6772" class="Symbol">(</a><a id="6773" href="Ledger.Utxo.html#14837" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6789" class="Symbol">_</a> <a id="6791" class="Symbol">_</a> <a id="6793" class="Symbol">_</a> <a id="6795" href="Ledger.Utxo.Properties.html#6795" class="Bound">x</a> <a id="6797" href="Ledger.Utxo.Properties.html#6797" class="Bound">y</a> <a id="6799" href="Ledger.Utxo.Properties.html#6799" class="Bound">z</a> <a id="6801" href="Ledger.Utxo.Properties.html#6801" class="Bound">w</a> <a id="6803" href="Ledger.Utxo.Properties.html#6803" class="Bound">k</a> <a id="6805" href="Ledger.Utxo.Properties.html#6805" class="Bound">l</a> <a id="6807" href="Ledger.Utxo.Properties.html#6807" class="Bound">m</a> <a id="6809" href="Ledger.Utxo.Properties.html#6809" class="Bound">v</a> <a id="6811" href="Ledger.Utxo.Properties.html#6811" class="Bound">j</a> <a id="6813" href="Ledger.Utxo.Properties.html#6813" class="Bound">n</a> <a id="6815" href="Ledger.Utxo.Properties.html#6815" class="Bound">o</a> <a id="6817" href="Ledger.Utxo.Properties.html#6817" class="Bound">p</a> <a id="6819" href="Ledger.Utxo.Properties.html#6819" class="Bound">q</a> <a id="6821" href="Ledger.Utxo.Properties.html#6821" class="Bound">r</a> <a id="6823" href="Ledger.Utxo.Properties.html#6823" class="Bound">t</a> <a id="6825" href="Ledger.Utxo.Properties.html#6825" class="Bound">u</a> <a id="6827" href="Ledger.Utxo.Properties.html#6827" class="Bound">h</a><a id="6828" class="Symbol">)</a> <a id="6830" class="Keyword">with</a> <a id="6835" href="Ledger.Utxo.Properties.html#2974" class="Bound">H?</a>
        <a id="6846" class="Symbol">...</a> <a id="6850" class="Symbol">|</a> <a id="6852" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6855" href="Ledger.Utxo.Properties.html#6855" class="Bound">¬p</a> <a id="6858" class="Symbol">=</a> <a id="6860" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="6867" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6869" href="Ledger.Utxo.Properties.html#6855" class="Bound">¬p</a> <a id="6872" class="Symbol">(</a><a id="6873" class="Bound">x</a> <a id="6875" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6877" class="Bound">y</a> <a id="6879" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6881" class="Bound">z</a> <a id="6883" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6885" class="Bound">w</a> <a id="6887" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6889" class="Bound">k</a> <a id="6891" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6893" class="Bound">l</a> <a id="6895" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6897" class="Bound">m</a> <a id="6899" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6901" class="Bound">v</a> <a id="6903" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6905" class="Bound">j</a> <a id="6907" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6909" class="Bound">n</a> <a id="6911" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6913" class="Bound">o</a> <a id="6915" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6917" class="Bound">p</a> <a id="6919" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6921" class="Bound">q</a> <a id="6923" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6925" class="Bound">r</a> <a id="6927" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6929" class="Bound">t</a> <a id="6931" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6933" class="Bound">u</a><a id="6934" class="Symbol">)</a>
        <a id="6944" class="Symbol">...</a> <a id="6948" class="Symbol">|</a> <a id="6950" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6954" class="Symbol">_</a> <a id="6956" class="Keyword">with</a> <a id="6961" href="Ledger.Utxo.Properties.html#3110" class="Function">computeProof&#39;</a> <a id="6975" href="Ledger.Utxo.Properties.html#2956" class="Bound">Γ</a> <a id="6977" href="Ledger.Utxo.Properties.html#2958" class="Bound">s</a> <a id="6979" href="Ledger.Utxo.Properties.html#2960" class="Bound">tx</a> <a id="6982" class="Symbol">|</a> <a id="6984" href="Ledger.Utxo.Properties.html#3141" class="Function">completeness&#39;</a> <a id="6998" class="Symbol">_</a> <a id="7000" class="Symbol">_</a> <a id="7002" class="Symbol">_</a> <a id="7004" class="Symbol">_</a> <a id="7006" class="Bound">h</a>
        <a id="7016" class="Symbol">...</a> <a id="7020" class="Symbol">|</a> <a id="7022" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="7030" class="Symbol">_</a> <a id="7032" class="Symbol">|</a> <a id="7034" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7039" class="Symbol">=</a> <a id="7041" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="7047" class="Keyword">open</a> <a id="7052" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="7066" class="Symbol">⦃...⦄</a>

<a id="7073" class="Keyword">opaque</a>
  <a id="7082" class="Keyword">unfolding</a> <a id="7092" href="abstract-set-theory.FiniteSetTheory.html#240" class="Function">List-Model</a>
  <a id="Computational-UTXO"></a><a id="7105" href="Ledger.Utxo.Properties.html#7105" class="Function">Computational-UTXO</a> <a id="7124" class="Symbol">:</a> <a id="7126" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="7140" href="Ledger.Utxo.html#2766" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="7154" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="7163" href="Ledger.Utxo.Properties.html#7105" class="Function">Computational-UTXO</a> <a id="7182" class="Symbol">=</a> <a id="7184" href="Ledger.Utxo.Properties.html#2837" class="Function">Computational-UTXO&#39;</a>

<a id="7205" class="Keyword">private</a> <a id="7213" class="Keyword">variable</a>
  <a id="7224" href="Ledger.Utxo.Properties.html#7224" class="Generalizable">tx</a>                               <a id="7257" class="Symbol">:</a> <a id="7259" href="Ledger.Transaction.html#3538" class="Record">Tx</a>
  <a id="7264" href="Ledger.Utxo.Properties.html#7264" class="Generalizable">utxo</a> <a id="7269" href="Ledger.Utxo.Properties.html#7269" class="Generalizable">utxo&#39;</a>                       <a id="7297" class="Symbol">:</a> <a id="7299" href="Ledger.Transaction.html#2402" class="Function">UTxO</a>
  <a id="7306" href="Ledger.Utxo.Properties.html#7306" class="Generalizable">Γ</a>                                <a id="7339" class="Symbol">:</a> <a id="7341" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a>
  <a id="7351" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a> <a id="7361" href="Ledger.Utxo.Properties.html#7361" class="Generalizable">utxoState&#39;</a>             <a id="7384" class="Symbol">:</a> <a id="7386" href="Ledger.Utxo.html#2458" class="Record">UTxOState</a>
  <a id="7398" href="Ledger.Utxo.Properties.html#7398" class="Generalizable">fees</a> <a id="7403" href="Ledger.Utxo.Properties.html#7403" class="Generalizable">fees&#39;</a> <a id="7409" href="Ledger.Utxo.Properties.html#7409" class="Generalizable">donations</a> <a id="7419" href="Ledger.Utxo.Properties.html#7419" class="Generalizable">donations&#39;</a>  <a id="7431" class="Symbol">:</a> <a id="7433" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="7440" href="Ledger.Utxo.Properties.html#7440" class="Generalizable">deposits</a> <a id="7449" href="Ledger.Utxo.Properties.html#7449" class="Generalizable">deposits&#39;</a>               <a id="7473" class="Symbol">:</a> <a id="7475" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="7490" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="7492" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>

<a id="7498" class="Keyword">open</a> <a id="7503" href="Algebra.Morphism.Structures.html#4393" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>
<a id="7540" class="Keyword">private</a>
  <a id="∙-homo-Coin"></a><a id="7550" href="Ledger.Utxo.Properties.html#7550" class="Function">∙-homo-Coin</a> <a id="7562" class="Symbol">=</a> <a id="7564" href="Algebra.Morphism.Structures.html#2891" class="Field">IsMagmaHomomorphism.homo</a> <a id="7589" class="Symbol">(</a><a id="7590" href="Algebra.Morphism.Structures.html#4470" class="Field">isMagmaHomomorphism</a> <a id="7610" href="Ledger.TokenAlgebra.html#1112" class="Function">coinIsMonoidHomomorphism</a><a id="7634" class="Symbol">)</a>

<a id="7637" class="Keyword">opaque</a>
  <a id="7646" class="Keyword">unfolding</a> <a id="7656" href="Ledger.Utxo.html#2970" class="Function">balance</a>
  <a id="balance-cong"></a><a id="7666" href="Ledger.Utxo.Properties.html#7666" class="Function">balance-cong</a> <a id="7679" class="Symbol">:</a> <a id="7681" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7687" href="Ledger.Utxo.Properties.html#7264" class="Generalizable">utxo</a> <a id="7692" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="7695" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7701" href="Ledger.Utxo.Properties.html#7269" class="Generalizable">utxo&#39;</a> <a id="7707" class="Symbol">→</a> <a id="7709" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="7717" href="Ledger.Utxo.Properties.html#7264" class="Generalizable">utxo</a> <a id="7722" href="Algebra.Bundles.html#8008" class="Function Operator">≈</a> <a id="7724" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="7732" href="Ledger.Utxo.Properties.html#7269" class="Generalizable">utxo&#39;</a>
  <a id="7740" href="Ledger.Utxo.Properties.html#7666" class="Function">balance-cong</a> <a id="7753" class="Symbol">{</a><a id="7754" href="Ledger.Utxo.Properties.html#7754" class="Bound">utxo</a><a id="7758" class="Symbol">}</a> <a id="7760" class="Symbol">{</a><a id="7761" href="Ledger.Utxo.Properties.html#7761" class="Bound">utxo&#39;</a><a id="7766" class="Symbol">}</a> <a id="7768" href="Ledger.Utxo.Properties.html#7768" class="Bound">eq</a> <a id="7771" class="Symbol">=</a> <a id="7773" href="Axiom.Set.Sum.html#4667" class="Function">indexedSumᵐ-cong</a> <a id="7790" class="Symbol">{</a><a id="7791" class="Argument">M</a> <a id="7793" class="Symbol">=</a> <a id="7795" href="Ledger.TokenAlgebra.html#492" class="Function">Value</a><a id="7800" class="Symbol">}</a> <a id="7802" class="Symbol">{</a><a id="7803" class="Argument">x</a> <a id="7805" class="Symbol">=</a> <a id="7807" class="Symbol">(</a><a id="7808" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7818" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="7828" href="Ledger.Utxo.Properties.html#7754" class="Bound">utxo</a><a id="7832" class="Symbol">)</a> <a id="7834" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="7836" class="Symbol">}</a> <a id="7838" class="Symbol">{(</a><a id="7840" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7850" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="7860" href="Ledger.Utxo.Properties.html#7761" class="Bound">utxo&#39;</a><a id="7865" class="Symbol">)</a> <a id="7867" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="7869" class="Symbol">}</a> <a id="7871" class="Symbol">(</a><a id="7872" href="Axiom.Set.Properties.html#5411" class="Function">map-≡ᵉ</a> <a id="7879" href="Ledger.Utxo.Properties.html#7768" class="Bound">eq</a><a id="7881" class="Symbol">)</a>

  <a id="balance-cong-coin"></a><a id="7886" href="Ledger.Utxo.Properties.html#7886" class="Function">balance-cong-coin</a> <a id="7904" class="Symbol">:</a> <a id="7906" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7912" href="Ledger.Utxo.Properties.html#7264" class="Generalizable">utxo</a> <a id="7917" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="7920" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7926" href="Ledger.Utxo.Properties.html#7269" class="Generalizable">utxo&#39;</a> <a id="7932" class="Symbol">→</a> <a id="7934" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="7943" href="Ledger.Utxo.Properties.html#7264" class="Generalizable">utxo</a> <a id="7948" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7950" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="7959" href="Ledger.Utxo.Properties.html#7269" class="Generalizable">utxo&#39;</a>
  <a id="7967" href="Ledger.Utxo.Properties.html#7886" class="Function">balance-cong-coin</a> <a id="7985" class="Symbol">{</a><a id="7986" href="Ledger.Utxo.Properties.html#7986" class="Bound">utxo</a><a id="7990" class="Symbol">}</a> <a id="7992" class="Symbol">{</a><a id="7993" href="Ledger.Utxo.Properties.html#7993" class="Bound">utxo&#39;</a><a id="7998" class="Symbol">}</a> <a id="8000" href="Ledger.Utxo.Properties.html#8000" class="Bound">x</a> <a id="8002" class="Symbol">=</a>
    <a id="8008" href="Ledger.TokenAlgebra.html#1112" class="Function">coinIsMonoidHomomorphism</a> <a id="8033" class="Symbol">.</a><a id="8034" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8042" class="Symbol">(</a><a id="8043" href="Ledger.Utxo.Properties.html#7666" class="Function">balance-cong</a> <a id="8056" class="Symbol">{</a><a id="8057" href="Ledger.Utxo.Properties.html#7986" class="Bound">utxo</a><a id="8061" class="Symbol">}</a> <a id="8063" class="Symbol">{</a><a id="8064" href="Ledger.Utxo.Properties.html#7993" class="Bound">utxo&#39;</a><a id="8069" class="Symbol">}</a> <a id="8071" href="Ledger.Utxo.Properties.html#8000" class="Bound">x</a><a id="8072" class="Symbol">)</a>
    <a id="8078" class="Keyword">where</a> <a id="8084" class="Keyword">open</a> <a id="8089" href="Algebra.Morphism.Structures.html#4393" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>

  <a id="balance-∪"></a><a id="8129" href="Ledger.Utxo.Properties.html#8129" class="Function">balance-∪</a> <a id="8139" class="Symbol">:</a> <a id="8141" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="8150" class="Symbol">(</a><a id="8151" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8155" href="Ledger.Utxo.Properties.html#7264" class="Generalizable">utxo</a><a id="8159" class="Symbol">)</a> <a id="8161" class="Symbol">(</a><a id="8162" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8166" href="Ledger.Utxo.Properties.html#7269" class="Generalizable">utxo&#39;</a><a id="8171" class="Symbol">)</a>
                       <a id="8196" class="Symbol">→</a> <a id="8198" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="8207" class="Symbol">(</a><a id="8208" href="Ledger.Utxo.Properties.html#7264" class="Generalizable">utxo</a> <a id="8213" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8216" href="Ledger.Utxo.Properties.html#7269" class="Generalizable">utxo&#39;</a><a id="8221" class="Symbol">)</a> <a id="8223" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8225" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="8234" href="Ledger.Utxo.Properties.html#7264" class="Generalizable">utxo</a> <a id="8239" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8241" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="8250" href="Ledger.Utxo.Properties.html#7269" class="Generalizable">utxo&#39;</a>
  <a id="8258" href="Ledger.Utxo.Properties.html#8129" class="Function">balance-∪</a> <a id="8268" class="Symbol">{</a><a id="8269" href="Ledger.Utxo.Properties.html#8269" class="Bound">utxo</a><a id="8273" class="Symbol">}</a> <a id="8275" class="Symbol">{</a><a id="8276" href="Ledger.Utxo.Properties.html#8276" class="Bound">utxo&#39;</a><a id="8281" class="Symbol">}</a> <a id="8283" href="Ledger.Utxo.Properties.html#8283" class="Bound">h</a> <a id="8285" class="Symbol">=</a> <a id="8287" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="8297" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="8306" class="Symbol">(</a><a id="8307" href="Ledger.Utxo.Properties.html#8269" class="Bound">utxo</a> <a id="8312" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8315" href="Ledger.Utxo.Properties.html#8276" class="Bound">utxo&#39;</a><a id="8320" class="Symbol">)</a>
      <a id="8328" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8331" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8339" href="Ledger.TokenAlgebra.html#1112" class="Function">coinIsMonoidHomomorphism</a>
      <a id="8370" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8372" href="Axiom.Set.Sum.html#4667" class="Function">indexedSumᵐ-cong</a> <a id="8389" class="Symbol">{</a><a id="8390" class="Argument">f</a> <a id="8392" class="Symbol">=</a> <a id="8394" href="Ledger.Transaction.html#3895" class="Function">getValueʰ</a> <a id="8404" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="8406" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="8411" class="Symbol">}</a> <a id="8413" class="Symbol">{</a><a id="8414" class="Argument">x</a> <a id="8416" class="Symbol">=</a> <a id="8418" class="Symbol">(</a><a id="8419" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8429" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8439" class="Symbol">(</a><a id="8440" href="Ledger.Utxo.Properties.html#8269" class="Bound">utxo</a> <a id="8445" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8448" href="Ledger.Utxo.Properties.html#8276" class="Bound">utxo&#39;</a><a id="8453" class="Symbol">))</a> <a id="8456" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8458" class="Symbol">}</a> <a id="8460" class="Symbol">{((</a><a id="8463" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8473" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8483" href="Ledger.Utxo.Properties.html#8269" class="Bound">utxo</a><a id="8487" class="Symbol">)</a> <a id="8489" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8491" class="Symbol">)</a> <a id="8493" href="Axiom.Set.Sum.html#5189" class="Function Operator">∪ˡᶠ</a> <a id="8497" class="Symbol">((</a><a id="8499" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8509" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8519" href="Ledger.Utxo.Properties.html#8276" class="Bound">utxo&#39;</a><a id="8524" class="Symbol">)</a> <a id="8526" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8528" class="Symbol">)}</a> <a id="8531" class="Symbol">(</a><a id="8532" href="Axiom.Set.Map.html#7309" class="Function">disjoint-∪ˡ-mapValues</a> <a id="8554" class="Symbol">{</a><a id="8555" class="Argument">M</a> <a id="8557" class="Symbol">=</a> <a id="8559" href="Ledger.Utxo.Properties.html#8269" class="Bound">utxo</a><a id="8563" class="Symbol">}</a> <a id="8565" class="Symbol">{</a><a id="8566" href="Ledger.Utxo.Properties.html#8276" class="Bound">utxo&#39;</a><a id="8571" class="Symbol">}</a> <a id="8573" class="Symbol">_</a> <a id="8575" href="Ledger.Utxo.Properties.html#8283" class="Bound">h</a><a id="8576" class="Symbol">)</a>
      <a id="8584" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8590" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="8595" class="Symbol">(</a><a id="8596" href="Axiom.Set.Sum.html#4466" class="Function">indexedSumᵐ</a> <a id="8608" class="Symbol">_</a> <a id="8610" class="Symbol">(((</a><a id="8613" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8623" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8633" href="Ledger.Utxo.Properties.html#8269" class="Bound">utxo</a><a id="8637" class="Symbol">)</a> <a id="8639" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8641" class="Symbol">)</a> <a id="8643" href="Axiom.Set.Sum.html#5189" class="Function Operator">∪ˡᶠ</a> <a id="8647" class="Symbol">((</a><a id="8649" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8659" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8669" href="Ledger.Utxo.Properties.html#8276" class="Bound">utxo&#39;</a><a id="8674" class="Symbol">)</a> <a id="8676" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8678" class="Symbol">)))</a>
      <a id="8688" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8691" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8699" href="Ledger.TokenAlgebra.html#1112" class="Function">coinIsMonoidHomomorphism</a>
       <a id="8731" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8733" href="Axiom.Set.Sum.html#5347" class="Function">indexedSumᵐ-∪</a> <a id="8747" class="Symbol">{</a><a id="8748" class="Argument">M</a> <a id="8750" class="Symbol">=</a> <a id="8752" href="Ledger.TokenAlgebra.html#492" class="Function">Value</a><a id="8757" class="Symbol">}</a> <a id="8759" class="Symbol">{</a><a id="8760" class="Argument">X</a> <a id="8762" class="Symbol">=</a> <a id="8764" class="Symbol">(</a><a id="8765" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8775" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8785" href="Ledger.Utxo.Properties.html#8269" class="Bound">utxo</a><a id="8789" class="Symbol">)</a> <a id="8791" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8793" class="Symbol">}</a> <a id="8795" class="Symbol">{(</a><a id="8797" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8807" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8817" href="Ledger.Utxo.Properties.html#8276" class="Bound">utxo&#39;</a><a id="8822" class="Symbol">)</a> <a id="8824" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8826" class="Symbol">}</a>
       <a id="8835" class="Symbol">(λ</a> <a id="8838" href="Ledger.Utxo.Properties.html#8838" class="Bound">x</a> <a id="8840" href="Ledger.Utxo.Properties.html#8840" class="Bound">x₁</a> <a id="8843" class="Symbol">→</a> <a id="8845" href="Ledger.Utxo.Properties.html#8283" class="Bound">h</a> <a id="8847" class="Symbol">(</a><a id="8848" href="Axiom.Set.Rel.html#4590" class="Function">dom-mapʳ⊆</a> <a id="8858" href="Ledger.Utxo.Properties.html#8838" class="Bound">x</a><a id="8859" class="Symbol">)</a> <a id="8861" class="Symbol">(</a><a id="8862" href="Axiom.Set.Rel.html#4590" class="Function">dom-mapʳ⊆</a> <a id="8872" href="Ledger.Utxo.Properties.html#8840" class="Bound">x₁</a><a id="8874" class="Symbol">))</a>
       <a id="8884" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8890" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="8895" class="Symbol">(</a><a id="8896" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="8904" href="Ledger.Utxo.Properties.html#8269" class="Bound">utxo</a> <a id="8909" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8911" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="8919" href="Ledger.Utxo.Properties.html#8276" class="Bound">utxo&#39;</a><a id="8924" class="Symbol">)</a>
      <a id="8932" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8935" href="Ledger.Utxo.Properties.html#7550" class="Function">∙-homo-Coin</a> <a id="8947" class="Symbol">_</a> <a id="8949" class="Symbol">_</a> <a id="8951" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8957" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="8966" href="Ledger.Utxo.Properties.html#8269" class="Bound">utxo</a> <a id="8971" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="8973" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="8982" href="Ledger.Utxo.Properties.html#8276" class="Bound">utxo&#39;</a>
      <a id="8994" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="9000" class="Keyword">where</a> <a id="9006" class="Keyword">open</a> <a id="9011" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="9050" class="Symbol">{</a><a id="9051" class="Argument">A</a> <a id="9053" class="Symbol">=</a> <a id="9055" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="9056" class="Symbol">}</a> <a id="9058" class="Symbol">(</a><a id="9059" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a> <a id="9071" class="Symbol">(</a><a id="9072" class="Keyword">quoteTerm</a> <a id="9082" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="9092" class="Symbol">))</a>

<a id="9096" class="Keyword">module</a> <a id="9103" href="Ledger.Utxo.Properties.html#9103" class="Module">_</a> <a id="9105" class="Symbol">{</a><a id="9106" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a> <a id="9110" class="Symbol">:</a> <a id="9112" class="Symbol">_}</a> <a id="9115" class="Symbol">(</a><a id="9116" class="Keyword">open</a> <a id="9121" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="9128" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="9131" class="Symbol">)</a> <a id="9133" class="Keyword">where</a> <a id="9139" class="Keyword">opaque</a>
  <a id="9148" class="Keyword">unfolding</a> <a id="9158" href="Ledger.Utxo.html#2899" class="Function">outs</a>
  <a id="9165" class="Keyword">open</a> <a id="9170" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="9209" class="Symbol">{</a><a id="9210" class="Argument">A</a> <a id="9212" class="Symbol">=</a> <a id="9214" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="9215" class="Symbol">}</a> <a id="9217" class="Symbol">(</a><a id="9218" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a> <a id="9230" class="Symbol">(</a><a id="9231" class="Keyword">quoteTerm</a> <a id="9241" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="9251" class="Symbol">))</a>

  <a id="9257" href="Ledger.Utxo.Properties.html#9257" class="Function">newTxid⇒disj</a> <a id="9270" class="Symbol">:</a> <a id="9272" href="Ledger.Transaction.html#3152" class="Field">txid</a> <a id="9277" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="9279" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9284" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9290" class="Symbol">(</a><a id="9291" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9295" href="Ledger.Utxo.Properties.html#7264" class="Generalizable">utxo</a><a id="9299" class="Symbol">)</a>
              <a id="9315" class="Symbol">→</a> <a id="9317" href="Axiom.Set.html#9583" class="Function">disjoint&#39;</a> <a id="9327" class="Symbol">(</a><a id="9328" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9332" href="Ledger.Utxo.Properties.html#7264" class="Generalizable">utxo</a><a id="9336" class="Symbol">)</a> <a id="9338" class="Symbol">(</a><a id="9339" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9343" class="Symbol">(</a><a id="9344" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="9349" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="9352" class="Symbol">))</a>
  <a id="9357" href="Ledger.Utxo.Properties.html#9257" class="Function">newTxid⇒disj</a> <a id="9370" href="Ledger.Utxo.Properties.html#9370" class="Bound">id∉utxo</a> <a id="9378" class="Symbol">=</a> <a id="9380" href="Axiom.Set.Properties.html#13484" class="Function">disjoint⇒disjoint&#39;</a> <a id="9399" class="Symbol">λ</a> <a id="9401" href="Ledger.Utxo.Properties.html#9401" class="Bound">h</a> <a id="9403" href="Ledger.Utxo.Properties.html#9403" class="Bound">h&#39;</a> <a id="9406" class="Symbol">→</a> <a id="9408" href="Ledger.Utxo.Properties.html#9370" class="Bound">id∉utxo</a> <a id="9416" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9418" href="Function.Bundles.html#4810" class="Field">to</a> <a id="9421" href="Axiom.Set.html#5140" class="Function">∈-map</a>
    <a id="9431" class="Symbol">(</a><a id="9432" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="9435" class="Symbol">(</a><a id="9436" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9441" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9446" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="9452" href="Ledger.Utxo.Properties.html#9403" class="Bound">h&#39;</a> <a id="9455" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9458" class="Symbol">λ</a> <a id="9460" class="Keyword">where</a>
          <a id="9476" class="Symbol">(_</a> <a id="9479" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9481" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9486" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9488" href="Ledger.Utxo.Properties.html#9488" class="Bound">h&#39;&#39;</a><a id="9491" class="Symbol">)</a> <a id="9493" class="Symbol">→</a> <a id="9495" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9500" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9505" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="9511" href="Ledger.Utxo.Properties.html#9488" class="Bound">h&#39;&#39;</a> <a id="9515" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9518" class="Symbol">λ</a> <a id="9520" class="Keyword">where</a> <a id="9526" class="Symbol">(_</a> <a id="9529" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9531" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9536" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9538" class="Symbol">_)</a> <a id="9541" class="Symbol">→</a> <a id="9543" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9547" class="Symbol">)</a> <a id="9549" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9551" href="Ledger.Utxo.Properties.html#9401" class="Bound">h</a><a id="9552" class="Symbol">)</a>

  <a id="9557" href="Ledger.Utxo.Properties.html#9557" class="Function">consumedCoinEquality</a> <a id="9578" class="Symbol">:</a> <a id="9580" class="Symbol">∀</a> <a id="9582" class="Symbol">{</a><a id="9583" href="Ledger.Utxo.Properties.html#9583" class="Bound">pp</a><a id="9585" class="Symbol">}</a>
    <a id="9591" class="Symbol">→</a> <a id="9593" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="9598" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="9603" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9605" class="Number">0</a>
    <a id="9611" class="Symbol">→</a> <a id="9613" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="9618" class="Symbol">(</a><a id="9619" href="Ledger.Utxo.html#11706" class="Function">consumed</a> <a id="9628" href="Ledger.Utxo.Properties.html#9583" class="Bound">pp</a> <a id="9631" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a> <a id="9641" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="9644" class="Symbol">)</a>
    <a id="9650" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9652" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="9661" class="Symbol">((</a><a id="9663" href="Ledger.Utxo.html#2522" class="Field">UTxOState.utxo</a> <a id="9678" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a><a id="9687" class="Symbol">)</a> <a id="9689" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9691" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="9696" class="Symbol">)</a> <a id="9698" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9700" href="Ledger.Utxo.html#11448" class="Function">depositRefunds</a> <a id="9715" href="Ledger.Utxo.Properties.html#9583" class="Bound">pp</a> <a id="9718" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a> <a id="9728" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a> <a id="9732" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9734" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="9742" href="Ledger.Transaction.html#2852" class="Field">txwdrls</a>
  <a id="9752" href="Ledger.Utxo.Properties.html#9557" class="Function">consumedCoinEquality</a> <a id="9773" class="Symbol">{</a><a id="9774" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxoState</a><a id="9783" class="Symbol">}</a> <a id="9785" class="Symbol">{</a><a id="9786" href="Ledger.Utxo.Properties.html#9786" class="Bound">pp</a><a id="9788" class="Symbol">}</a> <a id="9790" href="Ledger.Utxo.Properties.html#9790" class="Bound">h</a> <a id="9792" class="Symbol">=</a>
    <a id="9798" class="Keyword">let</a>  <a id="9803" href="Ledger.Utxo.Properties.html#9803" class="Bound">utxo</a> <a id="9808" class="Symbol">=</a> <a id="9810" href="Ledger.Utxo.html#2522" class="Field">UTxOState.utxo</a> <a id="9825" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxoState</a>
         <a id="9844" href="Ledger.Utxo.Properties.html#9844" class="Bound">dRefs</a> <a id="9850" class="Symbol">=</a> <a id="9852" href="Ledger.Utxo.html#11448" class="Function">depositRefunds</a> <a id="9867" href="Ledger.Utxo.Properties.html#9786" class="Bound">pp</a> <a id="9870" href="Ledger.Utxo.Properties.html#9774" class="Bound">utxoState</a> <a id="9880" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a>
         <a id="9893" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a> <a id="9899" class="Symbol">=</a> <a id="9901" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="9909" href="Ledger.Transaction.html#2852" class="Field">txwdrls</a>
    <a id="9921" class="Keyword">in</a> <a id="9924" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="9934" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="9939" class="Symbol">(</a><a id="9940" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="9948" class="Symbol">(</a><a id="9949" href="Ledger.Utxo.Properties.html#9803" class="Bound">utxo</a> <a id="9954" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9956" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="9961" class="Symbol">)</a> <a id="9963" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9965" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="9970" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9972" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="9979" href="Ledger.Utxo.Properties.html#9844" class="Bound">dRefs</a> <a id="9985" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9987" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="9994" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a><a id="9999" class="Symbol">)</a>
      <a id="10007" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10010" href="Ledger.Utxo.Properties.html#7550" class="Function">∙-homo-Coin</a> <a id="10022" class="Symbol">_</a> <a id="10024" class="Symbol">_</a> <a id="10026" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10032" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10037" class="Symbol">(</a><a id="10038" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="10046" class="Symbol">(</a><a id="10047" href="Ledger.Utxo.Properties.html#9803" class="Bound">utxo</a> <a id="10052" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10054" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10059" class="Symbol">)</a> <a id="10061" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10063" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="10068" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10070" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10077" href="Ledger.Utxo.Properties.html#9844" class="Bound">dRefs</a><a id="10082" class="Symbol">)</a> <a id="10084" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10086" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10091" class="Symbol">(</a><a id="10092" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10099" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10101" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a><a id="10106" class="Symbol">)</a>
      <a id="10114" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10117" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10122" class="Symbol">(</a><a id="10123" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10128" class="Symbol">(</a><a id="10129" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="10137" class="Symbol">(</a><a id="10138" href="Ledger.Utxo.Properties.html#9803" class="Bound">utxo</a> <a id="10143" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10145" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10150" class="Symbol">)</a> <a id="10152" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10154" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="10159" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10161" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10168" href="Ledger.Utxo.Properties.html#9844" class="Bound">dRefs</a><a id="10173" class="Symbol">)</a> <a id="10175" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="10177" class="Symbol">)</a> <a id="10179" class="Symbol">(</a><a id="10180" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="10195" class="Symbol">_)</a> <a id="10198" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10204" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10209" class="Symbol">(</a><a id="10210" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="10218" class="Symbol">(</a><a id="10219" href="Ledger.Utxo.Properties.html#9803" class="Bound">utxo</a> <a id="10224" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10226" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10231" class="Symbol">)</a> <a id="10233" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10235" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="10240" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10242" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10249" href="Ledger.Utxo.Properties.html#9844" class="Bound">dRefs</a><a id="10254" class="Symbol">)</a> <a id="10256" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10258" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a>
      <a id="10270" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10273" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10278" class="Symbol">(</a><a id="10279" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="10282" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a><a id="10287" class="Symbol">)</a> <a id="10289" class="Symbol">(</a><a id="10290" href="Ledger.Utxo.Properties.html#7550" class="Function">∙-homo-Coin</a> <a id="10302" class="Symbol">_</a> <a id="10304" class="Symbol">_)</a> <a id="10307" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10313" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10318" class="Symbol">(</a><a id="10319" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="10327" class="Symbol">(</a><a id="10328" href="Ledger.Utxo.Properties.html#9803" class="Bound">utxo</a> <a id="10333" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10335" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10340" class="Symbol">)</a> <a id="10342" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10344" href="Ledger.Transaction.html#2742" class="Field">mint</a><a id="10348" class="Symbol">)</a> <a id="10350" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10352" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10357" class="Symbol">(</a><a id="10358" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10365" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10367" href="Ledger.Utxo.Properties.html#9844" class="Bound">dRefs</a><a id="10372" class="Symbol">)</a> <a id="10374" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10376" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a>
      <a id="10388" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10391" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10396" class="Symbol">(λ</a> <a id="10399" href="Ledger.Utxo.Properties.html#10399" class="Bound">u</a> <a id="10401" class="Symbol">→</a> <a id="10403" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10408" class="Symbol">(</a><a id="10409" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="10417" class="Symbol">(</a><a id="10418" href="Ledger.Utxo.Properties.html#9803" class="Bound">utxo</a> <a id="10423" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10425" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10430" class="Symbol">)</a> <a id="10432" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10434" href="Ledger.Transaction.html#2742" class="Field">mint</a><a id="10438" class="Symbol">)</a> <a id="10440" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10442" href="Ledger.Utxo.Properties.html#10399" class="Bound">u</a> <a id="10444" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10446" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a><a id="10451" class="Symbol">)</a> <a id="10453" class="Symbol">(</a><a id="10454" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="10469" class="Symbol">_)</a> <a id="10472" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10478" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10483" class="Symbol">(</a><a id="10484" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="10492" class="Symbol">(</a><a id="10493" href="Ledger.Utxo.Properties.html#9803" class="Bound">utxo</a> <a id="10498" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10500" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10505" class="Symbol">)</a> <a id="10507" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10509" href="Ledger.Transaction.html#2742" class="Field">mint</a><a id="10513" class="Symbol">)</a> <a id="10515" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10517" href="Ledger.Utxo.Properties.html#9844" class="Bound">dRefs</a> <a id="10523" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10525" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a>
      <a id="10537" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10540" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10545" class="Symbol">(λ</a> <a id="10548" href="Ledger.Utxo.Properties.html#10548" class="Bound">u</a> <a id="10550" class="Symbol">→</a> <a id="10552" href="Ledger.Utxo.Properties.html#10548" class="Bound">u</a> <a id="10554" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10556" href="Ledger.Utxo.Properties.html#9844" class="Bound">dRefs</a> <a id="10562" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10564" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a><a id="10569" class="Symbol">)</a> <a id="10571" class="Symbol">(</a><a id="10572" href="Ledger.Utxo.Properties.html#7550" class="Function">∙-homo-Coin</a> <a id="10584" class="Symbol">_</a> <a id="10586" class="Symbol">_)</a> <a id="10589" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10595" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="10604" class="Symbol">(</a><a id="10605" href="Ledger.Utxo.Properties.html#9803" class="Bound">utxo</a> <a id="10610" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10612" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10617" class="Symbol">)</a> <a id="10619" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10621" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10626" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="10631" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10633" href="Ledger.Utxo.Properties.html#9844" class="Bound">dRefs</a> <a id="10639" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10641" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a>
      <a id="10653" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10656" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10661" class="Symbol">(λ</a> <a id="10664" href="Ledger.Utxo.Properties.html#10664" class="Bound">x</a> <a id="10666" class="Symbol">→</a> <a id="10668" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="10677" class="Symbol">(</a><a id="10678" href="Ledger.Utxo.Properties.html#9803" class="Bound">utxo</a> <a id="10683" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10685" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10690" class="Symbol">)</a> <a id="10692" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10694" href="Ledger.Utxo.Properties.html#10664" class="Bound">x</a> <a id="10696" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10698" href="Ledger.Utxo.Properties.html#9844" class="Bound">dRefs</a> <a id="10704" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10706" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a><a id="10711" class="Symbol">)</a> <a id="10713" href="Ledger.Utxo.Properties.html#9790" class="Bound">h</a> <a id="10715" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10721" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="10730" class="Symbol">(</a><a id="10731" href="Ledger.Utxo.Properties.html#9803" class="Bound">utxo</a> <a id="10736" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10738" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10743" class="Symbol">)</a> <a id="10745" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10747" class="Number">0</a> <a id="10749" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10751" href="Ledger.Utxo.Properties.html#9844" class="Bound">dRefs</a> <a id="10757" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10759" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a>
      <a id="10771" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10774" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10779" class="Symbol">(λ</a> <a id="10782" href="Ledger.Utxo.Properties.html#10782" class="Bound">x</a> <a id="10784" class="Symbol">→</a> <a id="10786" href="Ledger.Utxo.Properties.html#10782" class="Bound">x</a> <a id="10788" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10790" href="Ledger.Utxo.Properties.html#9844" class="Bound">dRefs</a> <a id="10796" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10798" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a><a id="10803" class="Symbol">)</a> <a id="10805" class="Symbol">(</a><a id="10806" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="10818" class="Symbol">(</a><a id="10819" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="10828" class="Symbol">(</a><a id="10829" href="Ledger.Utxo.Properties.html#9803" class="Bound">utxo</a> <a id="10834" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10836" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10841" class="Symbol">)))</a> <a id="10845" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10851" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="10860" class="Symbol">(</a><a id="10861" href="Ledger.Utxo.Properties.html#9803" class="Bound">utxo</a> <a id="10866" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10868" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10873" class="Symbol">)</a> <a id="10875" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10877" href="Ledger.Utxo.Properties.html#9844" class="Bound">dRefs</a> <a id="10883" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10885" href="Ledger.Utxo.Properties.html#9893" class="Bound">sWdls</a>
      <a id="10897" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="10902" href="Ledger.Utxo.Properties.html#10902" class="Function">producedCoinEquality</a> <a id="10923" class="Symbol">:</a> <a id="10925" class="Symbol">∀</a> <a id="10927" class="Symbol">{</a><a id="10928" href="Ledger.Utxo.Properties.html#10928" class="Bound">pp</a><a id="10930" class="Symbol">}</a>
    <a id="10936" class="Symbol">→</a> <a id="10938" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10943" class="Symbol">(</a><a id="10944" href="Ledger.Utxo.html#11914" class="Function">produced</a> <a id="10953" href="Ledger.Utxo.Properties.html#10928" class="Bound">pp</a> <a id="10956" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a> <a id="10966" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="10969" class="Symbol">)</a>
    <a id="10975" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10977" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="10986" class="Symbol">(</a><a id="10987" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="10992" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="10995" class="Symbol">)</a> <a id="10997" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10999" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="11005" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11007" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="11019" href="Ledger.Utxo.Properties.html#10928" class="Bound">pp</a> <a id="11022" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a> <a id="11032" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a> <a id="11036" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11038" href="Ledger.Transaction.html#2956" class="Field">txdonation</a>
  <a id="11051" href="Ledger.Utxo.Properties.html#10902" class="Function">producedCoinEquality</a> <a id="11072" class="Symbol">{</a><a id="11073" href="Ledger.Utxo.Properties.html#11073" class="Bound">utxoState</a><a id="11082" class="Symbol">}</a> <a id="11084" class="Symbol">{</a><a id="11085" href="Ledger.Utxo.Properties.html#11085" class="Bound">pp</a><a id="11087" class="Symbol">}</a> <a id="11089" class="Symbol">=</a>
      <a id="11097" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="11107" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11112" class="Symbol">(</a><a id="11113" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="11121" class="Symbol">(</a><a id="11122" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="11127" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="11130" class="Symbol">)</a> <a id="11132" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11134" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11141" href="Ledger.Transaction.html#2714" class="Field">txfee</a>
      <a id="11153" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11155" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11162" class="Symbol">(</a><a id="11163" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="11175" href="Ledger.Utxo.Properties.html#11085" class="Bound">pp</a> <a id="11178" href="Ledger.Utxo.Properties.html#11073" class="Bound">utxoState</a> <a id="11188" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="11191" class="Symbol">)</a> <a id="11193" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11195" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11202" href="Ledger.Transaction.html#2956" class="Field">txdonation</a><a id="11212" class="Symbol">)</a>
      <a id="11220" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11223" href="Ledger.Utxo.Properties.html#7550" class="Function">∙-homo-Coin</a> <a id="11235" class="Symbol">_</a> <a id="11237" class="Symbol">_</a> <a id="11239" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="11245" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11250" class="Symbol">(</a><a id="11251" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="11259" class="Symbol">(</a><a id="11260" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="11265" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="11268" class="Symbol">)</a> <a id="11270" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11272" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11279" href="Ledger.Transaction.html#2714" class="Field">txfee</a>
      <a id="11291" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11293" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11300" class="Symbol">(</a><a id="11301" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="11313" href="Ledger.Utxo.Properties.html#11085" class="Bound">pp</a> <a id="11316" href="Ledger.Utxo.Properties.html#11073" class="Bound">utxoState</a> <a id="11326" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="11329" class="Symbol">))</a> <a id="11332" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11334" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11339" class="Symbol">(</a><a id="11340" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11347" href="Ledger.Transaction.html#2956" class="Field">txdonation</a><a id="11357" class="Symbol">)</a>
      <a id="11365" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11368" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="11373" class="Symbol">(</a><a id="11374" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="11377" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11382" class="Symbol">(</a><a id="11383" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11390" href="Ledger.Transaction.html#2956" class="Field">txdonation</a><a id="11400" class="Symbol">))</a> <a id="11403" class="Symbol">(</a><a id="11404" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="11418" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11423" class="Symbol">(</a><a id="11424" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="11432" class="Symbol">(</a><a id="11433" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="11438" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="11441" class="Symbol">)</a> <a id="11443" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11445" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11452" href="Ledger.Transaction.html#2714" class="Field">txfee</a>
          <a id="11468" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11470" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11477" class="Symbol">(</a><a id="11478" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="11490" href="Ledger.Utxo.Properties.html#11085" class="Bound">pp</a> <a id="11493" href="Ledger.Utxo.Properties.html#11073" class="Bound">utxoState</a> <a id="11503" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="11506" class="Symbol">))</a>
          <a id="11519" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11522" href="Ledger.Utxo.Properties.html#7550" class="Function">∙-homo-Coin</a> <a id="11534" class="Symbol">_</a> <a id="11536" class="Symbol">_</a> <a id="11538" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11548" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11553" class="Symbol">(</a><a id="11554" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="11562" class="Symbol">(</a><a id="11563" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="11568" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="11571" class="Symbol">)</a> <a id="11573" href="Ledger.TokenAlgebra.html#719" class="Function Operator">+ᵛ</a> <a id="11576" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11583" href="Ledger.Transaction.html#2714" class="Field">txfee</a><a id="11588" class="Symbol">)</a>
          <a id="11600" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11604" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11609" class="Symbol">(</a><a id="11610" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11617" class="Symbol">(</a><a id="11618" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="11630" href="Ledger.Utxo.Properties.html#11085" class="Bound">pp</a> <a id="11633" href="Ledger.Utxo.Properties.html#11073" class="Bound">utxoState</a> <a id="11643" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="11646" class="Symbol">))</a>
          <a id="11659" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11662" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="11668" class="Symbol">(</a><a id="11669" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="11684" class="Symbol">_)</a> <a id="11687" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11697" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11702" class="Symbol">(</a><a id="11703" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="11711" class="Symbol">(</a><a id="11712" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="11717" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="11720" class="Symbol">)</a> <a id="11722" href="Ledger.TokenAlgebra.html#719" class="Function Operator">+ᵛ</a> <a id="11725" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11732" href="Ledger.Transaction.html#2714" class="Field">txfee</a><a id="11737" class="Symbol">)</a>
          <a id="11749" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11753" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="11765" href="Ledger.Utxo.Properties.html#11085" class="Bound">pp</a> <a id="11768" href="Ledger.Utxo.Properties.html#11073" class="Bound">utxoState</a> <a id="11778" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a>
          <a id="11792" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11795" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="11801" class="Symbol">(</a><a id="11802" href="Ledger.Utxo.Properties.html#7550" class="Function">∙-homo-Coin</a> <a id="11814" class="Symbol">_</a> <a id="11816" class="Symbol">_)</a> <a id="11819" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11829" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11834" class="Symbol">(</a><a id="11835" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="11843" class="Symbol">(</a><a id="11844" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="11849" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="11852" class="Symbol">))</a> <a id="11855" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11859" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11864" class="Symbol">(</a><a id="11865" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11872" href="Ledger.Transaction.html#2714" class="Field">txfee</a><a id="11877" class="Symbol">)</a>
          <a id="11889" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11893" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="11905" href="Ledger.Utxo.Properties.html#11085" class="Bound">pp</a> <a id="11908" href="Ledger.Utxo.Properties.html#11073" class="Bound">utxoState</a> <a id="11918" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a>
          <a id="11932" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11935" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="11940" class="Symbol">(λ</a> <a id="11943" href="Ledger.Utxo.Properties.html#11943" class="Bound">x</a> <a id="11945" class="Symbol">→</a> <a id="11947" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="11956" class="Symbol">(</a><a id="11957" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="11962" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="11965" class="Symbol">)</a> <a id="11967" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11969" href="Ledger.Utxo.Properties.html#11943" class="Bound">x</a> <a id="11971" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11973" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="11985" href="Ledger.Utxo.Properties.html#11085" class="Bound">pp</a> <a id="11988" href="Ledger.Utxo.Properties.html#11073" class="Bound">utxoState</a> <a id="11998" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="12001" class="Symbol">)</a>
                <a id="12019" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12021" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="12036" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="12042" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="12052" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="12061" class="Symbol">(</a><a id="12062" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="12067" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="12070" class="Symbol">)</a> <a id="12072" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12074" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="12080" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12082" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="12094" href="Ledger.Utxo.Properties.html#11085" class="Bound">pp</a> <a id="12097" href="Ledger.Utxo.Properties.html#11073" class="Bound">utxoState</a> <a id="12107" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a>
          <a id="12121" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="12129" class="Symbol">)</a><a id="12130" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12136" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="12145" class="Symbol">(</a><a id="12146" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="12151" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="12154" class="Symbol">)</a> <a id="12156" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12158" href="Ledger.Transaction.html#2714" class="Field">txfee</a>
      <a id="12170" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12172" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="12184" href="Ledger.Utxo.Properties.html#11085" class="Bound">pp</a> <a id="12187" href="Ledger.Utxo.Properties.html#11073" class="Bound">utxoState</a> <a id="12197" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a> <a id="12201" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12203" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12208" class="Symbol">(</a><a id="12209" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="12216" href="Ledger.Transaction.html#2956" class="Field">txdonation</a><a id="12226" class="Symbol">)</a>
      <a id="12234" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12237" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="12242" class="Symbol">(</a><a id="12243" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="12252" class="Symbol">(</a><a id="12253" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="12258" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="12261" class="Symbol">)</a> <a id="12263" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12265" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="12271" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12273" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="12285" href="Ledger.Utxo.Properties.html#11085" class="Bound">pp</a> <a id="12288" href="Ledger.Utxo.Properties.html#11073" class="Bound">utxoState</a> <a id="12298" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a> <a id="12302" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="12304" class="Symbol">)</a>
            <a id="12318" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12320" href="Ledger.TokenAlgebra.html#1061" class="Function">coin∘inject≗id</a> <a id="12335" class="Symbol">_</a> <a id="12337" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12343" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="12352" class="Symbol">(</a><a id="12353" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="12358" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="12361" class="Symbol">)</a> <a id="12363" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12365" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="12371" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12373" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="12385" href="Ledger.Utxo.Properties.html#11085" class="Bound">pp</a> <a id="12388" href="Ledger.Utxo.Properties.html#11073" class="Bound">utxoState</a> <a id="12398" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a> <a id="12402" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12404" href="Ledger.Transaction.html#2956" class="Field">txdonation</a>
      <a id="12421" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="12426" href="Ledger.Utxo.Properties.html#12426" class="Function">balValueToCoin</a> <a id="12441" class="Symbol">:</a> <a id="12443" class="Symbol">∀</a> <a id="12445" class="Symbol">{</a><a id="12446" href="Ledger.Utxo.Properties.html#12446" class="Bound">pp</a><a id="12448" class="Symbol">}</a>
    <a id="12454" class="Symbol">→</a> <a id="12456" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12461" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="12466" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12468" class="Number">0</a>
    <a id="12474" class="Symbol">→</a> <a id="12476" href="Ledger.Utxo.html#11706" class="Function">consumed</a> <a id="12485" href="Ledger.Utxo.Properties.html#12446" class="Bound">pp</a> <a id="12488" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a> <a id="12498" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a> <a id="12502" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12504" href="Ledger.Utxo.html#11914" class="Function">produced</a> <a id="12513" href="Ledger.Utxo.Properties.html#12446" class="Bound">pp</a> <a id="12516" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a> <a id="12526" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a>
    <a id="12534" class="Symbol">→</a> <a id="12536" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="12545" class="Symbol">((</a><a id="12547" href="Ledger.Utxo.html#2522" class="Field">UTxOState.utxo</a> <a id="12562" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a><a id="12571" class="Symbol">)</a> <a id="12573" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12575" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="12580" class="Symbol">)</a>
    <a id="12586" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12588" href="Ledger.Utxo.html#11448" class="Function">depositRefunds</a> <a id="12603" href="Ledger.Utxo.Properties.html#12446" class="Bound">pp</a> <a id="12606" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a> <a id="12616" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a> <a id="12620" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12622" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="12630" href="Ledger.Transaction.html#2852" class="Field">txwdrls</a>
    <a id="12642" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12644" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="12653" class="Symbol">(</a><a id="12654" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="12659" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="12662" class="Symbol">)</a> <a id="12664" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12666" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="12672" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12674" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="12686" href="Ledger.Utxo.Properties.html#12446" class="Bound">pp</a> <a id="12689" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a> <a id="12699" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a> <a id="12703" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12705" href="Ledger.Transaction.html#2956" class="Field">txdonation</a>
  <a id="12718" href="Ledger.Utxo.Properties.html#12426" class="Function">balValueToCoin</a> <a id="12733" class="Symbol">{</a><a id="12734" href="Ledger.Utxo.Properties.html#12734" class="Bound">utxoState</a><a id="12743" class="Symbol">}</a> <a id="12745" class="Symbol">{</a><a id="12746" href="Ledger.Utxo.Properties.html#12746" class="Bound">pp</a><a id="12748" class="Symbol">}</a> <a id="12750" href="Ledger.Utxo.Properties.html#12750" class="Bound">h</a> <a id="12752" href="Ledger.Utxo.Properties.html#12752" class="Bound">h&#39;</a> <a id="12755" class="Symbol">=</a> <a id="12757" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="12767" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="12776" class="Symbol">((</a><a id="12778" href="Ledger.Utxo.html#2522" class="Field">UTxOState.utxo</a> <a id="12793" href="Ledger.Utxo.Properties.html#12734" class="Bound">utxoState</a><a id="12802" class="Symbol">)</a> <a id="12804" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12806" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="12811" class="Symbol">)</a> <a id="12813" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12815" href="Ledger.Utxo.html#11448" class="Function">depositRefunds</a> <a id="12830" href="Ledger.Utxo.Properties.html#12746" class="Bound">pp</a> <a id="12833" href="Ledger.Utxo.Properties.html#12734" class="Bound">utxoState</a> <a id="12843" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a> <a id="12847" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="12849" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="12857" href="Ledger.Transaction.html#2852" class="Field">txwdrls</a>
      <a id="12871" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="12875" href="Ledger.Utxo.Properties.html#9557" class="Function">consumedCoinEquality</a> <a id="12896" class="Symbol">{</a><a id="12897" href="Ledger.Utxo.Properties.html#12734" class="Bound">utxoState</a><a id="12906" class="Symbol">}</a> <a id="12908" class="Symbol">{</a><a id="12909" href="Ledger.Utxo.Properties.html#12746" class="Bound">pp</a><a id="12911" class="Symbol">}</a> <a id="12913" href="Ledger.Utxo.Properties.html#12750" class="Bound">h</a> <a id="12915" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="12921" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12926" class="Symbol">(</a><a id="12927" href="Ledger.Utxo.html#11706" class="Function">consumed</a> <a id="12936" href="Ledger.Utxo.Properties.html#12746" class="Bound">pp</a> <a id="12939" href="Ledger.Utxo.Properties.html#12734" class="Bound">utxoState</a> <a id="12949" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="12952" class="Symbol">)</a>
      <a id="12960" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12963" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="12969" href="Ledger.Utxo.Properties.html#12752" class="Bound">h&#39;</a> <a id="12972" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12978" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12983" class="Symbol">(</a><a id="12984" href="Ledger.Utxo.html#11914" class="Function">produced</a> <a id="12993" href="Ledger.Utxo.Properties.html#12746" class="Bound">pp</a> <a id="12996" href="Ledger.Utxo.Properties.html#12734" class="Bound">utxoState</a> <a id="13006" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="13009" class="Symbol">)</a>
      <a id="13017" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="13020" href="Ledger.Utxo.Properties.html#10902" class="Function">producedCoinEquality</a> <a id="13041" class="Symbol">{</a><a id="13042" href="Ledger.Utxo.Properties.html#12734" class="Bound">utxoState</a><a id="13051" class="Symbol">}</a> <a id="13053" class="Symbol">{</a><a id="13054" href="Ledger.Utxo.Properties.html#12746" class="Bound">pp</a><a id="13056" class="Symbol">}</a> <a id="13058" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="13064" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="13073" class="Symbol">(</a><a id="13074" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="13079" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a><a id="13082" class="Symbol">)</a> <a id="13084" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13086" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="13092" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13094" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="13106" href="Ledger.Utxo.Properties.html#12746" class="Bound">pp</a> <a id="13109" href="Ledger.Utxo.Properties.html#12734" class="Bound">utxoState</a> <a id="13119" href="Ledger.Utxo.Properties.html#9106" class="Bound">txb</a> <a id="13123" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13125" href="Ledger.Transaction.html#2956" class="Field">txdonation</a>
      <a id="13142" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="posPart-negPart≡x"></a><a id="13145" href="Ledger.Utxo.Properties.html#13145" class="Function">posPart-negPart≡x</a> <a id="13163" class="Symbol">:</a> <a id="13165" class="Symbol">{</a><a id="13166" href="Ledger.Utxo.Properties.html#13166" class="Bound">x</a> <a id="13168" class="Symbol">:</a> <a id="13170" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="13171" class="Symbol">}</a> <a id="13173" class="Symbol">→</a> <a id="13175" href="Prelude.html#3167" class="Function">posPart</a> <a id="13183" href="Ledger.Utxo.Properties.html#13166" class="Bound">x</a> <a id="13185" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="13187" href="Prelude.html#3244" class="Function">negPart</a> <a id="13195" href="Ledger.Utxo.Properties.html#13166" class="Bound">x</a> <a id="13197" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13199" href="Ledger.Utxo.Properties.html#13166" class="Bound">x</a>
<a id="13201" href="Ledger.Utxo.Properties.html#13145" class="Function">posPart-negPart≡x</a> <a id="13219" class="Symbol">{</a><a id="13220" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="13225" href="Ledger.Utxo.Properties.html#13225" class="Bound">n</a><a id="13226" class="Symbol">}</a>     <a id="13232" class="Symbol">=</a> <a id="13234" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="13239" href="Ledger.Utxo.Properties.html#13145" class="Function">posPart-negPart≡x</a> <a id="13257" class="Symbol">{</a><a id="13258" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="13267" href="Ledger.Utxo.Properties.html#13267" class="Bound">n</a><a id="13268" class="Symbol">}</a> <a id="13270" class="Symbol">=</a> <a id="13272" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="φ"></a><a id="13278" href="Ledger.Utxo.Properties.html#13278" class="Function">φ</a> <a id="13280" class="Symbol">:</a> <a id="13282" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="13284" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="13286" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="13291" class="Symbol">→</a> <a id="13293" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="13295" href="Ledger.Utxo.Properties.html#13278" class="Function">φ</a> <a id="13297" class="Symbol">(</a><a id="13298" href="Ledger.Utxo.Properties.html#13298" class="Bound">n</a> <a id="13300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13302" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="13306" class="Symbol">)</a> <a id="13308" class="Symbol">=</a> <a id="13310" href="Ledger.Utxo.Properties.html#13298" class="Bound">n</a>
<a id="13312" href="Ledger.Utxo.Properties.html#13278" class="Function">φ</a> <a id="13314" class="Symbol">(</a><a id="13315" href="Ledger.Utxo.Properties.html#13315" class="Bound">n</a> <a id="13317" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13319" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="13324" class="Symbol">)</a> <a id="13326" class="Symbol">=</a> <a id="13328" class="Number">0</a>

<a id="13331" class="Keyword">module</a> <a id="13338" href="Ledger.Utxo.Properties.html#13338" class="Module">DepositHelpers</a>
  <a id="13355" class="Symbol">{</a><a id="13356" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="13361" href="Ledger.Utxo.Properties.html#13361" class="Bound">utxo&#39;</a> <a id="13367" class="Symbol">:</a> <a id="13369" href="Ledger.Transaction.html#2402" class="Function">UTxO</a><a id="13373" class="Symbol">}</a>
  <a id="13377" class="Symbol">{</a><a id="13378" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="13383" href="Ledger.Utxo.Properties.html#13383" class="Bound">fees&#39;</a> <a id="13389" class="Symbol">:</a> <a id="13391" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13395" class="Symbol">}</a>
  <a id="13399" class="Symbol">{</a><a id="13400" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a> <a id="13409" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="13419" class="Symbol">:</a> <a id="13421" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="13436" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="13438" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13442" class="Symbol">}</a>
  <a id="13446" class="Symbol">{</a><a id="13447" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="13457" href="Ledger.Utxo.Properties.html#13457" class="Bound">donations&#39;</a> <a id="13468" class="Symbol">:</a> <a id="13470" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13474" class="Symbol">}</a>
  <a id="13478" class="Symbol">{</a><a id="13479" href="Ledger.Utxo.Properties.html#13479" class="Bound">tx</a> <a id="13482" class="Symbol">:</a> <a id="13484" href="Ledger.Transaction.html#3538" class="Record">Tx</a><a id="13486" class="Symbol">}</a> <a id="13488" class="Symbol">(</a><a id="13489" class="Keyword">let</a> <a id="13493" class="Keyword">open</a> <a id="13498" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="13501" href="Ledger.Utxo.Properties.html#13479" class="Bound">tx</a> <a id="13504" class="Keyword">renaming</a> <a id="13513" class="Symbol">(</a><a id="13514" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="13519" class="Symbol">to</a> <a id="13522" class="Field">txb</a><a id="13525" class="Symbol">);</a> <a id="13528" class="Keyword">open</a> <a id="13533" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="13540" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a><a id="13543" class="Symbol">)</a>
  <a id="13547" class="Symbol">{</a><a id="13548" href="Ledger.Utxo.Properties.html#13548" class="Bound">Γ</a> <a id="13550" class="Symbol">:</a> <a id="13552" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a><a id="13559" class="Symbol">}</a>
  <a id="13563" class="Symbol">(</a><a id="13564" href="Ledger.Utxo.Properties.html#13564" class="Bound">step</a>  <a id="13570" class="Symbol">:</a> <a id="13572" href="Ledger.Utxo.Properties.html#13548" class="Bound">Γ</a> <a id="13574" href="Ledger.Utxo.html#2766" class="Datatype Operator">⊢</a> <a id="13576" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="13578" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a>  <a id="13584" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13586" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a>  <a id="13592" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13594" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a>  <a id="13604" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13606" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a>  <a id="13617" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="13619" href="Ledger.Utxo.html#2766" class="Datatype Operator">⇀⦇</a> <a id="13622" href="Ledger.Utxo.Properties.html#13479" class="Bound">tx</a> <a id="13625" href="Ledger.Utxo.html#2766" class="Datatype Operator">,UTXO⦈</a>
               <a id="13647" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="13649" href="Ledger.Utxo.Properties.html#13361" class="Bound">utxo&#39;</a> <a id="13655" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13657" href="Ledger.Utxo.Properties.html#13383" class="Bound">fees&#39;</a> <a id="13663" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13665" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="13675" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13677" href="Ledger.Utxo.Properties.html#13457" class="Bound">donations&#39;</a> <a id="13688" href="Class.To.html#102" class="Field Operator">⟧</a><a id="13689" class="Symbol">)</a>
  <a id="13693" class="Symbol">(</a><a id="13694" href="Ledger.Utxo.Properties.html#13694" class="Bound">h&#39;</a> <a id="13697" class="Symbol">:</a> <a id="13699" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="13704" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="13706" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="13711" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13717" class="Symbol">(</a><a id="13718" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13722" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a><a id="13726" class="Symbol">))</a>
  <a id="13731" class="Keyword">where</a>
  <a id="13739" class="Keyword">open</a> <a id="13744" href="Tactic.EquationalReasoning.html#418" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="13783" class="Symbol">{</a><a id="13784" class="Argument">A</a> <a id="13786" class="Symbol">=</a> <a id="13788" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="13789" class="Symbol">}</a> <a id="13791" class="Symbol">(</a><a id="13792" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a> <a id="13804" class="Symbol">(</a><a id="13805" class="Keyword">quoteTerm</a> <a id="13815" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="13825" class="Symbol">))</a>

  <a id="13831" class="Keyword">private</a>
    <a id="13843" href="Ledger.Utxo.Properties.html#13843" class="Function">stepS</a> <a id="13849" class="Symbol">:</a> <a id="13851" href="Ledger.Utxo.Properties.html#13548" class="Bound">Γ</a> <a id="13853" href="Ledger.Utxo.html#12309" class="Datatype Operator">⊢</a> <a id="13855" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="13857" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a>  <a id="13863" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13865" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a>  <a id="13871" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13873" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a>  <a id="13883" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13885" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a>  <a id="13896" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="13898" href="Ledger.Utxo.html#12309" class="Datatype Operator">⇀⦇</a> <a id="13901" href="Ledger.Utxo.Properties.html#13479" class="Bound">tx</a> <a id="13904" href="Ledger.Utxo.html#12309" class="Datatype Operator">,UTXOS⦈</a>
                <a id="13928" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="13930" href="Ledger.Utxo.Properties.html#13361" class="Bound">utxo&#39;</a> <a id="13936" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13938" href="Ledger.Utxo.Properties.html#13383" class="Bound">fees&#39;</a> <a id="13944" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13946" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="13956" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13958" href="Ledger.Utxo.Properties.html#13457" class="Bound">donations&#39;</a> <a id="13969" href="Class.To.html#102" class="Field Operator">⟧</a>
    <a id="13975" href="Ledger.Utxo.Properties.html#13843" class="Function">stepS</a> <a id="13981" class="Symbol">=</a> <a id="13983" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="13988" href="Ledger.Utxo.Properties.html#13564" class="Bound">step</a> <a id="13993" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="13996" class="Symbol">λ</a> <a id="13998" class="Keyword">where</a>
      <a id="14010" class="Symbol">(</a><a id="14011" href="Ledger.Utxo.html#14837" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="14027" class="Symbol">_</a> <a id="14029" class="Symbol">_</a> <a id="14031" class="Symbol">_</a> <a id="14033" class="Symbol">_</a> <a id="14035" class="Symbol">_</a> <a id="14037" class="Symbol">_</a> <a id="14039" class="Symbol">_</a> <a id="14041" class="Symbol">_</a> <a id="14043" class="Symbol">_</a> <a id="14045" class="Symbol">_</a> <a id="14047" class="Symbol">_</a> <a id="14049" class="Symbol">_</a> <a id="14051" class="Symbol">_</a> <a id="14053" class="Symbol">_</a> <a id="14055" class="Symbol">_</a> <a id="14057" class="Symbol">_</a> <a id="14059" class="Symbol">_</a> <a id="14061" class="Symbol">_</a> <a id="14063" class="Symbol">_</a> <a id="14065" href="Ledger.Utxo.Properties.html#14065" class="Bound">h</a><a id="14066" class="Symbol">)</a> <a id="14068" class="Symbol">→</a> <a id="14070" href="Ledger.Utxo.Properties.html#14065" class="Bound">h</a>

    <a id="14077" href="Ledger.Utxo.Properties.html#14077" class="Function">pp</a> <a id="14080" class="Symbol">:</a> <a id="14082" href="Ledger.PParams.html#1443" class="Record">PParams</a>
    <a id="14094" href="Ledger.Utxo.Properties.html#14077" class="Function">pp</a> <a id="14097" class="Symbol">=</a> <a id="14099" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="14115" href="Ledger.Utxo.Properties.html#13548" class="Bound">Γ</a>
    <a id="14121" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="14125" class="Symbol">:</a> <a id="14127" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14136" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="14140" class="Symbol">=</a> <a id="14142" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14150" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a>
    <a id="14163" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="14168" class="Symbol">:</a> <a id="14170" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14179" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="14184" class="Symbol">=</a> <a id="14186" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14194" class="Symbol">(</a><a id="14195" href="Ledger.Utxo.html#8713" class="Function">updateDeposits</a> <a id="14210" href="Ledger.Utxo.Properties.html#14077" class="Function">pp</a> <a id="14213" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a> <a id="14217" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a><a id="14225" class="Symbol">)</a>
    <a id="14231" href="Ledger.Utxo.Properties.html#14231" class="Function">Δdep</a> <a id="14236" class="Symbol">:</a> <a id="14238" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
    <a id="14244" href="Ledger.Utxo.Properties.html#14231" class="Function">Δdep</a> <a id="14249" class="Symbol">=</a> <a id="14251" href="Ledger.Utxo.html#9120" class="Function">depositsChange</a> <a id="14266" href="Ledger.Utxo.Properties.html#14077" class="Function">pp</a> <a id="14269" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a> <a id="14273" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a>
    <a id="14286" href="Ledger.Utxo.Properties.html#14286" class="Function">utxoSt</a> <a id="14293" class="Symbol">:</a> <a id="14295" href="Ledger.Utxo.html#2458" class="Record">UTxOState</a>
    <a id="14309" href="Ledger.Utxo.Properties.html#14286" class="Function">utxoSt</a> <a id="14316" class="Symbol">=</a> <a id="14318" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="14320" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="14325" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14327" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="14332" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14334" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a> <a id="14343" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14345" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="14355" href="Class.To.html#102" class="Field Operator">⟧</a>
    <a id="14361" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="14365" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="14369" class="Symbol">:</a> <a id="14371" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14380" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="14384" class="Symbol">=</a> <a id="14386" href="Ledger.Utxo.html#11448" class="Function">depositRefunds</a> <a id="14401" href="Ledger.Utxo.Properties.html#14077" class="Function">pp</a> <a id="14404" href="Ledger.Utxo.Properties.html#14286" class="Function">utxoSt</a> <a id="14411" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a>
    <a id="14419" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="14424" class="Symbol">=</a> <a id="14426" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14434" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a>
    <a id="14446" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="14450" class="Symbol">=</a> <a id="14452" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a>    <a id="14467" href="Ledger.Utxo.Properties.html#14077" class="Function">pp</a> <a id="14470" href="Ledger.Utxo.Properties.html#14286" class="Function">utxoSt</a> <a id="14477" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a>
    <a id="14485" href="Ledger.Utxo.Properties.html#14485" class="Function">h</a> <a id="14487" class="Symbol">:</a> <a id="14489" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="14498" class="Symbol">(</a><a id="14499" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14503" class="Symbol">(</a><a id="14504" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="14509" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="14511" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="14517" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="14518" class="Symbol">))</a> <a id="14521" class="Symbol">(</a><a id="14522" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14526" class="Symbol">(</a><a id="14527" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="14532" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a><a id="14535" class="Symbol">))</a>
    <a id="14542" href="Ledger.Utxo.Properties.html#14485" class="Function">h</a> <a id="14544" class="Symbol">=</a> <a id="14546" class="Symbol">λ</a> <a id="14548" href="Ledger.Utxo.Properties.html#14548" class="Bound">h₁</a> <a id="14551" href="Ledger.Utxo.Properties.html#14551" class="Bound">h₂</a> <a id="14554" class="Symbol">→</a> <a id="14556" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="14560" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14562" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="14568" class="Symbol">(</a><a id="14569" href="Ledger.Utxo.Properties.html#9257" class="Function">newTxid⇒disj</a> <a id="14582" class="Symbol">{</a><a id="14583" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a><a id="14586" class="Symbol">}</a> <a id="14588" class="Symbol">{</a><a id="14589" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a><a id="14593" class="Symbol">}</a> <a id="14595" href="Ledger.Utxo.Properties.html#13694" class="Bound">h&#39;</a><a id="14597" class="Symbol">)</a>
                      <a id="14621" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14623" href="Function.Bundles.html#4810" class="Field">to</a> <a id="14626" href="Axiom.Set.html#9351" class="Function">∈-∩</a> <a id="14630" class="Symbol">(</a><a id="14631" href="Axiom.Set.Rel.html#7214" class="Function">res-comp-domᵐ</a> <a id="14645" href="Ledger.Utxo.Properties.html#14548" class="Bound">h₁</a> <a id="14648" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14650" href="Ledger.Utxo.Properties.html#14551" class="Bound">h₂</a><a id="14652" class="Symbol">)</a>
    <a id="14658" href="Ledger.Utxo.Properties.html#14658" class="Function">newBal&#39;</a> <a id="14666" class="Symbol">:</a> <a id="14668" href="Ledger.Utxo.Properties.html#13548" class="Bound">Γ</a> <a id="14670" href="Ledger.Utxo.html#2766" class="Datatype Operator">⊢</a> <a id="14672" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="14674" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a>  <a id="14680" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14682" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a>  <a id="14688" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14690" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a>  <a id="14700" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14702" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a>  <a id="14713" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="14715" href="Ledger.Utxo.html#2766" class="Datatype Operator">⇀⦇</a> <a id="14718" href="Ledger.Utxo.Properties.html#13479" class="Bound">tx</a> <a id="14721" href="Ledger.Utxo.html#2766" class="Datatype Operator">,UTXO⦈</a>
                  <a id="14746" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="14748" href="Ledger.Utxo.Properties.html#13361" class="Bound">utxo&#39;</a> <a id="14754" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14756" href="Ledger.Utxo.Properties.html#13383" class="Bound">fees&#39;</a> <a id="14762" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14764" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="14774" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14776" href="Ledger.Utxo.Properties.html#13457" class="Bound">donations&#39;</a> <a id="14787" href="Class.To.html#102" class="Field Operator">⟧</a>
            <a id="14801" class="Symbol">→</a> <a id="14803" href="Ledger.Utxo.html#11706" class="Function">consumed</a> <a id="14812" href="Ledger.Utxo.Properties.html#14077" class="Function">pp</a> <a id="14815" href="Ledger.Utxo.Properties.html#14286" class="Function">utxoSt</a> <a id="14822" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a> <a id="14826" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14828" href="Ledger.Utxo.html#11914" class="Function">produced</a> <a id="14837" href="Ledger.Utxo.Properties.html#14077" class="Function">pp</a> <a id="14840" href="Ledger.Utxo.Properties.html#14286" class="Function">utxoSt</a> <a id="14847" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a>
    <a id="14855" href="Ledger.Utxo.Properties.html#14658" class="Function">newBal&#39;</a> <a id="14863" class="Symbol">(</a><a id="14864" href="Ledger.Utxo.html#14837" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="14880" class="Symbol">_</a> <a id="14882" class="Symbol">_</a> <a id="14884" class="Symbol">_</a> <a id="14886" class="Symbol">_</a> <a id="14888" class="Symbol">_</a> <a id="14890" class="Symbol">_</a> <a id="14892" class="Symbol">_</a> <a id="14894" class="Symbol">_</a> <a id="14896" href="Ledger.Utxo.Properties.html#14896" class="Bound">x</a> <a id="14898" class="Symbol">_</a> <a id="14900" class="Symbol">_</a> <a id="14902" class="Symbol">_</a> <a id="14904" class="Symbol">_</a> <a id="14906" class="Symbol">_</a> <a id="14908" class="Symbol">_</a> <a id="14910" class="Symbol">_</a> <a id="14912" class="Symbol">_</a> <a id="14914" class="Symbol">_</a> <a id="14916" class="Symbol">_</a> <a id="14918" class="Symbol">_)</a> <a id="14921" class="Symbol">=</a> <a id="14923" href="Ledger.Utxo.Properties.html#14896" class="Bound">x</a>
    <a id="14929" href="Ledger.Utxo.Properties.html#14929" class="Function">newBal</a> <a id="14936" class="Symbol">:</a> <a id="14938" href="Ledger.Utxo.html#11706" class="Function">consumed</a> <a id="14947" href="Ledger.Utxo.Properties.html#14077" class="Function">pp</a> <a id="14950" href="Ledger.Utxo.Properties.html#14286" class="Function">utxoSt</a> <a id="14957" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a> <a id="14961" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14963" href="Ledger.Utxo.html#11914" class="Function">produced</a> <a id="14972" href="Ledger.Utxo.Properties.html#14077" class="Function">pp</a> <a id="14975" href="Ledger.Utxo.Properties.html#14286" class="Function">utxoSt</a> <a id="14982" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a>
    <a id="14990" href="Ledger.Utxo.Properties.html#14929" class="Function">newBal</a> <a id="14997" class="Symbol">=</a> <a id="14999" href="Ledger.Utxo.Properties.html#14658" class="Function">newBal&#39;</a> <a id="15007" href="Ledger.Utxo.Properties.html#13564" class="Bound">step</a>
    <a id="15016" href="Ledger.Utxo.Properties.html#15016" class="Function">noMintAda&#39;</a> <a id="15027" class="Symbol">:</a> <a id="15029" href="Ledger.Utxo.Properties.html#13548" class="Bound">Γ</a> <a id="15031" href="Ledger.Utxo.html#2766" class="Datatype Operator">⊢</a> <a id="15033" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="15035" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a>  <a id="15041" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15043" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a>  <a id="15049" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15051" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a>  <a id="15061" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15063" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a>  <a id="15074" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="15076" href="Ledger.Utxo.html#2766" class="Datatype Operator">⇀⦇</a> <a id="15079" href="Ledger.Utxo.Properties.html#13479" class="Bound">tx</a> <a id="15082" href="Ledger.Utxo.html#2766" class="Datatype Operator">,UTXO⦈</a>
                     <a id="15110" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="15112" href="Ledger.Utxo.Properties.html#13361" class="Bound">utxo&#39;</a> <a id="15118" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15120" href="Ledger.Utxo.Properties.html#13383" class="Bound">fees&#39;</a> <a id="15126" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15128" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="15138" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15140" href="Ledger.Utxo.Properties.html#13457" class="Bound">donations&#39;</a> <a id="15151" href="Class.To.html#102" class="Field Operator">⟧</a>
               <a id="15168" class="Symbol">→</a> <a id="15170" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="15175" class="Symbol">(</a><a id="15176" href="Ledger.Transaction.html#2742" class="Function">mint</a><a id="15180" class="Symbol">)</a> <a id="15182" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15184" class="Number">0</a>
    <a id="15190" href="Ledger.Utxo.Properties.html#15016" class="Function">noMintAda&#39;</a> <a id="15201" class="Symbol">(</a><a id="15202" href="Ledger.Utxo.html#14837" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="15218" class="Symbol">_</a> <a id="15220" class="Symbol">_</a> <a id="15222" class="Symbol">_</a> <a id="15224" class="Symbol">_</a> <a id="15226" class="Symbol">_</a> <a id="15228" class="Symbol">_</a> <a id="15230" class="Symbol">_</a> <a id="15232" class="Symbol">_</a> <a id="15234" class="Symbol">_</a> <a id="15236" href="Ledger.Utxo.Properties.html#15236" class="Bound">x</a> <a id="15238" class="Symbol">_</a> <a id="15240" class="Symbol">_</a> <a id="15242" class="Symbol">_</a> <a id="15244" class="Symbol">_</a> <a id="15246" class="Symbol">_</a> <a id="15248" class="Symbol">_</a> <a id="15250" class="Symbol">_</a> <a id="15252" class="Symbol">_</a> <a id="15254" class="Symbol">_</a> <a id="15256" class="Symbol">_)</a> <a id="15259" class="Symbol">=</a> <a id="15261" href="Ledger.Utxo.Properties.html#15236" class="Bound">x</a>
    <a id="15267" href="Ledger.Utxo.Properties.html#15267" class="Function">noMintAda</a> <a id="15277" class="Symbol">:</a> <a id="15279" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="15284" href="Ledger.Transaction.html#2742" class="Function">mint</a> <a id="15289" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15291" class="Number">0</a>
    <a id="15297" href="Ledger.Utxo.Properties.html#15267" class="Function">noMintAda</a> <a id="15307" class="Symbol">=</a> <a id="15309" href="Ledger.Utxo.Properties.html#15016" class="Function">noMintAda&#39;</a> <a id="15320" href="Ledger.Utxo.Properties.html#13564" class="Bound">step</a>
    <a id="15329" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="15339" class="Symbol">:</a> <a id="15341" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="15350" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="15360" class="Symbol">=</a> <a id="15362" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="15370" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a> <a id="15379" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15381" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a>

  <a id="15388" href="Ledger.Utxo.Properties.html#15388" class="Function">deposits-change&#39;</a> <a id="15405" class="Symbol">:</a> <a id="15407" href="Ledger.Utxo.Properties.html#14231" class="Function">Δdep</a> <a id="15412" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15414" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="15418" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15420" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a>
  <a id="15426" href="Ledger.Utxo.Properties.html#15388" class="Function">deposits-change&#39;</a> <a id="15443" class="Symbol">=</a> <a id="15445" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="15449" href="Ledger.Utxo.Properties.html#13145" class="Function">posPart-negPart≡x</a>

  <a id="15470" href="Ledger.Utxo.Properties.html#15470" class="Function">dep-ref</a> <a id="15478" class="Symbol">:</a> <a id="15480" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="15484" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15486" class="Number">0</a> <a id="15488" class="Symbol">→</a> <a id="15490" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="15495" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15497" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="15501" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15503" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a>
  <a id="15509" href="Ledger.Utxo.Properties.html#15470" class="Function">dep-ref</a> <a id="15517" href="Ledger.Utxo.Properties.html#15517" class="Bound">tot≡0</a> <a id="15523" class="Symbol">=</a> <a id="15525" href="Data.Integer.Properties.html#2689" class="Function">ℤ.+-injective</a> <a id="15539" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15541" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="15551" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15556" class="Symbol">(</a><a id="15557" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="15562" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15564" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a><a id="15567" class="Symbol">)</a>          <a id="15578" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15581" href="Data.Integer.Properties.html#32743" class="Function">ℤ.pos-+</a> <a id="15589" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="15594" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="15598" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="15604" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15609" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="15614" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15618" class="Symbol">(</a><a id="15619" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="15623" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15625" class="Number">0</a><a id="15626" class="Symbol">)</a>    <a id="15631" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="15635" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15640" class="Symbol">(λ</a> <a id="15643" href="Ledger.Utxo.Properties.html#15643" class="Bound">u</a> <a id="15645" class="Symbol">→</a> <a id="15647" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15652" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="15657" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15661" class="Symbol">(</a><a id="15662" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="15666" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15668" href="Ledger.Utxo.Properties.html#15643" class="Bound">u</a><a id="15669" class="Symbol">))</a> <a id="15672" href="Ledger.Utxo.Properties.html#15517" class="Bound">tot≡0</a> <a id="15678" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="15684" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15689" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="15694" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15698" class="Symbol">(</a><a id="15699" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="15703" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15705" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a><a id="15708" class="Symbol">)</a>  <a id="15711" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15714" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15719" class="Symbol">((</a><a id="15721" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="15725" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a><a id="15729" class="Symbol">)</a> <a id="15731" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="15733" class="Symbol">)</a> <a id="15735" class="Symbol">(</a><a id="15736" href="Data.Integer.Properties.html#19768" class="Function">ℤ.⊖-swap</a> <a id="15745" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="15749" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a><a id="15752" class="Symbol">)</a> <a id="15754" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="15760" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15765" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="15770" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="15774" class="Symbol">(</a><a id="15775" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="15779" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15781" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a><a id="15784" class="Symbol">)</a>  <a id="15787" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="15791" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15796" class="Symbol">(λ</a> <a id="15799" href="Ledger.Utxo.Properties.html#15799" class="Bound">u</a> <a id="15801" class="Symbol">→</a>  <a id="15804" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15809" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="15814" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="15818" href="Ledger.Utxo.Properties.html#15799" class="Bound">u</a><a id="15819" class="Symbol">)</a> <a id="15821" href="Ledger.Utxo.Properties.html#15388" class="Function">deposits-change&#39;</a> <a id="15838" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="15844" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15849" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="15854" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="15858" href="Ledger.Utxo.Properties.html#14231" class="Function">Δdep</a>         <a id="15871" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="15875" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15880" class="Symbol">((</a><a id="15882" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="15886" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a><a id="15890" class="Symbol">)</a> <a id="15892" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="15894" class="Symbol">)</a> <a id="15896" class="Symbol">(</a><a id="15897" href="Data.Integer.Properties.html#19768" class="Function">ℤ.⊖-swap</a> <a id="15906" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="15910" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a><a id="15914" class="Symbol">)</a> <a id="15916" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="15922" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15927" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="15932" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15934" class="Symbol">(</a><a id="15935" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="15939" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15941" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a><a id="15945" class="Symbol">)</a>   <a id="15949" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15952" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="15971" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="15976" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="15980" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="15985" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="15991" class="Symbol">(</a><a id="15992" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="15997" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="15999" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="16002" class="Symbol">)</a> <a id="16004" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16006" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a>        <a id="16018" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16021" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16026" class="Symbol">(</a><a id="16027" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="16030" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a><a id="16034" class="Symbol">)</a> <a id="16036" class="Symbol">(</a><a id="16037" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="16044" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="16049" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="16052" class="Symbol">)</a> <a id="16054" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16060" class="Symbol">(</a><a id="16061" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="16065" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16067" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a><a id="16071" class="Symbol">)</a> <a id="16073" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16075" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a>        <a id="16087" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16091" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="16110" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="16114" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="16119" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="16124" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16130" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16135" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="16139" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16143" class="Symbol">(</a><a id="16144" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="16149" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16151" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a><a id="16155" class="Symbol">)</a> <a id="16157" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16160" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16165" class="Symbol">(λ</a> <a id="16168" href="Ledger.Utxo.Properties.html#16168" class="Bound">u</a> <a id="16170" class="Symbol">→</a> <a id="16172" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16177" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="16181" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16185" href="Ledger.Utxo.Properties.html#16168" class="Bound">u</a><a id="16186" class="Symbol">)</a> <a id="16188" class="Symbol">(</a><a id="16189" href="Data.Integer.Properties.html#19485" class="Function">ℤ.n⊖n≡0</a> <a id="16197" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a><a id="16201" class="Symbol">)</a> <a id="16203" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16209" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16214" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="16218" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16222" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>          <a id="16236" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16239" href="Data.Integer.Properties.html#26987" class="Function">ℤ.+-identityʳ</a> <a id="16253" class="Symbol">_</a> <a id="16255" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16261" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16266" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="16270" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="16275" href="Ledger.Utxo.Properties.html#16275" class="Function">ref-tot-0</a> <a id="16285" class="Symbol">:</a> <a id="16287" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="16291" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="16293" class="Number">0</a> <a id="16295" class="Symbol">→</a> <a id="16297" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="16301" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16303" class="Number">0</a>
  <a id="16307" href="Ledger.Utxo.Properties.html#16275" class="Function">ref-tot-0</a> <a id="16317" href="Ledger.Utxo.Properties.html#16317" class="Bound">ref≢0</a> <a id="16323" class="Keyword">with</a> <a id="16328" href="Ledger.Utxo.Properties.html#14231" class="Function">Δdep</a>
  <a id="16335" class="Symbol">...</a> <a id="16339" class="Symbol">|</a> <a id="16341" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16346" href="Ledger.Utxo.Properties.html#16346" class="Bound">n</a>     <a id="16352" class="Symbol">=</a> <a id="16354" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="16361" class="Symbol">(</a><a id="16362" class="Bound">ref≢0</a> <a id="16368" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="16372" class="Symbol">)</a>
  <a id="16376" class="Symbol">...</a> <a id="16380" class="Symbol">|</a> <a id="16382" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="16391" href="Ledger.Utxo.Properties.html#16391" class="Bound">n</a> <a id="16393" class="Symbol">=</a> <a id="16395" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="16403" href="Ledger.Utxo.Properties.html#16403" class="Function">ref≤dep</a> <a id="16411" class="Symbol">:</a> <a id="16413" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="16417" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="16419" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a>
  <a id="16425" href="Ledger.Utxo.Properties.html#16403" class="Function">ref≤dep</a> <a id="16433" class="Keyword">with</a> <a id="16438" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="16442" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="16444" class="Number">0</a>
  <a id="16448" href="Ledger.Utxo.Properties.html#16403" class="Function">...</a> <a id="16452" class="Symbol">|</a> <a id="16454" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="16457" href="Ledger.Utxo.Properties.html#16457" class="Bound">¬p</a> <a id="16460" class="Symbol">=</a> <a id="16462" href="Data.Nat.Properties.html#66499" class="Function">≤″⇒≤</a> <a id="16467" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16469" class="Symbol">_</a> <a id="16471" href="Ledger.Utxo.Properties.html#1440" class="InductiveConstructor Operator">,≤_</a> <a id="16475" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16477" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16487" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="16491" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16493" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="16498" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16501" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="16508" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="16512" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="16517" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16523" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="16528" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16530" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="16534" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16537" href="Ledger.Utxo.Properties.html#15470" class="Function">dep-ref</a> <a id="16545" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16547" href="Ledger.Utxo.Properties.html#16275" class="Function">ref-tot-0</a> <a id="16557" href="Ledger.Utxo.Properties.html#16457" class="Bound">¬p</a> <a id="16560" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16566" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a>        <a id="16577" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="16581" href="Ledger.Utxo.Properties.html#16403" class="Function">...</a> <a id="16585" class="Symbol">|</a> <a id="16587" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="16591" href="Ledger.Utxo.Properties.html#16591" class="Bound">p</a> <a id="16593" class="Keyword">rewrite</a> <a id="16601" href="Ledger.Utxo.Properties.html#16591" class="Bound">p</a> <a id="16603" class="Symbol">=</a> <a id="16605" href="Data.Nat.Base.html#1720" class="InductiveConstructor">z≤n</a>

  <a id="16612" href="Ledger.Utxo.Properties.html#16612" class="Function">deposits-change</a> <a id="16628" class="Symbol">:</a> <a id="16630" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="16635" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16637" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="16641" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="16643" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="16647" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16649" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a>
  <a id="16655" href="Ledger.Utxo.Properties.html#16612" class="Function">deposits-change</a> <a id="16671" class="Symbol">=</a> <a id="16673" href="Data.Integer.Properties.html#2689" class="Function">ℤ.+-injective</a> <a id="16687" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16689" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16699" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16704" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a>                                 <a id="16741" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16745" href="Data.Integer.Properties.html#26987" class="Function">ℤ.+-identityʳ</a> <a id="16759" class="Symbol">_</a> <a id="16761" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16767" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16772" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="16777" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16781" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>                        <a id="16809" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16813" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="16819" class="Symbol">(</a><a id="16820" href="Data.Integer.Properties.html#30664" class="Function">ℤ.+-inverseˡ</a> <a id="16833" class="Symbol">(</a><a id="16834" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16839" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="16842" class="Symbol">))</a> <a id="16845" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16851" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16856" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="16861" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16865" class="Symbol">(</a><a id="16866" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="16871" class="Symbol">(</a><a id="16872" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16877" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="16880" class="Symbol">)</a> <a id="16882" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16886" class="Symbol">(</a><a id="16887" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16892" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="16895" class="Symbol">))</a>
      <a id="16904" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16908" href="Data.Integer.Properties.html#28651" class="Function">ℤ.+-assoc</a> <a id="16918" class="Symbol">(</a><a id="16919" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16924" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a><a id="16928" class="Symbol">)</a> <a id="16930" class="Symbol">(</a><a id="16931" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="16936" class="Symbol">(</a><a id="16937" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16942" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="16945" class="Symbol">))</a> <a id="16948" class="Symbol">(</a><a id="16949" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16954" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="16957" class="Symbol">)</a> <a id="16959" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16965" class="Symbol">(</a><a id="16966" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16971" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="16976" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="16980" class="Symbol">(</a><a id="16981" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16986" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="16989" class="Symbol">))</a> <a id="16992" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16996" class="Symbol">(</a><a id="16997" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17002" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="17005" class="Symbol">)</a> <a id="17007" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17010" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17016" class="Symbol">(</a><a id="17017" href="Data.Integer.Properties.html#21429" class="Function">ℤ.m-n≡m⊖n</a> <a id="17027" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a> <a id="17032" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="17035" class="Symbol">)</a> <a id="17037" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17043" href="Ledger.Utxo.Properties.html#14231" class="Function">Δdep</a> <a id="17048" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17052" class="Symbol">(</a><a id="17053" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17058" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="17061" class="Symbol">)</a>                       <a id="17085" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17088" href="Data.Integer.Properties.html#26694" class="Function">ℤ.+-comm</a> <a id="17097" href="Ledger.Utxo.Properties.html#14231" class="Function">Δdep</a> <a id="17102" class="Symbol">(</a><a id="17103" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17108" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="17111" class="Symbol">)</a> <a id="17113" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17119" class="Symbol">(</a><a id="17120" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17125" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="17128" class="Symbol">)</a> <a id="17130" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17134" href="Ledger.Utxo.Properties.html#14231" class="Function">Δdep</a>                       <a id="17161" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17164" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17170" href="Ledger.Utxo.Properties.html#15388" class="Function">deposits-change&#39;</a> <a id="17187" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17193" class="Symbol">(</a><a id="17194" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17199" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="17202" class="Symbol">)</a> <a id="17204" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17208" class="Symbol">(</a><a id="17209" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="17213" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17215" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a><a id="17218" class="Symbol">)</a>                <a id="17235" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17238" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="17257" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="17261" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="17265" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="17269" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17275" class="Symbol">(</a><a id="17276" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="17280" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17282" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a><a id="17285" class="Symbol">)</a> <a id="17287" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17289" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a>                         <a id="17317" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17320" href="Data.Integer.Properties.html#20106" class="Function">ℤ.⊖-≥</a> <a id="17326" class="Symbol">(</a><a id="17327" href="Data.Nat.Properties.html#19075" class="Function">m≤n⇒m≤n+o</a> <a id="17337" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="17341" href="Ledger.Utxo.Properties.html#16403" class="Function">ref≤dep</a><a id="17348" class="Symbol">)</a> <a id="17350" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17356" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17361" class="Symbol">(</a><a id="17362" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="17366" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17368" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="17372" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17374" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a><a id="17377" class="Symbol">)</a> <a id="17379" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="17384" href="Ledger.Utxo.Properties.html#17384" class="Function">split-balance</a> <a id="17398" class="Symbol">:</a> <a id="17400" class="Symbol">∀</a> <a id="17402" href="Ledger.Utxo.Properties.html#17402" class="Bound">keys</a> <a id="17407" class="Symbol">→</a> <a id="17409" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="17418" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="17423" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="17425" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="17434" class="Symbol">(</a><a id="17435" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="17440" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17442" href="Ledger.Utxo.Properties.html#17402" class="Bound">keys</a> <a id="17447" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17448" class="Symbol">)</a> <a id="17450" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17452" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="17461" class="Symbol">(</a><a id="17462" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="17467" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17469" href="Ledger.Utxo.Properties.html#17402" class="Bound">keys</a><a id="17473" class="Symbol">)</a>
  <a id="17477" href="Ledger.Utxo.Properties.html#17384" class="Function">split-balance</a> <a id="17491" href="Ledger.Utxo.Properties.html#17491" class="Bound">keys</a> <a id="17496" class="Symbol">=</a> <a id="17498" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
                      <a id="17526" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="17535" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a>
                        <a id="17564" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17568" href="Ledger.Utxo.Properties.html#7886" class="Function">balance-cong-coin</a> <a id="17586" class="Symbol">{</a><a id="17587" class="Argument">utxo</a> <a id="17592" class="Symbol">=</a> <a id="17594" class="Symbol">(</a><a id="17595" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="17600" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17602" href="Ledger.Utxo.Properties.html#17491" class="Bound">keys</a> <a id="17607" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17608" class="Symbol">)</a> <a id="17610" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="17613" class="Symbol">(</a><a id="17614" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="17619" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17621" href="Ledger.Utxo.Properties.html#17491" class="Bound">keys</a><a id="17625" class="Symbol">)}{</a><a id="17628" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a><a id="17632" class="Symbol">}</a>
                          <a id="17660" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17662" href="Axiom.Set.Map.html#6492" class="Function">disjoint-∪ˡ-∪</a> <a id="17676" class="Symbol">(</a><a id="17677" href="Axiom.Set.Properties.html#13237" class="Function">disjoint-sym</a> <a id="17690" href="Axiom.Set.Rel.html#8146" class="Function">res-ex-disjoint</a><a id="17705" class="Symbol">)</a>
                          <a id="17733" href="Ledger.Utxo.Properties.html#18127" class="Function Operator">≡ᵉ-∘</a> <a id="17738" href="Axiom.Set.Properties.html#10950" class="Function">∪-sym</a>
                          <a id="17770" href="Ledger.Utxo.Properties.html#18127" class="Function Operator">≡ᵉ-∘</a> <a id="17775" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="17784" class="Symbol">(</a><a id="17785" href="Axiom.Set.html#10771" class="Function Operator">_∈?</a> <a id="17789" href="Ledger.Utxo.Properties.html#17491" class="Bound">keys</a><a id="17793" class="Symbol">)</a> <a id="17795" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                      <a id="17819" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="17828" class="Symbol">((</a><a id="17830" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="17835" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17837" href="Ledger.Utxo.Properties.html#17491" class="Bound">keys</a> <a id="17842" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17843" class="Symbol">)</a> <a id="17845" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="17848" class="Symbol">(</a><a id="17849" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="17854" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17856" href="Ledger.Utxo.Properties.html#17491" class="Bound">keys</a><a id="17860" class="Symbol">))</a>
                        <a id="17887" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17890" href="Ledger.Utxo.Properties.html#8129" class="Function">balance-∪</a> <a id="17900" class="Symbol">{</a><a id="17901" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="17906" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17908" href="Ledger.Utxo.Properties.html#17491" class="Bound">keys</a> <a id="17913" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17914" class="Symbol">}</a> <a id="17916" class="Symbol">{</a><a id="17917" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="17922" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17924" href="Ledger.Utxo.Properties.html#17491" class="Bound">keys</a><a id="17928" class="Symbol">}</a> <a id="17930" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17932" href="Function.Base.html#1638" class="Function">flip</a> <a id="17937" href="Axiom.Set.Rel.html#8146" class="Function">res-ex-disjoint</a> <a id="17953" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                      <a id="17977" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="17986" class="Symbol">(</a><a id="17987" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="17992" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17994" href="Ledger.Utxo.Properties.html#17491" class="Bound">keys</a> <a id="17999" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18000" class="Symbol">)</a> <a id="18002" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18004" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="18013" class="Symbol">(</a><a id="18014" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="18019" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="18021" href="Ledger.Utxo.Properties.html#17491" class="Bound">keys</a><a id="18025" class="Symbol">)</a>
                        <a id="18051" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="18057" class="Keyword">where</a> <a id="18063" class="Keyword">open</a> <a id="18068" href="Relation.Binary.Structures.html#1550" class="Module">IsEquivalence</a> <a id="18082" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a> <a id="18099" class="Keyword">renaming</a> <a id="18108" class="Symbol">(</a><a id="18109" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="18115" class="Symbol">to</a> <a id="18118" class="Keyword">infixl</a> <a id="18125" class="Number">4</a> <a id="18127" class="Field">_≡ᵉ-∘_</a><a id="18133" class="Symbol">)</a>

  <a id="18138" class="Keyword">module</a> <a id="18145" href="Ledger.Utxo.Properties.html#18145" class="Module">_</a> <a id="18147" class="Symbol">(</a><a id="18148" href="Ledger.Utxo.Properties.html#18148" class="Bound">balanceUtxo</a> <a id="18160" href="Ledger.Utxo.Properties.html#18160" class="Bound">balanceIns</a> <a id="18171" href="Ledger.Utxo.Properties.html#18171" class="Bound">balanceNoIns</a> <a id="18184" href="Ledger.Utxo.Properties.html#18184" class="Bound">balanceOuts</a> <a id="18196" href="Ledger.Utxo.Properties.html#18196" class="Bound">balanceUtxo&#39;</a> <a id="18209" class="Symbol">:</a> <a id="18211" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="18215" class="Symbol">)</a>
           <a id="18228" class="Symbol">(</a><a id="18229" href="Ledger.Utxo.Properties.html#18229" class="Bound">ref</a> <a id="18233" href="Ledger.Utxo.Properties.html#18233" class="Bound">txfee</a> <a id="18239" href="Ledger.Utxo.Properties.html#18239" class="Bound">txdonation</a> <a id="18250" href="Ledger.Utxo.Properties.html#18250" class="Bound">tot</a> <a id="18254" class="Symbol">:</a> <a id="18256" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="18260" class="Symbol">)</a>
           <a id="18273" class="Symbol">(</a><a id="18274" href="Ledger.Utxo.Properties.html#18274" class="Bound">splitUtxo</a> <a id="18284" class="Symbol">:</a> <a id="18286" href="Ledger.Utxo.Properties.html#18148" class="Bound">balanceUtxo</a> <a id="18298" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18300" href="Ledger.Utxo.Properties.html#18171" class="Bound">balanceNoIns</a> <a id="18313" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18315" href="Ledger.Utxo.Properties.html#18160" class="Bound">balanceIns</a><a id="18325" class="Symbol">)</a>
           <a id="18338" class="Symbol">(</a><a id="18339" href="Ledger.Utxo.Properties.html#18339" class="Bound">splitUtxo&#39;</a> <a id="18350" class="Symbol">:</a> <a id="18352" href="Ledger.Utxo.Properties.html#18196" class="Bound">balanceUtxo&#39;</a> <a id="18365" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18367" href="Ledger.Utxo.Properties.html#18171" class="Bound">balanceNoIns</a> <a id="18380" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18382" href="Ledger.Utxo.Properties.html#18184" class="Bound">balanceOuts</a><a id="18393" class="Symbol">)</a>
           <a id="18406" class="Symbol">(</a><a id="18407" href="Ledger.Utxo.Properties.html#18407" class="Bound">balanced</a> <a id="18416" class="Symbol">:</a> <a id="18418" href="Ledger.Utxo.Properties.html#18160" class="Bound">balanceIns</a> <a id="18429" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18431" href="Ledger.Utxo.Properties.html#18229" class="Bound">ref</a> <a id="18435" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18437" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="18442" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18444" href="Ledger.Utxo.Properties.html#18184" class="Bound">balanceOuts</a> <a id="18456" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18458" href="Ledger.Utxo.Properties.html#18233" class="Bound">txfee</a> <a id="18464" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18466" href="Ledger.Utxo.Properties.html#18250" class="Bound">tot</a> <a id="18470" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18472" href="Ledger.Utxo.Properties.html#18239" class="Bound">txdonation</a><a id="18482" class="Symbol">)</a> <a id="18484" class="Keyword">where</a>

    <a id="18495" href="Ledger.Utxo.Properties.html#18495" class="Function">utxo-ref-prop-worker</a> <a id="18516" class="Symbol">:</a>
      <a id="18524" href="Ledger.Utxo.Properties.html#18148" class="Bound">balanceUtxo</a> <a id="18536" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18538" href="Ledger.Utxo.Properties.html#18229" class="Bound">ref</a> <a id="18542" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18544" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="18549" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18551" href="Ledger.Utxo.Properties.html#18196" class="Bound">balanceUtxo&#39;</a> <a id="18564" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18566" href="Ledger.Utxo.Properties.html#18233" class="Bound">txfee</a> <a id="18572" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18574" href="Ledger.Utxo.Properties.html#18239" class="Bound">txdonation</a> <a id="18585" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18587" href="Ledger.Utxo.Properties.html#18250" class="Bound">tot</a>
    <a id="18595" href="Ledger.Utxo.Properties.html#18495" class="Function">utxo-ref-prop-worker</a> <a id="18616" class="Symbol">=</a> <a id="18618" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="18630" href="Ledger.Utxo.Properties.html#18148" class="Bound">balanceUtxo</a> <a id="18642" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18644" href="Ledger.Utxo.Properties.html#18229" class="Bound">ref</a> <a id="18648" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18650" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a>
        <a id="18663" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="18666" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="18671" class="Symbol">(λ</a> <a id="18674" href="Ledger.Utxo.Properties.html#18674" class="Bound">u</a> <a id="18676" class="Symbol">→</a> <a id="18678" href="Ledger.Utxo.Properties.html#18674" class="Bound">u</a> <a id="18680" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18682" href="Ledger.Utxo.Properties.html#18229" class="Bound">ref</a> <a id="18686" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18688" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a><a id="18692" class="Symbol">)</a> <a id="18694" href="Ledger.Utxo.Properties.html#18274" class="Bound">splitUtxo</a> <a id="18704" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="18712" href="Ledger.Utxo.Properties.html#18171" class="Bound">balanceNoIns</a> <a id="18725" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18729" href="Ledger.Utxo.Properties.html#18160" class="Bound">balanceIns</a> <a id="18740" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18744" href="Ledger.Utxo.Properties.html#18229" class="Bound">ref</a> <a id="18748" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18752" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a>
        <a id="18765" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="18776" href="Ledger.Utxo.Properties.html#18171" class="Bound">balanceNoIns</a> <a id="18789" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18793" class="Symbol">(</a><a id="18794" href="Ledger.Utxo.Properties.html#18160" class="Bound">balanceIns</a> <a id="18805" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18809" href="Ledger.Utxo.Properties.html#18229" class="Bound">ref</a> <a id="18813" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18817" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a><a id="18821" class="Symbol">)</a>
        <a id="18831" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="18834" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="18839" class="Symbol">(</a><a id="18840" href="Ledger.Utxo.Properties.html#18171" class="Bound">balanceNoIns</a> <a id="18853" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="18855" class="Symbol">)</a> <a id="18857" href="Ledger.Utxo.Properties.html#18407" class="Bound">balanced</a> <a id="18866" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="18874" href="Ledger.Utxo.Properties.html#18171" class="Bound">balanceNoIns</a> <a id="18887" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18891" class="Symbol">(</a><a id="18892" href="Ledger.Utxo.Properties.html#18184" class="Bound">balanceOuts</a> <a id="18904" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18908" href="Ledger.Utxo.Properties.html#18233" class="Bound">txfee</a> <a id="18914" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18918" href="Ledger.Utxo.Properties.html#18250" class="Bound">tot</a> <a id="18922" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18926" href="Ledger.Utxo.Properties.html#18239" class="Bound">txdonation</a><a id="18936" class="Symbol">)</a>
        <a id="18946" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="18957" class="Symbol">(</a><a id="18958" href="Ledger.Utxo.Properties.html#18171" class="Bound">balanceNoIns</a> <a id="18971" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18975" href="Ledger.Utxo.Properties.html#18184" class="Bound">balanceOuts</a> <a id="18987" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18991" href="Ledger.Utxo.Properties.html#18233" class="Bound">txfee</a><a id="18996" class="Symbol">)</a> <a id="18998" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19002" href="Ledger.Utxo.Properties.html#18250" class="Bound">tot</a> <a id="19006" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19010" href="Ledger.Utxo.Properties.html#18239" class="Bound">txdonation</a>
        <a id="19029" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="19033" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19038" class="Symbol">(λ</a> <a id="19041" href="Ledger.Utxo.Properties.html#19041" class="Bound">x</a> <a id="19043" class="Symbol">→</a> <a id="19045" class="Symbol">(</a><a id="19046" href="Ledger.Utxo.Properties.html#19041" class="Bound">x</a> <a id="19048" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19050" href="Ledger.Utxo.Properties.html#18233" class="Bound">txfee</a><a id="19055" class="Symbol">)</a> <a id="19057" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19059" href="Ledger.Utxo.Properties.html#18250" class="Bound">tot</a> <a id="19063" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19065" href="Ledger.Utxo.Properties.html#18239" class="Bound">txdonation</a><a id="19075" class="Symbol">)</a> <a id="19077" href="Ledger.Utxo.Properties.html#18339" class="Bound">splitUtxo&#39;</a> <a id="19088" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="19096" class="Symbol">(</a><a id="19097" href="Ledger.Utxo.Properties.html#18196" class="Bound">balanceUtxo&#39;</a> <a id="19110" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19114" href="Ledger.Utxo.Properties.html#18233" class="Bound">txfee</a><a id="19119" class="Symbol">)</a> <a id="19121" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19125" href="Ledger.Utxo.Properties.html#18250" class="Bound">tot</a> <a id="19129" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19133" href="Ledger.Utxo.Properties.html#18239" class="Bound">txdonation</a>
        <a id="19152" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19163" href="Ledger.Utxo.Properties.html#18196" class="Bound">balanceUtxo&#39;</a> <a id="19176" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19180" href="Ledger.Utxo.Properties.html#18233" class="Bound">txfee</a> <a id="19186" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19190" class="Symbol">(</a><a id="19191" href="Ledger.Utxo.Properties.html#18250" class="Bound">tot</a> <a id="19195" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19199" href="Ledger.Utxo.Properties.html#18239" class="Bound">txdonation</a><a id="19209" class="Symbol">)</a>
        <a id="19219" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="19222" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19227" class="Symbol">(</a><a id="19228" href="Ledger.Utxo.Properties.html#18196" class="Bound">balanceUtxo&#39;</a> <a id="19241" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19243" href="Ledger.Utxo.Properties.html#18233" class="Bound">txfee</a> <a id="19249" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="19251" class="Symbol">)</a> <a id="19253" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="19255" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="19262" href="Ledger.Utxo.Properties.html#18250" class="Bound">tot</a> <a id="19266" href="Ledger.Utxo.Properties.html#18239" class="Bound">txdonation</a> <a id="19277" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="19285" href="Ledger.Utxo.Properties.html#18196" class="Bound">balanceUtxo&#39;</a> <a id="19298" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19302" href="Ledger.Utxo.Properties.html#18233" class="Bound">txfee</a> <a id="19308" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19312" class="Symbol">(</a><a id="19313" href="Ledger.Utxo.Properties.html#18239" class="Bound">txdonation</a> <a id="19324" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19328" href="Ledger.Utxo.Properties.html#18250" class="Bound">tot</a><a id="19331" class="Symbol">)</a>
        <a id="19341" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="19352" class="Symbol">(</a><a id="19353" href="Ledger.Utxo.Properties.html#18196" class="Bound">balanceUtxo&#39;</a> <a id="19366" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19370" href="Ledger.Utxo.Properties.html#18233" class="Bound">txfee</a><a id="19375" class="Symbol">)</a> <a id="19377" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19381" href="Ledger.Utxo.Properties.html#18239" class="Bound">txdonation</a> <a id="19392" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19396" href="Ledger.Utxo.Properties.html#18250" class="Bound">tot</a>
        <a id="19408" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="19413" href="Ledger.Utxo.Properties.html#19413" class="Function">utxo-ref-prop</a> <a id="19427" class="Symbol">:</a>
    <a id="19433" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="19442" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="19447" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19449" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="19453" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19455" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="19460" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>
    <a id="19466" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="19475" class="Symbol">((</a><a id="19477" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="19482" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19484" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="19490" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19491" class="Symbol">)</a> <a id="19493" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="19496" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="19501" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a><a id="19504" class="Symbol">)</a> <a id="19506" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19508" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="19514" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19516" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="19527" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="19529" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a>
  <a id="19535" href="Ledger.Utxo.Properties.html#19413" class="Function">utxo-ref-prop</a> <a id="19549" class="Symbol">=</a> <a id="19551" href="Ledger.Utxo.Properties.html#18495" class="Function">utxo-ref-prop-worker</a>
                    <a id="19592" class="Symbol">(</a><a id="19593" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="19602" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a><a id="19606" class="Symbol">)</a>
                    <a id="19628" class="Symbol">(</a><a id="19629" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="19638" class="Symbol">(</a><a id="19639" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="19644" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="19646" href="Ledger.Transaction.html#2620" class="Function">txins</a><a id="19651" class="Symbol">))</a>
                    <a id="19674" class="Symbol">(</a><a id="19675" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="19684" class="Symbol">(</a><a id="19685" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="19690" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19692" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="19698" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19699" class="Symbol">))</a>
                    <a id="19722" class="Symbol">(</a><a id="19723" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="19732" class="Symbol">(</a><a id="19733" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="19738" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a><a id="19741" class="Symbol">))</a>
                    <a id="19764" class="Symbol">(</a><a id="19765" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="19774" class="Symbol">((</a><a id="19776" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="19781" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19783" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="19789" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19790" class="Symbol">)</a> <a id="19792" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="19795" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="19800" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a><a id="19803" class="Symbol">))</a>
                    <a id="19826" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="19830" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="19836" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="19847" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a>
                    <a id="19871" class="Symbol">(</a><a id="19872" href="Ledger.Utxo.Properties.html#17384" class="Function">split-balance</a> <a id="19886" href="Ledger.Transaction.html#2620" class="Function">txins</a><a id="19891" class="Symbol">)</a>
                    <a id="19913" class="Symbol">(</a><a id="19914" href="Ledger.Utxo.Properties.html#8129" class="Function">balance-∪</a> <a id="19924" class="Symbol">{</a><a id="19925" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="19930" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19932" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="19938" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19939" class="Symbol">}</a> <a id="19941" class="Symbol">{</a><a id="19942" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="19947" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a><a id="19950" class="Symbol">}</a> <a id="19952" href="Ledger.Utxo.Properties.html#14485" class="Function">h</a><a id="19953" class="Symbol">)</a>
                    <a id="19975" class="Symbol">(</a><a id="19976" href="Ledger.Utxo.Properties.html#12426" class="Function">balValueToCoin</a> <a id="19991" class="Symbol">{</a><a id="19992" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a><a id="19995" class="Symbol">}</a> <a id="19997" class="Symbol">{</a><a id="19998" href="Ledger.Utxo.Properties.html#14286" class="Function">utxoSt</a><a id="20004" class="Symbol">}</a> <a id="20006" class="Symbol">{</a><a id="20007" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="20023" href="Ledger.Utxo.Properties.html#13548" class="Bound">Γ</a><a id="20024" class="Symbol">}</a> <a id="20026" href="Ledger.Utxo.Properties.html#15267" class="Function">noMintAda</a> <a id="20036" href="Ledger.Utxo.Properties.html#14929" class="Function">newBal</a><a id="20042" class="Symbol">)</a>

  <a id="20047" href="Ledger.Utxo.Properties.html#20047" class="Function">rearrange0</a> <a id="20058" class="Symbol">:</a>
      <a id="20066" class="Symbol">(</a><a id="20067" href="Ledger.Utxo.Properties.html#20067" class="Bound">bal</a> <a id="20071" class="Symbol">:</a> <a id="20073" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="20074" class="Symbol">)</a>
    <a id="20080" class="Symbol">→</a> <a id="20082" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="20092" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20094" href="Ledger.Utxo.html#8713" class="Function">updateDeposits</a> <a id="20109" href="Ledger.Utxo.Properties.html#14077" class="Function">pp</a> <a id="20112" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a> <a id="20116" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a>
    <a id="20129" class="Symbol">→</a> <a id="20131" href="Ledger.Utxo.Properties.html#20067" class="Bound">bal</a> <a id="20135" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20137" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="20143" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20145" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20156" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20158" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="20162" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20164" class="Symbol">(</a><a id="20165" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="20175" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20177" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="20181" class="Symbol">)</a>
    <a id="20187" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20189" href="Ledger.Utxo.Properties.html#20067" class="Bound">bal</a> <a id="20193" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20195" class="Symbol">(</a><a id="20196" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="20201" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20203" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="20209" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20211" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="20219" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="20229" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20231" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="20241" class="Symbol">)</a>
  <a id="20245" href="Ledger.Utxo.Properties.html#20047" class="Function">rearrange0</a> <a id="20256" href="Ledger.Utxo.Properties.html#20256" class="Bound">bal</a> <a id="20260" href="Ledger.Utxo.Properties.html#20260" class="Bound">h</a> <a id="20262" class="Symbol">=</a> <a id="20264" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="20274" href="Ledger.Utxo.Properties.html#20256" class="Bound">bal</a> <a id="20278" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20282" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="20288" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20292" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20303" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20307" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="20311" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20315" class="Symbol">(</a><a id="20316" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="20326" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20330" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="20334" class="Symbol">)</a>
      <a id="20342" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
    <a id="20351" href="Ledger.Utxo.Properties.html#20256" class="Bound">bal</a> <a id="20355" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20359" class="Symbol">(</a><a id="20360" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="20366" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20370" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20381" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20385" class="Symbol">(</a><a id="20386" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="20390" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20394" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a><a id="20403" class="Symbol">)</a> <a id="20405" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20409" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="20413" class="Symbol">)</a>
      <a id="20421" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20424" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20429" class="Symbol">(</a><a id="20430" href="Ledger.Utxo.Properties.html#20256" class="Bound">bal</a> <a id="20434" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="20436" class="Symbol">)</a> <a id="20438" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20440" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="20454" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="20460" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20462" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20473" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20475" class="Symbol">(</a><a id="20476" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="20480" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20482" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a><a id="20491" class="Symbol">)</a> <a id="20493" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20495" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a>
          <a id="20510" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20513" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="20520" class="Symbol">_</a> <a id="20522" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="20527" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="20537" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="20542" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20546" class="Symbol">(</a><a id="20547" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="20553" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20557" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20568" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20572" class="Symbol">(</a><a id="20573" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="20577" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20581" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a><a id="20590" class="Symbol">))</a>
          <a id="20603" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
        <a id="20616" class="Symbol">(</a><a id="20617" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="20622" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20626" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="20631" class="Symbol">)</a> <a id="20633" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20637" class="Symbol">(</a><a id="20638" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20649" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20653" class="Symbol">(</a><a id="20654" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="20658" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20662" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a><a id="20671" class="Symbol">))</a>
          <a id="20684" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20687" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20692" class="Symbol">((</a><a id="20694" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="20699" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20701" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="20706" class="Symbol">)</a> <a id="20708" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="20710" class="Symbol">)</a> <a id="20712" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20714" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="20721" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20732" class="Symbol">(</a><a id="20733" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="20737" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20739" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a><a id="20748" class="Symbol">)</a> <a id="20750" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="20760" class="Symbol">(</a><a id="20761" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="20766" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20768" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="20773" class="Symbol">)</a> <a id="20775" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20779" class="Symbol">((</a><a id="20781" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="20785" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20787" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a><a id="20796" class="Symbol">)</a> <a id="20798" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20802" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="20812" class="Symbol">)</a>
          <a id="20824" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
        <a id="20837" class="Symbol">(</a><a id="20838" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="20843" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20845" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="20850" class="Symbol">)</a> <a id="20852" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20856" class="Symbol">(</a><a id="20857" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="20861" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20863" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a><a id="20872" class="Symbol">)</a> <a id="20874" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20878" href="Ledger.Transaction.html#2956" class="Function">txdonation</a>
          <a id="20899" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20902" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20907" class="Symbol">(λ</a> <a id="20910" href="Ledger.Utxo.Properties.html#20910" class="Bound">x</a> <a id="20912" class="Symbol">→</a> <a id="20914" class="Symbol">(</a><a id="20915" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="20920" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20922" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="20927" class="Symbol">)</a> <a id="20929" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20931" href="Ledger.Utxo.Properties.html#20910" class="Bound">x</a> <a id="20933" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20935" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="20945" class="Symbol">)</a>
          <a id="20957" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20959" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a> <a id="20965" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="20969" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20971" class="Symbol">(</a><a id="20972" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="20976" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="20978" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a><a id="20981" class="Symbol">)</a> <a id="20983" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="20987" href="Data.Nat.Properties.html#50173" class="Function">+-∸-assoc</a> <a id="20997" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="21001" href="Ledger.Utxo.Properties.html#16403" class="Function">ref≤dep</a> <a id="21009" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                  <a id="21029" class="Symbol">(</a><a id="21030" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="21034" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21036" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="21039" class="Symbol">)</a> <a id="21041" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21043" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="21047" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21050" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21055" class="Symbol">(</a><a id="21056" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="21059" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a><a id="21062" class="Symbol">)</a> <a id="21064" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21066" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="21073" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="21077" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="21081" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                  <a id="21101" class="Symbol">(</a><a id="21102" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="21106" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21108" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a><a id="21111" class="Symbol">)</a> <a id="21113" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21115" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="21119" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="21123" href="Ledger.Utxo.Properties.html#16612" class="Function">deposits-change</a> <a id="21139" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                  <a id="21159" href="Ledger.Utxo.Properties.html#14163" class="Function">uDep</a>              <a id="21177" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21180" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21185" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21193" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21195" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="21199" href="Ledger.Utxo.Properties.html#20260" class="Bound">h</a> <a id="21201" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                  <a id="21221" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21229" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="21239" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21241" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="21251" class="Symbol">(</a><a id="21252" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="21257" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21259" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="21264" class="Symbol">)</a> <a id="21266" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21268" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21276" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="21286" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21288" href="Ledger.Transaction.html#2956" class="Function">txdonation</a>
          <a id="21309" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21311" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="21317" href="Ledger.Utxo.Properties.html#20256" class="Bound">bal</a> <a id="21321" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21323" class="Symbol">((</a><a id="21325" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="21330" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21332" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="21337" class="Symbol">)</a> <a id="21339" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21341" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21349" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="21359" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21361" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="21371" class="Symbol">)</a>
      <a id="21379" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="21384" class="Keyword">module</a> <a id="21391" href="Ledger.Utxo.Properties.html#21391" class="Module">_</a> <a id="21393" class="Symbol">(</a><a id="21394" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="21406" href="Ledger.Utxo.Properties.html#21406" class="Bound">balanceUtxo&#39;</a> <a id="21419" class="Symbol">:</a> <a id="21421" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="21425" class="Symbol">)</a>
           <a id="21438" class="Symbol">(</a><a id="21439" href="Ledger.Utxo.Properties.html#21439" class="Bound">ref-prop</a> <a id="21448" class="Symbol">:</a> <a id="21450" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="21462" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21464" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="21468" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21470" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="21475" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21477" href="Ledger.Utxo.Properties.html#21406" class="Bound">balanceUtxo&#39;</a> <a id="21490" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21492" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="21498" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21500" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="21511" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21513" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a><a id="21516" class="Symbol">)</a>
           <a id="21529" class="Symbol">(</a><a id="21530" href="Ledger.Utxo.Properties.html#21530" class="Bound">h</a> <a id="21532" class="Symbol">:</a> <a id="21534" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="21544" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21546" href="Ledger.Utxo.html#8713" class="Function">updateDeposits</a> <a id="21561" href="Ledger.Utxo.Properties.html#14077" class="Function">pp</a> <a id="21564" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a> <a id="21568" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a><a id="21576" class="Symbol">)</a>
           <a id="21589" class="Keyword">where</a>

    <a id="21600" href="Ledger.Utxo.Properties.html#21600" class="Function">pov-scripts-worker</a> <a id="21619" class="Symbol">:</a>  <a id="21622" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="21630" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21632" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                          <a id="21663" class="Symbol">→</a>  <a id="21666" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="21678" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21680" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="21685" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21687" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21695" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a> <a id="21704" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21706" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="21716" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21718" href="Ledger.Utxo.Properties.html#13278" class="Function">φ</a><a id="21719" class="Symbol">(</a><a id="21720" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="21725" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21727" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="21734" class="Symbol">)</a>
                             <a id="21765" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21767" href="Ledger.Utxo.Properties.html#21406" class="Bound">balanceUtxo&#39;</a> <a id="21780" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21782" class="Symbol">(</a><a id="21783" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="21788" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21790" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="21795" class="Symbol">)</a> <a id="21797" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21799" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21807" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="21817" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21819" class="Symbol">(</a><a id="21820" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="21830" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21832" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="21842" class="Symbol">)</a>
    <a id="21848" href="Ledger.Utxo.Properties.html#21600" class="Function">pov-scripts-worker</a> <a id="21867" href="Ledger.Utxo.Properties.html#21867" class="Bound">valid</a> <a id="21873" class="Symbol">=</a> <a id="21875" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="21887" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="21899" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21901" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="21906" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21908" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21916" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a> <a id="21925" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21927" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="21937" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21939" href="Ledger.Utxo.Properties.html#13278" class="Function">φ</a><a id="21940" class="Symbol">(</a><a id="21941" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="21946" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21948" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="21955" class="Symbol">)</a>
        <a id="21965" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21968" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21973" class="Symbol">(λ</a> <a id="21976" href="Ledger.Utxo.Properties.html#21976" class="Bound">x</a> <a id="21978" class="Symbol">→</a> <a id="21980" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="21992" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21994" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="21999" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22001" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="22009" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a> <a id="22018" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22020" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="22030" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22032" href="Ledger.Utxo.Properties.html#13278" class="Function">φ</a><a id="22033" class="Symbol">(</a><a id="22034" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="22039" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22041" href="Ledger.Utxo.Properties.html#21976" class="Bound">x</a><a id="22042" class="Symbol">))</a> <a id="22045" href="Ledger.Utxo.Properties.html#21867" class="Bound">valid</a> <a id="22051" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22059" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22071" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22073" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="22078" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22080" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="22084" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22086" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="22096" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22098" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a>
        <a id="22111" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22114" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="22122" class="Symbol">(</a><a id="22123" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22135" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22137" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="22142" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22144" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="22147" class="Symbol">)</a> <a id="22149" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="22159" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="22164" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22172" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22184" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22186" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="22191" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22193" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="22197" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22199" class="Symbol">(</a><a id="22200" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="22210" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22212" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a><a id="22216" class="Symbol">)</a>
        <a id="22226" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22229" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22234" class="Symbol">(</a><a id="22235" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22247" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22249" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="22254" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22256" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="22260" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="22262" class="Symbol">)</a> <a id="22264" class="Symbol">(</a><a id="22265" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="22272" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="22282" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a><a id="22286" class="Symbol">)</a> <a id="22288" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22296" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22308" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22310" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="22315" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22317" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="22321" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22323" class="Symbol">(</a><a id="22324" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="22329" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22331" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a><a id="22340" class="Symbol">)</a>
        <a id="22350" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="22354" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="22362" class="Symbol">(</a><a id="22363" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22375" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22377" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="22382" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22384" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a><a id="22387" class="Symbol">)</a> <a id="22389" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="22394" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a>  <a id="22405" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="22413" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22425" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22427" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="22432" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22434" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="22438" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22440" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="22445" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22447" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a>
        <a id="22465" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22468" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22473" class="Symbol">(</a><a id="22474" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="22477" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a><a id="22486" class="Symbol">)</a>
        <a id="22496" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="22498" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
            <a id="22516" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22528" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22530" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="22535" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22537" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="22541" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22543" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a>
              <a id="22562" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="22566" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22571" class="Symbol">(λ</a> <a id="22574" href="Ledger.Utxo.Properties.html#22574" class="Bound">x</a> <a id="22576" class="Symbol">→</a> <a id="22578" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22590" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22592" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="22597" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22599" href="Ledger.Utxo.Properties.html#22574" class="Bound">x</a> <a id="22601" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22603" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a><a id="22607" class="Symbol">)</a> <a id="22609" class="Symbol">(</a><a id="22610" href="Data.Nat.Properties.html#51744" class="Function">m+[n∸m]≡n</a> <a id="22620" href="Ledger.Utxo.Properties.html#16403" class="Function">ref≤dep</a><a id="22627" class="Symbol">)</a> <a id="22629" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="22643" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22655" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22657" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="22662" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22664" class="Symbol">(</a><a id="22665" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="22669" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22671" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a><a id="22680" class="Symbol">)</a> <a id="22682" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22684" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a>
              <a id="22703" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22706" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22711" class="Symbol">(</a><a id="22712" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="22715" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a><a id="22719" class="Symbol">)</a> <a id="22721" class="Symbol">(</a><a id="22722" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="22730" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22742" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="22747" class="Symbol">(</a><a id="22748" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="22752" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22754" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a><a id="22763" class="Symbol">))</a> <a id="22766" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="22780" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22792" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22794" class="Symbol">(</a><a id="22795" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="22800" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22802" class="Symbol">(</a><a id="22803" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="22807" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22809" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a><a id="22818" class="Symbol">))</a> <a id="22821" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22823" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a>
              <a id="22842" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22845" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22850" class="Symbol">(λ</a> <a id="22853" href="Ledger.Utxo.Properties.html#22853" class="Bound">x</a> <a id="22855" class="Symbol">→</a> <a id="22857" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22869" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22871" href="Ledger.Utxo.Properties.html#22853" class="Bound">x</a> <a id="22873" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22875" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a><a id="22879" class="Symbol">)</a> <a id="22881" class="Symbol">(</a><a id="22882" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="22889" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="22894" class="Symbol">(</a><a id="22895" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="22899" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22901" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a><a id="22910" class="Symbol">))</a> <a id="22913" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="22927" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="22939" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22941" class="Symbol">(</a><a id="22942" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="22946" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22948" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="22958" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22960" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="22964" class="Symbol">)</a> <a id="22966" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22968" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a>
              <a id="22987" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22990" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22995" class="Symbol">(λ</a> <a id="22998" href="Ledger.Utxo.Properties.html#22998" class="Bound">x</a> <a id="23000" class="Symbol">→</a> <a id="23002" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="23014" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23016" href="Ledger.Utxo.Properties.html#22998" class="Bound">x</a> <a id="23018" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23020" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a><a id="23024" class="Symbol">)</a> <a id="23026" class="Symbol">(</a><a id="23027" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23035" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="23039" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23049" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23053" class="Symbol">)</a> <a id="23055" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a> <a id="23057" class="Comment">--</a>
            <a id="23072" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="23084" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23086" class="Symbol">(</a><a id="23087" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="23091" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23093" class="Symbol">(</a><a id="23094" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23104" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23106" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23110" class="Symbol">))</a> <a id="23113" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23115" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a>
              <a id="23134" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23137" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23145" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="23157" class="Symbol">(</a><a id="23158" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="23162" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23164" class="Symbol">(</a><a id="23165" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23175" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23177" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23181" class="Symbol">))</a> <a id="23184" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="23189" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a> <a id="23191" class="Comment">--</a>
            <a id="23206" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="23218" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23220" class="Symbol">(</a><a id="23221" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="23225" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23227" class="Symbol">(</a><a id="23228" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23238" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23240" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23244" class="Symbol">)</a> <a id="23246" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23248" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a><a id="23252" class="Symbol">)</a>
              <a id="23268" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23271" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23276" class="Symbol">(</a><a id="23277" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="23289" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="23291" class="Symbol">)</a> <a id="23293" class="Symbol">(</a><a id="23294" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23302" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="23306" class="Symbol">(</a><a id="23307" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23317" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23319" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23323" class="Symbol">)</a> <a id="23325" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a><a id="23329" class="Symbol">)</a> <a id="23331" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23345" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="23357" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23359" class="Symbol">(</a><a id="23360" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="23364" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23366" class="Symbol">((</a><a id="23368" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23378" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23380" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23384" class="Symbol">)</a> <a id="23386" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23388" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a><a id="23392" class="Symbol">))</a>
              <a id="23409" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23412" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23417" class="Symbol">(λ</a> <a id="23420" href="Ledger.Utxo.Properties.html#23420" class="Bound">x</a> <a id="23422" class="Symbol">→</a> <a id="23424" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="23436" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23438" class="Symbol">(</a><a id="23439" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="23443" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23445" href="Ledger.Utxo.Properties.html#23420" class="Bound">x</a><a id="23446" class="Symbol">))</a> <a id="23449" class="Symbol">(</a><a id="23450" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="23457" class="Symbol">(</a><a id="23458" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23468" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23470" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23474" class="Symbol">)</a> <a id="23476" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a><a id="23480" class="Symbol">)</a> <a id="23482" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23496" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="23508" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23510" class="Symbol">(</a><a id="23511" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="23515" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23517" class="Symbol">(</a><a id="23518" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="23523" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23525" class="Symbol">(</a><a id="23526" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23536" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23538" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23542" class="Symbol">)))</a>
              <a id="23560" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="23564" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23572" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="23584" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="23588" class="Symbol">(</a><a id="23589" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="23594" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23596" class="Symbol">(</a><a id="23597" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23607" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23609" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23613" class="Symbol">))</a> <a id="23616" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="23630" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="23642" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23644" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="23648" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23650" class="Symbol">(</a><a id="23651" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="23656" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23658" class="Symbol">(</a><a id="23659" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23669" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23671" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23675" class="Symbol">))</a>
              <a id="23692" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="23696" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="23704" class="Symbol">(</a><a id="23705" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="23717" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23719" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a><a id="23722" class="Symbol">)</a> <a id="23724" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="23729" class="Symbol">(</a><a id="23730" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23740" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23742" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23746" class="Symbol">)</a> <a id="23748" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="23762" href="Ledger.Utxo.Properties.html#21394" class="Bound">balanceUtxo</a> <a id="23774" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23776" href="Ledger.Utxo.Properties.html#14361" class="Function">ref</a> <a id="23780" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23782" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="23787" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23789" class="Symbol">(</a><a id="23790" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23800" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23802" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23806" class="Symbol">)</a>
              <a id="23822" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23825" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23830" class="Symbol">(</a><a id="23831" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="23834" class="Symbol">(</a><a id="23835" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23845" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23847" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23851" class="Symbol">))</a> <a id="23854" href="Ledger.Utxo.Properties.html#21439" class="Bound">ref-prop</a> <a id="23863" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23877" href="Ledger.Utxo.Properties.html#21406" class="Bound">balanceUtxo&#39;</a> <a id="23890" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23892" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="23898" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23900" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="23911" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23913" href="Ledger.Utxo.Properties.html#14365" class="Function">tot</a> <a id="23917" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23919" class="Symbol">(</a><a id="23920" href="Ledger.Utxo.Properties.html#15329" class="Function">remDepTot</a> <a id="23930" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23932" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="23936" class="Symbol">)</a>
              <a id="23952" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23955" href="Ledger.Utxo.Properties.html#20047" class="Function">rearrange0</a> <a id="23966" class="Symbol">(</a><a id="23967" href="Ledger.Utxo.Properties.html#21406" class="Bound">balanceUtxo&#39;</a><a id="23979" class="Symbol">)</a> <a id="23981" href="Ledger.Utxo.Properties.html#21530" class="Bound">h</a> <a id="23983" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23997" href="Ledger.Utxo.Properties.html#21406" class="Bound">balanceUtxo&#39;</a> <a id="24010" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24012" class="Symbol">(</a><a id="24013" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="24018" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24020" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="24026" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24028" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24036" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="24046" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24048" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="24058" class="Symbol">)</a>
              <a id="24074" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="24076" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="24084" href="Ledger.Utxo.Properties.html#21406" class="Bound">balanceUtxo&#39;</a> <a id="24097" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24101" class="Symbol">(</a><a id="24102" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="24107" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24109" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="24115" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24119" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24127" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="24137" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24141" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="24151" class="Symbol">)</a> <a id="24153" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24157" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a>
        <a id="24175" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="24186" href="Ledger.Utxo.Properties.html#21406" class="Bound">balanceUtxo&#39;</a> <a id="24199" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24203" class="Symbol">(</a><a id="24204" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="24209" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24211" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="24216" class="Symbol">)</a> <a id="24218" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24222" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24230" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="24240" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24244" class="Symbol">(</a><a id="24245" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="24256" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24260" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a><a id="24269" class="Symbol">)</a>
        <a id="24279" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="24282" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="24287" class="Symbol">(</a><a id="24288" href="Ledger.Utxo.Properties.html#21406" class="Bound">balanceUtxo&#39;</a> <a id="24301" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24303" class="Symbol">(</a><a id="24304" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="24309" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24311" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="24316" class="Symbol">)</a> <a id="24318" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24320" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24328" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="24338" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+_</a><a id="24342" class="Symbol">)</a>
         <a id="24353" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="24355" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="24362" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="24373" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="24383" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="24391" href="Ledger.Utxo.Properties.html#21406" class="Bound">balanceUtxo&#39;</a> <a id="24404" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24406" class="Symbol">(</a><a id="24407" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="24412" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24414" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="24419" class="Symbol">)</a> <a id="24421" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24423" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24431" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="24441" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24443" class="Symbol">(</a><a id="24444" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="24454" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24456" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="24466" class="Symbol">)</a>
        <a id="24476" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="24481" href="Ledger.Utxo.Properties.html#24481" class="Function">pov-scripts</a> <a id="24493" class="Symbol">:</a>  <a id="24496" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="24506" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24508" href="Ledger.Utxo.html#8713" class="Function">updateDeposits</a> <a id="24523" href="Ledger.Utxo.Properties.html#14077" class="Function">pp</a> <a id="24526" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a> <a id="24530" href="Ledger.Utxo.Properties.html#13400" class="Bound">deposits</a>
                 <a id="24556" class="Symbol">→</a>  <a id="24559" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="24567" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24569" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                 <a id="24591" class="Symbol">→</a>  <a id="24594" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="24603" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="24608" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24610" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="24615" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24617" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="24621" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24623" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="24633" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24635" href="Ledger.Utxo.Properties.html#13278" class="Function">φ</a><a id="24636" class="Symbol">(</a><a id="24637" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="24642" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24644" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="24651" class="Symbol">)</a>
                    <a id="24673" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>  <a id="24676" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="24685" class="Symbol">((</a><a id="24687" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="24692" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="24694" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="24700" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="24701" class="Symbol">)</a> <a id="24703" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="24706" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="24711" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a><a id="24714" class="Symbol">)</a>
                       <a id="24739" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24741" class="Symbol">(</a><a id="24742" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="24747" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24749" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="24754" class="Symbol">)</a> <a id="24756" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24758" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24766" href="Ledger.Utxo.Properties.html#13409" class="Bound">deposits&#39;</a> <a id="24776" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24778" class="Symbol">(</a><a id="24779" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="24789" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="24791" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="24801" class="Symbol">)</a>
  <a id="24805" href="Ledger.Utxo.Properties.html#24481" class="Function">pov-scripts</a> <a id="24817" href="Ledger.Utxo.Properties.html#24817" class="Bound">h</a> <a id="24819" href="Ledger.Utxo.Properties.html#24819" class="Bound">valid</a> <a id="24825" class="Symbol">=</a> <a id="24827" href="Ledger.Utxo.Properties.html#21600" class="Function">pov-scripts-worker</a> <a id="24846" class="Symbol">(</a><a id="24847" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="24856" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a><a id="24860" class="Symbol">)</a> <a id="24862" class="Symbol">(</a><a id="24863" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="24872" class="Symbol">((</a><a id="24874" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="24879" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="24881" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="24887" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="24888" class="Symbol">)</a> <a id="24890" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="24893" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="24898" href="Ledger.Utxo.Properties.html#13522" class="Field">txb</a><a id="24901" class="Symbol">))</a> <a id="24904" href="Ledger.Utxo.Properties.html#19413" class="Function">utxo-ref-prop</a> <a id="24918" href="Ledger.Utxo.Properties.html#24817" class="Bound">h</a> <a id="24920" href="Ledger.Utxo.Properties.html#24819" class="Bound">valid</a>

  <a id="24929" href="Ledger.Utxo.Properties.html#24929" class="Function">pov-no-scripts</a> <a id="24944" class="Symbol">:</a>  <a id="24947" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="24955" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24957" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="24983" class="Symbol">→</a>  <a id="24986" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="24995" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25000" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25002" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="25007" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25009" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="25013" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25015" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="25025" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25027" href="Ledger.Utxo.Properties.html#13278" class="Function">φ</a><a id="25028" class="Symbol">(</a><a id="25029" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="25034" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25036" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="25043" class="Symbol">)</a>
                       <a id="25068" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25070" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25079" class="Symbol">(</a><a id="25080" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25085" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25087" href="Ledger.Transaction.html#3180" class="Function">collateral</a> <a id="25098" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25099" class="Symbol">)</a> <a id="25101" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25103" class="Symbol">(</a><a id="25104" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="25109" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25111" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25120" class="Symbol">(</a><a id="25121" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25126" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25128" href="Ledger.Transaction.html#3180" class="Function">collateral</a><a id="25138" class="Symbol">))</a> <a id="25141" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25143" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="25147" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25149" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a>
  <a id="25161" href="Ledger.Utxo.Properties.html#24929" class="Function">pov-no-scripts</a> <a id="25176" href="Ledger.Utxo.Properties.html#25176" class="Bound">invalid</a> <a id="25184" class="Symbol">=</a> <a id="25186" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="25196" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25205" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25210" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25212" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="25217" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25219" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="25223" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25225" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="25235" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25237" href="Ledger.Utxo.Properties.html#13278" class="Function">φ</a><a id="25238" class="Symbol">(</a><a id="25239" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="25244" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25246" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="25253" class="Symbol">)</a> <a id="25255" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25258" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25263" class="Symbol">(λ</a> <a id="25266" href="Ledger.Utxo.Properties.html#25266" class="Bound">x</a> <a id="25268" class="Symbol">→</a> <a id="25270" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25279" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25284" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25286" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="25291" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25293" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="25297" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25299" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="25309" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25311" href="Ledger.Utxo.Properties.html#13278" class="Function">φ</a><a id="25312" class="Symbol">(</a><a id="25313" href="Ledger.Utxo.Properties.html#14419" class="Function">wdls</a> <a id="25318" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25320" href="Ledger.Utxo.Properties.html#25266" class="Bound">x</a><a id="25321" class="Symbol">))</a> <a id="25324" href="Ledger.Utxo.Properties.html#25176" class="Bound">invalid</a> <a id="25332" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25338" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25347" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25352" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25354" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="25359" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25361" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="25365" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25367" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="25377" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25379" class="Number">0</a> <a id="25381" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25384" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="25396" class="Symbol">_</a> <a id="25398" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25404" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25413" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25418" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25420" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="25425" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25427" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="25431" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25433" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a> <a id="25443" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25446" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25451" class="Symbol">(λ</a> <a id="25454" href="Ledger.Utxo.Properties.html#25454" class="Bound">x</a> <a id="25456" class="Symbol">→</a> <a id="25458" href="Ledger.Utxo.Properties.html#25454" class="Bound">x</a> <a id="25460" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25462" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="25466" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25468" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a><a id="25477" class="Symbol">)</a> <a id="25479" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="25481" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="25493" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25502" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25507" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25511" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="25516" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25519" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25524" class="Symbol">(</a><a id="25525" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="25528" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="25532" class="Symbol">)</a> <a id="25534" class="Symbol">(</a><a id="25535" href="Ledger.Utxo.Properties.html#17384" class="Function">split-balance</a> <a id="25549" href="Ledger.Transaction.html#3180" class="Function">collateral</a><a id="25559" class="Symbol">)</a> <a id="25561" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="25569" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25578" class="Symbol">(</a><a id="25579" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25584" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25586" href="Ledger.Transaction.html#3180" class="Function">collateral</a> <a id="25597" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25598" class="Symbol">)</a> <a id="25600" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25604" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25613" class="Symbol">(</a><a id="25614" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25619" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25621" href="Ledger.Transaction.html#3180" class="Function">collateral</a><a id="25631" class="Symbol">)</a> <a id="25633" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25637" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="25642" href="Tactic.EquationalReasoning.html#540" class="Function Operator">≡t⟨⟩</a>
      <a id="25653" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25662" class="Symbol">(</a><a id="25663" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25668" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25670" href="Ledger.Transaction.html#3180" class="Function">collateral</a> <a id="25681" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25682" class="Symbol">)</a> <a id="25684" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25688" class="Symbol">(</a><a id="25689" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25698" class="Symbol">(</a><a id="25699" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25704" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25706" href="Ledger.Transaction.html#3180" class="Function">collateral</a><a id="25716" class="Symbol">)</a> <a id="25718" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25722" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="25726" class="Symbol">)</a> <a id="25728" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25731" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25736" class="Symbol">(</a><a id="25737" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25746" class="Symbol">(</a><a id="25747" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25752" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25754" href="Ledger.Transaction.html#3180" class="Function">collateral</a> <a id="25765" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25766" class="Symbol">)</a> <a id="25768" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="25770" class="Symbol">)</a> <a id="25772" class="Symbol">(</a><a id="25773" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="25780" class="Symbol">_</a> <a id="25782" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a><a id="25786" class="Symbol">)</a> <a id="25788" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="25796" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25805" class="Symbol">(</a><a id="25806" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25811" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25813" href="Ledger.Transaction.html#3180" class="Function">collateral</a> <a id="25824" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25825" class="Symbol">)</a> <a id="25827" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25831" class="Symbol">(</a><a id="25832" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="25837" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25841" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25850" class="Symbol">(</a><a id="25851" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25856" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25858" href="Ledger.Transaction.html#3180" class="Function">collateral</a><a id="25868" class="Symbol">))</a> <a id="25871" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="25873" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25879" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25888" class="Symbol">(</a><a id="25889" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25894" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25896" href="Ledger.Transaction.html#3180" class="Function">collateral</a> <a id="25907" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25908" class="Symbol">)</a> <a id="25910" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25912" class="Symbol">(</a><a id="25913" href="Ledger.Utxo.Properties.html#13378" class="Bound">fees</a> <a id="25918" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25920" href="Ledger.Utxo.html#3059" class="Function">cbalance</a> <a id="25929" class="Symbol">(</a><a id="25930" href="Ledger.Utxo.Properties.html#13356" class="Bound">utxo</a> <a id="25935" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25937" href="Ledger.Transaction.html#3180" class="Function">collateral</a><a id="25947" class="Symbol">))</a> <a id="25950" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25952" href="Ledger.Utxo.Properties.html#14121" class="Function">dep</a> <a id="25956" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="25958" href="Ledger.Utxo.Properties.html#13447" class="Bound">donations</a>
    <a id="25972" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>


<a id="UTXO-step"></a><a id="25976" href="Ledger.Utxo.Properties.html#25976" class="Function">UTXO-step</a> <a id="25986" class="Symbol">:</a> <a id="25988" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a> <a id="25996" class="Symbol">→</a> <a id="25998" href="Ledger.Utxo.html#2458" class="Record">UTxOState</a> <a id="26008" class="Symbol">→</a> <a id="26010" href="Ledger.Transaction.html#3538" class="Record">Tx</a> <a id="26013" class="Symbol">→</a> <a id="26015" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="26033" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="26040" href="Ledger.Utxo.html#2458" class="Record">UTxOState</a>
<a id="26050" href="Ledger.Utxo.Properties.html#25976" class="Function">UTXO-step</a> <a id="26060" class="Symbol">=</a> <a id="26062" href="Interface.ComputationalRelation.html#2976" class="Function">compute</a> <a id="26070" class="Symbol">⦃</a> <a id="26072" href="Ledger.Utxo.Properties.html#7105" class="Function">Computational-UTXO</a> <a id="26091" class="Symbol">⦄</a>

<a id="UTXO-step-computes-UTXO"></a><a id="26094" href="Ledger.Utxo.Properties.html#26094" class="Function">UTXO-step-computes-UTXO</a>  <a id="26119" class="Symbol">:</a>  <a id="26122" href="Ledger.Utxo.Properties.html#25976" class="Function">UTXO-step</a> <a id="26132" href="Ledger.Utxo.Properties.html#7306" class="Generalizable">Γ</a> <a id="26134" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a> <a id="26144" href="Ledger.Utxo.Properties.html#7224" class="Generalizable">tx</a> <a id="26147" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26149" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="26157" href="Ledger.Utxo.Properties.html#7361" class="Generalizable">utxoState&#39;</a>
                         <a id="26193" href="Function.Bundles.html#12400" class="Function Operator">⇔</a>  <a id="26196" href="Ledger.Utxo.Properties.html#7306" class="Generalizable">Γ</a> <a id="26198" href="Ledger.Utxo.html#2766" class="Datatype Operator">⊢</a> <a id="26200" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a> <a id="26210" href="Ledger.Utxo.html#2766" class="Datatype Operator">⇀⦇</a> <a id="26213" href="Ledger.Utxo.Properties.html#7224" class="Generalizable">tx</a> <a id="26216" href="Ledger.Utxo.html#2766" class="Datatype Operator">,UTXO⦈</a> <a id="26223" href="Ledger.Utxo.Properties.html#7361" class="Generalizable">utxoState&#39;</a>
<a id="26234" href="Ledger.Utxo.Properties.html#26094" class="Function">UTXO-step-computes-UTXO</a> <a id="26258" class="Symbol">=</a> <a id="26260" href="Interface.ComputationalRelation.html#3323" class="Function">≡-success⇔STS</a> <a id="26274" class="Symbol">⦃</a> <a id="26276" href="Ledger.Utxo.Properties.html#7105" class="Function">Computational-UTXO</a> <a id="26295" class="Symbol">⦄</a>


<a id="pov"></a><a id="26299" href="Ledger.Utxo.Properties.html#26299" class="Function">pov</a> <a id="26303" class="Symbol">:</a> <a id="26305" class="Keyword">let</a> <a id="26309" class="Keyword">open</a> <a id="26314" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="26317" href="Ledger.Utxo.Properties.html#7224" class="Generalizable">tx</a><a id="26319" class="Symbol">;</a> <a id="26321" class="Keyword">open</a> <a id="26326" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="26333" href="Ledger.Transaction.html#3570" class="Function">body</a> <a id="26338" class="Keyword">in</a>


  <a id="26345" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="26350" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="26352" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="26357" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="26363" class="Symbol">(</a><a id="26364" href="Class.IsSet.html#916" class="Function">dom</a> <a id="26368" href="Ledger.Utxo.Properties.html#7264" class="Generalizable">utxo</a><a id="26372" class="Symbol">)</a>


  <a id="26378" class="Symbol">→</a>


  <a id="26384" href="Ledger.Utxo.Properties.html#7306" class="Generalizable">Γ</a> <a id="26386" href="Ledger.Utxo.html#2766" class="Datatype Operator">⊢</a>  <a id="26389" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="26391" href="Ledger.Utxo.Properties.html#7264" class="Generalizable">utxo</a>   <a id="26398" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26400" href="Ledger.Utxo.Properties.html#7398" class="Generalizable">fees</a>   <a id="26407" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26409" href="Ledger.Utxo.Properties.html#7440" class="Generalizable">deposits</a>   <a id="26420" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26422" href="Ledger.Utxo.Properties.html#7409" class="Generalizable">donations</a>   <a id="26434" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="26436" href="Ledger.Utxo.html#2766" class="Datatype Operator">⇀⦇</a> <a id="26439" href="Ledger.Utxo.Properties.html#7224" class="Generalizable">tx</a> <a id="26442" href="Ledger.Utxo.html#2766" class="Datatype Operator">,UTXO⦈</a>
       <a id="26456" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="26458" href="Ledger.Utxo.Properties.html#7269" class="Generalizable">utxo&#39;</a>  <a id="26465" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26467" href="Ledger.Utxo.Properties.html#7403" class="Generalizable">fees&#39;</a>  <a id="26474" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26476" href="Ledger.Utxo.Properties.html#7449" class="Generalizable">deposits&#39;</a>  <a id="26487" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26489" href="Ledger.Utxo.Properties.html#7419" class="Generalizable">donations&#39;</a>  <a id="26501" href="Class.To.html#102" class="Field Operator">⟧</a>


  <a id="26507" class="Symbol">→</a>


  <a id="26513" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26521" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="26523" href="Ledger.Utxo.Properties.html#7264" class="Generalizable">utxo</a> <a id="26528" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26530" href="Ledger.Utxo.Properties.html#7398" class="Generalizable">fees</a> <a id="26535" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26537" href="Ledger.Utxo.Properties.html#7440" class="Generalizable">deposits</a> <a id="26546" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26548" href="Ledger.Utxo.Properties.html#7409" class="Generalizable">donations</a> <a id="26558" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="26560" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="26562" href="Ledger.Utxo.Properties.html#13278" class="Function">φ</a><a id="26563" class="Symbol">(</a><a id="26564" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26572" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="26580" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26582" href="Ledger.Transaction.html#3623" class="Function">isValid</a><a id="26589" class="Symbol">)</a>
  <a id="26593" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26595" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26603" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="26605" href="Ledger.Utxo.Properties.html#7269" class="Generalizable">utxo&#39;</a> <a id="26611" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26613" href="Ledger.Utxo.Properties.html#7403" class="Generalizable">fees&#39;</a> <a id="26619" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26621" href="Ledger.Utxo.Properties.html#7449" class="Generalizable">deposits&#39;</a> <a id="26631" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26633" href="Ledger.Utxo.Properties.html#7419" class="Generalizable">donations&#39;</a> <a id="26644" href="Class.To.html#102" class="Field Operator">⟧</a>


<a id="26648" href="Ledger.Utxo.Properties.html#26299" class="Function">pov</a> <a id="26652" class="Symbol">{</a><a id="26653" class="Argument">deposits&#39;</a> <a id="26663" class="Symbol">=</a> <a id="26665" href="Ledger.Utxo.Properties.html#26665" class="Bound">deposits&#39;</a><a id="26674" class="Symbol">}</a> <a id="26676" href="Ledger.Utxo.Properties.html#26676" class="Bound">h&#39;</a>
    <a id="26683" href="Ledger.Utxo.Properties.html#26683" class="Bound">step</a><a id="26687" class="Symbol">@(</a><a id="26689" href="Ledger.Utxo.html#14837" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="26705" class="Symbol">_</a> <a id="26707" href="Ledger.Utxo.Properties.html#26707" class="Bound">Γ</a> <a id="26709" class="Symbol">_</a> <a id="26711" class="Symbol">_</a> <a id="26713" class="Symbol">_</a> <a id="26715" class="Symbol">_</a> <a id="26717" class="Symbol">_</a> <a id="26719" class="Symbol">_</a> <a id="26721" href="Ledger.Utxo.Properties.html#26721" class="Bound">newBal</a> <a id="26728" href="Ledger.Utxo.Properties.html#26728" class="Bound">noMintAda</a> <a id="26738" class="Symbol">_</a> <a id="26740" class="Symbol">_</a> <a id="26742" class="Symbol">_</a> <a id="26744" class="Symbol">_</a> <a id="26746" class="Symbol">_</a> <a id="26748" class="Symbol">_</a> <a id="26750" class="Symbol">_</a> <a id="26752" class="Symbol">_</a> <a id="26754" class="Symbol">_</a> <a id="26756" class="Symbol">(</a><a id="26757" href="Ledger.Utxo.html#12402" class="InductiveConstructor">Scripts-Yes</a> <a id="26769" class="Symbol">(_</a> <a id="26772" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26774" class="Symbol">_</a> <a id="26776" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26778" href="Ledger.Utxo.Properties.html#26778" class="Bound">valid</a><a id="26783" class="Symbol">)))</a> <a id="26787" class="Symbol">=</a>
    <a id="26793" href="Ledger.Utxo.Properties.html#24481" class="Function">DepositHelpers.pov-scripts</a> <a id="26820" href="Ledger.Utxo.Properties.html#26683" class="Bound">step</a> <a id="26825" href="Ledger.Utxo.Properties.html#26676" class="Bound">h&#39;</a> <a id="26828" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="26833" href="Ledger.Utxo.Properties.html#26778" class="Bound">valid</a>

<a id="26840" href="Ledger.Utxo.Properties.html#26299" class="Function">pov</a> <a id="26844" href="Ledger.Utxo.Properties.html#26844" class="Bound">h&#39;</a> <a id="26847" href="Ledger.Utxo.Properties.html#26847" class="Bound">step</a><a id="26851" class="Symbol">@(</a><a id="26853" href="Ledger.Utxo.html#14837" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="26869" class="Symbol">_</a> <a id="26871" class="Symbol">_</a> <a id="26873" class="Symbol">_</a> <a id="26875" class="Symbol">_</a> <a id="26877" class="Symbol">_</a> <a id="26879" class="Symbol">_</a> <a id="26881" class="Symbol">_</a> <a id="26883" class="Symbol">_</a> <a id="26885" class="Symbol">_</a> <a id="26887" class="Symbol">_</a> <a id="26889" class="Symbol">_</a> <a id="26891" class="Symbol">_</a> <a id="26893" class="Symbol">_</a> <a id="26895" class="Symbol">_</a> <a id="26897" class="Symbol">_</a> <a id="26899" class="Symbol">_</a> <a id="26901" class="Symbol">_</a> <a id="26903" class="Symbol">_</a> <a id="26905" class="Symbol">_</a> <a id="26907" class="Symbol">(</a><a id="26908" href="Ledger.Utxo.html#12916" class="InductiveConstructor">Scripts-No</a> <a id="26919" class="Symbol">(_</a> <a id="26922" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26924" href="Ledger.Utxo.Properties.html#26924" class="Bound">invalid</a><a id="26931" class="Symbol">)))</a> <a id="26935" class="Symbol">=</a>
  <a id="26939" href="Ledger.Utxo.Properties.html#24929" class="Function">DepositHelpers.pov-no-scripts</a> <a id="26969" href="Ledger.Utxo.Properties.html#26847" class="Bound">step</a> <a id="26974" href="Ledger.Utxo.Properties.html#26844" class="Bound">h&#39;</a> <a id="26977" href="Ledger.Utxo.Properties.html#26924" class="Bound">invalid</a>


<a id="isRefundCert"></a><a id="26987" href="Ledger.Utxo.Properties.html#26987" class="Function">isRefundCert</a> <a id="27000" class="Symbol">:</a> <a id="27002" href="Ledger.Certs.html#926" class="Datatype">DCert</a> <a id="27008" class="Symbol">→</a> <a id="27010" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="27015" href="Ledger.Utxo.Properties.html#26987" class="Function">isRefundCert</a> <a id="27028" class="Symbol">(</a><a id="27029" href="Ledger.Certs.html#1020" class="InductiveConstructor">dereg</a> <a id="27035" href="Ledger.Utxo.Properties.html#27035" class="Bound">c</a> <a id="27037" class="Symbol">_)</a> <a id="27040" class="Symbol">=</a> <a id="27042" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="27047" href="Ledger.Utxo.Properties.html#26987" class="Function">isRefundCert</a> <a id="27060" class="Symbol">(</a><a id="27061" href="Ledger.Certs.html#1204" class="InductiveConstructor">deregdrep</a> <a id="27071" href="Ledger.Utxo.Properties.html#27071" class="Bound">c</a> <a id="27073" class="Symbol">_)</a> <a id="27076" class="Symbol">=</a> <a id="27078" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="27083" href="Ledger.Utxo.Properties.html#26987" class="CatchallClause Function">isRefundCert</a><a id="27095" class="CatchallClause"> </a><a id="27096" class="CatchallClause Symbol">_</a> <a id="27098" class="Symbol">=</a> <a id="27100" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="noRefundCert"></a><a id="27107" href="Ledger.Utxo.Properties.html#27107" class="Function">noRefundCert</a> <a id="27120" class="Symbol">:</a> <a id="27122" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="27127" href="Ledger.Certs.html#926" class="Datatype">DCert</a> <a id="27133" class="Symbol">→</a> <a id="27135" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="27140" class="Symbol">_</a>
<a id="27142" href="Ledger.Utxo.Properties.html#27107" class="Function">noRefundCert</a> <a id="27155" href="Ledger.Utxo.Properties.html#27155" class="Bound">l</a> <a id="27157" class="Symbol">=</a> <a id="27159" href="Data.List.Relation.Unary.All.html#1644" class="Datatype">All</a> <a id="27163" class="Symbol">(λ</a> <a id="27166" href="Ledger.Utxo.Properties.html#27166" class="Bound">cert</a> <a id="27171" class="Symbol">→</a> <a id="27173" href="Ledger.Utxo.Properties.html#26987" class="Function">isRefundCert</a> <a id="27186" href="Ledger.Utxo.Properties.html#27166" class="Bound">cert</a> <a id="27191" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27193" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="27198" class="Symbol">)</a> <a id="27200" href="Ledger.Utxo.Properties.html#27155" class="Bound">l</a>

<a id="27203" class="Keyword">opaque</a>
  <a id="27212" class="Keyword">unfolding</a> <a id="27222" href="abstract-set-theory.FiniteSetTheory.html#240" class="Function">List-Model</a>
  <a id="27235" class="Keyword">unfolding</a> <a id="27245" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a>
  <a id="fin∘list[]"></a><a id="27258" href="Ledger.Utxo.Properties.html#27258" class="Function">fin∘list[]</a> <a id="27269" class="Symbol">:</a> <a id="27271" class="Symbol">{</a><a id="27272" href="Ledger.Utxo.Properties.html#27272" class="Bound">A</a> <a id="27274" class="Symbol">:</a> <a id="27276" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="27280" class="Symbol">}</a> <a id="27282" class="Symbol">→</a> <a id="27284" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27290" class="Symbol">(</a><a id="27291" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a><a id="27301" class="Symbol">{</a><a id="27302" class="Argument">A</a> <a id="27304" class="Symbol">=</a> <a id="27306" href="Ledger.Utxo.Properties.html#27272" class="Bound">A</a><a id="27307" class="Symbol">}</a> <a id="27309" href="Class.HasEmptySet.html#287" class="Field">∅</a><a id="27310" class="Symbol">)</a> <a id="27312" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27314" class="InductiveConstructor">[]</a>
  <a id="27319" href="Ledger.Utxo.Properties.html#27258" class="Function">fin∘list[]</a> <a id="27330" class="Symbol">=</a> <a id="27332" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="fin∘list∷[]"></a><a id="27339" href="Ledger.Utxo.Properties.html#27339" class="Function">fin∘list∷[]</a> <a id="27351" class="Symbol">:</a> <a id="27353" class="Symbol">{</a><a id="27354" href="Ledger.Utxo.Properties.html#27354" class="Bound">A</a> <a id="27356" class="Symbol">:</a> <a id="27358" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="27362" class="Symbol">}</a> <a id="27364" class="Symbol">{</a><a id="27365" href="Ledger.Utxo.Properties.html#27365" class="Bound">a</a> <a id="27367" class="Symbol">:</a> <a id="27369" href="Ledger.Utxo.Properties.html#27354" class="Bound">A</a><a id="27370" class="Symbol">}</a> <a id="27372" class="Symbol">→</a> <a id="27374" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27380" class="Symbol">(</a><a id="27381" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27392" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="27394" href="Ledger.Utxo.Properties.html#27365" class="Bound">a</a> <a id="27396" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="27397" class="Symbol">)</a> <a id="27399" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27401" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="27403" href="Ledger.Utxo.Properties.html#27365" class="Bound">a</a> <a id="27405" href="Data.List.Base.html#5205" class="Function Operator">]</a>
  <a id="27409" href="Ledger.Utxo.Properties.html#27339" class="Function">fin∘list∷[]</a> <a id="27421" class="Symbol">=</a> <a id="27423" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="coin∅"></a><a id="27429" href="Ledger.Utxo.Properties.html#27429" class="Function">coin∅</a> <a id="27435" class="Symbol">:</a> <a id="27437" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="27444" class="Symbol">{</a><a id="27445" class="Argument">A</a> <a id="27447" class="Symbol">=</a> <a id="27449" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="27464" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="27466" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27470" class="Symbol">}</a> <a id="27472" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="27474" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27476" class="Number">0</a>
<a id="27478" href="Ledger.Utxo.Properties.html#27429" class="Function">coin∅</a> <a id="27484" class="Symbol">=</a> <a id="27486" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="27494" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27500" class="Symbol">(λ</a> <a id="27503" href="Ledger.Utxo.Properties.html#27503" class="Bound">x</a> <a id="27505" class="Symbol">→</a> <a id="27507" class="Symbol">(</a><a id="27508" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27514" href="Ledger.Utxo.Properties.html#27503" class="Bound">x</a><a id="27515" class="Symbol">)</a> <a id="27517" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27519" class="Symbol">)</a> <a id="27521" class="Number">0</a> <a id="27523" class="Symbol">(</a><a id="27524" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27536" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27540" class="Symbol">(</a><a id="27541" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27547" class="Symbol">(</a><a id="27548" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27559" href="Class.HasEmptySet.html#287" class="Field">∅</a><a id="27560" class="Symbol">)))</a>
    <a id="27568" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27571" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27576" class="Symbol">(λ</a> <a id="27579" href="Ledger.Utxo.Properties.html#27579" class="Bound">u</a> <a id="27581" class="Symbol">→</a> <a id="27583" class="Symbol">(</a><a id="27584" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27590" class="Symbol">(λ</a> <a id="27593" href="Ledger.Utxo.Properties.html#27593" class="Bound">x</a> <a id="27595" class="Symbol">→</a> <a id="27597" class="Symbol">(</a><a id="27598" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27604" href="Ledger.Utxo.Properties.html#27593" class="Bound">x</a><a id="27605" class="Symbol">)</a> <a id="27607" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27609" class="Symbol">)</a> <a id="27611" class="Number">0</a> <a id="27613" class="Symbol">(</a><a id="27614" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27626" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27630" href="Ledger.Utxo.Properties.html#27579" class="Bound">u</a><a id="27631" class="Symbol">)))</a> <a id="27635" href="Ledger.Utxo.Properties.html#27258" class="Function">fin∘list[]</a> <a id="27646" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27650" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27656" class="Symbol">(λ</a> <a id="27659" class="Symbol">(</a><a id="27660" href="Ledger.Utxo.Properties.html#27660" class="Bound">x</a> <a id="27662" class="Symbol">:</a> <a id="27664" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="27679" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27681" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27685" class="Symbol">)</a> <a id="27687" class="Symbol">→</a> <a id="27689" class="Symbol">(</a><a id="27690" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27696" href="Ledger.Utxo.Properties.html#27660" class="Bound">x</a><a id="27697" class="Symbol">)</a> <a id="27699" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27701" class="Symbol">)</a> <a id="27703" class="Number">0</a> <a id="27705" class="Symbol">(</a><a id="27706" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27718" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27722" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27724" class="Symbol">)</a>
    <a id="27730" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27733" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27738" class="Symbol">(λ</a> <a id="27741" href="Ledger.Utxo.Properties.html#27741" class="Bound">u</a> <a id="27743" class="Symbol">→</a> <a id="27745" class="Symbol">(</a><a id="27746" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27752" class="Symbol">(λ</a> <a id="27755" class="Symbol">(</a><a id="27756" href="Ledger.Utxo.Properties.html#27756" class="Bound">x</a> <a id="27758" class="Symbol">:</a> <a id="27760" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="27775" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27777" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27781" class="Symbol">)</a> <a id="27783" class="Symbol">→</a> <a id="27785" class="Symbol">(</a><a id="27786" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27792" href="Ledger.Utxo.Properties.html#27756" class="Bound">x</a><a id="27793" class="Symbol">)</a> <a id="27795" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27797" class="Symbol">)</a> <a id="27799" class="Number">0</a>  <a id="27802" href="Ledger.Utxo.Properties.html#27741" class="Bound">u</a><a id="27803" class="Symbol">))</a>
            <a id="27818" class="Symbol">{</a><a id="27819" class="Argument">x</a> <a id="27821" class="Symbol">=</a> <a id="27823" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27835" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27839" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27841" class="Symbol">}</a> <a id="27843" class="Symbol">{</a><a id="27844" class="Argument">y</a> <a id="27846" class="Symbol">=</a> <a id="27848" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27850" class="Symbol">}</a> <a id="27852" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="27857" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27861" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27867" class="Symbol">(λ</a> <a id="27870" class="Symbol">(</a><a id="27871" href="Ledger.Utxo.Properties.html#27871" class="Bound">x</a> <a id="27873" class="Symbol">:</a> <a id="27875" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="27890" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27892" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27896" class="Symbol">)</a> <a id="27898" class="Symbol">→</a> <a id="27900" class="Symbol">(</a><a id="27901" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27907" href="Ledger.Utxo.Properties.html#27871" class="Bound">x</a><a id="27908" class="Symbol">)</a> <a id="27910" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="27912" class="Symbol">)</a> <a id="27914" class="Number">0</a> <a id="27916" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="27923" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27926" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="27931" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27935" class="Number">0</a> <a id="27937" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="27941" class="Keyword">where</a> <a id="27947" class="Keyword">open</a> <a id="27952" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

<a id="getCoin-singleton"></a><a id="27973" href="Ledger.Utxo.Properties.html#27973" class="Function">getCoin-singleton</a> <a id="27991" class="Symbol">:</a> <a id="27993" class="Symbol">(</a><a id="27994" href="Ledger.Utxo.Properties.html#27994" class="Bound">(</a><a id="27995" href="Ledger.Utxo.Properties.html#27995" class="Bound">dp</a> <a id="27998" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28000" href="Ledger.Utxo.Properties.html#28000" class="Bound">c</a><a id="28001" href="Ledger.Utxo.Properties.html#27994" class="Bound">)</a> <a id="28003" class="Symbol">:</a> <a id="28005" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="28020" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="28022" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28026" class="Symbol">)</a> <a id="28028" class="Symbol">→</a> <a id="28030" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">indexedSumᵛ&#39;</a> <a id="28043" href="Function.Base.html#704" class="Function">id</a> <a id="28046" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28048" class="Symbol">(</a><a id="28049" href="Ledger.Utxo.Properties.html#27995" class="Bound">dp</a> <a id="28052" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28054" href="Ledger.Utxo.Properties.html#28000" class="Bound">c</a><a id="28055" class="Symbol">)</a> <a id="28057" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="28059" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28061" href="Ledger.Utxo.Properties.html#28000" class="Bound">c</a>
<a id="28063" href="Ledger.Utxo.Properties.html#27973" class="Function">getCoin-singleton</a> <a id="28081" class="Symbol">_</a> <a id="28083" class="Symbol">=</a> <a id="28085" href="Axiom.Set.Sum.html#4082" class="Function">indexedSum-singleton&#39;</a> <a id="28107" class="Symbol">{</a><a id="28108" class="Argument">A</a> <a id="28110" class="Symbol">=</a> <a id="28112" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="28127" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="28129" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28133" class="Symbol">}</a> <a id="28135" class="Symbol">{</a><a id="28136" class="Argument">f</a> <a id="28138" class="Symbol">=</a> <a id="28140" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="28145" class="Symbol">}</a> <a id="28147" class="Symbol">(</a><a id="28148" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="28159" class="Symbol">_)</a>

<a id="28163" class="Keyword">module</a> <a id="28170" href="Ledger.Utxo.Properties.html#28170" class="Module">_</a> <a id="28172" class="Comment">-- ASSUMPTION --</a>
         <a id="28198" class="Symbol">(</a><a id="28199" href="Ledger.Utxo.Properties.html#28199" class="Bound">gc-hom</a> <a id="28206" class="Symbol">:</a> <a id="28208" class="Symbol">(</a><a id="28209" href="Ledger.Utxo.Properties.html#28209" class="Bound">d₁</a> <a id="28212" href="Ledger.Utxo.Properties.html#28212" class="Bound">d₂</a> <a id="28215" class="Symbol">:</a> <a id="28217" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="28232" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="28234" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28238" class="Symbol">)</a> <a id="28240" class="Symbol">→</a> <a id="28242" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28250" class="Symbol">(</a><a id="28251" href="Ledger.Utxo.Properties.html#28209" class="Bound">d₁</a> <a id="28254" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28257" href="Ledger.Utxo.Properties.html#28212" class="Bound">d₂</a><a id="28259" class="Symbol">)</a> <a id="28261" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28263" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28271" href="Ledger.Utxo.Properties.html#28209" class="Bound">d₁</a> <a id="28274" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28276" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28284" href="Ledger.Utxo.Properties.html#28212" class="Bound">d₂</a><a id="28286" class="Symbol">)</a>
  <a id="28290" class="Keyword">where</a>
  <a id="28298" href="Ledger.Utxo.Properties.html#28298" class="Function">∪⁺singleton≡</a> <a id="28311" class="Symbol">:</a> <a id="28313" class="Symbol">{</a><a id="28314" href="Ledger.Utxo.Properties.html#28314" class="Bound">deps</a> <a id="28319" class="Symbol">:</a> <a id="28321" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="28336" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="28338" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28342" class="Symbol">}</a> <a id="28344" class="Symbol">{</a><a id="28345" href="Ledger.Utxo.Properties.html#28345" class="Symbol">(</a><a id="28346" href="Ledger.Utxo.Properties.html#28346" class="Bound">dp</a> <a id="28349" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28351" href="Ledger.Utxo.Properties.html#28351" class="Bound">c</a><a id="28352" href="Ledger.Utxo.Properties.html#28345" class="Symbol">)</a> <a id="28354" class="Symbol">:</a> <a id="28356" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="28371" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="28373" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28377" class="Symbol">}</a>
                 <a id="28396" class="Symbol">→</a> <a id="28398" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28406" class="Symbol">(</a><a id="28407" href="Ledger.Utxo.Properties.html#28314" class="Bound">deps</a> <a id="28412" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28415" href="Axiom.Set.Map.html#4588" class="Function Operator">❴</a> <a id="28417" class="Symbol">(</a><a id="28418" href="Ledger.Utxo.Properties.html#28346" class="Bound">dp</a> <a id="28421" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28423" href="Ledger.Utxo.Properties.html#28351" class="Bound">c</a><a id="28424" class="Symbol">)</a> <a id="28426" href="Axiom.Set.Map.html#4588" class="Function Operator">❵ᵐ</a><a id="28428" class="Symbol">)</a> <a id="28430" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28432" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28440" href="Ledger.Utxo.Properties.html#28314" class="Bound">deps</a> <a id="28445" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28447" href="Ledger.Utxo.Properties.html#28351" class="Bound">c</a>
  <a id="28451" href="Ledger.Utxo.Properties.html#28298" class="Function">∪⁺singleton≡</a> <a id="28464" class="Symbol">{</a><a id="28465" href="Ledger.Utxo.Properties.html#28465" class="Bound">deps</a><a id="28469" class="Symbol">}</a> <a id="28471" class="Symbol">{(</a><a id="28473" href="Ledger.Utxo.Properties.html#28473" class="Bound">dp</a> <a id="28476" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28478" href="Ledger.Utxo.Properties.html#28478" class="Bound">c</a><a id="28479" class="Symbol">)}</a> <a id="28482" class="Symbol">=</a> <a id="28484" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="28494" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28502" class="Symbol">(</a><a id="28503" href="Ledger.Utxo.Properties.html#28465" class="Bound">deps</a> <a id="28508" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28511" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28513" class="Symbol">(</a><a id="28514" href="Ledger.Utxo.Properties.html#28473" class="Bound">dp</a> <a id="28517" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28519" href="Ledger.Utxo.Properties.html#28478" class="Bound">c</a><a id="28520" class="Symbol">)</a> <a id="28522" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="28523" class="Symbol">)</a>
      <a id="28531" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="28534" href="Ledger.Utxo.Properties.html#28199" class="Bound">gc-hom</a> <a id="28541" href="Ledger.Utxo.Properties.html#28465" class="Bound">deps</a> <a id="28546" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28548" class="Symbol">(</a><a id="28549" href="Ledger.Utxo.Properties.html#28473" class="Bound">dp</a> <a id="28552" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28554" href="Ledger.Utxo.Properties.html#28478" class="Bound">c</a><a id="28555" class="Symbol">)</a> <a id="28557" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="28559" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="28565" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28573" href="Ledger.Utxo.Properties.html#28465" class="Bound">deps</a> <a id="28578" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28580" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="28587" class="Symbol">{</a><a id="28588" class="Argument">A</a> <a id="28590" class="Symbol">=</a> <a id="28592" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="28607" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="28609" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28613" class="Symbol">}</a> <a id="28615" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28617" class="Symbol">(</a><a id="28618" href="Ledger.Utxo.Properties.html#28473" class="Bound">dp</a> <a id="28621" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28623" href="Ledger.Utxo.Properties.html#28478" class="Bound">c</a><a id="28624" class="Symbol">)</a> <a id="28626" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="28634" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="28637" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="28642" class="Symbol">(</a><a id="28643" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28651" href="Ledger.Utxo.Properties.html#28465" class="Bound">deps</a> <a id="28656" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="28658" class="Symbol">)</a> <a id="28660" class="Symbol">(</a><a id="28661" href="Ledger.Utxo.Properties.html#27973" class="Function">getCoin-singleton</a> <a id="28679" class="Symbol">(</a><a id="28680" href="Ledger.Utxo.Properties.html#28473" class="Bound">dp</a> <a id="28683" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28685" href="Ledger.Utxo.Properties.html#28478" class="Bound">c</a><a id="28686" class="Symbol">))</a> <a id="28689" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="28695" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28703" href="Ledger.Utxo.Properties.html#28465" class="Bound">deps</a> <a id="28708" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="28710" href="Ledger.Utxo.Properties.html#28478" class="Bound">c</a>
      <a id="28718" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="28724" class="Keyword">where</a> <a id="28730" class="Keyword">open</a> <a id="28735" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

  <a id="28758" class="Keyword">module</a> <a id="28765" href="Ledger.Utxo.Properties.html#28765" class="Module">_</a> <a id="28767" class="Symbol">{</a><a id="28768" href="Ledger.Utxo.Properties.html#28768" class="Bound">deposits</a> <a id="28777" class="Symbol">:</a> <a id="28779" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="28794" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="28796" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28800" class="Symbol">}</a> <a id="28802" class="Symbol">{</a><a id="28803" href="Ledger.Utxo.Properties.html#28803" class="Bound">txid</a> <a id="28808" class="Symbol">:</a> <a id="28810" href="Ledger.Transaction.html#919" class="Field">TxId</a><a id="28814" class="Symbol">}</a> <a id="28816" class="Symbol">{</a><a id="28817" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a> <a id="28823" class="Symbol">:</a> <a id="28825" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28829" class="Symbol">}</a> <a id="28831" class="Keyword">where</a>

    <a id="28842" href="Ledger.Utxo.Properties.html#28842" class="Function">≤updatePropDeps</a> <a id="28858" class="Symbol">:</a> <a id="28860" class="Symbol">(</a><a id="28861" href="Ledger.Utxo.Properties.html#28861" class="Bound">props</a> <a id="28867" class="Symbol">:</a> <a id="28869" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="28874" href="Ledger.GovernanceActions.html#2077" class="Record">GovProposal</a><a id="28885" class="Symbol">)</a>
      <a id="28893" class="Symbol">→</a> <a id="28895" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28903" href="Ledger.Utxo.Properties.html#28768" class="Bound">deposits</a> <a id="28912" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="28914" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28922" class="Symbol">(</a><a id="28923" href="Ledger.Utxo.html#8408" class="Function">updateProposalDeposits</a> <a id="28946" href="Ledger.Utxo.Properties.html#28861" class="Bound">props</a> <a id="28952" href="Ledger.Utxo.Properties.html#28803" class="Bound">txid</a> <a id="28957" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a> <a id="28963" href="Ledger.Utxo.Properties.html#28768" class="Bound">deposits</a><a id="28971" class="Symbol">)</a>
    <a id="28977" href="Ledger.Utxo.Properties.html#28842" class="Function">≤updatePropDeps</a> <a id="28993" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="28996" class="Symbol">=</a> <a id="28998" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="29010" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="29019" href="Ledger.Utxo.Properties.html#28842" class="Function">≤updatePropDeps</a> <a id="29035" class="Symbol">(</a><a id="29036" href="Ledger.Utxo.Properties.html#29036" class="Bound">x</a> <a id="29038" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="29040" href="Ledger.Utxo.Properties.html#29040" class="Bound">props</a><a id="29045" class="Symbol">)</a> <a id="29047" class="Symbol">=</a> <a id="29049" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="29057" class="Symbol">(</a><a id="29058" href="Ledger.Utxo.Properties.html#28842" class="Function">≤updatePropDeps</a> <a id="29074" href="Ledger.Utxo.Properties.html#29040" class="Bound">props</a><a id="29079" class="Symbol">)</a>
                                          <a id="29123" class="Symbol">(</a><a id="29124" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="29132" class="Symbol">(</a><a id="29133" href="Data.Nat.Properties.html#19178" class="Function">m≤m+n</a> <a id="29139" class="Symbol">_</a> <a id="29141" class="Symbol">_)</a>
                                                   <a id="29195" class="Symbol">(</a><a id="29196" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="29208" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="29210" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="29214" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="29216" href="Ledger.Utxo.Properties.html#28298" class="Function">∪⁺singleton≡</a><a id="29228" class="Symbol">))</a>
    <a id="29235" href="Ledger.Utxo.Properties.html#29235" class="Function">updatePropDeps≡</a> <a id="29251" class="Symbol">:</a> <a id="29253" class="Symbol">(</a><a id="29254" href="Ledger.Utxo.Properties.html#29254" class="Bound">ps</a> <a id="29257" class="Symbol">:</a> <a id="29259" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="29264" href="Ledger.GovernanceActions.html#2077" class="Record">GovProposal</a><a id="29275" class="Symbol">)</a>
      <a id="29283" class="Symbol">→</a> <a id="29285" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29293" class="Symbol">(</a><a id="29294" href="Ledger.Utxo.html#8408" class="Function">updateProposalDeposits</a> <a id="29317" href="Ledger.Utxo.Properties.html#29254" class="Bound">ps</a> <a id="29320" href="Ledger.Utxo.Properties.html#28803" class="Bound">txid</a> <a id="29325" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a> <a id="29331" href="Ledger.Utxo.Properties.html#28768" class="Bound">deposits</a><a id="29339" class="Symbol">)</a> <a id="29341" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="29343" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29351" href="Ledger.Utxo.Properties.html#28768" class="Bound">deposits</a> <a id="29360" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="29362" class="Symbol">(</a><a id="29363" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29370" href="Ledger.Utxo.Properties.html#29254" class="Bound">ps</a><a id="29372" class="Symbol">)</a> <a id="29374" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29376" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a>
    <a id="29386" href="Ledger.Utxo.Properties.html#29235" class="Function">updatePropDeps≡</a> <a id="29402" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="29405" class="Symbol">=</a> <a id="29407" href="Data.Nat.Properties.html#46355" class="Function">n∸n≡0</a> <a id="29413" class="Symbol">(</a><a id="29414" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29422" href="Ledger.Utxo.Properties.html#28768" class="Bound">deposits</a><a id="29430" class="Symbol">)</a>
    <a id="29436" href="Ledger.Utxo.Properties.html#29235" class="Function">updatePropDeps≡</a> <a id="29452" class="Symbol">(_</a> <a id="29455" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="29457" href="Ledger.Utxo.Properties.html#29457" class="Bound">ps</a><a id="29459" class="Symbol">)</a> <a id="29461" class="Symbol">=</a> <a id="29463" class="Keyword">let</a>
      <a id="29473" href="Ledger.Utxo.Properties.html#29473" class="Bound">upD</a> <a id="29477" class="Symbol">=</a> <a id="29479" href="Ledger.Utxo.html#8408" class="Function">updateProposalDeposits</a> <a id="29502" href="Ledger.Utxo.Properties.html#29457" class="Bound">ps</a> <a id="29505" href="Ledger.Utxo.Properties.html#28803" class="Bound">txid</a> <a id="29510" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a> <a id="29516" href="Ledger.Utxo.Properties.html#28768" class="Bound">deposits</a> <a id="29525" class="Keyword">in</a>
      <a id="29534" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="29548" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29556" class="Symbol">(</a><a id="29557" href="Ledger.Utxo.Properties.html#29473" class="Bound">upD</a> <a id="29561" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="29564" href="Axiom.Set.Map.html#4588" class="Function Operator">❴</a> <a id="29566" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="29583" class="Symbol">(</a><a id="29584" href="Ledger.Utxo.Properties.html#28803" class="Bound">txid</a> <a id="29589" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29591" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29598" href="Ledger.Utxo.Properties.html#29457" class="Bound">ps</a><a id="29600" class="Symbol">)</a> <a id="29602" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29604" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a> <a id="29610" href="Axiom.Set.Map.html#4588" class="Function Operator">❵ᵐ</a><a id="29612" class="Symbol">)</a> <a id="29614" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29616" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29624" href="Ledger.Utxo.Properties.html#28768" class="Bound">deposits</a>
          <a id="29643" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29646" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="29651" class="Symbol">(</a><a id="29652" href="Data.Nat.Base.html#4462" class="Primitive Operator">_∸</a> <a id="29655" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29663" href="Ledger.Utxo.Properties.html#28768" class="Bound">deposits</a><a id="29671" class="Symbol">)</a> <a id="29673" href="Ledger.Utxo.Properties.html#28298" class="Function">∪⁺singleton≡</a> <a id="29686" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29696" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29704" href="Ledger.Utxo.Properties.html#29473" class="Bound">upD</a> <a id="29708" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29710" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a> <a id="29716" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29718" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29726" href="Ledger.Utxo.Properties.html#28768" class="Bound">deposits</a>
          <a id="29745" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29748" href="Data.Nat.Properties.html#49780" class="Function">+-∸-comm</a> <a id="29757" class="Symbol">_</a> <a id="29759" class="Symbol">(</a><a id="29760" href="Ledger.Utxo.Properties.html#28842" class="Function">≤updatePropDeps</a> <a id="29776" href="Ledger.Utxo.Properties.html#29457" class="Bound">ps</a><a id="29778" class="Symbol">)</a> <a id="29780" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29790" class="Symbol">(</a><a id="29791" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29799" href="Ledger.Utxo.Properties.html#29473" class="Bound">upD</a> <a id="29803" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="29805" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29813" href="Ledger.Utxo.Properties.html#28768" class="Bound">deposits</a><a id="29821" class="Symbol">)</a> <a id="29823" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29825" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a>
          <a id="29841" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29844" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="29849" class="Symbol">(</a><a id="29850" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="29853" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a><a id="29858" class="Symbol">)</a> <a id="29860" class="Symbol">(</a><a id="29861" href="Ledger.Utxo.Properties.html#29235" class="Function">updatePropDeps≡</a> <a id="29877" href="Ledger.Utxo.Properties.html#29457" class="Bound">ps</a><a id="29879" class="Symbol">)</a> <a id="29881" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29891" class="Symbol">(</a><a id="29892" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29899" href="Ledger.Utxo.Properties.html#29457" class="Bound">ps</a><a id="29901" class="Symbol">)</a> <a id="29903" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29905" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a> <a id="29911" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29913" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a>
          <a id="29929" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29932" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="29939" class="Symbol">((</a><a id="29941" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29948" href="Ledger.Utxo.Properties.html#29457" class="Bound">ps</a><a id="29950" class="Symbol">)</a> <a id="29952" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29954" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a><a id="29959" class="Symbol">)</a> <a id="29961" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a> <a id="29967" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29977" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a> <a id="29983" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="29985" class="Symbol">(</a><a id="29986" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29993" href="Ledger.Utxo.Properties.html#29457" class="Bound">ps</a><a id="29995" class="Symbol">)</a> <a id="29997" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29999" href="Ledger.Utxo.Properties.html#28817" class="Bound">gaDep</a>
          <a id="30015" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
        <a id="30025" class="Keyword">where</a> <a id="30031" class="Keyword">open</a> <a id="30036" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

  <a id="30059" href="Ledger.Utxo.Properties.html#30059" class="Function">≤certDeps</a>  <a id="30070" class="Symbol">:</a>  <a id="30073" class="Symbol">{</a><a id="30074" href="Ledger.Utxo.Properties.html#30074" class="Bound">d</a> <a id="30076" class="Symbol">:</a> <a id="30078" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="30093" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="30095" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="30099" class="Symbol">}</a> <a id="30101" class="Symbol">{</a><a id="30102" href="Ledger.Utxo.Properties.html#30102" class="Symbol">(</a><a id="30103" href="Ledger.Utxo.Properties.html#30103" class="Bound">dp</a> <a id="30106" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30108" href="Ledger.Utxo.Properties.html#30108" class="Bound">c</a><a id="30109" href="Ledger.Utxo.Properties.html#30102" class="Symbol">)</a> <a id="30111" class="Symbol">:</a> <a id="30113" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="30128" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="30130" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="30134" class="Symbol">}</a>
             <a id="30149" class="Symbol">→</a>  <a id="30152" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30160" href="Ledger.Utxo.Properties.html#30074" class="Bound">d</a> <a id="30162" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="30164" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30172" class="Symbol">(</a><a id="30173" href="Ledger.Utxo.Properties.html#30074" class="Bound">d</a> <a id="30175" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30178" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30180" class="Symbol">(</a><a id="30181" href="Ledger.Utxo.Properties.html#30103" class="Bound">dp</a> <a id="30184" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30186" href="Ledger.Utxo.Properties.html#30108" class="Bound">c</a><a id="30187" class="Symbol">)</a> <a id="30189" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30190" class="Symbol">)</a>

  <a id="30195" href="Ledger.Utxo.Properties.html#30059" class="Function">≤certDeps</a> <a id="30205" class="Symbol">{</a><a id="30206" href="Ledger.Utxo.Properties.html#30206" class="Bound">d</a><a id="30207" class="Symbol">}</a> <a id="30209" class="Symbol">=</a> <a id="30211" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="30221" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30229" href="Ledger.Utxo.Properties.html#30206" class="Bound">d</a>                      <a id="30252" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="30255" href="Data.Nat.Properties.html#19178" class="Function">m≤m+n</a> <a id="30261" class="Symbol">(</a><a id="30262" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30270" href="Ledger.Utxo.Properties.html#30206" class="Bound">d</a><a id="30271" class="Symbol">)</a> <a id="30273" class="Symbol">_</a> <a id="30275" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="30281" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30289" href="Ledger.Utxo.Properties.html#30206" class="Bound">d</a> <a id="30291" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="30293" class="Symbol">_</a>                  <a id="30312" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="30315" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="30319" href="Ledger.Utxo.Properties.html#28298" class="Function">∪⁺singleton≡</a> <a id="30332" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="30338" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30346" class="Symbol">(</a><a id="30347" href="Ledger.Utxo.Properties.html#30206" class="Bound">d</a> <a id="30349" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30352" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30354" class="Symbol">_</a> <a id="30356" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30357" class="Symbol">)</a>           <a id="30369" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="30375" class="Keyword">where</a> <a id="30381" class="Keyword">open</a> <a id="30386" href="Data.Nat.Properties.html#14692" class="Module">≤-Reasoning</a>


  <a id="30402" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="30418" class="Symbol">:</a> <a id="30420" class="Symbol">(</a><a id="30421" href="Ledger.Utxo.Properties.html#30421" class="Bound">cs</a> <a id="30424" class="Symbol">:</a> <a id="30426" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="30431" href="Ledger.Certs.html#926" class="Datatype">DCert</a><a id="30436" class="Symbol">)</a> <a id="30438" class="Symbol">{</a><a id="30439" href="Ledger.Utxo.Properties.html#30439" class="Bound">pp</a> <a id="30442" class="Symbol">:</a> <a id="30444" href="Ledger.PParams.html#1443" class="Record">PParams</a><a id="30451" class="Symbol">}</a> <a id="30453" class="Symbol">{</a><a id="30454" href="Ledger.Utxo.Properties.html#30454" class="Bound">deposits</a> <a id="30463" class="Symbol">:</a>  <a id="30466" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="30481" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="30483" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="30487" class="Symbol">}</a>
    <a id="30493" class="Symbol">→</a> <a id="30495" href="Ledger.Utxo.Properties.html#27107" class="Function">noRefundCert</a> <a id="30508" href="Ledger.Utxo.Properties.html#30421" class="Bound">cs</a>
    <a id="30515" class="Symbol">→</a> <a id="30517" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30525" href="Ledger.Utxo.Properties.html#30454" class="Bound">deposits</a> <a id="30534" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="30536" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30544" class="Symbol">(</a><a id="30545" href="Ledger.Utxo.html#7435" class="Function">updateCertDeposits</a> <a id="30564" href="Ledger.Utxo.Properties.html#30439" class="Bound">pp</a> <a id="30567" href="Ledger.Utxo.Properties.html#30421" class="Bound">cs</a> <a id="30570" href="Ledger.Utxo.Properties.html#30454" class="Bound">deposits</a><a id="30578" class="Symbol">)</a>
  <a id="30582" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="30598" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="30601" href="Ledger.Utxo.Properties.html#30601" class="Bound">nrf</a> <a id="30605" class="Symbol">=</a> <a id="30607" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="30619" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="30626" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="30642" class="Symbol">(</a><a id="30643" href="Ledger.Certs.html#1633" class="InductiveConstructor">reg</a> <a id="30647" href="Ledger.Utxo.Properties.html#30647" class="Bound">c</a> <a id="30649" href="Ledger.Utxo.Properties.html#30649" class="Bound">v</a> <a id="30651" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30653" href="Ledger.Utxo.Properties.html#30653" class="Bound">cs</a><a id="30655" class="Symbol">)</a> <a id="30657" class="Symbol">{</a><a id="30658" href="Ledger.Utxo.Properties.html#30658" class="Bound">pp</a><a id="30660" class="Symbol">}</a> <a id="30662" class="Symbol">{</a><a id="30663" href="Ledger.Utxo.Properties.html#30663" class="Bound">deposits</a><a id="30671" class="Symbol">}</a> <a id="30673" class="Symbol">(_</a> <a id="30676" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30682" href="Ledger.Utxo.Properties.html#30682" class="Bound">nrf</a><a id="30685" class="Symbol">)</a> <a id="30687" class="Symbol">=</a>
    <a id="30693" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30701" href="Ledger.Utxo.Properties.html#30059" class="Function">≤certDeps</a> <a id="30711" class="Symbol">(</a><a id="30712" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="30728" href="Ledger.Utxo.Properties.html#30653" class="Bound">cs</a> <a id="30731" class="Symbol">{</a><a id="30732" href="Ledger.Utxo.Properties.html#30658" class="Bound">pp</a><a id="30734" class="Symbol">}</a> <a id="30736" class="Symbol">{</a><a id="30737" href="Ledger.Utxo.Properties.html#30663" class="Bound">deposits</a> <a id="30746" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30749" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30751" href="Ledger.Certs.html#362" class="InductiveConstructor">CredentialDeposit</a> <a id="30769" href="Ledger.Utxo.Properties.html#30647" class="Bound">c</a> <a id="30771" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30773" href="Ledger.Utxo.Properties.html#30658" class="Bound">pp</a> <a id="30776" class="Symbol">.</a><a id="30777" href="Ledger.PParams.html#1949" class="Field">PParams.keyDeposit</a> <a id="30796" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30797" class="Symbol">}</a> <a id="30799" href="Ledger.Utxo.Properties.html#30682" class="Bound">nrf</a><a id="30802" class="Symbol">)</a>
  <a id="30806" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="30822" class="Symbol">(</a><a id="30823" href="Ledger.Certs.html#947" class="InductiveConstructor">delegate</a> <a id="30832" href="Ledger.Utxo.Properties.html#30832" class="Bound">c</a> <a id="30834" class="Symbol">_</a> <a id="30836" class="Symbol">_</a> <a id="30838" href="Ledger.Utxo.Properties.html#30838" class="Bound">v</a> <a id="30840" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30842" href="Ledger.Utxo.Properties.html#30842" class="Bound">cs</a><a id="30844" class="Symbol">)</a> <a id="30846" class="Symbol">{</a><a id="30847" href="Ledger.Utxo.Properties.html#30847" class="Bound">pp</a><a id="30849" class="Symbol">}</a> <a id="30851" class="Symbol">{</a><a id="30852" href="Ledger.Utxo.Properties.html#30852" class="Bound">deposits</a><a id="30860" class="Symbol">}</a> <a id="30862" class="Symbol">(_</a> <a id="30865" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="30871" href="Ledger.Utxo.Properties.html#30871" class="Bound">nrf</a><a id="30874" class="Symbol">)</a> <a id="30876" class="Symbol">=</a>
    <a id="30882" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30890" href="Ledger.Utxo.Properties.html#30059" class="Function">≤certDeps</a> <a id="30900" class="Symbol">(</a><a id="30901" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="30917" href="Ledger.Utxo.Properties.html#30842" class="Bound">cs</a> <a id="30920" class="Symbol">{</a><a id="30921" href="Ledger.Utxo.Properties.html#30847" class="Bound">pp</a><a id="30923" class="Symbol">}</a> <a id="30925" class="Symbol">{</a><a id="30926" href="Ledger.Utxo.Properties.html#30852" class="Bound">deposits</a> <a id="30935" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30938" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30940" href="Ledger.Certs.html#362" class="InductiveConstructor">CredentialDeposit</a> <a id="30958" href="Ledger.Utxo.Properties.html#30832" class="Bound">c</a> <a id="30960" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30962" href="Ledger.Utxo.Properties.html#30838" class="Bound">v</a> <a id="30964" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30965" class="Symbol">}</a> <a id="30967" href="Ledger.Utxo.Properties.html#30871" class="Bound">nrf</a><a id="30970" class="Symbol">)</a>
  <a id="30974" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="30990" class="Symbol">(</a><a id="30991" href="Ledger.Certs.html#1068" class="InductiveConstructor">regpool</a> <a id="30999" class="Symbol">_</a> <a id="31001" class="Symbol">_</a> <a id="31003" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="31005" href="Ledger.Utxo.Properties.html#31005" class="Bound">cs</a><a id="31007" class="Symbol">)</a>       <a id="31015" class="Symbol">(_</a> <a id="31018" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="31024" href="Ledger.Utxo.Properties.html#31024" class="Bound">nrf</a><a id="31027" class="Symbol">)</a> <a id="31029" class="Symbol">=</a> <a id="31031" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="31039" href="Ledger.Utxo.Properties.html#30059" class="Function">≤certDeps</a> <a id="31049" class="Symbol">(</a><a id="31050" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="31066" href="Ledger.Utxo.Properties.html#31005" class="Bound">cs</a> <a id="31069" href="Ledger.Utxo.Properties.html#31024" class="Bound">nrf</a><a id="31072" class="Symbol">)</a>
  <a id="31076" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="31092" class="Symbol">(</a><a id="31093" href="Ledger.Certs.html#1113" class="InductiveConstructor">retirepool</a> <a id="31104" class="Symbol">_</a> <a id="31106" class="Symbol">_</a> <a id="31108" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="31110" href="Ledger.Utxo.Properties.html#31110" class="Bound">cs</a><a id="31112" class="Symbol">)</a>    <a id="31117" class="Symbol">(_</a> <a id="31120" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="31126" href="Ledger.Utxo.Properties.html#31126" class="Bound">nrf</a><a id="31129" class="Symbol">)</a> <a id="31131" class="Symbol">=</a> <a id="31133" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="31149" href="Ledger.Utxo.Properties.html#31110" class="Bound">cs</a> <a id="31152" href="Ledger.Utxo.Properties.html#31126" class="Bound">nrf</a>
  <a id="31158" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="31174" class="Symbol">(</a><a id="31175" href="Ledger.Certs.html#1153" class="InductiveConstructor">regdrep</a> <a id="31183" class="Symbol">_</a> <a id="31185" class="Symbol">_</a> <a id="31187" class="Symbol">_</a> <a id="31189" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="31191" href="Ledger.Utxo.Properties.html#31191" class="Bound">cs</a><a id="31193" class="Symbol">)</a>     <a id="31199" class="Symbol">(_</a> <a id="31202" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="31208" href="Ledger.Utxo.Properties.html#31208" class="Bound">nrf</a><a id="31211" class="Symbol">)</a> <a id="31213" class="Symbol">=</a> <a id="31215" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="31223" href="Ledger.Utxo.Properties.html#30059" class="Function">≤certDeps</a> <a id="31233" class="Symbol">(</a><a id="31234" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="31250" href="Ledger.Utxo.Properties.html#31191" class="Bound">cs</a> <a id="31253" href="Ledger.Utxo.Properties.html#31208" class="Bound">nrf</a><a id="31256" class="Symbol">)</a>
  <a id="31260" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="31276" class="Symbol">(</a><a id="31277" href="Ledger.Certs.html#1246" class="InductiveConstructor">ccreghot</a> <a id="31286" class="Symbol">_</a> <a id="31288" class="Symbol">_</a> <a id="31290" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="31292" href="Ledger.Utxo.Properties.html#31292" class="Bound">cs</a><a id="31294" class="Symbol">)</a>      <a id="31301" class="Symbol">(_</a> <a id="31304" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">All.∷</a> <a id="31310" href="Ledger.Utxo.Properties.html#31310" class="Bound">nrf</a><a id="31313" class="Symbol">)</a> <a id="31315" class="Symbol">=</a> <a id="31317" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="31333" href="Ledger.Utxo.Properties.html#31292" class="Bound">cs</a> <a id="31336" href="Ledger.Utxo.Properties.html#31310" class="Bound">nrf</a>

  <a id="31343" class="Comment">-- Main Theorem: General Minimum Spending Condition --</a>
  <a id="31400" href="Ledger.Utxo.Properties.html#31400" class="Function">gmsc</a> <a id="31405" class="Symbol">:</a>  <a id="31408" class="Keyword">let</a> <a id="31412" class="Keyword">open</a> <a id="31417" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="31420" href="Ledger.Utxo.Properties.html#7224" class="Generalizable">tx</a> <a id="31423" class="Keyword">renaming</a> <a id="31432" class="Symbol">(</a><a id="31433" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="31438" class="Symbol">to</a> <a id="31441" class="Field">txb</a><a id="31444" class="Symbol">);</a> <a id="31447" class="Keyword">open</a> <a id="31452" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="31459" href="Ledger.Utxo.Properties.html#31441" class="Function">txb</a>
              <a id="31477" href="Ledger.Utxo.Properties.html#31477" class="Bound">pp</a> <a id="31480" class="Symbol">=</a> <a id="31482" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="31498" href="Ledger.Utxo.Properties.html#7306" class="Generalizable">Γ</a><a id="31499" class="Symbol">;</a> <a id="31501" class="Keyword">open</a> <a id="31506" href="Ledger.PParams.html#1443" class="Module">PParams</a> <a id="31514" href="Ledger.Utxo.Properties.html#31477" class="Bound">pp</a>
              <a id="31531" class="Keyword">open</a> <a id="31536" href="Ledger.Utxo.html#2458" class="Module">UTxOState</a> <a id="31546" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a>
                <a id="31572" class="Keyword">renaming</a> <a id="31581" class="Symbol">(</a><a id="31582" href="Ledger.Utxo.html#2522" class="Field">utxo</a> <a id="31587" class="Symbol">to</a> <a id="31590" class="Field">st</a><a id="31592" class="Symbol">;</a> <a id="31594" href="Ledger.Utxo.html#2544" class="Field">fees</a> <a id="31599" class="Symbol">to</a> <a id="31602" class="Field">fs</a><a id="31604" class="Symbol">;</a> <a id="31606" href="Ledger.Utxo.html#2566" class="Field">deposits</a> <a id="31615" class="Symbol">to</a> <a id="31618" class="Field">deps</a><a id="31622" class="Symbol">;</a> <a id="31624" href="Ledger.Utxo.html#2592" class="Field">donations</a> <a id="31634" class="Symbol">to</a> <a id="31637" class="Field">dons</a><a id="31641" class="Symbol">)</a>
          <a id="31653" class="Keyword">in</a>
    <a id="31660" href="Ledger.Utxo.Properties.html#7306" class="Generalizable">Γ</a> <a id="31662" href="Ledger.Utxo.html#2766" class="Datatype Operator">⊢</a>  <a id="31665" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="31667" href="Ledger.Utxo.Properties.html#31590" class="Function">st</a>   <a id="31672" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31674" href="Ledger.Utxo.Properties.html#31602" class="Function">fs</a>   <a id="31679" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31681" href="Ledger.Utxo.Properties.html#31618" class="Function">deps</a>   <a id="31688" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31690" href="Ledger.Utxo.Properties.html#31637" class="Function">dons</a>   <a id="31697" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="31699" href="Ledger.Utxo.html#2766" class="Datatype Operator">⇀⦇</a> <a id="31702" href="Ledger.Utxo.Properties.html#7224" class="Generalizable">tx</a> <a id="31705" href="Ledger.Utxo.html#2766" class="Datatype Operator">,UTXO⦈</a>
         <a id="31721" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="31723" href="Ledger.Utxo.Properties.html#7269" class="Generalizable">utxo&#39;</a>  <a id="31730" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31732" href="Ledger.Utxo.Properties.html#7403" class="Generalizable">fees&#39;</a>  <a id="31739" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31741" href="Ledger.Utxo.Properties.html#7449" class="Generalizable">deposits&#39;</a>  <a id="31752" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31754" href="Ledger.Utxo.Properties.html#7419" class="Generalizable">donations&#39;</a>  <a id="31766" href="Class.To.html#102" class="Field Operator">⟧</a>

    <a id="31773" class="Symbol">→</a> <a id="31775" href="Ledger.Utxo.Properties.html#27107" class="Function">noRefundCert</a> <a id="31788" href="Ledger.Transaction.html#2818" class="Function">txcerts</a> <a id="31796" class="Comment">-- FINAL ASSUMPTION --</a>

       <a id="31827" class="Comment">-------------------------------------------------------------------</a>
    <a id="31899" class="Symbol">→</a>  <a id="31902" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="31907" class="Symbol">(</a><a id="31908" href="Ledger.Utxo.html#11706" class="Function">consumed</a> <a id="31917" href="Ledger.Utxo.Properties.html#31477" class="Bound">pp</a> <a id="31920" href="Ledger.Utxo.Properties.html#7351" class="Generalizable">utxoState</a> <a id="31930" href="Ledger.Utxo.Properties.html#31441" class="Function">txb</a><a id="31933" class="Symbol">)</a> <a id="31935" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="31937" href="Data.List.Base.html#5044" class="Function">length</a> <a id="31944" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="31951" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="31953" href="Ledger.PParams.html#3109" class="Function">govActionDeposit</a>

  <a id="31973" href="Ledger.Utxo.Properties.html#31400" class="Function">gmsc</a> <a id="31978" href="Ledger.Utxo.Properties.html#31978" class="Bound">step</a><a id="31982" class="Symbol">@(</a><a id="31984" href="Ledger.Utxo.html#14837" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="32000" href="Ledger.Utxo.Properties.html#32000" class="Bound">tx</a> <a id="32003" href="Ledger.Utxo.Properties.html#32003" class="Bound">Γ</a> <a id="32005" href="Ledger.Utxo.Properties.html#32005" class="Bound">utxoState</a> <a id="32015" class="Symbol">_</a> <a id="32017" class="Symbol">_</a> <a id="32019" class="Symbol">_</a> <a id="32021" class="Symbol">_</a> <a id="32023" class="Symbol">_</a> <a id="32025" href="Ledger.Utxo.Properties.html#32025" class="Bound">c≡p</a> <a id="32029" href="Ledger.Utxo.Properties.html#32029" class="Bound">cmint≡0</a> <a id="32037" class="Symbol">_</a> <a id="32039" class="Symbol">_</a> <a id="32041" class="Symbol">_</a> <a id="32043" class="Symbol">_</a> <a id="32045" class="Symbol">_</a> <a id="32047" class="Symbol">_</a> <a id="32049" class="Symbol">_</a> <a id="32051" class="Symbol">_</a> <a id="32053" class="Symbol">_</a> <a id="32055" class="Symbol">_)</a> <a id="32058" href="Ledger.Utxo.Properties.html#32058" class="Bound">nrf</a> <a id="32062" class="Symbol">=</a>
    <a id="32068" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="32078" href="Data.List.Base.html#5044" class="Function">length</a> <a id="32085" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="32092" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="32094" href="Ledger.PParams.html#3109" class="Function">govActionDeposit</a>
      <a id="32117" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32121" href="Ledger.Utxo.Properties.html#29235" class="Function">updatePropDeps≡</a> <a id="32137" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="32144" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32150" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32158" class="Symbol">(</a><a id="32159" href="Ledger.Utxo.html#8408" class="Function">updateProposalDeposits</a> <a id="32182" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="32189" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="32194" href="Ledger.PParams.html#3109" class="Function">govActionDeposit</a> <a id="32211" href="Ledger.Utxo.Properties.html#33528" class="Function">deps</a><a id="32215" class="Symbol">)</a> <a id="32217" href="Data.Nat.Base.html#4462" class="Primitive Operator">∸</a> <a id="32219" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32227" href="Ledger.Utxo.Properties.html#33528" class="Function">deps</a>
      <a id="32238" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="32241" href="Data.Nat.Properties.html#47411" class="Function">∸-monoˡ-≤</a> <a id="32251" class="Symbol">(</a><a id="32252" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32260" href="Ledger.Utxo.Properties.html#33528" class="Function">deps</a><a id="32264" class="Symbol">)</a> <a id="32266" class="Symbol">(</a><a id="32267" href="Ledger.Utxo.Properties.html#30402" class="Function">≤updateCertDeps</a> <a id="32283" href="Ledger.Transaction.html#2818" class="Function">txcerts</a> <a id="32291" href="Ledger.Utxo.Properties.html#32058" class="Bound">nrf</a><a id="32294" class="Symbol">)</a> <a id="32296" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="32302" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32310" class="Symbol">(</a><a id="32311" href="Ledger.Utxo.html#8713" class="Function">updateDeposits</a> <a id="32326" href="Ledger.Utxo.Properties.html#33341" class="Function">pp</a> <a id="32329" href="Ledger.Utxo.Properties.html#33431" class="Function">txb</a> <a id="32333" href="Ledger.Utxo.Properties.html#33528" class="Function">deps</a><a id="32337" class="Symbol">)</a> <a id="32339" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="32341" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32349" href="Ledger.Utxo.Properties.html#33528" class="Function">deps</a>
      <a id="32360" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32363" href="Prelude.html#3321" class="Function">∸≡posPart⊖</a> <a id="32374" class="Symbol">{</a><a id="32375" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32383" class="Symbol">(</a><a id="32384" href="Ledger.Utxo.html#8713" class="Function">updateDeposits</a> <a id="32399" href="Ledger.Utxo.Properties.html#33341" class="Function">pp</a> <a id="32402" href="Ledger.Utxo.Properties.html#33431" class="Function">txb</a> <a id="32406" href="Ledger.Utxo.Properties.html#33528" class="Function">deps</a><a id="32410" class="Symbol">)}</a> <a id="32413" class="Symbol">{</a><a id="32414" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32422" href="Ledger.Utxo.Properties.html#33528" class="Function">deps</a><a id="32426" class="Symbol">}</a> <a id="32428" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32434" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a>
      <a id="32448" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="32451" href="Data.Nat.Properties.html#19261" class="Function">m≤n+m</a> <a id="32457" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a> <a id="32465" class="Symbol">(</a><a id="32466" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32471" href="Ledger.Utxo.Properties.html#33715" class="Function">balOut</a> <a id="32478" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32480" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="32486" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32488" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="32498" class="Symbol">)</a> <a id="32500" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="32506" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32511" href="Ledger.Utxo.Properties.html#33715" class="Function">balOut</a> <a id="32518" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32520" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="32526" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32528" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="32539" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32541" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a>
      <a id="32555" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32558" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="32566" class="Symbol">(</a><a id="32567" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32572" href="Ledger.Utxo.Properties.html#33715" class="Function">balOut</a> <a id="32579" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32581" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="32586" class="Symbol">)</a> <a id="32588" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="32599" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a> <a id="32607" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32613" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32618" href="Ledger.Utxo.Properties.html#33715" class="Function">balOut</a> <a id="32625" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32627" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="32633" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32635" class="Symbol">(</a><a id="32636" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="32647" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32649" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a><a id="32656" class="Symbol">)</a>
      <a id="32664" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32667" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32672" class="Symbol">(</a><a id="32673" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32678" href="Ledger.Utxo.Properties.html#33715" class="Function">balOut</a> <a id="32685" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32687" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="32693" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="32695" class="Symbol">)</a> <a id="32697" class="Symbol">(</a><a id="32698" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="32705" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="32716" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a><a id="32723" class="Symbol">)</a> <a id="32725" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32731" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32736" href="Ledger.Utxo.Properties.html#33715" class="Function">balOut</a> <a id="32743" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32745" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="32751" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32753" class="Symbol">(</a><a id="32754" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a> <a id="32762" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32764" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="32774" class="Symbol">)</a>
      <a id="32782" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32786" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="32794" class="Symbol">(</a><a id="32795" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32800" href="Ledger.Utxo.Properties.html#33715" class="Function">balOut</a> <a id="32807" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32809" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="32814" class="Symbol">)</a> <a id="32816" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a> <a id="32824" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="32835" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32841" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32846" href="Ledger.Utxo.Properties.html#33715" class="Function">balOut</a> <a id="32853" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32855" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="32861" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32863" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a> <a id="32871" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32873" href="Ledger.Transaction.html#2956" class="Function">txdonation</a>
      <a id="32890" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32894" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32899" class="Symbol">(λ</a> <a id="32902" href="Ledger.Utxo.Properties.html#32902" class="Bound">x</a> <a id="32904" class="Symbol">→</a> <a id="32906" href="Ledger.Utxo.Properties.html#32902" class="Bound">x</a> <a id="32908" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32910" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a> <a id="32918" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32920" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="32930" class="Symbol">)</a> <a id="32932" href="Ledger.TokenAlgebra.html#1313" class="Function">coin-inject-lemma</a> <a id="32950" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32956" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32961" class="Symbol">(</a><a id="32962" href="Ledger.Utxo.Properties.html#33715" class="Function">balOut</a> <a id="32969" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32971" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="32978" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="32983" class="Symbol">)</a> <a id="32985" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32987" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a> <a id="32995" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="32997" href="Ledger.Transaction.html#2956" class="Function">txdonation</a>
      <a id="33014" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="33018" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="33023" class="Symbol">(</a><a id="33024" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="33027" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="33037" class="Symbol">)</a> <a id="33039" href="Ledger.TokenAlgebra.html#1313" class="Function">coin-inject-lemma</a> <a id="33057" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="33063" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="33068" class="Symbol">(</a><a id="33069" href="Ledger.Utxo.Properties.html#33715" class="Function">balOut</a> <a id="33076" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33078" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33085" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="33091" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33093" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33100" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a><a id="33107" class="Symbol">)</a> <a id="33109" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33111" href="Ledger.Transaction.html#2956" class="Function">txdonation</a>
      <a id="33128" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="33132" href="Ledger.TokenAlgebra.html#1313" class="Function">coin-inject-lemma</a> <a id="33150" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="33156" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="33161" class="Symbol">(</a><a id="33162" href="Ledger.Utxo.Properties.html#33715" class="Function">balOut</a> <a id="33169" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33171" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33178" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="33184" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33186" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33193" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a> <a id="33201" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33203" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33210" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="33220" class="Symbol">)</a>
      <a id="33228" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="33232" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="33237" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="33242" href="Ledger.Utxo.Properties.html#32025" class="Bound">c≡p</a> <a id="33246" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="33252" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="33257" class="Symbol">(</a><a id="33258" href="Ledger.Utxo.Properties.html#33709" class="Function">balIn</a> <a id="33264" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33266" href="Ledger.Transaction.html#2742" class="Function">mint</a> <a id="33271" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33273" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33280" href="Ledger.Utxo.Properties.html#33566" class="Function">refunds</a> <a id="33288" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="33290" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33297" href="Ledger.Utxo.Properties.html#33574" class="Function">wdrls</a><a id="33302" class="Symbol">)</a> <a id="33304" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="33310" class="Keyword">where</a>
    <a id="33320" class="Keyword">open</a> <a id="33325" href="Data.Nat.Properties.html#14692" class="Module">≤-Reasoning</a>
    <a id="33341" href="Ledger.Utxo.Properties.html#33341" class="Function">pp</a> <a id="33344" class="Symbol">:</a> <a id="33346" href="Ledger.PParams.html#1443" class="Record">PParams</a>
    <a id="33358" href="Ledger.Utxo.Properties.html#33341" class="Function">pp</a> <a id="33361" class="Symbol">=</a> <a id="33363" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="33379" href="Ledger.Utxo.Properties.html#32003" class="Bound">Γ</a><a id="33380" class="Symbol">;</a> <a id="33382" class="Keyword">open</a> <a id="33387" href="Ledger.PParams.html#1443" class="Module">PParams</a> <a id="33395" href="Ledger.Utxo.Properties.html#33341" class="Function">pp</a>
    <a id="33402" class="Keyword">open</a> <a id="33407" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="33410" href="Ledger.Utxo.Properties.html#32000" class="Bound">tx</a> <a id="33413" class="Keyword">renaming</a> <a id="33422" class="Symbol">(</a><a id="33423" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="33428" class="Symbol">to</a> <a id="33431" class="Field">txb</a><a id="33434" class="Symbol">);</a> <a id="33437" class="Keyword">open</a> <a id="33442" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="33449" href="Ledger.Utxo.Properties.html#33431" class="Function">txb</a>
    <a id="33457" class="Keyword">open</a> <a id="33462" href="Ledger.Utxo.html#2458" class="Module">UTxOState</a> <a id="33472" href="Ledger.Utxo.Properties.html#32005" class="Bound">utxoState</a> <a id="33482" class="Keyword">renaming</a> <a id="33491" class="Symbol">(</a><a id="33492" href="Ledger.Utxo.html#2522" class="Field">utxo</a> <a id="33497" class="Symbol">to</a> <a id="33500" class="Field">st</a><a id="33502" class="Symbol">;</a> <a id="33504" href="Ledger.Utxo.html#2544" class="Field">fees</a> <a id="33509" class="Symbol">to</a> <a id="33512" class="Field">fs</a><a id="33514" class="Symbol">;</a> <a id="33516" href="Ledger.Utxo.html#2566" class="Field">deposits</a> <a id="33525" class="Symbol">to</a> <a id="33528" class="Field">deps</a><a id="33532" class="Symbol">;</a> <a id="33534" href="Ledger.Utxo.html#2592" class="Field">donations</a> <a id="33544" class="Symbol">to</a> <a id="33547" class="Field">dons</a><a id="33551" class="Symbol">)</a>

    <a id="33558" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a> <a id="33566" href="Ledger.Utxo.Properties.html#33566" class="Function">refunds</a> <a id="33574" href="Ledger.Utxo.Properties.html#33574" class="Function">wdrls</a> <a id="33580" class="Symbol">:</a> <a id="33582" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="33591" href="Ledger.Utxo.Properties.html#33558" class="Function">newDeps</a> <a id="33599" class="Symbol">=</a> <a id="33601" href="Ledger.Utxo.html#11580" class="Function">newDeposits</a> <a id="33613" href="Ledger.Utxo.Properties.html#33341" class="Function">pp</a> <a id="33616" href="Ledger.Utxo.Properties.html#32005" class="Bound">utxoState</a> <a id="33626" href="Ledger.Utxo.Properties.html#33431" class="Function">txb</a>
    <a id="33634" href="Ledger.Utxo.Properties.html#33566" class="Function">refunds</a> <a id="33642" class="Symbol">=</a> <a id="33644" href="Ledger.Utxo.html#11448" class="Function">depositRefunds</a> <a id="33659" href="Ledger.Utxo.Properties.html#33341" class="Function">pp</a> <a id="33662" href="Ledger.Utxo.Properties.html#32005" class="Bound">utxoState</a> <a id="33672" href="Ledger.Utxo.Properties.html#33431" class="Function">txb</a>
    <a id="33680" href="Ledger.Utxo.Properties.html#33574" class="Function">wdrls</a> <a id="33686" class="Symbol">=</a> <a id="33688" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="33696" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a>

    <a id="33709" href="Ledger.Utxo.Properties.html#33709" class="Function">balIn</a> <a id="33715" href="Ledger.Utxo.Properties.html#33715" class="Function">balOut</a> <a id="33722" class="Symbol">:</a> <a id="33724" href="Ledger.TokenAlgebra.html#492" class="Function">Value</a>
    <a id="33734" href="Ledger.Utxo.Properties.html#33709" class="Function">balIn</a> <a id="33740" class="Symbol">=</a> <a id="33742" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="33750" class="Symbol">(</a><a id="33751" href="Ledger.Utxo.Properties.html#33500" class="Function">st</a> <a id="33754" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="33756" href="Ledger.Transaction.html#2620" class="Function">txins</a><a id="33761" class="Symbol">)</a>
    <a id="33767" href="Ledger.Utxo.Properties.html#33715" class="Function">balOut</a> <a id="33774" class="Symbol">=</a> <a id="33776" href="Ledger.Utxo.html#2970" class="Function">balance</a> <a id="33784" class="Symbol">(</a><a id="33785" href="Ledger.Utxo.html#2899" class="Function">outs</a> <a id="33790" href="Ledger.Utxo.Properties.html#33431" class="Function">txb</a><a id="33793" class="Symbol">)</a>

</pre></body></html>