<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Utxo.Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Algebra.Morphism.html" class="Module">Algebra.Morphism</a>            <a id="66" class="Keyword">using</a> <a id="72" class="Symbol">(</a><a id="73" class="Keyword">module</a> <a id="80" href="Algebra.Morphism.Structures.html#4053" class="Module">MonoidMorphisms</a><a id="95" class="Symbol">;</a> <a id="97" href="Algebra.Morphism.Structures.html#2757" class="Record">IsMagmaHomomorphism</a><a id="116" class="Symbol">)</a>
<a id="118" class="Keyword">import</a> <a id="125" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="134" class="Symbol">as</a> <a id="137" class="Module">ℕ</a>
<a id="139" class="Keyword">open</a> <a id="144" class="Keyword">import</a> <a id="151" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>         <a id="179" class="Keyword">hiding</a> <a id="186" class="Symbol">(</a><a id="187" href="Data.Nat.Properties.html#3874" class="Function Operator">_≟_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Product.html" class="Module">Data.Product</a>                <a id="232" class="Keyword">using</a> <a id="238" class="Symbol">(</a><a id="239" href="Data.Product.Base.html#5054" class="Function">swap</a><a id="243" class="Symbol">)</a>
<a id="245" class="Keyword">open</a> <a id="250" class="Keyword">import</a> <a id="257" href="Data.Sign.html" class="Module">Data.Sign</a>                   <a id="285" class="Keyword">using</a> <a id="291" class="Symbol">(</a><a id="292" href="Data.Sign.Base.html#523" class="Datatype">Sign</a><a id="296" class="Symbol">)</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="323" class="Symbol">as</a> <a id="326" class="Module">ℤ</a>           <a id="338" class="Keyword">using</a> <a id="344" class="Symbol">(</a><a id="345" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="346" class="Symbol">)</a>
<a id="348" class="Keyword">open</a> <a id="353" class="Keyword">import</a> <a id="360" href="Data.Integer.Ext.html" class="Module">Data.Integer.Ext</a>            <a id="388" class="Keyword">using</a> <a id="394" class="Symbol">(</a><a id="395" href="Data.Integer.Ext.html#349" class="Function">posPart</a><a id="402" class="Symbol">;</a> <a id="404" href="Data.Integer.Ext.html#440" class="Function">negPart</a><a id="411" class="Symbol">;</a> <a id="413" href="Data.Integer.Ext.html#531" class="Function">∸≡posPart⊖</a><a id="423" class="Symbol">)</a>
<a id="425" class="Keyword">import</a> <a id="432" href="Data.Integer.Properties.html" class="Module">Data.Integer.Properties</a> <a id="456" class="Symbol">as</a> <a id="459" class="Module">ℤ</a>
<a id="461" class="Keyword">open</a> <a id="466" class="Keyword">import</a> <a id="473" href="Data.String.Base.html" class="Module">Data.String.Base</a>            <a id="501" class="Keyword">renaming</a> <a id="510" class="Symbol">(</a><a id="511" href="Data.String.Base.html#2425" class="Function Operator">_++_</a> <a id="516" class="Symbol">to</a> <a id="519" class="Function Operator">_+ˢ_</a><a id="523" class="Symbol">)</a> <a id="525" class="Keyword">using</a> <a id="531" class="Symbol">()</a>
<a id="534" class="Keyword">open</a> <a id="539" class="Keyword">import</a> <a id="546" href="Relation.Binary.html" class="Module">Relation.Binary</a>             <a id="574" class="Keyword">using</a> <a id="580" class="Symbol">(</a><a id="581" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a><a id="594" class="Symbol">)</a>

<a id="597" class="Keyword">open</a> <a id="602" class="Keyword">import</a> <a id="609" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a>  <a id="639" class="Keyword">using</a> <a id="645" class="Symbol">(</a><a id="646" href="Data.List.Relation.Unary.All.html#1639" class="Datatype">All</a><a id="649" class="Symbol">)</a>
<a id="651" class="Keyword">open</a> <a id="656" class="Keyword">import</a> <a id="663" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>  <a id="693" class="Keyword">using</a> <a id="699" class="Symbol">(</a><a id="700" href="Data.List.Relation.Unary.Any.html#1148" class="Datatype">Any</a><a id="703" class="Symbol">);</a> <a id="706" class="Keyword">open</a> <a id="711" href="Data.List.Relation.Unary.Any.html#1148" class="Module">Any</a>

<a id="716" class="Keyword">open</a> <a id="721" class="Keyword">import</a> <a id="728" href="Prelude.html" class="Module">Prelude</a><a id="735" class="Symbol">;</a> <a id="737" class="Keyword">open</a> <a id="742" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="755" class="Keyword">open</a> <a id="760" class="Keyword">import</a> <a id="767" href="Tactic.Cong.html" class="Module">Tactic.Cong</a>                 <a id="795" class="Keyword">using</a> <a id="801" class="Symbol">(</a><a id="802" href="Tactic.Cong.html#9441" class="Function">cong!</a><a id="807" class="Symbol">)</a>
<a id="809" class="Keyword">open</a> <a id="814" class="Keyword">import</a> <a id="821" href="Tactic.Defaults.html" class="Module">Tactic.Defaults</a>
<a id="837" class="Keyword">open</a> <a id="842" class="Keyword">import</a> <a id="849" href="Tactic.EquationalReasoning.html" class="Module">Tactic.EquationalReasoning</a>  <a id="877" class="Keyword">using</a> <a id="883" class="Symbol">(</a><a id="884" class="Keyword">module</a> <a id="891" href="Tactic.EquationalReasoning.html#417" class="Module">≡-Reasoning</a><a id="902" class="Symbol">)</a>
<a id="904" class="Keyword">open</a> <a id="909" class="Keyword">import</a> <a id="916" href="Tactic.GenError.html" class="Module">Tactic.GenError</a>
<a id="932" class="Keyword">open</a> <a id="937" class="Keyword">import</a> <a id="944" href="Tactic.MonoidSolver.NonNormalising.html" class="Module">Tactic.MonoidSolver.NonNormalising</a> <a id="979" class="Keyword">using</a> <a id="985" class="Symbol">(</a><a id="986" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a><a id="997" class="Symbol">)</a>

<a id="1000" class="Keyword">open</a> <a id="1005" class="Keyword">import</a> <a id="1012" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="1027" class="Keyword">hiding</a> <a id="1034" class="Symbol">(</a><a id="1035" href="Class.HasOrder.Core.html#900" class="Function">≤-trans</a><a id="1042" class="Symbol">;</a> <a id="1044" href="Class.HasOrder.Core.html#1807" class="Field">≤-antisym</a><a id="1053" class="Symbol">;</a> <a id="1055" href="Axiom.Set.html#9724" class="Function">All</a><a id="1058" class="Symbol">);</a> <a id="1061" class="Keyword">open</a> <a id="1066" href="abstract-set-theory.FiniteSetTheory.html#1716" class="Module">Properties</a>
<a id="1077" class="Keyword">open</a> <a id="1082" class="Keyword">import</a> <a id="1089" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>
<a id="1105" class="Keyword">open</a> <a id="1110" class="Keyword">import</a> <a id="1117" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="1136" class="Keyword">open</a> <a id="1141" class="Keyword">import</a> <a id="1148" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>

<a id="1181" class="Keyword">module</a> <a id="1188" href="Ledger.Utxo.Properties.html" class="Module">Ledger.Utxo.Properties</a>
  <a id="1213" class="Symbol">(</a><a id="1214" href="Ledger.Utxo.Properties.html#1214" class="Bound">txs</a> <a id="1218" class="Symbol">:</a> <a id="1220" class="Symbol">_)</a> <a id="1223" class="Symbol">(</a><a id="1224" class="Keyword">open</a> <a id="1229" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="1250" href="Ledger.Utxo.Properties.html#1214" class="Bound">txs</a><a id="1253" class="Symbol">)</a>
  <a id="1257" class="Symbol">(</a><a id="1258" href="Ledger.Utxo.Properties.html#1258" class="Bound">abs</a> <a id="1262" class="Symbol">:</a> <a id="1264" href="Ledger.Abstract.html#578" class="Record">AbstractFunctions</a> <a id="1282" href="Ledger.Utxo.Properties.html#1214" class="Bound">txs</a><a id="1285" class="Symbol">)</a> <a id="1287" class="Symbol">(</a><a id="1288" class="Keyword">open</a> <a id="1293" href="Ledger.Abstract.html#578" class="Module">AbstractFunctions</a> <a id="1311" href="Ledger.Utxo.Properties.html#1258" class="Bound">abs</a><a id="1314" class="Symbol">)</a>
  <a id="1318" class="Keyword">where</a>

<a id="1325" class="Keyword">open</a> <a id="1330" class="Keyword">import</a> <a id="1337" href="Ledger.Utxo.html" class="Module">Ledger.Utxo</a> <a id="1349" href="Ledger.Utxo.Properties.html#1214" class="Bound">txs</a> <a id="1353" href="Ledger.Utxo.Properties.html#1258" class="Bound">abs</a>
<a id="1357" class="Keyword">open</a> <a id="1362" class="Keyword">import</a> <a id="1369" href="Ledger.ScriptValidation.html" class="Module">Ledger.ScriptValidation</a> <a id="1393" href="Ledger.Utxo.Properties.html#1214" class="Bound">txs</a> <a id="1397" href="Ledger.Utxo.Properties.html#1258" class="Bound">abs</a>
<a id="1401" class="Keyword">open</a> <a id="1406" class="Keyword">import</a> <a id="1413" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="1426" href="Ledger.Transaction.html#1809" class="Function">govStructure</a>
<a id="1439" class="Keyword">open</a> <a id="1444" class="Keyword">import</a> <a id="1451" href="Algebra.Definitions.RawMagma.html" class="Module">Algebra.Definitions.RawMagma</a> <a id="1480" href="Data.Nat.Base.html#4462" class="Function">+-rawMagma</a> <a id="1491" class="Keyword">using</a> <a id="1497" class="Symbol">()</a> <a id="1500" class="Keyword">renaming</a> <a id="1509" class="Symbol">(</a><a id="1510" href="Algebra.Definitions.RawMagma.html#1419" class="InductiveConstructor Operator">_,_</a> <a id="1514" class="Symbol">to</a> <a id="1517" class="InductiveConstructor Operator">_,≤_</a><a id="1521" class="Symbol">)</a>

<a id="1524" class="Keyword">instance</a>
  <a id="1535" href="Ledger.Utxo.Properties.html#1535" class="Function">_</a> <a id="1537" class="Symbol">=</a> <a id="1539" href="Ledger.TokenAlgebra.html#510" class="Field">TokenAlgebra.Value-CommutativeMonoid</a> <a id="1576" href="Ledger.Transaction.html#1706" class="Field">tokenAlgebra</a>
  <a id="1591" href="Ledger.Utxo.Properties.html#1591" class="Function">_</a> <a id="1593" class="Symbol">=</a> <a id="1595" href="Data.Nat.Properties.html#17056" class="Function">+-0-monoid</a>
  <a id="1608" href="Ledger.Utxo.Properties.html#1608" class="Function">_</a> <a id="1610" class="Symbol">=</a> <a id="1612" href="Interface.ComputationalRelation.html#1365" class="Function">Functor-ComputationResult</a>

<a id="1639" class="Keyword">instance</a>
  <a id="Computational-UTXOS"></a><a id="1650" href="Ledger.Utxo.Properties.html#1650" class="Function">Computational-UTXOS</a> <a id="1670" class="Symbol">:</a> <a id="1672" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="1686" href="Ledger.Utxo.html#12367" class="Datatype Operator">_⊢_⇀⦇_,UTXOS⦈_</a> <a id="1701" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1710" href="Ledger.Utxo.Properties.html#1650" class="Function">Computational-UTXOS</a> <a id="1730" class="Symbol">=</a> <a id="1732" class="Keyword">record</a> <a id="1739" class="Symbol">{</a><a id="1740" href="Ledger.Utxo.Properties.html#1761" class="Module">go</a><a id="1742" class="Symbol">}</a> <a id="1744" class="Keyword">where</a>
    <a id="1754" class="Keyword">module</a> <a id="1761" href="Ledger.Utxo.Properties.html#1761" class="Module">go</a> <a id="1764" class="Symbol">(</a><a id="1765" href="Ledger.Utxo.Properties.html#1765" class="Bound">Γ</a> <a id="1767" class="Symbol">:</a> <a id="1769" href="Ledger.Utxo.html#2411" class="Record">UTxOEnv</a><a id="1776" class="Symbol">)</a> <a id="1778" class="Symbol">(</a><a id="1779" href="Ledger.Utxo.Properties.html#1779" class="Bound">s</a> <a id="1781" class="Symbol">:</a> <a id="1783" href="Ledger.Utxo.html#2516" class="Record">UTxOState</a><a id="1792" class="Symbol">)</a> <a id="1794" class="Symbol">(</a><a id="1795" href="Ledger.Utxo.Properties.html#1795" class="Bound">tx</a> <a id="1798" class="Symbol">:</a> <a id="1800" href="Ledger.Transaction.html#3538" class="Record">Tx</a><a id="1802" class="Symbol">)</a>
      <a id="1810" class="Symbol">(</a><a id="1811" class="Keyword">let</a> <a id="1815" class="Keyword">open</a> <a id="1820" href="Ledger.Utxo.html#2516" class="Module">UTxOState</a> <a id="1830" href="Ledger.Utxo.Properties.html#1779" class="Bound">s</a><a id="1831" class="Symbol">)</a>
      <a id="1839" class="Symbol">(</a><a id="1840" class="Keyword">let</a> <a id="1844" href="Ledger.Utxo.Properties.html#1844" class="Bound">H-Yes</a> <a id="1850" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1852" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1854" href="Ledger.Utxo.Properties.html#1854" class="Bound">H-Yes?</a> <a id="1861" class="Symbol">=</a> <a id="1863" href="Ledger.Utxo.html#13429" class="Function">Scripts-Yes-premises</a> <a id="1884" class="Symbol">{</a><a id="1885" href="Ledger.Utxo.Properties.html#1765" class="Bound">Γ</a><a id="1886" class="Symbol">}</a> <a id="1888" class="Symbol">{</a><a id="1889" href="Ledger.Utxo.Properties.html#1795" class="Bound">tx</a><a id="1891" class="Symbol">}</a> <a id="1893" class="Symbol">{</a><a id="1894" href="Ledger.Utxo.html#2580" class="Function">utxo</a><a id="1898" class="Symbol">}</a> <a id="1900" class="Symbol">{</a><a id="1901" href="Ledger.Utxo.html#2624" class="Function">deposits</a><a id="1909" class="Symbol">})</a>
      <a id="1918" class="Symbol">(</a><a id="1919" class="Keyword">let</a> <a id="1923" href="Ledger.Utxo.Properties.html#1923" class="Bound">H-No</a>  <a id="1929" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1931" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1933" href="Ledger.Utxo.Properties.html#1933" class="Bound">H-No?</a>  <a id="1940" class="Symbol">=</a> <a id="1942" href="Ledger.Utxo.html#13517" class="Function">Scripts-No-premises</a>  <a id="1963" class="Symbol">{</a><a id="1964" href="Ledger.Utxo.Properties.html#1765" class="Bound">Γ</a><a id="1965" class="Symbol">}</a> <a id="1967" class="Symbol">{</a><a id="1968" href="Ledger.Utxo.Properties.html#1795" class="Bound">tx</a><a id="1970" class="Symbol">}</a> <a id="1972" class="Symbol">{</a><a id="1973" href="Ledger.Utxo.html#2580" class="Function">utxo</a><a id="1977" class="Symbol">})</a> <a id="1980" class="Keyword">where</a>
      <a id="1992" class="Keyword">open</a> <a id="1997" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="2000" href="Ledger.Utxo.Properties.html#1795" class="Bound">tx</a> <a id="2003" class="Keyword">renaming</a> <a id="2012" class="Symbol">(</a><a id="2013" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="2018" class="Symbol">to</a> <a id="2021" class="Field">txb</a><a id="2024" class="Symbol">);</a> <a id="2027" class="Keyword">open</a> <a id="2032" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="2039" href="Ledger.Utxo.Properties.html#2021" class="Field">txb</a>
      <a id="2049" class="Keyword">open</a> <a id="2054" href="Ledger.Utxo.html#2411" class="Module">UTxOEnv</a> <a id="2062" href="Ledger.Utxo.Properties.html#1765" class="Bound">Γ</a> <a id="2064" class="Keyword">renaming</a> <a id="2073" class="Symbol">(</a><a id="2074" href="Ledger.Utxo.html#2465" class="Field">pparams</a> <a id="2082" class="Symbol">to</a> <a id="2085" class="Field">pp</a><a id="2087" class="Symbol">)</a>
      <a id="2095" href="Ledger.Utxo.Properties.html#2095" class="Function">sLst</a> <a id="2100" class="Symbol">=</a> <a id="2102" href="Ledger.ScriptValidation.html#5863" class="Function">collectPhaseTwoScriptInputs</a> <a id="2130" href="Ledger.Utxo.Properties.html#2085" class="Function">pp</a> <a id="2133" href="Ledger.Utxo.Properties.html#1795" class="Bound">tx</a> <a id="2136" href="Ledger.Utxo.html#2580" class="Function">utxo</a>

      <a id="2148" href="Ledger.Utxo.Properties.html#2148" class="Function">computeProof</a> <a id="2161" class="Symbol">=</a>
        <a id="2171" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2176" href="Ledger.Utxo.Properties.html#1854" class="Bound">H-Yes?</a> <a id="2183" href="Data.Product.Base.html#1686" class="Function Operator">,′</a> <a id="2186" href="Ledger.Utxo.Properties.html#1933" class="Bound">H-No?</a> <a id="2192" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2195" class="Symbol">λ</a> <a id="2197" class="Keyword">where</a>
          <a id="2213" class="Symbol">(</a><a id="2214" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2218" href="Ledger.Utxo.Properties.html#2218" class="Bound">p</a> <a id="2220" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2222" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2225" class="Symbol">_</a> <a id="2227" class="Symbol">)</a> <a id="2229" class="Symbol">→</a> <a id="2231" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2239" class="Symbol">(_</a> <a id="2242" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2244" class="Symbol">(</a><a id="2245" href="Ledger.Utxo.html#12460" class="InductiveConstructor">Scripts-Yes</a> <a id="2257" href="Ledger.Utxo.Properties.html#2218" class="Bound">p</a><a id="2258" class="Symbol">))</a>
          <a id="2271" class="Symbol">(</a><a id="2272" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2275" class="Symbol">_</a>  <a id="2278" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2280" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2284" href="Ledger.Utxo.Properties.html#2284" class="Bound">p</a><a id="2285" class="Symbol">)</a> <a id="2287" class="Symbol">→</a> <a id="2289" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2297" class="Symbol">(_</a> <a id="2300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2302" class="Symbol">(</a><a id="2303" href="Ledger.Utxo.html#12974" class="InductiveConstructor">Scripts-No</a> <a id="2314" href="Ledger.Utxo.Properties.html#2284" class="Bound">p</a><a id="2315" class="Symbol">))</a>
          <a id="2328" class="CatchallClause Symbol">(_</a><a id="2330" class="CatchallClause">     </a><a id="2335" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="2336" class="CatchallClause"> </a><a id="2337" class="CatchallClause Symbol">_</a><a id="2338" class="CatchallClause">    </a><a id="2342" class="CatchallClause Symbol">)</a> <a id="2344" class="Symbol">→</a> <a id="2346" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="2354" class="String">&quot;isValid check failed&quot;</a>

      <a id="2384" href="Ledger.Utxo.Properties.html#2384" class="Function">completeness</a> <a id="2397" class="Symbol">:</a> <a id="2399" class="Symbol">∀</a> <a id="2401" href="Ledger.Utxo.Properties.html#2401" class="Bound">s&#39;</a> <a id="2404" class="Symbol">→</a> <a id="2406" href="Ledger.Utxo.Properties.html#1765" class="Bound">Γ</a> <a id="2408" href="Ledger.Utxo.html#12367" class="Datatype Operator">⊢</a> <a id="2410" href="Ledger.Utxo.Properties.html#1779" class="Bound">s</a> <a id="2412" href="Ledger.Utxo.html#12367" class="Datatype Operator">⇀⦇</a> <a id="2415" href="Ledger.Utxo.Properties.html#1795" class="Bound">tx</a> <a id="2418" href="Ledger.Utxo.html#12367" class="Datatype Operator">,UTXOS⦈</a> <a id="2426" href="Ledger.Utxo.Properties.html#2401" class="Bound">s&#39;</a> <a id="2429" class="Symbol">→</a> <a id="2431" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="2435" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2441" href="Ledger.Utxo.Properties.html#2148" class="Function">computeProof</a> <a id="2454" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2456" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2464" href="Ledger.Utxo.Properties.html#2401" class="Bound">s&#39;</a>
      <a id="2473" href="Ledger.Utxo.Properties.html#2384" class="Function">completeness</a> <a id="2486" class="Symbol">_</a> <a id="2488" class="Symbol">(</a><a id="2489" href="Ledger.Utxo.html#12460" class="InductiveConstructor">Scripts-Yes</a> <a id="2501" href="Ledger.Utxo.Properties.html#2501" class="Bound">p</a><a id="2502" class="Symbol">)</a> <a id="2504" class="Keyword">with</a> <a id="2509" href="Ledger.Utxo.Properties.html#1933" class="Bound">H-No?</a> <a id="2515" class="Symbol">|</a> <a id="2517" href="Ledger.Utxo.Properties.html#1854" class="Bound">H-Yes?</a>
      <a id="2530" class="Symbol">...</a> <a id="2534" class="Symbol">|</a> <a id="2536" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2540" class="Symbol">(_</a> <a id="2543" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2545" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2549" class="Symbol">)</a> <a id="2551" class="Symbol">|</a> <a id="2553" class="Symbol">_</a>     <a id="2559" class="Symbol">=</a> <a id="2561" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2566" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2572" class="Bound">p</a> <a id="2574" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2577" class="Symbol">λ</a> <a id="2579" class="Symbol">()</a>
      <a id="2588" class="Symbol">...</a> <a id="2592" class="Symbol">|</a> <a id="2594" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2597" class="Symbol">_</a>           <a id="2609" class="Symbol">|</a> <a id="2611" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2615" class="Symbol">_</a> <a id="2617" class="Symbol">=</a> <a id="2619" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2630" class="Symbol">...</a> <a id="2634" class="Symbol">|</a> <a id="2636" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2639" class="Symbol">_</a>           <a id="2651" class="Symbol">|</a> <a id="2653" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2656" href="Ledger.Utxo.Properties.html#2656" class="Bound">¬p</a> <a id="2659" class="Symbol">=</a> <a id="2661" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2666" href="Ledger.Utxo.Properties.html#2656" class="Bound">¬p</a> <a id="2669" class="Bound">p</a> <a id="2671" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2674" class="Symbol">λ</a> <a id="2676" class="Symbol">()</a>
      <a id="2685" href="Ledger.Utxo.Properties.html#2384" class="Function">completeness</a> <a id="2698" class="Symbol">_</a> <a id="2700" class="Symbol">(</a><a id="2701" href="Ledger.Utxo.html#12974" class="InductiveConstructor">Scripts-No</a> <a id="2712" href="Ledger.Utxo.Properties.html#2712" class="Bound">p</a><a id="2713" class="Symbol">)</a> <a id="2715" class="Keyword">with</a> <a id="2720" href="Ledger.Utxo.Properties.html#1854" class="Bound">H-Yes?</a> <a id="2727" class="Symbol">|</a> <a id="2729" href="Ledger.Utxo.Properties.html#1933" class="Bound">H-No?</a>
      <a id="2741" class="Symbol">...</a> <a id="2745" class="Symbol">|</a> <a id="2747" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2751" class="Symbol">(_</a> <a id="2754" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2756" class="Symbol">_</a> <a id="2758" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2760" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2764" class="Symbol">)</a> <a id="2766" class="Symbol">|</a> <a id="2768" class="Symbol">_</a>     <a id="2774" class="Symbol">=</a> <a id="2776" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2781" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2787" class="Bound">p</a> <a id="2789" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2792" class="Symbol">λ</a> <a id="2794" class="Symbol">()</a>
      <a id="2803" class="Symbol">...</a> <a id="2807" class="Symbol">|</a> <a id="2809" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2812" class="Symbol">_</a>               <a id="2828" class="Symbol">|</a> <a id="2830" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2834" class="Symbol">_</a> <a id="2836" class="Symbol">=</a> <a id="2838" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="2849" class="Symbol">...</a> <a id="2853" class="Symbol">|</a> <a id="2855" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2858" class="Symbol">_</a>               <a id="2874" class="Symbol">|</a> <a id="2876" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2879" href="Ledger.Utxo.Properties.html#2879" class="Bound">¬p</a> <a id="2882" class="Symbol">=</a> <a id="2884" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2889" href="Ledger.Utxo.Properties.html#2879" class="Bound">¬p</a> <a id="2892" class="Bound">p</a> <a id="2894" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2897" class="Symbol">λ</a> <a id="2899" class="Symbol">()</a>

<a id="2903" class="Keyword">instance</a>
  <a id="Computational-UTXO&#39;"></a><a id="2914" href="Ledger.Utxo.Properties.html#2914" class="Function">Computational-UTXO&#39;</a> <a id="2934" class="Symbol">:</a> <a id="2936" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="2950" href="Ledger.Utxo.html#2824" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="2964" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="2973" href="Ledger.Utxo.Properties.html#2914" class="Function">Computational-UTXO&#39;</a> <a id="2993" class="Symbol">=</a> <a id="2995" class="Keyword">record</a> <a id="3002" class="Symbol">{</a><a id="3003" href="Ledger.Utxo.Properties.html#3030" class="Module">Go</a><a id="3005" class="Symbol">}</a>
    <a id="3011" class="Keyword">where</a>
      <a id="3023" class="Keyword">module</a> <a id="3030" href="Ledger.Utxo.Properties.html#3030" class="Module">Go</a> <a id="3033" href="Ledger.Utxo.Properties.html#3033" class="Bound">Γ</a> <a id="3035" href="Ledger.Utxo.Properties.html#3035" class="Bound">s</a> <a id="3037" href="Ledger.Utxo.Properties.html#3037" class="Bound">tx</a> <a id="3040" class="Symbol">(</a><a id="3041" class="Keyword">let</a> <a id="3045" href="Ledger.Utxo.Properties.html#3045" class="Bound">H</a> <a id="3047" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3049" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="3051" href="Ledger.Utxo.Properties.html#3051" class="Bound">H?</a> <a id="3054" class="Symbol">=</a> <a id="3056" href="Ledger.Utxo.html#15077" class="Function">UTXO-premises</a> <a id="3070" class="Symbol">{</a><a id="3071" class="Argument">Γ</a> <a id="3073" class="Symbol">=</a> <a id="3075" href="Ledger.Utxo.Properties.html#3033" class="Bound">Γ</a><a id="3076" class="Symbol">}</a> <a id="3078" class="Symbol">{</a><a id="3079" class="Argument">s</a> <a id="3081" class="Symbol">=</a> <a id="3083" href="Ledger.Utxo.Properties.html#3035" class="Bound">s</a><a id="3084" class="Symbol">}</a> <a id="3086" class="Symbol">{</a><a id="3087" class="Argument">tx</a> <a id="3090" class="Symbol">=</a> <a id="3092" href="Ledger.Utxo.Properties.html#3037" class="Bound">tx</a><a id="3094" class="Symbol">})</a> <a id="3097" class="Keyword">where</a>

        <a id="3112" class="Keyword">open</a> <a id="3117" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="3131" href="Ledger.Utxo.Properties.html#1650" class="Function">Computational-UTXOS</a>
          <a id="3161" class="Keyword">renaming</a> <a id="3170" class="Symbol">(</a><a id="3171" href="Interface.ComputationalRelation.html#2879" class="Field">computeProof</a> <a id="3184" class="Symbol">to</a> <a id="3187" class="Field">computeProof&#39;</a><a id="3200" class="Symbol">;</a> <a id="3202" href="Interface.ComputationalRelation.html#3096" class="Field">completeness</a> <a id="3215" class="Symbol">to</a> <a id="3218" class="Field">completeness&#39;</a><a id="3231" class="Symbol">)</a>

        <a id="3242" href="Ledger.Utxo.Properties.html#3242" class="Function">genErr</a> <a id="3249" class="Symbol">:</a> <a id="3251" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="3253" href="Ledger.Utxo.Properties.html#3045" class="Bound">H</a> <a id="3255" class="Symbol">→</a> <a id="3257" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
        <a id="3272" href="Ledger.Utxo.Properties.html#3242" class="Function">genErr</a>  <a id="3280" href="Ledger.Utxo.Properties.html#3280" class="Bound">¬p</a> <a id="3283" class="Symbol">=</a> <a id="3285" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3290" href="Ledger.Prelude.html#1113" class="Function">dec-de-morgan</a> <a id="3304" href="Ledger.Utxo.Properties.html#3280" class="Bound">¬p</a> <a id="3307" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3310" class="Symbol">λ</a> <a id="3312" class="Keyword">where</a>
          <a id="3328" class="Symbol">(</a><a id="3329" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3334" href="Ledger.Utxo.Properties.html#3334" class="Bound">a</a><a id="3335" class="Symbol">)</a> <a id="3337" class="Symbol">→</a> <a id="3339" class="String">&quot;¬ TxBody.txins (Tx.body tx) ≢ ∅&quot;</a>
          <a id="3383" class="Symbol">(</a><a id="3384" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3389" href="Ledger.Utxo.Properties.html#3389" class="Bound">b</a><a id="3390" class="Symbol">)</a> <a id="3392" class="Symbol">→</a> <a id="3394" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3399" href="Ledger.Prelude.html#1113" class="Function">dec-de-morgan</a> <a id="3413" href="Ledger.Utxo.Properties.html#3389" class="Bound">b</a> <a id="3415" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3418" class="Symbol">λ</a> <a id="3420" class="Keyword">where</a>
            <a id="3438" class="Symbol">(</a><a id="3439" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3444" href="Ledger.Utxo.Properties.html#3444" class="Bound">a₁</a><a id="3446" class="Symbol">)</a> <a id="3448" class="Symbol">→</a> <a id="3450" class="String">&quot;¬ TxBody.txins (Tx.body tx) ⊆ dom (UTxOState.utxo s)&quot;</a>
            <a id="3517" class="Symbol">(</a><a id="3518" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3523" href="Ledger.Utxo.Properties.html#3523" class="Bound">b₁</a><a id="3525" class="Symbol">)</a> <a id="3527" class="Symbol">→</a> <a id="3529" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3534" href="Ledger.Prelude.html#1113" class="Function">dec-de-morgan</a> <a id="3548" href="Ledger.Utxo.Properties.html#3523" class="Bound">b₁</a> <a id="3551" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3554" class="Symbol">λ</a> <a id="3556" class="Keyword">where</a>
                <a id="3578" class="Symbol">(</a><a id="3579" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3584" href="Ledger.Utxo.Properties.html#3584" class="Bound">a₁&#39;</a><a id="3587" class="Symbol">)</a> <a id="3589" class="Symbol">→</a> <a id="3591" class="String">&quot;¬ refInputs ⊆ dom utxo &quot;</a>
                <a id="3633" class="Symbol">(</a><a id="3634" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3639" href="Ledger.Utxo.Properties.html#3639" class="Bound">b₂&#39;</a><a id="3642" class="Symbol">)</a> <a id="3644" class="Symbol">→</a> <a id="3646" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3651" href="Ledger.Prelude.html#1113" class="Function">dec-de-morgan</a> <a id="3665" href="Ledger.Utxo.Properties.html#3639" class="Bound">b₂&#39;</a> <a id="3669" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3672" class="Symbol">λ</a> <a id="3674" class="Keyword">where</a>
                  <a id="3698" class="Symbol">(</a><a id="3699" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3704" href="Ledger.Utxo.Properties.html#3704" class="Bound">a₂</a><a id="3706" class="Symbol">)</a> <a id="3708" class="Symbol">→</a> <a id="3710" class="String">&quot;¬ inInterval (UTxOEnv.slot Γ) (txvldt (Tx.body tx))&quot;</a>
                  <a id="3782" class="Symbol">(</a><a id="3783" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3788" href="Ledger.Utxo.Properties.html#3788" class="Bound">b₂</a><a id="3790" class="Symbol">)</a> <a id="3792" class="Symbol">→</a> <a id="3794" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3799" href="Ledger.Prelude.html#1113" class="Function">dec-de-morgan</a> <a id="3813" href="Ledger.Utxo.Properties.html#3788" class="Bound">b₂</a> <a id="3816" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3819" class="Symbol">λ</a> <a id="3821" class="Keyword">where</a>
                    <a id="3847" class="Symbol">(</a><a id="3848" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3853" href="Ledger.Utxo.Properties.html#3853" class="Bound">a₃</a><a id="3855" class="Symbol">)</a> <a id="3857" class="Symbol">→</a> <a id="3859" class="String">&quot;¬ feesOK pp tx utxo&quot;</a>
                    <a id="3901" class="Symbol">(</a><a id="3902" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3907" href="Ledger.Utxo.Properties.html#3907" class="Bound">b₃</a><a id="3909" class="Symbol">)</a> <a id="3911" class="Symbol">→</a> <a id="3913" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3918" href="Ledger.Prelude.html#1113" class="Function">dec-de-morgan</a> <a id="3932" href="Ledger.Utxo.Properties.html#3907" class="Bound">b₃</a> <a id="3935" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3938" class="Symbol">λ</a> <a id="3940" class="Keyword">where</a>
                        <a id="3970" class="Symbol">(</a><a id="3971" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3976" href="Ledger.Utxo.Properties.html#3976" class="Bound">a₄</a><a id="3978" class="Symbol">)</a> <a id="3980" class="Symbol">→</a>
                          <a id="4008" class="Keyword">let</a>
                            <a id="4040" href="Ledger.Utxo.Properties.html#4040" class="Bound">pp</a> <a id="4043" class="Symbol">=</a> <a id="4045" href="Ledger.Utxo.html#2465" class="Field">UTxOEnv.pparams</a> <a id="4061" href="Ledger.Utxo.Properties.html#3033" class="Bound">Γ</a>
                            <a id="4091" href="Ledger.Utxo.Properties.html#4091" class="Bound">txb</a> <a id="4095" class="Symbol">=</a> <a id="4097" href="Ledger.Transaction.html#3570" class="Field">Tx.body</a> <a id="4105" href="Ledger.Utxo.Properties.html#3037" class="Bound">tx</a>
                            <a id="4136" href="Ledger.Utxo.Properties.html#4136" class="Bound">con</a> <a id="4140" class="Symbol">=</a> <a id="4142" href="Ledger.Utxo.html#11764" class="Function">consumed</a> <a id="4151" href="Ledger.Utxo.Properties.html#4040" class="Bound">pp</a> <a id="4154" href="Ledger.Utxo.Properties.html#3035" class="Bound">s</a> <a id="4156" href="Ledger.Utxo.Properties.html#4091" class="Bound">txb</a>
                            <a id="4188" href="Ledger.Utxo.Properties.html#4188" class="Bound">prod</a> <a id="4193" class="Symbol">=</a> <a id="4195" href="Ledger.Utxo.html#11972" class="Function">produced</a> <a id="4204" href="Ledger.Utxo.Properties.html#4040" class="Bound">pp</a> <a id="4207" href="Ledger.Utxo.Properties.html#3035" class="Bound">s</a> <a id="4209" href="Ledger.Utxo.Properties.html#4091" class="Bound">txb</a>
                            <a id="4241" href="Ledger.Utxo.Properties.html#4241" class="Bound">showValue</a> <a id="4251" class="Symbol">=</a> <a id="4253" href="Class.Show.Core.html#178" class="Field">show</a> <a id="4258" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4260" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a>
                          <a id="4291" class="Keyword">in</a>
                            <a id="4322" class="Symbol">(</a> <a id="4324" class="String">&quot;¬consumed (UTxOEnv.pparams Γ) s (Tx.body tx) ≡ produced (UTxOEnv.pparams Γ) s (Tx.body tx)&quot;</a>
                            <a id="4445" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4448" class="String">&quot;\n  consumed =\t\t&quot;</a> <a id="4469" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4472" href="Ledger.Utxo.Properties.html#4241" class="Bound">showValue</a> <a id="4482" href="Ledger.Utxo.Properties.html#4136" class="Bound">con</a>
                            <a id="4514" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4517" class="String">&quot;\n    ins  =\t\t&quot;</a> <a id="4536" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4539" href="Ledger.Utxo.Properties.html#4241" class="Bound">showValue</a> <a id="4549" class="Symbol">(</a><a id="4550" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="4558" class="Symbol">(</a><a id="4559" href="Ledger.Utxo.Properties.html#3035" class="Bound">s</a> <a id="4561" class="Symbol">.</a><a id="4562" href="Ledger.Utxo.html#2580" class="Field">UTxOState.utxo</a> <a id="4577" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="4579" href="Ledger.Utxo.Properties.html#4091" class="Bound">txb</a> <a id="4583" class="Symbol">.</a><a id="4584" href="Ledger.Transaction.html#2620" class="Field">TxBody.txins</a><a id="4596" class="Symbol">))</a>
                            <a id="4627" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4630" class="String">&quot;\n    mint =\t\t&quot;</a> <a id="4649" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4652" href="Ledger.Utxo.Properties.html#4241" class="Bound">showValue</a> <a id="4662" class="Symbol">(</a><a id="4663" href="Ledger.Transaction.html#2742" class="Field">TxBody.mint</a> <a id="4675" href="Ledger.Utxo.Properties.html#4091" class="Bound">txb</a><a id="4678" class="Symbol">)</a>
                            <a id="4708" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4711" class="String">&quot;\n    depositRefunds =\t&quot;</a> <a id="4738" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4741" href="Ledger.Utxo.Properties.html#4241" class="Bound">showValue</a> <a id="4751" class="Symbol">(</a><a id="4752" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="4759" class="Symbol">(</a><a id="4760" href="Ledger.Utxo.html#11506" class="Function">depositRefunds</a> <a id="4775" href="Ledger.Utxo.Properties.html#4040" class="Bound">pp</a> <a id="4778" href="Ledger.Utxo.Properties.html#3035" class="Bound">s</a> <a id="4780" href="Ledger.Utxo.Properties.html#4091" class="Bound">txb</a><a id="4783" class="Symbol">))</a>
                            <a id="4814" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4817" class="String">&quot;\n  produced =\t\t&quot;</a> <a id="4838" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4841" href="Ledger.Utxo.Properties.html#4241" class="Bound">showValue</a> <a id="4851" href="Ledger.Utxo.Properties.html#4188" class="Bound">prod</a>
                            <a id="4884" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4887" class="String">&quot;\n    outs =\t\t&quot;</a> <a id="4906" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4909" href="Ledger.Utxo.Properties.html#4241" class="Bound">showValue</a> <a id="4919" class="Symbol">(</a><a id="4920" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="4928" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="4930" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="4935" href="Ledger.Utxo.Properties.html#4091" class="Bound">txb</a><a id="4938" class="Symbol">)</a>
                            <a id="4968" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4971" class="String">&quot;\n    fee  =\t\t&quot;</a> <a id="4990" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="4993" href="Class.Show.Core.html#178" class="Field">show</a> <a id="4998" class="Symbol">(</a><a id="4999" href="Ledger.Utxo.Properties.html#4091" class="Bound">txb</a> <a id="5003" class="Symbol">.</a><a id="5004" href="Ledger.Transaction.html#2714" class="Field">TxBody.txfee</a><a id="5016" class="Symbol">)</a>
                            <a id="5046" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="5049" class="String">&quot;\n    newDeposits  =\t&quot;</a> <a id="5074" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="5077" href="Class.Show.Core.html#178" class="Field">show</a> <a id="5082" class="Symbol">(</a><a id="5083" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="5095" href="Ledger.Utxo.Properties.html#4040" class="Bound">pp</a> <a id="5098" href="Ledger.Utxo.Properties.html#3035" class="Bound">s</a> <a id="5100" href="Ledger.Utxo.Properties.html#4091" class="Bound">txb</a><a id="5103" class="Symbol">)</a>
                            <a id="5133" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="5136" class="String">&quot;\n    donation  =\t\t&quot;</a> <a id="5160" href="Ledger.Utxo.Properties.html#519" class="Function Operator">+ˢ</a> <a id="5163" href="Class.Show.Core.html#178" class="Field">show</a> <a id="5168" class="Symbol">(</a><a id="5169" href="Ledger.Utxo.Properties.html#4091" class="Bound">txb</a> <a id="5173" class="Symbol">.</a><a id="5174" href="Ledger.Transaction.html#2956" class="Field">TxBody.txdonation</a><a id="5191" class="Symbol">)</a>
                            <a id="5221" class="Symbol">)</a>
                        <a id="5247" class="Symbol">(</a><a id="5248" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5253" href="Ledger.Utxo.Properties.html#5253" class="Bound">b₄</a><a id="5255" class="Symbol">)</a> <a id="5257" class="Symbol">→</a> <a id="5259" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5264" href="Ledger.Prelude.html#1113" class="Function">dec-de-morgan</a> <a id="5278" href="Ledger.Utxo.Properties.html#5253" class="Bound">b₄</a> <a id="5281" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5284" class="Symbol">λ</a> <a id="5286" class="Keyword">where</a>
                          <a id="5318" class="Symbol">(</a><a id="5319" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5324" href="Ledger.Utxo.Properties.html#5324" class="Bound">a₅</a><a id="5326" class="Symbol">)</a> <a id="5328" class="Symbol">→</a> <a id="5330" class="String">&quot;¬ coin (TxBody.mint (Tx.body tx)) ≡ 0&quot;</a>
                          <a id="5396" class="Symbol">(</a><a id="5397" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5402" href="Ledger.Utxo.Properties.html#5402" class="Bound">b₅</a><a id="5404" class="Symbol">)</a> <a id="5406" class="Symbol">→</a> <a id="5408" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5413" href="Ledger.Prelude.html#1113" class="Function">dec-de-morgan</a> <a id="5427" href="Ledger.Utxo.Properties.html#5402" class="Bound">b₅</a> <a id="5430" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5433" class="Symbol">λ</a> <a id="5435" class="Keyword">where</a>
                              <a id="5471" class="Symbol">(</a><a id="5472" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5477" href="Ledger.Utxo.Properties.html#5477" class="Bound">a₆</a><a id="5479" class="Symbol">)</a> <a id="5481" class="Symbol">→</a> <a id="5483" class="String">&quot;¬(TxBody.txsize (Tx.body tx) Data.Nat.Base.≤ maxTxSize (UTxOEnv.pparams Γ))&quot;</a>
                              <a id="5591" class="Symbol">(</a><a id="5592" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5597" href="Ledger.Utxo.Properties.html#5597" class="Bound">b₆</a><a id="5599" class="Symbol">)</a> <a id="5601" class="Symbol">→</a> <a id="5603" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5608" href="Ledger.Prelude.html#1113" class="Function">dec-de-morgan</a> <a id="5622" href="Ledger.Utxo.Properties.html#5597" class="Bound">b₆</a> <a id="5625" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5628" class="Symbol">λ</a> <a id="5630" class="Keyword">where</a>
                                <a id="5668" class="Symbol">(</a><a id="5669" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5674" href="Ledger.Utxo.Properties.html#5674" class="Bound">a₇</a><a id="5676" class="Symbol">)</a> <a id="5678" class="Symbol">→</a> <a id="5680" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] inject (utxoEntrySize txout * coinsPerUTxOByte pp) ≤ᵗ getValue txout&quot;</a>
                                <a id="5816" class="Symbol">(</a><a id="5817" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5822" href="Ledger.Utxo.Properties.html#5822" class="Bound">b₇</a><a id="5824" class="Symbol">)</a> <a id="5826" class="Symbol">→</a> <a id="5828" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="5833" href="Ledger.Prelude.html#1113" class="Function">dec-de-morgan</a> <a id="5847" href="Ledger.Utxo.Properties.html#5822" class="Bound">b₇</a> <a id="5850" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="5853" class="Symbol">λ</a> <a id="5855" class="Keyword">where</a>
                                    <a id="5897" class="Symbol">(</a><a id="5898" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5903" href="Ledger.Utxo.Properties.html#5903" class="Bound">a₈</a><a id="5905" class="Symbol">)</a> <a id="5907" class="Symbol">→</a> <a id="5909" class="String">&quot;∀[ (_ , txout) ∈ txouts .proj₁ ] serSize (getValue txout) ≤ maxValSize pp&quot;</a>
                                    <a id="6021" class="Symbol">(</a><a id="6022" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6027" href="Ledger.Utxo.Properties.html#6027" class="Bound">b₈</a><a id="6029" class="Symbol">)</a> <a id="6031" class="Symbol">→</a> <a id="6033" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="6038" href="Ledger.Prelude.html#1113" class="Function">dec-de-morgan</a> <a id="6052" href="Ledger.Utxo.Properties.html#6027" class="Bound">b₈</a> <a id="6055" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="6058" class="Symbol">λ</a> <a id="6060" class="Keyword">where</a>
                                      <a id="6104" class="Symbol">(</a><a id="6105" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6110" href="Ledger.Utxo.Properties.html#6110" class="Bound">a₉</a><a id="6112" class="Symbol">)</a> <a id="6114" class="Symbol">→</a> <a id="6116" class="String">&quot;∀[ (a , _) ∈ range txouts ] Sum.All (const ⊤) (λ a → a .BootstrapAddr.attrsSize ≤ 64) a&quot;</a>
                                      <a id="6244" class="Symbol">(</a><a id="6245" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6250" class="Symbol">_)</a> <a id="6253" class="Symbol">→</a> <a id="6255" class="String">&quot;something else broke&quot;</a>

        <a id="6287" href="Ledger.Utxo.Properties.html#6287" class="Function">computeProofH</a> <a id="6301" class="Symbol">:</a> <a id="6303" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="6307" href="Ledger.Utxo.Properties.html#3045" class="Bound">H</a> <a id="6309" class="Symbol">→</a> <a id="6311" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6329" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6336" class="Symbol">(</a><a id="6337" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6340" href="Ledger.Utxo.Properties.html#6340" class="Bound">s&#39;</a> <a id="6343" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6345" href="Ledger.Utxo.Properties.html#3033" class="Bound">Γ</a> <a id="6347" href="Ledger.Utxo.html#2824" class="Datatype Operator">⊢</a> <a id="6349" href="Ledger.Utxo.Properties.html#3035" class="Bound">s</a> <a id="6351" href="Ledger.Utxo.html#2824" class="Datatype Operator">⇀⦇</a> <a id="6354" href="Ledger.Utxo.Properties.html#3037" class="Bound">tx</a> <a id="6357" href="Ledger.Utxo.html#2824" class="Datatype Operator">,UTXO⦈</a> <a id="6364" href="Ledger.Utxo.Properties.html#6340" class="Bound">s&#39;</a><a id="6366" class="Symbol">)</a>
        <a id="6376" href="Ledger.Utxo.Properties.html#6287" class="Function">computeProofH</a> <a id="6390" class="Symbol">(</a><a id="6391" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6395" class="Symbol">(</a><a id="6396" href="Ledger.Utxo.Properties.html#6396" class="Bound">x</a> <a id="6398" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6400" href="Ledger.Utxo.Properties.html#6400" class="Bound">y</a> <a id="6402" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6404" href="Ledger.Utxo.Properties.html#6404" class="Bound">z</a> <a id="6406" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6408" href="Ledger.Utxo.Properties.html#6408" class="Bound">e</a> <a id="6410" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6412" href="Ledger.Utxo.Properties.html#6412" class="Bound">k</a> <a id="6414" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6416" href="Ledger.Utxo.Properties.html#6416" class="Bound">l</a> <a id="6418" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6420" href="Ledger.Utxo.Properties.html#6420" class="Bound">m</a> <a id="6422" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6424" href="Ledger.Utxo.Properties.html#6424" class="Bound">v</a> <a id="6426" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6428" href="Ledger.Utxo.Properties.html#6428" class="Bound">j</a> <a id="6430" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6432" href="Ledger.Utxo.Properties.html#6432" class="Bound">n</a> <a id="6434" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6436" href="Ledger.Utxo.Properties.html#6436" class="Bound">o</a> <a id="6438" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6440" href="Ledger.Utxo.Properties.html#6440" class="Bound">p</a> <a id="6442" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6444" href="Ledger.Utxo.Properties.html#6444" class="Bound">q</a> <a id="6446" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6448" href="Ledger.Utxo.Properties.html#6448" class="Bound">r</a> <a id="6450" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6452" href="Ledger.Utxo.Properties.html#6452" class="Bound">t</a> <a id="6454" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6456" href="Ledger.Utxo.Properties.html#6456" class="Bound">u</a><a id="6457" class="Symbol">))</a> <a id="6460" class="Symbol">=</a>
            <a id="6474" href="Class.Bifunctor.html#606" class="Function">map₂′</a> <a id="6480" class="Symbol">(</a><a id="6481" href="Ledger.Utxo.html#14895" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6497" class="Symbol">_</a> <a id="6499" class="Symbol">_</a> <a id="6501" class="Symbol">_</a> <a id="6503" href="Ledger.Utxo.Properties.html#6396" class="Bound">x</a> <a id="6505" href="Ledger.Utxo.Properties.html#6400" class="Bound">y</a> <a id="6507" href="Ledger.Utxo.Properties.html#6404" class="Bound">z</a> <a id="6509" href="Ledger.Utxo.Properties.html#6408" class="Bound">e</a> <a id="6511" href="Ledger.Utxo.Properties.html#6412" class="Bound">k</a> <a id="6513" href="Ledger.Utxo.Properties.html#6416" class="Bound">l</a> <a id="6515" href="Ledger.Utxo.Properties.html#6420" class="Bound">m</a> <a id="6517" href="Ledger.Utxo.Properties.html#6424" class="Bound">v</a> <a id="6519" href="Ledger.Utxo.Properties.html#6428" class="Bound">j</a> <a id="6521" href="Ledger.Utxo.Properties.html#6432" class="Bound">n</a> <a id="6523" href="Ledger.Utxo.Properties.html#6436" class="Bound">o</a> <a id="6525" href="Ledger.Utxo.Properties.html#6440" class="Bound">p</a> <a id="6527" href="Ledger.Utxo.Properties.html#6444" class="Bound">q</a> <a id="6529" href="Ledger.Utxo.Properties.html#6448" class="Bound">r</a> <a id="6531" href="Ledger.Utxo.Properties.html#6452" class="Bound">t</a> <a id="6533" href="Ledger.Utxo.Properties.html#6456" class="Bound">u</a><a id="6534" class="Symbol">)</a> <a id="6536" href="Class.Functor.Core.html#233" class="Field Operator">&lt;$&gt;</a> <a id="6540" href="Ledger.Utxo.Properties.html#3187" class="Function">computeProof&#39;</a> <a id="6554" href="Ledger.Utxo.Properties.html#3033" class="Bound">Γ</a> <a id="6556" href="Ledger.Utxo.Properties.html#3035" class="Bound">s</a> <a id="6558" href="Ledger.Utxo.Properties.html#3037" class="Bound">tx</a>
        <a id="6569" href="Ledger.Utxo.Properties.html#6287" class="Function">computeProofH</a> <a id="6583" class="Symbol">(</a><a id="6584" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6587" href="Ledger.Utxo.Properties.html#6587" class="Bound">¬p</a><a id="6589" class="Symbol">)</a> <a id="6591" class="Symbol">=</a> <a id="6593" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="6601" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6603" href="Ledger.Utxo.Properties.html#3242" class="Function">genErr</a> <a id="6610" href="Ledger.Utxo.Properties.html#6587" class="Bound">¬p</a>

        <a id="6622" href="Ledger.Utxo.Properties.html#6622" class="Function">computeProof</a> <a id="6635" class="Symbol">:</a> <a id="6637" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6655" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6662" class="Symbol">(</a><a id="6663" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6666" href="Ledger.Utxo.Properties.html#6666" class="Bound">s&#39;</a> <a id="6669" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6671" href="Ledger.Utxo.Properties.html#3033" class="Bound">Γ</a> <a id="6673" href="Ledger.Utxo.html#2824" class="Datatype Operator">⊢</a> <a id="6675" href="Ledger.Utxo.Properties.html#3035" class="Bound">s</a> <a id="6677" href="Ledger.Utxo.html#2824" class="Datatype Operator">⇀⦇</a> <a id="6680" href="Ledger.Utxo.Properties.html#3037" class="Bound">tx</a> <a id="6683" href="Ledger.Utxo.html#2824" class="Datatype Operator">,UTXO⦈</a> <a id="6690" href="Ledger.Utxo.Properties.html#6666" class="Bound">s&#39;</a><a id="6692" class="Symbol">)</a>
        <a id="6702" href="Ledger.Utxo.Properties.html#6622" class="Function">computeProof</a> <a id="6715" class="Symbol">=</a> <a id="6717" href="Ledger.Utxo.Properties.html#6287" class="Function">computeProofH</a> <a id="6731" href="Ledger.Utxo.Properties.html#3051" class="Bound">H?</a>

        <a id="6743" href="Ledger.Utxo.Properties.html#6743" class="Function">completeness</a> <a id="6756" class="Symbol">:</a> <a id="6758" class="Symbol">∀</a> <a id="6760" href="Ledger.Utxo.Properties.html#6760" class="Bound">s&#39;</a> <a id="6763" class="Symbol">→</a> <a id="6765" href="Ledger.Utxo.Properties.html#3033" class="Bound">Γ</a> <a id="6767" href="Ledger.Utxo.html#2824" class="Datatype Operator">⊢</a> <a id="6769" href="Ledger.Utxo.Properties.html#3035" class="Bound">s</a> <a id="6771" href="Ledger.Utxo.html#2824" class="Datatype Operator">⇀⦇</a> <a id="6774" href="Ledger.Utxo.Properties.html#3037" class="Bound">tx</a> <a id="6777" href="Ledger.Utxo.html#2824" class="Datatype Operator">,UTXO⦈</a> <a id="6784" href="Ledger.Utxo.Properties.html#6760" class="Bound">s&#39;</a> <a id="6787" class="Symbol">→</a> <a id="6789" href="Class.Functor.Core.html#263" class="Function">map</a> <a id="6793" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6799" href="Ledger.Utxo.Properties.html#6622" class="Function">computeProof</a> <a id="6812" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6814" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="6822" href="Ledger.Utxo.Properties.html#6760" class="Bound">s&#39;</a>
        <a id="6833" href="Ledger.Utxo.Properties.html#6743" class="Function">completeness</a> <a id="6846" href="Ledger.Utxo.Properties.html#6846" class="Bound">s&#39;</a> <a id="6849" class="Symbol">(</a><a id="6850" href="Ledger.Utxo.html#14895" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="6866" class="Symbol">_</a> <a id="6868" class="Symbol">_</a> <a id="6870" class="Symbol">_</a> <a id="6872" href="Ledger.Utxo.Properties.html#6872" class="Bound">x</a> <a id="6874" href="Ledger.Utxo.Properties.html#6874" class="Bound">y</a> <a id="6876" href="Ledger.Utxo.Properties.html#6876" class="Bound">z</a> <a id="6878" href="Ledger.Utxo.Properties.html#6878" class="Bound">w</a> <a id="6880" href="Ledger.Utxo.Properties.html#6880" class="Bound">k</a> <a id="6882" href="Ledger.Utxo.Properties.html#6882" class="Bound">l</a> <a id="6884" href="Ledger.Utxo.Properties.html#6884" class="Bound">m</a> <a id="6886" href="Ledger.Utxo.Properties.html#6886" class="Bound">v</a> <a id="6888" href="Ledger.Utxo.Properties.html#6888" class="Bound">j</a> <a id="6890" href="Ledger.Utxo.Properties.html#6890" class="Bound">n</a> <a id="6892" href="Ledger.Utxo.Properties.html#6892" class="Bound">o</a> <a id="6894" href="Ledger.Utxo.Properties.html#6894" class="Bound">p</a> <a id="6896" href="Ledger.Utxo.Properties.html#6896" class="Bound">q</a> <a id="6898" href="Ledger.Utxo.Properties.html#6898" class="Bound">r</a> <a id="6900" href="Ledger.Utxo.Properties.html#6900" class="Bound">t</a> <a id="6902" href="Ledger.Utxo.Properties.html#6902" class="Bound">u</a> <a id="6904" href="Ledger.Utxo.Properties.html#6904" class="Bound">h</a><a id="6905" class="Symbol">)</a> <a id="6907" class="Keyword">with</a> <a id="6912" href="Ledger.Utxo.Properties.html#3051" class="Bound">H?</a>
        <a id="6923" class="Symbol">...</a> <a id="6927" class="Symbol">|</a> <a id="6929" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6932" href="Ledger.Utxo.Properties.html#6932" class="Bound">¬p</a> <a id="6935" class="Symbol">=</a> <a id="6937" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="6944" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="6946" href="Ledger.Utxo.Properties.html#6932" class="Bound">¬p</a> <a id="6949" class="Symbol">(</a><a id="6950" class="Bound">x</a> <a id="6952" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6954" class="Bound">y</a> <a id="6956" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6958" class="Bound">z</a> <a id="6960" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6962" class="Bound">w</a> <a id="6964" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6966" class="Bound">k</a> <a id="6968" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6970" class="Bound">l</a> <a id="6972" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6974" class="Bound">m</a> <a id="6976" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6978" class="Bound">v</a> <a id="6980" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6982" class="Bound">j</a> <a id="6984" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6986" class="Bound">n</a> <a id="6988" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6990" class="Bound">o</a> <a id="6992" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6994" class="Bound">p</a> <a id="6996" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6998" class="Bound">q</a> <a id="7000" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7002" class="Bound">r</a> <a id="7004" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7006" class="Bound">t</a> <a id="7008" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7010" class="Bound">u</a><a id="7011" class="Symbol">)</a>
        <a id="7021" class="Symbol">...</a> <a id="7025" class="Symbol">|</a> <a id="7027" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="7031" class="Symbol">_</a> <a id="7033" class="Keyword">with</a> <a id="7038" href="Ledger.Utxo.Properties.html#3187" class="Function">computeProof&#39;</a> <a id="7052" href="Ledger.Utxo.Properties.html#3033" class="Bound">Γ</a> <a id="7054" href="Ledger.Utxo.Properties.html#3035" class="Bound">s</a> <a id="7056" href="Ledger.Utxo.Properties.html#3037" class="Bound">tx</a> <a id="7059" class="Symbol">|</a> <a id="7061" href="Ledger.Utxo.Properties.html#3218" class="Function">completeness&#39;</a> <a id="7075" class="Symbol">_</a> <a id="7077" class="Symbol">_</a> <a id="7079" class="Symbol">_</a> <a id="7081" class="Symbol">_</a> <a id="7083" class="Bound">h</a>
        <a id="7093" class="Symbol">...</a> <a id="7097" class="Symbol">|</a> <a id="7099" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="7107" class="Symbol">_</a> <a id="7109" class="Symbol">|</a> <a id="7111" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7116" class="Symbol">=</a> <a id="7118" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="7124" class="Keyword">open</a> <a id="7129" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="7143" class="Symbol">⦃...⦄</a>

<a id="7150" class="Keyword">opaque</a>
  <a id="7159" class="Keyword">unfolding</a> <a id="7169" href="abstract-set-theory.FiniteSetTheory.html#240" class="Function">List-Model</a>
  <a id="Computational-UTXO"></a><a id="7182" href="Ledger.Utxo.Properties.html#7182" class="Function">Computational-UTXO</a> <a id="7201" class="Symbol">:</a> <a id="7203" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="7217" href="Ledger.Utxo.html#2824" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="7231" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="7240" href="Ledger.Utxo.Properties.html#7182" class="Function">Computational-UTXO</a> <a id="7259" class="Symbol">=</a> <a id="7261" href="Ledger.Utxo.Properties.html#2914" class="Function">Computational-UTXO&#39;</a>

<a id="7282" class="Keyword">private</a> <a id="7290" class="Keyword">variable</a>
  <a id="7301" href="Ledger.Utxo.Properties.html#7301" class="Generalizable">tx</a>                               <a id="7334" class="Symbol">:</a> <a id="7336" href="Ledger.Transaction.html#3538" class="Record">Tx</a>
  <a id="7341" href="Ledger.Utxo.Properties.html#7341" class="Generalizable">utxo</a> <a id="7346" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">utxo&#39;</a>                       <a id="7374" class="Symbol">:</a> <a id="7376" href="Ledger.Transaction.html#2402" class="Function">UTxO</a>
  <a id="7383" href="Ledger.Utxo.Properties.html#7383" class="Generalizable">Γ</a>                                <a id="7416" class="Symbol">:</a> <a id="7418" href="Ledger.Utxo.html#2411" class="Record">UTxOEnv</a>
  <a id="7428" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a> <a id="7438" href="Ledger.Utxo.Properties.html#7438" class="Generalizable">utxoState&#39;</a>             <a id="7461" class="Symbol">:</a> <a id="7463" href="Ledger.Utxo.html#2516" class="Record">UTxOState</a>
  <a id="7475" href="Ledger.Utxo.Properties.html#7475" class="Generalizable">fees</a> <a id="7480" href="Ledger.Utxo.Properties.html#7480" class="Generalizable">fees&#39;</a> <a id="7486" href="Ledger.Utxo.Properties.html#7486" class="Generalizable">donations</a> <a id="7496" href="Ledger.Utxo.Properties.html#7496" class="Generalizable">donations&#39;</a>  <a id="7508" class="Symbol">:</a> <a id="7510" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="7517" href="Ledger.Utxo.Properties.html#7517" class="Generalizable">deposits</a> <a id="7526" href="Ledger.Utxo.Properties.html#7526" class="Generalizable">deposits&#39;</a>               <a id="7550" class="Symbol">:</a> <a id="7552" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="7567" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="7569" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>

<a id="7575" class="Keyword">open</a> <a id="7580" href="Algebra.Morphism.Structures.html#4393" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>
<a id="7617" class="Keyword">private</a>
  <a id="∙-homo-Coin"></a><a id="7627" href="Ledger.Utxo.Properties.html#7627" class="Function">∙-homo-Coin</a> <a id="7639" class="Symbol">=</a> <a id="7641" href="Algebra.Morphism.Structures.html#2891" class="Field">IsMagmaHomomorphism.homo</a> <a id="7666" class="Symbol">(</a><a id="7667" href="Algebra.Morphism.Structures.html#4470" class="Field">isMagmaHomomorphism</a> <a id="7687" href="Ledger.TokenAlgebra.html#1208" class="Function">coinIsMonoidHomomorphism</a><a id="7711" class="Symbol">)</a>

<a id="7714" class="Keyword">opaque</a>
  <a id="7723" class="Keyword">unfolding</a> <a id="7733" href="Ledger.Utxo.html#3028" class="Function">balance</a>
  <a id="balance-cong"></a><a id="7743" href="Ledger.Utxo.Properties.html#7743" class="Function">balance-cong</a> <a id="7756" class="Symbol">:</a> <a id="7758" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7764" href="Ledger.Utxo.Properties.html#7341" class="Generalizable">utxo</a> <a id="7769" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="7772" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7778" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">utxo&#39;</a> <a id="7784" class="Symbol">→</a> <a id="7786" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="7794" href="Ledger.Utxo.Properties.html#7341" class="Generalizable">utxo</a> <a id="7799" href="Algebra.Bundles.html#8008" class="Function Operator">≈</a> <a id="7801" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="7809" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">utxo&#39;</a>
  <a id="7817" href="Ledger.Utxo.Properties.html#7743" class="Function">balance-cong</a> <a id="7830" class="Symbol">{</a><a id="7831" href="Ledger.Utxo.Properties.html#7831" class="Bound">utxo</a><a id="7835" class="Symbol">}</a> <a id="7837" class="Symbol">{</a><a id="7838" href="Ledger.Utxo.Properties.html#7838" class="Bound">utxo&#39;</a><a id="7843" class="Symbol">}</a> <a id="7845" href="Ledger.Utxo.Properties.html#7845" class="Bound">eq</a> <a id="7848" class="Symbol">=</a> <a id="7850" href="Axiom.Set.Sum.html#4667" class="Function">indexedSumᵐ-cong</a> <a id="7867" class="Symbol">{</a><a id="7868" class="Argument">M</a> <a id="7870" class="Symbol">=</a> <a id="7872" href="Ledger.TokenAlgebra.html#492" class="Function">Value</a><a id="7877" class="Symbol">}</a> <a id="7879" class="Symbol">{</a><a id="7880" class="Argument">x</a> <a id="7882" class="Symbol">=</a> <a id="7884" class="Symbol">(</a><a id="7885" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7895" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="7905" href="Ledger.Utxo.Properties.html#7831" class="Bound">utxo</a><a id="7909" class="Symbol">)</a> <a id="7911" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="7913" class="Symbol">}</a> <a id="7915" class="Symbol">{(</a><a id="7917" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="7927" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="7937" href="Ledger.Utxo.Properties.html#7838" class="Bound">utxo&#39;</a><a id="7942" class="Symbol">)</a> <a id="7944" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="7946" class="Symbol">}</a> <a id="7948" class="Symbol">(</a><a id="7949" href="Axiom.Set.Properties.html#5411" class="Function">map-≡ᵉ</a> <a id="7956" href="Ledger.Utxo.Properties.html#7845" class="Bound">eq</a><a id="7958" class="Symbol">)</a>

  <a id="balance-cong-coin"></a><a id="7963" href="Ledger.Utxo.Properties.html#7963" class="Function">balance-cong-coin</a> <a id="7981" class="Symbol">:</a> <a id="7983" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7989" href="Ledger.Utxo.Properties.html#7341" class="Generalizable">utxo</a> <a id="7994" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="7997" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8003" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">utxo&#39;</a> <a id="8009" class="Symbol">→</a> <a id="8011" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="8020" href="Ledger.Utxo.Properties.html#7341" class="Generalizable">utxo</a> <a id="8025" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8027" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="8036" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">utxo&#39;</a>
  <a id="8044" href="Ledger.Utxo.Properties.html#7963" class="Function">balance-cong-coin</a> <a id="8062" class="Symbol">{</a><a id="8063" href="Ledger.Utxo.Properties.html#8063" class="Bound">utxo</a><a id="8067" class="Symbol">}</a> <a id="8069" class="Symbol">{</a><a id="8070" href="Ledger.Utxo.Properties.html#8070" class="Bound">utxo&#39;</a><a id="8075" class="Symbol">}</a> <a id="8077" href="Ledger.Utxo.Properties.html#8077" class="Bound">x</a> <a id="8079" class="Symbol">=</a>
    <a id="8085" href="Ledger.TokenAlgebra.html#1208" class="Function">coinIsMonoidHomomorphism</a> <a id="8110" class="Symbol">.</a><a id="8111" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8119" class="Symbol">(</a><a id="8120" href="Ledger.Utxo.Properties.html#7743" class="Function">balance-cong</a> <a id="8133" class="Symbol">{</a><a id="8134" href="Ledger.Utxo.Properties.html#8063" class="Bound">utxo</a><a id="8138" class="Symbol">}</a> <a id="8140" class="Symbol">{</a><a id="8141" href="Ledger.Utxo.Properties.html#8070" class="Bound">utxo&#39;</a><a id="8146" class="Symbol">}</a> <a id="8148" href="Ledger.Utxo.Properties.html#8077" class="Bound">x</a><a id="8149" class="Symbol">)</a>
    <a id="8155" class="Keyword">where</a> <a id="8161" class="Keyword">open</a> <a id="8166" href="Algebra.Morphism.Structures.html#4393" class="Module">MonoidMorphisms.IsMonoidHomomorphism</a>

  <a id="balance-∪"></a><a id="8206" href="Ledger.Utxo.Properties.html#8206" class="Function">balance-∪</a> <a id="8216" class="Symbol">:</a> <a id="8218" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="8227" class="Symbol">(</a><a id="8228" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8232" href="Ledger.Utxo.Properties.html#7341" class="Generalizable">utxo</a><a id="8236" class="Symbol">)</a> <a id="8238" class="Symbol">(</a><a id="8239" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8243" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">utxo&#39;</a><a id="8248" class="Symbol">)</a>
                       <a id="8273" class="Symbol">→</a> <a id="8275" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="8284" class="Symbol">(</a><a id="8285" href="Ledger.Utxo.Properties.html#7341" class="Generalizable">utxo</a> <a id="8290" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8293" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">utxo&#39;</a><a id="8298" class="Symbol">)</a> <a id="8300" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8302" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="8311" href="Ledger.Utxo.Properties.html#7341" class="Generalizable">utxo</a> <a id="8316" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="8318" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="8327" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">utxo&#39;</a>
  <a id="8335" href="Ledger.Utxo.Properties.html#8206" class="Function">balance-∪</a> <a id="8345" class="Symbol">{</a><a id="8346" href="Ledger.Utxo.Properties.html#8346" class="Bound">utxo</a><a id="8350" class="Symbol">}</a> <a id="8352" class="Symbol">{</a><a id="8353" href="Ledger.Utxo.Properties.html#8353" class="Bound">utxo&#39;</a><a id="8358" class="Symbol">}</a> <a id="8360" href="Ledger.Utxo.Properties.html#8360" class="Bound">h</a> <a id="8362" class="Symbol">=</a> <a id="8364" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="8374" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="8383" class="Symbol">(</a><a id="8384" href="Ledger.Utxo.Properties.html#8346" class="Bound">utxo</a> <a id="8389" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8392" href="Ledger.Utxo.Properties.html#8353" class="Bound">utxo&#39;</a><a id="8397" class="Symbol">)</a>
      <a id="8405" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8408" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8416" href="Ledger.TokenAlgebra.html#1208" class="Function">coinIsMonoidHomomorphism</a>
      <a id="8447" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8449" href="Axiom.Set.Sum.html#4667" class="Function">indexedSumᵐ-cong</a> <a id="8466" class="Symbol">{</a><a id="8467" class="Argument">f</a> <a id="8469" class="Symbol">=</a> <a id="8471" href="Ledger.Transaction.html#3895" class="Function">getValueʰ</a> <a id="8481" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="8483" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="8488" class="Symbol">}</a> <a id="8490" class="Symbol">{</a><a id="8491" class="Argument">x</a> <a id="8493" class="Symbol">=</a> <a id="8495" class="Symbol">(</a><a id="8496" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8506" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8516" class="Symbol">(</a><a id="8517" href="Ledger.Utxo.Properties.html#8346" class="Bound">utxo</a> <a id="8522" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="8525" href="Ledger.Utxo.Properties.html#8353" class="Bound">utxo&#39;</a><a id="8530" class="Symbol">))</a> <a id="8533" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8535" class="Symbol">}</a> <a id="8537" class="Symbol">{((</a><a id="8540" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8550" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8560" href="Ledger.Utxo.Properties.html#8346" class="Bound">utxo</a><a id="8564" class="Symbol">)</a> <a id="8566" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8568" class="Symbol">)</a> <a id="8570" href="Axiom.Set.Sum.html#5189" class="Function Operator">∪ˡᶠ</a> <a id="8574" class="Symbol">((</a><a id="8576" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8586" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8596" href="Ledger.Utxo.Properties.html#8353" class="Bound">utxo&#39;</a><a id="8601" class="Symbol">)</a> <a id="8603" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8605" class="Symbol">)}</a> <a id="8608" class="Symbol">(</a><a id="8609" href="Axiom.Set.Map.html#7309" class="Function">disjoint-∪ˡ-mapValues</a> <a id="8631" class="Symbol">{</a><a id="8632" class="Argument">M</a> <a id="8634" class="Symbol">=</a> <a id="8636" href="Ledger.Utxo.Properties.html#8346" class="Bound">utxo</a><a id="8640" class="Symbol">}</a> <a id="8642" class="Symbol">{</a><a id="8643" href="Ledger.Utxo.Properties.html#8353" class="Bound">utxo&#39;</a><a id="8648" class="Symbol">}</a> <a id="8650" class="Symbol">_</a> <a id="8652" href="Ledger.Utxo.Properties.html#8360" class="Bound">h</a><a id="8653" class="Symbol">)</a>
      <a id="8661" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8667" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="8672" class="Symbol">(</a><a id="8673" href="Axiom.Set.Sum.html#4466" class="Function">indexedSumᵐ</a> <a id="8685" class="Symbol">_</a> <a id="8687" class="Symbol">(((</a><a id="8690" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8700" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8710" href="Ledger.Utxo.Properties.html#8346" class="Bound">utxo</a><a id="8714" class="Symbol">)</a> <a id="8716" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8718" class="Symbol">)</a> <a id="8720" href="Axiom.Set.Sum.html#5189" class="Function Operator">∪ˡᶠ</a> <a id="8724" class="Symbol">((</a><a id="8726" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8736" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8746" href="Ledger.Utxo.Properties.html#8353" class="Bound">utxo&#39;</a><a id="8751" class="Symbol">)</a> <a id="8753" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8755" class="Symbol">)))</a>
      <a id="8765" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="8768" href="Algebra.Morphism.Structures.html#3013" class="Function">⟦⟧-cong</a> <a id="8776" href="Ledger.TokenAlgebra.html#1208" class="Function">coinIsMonoidHomomorphism</a>
       <a id="8808" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8810" href="Axiom.Set.Sum.html#5347" class="Function">indexedSumᵐ-∪</a> <a id="8824" class="Symbol">{</a><a id="8825" class="Argument">M</a> <a id="8827" class="Symbol">=</a> <a id="8829" href="Ledger.TokenAlgebra.html#492" class="Function">Value</a><a id="8834" class="Symbol">}</a> <a id="8836" class="Symbol">{</a><a id="8837" class="Argument">X</a> <a id="8839" class="Symbol">=</a> <a id="8841" class="Symbol">(</a><a id="8842" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8852" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8862" href="Ledger.Utxo.Properties.html#8346" class="Bound">utxo</a><a id="8866" class="Symbol">)</a> <a id="8868" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8870" class="Symbol">}</a> <a id="8872" class="Symbol">{(</a><a id="8874" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="8884" href="Ledger.Transaction.html#3806" class="Function">txOutHash</a> <a id="8894" href="Ledger.Utxo.Properties.html#8353" class="Bound">utxo&#39;</a><a id="8899" class="Symbol">)</a> <a id="8901" href="abstract-set-theory.FiniteSetTheory.html#2699" class="Function Operator">ᶠᵐ</a><a id="8903" class="Symbol">}</a>
       <a id="8912" class="Symbol">(λ</a> <a id="8915" href="Ledger.Utxo.Properties.html#8915" class="Bound">x</a> <a id="8917" href="Ledger.Utxo.Properties.html#8917" class="Bound">x₁</a> <a id="8920" class="Symbol">→</a> <a id="8922" href="Ledger.Utxo.Properties.html#8360" class="Bound">h</a> <a id="8924" class="Symbol">(</a><a id="8925" href="Axiom.Set.Rel.html#4590" class="Function">dom-mapʳ⊆</a> <a id="8935" href="Ledger.Utxo.Properties.html#8915" class="Bound">x</a><a id="8936" class="Symbol">)</a> <a id="8938" class="Symbol">(</a><a id="8939" href="Axiom.Set.Rel.html#4590" class="Function">dom-mapʳ⊆</a> <a id="8949" href="Ledger.Utxo.Properties.html#8917" class="Bound">x₁</a><a id="8951" class="Symbol">))</a>
       <a id="8961" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="8967" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="8972" class="Symbol">(</a><a id="8973" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="8981" href="Ledger.Utxo.Properties.html#8346" class="Bound">utxo</a> <a id="8986" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="8988" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="8996" href="Ledger.Utxo.Properties.html#8353" class="Bound">utxo&#39;</a><a id="9001" class="Symbol">)</a>
      <a id="9009" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="9012" href="Ledger.Utxo.Properties.html#7627" class="Function">∙-homo-Coin</a> <a id="9024" class="Symbol">_</a> <a id="9026" class="Symbol">_</a> <a id="9028" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="9034" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="9043" href="Ledger.Utxo.Properties.html#8346" class="Bound">utxo</a> <a id="9048" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="9050" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="9059" href="Ledger.Utxo.Properties.html#8353" class="Bound">utxo&#39;</a>
      <a id="9071" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="9077" class="Keyword">where</a> <a id="9083" class="Keyword">open</a> <a id="9088" href="Tactic.EquationalReasoning.html#417" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="9127" class="Symbol">{</a><a id="9128" class="Argument">A</a> <a id="9130" class="Symbol">=</a> <a id="9132" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="9133" class="Symbol">}</a> <a id="9135" class="Symbol">(</a><a id="9136" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a> <a id="9148" class="Symbol">(</a><a id="9149" class="Keyword">quoteTerm</a> <a id="9159" href="Data.Nat.Properties.html#17056" class="Function">+-0-monoid</a><a id="9169" class="Symbol">))</a>

<a id="9173" class="Keyword">module</a> <a id="9180" href="Ledger.Utxo.Properties.html#9180" class="Module">_</a> <a id="9182" class="Symbol">{</a><a id="9183" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a> <a id="9187" class="Symbol">:</a> <a id="9189" class="Symbol">_}</a> <a id="9192" class="Symbol">(</a><a id="9193" class="Keyword">open</a> <a id="9198" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="9205" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="9208" class="Symbol">)</a> <a id="9210" class="Keyword">where</a> <a id="9216" class="Keyword">opaque</a>
  <a id="9225" class="Keyword">unfolding</a> <a id="9235" href="Ledger.Utxo.html#2957" class="Function">outs</a>
  <a id="9242" class="Keyword">open</a> <a id="9247" href="Tactic.EquationalReasoning.html#417" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="9286" class="Symbol">{</a><a id="9287" class="Argument">A</a> <a id="9289" class="Symbol">=</a> <a id="9291" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="9292" class="Symbol">}</a> <a id="9294" class="Symbol">(</a><a id="9295" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a> <a id="9307" class="Symbol">(</a><a id="9308" class="Keyword">quoteTerm</a> <a id="9318" href="Data.Nat.Properties.html#17056" class="Function">+-0-monoid</a><a id="9328" class="Symbol">))</a>

  <a id="9334" href="Ledger.Utxo.Properties.html#9334" class="Function">newTxid⇒disj</a> <a id="9347" class="Symbol">:</a> <a id="9349" href="Ledger.Transaction.html#3152" class="Field">txid</a> <a id="9354" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="9356" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9361" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9367" class="Symbol">(</a><a id="9368" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9372" href="Ledger.Utxo.Properties.html#7341" class="Generalizable">utxo</a><a id="9376" class="Symbol">)</a>
              <a id="9392" class="Symbol">→</a> <a id="9394" href="Axiom.Set.html#9583" class="Function">disjoint&#39;</a> <a id="9404" class="Symbol">(</a><a id="9405" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9409" href="Ledger.Utxo.Properties.html#7341" class="Generalizable">utxo</a><a id="9413" class="Symbol">)</a> <a id="9415" class="Symbol">(</a><a id="9416" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9420" class="Symbol">(</a><a id="9421" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="9426" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="9429" class="Symbol">))</a>
  <a id="9434" href="Ledger.Utxo.Properties.html#9334" class="Function">newTxid⇒disj</a> <a id="9447" href="Ledger.Utxo.Properties.html#9447" class="Bound">id∉utxo</a> <a id="9455" class="Symbol">=</a> <a id="9457" href="Axiom.Set.Properties.html#13484" class="Function">disjoint⇒disjoint&#39;</a> <a id="9476" class="Symbol">λ</a> <a id="9478" href="Ledger.Utxo.Properties.html#9478" class="Bound">h</a> <a id="9480" href="Ledger.Utxo.Properties.html#9480" class="Bound">h&#39;</a> <a id="9483" class="Symbol">→</a> <a id="9485" href="Ledger.Utxo.Properties.html#9447" class="Bound">id∉utxo</a> <a id="9493" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9495" href="Function.Bundles.html#4810" class="Field">to</a> <a id="9498" href="Axiom.Set.html#5140" class="Function">∈-map</a>
    <a id="9508" class="Symbol">(</a><a id="9509" href="Data.Product.Base.html#1932" class="Function Operator">-,</a> <a id="9512" class="Symbol">(</a><a id="9513" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9518" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9523" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="9529" href="Ledger.Utxo.Properties.html#9480" class="Bound">h&#39;</a> <a id="9532" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9535" class="Symbol">λ</a> <a id="9537" class="Keyword">where</a>
          <a id="9553" class="Symbol">(_</a> <a id="9556" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9558" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9563" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9565" href="Ledger.Utxo.Properties.html#9565" class="Bound">h&#39;&#39;</a><a id="9568" class="Symbol">)</a> <a id="9570" class="Symbol">→</a> <a id="9572" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="9577" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9582" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="9588" href="Ledger.Utxo.Properties.html#9565" class="Bound">h&#39;&#39;</a> <a id="9592" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="9595" class="Symbol">λ</a> <a id="9597" class="Keyword">where</a> <a id="9603" class="Symbol">(_</a> <a id="9606" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9608" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="9613" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9615" class="Symbol">_)</a> <a id="9618" class="Symbol">→</a> <a id="9620" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="9624" class="Symbol">)</a> <a id="9626" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9628" href="Ledger.Utxo.Properties.html#9478" class="Bound">h</a><a id="9629" class="Symbol">)</a>

  <a id="9634" href="Ledger.Utxo.Properties.html#9634" class="Function">consumedCoinEquality</a> <a id="9655" class="Symbol">:</a> <a id="9657" class="Symbol">∀</a> <a id="9659" class="Symbol">{</a><a id="9660" href="Ledger.Utxo.Properties.html#9660" class="Bound">pp</a><a id="9662" class="Symbol">}</a>
    <a id="9668" class="Symbol">→</a> <a id="9670" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="9675" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="9680" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9682" class="Number">0</a>
    <a id="9688" class="Symbol">→</a> <a id="9690" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="9695" class="Symbol">(</a><a id="9696" href="Ledger.Utxo.html#11764" class="Function">consumed</a> <a id="9705" href="Ledger.Utxo.Properties.html#9660" class="Bound">pp</a> <a id="9708" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a> <a id="9718" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="9721" class="Symbol">)</a>
    <a id="9727" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9729" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="9738" class="Symbol">((</a><a id="9740" href="Ledger.Utxo.html#2580" class="Field">UTxOState.utxo</a> <a id="9755" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a><a id="9764" class="Symbol">)</a> <a id="9766" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9768" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="9773" class="Symbol">)</a> <a id="9775" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="9777" href="Ledger.Utxo.html#11506" class="Function">depositRefunds</a> <a id="9792" href="Ledger.Utxo.Properties.html#9660" class="Bound">pp</a> <a id="9795" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a> <a id="9805" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a> <a id="9809" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="9811" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="9819" href="Ledger.Transaction.html#2852" class="Field">txwdrls</a>
  <a id="9829" href="Ledger.Utxo.Properties.html#9634" class="Function">consumedCoinEquality</a> <a id="9850" class="Symbol">{</a><a id="9851" href="Ledger.Utxo.Properties.html#9851" class="Bound">utxoState</a><a id="9860" class="Symbol">}</a> <a id="9862" class="Symbol">{</a><a id="9863" href="Ledger.Utxo.Properties.html#9863" class="Bound">pp</a><a id="9865" class="Symbol">}</a> <a id="9867" href="Ledger.Utxo.Properties.html#9867" class="Bound">h</a> <a id="9869" class="Symbol">=</a>
    <a id="9875" class="Keyword">let</a>  <a id="9880" href="Ledger.Utxo.Properties.html#9880" class="Bound">utxo</a> <a id="9885" class="Symbol">=</a> <a id="9887" href="Ledger.Utxo.html#2580" class="Field">UTxOState.utxo</a> <a id="9902" href="Ledger.Utxo.Properties.html#9851" class="Bound">utxoState</a>
         <a id="9921" href="Ledger.Utxo.Properties.html#9921" class="Bound">dRefs</a> <a id="9927" class="Symbol">=</a> <a id="9929" href="Ledger.Utxo.html#11506" class="Function">depositRefunds</a> <a id="9944" href="Ledger.Utxo.Properties.html#9863" class="Bound">pp</a> <a id="9947" href="Ledger.Utxo.Properties.html#9851" class="Bound">utxoState</a> <a id="9957" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a>
         <a id="9970" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a> <a id="9976" class="Symbol">=</a> <a id="9978" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="9986" href="Ledger.Transaction.html#2852" class="Field">txwdrls</a>
    <a id="9998" class="Keyword">in</a> <a id="10001" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="10011" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10016" class="Symbol">(</a><a id="10017" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="10025" class="Symbol">(</a><a id="10026" href="Ledger.Utxo.Properties.html#9880" class="Bound">utxo</a> <a id="10031" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10033" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10038" class="Symbol">)</a> <a id="10040" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10042" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="10047" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10049" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10056" href="Ledger.Utxo.Properties.html#9921" class="Bound">dRefs</a> <a id="10062" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10064" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10071" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a><a id="10076" class="Symbol">)</a>
      <a id="10084" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10087" href="Ledger.Utxo.Properties.html#7627" class="Function">∙-homo-Coin</a> <a id="10099" class="Symbol">_</a> <a id="10101" class="Symbol">_</a> <a id="10103" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10109" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10114" class="Symbol">(</a><a id="10115" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="10123" class="Symbol">(</a><a id="10124" href="Ledger.Utxo.Properties.html#9880" class="Bound">utxo</a> <a id="10129" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10131" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10136" class="Symbol">)</a> <a id="10138" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10140" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="10145" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10147" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10154" href="Ledger.Utxo.Properties.html#9921" class="Bound">dRefs</a><a id="10159" class="Symbol">)</a> <a id="10161" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10163" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10168" class="Symbol">(</a><a id="10169" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10176" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10178" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a><a id="10183" class="Symbol">)</a>
      <a id="10191" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10194" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10199" class="Symbol">(</a><a id="10200" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10205" class="Symbol">(</a><a id="10206" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="10214" class="Symbol">(</a><a id="10215" href="Ledger.Utxo.Properties.html#9880" class="Bound">utxo</a> <a id="10220" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10222" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10227" class="Symbol">)</a> <a id="10229" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10231" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="10236" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10238" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10245" href="Ledger.Utxo.Properties.html#9921" class="Bound">dRefs</a><a id="10250" class="Symbol">)</a> <a id="10252" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="10254" class="Symbol">)</a> <a id="10256" class="Symbol">(</a><a id="10257" href="Ledger.TokenAlgebra.html#1139" class="Function">property</a> <a id="10266" class="Symbol">_)</a> <a id="10269" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10275" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10280" class="Symbol">(</a><a id="10281" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="10289" class="Symbol">(</a><a id="10290" href="Ledger.Utxo.Properties.html#9880" class="Bound">utxo</a> <a id="10295" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10297" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10302" class="Symbol">)</a> <a id="10304" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10306" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="10311" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10313" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10320" href="Ledger.Utxo.Properties.html#9921" class="Bound">dRefs</a><a id="10325" class="Symbol">)</a> <a id="10327" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10329" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a>
      <a id="10341" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10344" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10349" class="Symbol">(</a><a id="10350" href="Class.HasAdd.Core.html#136" class="Field Operator">_+</a> <a id="10353" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a><a id="10358" class="Symbol">)</a> <a id="10360" class="Symbol">(</a><a id="10361" href="Ledger.Utxo.Properties.html#7627" class="Function">∙-homo-Coin</a> <a id="10373" class="Symbol">_</a> <a id="10375" class="Symbol">_)</a> <a id="10378" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10384" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10389" class="Symbol">(</a><a id="10390" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="10398" class="Symbol">(</a><a id="10399" href="Ledger.Utxo.Properties.html#9880" class="Bound">utxo</a> <a id="10404" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10406" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10411" class="Symbol">)</a> <a id="10413" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10415" href="Ledger.Transaction.html#2742" class="Field">mint</a><a id="10419" class="Symbol">)</a> <a id="10421" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10423" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10428" class="Symbol">(</a><a id="10429" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="10436" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10438" href="Ledger.Utxo.Properties.html#9921" class="Bound">dRefs</a><a id="10443" class="Symbol">)</a> <a id="10445" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10447" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a>
      <a id="10459" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10462" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10467" class="Symbol">(λ</a> <a id="10470" href="Ledger.Utxo.Properties.html#10470" class="Bound">u</a> <a id="10472" class="Symbol">→</a> <a id="10474" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10479" class="Symbol">(</a><a id="10480" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="10488" class="Symbol">(</a><a id="10489" href="Ledger.Utxo.Properties.html#9880" class="Bound">utxo</a> <a id="10494" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10496" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10501" class="Symbol">)</a> <a id="10503" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10505" href="Ledger.Transaction.html#2742" class="Field">mint</a><a id="10509" class="Symbol">)</a> <a id="10511" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10513" href="Ledger.Utxo.Properties.html#10470" class="Bound">u</a> <a id="10515" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10517" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a><a id="10522" class="Symbol">)</a> <a id="10524" class="Symbol">(</a><a id="10525" href="Ledger.TokenAlgebra.html#1139" class="Function">property</a> <a id="10534" class="Symbol">_)</a> <a id="10537" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10543" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10548" class="Symbol">(</a><a id="10549" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="10557" class="Symbol">(</a><a id="10558" href="Ledger.Utxo.Properties.html#9880" class="Bound">utxo</a> <a id="10563" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10565" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10570" class="Symbol">)</a> <a id="10572" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10574" href="Ledger.Transaction.html#2742" class="Field">mint</a><a id="10578" class="Symbol">)</a> <a id="10580" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10582" href="Ledger.Utxo.Properties.html#9921" class="Bound">dRefs</a> <a id="10588" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10590" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a>
      <a id="10602" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10605" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10610" class="Symbol">(λ</a> <a id="10613" href="Ledger.Utxo.Properties.html#10613" class="Bound">u</a> <a id="10615" class="Symbol">→</a> <a id="10617" href="Ledger.Utxo.Properties.html#10613" class="Bound">u</a> <a id="10619" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10621" href="Ledger.Utxo.Properties.html#9921" class="Bound">dRefs</a> <a id="10627" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10629" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a><a id="10634" class="Symbol">)</a> <a id="10636" class="Symbol">(</a><a id="10637" href="Ledger.Utxo.Properties.html#7627" class="Function">∙-homo-Coin</a> <a id="10649" class="Symbol">_</a> <a id="10651" class="Symbol">_)</a> <a id="10654" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10660" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="10669" class="Symbol">(</a><a id="10670" href="Ledger.Utxo.Properties.html#9880" class="Bound">utxo</a> <a id="10675" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10677" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10682" class="Symbol">)</a> <a id="10684" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10686" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="10691" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="10696" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10698" href="Ledger.Utxo.Properties.html#9921" class="Bound">dRefs</a> <a id="10704" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10706" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a>
      <a id="10718" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10721" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10726" class="Symbol">(λ</a> <a id="10729" href="Ledger.Utxo.Properties.html#10729" class="Bound">x</a> <a id="10731" class="Symbol">→</a> <a id="10733" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="10742" class="Symbol">(</a><a id="10743" href="Ledger.Utxo.Properties.html#9880" class="Bound">utxo</a> <a id="10748" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10750" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10755" class="Symbol">)</a> <a id="10757" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10759" href="Ledger.Utxo.Properties.html#10729" class="Bound">x</a> <a id="10761" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10763" href="Ledger.Utxo.Properties.html#9921" class="Bound">dRefs</a> <a id="10769" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10771" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a><a id="10776" class="Symbol">)</a> <a id="10778" href="Ledger.Utxo.Properties.html#9867" class="Bound">h</a> <a id="10780" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10786" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="10795" class="Symbol">(</a><a id="10796" href="Ledger.Utxo.Properties.html#9880" class="Bound">utxo</a> <a id="10801" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10803" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10808" class="Symbol">)</a> <a id="10810" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10812" class="Number">0</a> <a id="10814" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10816" href="Ledger.Utxo.Properties.html#9921" class="Bound">dRefs</a> <a id="10822" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10824" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a>
      <a id="10836" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="10839" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="10844" class="Symbol">(λ</a> <a id="10847" href="Ledger.Utxo.Properties.html#10847" class="Bound">x</a> <a id="10849" class="Symbol">→</a> <a id="10851" href="Ledger.Utxo.Properties.html#10847" class="Bound">x</a> <a id="10853" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10855" href="Ledger.Utxo.Properties.html#9921" class="Bound">dRefs</a> <a id="10861" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10863" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a><a id="10868" class="Symbol">)</a> <a id="10870" class="Symbol">(</a><a id="10871" href="Data.Nat.Properties.html#15269" class="Function">+-identityʳ</a> <a id="10883" class="Symbol">(</a><a id="10884" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="10893" class="Symbol">(</a><a id="10894" href="Ledger.Utxo.Properties.html#9880" class="Bound">utxo</a> <a id="10899" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10901" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10906" class="Symbol">)))</a> <a id="10910" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="10916" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="10925" class="Symbol">(</a><a id="10926" href="Ledger.Utxo.Properties.html#9880" class="Bound">utxo</a> <a id="10931" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10933" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="10938" class="Symbol">)</a> <a id="10940" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10942" href="Ledger.Utxo.Properties.html#9921" class="Bound">dRefs</a> <a id="10948" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="10950" href="Ledger.Utxo.Properties.html#9970" class="Bound">sWdls</a>
      <a id="10962" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="10967" href="Ledger.Utxo.Properties.html#10967" class="Function">producedCoinEquality</a> <a id="10988" class="Symbol">:</a> <a id="10990" class="Symbol">∀</a> <a id="10992" class="Symbol">{</a><a id="10993" href="Ledger.Utxo.Properties.html#10993" class="Bound">pp</a><a id="10995" class="Symbol">}</a>
    <a id="11001" class="Symbol">→</a> <a id="11003" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11008" class="Symbol">(</a><a id="11009" href="Ledger.Utxo.html#11972" class="Function">produced</a> <a id="11018" href="Ledger.Utxo.Properties.html#10993" class="Bound">pp</a> <a id="11021" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a> <a id="11031" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="11034" class="Symbol">)</a>
    <a id="11040" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11042" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="11051" class="Symbol">(</a><a id="11052" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="11057" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="11060" class="Symbol">)</a> <a id="11062" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="11064" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="11070" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="11072" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="11084" href="Ledger.Utxo.Properties.html#10993" class="Bound">pp</a> <a id="11087" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a> <a id="11097" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a> <a id="11101" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="11103" href="Ledger.Transaction.html#2956" class="Field">txdonation</a>
  <a id="11116" href="Ledger.Utxo.Properties.html#10967" class="Function">producedCoinEquality</a> <a id="11137" class="Symbol">{</a><a id="11138" href="Ledger.Utxo.Properties.html#11138" class="Bound">utxoState</a><a id="11147" class="Symbol">}</a> <a id="11149" class="Symbol">{</a><a id="11150" href="Ledger.Utxo.Properties.html#11150" class="Bound">pp</a><a id="11152" class="Symbol">}</a> <a id="11154" class="Symbol">=</a>
      <a id="11162" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="11172" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11177" class="Symbol">(</a><a id="11178" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="11186" class="Symbol">(</a><a id="11187" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="11192" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="11195" class="Symbol">)</a> <a id="11197" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="11199" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11206" href="Ledger.Transaction.html#2714" class="Field">txfee</a>
      <a id="11218" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="11220" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11227" class="Symbol">(</a><a id="11228" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="11240" href="Ledger.Utxo.Properties.html#11150" class="Bound">pp</a> <a id="11243" href="Ledger.Utxo.Properties.html#11138" class="Bound">utxoState</a> <a id="11253" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="11256" class="Symbol">)</a> <a id="11258" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="11260" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11267" href="Ledger.Transaction.html#2956" class="Field">txdonation</a><a id="11277" class="Symbol">)</a>
      <a id="11285" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11288" href="Ledger.Utxo.Properties.html#7627" class="Function">∙-homo-Coin</a> <a id="11300" class="Symbol">_</a> <a id="11302" class="Symbol">_</a> <a id="11304" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="11310" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11315" class="Symbol">(</a><a id="11316" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="11324" class="Symbol">(</a><a id="11325" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="11330" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="11333" class="Symbol">)</a> <a id="11335" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="11337" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11344" href="Ledger.Transaction.html#2714" class="Field">txfee</a>
      <a id="11356" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="11358" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11365" class="Symbol">(</a><a id="11366" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="11378" href="Ledger.Utxo.Properties.html#11150" class="Bound">pp</a> <a id="11381" href="Ledger.Utxo.Properties.html#11138" class="Bound">utxoState</a> <a id="11391" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="11394" class="Symbol">))</a> <a id="11397" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="11399" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11404" class="Symbol">(</a><a id="11405" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11412" href="Ledger.Transaction.html#2956" class="Field">txdonation</a><a id="11422" class="Symbol">)</a>
      <a id="11430" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11433" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="11438" class="Symbol">(</a><a id="11439" href="Class.HasAdd.Core.html#136" class="Field Operator">_+</a> <a id="11442" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11447" class="Symbol">(</a><a id="11448" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11455" href="Ledger.Transaction.html#2956" class="Field">txdonation</a><a id="11465" class="Symbol">))</a> <a id="11468" class="Symbol">(</a><a id="11469" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="11483" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11488" class="Symbol">(</a><a id="11489" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="11497" class="Symbol">(</a><a id="11498" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="11503" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="11506" class="Symbol">)</a> <a id="11508" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="11510" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11517" href="Ledger.Transaction.html#2714" class="Field">txfee</a>
          <a id="11533" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="11535" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11542" class="Symbol">(</a><a id="11543" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="11555" href="Ledger.Utxo.Properties.html#11150" class="Bound">pp</a> <a id="11558" href="Ledger.Utxo.Properties.html#11138" class="Bound">utxoState</a> <a id="11568" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="11571" class="Symbol">))</a>
          <a id="11584" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11587" href="Ledger.Utxo.Properties.html#7627" class="Function">∙-homo-Coin</a> <a id="11599" class="Symbol">_</a> <a id="11601" class="Symbol">_</a> <a id="11603" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11613" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11618" class="Symbol">(</a><a id="11619" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="11627" class="Symbol">(</a><a id="11628" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="11633" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="11636" class="Symbol">)</a> <a id="11638" href="Ledger.TokenAlgebra.html#719" class="Function Operator">+ᵛ</a> <a id="11641" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11648" href="Ledger.Transaction.html#2714" class="Field">txfee</a><a id="11653" class="Symbol">)</a>
          <a id="11665" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11669" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11674" class="Symbol">(</a><a id="11675" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11682" class="Symbol">(</a><a id="11683" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="11695" href="Ledger.Utxo.Properties.html#11150" class="Bound">pp</a> <a id="11698" href="Ledger.Utxo.Properties.html#11138" class="Bound">utxoState</a> <a id="11708" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="11711" class="Symbol">))</a>
          <a id="11724" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11727" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="11733" class="Symbol">(</a><a id="11734" href="Ledger.TokenAlgebra.html#1139" class="Function">property</a> <a id="11743" class="Symbol">_)</a> <a id="11746" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11756" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11761" class="Symbol">(</a><a id="11762" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="11770" class="Symbol">(</a><a id="11771" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="11776" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="11779" class="Symbol">)</a> <a id="11781" href="Ledger.TokenAlgebra.html#719" class="Function Operator">+ᵛ</a> <a id="11784" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11791" href="Ledger.Transaction.html#2714" class="Field">txfee</a><a id="11796" class="Symbol">)</a>
          <a id="11808" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11812" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="11824" href="Ledger.Utxo.Properties.html#11150" class="Bound">pp</a> <a id="11827" href="Ledger.Utxo.Properties.html#11138" class="Bound">utxoState</a> <a id="11837" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a>
          <a id="11851" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11854" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="11860" class="Symbol">(</a><a id="11861" href="Ledger.Utxo.Properties.html#7627" class="Function">∙-homo-Coin</a> <a id="11873" class="Symbol">_</a> <a id="11875" class="Symbol">_)</a> <a id="11878" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="11888" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11893" class="Symbol">(</a><a id="11894" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="11902" class="Symbol">(</a><a id="11903" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="11908" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="11911" class="Symbol">))</a> <a id="11914" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11918" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="11923" class="Symbol">(</a><a id="11924" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="11931" href="Ledger.Transaction.html#2714" class="Field">txfee</a><a id="11936" class="Symbol">)</a>
          <a id="11948" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="11952" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="11964" href="Ledger.Utxo.Properties.html#11150" class="Bound">pp</a> <a id="11967" href="Ledger.Utxo.Properties.html#11138" class="Bound">utxoState</a> <a id="11977" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a>
          <a id="11991" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="11994" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="11999" class="Symbol">(λ</a> <a id="12002" href="Ledger.Utxo.Properties.html#12002" class="Bound">x</a> <a id="12004" class="Symbol">→</a> <a id="12006" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="12015" class="Symbol">(</a><a id="12016" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="12021" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="12024" class="Symbol">)</a> <a id="12026" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12028" href="Ledger.Utxo.Properties.html#12002" class="Bound">x</a> <a id="12030" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12032" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="12044" href="Ledger.Utxo.Properties.html#11150" class="Bound">pp</a> <a id="12047" href="Ledger.Utxo.Properties.html#11138" class="Bound">utxoState</a> <a id="12057" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="12060" class="Symbol">)</a>
                <a id="12078" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12080" href="Ledger.TokenAlgebra.html#1139" class="Function">property</a> <a id="12089" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="12095" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="12105" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="12114" class="Symbol">(</a><a id="12115" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="12120" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="12123" class="Symbol">)</a> <a id="12125" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12127" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="12133" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12135" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="12147" href="Ledger.Utxo.Properties.html#11150" class="Bound">pp</a> <a id="12150" href="Ledger.Utxo.Properties.html#11138" class="Bound">utxoState</a> <a id="12160" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a>
          <a id="12174" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
      <a id="12182" class="Symbol">)</a><a id="12183" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12189" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="12198" class="Symbol">(</a><a id="12199" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="12204" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="12207" class="Symbol">)</a> <a id="12209" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12211" href="Ledger.Transaction.html#2714" class="Field">txfee</a>
      <a id="12223" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12225" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="12237" href="Ledger.Utxo.Properties.html#11150" class="Bound">pp</a> <a id="12240" href="Ledger.Utxo.Properties.html#11138" class="Bound">utxoState</a> <a id="12250" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a> <a id="12254" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12256" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12261" class="Symbol">(</a><a id="12262" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="12269" href="Ledger.Transaction.html#2956" class="Field">txdonation</a><a id="12279" class="Symbol">)</a>
      <a id="12287" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="12290" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="12295" class="Symbol">(</a><a id="12296" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="12305" class="Symbol">(</a><a id="12306" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="12311" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="12314" class="Symbol">)</a> <a id="12316" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12318" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="12324" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12326" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="12338" href="Ledger.Utxo.Properties.html#11150" class="Bound">pp</a> <a id="12341" href="Ledger.Utxo.Properties.html#11138" class="Bound">utxoState</a> <a id="12351" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a> <a id="12355" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="12357" class="Symbol">)</a>
            <a id="12371" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12373" href="Ledger.TokenAlgebra.html#1139" class="Function">property</a> <a id="12382" class="Symbol">_</a> <a id="12384" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="12390" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="12399" class="Symbol">(</a><a id="12400" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="12405" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="12408" class="Symbol">)</a> <a id="12410" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12412" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="12418" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12420" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="12432" href="Ledger.Utxo.Properties.html#11150" class="Bound">pp</a> <a id="12435" href="Ledger.Utxo.Properties.html#11138" class="Bound">utxoState</a> <a id="12445" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a> <a id="12449" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12451" href="Ledger.Transaction.html#2956" class="Field">txdonation</a>
      <a id="12468" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="12473" href="Ledger.Utxo.Properties.html#12473" class="Function">balValueToCoin</a> <a id="12488" class="Symbol">:</a> <a id="12490" class="Symbol">∀</a> <a id="12492" class="Symbol">{</a><a id="12493" href="Ledger.Utxo.Properties.html#12493" class="Bound">pp</a><a id="12495" class="Symbol">}</a>
    <a id="12501" class="Symbol">→</a> <a id="12503" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12508" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="12513" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12515" class="Number">0</a>
    <a id="12521" class="Symbol">→</a> <a id="12523" href="Ledger.Utxo.html#11764" class="Function">consumed</a> <a id="12532" href="Ledger.Utxo.Properties.html#12493" class="Bound">pp</a> <a id="12535" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a> <a id="12545" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a> <a id="12549" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12551" href="Ledger.Utxo.html#11972" class="Function">produced</a> <a id="12560" href="Ledger.Utxo.Properties.html#12493" class="Bound">pp</a> <a id="12563" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a> <a id="12573" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a>
    <a id="12581" class="Symbol">→</a> <a id="12583" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="12592" class="Symbol">((</a><a id="12594" href="Ledger.Utxo.html#2580" class="Field">UTxOState.utxo</a> <a id="12609" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a><a id="12618" class="Symbol">)</a> <a id="12620" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12622" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="12627" class="Symbol">)</a>
    <a id="12633" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12635" href="Ledger.Utxo.html#11506" class="Function">depositRefunds</a> <a id="12650" href="Ledger.Utxo.Properties.html#12493" class="Bound">pp</a> <a id="12653" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a> <a id="12663" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a> <a id="12667" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12669" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="12677" href="Ledger.Transaction.html#2852" class="Field">txwdrls</a>
    <a id="12689" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12691" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="12700" class="Symbol">(</a><a id="12701" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="12706" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="12709" class="Symbol">)</a> <a id="12711" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12713" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="12719" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12721" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="12733" href="Ledger.Utxo.Properties.html#12493" class="Bound">pp</a> <a id="12736" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a> <a id="12746" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a> <a id="12750" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12752" href="Ledger.Transaction.html#2956" class="Field">txdonation</a>
  <a id="12765" href="Ledger.Utxo.Properties.html#12473" class="Function">balValueToCoin</a> <a id="12780" class="Symbol">{</a><a id="12781" href="Ledger.Utxo.Properties.html#12781" class="Bound">utxoState</a><a id="12790" class="Symbol">}</a> <a id="12792" class="Symbol">{</a><a id="12793" href="Ledger.Utxo.Properties.html#12793" class="Bound">pp</a><a id="12795" class="Symbol">}</a> <a id="12797" href="Ledger.Utxo.Properties.html#12797" class="Bound">h</a> <a id="12799" href="Ledger.Utxo.Properties.html#12799" class="Bound">h&#39;</a> <a id="12802" class="Symbol">=</a> <a id="12804" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="12814" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="12823" class="Symbol">((</a><a id="12825" href="Ledger.Utxo.html#2580" class="Field">UTxOState.utxo</a> <a id="12840" href="Ledger.Utxo.Properties.html#12781" class="Bound">utxoState</a><a id="12849" class="Symbol">)</a> <a id="12851" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="12853" href="Ledger.Transaction.html#2620" class="Field">txins</a><a id="12858" class="Symbol">)</a> <a id="12860" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12862" href="Ledger.Utxo.html#11506" class="Function">depositRefunds</a> <a id="12877" href="Ledger.Utxo.Properties.html#12793" class="Bound">pp</a> <a id="12880" href="Ledger.Utxo.Properties.html#12781" class="Bound">utxoState</a> <a id="12890" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a> <a id="12894" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="12896" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="12904" href="Ledger.Transaction.html#2852" class="Field">txwdrls</a>
      <a id="12918" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="12922" href="Ledger.Utxo.Properties.html#9634" class="Function">consumedCoinEquality</a> <a id="12943" class="Symbol">{</a><a id="12944" href="Ledger.Utxo.Properties.html#12781" class="Bound">utxoState</a><a id="12953" class="Symbol">}</a> <a id="12955" class="Symbol">{</a><a id="12956" href="Ledger.Utxo.Properties.html#12793" class="Bound">pp</a><a id="12958" class="Symbol">}</a> <a id="12960" href="Ledger.Utxo.Properties.html#12797" class="Bound">h</a> <a id="12962" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="12968" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="12973" class="Symbol">(</a><a id="12974" href="Ledger.Utxo.html#11764" class="Function">consumed</a> <a id="12983" href="Ledger.Utxo.Properties.html#12793" class="Bound">pp</a> <a id="12986" href="Ledger.Utxo.Properties.html#12781" class="Bound">utxoState</a> <a id="12996" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="12999" class="Symbol">)</a>
      <a id="13007" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="13010" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="13016" href="Ledger.Utxo.Properties.html#12799" class="Bound">h&#39;</a> <a id="13019" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="13025" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="13030" class="Symbol">(</a><a id="13031" href="Ledger.Utxo.html#11972" class="Function">produced</a> <a id="13040" href="Ledger.Utxo.Properties.html#12793" class="Bound">pp</a> <a id="13043" href="Ledger.Utxo.Properties.html#12781" class="Bound">utxoState</a> <a id="13053" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="13056" class="Symbol">)</a>
      <a id="13064" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="13067" href="Ledger.Utxo.Properties.html#10967" class="Function">producedCoinEquality</a> <a id="13088" class="Symbol">{</a><a id="13089" href="Ledger.Utxo.Properties.html#12781" class="Bound">utxoState</a><a id="13098" class="Symbol">}</a> <a id="13100" class="Symbol">{</a><a id="13101" href="Ledger.Utxo.Properties.html#12793" class="Bound">pp</a><a id="13103" class="Symbol">}</a> <a id="13105" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="13111" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="13120" class="Symbol">(</a><a id="13121" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="13126" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a><a id="13129" class="Symbol">)</a> <a id="13131" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="13133" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="13139" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="13141" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="13153" href="Ledger.Utxo.Properties.html#12793" class="Bound">pp</a> <a id="13156" href="Ledger.Utxo.Properties.html#12781" class="Bound">utxoState</a> <a id="13166" href="Ledger.Utxo.Properties.html#9183" class="Bound">txb</a> <a id="13170" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="13172" href="Ledger.Transaction.html#2956" class="Field">txdonation</a>
      <a id="13189" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

<a id="posPart-negPart≡x"></a><a id="13192" href="Ledger.Utxo.Properties.html#13192" class="Function">posPart-negPart≡x</a> <a id="13210" class="Symbol">:</a> <a id="13212" class="Symbol">{</a><a id="13213" href="Ledger.Utxo.Properties.html#13213" class="Bound">x</a> <a id="13215" class="Symbol">:</a> <a id="13217" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a><a id="13218" class="Symbol">}</a> <a id="13220" class="Symbol">→</a> <a id="13222" href="Data.Integer.Ext.html#349" class="Function">posPart</a> <a id="13230" href="Ledger.Utxo.Properties.html#13213" class="Bound">x</a> <a id="13232" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="13234" href="Data.Integer.Ext.html#440" class="Function">negPart</a> <a id="13242" href="Ledger.Utxo.Properties.html#13213" class="Bound">x</a> <a id="13244" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13246" href="Ledger.Utxo.Properties.html#13213" class="Bound">x</a>
<a id="13248" href="Ledger.Utxo.Properties.html#13192" class="Function">posPart-negPart≡x</a> <a id="13266" class="Symbol">{</a><a id="13267" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="13272" href="Ledger.Utxo.Properties.html#13272" class="Bound">n</a><a id="13273" class="Symbol">}</a>     <a id="13279" class="Symbol">=</a> <a id="13281" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="13286" href="Ledger.Utxo.Properties.html#13192" class="Function">posPart-negPart≡x</a> <a id="13304" class="Symbol">{</a><a id="13305" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="13314" href="Ledger.Utxo.Properties.html#13314" class="Bound">n</a><a id="13315" class="Symbol">}</a> <a id="13317" class="Symbol">=</a> <a id="13319" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="φ"></a><a id="13325" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a> <a id="13327" class="Symbol">:</a> <a id="13329" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="13331" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="13333" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="13338" class="Symbol">→</a> <a id="13340" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="13342" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a> <a id="13344" class="Symbol">(</a><a id="13345" href="Ledger.Utxo.Properties.html#13345" class="Bound">n</a> <a id="13347" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13349" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="13353" class="Symbol">)</a> <a id="13355" class="Symbol">=</a> <a id="13357" href="Ledger.Utxo.Properties.html#13345" class="Bound">n</a>
<a id="13359" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a> <a id="13361" class="Symbol">(</a><a id="13362" href="Ledger.Utxo.Properties.html#13362" class="Bound">n</a> <a id="13364" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13366" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="13371" class="Symbol">)</a> <a id="13373" class="Symbol">=</a> <a id="13375" class="Number">0</a>

<a id="13378" class="Keyword">module</a> <a id="13385" href="Ledger.Utxo.Properties.html#13385" class="Module">DepositHelpers</a>
  <a id="13402" class="Symbol">{</a><a id="13403" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="13408" href="Ledger.Utxo.Properties.html#13408" class="Bound">utxo&#39;</a> <a id="13414" class="Symbol">:</a> <a id="13416" href="Ledger.Transaction.html#2402" class="Function">UTxO</a><a id="13420" class="Symbol">}</a>
  <a id="13424" class="Symbol">{</a><a id="13425" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="13430" href="Ledger.Utxo.Properties.html#13430" class="Bound">fees&#39;</a> <a id="13436" class="Symbol">:</a> <a id="13438" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13442" class="Symbol">}</a>
  <a id="13446" class="Symbol">{</a><a id="13447" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a> <a id="13456" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="13466" class="Symbol">:</a> <a id="13468" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="13483" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="13485" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13489" class="Symbol">}</a>
  <a id="13493" class="Symbol">{</a><a id="13494" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="13504" href="Ledger.Utxo.Properties.html#13504" class="Bound">donations&#39;</a> <a id="13515" class="Symbol">:</a> <a id="13517" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="13521" class="Symbol">}</a>
  <a id="13525" class="Symbol">{</a><a id="13526" href="Ledger.Utxo.Properties.html#13526" class="Bound">tx</a> <a id="13529" class="Symbol">:</a> <a id="13531" href="Ledger.Transaction.html#3538" class="Record">Tx</a><a id="13533" class="Symbol">}</a> <a id="13535" class="Symbol">(</a><a id="13536" class="Keyword">let</a> <a id="13540" class="Keyword">open</a> <a id="13545" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="13548" href="Ledger.Utxo.Properties.html#13526" class="Bound">tx</a> <a id="13551" class="Keyword">renaming</a> <a id="13560" class="Symbol">(</a><a id="13561" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="13566" class="Symbol">to</a> <a id="13569" class="Field">txb</a><a id="13572" class="Symbol">);</a> <a id="13575" class="Keyword">open</a> <a id="13580" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="13587" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a><a id="13590" class="Symbol">)</a>
  <a id="13594" class="Symbol">{</a><a id="13595" href="Ledger.Utxo.Properties.html#13595" class="Bound">Γ</a> <a id="13597" class="Symbol">:</a> <a id="13599" href="Ledger.Utxo.html#2411" class="Record">UTxOEnv</a><a id="13606" class="Symbol">}</a>
  <a id="13610" class="Symbol">(</a><a id="13611" href="Ledger.Utxo.Properties.html#13611" class="Bound">step</a>  <a id="13617" class="Symbol">:</a> <a id="13619" href="Ledger.Utxo.Properties.html#13595" class="Bound">Γ</a> <a id="13621" href="Ledger.Utxo.html#2824" class="Datatype Operator">⊢</a> <a id="13623" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="13625" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a>  <a id="13631" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13633" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a>  <a id="13639" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13641" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a>  <a id="13651" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13653" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a>  <a id="13664" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="13666" href="Ledger.Utxo.html#2824" class="Datatype Operator">⇀⦇</a> <a id="13669" href="Ledger.Utxo.Properties.html#13526" class="Bound">tx</a> <a id="13672" href="Ledger.Utxo.html#2824" class="Datatype Operator">,UTXO⦈</a>
               <a id="13694" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="13696" href="Ledger.Utxo.Properties.html#13408" class="Bound">utxo&#39;</a> <a id="13702" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13704" href="Ledger.Utxo.Properties.html#13430" class="Bound">fees&#39;</a> <a id="13710" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13712" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="13722" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13724" href="Ledger.Utxo.Properties.html#13504" class="Bound">donations&#39;</a> <a id="13735" href="Class.To.html#102" class="Field Operator">⟧</a><a id="13736" class="Symbol">)</a>
  <a id="13740" class="Symbol">(</a><a id="13741" href="Ledger.Utxo.Properties.html#13741" class="Bound">h&#39;</a> <a id="13744" class="Symbol">:</a> <a id="13746" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="13751" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="13753" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="13758" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13764" class="Symbol">(</a><a id="13765" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13769" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a><a id="13773" class="Symbol">))</a>
  <a id="13778" class="Keyword">where</a>
  <a id="13786" class="Keyword">open</a> <a id="13791" href="Tactic.EquationalReasoning.html#417" class="Module">Tactic.EquationalReasoning.≡-Reasoning</a> <a id="13830" class="Symbol">{</a><a id="13831" class="Argument">A</a> <a id="13833" class="Symbol">=</a> <a id="13835" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="13836" class="Symbol">}</a> <a id="13838" class="Symbol">(</a><a id="13839" href="Tactic.MonoidSolver.NonNormalising.html#562" class="Function">solve-macro</a> <a id="13851" class="Symbol">(</a><a id="13852" class="Keyword">quoteTerm</a> <a id="13862" href="Data.Nat.Properties.html#17056" class="Function">+-0-monoid</a><a id="13872" class="Symbol">))</a>

  <a id="13878" class="Keyword">private</a>
    <a id="13890" href="Ledger.Utxo.Properties.html#13890" class="Function">stepS</a> <a id="13896" class="Symbol">:</a> <a id="13898" href="Ledger.Utxo.Properties.html#13595" class="Bound">Γ</a> <a id="13900" href="Ledger.Utxo.html#12367" class="Datatype Operator">⊢</a> <a id="13902" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="13904" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a>  <a id="13910" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13912" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a>  <a id="13918" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13920" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a>  <a id="13930" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13932" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a>  <a id="13943" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="13945" href="Ledger.Utxo.html#12367" class="Datatype Operator">⇀⦇</a> <a id="13948" href="Ledger.Utxo.Properties.html#13526" class="Bound">tx</a> <a id="13951" href="Ledger.Utxo.html#12367" class="Datatype Operator">,UTXOS⦈</a>
                <a id="13975" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="13977" href="Ledger.Utxo.Properties.html#13408" class="Bound">utxo&#39;</a> <a id="13983" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13985" href="Ledger.Utxo.Properties.html#13430" class="Bound">fees&#39;</a> <a id="13991" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13993" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="14003" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14005" href="Ledger.Utxo.Properties.html#13504" class="Bound">donations&#39;</a> <a id="14016" href="Class.To.html#102" class="Field Operator">⟧</a>
    <a id="14022" href="Ledger.Utxo.Properties.html#13890" class="Function">stepS</a> <a id="14028" class="Symbol">=</a> <a id="14030" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="14035" href="Ledger.Utxo.Properties.html#13611" class="Bound">step</a> <a id="14040" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="14043" class="Symbol">λ</a> <a id="14045" class="Keyword">where</a>
      <a id="14057" class="Symbol">(</a><a id="14058" href="Ledger.Utxo.html#14895" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="14074" class="Symbol">_</a> <a id="14076" class="Symbol">_</a> <a id="14078" class="Symbol">_</a> <a id="14080" class="Symbol">_</a> <a id="14082" class="Symbol">_</a> <a id="14084" class="Symbol">_</a> <a id="14086" class="Symbol">_</a> <a id="14088" class="Symbol">_</a> <a id="14090" class="Symbol">_</a> <a id="14092" class="Symbol">_</a> <a id="14094" class="Symbol">_</a> <a id="14096" class="Symbol">_</a> <a id="14098" class="Symbol">_</a> <a id="14100" class="Symbol">_</a> <a id="14102" class="Symbol">_</a> <a id="14104" class="Symbol">_</a> <a id="14106" class="Symbol">_</a> <a id="14108" class="Symbol">_</a> <a id="14110" class="Symbol">_</a> <a id="14112" href="Ledger.Utxo.Properties.html#14112" class="Bound">h</a><a id="14113" class="Symbol">)</a> <a id="14115" class="Symbol">→</a> <a id="14117" href="Ledger.Utxo.Properties.html#14112" class="Bound">h</a>

    <a id="14124" href="Ledger.Utxo.Properties.html#14124" class="Function">pp</a> <a id="14127" class="Symbol">:</a> <a id="14129" href="Ledger.PParams.html#1443" class="Record">PParams</a>
    <a id="14141" href="Ledger.Utxo.Properties.html#14124" class="Function">pp</a> <a id="14144" class="Symbol">=</a> <a id="14146" href="Ledger.Utxo.html#2465" class="Field">UTxOEnv.pparams</a> <a id="14162" href="Ledger.Utxo.Properties.html#13595" class="Bound">Γ</a>
    <a id="14168" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="14172" class="Symbol">:</a> <a id="14174" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14183" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="14187" class="Symbol">=</a> <a id="14189" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14197" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a>
    <a id="14210" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="14215" class="Symbol">:</a> <a id="14217" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14226" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="14231" class="Symbol">=</a> <a id="14233" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14241" class="Symbol">(</a><a id="14242" href="Ledger.Utxo.html#8771" class="Function">updateDeposits</a> <a id="14257" href="Ledger.Utxo.Properties.html#14124" class="Function">pp</a> <a id="14260" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a> <a id="14264" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a><a id="14272" class="Symbol">)</a>
    <a id="14278" href="Ledger.Utxo.Properties.html#14278" class="Function">Δdep</a> <a id="14283" class="Symbol">:</a> <a id="14285" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
    <a id="14291" href="Ledger.Utxo.Properties.html#14278" class="Function">Δdep</a> <a id="14296" class="Symbol">=</a> <a id="14298" href="Ledger.Utxo.html#9178" class="Function">depositsChange</a> <a id="14313" href="Ledger.Utxo.Properties.html#14124" class="Function">pp</a> <a id="14316" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a> <a id="14320" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a>
    <a id="14333" href="Ledger.Utxo.Properties.html#14333" class="Function">utxoSt</a> <a id="14340" class="Symbol">:</a> <a id="14342" href="Ledger.Utxo.html#2516" class="Record">UTxOState</a>
    <a id="14356" href="Ledger.Utxo.Properties.html#14333" class="Function">utxoSt</a> <a id="14363" class="Symbol">=</a> <a id="14365" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="14367" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="14372" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14374" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="14379" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14381" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a> <a id="14390" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14392" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="14402" href="Class.To.html#102" class="Field Operator">⟧</a>
    <a id="14408" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="14412" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="14416" class="Symbol">:</a> <a id="14418" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="14427" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="14431" class="Symbol">=</a> <a id="14433" href="Ledger.Utxo.html#11506" class="Function">depositRefunds</a> <a id="14448" href="Ledger.Utxo.Properties.html#14124" class="Function">pp</a> <a id="14451" href="Ledger.Utxo.Properties.html#14333" class="Function">utxoSt</a> <a id="14458" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a>
    <a id="14466" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="14471" class="Symbol">=</a> <a id="14473" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="14481" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a>
    <a id="14493" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="14497" class="Symbol">=</a> <a id="14499" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a>    <a id="14514" href="Ledger.Utxo.Properties.html#14124" class="Function">pp</a> <a id="14517" href="Ledger.Utxo.Properties.html#14333" class="Function">utxoSt</a> <a id="14524" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a>
    <a id="14532" href="Ledger.Utxo.Properties.html#14532" class="Function">h</a> <a id="14534" class="Symbol">:</a> <a id="14536" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="14545" class="Symbol">(</a><a id="14546" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14550" class="Symbol">(</a><a id="14551" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="14556" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="14558" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="14564" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="14565" class="Symbol">))</a> <a id="14568" class="Symbol">(</a><a id="14569" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14573" class="Symbol">(</a><a id="14574" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="14579" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a><a id="14582" class="Symbol">))</a>
    <a id="14589" href="Ledger.Utxo.Properties.html#14532" class="Function">h</a> <a id="14591" class="Symbol">=</a> <a id="14593" class="Symbol">λ</a> <a id="14595" href="Ledger.Utxo.Properties.html#14595" class="Bound">h₁</a> <a id="14598" href="Ledger.Utxo.Properties.html#14598" class="Bound">h₂</a> <a id="14601" class="Symbol">→</a> <a id="14603" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="14607" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14609" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="14615" class="Symbol">(</a><a id="14616" href="Ledger.Utxo.Properties.html#9334" class="Function">newTxid⇒disj</a> <a id="14629" class="Symbol">{</a><a id="14630" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a><a id="14633" class="Symbol">}</a> <a id="14635" class="Symbol">{</a><a id="14636" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a><a id="14640" class="Symbol">}</a> <a id="14642" href="Ledger.Utxo.Properties.html#13741" class="Bound">h&#39;</a><a id="14644" class="Symbol">)</a>
                      <a id="14668" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="14670" href="Function.Bundles.html#4810" class="Field">to</a> <a id="14673" href="Axiom.Set.html#9351" class="Function">∈-∩</a> <a id="14677" class="Symbol">(</a><a id="14678" href="Axiom.Set.Rel.html#7214" class="Function">res-comp-domᵐ</a> <a id="14692" href="Ledger.Utxo.Properties.html#14595" class="Bound">h₁</a> <a id="14695" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14697" href="Ledger.Utxo.Properties.html#14598" class="Bound">h₂</a><a id="14699" class="Symbol">)</a>
    <a id="14705" href="Ledger.Utxo.Properties.html#14705" class="Function">newBal&#39;</a> <a id="14713" class="Symbol">:</a> <a id="14715" href="Ledger.Utxo.Properties.html#13595" class="Bound">Γ</a> <a id="14717" href="Ledger.Utxo.html#2824" class="Datatype Operator">⊢</a> <a id="14719" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="14721" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a>  <a id="14727" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14729" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a>  <a id="14735" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14737" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a>  <a id="14747" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14749" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a>  <a id="14760" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="14762" href="Ledger.Utxo.html#2824" class="Datatype Operator">⇀⦇</a> <a id="14765" href="Ledger.Utxo.Properties.html#13526" class="Bound">tx</a> <a id="14768" href="Ledger.Utxo.html#2824" class="Datatype Operator">,UTXO⦈</a>
                  <a id="14793" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="14795" href="Ledger.Utxo.Properties.html#13408" class="Bound">utxo&#39;</a> <a id="14801" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14803" href="Ledger.Utxo.Properties.html#13430" class="Bound">fees&#39;</a> <a id="14809" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14811" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="14821" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14823" href="Ledger.Utxo.Properties.html#13504" class="Bound">donations&#39;</a> <a id="14834" href="Class.To.html#102" class="Field Operator">⟧</a>
            <a id="14848" class="Symbol">→</a> <a id="14850" href="Ledger.Utxo.html#11764" class="Function">consumed</a> <a id="14859" href="Ledger.Utxo.Properties.html#14124" class="Function">pp</a> <a id="14862" href="Ledger.Utxo.Properties.html#14333" class="Function">utxoSt</a> <a id="14869" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a> <a id="14873" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14875" href="Ledger.Utxo.html#11972" class="Function">produced</a> <a id="14884" href="Ledger.Utxo.Properties.html#14124" class="Function">pp</a> <a id="14887" href="Ledger.Utxo.Properties.html#14333" class="Function">utxoSt</a> <a id="14894" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a>
    <a id="14902" href="Ledger.Utxo.Properties.html#14705" class="Function">newBal&#39;</a> <a id="14910" class="Symbol">(</a><a id="14911" href="Ledger.Utxo.html#14895" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="14927" class="Symbol">_</a> <a id="14929" class="Symbol">_</a> <a id="14931" class="Symbol">_</a> <a id="14933" class="Symbol">_</a> <a id="14935" class="Symbol">_</a> <a id="14937" class="Symbol">_</a> <a id="14939" class="Symbol">_</a> <a id="14941" class="Symbol">_</a> <a id="14943" href="Ledger.Utxo.Properties.html#14943" class="Bound">x</a> <a id="14945" class="Symbol">_</a> <a id="14947" class="Symbol">_</a> <a id="14949" class="Symbol">_</a> <a id="14951" class="Symbol">_</a> <a id="14953" class="Symbol">_</a> <a id="14955" class="Symbol">_</a> <a id="14957" class="Symbol">_</a> <a id="14959" class="Symbol">_</a> <a id="14961" class="Symbol">_</a> <a id="14963" class="Symbol">_</a> <a id="14965" class="Symbol">_)</a> <a id="14968" class="Symbol">=</a> <a id="14970" href="Ledger.Utxo.Properties.html#14943" class="Bound">x</a>
    <a id="14976" href="Ledger.Utxo.Properties.html#14976" class="Function">newBal</a> <a id="14983" class="Symbol">:</a> <a id="14985" href="Ledger.Utxo.html#11764" class="Function">consumed</a> <a id="14994" href="Ledger.Utxo.Properties.html#14124" class="Function">pp</a> <a id="14997" href="Ledger.Utxo.Properties.html#14333" class="Function">utxoSt</a> <a id="15004" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a> <a id="15008" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15010" href="Ledger.Utxo.html#11972" class="Function">produced</a> <a id="15019" href="Ledger.Utxo.Properties.html#14124" class="Function">pp</a> <a id="15022" href="Ledger.Utxo.Properties.html#14333" class="Function">utxoSt</a> <a id="15029" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a>
    <a id="15037" href="Ledger.Utxo.Properties.html#14976" class="Function">newBal</a> <a id="15044" class="Symbol">=</a> <a id="15046" href="Ledger.Utxo.Properties.html#14705" class="Function">newBal&#39;</a> <a id="15054" href="Ledger.Utxo.Properties.html#13611" class="Bound">step</a>
    <a id="15063" href="Ledger.Utxo.Properties.html#15063" class="Function">noMintAda&#39;</a> <a id="15074" class="Symbol">:</a> <a id="15076" href="Ledger.Utxo.Properties.html#13595" class="Bound">Γ</a> <a id="15078" href="Ledger.Utxo.html#2824" class="Datatype Operator">⊢</a> <a id="15080" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="15082" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a>  <a id="15088" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15090" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a>  <a id="15096" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15098" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a>  <a id="15108" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15110" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a>  <a id="15121" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="15123" href="Ledger.Utxo.html#2824" class="Datatype Operator">⇀⦇</a> <a id="15126" href="Ledger.Utxo.Properties.html#13526" class="Bound">tx</a> <a id="15129" href="Ledger.Utxo.html#2824" class="Datatype Operator">,UTXO⦈</a>
                     <a id="15157" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="15159" href="Ledger.Utxo.Properties.html#13408" class="Bound">utxo&#39;</a> <a id="15165" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15167" href="Ledger.Utxo.Properties.html#13430" class="Bound">fees&#39;</a> <a id="15173" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15175" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="15185" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15187" href="Ledger.Utxo.Properties.html#13504" class="Bound">donations&#39;</a> <a id="15198" href="Class.To.html#102" class="Field Operator">⟧</a>
               <a id="15215" class="Symbol">→</a> <a id="15217" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="15222" class="Symbol">(</a><a id="15223" href="Ledger.Transaction.html#2742" class="Function">mint</a><a id="15227" class="Symbol">)</a> <a id="15229" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15231" class="Number">0</a>
    <a id="15237" href="Ledger.Utxo.Properties.html#15063" class="Function">noMintAda&#39;</a> <a id="15248" class="Symbol">(</a><a id="15249" href="Ledger.Utxo.html#14895" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="15265" class="Symbol">_</a> <a id="15267" class="Symbol">_</a> <a id="15269" class="Symbol">_</a> <a id="15271" class="Symbol">_</a> <a id="15273" class="Symbol">_</a> <a id="15275" class="Symbol">_</a> <a id="15277" class="Symbol">_</a> <a id="15279" class="Symbol">_</a> <a id="15281" class="Symbol">_</a> <a id="15283" href="Ledger.Utxo.Properties.html#15283" class="Bound">x</a> <a id="15285" class="Symbol">_</a> <a id="15287" class="Symbol">_</a> <a id="15289" class="Symbol">_</a> <a id="15291" class="Symbol">_</a> <a id="15293" class="Symbol">_</a> <a id="15295" class="Symbol">_</a> <a id="15297" class="Symbol">_</a> <a id="15299" class="Symbol">_</a> <a id="15301" class="Symbol">_</a> <a id="15303" class="Symbol">_)</a> <a id="15306" class="Symbol">=</a> <a id="15308" href="Ledger.Utxo.Properties.html#15283" class="Bound">x</a>
    <a id="15314" href="Ledger.Utxo.Properties.html#15314" class="Function">noMintAda</a> <a id="15324" class="Symbol">:</a> <a id="15326" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="15331" href="Ledger.Transaction.html#2742" class="Function">mint</a> <a id="15336" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15338" class="Number">0</a>
    <a id="15344" href="Ledger.Utxo.Properties.html#15314" class="Function">noMintAda</a> <a id="15354" class="Symbol">=</a> <a id="15356" href="Ledger.Utxo.Properties.html#15063" class="Function">noMintAda&#39;</a> <a id="15367" href="Ledger.Utxo.Properties.html#13611" class="Bound">step</a>
    <a id="15376" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="15386" class="Symbol">:</a> <a id="15388" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="15397" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="15407" class="Symbol">=</a> <a id="15409" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="15417" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a> <a id="15426" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15428" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a>

  <a id="15435" href="Ledger.Utxo.Properties.html#15435" class="Function">deposits-change&#39;</a> <a id="15452" class="Symbol">:</a> <a id="15454" href="Ledger.Utxo.Properties.html#14278" class="Function">Δdep</a> <a id="15459" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15461" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="15465" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15467" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a>
  <a id="15473" href="Ledger.Utxo.Properties.html#15435" class="Function">deposits-change&#39;</a> <a id="15490" class="Symbol">=</a> <a id="15492" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="15496" href="Ledger.Utxo.Properties.html#13192" class="Function">posPart-negPart≡x</a>

  <a id="15517" href="Ledger.Utxo.Properties.html#15517" class="Function">dep-ref</a> <a id="15525" class="Symbol">:</a> <a id="15527" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="15531" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15533" class="Number">0</a> <a id="15535" class="Symbol">→</a> <a id="15537" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="15542" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="15544" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="15548" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15550" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a>
  <a id="15556" href="Ledger.Utxo.Properties.html#15517" class="Function">dep-ref</a> <a id="15564" href="Ledger.Utxo.Properties.html#15564" class="Bound">tot≡0</a> <a id="15570" class="Symbol">=</a> <a id="15572" href="Data.Integer.Properties.html#2689" class="Function">ℤ.+-injective</a> <a id="15586" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="15588" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="15598" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15603" class="Symbol">(</a><a id="15604" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="15609" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="15611" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a><a id="15614" class="Symbol">)</a>          <a id="15625" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15628" href="Data.Integer.Properties.html#32743" class="Function">ℤ.pos-+</a> <a id="15636" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="15641" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="15645" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="15651" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15656" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="15661" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15665" class="Symbol">(</a><a id="15666" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="15670" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15672" class="Number">0</a><a id="15673" class="Symbol">)</a>    <a id="15678" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="15682" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15687" class="Symbol">(λ</a> <a id="15690" href="Ledger.Utxo.Properties.html#15690" class="Bound">u</a> <a id="15692" class="Symbol">→</a> <a id="15694" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15699" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="15704" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15708" class="Symbol">(</a><a id="15709" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="15713" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15715" href="Ledger.Utxo.Properties.html#15690" class="Bound">u</a><a id="15716" class="Symbol">))</a> <a id="15719" href="Ledger.Utxo.Properties.html#15564" class="Bound">tot≡0</a> <a id="15725" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="15731" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15736" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="15741" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="15745" class="Symbol">(</a><a id="15746" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="15750" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15752" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a><a id="15755" class="Symbol">)</a>  <a id="15758" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15761" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15766" class="Symbol">((</a><a id="15768" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="15772" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a><a id="15776" class="Symbol">)</a> <a id="15778" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="15780" class="Symbol">)</a> <a id="15782" class="Symbol">(</a><a id="15783" href="Data.Integer.Properties.html#19768" class="Function">ℤ.⊖-swap</a> <a id="15792" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="15796" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a><a id="15799" class="Symbol">)</a> <a id="15801" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="15807" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15812" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="15817" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="15821" class="Symbol">(</a><a id="15822" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="15826" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15828" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a><a id="15831" class="Symbol">)</a>  <a id="15834" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="15838" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15843" class="Symbol">(λ</a> <a id="15846" href="Ledger.Utxo.Properties.html#15846" class="Bound">u</a> <a id="15848" class="Symbol">→</a>  <a id="15851" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15856" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="15861" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="15865" href="Ledger.Utxo.Properties.html#15846" class="Bound">u</a><a id="15866" class="Symbol">)</a> <a id="15868" href="Ledger.Utxo.Properties.html#15435" class="Function">deposits-change&#39;</a> <a id="15885" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="15891" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15896" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="15901" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="15905" href="Ledger.Utxo.Properties.html#14278" class="Function">Δdep</a>         <a id="15918" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="15922" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15927" class="Symbol">((</a><a id="15929" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+</a> <a id="15933" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a><a id="15937" class="Symbol">)</a> <a id="15939" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="15941" class="Symbol">)</a> <a id="15943" class="Symbol">(</a><a id="15944" href="Data.Integer.Properties.html#19768" class="Function">ℤ.⊖-swap</a> <a id="15953" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="15957" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a><a id="15961" class="Symbol">)</a> <a id="15963" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="15969" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="15974" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="15979" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="15981" class="Symbol">(</a><a id="15982" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="15986" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="15988" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a><a id="15992" class="Symbol">)</a>   <a id="15996" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15999" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="16018" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="16023" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="16027" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="16032" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16038" class="Symbol">(</a><a id="16039" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="16044" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="16046" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="16049" class="Symbol">)</a> <a id="16051" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16053" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a>        <a id="16065" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16068" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16073" class="Symbol">(</a><a id="16074" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="16077" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a><a id="16081" class="Symbol">)</a> <a id="16083" class="Symbol">(</a><a id="16084" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="16091" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="16096" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="16099" class="Symbol">)</a> <a id="16101" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16107" class="Symbol">(</a><a id="16108" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="16112" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="16114" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a><a id="16118" class="Symbol">)</a> <a id="16120" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16122" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a>        <a id="16134" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16138" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="16157" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="16161" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="16166" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="16171" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16177" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16182" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="16186" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16190" class="Symbol">(</a><a id="16191" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="16196" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16198" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a><a id="16202" class="Symbol">)</a> <a id="16204" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16207" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="16212" class="Symbol">(λ</a> <a id="16215" href="Ledger.Utxo.Properties.html#16215" class="Bound">u</a> <a id="16217" class="Symbol">→</a> <a id="16219" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16224" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="16228" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16232" href="Ledger.Utxo.Properties.html#16215" class="Bound">u</a><a id="16233" class="Symbol">)</a> <a id="16235" class="Symbol">(</a><a id="16236" href="Data.Integer.Properties.html#19485" class="Function">ℤ.n⊖n≡0</a> <a id="16244" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a><a id="16248" class="Symbol">)</a> <a id="16250" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16256" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16261" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="16265" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16269" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>          <a id="16283" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16286" href="Data.Integer.Properties.html#26987" class="Function">ℤ.+-identityʳ</a> <a id="16300" class="Symbol">_</a> <a id="16302" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16308" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16313" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="16317" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="16322" href="Ledger.Utxo.Properties.html#16322" class="Function">ref-tot-0</a> <a id="16332" class="Symbol">:</a> <a id="16334" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="16338" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="16340" class="Number">0</a> <a id="16342" class="Symbol">→</a> <a id="16344" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="16348" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16350" class="Number">0</a>
  <a id="16354" href="Ledger.Utxo.Properties.html#16322" class="Function">ref-tot-0</a> <a id="16364" href="Ledger.Utxo.Properties.html#16364" class="Bound">ref≢0</a> <a id="16370" class="Keyword">with</a> <a id="16375" href="Ledger.Utxo.Properties.html#14278" class="Function">Δdep</a>
  <a id="16382" class="Symbol">...</a> <a id="16386" class="Symbol">|</a> <a id="16388" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16393" href="Ledger.Utxo.Properties.html#16393" class="Bound">n</a>     <a id="16399" class="Symbol">=</a> <a id="16401" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="16408" class="Symbol">(</a><a id="16409" class="Bound">ref≢0</a> <a id="16415" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="16419" class="Symbol">)</a>
  <a id="16423" class="Symbol">...</a> <a id="16427" class="Symbol">|</a> <a id="16429" href="Agda.Builtin.Int.html#290" class="InductiveConstructor">ℤ.negsuc</a> <a id="16438" href="Ledger.Utxo.Properties.html#16438" class="Bound">n</a> <a id="16440" class="Symbol">=</a> <a id="16442" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="16450" href="Ledger.Utxo.Properties.html#16450" class="Function">ref≤dep</a> <a id="16458" class="Symbol">:</a> <a id="16460" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="16464" href="Class.HasOrder.Core.html#551" class="Field Operator">≤</a> <a id="16466" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a>
  <a id="16472" href="Ledger.Utxo.Properties.html#16450" class="Function">ref≤dep</a> <a id="16480" class="Keyword">with</a> <a id="16485" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="16489" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="16491" class="Number">0</a>
  <a id="16495" href="Ledger.Utxo.Properties.html#16450" class="Function">...</a> <a id="16499" class="Symbol">|</a> <a id="16501" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="16504" href="Ledger.Utxo.Properties.html#16504" class="Bound">¬p</a> <a id="16507" class="Symbol">=</a> <a id="16509" href="Data.Nat.Properties.html#66180" class="Function">≤″⇒≤</a> <a id="16514" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16516" class="Symbol">_</a> <a id="16518" href="Ledger.Utxo.Properties.html#1517" class="InductiveConstructor Operator">,≤_</a> <a id="16522" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16524" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16534" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="16538" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="16540" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="16545" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16548" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="16555" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="16559" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="16564" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16570" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="16575" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="16577" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="16581" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="16584" href="Ledger.Utxo.Properties.html#15517" class="Function">dep-ref</a> <a id="16592" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16594" href="Ledger.Utxo.Properties.html#16322" class="Function">ref-tot-0</a> <a id="16604" href="Ledger.Utxo.Properties.html#16504" class="Bound">¬p</a> <a id="16607" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="16613" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a>        <a id="16624" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="16628" href="Ledger.Utxo.Properties.html#16450" class="Function">...</a> <a id="16632" class="Symbol">|</a> <a id="16634" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="16638" href="Ledger.Utxo.Properties.html#16638" class="Bound">p</a> <a id="16640" class="Keyword">rewrite</a> <a id="16648" href="Ledger.Utxo.Properties.html#16638" class="Bound">p</a> <a id="16650" class="Symbol">=</a> <a id="16652" href="Data.Nat.Base.html#1714" class="InductiveConstructor">z≤n</a>

  <a id="16659" href="Ledger.Utxo.Properties.html#16659" class="Function">deposits-change</a> <a id="16675" class="Symbol">:</a> <a id="16677" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="16682" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16684" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="16688" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="16690" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="16694" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="16696" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a>
  <a id="16702" href="Ledger.Utxo.Properties.html#16659" class="Function">deposits-change</a> <a id="16718" class="Symbol">=</a> <a id="16720" href="Data.Integer.Properties.html#2689" class="Function">ℤ.+-injective</a> <a id="16734" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="16736" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="16746" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16751" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a>                                 <a id="16788" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16792" href="Data.Integer.Properties.html#26987" class="Function">ℤ.+-identityʳ</a> <a id="16806" class="Symbol">_</a> <a id="16808" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16814" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16819" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="16824" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16828" href="Data.Integer.Base.html#1545" class="Function">ℤ.0ℤ</a>                        <a id="16856" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16860" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="16866" class="Symbol">(</a><a id="16867" href="Data.Integer.Properties.html#30664" class="Function">ℤ.+-inverseˡ</a> <a id="16880" class="Symbol">(</a><a id="16881" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16886" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="16889" class="Symbol">))</a> <a id="16892" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="16898" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16903" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="16908" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16912" class="Symbol">(</a><a id="16913" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="16918" class="Symbol">(</a><a id="16919" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16924" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="16927" class="Symbol">)</a> <a id="16929" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="16933" class="Symbol">(</a><a id="16934" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16939" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="16942" class="Symbol">))</a>
      <a id="16951" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="16955" href="Data.Integer.Properties.html#28651" class="Function">ℤ.+-assoc</a> <a id="16965" class="Symbol">(</a><a id="16966" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16971" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a><a id="16975" class="Symbol">)</a> <a id="16977" class="Symbol">(</a><a id="16978" href="Data.Integer.Base.html#4719" class="Function Operator">ℤ.-_</a> <a id="16983" class="Symbol">(</a><a id="16984" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="16989" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="16992" class="Symbol">))</a> <a id="16995" class="Symbol">(</a><a id="16996" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17001" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="17004" class="Symbol">)</a> <a id="17006" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="17012" class="Symbol">(</a><a id="17013" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17018" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="17023" href="Data.Integer.Base.html#5245" class="Function Operator">ℤ.-</a> <a id="17027" class="Symbol">(</a><a id="17028" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17033" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="17036" class="Symbol">))</a> <a id="17039" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17043" class="Symbol">(</a><a id="17044" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17049" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="17052" class="Symbol">)</a> <a id="17054" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17057" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17063" class="Symbol">(</a><a id="17064" href="Data.Integer.Properties.html#21429" class="Function">ℤ.m-n≡m⊖n</a> <a id="17074" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a> <a id="17079" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="17082" class="Symbol">)</a> <a id="17084" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17090" href="Ledger.Utxo.Properties.html#14278" class="Function">Δdep</a> <a id="17095" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17099" class="Symbol">(</a><a id="17100" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17105" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="17108" class="Symbol">)</a>                       <a id="17132" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17135" href="Data.Integer.Properties.html#26694" class="Function">ℤ.+-comm</a> <a id="17144" href="Ledger.Utxo.Properties.html#14278" class="Function">Δdep</a> <a id="17149" class="Symbol">(</a><a id="17150" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17155" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="17158" class="Symbol">)</a> <a id="17160" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17166" class="Symbol">(</a><a id="17167" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17172" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="17175" class="Symbol">)</a> <a id="17177" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17181" href="Ledger.Utxo.Properties.html#14278" class="Function">Δdep</a>                       <a id="17208" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17211" href="Tactic.Cong.html#9441" class="Macro">cong!</a> <a id="17217" href="Ledger.Utxo.Properties.html#15435" class="Function">deposits-change&#39;</a> <a id="17234" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17240" class="Symbol">(</a><a id="17241" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17246" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="17249" class="Symbol">)</a> <a id="17251" href="Data.Integer.Base.html#5064" class="Function Operator">ℤ.+</a> <a id="17255" class="Symbol">(</a><a id="17256" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="17260" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17262" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a><a id="17265" class="Symbol">)</a>                <a id="17282" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17285" href="Data.Integer.Properties.html#28078" class="Function">ℤ.distribʳ-⊖-+-pos</a> <a id="17304" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="17308" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="17312" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="17316" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17322" class="Symbol">(</a><a id="17323" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="17327" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="17329" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a><a id="17332" class="Symbol">)</a> <a id="17334" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17336" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a>                         <a id="17364" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17367" href="Data.Integer.Properties.html#20106" class="Function">ℤ.⊖-≥</a> <a id="17373" class="Symbol">(</a><a id="17374" href="Data.Nat.Properties.html#18879" class="Function">m≤n⇒m≤n+o</a> <a id="17384" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="17388" href="Ledger.Utxo.Properties.html#16450" class="Function">ref≤dep</a><a id="17395" class="Symbol">)</a> <a id="17397" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17403" href="Agda.Builtin.Int.html#263" class="InductiveConstructor Operator">ℤ.+_</a> <a id="17408" class="Symbol">(</a><a id="17409" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="17413" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="17415" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="17419" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="17421" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a><a id="17424" class="Symbol">)</a> <a id="17426" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="17431" href="Ledger.Utxo.Properties.html#17431" class="Function">split-balance</a> <a id="17445" class="Symbol">:</a> <a id="17447" class="Symbol">∀</a> <a id="17449" href="Ledger.Utxo.Properties.html#17449" class="Bound">keys</a> <a id="17454" class="Symbol">→</a> <a id="17456" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="17465" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="17470" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="17472" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="17481" class="Symbol">(</a><a id="17482" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="17487" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17489" href="Ledger.Utxo.Properties.html#17449" class="Bound">keys</a> <a id="17494" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17495" class="Symbol">)</a> <a id="17497" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="17499" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="17508" class="Symbol">(</a><a id="17509" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="17514" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17516" href="Ledger.Utxo.Properties.html#17449" class="Bound">keys</a><a id="17520" class="Symbol">)</a>
  <a id="17524" href="Ledger.Utxo.Properties.html#17431" class="Function">split-balance</a> <a id="17538" href="Ledger.Utxo.Properties.html#17538" class="Bound">keys</a> <a id="17543" class="Symbol">=</a> <a id="17545" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
                      <a id="17573" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="17582" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a>
                        <a id="17611" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="17615" href="Ledger.Utxo.Properties.html#7963" class="Function">balance-cong-coin</a> <a id="17633" class="Symbol">{</a><a id="17634" class="Argument">utxo</a> <a id="17639" class="Symbol">=</a> <a id="17641" class="Symbol">(</a><a id="17642" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="17647" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17649" href="Ledger.Utxo.Properties.html#17538" class="Bound">keys</a> <a id="17654" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17655" class="Symbol">)</a> <a id="17657" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="17660" class="Symbol">(</a><a id="17661" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="17666" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17668" href="Ledger.Utxo.Properties.html#17538" class="Bound">keys</a><a id="17672" class="Symbol">)}{</a><a id="17675" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a><a id="17679" class="Symbol">}</a>
                          <a id="17707" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17709" href="Axiom.Set.Map.html#6492" class="Function">disjoint-∪ˡ-∪</a> <a id="17723" class="Symbol">(</a><a id="17724" href="Axiom.Set.Properties.html#13237" class="Function">disjoint-sym</a> <a id="17737" href="Axiom.Set.Rel.html#8146" class="Function">res-ex-disjoint</a><a id="17752" class="Symbol">)</a>
                          <a id="17780" href="Ledger.Utxo.Properties.html#18174" class="Function Operator">≡ᵉ-∘</a> <a id="17785" href="Axiom.Set.Properties.html#10950" class="Function">∪-sym</a>
                          <a id="17817" href="Ledger.Utxo.Properties.html#18174" class="Function Operator">≡ᵉ-∘</a> <a id="17822" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="17831" class="Symbol">(</a><a id="17832" href="Axiom.Set.html#10771" class="Function Operator">_∈?</a> <a id="17836" href="Ledger.Utxo.Properties.html#17538" class="Bound">keys</a><a id="17840" class="Symbol">)</a> <a id="17842" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                      <a id="17866" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="17875" class="Symbol">((</a><a id="17877" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="17882" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17884" href="Ledger.Utxo.Properties.html#17538" class="Bound">keys</a> <a id="17889" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17890" class="Symbol">)</a> <a id="17892" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="17895" class="Symbol">(</a><a id="17896" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="17901" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17903" href="Ledger.Utxo.Properties.html#17538" class="Bound">keys</a><a id="17907" class="Symbol">))</a>
                        <a id="17934" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17937" href="Ledger.Utxo.Properties.html#8206" class="Function">balance-∪</a> <a id="17947" class="Symbol">{</a><a id="17948" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="17953" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="17955" href="Ledger.Utxo.Properties.html#17538" class="Bound">keys</a> <a id="17960" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="17961" class="Symbol">}</a> <a id="17963" class="Symbol">{</a><a id="17964" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="17969" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="17971" href="Ledger.Utxo.Properties.html#17538" class="Bound">keys</a><a id="17975" class="Symbol">}</a> <a id="17977" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="17979" href="Function.Base.html#1638" class="Function">flip</a> <a id="17984" href="Axiom.Set.Rel.html#8146" class="Function">res-ex-disjoint</a> <a id="18000" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                      <a id="18024" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="18033" class="Symbol">(</a><a id="18034" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="18039" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="18041" href="Ledger.Utxo.Properties.html#17538" class="Bound">keys</a> <a id="18046" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="18047" class="Symbol">)</a> <a id="18049" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18051" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="18060" class="Symbol">(</a><a id="18061" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="18066" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="18068" href="Ledger.Utxo.Properties.html#17538" class="Bound">keys</a><a id="18072" class="Symbol">)</a>
                        <a id="18098" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="18104" class="Keyword">where</a> <a id="18110" class="Keyword">open</a> <a id="18115" href="Relation.Binary.Structures.html#1550" class="Module">IsEquivalence</a> <a id="18129" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a> <a id="18146" class="Keyword">renaming</a> <a id="18155" class="Symbol">(</a><a id="18156" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="18162" class="Symbol">to</a> <a id="18165" class="Keyword">infixl</a> <a id="18172" class="Number">4</a> <a id="18174" class="Field">_≡ᵉ-∘_</a><a id="18180" class="Symbol">)</a>

  <a id="18185" class="Keyword">module</a> <a id="18192" href="Ledger.Utxo.Properties.html#18192" class="Module">_</a> <a id="18194" class="Symbol">(</a><a id="18195" href="Ledger.Utxo.Properties.html#18195" class="Bound">balanceUtxo</a> <a id="18207" href="Ledger.Utxo.Properties.html#18207" class="Bound">balanceIns</a> <a id="18218" href="Ledger.Utxo.Properties.html#18218" class="Bound">balanceNoIns</a> <a id="18231" href="Ledger.Utxo.Properties.html#18231" class="Bound">balanceOuts</a> <a id="18243" href="Ledger.Utxo.Properties.html#18243" class="Bound">balanceUtxo&#39;</a> <a id="18256" class="Symbol">:</a> <a id="18258" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="18262" class="Symbol">)</a>
           <a id="18275" class="Symbol">(</a><a id="18276" href="Ledger.Utxo.Properties.html#18276" class="Bound">ref</a> <a id="18280" href="Ledger.Utxo.Properties.html#18280" class="Bound">txfee</a> <a id="18286" href="Ledger.Utxo.Properties.html#18286" class="Bound">txdonation</a> <a id="18297" href="Ledger.Utxo.Properties.html#18297" class="Bound">tot</a> <a id="18301" class="Symbol">:</a> <a id="18303" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="18307" class="Symbol">)</a>
           <a id="18320" class="Symbol">(</a><a id="18321" href="Ledger.Utxo.Properties.html#18321" class="Bound">splitUtxo</a> <a id="18331" class="Symbol">:</a> <a id="18333" href="Ledger.Utxo.Properties.html#18195" class="Bound">balanceUtxo</a> <a id="18345" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18347" href="Ledger.Utxo.Properties.html#18218" class="Bound">balanceNoIns</a> <a id="18360" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18362" href="Ledger.Utxo.Properties.html#18207" class="Bound">balanceIns</a><a id="18372" class="Symbol">)</a>
           <a id="18385" class="Symbol">(</a><a id="18386" href="Ledger.Utxo.Properties.html#18386" class="Bound">splitUtxo&#39;</a> <a id="18397" class="Symbol">:</a> <a id="18399" href="Ledger.Utxo.Properties.html#18243" class="Bound">balanceUtxo&#39;</a> <a id="18412" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18414" href="Ledger.Utxo.Properties.html#18218" class="Bound">balanceNoIns</a> <a id="18427" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18429" href="Ledger.Utxo.Properties.html#18231" class="Bound">balanceOuts</a><a id="18440" class="Symbol">)</a>
           <a id="18453" class="Symbol">(</a><a id="18454" href="Ledger.Utxo.Properties.html#18454" class="Bound">balanced</a> <a id="18463" class="Symbol">:</a> <a id="18465" href="Ledger.Utxo.Properties.html#18207" class="Bound">balanceIns</a> <a id="18476" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18478" href="Ledger.Utxo.Properties.html#18276" class="Bound">ref</a> <a id="18482" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18484" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="18489" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18491" href="Ledger.Utxo.Properties.html#18231" class="Bound">balanceOuts</a> <a id="18503" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18505" href="Ledger.Utxo.Properties.html#18280" class="Bound">txfee</a> <a id="18511" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18513" href="Ledger.Utxo.Properties.html#18297" class="Bound">tot</a> <a id="18517" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18519" href="Ledger.Utxo.Properties.html#18286" class="Bound">txdonation</a><a id="18529" class="Symbol">)</a> <a id="18531" class="Keyword">where</a>

    <a id="18542" href="Ledger.Utxo.Properties.html#18542" class="Function">utxo-ref-prop-worker</a> <a id="18563" class="Symbol">:</a>
      <a id="18571" href="Ledger.Utxo.Properties.html#18195" class="Bound">balanceUtxo</a> <a id="18583" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18585" href="Ledger.Utxo.Properties.html#18276" class="Bound">ref</a> <a id="18589" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18591" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="18596" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="18598" href="Ledger.Utxo.Properties.html#18243" class="Bound">balanceUtxo&#39;</a> <a id="18611" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18613" href="Ledger.Utxo.Properties.html#18280" class="Bound">txfee</a> <a id="18619" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18621" href="Ledger.Utxo.Properties.html#18286" class="Bound">txdonation</a> <a id="18632" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18634" href="Ledger.Utxo.Properties.html#18297" class="Bound">tot</a>
    <a id="18642" href="Ledger.Utxo.Properties.html#18542" class="Function">utxo-ref-prop-worker</a> <a id="18663" class="Symbol">=</a> <a id="18665" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="18677" href="Ledger.Utxo.Properties.html#18195" class="Bound">balanceUtxo</a> <a id="18689" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18691" href="Ledger.Utxo.Properties.html#18276" class="Bound">ref</a> <a id="18695" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18697" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a>
        <a id="18710" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="18713" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="18718" class="Symbol">(λ</a> <a id="18721" href="Ledger.Utxo.Properties.html#18721" class="Bound">u</a> <a id="18723" class="Symbol">→</a> <a id="18725" href="Ledger.Utxo.Properties.html#18721" class="Bound">u</a> <a id="18727" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18729" href="Ledger.Utxo.Properties.html#18276" class="Bound">ref</a> <a id="18733" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="18735" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a><a id="18739" class="Symbol">)</a> <a id="18741" href="Ledger.Utxo.Properties.html#18321" class="Bound">splitUtxo</a> <a id="18751" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="18759" href="Ledger.Utxo.Properties.html#18218" class="Bound">balanceNoIns</a> <a id="18772" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18776" href="Ledger.Utxo.Properties.html#18207" class="Bound">balanceIns</a> <a id="18787" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18791" href="Ledger.Utxo.Properties.html#18276" class="Bound">ref</a> <a id="18795" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18799" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a>
        <a id="18812" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
      <a id="18823" href="Ledger.Utxo.Properties.html#18218" class="Bound">balanceNoIns</a> <a id="18836" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18840" class="Symbol">(</a><a id="18841" href="Ledger.Utxo.Properties.html#18207" class="Bound">balanceIns</a> <a id="18852" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18856" href="Ledger.Utxo.Properties.html#18276" class="Bound">ref</a> <a id="18860" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18864" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a><a id="18868" class="Symbol">)</a>
        <a id="18878" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="18881" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="18886" class="Symbol">(</a><a id="18887" href="Ledger.Utxo.Properties.html#18218" class="Bound">balanceNoIns</a> <a id="18900" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="18902" class="Symbol">)</a> <a id="18904" href="Ledger.Utxo.Properties.html#18454" class="Bound">balanced</a> <a id="18913" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="18921" href="Ledger.Utxo.Properties.html#18218" class="Bound">balanceNoIns</a> <a id="18934" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18938" class="Symbol">(</a><a id="18939" href="Ledger.Utxo.Properties.html#18231" class="Bound">balanceOuts</a> <a id="18951" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18955" href="Ledger.Utxo.Properties.html#18280" class="Bound">txfee</a> <a id="18961" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18965" href="Ledger.Utxo.Properties.html#18297" class="Bound">tot</a> <a id="18969" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="18973" href="Ledger.Utxo.Properties.html#18286" class="Bound">txdonation</a><a id="18983" class="Symbol">)</a>
        <a id="18993" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
      <a id="19004" class="Symbol">(</a><a id="19005" href="Ledger.Utxo.Properties.html#18218" class="Bound">balanceNoIns</a> <a id="19018" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19022" href="Ledger.Utxo.Properties.html#18231" class="Bound">balanceOuts</a> <a id="19034" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19038" href="Ledger.Utxo.Properties.html#18280" class="Bound">txfee</a><a id="19043" class="Symbol">)</a> <a id="19045" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19049" href="Ledger.Utxo.Properties.html#18297" class="Bound">tot</a> <a id="19053" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19057" href="Ledger.Utxo.Properties.html#18286" class="Bound">txdonation</a>
        <a id="19076" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="19080" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19085" class="Symbol">(λ</a> <a id="19088" href="Ledger.Utxo.Properties.html#19088" class="Bound">x</a> <a id="19090" class="Symbol">→</a> <a id="19092" class="Symbol">(</a><a id="19093" href="Ledger.Utxo.Properties.html#19088" class="Bound">x</a> <a id="19095" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="19097" href="Ledger.Utxo.Properties.html#18280" class="Bound">txfee</a><a id="19102" class="Symbol">)</a> <a id="19104" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="19106" href="Ledger.Utxo.Properties.html#18297" class="Bound">tot</a> <a id="19110" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="19112" href="Ledger.Utxo.Properties.html#18286" class="Bound">txdonation</a><a id="19122" class="Symbol">)</a> <a id="19124" href="Ledger.Utxo.Properties.html#18386" class="Bound">splitUtxo&#39;</a> <a id="19135" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="19143" class="Symbol">(</a><a id="19144" href="Ledger.Utxo.Properties.html#18243" class="Bound">balanceUtxo&#39;</a> <a id="19157" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19161" href="Ledger.Utxo.Properties.html#18280" class="Bound">txfee</a><a id="19166" class="Symbol">)</a> <a id="19168" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19172" href="Ledger.Utxo.Properties.html#18297" class="Bound">tot</a> <a id="19176" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19180" href="Ledger.Utxo.Properties.html#18286" class="Bound">txdonation</a>
        <a id="19199" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
      <a id="19210" href="Ledger.Utxo.Properties.html#18243" class="Bound">balanceUtxo&#39;</a> <a id="19223" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19227" href="Ledger.Utxo.Properties.html#18280" class="Bound">txfee</a> <a id="19233" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19237" class="Symbol">(</a><a id="19238" href="Ledger.Utxo.Properties.html#18297" class="Bound">tot</a> <a id="19242" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19246" href="Ledger.Utxo.Properties.html#18286" class="Bound">txdonation</a><a id="19256" class="Symbol">)</a>
        <a id="19266" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="19269" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="19274" class="Symbol">(</a><a id="19275" href="Ledger.Utxo.Properties.html#18243" class="Bound">balanceUtxo&#39;</a> <a id="19288" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="19290" href="Ledger.Utxo.Properties.html#18280" class="Bound">txfee</a> <a id="19296" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="19298" class="Symbol">)</a> <a id="19300" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="19302" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="19309" href="Ledger.Utxo.Properties.html#18297" class="Bound">tot</a> <a id="19313" href="Ledger.Utxo.Properties.html#18286" class="Bound">txdonation</a> <a id="19324" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="19332" href="Ledger.Utxo.Properties.html#18243" class="Bound">balanceUtxo&#39;</a> <a id="19345" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19349" href="Ledger.Utxo.Properties.html#18280" class="Bound">txfee</a> <a id="19355" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19359" class="Symbol">(</a><a id="19360" href="Ledger.Utxo.Properties.html#18286" class="Bound">txdonation</a> <a id="19371" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19375" href="Ledger.Utxo.Properties.html#18297" class="Bound">tot</a><a id="19378" class="Symbol">)</a>
        <a id="19388" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
      <a id="19399" class="Symbol">(</a><a id="19400" href="Ledger.Utxo.Properties.html#18243" class="Bound">balanceUtxo&#39;</a> <a id="19413" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19417" href="Ledger.Utxo.Properties.html#18280" class="Bound">txfee</a><a id="19422" class="Symbol">)</a> <a id="19424" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19428" href="Ledger.Utxo.Properties.html#18286" class="Bound">txdonation</a> <a id="19439" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="19443" href="Ledger.Utxo.Properties.html#18297" class="Bound">tot</a>
        <a id="19455" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="19460" href="Ledger.Utxo.Properties.html#19460" class="Function">utxo-ref-prop</a> <a id="19474" class="Symbol">:</a>
    <a id="19480" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="19489" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="19494" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="19496" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="19500" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="19502" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="19507" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>
    <a id="19513" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="19522" class="Symbol">((</a><a id="19524" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="19529" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19531" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="19537" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19538" class="Symbol">)</a> <a id="19540" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="19543" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="19548" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a><a id="19551" class="Symbol">)</a> <a id="19553" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="19555" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="19561" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="19563" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="19574" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="19576" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a>
  <a id="19582" href="Ledger.Utxo.Properties.html#19460" class="Function">utxo-ref-prop</a> <a id="19596" class="Symbol">=</a> <a id="19598" href="Ledger.Utxo.Properties.html#18542" class="Function">utxo-ref-prop-worker</a>
                    <a id="19639" class="Symbol">(</a><a id="19640" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="19649" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a><a id="19653" class="Symbol">)</a>
                    <a id="19675" class="Symbol">(</a><a id="19676" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="19685" class="Symbol">(</a><a id="19686" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="19691" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="19693" href="Ledger.Transaction.html#2620" class="Function">txins</a><a id="19698" class="Symbol">))</a>
                    <a id="19721" class="Symbol">(</a><a id="19722" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="19731" class="Symbol">(</a><a id="19732" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="19737" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19739" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="19745" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19746" class="Symbol">))</a>
                    <a id="19769" class="Symbol">(</a><a id="19770" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="19779" class="Symbol">(</a><a id="19780" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="19785" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a><a id="19788" class="Symbol">))</a>
                    <a id="19811" class="Symbol">(</a><a id="19812" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="19821" class="Symbol">((</a><a id="19823" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="19828" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19830" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="19836" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19837" class="Symbol">)</a> <a id="19839" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="19842" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="19847" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a><a id="19850" class="Symbol">))</a>
                    <a id="19873" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="19877" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="19883" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="19894" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a>
                    <a id="19918" class="Symbol">(</a><a id="19919" href="Ledger.Utxo.Properties.html#17431" class="Function">split-balance</a> <a id="19933" href="Ledger.Transaction.html#2620" class="Function">txins</a><a id="19938" class="Symbol">)</a>
                    <a id="19960" class="Symbol">(</a><a id="19961" href="Ledger.Utxo.Properties.html#8206" class="Function">balance-∪</a> <a id="19971" class="Symbol">{</a><a id="19972" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="19977" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="19979" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="19985" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="19986" class="Symbol">}</a> <a id="19988" class="Symbol">{</a><a id="19989" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="19994" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a><a id="19997" class="Symbol">}</a> <a id="19999" href="Ledger.Utxo.Properties.html#14532" class="Function">h</a><a id="20000" class="Symbol">)</a>
                    <a id="20022" class="Symbol">(</a><a id="20023" href="Ledger.Utxo.Properties.html#12473" class="Function">balValueToCoin</a> <a id="20038" class="Symbol">{</a><a id="20039" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a><a id="20042" class="Symbol">}</a> <a id="20044" class="Symbol">{</a><a id="20045" href="Ledger.Utxo.Properties.html#14333" class="Function">utxoSt</a><a id="20051" class="Symbol">}</a> <a id="20053" class="Symbol">{</a><a id="20054" href="Ledger.Utxo.html#2465" class="Field">UTxOEnv.pparams</a> <a id="20070" href="Ledger.Utxo.Properties.html#13595" class="Bound">Γ</a><a id="20071" class="Symbol">}</a> <a id="20073" href="Ledger.Utxo.Properties.html#15314" class="Function">noMintAda</a> <a id="20083" href="Ledger.Utxo.Properties.html#14976" class="Function">newBal</a><a id="20089" class="Symbol">)</a>

  <a id="20094" href="Ledger.Utxo.Properties.html#20094" class="Function">rearrange0</a> <a id="20105" class="Symbol">:</a>
      <a id="20113" class="Symbol">(</a><a id="20114" href="Ledger.Utxo.Properties.html#20114" class="Bound">bal</a> <a id="20118" class="Symbol">:</a> <a id="20120" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="20121" class="Symbol">)</a>
    <a id="20127" class="Symbol">→</a> <a id="20129" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="20139" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20141" href="Ledger.Utxo.html#8771" class="Function">updateDeposits</a> <a id="20156" href="Ledger.Utxo.Properties.html#14124" class="Function">pp</a> <a id="20159" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a> <a id="20163" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a>
    <a id="20176" class="Symbol">→</a> <a id="20178" href="Ledger.Utxo.Properties.html#20114" class="Bound">bal</a> <a id="20182" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20184" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="20190" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20192" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20203" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20205" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="20209" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20211" class="Symbol">(</a><a id="20212" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="20222" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20224" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="20228" class="Symbol">)</a>
    <a id="20234" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="20236" href="Ledger.Utxo.Properties.html#20114" class="Bound">bal</a> <a id="20240" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20242" class="Symbol">(</a><a id="20243" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="20248" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20250" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="20256" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20258" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="20266" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="20276" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20278" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="20288" class="Symbol">)</a>
  <a id="20292" href="Ledger.Utxo.Properties.html#20094" class="Function">rearrange0</a> <a id="20303" href="Ledger.Utxo.Properties.html#20303" class="Bound">bal</a> <a id="20307" href="Ledger.Utxo.Properties.html#20307" class="Bound">h</a> <a id="20309" class="Symbol">=</a> <a id="20311" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="20321" href="Ledger.Utxo.Properties.html#20303" class="Bound">bal</a> <a id="20325" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20329" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="20335" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20339" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20350" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20354" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="20358" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20362" class="Symbol">(</a><a id="20363" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="20373" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20377" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="20381" class="Symbol">)</a>
      <a id="20389" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
    <a id="20398" href="Ledger.Utxo.Properties.html#20303" class="Bound">bal</a> <a id="20402" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20406" class="Symbol">(</a><a id="20407" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="20413" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20417" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20428" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20432" class="Symbol">(</a><a id="20433" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="20437" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20441" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a><a id="20450" class="Symbol">)</a> <a id="20452" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20456" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="20460" class="Symbol">)</a>
      <a id="20468" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20471" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20476" class="Symbol">(</a><a id="20477" href="Ledger.Utxo.Properties.html#20303" class="Bound">bal</a> <a id="20481" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="20483" class="Symbol">)</a> <a id="20485" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20487" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="20501" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="20507" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20509" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20520" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20522" class="Symbol">(</a><a id="20523" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="20527" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20529" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a><a id="20538" class="Symbol">)</a> <a id="20540" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20542" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a>
          <a id="20557" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20560" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="20567" class="Symbol">_</a> <a id="20569" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="20574" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="20584" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="20589" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20593" class="Symbol">(</a><a id="20594" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="20600" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20604" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20615" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20619" class="Symbol">(</a><a id="20620" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="20624" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20628" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a><a id="20637" class="Symbol">))</a>
          <a id="20650" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
        <a id="20663" class="Symbol">(</a><a id="20664" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="20669" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20673" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="20678" class="Symbol">)</a> <a id="20680" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20684" class="Symbol">(</a><a id="20685" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20696" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20700" class="Symbol">(</a><a id="20701" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="20705" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20709" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a><a id="20718" class="Symbol">))</a>
          <a id="20731" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20734" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20739" class="Symbol">((</a><a id="20741" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="20746" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20748" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="20753" class="Symbol">)</a> <a id="20755" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="20757" class="Symbol">)</a> <a id="20759" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="20761" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="20768" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="20779" class="Symbol">(</a><a id="20780" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="20784" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20786" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a><a id="20795" class="Symbol">)</a> <a id="20797" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="20807" class="Symbol">(</a><a id="20808" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="20813" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20815" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="20820" class="Symbol">)</a> <a id="20822" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20826" class="Symbol">((</a><a id="20828" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="20832" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20834" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a><a id="20843" class="Symbol">)</a> <a id="20845" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20849" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="20859" class="Symbol">)</a>
          <a id="20871" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
        <a id="20884" class="Symbol">(</a><a id="20885" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="20890" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20892" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="20897" class="Symbol">)</a> <a id="20899" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20903" class="Symbol">(</a><a id="20904" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="20908" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20910" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a><a id="20919" class="Symbol">)</a> <a id="20921" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="20925" href="Ledger.Transaction.html#2956" class="Function">txdonation</a>
          <a id="20946" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="20949" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="20954" class="Symbol">(λ</a> <a id="20957" href="Ledger.Utxo.Properties.html#20957" class="Bound">x</a> <a id="20959" class="Symbol">→</a> <a id="20961" class="Symbol">(</a><a id="20962" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="20967" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20969" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="20974" class="Symbol">)</a> <a id="20976" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20978" href="Ledger.Utxo.Properties.html#20957" class="Bound">x</a> <a id="20980" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="20982" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="20992" class="Symbol">)</a>
          <a id="21004" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21006" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a> <a id="21012" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="21016" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21018" class="Symbol">(</a><a id="21019" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="21023" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21025" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a><a id="21028" class="Symbol">)</a> <a id="21030" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="21034" href="Data.Nat.Properties.html#49891" class="Function">+-∸-assoc</a> <a id="21044" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="21048" href="Ledger.Utxo.Properties.html#16450" class="Function">ref≤dep</a> <a id="21056" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                  <a id="21076" class="Symbol">(</a><a id="21077" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="21081" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21083" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="21086" class="Symbol">)</a> <a id="21088" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21090" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="21094" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21097" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21102" class="Symbol">(</a><a id="21103" href="Interface.HasSubtract.html#209" class="Field Operator">_-</a> <a id="21106" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a><a id="21109" class="Symbol">)</a> <a id="21111" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21113" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="21120" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="21124" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="21128" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                  <a id="21148" class="Symbol">(</a><a id="21149" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="21153" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21155" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a><a id="21158" class="Symbol">)</a> <a id="21160" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="21162" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="21166" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="21170" href="Ledger.Utxo.Properties.html#16659" class="Function">deposits-change</a> <a id="21186" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
                  <a id="21206" href="Ledger.Utxo.Properties.html#14210" class="Function">uDep</a>              <a id="21224" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="21227" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21232" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21240" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="21242" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="21246" href="Ledger.Utxo.Properties.html#20307" class="Bound">h</a> <a id="21248" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
                  <a id="21268" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21276" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="21286" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21288" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="21298" class="Symbol">(</a><a id="21299" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="21304" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21306" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="21311" class="Symbol">)</a> <a id="21313" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21315" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21323" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="21333" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21335" href="Ledger.Transaction.html#2956" class="Function">txdonation</a>
          <a id="21356" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="21358" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="21364" href="Ledger.Utxo.Properties.html#20303" class="Bound">bal</a> <a id="21368" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21370" class="Symbol">((</a><a id="21372" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="21377" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21379" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="21384" class="Symbol">)</a> <a id="21386" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21388" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21396" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="21406" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21408" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="21418" class="Symbol">)</a>
      <a id="21426" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="21431" class="Keyword">module</a> <a id="21438" href="Ledger.Utxo.Properties.html#21438" class="Module">_</a> <a id="21440" class="Symbol">(</a><a id="21441" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="21453" href="Ledger.Utxo.Properties.html#21453" class="Bound">balanceUtxo&#39;</a> <a id="21466" class="Symbol">:</a> <a id="21468" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="21472" class="Symbol">)</a>
           <a id="21485" class="Symbol">(</a><a id="21486" href="Ledger.Utxo.Properties.html#21486" class="Bound">ref-prop</a> <a id="21495" class="Symbol">:</a> <a id="21497" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="21509" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21511" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="21515" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21517" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="21522" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21524" href="Ledger.Utxo.Properties.html#21453" class="Bound">balanceUtxo&#39;</a> <a id="21537" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21539" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="21545" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21547" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="21558" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21560" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a><a id="21563" class="Symbol">)</a>
           <a id="21576" class="Symbol">(</a><a id="21577" href="Ledger.Utxo.Properties.html#21577" class="Bound">h</a> <a id="21579" class="Symbol">:</a> <a id="21581" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="21591" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21593" href="Ledger.Utxo.html#8771" class="Function">updateDeposits</a> <a id="21608" href="Ledger.Utxo.Properties.html#14124" class="Function">pp</a> <a id="21611" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a> <a id="21615" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a><a id="21623" class="Symbol">)</a>
           <a id="21636" class="Keyword">where</a>

    <a id="21647" href="Ledger.Utxo.Properties.html#21647" class="Function">pov-scripts-worker</a> <a id="21666" class="Symbol">:</a>  <a id="21669" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="21677" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21679" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                          <a id="21710" class="Symbol">→</a>  <a id="21713" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="21725" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21727" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="21732" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21734" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21742" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a> <a id="21751" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21753" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="21763" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21765" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a><a id="21766" class="Symbol">(</a><a id="21767" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="21772" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21774" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="21781" class="Symbol">)</a>
                             <a id="21812" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="21814" href="Ledger.Utxo.Properties.html#21453" class="Bound">balanceUtxo&#39;</a> <a id="21827" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21829" class="Symbol">(</a><a id="21830" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="21835" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21837" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="21842" class="Symbol">)</a> <a id="21844" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21846" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21854" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="21864" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21866" class="Symbol">(</a><a id="21867" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="21877" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21879" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="21889" class="Symbol">)</a>
    <a id="21895" href="Ledger.Utxo.Properties.html#21647" class="Function">pov-scripts-worker</a> <a id="21914" href="Ledger.Utxo.Properties.html#21914" class="Bound">valid</a> <a id="21920" class="Symbol">=</a> <a id="21922" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="21934" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="21946" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21948" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="21953" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21955" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="21963" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a> <a id="21972" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21974" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="21984" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="21986" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a><a id="21987" class="Symbol">(</a><a id="21988" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="21993" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21995" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="22002" class="Symbol">)</a>
        <a id="22012" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22015" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22020" class="Symbol">(λ</a> <a id="22023" href="Ledger.Utxo.Properties.html#22023" class="Bound">x</a> <a id="22025" class="Symbol">→</a> <a id="22027" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22039" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22041" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22046" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22048" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="22056" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a> <a id="22065" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22067" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="22077" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22079" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a><a id="22080" class="Symbol">(</a><a id="22081" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="22086" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22088" href="Ledger.Utxo.Properties.html#22023" class="Bound">x</a><a id="22089" class="Symbol">))</a> <a id="22092" href="Ledger.Utxo.Properties.html#21914" class="Bound">valid</a> <a id="22098" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22106" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22118" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22120" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22125" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22127" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="22131" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22133" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="22143" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22145" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a>
        <a id="22158" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22161" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a> <a id="22169" class="Symbol">(</a><a id="22170" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22182" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22184" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22189" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22191" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="22194" class="Symbol">)</a> <a id="22196" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="22206" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="22211" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22219" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22231" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22233" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22238" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22240" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="22244" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22246" class="Symbol">(</a><a id="22247" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="22257" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22259" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a><a id="22263" class="Symbol">)</a>
        <a id="22273" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22276" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22281" class="Symbol">(</a><a id="22282" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22294" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22296" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22301" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22303" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="22307" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="22309" class="Symbol">)</a> <a id="22311" class="Symbol">(</a><a id="22312" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="22319" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="22329" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a><a id="22333" class="Symbol">)</a> <a id="22335" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="22343" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22355" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22357" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22362" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22364" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="22368" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22370" class="Symbol">(</a><a id="22371" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="22376" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22378" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a><a id="22387" class="Symbol">)</a>
        <a id="22397" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="22401" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a> <a id="22409" class="Symbol">(</a><a id="22410" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22422" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22424" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22429" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22431" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a><a id="22434" class="Symbol">)</a> <a id="22436" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="22441" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a>  <a id="22452" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="22460" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22472" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22474" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22479" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22481" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="22485" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22487" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="22492" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22494" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a>
        <a id="22512" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22515" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22520" class="Symbol">(</a><a id="22521" href="Class.HasAdd.Core.html#136" class="Field Operator">_+</a> <a id="22524" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a><a id="22533" class="Symbol">)</a>
        <a id="22543" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="22545" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
            <a id="22563" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22575" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22577" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22582" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22584" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="22588" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22590" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a>
              <a id="22609" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="22613" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22618" class="Symbol">(λ</a> <a id="22621" href="Ledger.Utxo.Properties.html#22621" class="Bound">x</a> <a id="22623" class="Symbol">→</a> <a id="22625" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22637" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22639" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22644" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22646" href="Ledger.Utxo.Properties.html#22621" class="Bound">x</a> <a id="22648" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22650" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a><a id="22654" class="Symbol">)</a> <a id="22656" class="Symbol">(</a><a id="22657" href="Data.Nat.Properties.html#51462" class="Function">m+[n∸m]≡n</a> <a id="22667" href="Ledger.Utxo.Properties.html#16450" class="Function">ref≤dep</a><a id="22674" class="Symbol">)</a> <a id="22676" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="22690" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22702" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22704" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22709" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22711" class="Symbol">(</a><a id="22712" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="22716" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22718" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a><a id="22727" class="Symbol">)</a> <a id="22729" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22731" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a>
              <a id="22750" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22753" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22758" class="Symbol">(</a><a id="22759" href="Class.HasAdd.Core.html#136" class="Field Operator">_+</a> <a id="22762" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a><a id="22766" class="Symbol">)</a> <a id="22768" class="Symbol">(</a><a id="22769" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a> <a id="22777" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22789" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22794" class="Symbol">(</a><a id="22795" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="22799" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22801" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a><a id="22810" class="Symbol">))</a> <a id="22813" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="22827" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22839" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22841" class="Symbol">(</a><a id="22842" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22847" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22849" class="Symbol">(</a><a id="22850" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="22854" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22856" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a><a id="22865" class="Symbol">))</a> <a id="22868" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22870" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a>
              <a id="22889" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="22892" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="22897" class="Symbol">(λ</a> <a id="22900" href="Ledger.Utxo.Properties.html#22900" class="Bound">x</a> <a id="22902" class="Symbol">→</a> <a id="22904" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22916" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22918" href="Ledger.Utxo.Properties.html#22900" class="Bound">x</a> <a id="22920" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22922" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a><a id="22926" class="Symbol">)</a> <a id="22928" class="Symbol">(</a><a id="22929" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="22936" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="22941" class="Symbol">(</a><a id="22942" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="22946" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22948" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a><a id="22957" class="Symbol">))</a> <a id="22960" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="22974" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="22986" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22988" class="Symbol">(</a><a id="22989" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="22993" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="22995" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23005" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23007" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23011" class="Symbol">)</a> <a id="23013" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23015" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a>
              <a id="23034" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23037" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23042" class="Symbol">(λ</a> <a id="23045" href="Ledger.Utxo.Properties.html#23045" class="Bound">x</a> <a id="23047" class="Symbol">→</a> <a id="23049" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="23061" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23063" href="Ledger.Utxo.Properties.html#23045" class="Bound">x</a> <a id="23065" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23067" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a><a id="23071" class="Symbol">)</a> <a id="23073" class="Symbol">(</a><a id="23074" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a> <a id="23082" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="23086" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23096" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23100" class="Symbol">)</a> <a id="23102" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a> <a id="23104" class="Comment">--</a>
            <a id="23119" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="23131" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23133" class="Symbol">(</a><a id="23134" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="23138" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23140" class="Symbol">(</a><a id="23141" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23151" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23153" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23157" class="Symbol">))</a> <a id="23160" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23162" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a>
              <a id="23181" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23184" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a> <a id="23192" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="23204" class="Symbol">(</a><a id="23205" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="23209" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23211" class="Symbol">(</a><a id="23212" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23222" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23224" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23228" class="Symbol">))</a> <a id="23231" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="23236" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a> <a id="23238" class="Comment">--</a>
            <a id="23253" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="23265" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23267" class="Symbol">(</a><a id="23268" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="23272" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23274" class="Symbol">(</a><a id="23275" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23285" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23287" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23291" class="Symbol">)</a> <a id="23293" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23295" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a><a id="23299" class="Symbol">)</a>
              <a id="23315" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23318" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23323" class="Symbol">(</a><a id="23324" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="23336" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="23338" class="Symbol">)</a> <a id="23340" class="Symbol">(</a><a id="23341" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a> <a id="23349" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="23353" class="Symbol">(</a><a id="23354" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23364" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23366" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23370" class="Symbol">)</a> <a id="23372" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a><a id="23376" class="Symbol">)</a> <a id="23378" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23392" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="23404" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23406" class="Symbol">(</a><a id="23407" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="23411" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23413" class="Symbol">((</a><a id="23415" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23425" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23427" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23431" class="Symbol">)</a> <a id="23433" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23435" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a><a id="23439" class="Symbol">))</a>
              <a id="23456" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23459" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23464" class="Symbol">(λ</a> <a id="23467" href="Ledger.Utxo.Properties.html#23467" class="Bound">x</a> <a id="23469" class="Symbol">→</a> <a id="23471" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="23483" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23485" class="Symbol">(</a><a id="23486" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="23490" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23492" href="Ledger.Utxo.Properties.html#23467" class="Bound">x</a><a id="23493" class="Symbol">))</a> <a id="23496" class="Symbol">(</a><a id="23497" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="23504" class="Symbol">(</a><a id="23505" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23515" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23517" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23521" class="Symbol">)</a> <a id="23523" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a><a id="23527" class="Symbol">)</a> <a id="23529" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23543" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="23555" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23557" class="Symbol">(</a><a id="23558" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="23562" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23564" class="Symbol">(</a><a id="23565" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="23570" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23572" class="Symbol">(</a><a id="23573" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23583" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23585" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23589" class="Symbol">)))</a>
              <a id="23607" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="23611" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a> <a id="23619" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="23631" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="23635" class="Symbol">(</a><a id="23636" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="23641" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23643" class="Symbol">(</a><a id="23644" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23654" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23656" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23660" class="Symbol">))</a> <a id="23663" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="23677" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="23689" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23691" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="23695" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23697" class="Symbol">(</a><a id="23698" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="23703" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23705" class="Symbol">(</a><a id="23706" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23716" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23718" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23722" class="Symbol">))</a>
              <a id="23739" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="23743" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a> <a id="23751" class="Symbol">(</a><a id="23752" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="23764" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23766" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a><a id="23769" class="Symbol">)</a> <a id="23771" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="23776" class="Symbol">(</a><a id="23777" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23787" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23789" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23793" class="Symbol">)</a> <a id="23795" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
            <a id="23809" href="Ledger.Utxo.Properties.html#21441" class="Bound">balanceUtxo</a> <a id="23821" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23823" href="Ledger.Utxo.Properties.html#14408" class="Function">ref</a> <a id="23827" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23829" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="23834" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23836" class="Symbol">(</a><a id="23837" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23847" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23849" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23853" class="Symbol">)</a>
              <a id="23869" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23872" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23877" class="Symbol">(</a><a id="23878" href="Class.HasAdd.Core.html#136" class="Field Operator">_+</a> <a id="23881" class="Symbol">(</a><a id="23882" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23892" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23894" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23898" class="Symbol">))</a> <a id="23901" href="Ledger.Utxo.Properties.html#21486" class="Bound">ref-prop</a> <a id="23910" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="23924" href="Ledger.Utxo.Properties.html#21453" class="Bound">balanceUtxo&#39;</a> <a id="23937" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23939" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="23945" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23947" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="23958" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23960" href="Ledger.Utxo.Properties.html#14412" class="Function">tot</a> <a id="23964" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23966" class="Symbol">(</a><a id="23967" href="Ledger.Utxo.Properties.html#15376" class="Function">remDepTot</a> <a id="23977" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="23979" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="23983" class="Symbol">)</a>
              <a id="23999" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="24002" href="Ledger.Utxo.Properties.html#20094" class="Function">rearrange0</a> <a id="24013" class="Symbol">(</a><a id="24014" href="Ledger.Utxo.Properties.html#21453" class="Bound">balanceUtxo&#39;</a><a id="24026" class="Symbol">)</a> <a id="24028" href="Ledger.Utxo.Properties.html#21577" class="Bound">h</a> <a id="24030" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
            <a id="24044" href="Ledger.Utxo.Properties.html#21453" class="Bound">balanceUtxo&#39;</a> <a id="24057" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24059" class="Symbol">(</a><a id="24060" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="24065" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24067" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="24073" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24075" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24083" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="24093" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24095" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="24105" class="Symbol">)</a>
              <a id="24121" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="24123" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="24131" href="Ledger.Utxo.Properties.html#21453" class="Bound">balanceUtxo&#39;</a> <a id="24144" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24148" class="Symbol">(</a><a id="24149" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="24154" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24156" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="24162" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24166" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24174" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="24184" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24188" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="24198" class="Symbol">)</a> <a id="24200" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24204" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a>
        <a id="24222" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
      <a id="24233" href="Ledger.Utxo.Properties.html#21453" class="Bound">balanceUtxo&#39;</a> <a id="24246" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24250" class="Symbol">(</a><a id="24251" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="24256" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24258" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="24263" class="Symbol">)</a> <a id="24265" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24269" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24277" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="24287" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24291" class="Symbol">(</a><a id="24292" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="24303" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="24307" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a><a id="24316" class="Symbol">)</a>
        <a id="24326" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="24329" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="24334" class="Symbol">(</a><a id="24335" href="Ledger.Utxo.Properties.html#21453" class="Bound">balanceUtxo&#39;</a> <a id="24348" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24350" class="Symbol">(</a><a id="24351" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="24356" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24358" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="24363" class="Symbol">)</a> <a id="24365" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24367" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24375" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="24385" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+_</a><a id="24389" class="Symbol">)</a>
         <a id="24400" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="24402" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="24409" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="24420" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="24430" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="24438" href="Ledger.Utxo.Properties.html#21453" class="Bound">balanceUtxo&#39;</a> <a id="24451" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24453" class="Symbol">(</a><a id="24454" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="24459" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24461" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="24466" class="Symbol">)</a> <a id="24468" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24470" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24478" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="24488" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24490" class="Symbol">(</a><a id="24491" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="24501" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24503" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="24513" class="Symbol">)</a>
        <a id="24523" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="24528" href="Ledger.Utxo.Properties.html#24528" class="Function">pov-scripts</a> <a id="24540" class="Symbol">:</a>  <a id="24543" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="24553" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24555" href="Ledger.Utxo.html#8771" class="Function">updateDeposits</a> <a id="24570" href="Ledger.Utxo.Properties.html#14124" class="Function">pp</a> <a id="24573" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a> <a id="24577" href="Ledger.Utxo.Properties.html#13447" class="Bound">deposits</a>
                 <a id="24603" class="Symbol">→</a>  <a id="24606" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="24614" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="24616" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                 <a id="24638" class="Symbol">→</a>  <a id="24641" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="24650" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="24655" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24657" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="24662" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24664" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="24668" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24670" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="24680" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24682" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a><a id="24683" class="Symbol">(</a><a id="24684" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="24689" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="24691" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="24698" class="Symbol">)</a>
                    <a id="24720" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a>  <a id="24723" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="24732" class="Symbol">((</a><a id="24734" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="24739" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="24741" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="24747" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="24748" class="Symbol">)</a> <a id="24750" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="24753" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="24758" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a><a id="24761" class="Symbol">)</a>
                       <a id="24786" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24788" class="Symbol">(</a><a id="24789" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="24794" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24796" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="24801" class="Symbol">)</a> <a id="24803" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24805" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="24813" href="Ledger.Utxo.Properties.html#13456" class="Bound">deposits&#39;</a> <a id="24823" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24825" class="Symbol">(</a><a id="24826" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="24836" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="24838" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="24848" class="Symbol">)</a>
  <a id="24852" href="Ledger.Utxo.Properties.html#24528" class="Function">pov-scripts</a> <a id="24864" href="Ledger.Utxo.Properties.html#24864" class="Bound">h</a> <a id="24866" href="Ledger.Utxo.Properties.html#24866" class="Bound">valid</a> <a id="24872" class="Symbol">=</a> <a id="24874" href="Ledger.Utxo.Properties.html#21647" class="Function">pov-scripts-worker</a> <a id="24893" class="Symbol">(</a><a id="24894" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="24903" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a><a id="24907" class="Symbol">)</a> <a id="24909" class="Symbol">(</a><a id="24910" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="24919" class="Symbol">((</a><a id="24921" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="24926" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="24928" href="Ledger.Transaction.html#2620" class="Function">txins</a> <a id="24934" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="24935" class="Symbol">)</a> <a id="24937" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="24940" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="24945" href="Ledger.Utxo.Properties.html#13569" class="Field">txb</a><a id="24948" class="Symbol">))</a> <a id="24951" href="Ledger.Utxo.Properties.html#19460" class="Function">utxo-ref-prop</a> <a id="24965" href="Ledger.Utxo.Properties.html#24864" class="Bound">h</a> <a id="24967" href="Ledger.Utxo.Properties.html#24866" class="Bound">valid</a>

  <a id="24976" href="Ledger.Utxo.Properties.html#24976" class="Function">pov-no-scripts</a> <a id="24991" class="Symbol">:</a>  <a id="24994" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="25002" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25004" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="25030" class="Symbol">→</a>  <a id="25033" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25042" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25047" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25049" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="25054" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25056" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="25060" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25062" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="25072" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25074" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a><a id="25075" class="Symbol">(</a><a id="25076" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="25081" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25083" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="25090" class="Symbol">)</a>
                       <a id="25115" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="25117" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25126" class="Symbol">(</a><a id="25127" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25132" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25134" href="Ledger.Transaction.html#3180" class="Function">collateral</a> <a id="25145" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25146" class="Symbol">)</a> <a id="25148" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25150" class="Symbol">(</a><a id="25151" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="25156" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25158" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25167" class="Symbol">(</a><a id="25168" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25173" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25175" href="Ledger.Transaction.html#3180" class="Function">collateral</a><a id="25185" class="Symbol">))</a> <a id="25188" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25190" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="25194" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25196" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a>
  <a id="25208" href="Ledger.Utxo.Properties.html#24976" class="Function">pov-no-scripts</a> <a id="25223" href="Ledger.Utxo.Properties.html#25223" class="Bound">invalid</a> <a id="25231" class="Symbol">=</a> <a id="25233" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="25243" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25252" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25257" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25259" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="25264" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25266" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="25270" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25272" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="25282" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25284" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a><a id="25285" class="Symbol">(</a><a id="25286" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="25291" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25293" href="Ledger.Transaction.html#3623" class="Field">isValid</a><a id="25300" class="Symbol">)</a> <a id="25302" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25305" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25310" class="Symbol">(λ</a> <a id="25313" href="Ledger.Utxo.Properties.html#25313" class="Bound">x</a> <a id="25315" class="Symbol">→</a> <a id="25317" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25326" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25331" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25333" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="25338" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25340" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="25344" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25346" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="25356" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25358" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a><a id="25359" class="Symbol">(</a><a id="25360" href="Ledger.Utxo.Properties.html#14466" class="Function">wdls</a> <a id="25365" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="25367" href="Ledger.Utxo.Properties.html#25313" class="Bound">x</a><a id="25368" class="Symbol">))</a> <a id="25371" href="Ledger.Utxo.Properties.html#25223" class="Bound">invalid</a> <a id="25379" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25385" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25394" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25399" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25401" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="25406" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25408" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="25412" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25414" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="25424" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25426" class="Number">0</a> <a id="25428" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25431" href="Data.Nat.Properties.html#15269" class="Function">+-identityʳ</a> <a id="25443" class="Symbol">_</a> <a id="25445" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25451" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25460" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25465" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25467" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="25472" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25474" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="25478" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25480" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a> <a id="25490" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25493" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25498" class="Symbol">(λ</a> <a id="25501" href="Ledger.Utxo.Properties.html#25501" class="Bound">x</a> <a id="25503" class="Symbol">→</a> <a id="25505" href="Ledger.Utxo.Properties.html#25501" class="Bound">x</a> <a id="25507" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25509" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="25513" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25515" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a><a id="25524" class="Symbol">)</a> <a id="25526" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="25528" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="25540" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25549" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25554" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25558" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="25563" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25566" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25571" class="Symbol">(</a><a id="25572" href="Class.HasAdd.Core.html#136" class="Field Operator">_+</a> <a id="25575" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="25579" class="Symbol">)</a> <a id="25581" class="Symbol">(</a><a id="25582" href="Ledger.Utxo.Properties.html#17431" class="Function">split-balance</a> <a id="25596" href="Ledger.Transaction.html#3180" class="Function">collateral</a><a id="25606" class="Symbol">)</a> <a id="25608" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="25616" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25625" class="Symbol">(</a><a id="25626" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25631" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25633" href="Ledger.Transaction.html#3180" class="Function">collateral</a> <a id="25644" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25645" class="Symbol">)</a> <a id="25647" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25651" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25660" class="Symbol">(</a><a id="25661" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25666" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25668" href="Ledger.Transaction.html#3180" class="Function">collateral</a><a id="25678" class="Symbol">)</a> <a id="25680" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25684" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="25689" href="Tactic.EquationalReasoning.html#539" class="Function Operator">≡t⟨⟩</a>
      <a id="25700" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25709" class="Symbol">(</a><a id="25710" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25715" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25717" href="Ledger.Transaction.html#3180" class="Function">collateral</a> <a id="25728" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25729" class="Symbol">)</a> <a id="25731" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25735" class="Symbol">(</a><a id="25736" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25745" class="Symbol">(</a><a id="25746" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25751" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25753" href="Ledger.Transaction.html#3180" class="Function">collateral</a><a id="25763" class="Symbol">)</a> <a id="25765" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25769" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="25773" class="Symbol">)</a> <a id="25775" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="25778" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="25783" class="Symbol">(</a><a id="25784" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25793" class="Symbol">(</a><a id="25794" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25799" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25801" href="Ledger.Transaction.html#3180" class="Function">collateral</a> <a id="25812" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25813" class="Symbol">)</a> <a id="25815" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="25817" class="Symbol">)</a> <a id="25819" class="Symbol">(</a><a id="25820" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="25827" class="Symbol">_</a> <a id="25829" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a><a id="25833" class="Symbol">)</a> <a id="25835" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="25843" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25852" class="Symbol">(</a><a id="25853" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25858" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25860" href="Ledger.Transaction.html#3180" class="Function">collateral</a> <a id="25871" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25872" class="Symbol">)</a> <a id="25874" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25878" class="Symbol">(</a><a id="25879" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="25884" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="25888" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25897" class="Symbol">(</a><a id="25898" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25903" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25905" href="Ledger.Transaction.html#3180" class="Function">collateral</a><a id="25915" class="Symbol">))</a> <a id="25918" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="25920" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="25926" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25935" class="Symbol">(</a><a id="25936" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25941" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="25943" href="Ledger.Transaction.html#3180" class="Function">collateral</a> <a id="25954" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="25955" class="Symbol">)</a> <a id="25957" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25959" class="Symbol">(</a><a id="25960" href="Ledger.Utxo.Properties.html#13425" class="Bound">fees</a> <a id="25965" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25967" href="Ledger.Utxo.html#3117" class="Function">cbalance</a> <a id="25976" class="Symbol">(</a><a id="25977" href="Ledger.Utxo.Properties.html#13403" class="Bound">utxo</a> <a id="25982" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="25984" href="Ledger.Transaction.html#3180" class="Function">collateral</a><a id="25994" class="Symbol">))</a> <a id="25997" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="25999" href="Ledger.Utxo.Properties.html#14168" class="Function">dep</a> <a id="26003" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="26005" href="Ledger.Utxo.Properties.html#13494" class="Bound">donations</a>
    <a id="26019" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>


<a id="UTXO-step"></a><a id="26023" href="Ledger.Utxo.Properties.html#26023" class="Function">UTXO-step</a> <a id="26033" class="Symbol">:</a> <a id="26035" href="Ledger.Utxo.html#2411" class="Record">UTxOEnv</a> <a id="26043" class="Symbol">→</a> <a id="26045" href="Ledger.Utxo.html#2516" class="Record">UTxOState</a> <a id="26055" class="Symbol">→</a> <a id="26057" href="Ledger.Transaction.html#3538" class="Record">Tx</a> <a id="26060" class="Symbol">→</a> <a id="26062" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="26080" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="26087" href="Ledger.Utxo.html#2516" class="Record">UTxOState</a>
<a id="26097" href="Ledger.Utxo.Properties.html#26023" class="Function">UTXO-step</a> <a id="26107" class="Symbol">=</a> <a id="26109" href="Interface.ComputationalRelation.html#2976" class="Function">compute</a> <a id="26117" class="Symbol">⦃</a> <a id="26119" href="Ledger.Utxo.Properties.html#7182" class="Function">Computational-UTXO</a> <a id="26138" class="Symbol">⦄</a>

<a id="UTXO-step-computes-UTXO"></a><a id="26141" href="Ledger.Utxo.Properties.html#26141" class="Function">UTXO-step-computes-UTXO</a>  <a id="26166" class="Symbol">:</a>  <a id="26169" href="Ledger.Utxo.Properties.html#26023" class="Function">UTXO-step</a> <a id="26179" href="Ledger.Utxo.Properties.html#7383" class="Generalizable">Γ</a> <a id="26181" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a> <a id="26191" href="Ledger.Utxo.Properties.html#7301" class="Generalizable">tx</a> <a id="26194" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26196" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="26204" href="Ledger.Utxo.Properties.html#7438" class="Generalizable">utxoState&#39;</a>
                         <a id="26240" href="Function.Bundles.html#12400" class="Function Operator">⇔</a>  <a id="26243" href="Ledger.Utxo.Properties.html#7383" class="Generalizable">Γ</a> <a id="26245" href="Ledger.Utxo.html#2824" class="Datatype Operator">⊢</a> <a id="26247" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a> <a id="26257" href="Ledger.Utxo.html#2824" class="Datatype Operator">⇀⦇</a> <a id="26260" href="Ledger.Utxo.Properties.html#7301" class="Generalizable">tx</a> <a id="26263" href="Ledger.Utxo.html#2824" class="Datatype Operator">,UTXO⦈</a> <a id="26270" href="Ledger.Utxo.Properties.html#7438" class="Generalizable">utxoState&#39;</a>
<a id="26281" href="Ledger.Utxo.Properties.html#26141" class="Function">UTXO-step-computes-UTXO</a> <a id="26305" class="Symbol">=</a> <a id="26307" href="Interface.ComputationalRelation.html#3323" class="Function">≡-success⇔STS</a> <a id="26321" class="Symbol">⦃</a> <a id="26323" href="Ledger.Utxo.Properties.html#7182" class="Function">Computational-UTXO</a> <a id="26342" class="Symbol">⦄</a>


<a id="pov"></a><a id="26346" href="Ledger.Utxo.Properties.html#26346" class="Function">pov</a> <a id="26350" class="Symbol">:</a> <a id="26352" class="Keyword">let</a> <a id="26356" class="Keyword">open</a> <a id="26361" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="26364" href="Ledger.Utxo.Properties.html#7301" class="Generalizable">tx</a><a id="26366" class="Symbol">;</a> <a id="26368" class="Keyword">open</a> <a id="26373" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="26380" href="Ledger.Transaction.html#3570" class="Function">body</a> <a id="26385" class="Keyword">in</a>


  <a id="26392" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="26397" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="26399" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="26404" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="26410" class="Symbol">(</a><a id="26411" href="Class.IsSet.html#916" class="Function">dom</a> <a id="26415" href="Ledger.Utxo.Properties.html#7341" class="Generalizable">utxo</a><a id="26419" class="Symbol">)</a>


  <a id="26425" class="Symbol">→</a>


  <a id="26431" href="Ledger.Utxo.Properties.html#7383" class="Generalizable">Γ</a> <a id="26433" href="Ledger.Utxo.html#2824" class="Datatype Operator">⊢</a>  <a id="26436" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="26438" href="Ledger.Utxo.Properties.html#7341" class="Generalizable">utxo</a>   <a id="26445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26447" href="Ledger.Utxo.Properties.html#7475" class="Generalizable">fees</a>   <a id="26454" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26456" href="Ledger.Utxo.Properties.html#7517" class="Generalizable">deposits</a>   <a id="26467" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26469" href="Ledger.Utxo.Properties.html#7486" class="Generalizable">donations</a>   <a id="26481" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="26483" href="Ledger.Utxo.html#2824" class="Datatype Operator">⇀⦇</a> <a id="26486" href="Ledger.Utxo.Properties.html#7301" class="Generalizable">tx</a> <a id="26489" href="Ledger.Utxo.html#2824" class="Datatype Operator">,UTXO⦈</a>
       <a id="26503" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="26505" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">utxo&#39;</a>  <a id="26512" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26514" href="Ledger.Utxo.Properties.html#7480" class="Generalizable">fees&#39;</a>  <a id="26521" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26523" href="Ledger.Utxo.Properties.html#7526" class="Generalizable">deposits&#39;</a>  <a id="26534" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26536" href="Ledger.Utxo.Properties.html#7496" class="Generalizable">donations&#39;</a>  <a id="26548" href="Class.To.html#102" class="Field Operator">⟧</a>


  <a id="26554" class="Symbol">→</a>


  <a id="26560" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26568" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="26570" href="Ledger.Utxo.Properties.html#7341" class="Generalizable">utxo</a> <a id="26575" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26577" href="Ledger.Utxo.Properties.html#7475" class="Generalizable">fees</a> <a id="26582" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26584" href="Ledger.Utxo.Properties.html#7517" class="Generalizable">deposits</a> <a id="26593" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26595" href="Ledger.Utxo.Properties.html#7486" class="Generalizable">donations</a> <a id="26605" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="26607" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="26609" href="Ledger.Utxo.Properties.html#13325" class="Function">φ</a><a id="26610" class="Symbol">(</a><a id="26611" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26619" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a> <a id="26627" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26629" href="Ledger.Transaction.html#3623" class="Function">isValid</a><a id="26636" class="Symbol">)</a>
  <a id="26640" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="26642" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="26650" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="26652" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">utxo&#39;</a> <a id="26658" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26660" href="Ledger.Utxo.Properties.html#7480" class="Generalizable">fees&#39;</a> <a id="26666" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26668" href="Ledger.Utxo.Properties.html#7526" class="Generalizable">deposits&#39;</a> <a id="26678" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26680" href="Ledger.Utxo.Properties.html#7496" class="Generalizable">donations&#39;</a> <a id="26691" href="Class.To.html#102" class="Field Operator">⟧</a>


<a id="26695" href="Ledger.Utxo.Properties.html#26346" class="Function">pov</a> <a id="26699" class="Symbol">{</a><a id="26700" class="Argument">deposits&#39;</a> <a id="26710" class="Symbol">=</a> <a id="26712" href="Ledger.Utxo.Properties.html#26712" class="Bound">deposits&#39;</a><a id="26721" class="Symbol">}</a> <a id="26723" href="Ledger.Utxo.Properties.html#26723" class="Bound">h&#39;</a>
    <a id="26730" href="Ledger.Utxo.Properties.html#26730" class="Bound">step</a><a id="26734" class="Symbol">@(</a><a id="26736" href="Ledger.Utxo.html#14895" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="26752" class="Symbol">_</a> <a id="26754" href="Ledger.Utxo.Properties.html#26754" class="Bound">Γ</a> <a id="26756" class="Symbol">_</a> <a id="26758" class="Symbol">_</a> <a id="26760" class="Symbol">_</a> <a id="26762" class="Symbol">_</a> <a id="26764" class="Symbol">_</a> <a id="26766" class="Symbol">_</a> <a id="26768" href="Ledger.Utxo.Properties.html#26768" class="Bound">newBal</a> <a id="26775" href="Ledger.Utxo.Properties.html#26775" class="Bound">noMintAda</a> <a id="26785" class="Symbol">_</a> <a id="26787" class="Symbol">_</a> <a id="26789" class="Symbol">_</a> <a id="26791" class="Symbol">_</a> <a id="26793" class="Symbol">_</a> <a id="26795" class="Symbol">_</a> <a id="26797" class="Symbol">_</a> <a id="26799" class="Symbol">_</a> <a id="26801" class="Symbol">_</a> <a id="26803" class="Symbol">(</a><a id="26804" href="Ledger.Utxo.html#12460" class="InductiveConstructor">Scripts-Yes</a> <a id="26816" class="Symbol">(_</a> <a id="26819" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26821" class="Symbol">_</a> <a id="26823" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26825" href="Ledger.Utxo.Properties.html#26825" class="Bound">valid</a><a id="26830" class="Symbol">)))</a> <a id="26834" class="Symbol">=</a>
    <a id="26840" href="Ledger.Utxo.Properties.html#24528" class="Function">DepositHelpers.pov-scripts</a> <a id="26867" href="Ledger.Utxo.Properties.html#26730" class="Bound">step</a> <a id="26872" href="Ledger.Utxo.Properties.html#26723" class="Bound">h&#39;</a> <a id="26875" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="26880" href="Ledger.Utxo.Properties.html#26825" class="Bound">valid</a>

<a id="26887" href="Ledger.Utxo.Properties.html#26346" class="Function">pov</a> <a id="26891" href="Ledger.Utxo.Properties.html#26891" class="Bound">h&#39;</a> <a id="26894" href="Ledger.Utxo.Properties.html#26894" class="Bound">step</a><a id="26898" class="Symbol">@(</a><a id="26900" href="Ledger.Utxo.html#14895" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="26916" class="Symbol">_</a> <a id="26918" class="Symbol">_</a> <a id="26920" class="Symbol">_</a> <a id="26922" class="Symbol">_</a> <a id="26924" class="Symbol">_</a> <a id="26926" class="Symbol">_</a> <a id="26928" class="Symbol">_</a> <a id="26930" class="Symbol">_</a> <a id="26932" class="Symbol">_</a> <a id="26934" class="Symbol">_</a> <a id="26936" class="Symbol">_</a> <a id="26938" class="Symbol">_</a> <a id="26940" class="Symbol">_</a> <a id="26942" class="Symbol">_</a> <a id="26944" class="Symbol">_</a> <a id="26946" class="Symbol">_</a> <a id="26948" class="Symbol">_</a> <a id="26950" class="Symbol">_</a> <a id="26952" class="Symbol">_</a> <a id="26954" class="Symbol">(</a><a id="26955" href="Ledger.Utxo.html#12974" class="InductiveConstructor">Scripts-No</a> <a id="26966" class="Symbol">(_</a> <a id="26969" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="26971" href="Ledger.Utxo.Properties.html#26971" class="Bound">invalid</a><a id="26978" class="Symbol">)))</a> <a id="26982" class="Symbol">=</a>
  <a id="26986" href="Ledger.Utxo.Properties.html#24976" class="Function">DepositHelpers.pov-no-scripts</a> <a id="27016" href="Ledger.Utxo.Properties.html#26894" class="Bound">step</a> <a id="27021" href="Ledger.Utxo.Properties.html#26891" class="Bound">h&#39;</a> <a id="27024" href="Ledger.Utxo.Properties.html#26971" class="Bound">invalid</a>


<a id="isRefundCert"></a><a id="27034" href="Ledger.Utxo.Properties.html#27034" class="Function">isRefundCert</a> <a id="27047" class="Symbol">:</a> <a id="27049" href="Ledger.Certs.html#754" class="Datatype">DCert</a> <a id="27055" class="Symbol">→</a> <a id="27057" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="27062" href="Ledger.Utxo.Properties.html#27034" class="Function">isRefundCert</a> <a id="27075" class="Symbol">(</a><a id="27076" href="Ledger.Certs.html#848" class="InductiveConstructor">dereg</a> <a id="27082" href="Ledger.Utxo.Properties.html#27082" class="Bound">c</a> <a id="27084" class="Symbol">_)</a> <a id="27087" class="Symbol">=</a> <a id="27089" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="27094" href="Ledger.Utxo.Properties.html#27034" class="Function">isRefundCert</a> <a id="27107" class="Symbol">(</a><a id="27108" href="Ledger.Certs.html#1032" class="InductiveConstructor">deregdrep</a> <a id="27118" href="Ledger.Utxo.Properties.html#27118" class="Bound">c</a> <a id="27120" class="Symbol">_)</a> <a id="27123" class="Symbol">=</a> <a id="27125" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="27130" href="Ledger.Utxo.Properties.html#27034" class="CatchallClause Function">isRefundCert</a><a id="27142" class="CatchallClause"> </a><a id="27143" class="CatchallClause Symbol">_</a> <a id="27145" class="Symbol">=</a> <a id="27147" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="noRefundCert"></a><a id="27154" href="Ledger.Utxo.Properties.html#27154" class="Function">noRefundCert</a> <a id="27167" class="Symbol">:</a> <a id="27169" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="27174" href="Ledger.Certs.html#754" class="Datatype">DCert</a> <a id="27180" class="Symbol">→</a> <a id="27182" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="27187" class="Symbol">_</a>
<a id="27189" href="Ledger.Utxo.Properties.html#27154" class="Function">noRefundCert</a> <a id="27202" href="Ledger.Utxo.Properties.html#27202" class="Bound">l</a> <a id="27204" class="Symbol">=</a> <a id="27206" href="Data.List.Relation.Unary.All.html#1639" class="Datatype">All</a> <a id="27210" class="Symbol">(λ</a> <a id="27213" href="Ledger.Utxo.Properties.html#27213" class="Bound">cert</a> <a id="27218" class="Symbol">→</a> <a id="27220" href="Ledger.Utxo.Properties.html#27034" class="Function">isRefundCert</a> <a id="27233" href="Ledger.Utxo.Properties.html#27213" class="Bound">cert</a> <a id="27238" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27240" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="27245" class="Symbol">)</a> <a id="27247" href="Ledger.Utxo.Properties.html#27202" class="Bound">l</a>

<a id="27250" class="Keyword">opaque</a>
  <a id="27259" class="Keyword">unfolding</a> <a id="27269" href="abstract-set-theory.FiniteSetTheory.html#240" class="Function">List-Model</a>
  <a id="27282" class="Keyword">unfolding</a> <a id="27292" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a>
  <a id="fin∘list[]"></a><a id="27305" href="Ledger.Utxo.Properties.html#27305" class="Function">fin∘list[]</a> <a id="27316" class="Symbol">:</a> <a id="27318" class="Symbol">{</a><a id="27319" href="Ledger.Utxo.Properties.html#27319" class="Bound">A</a> <a id="27321" class="Symbol">:</a> <a id="27323" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="27327" class="Symbol">}</a> <a id="27329" class="Symbol">→</a> <a id="27331" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27337" class="Symbol">(</a><a id="27338" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a><a id="27348" class="Symbol">{</a><a id="27349" class="Argument">A</a> <a id="27351" class="Symbol">=</a> <a id="27353" href="Ledger.Utxo.Properties.html#27319" class="Bound">A</a><a id="27354" class="Symbol">}</a> <a id="27356" href="Class.HasEmptySet.html#287" class="Field">∅</a><a id="27357" class="Symbol">)</a> <a id="27359" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27361" class="InductiveConstructor">[]</a>
  <a id="27366" href="Ledger.Utxo.Properties.html#27305" class="Function">fin∘list[]</a> <a id="27377" class="Symbol">=</a> <a id="27379" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="fin∘list∷[]"></a><a id="27386" href="Ledger.Utxo.Properties.html#27386" class="Function">fin∘list∷[]</a> <a id="27398" class="Symbol">:</a> <a id="27400" class="Symbol">{</a><a id="27401" href="Ledger.Utxo.Properties.html#27401" class="Bound">A</a> <a id="27403" class="Symbol">:</a> <a id="27405" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="27409" class="Symbol">}</a> <a id="27411" class="Symbol">{</a><a id="27412" href="Ledger.Utxo.Properties.html#27412" class="Bound">a</a> <a id="27414" class="Symbol">:</a> <a id="27416" href="Ledger.Utxo.Properties.html#27401" class="Bound">A</a><a id="27417" class="Symbol">}</a> <a id="27419" class="Symbol">→</a> <a id="27421" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27427" class="Symbol">(</a><a id="27428" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27439" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="27441" href="Ledger.Utxo.Properties.html#27412" class="Bound">a</a> <a id="27443" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="27444" class="Symbol">)</a> <a id="27446" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27448" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="27450" href="Ledger.Utxo.Properties.html#27412" class="Bound">a</a> <a id="27452" href="Data.List.Base.html#5205" class="Function Operator">]</a>
  <a id="27456" href="Ledger.Utxo.Properties.html#27386" class="Function">fin∘list∷[]</a> <a id="27468" class="Symbol">=</a> <a id="27470" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="coin∅"></a><a id="27476" href="Ledger.Utxo.Properties.html#27476" class="Function">coin∅</a> <a id="27482" class="Symbol">:</a> <a id="27484" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="27491" class="Symbol">{</a><a id="27492" class="Argument">A</a> <a id="27494" class="Symbol">=</a> <a id="27496" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="27511" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="27513" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27517" class="Symbol">}</a> <a id="27519" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="27521" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="27523" class="Number">0</a>
<a id="27525" href="Ledger.Utxo.Properties.html#27476" class="Function">coin∅</a> <a id="27531" class="Symbol">=</a> <a id="27533" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
  <a id="27541" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27547" class="Symbol">(λ</a> <a id="27550" href="Ledger.Utxo.Properties.html#27550" class="Bound">x</a> <a id="27552" class="Symbol">→</a> <a id="27554" class="Symbol">(</a><a id="27555" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27561" href="Ledger.Utxo.Properties.html#27550" class="Bound">x</a><a id="27562" class="Symbol">)</a> <a id="27564" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="27566" class="Symbol">)</a> <a id="27568" class="Number">0</a> <a id="27570" class="Symbol">(</a><a id="27571" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27583" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27587" class="Symbol">(</a><a id="27588" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="27594" class="Symbol">(</a><a id="27595" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="27606" href="Class.HasEmptySet.html#287" class="Field">∅</a><a id="27607" class="Symbol">)))</a>
    <a id="27615" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27618" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27623" class="Symbol">(λ</a> <a id="27626" href="Ledger.Utxo.Properties.html#27626" class="Bound">u</a> <a id="27628" class="Symbol">→</a> <a id="27630" class="Symbol">(</a><a id="27631" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27637" class="Symbol">(λ</a> <a id="27640" href="Ledger.Utxo.Properties.html#27640" class="Bound">x</a> <a id="27642" class="Symbol">→</a> <a id="27644" class="Symbol">(</a><a id="27645" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27651" href="Ledger.Utxo.Properties.html#27640" class="Bound">x</a><a id="27652" class="Symbol">)</a> <a id="27654" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="27656" class="Symbol">)</a> <a id="27658" class="Number">0</a> <a id="27660" class="Symbol">(</a><a id="27661" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27673" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27677" href="Ledger.Utxo.Properties.html#27626" class="Bound">u</a><a id="27678" class="Symbol">)))</a> <a id="27682" href="Ledger.Utxo.Properties.html#27305" class="Function">fin∘list[]</a> <a id="27693" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27697" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27703" class="Symbol">(λ</a> <a id="27706" class="Symbol">(</a><a id="27707" href="Ledger.Utxo.Properties.html#27707" class="Bound">x</a> <a id="27709" class="Symbol">:</a> <a id="27711" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="27726" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27728" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27732" class="Symbol">)</a> <a id="27734" class="Symbol">→</a> <a id="27736" class="Symbol">(</a><a id="27737" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27743" href="Ledger.Utxo.Properties.html#27707" class="Bound">x</a><a id="27744" class="Symbol">)</a> <a id="27746" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="27748" class="Symbol">)</a> <a id="27750" class="Number">0</a> <a id="27752" class="Symbol">(</a><a id="27753" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27765" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27769" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27771" class="Symbol">)</a>
    <a id="27777" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27780" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="27785" class="Symbol">(λ</a> <a id="27788" href="Ledger.Utxo.Properties.html#27788" class="Bound">u</a> <a id="27790" class="Symbol">→</a> <a id="27792" class="Symbol">(</a><a id="27793" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27799" class="Symbol">(λ</a> <a id="27802" class="Symbol">(</a><a id="27803" href="Ledger.Utxo.Properties.html#27803" class="Bound">x</a> <a id="27805" class="Symbol">:</a> <a id="27807" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="27822" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27824" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27828" class="Symbol">)</a> <a id="27830" class="Symbol">→</a> <a id="27832" class="Symbol">(</a><a id="27833" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27839" href="Ledger.Utxo.Properties.html#27803" class="Bound">x</a><a id="27840" class="Symbol">)</a> <a id="27842" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="27844" class="Symbol">)</a> <a id="27846" class="Number">0</a>  <a id="27849" href="Ledger.Utxo.Properties.html#27788" class="Bound">u</a><a id="27850" class="Symbol">))</a>
            <a id="27865" class="Symbol">{</a><a id="27866" class="Argument">x</a> <a id="27868" class="Symbol">=</a> <a id="27870" href="Data.List.Base.html#13320" class="Function">deduplicate</a> <a id="27882" href="Class.DecEq.Core.html#159" class="Field Operator">_≟_</a> <a id="27886" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27888" class="Symbol">}</a> <a id="27890" class="Symbol">{</a><a id="27891" class="Argument">y</a> <a id="27893" class="Symbol">=</a> <a id="27895" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="27897" class="Symbol">}</a> <a id="27899" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="27904" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27908" href="Data.List.Base.html#4148" class="Function">foldr</a> <a id="27914" class="Symbol">(λ</a> <a id="27917" class="Symbol">(</a><a id="27918" href="Ledger.Utxo.Properties.html#27918" class="Bound">x</a> <a id="27920" class="Symbol">:</a> <a id="27922" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="27937" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="27939" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="27943" class="Symbol">)</a> <a id="27945" class="Symbol">→</a> <a id="27947" class="Symbol">(</a><a id="27948" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="27954" href="Ledger.Utxo.Properties.html#27918" class="Bound">x</a><a id="27955" class="Symbol">)</a> <a id="27957" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="27959" class="Symbol">)</a> <a id="27961" class="Number">0</a> <a id="27963" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="27970" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="27973" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="27978" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
  <a id="27982" class="Number">0</a> <a id="27984" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="27988" class="Keyword">where</a> <a id="27994" class="Keyword">open</a> <a id="27999" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

<a id="getCoin-singleton"></a><a id="28020" href="Ledger.Utxo.Properties.html#28020" class="Function">getCoin-singleton</a> <a id="28038" class="Symbol">:</a> <a id="28040" class="Symbol">(</a><a id="28041" href="Ledger.Utxo.Properties.html#28041" class="Bound">(</a><a id="28042" href="Ledger.Utxo.Properties.html#28042" class="Bound">dp</a> <a id="28045" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28047" href="Ledger.Utxo.Properties.html#28047" class="Bound">c</a><a id="28048" href="Ledger.Utxo.Properties.html#28041" class="Bound">)</a> <a id="28050" class="Symbol">:</a> <a id="28052" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="28067" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="28069" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28073" class="Symbol">)</a> <a id="28075" class="Symbol">→</a> <a id="28077" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">indexedSumᵛ&#39;</a> <a id="28090" href="Function.Base.html#704" class="Function">id</a> <a id="28093" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28095" class="Symbol">(</a><a id="28096" href="Ledger.Utxo.Properties.html#28042" class="Bound">dp</a> <a id="28099" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28101" href="Ledger.Utxo.Properties.html#28047" class="Bound">c</a><a id="28102" class="Symbol">)</a> <a id="28104" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="28106" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28108" href="Ledger.Utxo.Properties.html#28047" class="Bound">c</a>
<a id="28110" href="Ledger.Utxo.Properties.html#28020" class="Function">getCoin-singleton</a> <a id="28128" class="Symbol">_</a> <a id="28130" class="Symbol">=</a> <a id="28132" href="Axiom.Set.Sum.html#4082" class="Function">indexedSum-singleton&#39;</a> <a id="28154" class="Symbol">{</a><a id="28155" class="Argument">A</a> <a id="28157" class="Symbol">=</a> <a id="28159" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="28174" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="28176" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28180" class="Symbol">}</a> <a id="28182" class="Symbol">{</a><a id="28183" class="Argument">f</a> <a id="28185" class="Symbol">=</a> <a id="28187" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="28192" class="Symbol">}</a> <a id="28194" class="Symbol">(</a><a id="28195" href="abstract-set-theory.FiniteSetTheory.html#1966" class="Function">finiteness</a> <a id="28206" class="Symbol">_)</a>

<a id="28210" class="Keyword">module</a> <a id="28217" href="Ledger.Utxo.Properties.html#28217" class="Module">_</a> <a id="28219" class="Comment">-- ASSUMPTION --</a>
         <a id="28245" class="Symbol">(</a><a id="28246" href="Ledger.Utxo.Properties.html#28246" class="Bound">gc-hom</a> <a id="28253" class="Symbol">:</a> <a id="28255" class="Symbol">(</a><a id="28256" href="Ledger.Utxo.Properties.html#28256" class="Bound">d₁</a> <a id="28259" href="Ledger.Utxo.Properties.html#28259" class="Bound">d₂</a> <a id="28262" class="Symbol">:</a> <a id="28264" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="28279" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="28281" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28285" class="Symbol">)</a> <a id="28287" class="Symbol">→</a> <a id="28289" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28297" class="Symbol">(</a><a id="28298" href="Ledger.Utxo.Properties.html#28256" class="Bound">d₁</a> <a id="28301" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28304" href="Ledger.Utxo.Properties.html#28259" class="Bound">d₂</a><a id="28306" class="Symbol">)</a> <a id="28308" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28310" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28318" href="Ledger.Utxo.Properties.html#28256" class="Bound">d₁</a> <a id="28321" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="28323" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28331" href="Ledger.Utxo.Properties.html#28259" class="Bound">d₂</a><a id="28333" class="Symbol">)</a>
  <a id="28337" class="Keyword">where</a>
  <a id="28345" href="Ledger.Utxo.Properties.html#28345" class="Function">∪⁺singleton≡</a> <a id="28358" class="Symbol">:</a> <a id="28360" class="Symbol">{</a><a id="28361" href="Ledger.Utxo.Properties.html#28361" class="Bound">deps</a> <a id="28366" class="Symbol">:</a> <a id="28368" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="28383" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="28385" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28389" class="Symbol">}</a> <a id="28391" class="Symbol">{</a><a id="28392" href="Ledger.Utxo.Properties.html#28392" class="Symbol">(</a><a id="28393" href="Ledger.Utxo.Properties.html#28393" class="Bound">dp</a> <a id="28396" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28398" href="Ledger.Utxo.Properties.html#28398" class="Bound">c</a><a id="28399" href="Ledger.Utxo.Properties.html#28392" class="Symbol">)</a> <a id="28401" class="Symbol">:</a> <a id="28403" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="28418" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="28420" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28424" class="Symbol">}</a>
                 <a id="28443" class="Symbol">→</a> <a id="28445" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28453" class="Symbol">(</a><a id="28454" href="Ledger.Utxo.Properties.html#28361" class="Bound">deps</a> <a id="28459" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28462" href="Axiom.Set.Map.html#4588" class="Function Operator">❴</a> <a id="28464" class="Symbol">(</a><a id="28465" href="Ledger.Utxo.Properties.html#28393" class="Bound">dp</a> <a id="28468" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28470" href="Ledger.Utxo.Properties.html#28398" class="Bound">c</a><a id="28471" class="Symbol">)</a> <a id="28473" href="Axiom.Set.Map.html#4588" class="Function Operator">❵ᵐ</a><a id="28475" class="Symbol">)</a> <a id="28477" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="28479" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28487" href="Ledger.Utxo.Properties.html#28361" class="Bound">deps</a> <a id="28492" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="28494" href="Ledger.Utxo.Properties.html#28398" class="Bound">c</a>
  <a id="28498" href="Ledger.Utxo.Properties.html#28345" class="Function">∪⁺singleton≡</a> <a id="28511" class="Symbol">{</a><a id="28512" href="Ledger.Utxo.Properties.html#28512" class="Bound">deps</a><a id="28516" class="Symbol">}</a> <a id="28518" class="Symbol">{(</a><a id="28520" href="Ledger.Utxo.Properties.html#28520" class="Bound">dp</a> <a id="28523" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28525" href="Ledger.Utxo.Properties.html#28525" class="Bound">c</a><a id="28526" class="Symbol">)}</a> <a id="28529" class="Symbol">=</a> <a id="28531" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="28541" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28549" class="Symbol">(</a><a id="28550" href="Ledger.Utxo.Properties.html#28512" class="Bound">deps</a> <a id="28555" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="28558" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28560" class="Symbol">(</a><a id="28561" href="Ledger.Utxo.Properties.html#28520" class="Bound">dp</a> <a id="28564" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28566" href="Ledger.Utxo.Properties.html#28525" class="Bound">c</a><a id="28567" class="Symbol">)</a> <a id="28569" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="28570" class="Symbol">)</a>
      <a id="28578" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="28581" href="Ledger.Utxo.Properties.html#28246" class="Bound">gc-hom</a> <a id="28588" href="Ledger.Utxo.Properties.html#28512" class="Bound">deps</a> <a id="28593" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28595" class="Symbol">(</a><a id="28596" href="Ledger.Utxo.Properties.html#28520" class="Bound">dp</a> <a id="28599" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28601" href="Ledger.Utxo.Properties.html#28525" class="Bound">c</a><a id="28602" class="Symbol">)</a> <a id="28604" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="28606" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="28612" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28620" href="Ledger.Utxo.Properties.html#28512" class="Bound">deps</a> <a id="28625" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="28627" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a><a id="28634" class="Symbol">{</a><a id="28635" class="Argument">A</a> <a id="28637" class="Symbol">=</a> <a id="28639" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="28654" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="28656" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28660" class="Symbol">}</a> <a id="28662" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="28664" class="Symbol">(</a><a id="28665" href="Ledger.Utxo.Properties.html#28520" class="Bound">dp</a> <a id="28668" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28670" href="Ledger.Utxo.Properties.html#28525" class="Bound">c</a><a id="28671" class="Symbol">)</a> <a id="28673" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="28681" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="28684" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="28689" class="Symbol">(</a><a id="28690" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28698" href="Ledger.Utxo.Properties.html#28512" class="Bound">deps</a> <a id="28703" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="28705" class="Symbol">)</a> <a id="28707" class="Symbol">(</a><a id="28708" href="Ledger.Utxo.Properties.html#28020" class="Function">getCoin-singleton</a> <a id="28726" class="Symbol">(</a><a id="28727" href="Ledger.Utxo.Properties.html#28520" class="Bound">dp</a> <a id="28730" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="28732" href="Ledger.Utxo.Properties.html#28525" class="Bound">c</a><a id="28733" class="Symbol">))</a> <a id="28736" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="28742" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28750" href="Ledger.Utxo.Properties.html#28512" class="Bound">deps</a> <a id="28755" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="28757" href="Ledger.Utxo.Properties.html#28525" class="Bound">c</a>
      <a id="28765" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="28771" class="Keyword">where</a> <a id="28777" class="Keyword">open</a> <a id="28782" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

  <a id="28805" class="Keyword">module</a> <a id="28812" href="Ledger.Utxo.Properties.html#28812" class="Module">_</a> <a id="28814" class="Symbol">{</a><a id="28815" href="Ledger.Utxo.Properties.html#28815" class="Bound">deposits</a> <a id="28824" class="Symbol">:</a> <a id="28826" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="28841" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="28843" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28847" class="Symbol">}</a> <a id="28849" class="Symbol">{</a><a id="28850" href="Ledger.Utxo.Properties.html#28850" class="Bound">txid</a> <a id="28855" class="Symbol">:</a> <a id="28857" href="Ledger.Transaction.html#919" class="Field">TxId</a><a id="28861" class="Symbol">}</a> <a id="28863" class="Symbol">{</a><a id="28864" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a> <a id="28870" class="Symbol">:</a> <a id="28872" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="28876" class="Symbol">}</a> <a id="28878" class="Keyword">where</a>

    <a id="28889" href="Ledger.Utxo.Properties.html#28889" class="Function">≤updatePropDeps</a> <a id="28905" class="Symbol">:</a> <a id="28907" class="Symbol">(</a><a id="28908" href="Ledger.Utxo.Properties.html#28908" class="Bound">props</a> <a id="28914" class="Symbol">:</a> <a id="28916" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="28921" href="Ledger.GovernanceActions.html#1883" class="Record">GovProposal</a><a id="28932" class="Symbol">)</a>
      <a id="28940" class="Symbol">→</a> <a id="28942" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28950" href="Ledger.Utxo.Properties.html#28815" class="Bound">deposits</a> <a id="28959" href="Class.HasOrder.Core.html#551" class="Field Operator">≤</a> <a id="28961" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="28969" class="Symbol">(</a><a id="28970" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="28993" href="Ledger.Utxo.Properties.html#28908" class="Bound">props</a> <a id="28999" href="Ledger.Utxo.Properties.html#28850" class="Bound">txid</a> <a id="29004" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a> <a id="29010" href="Ledger.Utxo.Properties.html#28815" class="Bound">deposits</a><a id="29018" class="Symbol">)</a>
    <a id="29024" href="Ledger.Utxo.Properties.html#28889" class="Function">≤updatePropDeps</a> <a id="29040" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="29043" class="Symbol">=</a> <a id="29045" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="29057" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="29066" href="Ledger.Utxo.Properties.html#28889" class="Function">≤updatePropDeps</a> <a id="29082" class="Symbol">(</a><a id="29083" href="Ledger.Utxo.Properties.html#29083" class="Bound">x</a> <a id="29085" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="29087" href="Ledger.Utxo.Properties.html#29087" class="Bound">props</a><a id="29092" class="Symbol">)</a> <a id="29094" class="Symbol">=</a> <a id="29096" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="29104" class="Symbol">(</a><a id="29105" href="Ledger.Utxo.Properties.html#28889" class="Function">≤updatePropDeps</a> <a id="29121" href="Ledger.Utxo.Properties.html#29087" class="Bound">props</a><a id="29126" class="Symbol">)</a>
                                          <a id="29170" class="Symbol">(</a><a id="29171" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="29179" class="Symbol">(</a><a id="29180" href="Data.Nat.Properties.html#18982" class="Function">m≤m+n</a> <a id="29186" class="Symbol">_</a> <a id="29188" class="Symbol">_)</a>
                                                   <a id="29242" class="Symbol">(</a><a id="29243" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="29255" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="29257" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="29261" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="29263" href="Ledger.Utxo.Properties.html#28345" class="Function">∪⁺singleton≡</a><a id="29275" class="Symbol">))</a>
    <a id="29282" href="Ledger.Utxo.Properties.html#29282" class="Function">updatePropDeps≡</a> <a id="29298" class="Symbol">:</a> <a id="29300" class="Symbol">(</a><a id="29301" href="Ledger.Utxo.Properties.html#29301" class="Bound">ps</a> <a id="29304" class="Symbol">:</a> <a id="29306" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="29311" href="Ledger.GovernanceActions.html#1883" class="Record">GovProposal</a><a id="29322" class="Symbol">)</a>
      <a id="29330" class="Symbol">→</a> <a id="29332" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29340" class="Symbol">(</a><a id="29341" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="29364" href="Ledger.Utxo.Properties.html#29301" class="Bound">ps</a> <a id="29367" href="Ledger.Utxo.Properties.html#28850" class="Bound">txid</a> <a id="29372" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a> <a id="29378" href="Ledger.Utxo.Properties.html#28815" class="Bound">deposits</a><a id="29386" class="Symbol">)</a> <a id="29388" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="29390" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29398" href="Ledger.Utxo.Properties.html#28815" class="Bound">deposits</a> <a id="29407" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="29409" class="Symbol">(</a><a id="29410" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29417" href="Ledger.Utxo.Properties.html#29301" class="Bound">ps</a><a id="29419" class="Symbol">)</a> <a id="29421" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29423" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a>
    <a id="29433" href="Ledger.Utxo.Properties.html#29282" class="Function">updatePropDeps≡</a> <a id="29449" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="29452" class="Symbol">=</a> <a id="29454" href="Data.Nat.Properties.html#46073" class="Function">n∸n≡0</a> <a id="29460" class="Symbol">(</a><a id="29461" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29469" href="Ledger.Utxo.Properties.html#28815" class="Bound">deposits</a><a id="29477" class="Symbol">)</a>
    <a id="29483" href="Ledger.Utxo.Properties.html#29282" class="Function">updatePropDeps≡</a> <a id="29499" class="Symbol">(_</a> <a id="29502" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="29504" href="Ledger.Utxo.Properties.html#29504" class="Bound">ps</a><a id="29506" class="Symbol">)</a> <a id="29508" class="Symbol">=</a> <a id="29510" class="Keyword">let</a>
      <a id="29520" href="Ledger.Utxo.Properties.html#29520" class="Bound">upD</a> <a id="29524" class="Symbol">=</a> <a id="29526" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="29549" href="Ledger.Utxo.Properties.html#29504" class="Bound">ps</a> <a id="29552" href="Ledger.Utxo.Properties.html#28850" class="Bound">txid</a> <a id="29557" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a> <a id="29563" href="Ledger.Utxo.Properties.html#28815" class="Bound">deposits</a> <a id="29572" class="Keyword">in</a>
      <a id="29581" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
        <a id="29595" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29603" class="Symbol">(</a><a id="29604" href="Ledger.Utxo.Properties.html#29520" class="Bound">upD</a> <a id="29608" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="29611" href="Axiom.Set.Map.html#4588" class="Function Operator">❴</a> <a id="29613" href="Ledger.Certs.html#475" class="InductiveConstructor">GovActionDeposit</a> <a id="29630" class="Symbol">(</a><a id="29631" href="Ledger.Utxo.Properties.html#28850" class="Bound">txid</a> <a id="29636" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29638" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29645" href="Ledger.Utxo.Properties.html#29504" class="Bound">ps</a><a id="29647" class="Symbol">)</a> <a id="29649" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="29651" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a> <a id="29657" href="Axiom.Set.Map.html#4588" class="Function Operator">❵ᵐ</a><a id="29659" class="Symbol">)</a> <a id="29661" href="Data.Nat.Base.html#4456" class="Primitive Operator">∸</a> <a id="29663" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29671" href="Ledger.Utxo.Properties.html#28815" class="Bound">deposits</a>
          <a id="29690" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29693" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="29698" class="Symbol">(</a><a id="29699" href="Data.Nat.Base.html#4456" class="Primitive Operator">_∸</a> <a id="29702" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29710" href="Ledger.Utxo.Properties.html#28815" class="Bound">deposits</a><a id="29718" class="Symbol">)</a> <a id="29720" href="Ledger.Utxo.Properties.html#28345" class="Function">∪⁺singleton≡</a> <a id="29733" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29743" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29751" href="Ledger.Utxo.Properties.html#29520" class="Bound">upD</a> <a id="29755" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="29757" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a> <a id="29763" href="Data.Nat.Base.html#4456" class="Primitive Operator">∸</a> <a id="29765" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29773" href="Ledger.Utxo.Properties.html#28815" class="Bound">deposits</a>
          <a id="29792" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29795" href="Data.Nat.Properties.html#49498" class="Function">+-∸-comm</a> <a id="29804" class="Symbol">_</a> <a id="29806" class="Symbol">(</a><a id="29807" href="Ledger.Utxo.Properties.html#28889" class="Function">≤updatePropDeps</a> <a id="29823" href="Ledger.Utxo.Properties.html#29504" class="Bound">ps</a><a id="29825" class="Symbol">)</a> <a id="29827" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29837" class="Symbol">(</a><a id="29838" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29846" href="Ledger.Utxo.Properties.html#29520" class="Bound">upD</a> <a id="29850" href="Data.Nat.Base.html#4456" class="Primitive Operator">∸</a> <a id="29852" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="29860" href="Ledger.Utxo.Properties.html#28815" class="Bound">deposits</a><a id="29868" class="Symbol">)</a> <a id="29870" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="29872" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a>
          <a id="29888" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29891" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="29896" class="Symbol">(</a><a id="29897" href="Class.HasAdd.Core.html#136" class="Field Operator">_+</a> <a id="29900" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a><a id="29905" class="Symbol">)</a> <a id="29907" class="Symbol">(</a><a id="29908" href="Ledger.Utxo.Properties.html#29282" class="Function">updatePropDeps≡</a> <a id="29924" href="Ledger.Utxo.Properties.html#29504" class="Bound">ps</a><a id="29926" class="Symbol">)</a> <a id="29928" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="29938" class="Symbol">(</a><a id="29939" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29946" href="Ledger.Utxo.Properties.html#29504" class="Bound">ps</a><a id="29948" class="Symbol">)</a> <a id="29950" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="29952" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a> <a id="29958" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="29960" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a>
          <a id="29976" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="29979" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="29986" class="Symbol">((</a><a id="29988" href="Data.List.Base.html#5044" class="Function">length</a> <a id="29995" href="Ledger.Utxo.Properties.html#29504" class="Bound">ps</a><a id="29997" class="Symbol">)</a> <a id="29999" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="30001" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a><a id="30006" class="Symbol">)</a> <a id="30008" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a> <a id="30014" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
        <a id="30024" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a> <a id="30030" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="30032" class="Symbol">(</a><a id="30033" href="Data.List.Base.html#5044" class="Function">length</a> <a id="30040" href="Ledger.Utxo.Properties.html#29504" class="Bound">ps</a><a id="30042" class="Symbol">)</a> <a id="30044" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="30046" href="Ledger.Utxo.Properties.html#28864" class="Bound">gaDep</a>
          <a id="30062" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
        <a id="30072" class="Keyword">where</a> <a id="30078" class="Keyword">open</a> <a id="30083" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">Prelude.≡-Reasoning</a>

  <a id="30106" href="Ledger.Utxo.Properties.html#30106" class="Function">≤certDeps</a>  <a id="30117" class="Symbol">:</a>  <a id="30120" class="Symbol">{</a><a id="30121" href="Ledger.Utxo.Properties.html#30121" class="Bound">d</a> <a id="30123" class="Symbol">:</a> <a id="30125" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="30140" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="30142" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="30146" class="Symbol">}</a> <a id="30148" class="Symbol">{</a><a id="30149" href="Ledger.Utxo.Properties.html#30149" class="Symbol">(</a><a id="30150" href="Ledger.Utxo.Properties.html#30150" class="Bound">dp</a> <a id="30153" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30155" href="Ledger.Utxo.Properties.html#30155" class="Bound">c</a><a id="30156" href="Ledger.Utxo.Properties.html#30149" class="Symbol">)</a> <a id="30158" class="Symbol">:</a> <a id="30160" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="30175" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="30177" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="30181" class="Symbol">}</a>
             <a id="30196" class="Symbol">→</a>  <a id="30199" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30207" href="Ledger.Utxo.Properties.html#30121" class="Bound">d</a> <a id="30209" href="Class.HasOrder.Core.html#551" class="Field Operator">≤</a> <a id="30211" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30219" class="Symbol">(</a><a id="30220" href="Ledger.Utxo.Properties.html#30121" class="Bound">d</a> <a id="30222" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30225" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30227" class="Symbol">(</a><a id="30228" href="Ledger.Utxo.Properties.html#30150" class="Bound">dp</a> <a id="30231" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30233" href="Ledger.Utxo.Properties.html#30155" class="Bound">c</a><a id="30234" class="Symbol">)</a> <a id="30236" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30237" class="Symbol">)</a>

  <a id="30242" href="Ledger.Utxo.Properties.html#30106" class="Function">≤certDeps</a> <a id="30252" class="Symbol">{</a><a id="30253" href="Ledger.Utxo.Properties.html#30253" class="Bound">d</a><a id="30254" class="Symbol">}</a> <a id="30256" class="Symbol">=</a> <a id="30258" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="30268" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30276" href="Ledger.Utxo.Properties.html#30253" class="Bound">d</a>                      <a id="30299" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="30302" href="Data.Nat.Properties.html#18982" class="Function">m≤m+n</a> <a id="30308" class="Symbol">(</a><a id="30309" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30317" href="Ledger.Utxo.Properties.html#30253" class="Bound">d</a><a id="30318" class="Symbol">)</a> <a id="30320" class="Symbol">_</a> <a id="30322" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="30328" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30336" href="Ledger.Utxo.Properties.html#30253" class="Bound">d</a> <a id="30338" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="30340" class="Symbol">_</a>                  <a id="30359" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="30362" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="30366" href="Ledger.Utxo.Properties.html#28345" class="Function">∪⁺singleton≡</a> <a id="30379" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="30385" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30393" class="Symbol">(</a><a id="30394" href="Ledger.Utxo.Properties.html#30253" class="Bound">d</a> <a id="30396" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30399" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30401" class="Symbol">_</a> <a id="30403" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30404" class="Symbol">)</a>           <a id="30416" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="30422" class="Keyword">where</a> <a id="30428" class="Keyword">open</a> <a id="30433" href="Data.Nat.Properties.html#14496" class="Module">≤-Reasoning</a>


  <a id="30449" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="30465" class="Symbol">:</a> <a id="30467" class="Symbol">(</a><a id="30468" href="Ledger.Utxo.Properties.html#30468" class="Bound">cs</a> <a id="30471" class="Symbol">:</a> <a id="30473" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="30478" href="Ledger.Certs.html#754" class="Datatype">DCert</a><a id="30483" class="Symbol">)</a> <a id="30485" class="Symbol">{</a><a id="30486" href="Ledger.Utxo.Properties.html#30486" class="Bound">pp</a> <a id="30489" class="Symbol">:</a> <a id="30491" href="Ledger.PParams.html#1443" class="Record">PParams</a><a id="30498" class="Symbol">}</a> <a id="30500" class="Symbol">{</a><a id="30501" href="Ledger.Utxo.Properties.html#30501" class="Bound">deposits</a> <a id="30510" class="Symbol">:</a>  <a id="30513" href="Ledger.Certs.html#286" class="Datatype">DepositPurpose</a> <a id="30528" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="30530" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="30534" class="Symbol">}</a>
    <a id="30540" class="Symbol">→</a> <a id="30542" href="Ledger.Utxo.Properties.html#27154" class="Function">noRefundCert</a> <a id="30555" href="Ledger.Utxo.Properties.html#30468" class="Bound">cs</a>
    <a id="30562" class="Symbol">→</a> <a id="30564" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30572" href="Ledger.Utxo.Properties.html#30501" class="Bound">deposits</a> <a id="30581" href="Class.HasOrder.Core.html#551" class="Field Operator">≤</a> <a id="30583" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="30591" class="Symbol">(</a><a id="30592" href="Ledger.Utxo.html#7493" class="Function">updateCertDeposits</a> <a id="30611" href="Ledger.Utxo.Properties.html#30486" class="Bound">pp</a> <a id="30614" href="Ledger.Utxo.Properties.html#30468" class="Bound">cs</a> <a id="30617" href="Ledger.Utxo.Properties.html#30501" class="Bound">deposits</a><a id="30625" class="Symbol">)</a>
  <a id="30629" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="30645" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="30648" href="Ledger.Utxo.Properties.html#30648" class="Bound">nrf</a> <a id="30652" class="Symbol">=</a> <a id="30654" href="Data.Nat.Properties.html#5699" class="Function">≤-reflexive</a> <a id="30666" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="30673" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="30689" class="Symbol">(</a><a id="30690" href="Ledger.Certs.html#1461" class="InductiveConstructor">reg</a> <a id="30694" href="Ledger.Utxo.Properties.html#30694" class="Bound">c</a> <a id="30696" href="Ledger.Utxo.Properties.html#30696" class="Bound">v</a> <a id="30698" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30700" href="Ledger.Utxo.Properties.html#30700" class="Bound">cs</a><a id="30702" class="Symbol">)</a> <a id="30704" class="Symbol">{</a><a id="30705" href="Ledger.Utxo.Properties.html#30705" class="Bound">pp</a><a id="30707" class="Symbol">}</a> <a id="30709" class="Symbol">{</a><a id="30710" href="Ledger.Utxo.Properties.html#30710" class="Bound">deposits</a><a id="30718" class="Symbol">}</a> <a id="30720" class="Symbol">(_</a> <a id="30723" href="Data.List.Relation.Unary.All.html#1719" class="InductiveConstructor Operator">All.∷</a> <a id="30729" href="Ledger.Utxo.Properties.html#30729" class="Bound">nrf</a><a id="30732" class="Symbol">)</a> <a id="30734" class="Symbol">=</a>
    <a id="30740" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30748" href="Ledger.Utxo.Properties.html#30106" class="Function">≤certDeps</a> <a id="30758" class="Symbol">(</a><a id="30759" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="30775" href="Ledger.Utxo.Properties.html#30700" class="Bound">cs</a> <a id="30778" class="Symbol">{</a><a id="30779" href="Ledger.Utxo.Properties.html#30705" class="Bound">pp</a><a id="30781" class="Symbol">}</a> <a id="30783" class="Symbol">{</a><a id="30784" href="Ledger.Utxo.Properties.html#30710" class="Bound">deposits</a> <a id="30793" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30796" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30798" href="Ledger.Certs.html#316" class="InductiveConstructor">CredentialDeposit</a> <a id="30816" href="Ledger.Utxo.Properties.html#30694" class="Bound">c</a> <a id="30818" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="30820" href="Ledger.Utxo.Properties.html#30705" class="Bound">pp</a> <a id="30823" class="Symbol">.</a><a id="30824" href="Ledger.PParams.html#1949" class="Field">PParams.keyDeposit</a> <a id="30843" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="30844" class="Symbol">}</a> <a id="30846" href="Ledger.Utxo.Properties.html#30729" class="Bound">nrf</a><a id="30849" class="Symbol">)</a>
  <a id="30853" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="30869" class="Symbol">(</a><a id="30870" href="Ledger.Certs.html#775" class="InductiveConstructor">delegate</a> <a id="30879" href="Ledger.Utxo.Properties.html#30879" class="Bound">c</a> <a id="30881" class="Symbol">_</a> <a id="30883" class="Symbol">_</a> <a id="30885" href="Ledger.Utxo.Properties.html#30885" class="Bound">v</a> <a id="30887" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="30889" href="Ledger.Utxo.Properties.html#30889" class="Bound">cs</a><a id="30891" class="Symbol">)</a> <a id="30893" class="Symbol">{</a><a id="30894" href="Ledger.Utxo.Properties.html#30894" class="Bound">pp</a><a id="30896" class="Symbol">}</a> <a id="30898" class="Symbol">{</a><a id="30899" href="Ledger.Utxo.Properties.html#30899" class="Bound">deposits</a><a id="30907" class="Symbol">}</a> <a id="30909" class="Symbol">(_</a> <a id="30912" href="Data.List.Relation.Unary.All.html#1719" class="InductiveConstructor Operator">All.∷</a> <a id="30918" href="Ledger.Utxo.Properties.html#30918" class="Bound">nrf</a><a id="30921" class="Symbol">)</a> <a id="30923" class="Symbol">=</a>
    <a id="30929" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="30937" href="Ledger.Utxo.Properties.html#30106" class="Function">≤certDeps</a> <a id="30947" class="Symbol">(</a><a id="30948" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="30964" href="Ledger.Utxo.Properties.html#30889" class="Bound">cs</a> <a id="30967" class="Symbol">{</a><a id="30968" href="Ledger.Utxo.Properties.html#30894" class="Bound">pp</a><a id="30970" class="Symbol">}</a> <a id="30972" class="Symbol">{</a><a id="30973" href="Ledger.Utxo.Properties.html#30899" class="Bound">deposits</a> <a id="30982" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="30985" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="30987" href="Ledger.Certs.html#316" class="InductiveConstructor">CredentialDeposit</a> <a id="31005" href="Ledger.Utxo.Properties.html#30879" class="Bound">c</a> <a id="31007" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31009" href="Ledger.Utxo.Properties.html#30885" class="Bound">v</a> <a id="31011" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="31012" class="Symbol">}</a> <a id="31014" href="Ledger.Utxo.Properties.html#30918" class="Bound">nrf</a><a id="31017" class="Symbol">)</a>
  <a id="31021" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="31037" class="Symbol">(</a><a id="31038" href="Ledger.Certs.html#896" class="InductiveConstructor">regpool</a> <a id="31046" class="Symbol">_</a> <a id="31048" class="Symbol">_</a> <a id="31050" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="31052" href="Ledger.Utxo.Properties.html#31052" class="Bound">cs</a><a id="31054" class="Symbol">)</a>       <a id="31062" class="Symbol">(_</a> <a id="31065" href="Data.List.Relation.Unary.All.html#1719" class="InductiveConstructor Operator">All.∷</a> <a id="31071" href="Ledger.Utxo.Properties.html#31071" class="Bound">nrf</a><a id="31074" class="Symbol">)</a> <a id="31076" class="Symbol">=</a> <a id="31078" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="31086" href="Ledger.Utxo.Properties.html#30106" class="Function">≤certDeps</a> <a id="31096" class="Symbol">(</a><a id="31097" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="31113" href="Ledger.Utxo.Properties.html#31052" class="Bound">cs</a> <a id="31116" href="Ledger.Utxo.Properties.html#31071" class="Bound">nrf</a><a id="31119" class="Symbol">)</a>
  <a id="31123" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="31139" class="Symbol">(</a><a id="31140" href="Ledger.Certs.html#941" class="InductiveConstructor">retirepool</a> <a id="31151" class="Symbol">_</a> <a id="31153" class="Symbol">_</a> <a id="31155" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="31157" href="Ledger.Utxo.Properties.html#31157" class="Bound">cs</a><a id="31159" class="Symbol">)</a>    <a id="31164" class="Symbol">(_</a> <a id="31167" href="Data.List.Relation.Unary.All.html#1719" class="InductiveConstructor Operator">All.∷</a> <a id="31173" href="Ledger.Utxo.Properties.html#31173" class="Bound">nrf</a><a id="31176" class="Symbol">)</a> <a id="31178" class="Symbol">=</a> <a id="31180" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="31196" href="Ledger.Utxo.Properties.html#31157" class="Bound">cs</a> <a id="31199" href="Ledger.Utxo.Properties.html#31173" class="Bound">nrf</a>
  <a id="31205" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="31221" class="Symbol">(</a><a id="31222" href="Ledger.Certs.html#981" class="InductiveConstructor">regdrep</a> <a id="31230" class="Symbol">_</a> <a id="31232" class="Symbol">_</a> <a id="31234" class="Symbol">_</a> <a id="31236" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="31238" href="Ledger.Utxo.Properties.html#31238" class="Bound">cs</a><a id="31240" class="Symbol">)</a>     <a id="31246" class="Symbol">(_</a> <a id="31249" href="Data.List.Relation.Unary.All.html#1719" class="InductiveConstructor Operator">All.∷</a> <a id="31255" href="Ledger.Utxo.Properties.html#31255" class="Bound">nrf</a><a id="31258" class="Symbol">)</a> <a id="31260" class="Symbol">=</a> <a id="31262" href="Data.Nat.Properties.html#5988" class="Function">≤-trans</a> <a id="31270" href="Ledger.Utxo.Properties.html#30106" class="Function">≤certDeps</a> <a id="31280" class="Symbol">(</a><a id="31281" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="31297" href="Ledger.Utxo.Properties.html#31238" class="Bound">cs</a> <a id="31300" href="Ledger.Utxo.Properties.html#31255" class="Bound">nrf</a><a id="31303" class="Symbol">)</a>
  <a id="31307" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="31323" class="Symbol">(</a><a id="31324" href="Ledger.Certs.html#1074" class="InductiveConstructor">ccreghot</a> <a id="31333" class="Symbol">_</a> <a id="31335" class="Symbol">_</a> <a id="31337" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="31339" href="Ledger.Utxo.Properties.html#31339" class="Bound">cs</a><a id="31341" class="Symbol">)</a>      <a id="31348" class="Symbol">(_</a> <a id="31351" href="Data.List.Relation.Unary.All.html#1719" class="InductiveConstructor Operator">All.∷</a> <a id="31357" href="Ledger.Utxo.Properties.html#31357" class="Bound">nrf</a><a id="31360" class="Symbol">)</a> <a id="31362" class="Symbol">=</a> <a id="31364" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="31380" href="Ledger.Utxo.Properties.html#31339" class="Bound">cs</a> <a id="31383" href="Ledger.Utxo.Properties.html#31357" class="Bound">nrf</a>

  <a id="31390" class="Comment">-- Main Theorem: General Minimum Spending Condition --</a>
  <a id="31447" href="Ledger.Utxo.Properties.html#31447" class="Function">gmsc</a> <a id="31452" class="Symbol">:</a>  <a id="31455" class="Keyword">let</a> <a id="31459" class="Keyword">open</a> <a id="31464" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="31467" href="Ledger.Utxo.Properties.html#7301" class="Generalizable">tx</a> <a id="31470" class="Keyword">renaming</a> <a id="31479" class="Symbol">(</a><a id="31480" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="31485" class="Symbol">to</a> <a id="31488" class="Field">txb</a><a id="31491" class="Symbol">);</a> <a id="31494" class="Keyword">open</a> <a id="31499" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="31506" href="Ledger.Utxo.Properties.html#31488" class="Function">txb</a>
              <a id="31524" href="Ledger.Utxo.Properties.html#31524" class="Bound">pp</a> <a id="31527" class="Symbol">=</a> <a id="31529" href="Ledger.Utxo.html#2465" class="Field">UTxOEnv.pparams</a> <a id="31545" href="Ledger.Utxo.Properties.html#7383" class="Generalizable">Γ</a><a id="31546" class="Symbol">;</a> <a id="31548" class="Keyword">open</a> <a id="31553" href="Ledger.PParams.html#1443" class="Module">PParams</a> <a id="31561" href="Ledger.Utxo.Properties.html#31524" class="Bound">pp</a>
              <a id="31578" class="Keyword">open</a> <a id="31583" href="Ledger.Utxo.html#2516" class="Module">UTxOState</a> <a id="31593" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a>
                <a id="31619" class="Keyword">renaming</a> <a id="31628" class="Symbol">(</a><a id="31629" href="Ledger.Utxo.html#2580" class="Field">utxo</a> <a id="31634" class="Symbol">to</a> <a id="31637" class="Field">st</a><a id="31639" class="Symbol">;</a> <a id="31641" href="Ledger.Utxo.html#2602" class="Field">fees</a> <a id="31646" class="Symbol">to</a> <a id="31649" class="Field">fs</a><a id="31651" class="Symbol">;</a> <a id="31653" href="Ledger.Utxo.html#2624" class="Field">deposits</a> <a id="31662" class="Symbol">to</a> <a id="31665" class="Field">deps</a><a id="31669" class="Symbol">;</a> <a id="31671" href="Ledger.Utxo.html#2650" class="Field">donations</a> <a id="31681" class="Symbol">to</a> <a id="31684" class="Field">dons</a><a id="31688" class="Symbol">)</a>
          <a id="31700" class="Keyword">in</a>
    <a id="31707" href="Ledger.Utxo.Properties.html#7383" class="Generalizable">Γ</a> <a id="31709" href="Ledger.Utxo.html#2824" class="Datatype Operator">⊢</a>  <a id="31712" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="31714" href="Ledger.Utxo.Properties.html#31637" class="Function">st</a>   <a id="31719" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31721" href="Ledger.Utxo.Properties.html#31649" class="Function">fs</a>   <a id="31726" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31728" href="Ledger.Utxo.Properties.html#31665" class="Function">deps</a>   <a id="31735" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31737" href="Ledger.Utxo.Properties.html#31684" class="Function">dons</a>   <a id="31744" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="31746" href="Ledger.Utxo.html#2824" class="Datatype Operator">⇀⦇</a> <a id="31749" href="Ledger.Utxo.Properties.html#7301" class="Generalizable">tx</a> <a id="31752" href="Ledger.Utxo.html#2824" class="Datatype Operator">,UTXO⦈</a>
         <a id="31768" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="31770" href="Ledger.Utxo.Properties.html#7346" class="Generalizable">utxo&#39;</a>  <a id="31777" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31779" href="Ledger.Utxo.Properties.html#7480" class="Generalizable">fees&#39;</a>  <a id="31786" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31788" href="Ledger.Utxo.Properties.html#7526" class="Generalizable">deposits&#39;</a>  <a id="31799" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="31801" href="Ledger.Utxo.Properties.html#7496" class="Generalizable">donations&#39;</a>  <a id="31813" href="Class.To.html#102" class="Field Operator">⟧</a>

    <a id="31820" class="Symbol">→</a> <a id="31822" href="Ledger.Utxo.Properties.html#27154" class="Function">noRefundCert</a> <a id="31835" href="Ledger.Transaction.html#2818" class="Function">txcerts</a> <a id="31843" class="Comment">-- FINAL ASSUMPTION --</a>

       <a id="31874" class="Comment">-------------------------------------------------------------------</a>
    <a id="31946" class="Symbol">→</a>  <a id="31949" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="31954" class="Symbol">(</a><a id="31955" href="Ledger.Utxo.html#11764" class="Function">consumed</a> <a id="31964" href="Ledger.Utxo.Properties.html#31524" class="Bound">pp</a> <a id="31967" href="Ledger.Utxo.Properties.html#7428" class="Generalizable">utxoState</a> <a id="31977" href="Ledger.Utxo.Properties.html#31488" class="Function">txb</a><a id="31980" class="Symbol">)</a> <a id="31982" href="Class.HasOrder.Core.html#727" class="Function Operator">≥</a> <a id="31984" href="Data.List.Base.html#5044" class="Function">length</a> <a id="31991" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="31998" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="32000" href="Ledger.PParams.html#3109" class="Function">govActionDeposit</a>

  <a id="32020" href="Ledger.Utxo.Properties.html#31447" class="Function">gmsc</a> <a id="32025" href="Ledger.Utxo.Properties.html#32025" class="Bound">step</a><a id="32029" class="Symbol">@(</a><a id="32031" href="Ledger.Utxo.html#14895" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="32047" href="Ledger.Utxo.Properties.html#32047" class="Bound">tx</a> <a id="32050" href="Ledger.Utxo.Properties.html#32050" class="Bound">Γ</a> <a id="32052" href="Ledger.Utxo.Properties.html#32052" class="Bound">utxoState</a> <a id="32062" class="Symbol">_</a> <a id="32064" class="Symbol">_</a> <a id="32066" class="Symbol">_</a> <a id="32068" class="Symbol">_</a> <a id="32070" class="Symbol">_</a> <a id="32072" href="Ledger.Utxo.Properties.html#32072" class="Bound">c≡p</a> <a id="32076" href="Ledger.Utxo.Properties.html#32076" class="Bound">cmint≡0</a> <a id="32084" class="Symbol">_</a> <a id="32086" class="Symbol">_</a> <a id="32088" class="Symbol">_</a> <a id="32090" class="Symbol">_</a> <a id="32092" class="Symbol">_</a> <a id="32094" class="Symbol">_</a> <a id="32096" class="Symbol">_</a> <a id="32098" class="Symbol">_</a> <a id="32100" class="Symbol">_</a> <a id="32102" class="Symbol">_)</a> <a id="32105" href="Ledger.Utxo.Properties.html#32105" class="Bound">nrf</a> <a id="32109" class="Symbol">=</a>
    <a id="32115" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="32125" href="Data.List.Base.html#5044" class="Function">length</a> <a id="32132" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="32139" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="32141" href="Ledger.PParams.html#3109" class="Function">govActionDeposit</a>
      <a id="32164" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32168" href="Ledger.Utxo.Properties.html#29282" class="Function">updatePropDeps≡</a> <a id="32184" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="32191" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32197" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32205" class="Symbol">(</a><a id="32206" href="Ledger.Utxo.html#8466" class="Function">updateProposalDeposits</a> <a id="32229" href="Ledger.Transaction.html#2916" class="Function">txprop</a> <a id="32236" href="Ledger.Transaction.html#3152" class="Function">txid</a> <a id="32241" href="Ledger.PParams.html#3109" class="Function">govActionDeposit</a> <a id="32258" href="Ledger.Utxo.Properties.html#33575" class="Function">deps</a><a id="32262" class="Symbol">)</a> <a id="32264" href="Data.Nat.Base.html#4456" class="Primitive Operator">∸</a> <a id="32266" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32274" href="Ledger.Utxo.Properties.html#33575" class="Function">deps</a>
      <a id="32285" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="32288" href="Data.Nat.Properties.html#47129" class="Function">∸-monoˡ-≤</a> <a id="32298" class="Symbol">(</a><a id="32299" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32307" href="Ledger.Utxo.Properties.html#33575" class="Function">deps</a><a id="32311" class="Symbol">)</a> <a id="32313" class="Symbol">(</a><a id="32314" href="Ledger.Utxo.Properties.html#30449" class="Function">≤updateCertDeps</a> <a id="32330" href="Ledger.Transaction.html#2818" class="Function">txcerts</a> <a id="32338" href="Ledger.Utxo.Properties.html#32105" class="Bound">nrf</a><a id="32341" class="Symbol">)</a> <a id="32343" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="32349" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32357" class="Symbol">(</a><a id="32358" href="Ledger.Utxo.html#8771" class="Function">updateDeposits</a> <a id="32373" href="Ledger.Utxo.Properties.html#33388" class="Function">pp</a> <a id="32376" href="Ledger.Utxo.Properties.html#33478" class="Function">txb</a> <a id="32380" href="Ledger.Utxo.Properties.html#33575" class="Function">deps</a><a id="32384" class="Symbol">)</a> <a id="32386" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="32388" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32396" href="Ledger.Utxo.Properties.html#33575" class="Function">deps</a>
      <a id="32407" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32410" href="Data.Integer.Ext.html#531" class="Function">∸≡posPart⊖</a> <a id="32421" class="Symbol">{</a><a id="32422" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32430" class="Symbol">(</a><a id="32431" href="Ledger.Utxo.html#8771" class="Function">updateDeposits</a> <a id="32446" href="Ledger.Utxo.Properties.html#33388" class="Function">pp</a> <a id="32449" href="Ledger.Utxo.Properties.html#33478" class="Function">txb</a> <a id="32453" href="Ledger.Utxo.Properties.html#33575" class="Function">deps</a><a id="32457" class="Symbol">)}</a> <a id="32460" class="Symbol">{</a><a id="32461" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="32469" href="Ledger.Utxo.Properties.html#33575" class="Function">deps</a><a id="32473" class="Symbol">}</a> <a id="32475" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32481" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a>
      <a id="32495" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">≤⟨</a> <a id="32498" href="Data.Nat.Properties.html#19065" class="Function">m≤n+m</a> <a id="32504" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a> <a id="32512" class="Symbol">(</a><a id="32513" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32518" href="Ledger.Utxo.Properties.html#33762" class="Function">balOut</a> <a id="32525" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32527" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="32533" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32535" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="32545" class="Symbol">)</a> <a id="32547" href="Relation.Binary.Reasoning.Syntax.html#5544" class="Function">⟩</a>
    <a id="32553" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32558" href="Ledger.Utxo.Properties.html#33762" class="Function">balOut</a> <a id="32565" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32567" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="32573" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32575" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="32586" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32588" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a>
      <a id="32602" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32605" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a> <a id="32613" class="Symbol">(</a><a id="32614" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32619" href="Ledger.Utxo.Properties.html#33762" class="Function">balOut</a> <a id="32626" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32628" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="32633" class="Symbol">)</a> <a id="32635" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="32646" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a> <a id="32654" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32660" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32665" href="Ledger.Utxo.Properties.html#33762" class="Function">balOut</a> <a id="32672" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32674" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="32680" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32682" class="Symbol">(</a><a id="32683" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="32694" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32696" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a><a id="32703" class="Symbol">)</a>
      <a id="32711" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="32714" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32719" class="Symbol">(</a><a id="32720" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32725" href="Ledger.Utxo.Properties.html#33762" class="Function">balOut</a> <a id="32732" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32734" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="32740" href="Class.HasAdd.Core.html#136" class="Field Operator">+_</a><a id="32742" class="Symbol">)</a> <a id="32744" class="Symbol">(</a><a id="32745" href="Data.Nat.Properties.html#15446" class="Function">+-comm</a> <a id="32752" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="32763" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a><a id="32770" class="Symbol">)</a> <a id="32772" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="32778" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32783" href="Ledger.Utxo.Properties.html#33762" class="Function">balOut</a> <a id="32790" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32792" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="32798" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32800" class="Symbol">(</a><a id="32801" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a> <a id="32809" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32811" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="32821" class="Symbol">)</a>
      <a id="32829" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32833" href="Data.Nat.Properties.html#15113" class="Function">+-assoc</a> <a id="32841" class="Symbol">(</a><a id="32842" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32847" href="Ledger.Utxo.Properties.html#33762" class="Function">balOut</a> <a id="32854" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32856" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="32861" class="Symbol">)</a> <a id="32863" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a> <a id="32871" href="Ledger.Transaction.html#2956" class="Function">txdonation</a> <a id="32882" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="32888" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="32893" href="Ledger.Utxo.Properties.html#33762" class="Function">balOut</a> <a id="32900" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32902" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="32908" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32910" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a> <a id="32918" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32920" href="Ledger.Transaction.html#2956" class="Function">txdonation</a>
      <a id="32937" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="32941" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="32946" class="Symbol">(λ</a> <a id="32949" href="Ledger.Utxo.Properties.html#32949" class="Bound">x</a> <a id="32951" class="Symbol">→</a> <a id="32953" href="Ledger.Utxo.Properties.html#32949" class="Bound">x</a> <a id="32955" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32957" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a> <a id="32965" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="32967" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="32977" class="Symbol">)</a> <a id="32979" href="Ledger.TokenAlgebra.html#1409" class="Function">coin-inject-lemma</a> <a id="32997" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="33003" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="33008" class="Symbol">(</a><a id="33009" href="Ledger.Utxo.Properties.html#33762" class="Function">balOut</a> <a id="33016" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="33018" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33025" href="Ledger.Transaction.html#2714" class="Function">txfee</a><a id="33030" class="Symbol">)</a> <a id="33032" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="33034" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a> <a id="33042" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="33044" href="Ledger.Transaction.html#2956" class="Function">txdonation</a>
      <a id="33061" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="33065" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="33070" class="Symbol">(</a><a id="33071" href="Class.HasAdd.Core.html#136" class="Field Operator">_+</a> <a id="33074" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="33084" class="Symbol">)</a> <a id="33086" href="Ledger.TokenAlgebra.html#1409" class="Function">coin-inject-lemma</a> <a id="33104" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="33110" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="33115" class="Symbol">(</a><a id="33116" href="Ledger.Utxo.Properties.html#33762" class="Function">balOut</a> <a id="33123" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="33125" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33132" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="33138" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="33140" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33147" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a><a id="33154" class="Symbol">)</a> <a id="33156" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="33158" href="Ledger.Transaction.html#2956" class="Function">txdonation</a>
      <a id="33175" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="33179" href="Ledger.TokenAlgebra.html#1409" class="Function">coin-inject-lemma</a> <a id="33197" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="33203" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="33208" class="Symbol">(</a><a id="33209" href="Ledger.Utxo.Properties.html#33762" class="Function">balOut</a> <a id="33216" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="33218" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33225" href="Ledger.Transaction.html#2714" class="Function">txfee</a> <a id="33231" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="33233" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33240" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a> <a id="33248" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="33250" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33257" href="Ledger.Transaction.html#2956" class="Function">txdonation</a><a id="33267" class="Symbol">)</a>
      <a id="33275" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="33279" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="33284" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="33289" href="Ledger.Utxo.Properties.html#32072" class="Bound">c≡p</a> <a id="33293" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="33299" href="Ledger.TokenAlgebra.html#812" class="Function">coin</a> <a id="33304" class="Symbol">(</a><a id="33305" href="Ledger.Utxo.Properties.html#33756" class="Function">balIn</a> <a id="33311" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="33313" href="Ledger.Transaction.html#2742" class="Function">mint</a> <a id="33318" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="33320" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33327" href="Ledger.Utxo.Properties.html#33613" class="Function">refunds</a> <a id="33335" href="Class.HasAdd.Core.html#136" class="Field Operator">+</a> <a id="33337" href="Ledger.TokenAlgebra.html#857" class="Function">inject</a> <a id="33344" href="Ledger.Utxo.Properties.html#33621" class="Function">wdrls</a><a id="33349" class="Symbol">)</a> <a id="33351" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="33357" class="Keyword">where</a>
    <a id="33367" class="Keyword">open</a> <a id="33372" href="Data.Nat.Properties.html#14496" class="Module">≤-Reasoning</a>
    <a id="33388" href="Ledger.Utxo.Properties.html#33388" class="Function">pp</a> <a id="33391" class="Symbol">:</a> <a id="33393" href="Ledger.PParams.html#1443" class="Record">PParams</a>
    <a id="33405" href="Ledger.Utxo.Properties.html#33388" class="Function">pp</a> <a id="33408" class="Symbol">=</a> <a id="33410" href="Ledger.Utxo.html#2465" class="Field">UTxOEnv.pparams</a> <a id="33426" href="Ledger.Utxo.Properties.html#32050" class="Bound">Γ</a><a id="33427" class="Symbol">;</a> <a id="33429" class="Keyword">open</a> <a id="33434" href="Ledger.PParams.html#1443" class="Module">PParams</a> <a id="33442" href="Ledger.Utxo.Properties.html#33388" class="Function">pp</a>
    <a id="33449" class="Keyword">open</a> <a id="33454" href="Ledger.Transaction.html#3538" class="Module">Tx</a> <a id="33457" href="Ledger.Utxo.Properties.html#32047" class="Bound">tx</a> <a id="33460" class="Keyword">renaming</a> <a id="33469" class="Symbol">(</a><a id="33470" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="33475" class="Symbol">to</a> <a id="33478" class="Field">txb</a><a id="33481" class="Symbol">);</a> <a id="33484" class="Keyword">open</a> <a id="33489" href="Ledger.Transaction.html#2584" class="Module">TxBody</a> <a id="33496" href="Ledger.Utxo.Properties.html#33478" class="Function">txb</a>
    <a id="33504" class="Keyword">open</a> <a id="33509" href="Ledger.Utxo.html#2516" class="Module">UTxOState</a> <a id="33519" href="Ledger.Utxo.Properties.html#32052" class="Bound">utxoState</a> <a id="33529" class="Keyword">renaming</a> <a id="33538" class="Symbol">(</a><a id="33539" href="Ledger.Utxo.html#2580" class="Field">utxo</a> <a id="33544" class="Symbol">to</a> <a id="33547" class="Field">st</a><a id="33549" class="Symbol">;</a> <a id="33551" href="Ledger.Utxo.html#2602" class="Field">fees</a> <a id="33556" class="Symbol">to</a> <a id="33559" class="Field">fs</a><a id="33561" class="Symbol">;</a> <a id="33563" href="Ledger.Utxo.html#2624" class="Field">deposits</a> <a id="33572" class="Symbol">to</a> <a id="33575" class="Field">deps</a><a id="33579" class="Symbol">;</a> <a id="33581" href="Ledger.Utxo.html#2650" class="Field">donations</a> <a id="33591" class="Symbol">to</a> <a id="33594" class="Field">dons</a><a id="33598" class="Symbol">)</a>

    <a id="33605" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a> <a id="33613" href="Ledger.Utxo.Properties.html#33613" class="Function">refunds</a> <a id="33621" href="Ledger.Utxo.Properties.html#33621" class="Function">wdrls</a> <a id="33627" class="Symbol">:</a> <a id="33629" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="33638" href="Ledger.Utxo.Properties.html#33605" class="Function">newDeps</a> <a id="33646" class="Symbol">=</a> <a id="33648" href="Ledger.Utxo.html#11638" class="Function">newDeposits</a> <a id="33660" href="Ledger.Utxo.Properties.html#33388" class="Function">pp</a> <a id="33663" href="Ledger.Utxo.Properties.html#32052" class="Bound">utxoState</a> <a id="33673" href="Ledger.Utxo.Properties.html#33478" class="Function">txb</a>
    <a id="33681" href="Ledger.Utxo.Properties.html#33613" class="Function">refunds</a> <a id="33689" class="Symbol">=</a> <a id="33691" href="Ledger.Utxo.html#11506" class="Function">depositRefunds</a> <a id="33706" href="Ledger.Utxo.Properties.html#33388" class="Function">pp</a> <a id="33709" href="Ledger.Utxo.Properties.html#32052" class="Bound">utxoState</a> <a id="33719" href="Ledger.Utxo.Properties.html#33478" class="Function">txb</a>
    <a id="33727" href="Ledger.Utxo.Properties.html#33621" class="Function">wdrls</a> <a id="33733" class="Symbol">=</a> <a id="33735" href="Ledger.Interface.HasCoin.html#172" class="Field">getCoin</a> <a id="33743" href="Ledger.Transaction.html#2852" class="Function">txwdrls</a>

    <a id="33756" href="Ledger.Utxo.Properties.html#33756" class="Function">balIn</a> <a id="33762" href="Ledger.Utxo.Properties.html#33762" class="Function">balOut</a> <a id="33769" class="Symbol">:</a> <a id="33771" href="Ledger.TokenAlgebra.html#492" class="Function">Value</a>
    <a id="33781" href="Ledger.Utxo.Properties.html#33756" class="Function">balIn</a> <a id="33787" class="Symbol">=</a> <a id="33789" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="33797" class="Symbol">(</a><a id="33798" href="Ledger.Utxo.Properties.html#33547" class="Function">st</a> <a id="33801" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="33803" href="Ledger.Transaction.html#2620" class="Function">txins</a><a id="33808" class="Symbol">)</a>
    <a id="33814" href="Ledger.Utxo.Properties.html#33762" class="Function">balOut</a> <a id="33821" class="Symbol">=</a> <a id="33823" href="Ledger.Utxo.html#3028" class="Function">balance</a> <a id="33831" class="Symbol">(</a><a id="33832" href="Ledger.Utxo.html#2957" class="Function">outs</a> <a id="33837" href="Ledger.Utxo.Properties.html#33478" class="Function">txb</a><a id="33840" class="Symbol">)</a>

</pre></body></html>