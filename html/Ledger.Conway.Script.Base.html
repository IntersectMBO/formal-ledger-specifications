<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Script.Base</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Algebra.Morphism.html" class="Module">Algebra.Morphism</a>
<a id="54" class="Keyword">open</a> <a id="59" class="Keyword">import</a> <a id="66" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a> <a id="95" class="Keyword">using</a> <a id="101" class="Symbol">(</a><a id="102" href="Data.List.Relation.Unary.All.html#1644" class="Datatype">All</a><a id="105" class="Symbol">;</a> <a id="107" href="Data.List.Relation.Unary.All.html#1707" class="InductiveConstructor">[]</a><a id="109" class="Symbol">;</a> <a id="111" href="Data.List.Relation.Unary.All.html#1724" class="InductiveConstructor Operator">_∷_</a><a id="114" class="Symbol">;</a> <a id="116" href="Data.List.Relation.Unary.All.html#6425" class="Function">all?</a><a id="120" class="Symbol">;</a> <a id="122" href="Data.List.Relation.Unary.All.html#2478" class="Function">uncons</a><a id="128" class="Symbol">)</a>
<a id="130" class="Keyword">open</a> <a id="135" class="Keyword">import</a> <a id="142" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>
<a id="171" class="Keyword">open</a> <a id="176" class="Keyword">import</a> <a id="183" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="203" class="Keyword">using</a> <a id="209" class="Symbol">(</a><a id="210" href="Data.Nat.Properties.html#17331" class="Function">+-0-commutativeMonoid</a><a id="231" class="Symbol">;</a> <a id="233" href="Data.Nat.Properties.html#3266" class="Function">suc-injective</a><a id="246" class="Symbol">)</a>

<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="stdlib.Data.List.Relation.Unary.MOf.html" class="Module">stdlib.Data.List.Relation.Unary.MOf</a>


<a id="299" class="Keyword">open</a> <a id="304" class="Keyword">import</a> <a id="311" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="326" class="Keyword">hiding</a> <a id="333" class="Symbol">(</a><a id="334" href="Axiom.Set.html#9724" class="Function">All</a><a id="337" class="Symbol">;</a> <a id="339" href="Axiom.Set.html#9793" class="Function">Any</a><a id="342" class="Symbol">;</a> <a id="344" href="Axiom.Set.html#10821" class="Function">all?</a><a id="348" class="Symbol">;</a> <a id="350" href="Axiom.Set.html#10895" class="Function">any?</a><a id="354" class="Symbol">;</a> <a id="356" href="Data.List.Base.html#7451" class="Function Operator">_∷ʳ_</a><a id="360" class="Symbol">;</a> <a id="362" href="Data.List.Base.html#8345" class="Function">uncons</a><a id="368" class="Symbol">;</a> <a id="370" href="Interface.HasSubset.html#158" class="Field Operator">_⊆_</a><a id="373" class="Symbol">)</a>
<a id="375" class="Keyword">open</a> <a id="380" class="Keyword">import</a> <a id="387" href="Ledger.Conway.Crypto.html" class="Module">Ledger.Conway.Crypto</a>
<a id="408" class="Keyword">open</a> <a id="413" class="Keyword">import</a> <a id="420" href="Ledger.Conway.Types.Epoch.html" class="Module">Ledger.Conway.Types.Epoch</a>

<a id="447" class="Keyword">module</a> <a id="454" href="Ledger.Conway.Script.Base.html" class="Module">Ledger.Conway.Script.Base</a>
  <a id="482" class="Symbol">(</a><a id="483" href="Ledger.Conway.Script.Base.html#483" class="Bound">crypto</a> <a id="490" class="Symbol">:</a> <a id="492" class="Symbol">_)</a> <a id="495" class="Symbol">(</a><a id="496" class="Keyword">open</a> <a id="501" href="Ledger.Conway.Crypto.html#1050" class="Module">Crypto</a> <a id="508" href="Ledger.Conway.Script.Base.html#483" class="Bound">crypto</a><a id="514" class="Symbol">)</a>
  <a id="518" class="Symbol">(</a><a id="519" href="Ledger.Conway.Script.Base.html#519" class="Bound">es</a>     <a id="526" class="Symbol">:</a> <a id="528" class="Symbol">_)</a> <a id="531" class="Symbol">(</a><a id="532" class="Keyword">open</a> <a id="537" href="Ledger.Conway.Types.Epoch.html#524" class="Module">EpochStructure</a> <a id="552" href="Ledger.Conway.Script.Base.html#519" class="Bound">es</a><a id="554" class="Symbol">)</a>
  <a id="558" class="Keyword">where</a>

<a id="565" class="Keyword">record</a> <a id="P1ScriptStructure"></a><a id="572" href="Ledger.Conway.Script.Base.html#572" class="Record">P1ScriptStructure</a> <a id="590" class="Symbol">:</a> <a id="592" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="598" class="Keyword">where</a>
  <a id="606" class="Keyword">field</a> <a id="P1ScriptStructure.P1Script"></a><a id="612" href="Ledger.Conway.Script.Base.html#612" class="Field">P1Script</a> <a id="621" class="Symbol">:</a> <a id="623" href="Agda.Primitive.html#388" class="Primitive">Type</a>
        <a id="P1ScriptStructure.validP1Script"></a><a id="636" href="Ledger.Conway.Script.Base.html#636" class="Field">validP1Script</a> <a id="650" class="Symbol">:</a> <a id="652" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="654" href="Ledger.Conway.Crypto.html#1317" class="Function">KeyHash</a> <a id="662" class="Symbol">→</a> <a id="664" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="670" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a> <a id="675" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="677" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="683" href="Ledger.Conway.Types.Epoch.html#668" class="Function">Slot</a> <a id="688" class="Symbol">→</a> <a id="690" href="Ledger.Conway.Script.Base.html#612" class="Field">P1Script</a> <a id="699" class="Symbol">→</a> <a id="701" href="Agda.Primitive.html#388" class="Primitive">Type</a>
        <a id="714" class="Symbol">⦃</a> <a id="P1ScriptStructure.Dec-validP1Script"></a><a id="716" href="Ledger.Conway.Script.Base.html#716" class="Field">Dec-validP1Script</a> <a id="734" class="Symbol">⦄</a> <a id="736" class="Symbol">:</a> <a id="738" href="Ledger.Conway.Script.Base.html#636" class="Field">validP1Script</a> <a id="752" href="Class.Decidable.Core.html#784" class="Function Operator">⁇³</a>
        <a id="763" class="Symbol">⦃</a> <a id="P1ScriptStructure.Hashable-P1Script"></a><a id="765" href="Ledger.Conway.Script.Base.html#765" class="Field">Hashable-P1Script</a> <a id="783" class="Symbol">⦄</a> <a id="785" class="Symbol">:</a> <a id="787" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="796" href="Ledger.Conway.Script.Base.html#612" class="Field">P1Script</a> <a id="805" href="Ledger.Conway.Crypto.html#1173" class="Field">ScriptHash</a>
        <a id="824" class="Symbol">⦃</a> <a id="P1ScriptStructure.DecEq-P1Script"></a><a id="826" href="Ledger.Conway.Script.Base.html#826" class="Field">DecEq-P1Script</a>    <a id="844" class="Symbol">⦄</a> <a id="846" class="Symbol">:</a> <a id="848" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="854" href="Ledger.Conway.Script.Base.html#612" class="Field">P1Script</a>

<a id="864" class="Keyword">record</a> <a id="PlutusStructure"></a><a id="871" href="Ledger.Conway.Script.Base.html#871" class="Record">PlutusStructure</a> <a id="887" class="Symbol">:</a> <a id="889" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="895" class="Keyword">where</a>
  <a id="903" class="Keyword">field</a> <a id="PlutusStructure.Dataʰ"></a><a id="909" href="Ledger.Conway.Script.Base.html#909" class="Field">Dataʰ</a> <a id="915" class="Symbol">:</a> <a id="917" href="Ledger.Conway.Crypto.html#389" class="Record">HashableSet</a>
        <a id="PlutusStructure.Language"></a><a id="937" href="Ledger.Conway.Script.Base.html#937" class="Field">Language</a> <a id="PlutusStructure.PlutusScript"></a><a id="946" href="Ledger.Conway.Script.Base.html#946" class="Field">PlutusScript</a> <a id="PlutusStructure.CostModel"></a><a id="959" href="Ledger.Conway.Script.Base.html#959" class="Field">CostModel</a> <a id="PlutusStructure.Prices"></a><a id="969" href="Ledger.Conway.Script.Base.html#969" class="Field">Prices</a> <a id="PlutusStructure.LangDepView"></a><a id="976" href="Ledger.Conway.Script.Base.html#976" class="Field">LangDepView</a> <a id="PlutusStructure.ExUnits"></a><a id="988" href="Ledger.Conway.Script.Base.html#988" class="Field">ExUnits</a> <a id="996" class="Symbol">:</a> <a id="998" href="Agda.Primitive.html#388" class="Primitive">Type</a>
        <a id="PlutusStructure.PlutusV1"></a><a id="1011" href="Ledger.Conway.Script.Base.html#1011" class="Field">PlutusV1</a> <a id="PlutusStructure.PlutusV2"></a><a id="1020" href="Ledger.Conway.Script.Base.html#1020" class="Field">PlutusV2</a> <a id="PlutusStructure.PlutusV3"></a><a id="1029" href="Ledger.Conway.Script.Base.html#1029" class="Field">PlutusV3</a>   <a id="1040" class="Symbol">:</a> <a id="1042" href="Ledger.Conway.Script.Base.html#937" class="Field">Language</a>
        <a id="1059" class="Symbol">⦃</a> <a id="PlutusStructure.ExUnit-CommutativeMonoid"></a><a id="1061" href="Ledger.Conway.Script.Base.html#1061" class="Field">ExUnit-CommutativeMonoid</a> <a id="1086" class="Symbol">⦄</a> <a id="1088" class="Symbol">:</a> <a id="1090" href="Class.CommutativeMonoid.Core.html#191" class="Record">CommutativeMonoid</a> <a id="1108" href="Level.html#521" class="Function">0ℓ</a> <a id="1111" href="Level.html#521" class="Function">0ℓ</a> <a id="1114" href="Ledger.Conway.Script.Base.html#988" class="Field">ExUnits</a>
        <a id="1130" class="Symbol">⦃</a> <a id="PlutusStructure.Hashable-PlutusScript"></a><a id="1132" href="Ledger.Conway.Script.Base.html#1132" class="Field">Hashable-PlutusScript</a>    <a id="1157" class="Symbol">⦄</a> <a id="1159" class="Symbol">:</a> <a id="1161" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="1170" href="Ledger.Conway.Script.Base.html#946" class="Field">PlutusScript</a> <a id="1183" href="Ledger.Conway.Crypto.html#1173" class="Field">ScriptHash</a>
        <a id="1202" class="Symbol">⦃</a> <a id="PlutusStructure.DecEq-Language"></a><a id="1204" href="Ledger.Conway.Script.Base.html#1204" class="Field">DecEq-Language</a>           <a id="1229" class="Symbol">⦄</a> <a id="1231" class="Symbol">:</a> <a id="1233" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1239" href="Ledger.Conway.Script.Base.html#937" class="Field">Language</a>
        <a id="1256" class="Symbol">⦃</a> <a id="PlutusStructure.DecEq-CostModel"></a><a id="1258" href="Ledger.Conway.Script.Base.html#1258" class="Field">DecEq-CostModel</a>          <a id="1283" class="Symbol">⦄</a> <a id="1285" class="Symbol">:</a> <a id="1287" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1293" href="Ledger.Conway.Script.Base.html#959" class="Field">CostModel</a>
        <a id="1311" class="Symbol">⦃</a> <a id="PlutusStructure.DecEq-LangDepView"></a><a id="1313" href="Ledger.Conway.Script.Base.html#1313" class="Field">DecEq-LangDepView</a>        <a id="1338" class="Symbol">⦄</a> <a id="1340" class="Symbol">:</a> <a id="1342" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1348" href="Ledger.Conway.Script.Base.html#976" class="Field">LangDepView</a>
        <a id="1368" class="Symbol">⦃</a> <a id="PlutusStructure.Show-CostModel"></a><a id="1370" href="Ledger.Conway.Script.Base.html#1370" class="Field">Show-CostModel</a>           <a id="1395" class="Symbol">⦄</a> <a id="1397" class="Symbol">:</a> <a id="1399" href="Class.Show.Core.html#125" class="Record">Show</a> <a id="1404" href="Ledger.Conway.Script.Base.html#959" class="Field">CostModel</a>

  <a id="1417" class="Keyword">field</a>  <a id="PlutusStructure._≥ᵉ_"></a><a id="1424" href="Ledger.Conway.Script.Base.html#1424" class="Field Operator">_≥ᵉ_</a>              <a id="1442" class="Symbol">:</a> <a id="1444" href="Ledger.Conway.Script.Base.html#988" class="Field">ExUnits</a> <a id="1452" class="Symbol">→</a> <a id="1454" href="Ledger.Conway.Script.Base.html#988" class="Field">ExUnits</a> <a id="1462" class="Symbol">→</a> <a id="1464" href="Agda.Primitive.html#388" class="Primitive">Type</a>
         <a id="1478" class="Symbol">⦃</a> <a id="PlutusStructure.DecEq-ExUnits"></a><a id="1480" href="Ledger.Conway.Script.Base.html#1480" class="Field">DecEq-ExUnits</a> <a id="1494" class="Symbol">⦄</a> <a id="1496" class="Symbol">:</a> <a id="1498" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1504" href="Ledger.Conway.Script.Base.html#988" class="Field">ExUnits</a>
         <a id="1521" class="Symbol">⦃</a> <a id="PlutusStructure.DecEQ-Prices"></a><a id="1523" href="Ledger.Conway.Script.Base.html#1523" class="Field">DecEQ-Prices</a>  <a id="1537" class="Symbol">⦄</a> <a id="1539" class="Symbol">:</a> <a id="1541" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1547" href="Ledger.Conway.Script.Base.html#969" class="Field">Prices</a>
         <a id="1563" class="Symbol">⦃</a> <a id="PlutusStructure.Show-ExUnits"></a><a id="1565" href="Ledger.Conway.Script.Base.html#1565" class="Field">Show-ExUnits</a>  <a id="1579" class="Symbol">⦄</a> <a id="1581" class="Symbol">:</a> <a id="1583" href="Class.Show.Core.html#125" class="Record">Show</a> <a id="1588" href="Ledger.Conway.Script.Base.html#988" class="Field">ExUnits</a>
         <a id="1605" class="Symbol">⦃</a> <a id="PlutusStructure.Show-Prices"></a><a id="1607" href="Ledger.Conway.Script.Base.html#1607" class="Field">Show-Prices</a>   <a id="1621" class="Symbol">⦄</a> <a id="1623" class="Symbol">:</a> <a id="1625" href="Class.Show.Core.html#125" class="Record">Show</a> <a id="1630" href="Ledger.Conway.Script.Base.html#969" class="Field">Prices</a>

  <a id="1640" class="Keyword">open</a> <a id="1645" href="Ledger.Conway.Crypto.html#389" class="Module">HashableSet</a> <a id="1657" href="Ledger.Conway.Script.Base.html#909" class="Field">Dataʰ</a> <a id="1663" class="Keyword">renaming</a> <a id="1672" class="Symbol">(</a><a id="1673" href="Ledger.Conway.Crypto.html#451" class="Field">T</a> <a id="1675" class="Symbol">to</a> <a id="1678" class="Field">Data</a><a id="1682" class="Symbol">;</a> <a id="1684" href="Ledger.Conway.Crypto.html#183" class="Function">THash</a> <a id="1690" class="Symbol">to</a> <a id="1693" class="Function">DataHash</a><a id="1701" class="Symbol">)</a> <a id="1703" class="Keyword">public</a>

  <a id="1713" class="Comment">-- Type aliases for Data</a>
  <a id="PlutusStructure.Datum"></a><a id="1740" href="Ledger.Conway.Script.Base.html#1740" class="Function">Datum</a>    <a id="1749" class="Symbol">=</a> <a id="1751" href="Ledger.Conway.Script.Base.html#1678" class="Function">Data</a>
  <a id="PlutusStructure.Redeemer"></a><a id="1758" href="Ledger.Conway.Script.Base.html#1758" class="Function">Redeemer</a> <a id="1767" class="Symbol">=</a> <a id="1769" href="Ledger.Conway.Script.Base.html#1678" class="Function">Data</a>

  <a id="1777" class="Keyword">field</a> <a id="PlutusStructure.validPlutusScript"></a><a id="1783" href="Ledger.Conway.Script.Base.html#1783" class="Field">validPlutusScript</a> <a id="1801" class="Symbol">:</a> <a id="1803" href="Ledger.Conway.Script.Base.html#959" class="Field">CostModel</a> <a id="1813" class="Symbol">→</a> <a id="1815" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1820" href="Ledger.Conway.Script.Base.html#1678" class="Function">Data</a> <a id="1825" class="Symbol">→</a> <a id="1827" href="Ledger.Conway.Script.Base.html#988" class="Field">ExUnits</a> <a id="1835" class="Symbol">→</a> <a id="1837" href="Ledger.Conway.Script.Base.html#946" class="Field">PlutusScript</a> <a id="1850" class="Symbol">→</a> <a id="1852" href="Agda.Primitive.html#388" class="Primitive">Type</a>
        <a id="1865" class="Symbol">⦃</a> <a id="PlutusStructure.Dec-validPlutusScript"></a><a id="1867" href="Ledger.Conway.Script.Base.html#1867" class="Field">Dec-validPlutusScript</a> <a id="1889" class="Symbol">⦄</a> <a id="1891" class="Symbol">:</a> <a id="1893" class="Symbol">∀</a> <a id="1895" class="Symbol">{</a><a id="1896" href="Ledger.Conway.Script.Base.html#1896" class="Bound">x</a><a id="1897" class="Symbol">}</a> <a id="1899" class="Symbol">→</a> <a id="1901" class="Symbol">(</a><a id="1902" href="Ledger.Conway.Script.Base.html#1783" class="Field">validPlutusScript</a> <a id="1920" href="Ledger.Conway.Script.Base.html#1896" class="Bound">x</a> <a id="1922" href="Class.Decidable.Core.html#784" class="Function Operator">⁇³</a><a id="1924" class="Symbol">)</a>
        <a id="PlutusStructure.language"></a><a id="1934" href="Ledger.Conway.Script.Base.html#1934" class="Field">language</a> <a id="1943" class="Symbol">:</a> <a id="1945" href="Ledger.Conway.Script.Base.html#946" class="Field">PlutusScript</a> <a id="1958" class="Symbol">→</a> <a id="1960" href="Ledger.Conway.Script.Base.html#937" class="Field">Language</a>
        <a id="PlutusStructure.toData"></a><a id="1977" href="Ledger.Conway.Script.Base.html#1977" class="Field">toData</a> <a id="1984" class="Symbol">:</a> <a id="1986" class="Symbol">∀</a> <a id="1988" class="Symbol">{</a><a id="1989" href="Ledger.Conway.Script.Base.html#1989" class="Bound">A</a> <a id="1991" class="Symbol">:</a> <a id="1993" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1997" class="Symbol">}</a> <a id="1999" class="Symbol">→</a> <a id="2001" href="Ledger.Conway.Script.Base.html#1989" class="Bound">A</a> <a id="2003" class="Symbol">→</a> <a id="2005" href="Ledger.Conway.Script.Base.html#1678" class="Function">Data</a>

<a id="2011" class="Keyword">record</a> <a id="ScriptStructure"></a><a id="2018" href="Ledger.Conway.Script.Base.html#2018" class="Record">ScriptStructure</a> <a id="2034" class="Symbol">:</a> <a id="2036" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="2042" class="Keyword">where</a>

  <a id="2051" class="Keyword">field</a> <a id="ScriptStructure.p1s"></a><a id="2057" href="Ledger.Conway.Script.Base.html#2057" class="Field">p1s</a> <a id="2061" class="Symbol">:</a> <a id="2063" href="Ledger.Conway.Script.Base.html#572" class="Record">P1ScriptStructure</a>

  <a id="2084" class="Keyword">open</a> <a id="2089" href="Ledger.Conway.Script.Base.html#572" class="Module">P1ScriptStructure</a> <a id="2107" href="Ledger.Conway.Script.Base.html#2057" class="Field">p1s</a> <a id="2111" class="Keyword">public</a>

  <a id="2121" class="Keyword">field</a> <a id="ScriptStructure.hashRespectsUnion"></a><a id="2127" href="Ledger.Conway.Script.Base.html#2127" class="Field">hashRespectsUnion</a> <a id="2145" class="Symbol">:</a>
          <a id="2157" class="Symbol">{</a><a id="2158" href="Ledger.Conway.Script.Base.html#2158" class="Bound">A</a> <a id="2160" href="Ledger.Conway.Script.Base.html#2160" class="Bound">B</a> <a id="2162" href="Ledger.Conway.Script.Base.html#2162" class="Bound">Hash</a> <a id="2167" class="Symbol">:</a> <a id="2169" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="2173" class="Symbol">}</a> <a id="2175" class="Symbol">→</a> <a id="2177" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="2186" href="Ledger.Conway.Script.Base.html#2158" class="Bound">A</a> <a id="2188" href="Ledger.Conway.Script.Base.html#2162" class="Bound">Hash</a> <a id="2193" class="Symbol">→</a> <a id="2195" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="2204" href="Ledger.Conway.Script.Base.html#2160" class="Bound">B</a> <a id="2206" href="Ledger.Conway.Script.Base.html#2162" class="Bound">Hash</a> <a id="2211" class="Symbol">→</a> <a id="2213" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="2222" class="Symbol">(</a><a id="2223" href="Ledger.Conway.Script.Base.html#2158" class="Bound">A</a> <a id="2225" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2227" href="Ledger.Conway.Script.Base.html#2160" class="Bound">B</a><a id="2228" class="Symbol">)</a> <a id="2230" href="Ledger.Conway.Script.Base.html#2162" class="Bound">Hash</a>

  <a id="2238" class="Keyword">field</a> <a id="ScriptStructure.ps"></a><a id="2244" href="Ledger.Conway.Script.Base.html#2244" class="Field">ps</a> <a id="2247" class="Symbol">:</a> <a id="2249" href="Ledger.Conway.Script.Base.html#871" class="Record">PlutusStructure</a>
  <a id="2267" class="Keyword">open</a> <a id="2272" href="Ledger.Conway.Script.Base.html#871" class="Module">PlutusStructure</a> <a id="2288" href="Ledger.Conway.Script.Base.html#2244" class="Field">ps</a> <a id="2291" class="Keyword">public</a>
    <a id="2302" class="Keyword">renaming</a> <a id="2311" class="Symbol">(</a> <a id="2313" href="Ledger.Conway.Script.Base.html#946" class="Field">PlutusScript</a>       <a id="2332" class="Symbol">to</a> <a id="2335" class="Field">P2Script</a>
             <a id="2357" class="Symbol">;</a> <a id="2359" href="Ledger.Conway.Script.Base.html#1783" class="Field">validPlutusScript</a>  <a id="2378" class="Symbol">to</a> <a id="2381" class="Field">validP2Script</a>
             <a id="2408" class="Symbol">)</a>

  <a id="ScriptStructure.Script"></a><a id="2413" href="Ledger.Conway.Script.Base.html#2413" class="Function">Script</a> <a id="2420" class="Symbol">=</a> <a id="2422" href="Ledger.Conway.Script.Base.html#612" class="Function">P1Script</a> <a id="2431" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2433" href="Ledger.Conway.Script.Base.html#2335" class="Function">P2Script</a>

  <a id="2445" class="Keyword">open</a> <a id="2450" class="Keyword">import</a> <a id="2457" href="Data.Empty.html" class="Module">Data.Empty</a>
  <a id="2470" class="Keyword">open</a> <a id="2475" class="Keyword">import</a> <a id="2482" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>
  <a id="2506" class="Keyword">open</a> <a id="2511" class="Keyword">import</a> <a id="2518" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

  <a id="2559" class="Keyword">instance</a>
    <a id="ScriptStructure.Hashable-Script"></a><a id="2572" href="Ledger.Conway.Script.Base.html#2572" class="Function">Hashable-Script</a> <a id="2588" class="Symbol">:</a> <a id="2590" href="Interface.Hashable.html#158" class="Record">Hashable</a> <a id="2599" href="Ledger.Conway.Script.Base.html#2413" class="Function">Script</a> <a id="2606" href="Ledger.Conway.Crypto.html#1173" class="Field">ScriptHash</a>
    <a id="2621" href="Ledger.Conway.Script.Base.html#2572" class="Function">Hashable-Script</a> <a id="2637" class="Symbol">=</a> <a id="2639" href="Ledger.Conway.Script.Base.html#2127" class="Field">hashRespectsUnion</a> <a id="2657" href="Ledger.Conway.Script.Base.html#765" class="Function">Hashable-P1Script</a> <a id="2675" href="Ledger.Conway.Script.Base.html#1132" class="Function">Hashable-PlutusScript</a>

  <a id="ScriptStructure.isP1Script"></a><a id="2700" href="Ledger.Conway.Script.Base.html#2700" class="Function">isP1Script</a> <a id="2711" class="Symbol">:</a> <a id="2713" href="Ledger.Conway.Script.Base.html#2413" class="Function">Script</a> <a id="2720" class="Symbol">→</a> <a id="2722" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="2729" href="Ledger.Conway.Script.Base.html#2700" class="Function">isP1Script</a> <a id="2740" class="Symbol">=</a> <a id="2742" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="2744" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2746" href="Data.Maybe.Base.html#1117" class="Function">is-just</a> <a id="2754" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2756" href="Data.Sum.html#787" class="Function">isInj₁</a>

  <a id="ScriptStructure.isP1Script?"></a><a id="2766" href="Ledger.Conway.Script.Base.html#2766" class="Function">isP1Script?</a> <a id="2778" class="Symbol">:</a> <a id="2780" class="Symbol">∀</a> <a id="2782" class="Symbol">{</a><a id="2783" href="Ledger.Conway.Script.Base.html#2783" class="Bound">s</a><a id="2784" class="Symbol">}</a> <a id="2786" class="Symbol">→</a> <a id="2788" href="Ledger.Conway.Script.Base.html#2700" class="Function">isP1Script</a> <a id="2799" href="Ledger.Conway.Script.Base.html#2783" class="Bound">s</a> <a id="2801" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
  <a id="2805" href="Ledger.Conway.Script.Base.html#2766" class="Function">isP1Script?</a> <a id="2817" class="Symbol">{</a><a id="2818" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2823" href="Ledger.Conway.Script.Base.html#2823" class="Bound">x</a><a id="2824" class="Symbol">}</a> <a id="2826" class="Symbol">.</a><a id="2827" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="2831" class="Symbol">=</a> <a id="2833" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2837" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
  <a id="2842" href="Ledger.Conway.Script.Base.html#2766" class="Function">isP1Script?</a> <a id="2854" class="Symbol">{</a><a id="2855" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2860" href="Ledger.Conway.Script.Base.html#2860" class="Bound">y</a><a id="2861" class="Symbol">}</a> <a id="2863" class="Symbol">.</a><a id="2864" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="2868" class="Symbol">=</a> <a id="2870" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2873" class="Symbol">λ</a> <a id="2875" class="Symbol">()</a> 

  <a id="ScriptStructure.isNativeScript"></a><a id="2882" href="Ledger.Conway.Script.Base.html#2882" class="Function">isNativeScript</a> <a id="2897" class="Symbol">:</a> <a id="2899" href="Ledger.Conway.Script.Base.html#2413" class="Function">Script</a> <a id="2906" class="Symbol">→</a> <a id="2908" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="2915" href="Ledger.Conway.Script.Base.html#2882" class="Function">isNativeScript</a> <a id="2930" class="Symbol">=</a> <a id="2932" href="Ledger.Conway.Script.Base.html#2700" class="Function">isP1Script</a>

  <a id="ScriptStructure.toP1Script"></a><a id="2946" href="Ledger.Conway.Script.Base.html#2946" class="Function">toP1Script</a> <a id="2957" class="Symbol">:</a> <a id="2959" href="Ledger.Conway.Script.Base.html#2413" class="Function">Script</a> <a id="2966" class="Symbol">→</a> <a id="2968" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2974" href="Ledger.Conway.Script.Base.html#612" class="Function">P1Script</a>
  <a id="2985" href="Ledger.Conway.Script.Base.html#2946" class="Function">toP1Script</a> <a id="2996" class="Symbol">=</a> <a id="2998" href="Data.Sum.html#787" class="Function">isInj₁</a>

  <a id="ScriptStructure.isP2Script"></a><a id="3008" href="Ledger.Conway.Script.Base.html#3008" class="Function">isP2Script</a> <a id="3019" class="Symbol">:</a> <a id="3021" href="Ledger.Conway.Script.Base.html#2413" class="Function">Script</a> <a id="3028" class="Symbol">→</a> <a id="3030" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3037" href="Ledger.Conway.Script.Base.html#3008" class="Function">isP2Script</a> <a id="3048" class="Symbol">=</a> <a id="3050" href="Data.Bool.Base.html#1348" class="Function">T</a> <a id="3052" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3054" href="Data.Maybe.Base.html#1117" class="Function">is-just</a> <a id="3062" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3064" href="Data.Sum.html#870" class="Function">isInj₂</a>

  <a id="ScriptStructure.isP2Script?"></a><a id="3074" href="Ledger.Conway.Script.Base.html#3074" class="Function">isP2Script?</a> <a id="3086" class="Symbol">:</a> <a id="3088" class="Symbol">∀</a> <a id="3090" class="Symbol">{</a><a id="3091" href="Ledger.Conway.Script.Base.html#3091" class="Bound">s</a><a id="3092" class="Symbol">}</a> <a id="3094" class="Symbol">→</a> <a id="3096" href="Ledger.Conway.Script.Base.html#3008" class="Function">isP2Script</a> <a id="3107" href="Ledger.Conway.Script.Base.html#3091" class="Bound">s</a> <a id="3109" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
  <a id="3113" href="Ledger.Conway.Script.Base.html#3074" class="Function">isP2Script?</a> <a id="3125" class="Symbol">{</a><a id="3126" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="3131" href="Ledger.Conway.Script.Base.html#3131" class="Bound">x</a><a id="3132" class="Symbol">}</a> <a id="3134" class="Symbol">.</a><a id="3135" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="3139" class="Symbol">=</a> <a id="3141" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3144" class="Symbol">λ</a> <a id="3146" class="Symbol">()</a>
  <a id="3151" href="Ledger.Conway.Script.Base.html#3074" class="Function">isP2Script?</a> <a id="3163" class="Symbol">{</a><a id="3164" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="3169" href="Ledger.Conway.Script.Base.html#3169" class="Bound">y</a><a id="3170" class="Symbol">}</a> <a id="3172" class="Symbol">.</a><a id="3173" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="3177" class="Symbol">=</a> <a id="3179" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3183" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>

  <a id="ScriptStructure.toP2Script"></a><a id="3189" href="Ledger.Conway.Script.Base.html#3189" class="Function">toP2Script</a> <a id="3200" class="Symbol">:</a> <a id="3202" href="Ledger.Conway.Script.Base.html#2413" class="Function">Script</a> <a id="3209" class="Symbol">→</a> <a id="3211" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3217" href="Ledger.Conway.Script.Base.html#2335" class="Function">P2Script</a>
  <a id="3228" href="Ledger.Conway.Script.Base.html#3189" class="Function">toP2Script</a> <a id="3239" class="Symbol">=</a> <a id="3241" href="Data.Sum.html#870" class="Function">isInj₂</a>
</pre></body></html>