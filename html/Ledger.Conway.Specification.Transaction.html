<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Transaction</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>
<a id="25" class="Comment">--------------------------------------------------------------------------------</a>
<a id="106" class="Comment">-- NOTE: Everything in this module is part of TransactionStructure</a>
<a id="173" class="Comment">--------------------------------------------------------------------------------</a>
<a id="254" class="Keyword">module</a> <a id="261" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="301" class="Keyword">where</a>

<a id="308" class="Keyword">import</a> <a id="315" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="331" class="Symbol">as</a> <a id="334" class="Module">M</a>

<a id="337" class="Keyword">open</a> <a id="342" class="Keyword">import</a> <a id="349" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="364" class="Keyword">renaming</a> <a id="373" class="Symbol">(</a><a id="374" href="abstract-set-theory.FiniteSetTheory.html#4102" class="Function">filterᵐ</a> <a id="382" class="Symbol">to</a> <a id="385" class="Function">filter</a><a id="391" class="Symbol">)</a>

<a id="394" class="Keyword">open</a> <a id="399" class="Keyword">import</a> <a id="406" href="Ledger.Core.Specification.Crypto.html" class="Module">Ledger.Core.Specification.Crypto</a>
<a id="439" class="Keyword">open</a> <a id="444" class="Keyword">import</a> <a id="451" href="Ledger.Core.Specification.Epoch.html" class="Module">Ledger.Core.Specification.Epoch</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="Ledger.Conway.Specification.Gov.Base.html" class="Module">Ledger.Conway.Specification.Gov.Base</a>
<a id="532" class="Keyword">import</a> <a id="539" href="Ledger.Conway.Specification.PParams.html" class="Module">Ledger.Conway.Specification.PParams</a>
<a id="575" class="Keyword">import</a> <a id="582" href="Ledger.Conway.Specification.Script.Base.html" class="Module">Ledger.Conway.Specification.Script.Base</a>
<a id="622" class="Keyword">import</a> <a id="629" href="Ledger.Conway.Specification.Gov.Actions.html" class="Module">Ledger.Conway.Specification.Gov.Actions</a>
<a id="669" class="Keyword">import</a> <a id="676" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a>
<a id="710" class="Keyword">import</a> <a id="717" href="Ledger.Conway.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Conway.Specification.TokenAlgebra.Base</a>
<a id="763" class="Keyword">import</a> <a id="770" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a>

<a id="805" class="Keyword">open</a> <a id="810" class="Keyword">import</a> <a id="817" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="844" class="Keyword">using</a> <a id="850" class="Symbol">(</a><a id="851" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌊_⌋</a><a id="854" class="Symbol">)</a>

<a id="857" class="Keyword">data</a> <a id="Tag"></a><a id="862" href="Ledger.Conway.Specification.Transaction.html#862" class="Datatype">Tag</a> <a id="866" class="Symbol">:</a> <a id="868" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="873" class="Keyword">where</a>
  <a id="Tag.Spend"></a><a id="881" href="Ledger.Conway.Specification.Transaction.html#881" class="InductiveConstructor">Spend</a> <a id="Tag.Mint"></a><a id="887" href="Ledger.Conway.Specification.Transaction.html#887" class="InductiveConstructor">Mint</a> <a id="Tag.Cert"></a><a id="892" href="Ledger.Conway.Specification.Transaction.html#892" class="InductiveConstructor">Cert</a> <a id="Tag.Rewrd"></a><a id="897" href="Ledger.Conway.Specification.Transaction.html#897" class="InductiveConstructor">Rewrd</a> <a id="Tag.Vote"></a><a id="903" href="Ledger.Conway.Specification.Transaction.html#903" class="InductiveConstructor">Vote</a> <a id="Tag.Propose"></a><a id="908" href="Ledger.Conway.Specification.Transaction.html#908" class="InductiveConstructor">Propose</a> <a id="916" class="Symbol">:</a> <a id="918" href="Ledger.Conway.Specification.Transaction.html#862" class="Datatype">Tag</a>
<a id="922" class="Keyword">unquoteDecl</a> <a id="DecEq-Tag"></a><a id="934" href="Ledger.Conway.Specification.Transaction.html#934" class="Function">DecEq-Tag</a> <a id="944" class="Symbol">=</a> <a id="946" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="959" class="Symbol">((</a><a id="961" class="Keyword">quote</a> <a id="967" href="Ledger.Conway.Specification.Transaction.html#862" class="Datatype">Tag</a> <a id="971" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="973" href="Ledger.Conway.Specification.Transaction.html#934" class="Function">DecEq-Tag</a><a id="982" class="Symbol">)</a> <a id="984" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="986" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="988" class="Symbol">)</a>


<a id="992" class="Keyword">record</a> <a id="TransactionStructure"></a><a id="999" href="Ledger.Conway.Specification.Transaction.html#999" class="Record">TransactionStructure</a> <a id="1020" class="Symbol">:</a> <a id="1022" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="1028" class="Keyword">where</a>
  <a id="1036" class="Keyword">field</a>


    <a id="TransactionStructure.Ix"></a><a id="1048" href="Ledger.Conway.Specification.Transaction.html#1048" class="Field">Ix</a> <a id="TransactionStructure.TxId"></a><a id="1051" href="Ledger.Conway.Specification.Transaction.html#1051" class="Field">TxId</a> <a id="TransactionStructure.AuxiliaryData"></a><a id="1056" href="Ledger.Conway.Specification.Transaction.html#1056" class="Field">AuxiliaryData</a> <a id="1070" class="Symbol">:</a> <a id="1072" href="Agda.Primitive.html#388" class="Primitive">Type</a>


    <a id="1083" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-Ix"></a><a id="1085" href="Ledger.Conway.Specification.Transaction.html#1085" class="Field">DecEq-Ix</a>   <a id="1096" class="Symbol">⦄</a> <a id="1098" class="Symbol">:</a> <a id="1100" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1106" href="Ledger.Conway.Specification.Transaction.html#1048" class="Field">Ix</a>
    <a id="1113" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-TxId"></a><a id="1115" href="Ledger.Conway.Specification.Transaction.html#1115" class="Field">DecEq-TxId</a> <a id="1126" class="Symbol">⦄</a> <a id="1128" class="Symbol">:</a> <a id="1130" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1136" href="Ledger.Conway.Specification.Transaction.html#1051" class="Field">TxId</a>
    <a id="TransactionStructure.adHashingScheme"></a><a id="1145" href="Ledger.Conway.Specification.Transaction.html#1145" class="Field">adHashingScheme</a> <a id="1161" class="Symbol">:</a> <a id="1163" href="Ledger.Core.Specification.Crypto.html#167" class="Record">isHashableSet</a> <a id="1177" href="Ledger.Conway.Specification.Transaction.html#1056" class="Field">AuxiliaryData</a>
  <a id="1193" class="Keyword">open</a> <a id="1198" href="Ledger.Core.Specification.Crypto.html#167" class="Module">isHashableSet</a> <a id="1212" href="Ledger.Conway.Specification.Transaction.html#1145" class="Field">adHashingScheme</a> <a id="1228" class="Keyword">renaming</a> <a id="1237" class="Symbol">(</a><a id="1238" href="Ledger.Core.Specification.Crypto.html#244" class="Field">THash</a> <a id="1244" class="Symbol">to</a> <a id="1247" class="Field">ADHash</a><a id="1253" class="Symbol">)</a> <a id="1255" class="Keyword">public</a>

  <a id="1265" class="Keyword">field</a> <a id="TransactionStructure.globalConstants"></a><a id="1271" href="Ledger.Conway.Specification.Transaction.html#1271" class="Field">globalConstants</a> <a id="1287" class="Symbol">:</a> <a id="1289" class="Symbol">_</a>
  <a id="1293" class="Keyword">open</a> <a id="1298" href="Ledger.Core.Specification.Epoch.html#2274" class="Module">GlobalConstants</a> <a id="1314" href="Ledger.Conway.Specification.Transaction.html#1271" class="Field">globalConstants</a> <a id="1330" class="Keyword">public</a>

  <a id="1340" class="Keyword">field</a> <a id="TransactionStructure.cryptoStructure"></a><a id="1346" href="Ledger.Conway.Specification.Transaction.html#1346" class="Field">cryptoStructure</a> <a id="1362" class="Symbol">:</a> <a id="1364" class="Symbol">_</a>
  <a id="1368" class="Keyword">open</a> <a id="1373" href="Ledger.Core.Specification.Crypto.html#1110" class="Module">CryptoStructure</a> <a id="1389" href="Ledger.Conway.Specification.Transaction.html#1346" class="Field">cryptoStructure</a> <a id="1405" class="Keyword">public</a>
  <a id="1414" class="Keyword">open</a> <a id="1419" href="Ledger.Conway.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Conway.Specification.TokenAlgebra.Base</a> <a id="1465" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1476" class="Keyword">public</a>
  <a id="1485" class="Keyword">open</a> <a id="1490" href="Ledger.Core.Specification.Address.html" class="Module">Ledger.Core.Specification.Address</a> <a id="1524" href="Ledger.Core.Specification.Epoch.html#2313" class="Function">Network</a> <a id="1532" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="1540" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1551" class="Symbol">⦃</a> <a id="1553" href="Function.Base.html#4755" class="Function">it</a> <a id="1556" class="Symbol">⦄</a> <a id="1558" class="Symbol">⦃</a> <a id="1560" href="Function.Base.html#4755" class="Function">it</a> <a id="1563" class="Symbol">⦄</a> <a id="1565" class="Symbol">⦃</a> <a id="1567" href="Function.Base.html#4755" class="Function">it</a> <a id="1570" class="Symbol">⦄</a> <a id="1572" class="Keyword">public</a>

  <a id="1582" class="Keyword">field</a> <a id="TransactionStructure.epochStructure"></a><a id="1588" href="Ledger.Conway.Specification.Transaction.html#1588" class="Field">epochStructure</a> <a id="1603" class="Symbol">:</a> <a id="1605" class="Symbol">_</a>
  <a id="1609" class="Keyword">open</a> <a id="1614" href="Ledger.Core.Specification.Epoch.html#578" class="Module">EpochStructure</a> <a id="1629" href="Ledger.Conway.Specification.Transaction.html#1588" class="Field">epochStructure</a> <a id="1644" class="Keyword">public</a>
  <a id="1653" class="Keyword">open</a> <a id="1658" href="Ledger.Conway.Specification.Script.Base.html" class="Module">Ledger.Conway.Specification.Script.Base</a> <a id="1698" href="Ledger.Conway.Specification.Transaction.html#1346" class="Field">cryptoStructure</a> <a id="1714" href="Ledger.Conway.Specification.Transaction.html#1588" class="Field">epochStructure</a> <a id="1729" class="Keyword">public</a>

  <a id="1739" class="Keyword">field</a> <a id="TransactionStructure.scriptStructure"></a><a id="1745" href="Ledger.Conway.Specification.Transaction.html#1745" class="Field">scriptStructure</a> <a id="1761" class="Symbol">:</a> <a id="1763" class="Symbol">_</a>
  <a id="1767" class="Keyword">open</a> <a id="1772" href="Ledger.Conway.Specification.Script.Base.html#2103" class="Module">ScriptStructure</a> <a id="1788" href="Ledger.Conway.Specification.Transaction.html#1745" class="Field">scriptStructure</a> <a id="1804" class="Keyword">public</a>
  <a id="1813" class="Keyword">open</a> <a id="1818" href="Ledger.Conway.Specification.PParams.html" class="Module">Ledger.Conway.Specification.PParams</a> <a id="1854" href="Ledger.Conway.Specification.Transaction.html#1346" class="Field">cryptoStructure</a> <a id="1870" href="Ledger.Conway.Specification.Transaction.html#1588" class="Field">epochStructure</a> <a id="1885" href="Ledger.Conway.Specification.Transaction.html#1745" class="Field">scriptStructure</a> <a id="1901" class="Keyword">public</a>

  <a id="1911" class="Keyword">field</a> <a id="TransactionStructure.govParams"></a><a id="1917" href="Ledger.Conway.Specification.Transaction.html#1917" class="Field">govParams</a> <a id="1927" class="Symbol">:</a> <a id="1929" class="Symbol">_</a>
  <a id="1933" class="Keyword">open</a> <a id="1938" href="Ledger.Conway.Specification.PParams.html#14303" class="Module">GovParams</a> <a id="1948" href="Ledger.Conway.Specification.Transaction.html#1917" class="Field">govParams</a> <a id="1958" class="Keyword">public</a>

  <a id="1968" class="Keyword">field</a> <a id="TransactionStructure.tokenAlgebra"></a><a id="1974" href="Ledger.Conway.Specification.Transaction.html#1974" class="Field">tokenAlgebra</a> <a id="1987" class="Symbol">:</a> <a id="1989" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#478" class="Record">TokenAlgebra</a>
  <a id="2004" class="Keyword">open</a> <a id="2009" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#478" class="Module">TokenAlgebra</a> <a id="2022" href="Ledger.Conway.Specification.Transaction.html#1974" class="Field">tokenAlgebra</a> <a id="2035" class="Keyword">public</a>

  <a id="2045" class="Keyword">field</a>
    <a id="TransactionStructure.txidBytes"></a><a id="2055" href="Ledger.Conway.Specification.Transaction.html#2055" class="Field">txidBytes</a> <a id="2065" class="Symbol">:</a> <a id="2067" href="Ledger.Conway.Specification.Transaction.html#1051" class="Field">TxId</a> <a id="2072" class="Symbol">→</a> <a id="2074" href="Ledger.Core.Specification.Crypto.html#659" class="Function">Ser</a>
    <a id="2082" class="Symbol">⦃</a> <a id="TransactionStructure.Hashable-ScriptIntegrity"></a><a id="2084" href="Ledger.Conway.Specification.Transaction.html#2084" class="Field">Hashable-ScriptIntegrity</a> <a id="2109" class="Symbol">⦄</a> <a id="2111" class="Symbol">:</a>
        <a id="2121" href="Interface.TypeClasses.Hashable.html#172" class="Record">Hashable</a>
          <a id="2140" class="Symbol">(</a> <a id="2142" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2144" href="Ledger.Conway.Specification.Script.Base.html#1823" class="Function">Datum</a>
          <a id="2160" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2162" class="Symbol">((</a><a id="2164" href="Ledger.Conway.Specification.Transaction.html#862" class="Datatype">Tag</a> <a id="2168" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2170" href="Ledger.Conway.Specification.Transaction.html#1048" class="Field">Ix</a><a id="2172" class="Symbol">)</a> <a id="2174" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2176" class="Symbol">(</a><a id="2177" href="Ledger.Conway.Specification.Script.Base.html#1841" class="Function">Redeemer</a> <a id="2186" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2188" href="Ledger.Conway.Specification.Script.Base.html#1018" class="Function">ExUnits</a><a id="2195" class="Symbol">))</a>
          <a id="2208" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2210" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2212" href="Ledger.Conway.Specification.Script.Base.html#1006" class="Function">LangDepView</a>
          <a id="2234" class="Symbol">)</a>
          <a id="2246" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

  <a id="TransactionStructure.govStructure"></a><a id="2260" href="Ledger.Conway.Specification.Transaction.html#2260" class="Function">govStructure</a> <a id="2273" class="Symbol">:</a> <a id="2275" href="Ledger.Conway.Specification.Gov.Base.html#326" class="Record">GovStructure</a>
  <a id="2290" href="Ledger.Conway.Specification.Transaction.html#2260" class="Function">govStructure</a> <a id="2303" class="Symbol">=</a> <a id="2305" class="Keyword">record</a>
    <a id="2316" class="Comment">-- TODO: figure out what to do with the hash</a>
    <a id="2365" class="Symbol">{</a> <a id="2367" href="Ledger.Conway.Specification.Gov.Base.html#361" class="Field">TxId</a> <a id="2372" class="Symbol">=</a> <a id="2374" href="Ledger.Conway.Specification.Transaction.html#1051" class="Field">TxId</a><a id="2378" class="Symbol">;</a> <a id="2380" href="Ledger.Conway.Specification.Gov.Base.html#366" class="Field">DocHash</a> <a id="2388" class="Symbol">=</a> <a id="2390" href="Ledger.Conway.Specification.Transaction.html#1247" class="Function">ADHash</a>
    <a id="2401" class="Symbol">;</a> <a id="2403" href="Ledger.Conway.Specification.Gov.Base.html#426" class="Field">cryptoStructure</a> <a id="2419" class="Symbol">=</a> <a id="2421" href="Ledger.Conway.Specification.Transaction.html#1346" class="Field">cryptoStructure</a>
    <a id="2441" class="Symbol">;</a> <a id="2443" href="Ledger.Conway.Specification.Gov.Base.html#501" class="Field">epochStructure</a> <a id="2458" class="Symbol">=</a> <a id="2460" href="Ledger.Conway.Specification.Transaction.html#1588" class="Field">epochStructure</a>
    <a id="2479" class="Symbol">;</a> <a id="2481" href="Ledger.Conway.Specification.Gov.Base.html#573" class="Field">scriptStructure</a> <a id="2497" class="Symbol">=</a> <a id="2499" href="Ledger.Conway.Specification.Transaction.html#1745" class="Field">scriptStructure</a>
    <a id="2519" class="Symbol">;</a> <a id="2521" href="Ledger.Conway.Specification.Gov.Base.html#791" class="Field">govParams</a> <a id="2531" class="Symbol">=</a> <a id="2533" href="Ledger.Conway.Specification.Transaction.html#1917" class="Field">govParams</a>
    <a id="2547" class="Symbol">;</a> <a id="2549" href="Ledger.Conway.Specification.Gov.Base.html#856" class="Field">globalConstants</a> <a id="2565" class="Symbol">=</a> <a id="2567" href="Ledger.Conway.Specification.Transaction.html#1271" class="Field">globalConstants</a>
    <a id="2587" class="Symbol">}</a>

  <a id="2592" class="Keyword">module</a> <a id="TransactionStructure.GovActions"></a><a id="2599" href="Ledger.Conway.Specification.Transaction.html#2599" class="Module">GovActions</a> <a id="2610" class="Symbol">=</a> <a id="2612" href="Ledger.Conway.Specification.Gov.Actions.html" class="Module">Ledger.Conway.Specification.Gov.Actions</a> <a id="2652" href="Ledger.Conway.Specification.Transaction.html#2260" class="Function">govStructure</a>
  <a id="2667" class="Keyword">open</a> <a id="2672" href="Ledger.Conway.Specification.Transaction.html#2599" class="Module">GovActions</a> <a id="2683" class="Keyword">hiding</a> <a id="2690" class="Symbol">(</a><a id="2691" href="Ledger.Conway.Specification.Gov.Actions.html#2030" class="Datatype">Vote</a><a id="2695" class="Symbol">;</a> <a id="2697" href="Ledger.Conway.Specification.Gov.Actions.html#2050" class="InductiveConstructor">yes</a><a id="2700" class="Symbol">;</a> <a id="2702" href="Ledger.Conway.Specification.Gov.Actions.html#2054" class="InductiveConstructor">no</a><a id="2704" class="Symbol">;</a> <a id="2706" href="Ledger.Conway.Specification.Gov.Actions.html#2057" class="InductiveConstructor">abstain</a><a id="2713" class="Symbol">)</a> <a id="2715" class="Keyword">public</a>

  <a id="2725" class="Keyword">open</a> <a id="2730" class="Keyword">import</a> <a id="2737" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="2771" href="Ledger.Conway.Specification.Transaction.html#2260" class="Function">govStructure</a>


  <a id="TransactionStructure.TxIn"></a><a id="2788" href="Ledger.Conway.Specification.Transaction.html#2788" class="Function">TxIn</a>               <a id="2807" class="Symbol">=</a> <a id="2809" href="Ledger.Conway.Specification.Transaction.html#1051" class="Field">TxId</a> <a id="2814" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2816" href="Ledger.Conway.Specification.Transaction.html#1048" class="Field">Ix</a>
  <a id="TransactionStructure.TxOut"></a><a id="2821" href="Ledger.Conway.Specification.Transaction.html#2821" class="Function">TxOut</a>              <a id="2840" class="Symbol">=</a> <a id="2842" href="Ledger.Core.Specification.Address.html#2906" class="Function">Addr</a> <a id="2847" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2849" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a> <a id="2855" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2857" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2863" class="Symbol">(</a><a id="2864" href="Ledger.Conway.Specification.Script.Base.html#1823" class="Function">Datum</a> <a id="2870" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2872" href="Ledger.Conway.Specification.Script.Base.html#1776" class="Function">DataHash</a><a id="2880" class="Symbol">)</a> <a id="2882" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2884" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2890" href="Ledger.Conway.Specification.Script.Base.html#2498" class="Function">Script</a>
  <a id="TransactionStructure.UTxO"></a><a id="2899" href="Ledger.Conway.Specification.Transaction.html#2899" class="Function">UTxO</a>               <a id="2918" class="Symbol">=</a> <a id="2920" href="Ledger.Conway.Specification.Transaction.html#2788" class="Function">TxIn</a> <a id="2925" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2927" href="Ledger.Conway.Specification.Transaction.html#2821" class="Function">TxOut</a>
  <a id="TransactionStructure.RdmrPtr"></a><a id="2935" href="Ledger.Conway.Specification.Transaction.html#2935" class="Function">RdmrPtr</a>            <a id="2954" class="Symbol">=</a> <a id="2956" href="Ledger.Conway.Specification.Transaction.html#862" class="Datatype">Tag</a> <a id="2960" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2962" href="Ledger.Conway.Specification.Transaction.html#1048" class="Field">Ix</a>
  <a id="TransactionStructure.ProposedPPUpdates"></a><a id="2967" href="Ledger.Conway.Specification.Transaction.html#2967" class="Function">ProposedPPUpdates</a>  <a id="2986" class="Symbol">=</a> <a id="2988" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="2996" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2998" href="Ledger.Conway.Specification.PParams.html#14401" class="Function">PParamsUpdate</a>
  <a id="TransactionStructure.Update"></a><a id="3014" href="Ledger.Conway.Specification.Transaction.html#3014" class="Function">Update</a>             <a id="3033" class="Symbol">=</a> <a id="3035" href="Ledger.Conway.Specification.Transaction.html#2967" class="Function">ProposedPPUpdates</a> <a id="3053" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3055" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a>


  <a id="3065" class="Keyword">record</a> <a id="TransactionStructure.HasUTxO"></a><a id="3072" href="Ledger.Conway.Specification.Transaction.html#3072" class="Record">HasUTxO</a> <a id="3080" class="Symbol">{</a><a id="3081" href="Ledger.Conway.Specification.Transaction.html#3081" class="Bound">a</a><a id="3082" class="Symbol">}</a> <a id="3084" class="Symbol">(</a><a id="3085" href="Ledger.Conway.Specification.Transaction.html#3085" class="Bound">A</a> <a id="3087" class="Symbol">:</a> <a id="3089" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3094" href="Ledger.Conway.Specification.Transaction.html#3081" class="Bound">a</a><a id="3095" class="Symbol">)</a> <a id="3097" class="Symbol">:</a> <a id="3099" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3104" href="Ledger.Conway.Specification.Transaction.html#3081" class="Bound">a</a> <a id="3106" class="Keyword">where</a>
    <a id="3116" class="Keyword">field</a> <a id="3122" href="Ledger.Conway.Specification.Transaction.html#3122" class="Field">UTxOOf</a> <a id="3129" class="Symbol">:</a> <a id="3131" href="Ledger.Conway.Specification.Transaction.html#3085" class="Bound">A</a> <a id="3133" class="Symbol">→</a> <a id="3135" href="Ledger.Conway.Specification.Transaction.html#2899" class="Function">UTxO</a>
  <a id="3142" class="Keyword">open</a> <a id="3147" href="Ledger.Conway.Specification.Transaction.html#3072" class="Module">HasUTxO</a> <a id="3155" class="Symbol">⦃...⦄</a> <a id="3161" class="Keyword">public</a>


  <a id="3172" class="Keyword">record</a> <a id="TransactionStructure.TxBody"></a><a id="3179" href="Ledger.Conway.Specification.Transaction.html#3179" class="Record">TxBody</a> <a id="3186" class="Symbol">:</a> <a id="3188" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3193" class="Keyword">where</a>
    <a id="3203" class="Keyword">field</a>
      <a id="3215" href="Ledger.Conway.Specification.Transaction.html#3215" class="Field">txIns</a>                <a id="3236" class="Symbol">:</a> <a id="3238" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3240" href="Ledger.Conway.Specification.Transaction.html#2788" class="Function">TxIn</a>
      <a id="3251" href="Ledger.Conway.Specification.Transaction.html#3251" class="Field">refInputs</a>            <a id="3272" class="Symbol">:</a> <a id="3274" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3276" href="Ledger.Conway.Specification.Transaction.html#2788" class="Function">TxIn</a>
      <a id="3287" href="Ledger.Conway.Specification.Transaction.html#3287" class="Field">collateralInputs</a>     <a id="3308" class="Symbol">:</a> <a id="3310" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3312" href="Ledger.Conway.Specification.Transaction.html#2788" class="Function">TxIn</a>
      <a id="3323" href="Ledger.Conway.Specification.Transaction.html#3323" class="Field">txOuts</a>               <a id="3344" class="Symbol">:</a> <a id="3346" href="Ledger.Conway.Specification.Transaction.html#1048" class="Field">Ix</a> <a id="3349" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3351" href="Ledger.Conway.Specification.Transaction.html#2821" class="Function">TxOut</a>
      <a id="3363" href="Ledger.Conway.Specification.Transaction.html#3363" class="Field">txId</a>                 <a id="3384" class="Symbol">:</a> <a id="3386" href="Ledger.Conway.Specification.Transaction.html#1051" class="Field">TxId</a>
      <a id="3397" href="Ledger.Conway.Specification.Transaction.html#3397" class="Field">txCerts</a>              <a id="3418" class="Symbol">:</a> <a id="3420" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3425" href="Ledger.Conway.Specification.Certs.html#2116" class="Datatype">DCert</a>
      <a id="3437" href="Ledger.Conway.Specification.Transaction.html#3437" class="Field">txFee</a>                <a id="3458" class="Symbol">:</a> <a id="3460" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
      <a id="3471" href="Ledger.Conway.Specification.Transaction.html#3471" class="Field">txWithdrawals</a>        <a id="3492" class="Symbol">:</a> <a id="3494" href="Ledger.Core.Specification.Address.html#1394" class="Function">Withdrawals</a>
      <a id="3512" href="Ledger.Conway.Specification.Transaction.html#3512" class="Field">txVldt</a>               <a id="3533" class="Symbol">:</a> <a id="3535" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3541" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a> <a id="3546" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3548" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3554" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
      <a id="3565" href="Ledger.Conway.Specification.Transaction.html#3565" class="Field">txADhash</a>             <a id="3586" class="Symbol">:</a> <a id="3588" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3594" href="Ledger.Conway.Specification.Transaction.html#1247" class="Function">ADHash</a>
      <a id="3607" href="Ledger.Conway.Specification.Transaction.html#3607" class="Field">txDonation</a>           <a id="3628" class="Symbol">:</a> <a id="3630" href="Ledger.Prelude.Base.html#176" class="Function">Donations</a>
      <a id="3646" href="Ledger.Conway.Specification.Transaction.html#3646" class="Field">txGovVotes</a>           <a id="3667" class="Symbol">:</a> <a id="3669" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3674" href="Ledger.Conway.Specification.Gov.Actions.html#2294" class="Record">GovVote</a>
      <a id="3688" href="Ledger.Conway.Specification.Transaction.html#3688" class="Field">txGovProposals</a>       <a id="3709" class="Symbol">:</a> <a id="3711" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3716" href="Ledger.Conway.Specification.Gov.Actions.html#3603" class="Record">GovProposal</a>
      <a id="3734" href="Ledger.Conway.Specification.Transaction.html#3734" class="Field">txNetworkId</a>          <a id="3755" class="Symbol">:</a> <a id="3757" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3763" href="Ledger.Core.Specification.Epoch.html#2313" class="Function">Network</a>
      <a id="3777" href="Ledger.Conway.Specification.Transaction.html#3777" class="Field">currentTreasury</a>      <a id="3798" class="Symbol">:</a> <a id="3800" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3806" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>
      <a id="3821" href="Ledger.Conway.Specification.Transaction.html#3821" class="Field">mint</a>                 <a id="3842" class="Symbol">:</a> <a id="3844" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
      <a id="3856" href="Ledger.Conway.Specification.Transaction.html#3856" class="Field">reqSignerHashes</a>      <a id="3877" class="Symbol">:</a> <a id="3879" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3881" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a>
      <a id="3895" href="Ledger.Conway.Specification.Transaction.html#3895" class="Field">scriptIntegrityHash</a>  <a id="3916" class="Symbol">:</a> <a id="3918" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3924" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
      <a id="3941" class="Comment">-- txup              : Maybe Update   -- deprecated; leave for now</a>


  <a id="4012" class="Keyword">record</a> <a id="TransactionStructure.HasTxBody"></a><a id="4019" href="Ledger.Conway.Specification.Transaction.html#4019" class="Record">HasTxBody</a> <a id="4029" class="Symbol">{</a><a id="4030" href="Ledger.Conway.Specification.Transaction.html#4030" class="Bound">a</a><a id="4031" class="Symbol">}</a> <a id="4033" class="Symbol">(</a><a id="4034" href="Ledger.Conway.Specification.Transaction.html#4034" class="Bound">A</a> <a id="4036" class="Symbol">:</a> <a id="4038" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4043" href="Ledger.Conway.Specification.Transaction.html#4030" class="Bound">a</a><a id="4044" class="Symbol">)</a> <a id="4046" class="Symbol">:</a> <a id="4048" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4053" href="Ledger.Conway.Specification.Transaction.html#4030" class="Bound">a</a> <a id="4055" class="Keyword">where</a>
    <a id="4065" class="Keyword">field</a> <a id="4071" href="Ledger.Conway.Specification.Transaction.html#4071" class="Field">TxBodyOf</a> <a id="4080" class="Symbol">:</a> <a id="4082" href="Ledger.Conway.Specification.Transaction.html#4034" class="Bound">A</a> <a id="4084" class="Symbol">→</a> <a id="4086" href="Ledger.Conway.Specification.Transaction.html#3179" class="Record">TxBody</a>
  <a id="4095" class="Keyword">open</a> <a id="4100" href="Ledger.Conway.Specification.Transaction.html#4019" class="Module">HasTxBody</a>  <a id="4111" class="Symbol">⦃...⦄</a> <a id="4117" class="Keyword">public</a>

  <a id="4127" class="Keyword">record</a> <a id="TransactionStructure.HasDCerts"></a><a id="4134" href="Ledger.Conway.Specification.Transaction.html#4134" class="Record">HasDCerts</a> <a id="4144" class="Symbol">{</a><a id="4145" href="Ledger.Conway.Specification.Transaction.html#4145" class="Bound">a</a><a id="4146" class="Symbol">}</a> <a id="4148" class="Symbol">(</a><a id="4149" href="Ledger.Conway.Specification.Transaction.html#4149" class="Bound">A</a> <a id="4151" class="Symbol">:</a> <a id="4153" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4158" href="Ledger.Conway.Specification.Transaction.html#4145" class="Bound">a</a><a id="4159" class="Symbol">)</a> <a id="4161" class="Symbol">:</a> <a id="4163" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4168" href="Ledger.Conway.Specification.Transaction.html#4145" class="Bound">a</a> <a id="4170" class="Keyword">where</a>
    <a id="4180" class="Keyword">field</a> <a id="4186" href="Ledger.Conway.Specification.Transaction.html#4186" class="Field">DCertsOf</a> <a id="4195" class="Symbol">:</a> <a id="4197" href="Ledger.Conway.Specification.Transaction.html#4149" class="Bound">A</a> <a id="4199" class="Symbol">→</a> <a id="4201" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4206" href="Ledger.Conway.Specification.Certs.html#2116" class="Datatype">DCert</a>
  <a id="4214" class="Keyword">open</a> <a id="4219" href="Ledger.Conway.Specification.Transaction.html#4134" class="Module">HasDCerts</a> <a id="4229" class="Symbol">⦃...⦄</a> <a id="4235" class="Keyword">public</a>

  <a id="4245" class="Keyword">record</a> <a id="TransactionStructure.HasGovProposals"></a><a id="4252" href="Ledger.Conway.Specification.Transaction.html#4252" class="Record">HasGovProposals</a> <a id="4268" class="Symbol">{</a><a id="4269" href="Ledger.Conway.Specification.Transaction.html#4269" class="Bound">a</a><a id="4270" class="Symbol">}</a> <a id="4272" class="Symbol">(</a><a id="4273" href="Ledger.Conway.Specification.Transaction.html#4273" class="Bound">A</a> <a id="4275" class="Symbol">:</a> <a id="4277" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4282" href="Ledger.Conway.Specification.Transaction.html#4269" class="Bound">a</a><a id="4283" class="Symbol">)</a> <a id="4285" class="Symbol">:</a> <a id="4287" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4292" href="Ledger.Conway.Specification.Transaction.html#4269" class="Bound">a</a> <a id="4294" class="Keyword">where</a>
    <a id="4304" class="Keyword">field</a> <a id="4310" href="Ledger.Conway.Specification.Transaction.html#4310" class="Field">GovProposalsOf</a>  <a id="4326" class="Symbol">:</a> <a id="4328" href="Ledger.Conway.Specification.Transaction.html#4273" class="Bound">A</a> <a id="4330" class="Symbol">→</a> <a id="4332" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4337" href="Ledger.Conway.Specification.Gov.Actions.html#3603" class="Record">GovProposal</a>
  <a id="4351" class="Keyword">open</a> <a id="4356" href="Ledger.Conway.Specification.Transaction.html#4252" class="Module">HasGovProposals</a> <a id="4372" class="Symbol">⦃...⦄</a> <a id="4378" class="Keyword">public</a>

  <a id="4388" class="Keyword">record</a> <a id="TransactionStructure.HasTxId"></a><a id="4395" href="Ledger.Conway.Specification.Transaction.html#4395" class="Record">HasTxId</a> <a id="4403" class="Symbol">{</a><a id="4404" href="Ledger.Conway.Specification.Transaction.html#4404" class="Bound">a</a><a id="4405" class="Symbol">}</a> <a id="4407" class="Symbol">(</a><a id="4408" href="Ledger.Conway.Specification.Transaction.html#4408" class="Bound">A</a> <a id="4410" class="Symbol">:</a> <a id="4412" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4417" href="Ledger.Conway.Specification.Transaction.html#4404" class="Bound">a</a><a id="4418" class="Symbol">)</a> <a id="4420" class="Symbol">:</a> <a id="4422" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4427" href="Ledger.Conway.Specification.Transaction.html#4404" class="Bound">a</a> <a id="4429" class="Keyword">where</a>
    <a id="4439" class="Keyword">field</a> <a id="4445" href="Ledger.Conway.Specification.Transaction.html#4445" class="Field">TxIdOf</a>    <a id="4455" class="Symbol">:</a> <a id="4457" href="Ledger.Conway.Specification.Transaction.html#4408" class="Bound">A</a> <a id="4459" class="Symbol">→</a> <a id="4461" href="Ledger.Conway.Specification.Transaction.html#1051" class="Field">TxId</a>
  <a id="4468" class="Keyword">open</a> <a id="4473" href="Ledger.Conway.Specification.Transaction.html#4395" class="Module">HasTxId</a> <a id="4481" class="Symbol">⦃...⦄</a> <a id="4487" class="Keyword">public</a>

  <a id="4497" class="Keyword">instance</a>
    <a id="TransactionStructure.HasDonations-TxBody"></a><a id="4510" href="Ledger.Conway.Specification.Transaction.html#4510" class="Function">HasDonations-TxBody</a> <a id="4530" class="Symbol">:</a> <a id="4532" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="4545" href="Ledger.Conway.Specification.Transaction.html#3179" class="Record">TxBody</a>
    <a id="4556" href="Ledger.Conway.Specification.Transaction.html#4510" class="Function">HasDonations-TxBody</a> <a id="4576" class="Symbol">.</a><a id="4577" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="4589" class="Symbol">=</a> <a id="4591" href="Ledger.Conway.Specification.Transaction.html#3607" class="Field">TxBody.txDonation</a>


  <a id="4613" class="Keyword">record</a> <a id="TransactionStructure.TxWitnesses"></a><a id="4620" href="Ledger.Conway.Specification.Transaction.html#4620" class="Record">TxWitnesses</a> <a id="4632" class="Symbol">:</a> <a id="4634" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4639" class="Keyword">where</a>
    <a id="4649" class="Keyword">field</a>
      <a id="4661" href="Ledger.Conway.Specification.Transaction.html#4661" class="Field">vkSigs</a>   <a id="4670" class="Symbol">:</a> <a id="4672" href="Ledger.Core.Specification.Crypto.html#650" class="Function">VKey</a> <a id="4677" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4679" href="Ledger.Core.Specification.Crypto.html#655" class="Function">Sig</a>
      <a id="4689" href="Ledger.Conway.Specification.Transaction.html#4689" class="Field">scripts</a>  <a id="4698" class="Symbol">:</a> <a id="4700" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4702" href="Ledger.Conway.Specification.Script.Base.html#2498" class="Function">Script</a>
      <a id="4715" href="Ledger.Conway.Specification.Transaction.html#4715" class="Field">txdats</a>   <a id="4724" class="Symbol">:</a> <a id="4726" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4728" href="Ledger.Conway.Specification.Script.Base.html#1823" class="Function">Datum</a>
      <a id="4740" href="Ledger.Conway.Specification.Transaction.html#4740" class="Field">txrdmrs</a>  <a id="4749" class="Symbol">:</a> <a id="4751" href="Ledger.Conway.Specification.Transaction.html#2935" class="Function">RdmrPtr</a>  <a id="4760" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4762" href="Ledger.Conway.Specification.Script.Base.html#1841" class="Function">Redeemer</a> <a id="4771" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4773" href="Ledger.Conway.Specification.Script.Base.html#1018" class="Function">ExUnits</a>

    <a id="TransactionStructure.TxWitnesses.scriptsP1"></a><a id="4786" href="Ledger.Conway.Specification.Transaction.html#4786" class="Function">scriptsP1</a> <a id="4796" class="Symbol">:</a> <a id="4798" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4800" href="Ledger.Conway.Specification.Script.Base.html#642" class="Function">P1Script</a>
    <a id="4813" href="Ledger.Conway.Specification.Transaction.html#4786" class="Function">scriptsP1</a> <a id="4823" class="Symbol">=</a> <a id="4825" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="4836" href="Ledger.Conway.Specification.Script.Base.html#3030" class="Function">toP1Script</a> <a id="4847" href="Ledger.Conway.Specification.Transaction.html#4689" class="Field">scripts</a>

  <a id="4858" class="Keyword">record</a> <a id="TransactionStructure.Tx"></a><a id="4865" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a> <a id="4868" class="Symbol">:</a> <a id="4870" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4875" class="Keyword">where</a>
    <a id="4885" class="Keyword">field</a>
      <a id="4897" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a>     <a id="4906" class="Symbol">:</a> <a id="4908" href="Ledger.Conway.Specification.Transaction.html#3179" class="Record">TxBody</a>
      <a id="4921" href="Ledger.Conway.Specification.Transaction.html#4921" class="Field">wits</a>     <a id="4930" class="Symbol">:</a> <a id="4932" href="Ledger.Conway.Specification.Transaction.html#4620" class="Record">TxWitnesses</a>
      <a id="4950" href="Ledger.Conway.Specification.Transaction.html#4950" class="Field">txsize</a>   <a id="4959" class="Symbol">:</a> <a id="4961" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
      <a id="4969" href="Ledger.Conway.Specification.Transaction.html#4969" class="Field">isValid</a>  <a id="4978" class="Symbol">:</a> <a id="4980" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
      <a id="4991" href="Ledger.Conway.Specification.Transaction.html#4991" class="Field">txAD</a>     <a id="5000" class="Symbol">:</a> <a id="5002" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5008" href="Ledger.Conway.Specification.Transaction.html#1056" class="Field">AuxiliaryData</a>


  <a id="5026" class="Keyword">instance</a>
    <a id="TransactionStructure.HasTxBody-Tx"></a><a id="5039" href="Ledger.Conway.Specification.Transaction.html#5039" class="Function">HasTxBody-Tx</a> <a id="5052" class="Symbol">:</a> <a id="5054" href="Ledger.Conway.Specification.Transaction.html#4019" class="Record">HasTxBody</a> <a id="5064" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a>
    <a id="5071" href="Ledger.Conway.Specification.Transaction.html#5039" class="Function">HasTxBody-Tx</a> <a id="5084" class="Symbol">.</a><a id="5085" href="Ledger.Conway.Specification.Transaction.html#4071" class="Field">TxBodyOf</a> <a id="5094" class="Symbol">=</a> <a id="5096" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">Tx.body</a>

    <a id="TransactionStructure.HasFees-Tx"></a><a id="5109" href="Ledger.Conway.Specification.Transaction.html#5109" class="Function">HasFees-Tx</a> <a id="5120" class="Symbol">:</a> <a id="5122" href="Ledger.Prelude.Base.html#621" class="Record">HasFees</a> <a id="5130" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a>
    <a id="5137" href="Ledger.Conway.Specification.Transaction.html#5109" class="Function">HasFees-Tx</a> <a id="5148" class="Symbol">.</a><a id="5149" href="Ledger.Prelude.Base.html#669" class="Field">FeesOf</a> <a id="5156" class="Symbol">=</a> <a id="5158" href="Ledger.Conway.Specification.Transaction.html#3437" class="Field">TxBody.txFee</a> <a id="5171" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5173" href="Ledger.Conway.Specification.Transaction.html#4071" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasDCerts-Tx"></a><a id="5187" href="Ledger.Conway.Specification.Transaction.html#5187" class="Function">HasDCerts-Tx</a> <a id="5200" class="Symbol">:</a> <a id="5202" href="Ledger.Conway.Specification.Transaction.html#4134" class="Record">HasDCerts</a> <a id="5212" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a>
    <a id="5219" href="Ledger.Conway.Specification.Transaction.html#5187" class="Function">HasDCerts-Tx</a> <a id="5232" class="Symbol">.</a><a id="5233" href="Ledger.Conway.Specification.Transaction.html#4186" class="Field">DCertsOf</a> <a id="5242" class="Symbol">=</a> <a id="5244" href="Ledger.Conway.Specification.Transaction.html#3397" class="Field">TxBody.txCerts</a> <a id="5259" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5261" href="Ledger.Conway.Specification.Transaction.html#4071" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasGovProposals-Tx"></a><a id="5275" href="Ledger.Conway.Specification.Transaction.html#5275" class="Function">HasGovProposals-Tx</a> <a id="5294" class="Symbol">:</a> <a id="5296" href="Ledger.Conway.Specification.Transaction.html#4252" class="Record">HasGovProposals</a> <a id="5312" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a>
    <a id="5319" href="Ledger.Conway.Specification.Transaction.html#5275" class="Function">HasGovProposals-Tx</a> <a id="5338" class="Symbol">.</a><a id="5339" href="Ledger.Conway.Specification.Transaction.html#4310" class="Field">GovProposalsOf</a> <a id="5354" class="Symbol">=</a> <a id="5356" href="Ledger.Conway.Specification.Transaction.html#3688" class="Field">TxBody.txGovProposals</a> <a id="5378" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5380" href="Ledger.Conway.Specification.Transaction.html#4071" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasWithdrawals-TxBody"></a><a id="5394" href="Ledger.Conway.Specification.Transaction.html#5394" class="Function">HasWithdrawals-TxBody</a> <a id="5416" class="Symbol">:</a> <a id="5418" href="Ledger.Core.Specification.Address.html#1784" class="Record">HasWithdrawals</a> <a id="5433" href="Ledger.Conway.Specification.Transaction.html#3179" class="Record">TxBody</a>
    <a id="5444" href="Ledger.Conway.Specification.Transaction.html#5394" class="Function">HasWithdrawals-TxBody</a> <a id="5466" class="Symbol">.</a><a id="5467" href="Ledger.Core.Specification.Address.html#1839" class="Field">WithdrawalsOf</a> <a id="5481" class="Symbol">=</a> <a id="5483" href="Ledger.Conway.Specification.Transaction.html#3471" class="Field">TxBody.txWithdrawals</a>

    <a id="TransactionStructure.HasWithdrawals-Tx"></a><a id="5509" href="Ledger.Conway.Specification.Transaction.html#5509" class="Function">HasWithdrawals-Tx</a> <a id="5527" class="Symbol">:</a> <a id="5529" href="Ledger.Core.Specification.Address.html#1784" class="Record">HasWithdrawals</a> <a id="5544" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a>
    <a id="5551" href="Ledger.Conway.Specification.Transaction.html#5509" class="Function">HasWithdrawals-Tx</a> <a id="5569" class="Symbol">.</a><a id="5570" href="Ledger.Core.Specification.Address.html#1839" class="Field">WithdrawalsOf</a> <a id="5584" class="Symbol">=</a> <a id="5586" href="Ledger.Core.Specification.Address.html#1839" class="Field">WithdrawalsOf</a> <a id="5600" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5602" href="Ledger.Conway.Specification.Transaction.html#4071" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTxId-Tx"></a><a id="5616" href="Ledger.Conway.Specification.Transaction.html#5616" class="Function">HasTxId-Tx</a> <a id="5627" class="Symbol">:</a> <a id="5629" href="Ledger.Conway.Specification.Transaction.html#4395" class="Record">HasTxId</a> <a id="5637" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a>
    <a id="5644" href="Ledger.Conway.Specification.Transaction.html#5616" class="Function">HasTxId-Tx</a> <a id="5655" class="Symbol">.</a><a id="5656" href="Ledger.Conway.Specification.Transaction.html#4445" class="Field">TxIdOf</a> <a id="5663" class="Symbol">=</a> <a id="5665" href="Ledger.Conway.Specification.Transaction.html#3363" class="Field">TxBody.txId</a> <a id="5677" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5679" href="Ledger.Conway.Specification.Transaction.html#4071" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasDonations-Tx"></a><a id="5693" href="Ledger.Conway.Specification.Transaction.html#5693" class="Function">HasDonations-Tx</a> <a id="5709" class="Symbol">:</a> <a id="5711" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="5724" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a>
    <a id="5731" href="Ledger.Conway.Specification.Transaction.html#5693" class="Function">HasDonations-Tx</a> <a id="5747" class="Symbol">.</a><a id="5748" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="5760" class="Symbol">=</a> <a id="5762" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="5774" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5776" href="Ledger.Conway.Specification.Transaction.html#4071" class="Field">TxBodyOf</a>


  <a id="TransactionStructure.getValue"></a><a id="5789" href="Ledger.Conway.Specification.Transaction.html#5789" class="Function">getValue</a> <a id="5798" class="Symbol">:</a> <a id="5800" href="Ledger.Conway.Specification.Transaction.html#2821" class="Function">TxOut</a> <a id="5806" class="Symbol">→</a> <a id="5808" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
  <a id="5816" href="Ledger.Conway.Specification.Transaction.html#5789" class="Function">getValue</a> <a id="5825" class="Symbol">(_</a> <a id="5828" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5830" href="Ledger.Conway.Specification.Transaction.html#5830" class="Bound">v</a> <a id="5832" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5834" class="Symbol">_)</a> <a id="5837" class="Symbol">=</a> <a id="5839" href="Ledger.Conway.Specification.Transaction.html#5830" class="Bound">v</a>

  <a id="TransactionStructure.TxOutʰ"></a><a id="5844" href="Ledger.Conway.Specification.Transaction.html#5844" class="Function">TxOutʰ</a> <a id="5851" class="Symbol">=</a> <a id="5853" href="Ledger.Core.Specification.Address.html#2906" class="Function">Addr</a> <a id="5858" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5860" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a> <a id="5866" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5868" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5874" class="Symbol">(</a><a id="5875" href="Ledger.Conway.Specification.Script.Base.html#1823" class="Function">Datum</a> <a id="5881" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5883" href="Ledger.Conway.Specification.Script.Base.html#1776" class="Function">DataHash</a><a id="5891" class="Symbol">)</a> <a id="5893" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5895" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5901" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

  <a id="TransactionStructure.txOutHash"></a><a id="5915" href="Ledger.Conway.Specification.Transaction.html#5915" class="Function">txOutHash</a> <a id="5925" class="Symbol">:</a> <a id="5927" href="Ledger.Conway.Specification.Transaction.html#2821" class="Function">TxOut</a> <a id="5933" class="Symbol">→</a> <a id="5935" href="Ledger.Conway.Specification.Transaction.html#5844" class="Function">TxOutʰ</a>
  <a id="5944" href="Ledger.Conway.Specification.Transaction.html#5915" class="Function">txOutHash</a> <a id="5954" class="Symbol">(</a><a id="5955" href="Ledger.Conway.Specification.Transaction.html#5955" class="Bound">a</a> <a id="5957" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5959" href="Ledger.Conway.Specification.Transaction.html#5959" class="Bound">v</a> <a id="5961" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5963" href="Ledger.Conway.Specification.Transaction.html#5963" class="Bound">d</a> <a id="5965" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5967" href="Ledger.Conway.Specification.Transaction.html#5967" class="Bound">s</a><a id="5968" class="Symbol">)</a> <a id="5970" class="Symbol">=</a> <a id="5972" href="Ledger.Conway.Specification.Transaction.html#5955" class="Bound">a</a> <a id="5974" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5976" class="Symbol">(</a><a id="5977" href="Ledger.Conway.Specification.Transaction.html#5959" class="Bound">v</a> <a id="5979" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5981" class="Symbol">(</a><a id="5982" href="Ledger.Conway.Specification.Transaction.html#5963" class="Bound">d</a> <a id="5984" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5986" href="Data.Maybe.Base.html#1934" class="Function">M.map</a> <a id="5992" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="5997" href="Ledger.Conway.Specification.Transaction.html#5967" class="Bound">s</a><a id="5998" class="Symbol">))</a>

  <a id="TransactionStructure.getValueʰ"></a><a id="6004" href="Ledger.Conway.Specification.Transaction.html#6004" class="Function">getValueʰ</a> <a id="6014" class="Symbol">:</a> <a id="6016" href="Ledger.Conway.Specification.Transaction.html#5844" class="Function">TxOutʰ</a> <a id="6023" class="Symbol">→</a> <a id="6025" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a>
  <a id="6033" href="Ledger.Conway.Specification.Transaction.html#6004" class="Function">getValueʰ</a> <a id="6043" class="Symbol">(_</a> <a id="6046" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6048" href="Ledger.Conway.Specification.Transaction.html#6048" class="Bound">v</a> <a id="6050" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6052" class="Symbol">_)</a> <a id="6055" class="Symbol">=</a> <a id="6057" href="Ledger.Conway.Specification.Transaction.html#6048" class="Bound">v</a>

  <a id="TransactionStructure.txInsVKey"></a><a id="6062" href="Ledger.Conway.Specification.Transaction.html#6062" class="Function">txInsVKey</a> <a id="6072" class="Symbol">:</a> <a id="6074" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6076" href="Ledger.Conway.Specification.Transaction.html#2788" class="Function">TxIn</a> <a id="6081" class="Symbol">→</a> <a id="6083" href="Ledger.Conway.Specification.Transaction.html#2899" class="Function">UTxO</a> <a id="6088" class="Symbol">→</a> <a id="6090" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6092" href="Ledger.Conway.Specification.Transaction.html#2788" class="Function">TxIn</a>
  <a id="6099" href="Ledger.Conway.Specification.Transaction.html#6062" class="Function">txInsVKey</a> <a id="6109" href="Ledger.Conway.Specification.Transaction.html#6109" class="Bound">txIns</a> <a id="6115" href="Ledger.Conway.Specification.Transaction.html#6115" class="Bound">utxo</a> <a id="6120" class="Symbol">=</a> <a id="6122" href="Ledger.Conway.Specification.Transaction.html#6109" class="Bound">txIns</a> <a id="6128" href="Axiom.Set.html#9477" class="Function Operator">∩</a> <a id="6130" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6134" class="Symbol">(</a><a id="6135" href="Ledger.Conway.Specification.Transaction.html#6115" class="Bound">utxo</a> <a id="6140" href="abstract-set-theory.FiniteSetTheory.html#4295" class="Function Operator">∣^&#39;</a> <a id="6144" class="Symbol">(</a><a id="6145" href="Ledger.Core.Specification.Address.html#3161" class="Function">isVKeyAddr</a> <a id="6156" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6158" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6163" class="Symbol">))</a>

  <a id="TransactionStructure.scriptOuts"></a><a id="6169" href="Ledger.Conway.Specification.Transaction.html#6169" class="Function">scriptOuts</a> <a id="6180" class="Symbol">:</a> <a id="6182" href="Ledger.Conway.Specification.Transaction.html#2899" class="Function">UTxO</a> <a id="6187" class="Symbol">→</a> <a id="6189" href="Ledger.Conway.Specification.Transaction.html#2899" class="Function">UTxO</a>
  <a id="6196" href="Ledger.Conway.Specification.Transaction.html#6169" class="Function">scriptOuts</a> <a id="6207" href="Ledger.Conway.Specification.Transaction.html#6207" class="Bound">utxo</a> <a id="6212" class="Symbol">=</a> <a id="6214" href="Ledger.Conway.Specification.Transaction.html#385" class="Function">filter</a> <a id="6221" class="Symbol">(λ</a> <a id="6224" class="Symbol">(_</a> <a id="6227" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6229" href="Ledger.Conway.Specification.Transaction.html#6229" class="Bound">addr</a> <a id="6234" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6236" class="Symbol">_)</a> <a id="6239" class="Symbol">→</a> <a id="6241" href="Ledger.Core.Specification.Address.html#3189" class="Function">isScriptAddr</a> <a id="6254" href="Ledger.Conway.Specification.Transaction.html#6229" class="Bound">addr</a><a id="6258" class="Symbol">)</a> <a id="6260" href="Ledger.Conway.Specification.Transaction.html#6207" class="Bound">utxo</a>

  <a id="TransactionStructure.txInsScript"></a><a id="6268" href="Ledger.Conway.Specification.Transaction.html#6268" class="Function">txInsScript</a> <a id="6280" class="Symbol">:</a> <a id="6282" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6284" href="Ledger.Conway.Specification.Transaction.html#2788" class="Function">TxIn</a> <a id="6289" class="Symbol">→</a> <a id="6291" href="Ledger.Conway.Specification.Transaction.html#2899" class="Function">UTxO</a> <a id="6296" class="Symbol">→</a> <a id="6298" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6300" href="Ledger.Conway.Specification.Transaction.html#2788" class="Function">TxIn</a>
  <a id="6307" href="Ledger.Conway.Specification.Transaction.html#6268" class="Function">txInsScript</a> <a id="6319" href="Ledger.Conway.Specification.Transaction.html#6319" class="Bound">txIns</a> <a id="6325" href="Ledger.Conway.Specification.Transaction.html#6325" class="Bound">utxo</a> <a id="6330" class="Symbol">=</a> <a id="6332" href="Ledger.Conway.Specification.Transaction.html#6319" class="Bound">txIns</a> <a id="6338" href="Axiom.Set.html#9477" class="Function Operator">∩</a> <a id="6340" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6344" class="Symbol">(</a><a id="6345" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6351" class="Symbol">(</a><a id="6352" href="Ledger.Conway.Specification.Transaction.html#6169" class="Function">scriptOuts</a> <a id="6363" href="Ledger.Conway.Specification.Transaction.html#6325" class="Bound">utxo</a><a id="6367" class="Symbol">))</a>

  <a id="TransactionStructure.refScripts"></a><a id="6373" href="Ledger.Conway.Specification.Transaction.html#6373" class="Function">refScripts</a> <a id="6384" class="Symbol">:</a> <a id="6386" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a> <a id="6389" class="Symbol">→</a> <a id="6391" href="Ledger.Conway.Specification.Transaction.html#2899" class="Function">UTxO</a> <a id="6396" class="Symbol">→</a> <a id="6398" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6400" href="Ledger.Conway.Specification.Script.Base.html#2498" class="Function">Script</a>
  <a id="6409" href="Ledger.Conway.Specification.Transaction.html#6373" class="Function">refScripts</a> <a id="6420" href="Ledger.Conway.Specification.Transaction.html#6420" class="Bound">tx</a> <a id="6423" href="Ledger.Conway.Specification.Transaction.html#6423" class="Bound">utxo</a> <a id="6428" class="Symbol">=</a>
    <a id="6434" href="Axiom.Set.html#7990" class="Function">mapPartial</a> <a id="6445" class="Symbol">(</a><a id="6446" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="6452" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6454" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="6460" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6462" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="6467" class="Symbol">)</a> <a id="6469" class="Symbol">(</a><a id="6470" href="Class.IsSet.html#959" class="Function">range</a> <a id="6476" class="Symbol">(</a><a id="6477" href="Ledger.Conway.Specification.Transaction.html#6423" class="Bound">utxo</a> <a id="6482" href="Axiom.Set.Map.html#13536" class="Function Operator">∣</a> <a id="6484" class="Symbol">(</a><a id="6485" href="Ledger.Conway.Specification.Transaction.html#3215" class="Function">txIns</a> <a id="6491" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="6493" href="Ledger.Conway.Specification.Transaction.html#3251" class="Function">refInputs</a><a id="6502" class="Symbol">)))</a>
    <a id="6510" class="Keyword">where</a> <a id="6516" class="Keyword">open</a> <a id="6521" href="Ledger.Conway.Specification.Transaction.html#4865" class="Module">Tx</a><a id="6523" class="Symbol">;</a> <a id="6525" class="Keyword">open</a> <a id="6530" href="Ledger.Conway.Specification.Transaction.html#3179" class="Module">TxBody</a> <a id="6537" class="Symbol">(</a><a id="6538" href="Ledger.Conway.Specification.Transaction.html#6420" class="Bound">tx</a> <a id="6541" class="Symbol">.</a><a id="6542" href="Ledger.Conway.Specification.Transaction.html#4897" class="Field">body</a><a id="6546" class="Symbol">)</a>

  <a id="TransactionStructure.txscripts"></a><a id="6551" href="Ledger.Conway.Specification.Transaction.html#6551" class="Function">txscripts</a> <a id="6561" class="Symbol">:</a> <a id="6563" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a> <a id="6566" class="Symbol">→</a> <a id="6568" href="Ledger.Conway.Specification.Transaction.html#2899" class="Function">UTxO</a> <a id="6573" class="Symbol">→</a> <a id="6575" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6577" href="Ledger.Conway.Specification.Script.Base.html#2498" class="Function">Script</a>
  <a id="6586" href="Ledger.Conway.Specification.Transaction.html#6551" class="Function">txscripts</a> <a id="6596" href="Ledger.Conway.Specification.Transaction.html#6596" class="Bound">tx</a> <a id="6599" href="Ledger.Conway.Specification.Transaction.html#6599" class="Bound">utxo</a> <a id="6604" class="Symbol">=</a> <a id="6606" href="Ledger.Conway.Specification.Transaction.html#4689" class="Field">scripts</a> <a id="6614" class="Symbol">(</a><a id="6615" href="Ledger.Conway.Specification.Transaction.html#6596" class="Bound">tx</a> <a id="6618" class="Symbol">.</a><a id="6619" href="Ledger.Conway.Specification.Transaction.html#4921" class="Field">wits</a><a id="6623" class="Symbol">)</a> <a id="6625" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="6627" href="Ledger.Conway.Specification.Transaction.html#6373" class="Function">refScripts</a> <a id="6638" href="Ledger.Conway.Specification.Transaction.html#6596" class="Bound">tx</a> <a id="6641" href="Ledger.Conway.Specification.Transaction.html#6599" class="Bound">utxo</a>
    <a id="6650" class="Keyword">where</a> <a id="6656" class="Keyword">open</a> <a id="6661" href="Ledger.Conway.Specification.Transaction.html#4865" class="Module">Tx</a><a id="6663" class="Symbol">;</a> <a id="6665" class="Keyword">open</a> <a id="6670" href="Ledger.Conway.Specification.Transaction.html#4620" class="Module">TxWitnesses</a>

  <a id="TransactionStructure.lookupScriptHash"></a><a id="6685" href="Ledger.Conway.Specification.Transaction.html#6685" class="Function">lookupScriptHash</a> <a id="6702" class="Symbol">:</a> <a id="6704" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="6715" class="Symbol">→</a> <a id="6717" href="Ledger.Conway.Specification.Transaction.html#4865" class="Record">Tx</a> <a id="6720" class="Symbol">→</a> <a id="6722" href="Ledger.Conway.Specification.Transaction.html#2899" class="Function">UTxO</a> <a id="6727" class="Symbol">→</a> <a id="6729" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6735" href="Ledger.Conway.Specification.Script.Base.html#2498" class="Function">Script</a>
  <a id="6744" href="Ledger.Conway.Specification.Transaction.html#6685" class="Function">lookupScriptHash</a> <a id="6761" href="Ledger.Conway.Specification.Transaction.html#6761" class="Bound">sh</a> <a id="6764" href="Ledger.Conway.Specification.Transaction.html#6764" class="Bound">tx</a> <a id="6767" href="Ledger.Conway.Specification.Transaction.html#6767" class="Bound">utxo</a> <a id="6772" class="Symbol">=</a> <a id="6774" href="Axiom.Set.Map.html#17169" class="Function">lookupᵐ?</a> <a id="6783" href="Ledger.Conway.Specification.Transaction.html#6798" class="Function">m</a> <a id="6785" href="Ledger.Conway.Specification.Transaction.html#6761" class="Bound">sh</a>
    <a id="6792" class="Keyword">where</a> <a id="6798" href="Ledger.Conway.Specification.Transaction.html#6798" class="Function">m</a> <a id="6800" class="Symbol">=</a> <a id="6802" href="Ledger.Prelude.html#1789" class="Function">setToMap</a> <a id="6811" class="Symbol">(</a><a id="6812" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="6817" href="Data.Product.Base.html#2000" class="Function Operator">&lt;</a> <a id="6819" href="Interface.TypeClasses.Hashable.html#219" class="Field">hash</a> <a id="6824" href="Data.Product.Base.html#2000" class="Function Operator">,</a> <a id="6826" href="Function.Base.html#704" class="Function">id</a> <a id="6829" href="Data.Product.Base.html#2000" class="Function Operator">&gt;</a> <a id="6831" class="Symbol">(</a><a id="6832" href="Ledger.Conway.Specification.Transaction.html#6551" class="Function">txscripts</a> <a id="6842" href="Ledger.Conway.Specification.Transaction.html#6764" class="Bound">tx</a> <a id="6845" href="Ledger.Conway.Specification.Transaction.html#6767" class="Bound">utxo</a><a id="6849" class="Symbol">))</a>


  <a id="6856" class="Keyword">instance</a>
    <a id="TransactionStructure.HasCoin-TxOut"></a><a id="6869" href="Ledger.Conway.Specification.Transaction.html#6869" class="Function">HasCoin-TxOut</a> <a id="6883" class="Symbol">:</a> <a id="6885" href="Ledger.Prelude.HasCoin.html#123" class="Record">HasCoin</a> <a id="6893" href="Ledger.Conway.Specification.Transaction.html#2821" class="Function">TxOut</a>
    <a id="6903" href="Ledger.Conway.Specification.Transaction.html#6869" class="Function">HasCoin-TxOut</a> <a id="6917" class="Symbol">.</a><a id="6918" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="6926" class="Symbol">=</a> <a id="6928" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#837" class="Function">coin</a> <a id="6933" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6935" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="6941" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6943" href="Data.Product.Base.html#650" class="Field">proj₂</a>

</pre></body></html>