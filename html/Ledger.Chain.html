<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Chain</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="57" class="Keyword">open</a> <a id="62" class="Keyword">import</a> <a id="69" href="Ledger.Abstract.html" class="Module">Ledger.Abstract</a>

<a id="86" class="Keyword">module</a> <a id="93" href="Ledger.Chain.html" class="Module">Ledger.Chain</a>
  <a id="108" class="Symbol">(</a><a id="109" href="Ledger.Chain.html#109" class="Bound">txs</a> <a id="113" class="Symbol">:</a> <a id="115" class="Symbol">_)</a> <a id="118" class="Symbol">(</a><a id="119" class="Keyword">open</a> <a id="124" href="Ledger.Transaction.html#840" class="Module">TransactionStructure</a> <a id="145" href="Ledger.Chain.html#109" class="Bound">txs</a><a id="148" class="Symbol">)</a>
  <a id="152" class="Symbol">(</a><a id="153" href="Ledger.Chain.html#153" class="Bound">abs</a> <a id="157" class="Symbol">:</a> <a id="159" href="Ledger.Abstract.html#578" class="Record">AbstractFunctions</a> <a id="177" href="Ledger.Chain.html#109" class="Bound">txs</a><a id="180" class="Symbol">)</a> <a id="182" class="Symbol">(</a><a id="183" class="Keyword">open</a> <a id="188" href="Ledger.Abstract.html#578" class="Module">AbstractFunctions</a> <a id="206" href="Ledger.Chain.html#153" class="Bound">abs</a><a id="209" class="Symbol">)</a>
  <a id="213" class="Keyword">where</a>

<a id="220" class="Keyword">open</a> <a id="225" class="Keyword">import</a> <a id="232" href="Ledger.Certs.html" class="Module">Ledger.Certs</a> <a id="245" href="Ledger.Transaction.html#1782" class="Function">govStructure</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Ledger.Enact.html" class="Module">Ledger.Enact</a> <a id="283" href="Ledger.Transaction.html#1782" class="Function">govStructure</a>
<a id="296" class="Keyword">open</a> <a id="301" class="Keyword">import</a> <a id="308" href="Ledger.Epoch.html" class="Module">Ledger.Epoch</a> <a id="321" href="Ledger.Chain.html#109" class="Bound">txs</a> <a id="325" href="Ledger.Chain.html#153" class="Bound">abs</a>
<a id="329" class="Keyword">open</a> <a id="334" class="Keyword">import</a> <a id="341" href="Ledger.Gov.html" class="Module">Ledger.Gov</a> <a id="352" href="Ledger.Chain.html#109" class="Bound">txs</a>
<a id="356" class="Keyword">open</a> <a id="361" class="Keyword">import</a> <a id="368" href="Ledger.Ledger.html" class="Module">Ledger.Ledger</a> <a id="382" href="Ledger.Chain.html#109" class="Bound">txs</a> <a id="386" href="Ledger.Chain.html#153" class="Bound">abs</a>
<a id="390" class="Keyword">open</a> <a id="395" class="Keyword">import</a> <a id="402" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a><a id="416" class="Symbol">;</a> <a id="418" class="Keyword">open</a> <a id="423" href="Function.Bundles.html#4752" class="Module">Equivalence</a>
<a id="435" class="Keyword">open</a> <a id="440" class="Keyword">import</a> <a id="447" href="Ledger.Ratify.html" class="Module">Ledger.Ratify</a> <a id="461" href="Ledger.Chain.html#109" class="Bound">txs</a>
<a id="465" class="Keyword">open</a> <a id="470" class="Keyword">import</a> <a id="477" href="Ledger.Utxo.html" class="Module">Ledger.Utxo</a> <a id="489" href="Ledger.Chain.html#109" class="Bound">txs</a> <a id="493" href="Ledger.Chain.html#153" class="Bound">abs</a>

<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Algebra.html" class="Module">Algebra</a>
<a id="518" class="Keyword">open</a> <a id="523" class="Keyword">import</a> <a id="530" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="550" class="Keyword">using</a> <a id="556" class="Symbol">(</a><a id="557" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="567" class="Symbol">)</a>


<a id="571" class="Keyword">record</a> <a id="ChainState"></a><a id="578" href="Ledger.Chain.html#578" class="Record">ChainState</a> <a id="589" class="Symbol">:</a> <a id="591" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="596" class="Keyword">where</a>
  <a id="604" class="Keyword">field</a>
    <a id="ChainState.newEpochState"></a><a id="614" href="Ledger.Chain.html#614" class="Field">newEpochState</a>  <a id="629" class="Symbol">:</a> <a id="631" href="Ledger.Epoch.html#2070" class="Record">NewEpochState</a>

<a id="646" class="Keyword">record</a> <a id="Block"></a><a id="653" href="Ledger.Chain.html#653" class="Record">Block</a> <a id="659" class="Symbol">:</a> <a id="661" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="666" class="Keyword">where</a>
  <a id="674" class="Keyword">field</a>
    <a id="Block.ts"></a><a id="684" href="Ledger.Chain.html#684" class="Field">ts</a>    <a id="690" class="Symbol">:</a> <a id="692" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="697" href="Ledger.Transaction.html#4194" class="Record">Tx</a>
    <a id="Block.slot"></a><a id="704" href="Ledger.Chain.html#704" class="Field">slot</a>  <a id="710" class="Symbol">:</a> <a id="712" href="Ledger.Types.Epoch.html#619" class="Function">Slot</a>


<a id="719" class="Keyword">instance</a>
  <a id="HasNewEpochState-ChainState"></a><a id="730" href="Ledger.Chain.html#730" class="Function">HasNewEpochState-ChainState</a> <a id="758" class="Symbol">:</a> <a id="760" href="Ledger.Epoch.html#2204" class="Record">HasNewEpochState</a> <a id="777" href="Ledger.Chain.html#578" class="Record">ChainState</a>
  <a id="790" href="Ledger.Chain.html#730" class="Function">HasNewEpochState-ChainState</a> <a id="818" class="Symbol">.</a><a id="819" href="Ledger.Epoch.html#2261" class="Field">NewEpochStateOf</a> <a id="835" class="Symbol">=</a> <a id="837" href="Ledger.Chain.html#614" class="Field">ChainState.newEpochState</a>

  <a id="HasLastEpoch-ChainState"></a><a id="865" href="Ledger.Chain.html#865" class="Function">HasLastEpoch-ChainState</a> <a id="889" class="Symbol">:</a> <a id="891" href="Ledger.Epoch.html#2339" class="Record">HasLastEpoch</a> <a id="904" href="Ledger.Chain.html#578" class="Record">ChainState</a>
  <a id="917" href="Ledger.Chain.html#865" class="Function">HasLastEpoch-ChainState</a> <a id="941" class="Symbol">.</a><a id="942" href="Ledger.Epoch.html#2394" class="Field">LastEpochOf</a> <a id="954" class="Symbol">=</a> <a id="956" href="Ledger.Epoch.html#2394" class="Field">LastEpochOf</a> <a id="968" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="970" href="Ledger.Epoch.html#2261" class="Field">NewEpochStateOf</a>

  <a id="HasEpochState-ChainState"></a><a id="989" href="Ledger.Chain.html#989" class="Function">HasEpochState-ChainState</a> <a id="1014" class="Symbol">:</a> <a id="1016" href="Ledger.Epoch.html#1493" class="Record">HasEpochState</a> <a id="1030" href="Ledger.Chain.html#578" class="Record">ChainState</a> 
  <a id="1044" href="Ledger.Chain.html#989" class="Function">HasEpochState-ChainState</a> <a id="1069" class="Symbol">.</a><a id="1070" href="Ledger.Epoch.html#1547" class="Field">EpochStateOf</a> <a id="1083" class="Symbol">=</a> <a id="1085" href="Ledger.Epoch.html#1547" class="Field">EpochStateOf</a> <a id="1098" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1100" href="Ledger.Epoch.html#2261" class="Field">NewEpochStateOf</a>

  <a id="HasEnactState-ChainState"></a><a id="1119" href="Ledger.Chain.html#1119" class="Function">HasEnactState-ChainState</a> <a id="1144" class="Symbol">:</a> <a id="1146" href="Ledger.Enact.html#689" class="Record">HasEnactState</a> <a id="1160" href="Ledger.Chain.html#578" class="Record">ChainState</a> 
  <a id="1174" href="Ledger.Chain.html#1119" class="Function">HasEnactState-ChainState</a> <a id="1199" class="Symbol">.</a><a id="1200" href="Ledger.Enact.html#743" class="Field">EnactStateOf</a> <a id="1213" class="Symbol">=</a> <a id="1215" href="Ledger.Enact.html#743" class="Field">EnactStateOf</a> <a id="1228" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1230" href="Ledger.Epoch.html#1547" class="Field">EpochStateOf</a>

  <a id="HasLState-ChainState"></a><a id="1246" href="Ledger.Chain.html#1246" class="Function">HasLState-ChainState</a> <a id="1267" class="Symbol">:</a> <a id="1269" href="Ledger.Ledger.html#954" class="Record">HasLState</a> <a id="1279" href="Ledger.Chain.html#578" class="Record">ChainState</a>
  <a id="1292" href="Ledger.Chain.html#1246" class="Function">HasLState-ChainState</a> <a id="1313" class="Symbol">.</a><a id="1314" href="Ledger.Ledger.html#1004" class="Field">LStateOf</a> <a id="1323" class="Symbol">=</a> <a id="1325" href="Ledger.Ledger.html#1004" class="Field">LStateOf</a> <a id="1334" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1336" href="Ledger.Epoch.html#1547" class="Field">EpochStateOf</a>

  <a id="HasUTxOState-ChainState"></a><a id="1352" href="Ledger.Chain.html#1352" class="Function">HasUTxOState-ChainState</a> <a id="1376" class="Symbol">:</a> <a id="1378" href="Ledger.Utxo.html#2867" class="Record">HasUTxOState</a> <a id="1391" href="Ledger.Chain.html#578" class="Record">ChainState</a>
  <a id="1404" href="Ledger.Chain.html#1352" class="Function">HasUTxOState-ChainState</a> <a id="1428" class="Symbol">.</a><a id="1429" href="Ledger.Utxo.html#2920" class="Field">UTxOStateOf</a> <a id="1441" class="Symbol">=</a> <a id="1443" href="Ledger.Utxo.html#2920" class="Field">UTxOStateOf</a> <a id="1455" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1457" href="Ledger.Ledger.html#1004" class="Field">LStateOf</a>

  <a id="HasCertState-ChainState"></a><a id="1469" href="Ledger.Chain.html#1469" class="Function">HasCertState-ChainState</a> <a id="1493" class="Symbol">:</a> <a id="1495" href="Ledger.Certs.html#4455" class="Record">HasCertState</a> <a id="1508" href="Ledger.Chain.html#578" class="Record">ChainState</a>
  <a id="1521" href="Ledger.Chain.html#1469" class="Function">HasCertState-ChainState</a> <a id="1545" class="Symbol">.</a><a id="1546" href="Ledger.Certs.html#4508" class="Field">CertStateOf</a> <a id="1558" class="Symbol">=</a> <a id="1560" href="Ledger.Certs.html#4508" class="Field">CertStateOf</a> <a id="1572" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1574" href="Ledger.Ledger.html#1004" class="Field">LStateOf</a>

  <a id="HasDeposits-ChainState"></a><a id="1586" href="Ledger.Chain.html#1586" class="Function">HasDeposits-ChainState</a> <a id="1609" class="Symbol">:</a> <a id="1611" href="Ledger.Certs.html#677" class="Record">HasDeposits</a> <a id="1623" href="Ledger.Chain.html#578" class="Record">ChainState</a>
  <a id="1636" href="Ledger.Chain.html#1586" class="Function">HasDeposits-ChainState</a> <a id="1659" class="Symbol">.</a><a id="1660" href="Ledger.Certs.html#729" class="Field">DepositsOf</a> <a id="1671" class="Symbol">=</a> <a id="1673" href="Ledger.Certs.html#729" class="Field">DepositsOf</a> <a id="1684" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1686" href="Ledger.Utxo.html#2920" class="Field">UTxOStateOf</a>

  <a id="HasRewards-ChainState"></a><a id="1701" href="Ledger.Chain.html#1701" class="Function">HasRewards-ChainState</a> <a id="1723" class="Symbol">:</a> <a id="1725" href="Ledger.Certs.html#793" class="Record">HasRewards</a> <a id="1736" href="Ledger.Chain.html#578" class="Record">ChainState</a>
  <a id="1749" href="Ledger.Chain.html#1701" class="Function">HasRewards-ChainState</a> <a id="1771" class="Symbol">.</a><a id="1772" href="Ledger.Certs.html#844" class="Field">RewardsOf</a> <a id="1782" class="Symbol">=</a> <a id="1784" href="Ledger.Certs.html#844" class="Field">RewardsOf</a> <a id="1794" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1796" href="Ledger.Certs.html#4508" class="Field">CertStateOf</a>

  <a id="HasPParams-ChainState"></a><a id="1811" href="Ledger.Chain.html#1811" class="Function">HasPParams-ChainState</a> <a id="1833" class="Symbol">:</a> <a id="1835" href="Ledger.PParams.html#3373" class="Record">HasPParams</a> <a id="1846" href="Ledger.Chain.html#578" class="Record">ChainState</a>
  <a id="1859" href="Ledger.Chain.html#1811" class="Function">HasPParams-ChainState</a> <a id="1881" class="Symbol">.</a><a id="1882" href="Ledger.PParams.html#3424" class="Field">PParamsOf</a> <a id="1892" class="Symbol">=</a> <a id="1894" href="Ledger.PParams.html#3424" class="Field">PParamsOf</a> <a id="1904" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1906" href="Ledger.Enact.html#743" class="Field">EnactStateOf</a>

<a id="1920" class="Keyword">instance</a> <a id="1929" href="Ledger.Chain.html#1929" class="Function">_</a> <a id="1931" class="Symbol">=</a> <a id="1933" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a>

<a id="1945" class="Comment">-- TODO: do we still need this for anything?</a>
<a id="maybePurpose"></a><a id="1990" href="Ledger.Chain.html#1990" class="Function">maybePurpose</a> <a id="2003" class="Symbol">:</a> <a id="2005" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="2020" class="Symbol">→</a> <a id="2022" class="Symbol">(</a><a id="2023" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="2038" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2040" href="Ledger.Address.html#273" class="Datatype">Credential</a><a id="2050" class="Symbol">)</a> <a id="2052" class="Symbol">→</a> <a id="2054" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a> <a id="2059" class="Symbol">→</a> <a id="2061" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2067" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
<a id="2072" href="Ledger.Chain.html#1990" class="Function">maybePurpose</a> <a id="2085" href="Ledger.Chain.html#2085" class="Bound">prps</a> <a id="2090" class="Symbol">(</a><a id="2091" href="Ledger.Chain.html#2091" class="Bound">prps&#39;</a> <a id="2097" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2099" class="Symbol">_)</a> <a id="2102" href="Ledger.Chain.html#2102" class="Bound">c</a> <a id="2104" class="Keyword">with</a> <a id="2109" href="Ledger.Chain.html#2085" class="Bound">prps</a> <a id="2114" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="2116" href="Ledger.Chain.html#2091" class="Bound">prps&#39;</a>
<a id="2122" class="Symbol">...</a> <a id="2126" class="Symbol">|</a> <a id="2128" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2132" class="Symbol">_</a> <a id="2134" class="Symbol">=</a> <a id="2136" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2141" class="Bound">c</a>
<a id="2143" class="Symbol">...</a> <a id="2147" class="Symbol">|</a> <a id="2149" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2152" class="Symbol">_</a> <a id="2154" class="Symbol">=</a> <a id="2156" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="maybePurpose-prop"></a><a id="2165" href="Ledger.Chain.html#2165" class="Function">maybePurpose-prop</a> <a id="2183" class="Symbol">:</a> <a id="2185" class="Symbol">∀</a> <a id="2187" class="Symbol">{</a><a id="2188" href="Ledger.Chain.html#2188" class="Bound">prps</a><a id="2192" class="Symbol">}</a> <a id="2194" class="Symbol">{</a><a id="2195" href="Ledger.Chain.html#2195" class="Bound">x</a><a id="2196" class="Symbol">}</a> <a id="2198" class="Symbol">{</a><a id="2199" href="Ledger.Chain.html#2199" class="Bound">y</a><a id="2200" class="Symbol">}</a>
  <a id="2204" class="Symbol">→</a> <a id="2206" class="Symbol">(</a><a id="2207" href="Ledger.Chain.html#2207" class="Bound">m</a> <a id="2209" class="Symbol">:</a> <a id="2211" class="Symbol">(</a><a id="2212" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="2227" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2229" href="Ledger.Address.html#273" class="Datatype">Credential</a><a id="2239" class="Symbol">)</a> <a id="2241" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2243" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="2247" class="Symbol">)</a>
  <a id="2251" class="Symbol">→</a> <a id="2253" class="Symbol">(</a><a id="2254" href="Ledger.Chain.html#2195" class="Bound">x</a> <a id="2256" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2258" href="Ledger.Chain.html#2199" class="Bound">y</a><a id="2259" class="Symbol">)</a> <a id="2261" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="2263" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2267" class="Symbol">((</a><a id="2269" href="Axiom.Set.Map.html#10313" class="Function">mapMaybeWithKeyᵐ</a> <a id="2286" class="Symbol">(</a><a id="2287" href="Ledger.Chain.html#1990" class="Function">maybePurpose</a> <a id="2300" href="Ledger.Chain.html#2188" class="Bound">prps</a><a id="2304" class="Symbol">)</a> <a id="2306" href="Ledger.Chain.html#2207" class="Bound">m</a><a id="2307" class="Symbol">)</a> <a id="2309" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="2310" class="Symbol">)</a>
  <a id="2314" class="Symbol">→</a> <a id="2316" href="Ledger.Chain.html#2195" class="Bound">x</a> <a id="2318" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2320" href="Ledger.Chain.html#2188" class="Bound">prps</a>
<a id="2325" href="Ledger.Chain.html#2165" class="Function">maybePurpose-prop</a> <a id="2343" class="Symbol">{</a><a id="2344" class="Argument">prps</a> <a id="2349" class="Symbol">=</a> <a id="2351" href="Ledger.Chain.html#2351" class="Bound">prps</a><a id="2355" class="Symbol">}</a> <a id="2357" class="Symbol">{</a><a id="2358" href="Ledger.Chain.html#2358" class="Bound">x</a><a id="2359" class="Symbol">}</a> <a id="2361" class="Symbol">{</a><a id="2362" href="Ledger.Chain.html#2362" class="Bound">y</a><a id="2363" class="Symbol">}</a> <a id="2365" class="Symbol">_</a> <a id="2367" href="Ledger.Chain.html#2367" class="Bound">xy∈dom</a> <a id="2374" class="Keyword">with</a> <a id="2379" href="Function.Bundles.html#4834" class="Field">from</a> <a id="2384" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a> <a id="2389" href="Ledger.Chain.html#2367" class="Bound">xy∈dom</a>
<a id="2396" class="Symbol">...</a> <a id="2400" class="Symbol">|</a> <a id="2402" href="Ledger.Chain.html#2402" class="Bound">z</a> <a id="2404" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2406" href="Ledger.Chain.html#2406" class="Bound">∈mmwk</a> <a id="2412" class="Keyword">with</a> <a id="2417" class="Bound">prps</a> <a id="2422" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="2424" class="Bound">x</a> <a id="2426" class="Symbol">|</a> <a id="2428" href="Axiom.Set.Rel.html#5977" class="Function">∈-mapMaybeWithKey</a> <a id="2446" class="Symbol">{</a><a id="2447" class="Argument">f</a> <a id="2449" class="Symbol">=</a> <a id="2451" href="Ledger.Chain.html#1990" class="Function">maybePurpose</a> <a id="2464" class="Bound">prps</a><a id="2468" class="Symbol">}</a> <a id="2470" href="Ledger.Chain.html#2406" class="Bound">∈mmwk</a>
<a id="2476" class="Symbol">...</a> <a id="2480" class="Symbol">|</a> <a id="2482" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2486" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2491" class="Symbol">|</a> <a id="2493" class="Symbol">_</a> <a id="2495" class="Symbol">=</a> <a id="2497" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="filterPurpose"></a><a id="2503" href="Ledger.Chain.html#2503" class="Function">filterPurpose</a> <a id="2517" class="Symbol">:</a> <a id="2519" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="2534" class="Symbol">→</a> <a id="2536" class="Symbol">(</a><a id="2537" href="Ledger.Certs.html#332" class="Datatype">DepositPurpose</a> <a id="2552" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2554" href="Ledger.Address.html#273" class="Datatype">Credential</a><a id="2564" class="Symbol">)</a> <a id="2566" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2568" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a> <a id="2573" class="Symbol">→</a> <a id="2575" href="Ledger.Address.html#273" class="Datatype">Credential</a> <a id="2586" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2588" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
<a id="2593" href="Ledger.Chain.html#2503" class="Function">filterPurpose</a> <a id="2607" href="Ledger.Chain.html#2607" class="Bound">prps</a> <a id="2612" href="Ledger.Chain.html#2612" class="Bound">m</a> <a id="2614" class="Symbol">=</a> <a id="2616" href="Axiom.Set.Map.html#5896" class="Function">mapKeys</a> <a id="2624" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2630" class="Symbol">(</a><a id="2631" href="Axiom.Set.Map.html#10313" class="Function">mapMaybeWithKeyᵐ</a> <a id="2648" class="Symbol">(</a><a id="2649" href="Ledger.Chain.html#1990" class="Function">maybePurpose</a> <a id="2662" href="Ledger.Chain.html#2607" class="Bound">prps</a><a id="2666" class="Symbol">)</a> <a id="2668" href="Ledger.Chain.html#2612" class="Bound">m</a><a id="2669" class="Symbol">)</a>
  <a id="2673" class="Symbol">{λ</a> <a id="2676" class="Keyword">where</a> <a id="2682" href="Ledger.Chain.html#2682" class="Bound">x∈dom</a> <a id="2688" href="Ledger.Chain.html#2688" class="Bound">y∈dom</a> <a id="2694" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2699" class="Symbol">→</a> <a id="2701" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="2706" class="Symbol">(</a><a id="2707" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,</a> <a id="2710" class="Symbol">_)</a>
                            <a id="2741" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2743" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a> <a id="2749" class="Symbol">(</a><a id="2750" href="Ledger.Chain.html#2165" class="Function">maybePurpose-prop</a> <a id="2768" class="Symbol">{</a><a id="2769" class="Argument">prps</a> <a id="2774" class="Symbol">=</a> <a id="2776" href="Ledger.Chain.html#2607" class="Bound">prps</a><a id="2780" class="Symbol">}</a> <a id="2782" href="Ledger.Chain.html#2612" class="Bound">m</a> <a id="2784" href="Ledger.Chain.html#2682" class="Bound">x∈dom</a><a id="2789" class="Symbol">)</a>
                            <a id="2819" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="2821" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a>   <a id="2827" class="Symbol">(</a><a id="2828" href="Ledger.Chain.html#2165" class="Function">maybePurpose-prop</a> <a id="2846" class="Symbol">{</a><a id="2847" class="Argument">prps</a> <a id="2852" class="Symbol">=</a> <a id="2854" href="Ledger.Chain.html#2607" class="Bound">prps</a><a id="2858" class="Symbol">}</a> <a id="2860" href="Ledger.Chain.html#2612" class="Bound">m</a> <a id="2862" href="Ledger.Chain.html#2688" class="Bound">y∈dom</a><a id="2867" class="Symbol">)}</a>

<a id="govActionDeposits"></a><a id="2871" href="Ledger.Chain.html#2871" class="Function">govActionDeposits</a> <a id="2889" class="Symbol">:</a> <a id="2891" href="Ledger.Ledger.html#809" class="Record">LState</a> <a id="2898" class="Symbol">→</a> <a id="2900" href="Ledger.GovernanceActions.html#458" class="Datatype">VDeleg</a> <a id="2907" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2909" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
<a id="2914" href="Ledger.Chain.html#2871" class="Function">govActionDeposits</a> <a id="2932" href="Ledger.Chain.html#2932" class="Bound">ls</a> <a id="2935" class="Symbol">=</a>
  <a id="2939" class="Keyword">let</a> <a id="2943" class="Keyword">open</a> <a id="2948" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="2955" href="Ledger.Chain.html#2932" class="Bound">ls</a><a id="2957" class="Symbol">;</a> <a id="2959" class="Keyword">open</a> <a id="2964" href="Ledger.Certs.html#4327" class="Module">CertState</a> <a id="2974" href="Ledger.Ledger.html#921" class="Field">certState</a><a id="2983" class="Symbol">;</a> <a id="2985" class="Keyword">open</a> <a id="2990" href="Ledger.Certs.html#3781" class="Module">PState</a> <a id="2997" href="Ledger.Certs.html#4410" class="Function">pState</a>
      <a id="3010" class="Keyword">open</a> <a id="3015" href="Ledger.Utxo.html#2705" class="Module">UTxOState</a> <a id="3025" href="Ledger.Ledger.html#868" class="Field">utxoSt</a><a id="3031" class="Symbol">;</a> <a id="3033" class="Keyword">open</a> <a id="3038" href="Ledger.Certs.html#3171" class="Module">DState</a> <a id="3045" href="Ledger.Certs.html#4390" class="Function">dState</a>
   <a id="3055" class="Keyword">in</a> <a id="3058" href="Data.List.Base.html#4249" class="Function">foldl</a> <a id="3064" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">_∪⁺_</a> <a id="3069" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="3071" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="3073" href="abstract-set-theory.FiniteSetTheory.html#2463" class="Function">setToList</a> <a id="3083" href="Function.Base.html#1974" class="Function Operator">$</a>
    <a id="3089" href="Axiom.Set.html#7805" class="Function">mapPartial</a>
      <a id="3106" class="Symbol">(λ</a> <a id="3109" class="Keyword">where</a> <a id="3115" class="Symbol">(</a><a id="3116" href="Ledger.Chain.html#3116" class="Bound">gaid</a> <a id="3121" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3123" class="Keyword">record</a> <a id="3130" class="Symbol">{</a> <a id="3132" href="Ledger.GovernanceActions.html#2817" class="Field">returnAddr</a> <a id="3143" class="Symbol">=</a> <a id="3145" class="Keyword">record</a> <a id="3152" class="Symbol">{</a><a id="3153" href="Ledger.Address.html#1391" class="Field">stake</a> <a id="3159" class="Symbol">=</a> <a id="3161" href="Ledger.Chain.html#3161" class="Bound">c</a><a id="3162" class="Symbol">}</a> <a id="3164" class="Symbol">})</a> <a id="3167" class="Symbol">→</a> <a id="3169" class="Keyword">do</a>
        <a id="3180" href="Ledger.Chain.html#3180" class="Bound">vd</a> <a id="3183" href="Class.Monad.Core.html#299" class="Field Operator">←</a> <a id="3185" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="3194" href="Ledger.Certs.html#3230" class="Function">voteDelegs</a> <a id="3205" href="Ledger.Chain.html#3161" class="Bound">c</a>
        <a id="3215" href="Ledger.Chain.html#3215" class="Bound">dep</a> <a id="3219" href="Class.Monad.Core.html#299" class="Field Operator">←</a> <a id="3221" href="Axiom.Set.Map.html#13670" class="Function">lookupᵐ?</a> <a id="3230" href="Ledger.Utxo.html#2813" class="Function">deposits</a> <a id="3239" class="Symbol">(</a><a id="3240" href="Ledger.Certs.html#521" class="InductiveConstructor">GovActionDeposit</a> <a id="3257" href="Ledger.Chain.html#3116" class="Bound">gaid</a><a id="3261" class="Symbol">)</a>
        <a id="3271" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3276" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3278" href="Ledger.Chain.html#3180" class="Bound">vd</a> <a id="3281" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3283" href="Ledger.Chain.html#3215" class="Bound">dep</a> <a id="3287" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="3289" class="Symbol">)</a>
      <a id="3297" class="Symbol">(</a><a id="3298" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="3307" href="Ledger.Ledger.html#895" class="Field">govSt</a><a id="3312" class="Symbol">)</a>

<a id="calculateStakeDistrs"></a><a id="3315" href="Ledger.Chain.html#3315" class="Function">calculateStakeDistrs</a> <a id="3336" class="Symbol">:</a> <a id="3338" href="Ledger.Ledger.html#809" class="Record">LState</a> <a id="3345" class="Symbol">→</a> <a id="3347" href="Ledger.Ratify.html#2914" class="Record">StakeDistrs</a>
<a id="3359" href="Ledger.Chain.html#3315" class="Function">calculateStakeDistrs</a> <a id="3380" href="Ledger.Chain.html#3380" class="Bound">ls</a> <a id="3383" class="Symbol">=</a>
  <a id="3387" class="Keyword">let</a> <a id="3391" class="Keyword">open</a> <a id="3396" href="Ledger.Ledger.html#809" class="Module">LState</a> <a id="3403" href="Ledger.Chain.html#3380" class="Bound">ls</a><a id="3405" class="Symbol">;</a> <a id="3407" class="Keyword">open</a> <a id="3412" href="Ledger.Certs.html#4327" class="Module">CertState</a> <a id="3422" href="Ledger.Ledger.html#921" class="Field">certState</a><a id="3431" class="Symbol">;</a> <a id="3433" class="Keyword">open</a> <a id="3438" href="Ledger.Certs.html#3781" class="Module">PState</a> <a id="3445" href="Ledger.Certs.html#4410" class="Function">pState</a>
      <a id="3458" class="Keyword">open</a> <a id="3463" href="Ledger.Utxo.html#2705" class="Module">UTxOState</a> <a id="3473" href="Ledger.Ledger.html#868" class="Field">utxoSt</a><a id="3479" class="Symbol">;</a> <a id="3481" class="Keyword">open</a> <a id="3486" href="Ledger.Certs.html#3171" class="Module">DState</a> <a id="3493" href="Ledger.Certs.html#4390" class="Function">dState</a>
      <a id="3506" href="Ledger.Chain.html#3506" class="Bound">spoDelegs</a> <a id="3516" class="Symbol">=</a> <a id="3518" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="3520" class="Comment">-- TODO</a>
      <a id="3534" href="Ledger.Chain.html#3534" class="Bound">drepDelegs</a> <a id="3545" class="Symbol">=</a> <a id="3547" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="3549" class="Comment">-- TODO</a>
  <a id="3559" class="Keyword">in</a>
  <a id="3564" class="Keyword">record</a>
    <a id="3575" class="Symbol">{</a> <a id="3577" href="Ledger.Ratify.html#2951" class="Field">stakeDistr</a> <a id="3588" class="Symbol">=</a> <a id="3590" href="Ledger.Chain.html#2871" class="Function">govActionDeposits</a> <a id="3608" href="Ledger.Chain.html#3380" class="Bound">ls</a>
    <a id="3615" class="Symbol">}</a>

<a id="totalRefScriptsSize"></a><a id="3618" href="Ledger.Chain.html#3618" class="Function">totalRefScriptsSize</a> <a id="3638" class="Symbol">:</a> <a id="3640" href="Ledger.Ledger.html#809" class="Record">LState</a> <a id="3647" class="Symbol">→</a> <a id="3649" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3654" href="Ledger.Transaction.html#4194" class="Record">Tx</a> <a id="3657" class="Symbol">→</a> <a id="3659" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="3661" href="Ledger.Chain.html#3618" class="Function">totalRefScriptsSize</a> <a id="3681" href="Ledger.Chain.html#3681" class="Bound">lst</a> <a id="3685" href="Ledger.Chain.html#3685" class="Bound">txs</a> <a id="3689" class="Symbol">=</a> <a id="3691" href="Data.List.Base.html#4964" class="Function">sum</a> <a id="3695" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="3697" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="3701" class="Symbol">(</a><a id="3702" href="Ledger.Utxo.html#3709" class="Function">refScriptsSize</a> <a id="3717" href="Ledger.Utxo.html#2769" class="Function">utxo</a><a id="3721" class="Symbol">)</a> <a id="3723" href="Ledger.Chain.html#3685" class="Bound">txs</a>
  <a id="3729" class="Keyword">where</a> <a id="3735" class="Keyword">open</a> <a id="3740" href="Ledger.Utxo.html#2705" class="Module">UTxOState</a> <a id="3750" class="Symbol">(</a><a id="3751" href="Ledger.Ledger.html#868" class="Field">LState.utxoSt</a> <a id="3765" href="Ledger.Chain.html#3681" class="Bound">lst</a><a id="3768" class="Symbol">)</a>

<a id="3771" class="Keyword">private</a> <a id="3779" class="Keyword">variable</a>
  <a id="3790" href="Ledger.Chain.html#3790" class="Generalizable">ls&#39;</a> <a id="3794" class="Symbol">:</a> <a id="3796" href="Ledger.Ledger.html#809" class="Record">LState</a> 
<a id="3804" class="Keyword">data</a>


  <a id="_⊢_⇀⦇_,CHAIN⦈_"></a><a id="3813" href="Ledger.Chain.html#3813" class="Datatype Operator">_⊢_⇀⦇_,CHAIN⦈_</a> <a id="3828" class="Symbol">:</a> <a id="3830" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="3832" class="Symbol">→</a> <a id="3834" href="Ledger.Chain.html#578" class="Record">ChainState</a> <a id="3845" class="Symbol">→</a> <a id="3847" href="Ledger.Chain.html#653" class="Record">Block</a> <a id="3853" class="Symbol">→</a> <a id="3855" href="Ledger.Chain.html#578" class="Record">ChainState</a> <a id="3866" class="Symbol">→</a> <a id="3868" href="Agda.Primitive.html#388" class="Primitive">Type</a>


  <a id="3877" class="Keyword">where</a>


  <a id="_⊢_⇀⦇_,CHAIN⦈_.CHAIN"></a><a id="3887" href="Ledger.Chain.html#3887" class="InductiveConstructor">CHAIN</a> <a id="3893" class="Symbol">:</a> <a id="3895" class="Symbol">{</a><a id="3896" href="Ledger.Chain.html#3896" class="Bound">b</a> <a id="3898" class="Symbol">:</a> <a id="3900" href="Ledger.Chain.html#653" class="Record">Block</a><a id="3905" class="Symbol">}</a> <a id="3907" class="Symbol">{</a><a id="3908" href="Ledger.Chain.html#3908" class="Bound">nes</a> <a id="3912" class="Symbol">:</a> <a id="3914" href="Ledger.Epoch.html#2070" class="Record">NewEpochState</a><a id="3927" class="Symbol">}</a> <a id="3929" class="Symbol">{</a><a id="3930" href="Ledger.Chain.html#3930" class="Bound">cs</a> <a id="3933" class="Symbol">:</a> <a id="3935" href="Ledger.Chain.html#578" class="Record">ChainState</a><a id="3945" class="Symbol">}</a>


    <a id="3953" class="Symbol">→</a> <a id="3955" class="Keyword">let</a> <a id="3959" class="Keyword">open</a> <a id="3964" href="Ledger.Chain.html#578" class="Module">ChainState</a> <a id="3975" href="Ledger.Chain.html#3930" class="Bound">cs</a><a id="3977" class="Symbol">;</a> <a id="3979" class="Keyword">open</a> <a id="3984" href="Ledger.Chain.html#653" class="Module">Block</a> <a id="3990" href="Ledger.Chain.html#3896" class="Bound">b</a><a id="3991" class="Symbol">;</a> <a id="3993" class="Keyword">open</a> <a id="3998" href="Ledger.Epoch.html#2070" class="Module">NewEpochState</a> <a id="4012" href="Ledger.Chain.html#3908" class="Bound">nes</a>
          <a id="4026" class="Keyword">open</a> <a id="4031" href="Ledger.Epoch.html#1290" class="Module">EpochState</a> <a id="4042" href="Ledger.Epoch.html#2133" class="Function">epochState</a><a id="4052" class="Symbol">;</a> <a id="4054" class="Keyword">open</a> <a id="4059" href="Ledger.Enact.html#397" class="Module">EnactState</a> <a id="4070" href="Ledger.Epoch.html#1431" class="Function">es</a> <a id="4073" class="Keyword">renaming</a> <a id="4082" class="Symbol">(</a><a id="4083" href="Ledger.Enact.html#607" class="Field">pparams</a> <a id="4091" class="Symbol">to</a> <a id="4094" class="Field">pp</a><a id="4096" class="Symbol">)</a>
          <a id="4108" class="Keyword">open</a> <a id="4113" href="Ledger.PParams.html#1570" class="Module">PParams</a> <a id="4121" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="4123" href="Ledger.Chain.html#4094" class="Function">pp</a> <a id="4126" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="4128" class="Keyword">using</a> <a id="4134" class="Symbol">(</a><a id="4135" href="Ledger.PParams.html#2482" class="Field">maxRefScriptSizePerBlock</a><a id="4159" class="Symbol">)</a> <a id="4161" class="Keyword">in</a>


    <a id="4170" class="Keyword">let</a>  <a id="4175" href="Ledger.Chain.html#4175" class="Bound">cs&#39;</a>  <a id="4180" class="Symbol">=</a> <a id="4182" class="Keyword">record</a> <a id="4189" href="Ledger.Chain.html#3930" class="Bound">cs</a> <a id="4192" class="Symbol">{</a>  <a id="4195" href="Ledger.Chain.html#614" class="Field">newEpochState</a>
                             <a id="4238" class="Symbol">=</a> <a id="4240" class="Keyword">record</a> <a id="4247" href="Ledger.Chain.html#3908" class="Bound">nes</a> <a id="4251" class="Symbol">{</a>  <a id="4254" href="Ledger.Epoch.html#2133" class="Field">epochState</a>
                                             <a id="4310" class="Symbol">=</a> <a id="4312" class="Keyword">record</a> <a id="4319" href="Ledger.Epoch.html#2133" class="Function">epochState</a> <a id="4330" class="Symbol">{</a><a id="4331" href="Ledger.Epoch.html#1407" class="Field">ls</a> <a id="4334" class="Symbol">=</a> <a id="4336" href="Ledger.Chain.html#3790" class="Generalizable">ls&#39;</a><a id="4339" class="Symbol">}</a> <a id="4341" class="Symbol">}</a> <a id="4343" class="Symbol">}</a>
         <a id="4354" href="Ledger.Chain.html#4354" class="Bound">Γ</a>    <a id="4359" class="Symbol">=</a> <a id="4361" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="4363" href="Ledger.Chain.html#704" class="Function">slot</a> <a id="4368" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4370" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="4372" href="Ledger.Enact.html#502" class="Function">constitution</a> <a id="4385" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="4387" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4389" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="4391" href="Ledger.Chain.html#4094" class="Function">pp</a> <a id="4394" href="Ledger.Prelude.html#2543" class="Function Operator">∣</a> <a id="4396" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4398" href="Ledger.Epoch.html#1431" class="Function">es</a> <a id="4401" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4403" href="Ledger.PParams.html#814" class="Field">treasuryOf</a> <a id="4414" href="Ledger.Chain.html#3908" class="Bound">nes</a> <a id="4418" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>
    <a id="4424" class="Keyword">in</a>
    <a id="4431" href="Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="4433" href="Ledger.Chain.html#3618" class="Function">totalRefScriptsSize</a> <a id="4453" href="Ledger.Epoch.html#1407" class="Function">ls</a> <a id="4456" href="Ledger.Chain.html#684" class="Function">ts</a> <a id="4459" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="4461" href="Ledger.PParams.html#2482" class="Function">maxRefScriptSizePerBlock</a>
    <a id="4490" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="4492" class="Symbol">_</a> <a id="4494" href="Ledger.Epoch.html#10144" class="Datatype Operator">⊢</a> <a id="4496" href="Ledger.Chain.html#614" class="Field">newEpochState</a> <a id="4510" href="Ledger.Epoch.html#10144" class="Datatype Operator">⇀⦇</a> <a id="4513" href="Ledger.Types.Epoch.html#755" class="Function">epoch</a> <a id="4519" href="Ledger.Chain.html#704" class="Function">slot</a> <a id="4524" href="Ledger.Epoch.html#10144" class="Datatype Operator">,NEWEPOCH⦈</a> <a id="4535" href="Ledger.Chain.html#3908" class="Bound">nes</a>
    <a id="4543" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="4545" href="Ledger.Chain.html#4354" class="Bound">Γ</a> <a id="4547" href="Ledger.Ledger.html#3676" class="Function Operator">⊢</a> <a id="4549" href="Ledger.Epoch.html#1407" class="Function">ls</a> <a id="4552" href="Ledger.Ledger.html#3676" class="Function Operator">⇀⦇</a> <a id="4555" href="Ledger.Chain.html#684" class="Function">ts</a> <a id="4558" href="Ledger.Ledger.html#3676" class="Function Operator">,LEDGERS⦈</a> <a id="4568" href="Ledger.Chain.html#3790" class="Generalizable">ls&#39;</a>
      <a id="4578" href="iog-prelude.Prelude.InferenceRules.html#217" class="Function Operator">────────────────────────────────</a>
      <a id="4617" class="Symbol">_</a> <a id="4619" href="Ledger.Chain.html#3813" class="Datatype Operator">⊢</a> <a id="4621" href="Ledger.Chain.html#3930" class="Bound">cs</a> <a id="4624" href="Ledger.Chain.html#3813" class="Datatype Operator">⇀⦇</a> <a id="4627" href="Ledger.Chain.html#3896" class="Bound">b</a> <a id="4629" href="Ledger.Chain.html#3813" class="Datatype Operator">,CHAIN⦈</a> <a id="4637" href="Ledger.Chain.html#4175" class="Bound">cs&#39;</a>

</pre></body></html>