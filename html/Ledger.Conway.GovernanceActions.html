<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.GovernanceActions</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="58" class="Keyword">using</a> <a id="64" class="Symbol">(</a><a id="65" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="75" class="Symbol">)</a>
<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="103" class="Keyword">using</a> <a id="109" class="Symbol">(</a><a id="110" href="Data.Rational.Base.html#1342" class="Record">ℚ</a><a id="111" class="Symbol">;</a> <a id="113" href="Data.Rational.Base.html#4325" class="Function">0ℚ</a><a id="115" class="Symbol">;</a> <a id="117" href="Data.Rational.Base.html#4346" class="Function">1ℚ</a><a id="119" class="Symbol">)</a>

<a id="122" class="Keyword">open</a> <a id="127" class="Keyword">import</a> <a id="134" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>
<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Tactic.Derive.Show.html" class="Module">Tactic.Derive.Show</a>

<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="213" class="Keyword">hiding</a> <a id="220" class="Symbol">(</a><a id="221" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a><a id="224" class="Symbol">;</a> <a id="226" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a><a id="228" class="Symbol">)</a>
<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="Ledger.Conway.Types.GovStructure.html" class="Module">Ledger.Conway.Types.GovStructure</a>

<a id="276" class="Keyword">module</a> <a id="283" href="Ledger.Conway.GovernanceActions.html" class="Module">Ledger.Conway.GovernanceActions</a> <a id="315" class="Symbol">(</a><a id="316" href="Ledger.Conway.GovernanceActions.html#316" class="Bound">gs</a> <a id="319" class="Symbol">:</a> <a id="321" class="Symbol">_)</a> <a id="324" class="Symbol">(</a><a id="325" class="Keyword">open</a> <a id="330" href="Ledger.Conway.Types.GovStructure.html#270" class="Module">GovStructure</a> <a id="343" href="Ledger.Conway.GovernanceActions.html#316" class="Bound">gs</a><a id="345" class="Symbol">)</a> <a id="347" class="Keyword">where</a>


<a id="355" class="Keyword">data</a> <a id="GovRole"></a><a id="360" href="Ledger.Conway.GovernanceActions.html#360" class="Datatype">GovRole</a> <a id="368" class="Symbol">:</a> <a id="370" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="375" class="Keyword">where</a>
  <a id="GovRole.CC"></a><a id="383" href="Ledger.Conway.GovernanceActions.html#383" class="InductiveConstructor">CC</a> <a id="GovRole.DRep"></a><a id="386" href="Ledger.Conway.GovernanceActions.html#386" class="InductiveConstructor">DRep</a> <a id="GovRole.SPO"></a><a id="391" href="Ledger.Conway.GovernanceActions.html#391" class="InductiveConstructor">SPO</a> <a id="395" class="Symbol">:</a> <a id="397" href="Ledger.Conway.GovernanceActions.html#360" class="Datatype">GovRole</a>

<a id="Voter"></a><a id="406" href="Ledger.Conway.GovernanceActions.html#406" class="Function">Voter</a>        <a id="419" class="Symbol">=</a> <a id="421" href="Ledger.Conway.GovernanceActions.html#360" class="Datatype">GovRole</a> <a id="429" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="431" href="Ledger.Conway.Address.html#280" class="Datatype">Credential</a>
<a id="GovActionID"></a><a id="442" href="Ledger.Conway.GovernanceActions.html#442" class="Function">GovActionID</a>  <a id="455" class="Symbol">=</a> <a id="457" href="Ledger.Conway.Types.GovStructure.html#305" class="Field">TxId</a> <a id="462" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="464" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

<a id="467" class="Keyword">data</a> <a id="VDeleg"></a><a id="472" href="Ledger.Conway.GovernanceActions.html#472" class="Datatype">VDeleg</a> <a id="479" class="Symbol">:</a> <a id="481" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="486" class="Keyword">where</a>
  <a id="VDeleg.credVoter"></a><a id="494" href="Ledger.Conway.GovernanceActions.html#494" class="InductiveConstructor">credVoter</a>        <a id="511" class="Symbol">:</a> <a id="513" href="Ledger.Conway.GovernanceActions.html#360" class="Datatype">GovRole</a> <a id="521" class="Symbol">→</a> <a id="523" href="Ledger.Conway.Address.html#280" class="Datatype">Credential</a> <a id="534" class="Symbol">→</a>  <a id="537" href="Ledger.Conway.GovernanceActions.html#472" class="Datatype">VDeleg</a>
  <a id="VDeleg.abstainRep"></a><a id="546" href="Ledger.Conway.GovernanceActions.html#546" class="InductiveConstructor">abstainRep</a>       <a id="563" class="Symbol">:</a>                         <a id="589" href="Ledger.Conway.GovernanceActions.html#472" class="Datatype">VDeleg</a>
  <a id="VDeleg.noConfidenceRep"></a><a id="598" href="Ledger.Conway.GovernanceActions.html#598" class="InductiveConstructor">noConfidenceRep</a>  <a id="615" class="Symbol">:</a>                         <a id="641" href="Ledger.Conway.GovernanceActions.html#472" class="Datatype">VDeleg</a>

<a id="649" class="Keyword">record</a> <a id="Anchor"></a><a id="656" href="Ledger.Conway.GovernanceActions.html#656" class="Record">Anchor</a> <a id="663" class="Symbol">:</a> <a id="665" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="670" class="Keyword">where</a>
  <a id="678" class="Keyword">field</a>
    <a id="Anchor.url"></a><a id="688" href="Ledger.Conway.GovernanceActions.html#688" class="Field">url</a>   <a id="694" class="Symbol">:</a> <a id="696" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
    <a id="Anchor.hash"></a><a id="707" href="Ledger.Conway.GovernanceActions.html#707" class="Field">hash</a>  <a id="713" class="Symbol">:</a> <a id="715" href="Ledger.Conway.Types.GovStructure.html#310" class="Field">DocHash</a>

<a id="724" class="Keyword">data</a> <a id="GovActionType"></a><a id="729" href="Ledger.Conway.GovernanceActions.html#729" class="Datatype">GovActionType</a> <a id="743" class="Symbol">:</a> <a id="745" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="750" class="Keyword">where</a>
  <a id="GovActionType.NoConfidence"></a><a id="758" href="Ledger.Conway.GovernanceActions.html#758" class="InductiveConstructor">NoConfidence</a>     <a id="775" class="Symbol">:</a> <a id="777" href="Ledger.Conway.GovernanceActions.html#729" class="Datatype">GovActionType</a>
  <a id="GovActionType.UpdateCommittee"></a><a id="793" href="Ledger.Conway.GovernanceActions.html#793" class="InductiveConstructor">UpdateCommittee</a>  <a id="810" class="Symbol">:</a> <a id="812" href="Ledger.Conway.GovernanceActions.html#729" class="Datatype">GovActionType</a>
  <a id="GovActionType.NewConstitution"></a><a id="828" href="Ledger.Conway.GovernanceActions.html#828" class="InductiveConstructor">NewConstitution</a>  <a id="845" class="Symbol">:</a> <a id="847" href="Ledger.Conway.GovernanceActions.html#729" class="Datatype">GovActionType</a>
  <a id="GovActionType.TriggerHF"></a><a id="863" href="Ledger.Conway.GovernanceActions.html#863" class="InductiveConstructor">TriggerHF</a>        <a id="880" class="Symbol">:</a> <a id="882" href="Ledger.Conway.GovernanceActions.html#729" class="Datatype">GovActionType</a>
  <a id="GovActionType.ChangePParams"></a><a id="898" href="Ledger.Conway.GovernanceActions.html#898" class="InductiveConstructor">ChangePParams</a>    <a id="915" class="Symbol">:</a> <a id="917" href="Ledger.Conway.GovernanceActions.html#729" class="Datatype">GovActionType</a>
  <a id="GovActionType.TreasuryWdrl"></a><a id="933" href="Ledger.Conway.GovernanceActions.html#933" class="InductiveConstructor">TreasuryWdrl</a>     <a id="950" class="Symbol">:</a> <a id="952" href="Ledger.Conway.GovernanceActions.html#729" class="Datatype">GovActionType</a>
  <a id="GovActionType.Info"></a><a id="968" href="Ledger.Conway.GovernanceActions.html#968" class="InductiveConstructor">Info</a>             <a id="985" class="Symbol">:</a> <a id="987" href="Ledger.Conway.GovernanceActions.html#729" class="Datatype">GovActionType</a>

<a id="GovActionData"></a><a id="1002" href="Ledger.Conway.GovernanceActions.html#1002" class="Function">GovActionData</a> <a id="1016" class="Symbol">:</a> <a id="1018" href="Ledger.Conway.GovernanceActions.html#729" class="Datatype">GovActionType</a> <a id="1032" class="Symbol">→</a> <a id="1034" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1039" href="Ledger.Conway.GovernanceActions.html#1002" class="Function">GovActionData</a> <a id="1053" href="Ledger.Conway.GovernanceActions.html#758" class="InductiveConstructor">NoConfidence</a>     <a id="1070" class="Symbol">=</a> <a id="1072" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="1074" href="Ledger.Conway.GovernanceActions.html#1002" class="Function">GovActionData</a> <a id="1088" href="Ledger.Conway.GovernanceActions.html#793" class="InductiveConstructor">UpdateCommittee</a>  <a id="1105" class="Symbol">=</a> <a id="1107" class="Symbol">(</a><a id="1108" href="Ledger.Conway.Address.html#280" class="Datatype">Credential</a> <a id="1119" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1121" href="Ledger.Conway.Types.Epoch.html#592" class="Function">Epoch</a><a id="1126" class="Symbol">)</a> <a id="1128" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1130" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1132" href="Ledger.Conway.Address.html#280" class="Datatype">Credential</a> <a id="1143" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1145" href="Data.Rational.Base.html#1342" class="Record">ℚ</a>
<a id="1147" href="Ledger.Conway.GovernanceActions.html#1002" class="Function">GovActionData</a> <a id="1161" href="Ledger.Conway.GovernanceActions.html#828" class="InductiveConstructor">NewConstitution</a>  <a id="1178" class="Symbol">=</a> <a id="1180" href="Ledger.Conway.Types.GovStructure.html#310" class="Field">DocHash</a> <a id="1188" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1190" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1196" href="Ledger.Conway.Crypto.html#1173" class="Function">ScriptHash</a>
<a id="1207" href="Ledger.Conway.GovernanceActions.html#1002" class="Function">GovActionData</a> <a id="1221" href="Ledger.Conway.GovernanceActions.html#863" class="InductiveConstructor">TriggerHF</a>        <a id="1238" class="Symbol">=</a> <a id="1240" href="Ledger.Conway.PParams.html#1018" class="Function">ProtVer</a>
<a id="1248" href="Ledger.Conway.GovernanceActions.html#1002" class="Function">GovActionData</a> <a id="1262" href="Ledger.Conway.GovernanceActions.html#898" class="InductiveConstructor">ChangePParams</a>    <a id="1279" class="Symbol">=</a> <a id="1281" href="Ledger.Conway.PParams.html#14424" class="Function">PParamsUpdate</a>
<a id="1295" href="Ledger.Conway.GovernanceActions.html#1002" class="Function">GovActionData</a> <a id="1309" href="Ledger.Conway.GovernanceActions.html#933" class="InductiveConstructor">TreasuryWdrl</a>     <a id="1326" class="Symbol">=</a> <a id="1328" href="Ledger.Conway.Address.html#1344" class="Record">RwdAddr</a> <a id="1336" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1338" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
<a id="1343" href="Ledger.Conway.GovernanceActions.html#1002" class="Function">GovActionData</a> <a id="1357" href="Ledger.Conway.GovernanceActions.html#968" class="InductiveConstructor">Info</a>             <a id="1374" class="Symbol">=</a> <a id="1376" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="1379" class="Keyword">record</a> <a id="GovAction"></a><a id="1386" href="Ledger.Conway.GovernanceActions.html#1386" class="Record">GovAction</a> <a id="1396" class="Symbol">:</a> <a id="1398" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1403" class="Keyword">where</a>


  <a id="1413" class="Keyword">constructor</a> <a id="⟦_,_⟧ᵍᵃ"></a><a id="1425" href="Ledger.Conway.GovernanceActions.html#1425" class="InductiveConstructor Operator">⟦_,_⟧ᵍᵃ</a>


  <a id="1437" class="Keyword">field</a>
    <a id="GovAction.gaType"></a><a id="1447" href="Ledger.Conway.GovernanceActions.html#1447" class="Field">gaType</a> <a id="1454" class="Symbol">:</a> <a id="1456" href="Ledger.Conway.GovernanceActions.html#729" class="Datatype">GovActionType</a>
    <a id="GovAction.gaData"></a><a id="1474" href="Ledger.Conway.GovernanceActions.html#1474" class="Field">gaData</a> <a id="1481" class="Symbol">:</a> <a id="1483" href="Ledger.Conway.GovernanceActions.html#1002" class="Function">GovActionData</a> <a id="1497" href="Ledger.Conway.GovernanceActions.html#1447" class="Field">gaType</a>


<a id="1506" class="Keyword">open</a> <a id="1511" href="Ledger.Conway.GovernanceActions.html#1386" class="Module">GovAction</a> <a id="1521" class="Keyword">public</a>


<a id="1530" class="Keyword">instance</a>
  <a id="HasCast-GovAction-Sigma"></a><a id="1541" href="Ledger.Conway.GovernanceActions.html#1541" class="Function">HasCast-GovAction-Sigma</a> <a id="1565" class="Symbol">:</a> <a id="1567" href="stdlib-classes.Class.HasCast.Base.html#131" class="Record">HasCast</a> <a id="1575" href="Ledger.Conway.GovernanceActions.html#1386" class="Record">GovAction</a> <a id="1585" class="Symbol">(</a><a id="1586" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="1588" href="Ledger.Conway.GovernanceActions.html#729" class="Datatype">GovActionType</a> <a id="1602" href="Ledger.Conway.GovernanceActions.html#1002" class="Function">GovActionData</a><a id="1615" class="Symbol">)</a>
  <a id="1619" href="Ledger.Conway.GovernanceActions.html#1541" class="Function">HasCast-GovAction-Sigma</a> <a id="1643" class="Symbol">.</a><a id="1644" href="stdlib-classes.Class.HasCast.Base.html#201" class="Field">cast</a> <a id="1649" href="Ledger.Conway.GovernanceActions.html#1649" class="Bound">x</a> <a id="1651" class="Symbol">=</a> <a id="1653" href="Ledger.Conway.GovernanceActions.html#1649" class="Bound">x</a> <a id="1655" class="Symbol">.</a><a id="1656" href="Ledger.Conway.GovernanceActions.html#1447" class="Field">gaType</a> <a id="1663" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1665" href="Ledger.Conway.GovernanceActions.html#1649" class="Bound">x</a> <a id="1667" class="Symbol">.</a><a id="1668" href="Ledger.Conway.GovernanceActions.html#1474" class="Field">gaData</a>


<a id="NeedsHash"></a><a id="1677" href="Ledger.Conway.GovernanceActions.html#1677" class="Function">NeedsHash</a> <a id="1687" class="Symbol">:</a> <a id="1689" href="Ledger.Conway.GovernanceActions.html#729" class="Datatype">GovActionType</a> <a id="1703" class="Symbol">→</a> <a id="1705" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1710" href="Ledger.Conway.GovernanceActions.html#1677" class="Function">NeedsHash</a> <a id="1720" href="Ledger.Conway.GovernanceActions.html#758" class="InductiveConstructor">NoConfidence</a>     <a id="1737" class="Symbol">=</a> <a id="1739" href="Ledger.Conway.GovernanceActions.html#442" class="Function">GovActionID</a>
<a id="1751" href="Ledger.Conway.GovernanceActions.html#1677" class="Function">NeedsHash</a> <a id="1761" href="Ledger.Conway.GovernanceActions.html#793" class="InductiveConstructor">UpdateCommittee</a>  <a id="1778" class="Symbol">=</a> <a id="1780" href="Ledger.Conway.GovernanceActions.html#442" class="Function">GovActionID</a>
<a id="1792" href="Ledger.Conway.GovernanceActions.html#1677" class="Function">NeedsHash</a> <a id="1802" href="Ledger.Conway.GovernanceActions.html#828" class="InductiveConstructor">NewConstitution</a>  <a id="1819" class="Symbol">=</a> <a id="1821" href="Ledger.Conway.GovernanceActions.html#442" class="Function">GovActionID</a>
<a id="1833" href="Ledger.Conway.GovernanceActions.html#1677" class="Function">NeedsHash</a> <a id="1843" href="Ledger.Conway.GovernanceActions.html#863" class="InductiveConstructor">TriggerHF</a>        <a id="1860" class="Symbol">=</a> <a id="1862" href="Ledger.Conway.GovernanceActions.html#442" class="Function">GovActionID</a>
<a id="1874" href="Ledger.Conway.GovernanceActions.html#1677" class="Function">NeedsHash</a> <a id="1884" href="Ledger.Conway.GovernanceActions.html#898" class="InductiveConstructor">ChangePParams</a>    <a id="1901" class="Symbol">=</a> <a id="1903" href="Ledger.Conway.GovernanceActions.html#442" class="Function">GovActionID</a>
<a id="1915" href="Ledger.Conway.GovernanceActions.html#1677" class="Function">NeedsHash</a> <a id="1925" href="Ledger.Conway.GovernanceActions.html#933" class="InductiveConstructor">TreasuryWdrl</a>     <a id="1942" class="Symbol">=</a> <a id="1944" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="1946" href="Ledger.Conway.GovernanceActions.html#1677" class="Function">NeedsHash</a> <a id="1956" href="Ledger.Conway.GovernanceActions.html#968" class="InductiveConstructor">Info</a>             <a id="1973" class="Symbol">=</a> <a id="1975" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="HashProtected"></a><a id="1978" href="Ledger.Conway.GovernanceActions.html#1978" class="Function">HashProtected</a> <a id="1992" class="Symbol">:</a> <a id="1994" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1999" class="Symbol">→</a> <a id="2001" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="2006" href="Ledger.Conway.GovernanceActions.html#1978" class="Function">HashProtected</a> <a id="2020" href="Ledger.Conway.GovernanceActions.html#2020" class="Bound">A</a> <a id="2022" class="Symbol">=</a> <a id="2024" href="Ledger.Conway.GovernanceActions.html#2020" class="Bound">A</a> <a id="2026" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2028" href="Ledger.Conway.GovernanceActions.html#442" class="Function">GovActionID</a>


<a id="2042" class="Keyword">instance</a>
  <a id="HasCast-HashProtected"></a><a id="2053" href="Ledger.Conway.GovernanceActions.html#2053" class="Function">HasCast-HashProtected</a> <a id="2075" class="Symbol">:</a> <a id="2077" class="Symbol">∀</a> <a id="2079" class="Symbol">{</a><a id="2080" href="Ledger.Conway.GovernanceActions.html#2080" class="Bound">A</a> <a id="2082" class="Symbol">:</a> <a id="2084" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="2088" class="Symbol">}</a> <a id="2090" class="Symbol">→</a> <a id="2092" href="stdlib-classes.Class.HasCast.Base.html#131" class="Record">HasCast</a> <a id="2100" class="Symbol">(</a><a id="2101" href="Ledger.Conway.GovernanceActions.html#1978" class="Function">HashProtected</a> <a id="2115" href="Ledger.Conway.GovernanceActions.html#2080" class="Bound">A</a><a id="2116" class="Symbol">)</a> <a id="2118" href="Ledger.Conway.GovernanceActions.html#2080" class="Bound">A</a>
  <a id="2122" href="Ledger.Conway.GovernanceActions.html#2053" class="Function">HasCast-HashProtected</a> <a id="2144" class="Symbol">.</a><a id="2145" href="stdlib-classes.Class.HasCast.Base.html#201" class="Field">cast</a> <a id="2150" class="Symbol">=</a> <a id="2152" href="Data.Product.Base.html#636" class="Field">proj₁</a>

  <a id="HasCast-HashProtected-MaybeScriptHash"></a><a id="2161" href="Ledger.Conway.GovernanceActions.html#2161" class="Function">HasCast-HashProtected-MaybeScriptHash</a> <a id="2199" class="Symbol">:</a> <a id="2201" href="stdlib-classes.Class.HasCast.Base.html#131" class="Record">HasCast</a> <a id="2209" class="Symbol">(</a><a id="2210" href="Ledger.Conway.GovernanceActions.html#1978" class="Function">HashProtected</a> <a id="2224" class="Symbol">(</a><a id="2225" href="Ledger.Conway.Types.GovStructure.html#310" class="Field">DocHash</a> <a id="2233" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2235" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2241" href="Ledger.Conway.Crypto.html#1173" class="Function">ScriptHash</a><a id="2251" class="Symbol">))</a> <a id="2254" class="Symbol">(</a><a id="2255" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2261" href="Ledger.Conway.Crypto.html#1173" class="Function">ScriptHash</a><a id="2271" class="Symbol">)</a>
  <a id="2275" href="Ledger.Conway.GovernanceActions.html#2161" class="Function">HasCast-HashProtected-MaybeScriptHash</a> <a id="2313" class="Symbol">.</a><a id="2314" href="stdlib-classes.Class.HasCast.Base.html#201" class="Field">cast</a> <a id="2319" class="Symbol">=</a> <a id="2321" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2327" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2329" href="Data.Product.Base.html#636" class="Field">proj₁</a>


<a id="2337" class="Keyword">data</a> <a id="Vote"></a><a id="2342" href="Ledger.Conway.GovernanceActions.html#2342" class="Datatype">Vote</a> <a id="2347" class="Symbol">:</a> <a id="2349" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2354" class="Keyword">where</a>
  <a id="Vote.yes"></a><a id="2362" href="Ledger.Conway.GovernanceActions.html#2362" class="InductiveConstructor">yes</a> <a id="Vote.no"></a><a id="2366" href="Ledger.Conway.GovernanceActions.html#2366" class="InductiveConstructor">no</a> <a id="Vote.abstain"></a><a id="2369" href="Ledger.Conway.GovernanceActions.html#2369" class="InductiveConstructor">abstain</a>  <a id="2378" class="Symbol">:</a> <a id="2380" href="Ledger.Conway.GovernanceActions.html#2342" class="Datatype">Vote</a>

<a id="2386" class="Keyword">record</a> <a id="GovVote"></a><a id="2393" href="Ledger.Conway.GovernanceActions.html#2393" class="Record">GovVote</a> <a id="2401" class="Symbol">:</a> <a id="2403" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2408" class="Keyword">where</a>
  <a id="2416" class="Keyword">field</a>
    <a id="GovVote.gid"></a><a id="2426" href="Ledger.Conway.GovernanceActions.html#2426" class="Field">gid</a>         <a id="2438" class="Symbol">:</a> <a id="2440" href="Ledger.Conway.GovernanceActions.html#442" class="Function">GovActionID</a>
    <a id="GovVote.voter"></a><a id="2456" href="Ledger.Conway.GovernanceActions.html#2456" class="Field">voter</a>       <a id="2468" class="Symbol">:</a> <a id="2470" href="Ledger.Conway.GovernanceActions.html#406" class="Function">Voter</a>
    <a id="GovVote.vote"></a><a id="2480" href="Ledger.Conway.GovernanceActions.html#2480" class="Field">vote</a>        <a id="2492" class="Symbol">:</a> <a id="2494" href="Ledger.Conway.GovernanceActions.html#2342" class="Datatype">Vote</a>
    <a id="GovVote.anchor"></a><a id="2503" href="Ledger.Conway.GovernanceActions.html#2503" class="Field">anchor</a>      <a id="2515" class="Symbol">:</a> <a id="2517" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2523" href="Ledger.Conway.GovernanceActions.html#656" class="Record">Anchor</a>

<a id="2531" class="Keyword">record</a> <a id="GovProposal"></a><a id="2538" href="Ledger.Conway.GovernanceActions.html#2538" class="Record">GovProposal</a> <a id="2550" class="Symbol">:</a> <a id="2552" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2557" class="Keyword">where</a>
  <a id="2565" class="Keyword">field</a>
    <a id="GovProposal.action"></a><a id="2575" href="Ledger.Conway.GovernanceActions.html#2575" class="Field">action</a>      <a id="2587" class="Symbol">:</a> <a id="2589" href="Ledger.Conway.GovernanceActions.html#1386" class="Record">GovAction</a>
    <a id="GovProposal.prevAction"></a><a id="2603" href="Ledger.Conway.GovernanceActions.html#2603" class="Field">prevAction</a>  <a id="2615" class="Symbol">:</a> <a id="2617" href="Ledger.Conway.GovernanceActions.html#1677" class="Function">NeedsHash</a> <a id="2627" class="Symbol">(</a><a id="2628" href="Ledger.Conway.GovernanceActions.html#1447" class="Field">gaType</a> <a id="2635" href="Ledger.Conway.GovernanceActions.html#2575" class="Field">action</a><a id="2641" class="Symbol">)</a>
    <a id="GovProposal.policy"></a><a id="2647" href="Ledger.Conway.GovernanceActions.html#2647" class="Field">policy</a>      <a id="2659" class="Symbol">:</a> <a id="2661" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2667" href="Ledger.Conway.Crypto.html#1173" class="Function">ScriptHash</a>
    <a id="GovProposal.deposit"></a><a id="2682" href="Ledger.Conway.GovernanceActions.html#2682" class="Field">deposit</a>     <a id="2694" class="Symbol">:</a> <a id="2696" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="GovProposal.returnAddr"></a><a id="2705" href="Ledger.Conway.GovernanceActions.html#2705" class="Field">returnAddr</a>  <a id="2717" class="Symbol">:</a> <a id="2719" href="Ledger.Conway.Address.html#1344" class="Record">RwdAddr</a>
    <a id="GovProposal.anchor"></a><a id="2731" href="Ledger.Conway.GovernanceActions.html#2731" class="Field">anchor</a>      <a id="2743" class="Symbol">:</a> <a id="2745" href="Ledger.Conway.GovernanceActions.html#656" class="Record">Anchor</a>

<a id="2753" class="Keyword">record</a> <a id="GovActionState"></a><a id="2760" href="Ledger.Conway.GovernanceActions.html#2760" class="Record">GovActionState</a> <a id="2775" class="Symbol">:</a> <a id="2777" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2782" class="Keyword">where</a>
  <a id="2790" class="Keyword">field</a>
    <a id="GovActionState.votes"></a><a id="2800" href="Ledger.Conway.GovernanceActions.html#2800" class="Field">votes</a>       <a id="2812" class="Symbol">:</a> <a id="2814" href="Ledger.Conway.GovernanceActions.html#406" class="Function">Voter</a> <a id="2820" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2822" href="Ledger.Conway.GovernanceActions.html#2342" class="Datatype">Vote</a>
    <a id="GovActionState.returnAddr"></a><a id="2831" href="Ledger.Conway.GovernanceActions.html#2831" class="Field">returnAddr</a>  <a id="2843" class="Symbol">:</a> <a id="2845" href="Ledger.Conway.Address.html#1344" class="Record">RwdAddr</a>
    <a id="GovActionState.expiresIn"></a><a id="2857" href="Ledger.Conway.GovernanceActions.html#2857" class="Field">expiresIn</a>   <a id="2869" class="Symbol">:</a> <a id="2871" href="Ledger.Conway.Types.Epoch.html#592" class="Function">Epoch</a>
    <a id="GovActionState.action"></a><a id="2881" href="Ledger.Conway.GovernanceActions.html#2881" class="Field">action</a>      <a id="2893" class="Symbol">:</a> <a id="2895" href="Ledger.Conway.GovernanceActions.html#1386" class="Record">GovAction</a>
    <a id="GovActionState.prevAction"></a><a id="2909" href="Ledger.Conway.GovernanceActions.html#2909" class="Field">prevAction</a>  <a id="2921" class="Symbol">:</a> <a id="2923" href="Ledger.Conway.GovernanceActions.html#1677" class="Function">NeedsHash</a> <a id="2933" class="Symbol">(</a><a id="2934" href="Ledger.Conway.GovernanceActions.html#1447" class="Field">gaType</a> <a id="2941" href="Ledger.Conway.GovernanceActions.html#2881" class="Field">action</a><a id="2947" class="Symbol">)</a>


<a id="2951" class="Keyword">instance</a>
  <a id="2962" class="Keyword">unquoteDecl</a> <a id="DecEq-GovActionType"></a><a id="2974" href="Ledger.Conway.GovernanceActions.html#2974" class="Function">DecEq-GovActionType</a> <a id="2994" class="Symbol">=</a> <a id="2996" href="Tactic.Derive.DecEq.html#3519" class="Function">derive-DecEq</a> <a id="3009" class="Symbol">((</a><a id="3011" class="Keyword">quote</a> <a id="3017" href="Ledger.Conway.GovernanceActions.html#729" class="Datatype">GovActionType</a> <a id="3031" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3033" href="Ledger.Conway.GovernanceActions.html#2974" class="Function">DecEq-GovActionType</a><a id="3052" class="Symbol">)</a> <a id="3054" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3056" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3058" class="Symbol">)</a>
  <a id="3062" class="Keyword">unquoteDecl</a> <a id="DecEq-GovRole"></a><a id="3074" href="Ledger.Conway.GovernanceActions.html#3074" class="Function">DecEq-GovRole</a>       <a id="3094" class="Symbol">=</a> <a id="3096" href="Tactic.Derive.DecEq.html#3519" class="Function">derive-DecEq</a> <a id="3109" class="Symbol">((</a><a id="3111" class="Keyword">quote</a> <a id="3117" href="Ledger.Conway.GovernanceActions.html#360" class="Datatype">GovRole</a> <a id="3125" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3127" href="Ledger.Conway.GovernanceActions.html#3074" class="Function">DecEq-GovRole</a><a id="3140" class="Symbol">)</a> <a id="3142" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3144" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3146" class="Symbol">)</a>
  <a id="3150" class="Keyword">unquoteDecl</a> <a id="DecEq-Vote"></a><a id="3162" href="Ledger.Conway.GovernanceActions.html#3162" class="Function">DecEq-Vote</a>          <a id="3182" class="Symbol">=</a> <a id="3184" href="Tactic.Derive.DecEq.html#3519" class="Function">derive-DecEq</a> <a id="3197" class="Symbol">((</a><a id="3199" class="Keyword">quote</a> <a id="3205" href="Ledger.Conway.GovernanceActions.html#2342" class="Datatype">Vote</a>    <a id="3213" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3215" href="Ledger.Conway.GovernanceActions.html#3162" class="Function">DecEq-Vote</a><a id="3225" class="Symbol">)</a>    <a id="3230" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3232" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3234" class="Symbol">)</a>
  <a id="3238" class="Keyword">unquoteDecl</a> <a id="DecEq-VDeleg"></a><a id="3250" href="Ledger.Conway.GovernanceActions.html#3250" class="Function">DecEq-VDeleg</a>        <a id="3270" class="Symbol">=</a> <a id="3272" href="Tactic.Derive.DecEq.html#3519" class="Function">derive-DecEq</a> <a id="3285" class="Symbol">((</a><a id="3287" class="Keyword">quote</a> <a id="3293" href="Ledger.Conway.GovernanceActions.html#472" class="Datatype">VDeleg</a>  <a id="3301" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3303" href="Ledger.Conway.GovernanceActions.html#3250" class="Function">DecEq-VDeleg</a><a id="3315" class="Symbol">)</a>  <a id="3318" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3320" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3322" class="Symbol">)</a>

  <a id="3327" class="Keyword">unquoteDecl</a> <a id="HasCast-GovVote"></a><a id="3339" href="Ledger.Conway.GovernanceActions.html#3339" class="Function">HasCast-GovVote</a> <a id="3355" class="Symbol">=</a> <a id="3357" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a> <a id="3372" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="3374" class="Symbol">(</a><a id="3375" class="Keyword">quote</a> <a id="3381" href="Ledger.Conway.GovernanceActions.html#2393" class="Record">GovVote</a> <a id="3389" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3391" href="Ledger.Conway.GovernanceActions.html#3339" class="Function">HasCast-GovVote</a><a id="3406" class="Symbol">)</a> <a id="3408" href="Data.List.Base.html#5205" class="Function Operator">]</a>


<a id="getDRepVote"></a><a id="3412" href="Ledger.Conway.GovernanceActions.html#3412" class="Function">getDRepVote</a> <a id="3424" class="Symbol">:</a> <a id="3426" href="Ledger.Conway.GovernanceActions.html#2393" class="Record">GovVote</a> <a id="3434" class="Symbol">→</a> <a id="3436" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3442" href="Ledger.Conway.Address.html#280" class="Datatype">Credential</a>
<a id="3453" href="Ledger.Conway.GovernanceActions.html#3412" class="Function">getDRepVote</a> <a id="3465" class="Keyword">record</a> <a id="3472" class="Symbol">{</a> <a id="3474" href="Ledger.Conway.GovernanceActions.html#2456" class="Field">voter</a> <a id="3480" class="Symbol">=</a> <a id="3482" class="Symbol">(</a><a id="3483" href="Ledger.Conway.GovernanceActions.html#386" class="InductiveConstructor">DRep</a> <a id="3488" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3490" href="Ledger.Conway.GovernanceActions.html#3490" class="Bound">credential</a><a id="3500" class="Symbol">)</a> <a id="3502" class="Symbol">}</a>  <a id="3505" class="Symbol">=</a> <a id="3507" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3512" href="Ledger.Conway.GovernanceActions.html#3490" class="Bound">credential</a>
<a id="3523" href="Ledger.Conway.GovernanceActions.html#3412" class="CatchallClause Function">getDRepVote</a><a id="3534" class="CatchallClause"> </a><a id="3535" class="CatchallClause Symbol">_</a>                                       <a id="3575" class="Symbol">=</a> <a id="3577" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="proposedCC"></a><a id="3586" href="Ledger.Conway.GovernanceActions.html#3586" class="Function">proposedCC</a> <a id="3597" class="Symbol">:</a> <a id="3599" href="Ledger.Conway.GovernanceActions.html#1386" class="Record">GovAction</a> <a id="3609" class="Symbol">→</a> <a id="3611" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3613" href="Ledger.Conway.Address.html#280" class="Datatype">Credential</a>
<a id="3624" href="Ledger.Conway.GovernanceActions.html#3586" class="Function">proposedCC</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.GovernanceActions.html#793}{\htmlId{3637}{\htmlClass{InductiveConstructor}{\text{UpdateCommittee}}}}\, \\ (\,\href{Ledger.Conway.GovernanceActions.html#3656}{\htmlId{3656}{\htmlClass{Bound}{\text{x}}}}\, , \,\htmlId{3660}{\htmlClass{Symbol}{\text{\_}}}\, , \,\htmlId{3664}{\htmlClass{Symbol}{\text{\_)}}}\, \end{pmatrix}$</a>  <a id="3672" class="Symbol">=</a> <a id="3674" href="Class.IsSet.html#916" class="Function">dom</a> <a id="3678" href="Ledger.Conway.GovernanceActions.html#3656" class="Bound">x</a>
<a id="3680" href="Ledger.Conway.GovernanceActions.html#3586" class="CatchallClause Function">proposedCC</a><a id="3690" class="CatchallClause"> </a><a id="3691" class="CatchallClause Symbol">_</a>                                    <a id="3728" class="Symbol">=</a> <a id="3730" href="Class.HasEmptySet.html#287" class="Field">∅</a>

</pre></body></html>