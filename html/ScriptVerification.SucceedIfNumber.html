<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>ScriptVerification.SucceedIfNumber</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="28" class="Keyword">hiding</a> <a id="35" class="Symbol">(</a><a id="36" href="Axiom.Set.html#5718" class="Function">fromList</a><a id="44" class="Symbol">;</a> <a id="46" href="Class.Monoid.Core.html#195" class="Field">ε</a><a id="47" class="Symbol">);</a> <a id="50" class="Keyword">open</a> <a id="55" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a>
<a id="69" class="Keyword">open</a> <a id="74" class="Keyword">import</a> <a id="81" href="ScriptVerification.Prelude.html" class="Module">ScriptVerification.Prelude</a>

<a id="109" class="Keyword">module</a> <a id="116" href="ScriptVerification.SucceedIfNumber.html" class="Module">ScriptVerification.SucceedIfNumber</a> <a id="151" class="Keyword">where</a>

<a id="scriptImp"></a><a id="158" href="ScriptVerification.SucceedIfNumber.html#158" class="Function">scriptImp</a> <a id="168" class="Symbol">:</a> <a id="170" href="ScriptVerification.Prelude.html#118" class="Record">ScriptImplementation</a> <a id="191" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="193" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="195" href="ScriptVerification.SucceedIfNumber.html#158" class="Function">scriptImp</a> <a id="205" class="Symbol">=</a> <a id="207" class="Keyword">record</a> <a id="214" class="Symbol">{</a> <a id="216" href="ScriptVerification.Prelude.html#174" class="Field">serialise</a> <a id="226" class="Symbol">=</a> <a id="228" href="Function.Base.html#704" class="Function">id</a> <a id="231" class="Symbol">;</a>
                     <a id="254" href="ScriptVerification.Prelude.html#200" class="Field">deserialise</a> <a id="266" class="Symbol">=</a> <a id="268" class="Symbol">λ</a> <a id="270" href="ScriptVerification.SucceedIfNumber.html#270" class="Bound">x</a> <a id="272" class="Symbol">→</a> <a id="274" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="279" href="ScriptVerification.SucceedIfNumber.html#270" class="Bound">x</a> <a id="281" class="Symbol">;</a>
                     <a id="304" href="ScriptVerification.Prelude.html#234" class="Field">toData&#39;</a> <a id="312" class="Symbol">=</a> <a id="314" class="Symbol">λ</a> <a id="316" href="ScriptVerification.SucceedIfNumber.html#316" class="Bound">x</a> <a id="318" class="Symbol">→</a> <a id="320" class="Number">9999999</a> <a id="328" class="Symbol">}</a>

<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="ScriptVerification.LedgerImplementation.html" class="Module">ScriptVerification.LedgerImplementation</a> <a id="383" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="385" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="387" href="ScriptVerification.SucceedIfNumber.html#158" class="Function">scriptImp</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="ScriptVerification.Lib.html" class="Module">ScriptVerification.Lib</a> <a id="432" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="434" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="436" href="ScriptVerification.SucceedIfNumber.html#158" class="Function">scriptImp</a>
<a id="446" class="Keyword">open</a> <a id="451" class="Keyword">import</a> <a id="458" href="Ledger.ScriptValidation.html" class="Module">Ledger.ScriptValidation</a> <a id="482" href="ScriptVerification.LedgerImplementation.html#4061" class="Function">SVTransactionStructure</a> <a id="505" href="ScriptVerification.LedgerImplementation.html#4630" class="Function">SVAbstractFunctions</a>
<a id="525" class="Keyword">open</a> <a id="530" class="Keyword">import</a> <a id="537" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Class.HasCast.html" class="Module">Class.HasCast</a>
<a id="574" class="Keyword">open</a> <a id="579" class="Keyword">import</a> <a id="586" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="617" href="ScriptVerification.LedgerImplementation.html#4061" class="Function">SVTransactionStructure</a> <a id="640" href="ScriptVerification.LedgerImplementation.html#4630" class="Function">SVAbstractFunctions</a>
<a id="660" class="Keyword">open</a> <a id="665" class="Keyword">import</a> <a id="672" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="691" class="Keyword">open</a> <a id="696" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="717" href="ScriptVerification.LedgerImplementation.html#4061" class="Function">SVTransactionStructure</a>
<a id="740" class="Keyword">open</a> <a id="745" class="Keyword">import</a> <a id="752" href="Ledger.Types.Epoch.html" class="Module">Ledger.Types.Epoch</a>
<a id="771" class="Keyword">open</a> <a id="776" href="Ledger.Types.Epoch.html#408" class="Module">EpochStructure</a> <a id="791" href="ScriptVerification.LedgerImplementation.html#2058" class="Function">SVEpochStructure</a>
<a id="808" class="Keyword">open</a> <a id="813" href="ScriptVerification.LedgerImplementation.html#1017" class="Module">Implementation</a>
<a id="828" class="Keyword">open</a> <a id="833" class="Keyword">import</a> <a id="840" href="Ledger.Conway.Conformance.Utxo.Properties.html" class="Module">Ledger.Conway.Conformance.Utxo.Properties</a> <a id="882" href="ScriptVerification.LedgerImplementation.html#4061" class="Function">SVTransactionStructure</a> <a id="905" href="ScriptVerification.LedgerImplementation.html#4630" class="Function">SVAbstractFunctions</a>
<a id="925" class="Keyword">open</a> <a id="930" class="Keyword">import</a> <a id="937" href="Ledger.Conway.Conformance.Utxow.Properties.html" class="Module">Ledger.Conway.Conformance.Utxow.Properties</a> <a id="980" href="ScriptVerification.LedgerImplementation.html#4061" class="Function">SVTransactionStructure</a> <a id="1003" href="ScriptVerification.LedgerImplementation.html#4630" class="Function">SVAbstractFunctions</a>

<a id="1024" class="Comment">-- succeed if the datum is 1</a>
<a id="succeedIf1Datum&#39;"></a><a id="1053" href="ScriptVerification.SucceedIfNumber.html#1053" class="Function">succeedIf1Datum&#39;</a> <a id="1070" class="Symbol">:</a> <a id="1072" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1078" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1080" class="Symbol">→</a> <a id="1082" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1088" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1090" class="Symbol">→</a> <a id="1092" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="1097" href="ScriptVerification.SucceedIfNumber.html#1053" class="Function">succeedIf1Datum&#39;</a> <a id="1114" class="Symbol">(</a><a id="1115" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1120" class="Symbol">(</a><a id="1121" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1125" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="1129" class="Symbol">))</a> <a id="1132" class="Symbol">_</a> <a id="1134" class="Symbol">=</a> <a id="1136" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="1141" href="ScriptVerification.SucceedIfNumber.html#1053" class="CatchallClause Function">succeedIf1Datum&#39;</a><a id="1157" class="CatchallClause"> </a><a id="1158" class="CatchallClause Symbol">_</a><a id="1159" class="CatchallClause"> </a><a id="1160" class="CatchallClause Symbol">_</a> <a id="1162" class="Symbol">=</a> <a id="1164" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="succeedIf1Datum"></a><a id="1171" href="ScriptVerification.SucceedIfNumber.html#1171" class="Function">succeedIf1Datum</a> <a id="1187" class="Symbol">:</a> <a id="1189" href="ScriptVerification.LedgerImplementation.html#1362" class="Function">PlutusScript</a>
<a id="1202" href="ScriptVerification.SucceedIfNumber.html#1171" class="Function">succeedIf1Datum</a> <a id="1218" class="Symbol">=</a> <a id="1220" class="Number">777</a> <a id="1224" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1226" href="ScriptVerification.Lib.html#5478" class="Function">applyScript</a> <a id="1238" href="ScriptVerification.SucceedIfNumber.html#1053" class="Function">succeedIf1Datum&#39;</a>

<a id="1256" class="Comment">--succeed if the redeemer is 1</a>
<a id="succeedIf1Redeemer&#39;"></a><a id="1287" href="ScriptVerification.SucceedIfNumber.html#1287" class="Function">succeedIf1Redeemer&#39;</a> <a id="1307" class="Symbol">:</a> <a id="1309" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1315" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1317" class="Symbol">→</a> <a id="1319" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1325" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1327" class="Symbol">→</a> <a id="1329" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="1334" href="ScriptVerification.SucceedIfNumber.html#1287" class="Function">succeedIf1Redeemer&#39;</a> <a id="1354" class="Symbol">_</a> <a id="1356" class="Symbol">(</a><a id="1357" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1362" class="Symbol">(</a><a id="1363" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1367" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="1371" class="Symbol">))</a> <a id="1374" class="Symbol">=</a> <a id="1376" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="1381" href="ScriptVerification.SucceedIfNumber.html#1287" class="CatchallClause Function">succeedIf1Redeemer&#39;</a><a id="1400" class="CatchallClause"> </a><a id="1401" class="CatchallClause Symbol">_</a><a id="1402" class="CatchallClause"> </a><a id="1403" class="CatchallClause Symbol">_</a> <a id="1405" class="Symbol">=</a> <a id="1407" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="succeedIf1Redeemer"></a><a id="1414" href="ScriptVerification.SucceedIfNumber.html#1414" class="Function">succeedIf1Redeemer</a> <a id="1433" class="Symbol">:</a> <a id="1435" href="ScriptVerification.LedgerImplementation.html#1362" class="Function">PlutusScript</a>
<a id="1448" href="ScriptVerification.SucceedIfNumber.html#1414" class="Function">succeedIf1Redeemer</a> <a id="1467" class="Symbol">=</a> <a id="1469" class="Number">888</a> <a id="1473" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1475" href="ScriptVerification.Lib.html#5478" class="Function">applyScript</a> <a id="1487" href="ScriptVerification.SucceedIfNumber.html#1287" class="Function">succeedIf1Redeemer&#39;</a>

<a id="initEnv"></a><a id="1508" href="ScriptVerification.SucceedIfNumber.html#1508" class="Function">initEnv</a> <a id="1516" class="Symbol">:</a> <a id="1518" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a>
<a id="1526" href="ScriptVerification.SucceedIfNumber.html#1508" class="Function">initEnv</a> <a id="1534" class="Symbol">=</a> <a id="1536" href="ScriptVerification.Lib.html#880" class="Function">createEnv</a> <a id="1546" class="Number">0</a>

<a id="1549" class="Comment">-- initTxOut for script with datum reference</a>
<a id="initTxOut"></a><a id="1594" href="ScriptVerification.SucceedIfNumber.html#1594" class="Function">initTxOut</a> <a id="1604" class="Symbol">:</a> <a id="1606" href="Ledger.Transaction.html#2320" class="Function">TxOut</a>
<a id="1612" href="ScriptVerification.SucceedIfNumber.html#1594" class="Function">initTxOut</a> <a id="1622" class="Symbol">=</a> <a id="1624" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1629" class="Symbol">(</a><a id="1630" class="Keyword">record</a> <a id="1637" class="Symbol">{</a> <a id="1639" href="Ledger.Address.html#1131" class="Field">net</a> <a id="1643" class="Symbol">=</a> <a id="1645" class="Number">0</a> <a id="1647" class="Symbol">;</a>
                           <a id="1676" href="Ledger.Address.html#1156" class="Field">pay</a> <a id="1680" class="Symbol">=</a> <a id="1682" href="Ledger.Address.html#335" class="InductiveConstructor">ScriptObj</a> <a id="1692" class="Number">777</a> <a id="1696" class="Symbol">;</a>
                           <a id="1725" href="Ledger.Address.html#1184" class="Field">stake</a> <a id="1731" class="Symbol">=</a> <a id="1733" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1738" class="Symbol">(</a><a id="1739" href="Ledger.Address.html#335" class="InductiveConstructor">ScriptObj</a> <a id="1749" class="Number">777</a><a id="1752" class="Symbol">)</a> <a id="1754" class="Symbol">})</a>
                           <a id="1784" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1786" class="Number">10</a> <a id="1789" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1791" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1796" class="Symbol">(</a><a id="1797" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1802" class="Number">99</a><a id="1804" class="Symbol">)</a> <a id="1806" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1808" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="1817" class="Comment">-- initTxOut for script without datum reference</a>
<a id="initTxOut&#39;"></a><a id="1865" href="ScriptVerification.SucceedIfNumber.html#1865" class="Function">initTxOut&#39;</a> <a id="1876" class="Symbol">:</a> <a id="1878" href="Ledger.Transaction.html#2320" class="Function">TxOut</a>
<a id="1884" href="ScriptVerification.SucceedIfNumber.html#1865" class="Function">initTxOut&#39;</a> <a id="1895" class="Symbol">=</a> <a id="1897" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1902" class="Symbol">(</a><a id="1903" class="Keyword">record</a> <a id="1910" class="Symbol">{</a> <a id="1912" href="Ledger.Address.html#1131" class="Field">net</a> <a id="1916" class="Symbol">=</a> <a id="1918" class="Number">0</a> <a id="1920" class="Symbol">;</a>
                           <a id="1949" href="Ledger.Address.html#1156" class="Field">pay</a> <a id="1953" class="Symbol">=</a> <a id="1955" href="Ledger.Address.html#335" class="InductiveConstructor">ScriptObj</a> <a id="1965" class="Number">888</a> <a id="1969" class="Symbol">;</a>
                           <a id="1998" href="Ledger.Address.html#1184" class="Field">stake</a> <a id="2004" class="Symbol">=</a> <a id="2006" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2011" class="Symbol">(</a><a id="2012" href="Ledger.Address.html#335" class="InductiveConstructor">ScriptObj</a> <a id="2022" class="Number">888</a><a id="2025" class="Symbol">)</a> <a id="2027" class="Symbol">})</a>
                           <a id="2057" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2059" class="Number">10</a> <a id="2062" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2064" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2072" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2074" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="scriptDatum"></a><a id="2083" href="ScriptVerification.SucceedIfNumber.html#2083" class="Function">scriptDatum</a> <a id="2095" class="Symbol">:</a> <a id="2097" href="Ledger.Transaction.html#2297" class="Function">TxIn</a> <a id="2102" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2104" href="Ledger.Transaction.html#2320" class="Function">TxOut</a>
<a id="2110" href="ScriptVerification.SucceedIfNumber.html#2083" class="Function">scriptDatum</a> <a id="2122" class="Symbol">=</a> <a id="2124" class="Symbol">(</a><a id="2125" class="Number">6</a> <a id="2127" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2129" class="Number">6</a><a id="2130" class="Symbol">)</a> <a id="2132" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2134" href="ScriptVerification.SucceedIfNumber.html#1594" class="Function">initTxOut</a>

<a id="scriptRedeemer"></a><a id="2145" href="ScriptVerification.SucceedIfNumber.html#2145" class="Function">scriptRedeemer</a> <a id="2160" class="Symbol">:</a> <a id="2162" href="Ledger.Transaction.html#2297" class="Function">TxIn</a> <a id="2167" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2169" href="Ledger.Transaction.html#2320" class="Function">TxOut</a>
<a id="2175" href="ScriptVerification.SucceedIfNumber.html#2145" class="Function">scriptRedeemer</a> <a id="2190" class="Symbol">=</a> <a id="2192" class="Symbol">(</a><a id="2193" class="Number">6</a> <a id="2195" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2197" class="Number">6</a><a id="2198" class="Symbol">)</a> <a id="2200" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2202" href="ScriptVerification.SucceedIfNumber.html#1865" class="Function">initTxOut&#39;</a>

<a id="initStateDatum"></a><a id="2214" href="ScriptVerification.SucceedIfNumber.html#2214" class="Function">initStateDatum</a> <a id="2229" class="Symbol">:</a> <a id="2231" href="Ledger.Transaction.html#2388" class="Function">UTxO</a>
<a id="2236" href="ScriptVerification.SucceedIfNumber.html#2214" class="Function">initStateDatum</a> <a id="2251" class="Symbol">=</a> <a id="2253" href="ScriptVerification.Lib.html#5318" class="Function">fromList&#39;</a> <a id="2263" class="Symbol">(</a><a id="2264" href="ScriptVerification.SucceedIfNumber.html#2083" class="Function">scriptDatum</a> <a id="2276" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2278" class="Symbol">(</a><a id="2279" href="ScriptVerification.Lib.html#4997" class="Function">createInitUtxoState</a> <a id="2299" class="Number">5</a> <a id="2301" class="Number">1000000000000</a><a id="2314" class="Symbol">))</a>

<a id="initStateRedeemer"></a><a id="2318" href="ScriptVerification.SucceedIfNumber.html#2318" class="Function">initStateRedeemer</a> <a id="2336" class="Symbol">:</a> <a id="2338" href="Ledger.Transaction.html#2388" class="Function">UTxO</a>
<a id="2343" href="ScriptVerification.SucceedIfNumber.html#2318" class="Function">initStateRedeemer</a> <a id="2361" class="Symbol">=</a> <a id="2363" href="ScriptVerification.Lib.html#5318" class="Function">fromList&#39;</a> <a id="2373" class="Symbol">(</a><a id="2374" href="ScriptVerification.SucceedIfNumber.html#2145" class="Function">scriptRedeemer</a> <a id="2389" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2391" class="Symbol">(</a><a id="2392" href="ScriptVerification.Lib.html#4997" class="Function">createInitUtxoState</a> <a id="2412" class="Number">5</a> <a id="2414" class="Number">1000000000000</a><a id="2427" class="Symbol">))</a>

<a id="succeedTx"></a><a id="2431" href="ScriptVerification.SucceedIfNumber.html#2431" class="Function">succeedTx</a> <a id="2441" class="Symbol">:</a> <a id="2443" href="Ledger.Transaction.html#4221" class="Record">Tx</a>
<a id="2446" href="ScriptVerification.SucceedIfNumber.html#2431" class="Function">succeedTx</a> <a id="2456" class="Symbol">=</a> <a id="2458" class="Keyword">record</a> <a id="2465" class="Symbol">{</a> <a id="2467" href="Ledger.Transaction.html#4253" class="Field">body</a> <a id="2472" class="Symbol">=</a> <a id="2474" class="Keyword">record</a>
                         <a id="2506" class="Symbol">{</a> <a id="2508" href="Ledger.Transaction.html#2713" class="Field">txins</a> <a id="2514" class="Symbol">=</a> <a id="2516" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="2540" class="Symbol">((</a><a id="2542" class="Number">6</a> <a id="2544" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2546" class="Number">6</a><a id="2547" class="Symbol">)</a> <a id="2549" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2551" class="Symbol">(</a><a id="2552" class="Number">5</a> <a id="2554" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2556" class="Number">5</a><a id="2557" class="Symbol">)</a> <a id="2559" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2561" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2563" class="Symbol">)</a>
                         <a id="2590" class="Symbol">;</a> <a id="2592" href="Ledger.Transaction.html#2743" class="Field">refInputs</a> <a id="2602" class="Symbol">=</a> <a id="2604" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="2631" class="Symbol">;</a> <a id="2633" href="Ledger.Transaction.html#2773" class="Field">txouts</a> <a id="2640" class="Symbol">=</a> <a id="2642" href="ScriptVerification.Lib.html#5380" class="Function">fromListIx</a> <a id="2653" class="Symbol">((</a><a id="2655" class="Number">6</a> <a id="2657" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2659" href="ScriptVerification.SucceedIfNumber.html#1594" class="Function">initTxOut</a><a id="2668" class="Symbol">)</a>
                                                <a id="2718" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2720" class="Symbol">(</a><a id="2721" class="Number">5</a>
                                                  <a id="2773" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2775" class="Symbol">((</a><a id="2777" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2782" class="Symbol">(</a><a id="2783" class="Keyword">record</a> <a id="2790" class="Symbol">{</a> <a id="2792" href="Ledger.Address.html#1131" class="Field">net</a> <a id="2796" class="Symbol">=</a> <a id="2798" class="Number">0</a> <a id="2800" class="Symbol">;</a>
                                                                     <a id="2871" href="Ledger.Address.html#1156" class="Field">pay</a> <a id="2875" class="Symbol">=</a> <a id="2877" href="Ledger.Address.html#299" class="InductiveConstructor">KeyHashObj</a> <a id="2888" class="Number">5</a> <a id="2890" class="Symbol">;</a>
                                                                     <a id="2961" href="Ledger.Address.html#1184" class="Field">stake</a> <a id="2967" class="Symbol">=</a> <a id="2969" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2974" class="Symbol">(</a><a id="2975" href="Ledger.Address.html#299" class="InductiveConstructor">KeyHashObj</a> <a id="2986" class="Number">5</a><a id="2987" class="Symbol">)</a> <a id="2989" class="Symbol">}))</a>
                                                  <a id="3043" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3045" class="Symbol">(</a><a id="3046" class="Number">1000000000000</a> <a id="3060" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="3062" class="Number">10000000000</a><a id="3073" class="Symbol">)</a> <a id="3075" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3077" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3085" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3087" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="3094" class="Symbol">))</a>
                                                <a id="3145" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3147" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3149" class="Symbol">)</a>
                         <a id="3176" class="Symbol">;</a> <a id="3178" href="Ledger.Transaction.html#2807" class="Field">txfee</a> <a id="3184" class="Symbol">=</a> <a id="3186" class="Number">10000000000</a>
                         <a id="3223" class="Symbol">;</a> <a id="3225" href="Ledger.Transaction.html#2835" class="Field">mint</a> <a id="3230" class="Symbol">=</a> <a id="3232" class="Number">0</a>
                         <a id="3259" class="Symbol">;</a> <a id="3261" href="Ledger.Transaction.html#2864" class="Field">txvldt</a> <a id="3268" class="Symbol">=</a> <a id="3270" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3278" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3280" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3313" class="Symbol">;</a> <a id="3315" href="Ledger.Transaction.html#2911" class="Field">txcerts</a> <a id="3323" class="Symbol">=</a> <a id="3325" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="3353" class="Symbol">;</a> <a id="3355" href="Ledger.Transaction.html#2945" class="Field">txwdrls</a> <a id="3363" class="Symbol">=</a> <a id="3365" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="3392" class="Symbol">;</a> <a id="3394" href="Ledger.Transaction.html#2973" class="Field">txvote</a> <a id="3401" class="Symbol">=</a> <a id="3403" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="3431" class="Symbol">;</a> <a id="3433" href="Ledger.Transaction.html#3009" class="Field">txprop</a> <a id="3440" class="Symbol">=</a> <a id="3442" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="3470" class="Symbol">;</a> <a id="3472" href="Ledger.Transaction.html#3049" class="Field">txdonation</a> <a id="3483" class="Symbol">=</a> <a id="3485" class="Number">0</a>
                         <a id="3512" class="Symbol">;</a> <a id="3514" href="Ledger.Transaction.html#3077" class="Field">txup</a> <a id="3519" class="Symbol">=</a> <a id="3521" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3554" class="Symbol">;</a> <a id="3556" href="Ledger.Transaction.html#3113" class="Field">txADhash</a> <a id="3565" class="Symbol">=</a> <a id="3567" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3600" class="Symbol">;</a> <a id="3602" href="Ledger.Transaction.html#3149" class="Field">txNetworkId</a> <a id="3614" class="Symbol">=</a> <a id="3616" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3621" class="Number">0</a>
                         <a id="3648" class="Symbol">;</a> <a id="3650" href="Ledger.Transaction.html#3186" class="Field">curTreasury</a> <a id="3662" class="Symbol">=</a> <a id="3664" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3697" class="Symbol">;</a> <a id="3699" href="Ledger.Transaction.html#3220" class="Field">txsize</a> <a id="3706" class="Symbol">=</a> <a id="3708" class="Number">10</a>
                         <a id="3736" class="Symbol">;</a> <a id="3738" href="Ledger.Transaction.html#3245" class="Field">txid</a> <a id="3743" class="Symbol">=</a> <a id="3745" class="Number">7</a>
                         <a id="3772" class="Symbol">;</a> <a id="3774" href="Ledger.Transaction.html#3273" class="Field">collateral</a> <a id="3785" class="Symbol">=</a> <a id="3787" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="3811" class="Symbol">((</a><a id="3813" class="Number">5</a> <a id="3815" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3817" class="Number">5</a><a id="3818" class="Symbol">)</a> <a id="3820" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3822" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3824" class="Symbol">)</a>
                         <a id="3851" class="Symbol">;</a> <a id="3853" href="Ledger.Transaction.html#3303" class="Field">reqSigHash</a> <a id="3864" class="Symbol">=</a> <a id="3866" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="3893" class="Symbol">;</a> <a id="3895" href="Ledger.Transaction.html#3336" class="Field">scriptIntHash</a> <a id="3909" class="Symbol">=</a> <a id="3911" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3944" class="Symbol">}</a> <a id="3946" class="Symbol">;</a>
                <a id="3964" href="Ledger.Transaction.html#4277" class="Field">wits</a> <a id="3969" class="Symbol">=</a> <a id="3971" class="Keyword">record</a> <a id="3978" class="Symbol">{</a> <a id="3980" href="Ledger.Transaction.html#4012" class="Field">vkSigs</a> <a id="3987" class="Symbol">=</a> <a id="3989" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="3999" class="Symbol">((</a><a id="4001" class="Number">5</a> <a id="4003" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4005" class="Number">12</a><a id="4007" class="Symbol">)</a> <a id="4009" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4011" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4013" class="Symbol">)</a> <a id="4015" class="Symbol">;</a>
                                <a id="4049" href="Ledger.Transaction.html#4040" class="Field">scripts</a> <a id="4057" class="Symbol">=</a> <a id="4059" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="4083" class="Symbol">((</a><a id="4085" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="4090" href="ScriptVerification.SucceedIfNumber.html#1171" class="Function">succeedIf1Datum</a><a id="4105" class="Symbol">)</a> <a id="4107" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4109" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4111" class="Symbol">)</a> <a id="4113" class="Symbol">;</a>
                                <a id="4147" href="Ledger.Transaction.html#4066" class="Field">txdats</a> <a id="4154" class="Symbol">=</a> <a id="4156" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="4166" class="Symbol">((</a><a id="4168" class="Number">99</a> <a id="4171" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4173" class="Number">1</a><a id="4174" class="Symbol">)</a> <a id="4176" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4178" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4180" class="Symbol">)</a> <a id="4182" class="Symbol">;</a>
                                <a id="4216" href="Ledger.Transaction.html#4100" class="Field">txrdmrs</a> <a id="4224" class="Symbol">=</a> <a id="4226" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="4236" class="Symbol">(((</a><a id="4239" href="Ledger.Transaction.html#748" class="InductiveConstructor">Spend</a> <a id="4245" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4247" class="Number">6</a><a id="4248" class="Symbol">)</a> <a id="4250" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4252" class="Number">5</a> <a id="4254" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4256" class="Symbol">(</a><a id="4257" class="Number">5</a> <a id="4259" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4261" class="Number">5</a><a id="4262" class="Symbol">))</a> <a id="4265" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4267" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4269" class="Symbol">)</a> <a id="4271" class="Symbol">}</a> <a id="4273" class="Symbol">;</a>
                <a id="4291" href="Ledger.Transaction.html#4306" class="Field">isValid</a> <a id="4299" class="Symbol">=</a> <a id="4301" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="4306" class="Symbol">;</a>
                <a id="4324" href="Ledger.Transaction.html#4328" class="Field">txAD</a> <a id="4329" class="Symbol">=</a> <a id="4331" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4339" class="Symbol">}</a>

<a id="evalScriptDatum"></a><a id="4342" href="ScriptVerification.SucceedIfNumber.html#4342" class="Function">evalScriptDatum</a> <a id="4358" class="Symbol">:</a> <a id="4360" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="4365" href="ScriptVerification.SucceedIfNumber.html#4342" class="Function">evalScriptDatum</a> <a id="4381" class="Symbol">=</a> <a id="4383" href="Ledger.ScriptValidation.html#6246" class="Function">evalScripts</a> <a id="4395" href="ScriptVerification.SucceedIfNumber.html#2431" class="Function">succeedTx</a> <a id="4405" class="Symbol">(</a><a id="4406" href="Ledger.ScriptValidation.html#5858" class="Function">collectPhaseTwoScriptInputs</a> <a id="4434" class="Symbol">(</a><a id="4435" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="4451" href="ScriptVerification.SucceedIfNumber.html#1508" class="Function">initEnv</a><a id="4458" class="Symbol">)</a> <a id="4460" href="ScriptVerification.SucceedIfNumber.html#2431" class="Function">succeedTx</a> <a id="4470" href="ScriptVerification.SucceedIfNumber.html#2214" class="Function">initStateDatum</a><a id="4484" class="Symbol">)</a>

<a id="exampleDatum"></a><a id="4487" href="ScriptVerification.SucceedIfNumber.html#4487" class="Function">exampleDatum</a> <a id="4500" class="Symbol">:</a> <a id="4502" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4507" href="Ledger.Script.html#1766" class="Function">Datum</a>
<a id="4513" href="ScriptVerification.SucceedIfNumber.html#4487" class="Function">exampleDatum</a> <a id="4526" class="Symbol">=</a> <a id="4528" href="Ledger.ScriptValidation.html#1471" class="Function">getDatum</a> <a id="4537" href="ScriptVerification.SucceedIfNumber.html#2431" class="Function">succeedTx</a> <a id="4547" href="ScriptVerification.SucceedIfNumber.html#2214" class="Function">initStateDatum</a> <a id="4562" class="Symbol">(</a><a id="4563" href="Ledger.ScriptValidation.html#663" class="InductiveConstructor">Spend</a> <a id="4569" class="Symbol">(</a><a id="4570" class="Number">6</a> <a id="4572" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4574" class="Number">6</a><a id="4575" class="Symbol">))</a>

<a id="failTx"></a><a id="4579" href="ScriptVerification.SucceedIfNumber.html#4579" class="Function">failTx</a> <a id="4586" class="Symbol">:</a> <a id="4588" href="Ledger.Transaction.html#4221" class="Record">Tx</a>
<a id="4591" href="ScriptVerification.SucceedIfNumber.html#4579" class="Function">failTx</a> <a id="4598" class="Symbol">=</a> <a id="4600" class="Keyword">record</a> <a id="4607" class="Symbol">{</a> <a id="4609" href="Ledger.Transaction.html#4253" class="Field">body</a> <a id="4614" class="Symbol">=</a> <a id="4616" class="Keyword">record</a>
                         <a id="4648" class="Symbol">{</a> <a id="4650" href="Ledger.Transaction.html#2713" class="Field">txins</a> <a id="4656" class="Symbol">=</a> <a id="4658" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="4682" class="Symbol">((</a><a id="4684" class="Number">6</a> <a id="4686" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4688" class="Number">6</a><a id="4689" class="Symbol">)</a> <a id="4691" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4693" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4695" class="Symbol">)</a>
                         <a id="4722" class="Symbol">;</a> <a id="4724" href="Ledger.Transaction.html#2743" class="Field">refInputs</a> <a id="4734" class="Symbol">=</a> <a id="4736" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="4763" class="Symbol">;</a> <a id="4765" href="Ledger.Transaction.html#2773" class="Field">txouts</a> <a id="4772" class="Symbol">=</a> <a id="4774" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="4801" class="Symbol">;</a> <a id="4803" href="Ledger.Transaction.html#2807" class="Field">txfee</a> <a id="4809" class="Symbol">=</a> <a id="4811" class="Number">10</a>
                         <a id="4839" class="Symbol">;</a> <a id="4841" href="Ledger.Transaction.html#2835" class="Field">mint</a> <a id="4846" class="Symbol">=</a> <a id="4848" class="Number">0</a>
                         <a id="4875" class="Symbol">;</a> <a id="4877" href="Ledger.Transaction.html#2864" class="Field">txvldt</a> <a id="4884" class="Symbol">=</a> <a id="4886" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4894" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4896" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="4929" class="Symbol">;</a> <a id="4931" href="Ledger.Transaction.html#2911" class="Field">txcerts</a> <a id="4939" class="Symbol">=</a> <a id="4941" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="4969" class="Symbol">;</a> <a id="4971" href="Ledger.Transaction.html#2945" class="Field">txwdrls</a> <a id="4979" class="Symbol">=</a> <a id="4981" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="5008" class="Symbol">;</a> <a id="5010" href="Ledger.Transaction.html#2973" class="Field">txvote</a> <a id="5017" class="Symbol">=</a> <a id="5019" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="5047" class="Symbol">;</a> <a id="5049" href="Ledger.Transaction.html#3009" class="Field">txprop</a> <a id="5056" class="Symbol">=</a> <a id="5058" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="5086" class="Symbol">;</a> <a id="5088" href="Ledger.Transaction.html#3049" class="Field">txdonation</a> <a id="5099" class="Symbol">=</a> <a id="5101" class="Number">0</a>
                         <a id="5128" class="Symbol">;</a> <a id="5130" href="Ledger.Transaction.html#3077" class="Field">txup</a> <a id="5135" class="Symbol">=</a> <a id="5137" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="5170" class="Symbol">;</a> <a id="5172" href="Ledger.Transaction.html#3113" class="Field">txADhash</a> <a id="5181" class="Symbol">=</a> <a id="5183" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="5216" class="Symbol">;</a> <a id="5218" href="Ledger.Transaction.html#3149" class="Field">txNetworkId</a> <a id="5230" class="Symbol">=</a> <a id="5232" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5237" class="Number">0</a>
                         <a id="5264" class="Symbol">;</a> <a id="5266" href="Ledger.Transaction.html#3186" class="Field">curTreasury</a> <a id="5278" class="Symbol">=</a> <a id="5280" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="5313" class="Symbol">;</a> <a id="5315" href="Ledger.Transaction.html#3220" class="Field">txsize</a> <a id="5322" class="Symbol">=</a> <a id="5324" class="Number">10</a>
                         <a id="5352" class="Symbol">;</a> <a id="5354" href="Ledger.Transaction.html#3245" class="Field">txid</a> <a id="5359" class="Symbol">=</a> <a id="5361" class="Number">7</a>
                         <a id="5388" class="Symbol">;</a> <a id="5390" href="Ledger.Transaction.html#3273" class="Field">collateral</a> <a id="5401" class="Symbol">=</a> <a id="5403" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="5430" class="Symbol">;</a> <a id="5432" href="Ledger.Transaction.html#3303" class="Field">reqSigHash</a> <a id="5443" class="Symbol">=</a> <a id="5445" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="5472" class="Symbol">;</a> <a id="5474" href="Ledger.Transaction.html#3336" class="Field">scriptIntHash</a> <a id="5488" class="Symbol">=</a> <a id="5490" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="5523" class="Symbol">}</a> <a id="5525" class="Symbol">;</a>
                <a id="5543" href="Ledger.Transaction.html#4277" class="Field">wits</a> <a id="5548" class="Symbol">=</a> <a id="5550" class="Keyword">record</a> <a id="5557" class="Symbol">{</a> <a id="5559" href="Ledger.Transaction.html#4012" class="Field">vkSigs</a> <a id="5566" class="Symbol">=</a> <a id="5568" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="5570" class="Symbol">;</a>
                                <a id="5604" href="Ledger.Transaction.html#4040" class="Field">scripts</a> <a id="5612" class="Symbol">=</a> <a id="5614" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="5638" class="Symbol">((</a><a id="5640" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5645" href="ScriptVerification.SucceedIfNumber.html#1414" class="Function">succeedIf1Redeemer</a><a id="5663" class="Symbol">)</a> <a id="5665" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5667" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="5669" class="Symbol">)</a> <a id="5671" class="Symbol">;</a>
                                <a id="5705" href="Ledger.Transaction.html#4066" class="Field">txdats</a> <a id="5712" class="Symbol">=</a> <a id="5714" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="5716" class="Symbol">;</a>
                                <a id="5750" href="Ledger.Transaction.html#4100" class="Field">txrdmrs</a> <a id="5758" class="Symbol">=</a> <a id="5760" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="5770" class="Symbol">(((</a><a id="5773" href="Ledger.Transaction.html#748" class="InductiveConstructor">Spend</a> <a id="5779" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5781" class="Number">6</a><a id="5782" class="Symbol">)</a> <a id="5784" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5786" class="Number">1</a> <a id="5788" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5790" class="Symbol">(</a><a id="5791" class="Number">5</a> <a id="5793" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5795" class="Number">5</a><a id="5796" class="Symbol">))</a> <a id="5799" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5801" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="5803" class="Symbol">)</a> <a id="5805" class="Symbol">}</a> <a id="5807" class="Symbol">;</a>
                <a id="5825" href="Ledger.Transaction.html#4306" class="Field">isValid</a> <a id="5833" class="Symbol">=</a> <a id="5835" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="5840" class="Symbol">;</a>
                <a id="5858" href="Ledger.Transaction.html#4328" class="Field">txAD</a> <a id="5863" class="Symbol">=</a> <a id="5865" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="5873" class="Symbol">}</a>


<a id="evalScriptRedeemer"></a><a id="5877" href="ScriptVerification.SucceedIfNumber.html#5877" class="Function">evalScriptRedeemer</a> <a id="5896" class="Symbol">:</a> <a id="5898" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="5903" href="ScriptVerification.SucceedIfNumber.html#5877" class="Function">evalScriptRedeemer</a> <a id="5922" class="Symbol">=</a> <a id="5924" href="Ledger.ScriptValidation.html#6246" class="Function">evalScripts</a> <a id="5936" href="ScriptVerification.SucceedIfNumber.html#4579" class="Function">failTx</a> <a id="5943" class="Symbol">(</a><a id="5944" href="Ledger.ScriptValidation.html#5858" class="Function">collectPhaseTwoScriptInputs</a> <a id="5972" class="Symbol">(</a><a id="5973" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="5989" href="ScriptVerification.SucceedIfNumber.html#1508" class="Function">initEnv</a><a id="5996" class="Symbol">)</a> <a id="5998" href="ScriptVerification.SucceedIfNumber.html#4579" class="Function">failTx</a> <a id="6005" href="ScriptVerification.SucceedIfNumber.html#2318" class="Function">initStateRedeemer</a><a id="6022" class="Symbol">)</a>

<a id="exampleDatum&#39;"></a><a id="6025" href="ScriptVerification.SucceedIfNumber.html#6025" class="Function">exampleDatum&#39;</a> <a id="6039" class="Symbol">:</a> <a id="6041" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6046" href="Ledger.Script.html#1766" class="Function">Datum</a>
<a id="6052" href="ScriptVerification.SucceedIfNumber.html#6025" class="Function">exampleDatum&#39;</a> <a id="6066" class="Symbol">=</a> <a id="6068" href="Ledger.ScriptValidation.html#1471" class="Function">getDatum</a> <a id="6077" href="ScriptVerification.SucceedIfNumber.html#4579" class="Function">failTx</a> <a id="6084" href="ScriptVerification.SucceedIfNumber.html#2318" class="Function">initStateRedeemer</a> <a id="6102" class="Symbol">(</a><a id="6103" href="Ledger.ScriptValidation.html#663" class="InductiveConstructor">Spend</a> <a id="6109" class="Symbol">(</a><a id="6110" class="Number">6</a> <a id="6112" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6114" class="Number">6</a><a id="6115" class="Symbol">))</a>

<a id="6119" class="Keyword">opaque</a>
  <a id="6128" class="Keyword">unfolding</a> <a id="6138" href="Ledger.ScriptValidation.html#5858" class="Function">collectPhaseTwoScriptInputs</a>
  <a id="6168" class="Keyword">unfolding</a> <a id="6178" href="abstract-set-theory.FiniteSetTheory.html#2463" class="Function">setToList</a>
  <a id="6190" class="Keyword">unfolding</a> <a id="6200" href="Ledger.Utxo.html#3483" class="Function">outs</a>

  <a id="gotScript"></a><a id="6208" href="ScriptVerification.SucceedIfNumber.html#6208" class="Function">gotScript</a> <a id="6218" class="Symbol">:</a> <a id="6220" href="Ledger.Transaction.html#5869" class="Function">lookupScriptHash</a> <a id="6237" class="Number">777</a> <a id="6241" href="ScriptVerification.SucceedIfNumber.html#2431" class="Function">succeedTx</a> <a id="6251" href="ScriptVerification.SucceedIfNumber.html#2214" class="Function">initStateDatum</a> <a id="6266" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6268" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6273" class="Symbol">(</a><a id="6274" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6279" href="ScriptVerification.SucceedIfNumber.html#1171" class="Function">succeedIf1Datum</a><a id="6294" class="Symbol">)</a>
  <a id="6298" href="ScriptVerification.SucceedIfNumber.html#6208" class="Function">gotScript</a> <a id="6308" class="Symbol">=</a> <a id="6310" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6318" href="ScriptVerification.SucceedIfNumber.html#6318" class="Function">_</a> <a id="6320" class="Symbol">:</a> <a id="6322" href="ScriptVerification.SucceedIfNumber.html#4487" class="Function">exampleDatum</a> <a id="6335" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6337" class="Number">1</a> <a id="6339" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6341" class="InductiveConstructor">[]</a>
  <a id="6346" class="Symbol">_</a> <a id="6348" class="Symbol">=</a> <a id="6350" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6358" href="ScriptVerification.SucceedIfNumber.html#6358" class="Function">_</a> <a id="6360" class="Symbol">:</a> <a id="6362" href="ScriptVerification.SucceedIfNumber.html#6025" class="Function">exampleDatum&#39;</a> <a id="6376" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6378" class="InductiveConstructor">[]</a>
  <a id="6383" class="Symbol">_</a> <a id="6385" class="Symbol">=</a> <a id="6387" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6395" href="ScriptVerification.SucceedIfNumber.html#6395" class="Function">_</a> <a id="6397" class="Symbol">:</a> <a id="6399" href="ScriptVerification.SucceedIfNumber.html#4342" class="Function">evalScriptDatum</a> <a id="6415" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6417" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="6424" class="Symbol">_</a> <a id="6426" class="Symbol">=</a> <a id="6428" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6436" href="ScriptVerification.SucceedIfNumber.html#6436" class="Function">_</a> <a id="6438" class="Symbol">:</a> <a id="6440" href="ScriptVerification.SucceedIfNumber.html#5877" class="Function">evalScriptRedeemer</a> <a id="6459" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6461" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="6468" class="Symbol">_</a> <a id="6470" class="Symbol">=</a> <a id="6472" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6480" class="Comment">-- Compute the result of running the UTXO rules on the succeedTx transaction</a>
  <a id="succeedExample"></a><a id="6559" href="ScriptVerification.SucceedIfNumber.html#6559" class="Function">succeedExample</a> <a id="6574" class="Symbol">:</a> <a id="6576" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6594" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6601" href="Ledger.Utxo.html#2705" class="Record">UTxOState</a>
  <a id="6613" href="ScriptVerification.SucceedIfNumber.html#6559" class="Function">succeedExample</a> <a id="6628" class="Symbol">=</a> <a id="6630" href="Ledger.Conway.Conformance.Utxo.Properties.html#3611" class="Function">UTXO-step</a> <a id="6640" href="ScriptVerification.SucceedIfNumber.html#1508" class="Function">initEnv</a> <a id="6648" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="6650" href="ScriptVerification.SucceedIfNumber.html#2214" class="Function">initStateDatum</a> <a id="6665" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6667" class="Number">0</a> <a id="6669" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6671" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="6673" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6675" class="Number">0</a> <a id="6677" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a>  <a id="6680" href="ScriptVerification.SucceedIfNumber.html#2431" class="Function">succeedTx</a>

  <a id="6693" href="ScriptVerification.SucceedIfNumber.html#6693" class="Function">_</a> <a id="6695" class="Symbol">:</a> <a id="6697" href="ScriptVerification.Lib.html#5849" class="Function">isSuccess</a> <a id="6707" href="ScriptVerification.SucceedIfNumber.html#6559" class="Function">succeedExample</a> <a id="6722" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6724" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="6731" class="Symbol">_</a>  <a id="6734" class="Symbol">=</a> <a id="6736" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6744" class="Comment">-- Compute the result of running the UTXO rules on the failTx transaction</a>
  <a id="failExample"></a><a id="6820" href="ScriptVerification.SucceedIfNumber.html#6820" class="Function">failExample</a> <a id="6832" class="Symbol">:</a> <a id="6834" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6852" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6859" href="Ledger.Utxo.html#2705" class="Record">UTxOState</a>
  <a id="6871" href="ScriptVerification.SucceedIfNumber.html#6820" class="Function">failExample</a> <a id="6883" class="Symbol">=</a> <a id="6885" href="Ledger.Conway.Conformance.Utxo.Properties.html#3611" class="Function">UTXO-step</a> <a id="6895" href="ScriptVerification.SucceedIfNumber.html#1508" class="Function">initEnv</a> <a id="6903" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="6905" href="ScriptVerification.SucceedIfNumber.html#2318" class="Function">initStateRedeemer</a> <a id="6923" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6925" class="Number">0</a> <a id="6927" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6929" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="6931" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6933" class="Number">0</a> <a id="6935" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a>  <a id="6938" href="ScriptVerification.SucceedIfNumber.html#4579" class="Function">failTx</a>

  <a id="6948" href="ScriptVerification.SucceedIfNumber.html#6948" class="Function">_</a> <a id="6950" class="Symbol">:</a> <a id="6952" href="Interface.ComputationalRelation.html#389" class="Function">isFailure</a> <a id="6962" href="ScriptVerification.SucceedIfNumber.html#6820" class="Function">failExample</a>
  <a id="6976" class="Symbol">_</a> <a id="6978" class="Symbol">=</a> <a id="6980" class="Symbol">_</a> <a id="6982" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6984" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6992" class="Comment">-- Note that the UTXOS rule succeeds but the UTXO rule fails for failTx</a>
  <a id="failExampleS"></a><a id="7066" href="ScriptVerification.SucceedIfNumber.html#7066" class="Function">failExampleS</a> <a id="7079" class="Symbol">:</a> <a id="7081" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="7088" href="ScriptVerification.SucceedIfNumber.html#7066" class="Function">failExampleS</a> <a id="7101" class="Symbol">=</a> <a id="7103" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7108" href="Interface.ComputationalRelation.html#2976" class="Function">compute</a> <a id="7116" href="Ledger.Conway.Conformance.Utxo.Properties.html#945" class="Function">Computational-UTXOS</a> <a id="7136" href="ScriptVerification.SucceedIfNumber.html#1508" class="Function">initEnv</a> <a id="7144" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="7146" href="ScriptVerification.SucceedIfNumber.html#2318" class="Function">initStateRedeemer</a> <a id="7164" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7166" class="Number">0</a> <a id="7168" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7170" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="7172" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7174" class="Number">0</a> <a id="7176" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="7178" href="ScriptVerification.SucceedIfNumber.html#4579" class="Function">failTx</a> <a id="7185" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7188" class="Symbol">λ</a> <a id="7190" class="Keyword">where</a>
    <a id="7200" class="Symbol">(</a><a id="7201" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="7209" href="ScriptVerification.SucceedIfNumber.html#7209" class="Bound">x</a><a id="7210" class="Symbol">)</a> <a id="7212" class="Symbol">→</a> <a id="7214" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="7223" class="Symbol">(</a><a id="7224" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="7232" href="ScriptVerification.SucceedIfNumber.html#7232" class="Bound">x</a><a id="7233" class="Symbol">)</a> <a id="7235" class="Symbol">→</a> <a id="7237" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

  <a id="7246" href="ScriptVerification.SucceedIfNumber.html#7246" class="Function">_</a> <a id="7248" class="Symbol">:</a> <a id="7250" href="ScriptVerification.SucceedIfNumber.html#7066" class="Function">failExampleS</a> <a id="7263" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7265" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="7272" class="Symbol">_</a> <a id="7274" class="Symbol">=</a> <a id="7276" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="failExampleU"></a><a id="7284" href="ScriptVerification.SucceedIfNumber.html#7284" class="Function">failExampleU</a> <a id="7297" class="Symbol">:</a> <a id="7299" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="7306" href="ScriptVerification.SucceedIfNumber.html#7284" class="Function">failExampleU</a> <a id="7319" class="Symbol">=</a> <a id="7321" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7326" href="Interface.ComputationalRelation.html#2976" class="Function">compute</a> <a id="7334" href="Ledger.Conway.Conformance.Utxo.Properties.html#2140" class="Function">Computational-UTXO</a> <a id="7353" href="ScriptVerification.SucceedIfNumber.html#1508" class="Function">initEnv</a> <a id="7361" href="Ledger.Prelude.html#2308" class="Function Operator">⟦</a> <a id="7363" href="ScriptVerification.SucceedIfNumber.html#2318" class="Function">initStateRedeemer</a> <a id="7381" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7383" class="Number">0</a> <a id="7385" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7387" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="7389" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7391" class="Number">0</a> <a id="7393" href="Ledger.Prelude.html#2308" class="Function Operator">⟧</a> <a id="7395" href="ScriptVerification.SucceedIfNumber.html#4579" class="Function">failTx</a> <a id="7402" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7405" class="Symbol">λ</a> <a id="7407" class="Keyword">where</a>
    <a id="7417" class="Symbol">(</a><a id="7418" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="7426" href="ScriptVerification.SucceedIfNumber.html#7426" class="Bound">x</a><a id="7427" class="Symbol">)</a> <a id="7429" class="Symbol">→</a> <a id="7431" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="7440" class="Symbol">(</a><a id="7441" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="7449" href="ScriptVerification.SucceedIfNumber.html#7449" class="Bound">x</a><a id="7450" class="Symbol">)</a> <a id="7452" class="Symbol">→</a> <a id="7454" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

  <a id="7463" href="ScriptVerification.SucceedIfNumber.html#7463" class="Function">_</a> <a id="7465" class="Symbol">:</a> <a id="7467" href="ScriptVerification.SucceedIfNumber.html#7284" class="Function">failExampleU</a> <a id="7480" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7482" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="7490" class="Symbol">_</a> <a id="7492" class="Symbol">=</a> <a id="7494" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre></body></html>