<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>ScriptVerification.SucceedIfNumber</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="28" class="Keyword">hiding</a> <a id="35" class="Symbol">(</a><a id="36" href="Axiom.Set.html#5718" class="Function">fromList</a><a id="44" class="Symbol">;</a> <a id="46" href="Class.Monoid.Core.html#195" class="Field">ε</a><a id="47" class="Symbol">);</a> <a id="50" class="Keyword">open</a> <a id="55" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a>
<a id="69" class="Keyword">open</a> <a id="74" class="Keyword">import</a> <a id="81" href="ScriptVerification.Prelude.html" class="Module">ScriptVerification.Prelude</a>

<a id="109" class="Keyword">module</a> <a id="116" href="ScriptVerification.SucceedIfNumber.html" class="Module">ScriptVerification.SucceedIfNumber</a> <a id="151" class="Keyword">where</a>

<a id="scriptImp"></a><a id="158" href="ScriptVerification.SucceedIfNumber.html#158" class="Function">scriptImp</a> <a id="168" class="Symbol">:</a> <a id="170" href="ScriptVerification.Prelude.html#118" class="Record">ScriptImplementation</a> <a id="191" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="193" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="195" href="ScriptVerification.SucceedIfNumber.html#158" class="Function">scriptImp</a> <a id="205" class="Symbol">=</a> <a id="207" class="Keyword">record</a> <a id="214" class="Symbol">{</a> <a id="216" href="ScriptVerification.Prelude.html#174" class="Field">serialise</a> <a id="226" class="Symbol">=</a> <a id="228" href="Function.Base.html#704" class="Function">id</a> <a id="231" class="Symbol">;</a>
                     <a id="254" href="ScriptVerification.Prelude.html#200" class="Field">deserialise</a> <a id="266" class="Symbol">=</a> <a id="268" class="Symbol">λ</a> <a id="270" href="ScriptVerification.SucceedIfNumber.html#270" class="Bound">x</a> <a id="272" class="Symbol">→</a> <a id="274" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="279" href="ScriptVerification.SucceedIfNumber.html#270" class="Bound">x</a> <a id="281" class="Symbol">;</a>
                     <a id="304" href="ScriptVerification.Prelude.html#234" class="Field">toData&#39;</a> <a id="312" class="Symbol">=</a> <a id="314" class="Symbol">λ</a> <a id="316" href="ScriptVerification.SucceedIfNumber.html#316" class="Bound">x</a> <a id="318" class="Symbol">→</a> <a id="320" class="Number">9999999</a> <a id="328" class="Symbol">}</a>

<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="ScriptVerification.LedgerImplementation.html" class="Module">ScriptVerification.LedgerImplementation</a> <a id="383" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="385" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="387" href="ScriptVerification.SucceedIfNumber.html#158" class="Function">scriptImp</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="ScriptVerification.Lib.html" class="Module">ScriptVerification.Lib</a> <a id="432" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="434" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="436" href="ScriptVerification.SucceedIfNumber.html#158" class="Function">scriptImp</a>
<a id="446" class="Keyword">open</a> <a id="451" class="Keyword">import</a> <a id="458" href="Ledger.ScriptValidation.html" class="Module">Ledger.ScriptValidation</a> <a id="482" href="ScriptVerification.LedgerImplementation.html#4155" class="Function">SVTransactionStructure</a> <a id="505" href="ScriptVerification.LedgerImplementation.html#4724" class="Function">SVAbstractFunctions</a>
<a id="525" class="Keyword">open</a> <a id="530" class="Keyword">import</a> <a id="537" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="stdlib-classes.Class.HasCast.html" class="Module">stdlib-classes.Class.HasCast</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="632" href="ScriptVerification.LedgerImplementation.html#4155" class="Function">SVTransactionStructure</a> <a id="655" href="ScriptVerification.LedgerImplementation.html#4724" class="Function">SVAbstractFunctions</a>
<a id="675" class="Keyword">open</a> <a id="680" class="Keyword">import</a> <a id="687" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="706" class="Keyword">open</a> <a id="711" href="Ledger.Transaction.html#840" class="Module">TransactionStructure</a> <a id="732" href="ScriptVerification.LedgerImplementation.html#4155" class="Function">SVTransactionStructure</a>
<a id="755" class="Keyword">open</a> <a id="760" class="Keyword">import</a> <a id="767" href="Ledger.Types.Epoch.html" class="Module">Ledger.Types.Epoch</a>
<a id="786" class="Keyword">open</a> <a id="791" href="Ledger.Types.Epoch.html#475" class="Module">EpochStructure</a> <a id="806" href="ScriptVerification.LedgerImplementation.html#2152" class="Function">SVEpochStructure</a>
<a id="823" class="Keyword">open</a> <a id="828" href="ScriptVerification.LedgerImplementation.html#1078" class="Module">Implementation</a>
<a id="843" class="Keyword">open</a> <a id="848" class="Keyword">import</a> <a id="855" href="Ledger.Conway.Conformance.Utxo.Properties.html" class="Module">Ledger.Conway.Conformance.Utxo.Properties</a> <a id="897" href="ScriptVerification.LedgerImplementation.html#4155" class="Function">SVTransactionStructure</a> <a id="920" href="ScriptVerification.LedgerImplementation.html#4724" class="Function">SVAbstractFunctions</a>
<a id="940" class="Keyword">open</a> <a id="945" class="Keyword">import</a> <a id="952" href="Ledger.Conway.Conformance.Utxow.Properties.html" class="Module">Ledger.Conway.Conformance.Utxow.Properties</a> <a id="995" href="ScriptVerification.LedgerImplementation.html#4155" class="Function">SVTransactionStructure</a> <a id="1018" href="ScriptVerification.LedgerImplementation.html#4724" class="Function">SVAbstractFunctions</a>

<a id="1039" class="Comment">-- succeed if the datum is 1</a>
<a id="succeedIf1Datum&#39;"></a><a id="1068" href="ScriptVerification.SucceedIfNumber.html#1068" class="Function">succeedIf1Datum&#39;</a> <a id="1085" class="Symbol">:</a> <a id="1087" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1093" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1095" class="Symbol">→</a> <a id="1097" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1103" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1105" class="Symbol">→</a> <a id="1107" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="1112" href="ScriptVerification.SucceedIfNumber.html#1068" class="Function">succeedIf1Datum&#39;</a> <a id="1129" class="Symbol">(</a><a id="1130" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1135" class="Symbol">(</a><a id="1136" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1140" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="1144" class="Symbol">))</a> <a id="1147" class="Symbol">_</a> <a id="1149" class="Symbol">=</a> <a id="1151" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="1156" href="ScriptVerification.SucceedIfNumber.html#1068" class="CatchallClause Function">succeedIf1Datum&#39;</a><a id="1172" class="CatchallClause"> </a><a id="1173" class="CatchallClause Symbol">_</a><a id="1174" class="CatchallClause"> </a><a id="1175" class="CatchallClause Symbol">_</a> <a id="1177" class="Symbol">=</a> <a id="1179" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="succeedIf1Datum"></a><a id="1186" href="ScriptVerification.SucceedIfNumber.html#1186" class="Function">succeedIf1Datum</a> <a id="1202" class="Symbol">:</a> <a id="1204" href="ScriptVerification.LedgerImplementation.html#1456" class="Function">PlutusScript</a>
<a id="1217" href="ScriptVerification.SucceedIfNumber.html#1186" class="Function">succeedIf1Datum</a> <a id="1233" class="Symbol">=</a> <a id="1235" class="Number">777</a> <a id="1239" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1241" href="ScriptVerification.Lib.html#5478" class="Function">applyScript</a> <a id="1253" href="ScriptVerification.SucceedIfNumber.html#1068" class="Function">succeedIf1Datum&#39;</a>

<a id="1271" class="Comment">--succeed if the redeemer is 1</a>
<a id="succeedIf1Redeemer&#39;"></a><a id="1302" href="ScriptVerification.SucceedIfNumber.html#1302" class="Function">succeedIf1Redeemer&#39;</a> <a id="1322" class="Symbol">:</a> <a id="1324" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1330" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1332" class="Symbol">→</a> <a id="1334" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1340" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1342" class="Symbol">→</a> <a id="1344" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="1349" href="ScriptVerification.SucceedIfNumber.html#1302" class="Function">succeedIf1Redeemer&#39;</a> <a id="1369" class="Symbol">_</a> <a id="1371" class="Symbol">(</a><a id="1372" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1377" class="Symbol">(</a><a id="1378" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1382" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="1386" class="Symbol">))</a> <a id="1389" class="Symbol">=</a> <a id="1391" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="1396" href="ScriptVerification.SucceedIfNumber.html#1302" class="CatchallClause Function">succeedIf1Redeemer&#39;</a><a id="1415" class="CatchallClause"> </a><a id="1416" class="CatchallClause Symbol">_</a><a id="1417" class="CatchallClause"> </a><a id="1418" class="CatchallClause Symbol">_</a> <a id="1420" class="Symbol">=</a> <a id="1422" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="succeedIf1Redeemer"></a><a id="1429" href="ScriptVerification.SucceedIfNumber.html#1429" class="Function">succeedIf1Redeemer</a> <a id="1448" class="Symbol">:</a> <a id="1450" href="ScriptVerification.LedgerImplementation.html#1456" class="Function">PlutusScript</a>
<a id="1463" href="ScriptVerification.SucceedIfNumber.html#1429" class="Function">succeedIf1Redeemer</a> <a id="1482" class="Symbol">=</a> <a id="1484" class="Number">888</a> <a id="1488" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1490" href="ScriptVerification.Lib.html#5478" class="Function">applyScript</a> <a id="1502" href="ScriptVerification.SucceedIfNumber.html#1302" class="Function">succeedIf1Redeemer&#39;</a>

<a id="initEnv"></a><a id="1523" href="ScriptVerification.SucceedIfNumber.html#1523" class="Function">initEnv</a> <a id="1531" class="Symbol">:</a> <a id="1533" href="Ledger.Utxo.html#2353" class="Record">UTxOEnv</a>
<a id="1541" href="ScriptVerification.SucceedIfNumber.html#1523" class="Function">initEnv</a> <a id="1549" class="Symbol">=</a> <a id="1551" href="ScriptVerification.Lib.html#880" class="Function">createEnv</a> <a id="1561" class="Number">0</a>

<a id="1564" class="Comment">-- initTxOut for script with datum reference</a>
<a id="initTxOut"></a><a id="1609" href="ScriptVerification.SucceedIfNumber.html#1609" class="Function">initTxOut</a> <a id="1619" class="Symbol">:</a> <a id="1621" href="Ledger.Transaction.html#2293" class="Function">TxOut</a>
<a id="1627" href="ScriptVerification.SucceedIfNumber.html#1609" class="Function">initTxOut</a> <a id="1637" class="Symbol">=</a> <a id="1639" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1644" class="Symbol">(</a><a id="1645" class="Keyword">record</a> <a id="1652" class="Symbol">{</a> <a id="1654" href="Ledger.Address.html#1131" class="Field">net</a> <a id="1658" class="Symbol">=</a> <a id="1660" class="Number">0</a> <a id="1662" class="Symbol">;</a>
                           <a id="1691" href="Ledger.Address.html#1156" class="Field">pay</a> <a id="1695" class="Symbol">=</a> <a id="1697" href="Ledger.Address.html#335" class="InductiveConstructor">ScriptObj</a> <a id="1707" class="Number">777</a> <a id="1711" class="Symbol">;</a>
                           <a id="1740" href="Ledger.Address.html#1184" class="Field">stake</a> <a id="1746" class="Symbol">=</a> <a id="1748" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1753" class="Symbol">(</a><a id="1754" href="Ledger.Address.html#335" class="InductiveConstructor">ScriptObj</a> <a id="1764" class="Number">777</a><a id="1767" class="Symbol">)</a> <a id="1769" class="Symbol">})</a>
                           <a id="1799" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1801" class="Number">10</a> <a id="1804" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1806" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1811" class="Symbol">(</a><a id="1812" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1817" class="Number">99</a><a id="1819" class="Symbol">)</a> <a id="1821" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1823" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="1832" class="Comment">-- initTxOut for script without datum reference</a>
<a id="initTxOut&#39;"></a><a id="1880" href="ScriptVerification.SucceedIfNumber.html#1880" class="Function">initTxOut&#39;</a> <a id="1891" class="Symbol">:</a> <a id="1893" href="Ledger.Transaction.html#2293" class="Function">TxOut</a>
<a id="1899" href="ScriptVerification.SucceedIfNumber.html#1880" class="Function">initTxOut&#39;</a> <a id="1910" class="Symbol">=</a> <a id="1912" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1917" class="Symbol">(</a><a id="1918" class="Keyword">record</a> <a id="1925" class="Symbol">{</a> <a id="1927" href="Ledger.Address.html#1131" class="Field">net</a> <a id="1931" class="Symbol">=</a> <a id="1933" class="Number">0</a> <a id="1935" class="Symbol">;</a>
                           <a id="1964" href="Ledger.Address.html#1156" class="Field">pay</a> <a id="1968" class="Symbol">=</a> <a id="1970" href="Ledger.Address.html#335" class="InductiveConstructor">ScriptObj</a> <a id="1980" class="Number">888</a> <a id="1984" class="Symbol">;</a>
                           <a id="2013" href="Ledger.Address.html#1184" class="Field">stake</a> <a id="2019" class="Symbol">=</a> <a id="2021" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2026" class="Symbol">(</a><a id="2027" href="Ledger.Address.html#335" class="InductiveConstructor">ScriptObj</a> <a id="2037" class="Number">888</a><a id="2040" class="Symbol">)</a> <a id="2042" class="Symbol">})</a>
                           <a id="2072" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2074" class="Number">10</a> <a id="2077" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2079" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2087" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2089" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="scriptDatum"></a><a id="2098" href="ScriptVerification.SucceedIfNumber.html#2098" class="Function">scriptDatum</a> <a id="2110" class="Symbol">:</a> <a id="2112" href="Ledger.Transaction.html#2270" class="Function">TxIn</a> <a id="2117" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2119" href="Ledger.Transaction.html#2293" class="Function">TxOut</a>
<a id="2125" href="ScriptVerification.SucceedIfNumber.html#2098" class="Function">scriptDatum</a> <a id="2137" class="Symbol">=</a> <a id="2139" class="Symbol">(</a><a id="2140" class="Number">6</a> <a id="2142" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2144" class="Number">6</a><a id="2145" class="Symbol">)</a> <a id="2147" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2149" href="ScriptVerification.SucceedIfNumber.html#1609" class="Function">initTxOut</a>

<a id="scriptRedeemer"></a><a id="2160" href="ScriptVerification.SucceedIfNumber.html#2160" class="Function">scriptRedeemer</a> <a id="2175" class="Symbol">:</a> <a id="2177" href="Ledger.Transaction.html#2270" class="Function">TxIn</a> <a id="2182" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2184" href="Ledger.Transaction.html#2293" class="Function">TxOut</a>
<a id="2190" href="ScriptVerification.SucceedIfNumber.html#2160" class="Function">scriptRedeemer</a> <a id="2205" class="Symbol">=</a> <a id="2207" class="Symbol">(</a><a id="2208" class="Number">6</a> <a id="2210" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2212" class="Number">6</a><a id="2213" class="Symbol">)</a> <a id="2215" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2217" href="ScriptVerification.SucceedIfNumber.html#1880" class="Function">initTxOut&#39;</a>

<a id="initStateDatum"></a><a id="2229" href="ScriptVerification.SucceedIfNumber.html#2229" class="Function">initStateDatum</a> <a id="2244" class="Symbol">:</a> <a id="2246" href="Ledger.Transaction.html#2361" class="Function">UTxO</a>
<a id="2251" href="ScriptVerification.SucceedIfNumber.html#2229" class="Function">initStateDatum</a> <a id="2266" class="Symbol">=</a> <a id="2268" href="ScriptVerification.Lib.html#5318" class="Function">fromList&#39;</a> <a id="2278" class="Symbol">(</a><a id="2279" href="ScriptVerification.SucceedIfNumber.html#2098" class="Function">scriptDatum</a> <a id="2291" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2293" class="Symbol">(</a><a id="2294" href="ScriptVerification.Lib.html#4997" class="Function">createInitUtxoState</a> <a id="2314" class="Number">5</a> <a id="2316" class="Number">1000000000000</a><a id="2329" class="Symbol">))</a>

<a id="initStateRedeemer"></a><a id="2333" href="ScriptVerification.SucceedIfNumber.html#2333" class="Function">initStateRedeemer</a> <a id="2351" class="Symbol">:</a> <a id="2353" href="Ledger.Transaction.html#2361" class="Function">UTxO</a>
<a id="2358" href="ScriptVerification.SucceedIfNumber.html#2333" class="Function">initStateRedeemer</a> <a id="2376" class="Symbol">=</a> <a id="2378" href="ScriptVerification.Lib.html#5318" class="Function">fromList&#39;</a> <a id="2388" class="Symbol">(</a><a id="2389" href="ScriptVerification.SucceedIfNumber.html#2160" class="Function">scriptRedeemer</a> <a id="2404" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2406" class="Symbol">(</a><a id="2407" href="ScriptVerification.Lib.html#4997" class="Function">createInitUtxoState</a> <a id="2427" class="Number">5</a> <a id="2429" class="Number">1000000000000</a><a id="2442" class="Symbol">))</a>

<a id="succeedTx"></a><a id="2446" href="ScriptVerification.SucceedIfNumber.html#2446" class="Function">succeedTx</a> <a id="2456" class="Symbol">:</a> <a id="2458" href="Ledger.Transaction.html#4194" class="Record">Tx</a>
<a id="2461" href="ScriptVerification.SucceedIfNumber.html#2446" class="Function">succeedTx</a> <a id="2471" class="Symbol">=</a> <a id="2473" class="Keyword">record</a> <a id="2480" class="Symbol">{</a> <a id="2482" href="Ledger.Transaction.html#4226" class="Field">body</a> <a id="2487" class="Symbol">=</a> <a id="2489" class="Keyword">record</a>
                         <a id="2521" class="Symbol">{</a> <a id="2523" href="Ledger.Transaction.html#2686" class="Field">txins</a> <a id="2529" class="Symbol">=</a> <a id="2531" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="2555" class="Symbol">((</a><a id="2557" class="Number">6</a> <a id="2559" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2561" class="Number">6</a><a id="2562" class="Symbol">)</a> <a id="2564" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2566" class="Symbol">(</a><a id="2567" class="Number">5</a> <a id="2569" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2571" class="Number">5</a><a id="2572" class="Symbol">)</a> <a id="2574" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2576" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2578" class="Symbol">)</a>
                         <a id="2605" class="Symbol">;</a> <a id="2607" href="Ledger.Transaction.html#2716" class="Field">refInputs</a> <a id="2617" class="Symbol">=</a> <a id="2619" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="2646" class="Symbol">;</a> <a id="2648" href="Ledger.Transaction.html#2746" class="Field">txouts</a> <a id="2655" class="Symbol">=</a> <a id="2657" href="ScriptVerification.Lib.html#5380" class="Function">fromListIx</a> <a id="2668" class="Symbol">((</a><a id="2670" class="Number">6</a> <a id="2672" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2674" href="ScriptVerification.SucceedIfNumber.html#1609" class="Function">initTxOut</a><a id="2683" class="Symbol">)</a>
                                                <a id="2733" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2735" class="Symbol">(</a><a id="2736" class="Number">5</a>
                                                  <a id="2788" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2790" class="Symbol">((</a><a id="2792" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2797" class="Symbol">(</a><a id="2798" class="Keyword">record</a> <a id="2805" class="Symbol">{</a> <a id="2807" href="Ledger.Address.html#1131" class="Field">net</a> <a id="2811" class="Symbol">=</a> <a id="2813" class="Number">0</a> <a id="2815" class="Symbol">;</a>
                                                                     <a id="2886" href="Ledger.Address.html#1156" class="Field">pay</a> <a id="2890" class="Symbol">=</a> <a id="2892" href="Ledger.Address.html#299" class="InductiveConstructor">KeyHashObj</a> <a id="2903" class="Number">5</a> <a id="2905" class="Symbol">;</a>
                                                                     <a id="2976" href="Ledger.Address.html#1184" class="Field">stake</a> <a id="2982" class="Symbol">=</a> <a id="2984" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2989" class="Symbol">(</a><a id="2990" href="Ledger.Address.html#299" class="InductiveConstructor">KeyHashObj</a> <a id="3001" class="Number">5</a><a id="3002" class="Symbol">)</a> <a id="3004" class="Symbol">}))</a>
                                                  <a id="3058" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3060" class="Symbol">(</a><a id="3061" class="Number">1000000000000</a> <a id="3075" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="3077" class="Number">10000000000</a><a id="3088" class="Symbol">)</a> <a id="3090" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3092" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3100" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3102" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="3109" class="Symbol">))</a>
                                                <a id="3160" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3162" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3164" class="Symbol">)</a>
                         <a id="3191" class="Symbol">;</a> <a id="3193" href="Ledger.Transaction.html#2780" class="Field">txfee</a> <a id="3199" class="Symbol">=</a> <a id="3201" class="Number">10000000000</a>
                         <a id="3238" class="Symbol">;</a> <a id="3240" href="Ledger.Transaction.html#2808" class="Field">mint</a> <a id="3245" class="Symbol">=</a> <a id="3247" class="Number">0</a>
                         <a id="3274" class="Symbol">;</a> <a id="3276" href="Ledger.Transaction.html#2837" class="Field">txvldt</a> <a id="3283" class="Symbol">=</a> <a id="3285" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3293" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3295" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3328" class="Symbol">;</a> <a id="3330" href="Ledger.Transaction.html#2884" class="Field">txcerts</a> <a id="3338" class="Symbol">=</a> <a id="3340" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="3368" class="Symbol">;</a> <a id="3370" href="Ledger.Transaction.html#2918" class="Field">txwdrls</a> <a id="3378" class="Symbol">=</a> <a id="3380" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="3407" class="Symbol">;</a> <a id="3409" href="Ledger.Transaction.html#2946" class="Field">txvote</a> <a id="3416" class="Symbol">=</a> <a id="3418" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="3446" class="Symbol">;</a> <a id="3448" href="Ledger.Transaction.html#2982" class="Field">txprop</a> <a id="3455" class="Symbol">=</a> <a id="3457" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="3485" class="Symbol">;</a> <a id="3487" href="Ledger.Transaction.html#3022" class="Field">txdonation</a> <a id="3498" class="Symbol">=</a> <a id="3500" class="Number">0</a>
                         <a id="3527" class="Symbol">;</a> <a id="3529" href="Ledger.Transaction.html#3050" class="Field">txup</a> <a id="3534" class="Symbol">=</a> <a id="3536" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3569" class="Symbol">;</a> <a id="3571" href="Ledger.Transaction.html#3086" class="Field">txADhash</a> <a id="3580" class="Symbol">=</a> <a id="3582" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3615" class="Symbol">;</a> <a id="3617" href="Ledger.Transaction.html#3122" class="Field">txNetworkId</a> <a id="3629" class="Symbol">=</a> <a id="3631" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3636" class="Number">0</a>
                         <a id="3663" class="Symbol">;</a> <a id="3665" href="Ledger.Transaction.html#3159" class="Field">curTreasury</a> <a id="3677" class="Symbol">=</a> <a id="3679" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3712" class="Symbol">;</a> <a id="3714" href="Ledger.Transaction.html#3193" class="Field">txsize</a> <a id="3721" class="Symbol">=</a> <a id="3723" class="Number">10</a>
                         <a id="3751" class="Symbol">;</a> <a id="3753" href="Ledger.Transaction.html#3218" class="Field">txid</a> <a id="3758" class="Symbol">=</a> <a id="3760" class="Number">7</a>
                         <a id="3787" class="Symbol">;</a> <a id="3789" href="Ledger.Transaction.html#3246" class="Field">collateral</a> <a id="3800" class="Symbol">=</a> <a id="3802" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="3826" class="Symbol">((</a><a id="3828" class="Number">5</a> <a id="3830" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3832" class="Number">5</a><a id="3833" class="Symbol">)</a> <a id="3835" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3837" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3839" class="Symbol">)</a>
                         <a id="3866" class="Symbol">;</a> <a id="3868" href="Ledger.Transaction.html#3276" class="Field">reqSigHash</a> <a id="3879" class="Symbol">=</a> <a id="3881" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="3908" class="Symbol">;</a> <a id="3910" href="Ledger.Transaction.html#3309" class="Field">scriptIntHash</a> <a id="3924" class="Symbol">=</a> <a id="3926" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3959" class="Symbol">}</a> <a id="3961" class="Symbol">;</a>
                <a id="3979" href="Ledger.Transaction.html#4250" class="Field">wits</a> <a id="3984" class="Symbol">=</a> <a id="3986" class="Keyword">record</a> <a id="3993" class="Symbol">{</a> <a id="3995" href="Ledger.Transaction.html#3985" class="Field">vkSigs</a> <a id="4002" class="Symbol">=</a> <a id="4004" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="4014" class="Symbol">((</a><a id="4016" class="Number">5</a> <a id="4018" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4020" class="Number">12</a><a id="4022" class="Symbol">)</a> <a id="4024" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4026" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4028" class="Symbol">)</a> <a id="4030" class="Symbol">;</a>
                                <a id="4064" href="Ledger.Transaction.html#4013" class="Field">scripts</a> <a id="4072" class="Symbol">=</a> <a id="4074" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="4098" class="Symbol">((</a><a id="4100" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="4105" href="ScriptVerification.SucceedIfNumber.html#1186" class="Function">succeedIf1Datum</a><a id="4120" class="Symbol">)</a> <a id="4122" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4124" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4126" class="Symbol">)</a> <a id="4128" class="Symbol">;</a>
                                <a id="4162" href="Ledger.Transaction.html#4039" class="Field">txdats</a> <a id="4169" class="Symbol">=</a> <a id="4171" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="4181" class="Symbol">((</a><a id="4183" class="Number">99</a> <a id="4186" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4188" class="Number">1</a><a id="4189" class="Symbol">)</a> <a id="4191" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4193" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4195" class="Symbol">)</a> <a id="4197" class="Symbol">;</a>
                                <a id="4231" href="Ledger.Transaction.html#4073" class="Field">txrdmrs</a> <a id="4239" class="Symbol">=</a> <a id="4241" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="4251" class="Symbol">(((</a><a id="4254" href="Ledger.Transaction.html#721" class="InductiveConstructor">Spend</a> <a id="4260" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4262" class="Number">6</a><a id="4263" class="Symbol">)</a> <a id="4265" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4267" class="Number">5</a> <a id="4269" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4271" class="Symbol">(</a><a id="4272" class="Number">5</a> <a id="4274" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4276" class="Number">5</a><a id="4277" class="Symbol">))</a> <a id="4280" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4282" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4284" class="Symbol">)</a> <a id="4286" class="Symbol">}</a> <a id="4288" class="Symbol">;</a>
                <a id="4306" href="Ledger.Transaction.html#4279" class="Field">isValid</a> <a id="4314" class="Symbol">=</a> <a id="4316" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="4321" class="Symbol">;</a>
                <a id="4339" href="Ledger.Transaction.html#4301" class="Field">txAD</a> <a id="4344" class="Symbol">=</a> <a id="4346" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4354" class="Symbol">}</a>

<a id="evalScriptDatum"></a><a id="4357" href="ScriptVerification.SucceedIfNumber.html#4357" class="Function">evalScriptDatum</a> <a id="4373" class="Symbol">:</a> <a id="4375" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="4380" href="ScriptVerification.SucceedIfNumber.html#4357" class="Function">evalScriptDatum</a> <a id="4396" class="Symbol">=</a> <a id="4398" href="Ledger.ScriptValidation.html#6246" class="Function">evalScripts</a> <a id="4410" href="ScriptVerification.SucceedIfNumber.html#2446" class="Function">succeedTx</a> <a id="4420" class="Symbol">(</a><a id="4421" href="Ledger.ScriptValidation.html#5858" class="Function">collectPhaseTwoScriptInputs</a> <a id="4449" class="Symbol">(</a><a id="4450" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="4466" href="ScriptVerification.SucceedIfNumber.html#1523" class="Function">initEnv</a><a id="4473" class="Symbol">)</a> <a id="4475" href="ScriptVerification.SucceedIfNumber.html#2446" class="Function">succeedTx</a> <a id="4485" href="ScriptVerification.SucceedIfNumber.html#2229" class="Function">initStateDatum</a><a id="4499" class="Symbol">)</a>

<a id="exampleDatum"></a><a id="4502" href="ScriptVerification.SucceedIfNumber.html#4502" class="Function">exampleDatum</a> <a id="4515" class="Symbol">:</a> <a id="4517" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4522" href="Ledger.Script.html#1773" class="Function">Datum</a>
<a id="4528" href="ScriptVerification.SucceedIfNumber.html#4502" class="Function">exampleDatum</a> <a id="4541" class="Symbol">=</a> <a id="4543" href="Ledger.ScriptValidation.html#1471" class="Function">getDatum</a> <a id="4552" href="ScriptVerification.SucceedIfNumber.html#2446" class="Function">succeedTx</a> <a id="4562" href="ScriptVerification.SucceedIfNumber.html#2229" class="Function">initStateDatum</a> <a id="4577" class="Symbol">(</a><a id="4578" href="Ledger.ScriptValidation.html#663" class="InductiveConstructor">Spend</a> <a id="4584" class="Symbol">(</a><a id="4585" class="Number">6</a> <a id="4587" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4589" class="Number">6</a><a id="4590" class="Symbol">))</a>

<a id="failTx"></a><a id="4594" href="ScriptVerification.SucceedIfNumber.html#4594" class="Function">failTx</a> <a id="4601" class="Symbol">:</a> <a id="4603" href="Ledger.Transaction.html#4194" class="Record">Tx</a>
<a id="4606" href="ScriptVerification.SucceedIfNumber.html#4594" class="Function">failTx</a> <a id="4613" class="Symbol">=</a> <a id="4615" class="Keyword">record</a> <a id="4622" class="Symbol">{</a> <a id="4624" href="Ledger.Transaction.html#4226" class="Field">body</a> <a id="4629" class="Symbol">=</a> <a id="4631" class="Keyword">record</a>
                         <a id="4663" class="Symbol">{</a> <a id="4665" href="Ledger.Transaction.html#2686" class="Field">txins</a> <a id="4671" class="Symbol">=</a> <a id="4673" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="4697" class="Symbol">((</a><a id="4699" class="Number">6</a> <a id="4701" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4703" class="Number">6</a><a id="4704" class="Symbol">)</a> <a id="4706" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4708" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4710" class="Symbol">)</a>
                         <a id="4737" class="Symbol">;</a> <a id="4739" href="Ledger.Transaction.html#2716" class="Field">refInputs</a> <a id="4749" class="Symbol">=</a> <a id="4751" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="4778" class="Symbol">;</a> <a id="4780" href="Ledger.Transaction.html#2746" class="Field">txouts</a> <a id="4787" class="Symbol">=</a> <a id="4789" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="4816" class="Symbol">;</a> <a id="4818" href="Ledger.Transaction.html#2780" class="Field">txfee</a> <a id="4824" class="Symbol">=</a> <a id="4826" class="Number">10</a>
                         <a id="4854" class="Symbol">;</a> <a id="4856" href="Ledger.Transaction.html#2808" class="Field">mint</a> <a id="4861" class="Symbol">=</a> <a id="4863" class="Number">0</a>
                         <a id="4890" class="Symbol">;</a> <a id="4892" href="Ledger.Transaction.html#2837" class="Field">txvldt</a> <a id="4899" class="Symbol">=</a> <a id="4901" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4909" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4911" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="4944" class="Symbol">;</a> <a id="4946" href="Ledger.Transaction.html#2884" class="Field">txcerts</a> <a id="4954" class="Symbol">=</a> <a id="4956" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="4984" class="Symbol">;</a> <a id="4986" href="Ledger.Transaction.html#2918" class="Field">txwdrls</a> <a id="4994" class="Symbol">=</a> <a id="4996" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="5023" class="Symbol">;</a> <a id="5025" href="Ledger.Transaction.html#2946" class="Field">txvote</a> <a id="5032" class="Symbol">=</a> <a id="5034" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="5062" class="Symbol">;</a> <a id="5064" href="Ledger.Transaction.html#2982" class="Field">txprop</a> <a id="5071" class="Symbol">=</a> <a id="5073" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="5101" class="Symbol">;</a> <a id="5103" href="Ledger.Transaction.html#3022" class="Field">txdonation</a> <a id="5114" class="Symbol">=</a> <a id="5116" class="Number">0</a>
                         <a id="5143" class="Symbol">;</a> <a id="5145" href="Ledger.Transaction.html#3050" class="Field">txup</a> <a id="5150" class="Symbol">=</a> <a id="5152" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="5185" class="Symbol">;</a> <a id="5187" href="Ledger.Transaction.html#3086" class="Field">txADhash</a> <a id="5196" class="Symbol">=</a> <a id="5198" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="5231" class="Symbol">;</a> <a id="5233" href="Ledger.Transaction.html#3122" class="Field">txNetworkId</a> <a id="5245" class="Symbol">=</a> <a id="5247" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5252" class="Number">0</a>
                         <a id="5279" class="Symbol">;</a> <a id="5281" href="Ledger.Transaction.html#3159" class="Field">curTreasury</a> <a id="5293" class="Symbol">=</a> <a id="5295" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="5328" class="Symbol">;</a> <a id="5330" href="Ledger.Transaction.html#3193" class="Field">txsize</a> <a id="5337" class="Symbol">=</a> <a id="5339" class="Number">10</a>
                         <a id="5367" class="Symbol">;</a> <a id="5369" href="Ledger.Transaction.html#3218" class="Field">txid</a> <a id="5374" class="Symbol">=</a> <a id="5376" class="Number">7</a>
                         <a id="5403" class="Symbol">;</a> <a id="5405" href="Ledger.Transaction.html#3246" class="Field">collateral</a> <a id="5416" class="Symbol">=</a> <a id="5418" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="5445" class="Symbol">;</a> <a id="5447" href="Ledger.Transaction.html#3276" class="Field">reqSigHash</a> <a id="5458" class="Symbol">=</a> <a id="5460" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="5487" class="Symbol">;</a> <a id="5489" href="Ledger.Transaction.html#3309" class="Field">scriptIntHash</a> <a id="5503" class="Symbol">=</a> <a id="5505" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="5538" class="Symbol">}</a> <a id="5540" class="Symbol">;</a>
                <a id="5558" href="Ledger.Transaction.html#4250" class="Field">wits</a> <a id="5563" class="Symbol">=</a> <a id="5565" class="Keyword">record</a> <a id="5572" class="Symbol">{</a> <a id="5574" href="Ledger.Transaction.html#3985" class="Field">vkSigs</a> <a id="5581" class="Symbol">=</a> <a id="5583" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="5585" class="Symbol">;</a>
                                <a id="5619" href="Ledger.Transaction.html#4013" class="Field">scripts</a> <a id="5627" class="Symbol">=</a> <a id="5629" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="5653" class="Symbol">((</a><a id="5655" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5660" href="ScriptVerification.SucceedIfNumber.html#1429" class="Function">succeedIf1Redeemer</a><a id="5678" class="Symbol">)</a> <a id="5680" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5682" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="5684" class="Symbol">)</a> <a id="5686" class="Symbol">;</a>
                                <a id="5720" href="Ledger.Transaction.html#4039" class="Field">txdats</a> <a id="5727" class="Symbol">=</a> <a id="5729" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="5731" class="Symbol">;</a>
                                <a id="5765" href="Ledger.Transaction.html#4073" class="Field">txrdmrs</a> <a id="5773" class="Symbol">=</a> <a id="5775" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="5785" class="Symbol">(((</a><a id="5788" href="Ledger.Transaction.html#721" class="InductiveConstructor">Spend</a> <a id="5794" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5796" class="Number">6</a><a id="5797" class="Symbol">)</a> <a id="5799" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5801" class="Number">1</a> <a id="5803" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5805" class="Symbol">(</a><a id="5806" class="Number">5</a> <a id="5808" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5810" class="Number">5</a><a id="5811" class="Symbol">))</a> <a id="5814" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5816" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="5818" class="Symbol">)</a> <a id="5820" class="Symbol">}</a> <a id="5822" class="Symbol">;</a>
                <a id="5840" href="Ledger.Transaction.html#4279" class="Field">isValid</a> <a id="5848" class="Symbol">=</a> <a id="5850" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="5855" class="Symbol">;</a>
                <a id="5873" href="Ledger.Transaction.html#4301" class="Field">txAD</a> <a id="5878" class="Symbol">=</a> <a id="5880" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="5888" class="Symbol">}</a>


<a id="evalScriptRedeemer"></a><a id="5892" href="ScriptVerification.SucceedIfNumber.html#5892" class="Function">evalScriptRedeemer</a> <a id="5911" class="Symbol">:</a> <a id="5913" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="5918" href="ScriptVerification.SucceedIfNumber.html#5892" class="Function">evalScriptRedeemer</a> <a id="5937" class="Symbol">=</a> <a id="5939" href="Ledger.ScriptValidation.html#6246" class="Function">evalScripts</a> <a id="5951" href="ScriptVerification.SucceedIfNumber.html#4594" class="Function">failTx</a> <a id="5958" class="Symbol">(</a><a id="5959" href="Ledger.ScriptValidation.html#5858" class="Function">collectPhaseTwoScriptInputs</a> <a id="5987" class="Symbol">(</a><a id="5988" href="Ledger.Utxo.html#2407" class="Field">UTxOEnv.pparams</a> <a id="6004" href="ScriptVerification.SucceedIfNumber.html#1523" class="Function">initEnv</a><a id="6011" class="Symbol">)</a> <a id="6013" href="ScriptVerification.SucceedIfNumber.html#4594" class="Function">failTx</a> <a id="6020" href="ScriptVerification.SucceedIfNumber.html#2333" class="Function">initStateRedeemer</a><a id="6037" class="Symbol">)</a>

<a id="exampleDatum&#39;"></a><a id="6040" href="ScriptVerification.SucceedIfNumber.html#6040" class="Function">exampleDatum&#39;</a> <a id="6054" class="Symbol">:</a> <a id="6056" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6061" href="Ledger.Script.html#1773" class="Function">Datum</a>
<a id="6067" href="ScriptVerification.SucceedIfNumber.html#6040" class="Function">exampleDatum&#39;</a> <a id="6081" class="Symbol">=</a> <a id="6083" href="Ledger.ScriptValidation.html#1471" class="Function">getDatum</a> <a id="6092" href="ScriptVerification.SucceedIfNumber.html#4594" class="Function">failTx</a> <a id="6099" href="ScriptVerification.SucceedIfNumber.html#2333" class="Function">initStateRedeemer</a> <a id="6117" class="Symbol">(</a><a id="6118" href="Ledger.ScriptValidation.html#663" class="InductiveConstructor">Spend</a> <a id="6124" class="Symbol">(</a><a id="6125" class="Number">6</a> <a id="6127" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6129" class="Number">6</a><a id="6130" class="Symbol">))</a>

<a id="6134" class="Keyword">opaque</a>
  <a id="6143" class="Keyword">unfolding</a> <a id="6153" href="Ledger.ScriptValidation.html#5858" class="Function">collectPhaseTwoScriptInputs</a>
  <a id="6183" class="Keyword">unfolding</a> <a id="6193" href="abstract-set-theory.FiniteSetTheory.html#2463" class="Function">setToList</a>
  <a id="6205" class="Keyword">unfolding</a> <a id="6215" href="Ledger.Utxo.html#3483" class="Function">outs</a>

  <a id="gotScript"></a><a id="6223" href="ScriptVerification.SucceedIfNumber.html#6223" class="Function">gotScript</a> <a id="6233" class="Symbol">:</a> <a id="6235" href="Ledger.Transaction.html#5842" class="Function">lookupScriptHash</a> <a id="6252" class="Number">777</a> <a id="6256" href="ScriptVerification.SucceedIfNumber.html#2446" class="Function">succeedTx</a> <a id="6266" href="ScriptVerification.SucceedIfNumber.html#2229" class="Function">initStateDatum</a> <a id="6281" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6283" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6288" class="Symbol">(</a><a id="6289" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6294" href="ScriptVerification.SucceedIfNumber.html#1186" class="Function">succeedIf1Datum</a><a id="6309" class="Symbol">)</a>
  <a id="6313" href="ScriptVerification.SucceedIfNumber.html#6223" class="Function">gotScript</a> <a id="6323" class="Symbol">=</a> <a id="6325" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6333" href="ScriptVerification.SucceedIfNumber.html#6333" class="Function">_</a> <a id="6335" class="Symbol">:</a> <a id="6337" href="ScriptVerification.SucceedIfNumber.html#4502" class="Function">exampleDatum</a> <a id="6350" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6352" class="Number">1</a> <a id="6354" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6356" class="InductiveConstructor">[]</a>
  <a id="6361" class="Symbol">_</a> <a id="6363" class="Symbol">=</a> <a id="6365" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6373" href="ScriptVerification.SucceedIfNumber.html#6373" class="Function">_</a> <a id="6375" class="Symbol">:</a> <a id="6377" href="ScriptVerification.SucceedIfNumber.html#6040" class="Function">exampleDatum&#39;</a> <a id="6391" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6393" class="InductiveConstructor">[]</a>
  <a id="6398" class="Symbol">_</a> <a id="6400" class="Symbol">=</a> <a id="6402" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6410" href="ScriptVerification.SucceedIfNumber.html#6410" class="Function">_</a> <a id="6412" class="Symbol">:</a> <a id="6414" href="ScriptVerification.SucceedIfNumber.html#4357" class="Function">evalScriptDatum</a> <a id="6430" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6432" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="6439" class="Symbol">_</a> <a id="6441" class="Symbol">=</a> <a id="6443" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6451" href="ScriptVerification.SucceedIfNumber.html#6451" class="Function">_</a> <a id="6453" class="Symbol">:</a> <a id="6455" href="ScriptVerification.SucceedIfNumber.html#5892" class="Function">evalScriptRedeemer</a> <a id="6474" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6476" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="6483" class="Symbol">_</a> <a id="6485" class="Symbol">=</a> <a id="6487" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6495" class="Comment">-- Compute the result of running the UTXO rules on the succeedTx transaction</a>
  <a id="succeedExample"></a><a id="6574" href="ScriptVerification.SucceedIfNumber.html#6574" class="Function">succeedExample</a> <a id="6589" class="Symbol">:</a> <a id="6591" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6609" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6616" href="Ledger.Utxo.html#2705" class="Record">UTxOState</a>
  <a id="6628" href="ScriptVerification.SucceedIfNumber.html#6574" class="Function">succeedExample</a> <a id="6643" class="Symbol">=</a> <a id="6645" href="Ledger.Conway.Conformance.Utxo.Properties.html#3623" class="Function">UTXO-step</a> <a id="6655" href="ScriptVerification.SucceedIfNumber.html#1523" class="Function">initEnv</a> <a id="6663" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="6665" href="ScriptVerification.SucceedIfNumber.html#2229" class="Function">initStateDatum</a> <a id="6680" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6682" class="Number">0</a> <a id="6684" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6686" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="6688" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6690" class="Number">0</a> <a id="6692" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>  <a id="6695" href="ScriptVerification.SucceedIfNumber.html#2446" class="Function">succeedTx</a>

  <a id="6708" href="ScriptVerification.SucceedIfNumber.html#6708" class="Function">_</a> <a id="6710" class="Symbol">:</a> <a id="6712" href="ScriptVerification.Lib.html#5849" class="Function">isSuccess</a> <a id="6722" href="ScriptVerification.SucceedIfNumber.html#6574" class="Function">succeedExample</a> <a id="6737" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6739" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="6746" class="Symbol">_</a>  <a id="6749" class="Symbol">=</a> <a id="6751" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6759" class="Comment">-- Compute the result of running the UTXO rules on the failTx transaction</a>
  <a id="failExample"></a><a id="6835" href="ScriptVerification.SucceedIfNumber.html#6835" class="Function">failExample</a> <a id="6847" class="Symbol">:</a> <a id="6849" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6867" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6874" href="Ledger.Utxo.html#2705" class="Record">UTxOState</a>
  <a id="6886" href="ScriptVerification.SucceedIfNumber.html#6835" class="Function">failExample</a> <a id="6898" class="Symbol">=</a> <a id="6900" href="Ledger.Conway.Conformance.Utxo.Properties.html#3623" class="Function">UTXO-step</a> <a id="6910" href="ScriptVerification.SucceedIfNumber.html#1523" class="Function">initEnv</a> <a id="6918" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="6920" href="ScriptVerification.SucceedIfNumber.html#2333" class="Function">initStateRedeemer</a> <a id="6938" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6940" class="Number">0</a> <a id="6942" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6944" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="6946" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6948" class="Number">0</a> <a id="6950" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>  <a id="6953" href="ScriptVerification.SucceedIfNumber.html#4594" class="Function">failTx</a>

  <a id="6963" href="ScriptVerification.SucceedIfNumber.html#6963" class="Function">_</a> <a id="6965" class="Symbol">:</a> <a id="6967" href="Interface.ComputationalRelation.html#389" class="Function">isFailure</a> <a id="6977" href="ScriptVerification.SucceedIfNumber.html#6835" class="Function">failExample</a>
  <a id="6991" class="Symbol">_</a> <a id="6993" class="Symbol">=</a> <a id="6995" class="Symbol">_</a> <a id="6997" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6999" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="7007" class="Comment">-- Note that the UTXOS rule succeeds but the UTXO rule fails for failTx</a>
  <a id="failExampleS"></a><a id="7081" href="ScriptVerification.SucceedIfNumber.html#7081" class="Function">failExampleS</a> <a id="7094" class="Symbol">:</a> <a id="7096" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="7103" href="ScriptVerification.SucceedIfNumber.html#7081" class="Function">failExampleS</a> <a id="7116" class="Symbol">=</a> <a id="7118" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7123" href="Interface.ComputationalRelation.html#2976" class="Function">compute</a> <a id="7131" href="Ledger.Conway.Conformance.Utxo.Properties.html#957" class="Function">Computational-UTXOS</a> <a id="7151" href="ScriptVerification.SucceedIfNumber.html#1523" class="Function">initEnv</a> <a id="7159" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="7161" href="ScriptVerification.SucceedIfNumber.html#2333" class="Function">initStateRedeemer</a> <a id="7179" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7181" class="Number">0</a> <a id="7183" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7185" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="7187" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7189" class="Number">0</a> <a id="7191" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a> <a id="7193" href="ScriptVerification.SucceedIfNumber.html#4594" class="Function">failTx</a> <a id="7200" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7203" class="Symbol">λ</a> <a id="7205" class="Keyword">where</a>
    <a id="7215" class="Symbol">(</a><a id="7216" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="7224" href="ScriptVerification.SucceedIfNumber.html#7224" class="Bound">x</a><a id="7225" class="Symbol">)</a> <a id="7227" class="Symbol">→</a> <a id="7229" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="7238" class="Symbol">(</a><a id="7239" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="7247" href="ScriptVerification.SucceedIfNumber.html#7247" class="Bound">x</a><a id="7248" class="Symbol">)</a> <a id="7250" class="Symbol">→</a> <a id="7252" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

  <a id="7261" href="ScriptVerification.SucceedIfNumber.html#7261" class="Function">_</a> <a id="7263" class="Symbol">:</a> <a id="7265" href="ScriptVerification.SucceedIfNumber.html#7081" class="Function">failExampleS</a> <a id="7278" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7280" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="7287" class="Symbol">_</a> <a id="7289" class="Symbol">=</a> <a id="7291" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="failExampleU"></a><a id="7299" href="ScriptVerification.SucceedIfNumber.html#7299" class="Function">failExampleU</a> <a id="7312" class="Symbol">:</a> <a id="7314" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="7321" href="ScriptVerification.SucceedIfNumber.html#7299" class="Function">failExampleU</a> <a id="7334" class="Symbol">=</a> <a id="7336" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7341" href="Interface.ComputationalRelation.html#2976" class="Function">compute</a> <a id="7349" href="Ledger.Conway.Conformance.Utxo.Properties.html#2152" class="Function">Computational-UTXO</a> <a id="7368" href="ScriptVerification.SucceedIfNumber.html#1523" class="Function">initEnv</a> <a id="7376" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="7378" href="ScriptVerification.SucceedIfNumber.html#2333" class="Function">initStateRedeemer</a> <a id="7396" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7398" class="Number">0</a> <a id="7400" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7402" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="7404" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7406" class="Number">0</a> <a id="7408" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a> <a id="7410" href="ScriptVerification.SucceedIfNumber.html#4594" class="Function">failTx</a> <a id="7417" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7420" class="Symbol">λ</a> <a id="7422" class="Keyword">where</a>
    <a id="7432" class="Symbol">(</a><a id="7433" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="7441" href="ScriptVerification.SucceedIfNumber.html#7441" class="Bound">x</a><a id="7442" class="Symbol">)</a> <a id="7444" class="Symbol">→</a> <a id="7446" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="7455" class="Symbol">(</a><a id="7456" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="7464" href="ScriptVerification.SucceedIfNumber.html#7464" class="Bound">x</a><a id="7465" class="Symbol">)</a> <a id="7467" class="Symbol">→</a> <a id="7469" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

  <a id="7478" href="ScriptVerification.SucceedIfNumber.html#7478" class="Function">_</a> <a id="7480" class="Symbol">:</a> <a id="7482" href="ScriptVerification.SucceedIfNumber.html#7299" class="Function">failExampleU</a> <a id="7495" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7497" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="7505" class="Symbol">_</a> <a id="7507" class="Symbol">=</a> <a id="7509" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre></body></html>