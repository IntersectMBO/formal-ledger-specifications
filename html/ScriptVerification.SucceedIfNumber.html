<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>ScriptVerification.SucceedIfNumber</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="28" class="Keyword">hiding</a> <a id="35" class="Symbol">(</a><a id="36" href="Axiom.Set.html#5718" class="Function">fromList</a><a id="44" class="Symbol">;</a> <a id="46" href="Class.Monoid.Core.html#186" class="Field">ε</a><a id="47" class="Symbol">);</a> <a id="50" class="Keyword">open</a> <a id="55" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a>
<a id="69" class="Keyword">open</a> <a id="74" class="Keyword">import</a> <a id="81" href="ScriptVerification.Prelude.html" class="Module">ScriptVerification.Prelude</a>

<a id="109" class="Keyword">module</a> <a id="116" href="ScriptVerification.SucceedIfNumber.html" class="Module">ScriptVerification.SucceedIfNumber</a> <a id="151" class="Keyword">where</a>

<a id="scriptImp"></a><a id="158" href="ScriptVerification.SucceedIfNumber.html#158" class="Function">scriptImp</a> <a id="168" class="Symbol">:</a> <a id="170" href="ScriptVerification.Prelude.html#118" class="Record">ScriptImplementation</a> <a id="191" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="193" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="195" href="ScriptVerification.SucceedIfNumber.html#158" class="Function">scriptImp</a> <a id="205" class="Symbol">=</a> <a id="207" class="Keyword">record</a> <a id="214" class="Symbol">{</a> <a id="216" href="ScriptVerification.Prelude.html#174" class="Field">serialise</a> <a id="226" class="Symbol">=</a> <a id="228" href="Function.Base.html#704" class="Function">id</a> <a id="231" class="Symbol">;</a>
                     <a id="254" href="ScriptVerification.Prelude.html#200" class="Field">deserialise</a> <a id="266" class="Symbol">=</a> <a id="268" class="Symbol">λ</a> <a id="270" href="ScriptVerification.SucceedIfNumber.html#270" class="Bound">x</a> <a id="272" class="Symbol">→</a> <a id="274" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="279" href="ScriptVerification.SucceedIfNumber.html#270" class="Bound">x</a> <a id="281" class="Symbol">;</a>
                     <a id="304" href="ScriptVerification.Prelude.html#234" class="Field">toData&#39;</a> <a id="312" class="Symbol">=</a> <a id="314" class="Symbol">λ</a> <a id="316" href="ScriptVerification.SucceedIfNumber.html#316" class="Bound">x</a> <a id="318" class="Symbol">→</a> <a id="320" class="Number">9999999</a> <a id="328" class="Symbol">}</a>

<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="ScriptVerification.LedgerImplementation.html" class="Module">ScriptVerification.LedgerImplementation</a> <a id="383" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="385" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="387" href="ScriptVerification.SucceedIfNumber.html#158" class="Function">scriptImp</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="ScriptVerification.Lib.html" class="Module">ScriptVerification.Lib</a> <a id="432" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="434" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="436" href="ScriptVerification.SucceedIfNumber.html#158" class="Function">scriptImp</a>
<a id="446" class="Keyword">open</a> <a id="451" class="Keyword">import</a> <a id="458" href="Ledger.ScriptValidation.html" class="Module">Ledger.ScriptValidation</a> <a id="482" href="ScriptVerification.LedgerImplementation.html#5008" class="Function">SVTransactionStructure</a> <a id="505" href="ScriptVerification.LedgerImplementation.html#5577" class="Function">SVAbstractFunctions</a>
<a id="525" class="Keyword">open</a> <a id="530" class="Keyword">import</a> <a id="537" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Class.To.html" class="Module">Class.To</a>
<a id="569" class="Keyword">open</a> <a id="574" class="Keyword">import</a> <a id="581" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="612" href="ScriptVerification.LedgerImplementation.html#5008" class="Function">SVTransactionStructure</a> <a id="635" href="ScriptVerification.LedgerImplementation.html#5577" class="Function">SVAbstractFunctions</a>
<a id="655" class="Keyword">open</a> <a id="660" class="Keyword">import</a> <a id="667" href="Ledger.Transaction.html" class="Module">Ledger.Transaction</a>
<a id="686" class="Keyword">open</a> <a id="691" href="Ledger.Transaction.html#867" class="Module">TransactionStructure</a> <a id="712" href="ScriptVerification.LedgerImplementation.html#5008" class="Function">SVTransactionStructure</a>
<a id="735" class="Keyword">open</a> <a id="740" class="Keyword">import</a> <a id="747" href="Ledger.Types.Epoch.html" class="Module">Ledger.Types.Epoch</a>
<a id="766" class="Keyword">open</a> <a id="771" href="Ledger.Types.Epoch.html#408" class="Module">EpochStructure</a> <a id="786" href="ScriptVerification.LedgerImplementation.html#3005" class="Function">SVEpochStructure</a>
<a id="803" class="Keyword">open</a> <a id="808" href="ScriptVerification.LedgerImplementation.html#998" class="Module">Implementation</a>
<a id="823" class="Keyword">open</a> <a id="828" class="Keyword">import</a> <a id="835" href="Ledger.Conway.Conformance.Utxo.Properties.html" class="Module">Ledger.Conway.Conformance.Utxo.Properties</a> <a id="877" href="ScriptVerification.LedgerImplementation.html#5008" class="Function">SVTransactionStructure</a> <a id="900" href="ScriptVerification.LedgerImplementation.html#5577" class="Function">SVAbstractFunctions</a>
<a id="920" class="Keyword">open</a> <a id="925" class="Keyword">import</a> <a id="932" href="Ledger.Conway.Conformance.Utxow.Properties.html" class="Module">Ledger.Conway.Conformance.Utxow.Properties</a> <a id="975" href="ScriptVerification.LedgerImplementation.html#5008" class="Function">SVTransactionStructure</a> <a id="998" href="ScriptVerification.LedgerImplementation.html#5577" class="Function">SVAbstractFunctions</a>

<a id="1019" class="Comment">-- succeed if the datum is 1</a>
<a id="succeedIf1Datum&#39;"></a><a id="1048" href="ScriptVerification.SucceedIfNumber.html#1048" class="Function">succeedIf1Datum&#39;</a> <a id="1065" class="Symbol">:</a> <a id="1067" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1073" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1075" class="Symbol">→</a> <a id="1077" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1083" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1085" class="Symbol">→</a> <a id="1087" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="1092" href="ScriptVerification.SucceedIfNumber.html#1048" class="Function">succeedIf1Datum&#39;</a> <a id="1109" class="Symbol">(</a><a id="1110" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1115" class="Symbol">(</a><a id="1116" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1120" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="1124" class="Symbol">))</a> <a id="1127" class="Symbol">_</a> <a id="1129" class="Symbol">=</a> <a id="1131" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="1136" href="ScriptVerification.SucceedIfNumber.html#1048" class="CatchallClause Function">succeedIf1Datum&#39;</a><a id="1152" class="CatchallClause"> </a><a id="1153" class="CatchallClause Symbol">_</a><a id="1154" class="CatchallClause"> </a><a id="1155" class="CatchallClause Symbol">_</a> <a id="1157" class="Symbol">=</a> <a id="1159" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="succeedIf1Datum"></a><a id="1166" href="ScriptVerification.SucceedIfNumber.html#1166" class="Function">succeedIf1Datum</a> <a id="1182" class="Symbol">:</a> <a id="1184" href="ScriptVerification.LedgerImplementation.html#1343" class="Function">PlutusScript</a>
<a id="1197" href="ScriptVerification.SucceedIfNumber.html#1166" class="Function">succeedIf1Datum</a> <a id="1213" class="Symbol">=</a> <a id="1215" class="Number">777</a> <a id="1219" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1221" href="ScriptVerification.Lib.html#5478" class="Function">applyScript</a> <a id="1233" href="ScriptVerification.SucceedIfNumber.html#1048" class="Function">succeedIf1Datum&#39;</a>

<a id="1251" class="Comment">--succeed if the redeemer is 1</a>
<a id="succeedIf1Redeemer&#39;"></a><a id="1282" href="ScriptVerification.SucceedIfNumber.html#1282" class="Function">succeedIf1Redeemer&#39;</a> <a id="1302" class="Symbol">:</a> <a id="1304" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1310" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1312" class="Symbol">→</a> <a id="1314" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1320" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1322" class="Symbol">→</a> <a id="1324" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="1329" href="ScriptVerification.SucceedIfNumber.html#1282" class="Function">succeedIf1Redeemer&#39;</a> <a id="1349" class="Symbol">_</a> <a id="1351" class="Symbol">(</a><a id="1352" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1357" class="Symbol">(</a><a id="1358" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1362" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="1366" class="Symbol">))</a> <a id="1369" class="Symbol">=</a> <a id="1371" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
<a id="1376" href="ScriptVerification.SucceedIfNumber.html#1282" class="CatchallClause Function">succeedIf1Redeemer&#39;</a><a id="1395" class="CatchallClause"> </a><a id="1396" class="CatchallClause Symbol">_</a><a id="1397" class="CatchallClause"> </a><a id="1398" class="CatchallClause Symbol">_</a> <a id="1400" class="Symbol">=</a> <a id="1402" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

<a id="succeedIf1Redeemer"></a><a id="1409" href="ScriptVerification.SucceedIfNumber.html#1409" class="Function">succeedIf1Redeemer</a> <a id="1428" class="Symbol">:</a> <a id="1430" href="ScriptVerification.LedgerImplementation.html#1343" class="Function">PlutusScript</a>
<a id="1443" href="ScriptVerification.SucceedIfNumber.html#1409" class="Function">succeedIf1Redeemer</a> <a id="1462" class="Symbol">=</a> <a id="1464" class="Number">888</a> <a id="1468" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1470" href="ScriptVerification.Lib.html#5478" class="Function">applyScript</a> <a id="1482" href="ScriptVerification.SucceedIfNumber.html#1282" class="Function">succeedIf1Redeemer&#39;</a>

<a id="initEnv"></a><a id="1503" href="ScriptVerification.SucceedIfNumber.html#1503" class="Function">initEnv</a> <a id="1511" class="Symbol">:</a> <a id="1513" href="Ledger.Utxo.html#2411" class="Record">UTxOEnv</a>
<a id="1521" href="ScriptVerification.SucceedIfNumber.html#1503" class="Function">initEnv</a> <a id="1529" class="Symbol">=</a> <a id="1531" href="ScriptVerification.Lib.html#880" class="Function">createEnv</a> <a id="1541" class="Number">0</a>

<a id="1544" class="Comment">-- initTxOut for script with datum reference</a>
<a id="initTxOut"></a><a id="1589" href="ScriptVerification.SucceedIfNumber.html#1589" class="Function">initTxOut</a> <a id="1599" class="Symbol">:</a> <a id="1601" href="Ledger.Transaction.html#2334" class="Function">TxOut</a>
<a id="1607" href="ScriptVerification.SucceedIfNumber.html#1589" class="Function">initTxOut</a> <a id="1617" class="Symbol">=</a> <a id="1619" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1624" class="Symbol">(</a><a id="1625" class="Keyword">record</a> <a id="1632" class="Symbol">{</a> <a id="1634" href="Ledger.Address.html#1005" class="Field">net</a> <a id="1638" class="Symbol">=</a> <a id="1640" class="Number">0</a> <a id="1642" class="Symbol">;</a>
                           <a id="1671" href="Ledger.Address.html#1030" class="Field">pay</a> <a id="1675" class="Symbol">=</a> <a id="1677" href="Ledger.Address.html#335" class="InductiveConstructor">ScriptObj</a> <a id="1687" class="Number">777</a> <a id="1691" class="Symbol">;</a>
                           <a id="1720" href="Ledger.Address.html#1058" class="Field">stake</a> <a id="1726" class="Symbol">=</a> <a id="1728" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1733" class="Symbol">(</a><a id="1734" href="Ledger.Address.html#335" class="InductiveConstructor">ScriptObj</a> <a id="1744" class="Number">777</a><a id="1747" class="Symbol">)</a> <a id="1749" class="Symbol">})</a>
                           <a id="1779" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1781" class="Number">10</a> <a id="1784" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1786" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1791" class="Symbol">(</a><a id="1792" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1797" class="Number">99</a><a id="1799" class="Symbol">)</a> <a id="1801" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1803" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="1812" class="Comment">-- initTxOut for script without datum reference</a>
<a id="initTxOut&#39;"></a><a id="1860" href="ScriptVerification.SucceedIfNumber.html#1860" class="Function">initTxOut&#39;</a> <a id="1871" class="Symbol">:</a> <a id="1873" href="Ledger.Transaction.html#2334" class="Function">TxOut</a>
<a id="1879" href="ScriptVerification.SucceedIfNumber.html#1860" class="Function">initTxOut&#39;</a> <a id="1890" class="Symbol">=</a> <a id="1892" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1897" class="Symbol">(</a><a id="1898" class="Keyword">record</a> <a id="1905" class="Symbol">{</a> <a id="1907" href="Ledger.Address.html#1005" class="Field">net</a> <a id="1911" class="Symbol">=</a> <a id="1913" class="Number">0</a> <a id="1915" class="Symbol">;</a>
                           <a id="1944" href="Ledger.Address.html#1030" class="Field">pay</a> <a id="1948" class="Symbol">=</a> <a id="1950" href="Ledger.Address.html#335" class="InductiveConstructor">ScriptObj</a> <a id="1960" class="Number">888</a> <a id="1964" class="Symbol">;</a>
                           <a id="1993" href="Ledger.Address.html#1058" class="Field">stake</a> <a id="1999" class="Symbol">=</a> <a id="2001" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2006" class="Symbol">(</a><a id="2007" href="Ledger.Address.html#335" class="InductiveConstructor">ScriptObj</a> <a id="2017" class="Number">888</a><a id="2020" class="Symbol">)</a> <a id="2022" class="Symbol">})</a>
                           <a id="2052" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2054" class="Number">10</a> <a id="2057" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2059" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2067" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2069" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="scriptDatum"></a><a id="2078" href="ScriptVerification.SucceedIfNumber.html#2078" class="Function">scriptDatum</a> <a id="2090" class="Symbol">:</a> <a id="2092" href="Ledger.Transaction.html#2311" class="Function">TxIn</a> <a id="2097" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2099" href="Ledger.Transaction.html#2334" class="Function">TxOut</a>
<a id="2105" href="ScriptVerification.SucceedIfNumber.html#2078" class="Function">scriptDatum</a> <a id="2117" class="Symbol">=</a> <a id="2119" class="Symbol">(</a><a id="2120" class="Number">6</a> <a id="2122" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2124" class="Number">6</a><a id="2125" class="Symbol">)</a> <a id="2127" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2129" href="ScriptVerification.SucceedIfNumber.html#1589" class="Function">initTxOut</a>

<a id="scriptRedeemer"></a><a id="2140" href="ScriptVerification.SucceedIfNumber.html#2140" class="Function">scriptRedeemer</a> <a id="2155" class="Symbol">:</a> <a id="2157" href="Ledger.Transaction.html#2311" class="Function">TxIn</a> <a id="2162" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2164" href="Ledger.Transaction.html#2334" class="Function">TxOut</a>
<a id="2170" href="ScriptVerification.SucceedIfNumber.html#2140" class="Function">scriptRedeemer</a> <a id="2185" class="Symbol">=</a> <a id="2187" class="Symbol">(</a><a id="2188" class="Number">6</a> <a id="2190" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2192" class="Number">6</a><a id="2193" class="Symbol">)</a> <a id="2195" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2197" href="ScriptVerification.SucceedIfNumber.html#1860" class="Function">initTxOut&#39;</a>

<a id="initStateDatum"></a><a id="2209" href="ScriptVerification.SucceedIfNumber.html#2209" class="Function">initStateDatum</a> <a id="2224" class="Symbol">:</a> <a id="2226" href="Ledger.Transaction.html#2402" class="Function">UTxO</a>
<a id="2231" href="ScriptVerification.SucceedIfNumber.html#2209" class="Function">initStateDatum</a> <a id="2246" class="Symbol">=</a> <a id="2248" href="ScriptVerification.Lib.html#5318" class="Function">fromList&#39;</a> <a id="2258" class="Symbol">(</a><a id="2259" href="ScriptVerification.SucceedIfNumber.html#2078" class="Function">scriptDatum</a> <a id="2271" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2273" class="Symbol">(</a><a id="2274" href="ScriptVerification.Lib.html#4997" class="Function">createInitUtxoState</a> <a id="2294" class="Number">5</a> <a id="2296" class="Number">1000000000000</a><a id="2309" class="Symbol">))</a>

<a id="initStateRedeemer"></a><a id="2313" href="ScriptVerification.SucceedIfNumber.html#2313" class="Function">initStateRedeemer</a> <a id="2331" class="Symbol">:</a> <a id="2333" href="Ledger.Transaction.html#2402" class="Function">UTxO</a>
<a id="2338" href="ScriptVerification.SucceedIfNumber.html#2313" class="Function">initStateRedeemer</a> <a id="2356" class="Symbol">=</a> <a id="2358" href="ScriptVerification.Lib.html#5318" class="Function">fromList&#39;</a> <a id="2368" class="Symbol">(</a><a id="2369" href="ScriptVerification.SucceedIfNumber.html#2140" class="Function">scriptRedeemer</a> <a id="2384" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2386" class="Symbol">(</a><a id="2387" href="ScriptVerification.Lib.html#4997" class="Function">createInitUtxoState</a> <a id="2407" class="Number">5</a> <a id="2409" class="Number">1000000000000</a><a id="2422" class="Symbol">))</a>

<a id="succeedTx"></a><a id="2426" href="ScriptVerification.SucceedIfNumber.html#2426" class="Function">succeedTx</a> <a id="2436" class="Symbol">:</a> <a id="2438" href="Ledger.Transaction.html#3538" class="Record">Tx</a>
<a id="2441" href="ScriptVerification.SucceedIfNumber.html#2426" class="Function">succeedTx</a> <a id="2451" class="Symbol">=</a> <a id="2453" class="Keyword">record</a> <a id="2460" class="Symbol">{</a> <a id="2462" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="2467" class="Symbol">=</a> <a id="2469" class="Keyword">record</a>
                         <a id="2501" class="Symbol">{</a> <a id="2503" href="Ledger.Transaction.html#2620" class="Field">txins</a> <a id="2509" class="Symbol">=</a> <a id="2511" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="2535" class="Symbol">((</a><a id="2537" class="Number">6</a> <a id="2539" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2541" class="Number">6</a><a id="2542" class="Symbol">)</a> <a id="2544" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2546" class="Symbol">(</a><a id="2547" class="Number">5</a> <a id="2549" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2551" class="Number">5</a><a id="2552" class="Symbol">)</a> <a id="2554" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2556" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2558" class="Symbol">)</a>
                         <a id="2585" class="Symbol">;</a> <a id="2587" href="Ledger.Transaction.html#2650" class="Field">refInputs</a> <a id="2597" class="Symbol">=</a> <a id="2599" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="2626" class="Symbol">;</a> <a id="2628" href="Ledger.Transaction.html#2680" class="Field">txouts</a> <a id="2635" class="Symbol">=</a> <a id="2637" href="ScriptVerification.Lib.html#5380" class="Function">fromListIx</a> <a id="2648" class="Symbol">((</a><a id="2650" class="Number">6</a> <a id="2652" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2654" href="ScriptVerification.SucceedIfNumber.html#1589" class="Function">initTxOut</a><a id="2663" class="Symbol">)</a>
                                                <a id="2713" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2715" class="Symbol">(</a><a id="2716" class="Number">5</a>
                                                  <a id="2768" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2770" class="Symbol">((</a><a id="2772" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2777" class="Symbol">(</a><a id="2778" class="Keyword">record</a> <a id="2785" class="Symbol">{</a> <a id="2787" href="Ledger.Address.html#1005" class="Field">net</a> <a id="2791" class="Symbol">=</a> <a id="2793" class="Number">0</a> <a id="2795" class="Symbol">;</a>
                                                                     <a id="2866" href="Ledger.Address.html#1030" class="Field">pay</a> <a id="2870" class="Symbol">=</a> <a id="2872" href="Ledger.Address.html#299" class="InductiveConstructor">KeyHashObj</a> <a id="2883" class="Number">5</a> <a id="2885" class="Symbol">;</a>
                                                                     <a id="2956" href="Ledger.Address.html#1058" class="Field">stake</a> <a id="2962" class="Symbol">=</a> <a id="2964" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2969" class="Symbol">(</a><a id="2970" href="Ledger.Address.html#299" class="InductiveConstructor">KeyHashObj</a> <a id="2981" class="Number">5</a><a id="2982" class="Symbol">)</a> <a id="2984" class="Symbol">}))</a>
                                                  <a id="3038" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3040" class="Symbol">(</a><a id="3041" class="Number">1000000000000</a> <a id="3055" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="3057" class="Number">10000000000</a><a id="3068" class="Symbol">)</a> <a id="3070" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3072" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3080" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3082" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="3089" class="Symbol">))</a>
                                                <a id="3140" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3142" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3144" class="Symbol">)</a>
                         <a id="3171" class="Symbol">;</a> <a id="3173" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="3179" class="Symbol">=</a> <a id="3181" class="Number">10000000000</a>
                         <a id="3218" class="Symbol">;</a> <a id="3220" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="3225" class="Symbol">=</a> <a id="3227" class="Number">0</a>
                         <a id="3254" class="Symbol">;</a> <a id="3256" href="Ledger.Transaction.html#2771" class="Field">txvldt</a> <a id="3263" class="Symbol">=</a> <a id="3265" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3273" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3275" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3308" class="Symbol">;</a> <a id="3310" href="Ledger.Transaction.html#2818" class="Field">txcerts</a> <a id="3318" class="Symbol">=</a> <a id="3320" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="3348" class="Symbol">;</a> <a id="3350" href="Ledger.Transaction.html#2852" class="Field">txwdrls</a> <a id="3358" class="Symbol">=</a> <a id="3360" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="3387" class="Symbol">;</a> <a id="3389" href="Ledger.Transaction.html#2880" class="Field">txvote</a> <a id="3396" class="Symbol">=</a> <a id="3398" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="3426" class="Symbol">;</a> <a id="3428" href="Ledger.Transaction.html#2916" class="Field">txprop</a> <a id="3435" class="Symbol">=</a> <a id="3437" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="3465" class="Symbol">;</a> <a id="3467" href="Ledger.Transaction.html#2956" class="Field">txdonation</a> <a id="3478" class="Symbol">=</a> <a id="3480" class="Number">0</a>
                         <a id="3507" class="Symbol">;</a> <a id="3509" href="Ledger.Transaction.html#2984" class="Field">txup</a> <a id="3514" class="Symbol">=</a> <a id="3516" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3549" class="Symbol">;</a> <a id="3551" href="Ledger.Transaction.html#3020" class="Field">txADhash</a> <a id="3560" class="Symbol">=</a> <a id="3562" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3595" class="Symbol">;</a> <a id="3597" href="Ledger.Transaction.html#3056" class="Field">txNetworkId</a> <a id="3609" class="Symbol">=</a> <a id="3611" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3616" class="Number">0</a>
                         <a id="3643" class="Symbol">;</a> <a id="3645" href="Ledger.Transaction.html#3093" class="Field">curTreasury</a> <a id="3657" class="Symbol">=</a> <a id="3659" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3692" class="Symbol">;</a> <a id="3694" href="Ledger.Transaction.html#3127" class="Field">txsize</a> <a id="3701" class="Symbol">=</a> <a id="3703" class="Number">10</a>
                         <a id="3731" class="Symbol">;</a> <a id="3733" href="Ledger.Transaction.html#3152" class="Field">txid</a> <a id="3738" class="Symbol">=</a> <a id="3740" class="Number">7</a>
                         <a id="3767" class="Symbol">;</a> <a id="3769" href="Ledger.Transaction.html#3180" class="Field">collateral</a> <a id="3780" class="Symbol">=</a> <a id="3782" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="3806" class="Symbol">((</a><a id="3808" class="Number">5</a> <a id="3810" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3812" class="Number">5</a><a id="3813" class="Symbol">)</a> <a id="3815" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3817" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3819" class="Symbol">)</a>
                         <a id="3846" class="Symbol">;</a> <a id="3848" href="Ledger.Transaction.html#3210" class="Field">reqSigHash</a> <a id="3859" class="Symbol">=</a> <a id="3861" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="3888" class="Symbol">;</a> <a id="3890" href="Ledger.Transaction.html#3243" class="Field">scriptIntHash</a> <a id="3904" class="Symbol">=</a> <a id="3906" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="3939" class="Symbol">}</a> <a id="3941" class="Symbol">;</a>
                <a id="3959" href="Ledger.Transaction.html#3594" class="Field">wits</a> <a id="3964" class="Symbol">=</a> <a id="3966" class="Keyword">record</a> <a id="3973" class="Symbol">{</a> <a id="3975" href="Ledger.Transaction.html#3329" class="Field">vkSigs</a> <a id="3982" class="Symbol">=</a> <a id="3984" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="3994" class="Symbol">((</a><a id="3996" class="Number">5</a> <a id="3998" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4000" class="Number">12</a><a id="4002" class="Symbol">)</a> <a id="4004" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4006" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4008" class="Symbol">)</a> <a id="4010" class="Symbol">;</a>
                                <a id="4044" href="Ledger.Transaction.html#3357" class="Field">scripts</a> <a id="4052" class="Symbol">=</a> <a id="4054" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="4078" class="Symbol">((</a><a id="4080" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="4085" href="ScriptVerification.SucceedIfNumber.html#1166" class="Function">succeedIf1Datum</a><a id="4100" class="Symbol">)</a> <a id="4102" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4104" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4106" class="Symbol">)</a> <a id="4108" class="Symbol">;</a>
                                <a id="4142" href="Ledger.Transaction.html#3383" class="Field">txdats</a> <a id="4149" class="Symbol">=</a> <a id="4151" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="4161" class="Symbol">((</a><a id="4163" class="Number">99</a> <a id="4166" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4168" class="Number">1</a><a id="4169" class="Symbol">)</a> <a id="4171" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4173" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4175" class="Symbol">)</a> <a id="4177" class="Symbol">;</a>
                                <a id="4211" href="Ledger.Transaction.html#3417" class="Field">txrdmrs</a> <a id="4219" class="Symbol">=</a> <a id="4221" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="4231" class="Symbol">(((</a><a id="4234" href="Ledger.Transaction.html#748" class="InductiveConstructor">Spend</a> <a id="4240" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4242" class="Number">6</a><a id="4243" class="Symbol">)</a> <a id="4245" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4247" class="Number">5</a> <a id="4249" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4251" class="Symbol">(</a><a id="4252" class="Number">5</a> <a id="4254" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4256" class="Number">5</a><a id="4257" class="Symbol">))</a> <a id="4260" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4262" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4264" class="Symbol">)</a> <a id="4266" class="Symbol">}</a> <a id="4268" class="Symbol">;</a>
                <a id="4286" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="4294" class="Symbol">=</a> <a id="4296" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="4301" class="Symbol">;</a>
                <a id="4319" href="Ledger.Transaction.html#3645" class="Field">txAD</a> <a id="4324" class="Symbol">=</a> <a id="4326" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4334" class="Symbol">}</a>

<a id="evalScriptDatum"></a><a id="4337" href="ScriptVerification.SucceedIfNumber.html#4337" class="Function">evalScriptDatum</a> <a id="4353" class="Symbol">:</a> <a id="4355" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="4360" href="ScriptVerification.SucceedIfNumber.html#4337" class="Function">evalScriptDatum</a> <a id="4376" class="Symbol">=</a> <a id="4378" href="Ledger.ScriptValidation.html#6251" class="Function">evalScripts</a> <a id="4390" href="ScriptVerification.SucceedIfNumber.html#2426" class="Function">succeedTx</a> <a id="4400" class="Symbol">(</a><a id="4401" href="Ledger.ScriptValidation.html#5863" class="Function">collectPhaseTwoScriptInputs</a> <a id="4429" class="Symbol">(</a><a id="4430" href="Ledger.Utxo.html#2465" class="Field">UTxOEnv.pparams</a> <a id="4446" href="ScriptVerification.SucceedIfNumber.html#1503" class="Function">initEnv</a><a id="4453" class="Symbol">)</a> <a id="4455" href="ScriptVerification.SucceedIfNumber.html#2426" class="Function">succeedTx</a> <a id="4465" href="ScriptVerification.SucceedIfNumber.html#2209" class="Function">initStateDatum</a><a id="4479" class="Symbol">)</a>

<a id="exampleDatum"></a><a id="4482" href="ScriptVerification.SucceedIfNumber.html#4482" class="Function">exampleDatum</a> <a id="4495" class="Symbol">:</a> <a id="4497" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4502" href="Ledger.Script.html#1766" class="Function">Datum</a>
<a id="4508" href="ScriptVerification.SucceedIfNumber.html#4482" class="Function">exampleDatum</a> <a id="4521" class="Symbol">=</a> <a id="4523" href="Ledger.ScriptValidation.html#1471" class="Function">getDatum</a> <a id="4532" href="ScriptVerification.SucceedIfNumber.html#2426" class="Function">succeedTx</a> <a id="4542" href="ScriptVerification.SucceedIfNumber.html#2209" class="Function">initStateDatum</a> <a id="4557" class="Symbol">(</a><a id="4558" href="Ledger.ScriptValidation.html#663" class="InductiveConstructor">Spend</a> <a id="4564" class="Symbol">(</a><a id="4565" class="Number">6</a> <a id="4567" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4569" class="Number">6</a><a id="4570" class="Symbol">))</a>

<a id="failTx"></a><a id="4574" href="ScriptVerification.SucceedIfNumber.html#4574" class="Function">failTx</a> <a id="4581" class="Symbol">:</a> <a id="4583" href="Ledger.Transaction.html#3538" class="Record">Tx</a>
<a id="4586" href="ScriptVerification.SucceedIfNumber.html#4574" class="Function">failTx</a> <a id="4593" class="Symbol">=</a> <a id="4595" class="Keyword">record</a> <a id="4602" class="Symbol">{</a> <a id="4604" href="Ledger.Transaction.html#3570" class="Field">body</a> <a id="4609" class="Symbol">=</a> <a id="4611" class="Keyword">record</a>
                         <a id="4643" class="Symbol">{</a> <a id="4645" href="Ledger.Transaction.html#2620" class="Field">txins</a> <a id="4651" class="Symbol">=</a> <a id="4653" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="4677" class="Symbol">((</a><a id="4679" class="Number">6</a> <a id="4681" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4683" class="Number">6</a><a id="4684" class="Symbol">)</a> <a id="4686" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4688" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4690" class="Symbol">)</a>
                         <a id="4717" class="Symbol">;</a> <a id="4719" href="Ledger.Transaction.html#2650" class="Field">refInputs</a> <a id="4729" class="Symbol">=</a> <a id="4731" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="4758" class="Symbol">;</a> <a id="4760" href="Ledger.Transaction.html#2680" class="Field">txouts</a> <a id="4767" class="Symbol">=</a> <a id="4769" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="4796" class="Symbol">;</a> <a id="4798" href="Ledger.Transaction.html#2714" class="Field">txfee</a> <a id="4804" class="Symbol">=</a> <a id="4806" class="Number">10</a>
                         <a id="4834" class="Symbol">;</a> <a id="4836" href="Ledger.Transaction.html#2742" class="Field">mint</a> <a id="4841" class="Symbol">=</a> <a id="4843" class="Number">0</a>
                         <a id="4870" class="Symbol">;</a> <a id="4872" href="Ledger.Transaction.html#2771" class="Field">txvldt</a> <a id="4879" class="Symbol">=</a> <a id="4881" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4889" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4891" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="4924" class="Symbol">;</a> <a id="4926" href="Ledger.Transaction.html#2818" class="Field">txcerts</a> <a id="4934" class="Symbol">=</a> <a id="4936" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="4964" class="Symbol">;</a> <a id="4966" href="Ledger.Transaction.html#2852" class="Field">txwdrls</a> <a id="4974" class="Symbol">=</a> <a id="4976" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="5003" class="Symbol">;</a> <a id="5005" href="Ledger.Transaction.html#2880" class="Field">txvote</a> <a id="5012" class="Symbol">=</a> <a id="5014" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="5042" class="Symbol">;</a> <a id="5044" href="Ledger.Transaction.html#2916" class="Field">txprop</a> <a id="5051" class="Symbol">=</a> <a id="5053" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
                         <a id="5081" class="Symbol">;</a> <a id="5083" href="Ledger.Transaction.html#2956" class="Field">txdonation</a> <a id="5094" class="Symbol">=</a> <a id="5096" class="Number">0</a>
                         <a id="5123" class="Symbol">;</a> <a id="5125" href="Ledger.Transaction.html#2984" class="Field">txup</a> <a id="5130" class="Symbol">=</a> <a id="5132" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="5165" class="Symbol">;</a> <a id="5167" href="Ledger.Transaction.html#3020" class="Field">txADhash</a> <a id="5176" class="Symbol">=</a> <a id="5178" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="5211" class="Symbol">;</a> <a id="5213" href="Ledger.Transaction.html#3056" class="Field">txNetworkId</a> <a id="5225" class="Symbol">=</a> <a id="5227" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="5232" class="Number">0</a>
                         <a id="5259" class="Symbol">;</a> <a id="5261" href="Ledger.Transaction.html#3093" class="Field">curTreasury</a> <a id="5273" class="Symbol">=</a> <a id="5275" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="5308" class="Symbol">;</a> <a id="5310" href="Ledger.Transaction.html#3127" class="Field">txsize</a> <a id="5317" class="Symbol">=</a> <a id="5319" class="Number">10</a>
                         <a id="5347" class="Symbol">;</a> <a id="5349" href="Ledger.Transaction.html#3152" class="Field">txid</a> <a id="5354" class="Symbol">=</a> <a id="5356" class="Number">7</a>
                         <a id="5383" class="Symbol">;</a> <a id="5385" href="Ledger.Transaction.html#3180" class="Field">collateral</a> <a id="5396" class="Symbol">=</a> <a id="5398" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="5425" class="Symbol">;</a> <a id="5427" href="Ledger.Transaction.html#3210" class="Field">reqSigHash</a> <a id="5438" class="Symbol">=</a> <a id="5440" href="Class.HasEmptySet.html#287" class="Field">∅</a>
                         <a id="5467" class="Symbol">;</a> <a id="5469" href="Ledger.Transaction.html#3243" class="Field">scriptIntHash</a> <a id="5483" class="Symbol">=</a> <a id="5485" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
                         <a id="5518" class="Symbol">}</a> <a id="5520" class="Symbol">;</a>
                <a id="5538" href="Ledger.Transaction.html#3594" class="Field">wits</a> <a id="5543" class="Symbol">=</a> <a id="5545" class="Keyword">record</a> <a id="5552" class="Symbol">{</a> <a id="5554" href="Ledger.Transaction.html#3329" class="Field">vkSigs</a> <a id="5561" class="Symbol">=</a> <a id="5563" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="5565" class="Symbol">;</a>
                                <a id="5599" href="Ledger.Transaction.html#3357" class="Field">scripts</a> <a id="5607" class="Symbol">=</a> <a id="5609" href="Axiom.Set.html#5718" class="Function">Ledger.Prelude.fromList</a> <a id="5633" class="Symbol">((</a><a id="5635" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="5640" href="ScriptVerification.SucceedIfNumber.html#1409" class="Function">succeedIf1Redeemer</a><a id="5658" class="Symbol">)</a> <a id="5660" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5662" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="5664" class="Symbol">)</a> <a id="5666" class="Symbol">;</a>
                                <a id="5700" href="Ledger.Transaction.html#3383" class="Field">txdats</a> <a id="5707" class="Symbol">=</a> <a id="5709" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="5711" class="Symbol">;</a>
                                <a id="5745" href="Ledger.Transaction.html#3417" class="Field">txrdmrs</a> <a id="5753" class="Symbol">=</a> <a id="5755" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="5765" class="Symbol">(((</a><a id="5768" href="Ledger.Transaction.html#748" class="InductiveConstructor">Spend</a> <a id="5774" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5776" class="Number">6</a><a id="5777" class="Symbol">)</a> <a id="5779" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5781" class="Number">1</a> <a id="5783" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5785" class="Symbol">(</a><a id="5786" class="Number">5</a> <a id="5788" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5790" class="Number">5</a><a id="5791" class="Symbol">))</a> <a id="5794" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5796" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="5798" class="Symbol">)</a> <a id="5800" class="Symbol">}</a> <a id="5802" class="Symbol">;</a>
                <a id="5820" href="Ledger.Transaction.html#3623" class="Field">isValid</a> <a id="5828" class="Symbol">=</a> <a id="5830" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="5835" class="Symbol">;</a>
                <a id="5853" href="Ledger.Transaction.html#3645" class="Field">txAD</a> <a id="5858" class="Symbol">=</a> <a id="5860" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="5868" class="Symbol">}</a>


<a id="evalScriptRedeemer"></a><a id="5872" href="ScriptVerification.SucceedIfNumber.html#5872" class="Function">evalScriptRedeemer</a> <a id="5891" class="Symbol">:</a> <a id="5893" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
<a id="5898" href="ScriptVerification.SucceedIfNumber.html#5872" class="Function">evalScriptRedeemer</a> <a id="5917" class="Symbol">=</a> <a id="5919" href="Ledger.ScriptValidation.html#6251" class="Function">evalScripts</a> <a id="5931" href="ScriptVerification.SucceedIfNumber.html#4574" class="Function">failTx</a> <a id="5938" class="Symbol">(</a><a id="5939" href="Ledger.ScriptValidation.html#5863" class="Function">collectPhaseTwoScriptInputs</a> <a id="5967" class="Symbol">(</a><a id="5968" href="Ledger.Utxo.html#2465" class="Field">UTxOEnv.pparams</a> <a id="5984" href="ScriptVerification.SucceedIfNumber.html#1503" class="Function">initEnv</a><a id="5991" class="Symbol">)</a> <a id="5993" href="ScriptVerification.SucceedIfNumber.html#4574" class="Function">failTx</a> <a id="6000" href="ScriptVerification.SucceedIfNumber.html#2313" class="Function">initStateRedeemer</a><a id="6017" class="Symbol">)</a>

<a id="exampleDatum&#39;"></a><a id="6020" href="ScriptVerification.SucceedIfNumber.html#6020" class="Function">exampleDatum&#39;</a> <a id="6034" class="Symbol">:</a> <a id="6036" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6041" href="Ledger.Script.html#1766" class="Function">Datum</a>
<a id="6047" href="ScriptVerification.SucceedIfNumber.html#6020" class="Function">exampleDatum&#39;</a> <a id="6061" class="Symbol">=</a> <a id="6063" href="Ledger.ScriptValidation.html#1471" class="Function">getDatum</a> <a id="6072" href="ScriptVerification.SucceedIfNumber.html#4574" class="Function">failTx</a> <a id="6079" href="ScriptVerification.SucceedIfNumber.html#2313" class="Function">initStateRedeemer</a> <a id="6097" class="Symbol">(</a><a id="6098" href="Ledger.ScriptValidation.html#663" class="InductiveConstructor">Spend</a> <a id="6104" class="Symbol">(</a><a id="6105" class="Number">6</a> <a id="6107" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6109" class="Number">6</a><a id="6110" class="Symbol">))</a>

<a id="6114" class="Keyword">opaque</a>
  <a id="6123" class="Keyword">unfolding</a> <a id="6133" href="Ledger.ScriptValidation.html#5863" class="Function">collectPhaseTwoScriptInputs</a>
  <a id="6163" class="Keyword">unfolding</a> <a id="6173" href="abstract-set-theory.FiniteSetTheory.html#2463" class="Function">setToList</a>
  <a id="6185" class="Keyword">unfolding</a> <a id="6195" href="Ledger.Utxo.html#2957" class="Function">outs</a>

  <a id="gotScript"></a><a id="6203" href="ScriptVerification.SucceedIfNumber.html#6203" class="Function">gotScript</a> <a id="6213" class="Symbol">:</a> <a id="6215" href="Ledger.Transaction.html#4600" class="Function">lookupScriptHash</a> <a id="6232" class="Number">777</a> <a id="6236" href="ScriptVerification.SucceedIfNumber.html#2426" class="Function">succeedTx</a> <a id="6246" href="ScriptVerification.SucceedIfNumber.html#2209" class="Function">initStateDatum</a> <a id="6261" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6263" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6268" class="Symbol">(</a><a id="6269" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6274" href="ScriptVerification.SucceedIfNumber.html#1166" class="Function">succeedIf1Datum</a><a id="6289" class="Symbol">)</a>
  <a id="6293" href="ScriptVerification.SucceedIfNumber.html#6203" class="Function">gotScript</a> <a id="6303" class="Symbol">=</a> <a id="6305" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6313" href="ScriptVerification.SucceedIfNumber.html#6313" class="Function">_</a> <a id="6315" class="Symbol">:</a> <a id="6317" href="ScriptVerification.SucceedIfNumber.html#4482" class="Function">exampleDatum</a> <a id="6330" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6332" class="Number">1</a> <a id="6334" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6336" class="InductiveConstructor">[]</a>
  <a id="6341" class="Symbol">_</a> <a id="6343" class="Symbol">=</a> <a id="6345" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6353" href="ScriptVerification.SucceedIfNumber.html#6353" class="Function">_</a> <a id="6355" class="Symbol">:</a> <a id="6357" href="ScriptVerification.SucceedIfNumber.html#6020" class="Function">exampleDatum&#39;</a> <a id="6371" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6373" class="InductiveConstructor">[]</a>
  <a id="6378" class="Symbol">_</a> <a id="6380" class="Symbol">=</a> <a id="6382" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6390" href="ScriptVerification.SucceedIfNumber.html#6390" class="Function">_</a> <a id="6392" class="Symbol">:</a> <a id="6394" href="ScriptVerification.SucceedIfNumber.html#4337" class="Function">evalScriptDatum</a> <a id="6410" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6412" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="6419" class="Symbol">_</a> <a id="6421" class="Symbol">=</a> <a id="6423" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6431" href="ScriptVerification.SucceedIfNumber.html#6431" class="Function">_</a> <a id="6433" class="Symbol">:</a> <a id="6435" href="ScriptVerification.SucceedIfNumber.html#5872" class="Function">evalScriptRedeemer</a> <a id="6454" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6456" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="6463" class="Symbol">_</a> <a id="6465" class="Symbol">=</a> <a id="6467" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6475" class="Comment">-- Compute the result of running the UTXO rules on the succeedTx transaction</a>
  <a id="succeedExample"></a><a id="6554" href="ScriptVerification.SucceedIfNumber.html#6554" class="Function">succeedExample</a> <a id="6569" class="Symbol">:</a> <a id="6571" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6589" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6596" href="Ledger.Utxo.html#2516" class="Record">UTxOState</a>
  <a id="6608" href="ScriptVerification.SucceedIfNumber.html#6554" class="Function">succeedExample</a> <a id="6623" class="Symbol">=</a> <a id="6625" href="Ledger.Conway.Conformance.Utxo.Properties.html#3611" class="Function">UTXO-step</a> <a id="6635" href="ScriptVerification.SucceedIfNumber.html#1503" class="Function">initEnv</a> <a id="6643" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="6645" href="ScriptVerification.SucceedIfNumber.html#2209" class="Function">initStateDatum</a> <a id="6660" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6662" class="Number">0</a> <a id="6664" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6666" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="6668" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6670" class="Number">0</a> <a id="6672" href="Class.To.html#102" class="Field Operator">⟧</a>  <a id="6675" href="ScriptVerification.SucceedIfNumber.html#2426" class="Function">succeedTx</a>

  <a id="6688" href="ScriptVerification.SucceedIfNumber.html#6688" class="Function">_</a> <a id="6690" class="Symbol">:</a> <a id="6692" href="ScriptVerification.Lib.html#5849" class="Function">isSuccess</a> <a id="6702" href="ScriptVerification.SucceedIfNumber.html#6554" class="Function">succeedExample</a> <a id="6717" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6719" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="6726" class="Symbol">_</a>  <a id="6729" class="Symbol">=</a> <a id="6731" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6739" class="Comment">-- Compute the result of running the UTXO rules on the failTx transaction</a>
  <a id="failExample"></a><a id="6815" href="ScriptVerification.SucceedIfNumber.html#6815" class="Function">failExample</a> <a id="6827" class="Symbol">:</a> <a id="6829" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="6847" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="6854" href="Ledger.Utxo.html#2516" class="Record">UTxOState</a>
  <a id="6866" href="ScriptVerification.SucceedIfNumber.html#6815" class="Function">failExample</a> <a id="6878" class="Symbol">=</a> <a id="6880" href="Ledger.Conway.Conformance.Utxo.Properties.html#3611" class="Function">UTXO-step</a> <a id="6890" href="ScriptVerification.SucceedIfNumber.html#1503" class="Function">initEnv</a> <a id="6898" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="6900" href="ScriptVerification.SucceedIfNumber.html#2313" class="Function">initStateRedeemer</a> <a id="6918" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6920" class="Number">0</a> <a id="6922" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6924" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="6926" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6928" class="Number">0</a> <a id="6930" href="Class.To.html#102" class="Field Operator">⟧</a>  <a id="6933" href="ScriptVerification.SucceedIfNumber.html#4574" class="Function">failTx</a>

  <a id="6943" href="ScriptVerification.SucceedIfNumber.html#6943" class="Function">_</a> <a id="6945" class="Symbol">:</a> <a id="6947" href="Interface.ComputationalRelation.html#389" class="Function">isFailure</a> <a id="6957" href="ScriptVerification.SucceedIfNumber.html#6815" class="Function">failExample</a>
  <a id="6971" class="Symbol">_</a> <a id="6973" class="Symbol">=</a> <a id="6975" class="Symbol">_</a> <a id="6977" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6979" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="6987" class="Comment">-- Note that the UTXOS rule succeeds but the UTXO rule fails for failTx</a>
  <a id="failExampleS"></a><a id="7061" href="ScriptVerification.SucceedIfNumber.html#7061" class="Function">failExampleS</a> <a id="7074" class="Symbol">:</a> <a id="7076" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="7083" href="ScriptVerification.SucceedIfNumber.html#7061" class="Function">failExampleS</a> <a id="7096" class="Symbol">=</a> <a id="7098" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7103" href="Interface.ComputationalRelation.html#2976" class="Function">compute</a> <a id="7111" href="Ledger.Conway.Conformance.Utxo.Properties.html#945" class="Function">Computational-UTXOS</a> <a id="7131" href="ScriptVerification.SucceedIfNumber.html#1503" class="Function">initEnv</a> <a id="7139" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7141" href="ScriptVerification.SucceedIfNumber.html#2313" class="Function">initStateRedeemer</a> <a id="7159" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7161" class="Number">0</a> <a id="7163" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7165" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="7167" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7169" class="Number">0</a> <a id="7171" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7173" href="ScriptVerification.SucceedIfNumber.html#4574" class="Function">failTx</a> <a id="7180" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7183" class="Symbol">λ</a> <a id="7185" class="Keyword">where</a>
    <a id="7195" class="Symbol">(</a><a id="7196" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="7204" href="ScriptVerification.SucceedIfNumber.html#7204" class="Bound">x</a><a id="7205" class="Symbol">)</a> <a id="7207" class="Symbol">→</a> <a id="7209" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="7218" class="Symbol">(</a><a id="7219" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="7227" href="ScriptVerification.SucceedIfNumber.html#7227" class="Bound">x</a><a id="7228" class="Symbol">)</a> <a id="7230" class="Symbol">→</a> <a id="7232" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

  <a id="7241" href="ScriptVerification.SucceedIfNumber.html#7241" class="Function">_</a> <a id="7243" class="Symbol">:</a> <a id="7245" href="ScriptVerification.SucceedIfNumber.html#7061" class="Function">failExampleS</a> <a id="7258" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7260" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="7267" class="Symbol">_</a> <a id="7269" class="Symbol">=</a> <a id="7271" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="failExampleU"></a><a id="7279" href="ScriptVerification.SucceedIfNumber.html#7279" class="Function">failExampleU</a> <a id="7292" class="Symbol">:</a> <a id="7294" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="7301" href="ScriptVerification.SucceedIfNumber.html#7279" class="Function">failExampleU</a> <a id="7314" class="Symbol">=</a> <a id="7316" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="7321" href="Interface.ComputationalRelation.html#2976" class="Function">compute</a> <a id="7329" href="Ledger.Conway.Conformance.Utxo.Properties.html#2140" class="Function">Computational-UTXO</a> <a id="7348" href="ScriptVerification.SucceedIfNumber.html#1503" class="Function">initEnv</a> <a id="7356" href="Class.To.html#102" class="Field Operator">⟦</a> <a id="7358" href="ScriptVerification.SucceedIfNumber.html#2313" class="Function">initStateRedeemer</a> <a id="7376" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7378" class="Number">0</a> <a id="7380" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7382" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="7384" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7386" class="Number">0</a> <a id="7388" href="Class.To.html#102" class="Field Operator">⟧</a> <a id="7390" href="ScriptVerification.SucceedIfNumber.html#4574" class="Function">failTx</a> <a id="7397" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="7400" class="Symbol">λ</a> <a id="7402" class="Keyword">where</a>
    <a id="7412" class="Symbol">(</a><a id="7413" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="7421" href="ScriptVerification.SucceedIfNumber.html#7421" class="Bound">x</a><a id="7422" class="Symbol">)</a> <a id="7424" class="Symbol">→</a> <a id="7426" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
    <a id="7435" class="Symbol">(</a><a id="7436" href="Interface.ComputationalRelation.html#348" class="InductiveConstructor">failure</a> <a id="7444" href="ScriptVerification.SucceedIfNumber.html#7444" class="Bound">x</a><a id="7445" class="Symbol">)</a> <a id="7447" class="Symbol">→</a> <a id="7449" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

  <a id="7458" href="ScriptVerification.SucceedIfNumber.html#7458" class="Function">_</a> <a id="7460" class="Symbol">:</a> <a id="7462" href="ScriptVerification.SucceedIfNumber.html#7279" class="Function">failExampleU</a> <a id="7475" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7477" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="7485" class="Symbol">_</a> <a id="7487" class="Symbol">=</a> <a id="7489" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre></body></html>