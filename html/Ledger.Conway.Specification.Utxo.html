<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Utxo</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Algebra.html" class="Module">Algebra</a>              <a id="59" class="Keyword">using</a> <a id="65" class="Symbol">(</a><a id="66" href="Algebra.Bundles.html#7886" class="Record">CommutativeMonoid</a><a id="83" class="Symbol">)</a>
<a id="85" class="Keyword">open</a> <a id="90" class="Keyword">import</a> <a id="97" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>  <a id="118" class="Keyword">using</a> <a id="124" class="Symbol">(</a><a id="125" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="135" class="Symbol">)</a>
<a id="137" class="Keyword">import</a> <a id="144" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="155" class="Symbol">as</a> <a id="158" class="Module">M</a>
<a id="160" class="Keyword">import</a> <a id="167" href="Data.Sum.Relation.Unary.All.html" class="Module">Data.Sum.Relation.Unary.All</a> <a id="195" class="Symbol">as</a> <a id="198" class="Module">Sum</a>

<a id="203" class="Keyword">import</a> <a id="210" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="223" class="Symbol">as</a> <a id="226" class="Module">ℤ</a>
<a id="228" class="Keyword">import</a> <a id="235" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="249" class="Symbol">as</a> <a id="252" class="Module">ℚ</a>


<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="283" class="Keyword">open</a> <a id="288" class="Keyword">import</a> <a id="295" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="332" class="Keyword">open</a> <a id="337" class="Keyword">import</a> <a id="344" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>

<a id="385" class="Keyword">module</a> <a id="392" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a>
  <a id="427" class="Symbol">(</a><a id="428" href="Ledger.Conway.Specification.Utxo.html#428" class="Bound">txs</a> <a id="432" class="Symbol">:</a> <a id="434" class="Symbol">_)</a> <a id="437" class="Symbol">(</a><a id="438" class="Keyword">open</a> <a id="443" href="Ledger.Conway.Specification.Transaction.html#1000" class="Module">TransactionStructure</a> <a id="464" href="Ledger.Conway.Specification.Utxo.html#428" class="Bound">txs</a><a id="467" class="Symbol">)</a>
  <a id="471" class="Symbol">(</a><a id="472" href="Ledger.Conway.Specification.Utxo.html#472" class="Bound">abs</a> <a id="476" class="Symbol">:</a> <a id="478" href="Ledger.Conway.Specification.Abstract.html#641" class="Record">AbstractFunctions</a> <a id="496" href="Ledger.Conway.Specification.Utxo.html#428" class="Bound">txs</a><a id="499" class="Symbol">)</a> <a id="501" class="Symbol">(</a><a id="502" class="Keyword">open</a> <a id="507" href="Ledger.Conway.Specification.Abstract.html#641" class="Module">AbstractFunctions</a> <a id="525" href="Ledger.Conway.Specification.Utxo.html#472" class="Bound">abs</a><a id="528" class="Symbol">)</a>
  <a id="532" class="Keyword">where</a>

<a id="539" class="Keyword">open</a> <a id="544" class="Keyword">import</a> <a id="551" href="Ledger.Conway.Specification.Script.Validation.html" class="Module">Ledger.Conway.Specification.Script.Validation</a> <a id="597" href="Ledger.Conway.Specification.Utxo.html#428" class="Bound">txs</a> <a id="601" href="Ledger.Conway.Specification.Utxo.html#472" class="Bound">abs</a>
<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="Ledger.Conway.Specification.Fees.html" class="Module">Ledger.Conway.Specification.Fees</a> <a id="650" href="Ledger.Conway.Specification.Utxo.html#428" class="Bound">txs</a> <a id="654" class="Keyword">using</a> <a id="660" class="Symbol">(</a><a id="661" href="Ledger.Conway.Specification.Fees.html#777" class="Function">scriptsCost</a><a id="672" class="Symbol">)</a>
<a id="674" class="Keyword">open</a> <a id="679" class="Keyword">import</a> <a id="686" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="720" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>

<a id="734" class="Keyword">instance</a>
  <a id="745" href="Ledger.Conway.Specification.Utxo.html#745" class="Function">_</a> <a id="747" class="Symbol">=</a> <a id="749" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a>


<a id="totExUnits"></a><a id="762" href="Ledger.Conway.Specification.Utxo.html#762" class="Function">totExUnits</a> <a id="773" class="Symbol">:</a> <a id="775" href="Ledger.Conway.Specification.Transaction.html#4500" class="Record">Tx</a> <a id="778" class="Symbol">→</a> <a id="780" href="Ledger.Conway.Specification.Script.Base.html#1017" class="Function">ExUnits</a>
<a id="788" href="Ledger.Conway.Specification.Utxo.html#762" class="Function">totExUnits</a> <a id="799" href="Ledger.Conway.Specification.Utxo.html#799" class="Bound">tx</a> <a id="802" class="Symbol">=</a> <a id="804" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="807" href="Ledger.Conway.Specification.Utxo.html#807" class="Bound">(_</a> <a id="810" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="812" href="Ledger.Conway.Specification.Utxo.html#812" class="Bound">eu</a><a id="814" href="Ledger.Conway.Specification.Utxo.html#807" class="Bound">)</a> <a id="816" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="818" href="Ledger.Conway.Specification.Utxo.html#799" class="Bound">tx</a> <a id="821" class="Symbol">.</a><a id="822" href="Ledger.Conway.Specification.Transaction.html#4556" class="Field">wits</a> <a id="827" class="Symbol">.</a><a id="828" href="Ledger.Conway.Specification.Transaction.html#4375" class="Field">txrdmrs</a> <a id="836" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="838" href="Ledger.Conway.Specification.Utxo.html#812" class="Bound">eu</a>
  <a id="843" class="Keyword">where</a> <a id="849" class="Keyword">open</a> <a id="854" href="Ledger.Conway.Specification.Transaction.html#4500" class="Module">Tx</a><a id="856" class="Symbol">;</a> <a id="858" class="Keyword">open</a> <a id="863" href="Ledger.Conway.Specification.Transaction.html#4255" class="Module">TxWitnesses</a>


<a id="877" class="Comment">-- utxoEntrySizeWithoutVal = 27 words (8 bytes)</a>
<a id="utxoEntrySizeWithoutVal"></a><a id="925" href="Ledger.Conway.Specification.Utxo.html#925" class="Function">utxoEntrySizeWithoutVal</a> <a id="949" class="Symbol">:</a> <a id="951" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#430" class="Function">MemoryEstimate</a>
<a id="966" href="Ledger.Conway.Specification.Utxo.html#925" class="Function">utxoEntrySizeWithoutVal</a> <a id="990" class="Symbol">=</a> <a id="992" class="Number">8</a>

<a id="utxoEntrySize"></a><a id="995" href="Ledger.Conway.Specification.Utxo.html#995" class="Function">utxoEntrySize</a> <a id="1009" class="Symbol">:</a> <a id="1011" href="Ledger.Conway.Specification.Transaction.html#5298" class="Function">TxOutʰ</a> <a id="1018" class="Symbol">→</a> <a id="1020" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#430" class="Function">MemoryEstimate</a>
<a id="1035" href="Ledger.Conway.Specification.Utxo.html#995" class="Function">utxoEntrySize</a> <a id="1049" href="Ledger.Conway.Specification.Utxo.html#1049" class="Bound">o</a> <a id="1051" class="Symbol">=</a> <a id="1053" href="Ledger.Conway.Specification.Utxo.html#925" class="Function">utxoEntrySizeWithoutVal</a> <a id="1077" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="1079" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#979" class="Function">size</a> <a id="1084" class="Symbol">(</a><a id="1085" href="Ledger.Conway.Specification.Transaction.html#5458" class="Function">getValueʰ</a> <a id="1095" href="Ledger.Conway.Specification.Utxo.html#1049" class="Bound">o</a><a id="1096" class="Symbol">)</a>


<a id="1100" class="Keyword">open</a> <a id="1105" href="Ledger.Conway.Specification.PParams.html#1728" class="Module">PParams</a>


<a id="1115" class="Keyword">record</a> <a id="UTxOEnv"></a><a id="1122" href="Ledger.Conway.Specification.Utxo.html#1122" class="Record">UTxOEnv</a> <a id="1130" class="Symbol">:</a> <a id="1132" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1137" class="Keyword">where</a>
  <a id="1145" class="Keyword">field</a>
    <a id="UTxOEnv.slot"></a><a id="1155" href="Ledger.Conway.Specification.Utxo.html#1155" class="Field">slot</a>      <a id="1165" class="Symbol">:</a> <a id="1167" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a>
    <a id="UTxOEnv.pparams"></a><a id="1176" href="Ledger.Conway.Specification.Utxo.html#1176" class="Field">pparams</a>   <a id="1186" class="Symbol">:</a> <a id="1188" href="Ledger.Conway.Specification.PParams.html#1728" class="Record">PParams</a>
    <a id="UTxOEnv.treasury"></a><a id="1200" href="Ledger.Conway.Specification.Utxo.html#1200" class="Field">treasury</a>  <a id="1210" class="Symbol">:</a> <a id="1212" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>



<a id="1220" class="Keyword">instance</a>
  <a id="HasPParams-UTxOEnv"></a><a id="1231" href="Ledger.Conway.Specification.Utxo.html#1231" class="Function">HasPParams-UTxOEnv</a> <a id="1250" class="Symbol">:</a> <a id="1252" href="Ledger.Conway.Specification.PParams.html#3532" class="Record">HasPParams</a> <a id="1263" href="Ledger.Conway.Specification.Utxo.html#1122" class="Record">UTxOEnv</a>
  <a id="1273" href="Ledger.Conway.Specification.Utxo.html#1231" class="Function">HasPParams-UTxOEnv</a> <a id="1292" class="Symbol">.</a><a id="1293" href="Ledger.Conway.Specification.PParams.html#3583" class="Field">PParamsOf</a> <a id="1303" class="Symbol">=</a> <a id="1305" href="Ledger.Conway.Specification.Utxo.html#1176" class="Field">UTxOEnv.pparams</a>

  <a id="HasgovActionDeposit-UTxOEnv"></a><a id="1324" href="Ledger.Conway.Specification.Utxo.html#1324" class="Function">HasgovActionDeposit-UTxOEnv</a> <a id="1352" class="Symbol">:</a> <a id="1354" href="Ledger.Conway.Specification.PParams.html#3643" class="Record">HasgovActionDeposit</a> <a id="1374" href="Ledger.Conway.Specification.Utxo.html#1122" class="Record">UTxOEnv</a>
  <a id="1384" href="Ledger.Conway.Specification.Utxo.html#1324" class="Function">HasgovActionDeposit-UTxOEnv</a> <a id="1412" class="Symbol">.</a><a id="1413" href="Ledger.Conway.Specification.PParams.html#3703" class="Field">govActionDepositOf</a> <a id="1432" class="Symbol">=</a> <a id="1434" href="Ledger.Conway.Specification.PParams.html#3703" class="Field">govActionDepositOf</a> <a id="1453" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1455" href="Ledger.Conway.Specification.PParams.html#3583" class="Field">PParamsOf</a>


<a id="1467" class="Keyword">record</a> <a id="UTxOState"></a><a id="1474" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a> <a id="1484" class="Symbol">:</a> <a id="1486" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1491" class="Keyword">where</a>


  <a id="1501" class="Keyword">constructor</a> <a id="⟦_,_,_,_⟧ᵘ"></a><a id="1513" href="Ledger.Conway.Specification.Utxo.html#1513" class="InductiveConstructor Operator">⟦_,_,_,_⟧ᵘ</a>


  <a id="1528" class="Keyword">field</a>
    <a id="UTxOState.utxo"></a><a id="1538" href="Ledger.Conway.Specification.Utxo.html#1538" class="Field">utxo</a>       <a id="1549" class="Symbol">:</a> <a id="1551" href="Ledger.Conway.Specification.Transaction.html#2698" class="Function">UTxO</a>
    <a id="UTxOState.fees"></a><a id="1560" href="Ledger.Conway.Specification.Utxo.html#1560" class="Field">fees</a>       <a id="1571" class="Symbol">:</a> <a id="1573" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
    <a id="UTxOState.deposits"></a><a id="1582" href="Ledger.Conway.Specification.Utxo.html#1582" class="Field">deposits</a>   <a id="1593" class="Symbol">:</a> <a id="1595" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a>
    <a id="UTxOState.donations"></a><a id="1608" href="Ledger.Conway.Specification.Utxo.html#1608" class="Field">donations</a>  <a id="1619" class="Symbol">:</a> <a id="1621" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>



<a id="1629" class="Keyword">record</a> <a id="HasUTxOState"></a><a id="1636" href="Ledger.Conway.Specification.Utxo.html#1636" class="Record">HasUTxOState</a> <a id="1649" class="Symbol">{</a><a id="1650" href="Ledger.Conway.Specification.Utxo.html#1650" class="Bound">a</a><a id="1651" class="Symbol">}</a> <a id="1653" class="Symbol">(</a><a id="1654" href="Ledger.Conway.Specification.Utxo.html#1654" class="Bound">A</a> <a id="1656" class="Symbol">:</a> <a id="1658" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1663" href="Ledger.Conway.Specification.Utxo.html#1650" class="Bound">a</a><a id="1664" class="Symbol">)</a> <a id="1666" class="Symbol">:</a> <a id="1668" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1673" href="Ledger.Conway.Specification.Utxo.html#1650" class="Bound">a</a> <a id="1675" class="Keyword">where</a>
  <a id="1683" class="Keyword">field</a> <a id="HasUTxOState.UTxOStateOf"></a><a id="1689" href="Ledger.Conway.Specification.Utxo.html#1689" class="Field">UTxOStateOf</a> <a id="1701" class="Symbol">:</a> <a id="1703" href="Ledger.Conway.Specification.Utxo.html#1654" class="Bound">A</a> <a id="1705" class="Symbol">→</a> <a id="1707" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a>
<a id="1717" class="Keyword">open</a> <a id="1722" href="Ledger.Conway.Specification.Utxo.html#1636" class="Module">HasUTxOState</a> <a id="1735" class="Symbol">⦃...⦄</a> <a id="1741" class="Keyword">public</a>

<a id="1749" class="Keyword">instance</a>
  <a id="HasDeposits-UTxOState"></a><a id="1760" href="Ledger.Conway.Specification.Utxo.html#1760" class="Function">HasDeposits-UTxOState</a> <a id="1782" class="Symbol">:</a> <a id="1784" href="Ledger.Conway.Specification.Certs.html#694" class="Record">HasDeposits</a> <a id="1796" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a>
  <a id="1808" href="Ledger.Conway.Specification.Utxo.html#1760" class="Function">HasDeposits-UTxOState</a> <a id="1830" class="Symbol">.</a><a id="1831" href="Ledger.Conway.Specification.Certs.html#746" class="Field">DepositsOf</a> <a id="1842" class="Symbol">=</a> <a id="1844" href="Ledger.Conway.Specification.Utxo.html#1582" class="Field">UTxOState.deposits</a>

  <a id="HasUTxO-UTxOState"></a><a id="1866" href="Ledger.Conway.Specification.Utxo.html#1866" class="Function">HasUTxO-UTxOState</a> <a id="1884" class="Symbol">:</a> <a id="1886" href="Ledger.Conway.Specification.Transaction.html#2880" class="Record">HasUTxO</a> <a id="1894" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a>
  <a id="1906" href="Ledger.Conway.Specification.Utxo.html#1866" class="Function">HasUTxO-UTxOState</a> <a id="1924" class="Symbol">.</a><a id="1925" href="Ledger.Conway.Specification.Transaction.html#2930" class="Field">UTxOOf</a> <a id="1932" class="Symbol">=</a> <a id="1934" href="Ledger.Conway.Specification.Utxo.html#1538" class="Field">UTxOState.utxo</a>

  <a id="1952" class="Keyword">unquoteDecl</a> <a id="HasCast-UTxOEnv"></a><a id="1964" href="Ledger.Conway.Specification.Utxo.html#1964" class="Function">HasCast-UTxOEnv</a> <a id="HasCast-UTxOState"></a><a id="1980" href="Ledger.Conway.Specification.Utxo.html#1980" class="Function">HasCast-UTxOState</a> <a id="1998" class="Symbol">=</a> <a id="2000" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="2019" class="Symbol">(</a> <a id="2021" class="Symbol">(</a><a id="2022" class="Keyword">quote</a> <a id="2028" href="Ledger.Conway.Specification.Utxo.html#1122" class="Record">UTxOEnv</a>   <a id="2038" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2040" href="Ledger.Conway.Specification.Utxo.html#1964" class="Function">HasCast-UTxOEnv</a>  <a id="2057" class="Symbol">)</a> <a id="2059" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a>
    <a id="2065" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="2067" class="Symbol">(</a><a id="2068" class="Keyword">quote</a> <a id="2074" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a> <a id="2084" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2086" href="Ledger.Conway.Specification.Utxo.html#1980" class="Function">HasCast-UTxOState</a><a id="2103" class="Symbol">)</a> <a id="2105" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="2106" class="Symbol">)</a>


<a id="2110" class="Keyword">data</a>


  <a id="_⊢_⇀⦇_,UTXO⦈_"></a><a id="2119" href="Ledger.Conway.Specification.Utxo.html#2119" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="2133" class="Symbol">:</a> <a id="2135" href="Ledger.Conway.Specification.Utxo.html#1122" class="Record">UTxOEnv</a> <a id="2143" class="Symbol">→</a> <a id="2145" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a> <a id="2155" class="Symbol">→</a> <a id="2157" href="Ledger.Conway.Specification.Transaction.html#4500" class="Record">Tx</a> <a id="2160" class="Symbol">→</a> <a id="2162" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a> <a id="2172" class="Symbol">→</a> <a id="2174" href="Agda.Primitive.html#388" class="Primitive">Type</a>


<a id="2181" class="Keyword">module</a> <a id="2188" href="Ledger.Conway.Specification.Utxo.html#2188" class="Module">_</a> <a id="2190" class="Symbol">(</a><a id="2191" class="Keyword">let</a> <a id="2195" class="Keyword">open</a> <a id="2200" href="Ledger.Conway.Specification.Transaction.html#4500" class="Module">Tx</a><a id="2202" class="Symbol">;</a> <a id="2204" class="Keyword">open</a> <a id="2209" href="Ledger.Conway.Specification.Transaction.html#2987" class="Module">TxBody</a><a id="2215" class="Symbol">;</a> <a id="2217" class="Keyword">open</a> <a id="2222" href="Ledger.Conway.Specification.Transaction.html#4255" class="Module">TxWitnesses</a><a id="2233" class="Symbol">)</a> <a id="2235" class="Keyword">where</a> <a id="2241" class="Keyword">opaque</a>


  <a id="2252" href="Ledger.Conway.Specification.Utxo.html#2252" class="Function">outs</a> <a id="2257" class="Symbol">:</a> <a id="2259" href="Ledger.Conway.Specification.Transaction.html#2987" class="Record">TxBody</a> <a id="2266" class="Symbol">→</a> <a id="2268" href="Ledger.Conway.Specification.Transaction.html#2698" class="Function">UTxO</a>
  <a id="2275" href="Ledger.Conway.Specification.Utxo.html#2252" class="Function">outs</a> <a id="2280" href="Ledger.Conway.Specification.Utxo.html#2280" class="Bound">tx</a> <a id="2283" class="Symbol">=</a> <a id="2285" href="Axiom.Set.Map.html#5896" class="Function">mapKeys</a> <a id="2293" class="Symbol">(</a><a id="2294" href="Ledger.Conway.Specification.Utxo.html#2280" class="Bound">tx</a> <a id="2297" class="Symbol">.</a><a id="2298" href="Ledger.Conway.Specification.Transaction.html#3530" class="Field">txid</a> <a id="2303" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="2305" class="Symbol">)</a> <a id="2307" class="Symbol">(</a><a id="2308" href="Ledger.Conway.Specification.Utxo.html#2280" class="Bound">tx</a> <a id="2311" class="Symbol">.</a><a id="2312" href="Ledger.Conway.Specification.Transaction.html#3083" class="Field">txouts</a><a id="2318" class="Symbol">)</a>

  <a id="2323" href="Ledger.Conway.Specification.Utxo.html#2323" class="Function">balance</a> <a id="2331" class="Symbol">:</a> <a id="2333" href="Ledger.Conway.Specification.Transaction.html#2698" class="Function">UTxO</a> <a id="2338" class="Symbol">→</a> <a id="2340" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a>
  <a id="2348" href="Ledger.Conway.Specification.Utxo.html#2323" class="Function">balance</a> <a id="2356" href="Ledger.Conway.Specification.Utxo.html#2356" class="Bound">utxo</a> <a id="2361" class="Symbol">=</a> <a id="2363" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">∑[</a> <a id="2366" href="Ledger.Conway.Specification.Utxo.html#2366" class="Bound">x</a> <a id="2368" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">←</a> <a id="2370" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="2380" href="Ledger.Conway.Specification.Transaction.html#5369" class="Function">txOutHash</a> <a id="2390" href="Ledger.Conway.Specification.Utxo.html#2356" class="Bound">utxo</a> <a id="2395" href="abstract-set-theory.FiniteSetTheory.html#3166" class="Function">]</a> <a id="2397" href="Ledger.Conway.Specification.Transaction.html#5458" class="Function">getValueʰ</a> <a id="2407" href="Ledger.Conway.Specification.Utxo.html#2366" class="Bound">x</a>

  <a id="2412" href="Ledger.Conway.Specification.Utxo.html#2412" class="Function">cbalance</a> <a id="2421" class="Symbol">:</a> <a id="2423" href="Ledger.Conway.Specification.Transaction.html#2698" class="Function">UTxO</a> <a id="2428" class="Symbol">→</a> <a id="2430" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="2437" href="Ledger.Conway.Specification.Utxo.html#2412" class="Function">cbalance</a> <a id="2446" href="Ledger.Conway.Specification.Utxo.html#2446" class="Bound">utxo</a> <a id="2451" class="Symbol">=</a> <a id="2453" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#838" class="Function">coin</a> <a id="2458" class="Symbol">(</a><a id="2459" href="Ledger.Conway.Specification.Utxo.html#2323" class="Function">balance</a> <a id="2467" href="Ledger.Conway.Specification.Utxo.html#2446" class="Bound">utxo</a><a id="2471" class="Symbol">)</a>



  <a id="2478" href="Ledger.Conway.Specification.Utxo.html#2478" class="Function">refScriptsSize</a> <a id="2493" class="Symbol">:</a> <a id="2495" href="Ledger.Conway.Specification.Transaction.html#2698" class="Function">UTxO</a> <a id="2500" class="Symbol">→</a> <a id="2502" href="Ledger.Conway.Specification.Transaction.html#4500" class="Record">Tx</a> <a id="2505" class="Symbol">→</a> <a id="2507" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="2511" href="Ledger.Conway.Specification.Utxo.html#2478" class="Function">refScriptsSize</a> <a id="2526" href="Ledger.Conway.Specification.Utxo.html#2526" class="Bound">utxo</a> <a id="2531" href="Ledger.Conway.Specification.Utxo.html#2531" class="Bound">tx</a> <a id="2534" class="Symbol">=</a> <a id="2536" href="Data.List.Base.html#4964" class="Function">sum</a> <a id="2540" class="Symbol">(</a><a id="2541" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2545" href="Ledger.Conway.Specification.Abstract.html#877" class="Field">scriptSize</a> <a id="2556" class="Symbol">(</a><a id="2557" href="abstract-set-theory.FiniteSetTheory.html#2463" class="Function">setToList</a> <a id="2567" class="Symbol">(</a><a id="2568" href="Ledger.Conway.Specification.Transaction.html#5827" class="Function">refScripts</a> <a id="2579" href="Ledger.Conway.Specification.Utxo.html#2531" class="Bound">tx</a> <a id="2582" href="Ledger.Conway.Specification.Utxo.html#2526" class="Bound">utxo</a><a id="2586" class="Symbol">)))</a>

  <a id="2593" href="Ledger.Conway.Specification.Utxo.html#2593" class="Function">minfee</a> <a id="2600" class="Symbol">:</a> <a id="2602" href="Ledger.Conway.Specification.PParams.html#1728" class="Record">PParams</a> <a id="2610" class="Symbol">→</a> <a id="2612" href="Ledger.Conway.Specification.Transaction.html#2698" class="Function">UTxO</a> <a id="2617" class="Symbol">→</a> <a id="2619" href="Ledger.Conway.Specification.Transaction.html#4500" class="Record">Tx</a> <a id="2622" class="Symbol">→</a> <a id="2624" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="2631" href="Ledger.Conway.Specification.Utxo.html#2593" class="Function">minfee</a> <a id="2638" href="Ledger.Conway.Specification.Utxo.html#2638" class="Bound">pp</a> <a id="2641" href="Ledger.Conway.Specification.Utxo.html#2641" class="Bound">utxo</a> <a id="2646" href="Ledger.Conway.Specification.Utxo.html#2646" class="Bound">tx</a>  <a id="2650" class="Symbol">=</a> <a id="2652" href="Ledger.Conway.Specification.Utxo.html#2638" class="Bound">pp</a> <a id="2655" class="Symbol">.</a><a id="2656" href="Ledger.Conway.Specification.PParams.html#2150" class="Field">a</a> <a id="2658" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2660" href="Ledger.Conway.Specification.Utxo.html#2646" class="Bound">tx</a> <a id="2663" class="Symbol">.</a><a id="2664" href="Ledger.Conway.Specification.Transaction.html#4585" class="Field">txsize</a> <a id="2671" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2673" href="Ledger.Conway.Specification.Utxo.html#2638" class="Bound">pp</a> <a id="2676" class="Symbol">.</a><a id="2677" href="Ledger.Conway.Specification.PParams.html#2192" class="Field">b</a>
                     <a id="2700" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2702" href="Ledger.Conway.Specification.Abstract.html#680" class="Field">txscriptfee</a> <a id="2714" class="Symbol">(</a><a id="2715" href="Ledger.Conway.Specification.Utxo.html#2638" class="Bound">pp</a> <a id="2718" class="Symbol">.</a><a id="2719" href="Ledger.Conway.Specification.PParams.html#2509" class="Field">prices</a><a id="2725" class="Symbol">)</a> <a id="2727" class="Symbol">(</a><a id="2728" href="Ledger.Conway.Specification.Utxo.html#762" class="Function">totExUnits</a> <a id="2739" href="Ledger.Conway.Specification.Utxo.html#2646" class="Bound">tx</a><a id="2741" class="Symbol">)</a>
                     <a id="2764" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2766" href="Ledger.Conway.Specification.Fees.html#777" class="Function">scriptsCost</a> <a id="2778" href="Ledger.Conway.Specification.Utxo.html#2638" class="Bound">pp</a> <a id="2781" class="Symbol">(</a><a id="2782" href="Ledger.Conway.Specification.Utxo.html#2478" class="Function">refScriptsSize</a> <a id="2797" href="Ledger.Conway.Specification.Utxo.html#2641" class="Bound">utxo</a> <a id="2802" href="Ledger.Conway.Specification.Utxo.html#2646" class="Bound">tx</a><a id="2804" class="Symbol">)</a>



<a id="2809" class="Keyword">instance</a>
  <a id="HasCoin-UTxO"></a><a id="2820" href="Ledger.Conway.Specification.Utxo.html#2820" class="Function">HasCoin-UTxO</a> <a id="2833" class="Symbol">:</a> <a id="2835" href="Ledger.Prelude.HasCoin.html#122" class="Record">HasCoin</a> <a id="2843" href="Ledger.Conway.Specification.Transaction.html#2698" class="Function">UTxO</a>
  <a id="2850" href="Ledger.Conway.Specification.Utxo.html#2820" class="Function">HasCoin-UTxO</a> <a id="2863" class="Symbol">.</a><a id="2864" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2872" class="Symbol">=</a> <a id="2874" href="Ledger.Conway.Specification.Utxo.html#2412" class="Function">cbalance</a>


<a id="certDeposit"></a><a id="2885" href="Ledger.Conway.Specification.Utxo.html#2885" class="Function">certDeposit</a> <a id="2897" class="Symbol">:</a> <a id="2899" href="Ledger.Conway.Specification.Certs.html#1346" class="Datatype">DCert</a> <a id="2905" class="Symbol">→</a> <a id="2907" href="Ledger.Conway.Specification.PParams.html#1728" class="Record">PParams</a> <a id="2915" class="Symbol">→</a> <a id="2917" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a>
<a id="2926" href="Ledger.Conway.Specification.Utxo.html#2885" class="Function">certDeposit</a> <a id="2938" class="Symbol">(</a><a id="2939" href="Ledger.Conway.Specification.Certs.html#1367" class="InductiveConstructor">delegate</a> <a id="2948" href="Ledger.Conway.Specification.Utxo.html#2948" class="Bound">c</a> <a id="2950" class="Symbol">_</a> <a id="2952" class="Symbol">_</a> <a id="2954" href="Ledger.Conway.Specification.Utxo.html#2954" class="Bound">v</a><a id="2955" class="Symbol">)</a> <a id="2957" class="Symbol">_</a>   <a id="2961" class="Symbol">=</a> <a id="2963" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="2965" href="Ledger.Conway.Specification.Certs.html#379" class="InductiveConstructor">CredentialDeposit</a> <a id="2983" href="Ledger.Conway.Specification.Utxo.html#2948" class="Bound">c</a> <a id="2985" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2987" href="Ledger.Conway.Specification.Utxo.html#2954" class="Bound">v</a> <a id="2989" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="2991" href="Ledger.Conway.Specification.Utxo.html#2885" class="Function">certDeposit</a> <a id="3003" class="Symbol">(</a><a id="3004" href="Ledger.Conway.Specification.Certs.html#2058" class="InductiveConstructor">reg</a> <a id="3008" href="Ledger.Conway.Specification.Utxo.html#3008" class="Bound">c</a> <a id="3010" class="Symbol">_)</a>          <a id="3022" href="Ledger.Conway.Specification.Utxo.html#3022" class="Bound">pp</a>  <a id="3026" class="Symbol">=</a> <a id="3028" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3030" href="Ledger.Conway.Specification.Certs.html#379" class="InductiveConstructor">CredentialDeposit</a> <a id="3048" href="Ledger.Conway.Specification.Utxo.html#3008" class="Bound">c</a> <a id="3050" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3052" href="Ledger.Conway.Specification.Utxo.html#3022" class="Bound">pp</a> <a id="3055" class="Symbol">.</a><a id="3056" href="Ledger.Conway.Specification.PParams.html#2234" class="Field">keyDeposit</a> <a id="3067" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="3069" href="Ledger.Conway.Specification.Utxo.html#2885" class="Function">certDeposit</a> <a id="3081" class="Symbol">(</a><a id="3082" href="Ledger.Conway.Specification.Certs.html#1488" class="InductiveConstructor">regpool</a> <a id="3090" href="Ledger.Conway.Specification.Utxo.html#3090" class="Bound">kh</a> <a id="3093" class="Symbol">_)</a>     <a id="3100" href="Ledger.Conway.Specification.Utxo.html#3100" class="Bound">pp</a>  <a id="3104" class="Symbol">=</a> <a id="3106" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3108" href="Ledger.Conway.Specification.Certs.html#432" class="InductiveConstructor">PoolDeposit</a> <a id="3120" href="Ledger.Conway.Specification.Utxo.html#3090" class="Bound">kh</a> <a id="3123" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3125" href="Ledger.Conway.Specification.Utxo.html#3100" class="Bound">pp</a> <a id="3128" class="Symbol">.</a><a id="3129" href="Ledger.Conway.Specification.PParams.html#2279" class="Field">poolDeposit</a> <a id="3141" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="3143" href="Ledger.Conway.Specification.Utxo.html#2885" class="Function">certDeposit</a> <a id="3155" class="Symbol">(</a><a id="3156" href="Ledger.Conway.Specification.Certs.html#1578" class="InductiveConstructor">regdrep</a> <a id="3164" href="Ledger.Conway.Specification.Utxo.html#3164" class="Bound">c</a> <a id="3166" href="Ledger.Conway.Specification.Utxo.html#3166" class="Bound">v</a> <a id="3168" class="Symbol">_)</a>    <a id="3174" class="Symbol">_</a>   <a id="3178" class="Symbol">=</a> <a id="3180" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3182" href="Ledger.Conway.Specification.Certs.html#485" class="InductiveConstructor">DRepDeposit</a> <a id="3194" href="Ledger.Conway.Specification.Utxo.html#3164" class="Bound">c</a> <a id="3196" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3198" href="Ledger.Conway.Specification.Utxo.html#3166" class="Bound">v</a> <a id="3200" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="3202" href="Ledger.Conway.Specification.Utxo.html#2885" class="CatchallClause Function">certDeposit</a><a id="3213" class="CatchallClause"> </a><a id="3214" class="CatchallClause Symbol">_</a><a id="3215" class="CatchallClause">                  </a><a id="3233" class="CatchallClause Symbol">_</a>   <a id="3237" class="Symbol">=</a> <a id="3239" href="Class.HasEmptySet.html#287" class="Field">∅</a>

<a id="certRefund"></a><a id="3242" href="Ledger.Conway.Specification.Utxo.html#3242" class="Function">certRefund</a> <a id="3253" class="Symbol">:</a> <a id="3255" href="Ledger.Conway.Specification.Certs.html#1346" class="Datatype">DCert</a> <a id="3261" class="Symbol">→</a> <a id="3263" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3265" href="Ledger.Conway.Specification.Certs.html#349" class="Datatype">DepositPurpose</a>
<a id="3280" href="Ledger.Conway.Specification.Utxo.html#3242" class="Function">certRefund</a> <a id="3291" class="Symbol">(</a><a id="3292" href="Ledger.Conway.Specification.Certs.html#1440" class="InductiveConstructor">dereg</a> <a id="3298" href="Ledger.Conway.Specification.Utxo.html#3298" class="Bound">c</a> <a id="3300" class="Symbol">_)</a>      <a id="3308" class="Symbol">=</a> <a id="3310" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3312" href="Ledger.Conway.Specification.Certs.html#379" class="InductiveConstructor">CredentialDeposit</a> <a id="3330" href="Ledger.Conway.Specification.Utxo.html#3298" class="Bound">c</a> <a id="3332" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="3334" href="Ledger.Conway.Specification.Utxo.html#3242" class="Function">certRefund</a> <a id="3345" class="Symbol">(</a><a id="3346" href="Ledger.Conway.Specification.Certs.html#1629" class="InductiveConstructor">deregdrep</a> <a id="3356" href="Ledger.Conway.Specification.Utxo.html#3356" class="Bound">c</a> <a id="3358" class="Symbol">_)</a>  <a id="3362" class="Symbol">=</a> <a id="3364" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3366" href="Ledger.Conway.Specification.Certs.html#485" class="InductiveConstructor">DRepDeposit</a> <a id="3378" href="Ledger.Conway.Specification.Utxo.html#3356" class="Bound">c</a> <a id="3380" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="3382" href="Ledger.Conway.Specification.Utxo.html#3242" class="CatchallClause Function">certRefund</a><a id="3392" class="CatchallClause"> </a><a id="3393" class="CatchallClause Symbol">_</a>                <a id="3410" class="Symbol">=</a> <a id="3412" href="Class.HasEmptySet.html#287" class="Field">∅</a>

<a id="3415" class="Keyword">data</a> <a id="ValidCertDeposits"></a><a id="3420" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="3438" class="Symbol">(</a><a id="3439" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="3442" class="Symbol">:</a> <a id="3444" href="Ledger.Conway.Specification.PParams.html#1728" class="Record">PParams</a><a id="3451" class="Symbol">)</a> <a id="3453" class="Symbol">(</a><a id="3454" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="3459" class="Symbol">:</a> <a id="3461" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a><a id="3469" class="Symbol">)</a> <a id="3471" class="Symbol">:</a> <a id="3473" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3478" href="Ledger.Conway.Specification.Certs.html#1346" class="Datatype">DCert</a> <a id="3484" class="Symbol">→</a> <a id="3486" href="Agda.Primitive.html#388" class="Primitive">Set</a>


  <a id="3494" class="Keyword">where</a>
  <a id="ValidCertDeposits.[]"></a><a id="3502" href="Ledger.Conway.Specification.Utxo.html#3502" class="InductiveConstructor">[]</a>         <a id="3513" class="Symbol">:</a> <a id="3515" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="3533" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="3536" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="3541" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="ValidCertDeposits.delegate"></a><a id="3546" href="Ledger.Conway.Specification.Utxo.html#3546" class="InductiveConstructor">delegate</a>   <a id="3557" class="Symbol">:</a> <a id="3559" class="Symbol">∀</a> <a id="3561" class="Symbol">{</a><a id="3562" href="Ledger.Conway.Specification.Utxo.html#3562" class="Bound">c</a> <a id="3564" href="Ledger.Conway.Specification.Utxo.html#3564" class="Bound">del</a> <a id="3568" href="Ledger.Conway.Specification.Utxo.html#3568" class="Bound">kh</a> <a id="3571" href="Ledger.Conway.Specification.Utxo.html#3571" class="Bound">v</a> <a id="3573" href="Ledger.Conway.Specification.Utxo.html#3573" class="Bound">certs</a><a id="3578" class="Symbol">}</a>
             <a id="3593" class="Symbol">→</a> <a id="3595" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="3613" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="3616" class="Symbol">(</a><a id="3617" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="3622" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="3625" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3627" href="Ledger.Conway.Specification.Certs.html#379" class="InductiveConstructor">CredentialDeposit</a> <a id="3645" href="Ledger.Conway.Specification.Utxo.html#3562" class="Bound">c</a> <a id="3647" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3649" href="Ledger.Conway.Specification.Utxo.html#3571" class="Bound">v</a> <a id="3651" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="3652" class="Symbol">)</a> <a id="3654" href="Ledger.Conway.Specification.Utxo.html#3573" class="Bound">certs</a>
             <a id="3673" class="Symbol">→</a> <a id="3675" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="3693" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="3696" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="3701" class="Symbol">(</a><a id="3702" href="Ledger.Conway.Specification.Certs.html#1367" class="InductiveConstructor">delegate</a> <a id="3711" href="Ledger.Conway.Specification.Utxo.html#3562" class="Bound">c</a> <a id="3713" href="Ledger.Conway.Specification.Utxo.html#3564" class="Bound">del</a> <a id="3717" href="Ledger.Conway.Specification.Utxo.html#3568" class="Bound">kh</a> <a id="3720" href="Ledger.Conway.Specification.Utxo.html#3571" class="Bound">v</a> <a id="3722" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3724" href="Ledger.Conway.Specification.Utxo.html#3573" class="Bound">certs</a><a id="3729" class="Symbol">)</a>
  <a id="ValidCertDeposits.regpool"></a><a id="3733" href="Ledger.Conway.Specification.Utxo.html#3733" class="InductiveConstructor">regpool</a>    <a id="3744" class="Symbol">:</a> <a id="3746" class="Symbol">∀</a> <a id="3748" class="Symbol">{</a><a id="3749" href="Ledger.Conway.Specification.Utxo.html#3749" class="Bound">kh</a> <a id="3752" href="Ledger.Conway.Specification.Utxo.html#3752" class="Bound">p</a> <a id="3754" href="Ledger.Conway.Specification.Utxo.html#3754" class="Bound">certs</a><a id="3759" class="Symbol">}</a>
             <a id="3774" class="Symbol">→</a> <a id="3776" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="3794" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="3797" class="Symbol">(</a><a id="3798" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="3803" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="3806" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3808" href="Ledger.Conway.Specification.Certs.html#432" class="InductiveConstructor">PoolDeposit</a> <a id="3820" href="Ledger.Conway.Specification.Utxo.html#3749" class="Bound">kh</a> <a id="3823" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3825" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="3828" class="Symbol">.</a><a id="3829" href="Ledger.Conway.Specification.PParams.html#2279" class="Field">poolDeposit</a> <a id="3841" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="3842" class="Symbol">)</a> <a id="3844" href="Ledger.Conway.Specification.Utxo.html#3754" class="Bound">certs</a>
             <a id="3863" class="Symbol">→</a> <a id="3865" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="3883" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="3886" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="3891" class="Symbol">(</a><a id="3892" href="Ledger.Conway.Specification.Certs.html#1488" class="InductiveConstructor">regpool</a> <a id="3900" href="Ledger.Conway.Specification.Utxo.html#3749" class="Bound">kh</a> <a id="3903" href="Ledger.Conway.Specification.Utxo.html#3752" class="Bound">p</a> <a id="3905" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3907" href="Ledger.Conway.Specification.Utxo.html#3754" class="Bound">certs</a><a id="3912" class="Symbol">)</a>
  <a id="ValidCertDeposits.regdrep"></a><a id="3916" href="Ledger.Conway.Specification.Utxo.html#3916" class="InductiveConstructor">regdrep</a>    <a id="3927" class="Symbol">:</a> <a id="3929" class="Symbol">∀</a> <a id="3931" class="Symbol">{</a><a id="3932" href="Ledger.Conway.Specification.Utxo.html#3932" class="Bound">c</a> <a id="3934" href="Ledger.Conway.Specification.Utxo.html#3934" class="Bound">v</a> <a id="3936" href="Ledger.Conway.Specification.Utxo.html#3936" class="Bound">a</a> <a id="3938" href="Ledger.Conway.Specification.Utxo.html#3938" class="Bound">certs</a><a id="3943" class="Symbol">}</a>
             <a id="3958" class="Symbol">→</a> <a id="3960" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="3978" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="3981" class="Symbol">(</a><a id="3982" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="3987" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="3990" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3992" href="Ledger.Conway.Specification.Certs.html#485" class="InductiveConstructor">DRepDeposit</a> <a id="4004" href="Ledger.Conway.Specification.Utxo.html#3932" class="Bound">c</a> <a id="4006" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4008" href="Ledger.Conway.Specification.Utxo.html#3934" class="Bound">v</a> <a id="4010" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="4011" class="Symbol">)</a> <a id="4013" href="Ledger.Conway.Specification.Utxo.html#3938" class="Bound">certs</a>
             <a id="4032" class="Symbol">→</a> <a id="4034" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="4052" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="4055" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="4060" class="Symbol">(</a><a id="4061" href="Ledger.Conway.Specification.Certs.html#1578" class="InductiveConstructor">regdrep</a> <a id="4069" href="Ledger.Conway.Specification.Utxo.html#3932" class="Bound">c</a> <a id="4071" href="Ledger.Conway.Specification.Utxo.html#3934" class="Bound">v</a> <a id="4073" href="Ledger.Conway.Specification.Utxo.html#3936" class="Bound">a</a> <a id="4075" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4077" href="Ledger.Conway.Specification.Utxo.html#3938" class="Bound">certs</a><a id="4082" class="Symbol">)</a>
  <a id="ValidCertDeposits.reg"></a><a id="4086" href="Ledger.Conway.Specification.Utxo.html#4086" class="InductiveConstructor">reg</a>        <a id="4097" class="Symbol">:</a> <a id="4099" class="Symbol">∀</a> <a id="4101" class="Symbol">{</a><a id="4102" href="Ledger.Conway.Specification.Utxo.html#4102" class="Bound">c</a> <a id="4104" href="Ledger.Conway.Specification.Utxo.html#4104" class="Bound">v</a> <a id="4106" href="Ledger.Conway.Specification.Utxo.html#4106" class="Bound">certs</a><a id="4111" class="Symbol">}</a>
             <a id="4126" class="Symbol">→</a> <a id="4128" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="4146" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="4149" class="Symbol">(</a><a id="4150" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="4155" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="4158" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="4160" href="Ledger.Conway.Specification.Certs.html#379" class="InductiveConstructor">CredentialDeposit</a> <a id="4178" href="Ledger.Conway.Specification.Utxo.html#4102" class="Bound">c</a> <a id="4180" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4182" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="4185" class="Symbol">.</a><a id="4186" href="Ledger.Conway.Specification.PParams.html#2234" class="Field">keyDeposit</a> <a id="4197" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="4198" class="Symbol">)</a> <a id="4200" href="Ledger.Conway.Specification.Utxo.html#4106" class="Bound">certs</a>
             <a id="4219" class="Symbol">→</a> <a id="4221" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="4239" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="4242" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="4247" class="Symbol">(</a><a id="4248" href="Ledger.Conway.Specification.Certs.html#2058" class="InductiveConstructor">reg</a> <a id="4252" href="Ledger.Conway.Specification.Utxo.html#4102" class="Bound">c</a> <a id="4254" href="Ledger.Conway.Specification.Utxo.html#4104" class="Bound">v</a> <a id="4256" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4258" href="Ledger.Conway.Specification.Utxo.html#4106" class="Bound">certs</a><a id="4263" class="Symbol">)</a>
  <a id="ValidCertDeposits.dereg"></a><a id="4267" href="Ledger.Conway.Specification.Utxo.html#4267" class="InductiveConstructor">dereg</a>      <a id="4278" class="Symbol">:</a> <a id="4280" class="Symbol">∀</a> <a id="4282" class="Symbol">{</a><a id="4283" href="Ledger.Conway.Specification.Utxo.html#4283" class="Bound">c</a> <a id="4285" href="Ledger.Conway.Specification.Utxo.html#4285" class="Bound">md</a> <a id="4288" href="Ledger.Conway.Specification.Utxo.html#4288" class="Bound">d</a> <a id="4290" href="Ledger.Conway.Specification.Utxo.html#4290" class="Bound">certs</a><a id="4295" class="Symbol">}</a>
             <a id="4310" class="Symbol">→</a> <a id="4312" class="Symbol">(</a><a id="4313" href="Ledger.Conway.Specification.Certs.html#379" class="InductiveConstructor">CredentialDeposit</a> <a id="4331" href="Ledger.Conway.Specification.Utxo.html#4283" class="Bound">c</a> <a id="4333" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4335" href="Ledger.Conway.Specification.Utxo.html#4288" class="Bound">d</a><a id="4336" class="Symbol">)</a> <a id="4338" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="4340" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a>
             <a id="4358" class="Symbol">→</a> <a id="4360" href="Ledger.Conway.Specification.Utxo.html#4285" class="Bound">md</a> <a id="4363" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4365" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4373" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="4375" href="Ledger.Conway.Specification.Utxo.html#4285" class="Bound">md</a> <a id="4378" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4380" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4385" href="Ledger.Conway.Specification.Utxo.html#4288" class="Bound">d</a>
             <a id="4400" class="Symbol">→</a> <a id="4402" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="4420" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="4423" class="Symbol">(</a><a id="4424" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="4429" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="4431" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="4433" href="Ledger.Conway.Specification.Certs.html#379" class="InductiveConstructor">CredentialDeposit</a> <a id="4451" href="Ledger.Conway.Specification.Utxo.html#4283" class="Bound">c</a> <a id="4453" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="4455" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="4456" class="Symbol">)</a> <a id="4458" href="Ledger.Conway.Specification.Utxo.html#4290" class="Bound">certs</a>
             <a id="4477" class="Symbol">→</a> <a id="4479" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="4497" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="4500" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="4505" class="Symbol">(</a><a id="4506" href="Ledger.Conway.Specification.Certs.html#1440" class="InductiveConstructor">dereg</a> <a id="4512" href="Ledger.Conway.Specification.Utxo.html#4283" class="Bound">c</a> <a id="4514" href="Ledger.Conway.Specification.Utxo.html#4285" class="Bound">md</a> <a id="4517" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4519" href="Ledger.Conway.Specification.Utxo.html#4290" class="Bound">certs</a><a id="4524" class="Symbol">)</a>
  <a id="ValidCertDeposits.deregdrep"></a><a id="4528" href="Ledger.Conway.Specification.Utxo.html#4528" class="InductiveConstructor">deregdrep</a>  <a id="4539" class="Symbol">:</a> <a id="4541" class="Symbol">∀</a> <a id="4543" class="Symbol">{</a><a id="4544" href="Ledger.Conway.Specification.Utxo.html#4544" class="Bound">c</a> <a id="4546" href="Ledger.Conway.Specification.Utxo.html#4546" class="Bound">d</a> <a id="4548" href="Ledger.Conway.Specification.Utxo.html#4548" class="Bound">certs</a><a id="4553" class="Symbol">}</a>
             <a id="4568" class="Symbol">→</a> <a id="4570" class="Symbol">(</a><a id="4571" href="Ledger.Conway.Specification.Certs.html#485" class="InductiveConstructor">DRepDeposit</a> <a id="4583" href="Ledger.Conway.Specification.Utxo.html#4544" class="Bound">c</a> <a id="4585" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4587" href="Ledger.Conway.Specification.Utxo.html#4546" class="Bound">d</a><a id="4588" class="Symbol">)</a> <a id="4590" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="4592" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a>
             <a id="4610" class="Symbol">→</a> <a id="4612" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="4630" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="4633" class="Symbol">(</a><a id="4634" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="4639" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="4641" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="4643" href="Ledger.Conway.Specification.Certs.html#485" class="InductiveConstructor">DRepDeposit</a> <a id="4655" href="Ledger.Conway.Specification.Utxo.html#4544" class="Bound">c</a> <a id="4657" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="4659" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="4660" class="Symbol">)</a> <a id="4662" href="Ledger.Conway.Specification.Utxo.html#4548" class="Bound">certs</a>
             <a id="4681" class="Symbol">→</a> <a id="4683" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="4701" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="4704" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="4709" class="Symbol">(</a><a id="4710" href="Ledger.Conway.Specification.Certs.html#1629" class="InductiveConstructor">deregdrep</a> <a id="4720" href="Ledger.Conway.Specification.Utxo.html#4544" class="Bound">c</a> <a id="4722" href="Ledger.Conway.Specification.Utxo.html#4546" class="Bound">d</a> <a id="4724" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4726" href="Ledger.Conway.Specification.Utxo.html#4548" class="Bound">certs</a><a id="4731" class="Symbol">)</a>
  <a id="ValidCertDeposits.ccreghot"></a><a id="4735" href="Ledger.Conway.Specification.Utxo.html#4735" class="InductiveConstructor">ccreghot</a>   <a id="4746" class="Symbol">:</a> <a id="4748" class="Symbol">∀</a> <a id="4750" class="Symbol">{</a><a id="4751" href="Ledger.Conway.Specification.Utxo.html#4751" class="Bound">c</a> <a id="4753" href="Ledger.Conway.Specification.Utxo.html#4753" class="Bound">v</a> <a id="4755" href="Ledger.Conway.Specification.Utxo.html#4755" class="Bound">certs</a><a id="4760" class="Symbol">}</a>
             <a id="4775" class="Symbol">→</a> <a id="4777" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="4795" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="4798" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="4803" href="Ledger.Conway.Specification.Utxo.html#4755" class="Bound">certs</a>
             <a id="4822" class="Symbol">→</a> <a id="4824" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="4842" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="4845" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="4850" class="Symbol">(</a><a id="4851" href="Ledger.Conway.Specification.Certs.html#1671" class="InductiveConstructor">ccreghot</a> <a id="4860" href="Ledger.Conway.Specification.Utxo.html#4751" class="Bound">c</a> <a id="4862" href="Ledger.Conway.Specification.Utxo.html#4753" class="Bound">v</a> <a id="4864" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4866" href="Ledger.Conway.Specification.Utxo.html#4755" class="Bound">certs</a><a id="4871" class="Symbol">)</a>
  <a id="ValidCertDeposits.retirepool"></a><a id="4875" href="Ledger.Conway.Specification.Utxo.html#4875" class="InductiveConstructor">retirepool</a> <a id="4886" class="Symbol">:</a> <a id="4888" class="Symbol">∀</a> <a id="4890" class="Symbol">{</a><a id="4891" href="Ledger.Conway.Specification.Utxo.html#4891" class="Bound">kh</a> <a id="4894" href="Ledger.Conway.Specification.Utxo.html#4894" class="Bound">e</a> <a id="4896" href="Ledger.Conway.Specification.Utxo.html#4896" class="Bound">certs</a><a id="4901" class="Symbol">}</a>
             <a id="4916" class="Symbol">→</a> <a id="4918" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="4936" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="4939" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="4944" href="Ledger.Conway.Specification.Utxo.html#4896" class="Bound">certs</a>
             <a id="4963" class="Symbol">→</a> <a id="4965" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="4983" href="Ledger.Conway.Specification.Utxo.html#3439" class="Bound">pp</a> <a id="4986" href="Ledger.Conway.Specification.Utxo.html#3454" class="Bound">deps</a> <a id="4991" class="Symbol">(</a><a id="4992" href="Ledger.Conway.Specification.Certs.html#1538" class="InductiveConstructor">retirepool</a> <a id="5003" href="Ledger.Conway.Specification.Utxo.html#4891" class="Bound">kh</a> <a id="5006" href="Ledger.Conway.Specification.Utxo.html#4894" class="Bound">e</a>  <a id="5009" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5011" href="Ledger.Conway.Specification.Utxo.html#4896" class="Bound">certs</a><a id="5016" class="Symbol">)</a>

<a id="5019" class="Keyword">private</a>
  <a id="validCertDeposits?"></a><a id="5029" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5048" class="Symbol">:</a> <a id="5050" class="Symbol">∀</a> <a id="5052" class="Symbol">{</a><a id="5053" href="Ledger.Conway.Specification.Utxo.html#5053" class="Bound">pp</a><a id="5055" class="Symbol">}</a> <a id="5057" href="Ledger.Conway.Specification.Utxo.html#5057" class="Bound">deps</a> <a id="5062" href="Ledger.Conway.Specification.Utxo.html#5062" class="Bound">certs</a> <a id="5068" class="Symbol">→</a> <a id="5070" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="5074" class="Symbol">(</a><a id="5075" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="5093" href="Ledger.Conway.Specification.Utxo.html#5053" class="Bound">pp</a> <a id="5096" href="Ledger.Conway.Specification.Utxo.html#5057" class="Bound">deps</a> <a id="5101" href="Ledger.Conway.Specification.Utxo.html#5062" class="Bound">certs</a><a id="5106" class="Symbol">)</a>
  <a id="5110" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5129" href="Ledger.Conway.Specification.Utxo.html#5129" class="Bound">deps</a> <a id="5134" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="5137" class="Symbol">=</a> <a id="5139" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="5143" href="Ledger.Conway.Specification.Utxo.html#3502" class="InductiveConstructor">[]</a>
  <a id="5148" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5167" href="Ledger.Conway.Specification.Utxo.html#5167" class="Bound">deps</a> <a id="5172" class="Symbol">(</a><a id="5173" href="Ledger.Conway.Specification.Certs.html#1367" class="InductiveConstructor">delegate</a> <a id="5182" class="Symbol">_</a> <a id="5184" class="Symbol">_</a> <a id="5186" class="Symbol">_</a> <a id="5188" class="Symbol">_</a> <a id="5190" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5192" href="Ledger.Conway.Specification.Utxo.html#5192" class="Bound">certs</a><a id="5197" class="Symbol">)</a> <a id="5199" class="Symbol">=</a>
    <a id="5205" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="5212" href="Ledger.Conway.Specification.Utxo.html#3546" class="InductiveConstructor">delegate</a> <a id="5221" class="Symbol">(λ</a> <a id="5224" class="Keyword">where</a> <a id="5230" class="Symbol">(</a><a id="5231" href="Ledger.Conway.Specification.Utxo.html#3546" class="InductiveConstructor">delegate</a> <a id="5240" href="Ledger.Conway.Specification.Utxo.html#5240" class="Bound">p</a><a id="5241" class="Symbol">)</a> <a id="5243" class="Symbol">→</a> <a id="5245" href="Ledger.Conway.Specification.Utxo.html#5240" class="Bound">p</a><a id="5246" class="Symbol">)</a> <a id="5248" class="Symbol">(</a><a id="5249" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5268" class="Symbol">_</a> <a id="5270" class="Symbol">_)</a>
  <a id="5275" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5294" href="Ledger.Conway.Specification.Utxo.html#5294" class="Bound">deps</a> <a id="5299" class="Symbol">(</a><a id="5300" href="Ledger.Conway.Specification.Certs.html#1488" class="InductiveConstructor">regpool</a> <a id="5308" class="Symbol">_</a> <a id="5310" class="Symbol">_</a> <a id="5312" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5314" href="Ledger.Conway.Specification.Utxo.html#5314" class="Bound">certs</a><a id="5319" class="Symbol">)</a> <a id="5321" class="Symbol">=</a>
    <a id="5327" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="5334" href="Ledger.Conway.Specification.Utxo.html#3733" class="InductiveConstructor">regpool</a> <a id="5342" class="Symbol">(λ</a> <a id="5345" class="Keyword">where</a> <a id="5351" class="Symbol">(</a><a id="5352" href="Ledger.Conway.Specification.Utxo.html#3733" class="InductiveConstructor">regpool</a> <a id="5360" href="Ledger.Conway.Specification.Utxo.html#5360" class="Bound">p</a><a id="5361" class="Symbol">)</a> <a id="5363" class="Symbol">→</a> <a id="5365" href="Ledger.Conway.Specification.Utxo.html#5360" class="Bound">p</a><a id="5366" class="Symbol">)</a> <a id="5368" class="Symbol">(</a><a id="5369" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5388" class="Symbol">_</a> <a id="5390" class="Symbol">_)</a>
  <a id="5395" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5414" href="Ledger.Conway.Specification.Utxo.html#5414" class="Bound">deps</a> <a id="5419" class="Symbol">(</a><a id="5420" href="Ledger.Conway.Specification.Certs.html#1578" class="InductiveConstructor">regdrep</a> <a id="5428" class="Symbol">_</a> <a id="5430" class="Symbol">_</a> <a id="5432" class="Symbol">_</a> <a id="5434" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5436" href="Ledger.Conway.Specification.Utxo.html#5436" class="Bound">certs</a><a id="5441" class="Symbol">)</a> <a id="5443" class="Symbol">=</a>
    <a id="5449" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="5456" href="Ledger.Conway.Specification.Utxo.html#3916" class="InductiveConstructor">regdrep</a> <a id="5464" class="Symbol">(λ</a> <a id="5467" class="Keyword">where</a> <a id="5473" class="Symbol">(</a><a id="5474" href="Ledger.Conway.Specification.Utxo.html#3916" class="InductiveConstructor">regdrep</a> <a id="5482" href="Ledger.Conway.Specification.Utxo.html#5482" class="Bound">p</a><a id="5483" class="Symbol">)</a> <a id="5485" class="Symbol">→</a> <a id="5487" href="Ledger.Conway.Specification.Utxo.html#5482" class="Bound">p</a><a id="5488" class="Symbol">)</a> <a id="5490" class="Symbol">(</a><a id="5491" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5510" class="Symbol">_</a> <a id="5512" class="Symbol">_)</a>
  <a id="5517" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5536" href="Ledger.Conway.Specification.Utxo.html#5536" class="Bound">deps</a> <a id="5541" class="Symbol">(</a><a id="5542" href="Ledger.Conway.Specification.Certs.html#1538" class="InductiveConstructor">retirepool</a> <a id="5553" class="Symbol">_</a> <a id="5555" class="Symbol">_</a> <a id="5557" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5559" href="Ledger.Conway.Specification.Utxo.html#5559" class="Bound">certs</a><a id="5564" class="Symbol">)</a> <a id="5566" class="Symbol">=</a>
    <a id="5572" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="5579" href="Ledger.Conway.Specification.Utxo.html#4875" class="InductiveConstructor">retirepool</a> <a id="5590" class="Symbol">(λ</a> <a id="5593" class="Keyword">where</a> <a id="5599" class="Symbol">(</a><a id="5600" href="Ledger.Conway.Specification.Utxo.html#4875" class="InductiveConstructor">retirepool</a> <a id="5611" href="Ledger.Conway.Specification.Utxo.html#5611" class="Bound">p</a><a id="5612" class="Symbol">)</a> <a id="5614" class="Symbol">→</a> <a id="5616" href="Ledger.Conway.Specification.Utxo.html#5611" class="Bound">p</a><a id="5617" class="Symbol">)</a> <a id="5619" class="Symbol">(</a><a id="5620" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5639" class="Symbol">_</a> <a id="5641" class="Symbol">_)</a>
  <a id="5646" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5665" href="Ledger.Conway.Specification.Utxo.html#5665" class="Bound">deps</a> <a id="5670" class="Symbol">(</a><a id="5671" href="Ledger.Conway.Specification.Certs.html#1671" class="InductiveConstructor">ccreghot</a> <a id="5680" class="Symbol">_</a> <a id="5682" class="Symbol">_</a> <a id="5684" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5686" href="Ledger.Conway.Specification.Utxo.html#5686" class="Bound">certs</a><a id="5691" class="Symbol">)</a> <a id="5693" class="Symbol">=</a>
    <a id="5699" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="5706" href="Ledger.Conway.Specification.Utxo.html#4735" class="InductiveConstructor">ccreghot</a> <a id="5715" class="Symbol">(λ</a> <a id="5718" class="Keyword">where</a> <a id="5724" class="Symbol">(</a><a id="5725" href="Ledger.Conway.Specification.Utxo.html#4735" class="InductiveConstructor">ccreghot</a> <a id="5734" href="Ledger.Conway.Specification.Utxo.html#5734" class="Bound">p</a><a id="5735" class="Symbol">)</a> <a id="5737" class="Symbol">→</a> <a id="5739" href="Ledger.Conway.Specification.Utxo.html#5734" class="Bound">p</a><a id="5740" class="Symbol">)</a> <a id="5742" class="Symbol">(</a><a id="5743" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5762" class="Symbol">_</a> <a id="5764" class="Symbol">_)</a>
  <a id="5769" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5788" href="Ledger.Conway.Specification.Utxo.html#5788" class="Bound">deps</a> <a id="5793" class="Symbol">(</a><a id="5794" href="Ledger.Conway.Specification.Certs.html#2058" class="InductiveConstructor">reg</a> <a id="5798" class="Symbol">_</a> <a id="5800" class="Symbol">_</a> <a id="5802" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5804" href="Ledger.Conway.Specification.Utxo.html#5804" class="Bound">certs</a><a id="5809" class="Symbol">)</a> <a id="5811" class="Symbol">=</a>
    <a id="5817" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="5824" href="Ledger.Conway.Specification.Utxo.html#4086" class="InductiveConstructor">reg</a> <a id="5828" class="Symbol">(λ</a> <a id="5831" class="Keyword">where</a> <a id="5837" class="Symbol">(</a><a id="5838" href="Ledger.Conway.Specification.Utxo.html#4086" class="InductiveConstructor">reg</a> <a id="5842" href="Ledger.Conway.Specification.Utxo.html#5842" class="Bound">p</a><a id="5843" class="Symbol">)</a> <a id="5845" class="Symbol">→</a> <a id="5847" href="Ledger.Conway.Specification.Utxo.html#5842" class="Bound">p</a><a id="5848" class="Symbol">)</a> <a id="5850" class="Symbol">(</a><a id="5851" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5870" class="Symbol">_</a> <a id="5872" class="Symbol">_)</a>
  <a id="5877" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="5896" href="Ledger.Conway.Specification.Utxo.html#5896" class="Bound">deps</a> <a id="5901" class="Symbol">(</a><a id="5902" href="Ledger.Conway.Specification.Certs.html#1440" class="InductiveConstructor">dereg</a> <a id="5908" href="Ledger.Conway.Specification.Utxo.html#5908" class="Bound">c</a> <a id="5910" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="5918" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5920" href="Ledger.Conway.Specification.Utxo.html#5920" class="Bound">certs</a><a id="5925" class="Symbol">)</a> <a id="5927" class="Keyword">with</a> <a id="5932" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="5934" href="Ledger.Conway.Specification.Certs.html#379" class="InductiveConstructor">CredentialDeposit</a> <a id="5952" href="Ledger.Conway.Specification.Utxo.html#5908" class="Bound">c</a> <a id="5954" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5956" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5960" href="Ledger.Conway.Specification.Utxo.html#5896" class="Bound">deps</a> <a id="5965" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> 
  <a id="5970" class="Symbol">...</a> <a id="5974" class="Symbol">|</a> <a id="5976" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="5980" href="Ledger.Conway.Specification.Utxo.html#5980" class="Bound">p</a> <a id="5982" class="Symbol">=</a> <a id="5984" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="5991" class="Symbol">(</a><a id="5992" href="Ledger.Conway.Specification.Utxo.html#4267" class="InductiveConstructor">dereg</a> <a id="5998" class="Symbol">(</a><a id="5999" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="6005" class="Symbol">(</a><a id="6006" href="Function.Bundles.html#4834" class="Field">Equivalence.from</a> <a id="6023" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a> <a id="6028" href="Ledger.Conway.Specification.Utxo.html#5980" class="Bound">p</a><a id="6029" class="Symbol">))</a> <a id="6032" class="Symbol">(</a><a id="6033" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6038" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6042" class="Symbol">))</a> <a id="6045" class="Symbol">(λ</a> <a id="6048" class="Symbol">{</a> <a id="6050" class="Symbol">(</a><a id="6051" href="Ledger.Conway.Specification.Utxo.html#4267" class="InductiveConstructor">dereg</a> <a id="6057" class="Symbol">_</a> <a id="6059" class="Symbol">_</a> <a id="6061" href="Ledger.Conway.Specification.Utxo.html#6061" class="Bound">p</a><a id="6062" class="Symbol">)</a> <a id="6064" class="Symbol">→</a> <a id="6066" href="Ledger.Conway.Specification.Utxo.html#6061" class="Bound">p</a> <a id="6068" class="Symbol">})</a> <a id="6071" class="Symbol">(</a><a id="6072" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="6091" class="Symbol">_</a> <a id="6093" class="Symbol">_)</a>
  <a id="6098" class="Symbol">...</a> <a id="6102" class="Symbol">|</a> <a id="6104" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6107" href="Ledger.Conway.Specification.Utxo.html#6107" class="Bound">¬p</a> <a id="6110" class="Symbol">=</a> <a id="6112" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6115" class="Symbol">λ</a> <a id="6117" class="Symbol">{</a> <a id="6119" class="Symbol">(</a><a id="6120" href="Ledger.Conway.Specification.Utxo.html#4267" class="InductiveConstructor">dereg</a> <a id="6126" href="Ledger.Conway.Specification.Utxo.html#6126" class="Bound">x</a> <a id="6128" class="Symbol">_</a> <a id="6130" class="Symbol">_)</a> <a id="6133" class="Symbol">→</a> <a id="6135" href="Ledger.Conway.Specification.Utxo.html#6107" class="Bound">¬p</a> <a id="6138" class="Symbol">(</a><a id="6139" href="Function.Bundles.html#4810" class="Field">Equivalence.to</a> <a id="6154" href="Axiom.Set.Rel.html#2472" class="Function">dom∈</a> <a id="6159" class="Symbol">(_</a> <a id="6162" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6164" href="Ledger.Conway.Specification.Utxo.html#6126" class="Bound">x</a><a id="6165" class="Symbol">))</a> <a id="6168" class="Symbol">}</a>
  <a id="6172" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="6191" href="Ledger.Conway.Specification.Utxo.html#6191" class="Bound">deps</a> <a id="6196" class="Symbol">(</a><a id="6197" href="Ledger.Conway.Specification.Certs.html#1440" class="InductiveConstructor">dereg</a> <a id="6203" href="Ledger.Conway.Specification.Utxo.html#6203" class="Bound">c</a> <a id="6205" class="Symbol">(</a><a id="6206" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6211" href="Ledger.Conway.Specification.Utxo.html#6211" class="Bound">d</a><a id="6212" class="Symbol">)</a> <a id="6214" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6216" href="Ledger.Conway.Specification.Utxo.html#6216" class="Bound">certs</a><a id="6221" class="Symbol">)</a> <a id="6223" class="Keyword">with</a> <a id="6228" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="6230" class="Symbol">(</a><a id="6231" href="Ledger.Conway.Specification.Certs.html#379" class="InductiveConstructor">CredentialDeposit</a> <a id="6249" href="Ledger.Conway.Specification.Utxo.html#6203" class="Bound">c</a> <a id="6251" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6253" href="Ledger.Conway.Specification.Utxo.html#6211" class="Bound">d</a><a id="6254" class="Symbol">)</a> <a id="6256" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6258" href="Ledger.Conway.Specification.Utxo.html#6191" class="Bound">deps</a> <a id="6263" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> 
  <a id="6268" class="Symbol">...</a> <a id="6272" class="Symbol">|</a> <a id="6274" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6278" href="Ledger.Conway.Specification.Utxo.html#6278" class="Bound">p</a> <a id="6280" class="Symbol">=</a> <a id="6282" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="6289" class="Symbol">(</a><a id="6290" href="Ledger.Conway.Specification.Utxo.html#4267" class="InductiveConstructor">dereg</a> <a id="6296" href="Ledger.Conway.Specification.Utxo.html#6278" class="Bound">p</a> <a id="6298" class="Symbol">(</a><a id="6299" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6304" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6308" class="Symbol">))</a> <a id="6311" class="Symbol">(λ</a> <a id="6314" class="Symbol">{</a> <a id="6316" class="Symbol">(</a><a id="6317" href="Ledger.Conway.Specification.Utxo.html#4267" class="InductiveConstructor">dereg</a> <a id="6323" class="Symbol">_</a> <a id="6325" class="Symbol">_</a> <a id="6327" href="Ledger.Conway.Specification.Utxo.html#6327" class="Bound">p</a><a id="6328" class="Symbol">)</a> <a id="6330" class="Symbol">→</a> <a id="6332" href="Ledger.Conway.Specification.Utxo.html#6327" class="Bound">p</a> <a id="6334" class="Symbol">})</a> <a id="6337" class="Symbol">(</a><a id="6338" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="6357" class="Symbol">_</a> <a id="6359" class="Symbol">_)</a>
  <a id="6364" class="Symbol">...</a> <a id="6368" class="Symbol">|</a> <a id="6370" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6373" href="Ledger.Conway.Specification.Utxo.html#6373" class="Bound">¬p</a> <a id="6376" class="Symbol">=</a> <a id="6378" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6381" class="Symbol">λ</a> <a id="6383" class="Symbol">{</a> <a id="6385" class="Symbol">(</a><a id="6386" href="Ledger.Conway.Specification.Utxo.html#4267" class="InductiveConstructor">dereg</a> <a id="6392" href="Ledger.Conway.Specification.Utxo.html#6392" class="Bound">x</a> <a id="6394" class="Symbol">(</a><a id="6395" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6400" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6404" class="Symbol">)</a> <a id="6406" class="Symbol">_)</a> <a id="6409" class="Symbol">→</a> <a id="6411" href="Ledger.Conway.Specification.Utxo.html#6373" class="Bound">¬p</a> <a id="6414" href="Ledger.Conway.Specification.Utxo.html#6392" class="Bound">x</a> <a id="6416" class="Symbol">}</a>
  <a id="6420" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="6439" href="Ledger.Conway.Specification.Utxo.html#6439" class="Bound">deps</a> <a id="6444" class="Symbol">(</a><a id="6445" href="Ledger.Conway.Specification.Certs.html#1629" class="InductiveConstructor">deregdrep</a> <a id="6455" href="Ledger.Conway.Specification.Utxo.html#6455" class="Bound">c</a> <a id="6457" href="Ledger.Conway.Specification.Utxo.html#6457" class="Bound">d</a> <a id="6459" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6461" href="Ledger.Conway.Specification.Utxo.html#6461" class="Bound">certs</a><a id="6466" class="Symbol">)</a> <a id="6468" class="Keyword">with</a> <a id="6473" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a> <a id="6475" class="Symbol">(</a><a id="6476" href="Ledger.Conway.Specification.Certs.html#485" class="InductiveConstructor">DRepDeposit</a> <a id="6488" href="Ledger.Conway.Specification.Utxo.html#6455" class="Bound">c</a> <a id="6490" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6492" href="Ledger.Conway.Specification.Utxo.html#6457" class="Bound">d</a><a id="6493" class="Symbol">)</a> <a id="6495" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6497" href="Ledger.Conway.Specification.Utxo.html#6439" class="Bound">deps</a> <a id="6502" href="Class.Decidable.Core.html#461" class="Function Operator">¿</a>
  <a id="6506" class="Symbol">...</a> <a id="6510" class="Symbol">|</a> <a id="6512" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6516" href="Ledger.Conway.Specification.Utxo.html#6516" class="Bound">p</a> <a id="6518" class="Symbol">=</a> <a id="6520" href="Relation.Nullary.Decidable.Core.html#5914" class="Function">mapDec</a> <a id="6527" class="Symbol">(</a><a id="6528" href="Ledger.Conway.Specification.Utxo.html#4528" class="InductiveConstructor">deregdrep</a> <a id="6538" href="Ledger.Conway.Specification.Utxo.html#6516" class="Bound">p</a><a id="6539" class="Symbol">)</a>  <a id="6542" class="Symbol">(λ</a> <a id="6545" class="Keyword">where</a> <a id="6551" class="Symbol">(</a><a id="6552" href="Ledger.Conway.Specification.Utxo.html#4528" class="InductiveConstructor">deregdrep</a> <a id="6562" class="Symbol">_</a> <a id="6564" href="Ledger.Conway.Specification.Utxo.html#6564" class="Bound">v</a><a id="6565" class="Symbol">)</a> <a id="6567" class="Symbol">→</a> <a id="6569" href="Ledger.Conway.Specification.Utxo.html#6564" class="Bound">v</a><a id="6570" class="Symbol">)</a> <a id="6572" class="Symbol">(</a><a id="6573" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="6592" class="Symbol">_</a> <a id="6594" class="Symbol">_)</a>
  <a id="6599" class="Symbol">...</a> <a id="6603" class="Symbol">|</a> <a id="6605" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6608" href="Ledger.Conway.Specification.Utxo.html#6608" class="Bound">¬p</a> <a id="6611" class="Symbol">=</a> <a id="6613" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="6616" class="Symbol">(λ</a> <a id="6619" class="Keyword">where</a> <a id="6625" class="Symbol">(</a><a id="6626" href="Ledger.Conway.Specification.Utxo.html#4528" class="InductiveConstructor">deregdrep</a> <a id="6636" href="Ledger.Conway.Specification.Utxo.html#6636" class="Bound">p</a> <a id="6638" class="Symbol">_)</a> <a id="6641" class="Symbol">→</a> <a id="6643" href="Ledger.Conway.Specification.Utxo.html#6608" class="Bound">¬p</a> <a id="6646" href="Ledger.Conway.Specification.Utxo.html#6636" class="Bound">p</a><a id="6647" class="Symbol">)</a>

<a id="6650" class="Keyword">instance</a>
  <a id="Dec-ValidCertDeposits"></a><a id="6661" href="Ledger.Conway.Specification.Utxo.html#6661" class="Function">Dec-ValidCertDeposits</a> <a id="6683" class="Symbol">:</a> <a id="6685" class="Symbol">∀</a> <a id="6687" class="Symbol">{</a><a id="6688" href="Ledger.Conway.Specification.Utxo.html#6688" class="Bound">pp</a> <a id="6691" href="Ledger.Conway.Specification.Utxo.html#6691" class="Bound">deps</a> <a id="6696" href="Ledger.Conway.Specification.Utxo.html#6696" class="Bound">certs</a><a id="6701" class="Symbol">}</a> <a id="6703" class="Symbol">→</a> <a id="6705" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="6723" href="Ledger.Conway.Specification.Utxo.html#6688" class="Bound">pp</a> <a id="6726" href="Ledger.Conway.Specification.Utxo.html#6691" class="Bound">deps</a> <a id="6731" href="Ledger.Conway.Specification.Utxo.html#6696" class="Bound">certs</a> <a id="6737" href="Class.Decidable.Core.html#208" class="Record Operator">⁇</a>
  <a id="6741" href="Ledger.Conway.Specification.Utxo.html#6661" class="Function">Dec-ValidCertDeposits</a> <a id="6763" class="Symbol">=</a> <a id="6765" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="6767" class="Symbol">(</a><a id="6768" href="Ledger.Conway.Specification.Utxo.html#5029" class="Function">validCertDeposits?</a> <a id="6787" class="Symbol">_</a> <a id="6789" class="Symbol">_)</a>


<a id="updateCertDeposits"></a><a id="6794" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a>  <a id="6814" class="Symbol">:</a> <a id="6816" href="Ledger.Conway.Specification.PParams.html#1728" class="Record">PParams</a> <a id="6824" class="Symbol">→</a> <a id="6826" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6831" href="Ledger.Conway.Specification.Certs.html#1346" class="Datatype">DCert</a> <a id="6837" class="Symbol">→</a> <a id="6839" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a> <a id="6848" class="Symbol">→</a> <a id="6850" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a>
<a id="6859" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="6878" href="Ledger.Conway.Specification.Utxo.html#6878" class="Bound">pp</a> <a id="6881" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="6884" href="Ledger.Conway.Specification.Utxo.html#6884" class="Bound">deposits</a> <a id="6893" class="Symbol">=</a> <a id="6895" href="Ledger.Conway.Specification.Utxo.html#6884" class="Bound">deposits</a>


<a id="6906" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="6925" href="Ledger.Conway.Specification.Utxo.html#6925" class="Bound">pp</a> <a id="6928" class="Symbol">(</a><a id="6929" href="Ledger.Conway.Specification.Certs.html#2058" class="InductiveConstructor">reg</a> <a id="6933" href="Ledger.Conway.Specification.Utxo.html#6933" class="Bound">c</a> <a id="6935" href="Ledger.Conway.Specification.Utxo.html#6935" class="Bound">v</a> <a id="6937" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6939" href="Ledger.Conway.Specification.Utxo.html#6939" class="Bound">certs</a><a id="6944" class="Symbol">)</a> <a id="6946" href="Ledger.Conway.Specification.Utxo.html#6946" class="Bound">deposits</a>
  <a id="6957" class="Symbol">=</a> <a id="6959" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="6978" href="Ledger.Conway.Specification.Utxo.html#6925" class="Bound">pp</a> <a id="6981" href="Ledger.Conway.Specification.Utxo.html#6939" class="Bound">certs</a> <a id="6987" class="Symbol">(</a><a id="6988" href="Ledger.Conway.Specification.Utxo.html#6946" class="Bound">deposits</a> <a id="6997" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="7000" href="Ledger.Conway.Specification.Utxo.html#2885" class="Function">certDeposit</a> <a id="7012" class="Symbol">(</a><a id="7013" href="Ledger.Conway.Specification.Certs.html#2058" class="InductiveConstructor">reg</a> <a id="7017" href="Ledger.Conway.Specification.Utxo.html#6933" class="Bound">c</a> <a id="7019" href="Ledger.Conway.Specification.Utxo.html#6935" class="Bound">v</a><a id="7020" class="Symbol">)</a> <a id="7022" href="Ledger.Conway.Specification.Utxo.html#6925" class="Bound">pp</a><a id="7024" class="Symbol">)</a>


<a id="7028" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="7047" href="Ledger.Conway.Specification.Utxo.html#7047" class="Bound">pp</a> <a id="7050" class="Symbol">(</a><a id="7051" href="Ledger.Conway.Specification.Certs.html#1367" class="InductiveConstructor">delegate</a> <a id="7060" href="Ledger.Conway.Specification.Utxo.html#7060" class="Bound">c</a> <a id="7062" href="Ledger.Conway.Specification.Utxo.html#7062" class="Bound">vd</a> <a id="7065" href="Ledger.Conway.Specification.Utxo.html#7065" class="Bound">khs</a> <a id="7069" href="Ledger.Conway.Specification.Utxo.html#7069" class="Bound">v</a> <a id="7071" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7073" href="Ledger.Conway.Specification.Utxo.html#7073" class="Bound">certs</a><a id="7078" class="Symbol">)</a> <a id="7080" href="Ledger.Conway.Specification.Utxo.html#7080" class="Bound">deposits</a>
  <a id="7091" class="Symbol">=</a> <a id="7093" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="7112" href="Ledger.Conway.Specification.Utxo.html#7047" class="Bound">pp</a> <a id="7115" href="Ledger.Conway.Specification.Utxo.html#7073" class="Bound">certs</a> <a id="7121" class="Symbol">(</a><a id="7122" href="Ledger.Conway.Specification.Utxo.html#7080" class="Bound">deposits</a> <a id="7131" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="7134" href="Ledger.Conway.Specification.Utxo.html#2885" class="Function">certDeposit</a> <a id="7146" class="Symbol">(</a><a id="7147" href="Ledger.Conway.Specification.Certs.html#1367" class="InductiveConstructor">delegate</a> <a id="7156" href="Ledger.Conway.Specification.Utxo.html#7060" class="Bound">c</a> <a id="7158" href="Ledger.Conway.Specification.Utxo.html#7062" class="Bound">vd</a> <a id="7161" href="Ledger.Conway.Specification.Utxo.html#7065" class="Bound">khs</a> <a id="7165" href="Ledger.Conway.Specification.Utxo.html#7069" class="Bound">v</a><a id="7166" class="Symbol">)</a> <a id="7168" href="Ledger.Conway.Specification.Utxo.html#7047" class="Bound">pp</a><a id="7170" class="Symbol">)</a>
<a id="7172" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="7191" href="Ledger.Conway.Specification.Utxo.html#7191" class="Bound">pp</a> <a id="7194" class="Symbol">(</a><a id="7195" href="Ledger.Conway.Specification.Certs.html#1488" class="InductiveConstructor">regpool</a> <a id="7203" href="Ledger.Conway.Specification.Utxo.html#7203" class="Bound">kh</a> <a id="7206" href="Ledger.Conway.Specification.Utxo.html#7206" class="Bound">p</a> <a id="7208" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7210" href="Ledger.Conway.Specification.Utxo.html#7210" class="Bound">certs</a><a id="7215" class="Symbol">)</a> <a id="7217" href="Ledger.Conway.Specification.Utxo.html#7217" class="Bound">deposits</a>
  <a id="7228" class="Symbol">=</a> <a id="7230" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="7249" href="Ledger.Conway.Specification.Utxo.html#7191" class="Bound">pp</a> <a id="7252" href="Ledger.Conway.Specification.Utxo.html#7210" class="Bound">certs</a> <a id="7258" class="Symbol">(</a><a id="7259" href="Ledger.Conway.Specification.Utxo.html#7217" class="Bound">deposits</a> <a id="7268" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="7271" href="Ledger.Conway.Specification.Utxo.html#2885" class="Function">certDeposit</a> <a id="7283" class="Symbol">(</a><a id="7284" href="Ledger.Conway.Specification.Certs.html#1488" class="InductiveConstructor">regpool</a> <a id="7292" href="Ledger.Conway.Specification.Utxo.html#7203" class="Bound">kh</a> <a id="7295" href="Ledger.Conway.Specification.Utxo.html#7206" class="Bound">p</a><a id="7296" class="Symbol">)</a> <a id="7298" href="Ledger.Conway.Specification.Utxo.html#7191" class="Bound">pp</a><a id="7300" class="Symbol">)</a>
<a id="7302" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="7321" href="Ledger.Conway.Specification.Utxo.html#7321" class="Bound">pp</a> <a id="7324" class="Symbol">(</a><a id="7325" href="Ledger.Conway.Specification.Certs.html#1578" class="InductiveConstructor">regdrep</a> <a id="7333" href="Ledger.Conway.Specification.Utxo.html#7333" class="Bound">c</a> <a id="7335" href="Ledger.Conway.Specification.Utxo.html#7335" class="Bound">v</a> <a id="7337" href="Ledger.Conway.Specification.Utxo.html#7337" class="Bound">a</a> <a id="7339" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7341" href="Ledger.Conway.Specification.Utxo.html#7341" class="Bound">certs</a><a id="7346" class="Symbol">)</a> <a id="7348" href="Ledger.Conway.Specification.Utxo.html#7348" class="Bound">deposits</a>
  <a id="7359" class="Symbol">=</a> <a id="7361" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="7380" href="Ledger.Conway.Specification.Utxo.html#7321" class="Bound">pp</a> <a id="7383" href="Ledger.Conway.Specification.Utxo.html#7341" class="Bound">certs</a> <a id="7389" class="Symbol">(</a><a id="7390" href="Ledger.Conway.Specification.Utxo.html#7348" class="Bound">deposits</a> <a id="7399" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="7402" href="Ledger.Conway.Specification.Utxo.html#2885" class="Function">certDeposit</a> <a id="7414" class="Symbol">(</a><a id="7415" href="Ledger.Conway.Specification.Certs.html#1578" class="InductiveConstructor">regdrep</a> <a id="7423" href="Ledger.Conway.Specification.Utxo.html#7333" class="Bound">c</a> <a id="7425" href="Ledger.Conway.Specification.Utxo.html#7335" class="Bound">v</a> <a id="7427" href="Ledger.Conway.Specification.Utxo.html#7337" class="Bound">a</a><a id="7428" class="Symbol">)</a> <a id="7430" href="Ledger.Conway.Specification.Utxo.html#7321" class="Bound">pp</a><a id="7432" class="Symbol">)</a>
<a id="7434" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="7453" href="Ledger.Conway.Specification.Utxo.html#7453" class="Bound">pp</a> <a id="7456" class="Symbol">(</a><a id="7457" href="Ledger.Conway.Specification.Certs.html#1440" class="InductiveConstructor">dereg</a> <a id="7463" href="Ledger.Conway.Specification.Utxo.html#7463" class="Bound">c</a> <a id="7465" href="Ledger.Conway.Specification.Utxo.html#7465" class="Bound">v</a> <a id="7467" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7469" href="Ledger.Conway.Specification.Utxo.html#7469" class="Bound">certs</a><a id="7474" class="Symbol">)</a> <a id="7476" href="Ledger.Conway.Specification.Utxo.html#7476" class="Bound">deposits</a>
  <a id="7487" class="Symbol">=</a> <a id="7489" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="7508" href="Ledger.Conway.Specification.Utxo.html#7453" class="Bound">pp</a> <a id="7511" href="Ledger.Conway.Specification.Utxo.html#7469" class="Bound">certs</a> <a id="7517" class="Symbol">(</a><a id="7518" href="Ledger.Conway.Specification.Utxo.html#7476" class="Bound">deposits</a> <a id="7527" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="7529" href="Ledger.Conway.Specification.Utxo.html#3242" class="Function">certRefund</a> <a id="7540" class="Symbol">(</a><a id="7541" href="Ledger.Conway.Specification.Certs.html#1440" class="InductiveConstructor">dereg</a> <a id="7547" href="Ledger.Conway.Specification.Utxo.html#7463" class="Bound">c</a> <a id="7549" href="Ledger.Conway.Specification.Utxo.html#7465" class="Bound">v</a><a id="7550" class="Symbol">)</a><a id="7551" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="7552" class="Symbol">)</a>
<a id="7554" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="7573" href="Ledger.Conway.Specification.Utxo.html#7573" class="Bound">pp</a> <a id="7576" class="Symbol">(</a><a id="7577" href="Ledger.Conway.Specification.Certs.html#1629" class="InductiveConstructor">deregdrep</a> <a id="7587" href="Ledger.Conway.Specification.Utxo.html#7587" class="Bound">c</a> <a id="7589" href="Ledger.Conway.Specification.Utxo.html#7589" class="Bound">v</a> <a id="7591" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7593" href="Ledger.Conway.Specification.Utxo.html#7593" class="Bound">certs</a><a id="7598" class="Symbol">)</a> <a id="7600" href="Ledger.Conway.Specification.Utxo.html#7600" class="Bound">deposits</a>
  <a id="7611" class="Symbol">=</a> <a id="7613" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="7632" href="Ledger.Conway.Specification.Utxo.html#7573" class="Bound">pp</a> <a id="7635" href="Ledger.Conway.Specification.Utxo.html#7593" class="Bound">certs</a> <a id="7641" class="Symbol">(</a><a id="7642" href="Ledger.Conway.Specification.Utxo.html#7600" class="Bound">deposits</a> <a id="7651" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="7653" href="Ledger.Conway.Specification.Utxo.html#3242" class="Function">certRefund</a> <a id="7664" class="Symbol">(</a><a id="7665" href="Ledger.Conway.Specification.Certs.html#1629" class="InductiveConstructor">deregdrep</a> <a id="7675" href="Ledger.Conway.Specification.Utxo.html#7587" class="Bound">c</a> <a id="7677" href="Ledger.Conway.Specification.Utxo.html#7589" class="Bound">v</a><a id="7678" class="Symbol">)</a><a id="7679" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="7680" class="Symbol">)</a>
<a id="7682" href="Ledger.Conway.Specification.Utxo.html#6794" class="CatchallClause Function">updateCertDeposits</a><a id="7700" class="CatchallClause"> </a><a id="7701" href="Ledger.Conway.Specification.Utxo.html#7701" class="CatchallClause Bound">pp</a><a id="7703" class="CatchallClause"> </a><a id="7704" class="CatchallClause Symbol">(_</a><a id="7706" class="CatchallClause"> </a><a id="7707" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="7708" class="CatchallClause"> </a><a id="7709" href="Ledger.Conway.Specification.Utxo.html#7709" class="CatchallClause Bound">certs</a><a id="7714" class="CatchallClause Symbol">)</a><a id="7715" class="CatchallClause"> </a><a id="7716" href="Ledger.Conway.Specification.Utxo.html#7716" class="CatchallClause Bound">deposits</a>
  <a id="7727" class="Symbol">=</a> <a id="7729" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="7748" href="Ledger.Conway.Specification.Utxo.html#7701" class="Bound">pp</a> <a id="7751" href="Ledger.Conway.Specification.Utxo.html#7709" class="Bound">certs</a> <a id="7757" href="Ledger.Conway.Specification.Utxo.html#7716" class="Bound">deposits</a>

<a id="updateProposalDeposits"></a><a id="7767" href="Ledger.Conway.Specification.Utxo.html#7767" class="Function">updateProposalDeposits</a> <a id="7790" class="Symbol">:</a> <a id="7792" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7797" href="Ledger.Conway.Specification.Gov.Actions.html#2518" class="Record">GovProposal</a> <a id="7809" class="Symbol">→</a> <a id="7811" href="Ledger.Conway.Specification.Transaction.html#1052" class="Field">TxId</a> <a id="7816" class="Symbol">→</a> <a id="7818" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a> <a id="7823" class="Symbol">→</a> <a id="7825" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a> <a id="7834" class="Symbol">→</a> <a id="7836" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a>
<a id="7845" href="Ledger.Conway.Specification.Utxo.html#7767" class="Function">updateProposalDeposits</a> <a id="7868" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>        <a id="7878" class="Symbol">_</a>     <a id="7884" class="Symbol">_</a>      <a id="7891" href="Ledger.Conway.Specification.Utxo.html#7891" class="Bound">deposits</a>  <a id="7901" class="Symbol">=</a> <a id="7903" href="Ledger.Conway.Specification.Utxo.html#7891" class="Bound">deposits</a>
<a id="7912" href="Ledger.Conway.Specification.Utxo.html#7767" class="Function">updateProposalDeposits</a> <a id="7935" class="Symbol">(_</a> <a id="7938" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7940" href="Ledger.Conway.Specification.Utxo.html#7940" class="Bound">ps</a><a id="7942" class="Symbol">)</a>  <a id="7945" href="Ledger.Conway.Specification.Utxo.html#7945" class="Bound">txid</a>  <a id="7951" href="Ledger.Conway.Specification.Utxo.html#7951" class="Bound">gaDep</a>  <a id="7958" href="Ledger.Conway.Specification.Utxo.html#7958" class="Bound">deposits</a>  <a id="7968" class="Symbol">=</a>
  <a id="7972" href="Ledger.Conway.Specification.Utxo.html#7767" class="Function">updateProposalDeposits</a> <a id="7995" href="Ledger.Conway.Specification.Utxo.html#7940" class="Bound">ps</a> <a id="7998" href="Ledger.Conway.Specification.Utxo.html#7945" class="Bound">txid</a> <a id="8003" href="Ledger.Conway.Specification.Utxo.html#7951" class="Bound">gaDep</a> <a id="8009" href="Ledger.Conway.Specification.Utxo.html#7958" class="Bound">deposits</a>
  <a id="8020" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="8023" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8025" href="Ledger.Conway.Specification.Certs.html#538" class="InductiveConstructor">GovActionDeposit</a> <a id="8042" class="Symbol">(</a><a id="8043" href="Ledger.Conway.Specification.Utxo.html#7945" class="Bound">txid</a> <a id="8048" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8050" href="Data.List.Base.html#5044" class="Function">length</a> <a id="8057" href="Ledger.Conway.Specification.Utxo.html#7940" class="Bound">ps</a><a id="8059" class="Symbol">)</a> <a id="8061" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8063" href="Ledger.Conway.Specification.Utxo.html#7951" class="Bound">gaDep</a> <a id="8069" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>

<a id="updateDeposits"></a><a id="8072" href="Ledger.Conway.Specification.Utxo.html#8072" class="Function">updateDeposits</a> <a id="8087" class="Symbol">:</a> <a id="8089" href="Ledger.Conway.Specification.PParams.html#1728" class="Record">PParams</a> <a id="8097" class="Symbol">→</a> <a id="8099" href="Ledger.Conway.Specification.Transaction.html#2987" class="Record">TxBody</a> <a id="8106" class="Symbol">→</a> <a id="8108" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a> <a id="8117" class="Symbol">→</a> <a id="8119" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a>
<a id="8128" href="Ledger.Conway.Specification.Utxo.html#8072" class="Function">updateDeposits</a> <a id="8143" href="Ledger.Conway.Specification.Utxo.html#8143" class="Bound">pp</a> <a id="8146" href="Ledger.Conway.Specification.Utxo.html#8146" class="Bound">txb</a> <a id="8150" class="Symbol">=</a> <a id="8152" href="Ledger.Conway.Specification.Utxo.html#6794" class="Function">updateCertDeposits</a> <a id="8171" href="Ledger.Conway.Specification.Utxo.html#8143" class="Bound">pp</a> <a id="8174" href="Ledger.Conway.Specification.Transaction.html#3221" class="Field">txcerts</a>
                        <a id="8206" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="8208" href="Ledger.Conway.Specification.Utxo.html#7767" class="Function">updateProposalDeposits</a> <a id="8231" href="Ledger.Conway.Specification.Transaction.html#3319" class="Field">txprop</a> <a id="8238" href="Ledger.Conway.Specification.Transaction.html#3530" class="Field">txid</a> <a id="8243" class="Symbol">(</a><a id="8244" href="Ledger.Conway.Specification.Utxo.html#8143" class="Bound">pp</a> <a id="8247" class="Symbol">.</a><a id="8248" href="Ledger.Conway.Specification.PParams.html#3395" class="Field">govActionDeposit</a><a id="8264" class="Symbol">)</a>


  <a id="8270" class="Keyword">where</a> <a id="8276" class="Keyword">open</a> <a id="8281" href="Ledger.Conway.Specification.Transaction.html#2987" class="Module">TxBody</a> <a id="8288" href="Ledger.Conway.Specification.Utxo.html#8146" class="Bound">txb</a>

<a id="proposalDepositsΔ"></a><a id="8293" href="Ledger.Conway.Specification.Utxo.html#8293" class="Function">proposalDepositsΔ</a> <a id="8311" class="Symbol">:</a> <a id="8313" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8318" href="Ledger.Conway.Specification.Gov.Actions.html#2518" class="Record">GovProposal</a> <a id="8330" class="Symbol">→</a> <a id="8332" href="Ledger.Conway.Specification.PParams.html#1728" class="Record">PParams</a> <a id="8340" class="Symbol">→</a> <a id="8342" href="Ledger.Conway.Specification.Transaction.html#2987" class="Record">TxBody</a> <a id="8349" class="Symbol">→</a> <a id="8351" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a>
<a id="8360" href="Ledger.Conway.Specification.Utxo.html#8293" class="Function">proposalDepositsΔ</a> <a id="8378" href="Ledger.Conway.Specification.Utxo.html#8378" class="Bound">props</a> <a id="8384" href="Ledger.Conway.Specification.Utxo.html#8384" class="Bound">pp</a> <a id="8387" href="Ledger.Conway.Specification.Utxo.html#8387" class="Bound">txb</a> <a id="8391" class="Symbol">=</a> <a id="8393" href="Ledger.Conway.Specification.Utxo.html#7767" class="Function">updateProposalDeposits</a> <a id="8416" href="Ledger.Conway.Specification.Utxo.html#8378" class="Bound">props</a> <a id="8422" href="Ledger.Conway.Specification.Transaction.html#3530" class="Field">txid</a> <a id="8427" class="Symbol">(</a><a id="8428" href="Ledger.Conway.Specification.Utxo.html#8384" class="Bound">pp</a> <a id="8431" class="Symbol">.</a><a id="8432" href="Ledger.Conway.Specification.PParams.html#3395" class="Field">govActionDeposit</a><a id="8448" class="Symbol">)</a> <a id="8450" href="Class.HasEmptySet.html#287" class="Field">∅</a>
  <a id="8454" class="Keyword">where</a> <a id="8460" class="Keyword">open</a> <a id="8465" href="Ledger.Conway.Specification.Transaction.html#2987" class="Module">TxBody</a> <a id="8472" href="Ledger.Conway.Specification.Utxo.html#8387" class="Bound">txb</a>



<a id="depositsChange"></a><a id="8479" href="Ledger.Conway.Specification.Utxo.html#8479" class="Function">depositsChange</a> <a id="8494" class="Symbol">:</a> <a id="8496" href="Ledger.Conway.Specification.PParams.html#1728" class="Record">PParams</a> <a id="8504" class="Symbol">→</a> <a id="8506" href="Ledger.Conway.Specification.Transaction.html#2987" class="Record">TxBody</a> <a id="8513" class="Symbol">→</a> <a id="8515" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a> <a id="8524" class="Symbol">→</a> <a id="8526" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
<a id="8528" href="Ledger.Conway.Specification.Utxo.html#8479" class="Function">depositsChange</a> <a id="8543" href="Ledger.Conway.Specification.Utxo.html#8543" class="Bound">pp</a> <a id="8546" href="Ledger.Conway.Specification.Utxo.html#8546" class="Bound">txb</a> <a id="8550" href="Ledger.Conway.Specification.Utxo.html#8550" class="Bound">deposits</a> <a id="8559" class="Symbol">=</a>
  <a id="8563" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="8571" class="Symbol">(</a><a id="8572" href="Ledger.Conway.Specification.Utxo.html#8072" class="Function">updateDeposits</a> <a id="8587" href="Ledger.Conway.Specification.Utxo.html#8543" class="Bound">pp</a> <a id="8590" href="Ledger.Conway.Specification.Utxo.html#8546" class="Bound">txb</a> <a id="8594" href="Ledger.Conway.Specification.Utxo.html#8550" class="Bound">deposits</a><a id="8602" class="Symbol">)</a> <a id="8604" href="Interface.HasSubtract.html#209" class="Field Operator">-</a> <a id="8606" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="8614" href="Ledger.Conway.Specification.Utxo.html#8550" class="Bound">deposits</a>


<a id="8625" class="Keyword">data</a> <a id="inInterval"></a><a id="8630" href="Ledger.Conway.Specification.Utxo.html#8630" class="Datatype">inInterval</a> <a id="8641" class="Symbol">(</a><a id="8642" href="Ledger.Conway.Specification.Utxo.html#8642" class="Bound">slot</a> <a id="8647" class="Symbol">:</a> <a id="8649" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a><a id="8653" class="Symbol">)</a> <a id="8655" class="Symbol">:</a> <a id="8657" class="Symbol">(</a><a id="8658" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8664" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a> <a id="8669" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8671" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8677" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a><a id="8681" class="Symbol">)</a> <a id="8683" class="Symbol">→</a> <a id="8685" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8690" class="Keyword">where</a>
  <a id="inInterval.both"></a><a id="8698" href="Ledger.Conway.Specification.Utxo.html#8698" class="InductiveConstructor">both</a>   <a id="8705" class="Symbol">:</a> <a id="8707" class="Symbol">∀</a> <a id="8709" class="Symbol">{</a><a id="8710" href="Ledger.Conway.Specification.Utxo.html#8710" class="Bound">l</a> <a id="8712" href="Ledger.Conway.Specification.Utxo.html#8712" class="Bound">r</a><a id="8713" class="Symbol">}</a>  <a id="8716" class="Symbol">→</a> <a id="8718" href="Ledger.Conway.Specification.Utxo.html#8710" class="Bound">l</a> <a id="8720" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="8722" href="Ledger.Conway.Specification.Utxo.html#8642" class="Bound">slot</a> <a id="8727" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8729" href="Ledger.Conway.Specification.Utxo.html#8642" class="Bound">slot</a> <a id="8734" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="8736" href="Ledger.Conway.Specification.Utxo.html#8712" class="Bound">r</a>  <a id="8739" class="Symbol">→</a>  <a id="8742" href="Ledger.Conway.Specification.Utxo.html#8630" class="Datatype">inInterval</a> <a id="8753" href="Ledger.Conway.Specification.Utxo.html#8642" class="Bound">slot</a> <a id="8758" class="Symbol">(</a><a id="8759" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8764" href="Ledger.Conway.Specification.Utxo.html#8710" class="Bound">l</a>   <a id="8768" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8770" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8775" href="Ledger.Conway.Specification.Utxo.html#8712" class="Bound">r</a><a id="8776" class="Symbol">)</a>
  <a id="inInterval.lower"></a><a id="8780" href="Ledger.Conway.Specification.Utxo.html#8780" class="InductiveConstructor">lower</a>  <a id="8787" class="Symbol">:</a> <a id="8789" class="Symbol">∀</a> <a id="8791" class="Symbol">{</a><a id="8792" href="Ledger.Conway.Specification.Utxo.html#8792" class="Bound">l</a><a id="8793" class="Symbol">}</a>    <a id="8798" class="Symbol">→</a> <a id="8800" href="Ledger.Conway.Specification.Utxo.html#8792" class="Bound">l</a> <a id="8802" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="8804" href="Ledger.Conway.Specification.Utxo.html#8642" class="Bound">slot</a>             <a id="8821" class="Symbol">→</a>  <a id="8824" href="Ledger.Conway.Specification.Utxo.html#8630" class="Datatype">inInterval</a> <a id="8835" href="Ledger.Conway.Specification.Utxo.html#8642" class="Bound">slot</a> <a id="8840" class="Symbol">(</a><a id="8841" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8846" href="Ledger.Conway.Specification.Utxo.html#8792" class="Bound">l</a>   <a id="8850" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8852" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="8859" class="Symbol">)</a>
  <a id="inInterval.upper"></a><a id="8863" href="Ledger.Conway.Specification.Utxo.html#8863" class="InductiveConstructor">upper</a>  <a id="8870" class="Symbol">:</a> <a id="8872" class="Symbol">∀</a> <a id="8874" class="Symbol">{</a><a id="8875" href="Ledger.Conway.Specification.Utxo.html#8875" class="Bound">r</a><a id="8876" class="Symbol">}</a>    <a id="8881" class="Symbol">→</a> <a id="8883" href="Ledger.Conway.Specification.Utxo.html#8642" class="Bound">slot</a> <a id="8888" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="8890" href="Ledger.Conway.Specification.Utxo.html#8875" class="Bound">r</a>             <a id="8904" class="Symbol">→</a>  <a id="8907" href="Ledger.Conway.Specification.Utxo.html#8630" class="Datatype">inInterval</a> <a id="8918" href="Ledger.Conway.Specification.Utxo.html#8642" class="Bound">slot</a> <a id="8923" class="Symbol">(</a><a id="8924" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="8933" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8935" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8940" href="Ledger.Conway.Specification.Utxo.html#8875" class="Bound">r</a><a id="8941" class="Symbol">)</a>
  <a id="inInterval.none"></a><a id="8945" href="Ledger.Conway.Specification.Utxo.html#8945" class="InductiveConstructor">none</a>   <a id="8952" class="Symbol">:</a>                                    <a id="8989" href="Ledger.Conway.Specification.Utxo.html#8630" class="Datatype">inInterval</a> <a id="9000" href="Ledger.Conway.Specification.Utxo.html#8642" class="Bound">slot</a> <a id="9005" class="Symbol">(</a><a id="9006" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="9015" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9017" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="9024" class="Symbol">)</a>


<a id="9028" class="Comment">-- Note: inInterval has to be a type definition for inference to work</a>
<a id="9098" class="Keyword">instance</a>
  <a id="Dec-inInterval"></a><a id="9109" href="Ledger.Conway.Specification.Utxo.html#9109" class="Function">Dec-inInterval</a> <a id="9124" class="Symbol">:</a> <a id="9126" href="Ledger.Conway.Specification.Utxo.html#8630" class="Datatype">inInterval</a> <a id="9137" href="Class.Decidable.Core.html#773" class="Function Operator">⁇²</a>
  <a id="9142" href="Ledger.Conway.Specification.Utxo.html#9109" class="Function">Dec-inInterval</a> <a id="9157" class="Symbol">{</a><a id="9158" href="Ledger.Conway.Specification.Utxo.html#9158" class="Bound">slot</a><a id="9162" class="Symbol">}</a> <a id="9164" class="Symbol">{</a><a id="9165" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9170" href="Ledger.Conway.Specification.Utxo.html#9170" class="Bound">x</a>  <a id="9173" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9175" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9180" href="Ledger.Conway.Specification.Utxo.html#9180" class="Bound">y</a> <a id="9182" class="Symbol">}</a> <a id="9184" class="Symbol">.</a><a id="9185" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="9189" class="Keyword">with</a> <a id="9194" href="Ledger.Conway.Specification.Utxo.html#9170" class="Bound">x</a> <a id="9196" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="9199" href="Ledger.Conway.Specification.Utxo.html#9158" class="Bound">slot</a> <a id="9204" class="Symbol">|</a> <a id="9206" href="Ledger.Conway.Specification.Utxo.html#9158" class="Bound">slot</a> <a id="9211" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="9214" href="Ledger.Conway.Specification.Utxo.html#9180" class="Bound">y</a>
  <a id="9218" class="Symbol">...</a> <a id="9222" class="Symbol">|</a> <a id="9224" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="9227" href="Ledger.Conway.Specification.Utxo.html#9227" class="Bound">¬p₁</a> <a id="9231" class="Symbol">|</a> <a id="9233" class="Symbol">_</a>      <a id="9240" class="Symbol">=</a> <a id="9242" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="9245" class="Symbol">λ</a> <a id="9247" class="Keyword">where</a> <a id="9253" class="Symbol">(</a><a id="9254" href="Ledger.Conway.Specification.Utxo.html#8698" class="InductiveConstructor">both</a> <a id="9259" class="Symbol">(</a><a id="9260" href="Ledger.Conway.Specification.Utxo.html#9260" class="Bound">h₁</a> <a id="9263" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9265" href="Ledger.Conway.Specification.Utxo.html#9265" class="Bound">h₂</a><a id="9267" class="Symbol">))</a> <a id="9270" class="Symbol">→</a> <a id="9272" href="Ledger.Conway.Specification.Utxo.html#9227" class="Bound">¬p₁</a> <a id="9276" href="Ledger.Conway.Specification.Utxo.html#9260" class="Bound">h₁</a>
  <a id="9281" class="Symbol">...</a> <a id="9285" class="Symbol">|</a> <a id="9287" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="9291" href="Ledger.Conway.Specification.Utxo.html#9291" class="Bound">p₁</a> <a id="9294" class="Symbol">|</a> <a id="9296" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="9299" href="Ledger.Conway.Specification.Utxo.html#9299" class="Bound">¬p₂</a> <a id="9303" class="Symbol">=</a> <a id="9305" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="9308" class="Symbol">λ</a> <a id="9310" class="Keyword">where</a> <a id="9316" class="Symbol">(</a><a id="9317" href="Ledger.Conway.Specification.Utxo.html#8698" class="InductiveConstructor">both</a> <a id="9322" class="Symbol">(</a><a id="9323" href="Ledger.Conway.Specification.Utxo.html#9323" class="Bound">h₁</a> <a id="9326" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9328" href="Ledger.Conway.Specification.Utxo.html#9328" class="Bound">h₂</a><a id="9330" class="Symbol">))</a> <a id="9333" class="Symbol">→</a> <a id="9335" href="Ledger.Conway.Specification.Utxo.html#9299" class="Bound">¬p₂</a> <a id="9339" href="Ledger.Conway.Specification.Utxo.html#9328" class="Bound">h₂</a>
  <a id="9344" class="Symbol">...</a> <a id="9348" class="Symbol">|</a> <a id="9350" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="9354" href="Ledger.Conway.Specification.Utxo.html#9354" class="Bound">p₁</a> <a id="9357" class="Symbol">|</a> <a id="9359" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="9363" href="Ledger.Conway.Specification.Utxo.html#9363" class="Bound">p₂</a> <a id="9366" class="Symbol">=</a> <a id="9368" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="9372" class="Symbol">(</a><a id="9373" href="Ledger.Conway.Specification.Utxo.html#8698" class="InductiveConstructor">both</a> <a id="9378" class="Symbol">(</a><a id="9379" href="Ledger.Conway.Specification.Utxo.html#9354" class="Bound">p₁</a> <a id="9382" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9384" href="Ledger.Conway.Specification.Utxo.html#9363" class="Bound">p₂</a><a id="9386" class="Symbol">))</a>
  <a id="9391" href="Ledger.Conway.Specification.Utxo.html#9109" class="Function">Dec-inInterval</a> <a id="9406" class="Symbol">{</a><a id="9407" href="Ledger.Conway.Specification.Utxo.html#9407" class="Bound">slot</a><a id="9411" class="Symbol">}</a> <a id="9413" class="Symbol">{</a><a id="9414" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9419" href="Ledger.Conway.Specification.Utxo.html#9419" class="Bound">x</a>  <a id="9422" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9424" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="9431" class="Symbol">}</a> <a id="9433" class="Symbol">.</a><a id="9434" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="9438" class="Keyword">with</a> <a id="9443" href="Ledger.Conway.Specification.Utxo.html#9419" class="Bound">x</a> <a id="9445" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="9448" href="Ledger.Conway.Specification.Utxo.html#9407" class="Bound">slot</a>
  <a id="9455" class="Symbol">...</a> <a id="9459" class="Symbol">|</a> <a id="9461" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="9464" href="Ledger.Conway.Specification.Utxo.html#9464" class="Bound">¬p</a> <a id="9467" class="Symbol">=</a> <a id="9469" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="9473" class="Symbol">(λ</a> <a id="9476" class="Keyword">where</a> <a id="9482" class="Symbol">(</a><a id="9483" href="Ledger.Conway.Specification.Utxo.html#8780" class="InductiveConstructor">lower</a> <a id="9489" href="Ledger.Conway.Specification.Utxo.html#9489" class="Bound">h</a><a id="9490" class="Symbol">)</a> <a id="9492" class="Symbol">→</a> <a id="9494" href="Ledger.Conway.Specification.Utxo.html#9464" class="Bound">¬p</a> <a id="9497" href="Ledger.Conway.Specification.Utxo.html#9489" class="Bound">h</a><a id="9498" class="Symbol">)</a>
  <a id="9502" class="Symbol">...</a> <a id="9506" class="Symbol">|</a> <a id="9508" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="9512" href="Ledger.Conway.Specification.Utxo.html#9512" class="Bound">p</a> <a id="9514" class="Symbol">=</a> <a id="9516" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="9520" class="Symbol">(</a><a id="9521" href="Ledger.Conway.Specification.Utxo.html#8780" class="InductiveConstructor">lower</a> <a id="9527" href="Ledger.Conway.Specification.Utxo.html#9512" class="Bound">p</a><a id="9528" class="Symbol">)</a>
  <a id="9532" href="Ledger.Conway.Specification.Utxo.html#9109" class="Function">Dec-inInterval</a> <a id="9547" class="Symbol">{</a><a id="9548" href="Ledger.Conway.Specification.Utxo.html#9548" class="Bound">slot</a><a id="9552" class="Symbol">}</a> <a id="9554" class="Symbol">{</a><a id="9555" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="9563" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9565" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9570" href="Ledger.Conway.Specification.Utxo.html#9570" class="Bound">x</a> <a id="9572" class="Symbol">}</a> <a id="9574" class="Symbol">.</a><a id="9575" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="9579" class="Keyword">with</a> <a id="9584" href="Ledger.Conway.Specification.Utxo.html#9548" class="Bound">slot</a> <a id="9589" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="9592" href="Ledger.Conway.Specification.Utxo.html#9570" class="Bound">x</a>
  <a id="9596" class="Symbol">...</a> <a id="9600" class="Symbol">|</a> <a id="9602" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="9605" href="Ledger.Conway.Specification.Utxo.html#9605" class="Bound">¬p</a> <a id="9608" class="Symbol">=</a> <a id="9610" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="9614" class="Symbol">(λ</a> <a id="9617" class="Keyword">where</a> <a id="9623" class="Symbol">(</a><a id="9624" href="Ledger.Conway.Specification.Utxo.html#8863" class="InductiveConstructor">upper</a> <a id="9630" href="Ledger.Conway.Specification.Utxo.html#9630" class="Bound">h</a><a id="9631" class="Symbol">)</a> <a id="9633" class="Symbol">→</a> <a id="9635" href="Ledger.Conway.Specification.Utxo.html#9605" class="Bound">¬p</a> <a id="9638" href="Ledger.Conway.Specification.Utxo.html#9630" class="Bound">h</a><a id="9639" class="Symbol">)</a>
  <a id="9643" class="Symbol">...</a> <a id="9647" class="Symbol">|</a> <a id="9649" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="9653" href="Ledger.Conway.Specification.Utxo.html#9653" class="Bound">p</a> <a id="9655" class="Symbol">=</a> <a id="9657" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="9661" class="Symbol">(</a><a id="9662" href="Ledger.Conway.Specification.Utxo.html#8863" class="InductiveConstructor">upper</a> <a id="9668" href="Ledger.Conway.Specification.Utxo.html#9653" class="Bound">p</a><a id="9669" class="Symbol">)</a>
  <a id="9673" href="Ledger.Conway.Specification.Utxo.html#9109" class="Function">Dec-inInterval</a> <a id="9688" class="Symbol">{</a><a id="9689" href="Ledger.Conway.Specification.Utxo.html#9689" class="Bound">slot</a><a id="9693" class="Symbol">}</a> <a id="9695" class="Symbol">{</a><a id="9696" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="9704" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9706" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="9713" class="Symbol">}</a> <a id="9715" class="Symbol">.</a><a id="9716" href="Class.Decidable.Core.html#264" class="Field">dec</a> <a id="9720" class="Symbol">=</a> <a id="9722" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="9726" href="Ledger.Conway.Specification.Utxo.html#8945" class="InductiveConstructor">none</a>

  <a id="HasCoin-UTxOState"></a><a id="9734" href="Ledger.Conway.Specification.Utxo.html#9734" class="Function">HasCoin-UTxOState</a> <a id="9752" class="Symbol">:</a> <a id="9754" href="Ledger.Prelude.HasCoin.html#122" class="Record">HasCoin</a> <a id="9762" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a>
  <a id="9774" href="Ledger.Conway.Specification.Utxo.html#9734" class="Function">HasCoin-UTxOState</a> <a id="9792" class="Symbol">.</a><a id="9793" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="9801" href="Ledger.Conway.Specification.Utxo.html#9801" class="Bound">s</a> <a id="9803" class="Symbol">=</a> <a id="9805" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="9813" class="Symbol">(</a><a id="9814" href="Ledger.Conway.Specification.Utxo.html#1538" class="Field">UTxOState.utxo</a> <a id="9829" href="Ledger.Conway.Specification.Utxo.html#9801" class="Bound">s</a><a id="9830" class="Symbol">)</a>
                               <a id="9863" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9865" class="Symbol">(</a><a id="9866" href="Ledger.Conway.Specification.Utxo.html#1560" class="Field">UTxOState.fees</a> <a id="9881" href="Ledger.Conway.Specification.Utxo.html#9801" class="Bound">s</a><a id="9882" class="Symbol">)</a>
                               <a id="9915" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9917" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="9925" class="Symbol">(</a><a id="9926" href="Ledger.Conway.Specification.Utxo.html#1582" class="Field">UTxOState.deposits</a> <a id="9945" href="Ledger.Conway.Specification.Utxo.html#9801" class="Bound">s</a><a id="9946" class="Symbol">)</a>
                               <a id="9979" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9981" href="Ledger.Conway.Specification.Utxo.html#1608" class="Field">UTxOState.donations</a> <a id="10001" href="Ledger.Conway.Specification.Utxo.html#9801" class="Bound">s</a>

<a id="coinPolicies"></a><a id="10004" href="Ledger.Conway.Specification.Utxo.html#10004" class="Function">coinPolicies</a> <a id="10017" class="Symbol">:</a> <a id="10019" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="10021" href="Ledger.Core.Specification.Crypto.html#1194" class="Function">ScriptHash</a>
<a id="10032" href="Ledger.Conway.Specification.Utxo.html#10004" class="Function">coinPolicies</a> <a id="10045" class="Symbol">=</a> <a id="10047" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#928" class="Function">policies</a> <a id="10056" class="Symbol">(</a><a id="10057" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#883" class="Function">inject</a> <a id="10064" class="Number">1</a><a id="10065" class="Symbol">)</a>

<a id="isAdaOnly"></a><a id="10068" href="Ledger.Conway.Specification.Utxo.html#10068" class="Function">isAdaOnly</a> <a id="10078" class="Symbol">:</a> <a id="10080" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a> <a id="10086" class="Symbol">→</a> <a id="10088" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="10093" href="Ledger.Conway.Specification.Utxo.html#10068" class="Function">isAdaOnly</a> <a id="10103" href="Ledger.Conway.Specification.Utxo.html#10103" class="Bound">v</a> <a id="10105" class="Symbol">=</a> <a id="10107" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#928" class="Function">policies</a> <a id="10116" href="Ledger.Conway.Specification.Utxo.html#10103" class="Bound">v</a> <a id="10118" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="10121" href="Ledger.Conway.Specification.Utxo.html#10004" class="Function">coinPolicies</a>


<a id="collateralCheck"></a><a id="10136" href="Ledger.Conway.Specification.Utxo.html#10136" class="Function">collateralCheck</a> <a id="10152" class="Symbol">:</a> <a id="10154" href="Ledger.Conway.Specification.PParams.html#1728" class="Record">PParams</a> <a id="10162" class="Symbol">→</a> <a id="10164" href="Ledger.Conway.Specification.Transaction.html#4500" class="Record">Tx</a> <a id="10167" class="Symbol">→</a> <a id="10169" href="Ledger.Conway.Specification.Transaction.html#2698" class="Function">UTxO</a> <a id="10174" class="Symbol">→</a> <a id="10176" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="10181" href="Ledger.Conway.Specification.Utxo.html#10136" class="Function">collateralCheck</a> <a id="10197" href="Ledger.Conway.Specification.Utxo.html#10197" class="Bound">pp</a> <a id="10200" href="Ledger.Conway.Specification.Utxo.html#10200" class="Bound">tx</a> <a id="10203" href="Ledger.Conway.Specification.Utxo.html#10203" class="Bound">utxo</a> <a id="10208" class="Symbol">=</a>
  <a id="10212" href="Axiom.Set.html#9724" class="Function">All</a> <a id="10216" class="Symbol">(λ</a> <a id="10219" class="Symbol">(</a><a id="10220" href="Ledger.Conway.Specification.Utxo.html#10220" class="Bound">addr</a> <a id="10225" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10227" class="Symbol">_)</a> <a id="10230" class="Symbol">→</a> <a id="10232" href="Ledger.Core.Specification.Address.html#2567" class="Function">isVKeyAddr</a> <a id="10243" href="Ledger.Conway.Specification.Utxo.html#10220" class="Bound">addr</a><a id="10247" class="Symbol">)</a> <a id="10249" class="Symbol">(</a><a id="10250" href="Class.IsSet.html#959" class="Function">range</a> <a id="10256" class="Symbol">(</a><a id="10257" href="Ledger.Conway.Specification.Utxo.html#10203" class="Bound">utxo</a> <a id="10262" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10264" href="Ledger.Conway.Specification.Transaction.html#3558" class="Function">collateral</a><a id="10274" class="Symbol">))</a>
  <a id="10279" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10281" href="Ledger.Conway.Specification.Utxo.html#10068" class="Function">isAdaOnly</a> <a id="10291" href="Ledger.Conway.Specification.Utxo.html#10423" class="Function">balance′</a>
  <a id="10302" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10304" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#838" class="Function">coin</a> <a id="10309" href="Ledger.Conway.Specification.Utxo.html#10423" class="Function">balance′</a> <a id="10318" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="10320" class="Number">100</a> <a id="10324" href="Class.HasOrder.Core.html#822" class="Function Operator">≥</a> <a id="10326" href="Ledger.Conway.Specification.Transaction.html#3117" class="Function">txfee</a> <a id="10332" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="10334" href="Ledger.Conway.Specification.Utxo.html#10197" class="Bound">pp</a> <a id="10337" class="Symbol">.</a><a id="10338" href="Ledger.Conway.Specification.PParams.html#2971" class="Field">collateralPercentage</a>
  <a id="10361" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10363" href="Ledger.Conway.Specification.Transaction.html#3558" class="Function">collateral</a> <a id="10374" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="10376" href="Class.HasEmptySet.html#287" class="Field">∅</a>
  <a id="10380" class="Keyword">where</a>
    <a id="10390" class="Keyword">open</a> <a id="10395" href="Ledger.Conway.Specification.Transaction.html#4500" class="Module">Tx</a> <a id="10398" href="Ledger.Conway.Specification.Utxo.html#10200" class="Bound">tx</a><a id="10400" class="Symbol">;</a> <a id="10402" class="Keyword">open</a> <a id="10407" href="Ledger.Conway.Specification.Transaction.html#2987" class="Module">TxBody</a> <a id="10414" href="Ledger.Conway.Specification.Transaction.html#4532" class="Function">body</a>
    <a id="10423" href="Ledger.Conway.Specification.Utxo.html#10423" class="Function">balance′</a> <a id="10432" class="Symbol">=</a> <a id="10434" href="Ledger.Conway.Specification.Utxo.html#2323" class="Function">balance</a> <a id="10442" class="Symbol">(</a><a id="10443" href="Ledger.Conway.Specification.Utxo.html#10203" class="Bound">utxo</a> <a id="10448" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10450" href="Ledger.Conway.Specification.Transaction.html#3558" class="Function">collateral</a><a id="10460" class="Symbol">)</a>


<a id="10464" class="Keyword">module</a> <a id="10471" href="Ledger.Conway.Specification.Utxo.html#10471" class="Module">_</a> <a id="10473" class="Symbol">(</a><a id="10474" class="Keyword">let</a> <a id="10478" class="Keyword">open</a> <a id="10483" href="Ledger.Conway.Specification.Utxo.html#1474" class="Module">UTxOState</a><a id="10492" class="Symbol">;</a> <a id="10494" class="Keyword">open</a> <a id="10499" href="Ledger.Conway.Specification.Transaction.html#2987" class="Module">TxBody</a><a id="10505" class="Symbol">)</a> <a id="10507" class="Keyword">where</a>


  <a id="10517" href="Ledger.Conway.Specification.Utxo.html#10517" class="Function">depositRefunds</a> <a id="10532" class="Symbol">:</a> <a id="10534" href="Ledger.Conway.Specification.PParams.html#1728" class="Record">PParams</a> <a id="10542" class="Symbol">→</a> <a id="10544" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a> <a id="10554" class="Symbol">→</a> <a id="10556" href="Ledger.Conway.Specification.Transaction.html#2987" class="Record">TxBody</a> <a id="10563" class="Symbol">→</a> <a id="10565" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="10572" href="Ledger.Conway.Specification.Utxo.html#10517" class="Function">depositRefunds</a> <a id="10587" href="Ledger.Conway.Specification.Utxo.html#10587" class="Bound">pp</a> <a id="10590" href="Ledger.Conway.Specification.Utxo.html#10590" class="Bound">st</a> <a id="10593" href="Ledger.Conway.Specification.Utxo.html#10593" class="Bound">txb</a> <a id="10597" class="Symbol">=</a> <a id="10599" href="Prelude.html#3244" class="Function">negPart</a> <a id="10607" class="Symbol">(</a><a id="10608" href="Ledger.Conway.Specification.Utxo.html#8479" class="Function">depositsChange</a> <a id="10623" href="Ledger.Conway.Specification.Utxo.html#10587" class="Bound">pp</a> <a id="10626" href="Ledger.Conway.Specification.Utxo.html#10593" class="Bound">txb</a> <a id="10630" class="Symbol">(</a><a id="10631" href="Ledger.Conway.Specification.Utxo.html#10590" class="Bound">st</a> <a id="10634" class="Symbol">.</a><a id="10635" href="Ledger.Conway.Specification.Utxo.html#1582" class="Field">deposits</a><a id="10643" class="Symbol">))</a>

  <a id="10649" href="Ledger.Conway.Specification.Utxo.html#10649" class="Function">newDeposits</a> <a id="10661" class="Symbol">:</a> <a id="10663" href="Ledger.Conway.Specification.PParams.html#1728" class="Record">PParams</a> <a id="10671" class="Symbol">→</a> <a id="10673" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a> <a id="10683" class="Symbol">→</a> <a id="10685" href="Ledger.Conway.Specification.Transaction.html#2987" class="Record">TxBody</a> <a id="10692" class="Symbol">→</a> <a id="10694" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="10701" href="Ledger.Conway.Specification.Utxo.html#10649" class="Function">newDeposits</a> <a id="10713" href="Ledger.Conway.Specification.Utxo.html#10713" class="Bound">pp</a> <a id="10716" href="Ledger.Conway.Specification.Utxo.html#10716" class="Bound">st</a> <a id="10719" href="Ledger.Conway.Specification.Utxo.html#10719" class="Bound">txb</a> <a id="10723" class="Symbol">=</a> <a id="10725" href="Prelude.html#3167" class="Function">posPart</a> <a id="10733" class="Symbol">(</a><a id="10734" href="Ledger.Conway.Specification.Utxo.html#8479" class="Function">depositsChange</a> <a id="10749" href="Ledger.Conway.Specification.Utxo.html#10713" class="Bound">pp</a> <a id="10752" href="Ledger.Conway.Specification.Utxo.html#10719" class="Bound">txb</a> <a id="10756" class="Symbol">(</a><a id="10757" href="Ledger.Conway.Specification.Utxo.html#10716" class="Bound">st</a> <a id="10760" class="Symbol">.</a><a id="10761" href="Ledger.Conway.Specification.Utxo.html#1582" class="Field">deposits</a><a id="10769" class="Symbol">))</a>

  <a id="10775" href="Ledger.Conway.Specification.Utxo.html#10775" class="Function">consumed</a> <a id="10784" class="Symbol">:</a> <a id="10786" href="Ledger.Conway.Specification.PParams.html#1728" class="Record">PParams</a> <a id="10794" class="Symbol">→</a> <a id="10796" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a> <a id="10806" class="Symbol">→</a> <a id="10808" href="Ledger.Conway.Specification.Transaction.html#2987" class="Record">TxBody</a> <a id="10815" class="Symbol">→</a> <a id="10817" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a>
  <a id="10825" href="Ledger.Conway.Specification.Utxo.html#10775" class="Function">consumed</a> <a id="10834" href="Ledger.Conway.Specification.Utxo.html#10834" class="Bound">pp</a> <a id="10837" href="Ledger.Conway.Specification.Utxo.html#10837" class="Bound">st</a> <a id="10840" href="Ledger.Conway.Specification.Utxo.html#10840" class="Bound">txb</a>
    <a id="10848" class="Symbol">=</a>  <a id="10851" href="Ledger.Conway.Specification.Utxo.html#2323" class="Function">balance</a> <a id="10859" class="Symbol">(</a><a id="10860" href="Ledger.Conway.Specification.Utxo.html#10837" class="Bound">st</a> <a id="10863" class="Symbol">.</a><a id="10864" href="Ledger.Conway.Specification.Utxo.html#1538" class="Field">utxo</a> <a id="10869" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="10871" href="Ledger.Conway.Specification.Utxo.html#10840" class="Bound">txb</a> <a id="10875" class="Symbol">.</a><a id="10876" href="Ledger.Conway.Specification.Transaction.html#3023" class="Field">txins</a><a id="10881" class="Symbol">)</a>
    <a id="10887" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a>  <a id="10890" href="Ledger.Conway.Specification.Utxo.html#10840" class="Bound">txb</a> <a id="10894" class="Symbol">.</a><a id="10895" href="Ledger.Conway.Specification.Transaction.html#3145" class="Field">mint</a>
    <a id="10904" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a>  <a id="10907" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#883" class="Function">inject</a> <a id="10914" class="Symbol">(</a><a id="10915" href="Ledger.Conway.Specification.Utxo.html#10517" class="Function">depositRefunds</a> <a id="10930" href="Ledger.Conway.Specification.Utxo.html#10834" class="Bound">pp</a> <a id="10933" href="Ledger.Conway.Specification.Utxo.html#10837" class="Bound">st</a> <a id="10936" href="Ledger.Conway.Specification.Utxo.html#10840" class="Bound">txb</a><a id="10939" class="Symbol">)</a>
    <a id="10945" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a>  <a id="10948" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#883" class="Function">inject</a> <a id="10955" class="Symbol">(</a><a id="10956" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="10964" class="Symbol">(</a><a id="10965" href="Ledger.Conway.Specification.Utxo.html#10840" class="Bound">txb</a> <a id="10969" class="Symbol">.</a><a id="10970" href="Ledger.Conway.Specification.Transaction.html#3255" class="Field">txwdrls</a><a id="10977" class="Symbol">))</a>

  <a id="10983" href="Ledger.Conway.Specification.Utxo.html#10983" class="Function">produced</a> <a id="10992" class="Symbol">:</a> <a id="10994" href="Ledger.Conway.Specification.PParams.html#1728" class="Record">PParams</a> <a id="11002" class="Symbol">→</a> <a id="11004" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a> <a id="11014" class="Symbol">→</a> <a id="11016" href="Ledger.Conway.Specification.Transaction.html#2987" class="Record">TxBody</a> <a id="11023" class="Symbol">→</a> <a id="11025" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a>
  <a id="11033" href="Ledger.Conway.Specification.Utxo.html#10983" class="Function">produced</a> <a id="11042" href="Ledger.Conway.Specification.Utxo.html#11042" class="Bound">pp</a> <a id="11045" href="Ledger.Conway.Specification.Utxo.html#11045" class="Bound">st</a> <a id="11048" href="Ledger.Conway.Specification.Utxo.html#11048" class="Bound">txb</a> <a id="11052" class="Symbol">=</a> <a id="11054" href="Ledger.Conway.Specification.Utxo.html#2323" class="Function">balance</a> <a id="11062" class="Symbol">(</a><a id="11063" href="Ledger.Conway.Specification.Utxo.html#2252" class="Function">outs</a> <a id="11068" href="Ledger.Conway.Specification.Utxo.html#11048" class="Bound">txb</a><a id="11071" class="Symbol">)</a>
                     <a id="11094" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11096" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#883" class="Function">inject</a> <a id="11103" class="Symbol">(</a><a id="11104" href="Ledger.Conway.Specification.Utxo.html#11048" class="Bound">txb</a> <a id="11108" class="Symbol">.</a><a id="11109" href="Ledger.Conway.Specification.Transaction.html#3117" class="Field">txfee</a><a id="11114" class="Symbol">)</a>
                     <a id="11137" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11139" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#883" class="Function">inject</a> <a id="11146" class="Symbol">(</a><a id="11147" href="Ledger.Conway.Specification.Utxo.html#10649" class="Function">newDeposits</a> <a id="11159" href="Ledger.Conway.Specification.Utxo.html#11042" class="Bound">pp</a> <a id="11162" href="Ledger.Conway.Specification.Utxo.html#11045" class="Bound">st</a> <a id="11165" href="Ledger.Conway.Specification.Utxo.html#11048" class="Bound">txb</a><a id="11168" class="Symbol">)</a>
                     <a id="11191" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11193" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#883" class="Function">inject</a> <a id="11200" class="Symbol">(</a><a id="11201" href="Ledger.Conway.Specification.Utxo.html#11048" class="Bound">txb</a> <a id="11205" class="Symbol">.</a><a id="11206" href="Ledger.Conway.Specification.Transaction.html#3359" class="Field">txdonation</a><a id="11216" class="Symbol">)</a>


<a id="11220" class="Keyword">open</a> <a id="11225" href="Ledger.Conway.Specification.PParams.html#1728" class="Module">PParams</a>

<a id="11234" class="Keyword">private</a> <a id="11242" class="Keyword">variable</a>
  <a id="11253" href="Ledger.Conway.Specification.Utxo.html#11253" class="Generalizable">Γ</a> <a id="11255" class="Symbol">:</a> <a id="11257" href="Ledger.Conway.Specification.Utxo.html#1122" class="Record">UTxOEnv</a>
  <a id="11267" href="Ledger.Conway.Specification.Utxo.html#11267" class="Generalizable">s</a> <a id="11269" href="Ledger.Conway.Specification.Utxo.html#11269" class="Generalizable">s&#39;</a> <a id="11272" class="Symbol">:</a> <a id="11274" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a>
  <a id="11286" href="Ledger.Conway.Specification.Utxo.html#11286" class="Generalizable">tx</a> <a id="11289" class="Symbol">:</a> <a id="11291" href="Ledger.Conway.Specification.Transaction.html#4500" class="Record">Tx</a>
  <a id="11296" href="Ledger.Conway.Specification.Utxo.html#11296" class="Generalizable">utxo</a> <a id="11301" class="Symbol">:</a> <a id="11303" href="Ledger.Conway.Specification.Transaction.html#2698" class="Function">UTxO</a>
  <a id="11310" href="Ledger.Conway.Specification.Utxo.html#11310" class="Generalizable">fees</a> <a id="11315" href="Ledger.Conway.Specification.Utxo.html#11315" class="Generalizable">donations</a> <a id="11325" class="Symbol">:</a> <a id="11327" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a>
  <a id="11334" href="Ledger.Conway.Specification.Utxo.html#11334" class="Generalizable">deposits</a> <a id="11343" class="Symbol">:</a> <a id="11345" href="Ledger.Conway.Specification.Certs.html#590" class="Function">Deposits</a>

<a id="11355" class="Keyword">open</a> <a id="11360" href="Ledger.Conway.Specification.Utxo.html#1122" class="Module">UTxOEnv</a>

<a id="11369" class="Keyword">data</a> <a id="_⊢_⇀⦇_,UTXOS⦈_"></a><a id="11374" href="Ledger.Conway.Specification.Utxo.html#11374" class="Datatype Operator">_⊢_⇀⦇_,UTXOS⦈_</a> <a id="11389" class="Symbol">:</a> <a id="11391" href="Ledger.Conway.Specification.Utxo.html#1122" class="Record">UTxOEnv</a> <a id="11399" class="Symbol">→</a> <a id="11401" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a> <a id="11411" class="Symbol">→</a> <a id="11413" href="Ledger.Conway.Specification.Transaction.html#4500" class="Record">Tx</a> <a id="11416" class="Symbol">→</a> <a id="11418" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">UTxOState</a> <a id="11428" class="Symbol">→</a> <a id="11430" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="11435" class="Keyword">where</a>


  <a id="_⊢_⇀⦇_,UTXOS⦈_.Scripts-Yes"></a><a id="11445" href="Ledger.Conway.Specification.Utxo.html#11445" class="InductiveConstructor">Scripts-Yes</a> <a id="11457" class="Symbol">:</a>
    <a id="11463" class="Keyword">let</a>  <a id="11468" href="Ledger.Conway.Specification.Utxo.html#11468" class="Bound">pp</a>         <a id="11479" class="Symbol">=</a> <a id="11481" href="Ledger.Conway.Specification.Utxo.html#11253" class="Generalizable">Γ</a> <a id="11483" class="Symbol">.</a><a id="11484" href="Ledger.Conway.Specification.Utxo.html#1176" class="Field">pparams</a>


         <a id="11503" class="Keyword">open</a> <a id="11508" href="Ledger.Conway.Specification.Transaction.html#4500" class="Module">Tx</a> <a id="11511" href="Ledger.Conway.Specification.Utxo.html#11286" class="Generalizable">tx</a> <a id="11514" class="Keyword">renaming</a> <a id="11523" class="Symbol">(</a><a id="11524" href="Ledger.Conway.Specification.Transaction.html#4532" class="Field">body</a> <a id="11529" class="Symbol">to</a> <a id="11532" class="Field">txb</a><a id="11535" class="Symbol">);</a> <a id="11538" class="Keyword">open</a> <a id="11543" href="Ledger.Conway.Specification.Transaction.html#2987" class="Module">TxBody</a> <a id="11550" href="Ledger.Conway.Specification.Utxo.html#11532" class="Function">txb</a>


         <a id="11565" href="Ledger.Conway.Specification.Utxo.html#11565" class="Bound">p2Scripts</a>  <a id="11576" class="Symbol">=</a> <a id="11578" href="Ledger.Conway.Specification.Script.Validation.html#3427" class="Function">collectP2ScriptsWithContext</a> <a id="11606" href="Ledger.Conway.Specification.Utxo.html#11468" class="Bound">pp</a> <a id="11609" href="Ledger.Conway.Specification.Utxo.html#11286" class="Generalizable">tx</a> <a id="11612" href="Ledger.Conway.Specification.Utxo.html#11296" class="Generalizable">utxo</a>
      <a id="11623" class="Keyword">in</a>
        <a id="11634" href="Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="11636" href="Ledger.Conway.Specification.Utxo.html#3420" class="Datatype">ValidCertDeposits</a> <a id="11654" href="Ledger.Conway.Specification.Utxo.html#11468" class="Bound">pp</a> <a id="11657" href="Ledger.Conway.Specification.Utxo.html#11334" class="Generalizable">deposits</a> <a id="11666" href="Ledger.Conway.Specification.Transaction.html#3221" class="Function">txcerts</a>
        <a id="11682" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="11684" href="Ledger.Conway.Specification.Script.Validation.html#4296" class="Function">evalP2Scripts</a> <a id="11698" href="Ledger.Conway.Specification.Utxo.html#11565" class="Bound">p2Scripts</a> <a id="11708" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11710" href="Ledger.Conway.Specification.Transaction.html#4604" class="Function">isValid</a>
        <a id="11726" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="11728" href="Ledger.Conway.Specification.Transaction.html#4604" class="Function">isValid</a> <a id="11736" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11738" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
          <a id="11753" href="iog-prelude.Prelude.InferenceRules.html#217" class="Function Operator">────────────────────────────────</a>
          <a id="11796" href="Ledger.Conway.Specification.Utxo.html#11253" class="Generalizable">Γ</a> <a id="11798" href="Ledger.Conway.Specification.Utxo.html#11374" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#11296}{\htmlId{11802}{\htmlClass{Generalizable}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11310}{\htmlId{11809}{\htmlClass{Generalizable}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11334}{\htmlId{11816}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11315}{\htmlId{11827}{\htmlClass{Generalizable}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="11839" href="Ledger.Conway.Specification.Utxo.html#11374" class="Datatype Operator">⇀⦇</a> <a id="11842" href="Ledger.Conway.Specification.Utxo.html#11286" class="Generalizable">tx</a> <a id="11845" href="Ledger.Conway.Specification.Utxo.html#11374" class="Datatype Operator">,UTXOS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{11855}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Utxo.html#11296}{\htmlId{11856}{\htmlClass{Generalizable}{\text{utxo}}}}\, \,\href{Axiom.Set.Map.html#10748}{\htmlId{11861}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Ledger.Conway.Specification.Transaction.html#3023}{\htmlId{11863}{\htmlClass{Function}{\text{txins}}}}\, \,\href{Axiom.Set.Map.html#10748}{\htmlId{11869}{\htmlClass{Function Operator}{\text{ᶜ}}}}\,\,\htmlId{11870}{\htmlClass{Symbol}{\text{)}}}\, \,\href{Axiom.Set.Map.html#6320}{\htmlId{11872}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\htmlId{11875}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Utxo.html#2252}{\htmlId{11876}{\htmlClass{Function}{\text{outs}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#11532}{\htmlId{11881}{\htmlClass{Function}{\text{txb}}}}\,\,\htmlId{11884}{\htmlClass{Symbol}{\text{)}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11310}{\htmlId{11888}{\htmlClass{Generalizable}{\text{fees}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{11893}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Specification.Transaction.html#3117}{\htmlId{11895}{\htmlClass{Function}{\text{txfee}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#8072}{\htmlId{11903}{\htmlClass{Function}{\text{updateDeposits}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#11468}{\htmlId{11918}{\htmlClass{Bound}{\text{pp}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#11532}{\htmlId{11921}{\htmlClass{Function}{\text{txb}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#11334}{\htmlId{11925}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11315}{\htmlId{11936}{\htmlClass{Generalizable}{\text{donations}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{11946}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Specification.Transaction.html#3359}{\htmlId{11948}{\htmlClass{Function}{\text{txdonation}}}}\, \end{pmatrix}$</a>
  <a id="_⊢_⇀⦇_,UTXOS⦈_.Scripts-No"></a><a id="11963" href="Ledger.Conway.Specification.Utxo.html#11963" class="InductiveConstructor">Scripts-No</a> <a id="11974" class="Symbol">:</a>
    <a id="11980" class="Keyword">let</a>  <a id="11985" href="Ledger.Conway.Specification.Utxo.html#11985" class="Bound">pp</a>         <a id="11996" class="Symbol">=</a> <a id="11998" href="Ledger.Conway.Specification.Utxo.html#11253" class="Generalizable">Γ</a> <a id="12000" class="Symbol">.</a><a id="12001" href="Ledger.Conway.Specification.Utxo.html#1176" class="Field">pparams</a>


         <a id="12020" class="Keyword">open</a> <a id="12025" href="Ledger.Conway.Specification.Transaction.html#4500" class="Module">Tx</a> <a id="12028" href="Ledger.Conway.Specification.Utxo.html#11286" class="Generalizable">tx</a> <a id="12031" class="Keyword">renaming</a> <a id="12040" class="Symbol">(</a><a id="12041" href="Ledger.Conway.Specification.Transaction.html#4532" class="Field">body</a> <a id="12046" class="Symbol">to</a> <a id="12049" class="Field">txb</a><a id="12052" class="Symbol">);</a> <a id="12055" class="Keyword">open</a> <a id="12060" href="Ledger.Conway.Specification.Transaction.html#2987" class="Module">TxBody</a> <a id="12067" href="Ledger.Conway.Specification.Utxo.html#12049" class="Function">txb</a>


         <a id="12082" href="Ledger.Conway.Specification.Utxo.html#12082" class="Bound">p2Scripts</a>  <a id="12093" class="Symbol">=</a> <a id="12095" href="Ledger.Conway.Specification.Script.Validation.html#3427" class="Function">collectP2ScriptsWithContext</a> <a id="12123" href="Ledger.Conway.Specification.Utxo.html#11985" class="Bound">pp</a> <a id="12126" href="Ledger.Conway.Specification.Utxo.html#11286" class="Generalizable">tx</a> <a id="12129" href="Ledger.Conway.Specification.Utxo.html#11296" class="Generalizable">utxo</a>
      <a id="12140" class="Keyword">in</a>
        <a id="12151" href="Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="12153" href="Ledger.Conway.Specification.Script.Validation.html#4296" class="Function">evalP2Scripts</a> <a id="12167" href="Ledger.Conway.Specification.Utxo.html#12082" class="Bound">p2Scripts</a> <a id="12177" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12179" href="Ledger.Conway.Specification.Transaction.html#4604" class="Function">isValid</a>
        <a id="12195" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="12197" href="Ledger.Conway.Specification.Transaction.html#4604" class="Function">isValid</a> <a id="12205" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12207" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
          <a id="12223" href="iog-prelude.Prelude.InferenceRules.html#217" class="Function Operator">────────────────────────────────</a>
          <a id="12266" href="Ledger.Conway.Specification.Utxo.html#11253" class="Generalizable">Γ</a> <a id="12268" href="Ledger.Conway.Specification.Utxo.html#11374" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#11296}{\htmlId{12272}{\htmlClass{Generalizable}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11310}{\htmlId{12279}{\htmlClass{Generalizable}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11334}{\htmlId{12286}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11315}{\htmlId{12297}{\htmlClass{Generalizable}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="12309" href="Ledger.Conway.Specification.Utxo.html#11374" class="Datatype Operator">⇀⦇</a> <a id="12312" href="Ledger.Conway.Specification.Utxo.html#11286" class="Generalizable">tx</a> <a id="12315" href="Ledger.Conway.Specification.Utxo.html#11374" class="Datatype Operator">,UTXOS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#11296}{\htmlId{12325}{\htmlClass{Generalizable}{\text{utxo}}}}\, \,\href{Axiom.Set.Map.html#10748}{\htmlId{12330}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Ledger.Conway.Specification.Transaction.html#3558}{\htmlId{12332}{\htmlClass{Function}{\text{collateral}}}}\, \,\href{Axiom.Set.Map.html#10748}{\htmlId{12343}{\htmlClass{Function Operator}{\text{ᶜ}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11310}{\htmlId{12347}{\htmlClass{Generalizable}{\text{fees}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{12352}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#2412}{\htmlId{12354}{\htmlClass{Function}{\text{cbalance}}}}\, \,\htmlId{12363}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Utxo.html#11296}{\htmlId{12364}{\htmlClass{Generalizable}{\text{utxo}}}}\, \,\href{Axiom.Set.Map.html#10678}{\htmlId{12369}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Ledger.Conway.Specification.Transaction.html#3558}{\htmlId{12371}{\htmlClass{Function}{\text{collateral}}}}\,\,\htmlId{12381}{\htmlClass{Symbol}{\text{)}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11334}{\htmlId{12385}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11315}{\htmlId{12396}{\htmlClass{Generalizable}{\text{donations}}}}\, \end{pmatrix}$</a>


<a id="12410" class="Keyword">unquoteDecl</a> <a id="Scripts-Yes-premises"></a><a id="12422" href="Ledger.Conway.Specification.Utxo.html#12422" class="Function">Scripts-Yes-premises</a> <a id="12443" class="Symbol">=</a> <a id="12445" href="iog-prelude.Tactic.Premises.html#2260" class="Function">genPremises</a> <a id="12457" href="Ledger.Conway.Specification.Utxo.html#12422" class="Function">Scripts-Yes-premises</a> <a id="12478" class="Symbol">(</a><a id="12479" class="Keyword">quote</a> <a id="12485" href="Ledger.Conway.Specification.Utxo.html#11445" class="InductiveConstructor">Scripts-Yes</a><a id="12496" class="Symbol">)</a>
<a id="12498" class="Keyword">unquoteDecl</a> <a id="Scripts-No-premises"></a><a id="12510" href="Ledger.Conway.Specification.Utxo.html#12510" class="Function">Scripts-No-premises</a>  <a id="12531" class="Symbol">=</a> <a id="12533" href="iog-prelude.Tactic.Premises.html#2260" class="Function">genPremises</a> <a id="12545" href="Ledger.Conway.Specification.Utxo.html#12510" class="Function">Scripts-No-premises</a>  <a id="12566" class="Symbol">(</a><a id="12567" class="Keyword">quote</a> <a id="12573" href="Ledger.Conway.Specification.Utxo.html#11963" class="InductiveConstructor">Scripts-No</a><a id="12583" class="Symbol">)</a>

<a id="12586" class="Keyword">data</a> <a id="12591" href="Ledger.Conway.Specification.Utxo.html#2119" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="12605" class="Keyword">where</a>


  <a id="_⊢_⇀⦇_,UTXO⦈_.UTXO-inductive"></a><a id="12615" href="Ledger.Conway.Specification.Utxo.html#12615" class="InductiveConstructor">UTXO-inductive</a> <a id="12630" class="Symbol">:</a>
    <a id="12636" class="Keyword">let</a> <a id="12640" href="Ledger.Conway.Specification.Utxo.html#12640" class="Bound">pp</a>        <a id="12650" class="Symbol">=</a> <a id="12652" href="Ledger.Conway.Specification.Utxo.html#11253" class="Generalizable">Γ</a> <a id="12654" class="Symbol">.</a><a id="12655" href="Ledger.Conway.Specification.Utxo.html#1176" class="Field">pparams</a>
        <a id="12671" href="Ledger.Conway.Specification.Utxo.html#12671" class="Bound">slot</a>      <a id="12681" class="Symbol">=</a> <a id="12683" href="Ledger.Conway.Specification.Utxo.html#11253" class="Generalizable">Γ</a> <a id="12685" class="Symbol">.</a><a id="12686" href="Ledger.Conway.Specification.Utxo.html#1155" class="Field">slot</a>
        <a id="12699" href="Ledger.Conway.Specification.Utxo.html#12699" class="Bound">treasury</a>  <a id="12709" class="Symbol">=</a> <a id="12711" href="Ledger.Conway.Specification.Utxo.html#11253" class="Generalizable">Γ</a> <a id="12713" class="Symbol">.</a><a id="12714" href="Ledger.Conway.Specification.Utxo.html#1200" class="Field">treasury</a>
        <a id="12731" href="Ledger.Conway.Specification.Utxo.html#12731" class="Bound">utxo</a>      <a id="12741" class="Symbol">=</a> <a id="12743" href="Ledger.Conway.Specification.Utxo.html#11267" class="Generalizable">s</a> <a id="12745" class="Symbol">.</a><a id="12746" href="Ledger.Conway.Specification.Utxo.html#1538" class="Field">UTxOState.utxo</a>


        <a id="12771" class="Keyword">open</a> <a id="12776" href="Ledger.Conway.Specification.Transaction.html#4500" class="Module">Tx</a> <a id="12779" href="Ledger.Conway.Specification.Utxo.html#11286" class="Generalizable">tx</a> <a id="12782" class="Keyword">renaming</a> <a id="12791" class="Symbol">(</a><a id="12792" href="Ledger.Conway.Specification.Transaction.html#4532" class="Field">body</a> <a id="12797" class="Symbol">to</a> <a id="12800" class="Field">txb</a><a id="12803" class="Symbol">);</a> <a id="12806" class="Keyword">open</a> <a id="12811" href="Ledger.Conway.Specification.Transaction.html#2987" class="Module">TxBody</a> <a id="12818" href="Ledger.Conway.Specification.Utxo.html#12800" class="Function">txb</a>
        <a id="12830" class="Keyword">open</a> <a id="12835" href="Ledger.Conway.Specification.Transaction.html#4255" class="Module">TxWitnesses</a> <a id="12847" href="Ledger.Conway.Specification.Transaction.html#4556" class="Function">wits</a>


        <a id="12862" href="Ledger.Conway.Specification.Utxo.html#12862" class="Bound">txoutsʰ</a>   <a id="12872" class="Symbol">=</a> <a id="12874" href="Axiom.Set.Map.html#6068" class="Function">mapValues</a> <a id="12884" href="Ledger.Conway.Specification.Transaction.html#5369" class="Function">txOutHash</a> <a id="12894" href="Ledger.Conway.Specification.Transaction.html#3083" class="Function">txouts</a>
        <a id="12909" href="Ledger.Conway.Specification.Utxo.html#12909" class="Bound">overhead</a>  <a id="12919" class="Symbol">=</a> <a id="12921" class="Number">160</a>
    <a id="12929" class="Keyword">in</a>
    <a id="12936" href="Prelude.InferenceRules.html#56074" class="Function Operator">∙</a> <a id="12938" href="Ledger.Conway.Specification.Transaction.html#3023" class="Function">txins</a> <a id="12944" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="12946" href="Class.HasEmptySet.html#287" class="Field">∅</a>                              <a id="12977" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="12979" href="Ledger.Conway.Specification.Transaction.html#3023" class="Function">txins</a> <a id="12985" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12987" href="Ledger.Conway.Specification.Transaction.html#3053" class="Function">refInputs</a> <a id="12997" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="12999" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13003" href="Ledger.Conway.Specification.Utxo.html#12731" class="Bound">utxo</a>
    <a id="13012" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13014" href="Ledger.Conway.Specification.Transaction.html#3023" class="Function">txins</a> <a id="13020" href="Axiom.Set.html#9292" class="Function Operator">∩</a> <a id="13022" href="Ledger.Conway.Specification.Transaction.html#3053" class="Function">refInputs</a> <a id="13032" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13034" href="Class.HasEmptySet.html#287" class="Field">∅</a>                  <a id="13053" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13055" href="Ledger.Conway.Specification.Utxo.html#8630" class="Datatype">inInterval</a> <a id="13066" href="Ledger.Conway.Specification.Utxo.html#12671" class="Bound">slot</a> <a id="13071" href="Ledger.Conway.Specification.Transaction.html#3174" class="Function">txvldt</a>
    <a id="13082" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13084" href="Ledger.Conway.Specification.Utxo.html#2593" class="Function">minfee</a> <a id="13091" href="Ledger.Conway.Specification.Utxo.html#12640" class="Bound">pp</a> <a id="13094" href="Ledger.Conway.Specification.Utxo.html#12731" class="Bound">utxo</a> <a id="13099" href="Ledger.Conway.Specification.Utxo.html#11286" class="Generalizable">tx</a> <a id="13102" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="13104" href="Ledger.Conway.Specification.Transaction.html#3117" class="Function">txfee</a>              <a id="13123" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13125" class="Symbol">(</a><a id="13126" href="Ledger.Conway.Specification.Transaction.html#4375" class="Function">txrdmrs</a> <a id="13134" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13136" href="Relation.Binary.PropositionalEquality.Core.html#858" class="Function Operator">≢</a> <a id="13138" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="13140" class="Symbol">→</a> <a id="13142" href="Ledger.Conway.Specification.Utxo.html#10136" class="Function">collateralCheck</a> <a id="13158" href="Ledger.Conway.Specification.Utxo.html#12640" class="Bound">pp</a> <a id="13161" href="Ledger.Conway.Specification.Utxo.html#11286" class="Generalizable">tx</a> <a id="13164" href="Ledger.Conway.Specification.Utxo.html#12731" class="Bound">utxo</a><a id="13168" class="Symbol">)</a>
    <a id="13174" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13176" href="Ledger.Conway.Specification.Utxo.html#10775" class="Function">consumed</a> <a id="13185" href="Ledger.Conway.Specification.Utxo.html#12640" class="Bound">pp</a> <a id="13188" href="Ledger.Conway.Specification.Utxo.html#11267" class="Generalizable">s</a> <a id="13190" href="Ledger.Conway.Specification.Utxo.html#12800" class="Function">txb</a> <a id="13194" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13196" href="Ledger.Conway.Specification.Utxo.html#10983" class="Function">produced</a> <a id="13205" href="Ledger.Conway.Specification.Utxo.html#12640" class="Bound">pp</a> <a id="13208" href="Ledger.Conway.Specification.Utxo.html#11267" class="Generalizable">s</a> <a id="13210" href="Ledger.Conway.Specification.Utxo.html#12800" class="Function">txb</a>  <a id="13215" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13217" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#838" class="Function">coin</a> <a id="13222" href="Ledger.Conway.Specification.Transaction.html#3145" class="Function">mint</a> <a id="13227" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13229" class="Number">0</a>
    <a id="13235" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13237" href="Ledger.Conway.Specification.Transaction.html#4585" class="Function">txsize</a> <a id="13244" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="13246" href="Ledger.Conway.Specification.PParams.html#1809" class="Field">maxTxSize</a> <a id="13256" href="Ledger.Conway.Specification.Utxo.html#12640" class="Bound">pp</a>
    <a id="13263" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13265" href="Ledger.Conway.Specification.Utxo.html#2478" class="Function">refScriptsSize</a> <a id="13280" href="Ledger.Conway.Specification.Utxo.html#12731" class="Bound">utxo</a> <a id="13285" href="Ledger.Conway.Specification.Utxo.html#11286" class="Generalizable">tx</a> <a id="13288" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="13290" href="Ledger.Conway.Specification.Utxo.html#12640" class="Bound">pp</a> <a id="13293" class="Symbol">.</a><a id="13294" href="Ledger.Conway.Specification.PParams.html#2598" class="Field">maxRefScriptSizePerTx</a>
    <a id="13320" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13322" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="13325" href="Ledger.Conway.Specification.Utxo.html#13325" class="Bound">(_</a> <a id="13328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13330" href="Ledger.Conway.Specification.Utxo.html#13330" class="Bound">txout</a><a id="13335" href="Ledger.Conway.Specification.Utxo.html#13325" class="Bound">)</a> <a id="13337" href="Class.IsSet.html#576" class="Function">∈</a> <a id="13339" href="Ledger.Prelude.html#2302" class="Function Operator">∣</a> <a id="13341" href="Ledger.Conway.Specification.Utxo.html#12862" class="Bound">txoutsʰ</a> <a id="13349" href="Ledger.Prelude.html#2302" class="Function Operator">∣</a> <a id="13351" href="Class.IsSet.html#576" class="Function">]</a>
        <a id="13361" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#883" class="Function">inject</a> <a id="13368" class="Symbol">((</a><a id="13370" href="Ledger.Conway.Specification.Utxo.html#12909" class="Bound">overhead</a> <a id="13379" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13381" href="Ledger.Conway.Specification.Utxo.html#995" class="Function">utxoEntrySize</a> <a id="13395" href="Ledger.Conway.Specification.Utxo.html#13330" class="Bound">txout</a><a id="13400" class="Symbol">)</a> <a id="13402" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="13404" href="Ledger.Conway.Specification.PParams.html#2464" class="Field">coinsPerUTxOByte</a> <a id="13421" href="Ledger.Conway.Specification.Utxo.html#12640" class="Bound">pp</a><a id="13423" class="Symbol">)</a> <a id="13425" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#1034" class="Function Operator">≤ᵗ</a> <a id="13428" href="Ledger.Conway.Specification.Transaction.html#5458" class="Function">getValueʰ</a> <a id="13438" href="Ledger.Conway.Specification.Utxo.html#13330" class="Bound">txout</a>
    <a id="13448" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13450" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="13453" href="Ledger.Conway.Specification.Utxo.html#13453" class="Bound">(_</a> <a id="13456" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13458" href="Ledger.Conway.Specification.Utxo.html#13458" class="Bound">txout</a><a id="13463" href="Ledger.Conway.Specification.Utxo.html#13453" class="Bound">)</a> <a id="13465" href="Class.IsSet.html#576" class="Function">∈</a> <a id="13467" href="Ledger.Prelude.html#2302" class="Function Operator">∣</a> <a id="13469" href="Ledger.Conway.Specification.Utxo.html#12862" class="Bound">txoutsʰ</a> <a id="13477" href="Ledger.Prelude.html#2302" class="Function Operator">∣</a> <a id="13479" href="Class.IsSet.html#576" class="Function">]</a>
        <a id="13489" href="Ledger.Conway.Specification.Abstract.html#727" class="Field">serSize</a> <a id="13497" class="Symbol">(</a><a id="13498" href="Ledger.Conway.Specification.Transaction.html#5458" class="Function">getValueʰ</a> <a id="13508" href="Ledger.Conway.Specification.Utxo.html#13458" class="Bound">txout</a><a id="13513" class="Symbol">)</a> <a id="13515" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="13517" href="Ledger.Conway.Specification.PParams.html#1989" class="Field">maxValSize</a> <a id="13528" href="Ledger.Conway.Specification.Utxo.html#12640" class="Bound">pp</a>
    <a id="13535" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13537" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="13540" href="Ledger.Conway.Specification.Utxo.html#13540" class="Bound">(</a><a id="13541" href="Ledger.Conway.Specification.Utxo.html#13541" class="Bound">a</a> <a id="13543" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13545" href="Ledger.Conway.Specification.Utxo.html#13540" class="Bound">_)</a> <a id="13548" href="Class.IsSet.html#576" class="Function">∈</a> <a id="13550" href="Class.IsSet.html#959" class="Function">range</a> <a id="13556" href="Ledger.Conway.Specification.Utxo.html#12862" class="Bound">txoutsʰ</a> <a id="13564" href="Class.IsSet.html#576" class="Function">]</a>
        <a id="13574" href="Data.Sum.Relation.Unary.All.html#626" class="Datatype">Sum.All</a> <a id="13582" class="Symbol">(</a><a id="13583" href="Function.Base.html#725" class="Function">const</a> <a id="13589" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="13590" class="Symbol">)</a> <a id="13592" class="Symbol">(λ</a> <a id="13595" href="Ledger.Conway.Specification.Utxo.html#13595" class="Bound">a</a> <a id="13597" class="Symbol">→</a> <a id="13599" href="Ledger.Conway.Specification.Utxo.html#13595" class="Bound">a</a> <a id="13601" class="Symbol">.</a><a id="13602" href="Ledger.Core.Specification.Address.html#1301" class="Field">BootstrapAddr.attrsSize</a> <a id="13626" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="13628" class="Number">64</a><a id="13630" class="Symbol">)</a> <a id="13632" href="Ledger.Conway.Specification.Utxo.html#13541" class="Bound">a</a>
    <a id="13638" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13640" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="13643" href="Ledger.Conway.Specification.Utxo.html#13643" class="Bound">(</a><a id="13644" href="Ledger.Conway.Specification.Utxo.html#13644" class="Bound">a</a> <a id="13646" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13648" href="Ledger.Conway.Specification.Utxo.html#13643" class="Bound">_)</a> <a id="13651" href="Class.IsSet.html#576" class="Function">∈</a> <a id="13653" href="Class.IsSet.html#959" class="Function">range</a> <a id="13659" href="Ledger.Conway.Specification.Utxo.html#12862" class="Bound">txoutsʰ</a> <a id="13667" href="Class.IsSet.html#576" class="Function">]</a>  <a id="13670" href="Ledger.Core.Specification.Address.html#2536" class="Function">netId</a> <a id="13676" href="Ledger.Conway.Specification.Utxo.html#13644" class="Bound">a</a>         <a id="13686" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13688" href="Ledger.Core.Specification.Epoch.html#2367" class="Function">NetworkId</a>
    <a id="13702" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13704" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="13707" href="Ledger.Conway.Specification.Utxo.html#13707" class="Bound">a</a> <a id="13709" href="Class.IsSet.html#576" class="Function">∈</a> <a id="13711" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13715" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="13723" href="Class.IsSet.html#576" class="Function">]</a>          <a id="13734" href="Ledger.Core.Specification.Address.html#1530" class="Field">NetworkIdOf</a> <a id="13746" href="Ledger.Conway.Specification.Utxo.html#13707" class="Bound">a</a> <a id="13748" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13750" href="Ledger.Core.Specification.Epoch.html#2367" class="Function">NetworkId</a>
    <a id="13764" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13766" href="Ledger.Conway.Specification.Transaction.html#3459" class="Function">txNetworkId</a>  <a id="13779" href="Prelude.html#2780" class="Function Operator">~</a> <a id="13781" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13786" href="Ledger.Core.Specification.Epoch.html#2367" class="Function">NetworkId</a>
    <a id="13800" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13802" href="Ledger.Conway.Specification.Transaction.html#3496" class="Function">curTreasury</a>  <a id="13815" href="Prelude.html#2780" class="Function Operator">~</a> <a id="13817" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13822" href="Ledger.Conway.Specification.Utxo.html#12699" class="Bound">treasury</a>
    <a id="13835" href="iog-prelude.Prelude.InferenceRules.html#583" class="Function Operator">∙</a> <a id="13837" href="Ledger.Conway.Specification.Utxo.html#11253" class="Generalizable">Γ</a> <a id="13839" href="Ledger.Conway.Specification.Utxo.html#11374" class="Datatype Operator">⊢</a> <a id="13841" href="Ledger.Conway.Specification.Utxo.html#11267" class="Generalizable">s</a> <a id="13843" href="Ledger.Conway.Specification.Utxo.html#11374" class="Datatype Operator">⇀⦇</a> <a id="13846" href="Ledger.Conway.Specification.Utxo.html#11286" class="Generalizable">tx</a> <a id="13849" href="Ledger.Conway.Specification.Utxo.html#11374" class="Datatype Operator">,UTXOS⦈</a> <a id="13857" href="Ledger.Conway.Specification.Utxo.html#11269" class="Generalizable">s&#39;</a>
      <a id="13866" href="iog-prelude.Prelude.InferenceRules.html#217" class="Function Operator">────────────────────────────────</a>
      <a id="13905" href="Ledger.Conway.Specification.Utxo.html#11253" class="Generalizable">Γ</a> <a id="13907" href="Ledger.Conway.Specification.Utxo.html#2119" class="Datatype Operator">⊢</a> <a id="13909" href="Ledger.Conway.Specification.Utxo.html#11267" class="Generalizable">s</a> <a id="13911" href="Ledger.Conway.Specification.Utxo.html#2119" class="Datatype Operator">⇀⦇</a> <a id="13914" href="Ledger.Conway.Specification.Utxo.html#11286" class="Generalizable">tx</a> <a id="13917" href="Ledger.Conway.Specification.Utxo.html#2119" class="Datatype Operator">,UTXO⦈</a> <a id="13924" href="Ledger.Conway.Specification.Utxo.html#11269" class="Generalizable">s&#39;</a>


<a id="13929" class="Keyword">pattern</a> <a id="UTXO-inductive⋯"></a><a id="13937" href="Ledger.Conway.Specification.Utxo.html#13937" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="13953" href="Ledger.Conway.Specification.Utxo.html#14037" class="Bound">tx</a> <a id="13956" href="Ledger.Conway.Specification.Utxo.html#14020" class="Bound">Γ</a> <a id="13958" href="Ledger.Conway.Specification.Utxo.html#14028" class="Bound">s</a> <a id="13960" href="Ledger.Conway.Specification.Utxo.html#14042" class="Bound">x</a> <a id="13962" href="Ledger.Conway.Specification.Utxo.html#14046" class="Bound">y</a> <a id="13964" href="Ledger.Conway.Specification.Utxo.html#14050" class="Bound">z</a> <a id="13966" href="Ledger.Conway.Specification.Utxo.html#14054" class="Bound">w</a> <a id="13968" href="Ledger.Conway.Specification.Utxo.html#14058" class="Bound">k</a> <a id="13970" href="Ledger.Conway.Specification.Utxo.html#14062" class="Bound">l</a> <a id="13972" href="Ledger.Conway.Specification.Utxo.html#14066" class="Bound">m</a> <a id="13974" href="Ledger.Conway.Specification.Utxo.html#14070" class="Bound">c</a> <a id="13976" href="Ledger.Conway.Specification.Utxo.html#14074" class="Bound">v</a> <a id="13978" href="Ledger.Conway.Specification.Utxo.html#14078" class="Bound">j</a> <a id="13980" href="Ledger.Conway.Specification.Utxo.html#14082" class="Bound">n</a> <a id="13982" href="Ledger.Conway.Specification.Utxo.html#14086" class="Bound">o</a> <a id="13984" href="Ledger.Conway.Specification.Utxo.html#14090" class="Bound">p</a> <a id="13986" href="Ledger.Conway.Specification.Utxo.html#14094" class="Bound">q</a> <a id="13988" href="Ledger.Conway.Specification.Utxo.html#14098" class="Bound">r</a> <a id="13990" href="Ledger.Conway.Specification.Utxo.html#14102" class="Bound">t</a> <a id="13992" href="Ledger.Conway.Specification.Utxo.html#14106" class="Bound">u</a> <a id="13994" href="Ledger.Conway.Specification.Utxo.html#14110" class="Bound">h</a>
  <a id="13998" class="Symbol">=</a> <a id="14000" href="Ledger.Conway.Specification.Utxo.html#12615" class="InductiveConstructor">UTXO-inductive</a> <a id="14015" class="Symbol">{</a><a id="14016" class="Argument">Γ</a> <a id="14018" class="Symbol">=</a> <a id="14020" href="Ledger.Conway.Specification.Utxo.html#14020" class="Bound">Γ</a><a id="14021" class="Symbol">}</a> <a id="14023" class="Symbol">{</a><a id="14024" class="Argument">s</a> <a id="14026" class="Symbol">=</a> <a id="14028" href="Ledger.Conway.Specification.Utxo.html#14028" class="Bound">s</a><a id="14029" class="Symbol">}</a> <a id="14031" class="Symbol">{</a><a id="14032" class="Argument">tx</a> <a id="14035" class="Symbol">=</a> <a id="14037" href="Ledger.Conway.Specification.Utxo.html#14037" class="Bound">tx</a><a id="14039" class="Symbol">}</a> <a id="14041" class="Symbol">(</a><a id="14042" href="Ledger.Conway.Specification.Utxo.html#14042" class="Bound">x</a> <a id="14044" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14046" href="Ledger.Conway.Specification.Utxo.html#14046" class="Bound">y</a> <a id="14048" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14050" href="Ledger.Conway.Specification.Utxo.html#14050" class="Bound">z</a> <a id="14052" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14054" href="Ledger.Conway.Specification.Utxo.html#14054" class="Bound">w</a> <a id="14056" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14058" href="Ledger.Conway.Specification.Utxo.html#14058" class="Bound">k</a> <a id="14060" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14062" href="Ledger.Conway.Specification.Utxo.html#14062" class="Bound">l</a> <a id="14064" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14066" href="Ledger.Conway.Specification.Utxo.html#14066" class="Bound">m</a> <a id="14068" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14070" href="Ledger.Conway.Specification.Utxo.html#14070" class="Bound">c</a> <a id="14072" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14074" href="Ledger.Conway.Specification.Utxo.html#14074" class="Bound">v</a> <a id="14076" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14078" href="Ledger.Conway.Specification.Utxo.html#14078" class="Bound">j</a> <a id="14080" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14082" href="Ledger.Conway.Specification.Utxo.html#14082" class="Bound">n</a> <a id="14084" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14086" href="Ledger.Conway.Specification.Utxo.html#14086" class="Bound">o</a> <a id="14088" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14090" href="Ledger.Conway.Specification.Utxo.html#14090" class="Bound">p</a> <a id="14092" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14094" href="Ledger.Conway.Specification.Utxo.html#14094" class="Bound">q</a> <a id="14096" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14098" href="Ledger.Conway.Specification.Utxo.html#14098" class="Bound">r</a> <a id="14100" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14102" href="Ledger.Conway.Specification.Utxo.html#14102" class="Bound">t</a> <a id="14104" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14106" href="Ledger.Conway.Specification.Utxo.html#14106" class="Bound">u</a> <a id="14108" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14110" href="Ledger.Conway.Specification.Utxo.html#14110" class="Bound">h</a><a id="14111" class="Symbol">)</a>
<a id="14113" class="Keyword">unquoteDecl</a> <a id="UTXO-premises"></a><a id="14125" href="Ledger.Conway.Specification.Utxo.html#14125" class="Function">UTXO-premises</a> <a id="14139" class="Symbol">=</a> <a id="14141" href="iog-prelude.Tactic.Premises.html#2260" class="Function">genPremises</a> <a id="14153" href="Ledger.Conway.Specification.Utxo.html#14125" class="Function">UTXO-premises</a> <a id="14167" class="Symbol">(</a><a id="14168" class="Keyword">quote</a> <a id="14174" href="Ledger.Conway.Specification.Utxo.html#12615" class="InductiveConstructor">UTXO-inductive</a><a id="14188" class="Symbol">)</a>

</pre></body></html>