<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Utxo</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="75" class="Keyword">open</a> <a id="80" class="Keyword">import</a> <a id="87" href="Ledger.Core.Specification.Transaction.html" class="Module">Ledger.Core.Specification.Transaction</a>

<a id="126" class="Keyword">module</a> <a id="133" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a>
  <a id="168" class="Symbol">(</a><a id="169" href="Ledger.Conway.Specification.Utxo.html#169" class="Bound">txs</a> <a id="173" class="Symbol">:</a> <a id="175" href="Ledger.Core.Specification.Transaction.html#896" class="Record">TransactionStructure</a><a id="195" class="Symbol">)</a> <a id="197" class="Symbol">(</a><a id="198" class="Keyword">open</a> <a id="203" href="Ledger.Core.Specification.Transaction.html#896" class="Module">TransactionStructure</a> <a id="224" href="Ledger.Conway.Specification.Utxo.html#169" class="Bound">txs</a><a id="227" class="Symbol">)</a>
  <a id="231" class="Symbol">(</a><a id="232" href="Ledger.Conway.Specification.Utxo.html#232" class="Bound">abs</a> <a id="236" class="Symbol">:</a> <a id="238" href="Ledger.Conway.Specification.Abstract.html#653" class="Record">AbstractFunctions</a> <a id="256" href="Ledger.Conway.Specification.Utxo.html#169" class="Bound">txs</a><a id="259" class="Symbol">)</a> <a id="261" class="Symbol">(</a><a id="262" class="Keyword">open</a> <a id="267" href="Ledger.Conway.Specification.Abstract.html#653" class="Module">AbstractFunctions</a> <a id="285" href="Ledger.Conway.Specification.Utxo.html#232" class="Bound">abs</a><a id="288" class="Symbol">)</a>
  <a id="292" class="Keyword">where</a>

<a id="299" class="Keyword">open</a> <a id="304" class="Keyword">import</a> <a id="311" href="Algebra.html" class="Module">Algebra</a>              <a id="332" class="Keyword">using</a> <a id="338" class="Symbol">(</a><a id="339" href="Algebra.Bundles.html#7886" class="Record">CommutativeMonoid</a><a id="356" class="Symbol">)</a>
<a id="358" class="Keyword">open</a> <a id="363" class="Keyword">import</a> <a id="370" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>  <a id="391" class="Keyword">using</a> <a id="397" class="Symbol">(</a><a id="398" href="Data.Nat.Properties.html#17566" class="Function">+-0-monoid</a><a id="408" class="Symbol">)</a>
<a id="410" class="Keyword">import</a> <a id="417" href="Data.Integer.html" class="Module">Data.Integer</a> <a id="430" class="Symbol">as</a> <a id="433" class="Module">ℤ</a>
<a id="435" class="Keyword">import</a> <a id="442" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="453" class="Symbol">as</a> <a id="456" class="Module">M</a>
<a id="458" class="Keyword">import</a> <a id="465" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="479" class="Symbol">as</a> <a id="482" class="Module">ℚ</a>
<a id="484" class="Keyword">import</a> <a id="491" href="Data.Sum.Relation.Unary.All.html" class="Module">Data.Sum.Relation.Unary.All</a> <a id="519" class="Symbol">as</a> <a id="522" class="Module">Sum</a>

<a id="527" class="Keyword">open</a> <a id="532" class="Keyword">import</a> <a id="539" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="555" class="Keyword">open</a> <a id="560" class="Keyword">import</a> <a id="567" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="601" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>
<a id="614" class="Keyword">open</a> <a id="619" class="Keyword">import</a> <a id="626" href="Ledger.Conway.Specification.Fees.html" class="Module">Ledger.Conway.Specification.Fees</a> <a id="659" href="Ledger.Conway.Specification.Utxo.html#169" class="Bound">txs</a> <a id="663" class="Keyword">using</a> <a id="669" class="Symbol">(</a><a id="670" href="Ledger.Conway.Specification.Fees.html#773" class="Function">scriptsCost</a><a id="681" class="Symbol">)</a>
<a id="683" class="Keyword">open</a> <a id="688" class="Keyword">import</a> <a id="695" href="Ledger.Conway.Specification.Script.Validation.html" class="Module">Ledger.Conway.Specification.Script.Validation</a> <a id="741" href="Ledger.Conway.Specification.Utxo.html#169" class="Bound">txs</a> <a id="745" href="Ledger.Conway.Specification.Utxo.html#232" class="Bound">abs</a>
<a id="749" class="Keyword">open</a> <a id="754" class="Keyword">import</a> <a id="761" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="801" href="Ledger.Conway.Specification.Utxo.html#169" class="Bound">txs</a> <a id="805" href="Ledger.Conway.Specification.Utxo.html#232" class="Bound">abs</a>

<a id="810" class="Keyword">instance</a>
  <a id="821" href="Ledger.Conway.Specification.Utxo.html#821" class="Function">_</a> <a id="823" class="Symbol">=</a> <a id="825" href="Data.Nat.Properties.html#17566" class="Function">+-0-monoid</a>


<a id="totExUnits"></a><a id="838" href="Ledger.Conway.Specification.Utxo.html#838" class="Function">totExUnits</a> <a id="849" class="Symbol">:</a> <a id="851" href="Ledger.Conway.Specification.Transaction.html#1721" class="Record">Tx</a> <a id="854" class="Symbol">→</a> <a id="856" href="Ledger.Core.Specification.Script.Base.html#1016" class="Function">ExUnits</a>
<a id="864" href="Ledger.Conway.Specification.Utxo.html#838" class="Function">totExUnits</a> <a id="875" href="Ledger.Conway.Specification.Utxo.html#875" class="Bound">tx</a> <a id="878" class="Symbol">=</a> <a id="880" href="abstract-set-theory.FiniteSetTheory.html#4312" class="Function">∑[</a> <a id="883" href="Ledger.Conway.Specification.Utxo.html#883" class="Bound">(_</a> <a id="886" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="888" href="Ledger.Conway.Specification.Utxo.html#888" class="Bound">eu</a><a id="890" href="Ledger.Conway.Specification.Utxo.html#883" class="Bound">)</a> <a id="892" href="abstract-set-theory.FiniteSetTheory.html#4312" class="Function">←</a> <a id="894" href="Ledger.Conway.Specification.Utxo.html#875" class="Bound">tx</a> <a id="897" class="Symbol">.</a><a id="898" href="Ledger.Conway.Specification.Transaction.html#1771" class="Field">wits</a> <a id="903" class="Symbol">.</a><a id="904" href="Ledger.Core.Specification.Transaction.html#3007" class="Field">txrdmrs</a> <a id="912" href="abstract-set-theory.FiniteSetTheory.html#4312" class="Function">]</a> <a id="914" href="Ledger.Conway.Specification.Utxo.html#888" class="Bound">eu</a>


  <a id="921" class="Keyword">where</a> <a id="927" class="Keyword">open</a> <a id="932" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a><a id="934" class="Symbol">;</a> <a id="936" class="Keyword">open</a> <a id="941" href="Ledger.Core.Specification.Transaction.html#2887" class="Module">TxWitnesses</a>

<a id="954" class="Comment">-- utxoEntrySizeWithoutVal = 27 words (8 bytes)</a>
<a id="utxoEntrySizeWithoutVal"></a><a id="1002" href="Ledger.Conway.Specification.Utxo.html#1002" class="Function">utxoEntrySizeWithoutVal</a> <a id="1026" class="Symbol">:</a> <a id="1028" href="Ledger.Core.Specification.TokenAlgebra.Base.html#427" class="Function">MemoryEstimate</a>
<a id="1043" href="Ledger.Conway.Specification.Utxo.html#1002" class="Function">utxoEntrySizeWithoutVal</a> <a id="1067" class="Symbol">=</a> <a id="1069" class="Number">8</a>

<a id="utxoEntrySize"></a><a id="1072" href="Ledger.Conway.Specification.Utxo.html#1072" class="Function">utxoEntrySize</a> <a id="1086" class="Symbol">:</a> <a id="1088" href="Ledger.Core.Specification.Transaction.html#3181" class="Function">TxOutʰ</a> <a id="1095" class="Symbol">→</a> <a id="1097" href="Ledger.Core.Specification.TokenAlgebra.Base.html#427" class="Function">MemoryEstimate</a>
<a id="1112" href="Ledger.Conway.Specification.Utxo.html#1072" class="Function">utxoEntrySize</a> <a id="1126" href="Ledger.Conway.Specification.Utxo.html#1126" class="Bound">o</a> <a id="1128" class="Symbol">=</a> <a id="1130" href="Ledger.Conway.Specification.Utxo.html#1002" class="Function">utxoEntrySizeWithoutVal</a> <a id="1154" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="1156" href="Ledger.Core.Specification.TokenAlgebra.Base.html#976" class="Function">size</a> <a id="1161" class="Symbol">(</a><a id="1162" href="Ledger.Core.Specification.Transaction.html#3341" class="Function">getValueʰ</a> <a id="1172" href="Ledger.Conway.Specification.Utxo.html#1126" class="Bound">o</a><a id="1173" class="Symbol">)</a>

<a id="1176" class="Keyword">open</a> <a id="1181" href="Ledger.Conway.Specification.PParams.html#1687" class="Module">PParams</a>



<a id="1192" class="Keyword">record</a> <a id="UTxOEnv"></a><a id="1199" href="Ledger.Conway.Specification.Utxo.html#1199" class="Record">UTxOEnv</a> <a id="1207" class="Symbol">:</a> <a id="1209" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1214" class="Keyword">where</a>
  <a id="1222" class="Keyword">field</a>
    <a id="UTxOEnv.slot"></a><a id="1232" href="Ledger.Conway.Specification.Utxo.html#1232" class="Field">slot</a>      <a id="1242" class="Symbol">:</a> <a id="1244" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a>
    <a id="UTxOEnv.pparams"></a><a id="1253" href="Ledger.Conway.Specification.Utxo.html#1253" class="Field">pparams</a>   <a id="1263" class="Symbol">:</a> <a id="1265" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a>
    <a id="UTxOEnv.treasury"></a><a id="1277" href="Ledger.Conway.Specification.Utxo.html#1277" class="Field">treasury</a>  <a id="1287" class="Symbol">:</a> <a id="1289" href="Ledger.Prelude.Base.html#200" class="Function">Treasury</a>



<a id="1301" class="Keyword">record</a> <a id="UTxOState"></a><a id="1308" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a> <a id="1318" class="Symbol">:</a> <a id="1320" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1325" class="Keyword">where</a>


  <a id="1335" class="Keyword">constructor</a> <a id="⟦_,_,_,_⟧ᵘ"></a><a id="1347" href="Ledger.Conway.Specification.Utxo.html#1347" class="InductiveConstructor Operator">⟦_,_,_,_⟧ᵘ</a>


  <a id="1362" class="Keyword">field</a>
    <a id="UTxOState.utxo"></a><a id="1372" href="Ledger.Conway.Specification.Utxo.html#1372" class="Field">utxo</a>       <a id="1383" class="Symbol">:</a> <a id="1385" href="Ledger.Core.Specification.Transaction.html#2607" class="Function">UTxO</a>
    <a id="UTxOState.fees"></a><a id="1394" href="Ledger.Conway.Specification.Utxo.html#1394" class="Field">fees</a>       <a id="1405" class="Symbol">:</a> <a id="1407" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
    <a id="UTxOState.deposits"></a><a id="1416" href="Ledger.Conway.Specification.Utxo.html#1416" class="Field">deposits</a>   <a id="1427" class="Symbol">:</a> <a id="1429" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a>
    <a id="UTxOState.donations"></a><a id="1442" href="Ledger.Conway.Specification.Utxo.html#1442" class="Field">donations</a>  <a id="1453" class="Symbol">:</a> <a id="1455" href="Ledger.Prelude.Base.html#176" class="Function">Donations</a>


<a id="1467" class="Keyword">record</a> <a id="HasUTxOState"></a><a id="1474" href="Ledger.Conway.Specification.Utxo.html#1474" class="Record">HasUTxOState</a> <a id="1487" class="Symbol">{</a><a id="1488" href="Ledger.Conway.Specification.Utxo.html#1488" class="Bound">a</a><a id="1489" class="Symbol">}</a> <a id="1491" class="Symbol">(</a><a id="1492" href="Ledger.Conway.Specification.Utxo.html#1492" class="Bound">A</a> <a id="1494" class="Symbol">:</a> <a id="1496" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1501" href="Ledger.Conway.Specification.Utxo.html#1488" class="Bound">a</a><a id="1502" class="Symbol">)</a> <a id="1504" class="Symbol">:</a> <a id="1506" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1511" href="Ledger.Conway.Specification.Utxo.html#1488" class="Bound">a</a> <a id="1513" class="Keyword">where</a>
  <a id="1521" class="Keyword">field</a> <a id="HasUTxOState.UTxOStateOf"></a><a id="1527" href="Ledger.Conway.Specification.Utxo.html#1527" class="Field">UTxOStateOf</a> <a id="1539" class="Symbol">:</a> <a id="1541" href="Ledger.Conway.Specification.Utxo.html#1492" class="Bound">A</a> <a id="1543" class="Symbol">→</a> <a id="1545" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a>
<a id="1555" class="Keyword">open</a> <a id="1560" href="Ledger.Conway.Specification.Utxo.html#1474" class="Module">HasUTxOState</a> <a id="1573" class="Symbol">⦃...⦄</a> <a id="1579" class="Keyword">public</a>

<a id="1587" class="Keyword">instance</a>
  <a id="HasPParams-UTxOEnv"></a><a id="1598" href="Ledger.Conway.Specification.Utxo.html#1598" class="Function">HasPParams-UTxOEnv</a> <a id="1617" class="Symbol">:</a> <a id="1619" href="Ledger.Conway.Specification.PParams.html#3491" class="Record">HasPParams</a> <a id="1630" href="Ledger.Conway.Specification.Utxo.html#1199" class="Record">UTxOEnv</a>
  <a id="1640" href="Ledger.Conway.Specification.Utxo.html#1598" class="Function">HasPParams-UTxOEnv</a> <a id="1659" class="Symbol">.</a><a id="1660" href="Ledger.Conway.Specification.PParams.html#3542" class="Field">PParamsOf</a> <a id="1670" class="Symbol">=</a> <a id="1672" href="Ledger.Conway.Specification.Utxo.html#1253" class="Field">UTxOEnv.pparams</a>

  <a id="HasUTxO-UTxOState"></a><a id="1691" href="Ledger.Conway.Specification.Utxo.html#1691" class="Function">HasUTxO-UTxOState</a> <a id="1709" class="Symbol">:</a> <a id="1711" href="Ledger.Core.Specification.Transaction.html#2780" class="Record">HasUTxO</a> <a id="1719" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a>
  <a id="1731" href="Ledger.Conway.Specification.Utxo.html#1691" class="Function">HasUTxO-UTxOState</a> <a id="1749" class="Symbol">.</a><a id="1750" href="Ledger.Core.Specification.Transaction.html#2830" class="Field">UTxOOf</a> <a id="1757" class="Symbol">=</a> <a id="1759" href="Ledger.Conway.Specification.Utxo.html#1372" class="Field">UTxOState.utxo</a>

  <a id="HasFee-UTxOState"></a><a id="1777" href="Ledger.Conway.Specification.Utxo.html#1777" class="Function">HasFee-UTxOState</a> <a id="1794" class="Symbol">:</a> <a id="1796" href="Ledger.Prelude.Base.html#621" class="Record">HasFees</a> <a id="1804" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a>
  <a id="1816" href="Ledger.Conway.Specification.Utxo.html#1777" class="Function">HasFee-UTxOState</a> <a id="1833" class="Symbol">.</a><a id="1834" href="Ledger.Prelude.Base.html#669" class="Field">FeesOf</a> <a id="1841" class="Symbol">=</a> <a id="1843" href="Ledger.Conway.Specification.Utxo.html#1394" class="Field">UTxOState.fees</a>

  <a id="HasDeposits-UTxOState"></a><a id="1861" href="Ledger.Conway.Specification.Utxo.html#1861" class="Function">HasDeposits-UTxOState</a> <a id="1883" class="Symbol">:</a> <a id="1885" href="Ledger.Conway.Specification.Certs.html#860" class="Record">HasDeposits</a> <a id="1897" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a>
  <a id="1909" href="Ledger.Conway.Specification.Utxo.html#1861" class="Function">HasDeposits-UTxOState</a> <a id="1931" class="Symbol">.</a><a id="1932" href="Ledger.Conway.Specification.Certs.html#912" class="Field">DepositsOf</a> <a id="1943" class="Symbol">=</a> <a id="1945" href="Ledger.Conway.Specification.Utxo.html#1416" class="Field">UTxOState.deposits</a>

  <a id="HasDonations-UTxOState"></a><a id="1967" href="Ledger.Conway.Specification.Utxo.html#1967" class="Function">HasDonations-UTxOState</a> <a id="1990" class="Symbol">:</a> <a id="1992" href="Ledger.Prelude.Base.html#501" class="Record">HasDonations</a> <a id="2005" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a>
  <a id="2017" href="Ledger.Conway.Specification.Utxo.html#1967" class="Function">HasDonations-UTxOState</a> <a id="2040" class="Symbol">.</a><a id="2041" href="Ledger.Prelude.Base.html#554" class="Field">DonationsOf</a> <a id="2053" class="Symbol">=</a> <a id="2055" href="Ledger.Conway.Specification.Utxo.html#1442" class="Field">UTxOState.donations</a>

  <a id="2078" class="Keyword">unquoteDecl</a> <a id="HasCast-UTxOEnv"></a><a id="2090" href="Ledger.Conway.Specification.Utxo.html#2090" class="Function">HasCast-UTxOEnv</a> <a id="HasCast-UTxOState"></a><a id="2106" href="Ledger.Conway.Specification.Utxo.html#2106" class="Function">HasCast-UTxOState</a> <a id="2124" class="Symbol">=</a> <a id="2126" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="2145" class="Symbol">(</a> <a id="2147" class="Symbol">(</a><a id="2148" class="Keyword">quote</a> <a id="2154" href="Ledger.Conway.Specification.Utxo.html#1199" class="Record">UTxOEnv</a>   <a id="2164" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2166" href="Ledger.Conway.Specification.Utxo.html#2090" class="Function">HasCast-UTxOEnv</a>  <a id="2183" class="Symbol">)</a> <a id="2185" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a>
    <a id="2191" href="Data.List.Base.html#4907" class="Function Operator">[</a> <a id="2193" class="Symbol">(</a><a id="2194" class="Keyword">quote</a> <a id="2200" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a> <a id="2210" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2212" href="Ledger.Conway.Specification.Utxo.html#2106" class="Function">HasCast-UTxOState</a><a id="2229" class="Symbol">)</a> <a id="2231" href="Data.List.Base.html#4907" class="Function Operator">]</a><a id="2232" class="Symbol">)</a>


<a id="2236" class="Keyword">data</a> <a id="_⊢_⇀⦇_,UTXO⦈_"></a><a id="2241" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="2255" class="Symbol">:</a> <a id="2257" href="Ledger.Conway.Specification.Utxo.html#1199" class="Record">UTxOEnv</a> <a id="2265" class="Symbol">→</a> <a id="2267" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a> <a id="2277" class="Symbol">→</a> <a id="2279" href="Ledger.Conway.Specification.Transaction.html#1721" class="Record">Tx</a> <a id="2282" class="Symbol">→</a> <a id="2284" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a> <a id="2294" class="Symbol">→</a> <a id="2296" href="Agda.Primitive.html#388" class="Primitive">Type</a>


<a id="2303" class="Keyword">module</a> <a id="2310" href="Ledger.Conway.Specification.Utxo.html#2310" class="Module">_</a> <a id="2312" class="Symbol">(</a><a id="2313" class="Keyword">let</a> <a id="2317" class="Keyword">open</a> <a id="2322" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a><a id="2324" class="Symbol">;</a> <a id="2326" class="Keyword">open</a> <a id="2331" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a><a id="2337" class="Symbol">;</a> <a id="2339" class="Keyword">open</a> <a id="2344" href="Ledger.Core.Specification.Transaction.html#2887" class="Module">TxWitnesses</a><a id="2355" class="Symbol">)</a> <a id="2357" class="Keyword">where</a> <a id="2363" class="Keyword">opaque</a>


  <a id="2374" href="Ledger.Conway.Specification.Utxo.html#2374" class="Function">outs</a> <a id="2379" class="Symbol">:</a> <a id="2381" href="Ledger.Conway.Specification.Transaction.html#352" class="Record">TxBody</a> <a id="2388" class="Symbol">→</a> <a id="2390" href="Ledger.Core.Specification.Transaction.html#2607" class="Function">UTxO</a>
  <a id="2397" href="Ledger.Conway.Specification.Utxo.html#2374" class="Function">outs</a> <a id="2402" href="Ledger.Conway.Specification.Utxo.html#2402" class="Bound">tx</a> <a id="2405" class="Symbol">=</a> <a id="2407" href="Axiom.Set.Map.html#6934" class="Function">mapKeys</a> <a id="2415" class="Symbol">(</a><a id="2416" href="Ledger.Conway.Specification.Utxo.html#2402" class="Bound">tx</a> <a id="2419" class="Symbol">.</a><a id="2420" href="Ledger.Conway.Specification.Transaction.html#524" class="Field">txId</a> <a id="2425" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="2427" class="Symbol">)</a> <a id="2429" class="Symbol">(</a><a id="2430" href="Ledger.Conway.Specification.Utxo.html#2402" class="Bound">tx</a> <a id="2433" class="Symbol">.</a><a id="2434" href="Ledger.Conway.Specification.Transaction.html#486" class="Field">txOuts</a><a id="2440" class="Symbol">)</a>

  <a id="2445" href="Ledger.Conway.Specification.Utxo.html#2445" class="Function">balance</a> <a id="2453" class="Symbol">:</a> <a id="2455" href="Ledger.Core.Specification.Transaction.html#2607" class="Function">UTxO</a> <a id="2460" class="Symbol">→</a> <a id="2462" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a>
  <a id="2470" href="Ledger.Conway.Specification.Utxo.html#2445" class="Function">balance</a> <a id="2478" href="Ledger.Conway.Specification.Utxo.html#2478" class="Bound">utxo</a> <a id="2483" class="Symbol">=</a> <a id="2485" href="abstract-set-theory.FiniteSetTheory.html#4312" class="Function">∑[</a> <a id="2488" href="Ledger.Conway.Specification.Utxo.html#2488" class="Bound">x</a> <a id="2490" href="abstract-set-theory.FiniteSetTheory.html#4312" class="Function">←</a> <a id="2492" href="Axiom.Set.Map.html#7106" class="Function">mapValues</a> <a id="2502" href="Ledger.Core.Specification.Transaction.html#3252" class="Function">txOutHash</a> <a id="2512" href="Ledger.Conway.Specification.Utxo.html#2478" class="Bound">utxo</a> <a id="2517" href="abstract-set-theory.FiniteSetTheory.html#4312" class="Function">]</a> <a id="2519" href="Ledger.Core.Specification.Transaction.html#3341" class="Function">getValueʰ</a> <a id="2529" href="Ledger.Conway.Specification.Utxo.html#2488" class="Bound">x</a>

  <a id="2534" href="Ledger.Conway.Specification.Utxo.html#2534" class="Function">cbalance</a> <a id="2543" class="Symbol">:</a> <a id="2545" href="Ledger.Core.Specification.Transaction.html#2607" class="Function">UTxO</a> <a id="2550" class="Symbol">→</a> <a id="2552" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="2559" href="Ledger.Conway.Specification.Utxo.html#2534" class="Function">cbalance</a> <a id="2568" href="Ledger.Conway.Specification.Utxo.html#2568" class="Bound">utxo</a> <a id="2573" class="Symbol">=</a> <a id="2575" href="Ledger.Core.Specification.TokenAlgebra.Base.html#835" class="Function">coin</a> <a id="2580" class="Symbol">(</a><a id="2581" href="Ledger.Conway.Specification.Utxo.html#2445" class="Function">balance</a> <a id="2589" href="Ledger.Conway.Specification.Utxo.html#2568" class="Bound">utxo</a><a id="2593" class="Symbol">)</a>

  <a id="2598" href="Ledger.Conway.Specification.Utxo.html#2598" class="Function">refScriptsSize</a> <a id="2613" class="Symbol">:</a> <a id="2615" href="Ledger.Core.Specification.Transaction.html#2607" class="Function">UTxO</a> <a id="2620" class="Symbol">→</a> <a id="2622" href="Ledger.Conway.Specification.Transaction.html#1721" class="Record">Tx</a> <a id="2625" class="Symbol">→</a> <a id="2627" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="2631" href="Ledger.Conway.Specification.Utxo.html#2598" class="Function">refScriptsSize</a> <a id="2646" href="Ledger.Conway.Specification.Utxo.html#2646" class="Bound">utxo</a> <a id="2651" href="Ledger.Conway.Specification.Utxo.html#2651" class="Bound">tx</a> <a id="2654" class="Symbol">=</a> <a id="2656" href="Data.Nat.ListAction.html#612" class="Function">sum</a> <a id="2660" class="Symbol">(</a><a id="2661" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="2665" href="Ledger.Conway.Specification.Abstract.html#889" class="Field">scriptSize</a> <a id="2676" class="Symbol">(</a><a id="2677" href="abstract-set-theory.FiniteSetTheory.html#2556" class="Function">setToList</a> <a id="2687" class="Symbol">(</a><a id="2688" href="Ledger.Conway.Specification.Transaction.html#2597" class="Function">refScripts</a> <a id="2699" href="Ledger.Conway.Specification.Utxo.html#2651" class="Bound">tx</a> <a id="2702" href="Ledger.Conway.Specification.Utxo.html#2646" class="Bound">utxo</a><a id="2706" class="Symbol">)))</a>

  <a id="2713" href="Ledger.Conway.Specification.Utxo.html#2713" class="Function">minfee</a> <a id="2720" class="Symbol">:</a> <a id="2722" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a> <a id="2730" class="Symbol">→</a> <a id="2732" href="Ledger.Core.Specification.Transaction.html#2607" class="Function">UTxO</a> <a id="2737" class="Symbol">→</a> <a id="2739" href="Ledger.Conway.Specification.Transaction.html#1721" class="Record">Tx</a> <a id="2742" class="Symbol">→</a> <a id="2744" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="2751" href="Ledger.Conway.Specification.Utxo.html#2713" class="Function">minfee</a> <a id="2758" href="Ledger.Conway.Specification.Utxo.html#2758" class="Bound">pp</a> <a id="2761" href="Ledger.Conway.Specification.Utxo.html#2761" class="Bound">utxo</a> <a id="2766" href="Ledger.Conway.Specification.Utxo.html#2766" class="Bound">tx</a>  <a id="2770" class="Symbol">=</a> <a id="2772" href="Ledger.Conway.Specification.Utxo.html#2758" class="Bound">pp</a> <a id="2775" class="Symbol">.</a><a id="2776" href="Ledger.Conway.Specification.PParams.html#2109" class="Field">a</a> <a id="2778" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="2780" href="Ledger.Conway.Specification.Utxo.html#2766" class="Bound">tx</a> <a id="2783" class="Symbol">.</a><a id="2784" href="Ledger.Conway.Specification.Transaction.html#1798" class="Field">txsize</a> <a id="2791" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2793" href="Ledger.Conway.Specification.Utxo.html#2758" class="Bound">pp</a> <a id="2796" class="Symbol">.</a><a id="2797" href="Ledger.Conway.Specification.PParams.html#2151" class="Field">b</a>
                     <a id="2820" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2822" href="Ledger.Conway.Specification.Abstract.html#692" class="Field">txscriptfee</a> <a id="2834" class="Symbol">(</a><a id="2835" href="Ledger.Conway.Specification.Utxo.html#2758" class="Bound">pp</a> <a id="2838" class="Symbol">.</a><a id="2839" href="Ledger.Conway.Specification.PParams.html#2468" class="Field">prices</a><a id="2845" class="Symbol">)</a> <a id="2847" class="Symbol">(</a><a id="2848" href="Ledger.Conway.Specification.Utxo.html#838" class="Function">totExUnits</a> <a id="2859" href="Ledger.Conway.Specification.Utxo.html#2766" class="Bound">tx</a><a id="2861" class="Symbol">)</a>
                     <a id="2884" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2886" href="Ledger.Conway.Specification.Fees.html#773" class="Function">scriptsCost</a> <a id="2898" href="Ledger.Conway.Specification.Utxo.html#2758" class="Bound">pp</a> <a id="2901" class="Symbol">(</a><a id="2902" href="Ledger.Conway.Specification.Utxo.html#2598" class="Function">refScriptsSize</a> <a id="2917" href="Ledger.Conway.Specification.Utxo.html#2761" class="Bound">utxo</a> <a id="2922" href="Ledger.Conway.Specification.Utxo.html#2766" class="Bound">tx</a><a id="2924" class="Symbol">)</a>


<a id="2928" class="Keyword">instance</a>
  <a id="HasCoin-UTxO"></a><a id="2939" href="Ledger.Conway.Specification.Utxo.html#2939" class="Function">HasCoin-UTxO</a> <a id="2952" class="Symbol">:</a> <a id="2954" href="Ledger.Prelude.HasCoin.html#123" class="Record">HasCoin</a> <a id="2962" href="Ledger.Core.Specification.Transaction.html#2607" class="Function">UTxO</a>
  <a id="2969" href="Ledger.Conway.Specification.Utxo.html#2939" class="Function">HasCoin-UTxO</a> <a id="2982" class="Symbol">.</a><a id="2983" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="2991" class="Symbol">=</a> <a id="2993" href="Ledger.Conway.Specification.Utxo.html#2534" class="Function">cbalance</a>


<a id="certDeposit"></a><a id="3004" href="Ledger.Conway.Specification.Utxo.html#3004" class="Function">certDeposit</a> <a id="3016" class="Symbol">:</a> <a id="3018" href="Ledger.Conway.Specification.Certs.html#2251" class="Datatype">DCert</a> <a id="3024" class="Symbol">→</a> <a id="3026" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a> <a id="3034" class="Symbol">→</a> <a id="3036" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a>
<a id="3045" href="Ledger.Conway.Specification.Utxo.html#3004" class="Function">certDeposit</a> <a id="3057" class="Symbol">(</a><a id="3058" href="Ledger.Conway.Specification.Certs.html#2272" class="InductiveConstructor">delegate</a> <a id="3067" href="Ledger.Conway.Specification.Utxo.html#3067" class="Bound">c</a> <a id="3069" class="Symbol">_</a> <a id="3071" class="Symbol">_</a> <a id="3073" href="Ledger.Conway.Specification.Utxo.html#3073" class="Bound">v</a><a id="3074" class="Symbol">)</a> <a id="3076" class="Symbol">_</a>   <a id="3080" class="Symbol">=</a> <a id="3082" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3084" href="Ledger.Conway.Specification.Certs.html#591" class="InductiveConstructor">CredentialDeposit</a> <a id="3102" href="Ledger.Conway.Specification.Utxo.html#3067" class="Bound">c</a> <a id="3104" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3106" href="Ledger.Conway.Specification.Utxo.html#3073" class="Bound">v</a> <a id="3108" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="3110" href="Ledger.Conway.Specification.Utxo.html#3004" class="Function">certDeposit</a> <a id="3122" class="Symbol">(</a><a id="3123" href="Ledger.Conway.Specification.Certs.html#2964" class="InductiveConstructor">reg</a> <a id="3127" href="Ledger.Conway.Specification.Utxo.html#3127" class="Bound">c</a> <a id="3129" class="Symbol">_)</a>          <a id="3141" href="Ledger.Conway.Specification.Utxo.html#3141" class="Bound">pp</a>  <a id="3145" class="Symbol">=</a> <a id="3147" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3149" href="Ledger.Conway.Specification.Certs.html#591" class="InductiveConstructor">CredentialDeposit</a> <a id="3167" href="Ledger.Conway.Specification.Utxo.html#3127" class="Bound">c</a> <a id="3169" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3171" href="Ledger.Conway.Specification.Utxo.html#3141" class="Bound">pp</a> <a id="3174" class="Symbol">.</a><a id="3175" href="Ledger.Conway.Specification.PParams.html#2193" class="Field">keyDeposit</a> <a id="3186" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="3188" href="Ledger.Conway.Specification.Utxo.html#3004" class="Function">certDeposit</a> <a id="3200" class="Symbol">(</a><a id="3201" href="Ledger.Conway.Specification.Certs.html#2393" class="InductiveConstructor">regpool</a> <a id="3209" href="Ledger.Conway.Specification.Utxo.html#3209" class="Bound">kh</a> <a id="3212" class="Symbol">_)</a>     <a id="3219" href="Ledger.Conway.Specification.Utxo.html#3219" class="Bound">pp</a>  <a id="3223" class="Symbol">=</a> <a id="3225" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3227" href="Ledger.Conway.Specification.Certs.html#644" class="InductiveConstructor">PoolDeposit</a> <a id="3239" href="Ledger.Conway.Specification.Utxo.html#3209" class="Bound">kh</a> <a id="3242" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3244" href="Ledger.Conway.Specification.Utxo.html#3219" class="Bound">pp</a> <a id="3247" class="Symbol">.</a><a id="3248" href="Ledger.Conway.Specification.PParams.html#2238" class="Field">poolDeposit</a> <a id="3260" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="3262" href="Ledger.Conway.Specification.Utxo.html#3004" class="Function">certDeposit</a> <a id="3274" class="Symbol">(</a><a id="3275" href="Ledger.Conway.Specification.Certs.html#2483" class="InductiveConstructor">regdrep</a> <a id="3283" href="Ledger.Conway.Specification.Utxo.html#3283" class="Bound">c</a> <a id="3285" href="Ledger.Conway.Specification.Utxo.html#3285" class="Bound">v</a> <a id="3287" class="Symbol">_)</a>    <a id="3293" class="Symbol">_</a>   <a id="3297" class="Symbol">=</a> <a id="3299" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3301" href="Ledger.Conway.Specification.Certs.html#697" class="InductiveConstructor">DRepDeposit</a> <a id="3313" href="Ledger.Conway.Specification.Utxo.html#3283" class="Bound">c</a> <a id="3315" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3317" href="Ledger.Conway.Specification.Utxo.html#3285" class="Bound">v</a> <a id="3319" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="3321" href="Ledger.Conway.Specification.Utxo.html#3004" class="CatchallClause Function">certDeposit</a><a id="3332" class="CatchallClause"> </a><a id="3333" class="CatchallClause Symbol">_</a><a id="3334" class="CatchallClause">                  </a><a id="3352" class="CatchallClause Symbol">_</a>   <a id="3356" class="Symbol">=</a> <a id="3358" href="Class.HasEmptySet.html#287" class="Field">∅</a>

<a id="certRefund"></a><a id="3361" href="Ledger.Conway.Specification.Utxo.html#3361" class="Function">certRefund</a> <a id="3372" class="Symbol">:</a> <a id="3374" href="Ledger.Conway.Specification.Certs.html#2251" class="Datatype">DCert</a> <a id="3380" class="Symbol">→</a> <a id="3382" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3384" href="Ledger.Conway.Specification.Certs.html#561" class="Datatype">DepositPurpose</a>
<a id="3399" href="Ledger.Conway.Specification.Utxo.html#3361" class="Function">certRefund</a> <a id="3410" class="Symbol">(</a><a id="3411" href="Ledger.Conway.Specification.Certs.html#2345" class="InductiveConstructor">dereg</a> <a id="3417" href="Ledger.Conway.Specification.Utxo.html#3417" class="Bound">c</a> <a id="3419" class="Symbol">_)</a>      <a id="3427" class="Symbol">=</a> <a id="3429" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3431" href="Ledger.Conway.Specification.Certs.html#591" class="InductiveConstructor">CredentialDeposit</a> <a id="3449" href="Ledger.Conway.Specification.Utxo.html#3417" class="Bound">c</a> <a id="3451" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="3453" href="Ledger.Conway.Specification.Utxo.html#3361" class="Function">certRefund</a> <a id="3464" class="Symbol">(</a><a id="3465" href="Ledger.Conway.Specification.Certs.html#2534" class="InductiveConstructor">deregdrep</a> <a id="3475" href="Ledger.Conway.Specification.Utxo.html#3475" class="Bound">c</a> <a id="3477" class="Symbol">_)</a>  <a id="3481" class="Symbol">=</a> <a id="3483" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3485" href="Ledger.Conway.Specification.Certs.html#697" class="InductiveConstructor">DRepDeposit</a> <a id="3497" href="Ledger.Conway.Specification.Utxo.html#3475" class="Bound">c</a> <a id="3499" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="3501" href="Ledger.Conway.Specification.Utxo.html#3361" class="CatchallClause Function">certRefund</a><a id="3511" class="CatchallClause"> </a><a id="3512" class="CatchallClause Symbol">_</a>                <a id="3529" class="Symbol">=</a> <a id="3531" href="Class.HasEmptySet.html#287" class="Field">∅</a>


<a id="3535" class="Keyword">data</a> <a id="ValidCertDeposits"></a><a id="3540" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="3558" class="Symbol">(</a><a id="3559" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="3562" class="Symbol">:</a> <a id="3564" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a><a id="3571" class="Symbol">)</a> <a id="3573" class="Symbol">(</a><a id="3574" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="3579" class="Symbol">:</a> <a id="3581" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a><a id="3589" class="Symbol">)</a> <a id="3591" class="Symbol">:</a> <a id="3593" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3598" href="Ledger.Conway.Specification.Certs.html#2251" class="Datatype">DCert</a> <a id="3604" class="Symbol">→</a> <a id="3606" href="Agda.Primitive.html#388" class="Primitive">Set</a>


  <a id="3614" class="Keyword">where</a>
  <a id="ValidCertDeposits.[]"></a><a id="3622" href="Ledger.Conway.Specification.Utxo.html#3622" class="InductiveConstructor">[]</a>         <a id="3633" class="Symbol">:</a> <a id="3635" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="3653" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="3656" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="3661" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="ValidCertDeposits.delegate"></a><a id="3666" href="Ledger.Conway.Specification.Utxo.html#3666" class="InductiveConstructor">delegate</a>   <a id="3677" class="Symbol">:</a> <a id="3679" class="Symbol">∀</a> <a id="3681" class="Symbol">{</a><a id="3682" href="Ledger.Conway.Specification.Utxo.html#3682" class="Bound">c</a> <a id="3684" href="Ledger.Conway.Specification.Utxo.html#3684" class="Bound">del</a> <a id="3688" href="Ledger.Conway.Specification.Utxo.html#3688" class="Bound">kh</a> <a id="3691" href="Ledger.Conway.Specification.Utxo.html#3691" class="Bound">v</a> <a id="3693" href="Ledger.Conway.Specification.Utxo.html#3693" class="Bound">certs</a><a id="3698" class="Symbol">}</a>
             <a id="3713" class="Symbol">→</a> <a id="3715" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="3733" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="3736" class="Symbol">(</a><a id="3737" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="3742" href="Axiom.Set.Map.Dec.html#2052" class="Function Operator">∪⁺</a> <a id="3745" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3747" href="Ledger.Conway.Specification.Certs.html#591" class="InductiveConstructor">CredentialDeposit</a> <a id="3765" href="Ledger.Conway.Specification.Utxo.html#3682" class="Bound">c</a> <a id="3767" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3769" href="Ledger.Conway.Specification.Utxo.html#3691" class="Bound">v</a> <a id="3771" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="3772" class="Symbol">)</a> <a id="3774" href="Ledger.Conway.Specification.Utxo.html#3693" class="Bound">certs</a>
             <a id="3793" class="Symbol">→</a> <a id="3795" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="3813" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="3816" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="3821" class="Symbol">(</a><a id="3822" href="Ledger.Conway.Specification.Certs.html#2272" class="InductiveConstructor">delegate</a> <a id="3831" href="Ledger.Conway.Specification.Utxo.html#3682" class="Bound">c</a> <a id="3833" href="Ledger.Conway.Specification.Utxo.html#3684" class="Bound">del</a> <a id="3837" href="Ledger.Conway.Specification.Utxo.html#3688" class="Bound">kh</a> <a id="3840" href="Ledger.Conway.Specification.Utxo.html#3691" class="Bound">v</a> <a id="3842" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3844" href="Ledger.Conway.Specification.Utxo.html#3693" class="Bound">certs</a><a id="3849" class="Symbol">)</a>
  <a id="ValidCertDeposits.regpool"></a><a id="3853" href="Ledger.Conway.Specification.Utxo.html#3853" class="InductiveConstructor">regpool</a>    <a id="3864" class="Symbol">:</a> <a id="3866" class="Symbol">∀</a> <a id="3868" class="Symbol">{</a><a id="3869" href="Ledger.Conway.Specification.Utxo.html#3869" class="Bound">kh</a> <a id="3872" href="Ledger.Conway.Specification.Utxo.html#3872" class="Bound">p</a> <a id="3874" href="Ledger.Conway.Specification.Utxo.html#3874" class="Bound">certs</a><a id="3879" class="Symbol">}</a>
             <a id="3894" class="Symbol">→</a> <a id="3896" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="3914" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="3917" class="Symbol">(</a><a id="3918" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="3923" href="Axiom.Set.Map.Dec.html#2052" class="Function Operator">∪⁺</a> <a id="3926" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="3928" href="Ledger.Conway.Specification.Certs.html#644" class="InductiveConstructor">PoolDeposit</a> <a id="3940" href="Ledger.Conway.Specification.Utxo.html#3869" class="Bound">kh</a> <a id="3943" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3945" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="3948" class="Symbol">.</a><a id="3949" href="Ledger.Conway.Specification.PParams.html#2238" class="Field">poolDeposit</a> <a id="3961" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="3962" class="Symbol">)</a> <a id="3964" href="Ledger.Conway.Specification.Utxo.html#3874" class="Bound">certs</a>
             <a id="3983" class="Symbol">→</a> <a id="3985" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="4003" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="4006" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="4011" class="Symbol">(</a><a id="4012" href="Ledger.Conway.Specification.Certs.html#2393" class="InductiveConstructor">regpool</a> <a id="4020" href="Ledger.Conway.Specification.Utxo.html#3869" class="Bound">kh</a> <a id="4023" href="Ledger.Conway.Specification.Utxo.html#3872" class="Bound">p</a> <a id="4025" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4027" href="Ledger.Conway.Specification.Utxo.html#3874" class="Bound">certs</a><a id="4032" class="Symbol">)</a>
  <a id="ValidCertDeposits.regdrep"></a><a id="4036" href="Ledger.Conway.Specification.Utxo.html#4036" class="InductiveConstructor">regdrep</a>    <a id="4047" class="Symbol">:</a> <a id="4049" class="Symbol">∀</a> <a id="4051" class="Symbol">{</a><a id="4052" href="Ledger.Conway.Specification.Utxo.html#4052" class="Bound">c</a> <a id="4054" href="Ledger.Conway.Specification.Utxo.html#4054" class="Bound">v</a> <a id="4056" href="Ledger.Conway.Specification.Utxo.html#4056" class="Bound">a</a> <a id="4058" href="Ledger.Conway.Specification.Utxo.html#4058" class="Bound">certs</a><a id="4063" class="Symbol">}</a>
             <a id="4078" class="Symbol">→</a> <a id="4080" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="4098" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="4101" class="Symbol">(</a><a id="4102" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="4107" href="Axiom.Set.Map.Dec.html#2052" class="Function Operator">∪⁺</a> <a id="4110" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="4112" href="Ledger.Conway.Specification.Certs.html#697" class="InductiveConstructor">DRepDeposit</a> <a id="4124" href="Ledger.Conway.Specification.Utxo.html#4052" class="Bound">c</a> <a id="4126" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4128" href="Ledger.Conway.Specification.Utxo.html#4054" class="Bound">v</a> <a id="4130" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="4131" class="Symbol">)</a> <a id="4133" href="Ledger.Conway.Specification.Utxo.html#4058" class="Bound">certs</a>
             <a id="4152" class="Symbol">→</a> <a id="4154" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="4172" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="4175" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="4180" class="Symbol">(</a><a id="4181" href="Ledger.Conway.Specification.Certs.html#2483" class="InductiveConstructor">regdrep</a> <a id="4189" href="Ledger.Conway.Specification.Utxo.html#4052" class="Bound">c</a> <a id="4191" href="Ledger.Conway.Specification.Utxo.html#4054" class="Bound">v</a> <a id="4193" href="Ledger.Conway.Specification.Utxo.html#4056" class="Bound">a</a> <a id="4195" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4197" href="Ledger.Conway.Specification.Utxo.html#4058" class="Bound">certs</a><a id="4202" class="Symbol">)</a>
  <a id="ValidCertDeposits.reg"></a><a id="4206" href="Ledger.Conway.Specification.Utxo.html#4206" class="InductiveConstructor">reg</a>        <a id="4217" class="Symbol">:</a> <a id="4219" class="Symbol">∀</a> <a id="4221" class="Symbol">{</a><a id="4222" href="Ledger.Conway.Specification.Utxo.html#4222" class="Bound">c</a> <a id="4224" href="Ledger.Conway.Specification.Utxo.html#4224" class="Bound">v</a> <a id="4226" href="Ledger.Conway.Specification.Utxo.html#4226" class="Bound">certs</a><a id="4231" class="Symbol">}</a>
             <a id="4246" class="Symbol">→</a> <a id="4248" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="4266" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="4269" class="Symbol">(</a><a id="4270" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="4275" href="Axiom.Set.Map.Dec.html#2052" class="Function Operator">∪⁺</a> <a id="4278" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="4280" href="Ledger.Conway.Specification.Certs.html#591" class="InductiveConstructor">CredentialDeposit</a> <a id="4298" href="Ledger.Conway.Specification.Utxo.html#4222" class="Bound">c</a> <a id="4300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4302" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="4305" class="Symbol">.</a><a id="4306" href="Ledger.Conway.Specification.PParams.html#2193" class="Field">keyDeposit</a> <a id="4317" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="4318" class="Symbol">)</a> <a id="4320" href="Ledger.Conway.Specification.Utxo.html#4226" class="Bound">certs</a>
             <a id="4339" class="Symbol">→</a> <a id="4341" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="4359" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="4362" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="4367" class="Symbol">(</a><a id="4368" href="Ledger.Conway.Specification.Certs.html#2964" class="InductiveConstructor">reg</a> <a id="4372" href="Ledger.Conway.Specification.Utxo.html#4222" class="Bound">c</a> <a id="4374" href="Ledger.Conway.Specification.Utxo.html#4224" class="Bound">v</a> <a id="4376" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4378" href="Ledger.Conway.Specification.Utxo.html#4226" class="Bound">certs</a><a id="4383" class="Symbol">)</a>
  <a id="ValidCertDeposits.dereg"></a><a id="4387" href="Ledger.Conway.Specification.Utxo.html#4387" class="InductiveConstructor">dereg</a>      <a id="4398" class="Symbol">:</a> <a id="4400" class="Symbol">∀</a> <a id="4402" class="Symbol">{</a><a id="4403" href="Ledger.Conway.Specification.Utxo.html#4403" class="Bound">c</a> <a id="4405" href="Ledger.Conway.Specification.Utxo.html#4405" class="Bound">md</a> <a id="4408" href="Ledger.Conway.Specification.Utxo.html#4408" class="Bound">d</a> <a id="4410" href="Ledger.Conway.Specification.Utxo.html#4410" class="Bound">certs</a><a id="4415" class="Symbol">}</a>
             <a id="4430" class="Symbol">→</a> <a id="4432" class="Symbol">(</a><a id="4433" href="Ledger.Conway.Specification.Certs.html#591" class="InductiveConstructor">CredentialDeposit</a> <a id="4451" href="Ledger.Conway.Specification.Utxo.html#4403" class="Bound">c</a> <a id="4453" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4455" href="Ledger.Conway.Specification.Utxo.html#4408" class="Bound">d</a><a id="4456" class="Symbol">)</a> <a id="4458" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="4460" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a>
             <a id="4478" class="Symbol">→</a> <a id="4480" href="Ledger.Conway.Specification.Utxo.html#4405" class="Bound">md</a> <a id="4483" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4485" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4493" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="4495" href="Ledger.Conway.Specification.Utxo.html#4405" class="Bound">md</a> <a id="4498" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4500" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4505" href="Ledger.Conway.Specification.Utxo.html#4408" class="Bound">d</a>
             <a id="4520" class="Symbol">→</a> <a id="4522" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="4540" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="4543" class="Symbol">(</a><a id="4544" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="4549" href="Axiom.Set.Map.html#13604" class="Function Operator">∣</a> <a id="4551" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="4553" href="Ledger.Conway.Specification.Certs.html#591" class="InductiveConstructor">CredentialDeposit</a> <a id="4571" href="Ledger.Conway.Specification.Utxo.html#4403" class="Bound">c</a> <a id="4573" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="4575" href="Axiom.Set.Map.html#13604" class="Function Operator">ᶜ</a><a id="4576" class="Symbol">)</a> <a id="4578" href="Ledger.Conway.Specification.Utxo.html#4410" class="Bound">certs</a>
             <a id="4597" class="Symbol">→</a> <a id="4599" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="4617" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="4620" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="4625" class="Symbol">(</a><a id="4626" href="Ledger.Conway.Specification.Certs.html#2345" class="InductiveConstructor">dereg</a> <a id="4632" href="Ledger.Conway.Specification.Utxo.html#4403" class="Bound">c</a> <a id="4634" href="Ledger.Conway.Specification.Utxo.html#4405" class="Bound">md</a> <a id="4637" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4639" href="Ledger.Conway.Specification.Utxo.html#4410" class="Bound">certs</a><a id="4644" class="Symbol">)</a>
  <a id="ValidCertDeposits.deregdrep"></a><a id="4648" href="Ledger.Conway.Specification.Utxo.html#4648" class="InductiveConstructor">deregdrep</a>  <a id="4659" class="Symbol">:</a> <a id="4661" class="Symbol">∀</a> <a id="4663" class="Symbol">{</a><a id="4664" href="Ledger.Conway.Specification.Utxo.html#4664" class="Bound">c</a> <a id="4666" href="Ledger.Conway.Specification.Utxo.html#4666" class="Bound">d</a> <a id="4668" href="Ledger.Conway.Specification.Utxo.html#4668" class="Bound">certs</a><a id="4673" class="Symbol">}</a>
             <a id="4688" class="Symbol">→</a> <a id="4690" class="Symbol">(</a><a id="4691" href="Ledger.Conway.Specification.Certs.html#697" class="InductiveConstructor">DRepDeposit</a> <a id="4703" href="Ledger.Conway.Specification.Utxo.html#4664" class="Bound">c</a> <a id="4705" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4707" href="Ledger.Conway.Specification.Utxo.html#4666" class="Bound">d</a><a id="4708" class="Symbol">)</a> <a id="4710" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="4712" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a>
             <a id="4730" class="Symbol">→</a> <a id="4732" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="4750" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="4753" class="Symbol">(</a><a id="4754" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="4759" href="Axiom.Set.Map.html#13604" class="Function Operator">∣</a> <a id="4761" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="4763" href="Ledger.Conway.Specification.Certs.html#697" class="InductiveConstructor">DRepDeposit</a> <a id="4775" href="Ledger.Conway.Specification.Utxo.html#4664" class="Bound">c</a> <a id="4777" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="4779" href="Axiom.Set.Map.html#13604" class="Function Operator">ᶜ</a><a id="4780" class="Symbol">)</a> <a id="4782" href="Ledger.Conway.Specification.Utxo.html#4668" class="Bound">certs</a>
             <a id="4801" class="Symbol">→</a> <a id="4803" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="4821" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="4824" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="4829" class="Symbol">(</a><a id="4830" href="Ledger.Conway.Specification.Certs.html#2534" class="InductiveConstructor">deregdrep</a> <a id="4840" href="Ledger.Conway.Specification.Utxo.html#4664" class="Bound">c</a> <a id="4842" href="Ledger.Conway.Specification.Utxo.html#4666" class="Bound">d</a> <a id="4844" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4846" href="Ledger.Conway.Specification.Utxo.html#4668" class="Bound">certs</a><a id="4851" class="Symbol">)</a>
  <a id="ValidCertDeposits.ccreghot"></a><a id="4855" href="Ledger.Conway.Specification.Utxo.html#4855" class="InductiveConstructor">ccreghot</a>   <a id="4866" class="Symbol">:</a> <a id="4868" class="Symbol">∀</a> <a id="4870" class="Symbol">{</a><a id="4871" href="Ledger.Conway.Specification.Utxo.html#4871" class="Bound">c</a> <a id="4873" href="Ledger.Conway.Specification.Utxo.html#4873" class="Bound">v</a> <a id="4875" href="Ledger.Conway.Specification.Utxo.html#4875" class="Bound">certs</a><a id="4880" class="Symbol">}</a>
             <a id="4895" class="Symbol">→</a> <a id="4897" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="4915" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="4918" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="4923" href="Ledger.Conway.Specification.Utxo.html#4875" class="Bound">certs</a>
             <a id="4942" class="Symbol">→</a> <a id="4944" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="4962" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="4965" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="4970" class="Symbol">(</a><a id="4971" href="Ledger.Conway.Specification.Certs.html#2576" class="InductiveConstructor">ccreghot</a> <a id="4980" href="Ledger.Conway.Specification.Utxo.html#4871" class="Bound">c</a> <a id="4982" href="Ledger.Conway.Specification.Utxo.html#4873" class="Bound">v</a> <a id="4984" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4986" href="Ledger.Conway.Specification.Utxo.html#4875" class="Bound">certs</a><a id="4991" class="Symbol">)</a>
  <a id="ValidCertDeposits.retirepool"></a><a id="4995" href="Ledger.Conway.Specification.Utxo.html#4995" class="InductiveConstructor">retirepool</a> <a id="5006" class="Symbol">:</a> <a id="5008" class="Symbol">∀</a> <a id="5010" class="Symbol">{</a><a id="5011" href="Ledger.Conway.Specification.Utxo.html#5011" class="Bound">kh</a> <a id="5014" href="Ledger.Conway.Specification.Utxo.html#5014" class="Bound">e</a> <a id="5016" href="Ledger.Conway.Specification.Utxo.html#5016" class="Bound">certs</a><a id="5021" class="Symbol">}</a>
             <a id="5036" class="Symbol">→</a> <a id="5038" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="5056" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="5059" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="5064" href="Ledger.Conway.Specification.Utxo.html#5016" class="Bound">certs</a>
             <a id="5083" class="Symbol">→</a> <a id="5085" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="5103" href="Ledger.Conway.Specification.Utxo.html#3559" class="Bound">pp</a> <a id="5106" href="Ledger.Conway.Specification.Utxo.html#3574" class="Bound">deps</a> <a id="5111" class="Symbol">(</a><a id="5112" href="Ledger.Conway.Specification.Certs.html#2443" class="InductiveConstructor">retirepool</a> <a id="5123" href="Ledger.Conway.Specification.Utxo.html#5011" class="Bound">kh</a> <a id="5126" href="Ledger.Conway.Specification.Utxo.html#5014" class="Bound">e</a>  <a id="5129" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5131" href="Ledger.Conway.Specification.Utxo.html#5016" class="Bound">certs</a><a id="5136" class="Symbol">)</a>

<a id="5139" class="Keyword">private</a>
  <a id="validCertDeposits?"></a><a id="5149" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5168" class="Symbol">:</a> <a id="5170" class="Symbol">∀</a> <a id="5172" class="Symbol">{</a><a id="5173" href="Ledger.Conway.Specification.Utxo.html#5173" class="Bound">pp</a><a id="5175" class="Symbol">}</a> <a id="5177" href="Ledger.Conway.Specification.Utxo.html#5177" class="Bound">deps</a> <a id="5182" href="Ledger.Conway.Specification.Utxo.html#5182" class="Bound">certs</a> <a id="5188" class="Symbol">→</a> <a id="5190" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="5194" class="Symbol">(</a><a id="5195" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="5213" href="Ledger.Conway.Specification.Utxo.html#5173" class="Bound">pp</a> <a id="5216" href="Ledger.Conway.Specification.Utxo.html#5177" class="Bound">deps</a> <a id="5221" href="Ledger.Conway.Specification.Utxo.html#5182" class="Bound">certs</a><a id="5226" class="Symbol">)</a>
  <a id="5230" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5249" href="Ledger.Conway.Specification.Utxo.html#5249" class="Bound">deps</a> <a id="5254" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="5257" class="Symbol">=</a> <a id="5259" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="5263" href="Ledger.Conway.Specification.Utxo.html#3622" class="InductiveConstructor">[]</a>
  <a id="5268" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5287" href="Ledger.Conway.Specification.Utxo.html#5287" class="Bound">deps</a> <a id="5292" class="Symbol">(</a><a id="5293" href="Ledger.Conway.Specification.Certs.html#2272" class="InductiveConstructor">delegate</a> <a id="5302" class="Symbol">_</a> <a id="5304" class="Symbol">_</a> <a id="5306" class="Symbol">_</a> <a id="5308" class="Symbol">_</a> <a id="5310" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5312" href="Ledger.Conway.Specification.Utxo.html#5312" class="Bound">certs</a><a id="5317" class="Symbol">)</a> <a id="5319" class="Symbol">=</a>
    <a id="5325" href="Relation.Nullary.Decidable.Core.html#6309" class="Function">mapDec</a> <a id="5332" href="Ledger.Conway.Specification.Utxo.html#3666" class="InductiveConstructor">delegate</a> <a id="5341" class="Symbol">(λ</a> <a id="5344" class="Keyword">where</a> <a id="5350" class="Symbol">(</a><a id="5351" href="Ledger.Conway.Specification.Utxo.html#3666" class="InductiveConstructor">delegate</a> <a id="5360" href="Ledger.Conway.Specification.Utxo.html#5360" class="Bound">p</a><a id="5361" class="Symbol">)</a> <a id="5363" class="Symbol">→</a> <a id="5365" href="Ledger.Conway.Specification.Utxo.html#5360" class="Bound">p</a><a id="5366" class="Symbol">)</a> <a id="5368" class="Symbol">(</a><a id="5369" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5388" class="Symbol">_</a> <a id="5390" class="Symbol">_)</a>
  <a id="5395" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5414" href="Ledger.Conway.Specification.Utxo.html#5414" class="Bound">deps</a> <a id="5419" class="Symbol">(</a><a id="5420" href="Ledger.Conway.Specification.Certs.html#2393" class="InductiveConstructor">regpool</a> <a id="5428" class="Symbol">_</a> <a id="5430" class="Symbol">_</a> <a id="5432" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5434" href="Ledger.Conway.Specification.Utxo.html#5434" class="Bound">certs</a><a id="5439" class="Symbol">)</a> <a id="5441" class="Symbol">=</a>
    <a id="5447" href="Relation.Nullary.Decidable.Core.html#6309" class="Function">mapDec</a> <a id="5454" href="Ledger.Conway.Specification.Utxo.html#3853" class="InductiveConstructor">regpool</a> <a id="5462" class="Symbol">(λ</a> <a id="5465" class="Keyword">where</a> <a id="5471" class="Symbol">(</a><a id="5472" href="Ledger.Conway.Specification.Utxo.html#3853" class="InductiveConstructor">regpool</a> <a id="5480" href="Ledger.Conway.Specification.Utxo.html#5480" class="Bound">p</a><a id="5481" class="Symbol">)</a> <a id="5483" class="Symbol">→</a> <a id="5485" href="Ledger.Conway.Specification.Utxo.html#5480" class="Bound">p</a><a id="5486" class="Symbol">)</a> <a id="5488" class="Symbol">(</a><a id="5489" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5508" class="Symbol">_</a> <a id="5510" class="Symbol">_)</a>
  <a id="5515" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5534" href="Ledger.Conway.Specification.Utxo.html#5534" class="Bound">deps</a> <a id="5539" class="Symbol">(</a><a id="5540" href="Ledger.Conway.Specification.Certs.html#2483" class="InductiveConstructor">regdrep</a> <a id="5548" class="Symbol">_</a> <a id="5550" class="Symbol">_</a> <a id="5552" class="Symbol">_</a> <a id="5554" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5556" href="Ledger.Conway.Specification.Utxo.html#5556" class="Bound">certs</a><a id="5561" class="Symbol">)</a> <a id="5563" class="Symbol">=</a>
    <a id="5569" href="Relation.Nullary.Decidable.Core.html#6309" class="Function">mapDec</a> <a id="5576" href="Ledger.Conway.Specification.Utxo.html#4036" class="InductiveConstructor">regdrep</a> <a id="5584" class="Symbol">(λ</a> <a id="5587" class="Keyword">where</a> <a id="5593" class="Symbol">(</a><a id="5594" href="Ledger.Conway.Specification.Utxo.html#4036" class="InductiveConstructor">regdrep</a> <a id="5602" href="Ledger.Conway.Specification.Utxo.html#5602" class="Bound">p</a><a id="5603" class="Symbol">)</a> <a id="5605" class="Symbol">→</a> <a id="5607" href="Ledger.Conway.Specification.Utxo.html#5602" class="Bound">p</a><a id="5608" class="Symbol">)</a> <a id="5610" class="Symbol">(</a><a id="5611" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5630" class="Symbol">_</a> <a id="5632" class="Symbol">_)</a>
  <a id="5637" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5656" href="Ledger.Conway.Specification.Utxo.html#5656" class="Bound">deps</a> <a id="5661" class="Symbol">(</a><a id="5662" href="Ledger.Conway.Specification.Certs.html#2443" class="InductiveConstructor">retirepool</a> <a id="5673" class="Symbol">_</a> <a id="5675" class="Symbol">_</a> <a id="5677" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5679" href="Ledger.Conway.Specification.Utxo.html#5679" class="Bound">certs</a><a id="5684" class="Symbol">)</a> <a id="5686" class="Symbol">=</a>
    <a id="5692" href="Relation.Nullary.Decidable.Core.html#6309" class="Function">mapDec</a> <a id="5699" href="Ledger.Conway.Specification.Utxo.html#4995" class="InductiveConstructor">retirepool</a> <a id="5710" class="Symbol">(λ</a> <a id="5713" class="Keyword">where</a> <a id="5719" class="Symbol">(</a><a id="5720" href="Ledger.Conway.Specification.Utxo.html#4995" class="InductiveConstructor">retirepool</a> <a id="5731" href="Ledger.Conway.Specification.Utxo.html#5731" class="Bound">p</a><a id="5732" class="Symbol">)</a> <a id="5734" class="Symbol">→</a> <a id="5736" href="Ledger.Conway.Specification.Utxo.html#5731" class="Bound">p</a><a id="5737" class="Symbol">)</a> <a id="5739" class="Symbol">(</a><a id="5740" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5759" class="Symbol">_</a> <a id="5761" class="Symbol">_)</a>
  <a id="5766" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5785" href="Ledger.Conway.Specification.Utxo.html#5785" class="Bound">deps</a> <a id="5790" class="Symbol">(</a><a id="5791" href="Ledger.Conway.Specification.Certs.html#2576" class="InductiveConstructor">ccreghot</a> <a id="5800" class="Symbol">_</a> <a id="5802" class="Symbol">_</a> <a id="5804" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5806" href="Ledger.Conway.Specification.Utxo.html#5806" class="Bound">certs</a><a id="5811" class="Symbol">)</a> <a id="5813" class="Symbol">=</a>
    <a id="5819" href="Relation.Nullary.Decidable.Core.html#6309" class="Function">mapDec</a> <a id="5826" href="Ledger.Conway.Specification.Utxo.html#4855" class="InductiveConstructor">ccreghot</a> <a id="5835" class="Symbol">(λ</a> <a id="5838" class="Keyword">where</a> <a id="5844" class="Symbol">(</a><a id="5845" href="Ledger.Conway.Specification.Utxo.html#4855" class="InductiveConstructor">ccreghot</a> <a id="5854" href="Ledger.Conway.Specification.Utxo.html#5854" class="Bound">p</a><a id="5855" class="Symbol">)</a> <a id="5857" class="Symbol">→</a> <a id="5859" href="Ledger.Conway.Specification.Utxo.html#5854" class="Bound">p</a><a id="5860" class="Symbol">)</a> <a id="5862" class="Symbol">(</a><a id="5863" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5882" class="Symbol">_</a> <a id="5884" class="Symbol">_)</a>
  <a id="5889" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5908" href="Ledger.Conway.Specification.Utxo.html#5908" class="Bound">deps</a> <a id="5913" class="Symbol">(</a><a id="5914" href="Ledger.Conway.Specification.Certs.html#2964" class="InductiveConstructor">reg</a> <a id="5918" class="Symbol">_</a> <a id="5920" class="Symbol">_</a> <a id="5922" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5924" href="Ledger.Conway.Specification.Utxo.html#5924" class="Bound">certs</a><a id="5929" class="Symbol">)</a> <a id="5931" class="Symbol">=</a>
    <a id="5937" href="Relation.Nullary.Decidable.Core.html#6309" class="Function">mapDec</a> <a id="5944" href="Ledger.Conway.Specification.Utxo.html#4206" class="InductiveConstructor">reg</a> <a id="5948" class="Symbol">(λ</a> <a id="5951" class="Keyword">where</a> <a id="5957" class="Symbol">(</a><a id="5958" href="Ledger.Conway.Specification.Utxo.html#4206" class="InductiveConstructor">reg</a> <a id="5962" href="Ledger.Conway.Specification.Utxo.html#5962" class="Bound">p</a><a id="5963" class="Symbol">)</a> <a id="5965" class="Symbol">→</a> <a id="5967" href="Ledger.Conway.Specification.Utxo.html#5962" class="Bound">p</a><a id="5968" class="Symbol">)</a> <a id="5970" class="Symbol">(</a><a id="5971" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="5990" class="Symbol">_</a> <a id="5992" class="Symbol">_)</a>
  <a id="5997" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="6016" href="Ledger.Conway.Specification.Utxo.html#6016" class="Bound">deps</a> <a id="6021" class="Symbol">(</a><a id="6022" href="Ledger.Conway.Specification.Certs.html#2345" class="InductiveConstructor">dereg</a> <a id="6028" href="Ledger.Conway.Specification.Utxo.html#6028" class="Bound">c</a> <a id="6030" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="6038" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6040" href="Ledger.Conway.Specification.Utxo.html#6040" class="Bound">certs</a><a id="6045" class="Symbol">)</a> <a id="6047" class="Keyword">with</a> <a id="6052" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="6054" href="Ledger.Conway.Specification.Certs.html#591" class="InductiveConstructor">CredentialDeposit</a> <a id="6072" href="Ledger.Conway.Specification.Utxo.html#6028" class="Bound">c</a> <a id="6074" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6076" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6080" href="Ledger.Conway.Specification.Utxo.html#6016" class="Bound">deps</a> <a id="6085" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
  <a id="6089" class="Symbol">...</a> <a id="6093" class="Symbol">|</a> <a id="6095" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="6099" href="Ledger.Conway.Specification.Utxo.html#6099" class="Bound">p</a> <a id="6101" class="Symbol">=</a> <a id="6103" href="Relation.Nullary.Decidable.Core.html#6309" class="Function">mapDec</a> <a id="6110" class="Symbol">(</a><a id="6111" href="Ledger.Conway.Specification.Utxo.html#4387" class="InductiveConstructor">dereg</a> <a id="6117" class="Symbol">(</a><a id="6118" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="6124" class="Symbol">(</a><a id="6125" href="Function.Bundles.html#4832" class="Field">Equivalence.from</a> <a id="6142" href="Axiom.Set.Rel.html#2687" class="Function">dom∈</a> <a id="6147" href="Ledger.Conway.Specification.Utxo.html#6099" class="Bound">p</a><a id="6148" class="Symbol">))</a> <a id="6151" class="Symbol">(</a><a id="6152" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6157" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6161" class="Symbol">))</a> <a id="6164" class="Symbol">(λ</a> <a id="6167" class="Symbol">{</a> <a id="6169" class="Symbol">(</a><a id="6170" href="Ledger.Conway.Specification.Utxo.html#4387" class="InductiveConstructor">dereg</a> <a id="6176" class="Symbol">_</a> <a id="6178" class="Symbol">_</a> <a id="6180" href="Ledger.Conway.Specification.Utxo.html#6180" class="Bound">p</a><a id="6181" class="Symbol">)</a> <a id="6183" class="Symbol">→</a> <a id="6185" href="Ledger.Conway.Specification.Utxo.html#6180" class="Bound">p</a> <a id="6187" class="Symbol">})</a> <a id="6190" class="Symbol">(</a><a id="6191" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="6210" class="Symbol">_</a> <a id="6212" class="Symbol">_)</a>
  <a id="6217" class="Symbol">...</a> <a id="6221" class="Symbol">|</a> <a id="6223" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="6226" href="Ledger.Conway.Specification.Utxo.html#6226" class="Bound">¬p</a> <a id="6229" class="Symbol">=</a> <a id="6231" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="6234" class="Symbol">λ</a> <a id="6236" class="Symbol">{</a> <a id="6238" class="Symbol">(</a><a id="6239" href="Ledger.Conway.Specification.Utxo.html#4387" class="InductiveConstructor">dereg</a> <a id="6245" href="Ledger.Conway.Specification.Utxo.html#6245" class="Bound">x</a> <a id="6247" class="Symbol">_</a> <a id="6249" class="Symbol">_)</a> <a id="6252" class="Symbol">→</a> <a id="6254" href="Ledger.Conway.Specification.Utxo.html#6226" class="Bound">¬p</a> <a id="6257" class="Symbol">(</a><a id="6258" href="Function.Bundles.html#4808" class="Field">Equivalence.to</a> <a id="6273" href="Axiom.Set.Rel.html#2687" class="Function">dom∈</a> <a id="6278" class="Symbol">(_</a> <a id="6281" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6283" href="Ledger.Conway.Specification.Utxo.html#6245" class="Bound">x</a><a id="6284" class="Symbol">))</a> <a id="6287" class="Symbol">}</a>
  <a id="6291" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="6310" href="Ledger.Conway.Specification.Utxo.html#6310" class="Bound">deps</a> <a id="6315" class="Symbol">(</a><a id="6316" href="Ledger.Conway.Specification.Certs.html#2345" class="InductiveConstructor">dereg</a> <a id="6322" href="Ledger.Conway.Specification.Utxo.html#6322" class="Bound">c</a> <a id="6324" class="Symbol">(</a><a id="6325" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6330" href="Ledger.Conway.Specification.Utxo.html#6330" class="Bound">d</a><a id="6331" class="Symbol">)</a> <a id="6333" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6335" href="Ledger.Conway.Specification.Utxo.html#6335" class="Bound">certs</a><a id="6340" class="Symbol">)</a> <a id="6342" class="Keyword">with</a> <a id="6347" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="6349" class="Symbol">(</a><a id="6350" href="Ledger.Conway.Specification.Certs.html#591" class="InductiveConstructor">CredentialDeposit</a> <a id="6368" href="Ledger.Conway.Specification.Utxo.html#6322" class="Bound">c</a> <a id="6370" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6372" href="Ledger.Conway.Specification.Utxo.html#6330" class="Bound">d</a><a id="6373" class="Symbol">)</a> <a id="6375" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6377" href="Ledger.Conway.Specification.Utxo.html#6310" class="Bound">deps</a> <a id="6382" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
  <a id="6386" class="Symbol">...</a> <a id="6390" class="Symbol">|</a> <a id="6392" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="6396" href="Ledger.Conway.Specification.Utxo.html#6396" class="Bound">p</a> <a id="6398" class="Symbol">=</a> <a id="6400" href="Relation.Nullary.Decidable.Core.html#6309" class="Function">mapDec</a> <a id="6407" class="Symbol">(</a><a id="6408" href="Ledger.Conway.Specification.Utxo.html#4387" class="InductiveConstructor">dereg</a> <a id="6414" href="Ledger.Conway.Specification.Utxo.html#6396" class="Bound">p</a> <a id="6416" class="Symbol">(</a><a id="6417" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6422" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6426" class="Symbol">))</a> <a id="6429" class="Symbol">(λ</a> <a id="6432" class="Symbol">{</a> <a id="6434" class="Symbol">(</a><a id="6435" href="Ledger.Conway.Specification.Utxo.html#4387" class="InductiveConstructor">dereg</a> <a id="6441" class="Symbol">_</a> <a id="6443" class="Symbol">_</a> <a id="6445" href="Ledger.Conway.Specification.Utxo.html#6445" class="Bound">p</a><a id="6446" class="Symbol">)</a> <a id="6448" class="Symbol">→</a> <a id="6450" href="Ledger.Conway.Specification.Utxo.html#6445" class="Bound">p</a> <a id="6452" class="Symbol">})</a> <a id="6455" class="Symbol">(</a><a id="6456" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="6475" class="Symbol">_</a> <a id="6477" class="Symbol">_)</a>
  <a id="6482" class="Symbol">...</a> <a id="6486" class="Symbol">|</a> <a id="6488" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="6491" href="Ledger.Conway.Specification.Utxo.html#6491" class="Bound">¬p</a> <a id="6494" class="Symbol">=</a> <a id="6496" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="6499" class="Symbol">λ</a> <a id="6501" class="Symbol">{</a> <a id="6503" class="Symbol">(</a><a id="6504" href="Ledger.Conway.Specification.Utxo.html#4387" class="InductiveConstructor">dereg</a> <a id="6510" href="Ledger.Conway.Specification.Utxo.html#6510" class="Bound">x</a> <a id="6512" class="Symbol">(</a><a id="6513" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6518" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="6522" class="Symbol">)</a> <a id="6524" class="Symbol">_)</a> <a id="6527" class="Symbol">→</a> <a id="6529" href="Ledger.Conway.Specification.Utxo.html#6491" class="Bound">¬p</a> <a id="6532" href="Ledger.Conway.Specification.Utxo.html#6510" class="Bound">x</a> <a id="6534" class="Symbol">}</a>
  <a id="6538" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="6557" href="Ledger.Conway.Specification.Utxo.html#6557" class="Bound">deps</a> <a id="6562" class="Symbol">(</a><a id="6563" href="Ledger.Conway.Specification.Certs.html#2534" class="InductiveConstructor">deregdrep</a> <a id="6573" href="Ledger.Conway.Specification.Utxo.html#6573" class="Bound">c</a> <a id="6575" href="Ledger.Conway.Specification.Utxo.html#6575" class="Bound">d</a> <a id="6577" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6579" href="Ledger.Conway.Specification.Utxo.html#6579" class="Bound">certs</a><a id="6584" class="Symbol">)</a> <a id="6586" class="Keyword">with</a> <a id="6591" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="6593" class="Symbol">(</a><a id="6594" href="Ledger.Conway.Specification.Certs.html#697" class="InductiveConstructor">DRepDeposit</a> <a id="6606" href="Ledger.Conway.Specification.Utxo.html#6573" class="Bound">c</a> <a id="6608" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6610" href="Ledger.Conway.Specification.Utxo.html#6575" class="Bound">d</a><a id="6611" class="Symbol">)</a> <a id="6613" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6615" href="Ledger.Conway.Specification.Utxo.html#6557" class="Bound">deps</a> <a id="6620" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>
  <a id="6624" class="Symbol">...</a> <a id="6628" class="Symbol">|</a> <a id="6630" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="6634" href="Ledger.Conway.Specification.Utxo.html#6634" class="Bound">p</a> <a id="6636" class="Symbol">=</a> <a id="6638" href="Relation.Nullary.Decidable.Core.html#6309" class="Function">mapDec</a> <a id="6645" class="Symbol">(</a><a id="6646" href="Ledger.Conway.Specification.Utxo.html#4648" class="InductiveConstructor">deregdrep</a> <a id="6656" href="Ledger.Conway.Specification.Utxo.html#6634" class="Bound">p</a><a id="6657" class="Symbol">)</a>  <a id="6660" class="Symbol">(λ</a> <a id="6663" class="Keyword">where</a> <a id="6669" class="Symbol">(</a><a id="6670" href="Ledger.Conway.Specification.Utxo.html#4648" class="InductiveConstructor">deregdrep</a> <a id="6680" class="Symbol">_</a> <a id="6682" href="Ledger.Conway.Specification.Utxo.html#6682" class="Bound">v</a><a id="6683" class="Symbol">)</a> <a id="6685" class="Symbol">→</a> <a id="6687" href="Ledger.Conway.Specification.Utxo.html#6682" class="Bound">v</a><a id="6688" class="Symbol">)</a> <a id="6690" class="Symbol">(</a><a id="6691" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="6710" class="Symbol">_</a> <a id="6712" class="Symbol">_)</a>
  <a id="6717" class="Symbol">...</a> <a id="6721" class="Symbol">|</a> <a id="6723" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="6726" href="Ledger.Conway.Specification.Utxo.html#6726" class="Bound">¬p</a> <a id="6729" class="Symbol">=</a> <a id="6731" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="6734" class="Symbol">(λ</a> <a id="6737" class="Keyword">where</a> <a id="6743" class="Symbol">(</a><a id="6744" href="Ledger.Conway.Specification.Utxo.html#4648" class="InductiveConstructor">deregdrep</a> <a id="6754" href="Ledger.Conway.Specification.Utxo.html#6754" class="Bound">p</a> <a id="6756" class="Symbol">_)</a> <a id="6759" class="Symbol">→</a> <a id="6761" href="Ledger.Conway.Specification.Utxo.html#6726" class="Bound">¬p</a> <a id="6764" href="Ledger.Conway.Specification.Utxo.html#6754" class="Bound">p</a><a id="6765" class="Symbol">)</a>

<a id="6768" class="Keyword">instance</a>
  <a id="Dec-ValidCertDeposits"></a><a id="6779" href="Ledger.Conway.Specification.Utxo.html#6779" class="Function">Dec-ValidCertDeposits</a> <a id="6801" class="Symbol">:</a> <a id="6803" class="Symbol">∀</a> <a id="6805" class="Symbol">{</a><a id="6806" href="Ledger.Conway.Specification.Utxo.html#6806" class="Bound">pp</a> <a id="6809" href="Ledger.Conway.Specification.Utxo.html#6809" class="Bound">deps</a> <a id="6814" href="Ledger.Conway.Specification.Utxo.html#6814" class="Bound">certs</a><a id="6819" class="Symbol">}</a> <a id="6821" class="Symbol">→</a> <a id="6823" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="6841" href="Ledger.Conway.Specification.Utxo.html#6806" class="Bound">pp</a> <a id="6844" href="Ledger.Conway.Specification.Utxo.html#6809" class="Bound">deps</a> <a id="6849" href="Ledger.Conway.Specification.Utxo.html#6814" class="Bound">certs</a> <a id="6855" href="Class.Decidable.Core.html#217" class="Record Operator">⁇</a>
  <a id="6859" href="Ledger.Conway.Specification.Utxo.html#6779" class="Function">Dec-ValidCertDeposits</a> <a id="6881" class="Symbol">=</a> <a id="6883" href="Class.Decidable.Core.html#262" class="InductiveConstructor Operator">⁇</a> <a id="6885" class="Symbol">(</a><a id="6886" href="Ledger.Conway.Specification.Utxo.html#5149" class="Function">validCertDeposits?</a> <a id="6905" class="Symbol">_</a> <a id="6907" class="Symbol">_)</a>


<a id="updateCertDeposits"></a><a id="6912" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a>  <a id="6932" class="Symbol">:</a> <a id="6934" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a> <a id="6942" class="Symbol">→</a> <a id="6944" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6949" href="Ledger.Conway.Specification.Certs.html#2251" class="Datatype">DCert</a> <a id="6955" class="Symbol">→</a> <a id="6957" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a> <a id="6966" class="Symbol">→</a> <a id="6968" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a>
<a id="6977" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="6996" href="Ledger.Conway.Specification.Utxo.html#6996" class="Bound">pp</a> <a id="6999" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="7002" href="Ledger.Conway.Specification.Utxo.html#7002" class="Bound">deposits</a> <a id="7011" class="Symbol">=</a> <a id="7013" href="Ledger.Conway.Specification.Utxo.html#7002" class="Bound">deposits</a>


<a id="7024" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="7043" href="Ledger.Conway.Specification.Utxo.html#7043" class="Bound">pp</a> <a id="7046" class="Symbol">(</a><a id="7047" href="Ledger.Conway.Specification.Certs.html#2964" class="InductiveConstructor">reg</a> <a id="7051" href="Ledger.Conway.Specification.Utxo.html#7051" class="Bound">c</a> <a id="7053" href="Ledger.Conway.Specification.Utxo.html#7053" class="Bound">v</a> <a id="7055" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7057" href="Ledger.Conway.Specification.Utxo.html#7057" class="Bound">certs</a><a id="7062" class="Symbol">)</a> <a id="7064" href="Ledger.Conway.Specification.Utxo.html#7064" class="Bound">deposits</a>
  <a id="7075" class="Symbol">=</a> <a id="7077" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="7096" href="Ledger.Conway.Specification.Utxo.html#7043" class="Bound">pp</a> <a id="7099" href="Ledger.Conway.Specification.Utxo.html#7057" class="Bound">certs</a> <a id="7105" class="Symbol">(</a><a id="7106" href="Ledger.Conway.Specification.Utxo.html#7064" class="Bound">deposits</a> <a id="7115" href="Axiom.Set.Map.Dec.html#2052" class="Function Operator">∪⁺</a> <a id="7118" href="Ledger.Conway.Specification.Utxo.html#3004" class="Function">certDeposit</a> <a id="7130" class="Symbol">(</a><a id="7131" href="Ledger.Conway.Specification.Certs.html#2964" class="InductiveConstructor">reg</a> <a id="7135" href="Ledger.Conway.Specification.Utxo.html#7051" class="Bound">c</a> <a id="7137" href="Ledger.Conway.Specification.Utxo.html#7053" class="Bound">v</a><a id="7138" class="Symbol">)</a> <a id="7140" href="Ledger.Conway.Specification.Utxo.html#7043" class="Bound">pp</a><a id="7142" class="Symbol">)</a>


<a id="7146" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="7165" href="Ledger.Conway.Specification.Utxo.html#7165" class="Bound">pp</a> <a id="7168" class="Symbol">(</a><a id="7169" href="Ledger.Conway.Specification.Certs.html#2272" class="InductiveConstructor">delegate</a> <a id="7178" href="Ledger.Conway.Specification.Utxo.html#7178" class="Bound">c</a> <a id="7180" href="Ledger.Conway.Specification.Utxo.html#7180" class="Bound">vd</a> <a id="7183" href="Ledger.Conway.Specification.Utxo.html#7183" class="Bound">khs</a> <a id="7187" href="Ledger.Conway.Specification.Utxo.html#7187" class="Bound">v</a> <a id="7189" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7191" href="Ledger.Conway.Specification.Utxo.html#7191" class="Bound">certs</a><a id="7196" class="Symbol">)</a> <a id="7198" href="Ledger.Conway.Specification.Utxo.html#7198" class="Bound">deposits</a>
  <a id="7209" class="Symbol">=</a> <a id="7211" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="7230" href="Ledger.Conway.Specification.Utxo.html#7165" class="Bound">pp</a> <a id="7233" href="Ledger.Conway.Specification.Utxo.html#7191" class="Bound">certs</a> <a id="7239" class="Symbol">(</a><a id="7240" href="Ledger.Conway.Specification.Utxo.html#7198" class="Bound">deposits</a> <a id="7249" href="Axiom.Set.Map.Dec.html#2052" class="Function Operator">∪⁺</a> <a id="7252" href="Ledger.Conway.Specification.Utxo.html#3004" class="Function">certDeposit</a> <a id="7264" class="Symbol">(</a><a id="7265" href="Ledger.Conway.Specification.Certs.html#2272" class="InductiveConstructor">delegate</a> <a id="7274" href="Ledger.Conway.Specification.Utxo.html#7178" class="Bound">c</a> <a id="7276" href="Ledger.Conway.Specification.Utxo.html#7180" class="Bound">vd</a> <a id="7279" href="Ledger.Conway.Specification.Utxo.html#7183" class="Bound">khs</a> <a id="7283" href="Ledger.Conway.Specification.Utxo.html#7187" class="Bound">v</a><a id="7284" class="Symbol">)</a> <a id="7286" href="Ledger.Conway.Specification.Utxo.html#7165" class="Bound">pp</a><a id="7288" class="Symbol">)</a>
<a id="7290" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="7309" href="Ledger.Conway.Specification.Utxo.html#7309" class="Bound">pp</a> <a id="7312" class="Symbol">(</a><a id="7313" href="Ledger.Conway.Specification.Certs.html#2393" class="InductiveConstructor">regpool</a> <a id="7321" href="Ledger.Conway.Specification.Utxo.html#7321" class="Bound">kh</a> <a id="7324" href="Ledger.Conway.Specification.Utxo.html#7324" class="Bound">p</a> <a id="7326" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7328" href="Ledger.Conway.Specification.Utxo.html#7328" class="Bound">certs</a><a id="7333" class="Symbol">)</a> <a id="7335" href="Ledger.Conway.Specification.Utxo.html#7335" class="Bound">deposits</a>
  <a id="7346" class="Symbol">=</a> <a id="7348" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="7367" href="Ledger.Conway.Specification.Utxo.html#7309" class="Bound">pp</a> <a id="7370" href="Ledger.Conway.Specification.Utxo.html#7328" class="Bound">certs</a> <a id="7376" class="Symbol">(</a><a id="7377" href="Ledger.Conway.Specification.Utxo.html#7335" class="Bound">deposits</a> <a id="7386" href="Axiom.Set.Map.Dec.html#2052" class="Function Operator">∪⁺</a> <a id="7389" href="Ledger.Conway.Specification.Utxo.html#3004" class="Function">certDeposit</a> <a id="7401" class="Symbol">(</a><a id="7402" href="Ledger.Conway.Specification.Certs.html#2393" class="InductiveConstructor">regpool</a> <a id="7410" href="Ledger.Conway.Specification.Utxo.html#7321" class="Bound">kh</a> <a id="7413" href="Ledger.Conway.Specification.Utxo.html#7324" class="Bound">p</a><a id="7414" class="Symbol">)</a> <a id="7416" href="Ledger.Conway.Specification.Utxo.html#7309" class="Bound">pp</a><a id="7418" class="Symbol">)</a>
<a id="7420" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="7439" href="Ledger.Conway.Specification.Utxo.html#7439" class="Bound">pp</a> <a id="7442" class="Symbol">(</a><a id="7443" href="Ledger.Conway.Specification.Certs.html#2483" class="InductiveConstructor">regdrep</a> <a id="7451" href="Ledger.Conway.Specification.Utxo.html#7451" class="Bound">c</a> <a id="7453" href="Ledger.Conway.Specification.Utxo.html#7453" class="Bound">v</a> <a id="7455" href="Ledger.Conway.Specification.Utxo.html#7455" class="Bound">a</a> <a id="7457" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7459" href="Ledger.Conway.Specification.Utxo.html#7459" class="Bound">certs</a><a id="7464" class="Symbol">)</a> <a id="7466" href="Ledger.Conway.Specification.Utxo.html#7466" class="Bound">deposits</a>
  <a id="7477" class="Symbol">=</a> <a id="7479" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="7498" href="Ledger.Conway.Specification.Utxo.html#7439" class="Bound">pp</a> <a id="7501" href="Ledger.Conway.Specification.Utxo.html#7459" class="Bound">certs</a> <a id="7507" class="Symbol">(</a><a id="7508" href="Ledger.Conway.Specification.Utxo.html#7466" class="Bound">deposits</a> <a id="7517" href="Axiom.Set.Map.Dec.html#2052" class="Function Operator">∪⁺</a> <a id="7520" href="Ledger.Conway.Specification.Utxo.html#3004" class="Function">certDeposit</a> <a id="7532" class="Symbol">(</a><a id="7533" href="Ledger.Conway.Specification.Certs.html#2483" class="InductiveConstructor">regdrep</a> <a id="7541" href="Ledger.Conway.Specification.Utxo.html#7451" class="Bound">c</a> <a id="7543" href="Ledger.Conway.Specification.Utxo.html#7453" class="Bound">v</a> <a id="7545" href="Ledger.Conway.Specification.Utxo.html#7455" class="Bound">a</a><a id="7546" class="Symbol">)</a> <a id="7548" href="Ledger.Conway.Specification.Utxo.html#7439" class="Bound">pp</a><a id="7550" class="Symbol">)</a>
<a id="7552" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="7571" href="Ledger.Conway.Specification.Utxo.html#7571" class="Bound">pp</a> <a id="7574" class="Symbol">(</a><a id="7575" href="Ledger.Conway.Specification.Certs.html#2345" class="InductiveConstructor">dereg</a> <a id="7581" href="Ledger.Conway.Specification.Utxo.html#7581" class="Bound">c</a> <a id="7583" href="Ledger.Conway.Specification.Utxo.html#7583" class="Bound">v</a> <a id="7585" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7587" href="Ledger.Conway.Specification.Utxo.html#7587" class="Bound">certs</a><a id="7592" class="Symbol">)</a> <a id="7594" href="Ledger.Conway.Specification.Utxo.html#7594" class="Bound">deposits</a>
  <a id="7605" class="Symbol">=</a> <a id="7607" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="7626" href="Ledger.Conway.Specification.Utxo.html#7571" class="Bound">pp</a> <a id="7629" href="Ledger.Conway.Specification.Utxo.html#7587" class="Bound">certs</a> <a id="7635" class="Symbol">(</a><a id="7636" href="Ledger.Conway.Specification.Utxo.html#7594" class="Bound">deposits</a> <a id="7645" href="Axiom.Set.Map.html#13604" class="Function Operator">∣</a> <a id="7647" href="Ledger.Conway.Specification.Utxo.html#3361" class="Function">certRefund</a> <a id="7658" class="Symbol">(</a><a id="7659" href="Ledger.Conway.Specification.Certs.html#2345" class="InductiveConstructor">dereg</a> <a id="7665" href="Ledger.Conway.Specification.Utxo.html#7581" class="Bound">c</a> <a id="7667" href="Ledger.Conway.Specification.Utxo.html#7583" class="Bound">v</a><a id="7668" class="Symbol">)</a><a id="7669" href="Axiom.Set.Map.html#13604" class="Function Operator">ᶜ</a><a id="7670" class="Symbol">)</a>
<a id="7672" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="7691" href="Ledger.Conway.Specification.Utxo.html#7691" class="Bound">pp</a> <a id="7694" class="Symbol">(</a><a id="7695" href="Ledger.Conway.Specification.Certs.html#2534" class="InductiveConstructor">deregdrep</a> <a id="7705" href="Ledger.Conway.Specification.Utxo.html#7705" class="Bound">c</a> <a id="7707" href="Ledger.Conway.Specification.Utxo.html#7707" class="Bound">v</a> <a id="7709" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7711" href="Ledger.Conway.Specification.Utxo.html#7711" class="Bound">certs</a><a id="7716" class="Symbol">)</a> <a id="7718" href="Ledger.Conway.Specification.Utxo.html#7718" class="Bound">deposits</a>
  <a id="7729" class="Symbol">=</a> <a id="7731" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="7750" href="Ledger.Conway.Specification.Utxo.html#7691" class="Bound">pp</a> <a id="7753" href="Ledger.Conway.Specification.Utxo.html#7711" class="Bound">certs</a> <a id="7759" class="Symbol">(</a><a id="7760" href="Ledger.Conway.Specification.Utxo.html#7718" class="Bound">deposits</a> <a id="7769" href="Axiom.Set.Map.html#13604" class="Function Operator">∣</a> <a id="7771" href="Ledger.Conway.Specification.Utxo.html#3361" class="Function">certRefund</a> <a id="7782" class="Symbol">(</a><a id="7783" href="Ledger.Conway.Specification.Certs.html#2534" class="InductiveConstructor">deregdrep</a> <a id="7793" href="Ledger.Conway.Specification.Utxo.html#7705" class="Bound">c</a> <a id="7795" href="Ledger.Conway.Specification.Utxo.html#7707" class="Bound">v</a><a id="7796" class="Symbol">)</a><a id="7797" href="Axiom.Set.Map.html#13604" class="Function Operator">ᶜ</a><a id="7798" class="Symbol">)</a>
<a id="7800" href="Ledger.Conway.Specification.Utxo.html#6912" class="CatchallClause Function">updateCertDeposits</a><a id="7818" class="CatchallClause"> </a><a id="7819" href="Ledger.Conway.Specification.Utxo.html#7819" class="CatchallClause Bound">pp</a><a id="7821" class="CatchallClause"> </a><a id="7822" class="CatchallClause Symbol">(_</a><a id="7824" class="CatchallClause"> </a><a id="7825" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="7826" class="CatchallClause"> </a><a id="7827" href="Ledger.Conway.Specification.Utxo.html#7827" class="CatchallClause Bound">certs</a><a id="7832" class="CatchallClause Symbol">)</a><a id="7833" class="CatchallClause"> </a><a id="7834" href="Ledger.Conway.Specification.Utxo.html#7834" class="CatchallClause Bound">deposits</a>
  <a id="7845" class="Symbol">=</a> <a id="7847" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="7866" href="Ledger.Conway.Specification.Utxo.html#7819" class="Bound">pp</a> <a id="7869" href="Ledger.Conway.Specification.Utxo.html#7827" class="Bound">certs</a> <a id="7875" href="Ledger.Conway.Specification.Utxo.html#7834" class="Bound">deposits</a>

<a id="updateProposalDeposits"></a><a id="7885" href="Ledger.Conway.Specification.Utxo.html#7885" class="Function">updateProposalDeposits</a> <a id="7908" class="Symbol">:</a> <a id="7910" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7915" href="Ledger.Core.Specification.Gov.Actions.html#3598" class="Record">GovProposal</a> <a id="7927" class="Symbol">→</a> <a id="7929" href="Ledger.Core.Specification.Transaction.html#948" class="Field">TxId</a> <a id="7934" class="Symbol">→</a> <a id="7936" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a> <a id="7941" class="Symbol">→</a> <a id="7943" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a> <a id="7952" class="Symbol">→</a> <a id="7954" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a>
<a id="7963" href="Ledger.Conway.Specification.Utxo.html#7885" class="Function">updateProposalDeposits</a> <a id="7986" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>        <a id="7996" class="Symbol">_</a>     <a id="8002" class="Symbol">_</a>      <a id="8009" href="Ledger.Conway.Specification.Utxo.html#8009" class="Bound">deposits</a>  <a id="8019" class="Symbol">=</a> <a id="8021" href="Ledger.Conway.Specification.Utxo.html#8009" class="Bound">deposits</a>
<a id="8030" href="Ledger.Conway.Specification.Utxo.html#7885" class="Function">updateProposalDeposits</a> <a id="8053" class="Symbol">(_</a> <a id="8056" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8058" href="Ledger.Conway.Specification.Utxo.html#8058" class="Bound">ps</a><a id="8060" class="Symbol">)</a>  <a id="8063" href="Ledger.Conway.Specification.Utxo.html#8063" class="Bound">txid</a>  <a id="8069" href="Ledger.Conway.Specification.Utxo.html#8069" class="Bound">gaDep</a>  <a id="8076" href="Ledger.Conway.Specification.Utxo.html#8076" class="Bound">deposits</a>  <a id="8086" class="Symbol">=</a>
  <a id="8090" href="Ledger.Conway.Specification.Utxo.html#7885" class="Function">updateProposalDeposits</a> <a id="8113" href="Ledger.Conway.Specification.Utxo.html#8058" class="Bound">ps</a> <a id="8116" href="Ledger.Conway.Specification.Utxo.html#8063" class="Bound">txid</a> <a id="8121" href="Ledger.Conway.Specification.Utxo.html#8069" class="Bound">gaDep</a> <a id="8127" href="Ledger.Conway.Specification.Utxo.html#8076" class="Bound">deposits</a>
  <a id="8138" href="Axiom.Set.Map.Dec.html#2052" class="Function Operator">∪⁺</a> <a id="8141" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8143" href="Ledger.Conway.Specification.Certs.html#750" class="InductiveConstructor">GovActionDeposit</a> <a id="8160" class="Symbol">(</a><a id="8161" href="Ledger.Conway.Specification.Utxo.html#8063" class="Bound">txid</a> <a id="8166" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8168" href="Data.List.Base.html#4746" class="Function">length</a> <a id="8175" href="Ledger.Conway.Specification.Utxo.html#8058" class="Bound">ps</a><a id="8177" class="Symbol">)</a> <a id="8179" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8181" href="Ledger.Conway.Specification.Utxo.html#8069" class="Bound">gaDep</a> <a id="8187" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>

<a id="updateDeposits"></a><a id="8190" href="Ledger.Conway.Specification.Utxo.html#8190" class="Function">updateDeposits</a> <a id="8205" class="Symbol">:</a> <a id="8207" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a> <a id="8215" class="Symbol">→</a> <a id="8217" href="Ledger.Conway.Specification.Transaction.html#352" class="Record">TxBody</a> <a id="8224" class="Symbol">→</a> <a id="8226" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a> <a id="8235" class="Symbol">→</a> <a id="8237" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a>
<a id="8246" href="Ledger.Conway.Specification.Utxo.html#8190" class="Function">updateDeposits</a> <a id="8261" href="Ledger.Conway.Specification.Utxo.html#8261" class="Bound">pp</a> <a id="8264" href="Ledger.Conway.Specification.Utxo.html#8264" class="Bound">txb</a> <a id="8268" class="Symbol">=</a> <a id="8270" href="Ledger.Conway.Specification.Utxo.html#6912" class="Function">updateCertDeposits</a> <a id="8289" href="Ledger.Conway.Specification.Utxo.html#8261" class="Bound">pp</a> <a id="8292" href="Ledger.Conway.Specification.Transaction.html#556" class="Field">txCerts</a>
                        <a id="8324" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8326" href="Ledger.Conway.Specification.Utxo.html#7885" class="Function">updateProposalDeposits</a> <a id="8349" href="Ledger.Conway.Specification.Transaction.html#833" class="Field">txGovProposals</a> <a id="8364" href="Ledger.Conway.Specification.Transaction.html#524" class="Field">txId</a> <a id="8369" class="Symbol">(</a><a id="8370" href="Ledger.Conway.Specification.Utxo.html#8261" class="Bound">pp</a> <a id="8373" class="Symbol">.</a><a id="8374" href="Ledger.Conway.Specification.PParams.html#3354" class="Field">govActionDeposit</a><a id="8390" class="Symbol">)</a>


  <a id="8396" class="Keyword">where</a> <a id="8402" class="Keyword">open</a> <a id="8407" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a> <a id="8414" href="Ledger.Conway.Specification.Utxo.html#8264" class="Bound">txb</a>

<a id="proposalDepositsΔ"></a><a id="8419" href="Ledger.Conway.Specification.Utxo.html#8419" class="Function">proposalDepositsΔ</a> <a id="8437" class="Symbol">:</a> <a id="8439" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8444" href="Ledger.Core.Specification.Gov.Actions.html#3598" class="Record">GovProposal</a> <a id="8456" class="Symbol">→</a> <a id="8458" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a> <a id="8466" class="Symbol">→</a> <a id="8468" href="Ledger.Conway.Specification.Transaction.html#352" class="Record">TxBody</a> <a id="8475" class="Symbol">→</a> <a id="8477" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a>
<a id="8486" href="Ledger.Conway.Specification.Utxo.html#8419" class="Function">proposalDepositsΔ</a> <a id="8504" href="Ledger.Conway.Specification.Utxo.html#8504" class="Bound">props</a> <a id="8510" href="Ledger.Conway.Specification.Utxo.html#8510" class="Bound">pp</a> <a id="8513" href="Ledger.Conway.Specification.Utxo.html#8513" class="Bound">txb</a> <a id="8517" class="Symbol">=</a> <a id="8519" href="Ledger.Conway.Specification.Utxo.html#7885" class="Function">updateProposalDeposits</a> <a id="8542" href="Ledger.Conway.Specification.Utxo.html#8504" class="Bound">props</a> <a id="8548" href="Ledger.Conway.Specification.Transaction.html#524" class="Field">txId</a> <a id="8553" class="Symbol">(</a><a id="8554" href="Ledger.Conway.Specification.Utxo.html#8510" class="Bound">pp</a> <a id="8557" class="Symbol">.</a><a id="8558" href="Ledger.Conway.Specification.PParams.html#3354" class="Field">govActionDeposit</a><a id="8574" class="Symbol">)</a> <a id="8576" href="Class.HasEmptySet.html#287" class="Field">∅</a>
  <a id="8580" class="Keyword">where</a> <a id="8586" class="Keyword">open</a> <a id="8591" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a> <a id="8598" href="Ledger.Conway.Specification.Utxo.html#8513" class="Bound">txb</a>


<a id="depositsChange"></a><a id="8604" href="Ledger.Conway.Specification.Utxo.html#8604" class="Function">depositsChange</a> <a id="8619" class="Symbol">:</a> <a id="8621" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a> <a id="8629" class="Symbol">→</a> <a id="8631" href="Ledger.Conway.Specification.Transaction.html#352" class="Record">TxBody</a> <a id="8638" class="Symbol">→</a> <a id="8640" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a> <a id="8649" class="Symbol">→</a> <a id="8651" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a>
<a id="8653" href="Ledger.Conway.Specification.Utxo.html#8604" class="Function">depositsChange</a> <a id="8668" href="Ledger.Conway.Specification.Utxo.html#8668" class="Bound">pp</a> <a id="8671" href="Ledger.Conway.Specification.Utxo.html#8671" class="Bound">txb</a> <a id="8675" href="Ledger.Conway.Specification.Utxo.html#8675" class="Bound">deposits</a> <a id="8684" class="Symbol">=</a>
  <a id="8688" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="8696" class="Symbol">(</a><a id="8697" href="Ledger.Conway.Specification.Utxo.html#8190" class="Function">updateDeposits</a> <a id="8712" href="Ledger.Conway.Specification.Utxo.html#8668" class="Bound">pp</a> <a id="8715" href="Ledger.Conway.Specification.Utxo.html#8671" class="Bound">txb</a> <a id="8719" href="Ledger.Conway.Specification.Utxo.html#8675" class="Bound">deposits</a><a id="8727" class="Symbol">)</a> <a id="8729" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="8731" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="8739" href="Ledger.Conway.Specification.Utxo.html#8675" class="Bound">deposits</a>

<a id="8749" class="Keyword">data</a> <a id="inInterval"></a><a id="8754" href="Ledger.Conway.Specification.Utxo.html#8754" class="Datatype">inInterval</a> <a id="8765" class="Symbol">(</a><a id="8766" href="Ledger.Conway.Specification.Utxo.html#8766" class="Bound">slot</a> <a id="8771" class="Symbol">:</a> <a id="8773" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a><a id="8777" class="Symbol">)</a> <a id="8779" class="Symbol">:</a> <a id="8781" class="Symbol">(</a><a id="8782" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8788" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a> <a id="8793" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8795" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8801" href="Ledger.Core.Specification.Epoch.html#722" class="Function">Slot</a><a id="8805" class="Symbol">)</a> <a id="8807" class="Symbol">→</a> <a id="8809" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="8814" class="Keyword">where</a>
  <a id="inInterval.both"></a><a id="8822" href="Ledger.Conway.Specification.Utxo.html#8822" class="InductiveConstructor">both</a>   <a id="8829" class="Symbol">:</a> <a id="8831" class="Symbol">∀</a> <a id="8833" class="Symbol">{</a><a id="8834" href="Ledger.Conway.Specification.Utxo.html#8834" class="Bound">l</a> <a id="8836" href="Ledger.Conway.Specification.Utxo.html#8836" class="Bound">r</a><a id="8837" class="Symbol">}</a>  <a id="8840" class="Symbol">→</a> <a id="8842" href="Ledger.Conway.Specification.Utxo.html#8834" class="Bound">l</a> <a id="8844" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="8846" href="Ledger.Conway.Specification.Utxo.html#8766" class="Bound">slot</a> <a id="8851" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8853" href="Ledger.Conway.Specification.Utxo.html#8766" class="Bound">slot</a> <a id="8858" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="8860" href="Ledger.Conway.Specification.Utxo.html#8836" class="Bound">r</a>  <a id="8863" class="Symbol">→</a>  <a id="8866" href="Ledger.Conway.Specification.Utxo.html#8754" class="Datatype">inInterval</a> <a id="8877" href="Ledger.Conway.Specification.Utxo.html#8766" class="Bound">slot</a> <a id="8882" class="Symbol">(</a><a id="8883" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8888" href="Ledger.Conway.Specification.Utxo.html#8834" class="Bound">l</a>   <a id="8892" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8894" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8899" href="Ledger.Conway.Specification.Utxo.html#8836" class="Bound">r</a><a id="8900" class="Symbol">)</a>
  <a id="inInterval.lower"></a><a id="8904" href="Ledger.Conway.Specification.Utxo.html#8904" class="InductiveConstructor">lower</a>  <a id="8911" class="Symbol">:</a> <a id="8913" class="Symbol">∀</a> <a id="8915" class="Symbol">{</a><a id="8916" href="Ledger.Conway.Specification.Utxo.html#8916" class="Bound">l</a><a id="8917" class="Symbol">}</a>    <a id="8922" class="Symbol">→</a> <a id="8924" href="Ledger.Conway.Specification.Utxo.html#8916" class="Bound">l</a> <a id="8926" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="8928" href="Ledger.Conway.Specification.Utxo.html#8766" class="Bound">slot</a>             <a id="8945" class="Symbol">→</a>  <a id="8948" href="Ledger.Conway.Specification.Utxo.html#8754" class="Datatype">inInterval</a> <a id="8959" href="Ledger.Conway.Specification.Utxo.html#8766" class="Bound">slot</a> <a id="8964" class="Symbol">(</a><a id="8965" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8970" href="Ledger.Conway.Specification.Utxo.html#8916" class="Bound">l</a>   <a id="8974" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8976" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="8983" class="Symbol">)</a>
  <a id="inInterval.upper"></a><a id="8987" href="Ledger.Conway.Specification.Utxo.html#8987" class="InductiveConstructor">upper</a>  <a id="8994" class="Symbol">:</a> <a id="8996" class="Symbol">∀</a> <a id="8998" class="Symbol">{</a><a id="8999" href="Ledger.Conway.Specification.Utxo.html#8999" class="Bound">r</a><a id="9000" class="Symbol">}</a>    <a id="9005" class="Symbol">→</a> <a id="9007" href="Ledger.Conway.Specification.Utxo.html#8766" class="Bound">slot</a> <a id="9012" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="9014" href="Ledger.Conway.Specification.Utxo.html#8999" class="Bound">r</a>             <a id="9028" class="Symbol">→</a>  <a id="9031" href="Ledger.Conway.Specification.Utxo.html#8754" class="Datatype">inInterval</a> <a id="9042" href="Ledger.Conway.Specification.Utxo.html#8766" class="Bound">slot</a> <a id="9047" class="Symbol">(</a><a id="9048" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="9057" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9059" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9064" href="Ledger.Conway.Specification.Utxo.html#8999" class="Bound">r</a><a id="9065" class="Symbol">)</a>
  <a id="inInterval.none"></a><a id="9069" href="Ledger.Conway.Specification.Utxo.html#9069" class="InductiveConstructor">none</a>   <a id="9076" class="Symbol">:</a>                                    <a id="9113" href="Ledger.Conway.Specification.Utxo.html#8754" class="Datatype">inInterval</a> <a id="9124" href="Ledger.Conway.Specification.Utxo.html#8766" class="Bound">slot</a> <a id="9129" class="Symbol">(</a><a id="9130" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>  <a id="9139" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9141" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="9148" class="Symbol">)</a>


<a id="9152" class="Comment">-- Note: inInterval has to be a type definition for inference to work</a>
<a id="9222" class="Keyword">instance</a>
  <a id="Dec-inInterval"></a><a id="9233" href="Ledger.Conway.Specification.Utxo.html#9233" class="Function">Dec-inInterval</a> <a id="9248" class="Symbol">:</a> <a id="9250" href="Ledger.Conway.Specification.Utxo.html#8754" class="Datatype">inInterval</a> <a id="9261" href="Class.Decidable.Core.html#590" class="Function Operator">⁇²</a>
  <a id="9266" href="Ledger.Conway.Specification.Utxo.html#9233" class="Function">Dec-inInterval</a> <a id="9281" class="Symbol">{</a><a id="9282" href="Ledger.Conway.Specification.Utxo.html#9282" class="Bound">slot</a><a id="9286" class="Symbol">}</a> <a id="9288" class="Symbol">{</a><a id="9289" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9294" href="Ledger.Conway.Specification.Utxo.html#9294" class="Bound">x</a>  <a id="9297" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9299" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9304" href="Ledger.Conway.Specification.Utxo.html#9304" class="Bound">y</a> <a id="9306" class="Symbol">}</a> <a id="9308" class="Symbol">.</a><a id="9309" href="Class.Decidable.Core.html#273" class="Field">dec</a> <a id="9313" class="Keyword">with</a> <a id="9318" href="Ledger.Conway.Specification.Utxo.html#9294" class="Bound">x</a> <a id="9320" href="Class.HasOrder.Core.html#1016" class="Function Operator">≤?</a> <a id="9323" href="Ledger.Conway.Specification.Utxo.html#9282" class="Bound">slot</a> <a id="9328" class="Symbol">|</a> <a id="9330" href="Ledger.Conway.Specification.Utxo.html#9282" class="Bound">slot</a> <a id="9335" href="Class.HasOrder.Core.html#1016" class="Function Operator">≤?</a> <a id="9338" href="Ledger.Conway.Specification.Utxo.html#9304" class="Bound">y</a>
  <a id="9342" class="Symbol">...</a> <a id="9346" class="Symbol">|</a> <a id="9348" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="9351" href="Ledger.Conway.Specification.Utxo.html#9351" class="Bound">¬p₁</a> <a id="9355" class="Symbol">|</a> <a id="9357" class="Symbol">_</a>      <a id="9364" class="Symbol">=</a> <a id="9366" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="9369" class="Symbol">λ</a> <a id="9371" class="Keyword">where</a> <a id="9377" class="Symbol">(</a><a id="9378" href="Ledger.Conway.Specification.Utxo.html#8822" class="InductiveConstructor">both</a> <a id="9383" class="Symbol">(</a><a id="9384" href="Ledger.Conway.Specification.Utxo.html#9384" class="Bound">h₁</a> <a id="9387" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9389" href="Ledger.Conway.Specification.Utxo.html#9389" class="Bound">h₂</a><a id="9391" class="Symbol">))</a> <a id="9394" class="Symbol">→</a> <a id="9396" href="Ledger.Conway.Specification.Utxo.html#9351" class="Bound">¬p₁</a> <a id="9400" href="Ledger.Conway.Specification.Utxo.html#9384" class="Bound">h₁</a>
  <a id="9405" class="Symbol">...</a> <a id="9409" class="Symbol">|</a> <a id="9411" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="9415" href="Ledger.Conway.Specification.Utxo.html#9415" class="Bound">p₁</a> <a id="9418" class="Symbol">|</a> <a id="9420" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="9423" href="Ledger.Conway.Specification.Utxo.html#9423" class="Bound">¬p₂</a> <a id="9427" class="Symbol">=</a> <a id="9429" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="9432" class="Symbol">λ</a> <a id="9434" class="Keyword">where</a> <a id="9440" class="Symbol">(</a><a id="9441" href="Ledger.Conway.Specification.Utxo.html#8822" class="InductiveConstructor">both</a> <a id="9446" class="Symbol">(</a><a id="9447" href="Ledger.Conway.Specification.Utxo.html#9447" class="Bound">h₁</a> <a id="9450" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9452" href="Ledger.Conway.Specification.Utxo.html#9452" class="Bound">h₂</a><a id="9454" class="Symbol">))</a> <a id="9457" class="Symbol">→</a> <a id="9459" href="Ledger.Conway.Specification.Utxo.html#9423" class="Bound">¬p₂</a> <a id="9463" href="Ledger.Conway.Specification.Utxo.html#9452" class="Bound">h₂</a>
  <a id="9468" class="Symbol">...</a> <a id="9472" class="Symbol">|</a> <a id="9474" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="9478" href="Ledger.Conway.Specification.Utxo.html#9478" class="Bound">p₁</a> <a id="9481" class="Symbol">|</a> <a id="9483" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="9487" href="Ledger.Conway.Specification.Utxo.html#9487" class="Bound">p₂</a> <a id="9490" class="Symbol">=</a> <a id="9492" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="9496" class="Symbol">(</a><a id="9497" href="Ledger.Conway.Specification.Utxo.html#8822" class="InductiveConstructor">both</a> <a id="9502" class="Symbol">(</a><a id="9503" href="Ledger.Conway.Specification.Utxo.html#9478" class="Bound">p₁</a> <a id="9506" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9508" href="Ledger.Conway.Specification.Utxo.html#9487" class="Bound">p₂</a><a id="9510" class="Symbol">))</a>
  <a id="9515" href="Ledger.Conway.Specification.Utxo.html#9233" class="Function">Dec-inInterval</a> <a id="9530" class="Symbol">{</a><a id="9531" href="Ledger.Conway.Specification.Utxo.html#9531" class="Bound">slot</a><a id="9535" class="Symbol">}</a> <a id="9537" class="Symbol">{</a><a id="9538" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9543" href="Ledger.Conway.Specification.Utxo.html#9543" class="Bound">x</a>  <a id="9546" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9548" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="9555" class="Symbol">}</a> <a id="9557" class="Symbol">.</a><a id="9558" href="Class.Decidable.Core.html#273" class="Field">dec</a> <a id="9562" class="Keyword">with</a> <a id="9567" href="Ledger.Conway.Specification.Utxo.html#9543" class="Bound">x</a> <a id="9569" href="Class.HasOrder.Core.html#1016" class="Function Operator">≤?</a> <a id="9572" href="Ledger.Conway.Specification.Utxo.html#9531" class="Bound">slot</a>
  <a id="9579" class="Symbol">...</a> <a id="9583" class="Symbol">|</a> <a id="9585" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="9588" href="Ledger.Conway.Specification.Utxo.html#9588" class="Bound">¬p</a> <a id="9591" class="Symbol">=</a> <a id="9593" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a>  <a id="9597" class="Symbol">(λ</a> <a id="9600" class="Keyword">where</a> <a id="9606" class="Symbol">(</a><a id="9607" href="Ledger.Conway.Specification.Utxo.html#8904" class="InductiveConstructor">lower</a> <a id="9613" href="Ledger.Conway.Specification.Utxo.html#9613" class="Bound">h</a><a id="9614" class="Symbol">)</a> <a id="9616" class="Symbol">→</a> <a id="9618" href="Ledger.Conway.Specification.Utxo.html#9588" class="Bound">¬p</a> <a id="9621" href="Ledger.Conway.Specification.Utxo.html#9613" class="Bound">h</a><a id="9622" class="Symbol">)</a>
  <a id="9626" class="Symbol">...</a> <a id="9630" class="Symbol">|</a> <a id="9632" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="9636" href="Ledger.Conway.Specification.Utxo.html#9636" class="Bound">p</a> <a id="9638" class="Symbol">=</a> <a id="9640" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="9644" class="Symbol">(</a><a id="9645" href="Ledger.Conway.Specification.Utxo.html#8904" class="InductiveConstructor">lower</a> <a id="9651" href="Ledger.Conway.Specification.Utxo.html#9636" class="Bound">p</a><a id="9652" class="Symbol">)</a>
  <a id="9656" href="Ledger.Conway.Specification.Utxo.html#9233" class="Function">Dec-inInterval</a> <a id="9671" class="Symbol">{</a><a id="9672" href="Ledger.Conway.Specification.Utxo.html#9672" class="Bound">slot</a><a id="9676" class="Symbol">}</a> <a id="9678" class="Symbol">{</a><a id="9679" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="9687" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9689" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9694" href="Ledger.Conway.Specification.Utxo.html#9694" class="Bound">x</a> <a id="9696" class="Symbol">}</a> <a id="9698" class="Symbol">.</a><a id="9699" href="Class.Decidable.Core.html#273" class="Field">dec</a> <a id="9703" class="Keyword">with</a> <a id="9708" href="Ledger.Conway.Specification.Utxo.html#9672" class="Bound">slot</a> <a id="9713" href="Class.HasOrder.Core.html#1016" class="Function Operator">≤?</a> <a id="9716" href="Ledger.Conway.Specification.Utxo.html#9694" class="Bound">x</a>
  <a id="9720" class="Symbol">...</a> <a id="9724" class="Symbol">|</a> <a id="9726" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="9729" href="Ledger.Conway.Specification.Utxo.html#9729" class="Bound">¬p</a> <a id="9732" class="Symbol">=</a> <a id="9734" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a>  <a id="9738" class="Symbol">(λ</a> <a id="9741" class="Keyword">where</a> <a id="9747" class="Symbol">(</a><a id="9748" href="Ledger.Conway.Specification.Utxo.html#8987" class="InductiveConstructor">upper</a> <a id="9754" href="Ledger.Conway.Specification.Utxo.html#9754" class="Bound">h</a><a id="9755" class="Symbol">)</a> <a id="9757" class="Symbol">→</a> <a id="9759" href="Ledger.Conway.Specification.Utxo.html#9729" class="Bound">¬p</a> <a id="9762" href="Ledger.Conway.Specification.Utxo.html#9754" class="Bound">h</a><a id="9763" class="Symbol">)</a>
  <a id="9767" class="Symbol">...</a> <a id="9771" class="Symbol">|</a> <a id="9773" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="9777" href="Ledger.Conway.Specification.Utxo.html#9777" class="Bound">p</a> <a id="9779" class="Symbol">=</a> <a id="9781" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="9785" class="Symbol">(</a><a id="9786" href="Ledger.Conway.Specification.Utxo.html#8987" class="InductiveConstructor">upper</a> <a id="9792" href="Ledger.Conway.Specification.Utxo.html#9777" class="Bound">p</a><a id="9793" class="Symbol">)</a>
  <a id="9797" href="Ledger.Conway.Specification.Utxo.html#9233" class="Function">Dec-inInterval</a> <a id="9812" class="Symbol">{</a><a id="9813" href="Ledger.Conway.Specification.Utxo.html#9813" class="Bound">slot</a><a id="9817" class="Symbol">}</a> <a id="9819" class="Symbol">{</a><a id="9820" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="9828" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9830" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="9837" class="Symbol">}</a> <a id="9839" class="Symbol">.</a><a id="9840" href="Class.Decidable.Core.html#273" class="Field">dec</a> <a id="9844" class="Symbol">=</a> <a id="9846" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="9850" href="Ledger.Conway.Specification.Utxo.html#9069" class="InductiveConstructor">none</a>

  <a id="HasCoin-UTxOState"></a><a id="9858" href="Ledger.Conway.Specification.Utxo.html#9858" class="Function">HasCoin-UTxOState</a> <a id="9876" class="Symbol">:</a> <a id="9878" href="Ledger.Prelude.HasCoin.html#123" class="Record">HasCoin</a> <a id="9886" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a>
  <a id="9898" href="Ledger.Conway.Specification.Utxo.html#9858" class="Function">HasCoin-UTxOState</a> <a id="9916" class="Symbol">.</a><a id="9917" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="9925" href="Ledger.Conway.Specification.Utxo.html#9925" class="Bound">s</a> <a id="9927" class="Symbol">=</a> <a id="9929" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="9937" class="Symbol">(</a><a id="9938" href="Ledger.Conway.Specification.Utxo.html#1372" class="Field">UTxOState.utxo</a> <a id="9953" href="Ledger.Conway.Specification.Utxo.html#9925" class="Bound">s</a><a id="9954" class="Symbol">)</a>
                               <a id="9987" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="9989" class="Symbol">(</a><a id="9990" href="Ledger.Conway.Specification.Utxo.html#1394" class="Field">UTxOState.fees</a> <a id="10005" href="Ledger.Conway.Specification.Utxo.html#9925" class="Bound">s</a><a id="10006" class="Symbol">)</a>
                               <a id="10039" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10041" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="10049" class="Symbol">(</a><a id="10050" href="Ledger.Conway.Specification.Utxo.html#1416" class="Field">UTxOState.deposits</a> <a id="10069" href="Ledger.Conway.Specification.Utxo.html#9925" class="Bound">s</a><a id="10070" class="Symbol">)</a>
                               <a id="10103" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="10105" href="Ledger.Conway.Specification.Utxo.html#1442" class="Field">UTxOState.donations</a> <a id="10125" href="Ledger.Conway.Specification.Utxo.html#9925" class="Bound">s</a>

<a id="coinPolicies"></a><a id="10128" href="Ledger.Conway.Specification.Utxo.html#10128" class="Function">coinPolicies</a> <a id="10141" class="Symbol">:</a> <a id="10143" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="10145" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
<a id="10156" href="Ledger.Conway.Specification.Utxo.html#10128" class="Function">coinPolicies</a> <a id="10169" class="Symbol">=</a> <a id="10171" href="Ledger.Core.Specification.TokenAlgebra.Base.html#925" class="Function">policies</a> <a id="10180" class="Symbol">(</a><a id="10181" href="Ledger.Core.Specification.TokenAlgebra.Base.html#880" class="Function">inject</a> <a id="10188" class="Number">1</a><a id="10189" class="Symbol">)</a>

<a id="isAdaOnly"></a><a id="10192" href="Ledger.Conway.Specification.Utxo.html#10192" class="Function">isAdaOnly</a> <a id="10202" class="Symbol">:</a> <a id="10204" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a> <a id="10210" class="Symbol">→</a> <a id="10212" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="10217" href="Ledger.Conway.Specification.Utxo.html#10192" class="Function">isAdaOnly</a> <a id="10227" href="Ledger.Conway.Specification.Utxo.html#10227" class="Bound">v</a> <a id="10229" class="Symbol">=</a> <a id="10231" href="Ledger.Core.Specification.TokenAlgebra.Base.html#925" class="Function">policies</a> <a id="10240" href="Ledger.Conway.Specification.Utxo.html#10227" class="Bound">v</a> <a id="10242" href="Axiom.Set.html#2772" class="Function Operator">≡ᵉ</a> <a id="10245" href="Ledger.Conway.Specification.Utxo.html#10128" class="Function">coinPolicies</a>


<a id="collateralCheck"></a><a id="10260" href="Ledger.Conway.Specification.Utxo.html#10260" class="Function">collateralCheck</a> <a id="10276" class="Symbol">:</a> <a id="10278" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a> <a id="10286" class="Symbol">→</a> <a id="10288" href="Ledger.Conway.Specification.Transaction.html#1721" class="Record">Tx</a> <a id="10291" class="Symbol">→</a> <a id="10293" href="Ledger.Core.Specification.Transaction.html#2607" class="Function">UTxO</a> <a id="10298" class="Symbol">→</a> <a id="10300" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="10305" href="Ledger.Conway.Specification.Utxo.html#10260" class="Function">collateralCheck</a> <a id="10321" href="Ledger.Conway.Specification.Utxo.html#10321" class="Bound">pp</a> <a id="10324" href="Ledger.Conway.Specification.Utxo.html#10324" class="Bound">tx</a> <a id="10327" href="Ledger.Conway.Specification.Utxo.html#10327" class="Bound">utxo</a> <a id="10332" class="Symbol">=</a>
  <a id="10336" href="Axiom.Set.html#9909" class="Function">All</a> <a id="10340" class="Symbol">(λ</a> <a id="10343" class="Symbol">(</a><a id="10344" href="Ledger.Conway.Specification.Utxo.html#10344" class="Bound">addr</a> <a id="10349" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10351" class="Symbol">_)</a> <a id="10354" class="Symbol">→</a> <a id="10356" href="Ledger.Core.Specification.Address.html#2730" class="Function">isVKeyAddr</a> <a id="10367" href="Ledger.Conway.Specification.Utxo.html#10344" class="Bound">addr</a><a id="10371" class="Symbol">)</a> <a id="10373" class="Symbol">(</a><a id="10374" href="Class.IsSet.html#959" class="Function">range</a> <a id="10380" class="Symbol">(</a><a id="10381" href="Ledger.Conway.Specification.Utxo.html#10327" class="Bound">utxo</a> <a id="10386" href="Axiom.Set.Map.html#13534" class="Function Operator">∣</a> <a id="10388" href="Ledger.Conway.Specification.Transaction.html#452" class="Function">collateralInputs</a><a id="10404" class="Symbol">))</a>
  <a id="10409" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10411" href="Ledger.Conway.Specification.Utxo.html#10192" class="Function">isAdaOnly</a> <a id="10421" href="Ledger.Conway.Specification.Utxo.html#10559" class="Function">balance′</a>
  <a id="10432" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10434" href="Ledger.Core.Specification.TokenAlgebra.Base.html#835" class="Function">coin</a> <a id="10439" href="Ledger.Conway.Specification.Utxo.html#10559" class="Function">balance′</a> <a id="10448" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="10450" class="Number">100</a> <a id="10454" href="Class.HasOrder.Core.html#827" class="Function Operator">≥</a> <a id="10456" href="Ledger.Conway.Specification.Transaction.html#594" class="Function">txFee</a> <a id="10462" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="10464" href="Ledger.Conway.Specification.Utxo.html#10321" class="Bound">pp</a> <a id="10467" class="Symbol">.</a><a id="10468" href="Ledger.Conway.Specification.PParams.html#2930" class="Field">collateralPercentage</a>
  <a id="10491" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10493" href="Ledger.Conway.Specification.Transaction.html#452" class="Function">collateralInputs</a> <a id="10510" href="Relation.Binary.PropositionalEquality.Core.html#1000" class="Function Operator">≢</a> <a id="10512" href="Class.HasEmptySet.html#287" class="Field">∅</a>
  <a id="10516" class="Keyword">where</a>
    <a id="10526" class="Keyword">open</a> <a id="10531" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a> <a id="10534" href="Ledger.Conway.Specification.Utxo.html#10324" class="Bound">tx</a><a id="10536" class="Symbol">;</a> <a id="10538" class="Keyword">open</a> <a id="10543" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a> <a id="10550" href="Ledger.Conway.Specification.Transaction.html#1749" class="Function">body</a>
    <a id="10559" href="Ledger.Conway.Specification.Utxo.html#10559" class="Function">balance′</a> <a id="10568" class="Symbol">=</a> <a id="10570" href="Ledger.Conway.Specification.Utxo.html#2445" class="Function">balance</a> <a id="10578" class="Symbol">(</a><a id="10579" href="Ledger.Conway.Specification.Utxo.html#10327" class="Bound">utxo</a> <a id="10584" href="Axiom.Set.Map.html#13534" class="Function Operator">∣</a> <a id="10586" href="Ledger.Conway.Specification.Transaction.html#452" class="Function">collateralInputs</a><a id="10602" class="Symbol">)</a>


<a id="10606" class="Keyword">module</a> <a id="10613" href="Ledger.Conway.Specification.Utxo.html#10613" class="Module">_</a> <a id="10615" class="Symbol">(</a><a id="10616" class="Keyword">let</a> <a id="10620" class="Keyword">open</a> <a id="10625" href="Ledger.Conway.Specification.Utxo.html#1308" class="Module">UTxOState</a><a id="10634" class="Symbol">;</a> <a id="10636" class="Keyword">open</a> <a id="10641" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a><a id="10647" class="Symbol">)</a> <a id="10649" class="Keyword">where</a>


  <a id="10659" href="Ledger.Conway.Specification.Utxo.html#10659" class="Function">depositRefunds</a> <a id="10674" class="Symbol">:</a> <a id="10676" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a> <a id="10684" class="Symbol">→</a> <a id="10686" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a> <a id="10696" class="Symbol">→</a> <a id="10698" href="Ledger.Conway.Specification.Transaction.html#352" class="Record">TxBody</a> <a id="10705" class="Symbol">→</a> <a id="10707" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="10714" href="Ledger.Conway.Specification.Utxo.html#10659" class="Function">depositRefunds</a> <a id="10729" href="Ledger.Conway.Specification.Utxo.html#10729" class="Bound">pp</a> <a id="10732" href="Ledger.Conway.Specification.Utxo.html#10732" class="Bound">st</a> <a id="10735" href="Ledger.Conway.Specification.Utxo.html#10735" class="Bound">txb</a> <a id="10739" class="Symbol">=</a> <a id="10741" href="Prelude.html#3357" class="Function">negPart</a> <a id="10749" class="Symbol">(</a><a id="10750" href="Ledger.Conway.Specification.Utxo.html#8604" class="Function">depositsChange</a> <a id="10765" href="Ledger.Conway.Specification.Utxo.html#10729" class="Bound">pp</a> <a id="10768" href="Ledger.Conway.Specification.Utxo.html#10735" class="Bound">txb</a> <a id="10772" class="Symbol">(</a><a id="10773" href="Ledger.Conway.Specification.Utxo.html#10732" class="Bound">st</a> <a id="10776" class="Symbol">.</a><a id="10777" href="Ledger.Conway.Specification.Utxo.html#1416" class="Field">deposits</a><a id="10785" class="Symbol">))</a>

  <a id="10791" href="Ledger.Conway.Specification.Utxo.html#10791" class="Function">newDeposits</a> <a id="10803" class="Symbol">:</a> <a id="10805" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a> <a id="10813" class="Symbol">→</a> <a id="10815" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a> <a id="10825" class="Symbol">→</a> <a id="10827" href="Ledger.Conway.Specification.Transaction.html#352" class="Record">TxBody</a> <a id="10834" class="Symbol">→</a> <a id="10836" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="10843" href="Ledger.Conway.Specification.Utxo.html#10791" class="Function">newDeposits</a> <a id="10855" href="Ledger.Conway.Specification.Utxo.html#10855" class="Bound">pp</a> <a id="10858" href="Ledger.Conway.Specification.Utxo.html#10858" class="Bound">st</a> <a id="10861" href="Ledger.Conway.Specification.Utxo.html#10861" class="Bound">txb</a> <a id="10865" class="Symbol">=</a> <a id="10867" href="Prelude.html#3280" class="Function">posPart</a> <a id="10875" class="Symbol">(</a><a id="10876" href="Ledger.Conway.Specification.Utxo.html#8604" class="Function">depositsChange</a> <a id="10891" href="Ledger.Conway.Specification.Utxo.html#10855" class="Bound">pp</a> <a id="10894" href="Ledger.Conway.Specification.Utxo.html#10861" class="Bound">txb</a> <a id="10898" class="Symbol">(</a><a id="10899" href="Ledger.Conway.Specification.Utxo.html#10858" class="Bound">st</a> <a id="10902" class="Symbol">.</a><a id="10903" href="Ledger.Conway.Specification.Utxo.html#1416" class="Field">deposits</a><a id="10911" class="Symbol">))</a>

  <a id="10917" href="Ledger.Conway.Specification.Utxo.html#10917" class="Function">consumed</a> <a id="10926" class="Symbol">:</a> <a id="10928" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a> <a id="10936" class="Symbol">→</a> <a id="10938" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a> <a id="10948" class="Symbol">→</a> <a id="10950" href="Ledger.Conway.Specification.Transaction.html#352" class="Record">TxBody</a> <a id="10957" class="Symbol">→</a> <a id="10959" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a>
  <a id="10967" href="Ledger.Conway.Specification.Utxo.html#10917" class="Function">consumed</a> <a id="10976" href="Ledger.Conway.Specification.Utxo.html#10976" class="Bound">pp</a> <a id="10979" href="Ledger.Conway.Specification.Utxo.html#10979" class="Bound">st</a> <a id="10982" href="Ledger.Conway.Specification.Utxo.html#10982" class="Bound">txb</a>
    <a id="10990" class="Symbol">=</a>  <a id="10993" href="Ledger.Conway.Specification.Utxo.html#2445" class="Function">balance</a> <a id="11001" class="Symbol">(</a><a id="11002" href="Ledger.Conway.Specification.Utxo.html#10979" class="Bound">st</a> <a id="11005" class="Symbol">.</a><a id="11006" href="Ledger.Conway.Specification.Utxo.html#1372" class="Field">utxo</a> <a id="11011" href="Axiom.Set.Map.html#13534" class="Function Operator">∣</a> <a id="11013" href="Ledger.Conway.Specification.Utxo.html#10982" class="Bound">txb</a> <a id="11017" class="Symbol">.</a><a id="11018" href="Ledger.Conway.Specification.Transaction.html#384" class="Field">txIns</a><a id="11023" class="Symbol">)</a>
    <a id="11029" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a>  <a id="11032" href="Ledger.Conway.Specification.Utxo.html#10982" class="Bound">txb</a> <a id="11036" class="Symbol">.</a><a id="11037" href="Ledger.Conway.Specification.Transaction.html#960" class="Field">mint</a>
    <a id="11046" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a>  <a id="11049" href="Ledger.Core.Specification.TokenAlgebra.Base.html#880" class="Function">inject</a> <a id="11056" class="Symbol">(</a><a id="11057" href="Ledger.Conway.Specification.Utxo.html#10659" class="Function">depositRefunds</a> <a id="11072" href="Ledger.Conway.Specification.Utxo.html#10976" class="Bound">pp</a> <a id="11075" href="Ledger.Conway.Specification.Utxo.html#10979" class="Bound">st</a> <a id="11078" href="Ledger.Conway.Specification.Utxo.html#10982" class="Bound">txb</a><a id="11081" class="Symbol">)</a>
    <a id="11087" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a>  <a id="11090" href="Ledger.Core.Specification.TokenAlgebra.Base.html#880" class="Function">inject</a> <a id="11097" class="Symbol">(</a><a id="11098" href="Ledger.Prelude.HasCoin.html#171" class="Field">getCoin</a> <a id="11106" class="Symbol">(</a><a id="11107" href="Ledger.Conway.Specification.Utxo.html#10982" class="Bound">txb</a> <a id="11111" class="Symbol">.</a><a id="11112" href="Ledger.Conway.Specification.Transaction.html#626" class="Field">txWithdrawals</a><a id="11125" class="Symbol">))</a>

  <a id="11131" href="Ledger.Conway.Specification.Utxo.html#11131" class="Function">produced</a> <a id="11140" class="Symbol">:</a> <a id="11142" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a> <a id="11150" class="Symbol">→</a> <a id="11152" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a> <a id="11162" class="Symbol">→</a> <a id="11164" href="Ledger.Conway.Specification.Transaction.html#352" class="Record">TxBody</a> <a id="11171" class="Symbol">→</a> <a id="11173" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a>
  <a id="11181" href="Ledger.Conway.Specification.Utxo.html#11131" class="Function">produced</a> <a id="11190" href="Ledger.Conway.Specification.Utxo.html#11190" class="Bound">pp</a> <a id="11193" href="Ledger.Conway.Specification.Utxo.html#11193" class="Bound">st</a> <a id="11196" href="Ledger.Conway.Specification.Utxo.html#11196" class="Bound">txb</a> <a id="11200" class="Symbol">=</a> <a id="11202" href="Ledger.Conway.Specification.Utxo.html#2445" class="Function">balance</a> <a id="11210" class="Symbol">(</a><a id="11211" href="Ledger.Conway.Specification.Utxo.html#2374" class="Function">outs</a> <a id="11216" href="Ledger.Conway.Specification.Utxo.html#11196" class="Bound">txb</a><a id="11219" class="Symbol">)</a>
                     <a id="11242" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11244" href="Ledger.Core.Specification.TokenAlgebra.Base.html#880" class="Function">inject</a> <a id="11251" class="Symbol">(</a><a id="11252" href="Ledger.Conway.Specification.Utxo.html#11196" class="Bound">txb</a> <a id="11256" class="Symbol">.</a><a id="11257" href="Ledger.Conway.Specification.Transaction.html#594" class="Field">txFee</a><a id="11262" class="Symbol">)</a>
                     <a id="11285" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11287" href="Ledger.Core.Specification.TokenAlgebra.Base.html#880" class="Function">inject</a> <a id="11294" class="Symbol">(</a><a id="11295" href="Ledger.Conway.Specification.Utxo.html#10791" class="Function">newDeposits</a> <a id="11307" href="Ledger.Conway.Specification.Utxo.html#11190" class="Bound">pp</a> <a id="11310" href="Ledger.Conway.Specification.Utxo.html#11193" class="Bound">st</a> <a id="11313" href="Ledger.Conway.Specification.Utxo.html#11196" class="Bound">txb</a><a id="11316" class="Symbol">)</a>
                     <a id="11339" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="11341" href="Ledger.Core.Specification.TokenAlgebra.Base.html#880" class="Function">inject</a> <a id="11348" class="Symbol">(</a><a id="11349" href="Ledger.Conway.Specification.Utxo.html#11196" class="Bound">txb</a> <a id="11353" class="Symbol">.</a><a id="11354" href="Ledger.Conway.Specification.Transaction.html#756" class="Field">txDonation</a><a id="11364" class="Symbol">)</a>


<a id="11368" class="Keyword">open</a> <a id="11373" href="Ledger.Conway.Specification.PParams.html#1687" class="Module">PParams</a>
<a id="11381" class="Keyword">private</a> <a id="11389" class="Keyword">variable</a>
  <a id="11400" href="Ledger.Conway.Specification.Utxo.html#11400" class="Generalizable">Γ</a> <a id="11402" class="Symbol">:</a> <a id="11404" href="Ledger.Conway.Specification.Utxo.html#1199" class="Record">UTxOEnv</a>
  <a id="11414" href="Ledger.Conway.Specification.Utxo.html#11414" class="Generalizable">s</a> <a id="11416" href="Ledger.Conway.Specification.Utxo.html#11416" class="Generalizable">s&#39;</a> <a id="11419" class="Symbol">:</a> <a id="11421" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a>
  <a id="11433" href="Ledger.Conway.Specification.Utxo.html#11433" class="Generalizable">tx</a> <a id="11436" class="Symbol">:</a> <a id="11438" href="Ledger.Conway.Specification.Transaction.html#1721" class="Record">Tx</a>
  <a id="11443" href="Ledger.Conway.Specification.Utxo.html#11443" class="Generalizable">utxo</a> <a id="11448" class="Symbol">:</a> <a id="11450" href="Ledger.Core.Specification.Transaction.html#2607" class="Function">UTxO</a>
  <a id="11457" href="Ledger.Conway.Specification.Utxo.html#11457" class="Generalizable">fees</a> <a id="11462" class="Symbol">:</a> <a id="11464" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
  <a id="11471" href="Ledger.Conway.Specification.Utxo.html#11471" class="Generalizable">donations</a> <a id="11481" class="Symbol">:</a> <a id="11483" href="Ledger.Prelude.Base.html#176" class="Function">Donations</a>
  <a id="11495" href="Ledger.Conway.Specification.Utxo.html#11495" class="Generalizable">deposits</a> <a id="11504" class="Symbol">:</a> <a id="11506" href="Ledger.Conway.Specification.Certs.html#802" class="Function">Deposits</a>

<a id="11516" class="Keyword">open</a> <a id="11521" href="Ledger.Conway.Specification.Utxo.html#1199" class="Module">UTxOEnv</a>


<a id="11531" class="Keyword">data</a> <a id="_⊢_⇀⦇_,UTXOS⦈_"></a><a id="11536" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">_⊢_⇀⦇_,UTXOS⦈_</a> <a id="11551" class="Symbol">:</a> <a id="11553" href="Ledger.Conway.Specification.Utxo.html#1199" class="Record">UTxOEnv</a> <a id="11561" class="Symbol">→</a> <a id="11563" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a> <a id="11573" class="Symbol">→</a> <a id="11575" href="Ledger.Conway.Specification.Transaction.html#1721" class="Record">Tx</a> <a id="11578" class="Symbol">→</a> <a id="11580" href="Ledger.Conway.Specification.Utxo.html#1308" class="Record">UTxOState</a> <a id="11590" class="Symbol">→</a> <a id="11592" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="11597" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,UTXOS⦈_.Scripts-Yes"></a><a id="11606" href="Ledger.Conway.Specification.Utxo.html#11606" class="InductiveConstructor">Scripts-Yes</a> <a id="11618" class="Symbol">:</a>
    <a id="11624" class="Keyword">let</a>  <a id="11629" href="Ledger.Conway.Specification.Utxo.html#11629" class="Bound">pp</a>         <a id="11640" class="Symbol">=</a> <a id="11642" href="Ledger.Conway.Specification.Utxo.html#11400" class="Generalizable">Γ</a> <a id="11644" class="Symbol">.</a><a id="11645" href="Ledger.Conway.Specification.Utxo.html#1253" class="Field">pparams</a>


         <a id="11664" class="Keyword">open</a> <a id="11669" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a> <a id="11672" href="Ledger.Conway.Specification.Utxo.html#11433" class="Generalizable">tx</a> <a id="11675" class="Keyword">renaming</a> <a id="11684" class="Symbol">(</a><a id="11685" href="Ledger.Conway.Specification.Transaction.html#1749" class="Field">body</a> <a id="11690" class="Symbol">to</a> <a id="11693" class="Field">txb</a><a id="11696" class="Symbol">);</a> <a id="11699" class="Keyword">open</a> <a id="11704" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a> <a id="11711" href="Ledger.Conway.Specification.Utxo.html#11693" class="Function">txb</a>


         <a id="11726" href="Ledger.Conway.Specification.Utxo.html#11726" class="Bound">p2Scripts</a>  <a id="11737" class="Symbol">=</a> <a id="11739" href="Ledger.Conway.Specification.Script.Validation.html#3677" class="Function">collectP2ScriptsWithContext</a> <a id="11767" href="Ledger.Conway.Specification.Utxo.html#11629" class="Bound">pp</a> <a id="11770" href="Ledger.Conway.Specification.Utxo.html#11433" class="Generalizable">tx</a> <a id="11773" href="Ledger.Conway.Specification.Utxo.html#11443" class="Generalizable">utxo</a>
      <a id="11784" class="Keyword">in</a>
        <a id="11795" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="11797" href="Ledger.Conway.Specification.Utxo.html#3540" class="Datatype">ValidCertDeposits</a> <a id="11815" href="Ledger.Conway.Specification.Utxo.html#11629" class="Bound">pp</a> <a id="11818" href="Ledger.Conway.Specification.Utxo.html#11495" class="Generalizable">deposits</a> <a id="11827" href="Ledger.Conway.Specification.Transaction.html#556" class="Function">txCerts</a>
        <a id="11843" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="11845" href="Ledger.Conway.Specification.Script.Validation.html#4546" class="Function">evalP2Scripts</a> <a id="11859" href="Ledger.Conway.Specification.Utxo.html#11726" class="Bound">p2Scripts</a> <a id="11869" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11871" href="Ledger.Conway.Specification.Transaction.html#1815" class="Function">isValid</a>
        <a id="11887" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="11889" href="Ledger.Conway.Specification.Transaction.html#1815" class="Function">isValid</a> <a id="11897" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11899" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
          <a id="11914" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
          <a id="11957" href="Ledger.Conway.Specification.Utxo.html#11400" class="Generalizable">Γ</a> <a id="11959" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#11443}{\htmlId{11963}{\htmlClass{Generalizable}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11457}{\htmlId{11970}{\htmlClass{Generalizable}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11495}{\htmlId{11977}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11471}{\htmlId{11988}{\htmlClass{Generalizable}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="12000" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">⇀⦇</a> <a id="12003" href="Ledger.Conway.Specification.Utxo.html#11433" class="Generalizable">tx</a> <a id="12006" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">,UTXOS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{12016}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Utxo.html#11443}{\htmlId{12017}{\htmlClass{Generalizable}{\text{utxo}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{12022}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Ledger.Conway.Specification.Transaction.html#384}{\htmlId{12024}{\htmlClass{Function}{\text{txIns}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{12030}{\htmlClass{Function Operator}{\text{ᶜ}}}}\,\,\htmlId{12031}{\htmlClass{Symbol}{\text{)}}}\, \,\href{Axiom.Set.Map.html#7638}{\htmlId{12033}{\htmlClass{Function Operator}{\text{∪ˡ}}}}\, \,\htmlId{12036}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Utxo.html#2374}{\htmlId{12037}{\htmlClass{Function}{\text{outs}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#11693}{\htmlId{12042}{\htmlClass{Function}{\text{txb}}}}\,\,\htmlId{12045}{\htmlClass{Symbol}{\text{)}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11457}{\htmlId{12049}{\htmlClass{Generalizable}{\text{fees}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{12054}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Specification.Transaction.html#594}{\htmlId{12056}{\htmlClass{Function}{\text{txFee}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#8190}{\htmlId{12064}{\htmlClass{Function}{\text{updateDeposits}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#11629}{\htmlId{12079}{\htmlClass{Bound}{\text{pp}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#11693}{\htmlId{12082}{\htmlClass{Function}{\text{txb}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#11495}{\htmlId{12086}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11471}{\htmlId{12097}{\htmlClass{Generalizable}{\text{donations}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{12107}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Specification.Transaction.html#756}{\htmlId{12109}{\htmlClass{Function}{\text{txDonation}}}}\, \end{pmatrix}$</a>
  <a id="_⊢_⇀⦇_,UTXOS⦈_.Scripts-No"></a><a id="12124" href="Ledger.Conway.Specification.Utxo.html#12124" class="InductiveConstructor">Scripts-No</a> <a id="12135" class="Symbol">:</a>
    <a id="12141" class="Keyword">let</a>  <a id="12146" href="Ledger.Conway.Specification.Utxo.html#12146" class="Bound">pp</a>         <a id="12157" class="Symbol">=</a> <a id="12159" href="Ledger.Conway.Specification.Utxo.html#11400" class="Generalizable">Γ</a> <a id="12161" class="Symbol">.</a><a id="12162" href="Ledger.Conway.Specification.Utxo.html#1253" class="Field">pparams</a>


         <a id="12181" class="Keyword">open</a> <a id="12186" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a> <a id="12189" href="Ledger.Conway.Specification.Utxo.html#11433" class="Generalizable">tx</a> <a id="12192" class="Keyword">renaming</a> <a id="12201" class="Symbol">(</a><a id="12202" href="Ledger.Conway.Specification.Transaction.html#1749" class="Field">body</a> <a id="12207" class="Symbol">to</a> <a id="12210" class="Field">txb</a><a id="12213" class="Symbol">);</a> <a id="12216" class="Keyword">open</a> <a id="12221" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a> <a id="12228" href="Ledger.Conway.Specification.Utxo.html#12210" class="Function">txb</a>


         <a id="12243" href="Ledger.Conway.Specification.Utxo.html#12243" class="Bound">p2Scripts</a>  <a id="12254" class="Symbol">=</a> <a id="12256" href="Ledger.Conway.Specification.Script.Validation.html#3677" class="Function">collectP2ScriptsWithContext</a> <a id="12284" href="Ledger.Conway.Specification.Utxo.html#12146" class="Bound">pp</a> <a id="12287" href="Ledger.Conway.Specification.Utxo.html#11433" class="Generalizable">tx</a> <a id="12290" href="Ledger.Conway.Specification.Utxo.html#11443" class="Generalizable">utxo</a>
    <a id="12299" class="Keyword">in</a>
        <a id="12310" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="12312" href="Ledger.Conway.Specification.Script.Validation.html#4546" class="Function">evalP2Scripts</a> <a id="12326" href="Ledger.Conway.Specification.Utxo.html#12243" class="Bound">p2Scripts</a> <a id="12336" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12338" href="Ledger.Conway.Specification.Transaction.html#1815" class="Function">isValid</a>
        <a id="12354" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="12356" href="Ledger.Conway.Specification.Transaction.html#1815" class="Function">isValid</a> <a id="12364" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12366" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
          <a id="12382" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
          <a id="12425" href="Ledger.Conway.Specification.Utxo.html#11400" class="Generalizable">Γ</a> <a id="12427" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">⊢</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#11443}{\htmlId{12431}{\htmlClass{Generalizable}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11457}{\htmlId{12438}{\htmlClass{Generalizable}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11495}{\htmlId{12445}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11471}{\htmlId{12456}{\htmlClass{Generalizable}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="12468" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">⇀⦇</a> <a id="12471" href="Ledger.Conway.Specification.Utxo.html#11433" class="Generalizable">tx</a> <a id="12474" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">,UTXOS⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#11443}{\htmlId{12484}{\htmlClass{Generalizable}{\text{utxo}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{12489}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Ledger.Conway.Specification.Transaction.html#452}{\htmlId{12491}{\htmlClass{Function}{\text{collateralInputs}}}}\, \,\href{Axiom.Set.Map.html#13604}{\htmlId{12508}{\htmlClass{Function Operator}{\text{ᶜ}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11457}{\htmlId{12512}{\htmlClass{Generalizable}{\text{fees}}}}\, \,\href{Class.HasAdd.Core.html#162}{\htmlId{12517}{\htmlClass{Field Operator}{\text{+}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#2534}{\htmlId{12519}{\htmlClass{Function}{\text{cbalance}}}}\, \,\htmlId{12528}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Conway.Specification.Utxo.html#11443}{\htmlId{12529}{\htmlClass{Generalizable}{\text{utxo}}}}\, \,\href{Axiom.Set.Map.html#13534}{\htmlId{12534}{\htmlClass{Function Operator}{\text{∣}}}}\, \,\href{Ledger.Conway.Specification.Transaction.html#452}{\htmlId{12536}{\htmlClass{Function}{\text{collateralInputs}}}}\,\,\htmlId{12552}{\htmlClass{Symbol}{\text{)}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11495}{\htmlId{12556}{\htmlClass{Generalizable}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#11471}{\htmlId{12567}{\htmlClass{Generalizable}{\text{donations}}}}\, \end{pmatrix}$</a>


<a id="12581" class="Keyword">unquoteDecl</a> <a id="Scripts-Yes-premises"></a><a id="12593" href="Ledger.Conway.Specification.Utxo.html#12593" class="Function">Scripts-Yes-premises</a> <a id="12614" class="Symbol">=</a> <a id="12616" href="Prelude.STS.GenPremises.html#13070" class="Function">genPremises</a> <a id="12628" href="Ledger.Conway.Specification.Utxo.html#12593" class="Function">Scripts-Yes-premises</a> <a id="12649" class="Symbol">(</a><a id="12650" class="Keyword">quote</a> <a id="12656" href="Ledger.Conway.Specification.Utxo.html#11606" class="InductiveConstructor">Scripts-Yes</a><a id="12667" class="Symbol">)</a>
<a id="12669" class="Keyword">unquoteDecl</a> <a id="Scripts-No-premises"></a><a id="12681" href="Ledger.Conway.Specification.Utxo.html#12681" class="Function">Scripts-No-premises</a>  <a id="12702" class="Symbol">=</a> <a id="12704" href="Prelude.STS.GenPremises.html#13070" class="Function">genPremises</a> <a id="12716" href="Ledger.Conway.Specification.Utxo.html#12681" class="Function">Scripts-No-premises</a>  <a id="12737" class="Symbol">(</a><a id="12738" class="Keyword">quote</a> <a id="12744" href="Ledger.Conway.Specification.Utxo.html#12124" class="InductiveConstructor">Scripts-No</a><a id="12754" class="Symbol">)</a>


<a id="12758" class="Keyword">data</a> <a id="12763" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">_⊢_⇀⦇_,UTXO⦈_</a> <a id="12777" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,UTXO⦈_.UTXO-inductive"></a><a id="12786" href="Ledger.Conway.Specification.Utxo.html#12786" class="InductiveConstructor">UTXO-inductive</a> <a id="12801" class="Symbol">:</a>
    <a id="12807" class="Keyword">let</a> <a id="12811" href="Ledger.Conway.Specification.Utxo.html#12811" class="Bound">pp</a>        <a id="12821" class="Symbol">=</a> <a id="12823" href="Ledger.Conway.Specification.Utxo.html#11400" class="Generalizable">Γ</a> <a id="12825" class="Symbol">.</a><a id="12826" href="Ledger.Conway.Specification.Utxo.html#1253" class="Field">pparams</a>
        <a id="12842" href="Ledger.Conway.Specification.Utxo.html#12842" class="Bound">slot</a>      <a id="12852" class="Symbol">=</a> <a id="12854" href="Ledger.Conway.Specification.Utxo.html#11400" class="Generalizable">Γ</a> <a id="12856" class="Symbol">.</a><a id="12857" href="Ledger.Conway.Specification.Utxo.html#1232" class="Field">slot</a>
        <a id="12870" href="Ledger.Conway.Specification.Utxo.html#12870" class="Bound">treasury</a>  <a id="12880" class="Symbol">=</a> <a id="12882" href="Ledger.Conway.Specification.Utxo.html#11400" class="Generalizable">Γ</a> <a id="12884" class="Symbol">.</a><a id="12885" href="Ledger.Conway.Specification.Utxo.html#1277" class="Field">treasury</a>
        <a id="12902" href="Ledger.Conway.Specification.Utxo.html#12902" class="Bound">utxo</a>      <a id="12912" class="Symbol">=</a> <a id="12914" href="Ledger.Conway.Specification.Utxo.html#11414" class="Generalizable">s</a> <a id="12916" class="Symbol">.</a><a id="12917" href="Ledger.Conway.Specification.Utxo.html#1372" class="Field">UTxOState.utxo</a>


        <a id="12942" class="Keyword">open</a> <a id="12947" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a> <a id="12950" href="Ledger.Conway.Specification.Utxo.html#11433" class="Generalizable">tx</a> <a id="12953" class="Keyword">renaming</a> <a id="12962" class="Symbol">(</a><a id="12963" href="Ledger.Conway.Specification.Transaction.html#1749" class="Field">body</a> <a id="12968" class="Symbol">to</a> <a id="12971" class="Field">txb</a><a id="12974" class="Symbol">);</a> <a id="12977" class="Keyword">open</a> <a id="12982" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a> <a id="12989" href="Ledger.Conway.Specification.Utxo.html#12971" class="Function">txb</a>
        <a id="13001" class="Keyword">open</a> <a id="13006" href="Ledger.Core.Specification.Transaction.html#2887" class="Module">TxWitnesses</a> <a id="13018" href="Ledger.Conway.Specification.Transaction.html#1771" class="Function">wits</a>


        <a id="13033" href="Ledger.Conway.Specification.Utxo.html#13033" class="Bound">txOutsʰ</a>   <a id="13043" class="Symbol">=</a> <a id="13045" href="Axiom.Set.Map.html#7106" class="Function">mapValues</a> <a id="13055" href="Ledger.Core.Specification.Transaction.html#3252" class="Function">txOutHash</a> <a id="13065" href="Ledger.Conway.Specification.Transaction.html#486" class="Function">txOuts</a>
        <a id="13080" href="Ledger.Conway.Specification.Utxo.html#13080" class="Bound">overhead</a>  <a id="13090" class="Symbol">=</a> <a id="13092" class="Number">160</a>
    <a id="13100" class="Keyword">in</a>
    <a id="13107" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="13109" href="Ledger.Conway.Specification.Transaction.html#384" class="Function">txIns</a> <a id="13115" href="Relation.Binary.PropositionalEquality.Core.html#1000" class="Function Operator">≢</a> <a id="13117" href="Class.HasEmptySet.html#287" class="Field">∅</a>                              <a id="13148" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13150" href="Ledger.Conway.Specification.Transaction.html#384" class="Function">txIns</a> <a id="13156" href="Axiom.Set.html#9137" class="Function Operator">∪</a> <a id="13158" href="Ledger.Conway.Specification.Transaction.html#418" class="Function">refInputs</a> <a id="13168" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="13170" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13174" href="Ledger.Conway.Specification.Utxo.html#12902" class="Bound">utxo</a>
    <a id="13183" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13185" href="Ledger.Conway.Specification.Transaction.html#384" class="Function">txIns</a> <a id="13191" href="Axiom.Set.html#9477" class="Function Operator">∩</a> <a id="13193" href="Ledger.Conway.Specification.Transaction.html#418" class="Function">refInputs</a> <a id="13203" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13205" href="Class.HasEmptySet.html#287" class="Field">∅</a>                  <a id="13224" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13226" href="Ledger.Conway.Specification.Utxo.html#8754" class="Datatype">inInterval</a> <a id="13237" href="Ledger.Conway.Specification.Utxo.html#12842" class="Bound">slot</a> <a id="13242" href="Ledger.Conway.Specification.Transaction.html#665" class="Function">txVldt</a>
    <a id="13253" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13255" href="Ledger.Conway.Specification.Utxo.html#2713" class="Function">minfee</a> <a id="13262" href="Ledger.Conway.Specification.Utxo.html#12811" class="Bound">pp</a> <a id="13265" href="Ledger.Conway.Specification.Utxo.html#12902" class="Bound">utxo</a> <a id="13270" href="Ledger.Conway.Specification.Utxo.html#11433" class="Generalizable">tx</a> <a id="13273" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="13275" href="Ledger.Conway.Specification.Transaction.html#594" class="Function">txFee</a>              <a id="13294" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13296" class="Symbol">(</a><a id="13297" href="Ledger.Core.Specification.Transaction.html#3007" class="Function">txrdmrs</a> <a id="13305" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13307" href="Relation.Binary.PropositionalEquality.Core.html#1000" class="Function Operator">≢</a> <a id="13309" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="13311" class="Symbol">→</a> <a id="13313" href="Ledger.Conway.Specification.Utxo.html#10260" class="Function">collateralCheck</a> <a id="13329" href="Ledger.Conway.Specification.Utxo.html#12811" class="Bound">pp</a> <a id="13332" href="Ledger.Conway.Specification.Utxo.html#11433" class="Generalizable">tx</a> <a id="13335" href="Ledger.Conway.Specification.Utxo.html#12902" class="Bound">utxo</a><a id="13339" class="Symbol">)</a>
    <a id="13345" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13347" href="Ledger.Conway.Specification.Utxo.html#10917" class="Function">consumed</a> <a id="13356" href="Ledger.Conway.Specification.Utxo.html#12811" class="Bound">pp</a> <a id="13359" href="Ledger.Conway.Specification.Utxo.html#11414" class="Generalizable">s</a> <a id="13361" href="Ledger.Conway.Specification.Utxo.html#12971" class="Function">txb</a> <a id="13365" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13367" href="Ledger.Conway.Specification.Utxo.html#11131" class="Function">produced</a> <a id="13376" href="Ledger.Conway.Specification.Utxo.html#12811" class="Bound">pp</a> <a id="13379" href="Ledger.Conway.Specification.Utxo.html#11414" class="Generalizable">s</a> <a id="13381" href="Ledger.Conway.Specification.Utxo.html#12971" class="Function">txb</a>  <a id="13386" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13388" href="Ledger.Core.Specification.TokenAlgebra.Base.html#835" class="Function">coin</a> <a id="13393" href="Ledger.Conway.Specification.Transaction.html#960" class="Function">mint</a> <a id="13398" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13400" class="Number">0</a>
    <a id="13406" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13408" href="Ledger.Conway.Specification.Transaction.html#1798" class="Function">txsize</a> <a id="13415" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="13417" href="Ledger.Conway.Specification.PParams.html#1768" class="Field">maxTxSize</a> <a id="13427" href="Ledger.Conway.Specification.Utxo.html#12811" class="Bound">pp</a>
    <a id="13434" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13436" href="Ledger.Conway.Specification.Utxo.html#2598" class="Function">refScriptsSize</a> <a id="13451" href="Ledger.Conway.Specification.Utxo.html#12902" class="Bound">utxo</a> <a id="13456" href="Ledger.Conway.Specification.Utxo.html#11433" class="Generalizable">tx</a> <a id="13459" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="13461" href="Ledger.Conway.Specification.Utxo.html#12811" class="Bound">pp</a> <a id="13464" class="Symbol">.</a><a id="13465" href="Ledger.Conway.Specification.PParams.html#2557" class="Field">maxRefScriptSizePerTx</a>
    <a id="13491" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13493" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="13496" href="Ledger.Conway.Specification.Utxo.html#13496" class="Bound">(_</a> <a id="13499" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13501" href="Ledger.Conway.Specification.Utxo.html#13501" class="Bound">txout</a><a id="13506" href="Ledger.Conway.Specification.Utxo.html#13496" class="Bound">)</a> <a id="13508" href="Class.IsSet.html#576" class="Function">∈</a> <a id="13510" href="Ledger.Prelude.html#2302" class="Function Operator">∣</a> <a id="13512" href="Ledger.Conway.Specification.Utxo.html#13033" class="Bound">txOutsʰ</a> <a id="13520" href="Ledger.Prelude.html#2302" class="Function Operator">∣</a> <a id="13522" href="Class.IsSet.html#576" class="Function">]</a>
        <a id="13532" href="Ledger.Core.Specification.TokenAlgebra.Base.html#880" class="Function">inject</a> <a id="13539" class="Symbol">((</a><a id="13541" href="Ledger.Conway.Specification.Utxo.html#13080" class="Bound">overhead</a> <a id="13550" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="13552" href="Ledger.Conway.Specification.Utxo.html#1072" class="Function">utxoEntrySize</a> <a id="13566" href="Ledger.Conway.Specification.Utxo.html#13501" class="Bound">txout</a><a id="13571" class="Symbol">)</a> <a id="13573" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="13575" href="Ledger.Conway.Specification.PParams.html#2423" class="Field">coinsPerUTxOByte</a> <a id="13592" href="Ledger.Conway.Specification.Utxo.html#12811" class="Bound">pp</a><a id="13594" class="Symbol">)</a> <a id="13596" href="Ledger.Core.Specification.TokenAlgebra.Base.html#1031" class="Function Operator">≤ᵗ</a> <a id="13599" href="Ledger.Core.Specification.Transaction.html#3341" class="Function">getValueʰ</a> <a id="13609" href="Ledger.Conway.Specification.Utxo.html#13501" class="Bound">txout</a>
    <a id="13619" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13621" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="13624" href="Ledger.Conway.Specification.Utxo.html#13624" class="Bound">(_</a> <a id="13627" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13629" href="Ledger.Conway.Specification.Utxo.html#13629" class="Bound">txout</a><a id="13634" href="Ledger.Conway.Specification.Utxo.html#13624" class="Bound">)</a> <a id="13636" href="Class.IsSet.html#576" class="Function">∈</a> <a id="13638" href="Ledger.Prelude.html#2302" class="Function Operator">∣</a> <a id="13640" href="Ledger.Conway.Specification.Utxo.html#13033" class="Bound">txOutsʰ</a> <a id="13648" href="Ledger.Prelude.html#2302" class="Function Operator">∣</a> <a id="13650" href="Class.IsSet.html#576" class="Function">]</a>
        <a id="13660" href="Ledger.Conway.Specification.Abstract.html#739" class="Field">serSize</a> <a id="13668" class="Symbol">(</a><a id="13669" href="Ledger.Core.Specification.Transaction.html#3341" class="Function">getValueʰ</a> <a id="13679" href="Ledger.Conway.Specification.Utxo.html#13629" class="Bound">txout</a><a id="13684" class="Symbol">)</a> <a id="13686" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="13688" href="Ledger.Conway.Specification.PParams.html#1948" class="Field">maxValSize</a> <a id="13699" href="Ledger.Conway.Specification.Utxo.html#12811" class="Bound">pp</a>
    <a id="13706" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13708" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="13711" href="Ledger.Conway.Specification.Utxo.html#13711" class="Bound">(</a><a id="13712" href="Ledger.Conway.Specification.Utxo.html#13712" class="Bound">a</a> <a id="13714" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13716" href="Ledger.Conway.Specification.Utxo.html#13711" class="Bound">_)</a> <a id="13719" href="Class.IsSet.html#576" class="Function">∈</a> <a id="13721" href="Class.IsSet.html#959" class="Function">range</a> <a id="13727" href="Ledger.Conway.Specification.Utxo.html#13033" class="Bound">txOutsʰ</a> <a id="13735" href="Class.IsSet.html#576" class="Function">]</a>
        <a id="13745" href="Data.Sum.Relation.Unary.All.html#626" class="Datatype">Sum.All</a> <a id="13753" class="Symbol">(</a><a id="13754" href="Function.Base.html#725" class="Function">const</a> <a id="13760" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="13761" class="Symbol">)</a> <a id="13763" class="Symbol">(λ</a> <a id="13766" href="Ledger.Conway.Specification.Utxo.html#13766" class="Bound">a</a> <a id="13768" class="Symbol">→</a> <a id="13770" href="Ledger.Conway.Specification.Utxo.html#13766" class="Bound">a</a> <a id="13772" class="Symbol">.</a><a id="13773" href="Ledger.Core.Specification.Address.html#1290" class="Field">BootstrapAddr.attrsSize</a> <a id="13797" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="13799" class="Number">64</a><a id="13801" class="Symbol">)</a> <a id="13803" href="Ledger.Conway.Specification.Utxo.html#13712" class="Bound">a</a>
    <a id="13809" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13811" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="13814" href="Ledger.Conway.Specification.Utxo.html#13814" class="Bound">(</a><a id="13815" href="Ledger.Conway.Specification.Utxo.html#13815" class="Bound">a</a> <a id="13817" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13819" href="Ledger.Conway.Specification.Utxo.html#13814" class="Bound">_)</a> <a id="13822" href="Class.IsSet.html#576" class="Function">∈</a> <a id="13824" href="Class.IsSet.html#959" class="Function">range</a> <a id="13830" href="Ledger.Conway.Specification.Utxo.html#13033" class="Bound">txOutsʰ</a> <a id="13838" href="Class.IsSet.html#576" class="Function">]</a>  <a id="13841" href="Ledger.Core.Specification.Address.html#2699" class="Function">netId</a> <a id="13847" href="Ledger.Conway.Specification.Utxo.html#13815" class="Bound">a</a>        <a id="13856" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13858" href="Ledger.Core.Specification.Epoch.html#2703" class="Function">NetworkId</a>
    <a id="13872" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13874" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="13877" href="Ledger.Conway.Specification.Utxo.html#13877" class="Bound">a</a> <a id="13879" href="Class.IsSet.html#576" class="Function">∈</a> <a id="13881" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13885" href="Ledger.Conway.Specification.Transaction.html#626" class="Function">txWithdrawals</a> <a id="13899" href="Class.IsSet.html#576" class="Function">]</a>    <a id="13904" href="Ledger.Core.Specification.Address.html#1568" class="Field">NetworkIdOf</a> <a id="13916" href="Ledger.Conway.Specification.Utxo.html#13877" class="Bound">a</a>  <a id="13919" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13921" href="Ledger.Core.Specification.Epoch.html#2703" class="Function">NetworkId</a>
    <a id="13935" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13937" href="Ledger.Conway.Specification.Transaction.html#877" class="Function">txNetworkId</a>  <a id="13950" href="Prelude.html#2893" class="Function Operator">~</a> <a id="13952" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13957" href="Ledger.Core.Specification.Epoch.html#2703" class="Function">NetworkId</a>
    <a id="13971" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="13973" href="Ledger.Conway.Specification.Transaction.html#918" class="Function">currentTreasury</a>  <a id="13990" href="Prelude.html#2893" class="Function Operator">~</a> <a id="13992" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13997" href="Ledger.Conway.Specification.Utxo.html#12870" class="Bound">treasury</a>
    <a id="14010" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="14012" href="Ledger.Conway.Specification.Utxo.html#11400" class="Generalizable">Γ</a> <a id="14014" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">⊢</a> <a id="14016" href="Ledger.Conway.Specification.Utxo.html#11414" class="Generalizable">s</a> <a id="14018" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">⇀⦇</a> <a id="14021" href="Ledger.Conway.Specification.Utxo.html#11433" class="Generalizable">tx</a> <a id="14024" href="Ledger.Conway.Specification.Utxo.html#11536" class="Datatype Operator">,UTXOS⦈</a> <a id="14032" href="Ledger.Conway.Specification.Utxo.html#11416" class="Generalizable">s&#39;</a>
      <a id="14041" href="Prelude.InferenceRules.html#13694" class="Function Operator">────────────────────────────────</a>
      <a id="14080" href="Ledger.Conway.Specification.Utxo.html#11400" class="Generalizable">Γ</a> <a id="14082" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">⊢</a> <a id="14084" href="Ledger.Conway.Specification.Utxo.html#11414" class="Generalizable">s</a> <a id="14086" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">⇀⦇</a> <a id="14089" href="Ledger.Conway.Specification.Utxo.html#11433" class="Generalizable">tx</a> <a id="14092" href="Ledger.Conway.Specification.Utxo.html#2241" class="Datatype Operator">,UTXO⦈</a> <a id="14099" href="Ledger.Conway.Specification.Utxo.html#11416" class="Generalizable">s&#39;</a>


<a id="14104" class="Keyword">pattern</a> <a id="UTXO-inductive⋯"></a><a id="14112" href="Ledger.Conway.Specification.Utxo.html#14112" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="14128" href="Ledger.Conway.Specification.Utxo.html#14212" class="Bound">tx</a> <a id="14131" href="Ledger.Conway.Specification.Utxo.html#14195" class="Bound">Γ</a> <a id="14133" href="Ledger.Conway.Specification.Utxo.html#14203" class="Bound">s</a> <a id="14135" href="Ledger.Conway.Specification.Utxo.html#14217" class="Bound">x</a> <a id="14137" href="Ledger.Conway.Specification.Utxo.html#14221" class="Bound">y</a> <a id="14139" href="Ledger.Conway.Specification.Utxo.html#14225" class="Bound">z</a> <a id="14141" href="Ledger.Conway.Specification.Utxo.html#14229" class="Bound">w</a> <a id="14143" href="Ledger.Conway.Specification.Utxo.html#14233" class="Bound">k</a> <a id="14145" href="Ledger.Conway.Specification.Utxo.html#14237" class="Bound">l</a> <a id="14147" href="Ledger.Conway.Specification.Utxo.html#14241" class="Bound">m</a> <a id="14149" href="Ledger.Conway.Specification.Utxo.html#14245" class="Bound">c</a> <a id="14151" href="Ledger.Conway.Specification.Utxo.html#14249" class="Bound">v</a> <a id="14153" href="Ledger.Conway.Specification.Utxo.html#14253" class="Bound">j</a> <a id="14155" href="Ledger.Conway.Specification.Utxo.html#14257" class="Bound">n</a> <a id="14157" href="Ledger.Conway.Specification.Utxo.html#14261" class="Bound">o</a> <a id="14159" href="Ledger.Conway.Specification.Utxo.html#14265" class="Bound">p</a> <a id="14161" href="Ledger.Conway.Specification.Utxo.html#14269" class="Bound">q</a> <a id="14163" href="Ledger.Conway.Specification.Utxo.html#14273" class="Bound">r</a> <a id="14165" href="Ledger.Conway.Specification.Utxo.html#14277" class="Bound">t</a> <a id="14167" href="Ledger.Conway.Specification.Utxo.html#14281" class="Bound">u</a> <a id="14169" href="Ledger.Conway.Specification.Utxo.html#14285" class="Bound">h</a>
  <a id="14173" class="Symbol">=</a> <a id="14175" href="Ledger.Conway.Specification.Utxo.html#12786" class="InductiveConstructor">UTXO-inductive</a> <a id="14190" class="Symbol">{</a><a id="14191" class="Argument">Γ</a> <a id="14193" class="Symbol">=</a> <a id="14195" href="Ledger.Conway.Specification.Utxo.html#14195" class="Bound">Γ</a><a id="14196" class="Symbol">}</a> <a id="14198" class="Symbol">{</a><a id="14199" class="Argument">s</a> <a id="14201" class="Symbol">=</a> <a id="14203" href="Ledger.Conway.Specification.Utxo.html#14203" class="Bound">s</a><a id="14204" class="Symbol">}</a> <a id="14206" class="Symbol">{</a><a id="14207" class="Argument">tx</a> <a id="14210" class="Symbol">=</a> <a id="14212" href="Ledger.Conway.Specification.Utxo.html#14212" class="Bound">tx</a><a id="14214" class="Symbol">}</a> <a id="14216" class="Symbol">(</a><a id="14217" href="Ledger.Conway.Specification.Utxo.html#14217" class="Bound">x</a> <a id="14219" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14221" href="Ledger.Conway.Specification.Utxo.html#14221" class="Bound">y</a> <a id="14223" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14225" href="Ledger.Conway.Specification.Utxo.html#14225" class="Bound">z</a> <a id="14227" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14229" href="Ledger.Conway.Specification.Utxo.html#14229" class="Bound">w</a> <a id="14231" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14233" href="Ledger.Conway.Specification.Utxo.html#14233" class="Bound">k</a> <a id="14235" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14237" href="Ledger.Conway.Specification.Utxo.html#14237" class="Bound">l</a> <a id="14239" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14241" href="Ledger.Conway.Specification.Utxo.html#14241" class="Bound">m</a> <a id="14243" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14245" href="Ledger.Conway.Specification.Utxo.html#14245" class="Bound">c</a> <a id="14247" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14249" href="Ledger.Conway.Specification.Utxo.html#14249" class="Bound">v</a> <a id="14251" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14253" href="Ledger.Conway.Specification.Utxo.html#14253" class="Bound">j</a> <a id="14255" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14257" href="Ledger.Conway.Specification.Utxo.html#14257" class="Bound">n</a> <a id="14259" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14261" href="Ledger.Conway.Specification.Utxo.html#14261" class="Bound">o</a> <a id="14263" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14265" href="Ledger.Conway.Specification.Utxo.html#14265" class="Bound">p</a> <a id="14267" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14269" href="Ledger.Conway.Specification.Utxo.html#14269" class="Bound">q</a> <a id="14271" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14273" href="Ledger.Conway.Specification.Utxo.html#14273" class="Bound">r</a> <a id="14275" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14277" href="Ledger.Conway.Specification.Utxo.html#14277" class="Bound">t</a> <a id="14279" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14281" href="Ledger.Conway.Specification.Utxo.html#14281" class="Bound">u</a> <a id="14283" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14285" href="Ledger.Conway.Specification.Utxo.html#14285" class="Bound">h</a><a id="14286" class="Symbol">)</a>
<a id="14288" class="Keyword">unquoteDecl</a> <a id="UTXO-premises"></a><a id="14300" href="Ledger.Conway.Specification.Utxo.html#14300" class="Function">UTXO-premises</a> <a id="14314" class="Symbol">=</a> <a id="14316" href="Prelude.STS.GenPremises.html#13070" class="Function">genPremises</a> <a id="14328" href="Ledger.Conway.Specification.Utxo.html#14300" class="Function">UTXO-premises</a> <a id="14342" class="Symbol">(</a><a id="14343" class="Keyword">quote</a> <a id="14349" href="Ledger.Conway.Specification.Utxo.html#12786" class="InductiveConstructor">UTXO-inductive</a><a id="14363" class="Symbol">)</a>

</pre></body></html>