<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Ledger.Properties</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Core.Specification.Abstract.html" class="Module">Ledger.Core.Specification.Abstract</a>
<a id="72" class="Keyword">open</a> <a id="77" class="Keyword">import</a> <a id="84" href="Ledger.Core.Specification.Transaction.html" class="Module">Ledger.Core.Specification.Transaction</a>

<a id="123" class="Keyword">module</a> <a id="130" href="Ledger.Conway.Conformance.Ledger.Properties.html" class="Module">Ledger.Conway.Conformance.Ledger.Properties</a>
  <a id="176" class="Symbol">(</a><a id="177" href="Ledger.Conway.Conformance.Ledger.Properties.html#177" class="Bound">txs</a> <a id="181" class="Symbol">:</a> <a id="183" href="Ledger.Core.Specification.Transaction.html#896" class="Record">TransactionStructure</a><a id="203" class="Symbol">)</a> <a id="205" class="Symbol">(</a><a id="206" class="Keyword">open</a> <a id="211" href="Ledger.Core.Specification.Transaction.html#896" class="Module">TransactionStructure</a> <a id="232" href="Ledger.Conway.Conformance.Ledger.Properties.html#177" class="Bound">txs</a><a id="235" class="Symbol">)</a>
  <a id="239" class="Symbol">(</a><a id="240" href="Ledger.Conway.Conformance.Ledger.Properties.html#240" class="Bound">abs</a> <a id="244" class="Symbol">:</a> <a id="246" href="Ledger.Core.Specification.Abstract.html#826" class="Record">AbstractFunctions</a> <a id="264" href="Ledger.Conway.Conformance.Ledger.Properties.html#177" class="Bound">txs</a><a id="267" class="Symbol">)</a>
  <a id="271" class="Keyword">where</a>

<a id="278" class="Keyword">open</a> <a id="283" class="Keyword">import</a> <a id="290" href="Data.Bool.Properties.html" class="Module">Data.Bool.Properties</a> <a id="311" class="Keyword">using</a> <a id="317" class="Symbol">(</a><a id="318" href="Data.Bool.Properties.html#15875" class="Function">¬-not</a><a id="323" class="Symbol">)</a>
<a id="325" class="Keyword">open</a> <a id="330" class="Keyword">import</a> <a id="337" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="357" class="Keyword">using</a> <a id="363" class="Symbol">(</a><a id="364" href="Data.Nat.Properties.html#17566" class="Function">+-0-monoid</a><a id="374" class="Symbol">)</a>

<a id="377" class="Keyword">open</a> <a id="382" class="Keyword">import</a> <a id="389" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="405" class="Keyword">open</a> <a id="410" class="Keyword">import</a> <a id="417" href="Ledger.Conway.Conformance.Equivalence.Certs.html" class="Module">Ledger.Conway.Conformance.Equivalence.Certs</a> <a id="461" href="Ledger.Conway.Conformance.Ledger.Properties.html#177" class="Bound">txs</a> <a id="465" href="Ledger.Conway.Conformance.Ledger.Properties.html#240" class="Bound">abs</a>
<a id="469" class="Keyword">open</a> <a id="474" class="Keyword">import</a> <a id="481" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>
<a id="527" class="Keyword">open</a> <a id="532" class="Keyword">import</a> <a id="539" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="571" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>
<a id="584" class="Keyword">open</a> <a id="589" class="Keyword">import</a> <a id="596" href="Ledger.Conway.Conformance.Certs.Properties.html" class="Module">Ledger.Conway.Conformance.Certs.Properties</a> <a id="639" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>
<a id="652" class="Keyword">open</a> <a id="657" class="Keyword">import</a> <a id="664" href="Ledger.Conway.Conformance.Ledger.html" class="Module">Ledger.Conway.Conformance.Ledger</a> <a id="697" href="Ledger.Conway.Conformance.Ledger.Properties.html#177" class="Bound">txs</a> <a id="701" href="Ledger.Conway.Conformance.Ledger.Properties.html#240" class="Bound">abs</a>
<a id="705" class="Keyword">open</a> <a id="710" class="Keyword">import</a> <a id="717" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="748" href="Ledger.Conway.Conformance.Ledger.Properties.html#177" class="Bound">txs</a> <a id="752" href="Ledger.Conway.Conformance.Ledger.Properties.html#240" class="Bound">abs</a>
<a id="756" class="Keyword">open</a> <a id="761" class="Keyword">import</a> <a id="768" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="800" href="Ledger.Conway.Conformance.Ledger.Properties.html#177" class="Bound">txs</a> <a id="804" href="Ledger.Conway.Conformance.Ledger.Properties.html#240" class="Bound">abs</a>
<a id="808" class="Keyword">open</a> <a id="813" class="Keyword">import</a> <a id="820" href="Ledger.Conway.Conformance.Utxow.Properties.html" class="Module">Ledger.Conway.Conformance.Utxow.Properties</a> <a id="863" href="Ledger.Conway.Conformance.Ledger.Properties.html#177" class="Bound">txs</a> <a id="867" href="Ledger.Conway.Conformance.Ledger.Properties.html#240" class="Bound">abs</a>

<a id="872" class="Keyword">open</a> <a id="877" class="Keyword">import</a> <a id="884" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="916" href="Ledger.Conway.Conformance.Ledger.Properties.html#177" class="Bound">txs</a>
<a id="920" class="Keyword">open</a> <a id="925" class="Keyword">import</a> <a id="932" href="Ledger.Conway.Specification.Gov.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Gov.Properties.Computational</a> <a id="989" href="Ledger.Conway.Conformance.Ledger.Properties.html#177" class="Bound">txs</a>
<a id="993" class="Keyword">open</a> <a id="998" class="Keyword">import</a> <a id="1005" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="1045" href="Ledger.Conway.Conformance.Ledger.Properties.html#177" class="Bound">txs</a> <a id="1049" href="Ledger.Conway.Conformance.Ledger.Properties.html#240" class="Bound">abs</a>

<a id="1054" class="Keyword">instance</a> <a id="1063" href="Ledger.Conway.Conformance.Ledger.Properties.html#1063" class="Function">_</a> <a id="1065" class="Symbol">=</a> <a id="1067" href="Data.Nat.Properties.html#17566" class="Function">+-0-monoid</a>

<a id="1079" class="Keyword">open</a> <a id="1084" class="Keyword">import</a> <a id="1091" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>

<a id="1124" class="Comment">-- ** Proof that LEDGER is computational.</a>

<a id="1167" class="Keyword">instance</a>
  <a id="1178" href="Ledger.Conway.Conformance.Ledger.Properties.html#1178" class="Function">_</a> <a id="1180" class="Symbol">=</a> <a id="1182" href="Interface.ComputationalRelation.html#1831" class="Function">Monad-ComputationResult</a>

  <a id="Computational-LEDGER"></a><a id="1209" href="Ledger.Conway.Conformance.Ledger.Properties.html#1209" class="Function">Computational-LEDGER</a> <a id="1230" class="Symbol">:</a> <a id="1232" href="Interface.ComputationalRelation.html#2804" class="Record">Computational</a> <a id="1246" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="1262" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1271" href="Ledger.Conway.Conformance.Ledger.Properties.html#1209" class="Function">Computational-LEDGER</a> <a id="1292" class="Symbol">=</a> <a id="1294" class="Keyword">record</a> <a id="1301" class="Symbol">{</a><a id="1302" href="Ledger.Conway.Conformance.Ledger.Properties.html#1555" class="Module">go</a><a id="1304" class="Symbol">}</a>
    <a id="1310" class="Keyword">where</a>
    <a id="1320" class="Keyword">open</a> <a id="1325" href="Interface.ComputationalRelation.html#2804" class="Module">Computational</a> <a id="1339" class="Symbol">⦃...⦄</a> <a id="1345" class="Keyword">renaming</a> <a id="1354" class="Symbol">(</a><a id="1355" href="Interface.ComputationalRelation.html#2884" class="Field">computeProof</a> <a id="1368" class="Symbol">to</a> <a id="1371" class="Field">comp</a><a id="1375" class="Symbol">;</a> <a id="1377" href="Interface.ComputationalRelation.html#3101" class="Field">completeness</a> <a id="1390" class="Symbol">to</a> <a id="1393" class="Field">complete</a><a id="1401" class="Symbol">)</a>
    <a id="1407" href="Ledger.Conway.Conformance.Ledger.Properties.html#1407" class="Function">computeUtxow</a> <a id="1420" class="Symbol">=</a> <a id="1422" href="Ledger.Conway.Conformance.Ledger.Properties.html#1371" class="Field">comp</a> <a id="1427" class="Symbol">{</a><a id="1428" class="Argument">STS</a> <a id="1432" class="Symbol">=</a> <a id="1434" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">_⊢_⇀⦇_,UTXOW⦈_</a><a id="1448" class="Symbol">}</a>
    <a id="1454" href="Ledger.Conway.Conformance.Ledger.Properties.html#1454" class="Function">computeCerts</a> <a id="1467" class="Symbol">=</a> <a id="1469" href="Ledger.Conway.Conformance.Ledger.Properties.html#1371" class="Field">comp</a> <a id="1474" class="Symbol">{</a><a id="1475" class="Argument">STS</a> <a id="1479" class="Symbol">=</a> <a id="1481" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a><a id="1495" class="Symbol">}</a>
    <a id="1501" href="Ledger.Conway.Conformance.Ledger.Properties.html#1501" class="Function">computeGov</a>   <a id="1514" class="Symbol">=</a> <a id="1516" href="Ledger.Conway.Conformance.Ledger.Properties.html#1371" class="Field">comp</a> <a id="1521" class="Symbol">{</a><a id="1522" class="Argument">STS</a> <a id="1526" class="Symbol">=</a> <a id="1528" href="Ledger.Conway.Specification.Gov.html#16523" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="1541" class="Symbol">}</a>

    <a id="1548" class="Keyword">module</a> <a id="1555" href="Ledger.Conway.Conformance.Ledger.Properties.html#1555" class="Module">go</a>
      <a id="1564" class="Symbol">(</a><a id="1565" href="Ledger.Conway.Conformance.Ledger.Properties.html#1565" class="Bound">Γ</a> <a id="1567" class="Symbol">:</a> <a id="1569" href="Ledger.Conway.Specification.Ledger.html#731" class="Record">LEnv</a><a id="1573" class="Symbol">)</a>   <a id="1577" class="Symbol">(</a><a id="1578" class="Keyword">let</a> <a id="1582" class="Keyword">open</a> <a id="1587" href="Ledger.Conway.Specification.Ledger.html#731" class="Module">LEnv</a> <a id="1592" href="Ledger.Conway.Conformance.Ledger.Properties.html#1565" class="Bound">Γ</a><a id="1593" class="Symbol">)</a>
      <a id="1601" class="Symbol">(</a><a id="1602" href="Ledger.Conway.Conformance.Ledger.Properties.html#1602" class="Bound">s</a> <a id="1604" class="Symbol">:</a> <a id="1606" href="Ledger.Conway.Conformance.Ledger.html#738" class="Record">LState</a><a id="1612" class="Symbol">)</a> <a id="1614" class="Symbol">(</a><a id="1615" class="Keyword">let</a> <a id="1619" class="Keyword">open</a> <a id="1624" href="Ledger.Conway.Conformance.Ledger.html#738" class="Module">LState</a> <a id="1631" href="Ledger.Conway.Conformance.Ledger.Properties.html#1602" class="Bound">s</a><a id="1632" class="Symbol">)</a>
      <a id="1640" class="Symbol">(</a><a id="1641" href="Ledger.Conway.Conformance.Ledger.Properties.html#1641" class="Bound">tx</a> <a id="1644" class="Symbol">:</a> <a id="1646" href="Ledger.Conway.Specification.Transaction.html#1719" class="Record">Tx</a><a id="1648" class="Symbol">)</a>    <a id="1653" class="Symbol">(</a><a id="1654" class="Keyword">let</a> <a id="1658" class="Keyword">open</a> <a id="1663" href="Ledger.Conway.Specification.Transaction.html#1719" class="Module">Tx</a> <a id="1666" href="Ledger.Conway.Conformance.Ledger.Properties.html#1641" class="Bound">tx</a> <a id="1669" class="Keyword">renaming</a> <a id="1678" class="Symbol">(</a><a id="1679" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">body</a> <a id="1684" class="Symbol">to</a> <a id="1687" class="Field">txb</a><a id="1690" class="Symbol">);</a> <a id="1693" class="Keyword">open</a> <a id="1698" href="Ledger.Conway.Specification.Transaction.html#350" class="Module">TxBody</a> <a id="1705" href="Ledger.Conway.Conformance.Ledger.Properties.html#1687" class="Field">txb</a><a id="1708" class="Symbol">)</a>
      <a id="1716" class="Keyword">where</a>
      <a id="1728" href="Ledger.Conway.Conformance.Ledger.Properties.html#1728" class="Function">utxoΓ</a> <a id="1734" class="Symbol">=</a> <a id="1736" href="Ledger.Conway.Specification.Utxo.html#1197" class="Record">UTxOEnv</a> <a id="1744" href="Function.Base.html#4505" class="Function Operator">∋</a> <a id="1746" class="Keyword">record</a> <a id="1753" class="Symbol">{</a> <a id="1755" href="Ledger.Conway.Conformance.Ledger.Properties.html#1755" class="Module">LEnv</a> <a id="1760" href="Ledger.Conway.Conformance.Ledger.Properties.html#1565" class="Bound">Γ</a> <a id="1762" class="Symbol">}</a>
      <a id="1770" href="Ledger.Conway.Conformance.Ledger.Properties.html#1770" class="Function">certΓ</a> <a id="1776" class="Symbol">=</a> <a id="1778" href="Ledger.Core.Specification.Certs.html#3552" class="Record">CertEnv</a> <a id="1786" href="Function.Base.html#4505" class="Function Operator">∋</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{1790}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#761}{\htmlId{1796}{\htmlClass{Field}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#819}{\htmlId{1803}{\htmlClass{Field}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#791}{\htmlId{1813}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#624}{\htmlId{1826}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\htmlId{1842}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a>
      <a id="1852" href="Ledger.Conway.Conformance.Ledger.Properties.html#1852" class="Function">govΓ</a> <a id="1857" class="Symbol">:</a> <a id="1859" href="Ledger.Conway.Conformance.Certs.html#958" class="Record">CertState</a> <a id="1869" class="Symbol">→</a> <a id="1871" href="Ledger.Conway.Specification.Gov.html#1648" class="Record">GovEnv</a>
      <a id="1884" href="Ledger.Conway.Conformance.Ledger.Properties.html#1852" class="Function">govΓ</a> <a id="1889" href="Ledger.Conway.Conformance.Ledger.Properties.html#1889" class="Bound">certState</a> <a id="1899" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Transaction.html#522}{\htmlId{1903}{\htmlClass{Function}{\text{txId}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{1910}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#761}{\htmlId{1916}{\htmlClass{Field}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#819}{\htmlId{1923}{\htmlClass{Field}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#784}{\htmlId{1933}{\htmlClass{Field}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#845}{\htmlId{1943}{\htmlClass{Field}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#452}{\htmlId{1956}{\htmlClass{Function}{\text{conv}}}}\, \,\href{Ledger.Conway.Conformance.Ledger.Properties.html#1889}{\htmlId{1961}{\htmlClass{Bound}{\text{certState}}}}\, \\ \,\htmlId{1973}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a>

      <a id="1984" href="Ledger.Conway.Conformance.Ledger.Properties.html#1984" class="Function">computeProof</a> <a id="1997" class="Symbol">:</a> <a id="1999" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="2017" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2024" class="Symbol">(</a><a id="2025" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="2028" href="Ledger.Conway.Conformance.Ledger.Properties.html#2028" class="Bound">s&#39;</a> <a id="2031" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="2033" href="Ledger.Conway.Conformance.Ledger.Properties.html#1565" class="Bound">Γ</a> <a id="2035" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">⊢</a> <a id="2037" href="Ledger.Conway.Conformance.Ledger.Properties.html#1602" class="Bound">s</a> <a id="2039" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">⇀⦇</a> <a id="2042" href="Ledger.Conway.Conformance.Ledger.Properties.html#1641" class="Bound">tx</a> <a id="2045" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">,LEDGER⦈</a> <a id="2054" href="Ledger.Conway.Conformance.Ledger.Properties.html#2028" class="Bound">s&#39;</a><a id="2056" class="Symbol">)</a>
      <a id="2064" href="Ledger.Conway.Conformance.Ledger.Properties.html#1984" class="Function">computeProof</a> <a id="2077" class="Symbol">=</a> <a id="2079" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="2084" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="2092" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="2094" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2099" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="2102" class="Symbol">λ</a> <a id="2104" class="Keyword">where</a>
        <a id="2118" class="Symbol">(</a><a id="2119" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="2123" href="Ledger.Conway.Conformance.Ledger.Properties.html#2123" class="Bound">p</a><a id="2124" class="Symbol">)</a> <a id="2126" class="Symbol">→</a> <a id="2128" class="Keyword">do</a>
          <a id="2141" class="Symbol">(</a><a id="2142" href="Ledger.Conway.Conformance.Ledger.Properties.html#2142" class="Bound">utxoSt&#39;</a> <a id="2150" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2152" href="Ledger.Conway.Conformance.Ledger.Properties.html#2152" class="Bound">utxoStep</a><a id="2160" class="Symbol">)</a> <a id="2162" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2164" href="Ledger.Conway.Conformance.Ledger.Properties.html#1407" class="Function">computeUtxow</a> <a id="2177" href="Ledger.Conway.Conformance.Ledger.Properties.html#1728" class="Function">utxoΓ</a> <a id="2183" href="Ledger.Conway.Conformance.Ledger.html#793" class="Field">utxoSt</a> <a id="2190" href="Ledger.Conway.Conformance.Ledger.Properties.html#1641" class="Bound">tx</a>
          <a id="2203" class="Symbol">(</a><a id="2204" href="Ledger.Conway.Conformance.Ledger.Properties.html#2204" class="Bound">certSt&#39;</a> <a id="2212" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2214" href="Ledger.Conway.Conformance.Ledger.Properties.html#2214" class="Bound">certStep</a><a id="2222" class="Symbol">)</a> <a id="2224" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2226" href="Ledger.Conway.Conformance.Ledger.Properties.html#1454" class="Function">computeCerts</a> <a id="2239" href="Ledger.Conway.Conformance.Ledger.Properties.html#1770" class="Function">certΓ</a> <a id="2245" href="Ledger.Conway.Conformance.Ledger.html#846" class="Field">certState</a> <a id="2255" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a>
          <a id="2273" class="Symbol">(</a><a id="2274" href="Ledger.Conway.Conformance.Ledger.Properties.html#2274" class="Bound">govSt&#39;</a>  <a id="2282" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2284" href="Ledger.Conway.Conformance.Ledger.Properties.html#2284" class="Bound">govStep</a><a id="2291" class="Symbol">)</a>  <a id="2294" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2296" href="Ledger.Conway.Conformance.Ledger.Properties.html#1501" class="Function">computeGov</a> <a id="2307" class="Symbol">(</a><a id="2308" href="Ledger.Conway.Conformance.Ledger.Properties.html#1852" class="Function">govΓ</a> <a id="2313" href="Ledger.Conway.Conformance.Ledger.Properties.html#2204" class="Bound">certSt&#39;</a><a id="2320" class="Symbol">)</a> <a id="2322" class="Symbol">(</a><a id="2323" href="Ledger.Conway.Specification.Ledger.html#2913" class="Function">rmOrphanDRepVotes</a> <a id="2341" class="Symbol">(</a><a id="2342" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="2347" href="Ledger.Conway.Conformance.Ledger.Properties.html#2204" class="Bound">certSt&#39;</a><a id="2354" class="Symbol">)</a> <a id="2356" href="Ledger.Conway.Conformance.Ledger.html#820" class="Field">govSt</a><a id="2361" class="Symbol">)</a> <a id="2363" class="Symbol">(</a><a id="2364" href="Ledger.Conway.Specification.Ledger.html#2783" class="Function">txgov</a> <a id="2370" href="Ledger.Conway.Conformance.Ledger.Properties.html#1687" class="Field">txb</a><a id="2373" class="Symbol">)</a>
          <a id="2385" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2393" class="Symbol">(_</a> <a id="2396" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2398" href="Ledger.Conway.Conformance.Ledger.html#2137" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2408" href="Ledger.Conway.Conformance.Ledger.Properties.html#2123" class="Bound">p</a> <a id="2410" href="Ledger.Conway.Conformance.Ledger.Properties.html#2152" class="Bound">utxoStep</a> <a id="2419" href="Ledger.Conway.Conformance.Ledger.Properties.html#2214" class="Bound">certStep</a> <a id="2428" href="Ledger.Conway.Conformance.Ledger.Properties.html#2284" class="Bound">govStep</a><a id="2435" class="Symbol">)</a>
        <a id="2445" class="Symbol">(</a><a id="2446" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2449" href="Ledger.Conway.Conformance.Ledger.Properties.html#2449" class="Bound">¬p</a><a id="2451" class="Symbol">)</a> <a id="2453" class="Symbol">→</a> <a id="2455" class="Keyword">do</a>
          <a id="2468" class="Symbol">(</a><a id="2469" href="Ledger.Conway.Conformance.Ledger.Properties.html#2469" class="Bound">utxoSt&#39;</a> <a id="2477" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2479" href="Ledger.Conway.Conformance.Ledger.Properties.html#2479" class="Bound">utxoStep</a><a id="2487" class="Symbol">)</a> <a id="2489" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2491" href="Ledger.Conway.Conformance.Ledger.Properties.html#1407" class="Function">computeUtxow</a> <a id="2504" href="Ledger.Conway.Conformance.Ledger.Properties.html#1728" class="Function">utxoΓ</a> <a id="2510" href="Ledger.Conway.Conformance.Ledger.html#793" class="Field">utxoSt</a> <a id="2517" href="Ledger.Conway.Conformance.Ledger.Properties.html#1641" class="Bound">tx</a>
          <a id="2530" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2538" class="Symbol">(_</a> <a id="2541" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2543" href="Ledger.Conway.Conformance.Ledger.html#2190" class="InductiveConstructor">LEDGER-I⋯</a> <a id="2553" class="Symbol">(</a><a id="2554" href="Data.Bool.Properties.html#15875" class="Function">¬-not</a> <a id="2560" href="Ledger.Conway.Conformance.Ledger.Properties.html#2449" class="Bound">¬p</a><a id="2562" class="Symbol">)</a> <a id="2564" href="Ledger.Conway.Conformance.Ledger.Properties.html#2479" class="Bound">utxoStep</a><a id="2572" class="Symbol">)</a>

      <a id="2581" href="Ledger.Conway.Conformance.Ledger.Properties.html#2581" class="Function">completeness</a> <a id="2594" class="Symbol">:</a> <a id="2596" class="Symbol">∀</a> <a id="2598" href="Ledger.Conway.Conformance.Ledger.Properties.html#2598" class="Bound">s&#39;</a> <a id="2601" class="Symbol">→</a> <a id="2603" href="Ledger.Conway.Conformance.Ledger.Properties.html#1565" class="Bound">Γ</a> <a id="2605" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">⊢</a> <a id="2607" href="Ledger.Conway.Conformance.Ledger.Properties.html#1602" class="Bound">s</a> <a id="2609" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">⇀⦇</a> <a id="2612" href="Ledger.Conway.Conformance.Ledger.Properties.html#1641" class="Bound">tx</a> <a id="2615" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">,LEDGER⦈</a> <a id="2624" href="Ledger.Conway.Conformance.Ledger.Properties.html#2598" class="Bound">s&#39;</a> <a id="2627" class="Symbol">→</a> <a id="2629" class="Symbol">(</a><a id="2630" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2636" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="2640" href="Ledger.Conway.Conformance.Ledger.Properties.html#1984" class="Function">computeProof</a><a id="2652" class="Symbol">)</a> <a id="2654" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2656" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2664" href="Ledger.Conway.Conformance.Ledger.Properties.html#2598" class="Bound">s&#39;</a>
      <a id="2673" href="Ledger.Conway.Conformance.Ledger.Properties.html#2581" class="Function">completeness</a>  <a id="2687" href="Ledger.Conway.Conformance.Ledger.Properties.html#2687" class="Bound">ls&#39;</a> <a id="2691" class="Symbol">(</a><a id="2692" href="Ledger.Conway.Conformance.Ledger.html#2137" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2702" href="Ledger.Conway.Conformance.Ledger.Properties.html#2702" class="Bound">v</a> <a id="2704" href="Ledger.Conway.Conformance.Ledger.Properties.html#2704" class="Bound">utxoStep</a> <a id="2713" href="Ledger.Conway.Conformance.Ledger.Properties.html#2713" class="Bound">certStep</a> <a id="2722" href="Ledger.Conway.Conformance.Ledger.Properties.html#2722" class="Bound">govStep</a><a id="2729" class="Symbol">)</a>
        <a id="2739" class="Keyword">with</a> <a id="2744" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="2752" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="2754" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="2765" class="Symbol">...</a> <a id="2769" class="Symbol">|</a> <a id="2771" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2774" href="Ledger.Conway.Conformance.Ledger.Properties.html#2774" class="Bound">¬v</a> <a id="2777" class="Symbol">=</a> <a id="2779" href="Relation.Nullary.Negation.Core.html#1289" class="Function">contradiction</a> <a id="2793" class="Bound">v</a> <a id="2795" href="Ledger.Conway.Conformance.Ledger.Properties.html#2774" class="Bound">¬v</a>
      <a id="2804" class="Symbol">...</a> <a id="2808" class="Symbol">|</a> <a id="2810" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="2814" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2827" class="Keyword">with</a> <a id="2832" href="Ledger.Conway.Conformance.Ledger.Properties.html#1407" class="Function">computeUtxow</a> <a id="2845" href="Ledger.Conway.Conformance.Ledger.Properties.html#1728" class="Function">utxoΓ</a> <a id="2851" href="Ledger.Conway.Conformance.Ledger.html#793" class="Field">utxoSt</a> <a id="2858" href="Ledger.Conway.Conformance.Ledger.Properties.html#1641" class="Bound">tx</a> <a id="2861" class="Symbol">|</a> <a id="2863" href="Ledger.Conway.Conformance.Ledger.Properties.html#1393" class="Field">complete</a> <a id="2872" class="Symbol">_</a> <a id="2874" class="Symbol">_</a> <a id="2876" class="Symbol">_</a> <a id="2878" class="Symbol">_</a> <a id="2880" class="Bound">utxoStep</a>
      <a id="2895" class="Symbol">...</a> <a id="2899" class="Symbol">|</a> <a id="2901" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2909" class="Symbol">(</a><a id="2910" href="Ledger.Conway.Conformance.Ledger.Properties.html#2910" class="Bound">utxoSt&#39;</a> <a id="2918" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2920" class="Symbol">_)</a> <a id="2923" class="Symbol">|</a> <a id="2925" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2938" class="Keyword">with</a> <a id="2943" href="Ledger.Conway.Conformance.Ledger.Properties.html#1454" class="Function">computeCerts</a> <a id="2956" href="Ledger.Conway.Conformance.Ledger.Properties.html#1770" class="Function">certΓ</a> <a id="2962" href="Ledger.Conway.Conformance.Ledger.html#846" class="Field">certState</a> <a id="2972" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="2980" class="Symbol">|</a> <a id="2982" href="Ledger.Conway.Conformance.Ledger.Properties.html#1393" class="Field">complete</a> <a id="2991" class="Symbol">_</a> <a id="2993" class="Symbol">_</a> <a id="2995" class="Symbol">_</a> <a id="2997" class="Symbol">_</a> <a id="2999" class="Bound">certStep</a>
      <a id="3014" class="Symbol">...</a> <a id="3018" class="Symbol">|</a> <a id="3020" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="3028" class="Symbol">(</a><a id="3029" href="Ledger.Conway.Conformance.Ledger.Properties.html#3029" class="Bound">certSt&#39;</a> <a id="3037" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3039" class="Symbol">_)</a> <a id="3042" class="Symbol">|</a> <a id="3044" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="3057" class="Keyword">with</a> <a id="3062" href="Ledger.Conway.Conformance.Ledger.Properties.html#1501" class="Function">computeGov</a> <a id="3073" class="Symbol">(</a><a id="3074" href="Ledger.Conway.Conformance.Ledger.Properties.html#1852" class="Function">govΓ</a> <a id="3079" href="Ledger.Conway.Conformance.Ledger.Properties.html#3029" class="Bound">certSt&#39;</a><a id="3086" class="Symbol">)</a> <a id="3088" class="Symbol">(</a><a id="3089" href="Ledger.Conway.Specification.Ledger.html#2913" class="Function">rmOrphanDRepVotes</a> <a id="3107" class="Symbol">(</a><a id="3108" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="3113" href="Ledger.Conway.Conformance.Ledger.Properties.html#3029" class="Bound">certSt&#39;</a><a id="3120" class="Symbol">)</a> <a id="3122" href="Ledger.Conway.Conformance.Ledger.html#820" class="Field">govSt</a><a id="3127" class="Symbol">)</a> <a id="3129" class="Symbol">(</a><a id="3130" href="Ledger.Conway.Specification.Ledger.html#2783" class="Function">txgov</a> <a id="3136" href="Ledger.Conway.Conformance.Ledger.Properties.html#1687" class="Field">txb</a><a id="3139" class="Symbol">)</a> <a id="3141" class="Symbol">|</a> <a id="3143" href="Ledger.Conway.Conformance.Ledger.Properties.html#1393" class="Field">complete</a> <a id="3152" class="Symbol">{</a><a id="3153" class="Argument">STS</a> <a id="3157" class="Symbol">=</a> <a id="3159" href="Ledger.Conway.Specification.Gov.html#16523" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="3172" class="Symbol">}</a> <a id="3174" class="Symbol">(</a><a id="3175" href="Ledger.Conway.Conformance.Ledger.Properties.html#1852" class="Function">govΓ</a> <a id="3180" href="Ledger.Conway.Conformance.Ledger.Properties.html#3029" class="Bound">certSt&#39;</a><a id="3187" class="Symbol">)</a> <a id="3189" class="Symbol">_</a> <a id="3191" class="Symbol">_</a> <a id="3193" class="Symbol">_</a> <a id="3195" class="Bound">govStep</a>
      <a id="3209" class="Symbol">...</a> <a id="3213" class="Symbol">|</a> <a id="3215" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="3223" class="Symbol">(</a><a id="3224" href="Ledger.Conway.Conformance.Ledger.Properties.html#3224" class="Bound">govSt&#39;</a> <a id="3231" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3233" class="Symbol">_)</a> <a id="3236" class="Symbol">|</a> <a id="3238" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3243" class="Symbol">=</a> <a id="3245" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="3256" href="Ledger.Conway.Conformance.Ledger.Properties.html#2581" class="Function">completeness</a> <a id="3269" href="Ledger.Conway.Conformance.Ledger.Properties.html#3269" class="Bound">ls&#39;</a> <a id="3273" class="Symbol">(</a><a id="3274" href="Ledger.Conway.Conformance.Ledger.html#2190" class="InductiveConstructor">LEDGER-I⋯</a> <a id="3284" href="Ledger.Conway.Conformance.Ledger.Properties.html#3284" class="Bound">i</a> <a id="3286" href="Ledger.Conway.Conformance.Ledger.Properties.html#3286" class="Bound">utxoStep</a><a id="3294" class="Symbol">)</a>
        <a id="3304" class="Keyword">with</a> <a id="3309" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="3317" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="3319" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3330" class="Symbol">...</a> <a id="3334" class="Symbol">|</a> <a id="3336" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="3340" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3345" class="Symbol">=</a> <a id="3347" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="3352" class="Bound">i</a> <a id="3354" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="3357" class="Symbol">λ</a> <a id="3359" class="Symbol">()</a>
      <a id="3368" class="Symbol">...</a> <a id="3372" class="Symbol">|</a> <a id="3374" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3377" href="Ledger.Conway.Conformance.Ledger.Properties.html#3377" class="Bound">¬v</a>
        <a id="3388" class="Keyword">with</a> <a id="3393" href="Ledger.Conway.Conformance.Ledger.Properties.html#1407" class="Function">computeUtxow</a> <a id="3406" href="Ledger.Conway.Conformance.Ledger.Properties.html#1728" class="Function">utxoΓ</a> <a id="3412" href="Ledger.Conway.Conformance.Ledger.html#793" class="Field">utxoSt</a> <a id="3419" href="Ledger.Conway.Conformance.Ledger.Properties.html#1641" class="Bound">tx</a> <a id="3422" class="Symbol">|</a> <a id="3424" href="Ledger.Conway.Conformance.Ledger.Properties.html#1393" class="Field">complete</a> <a id="3433" class="Symbol">_</a> <a id="3435" class="Symbol">_</a> <a id="3437" class="Symbol">_</a> <a id="3439" class="Symbol">_</a> <a id="3441" class="Bound">utxoStep</a>
      <a id="3456" class="Symbol">...</a> <a id="3460" class="Symbol">|</a> <a id="3462" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="3470" class="Symbol">(</a><a id="3471" href="Ledger.Conway.Conformance.Ledger.Properties.html#3471" class="Bound">utxoSt&#39;</a> <a id="3479" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3481" class="Symbol">_)</a> <a id="3484" class="Symbol">|</a> <a id="3486" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3491" class="Symbol">=</a> <a id="3493" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="Computational-LEDGERS"></a><a id="3499" href="Ledger.Conway.Conformance.Ledger.Properties.html#3499" class="Function">Computational-LEDGERS</a> <a id="3521" class="Symbol">:</a> <a id="3523" href="Interface.ComputationalRelation.html#2804" class="Record">Computational</a> <a id="3537" href="Ledger.Conway.Conformance.Ledger.html#2228" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="3554" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="3561" href="Ledger.Conway.Conformance.Ledger.Properties.html#3499" class="Function">Computational-LEDGERS</a> <a id="3583" class="Symbol">=</a> <a id="3585" href="Function.Base.html#4755" class="Function">it</a>
</pre></body></html>