<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Ledger.Properties</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Ledger.Core.Specification.Abstract.html" class="Module">Ledger.Core.Specification.Abstract</a>
<a id="72" class="Keyword">open</a> <a id="77" class="Keyword">import</a> <a id="84" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>

<a id="125" class="Keyword">module</a> <a id="132" href="Ledger.Conway.Conformance.Ledger.Properties.html" class="Module">Ledger.Conway.Conformance.Ledger.Properties</a>
  <a id="178" class="Symbol">(</a><a id="179" href="Ledger.Conway.Conformance.Ledger.Properties.html#179" class="Bound">txs</a> <a id="183" class="Symbol">:</a> <a id="185" href="Ledger.Conway.Specification.Transaction.html#991" class="Record">TransactionStructure</a><a id="205" class="Symbol">)</a> <a id="207" class="Symbol">(</a><a id="208" class="Keyword">open</a> <a id="213" href="Ledger.Conway.Specification.Transaction.html#991" class="Module">TransactionStructure</a> <a id="234" href="Ledger.Conway.Conformance.Ledger.Properties.html#179" class="Bound">txs</a><a id="237" class="Symbol">)</a>
  <a id="241" class="Symbol">(</a><a id="242" href="Ledger.Conway.Conformance.Ledger.Properties.html#242" class="Bound">abs</a> <a id="246" class="Symbol">:</a> <a id="248" href="Ledger.Core.Specification.Abstract.html#828" class="Record">AbstractFunctions</a> <a id="266" href="Ledger.Conway.Conformance.Ledger.Properties.html#179" class="Bound">txs</a><a id="269" class="Symbol">)</a>
  <a id="273" class="Keyword">where</a>

<a id="280" class="Keyword">open</a> <a id="285" class="Keyword">import</a> <a id="292" href="Data.Bool.Properties.html" class="Module">Data.Bool.Properties</a> <a id="313" class="Keyword">using</a> <a id="319" class="Symbol">(</a><a id="320" href="Data.Bool.Properties.html#15875" class="Function">¬-not</a><a id="325" class="Symbol">)</a>
<a id="327" class="Keyword">open</a> <a id="332" class="Keyword">import</a> <a id="339" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="359" class="Keyword">using</a> <a id="365" class="Symbol">(</a><a id="366" href="Data.Nat.Properties.html#17566" class="Function">+-0-monoid</a><a id="376" class="Symbol">)</a>

<a id="379" class="Keyword">open</a> <a id="384" class="Keyword">import</a> <a id="391" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="Ledger.Conway.Conformance.Equivalence.Certs.html" class="Module">Ledger.Conway.Conformance.Equivalence.Certs</a> <a id="463" href="Ledger.Conway.Conformance.Ledger.Properties.html#179" class="Bound">txs</a> <a id="467" href="Ledger.Conway.Conformance.Ledger.Properties.html#242" class="Bound">abs</a>
<a id="471" class="Keyword">open</a> <a id="476" class="Keyword">import</a> <a id="483" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>
<a id="529" class="Keyword">open</a> <a id="534" class="Keyword">import</a> <a id="541" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="573" href="Ledger.Conway.Specification.Transaction.html#2065" class="Function">govStructure</a>
<a id="586" class="Keyword">open</a> <a id="591" class="Keyword">import</a> <a id="598" href="Ledger.Conway.Conformance.Certs.Properties.html" class="Module">Ledger.Conway.Conformance.Certs.Properties</a> <a id="641" href="Ledger.Conway.Specification.Transaction.html#2065" class="Function">govStructure</a>
<a id="654" class="Keyword">open</a> <a id="659" class="Keyword">import</a> <a id="666" href="Ledger.Conway.Conformance.Ledger.html" class="Module">Ledger.Conway.Conformance.Ledger</a> <a id="699" href="Ledger.Conway.Conformance.Ledger.Properties.html#179" class="Bound">txs</a> <a id="703" href="Ledger.Conway.Conformance.Ledger.Properties.html#242" class="Bound">abs</a>
<a id="707" class="Keyword">open</a> <a id="712" class="Keyword">import</a> <a id="719" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="750" href="Ledger.Conway.Conformance.Ledger.Properties.html#179" class="Bound">txs</a> <a id="754" href="Ledger.Conway.Conformance.Ledger.Properties.html#242" class="Bound">abs</a>
<a id="758" class="Keyword">open</a> <a id="763" class="Keyword">import</a> <a id="770" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="802" href="Ledger.Conway.Conformance.Ledger.Properties.html#179" class="Bound">txs</a> <a id="806" href="Ledger.Conway.Conformance.Ledger.Properties.html#242" class="Bound">abs</a>
<a id="810" class="Keyword">open</a> <a id="815" class="Keyword">import</a> <a id="822" href="Ledger.Conway.Conformance.Utxow.Properties.html" class="Module">Ledger.Conway.Conformance.Utxow.Properties</a> <a id="865" href="Ledger.Conway.Conformance.Ledger.Properties.html#179" class="Bound">txs</a> <a id="869" href="Ledger.Conway.Conformance.Ledger.Properties.html#242" class="Bound">abs</a>

<a id="874" class="Keyword">open</a> <a id="879" class="Keyword">import</a> <a id="886" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="918" href="Ledger.Conway.Conformance.Ledger.Properties.html#179" class="Bound">txs</a>
<a id="922" class="Keyword">open</a> <a id="927" class="Keyword">import</a> <a id="934" href="Ledger.Conway.Specification.Gov.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Gov.Properties.Computational</a> <a id="991" href="Ledger.Conway.Conformance.Ledger.Properties.html#179" class="Bound">txs</a>
<a id="995" class="Keyword">open</a> <a id="1000" class="Keyword">import</a> <a id="1007" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>

<a id="1048" class="Keyword">instance</a> <a id="1057" href="Ledger.Conway.Conformance.Ledger.Properties.html#1057" class="Function">_</a> <a id="1059" class="Symbol">=</a> <a id="1061" href="Data.Nat.Properties.html#17566" class="Function">+-0-monoid</a>

<a id="1073" class="Keyword">open</a> <a id="1078" class="Keyword">import</a> <a id="1085" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>

<a id="1118" class="Comment">-- ** Proof that LEDGER is computational.</a>

<a id="1161" class="Keyword">instance</a>
  <a id="1172" href="Ledger.Conway.Conformance.Ledger.Properties.html#1172" class="Function">_</a> <a id="1174" class="Symbol">=</a> <a id="1176" href="Interface.ComputationalRelation.html#1831" class="Function">Monad-ComputationResult</a>

  <a id="Computational-LEDGER"></a><a id="1203" href="Ledger.Conway.Conformance.Ledger.Properties.html#1203" class="Function">Computational-LEDGER</a> <a id="1224" class="Symbol">:</a> <a id="1226" href="Interface.ComputationalRelation.html#2804" class="Record">Computational</a> <a id="1240" href="Ledger.Conway.Conformance.Ledger.html#1110" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="1256" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1265" href="Ledger.Conway.Conformance.Ledger.Properties.html#1203" class="Function">Computational-LEDGER</a> <a id="1286" class="Symbol">=</a> <a id="1288" class="Keyword">record</a> <a id="1295" class="Symbol">{</a><a id="1296" href="Ledger.Conway.Conformance.Ledger.Properties.html#1549" class="Module">go</a><a id="1298" class="Symbol">}</a>
    <a id="1304" class="Keyword">where</a>
    <a id="1314" class="Keyword">open</a> <a id="1319" href="Interface.ComputationalRelation.html#2804" class="Module">Computational</a> <a id="1333" class="Symbol">⦃...⦄</a> <a id="1339" class="Keyword">renaming</a> <a id="1348" class="Symbol">(</a><a id="1349" href="Interface.ComputationalRelation.html#2884" class="Field">computeProof</a> <a id="1362" class="Symbol">to</a> <a id="1365" class="Field">comp</a><a id="1369" class="Symbol">;</a> <a id="1371" href="Interface.ComputationalRelation.html#3101" class="Field">completeness</a> <a id="1384" class="Symbol">to</a> <a id="1387" class="Field">complete</a><a id="1395" class="Symbol">)</a>
    <a id="1401" href="Ledger.Conway.Conformance.Ledger.Properties.html#1401" class="Function">computeUtxow</a> <a id="1414" class="Symbol">=</a> <a id="1416" href="Ledger.Conway.Conformance.Ledger.Properties.html#1365" class="Field">comp</a> <a id="1421" class="Symbol">{</a><a id="1422" class="Argument">STS</a> <a id="1426" class="Symbol">=</a> <a id="1428" href="Ledger.Conway.Conformance.Utxow.html#631" class="Datatype Operator">_⊢_⇀⦇_,UTXOW⦈_</a><a id="1442" class="Symbol">}</a>
    <a id="1448" href="Ledger.Conway.Conformance.Ledger.Properties.html#1448" class="Function">computeCerts</a> <a id="1461" class="Symbol">=</a> <a id="1463" href="Ledger.Conway.Conformance.Ledger.Properties.html#1365" class="Field">comp</a> <a id="1468" class="Symbol">{</a><a id="1469" class="Argument">STS</a> <a id="1473" class="Symbol">=</a> <a id="1475" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a><a id="1489" class="Symbol">}</a>
    <a id="1495" href="Ledger.Conway.Conformance.Ledger.Properties.html#1495" class="Function">computeGov</a>   <a id="1508" class="Symbol">=</a> <a id="1510" href="Ledger.Conway.Conformance.Ledger.Properties.html#1365" class="Field">comp</a> <a id="1515" class="Symbol">{</a><a id="1516" class="Argument">STS</a> <a id="1520" class="Symbol">=</a> <a id="1522" href="Ledger.Conway.Specification.Gov.html#16525" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="1535" class="Symbol">}</a>

    <a id="1542" class="Keyword">module</a> <a id="1549" href="Ledger.Conway.Conformance.Ledger.Properties.html#1549" class="Module">go</a>
      <a id="1558" class="Symbol">(</a><a id="1559" href="Ledger.Conway.Conformance.Ledger.Properties.html#1559" class="Bound">Γ</a> <a id="1561" class="Symbol">:</a> <a id="1563" href="Ledger.Conway.Specification.Ledger.html#725" class="Record">LEnv</a><a id="1567" class="Symbol">)</a>   <a id="1571" class="Symbol">(</a><a id="1572" class="Keyword">let</a> <a id="1576" class="Keyword">open</a> <a id="1581" href="Ledger.Conway.Specification.Ledger.html#725" class="Module">LEnv</a> <a id="1586" href="Ledger.Conway.Conformance.Ledger.Properties.html#1559" class="Bound">Γ</a><a id="1587" class="Symbol">)</a>
      <a id="1595" class="Symbol">(</a><a id="1596" href="Ledger.Conway.Conformance.Ledger.Properties.html#1596" class="Bound">s</a> <a id="1598" class="Symbol">:</a> <a id="1600" href="Ledger.Conway.Conformance.Ledger.html#732" class="Record">LState</a><a id="1606" class="Symbol">)</a> <a id="1608" class="Symbol">(</a><a id="1609" class="Keyword">let</a> <a id="1613" class="Keyword">open</a> <a id="1618" href="Ledger.Conway.Conformance.Ledger.html#732" class="Module">LState</a> <a id="1625" href="Ledger.Conway.Conformance.Ledger.Properties.html#1596" class="Bound">s</a><a id="1626" class="Symbol">)</a>
      <a id="1634" class="Symbol">(</a><a id="1635" href="Ledger.Conway.Conformance.Ledger.Properties.html#1635" class="Bound">tx</a> <a id="1638" class="Symbol">:</a> <a id="1640" href="Ledger.Conway.Specification.Transaction.html#4668" class="Record">Tx</a><a id="1642" class="Symbol">)</a>    <a id="1647" class="Symbol">(</a><a id="1648" class="Keyword">let</a> <a id="1652" class="Keyword">open</a> <a id="1657" href="Ledger.Conway.Specification.Transaction.html#4668" class="Module">Tx</a> <a id="1660" href="Ledger.Conway.Conformance.Ledger.Properties.html#1635" class="Bound">tx</a> <a id="1663" class="Keyword">renaming</a> <a id="1672" class="Symbol">(</a><a id="1673" href="Ledger.Conway.Specification.Transaction.html#4700" class="Field">body</a> <a id="1678" class="Symbol">to</a> <a id="1681" class="Field">txb</a><a id="1684" class="Symbol">);</a> <a id="1687" class="Keyword">open</a> <a id="1692" href="Ledger.Conway.Specification.Transaction.html#2982" class="Module">TxBody</a> <a id="1699" href="Ledger.Conway.Conformance.Ledger.Properties.html#1681" class="Field">txb</a><a id="1702" class="Symbol">)</a>
      <a id="1710" class="Keyword">where</a>
      <a id="1722" href="Ledger.Conway.Conformance.Ledger.Properties.html#1722" class="Function">utxoΓ</a> <a id="1728" class="Symbol">=</a> <a id="1730" href="Ledger.Conway.Specification.Utxo.html#1191" class="Record">UTxOEnv</a> <a id="1738" href="Function.Base.html#4505" class="Function Operator">∋</a> <a id="1740" class="Keyword">record</a> <a id="1747" class="Symbol">{</a> <a id="1749" href="Ledger.Conway.Conformance.Ledger.Properties.html#1749" class="Module">LEnv</a> <a id="1754" href="Ledger.Conway.Conformance.Ledger.Properties.html#1559" class="Bound">Γ</a> <a id="1756" class="Symbol">}</a>
      <a id="1764" href="Ledger.Conway.Conformance.Ledger.Properties.html#1764" class="Function">certΓ</a> <a id="1770" class="Symbol">=</a> <a id="1772" href="Ledger.Core.Specification.Certs.html#3552" class="Record">CertEnv</a> <a id="1780" href="Function.Base.html#4505" class="Function Operator">∋</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{1784}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#755}{\htmlId{1790}{\htmlClass{Field}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#813}{\htmlId{1797}{\htmlClass{Field}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3449}{\htmlId{1807}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3274}{\htmlId{1820}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\htmlId{1836}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a>
      <a id="1846" href="Ledger.Conway.Conformance.Ledger.Properties.html#1846" class="Function">govΓ</a> <a id="1851" class="Symbol">:</a> <a id="1853" href="Ledger.Conway.Conformance.Certs.html#958" class="Record">CertState</a> <a id="1863" class="Symbol">→</a> <a id="1865" href="Ledger.Conway.Specification.Gov.html#1650" class="Record">GovEnv</a>
      <a id="1878" href="Ledger.Conway.Conformance.Ledger.Properties.html#1846" class="Function">govΓ</a> <a id="1883" href="Ledger.Conway.Conformance.Ledger.Properties.html#1883" class="Bound">certState</a> <a id="1893" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Transaction.html#3166}{\htmlId{1897}{\htmlClass{Function}{\text{txId}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{1904}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#755}{\htmlId{1910}{\htmlClass{Field}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#813}{\htmlId{1917}{\htmlClass{Field}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#778}{\htmlId{1927}{\htmlClass{Field}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#839}{\htmlId{1937}{\htmlClass{Field}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#452}{\htmlId{1950}{\htmlClass{Function}{\text{conv}}}}\, \,\href{Ledger.Conway.Conformance.Ledger.Properties.html#1883}{\htmlId{1955}{\htmlClass{Bound}{\text{certState}}}}\, \\ \,\htmlId{1967}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a>

      <a id="1978" href="Ledger.Conway.Conformance.Ledger.Properties.html#1978" class="Function">computeProof</a> <a id="1991" class="Symbol">:</a> <a id="1993" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="2011" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2018" class="Symbol">(</a><a id="2019" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="2022" href="Ledger.Conway.Conformance.Ledger.Properties.html#2022" class="Bound">s&#39;</a> <a id="2025" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="2027" href="Ledger.Conway.Conformance.Ledger.Properties.html#1559" class="Bound">Γ</a> <a id="2029" href="Ledger.Conway.Conformance.Ledger.html#1110" class="Datatype Operator">⊢</a> <a id="2031" href="Ledger.Conway.Conformance.Ledger.Properties.html#1596" class="Bound">s</a> <a id="2033" href="Ledger.Conway.Conformance.Ledger.html#1110" class="Datatype Operator">⇀⦇</a> <a id="2036" href="Ledger.Conway.Conformance.Ledger.Properties.html#1635" class="Bound">tx</a> <a id="2039" href="Ledger.Conway.Conformance.Ledger.html#1110" class="Datatype Operator">,LEDGER⦈</a> <a id="2048" href="Ledger.Conway.Conformance.Ledger.Properties.html#2022" class="Bound">s&#39;</a><a id="2050" class="Symbol">)</a>
      <a id="2058" href="Ledger.Conway.Conformance.Ledger.Properties.html#1978" class="Function">computeProof</a> <a id="2071" class="Symbol">=</a> <a id="2073" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="2078" href="Ledger.Conway.Specification.Transaction.html#4772" class="Field">isValid</a> <a id="2086" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="2088" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2093" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="2096" class="Symbol">λ</a> <a id="2098" class="Keyword">where</a>
        <a id="2112" class="Symbol">(</a><a id="2113" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="2117" href="Ledger.Conway.Conformance.Ledger.Properties.html#2117" class="Bound">p</a><a id="2118" class="Symbol">)</a> <a id="2120" class="Symbol">→</a> <a id="2122" class="Keyword">do</a>
          <a id="2135" class="Symbol">(</a><a id="2136" href="Ledger.Conway.Conformance.Ledger.Properties.html#2136" class="Bound">utxoSt&#39;</a> <a id="2144" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2146" href="Ledger.Conway.Conformance.Ledger.Properties.html#2146" class="Bound">utxoStep</a><a id="2154" class="Symbol">)</a> <a id="2156" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2158" href="Ledger.Conway.Conformance.Ledger.Properties.html#1401" class="Function">computeUtxow</a> <a id="2171" href="Ledger.Conway.Conformance.Ledger.Properties.html#1722" class="Function">utxoΓ</a> <a id="2177" href="Ledger.Conway.Conformance.Ledger.html#787" class="Field">utxoSt</a> <a id="2184" href="Ledger.Conway.Conformance.Ledger.Properties.html#1635" class="Bound">tx</a>
          <a id="2197" class="Symbol">(</a><a id="2198" href="Ledger.Conway.Conformance.Ledger.Properties.html#2198" class="Bound">certSt&#39;</a> <a id="2206" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2208" href="Ledger.Conway.Conformance.Ledger.Properties.html#2208" class="Bound">certStep</a><a id="2216" class="Symbol">)</a> <a id="2218" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2220" href="Ledger.Conway.Conformance.Ledger.Properties.html#1448" class="Function">computeCerts</a> <a id="2233" href="Ledger.Conway.Conformance.Ledger.Properties.html#1764" class="Function">certΓ</a> <a id="2239" href="Ledger.Conway.Conformance.Ledger.html#840" class="Field">certState</a> <a id="2249" href="Ledger.Conway.Specification.Transaction.html#3200" class="Function">txCerts</a>
          <a id="2267" class="Symbol">(</a><a id="2268" href="Ledger.Conway.Conformance.Ledger.Properties.html#2268" class="Bound">govSt&#39;</a>  <a id="2276" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2278" href="Ledger.Conway.Conformance.Ledger.Properties.html#2278" class="Bound">govStep</a><a id="2285" class="Symbol">)</a>  <a id="2288" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2290" href="Ledger.Conway.Conformance.Ledger.Properties.html#1495" class="Function">computeGov</a> <a id="2301" class="Symbol">(</a><a id="2302" href="Ledger.Conway.Conformance.Ledger.Properties.html#1846" class="Function">govΓ</a> <a id="2307" href="Ledger.Conway.Conformance.Ledger.Properties.html#2198" class="Bound">certSt&#39;</a><a id="2314" class="Symbol">)</a> <a id="2316" class="Symbol">(</a><a id="2317" href="Ledger.Conway.Specification.Ledger.html#2907" class="Function">rmOrphanDRepVotes</a> <a id="2335" class="Symbol">(</a><a id="2336" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="2341" href="Ledger.Conway.Conformance.Ledger.Properties.html#2198" class="Bound">certSt&#39;</a><a id="2348" class="Symbol">)</a> <a id="2350" href="Ledger.Conway.Conformance.Ledger.html#814" class="Field">govSt</a><a id="2355" class="Symbol">)</a> <a id="2357" class="Symbol">(</a><a id="2358" href="Ledger.Conway.Specification.Ledger.html#2777" class="Function">txgov</a> <a id="2364" href="Ledger.Conway.Conformance.Ledger.Properties.html#1681" class="Field">txb</a><a id="2367" class="Symbol">)</a>
          <a id="2379" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2387" class="Symbol">(_</a> <a id="2390" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2392" href="Ledger.Conway.Conformance.Ledger.html#2131" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2402" href="Ledger.Conway.Conformance.Ledger.Properties.html#2117" class="Bound">p</a> <a id="2404" href="Ledger.Conway.Conformance.Ledger.Properties.html#2146" class="Bound">utxoStep</a> <a id="2413" href="Ledger.Conway.Conformance.Ledger.Properties.html#2208" class="Bound">certStep</a> <a id="2422" href="Ledger.Conway.Conformance.Ledger.Properties.html#2278" class="Bound">govStep</a><a id="2429" class="Symbol">)</a>
        <a id="2439" class="Symbol">(</a><a id="2440" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2443" href="Ledger.Conway.Conformance.Ledger.Properties.html#2443" class="Bound">¬p</a><a id="2445" class="Symbol">)</a> <a id="2447" class="Symbol">→</a> <a id="2449" class="Keyword">do</a>
          <a id="2462" class="Symbol">(</a><a id="2463" href="Ledger.Conway.Conformance.Ledger.Properties.html#2463" class="Bound">utxoSt&#39;</a> <a id="2471" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2473" href="Ledger.Conway.Conformance.Ledger.Properties.html#2473" class="Bound">utxoStep</a><a id="2481" class="Symbol">)</a> <a id="2483" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2485" href="Ledger.Conway.Conformance.Ledger.Properties.html#1401" class="Function">computeUtxow</a> <a id="2498" href="Ledger.Conway.Conformance.Ledger.Properties.html#1722" class="Function">utxoΓ</a> <a id="2504" href="Ledger.Conway.Conformance.Ledger.html#787" class="Field">utxoSt</a> <a id="2511" href="Ledger.Conway.Conformance.Ledger.Properties.html#1635" class="Bound">tx</a>
          <a id="2524" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2532" class="Symbol">(_</a> <a id="2535" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2537" href="Ledger.Conway.Conformance.Ledger.html#2184" class="InductiveConstructor">LEDGER-I⋯</a> <a id="2547" class="Symbol">(</a><a id="2548" href="Data.Bool.Properties.html#15875" class="Function">¬-not</a> <a id="2554" href="Ledger.Conway.Conformance.Ledger.Properties.html#2443" class="Bound">¬p</a><a id="2556" class="Symbol">)</a> <a id="2558" href="Ledger.Conway.Conformance.Ledger.Properties.html#2473" class="Bound">utxoStep</a><a id="2566" class="Symbol">)</a>

      <a id="2575" href="Ledger.Conway.Conformance.Ledger.Properties.html#2575" class="Function">completeness</a> <a id="2588" class="Symbol">:</a> <a id="2590" class="Symbol">∀</a> <a id="2592" href="Ledger.Conway.Conformance.Ledger.Properties.html#2592" class="Bound">s&#39;</a> <a id="2595" class="Symbol">→</a> <a id="2597" href="Ledger.Conway.Conformance.Ledger.Properties.html#1559" class="Bound">Γ</a> <a id="2599" href="Ledger.Conway.Conformance.Ledger.html#1110" class="Datatype Operator">⊢</a> <a id="2601" href="Ledger.Conway.Conformance.Ledger.Properties.html#1596" class="Bound">s</a> <a id="2603" href="Ledger.Conway.Conformance.Ledger.html#1110" class="Datatype Operator">⇀⦇</a> <a id="2606" href="Ledger.Conway.Conformance.Ledger.Properties.html#1635" class="Bound">tx</a> <a id="2609" href="Ledger.Conway.Conformance.Ledger.html#1110" class="Datatype Operator">,LEDGER⦈</a> <a id="2618" href="Ledger.Conway.Conformance.Ledger.Properties.html#2592" class="Bound">s&#39;</a> <a id="2621" class="Symbol">→</a> <a id="2623" class="Symbol">(</a><a id="2624" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2630" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="2634" href="Ledger.Conway.Conformance.Ledger.Properties.html#1978" class="Function">computeProof</a><a id="2646" class="Symbol">)</a> <a id="2648" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2650" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2658" href="Ledger.Conway.Conformance.Ledger.Properties.html#2592" class="Bound">s&#39;</a>
      <a id="2667" href="Ledger.Conway.Conformance.Ledger.Properties.html#2575" class="Function">completeness</a>  <a id="2681" href="Ledger.Conway.Conformance.Ledger.Properties.html#2681" class="Bound">ls&#39;</a> <a id="2685" class="Symbol">(</a><a id="2686" href="Ledger.Conway.Conformance.Ledger.html#2131" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2696" href="Ledger.Conway.Conformance.Ledger.Properties.html#2696" class="Bound">v</a> <a id="2698" href="Ledger.Conway.Conformance.Ledger.Properties.html#2698" class="Bound">utxoStep</a> <a id="2707" href="Ledger.Conway.Conformance.Ledger.Properties.html#2707" class="Bound">certStep</a> <a id="2716" href="Ledger.Conway.Conformance.Ledger.Properties.html#2716" class="Bound">govStep</a><a id="2723" class="Symbol">)</a>
        <a id="2733" class="Keyword">with</a> <a id="2738" href="Ledger.Conway.Specification.Transaction.html#4772" class="Field">isValid</a> <a id="2746" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="2748" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="2759" class="Symbol">...</a> <a id="2763" class="Symbol">|</a> <a id="2765" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2768" href="Ledger.Conway.Conformance.Ledger.Properties.html#2768" class="Bound">¬v</a> <a id="2771" class="Symbol">=</a> <a id="2773" href="Relation.Nullary.Negation.Core.html#1289" class="Function">contradiction</a> <a id="2787" class="Bound">v</a> <a id="2789" href="Ledger.Conway.Conformance.Ledger.Properties.html#2768" class="Bound">¬v</a>
      <a id="2798" class="Symbol">...</a> <a id="2802" class="Symbol">|</a> <a id="2804" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="2808" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2821" class="Keyword">with</a> <a id="2826" href="Ledger.Conway.Conformance.Ledger.Properties.html#1401" class="Function">computeUtxow</a> <a id="2839" href="Ledger.Conway.Conformance.Ledger.Properties.html#1722" class="Function">utxoΓ</a> <a id="2845" href="Ledger.Conway.Conformance.Ledger.html#787" class="Field">utxoSt</a> <a id="2852" href="Ledger.Conway.Conformance.Ledger.Properties.html#1635" class="Bound">tx</a> <a id="2855" class="Symbol">|</a> <a id="2857" href="Ledger.Conway.Conformance.Ledger.Properties.html#1387" class="Field">complete</a> <a id="2866" class="Symbol">_</a> <a id="2868" class="Symbol">_</a> <a id="2870" class="Symbol">_</a> <a id="2872" class="Symbol">_</a> <a id="2874" class="Bound">utxoStep</a>
      <a id="2889" class="Symbol">...</a> <a id="2893" class="Symbol">|</a> <a id="2895" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2903" class="Symbol">(</a><a id="2904" href="Ledger.Conway.Conformance.Ledger.Properties.html#2904" class="Bound">utxoSt&#39;</a> <a id="2912" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2914" class="Symbol">_)</a> <a id="2917" class="Symbol">|</a> <a id="2919" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2932" class="Keyword">with</a> <a id="2937" href="Ledger.Conway.Conformance.Ledger.Properties.html#1448" class="Function">computeCerts</a> <a id="2950" href="Ledger.Conway.Conformance.Ledger.Properties.html#1764" class="Function">certΓ</a> <a id="2956" href="Ledger.Conway.Conformance.Ledger.html#840" class="Field">certState</a> <a id="2966" href="Ledger.Conway.Specification.Transaction.html#3200" class="Function">txCerts</a> <a id="2974" class="Symbol">|</a> <a id="2976" href="Ledger.Conway.Conformance.Ledger.Properties.html#1387" class="Field">complete</a> <a id="2985" class="Symbol">_</a> <a id="2987" class="Symbol">_</a> <a id="2989" class="Symbol">_</a> <a id="2991" class="Symbol">_</a> <a id="2993" class="Bound">certStep</a>
      <a id="3008" class="Symbol">...</a> <a id="3012" class="Symbol">|</a> <a id="3014" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="3022" class="Symbol">(</a><a id="3023" href="Ledger.Conway.Conformance.Ledger.Properties.html#3023" class="Bound">certSt&#39;</a> <a id="3031" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3033" class="Symbol">_)</a> <a id="3036" class="Symbol">|</a> <a id="3038" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="3051" class="Keyword">with</a> <a id="3056" href="Ledger.Conway.Conformance.Ledger.Properties.html#1495" class="Function">computeGov</a> <a id="3067" class="Symbol">(</a><a id="3068" href="Ledger.Conway.Conformance.Ledger.Properties.html#1846" class="Function">govΓ</a> <a id="3073" href="Ledger.Conway.Conformance.Ledger.Properties.html#3023" class="Bound">certSt&#39;</a><a id="3080" class="Symbol">)</a> <a id="3082" class="Symbol">(</a><a id="3083" href="Ledger.Conway.Specification.Ledger.html#2907" class="Function">rmOrphanDRepVotes</a> <a id="3101" class="Symbol">(</a><a id="3102" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="3107" href="Ledger.Conway.Conformance.Ledger.Properties.html#3023" class="Bound">certSt&#39;</a><a id="3114" class="Symbol">)</a> <a id="3116" href="Ledger.Conway.Conformance.Ledger.html#814" class="Field">govSt</a><a id="3121" class="Symbol">)</a> <a id="3123" class="Symbol">(</a><a id="3124" href="Ledger.Conway.Specification.Ledger.html#2777" class="Function">txgov</a> <a id="3130" href="Ledger.Conway.Conformance.Ledger.Properties.html#1681" class="Field">txb</a><a id="3133" class="Symbol">)</a> <a id="3135" class="Symbol">|</a> <a id="3137" href="Ledger.Conway.Conformance.Ledger.Properties.html#1387" class="Field">complete</a> <a id="3146" class="Symbol">{</a><a id="3147" class="Argument">STS</a> <a id="3151" class="Symbol">=</a> <a id="3153" href="Ledger.Conway.Specification.Gov.html#16525" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="3166" class="Symbol">}</a> <a id="3168" class="Symbol">(</a><a id="3169" href="Ledger.Conway.Conformance.Ledger.Properties.html#1846" class="Function">govΓ</a> <a id="3174" href="Ledger.Conway.Conformance.Ledger.Properties.html#3023" class="Bound">certSt&#39;</a><a id="3181" class="Symbol">)</a> <a id="3183" class="Symbol">_</a> <a id="3185" class="Symbol">_</a> <a id="3187" class="Symbol">_</a> <a id="3189" class="Bound">govStep</a>
      <a id="3203" class="Symbol">...</a> <a id="3207" class="Symbol">|</a> <a id="3209" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="3217" class="Symbol">(</a><a id="3218" href="Ledger.Conway.Conformance.Ledger.Properties.html#3218" class="Bound">govSt&#39;</a> <a id="3225" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3227" class="Symbol">_)</a> <a id="3230" class="Symbol">|</a> <a id="3232" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3237" class="Symbol">=</a> <a id="3239" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="3250" href="Ledger.Conway.Conformance.Ledger.Properties.html#2575" class="Function">completeness</a> <a id="3263" href="Ledger.Conway.Conformance.Ledger.Properties.html#3263" class="Bound">ls&#39;</a> <a id="3267" class="Symbol">(</a><a id="3268" href="Ledger.Conway.Conformance.Ledger.html#2184" class="InductiveConstructor">LEDGER-I⋯</a> <a id="3278" href="Ledger.Conway.Conformance.Ledger.Properties.html#3278" class="Bound">i</a> <a id="3280" href="Ledger.Conway.Conformance.Ledger.Properties.html#3280" class="Bound">utxoStep</a><a id="3288" class="Symbol">)</a>
        <a id="3298" class="Keyword">with</a> <a id="3303" href="Ledger.Conway.Specification.Transaction.html#4772" class="Field">isValid</a> <a id="3311" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="3313" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3324" class="Symbol">...</a> <a id="3328" class="Symbol">|</a> <a id="3330" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="3334" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3339" class="Symbol">=</a> <a id="3341" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="3346" class="Bound">i</a> <a id="3348" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="3351" class="Symbol">λ</a> <a id="3353" class="Symbol">()</a>
      <a id="3362" class="Symbol">...</a> <a id="3366" class="Symbol">|</a> <a id="3368" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3371" href="Ledger.Conway.Conformance.Ledger.Properties.html#3371" class="Bound">¬v</a>
        <a id="3382" class="Keyword">with</a> <a id="3387" href="Ledger.Conway.Conformance.Ledger.Properties.html#1401" class="Function">computeUtxow</a> <a id="3400" href="Ledger.Conway.Conformance.Ledger.Properties.html#1722" class="Function">utxoΓ</a> <a id="3406" href="Ledger.Conway.Conformance.Ledger.html#787" class="Field">utxoSt</a> <a id="3413" href="Ledger.Conway.Conformance.Ledger.Properties.html#1635" class="Bound">tx</a> <a id="3416" class="Symbol">|</a> <a id="3418" href="Ledger.Conway.Conformance.Ledger.Properties.html#1387" class="Field">complete</a> <a id="3427" class="Symbol">_</a> <a id="3429" class="Symbol">_</a> <a id="3431" class="Symbol">_</a> <a id="3433" class="Symbol">_</a> <a id="3435" class="Bound">utxoStep</a>
      <a id="3450" class="Symbol">...</a> <a id="3454" class="Symbol">|</a> <a id="3456" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="3464" class="Symbol">(</a><a id="3465" href="Ledger.Conway.Conformance.Ledger.Properties.html#3465" class="Bound">utxoSt&#39;</a> <a id="3473" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3475" class="Symbol">_)</a> <a id="3478" class="Symbol">|</a> <a id="3480" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3485" class="Symbol">=</a> <a id="3487" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="Computational-LEDGERS"></a><a id="3493" href="Ledger.Conway.Conformance.Ledger.Properties.html#3493" class="Function">Computational-LEDGERS</a> <a id="3515" class="Symbol">:</a> <a id="3517" href="Interface.ComputationalRelation.html#2804" class="Record">Computational</a> <a id="3531" href="Ledger.Conway.Conformance.Ledger.html#2222" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="3548" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="3555" href="Ledger.Conway.Conformance.Ledger.Properties.html#3493" class="Function">Computational-LEDGERS</a> <a id="3577" class="Symbol">=</a> <a id="3579" href="Function.Base.html#4755" class="Function">it</a>
</pre></body></html>