<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Test.Examples.DEx.Test.Trace</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">module</a> <a id="32" href="Test.Examples.DEx.Test.Trace.html" class="Module">Test.Examples.DEx.Test.Trace</a> <a id="61" class="Keyword">where</a>

<a id="68" class="Keyword">import</a> <a id="75" href="Data.Rational.Base.html" class="Module">Data.Rational.Base</a> <a id="94" class="Symbol">as</a> <a id="97" class="Module">Q</a>
<a id="99" class="Keyword">open</a> <a id="104" class="Keyword">import</a> <a id="111" href="Data.Nat.Divisibility.Core.html" class="Module">Data.Nat.Divisibility.Core</a>
<a id="138" class="Keyword">open</a> <a id="143" class="Keyword">import</a> <a id="150" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>

<a id="171" class="Keyword">open</a> <a id="176" class="Keyword">import</a> <a id="183" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="198" class="Keyword">open</a> <a id="203" class="Keyword">import</a> <a id="210" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="250" class="Keyword">using</a> <a id="256" class="Symbol">(</a><a id="257" href="Ledger.Conway.Specification.Transaction.html#991" class="Record">TransactionStructure</a><a id="277" class="Symbol">)</a>

<a id="280" class="Keyword">open</a> <a id="285" class="Keyword">import</a> <a id="292" href="Test.Examples.DEx.Datum.html" class="Module">Test.Examples.DEx.Datum</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Test.Examples.DEx.Validator.html" class="Module">Test.Examples.DEx.Validator</a>
<a id="356" class="Keyword">open</a> <a id="361" class="Keyword">import</a> <a id="368" href="Test.Prelude.html" class="Module">Test.Prelude</a> <a id="381" href="Test.Examples.DEx.Datum.html#695" class="Function">DExData</a>
<a id="389" class="Keyword">open</a> <a id="394" class="Keyword">import</a> <a id="401" href="Test.SymbolicData.html" class="Module">Test.SymbolicData</a> <a id="419" href="Test.Examples.DEx.Datum.html#695" class="Function">DExData</a>
<a id="427" class="Keyword">open</a> <a id="432" class="Keyword">import</a> <a id="439" href="Test.LedgerImplementation.html" class="Module">Test.LedgerImplementation</a> <a id="465" href="Test.SymbolicData.html#240" class="Function">SData</a> <a id="471" href="Test.SymbolicData.html#240" class="Function">SData</a>
<a id="477" class="Keyword">open</a> <a id="482" class="Keyword">import</a> <a id="489" href="Test.AbstractImplementation.html" class="Module">Test.AbstractImplementation</a> <a id="517" href="Test.SymbolicData.html#2904" class="Function">valContext</a>
<a id="528" class="Keyword">open</a> <a id="533" class="Keyword">import</a> <a id="540" href="Test.Lib.html" class="Module">Test.Lib</a> <a id="549" href="Test.SymbolicData.html#2904" class="Function">valContext</a>
<a id="560" class="Keyword">open</a> <a id="565" class="Keyword">import</a> <a id="572" href="Ledger.Conway.Specification.Script.Validation.html" class="Module">Ledger.Conway.Specification.Script.Validation</a> <a id="618" href="Test.LedgerImplementation.html#4277" class="Function">SVTransactionStructure</a> <a id="641" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>
<a id="661" class="Keyword">open</a> <a id="666" class="Keyword">import</a> <a id="673" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="713" class="Keyword">open</a> <a id="718" class="Keyword">import</a> <a id="725" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="758" href="Test.LedgerImplementation.html#4277" class="Function">SVTransactionStructure</a> <a id="781" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>
<a id="801" class="Keyword">open</a> <a id="806" class="Keyword">import</a> <a id="813" href="Ledger.Conway.Specification.Utxo.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Utxo.Properties.Computational</a> <a id="871" href="Test.LedgerImplementation.html#4277" class="Function">SVTransactionStructure</a> <a id="894" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>
<a id="914" class="Keyword">open</a> <a id="919" class="Keyword">import</a> <a id="926" href="Ledger.Conway.Specification.Utxow.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Utxow.Properties.Computational</a> <a id="985" href="Test.LedgerImplementation.html#4277" class="Function">SVTransactionStructure</a> <a id="1008" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>


<a id="1030" class="Keyword">open</a> <a id="1035" class="Keyword">import</a> <a id="1042" href="Test.Examples.DEx.OffChain.OffChain.html" class="Module">Test.Examples.DEx.OffChain.OffChain</a>

<a id="1079" class="Keyword">open</a> <a id="1084" href="Ledger.Conway.Specification.Transaction.html#991" class="Module">TransactionStructure</a> <a id="1105" href="Test.LedgerImplementation.html#4277" class="Function">SVTransactionStructure</a>
<a id="1128" class="Keyword">open</a> <a id="1133" href="Test.LedgerImplementation.html#1058" class="Module">Implementation</a>


<a id="par"></a><a id="1150" href="Test.Examples.DEx.Test.Trace.html#1150" class="Function">par</a> <a id="1154" class="Symbol">:</a> <a id="1156" href="Test.Examples.DEx.Validator.html#1333" class="Record">Params</a>
<a id="1163" href="Test.Examples.DEx.Test.Trace.html#1150" class="Function">par</a> <a id="1167" class="Symbol">=</a> <a id="1169" class="Keyword">record</a> <a id="1176" class="Symbol">{</a> <a id="1178" href="Test.Examples.DEx.Validator.html#1364" class="Field">sellC</a> <a id="1184" class="Symbol">=</a> <a id="1186" class="Number">0</a> <a id="1188" class="Symbol">;</a> <a id="1190" href="Test.Examples.DEx.Validator.html#1378" class="Field">buyC</a> <a id="1195" class="Symbol">=</a> <a id="1197" class="Number">0</a> <a id="1199" class="Symbol">}</a>

<a id="multiSigScript"></a><a id="1202" href="Test.Examples.DEx.Test.Trace.html#1202" class="Function">multiSigScript</a> <a id="1217" class="Symbol">:</a> <a id="1219" href="Test.LedgerImplementation.html#1452" class="Function">PlutusScript</a>
<a id="1232" href="Test.Examples.DEx.Test.Trace.html#1202" class="Function">multiSigScript</a> <a id="1247" class="Symbol">=</a> <a id="1249" class="Number">777</a> <a id="1253" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1255" href="Test.Lib.html#6098" class="Function">applyScriptWithContext</a> <a id="1278" class="Symbol">(</a><a id="1279" href="Test.Examples.DEx.Validator.html#6815" class="Function">dexValidator</a> <a id="1292" href="Test.Examples.DEx.Test.Trace.html#1150" class="Function">par</a><a id="1295" class="Symbol">)</a>

<a id="initEnv"></a><a id="1298" href="Test.Examples.DEx.Test.Trace.html#1298" class="Function">initEnv</a> <a id="1306" class="Symbol">:</a> <a id="1308" href="Ledger.Conway.Specification.Utxo.html#1191" class="Record">UTxOEnv</a>
<a id="1316" href="Test.Examples.DEx.Test.Trace.html#1298" class="Function">initEnv</a> <a id="1324" class="Symbol">=</a> <a id="1326" href="Test.Lib.html#1010" class="Function">createEnv</a> <a id="1336" class="Number">0</a>


<a id="initState&#39;"></a><a id="1340" href="Test.Examples.DEx.Test.Trace.html#1340" class="Function">initState&#39;</a> <a id="1351" class="Symbol">:</a> <a id="1353" href="Ledger.Conway.Specification.Transaction.html#2702" class="Function">UTxO</a>
<a id="1358" href="Test.Examples.DEx.Test.Trace.html#1340" class="Function">initState&#39;</a> <a id="1369" class="Symbol">=</a> <a id="1371" href="Test.Lib.html#5453" class="Function">fromList&#39;</a> <a id="1381" class="Symbol">(</a><a id="1382" href="Test.Lib.html#5132" class="Function">createInitUtxoState</a> <a id="1402" class="Number">5</a> <a id="1404" href="Test.Examples.DEx.Validator.html#926" class="Function">startValue</a><a id="1414" class="Symbol">)</a>


<a id="1418" class="Keyword">data</a> <a id="Tx&#39;"></a><a id="1423" href="Test.Examples.DEx.Test.Trace.html#1423" class="Datatype">Tx&#39;</a> <a id="1427" class="Symbol">:</a> <a id="1429" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1433" class="Keyword">where</a>
    <a id="Tx&#39;.start"></a><a id="1443" href="Test.Examples.DEx.Test.Trace.html#1443" class="InductiveConstructor">start</a>      <a id="1454" class="Symbol">:</a> <a id="1456" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1458" class="Symbol">→</a> <a id="1460" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a> <a id="1466" class="Symbol">→</a> <a id="1468" href="Data.Rational.Base.html#1421" class="Record">Q.ℚ</a> <a id="1472" class="Symbol">→</a> <a id="1474" href="Test.Examples.DEx.Test.Trace.html#1423" class="Datatype">Tx&#39;</a>
    <a id="Tx&#39;.close"></a><a id="1482" href="Test.Examples.DEx.Test.Trace.html#1482" class="InductiveConstructor">close</a>      <a id="1493" class="Symbol">:</a> <a id="1495" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1497" class="Symbol">→</a> <a id="1499" href="Test.Examples.DEx.Test.Trace.html#1423" class="Datatype">Tx&#39;</a>
    <a id="Tx&#39;.updatetx"></a><a id="1507" href="Test.Examples.DEx.Test.Trace.html#1507" class="InductiveConstructor">updatetx</a>   <a id="1518" class="Symbol">:</a> <a id="1520" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1522" class="Symbol">→</a> <a id="1524" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a> <a id="1530" class="Symbol">→</a> <a id="1532" href="Data.Rational.Base.html#1421" class="Record">Q.ℚ</a> <a id="1536" class="Symbol">→</a> <a id="1538" href="Test.Examples.DEx.Test.Trace.html#1423" class="Datatype">Tx&#39;</a>
    <a id="Tx&#39;.exchange"></a><a id="1546" href="Test.Examples.DEx.Test.Trace.html#1546" class="InductiveConstructor">exchange</a>   <a id="1557" class="Symbol">:</a> <a id="1559" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1561" class="Symbol">→</a> <a id="1563" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a> <a id="1569" class="Symbol">→</a> <a id="1571" href="Test.Examples.DEx.Test.Trace.html#1423" class="Datatype">Tx&#39;</a>


<a id="makeTx"></a><a id="1577" href="Test.Examples.DEx.Test.Trace.html#1577" class="Function">makeTx</a> <a id="1584" class="Symbol">:</a> <a id="1586" href="Ledger.Conway.Specification.Utxo.html#1300" class="Record">UTxOState</a> <a id="1596" class="Symbol">→</a> <a id="1598" href="Test.LedgerImplementation.html#1452" class="Function">PlutusScript</a> <a id="1611" class="Symbol">→</a> <a id="1613" href="Test.Examples.DEx.Test.Trace.html#1423" class="Datatype">Tx&#39;</a> <a id="1617" class="Symbol">→</a> <a id="1619" class="Symbol">(</a><a id="1620" href="Test.Examples.DEx.Test.Trace.html#1620" class="Bound">id</a> <a id="1623" class="Symbol">:</a> <a id="1625" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1626" class="Symbol">)</a> <a id="1628" class="Symbol">→</a> <a id="1630" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1636" href="Ledger.Conway.Specification.Transaction.html#4668" class="Record">Tx</a>
<a id="1639" href="Test.Examples.DEx.Test.Trace.html#1577" class="Function">makeTx</a> <a id="1646" href="Test.Examples.DEx.Test.Trace.html#1646" class="Bound">s</a> <a id="1648" href="Test.Examples.DEx.Test.Trace.html#1648" class="Bound">script</a> <a id="1655" class="Symbol">(</a><a id="1656" href="Test.Examples.DEx.Test.Trace.html#1443" class="InductiveConstructor">start</a> <a id="1662" href="Test.Examples.DEx.Test.Trace.html#1662" class="Bound">w</a> <a id="1664" href="Test.Examples.DEx.Test.Trace.html#1664" class="Bound">v</a> <a id="1666" href="Test.Examples.DEx.Test.Trace.html#1666" class="Bound">r</a><a id="1667" class="Symbol">)</a> <a id="1669" href="Test.Examples.DEx.Test.Trace.html#1669" class="Bound">id</a> <a id="1672" class="Symbol">=</a> <a id="1674" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1679" class="Symbol">(</a><a id="1680" href="Test.Examples.DEx.OffChain.Start.html#1005" class="Function">startTx</a> <a id="1688" href="Test.Examples.DEx.Test.Trace.html#1669" class="Bound">id</a> <a id="1691" href="Test.Examples.DEx.Test.Trace.html#1662" class="Bound">w</a> <a id="1693" class="Number">999</a> <a id="1697" href="Test.Examples.DEx.Test.Trace.html#1664" class="Bound">v</a> <a id="1699" href="Test.Examples.DEx.Test.Trace.html#1666" class="Bound">r</a> <a id="1701" href="Test.Examples.DEx.Test.Trace.html#1648" class="Bound">script</a><a id="1707" class="Symbol">)</a>
<a id="1709" href="Test.Examples.DEx.Test.Trace.html#1577" class="Function">makeTx</a> <a id="1716" href="Test.Examples.DEx.Test.Trace.html#1716" class="Bound">s</a> <a id="1718" href="Test.Examples.DEx.Test.Trace.html#1718" class="Bound">script</a> <a id="1725" class="Symbol">(</a><a id="1726" href="Test.Examples.DEx.Test.Trace.html#1482" class="InductiveConstructor">close</a> <a id="1732" href="Test.Examples.DEx.Test.Trace.html#1732" class="Bound">w</a><a id="1733" class="Symbol">)</a> <a id="1735" href="Test.Examples.DEx.Test.Trace.html#1735" class="Bound">id</a> <a id="1738" class="Symbol">=</a> <a id="1740" href="Test.Examples.DEx.OffChain.Close.html#687" class="Function">makeCloseTx</a> <a id="1752" href="Test.Examples.DEx.Test.Trace.html#1735" class="Bound">id</a> <a id="1755" href="Test.Examples.DEx.Test.Trace.html#1716" class="Bound">s</a> <a id="1757" href="Test.Examples.DEx.Test.Trace.html#1718" class="Bound">script</a> <a id="1764" href="Test.Examples.DEx.Test.Trace.html#1732" class="Bound">w</a>
<a id="1766" href="Test.Examples.DEx.Test.Trace.html#1577" class="Function">makeTx</a> <a id="1773" href="Test.Examples.DEx.Test.Trace.html#1773" class="Bound">s</a> <a id="1775" href="Test.Examples.DEx.Test.Trace.html#1775" class="Bound">script</a> <a id="1782" class="Symbol">(</a><a id="1783" href="Test.Examples.DEx.Test.Trace.html#1507" class="InductiveConstructor">updatetx</a> <a id="1792" href="Test.Examples.DEx.Test.Trace.html#1792" class="Bound">w</a> <a id="1794" href="Test.Examples.DEx.Test.Trace.html#1794" class="Bound">v</a> <a id="1796" href="Test.Examples.DEx.Test.Trace.html#1796" class="Bound">r</a><a id="1797" class="Symbol">)</a> <a id="1799" href="Test.Examples.DEx.Test.Trace.html#1799" class="Bound">id</a> <a id="1802" class="Symbol">=</a> <a id="1804" href="Test.Examples.DEx.OffChain.Update.html#945" class="Function">makeUpdateTx</a> <a id="1817" href="Test.Examples.DEx.Test.Trace.html#1799" class="Bound">id</a> <a id="1820" href="Test.Examples.DEx.Test.Trace.html#1773" class="Bound">s</a> <a id="1822" href="Test.Examples.DEx.Test.Trace.html#1775" class="Bound">script</a> <a id="1829" href="Test.Examples.DEx.Test.Trace.html#1792" class="Bound">w</a> <a id="1831" href="Test.Examples.DEx.Test.Trace.html#1794" class="Bound">v</a> <a id="1833" href="Test.Examples.DEx.Test.Trace.html#1796" class="Bound">r</a>
<a id="1835" href="Test.Examples.DEx.Test.Trace.html#1577" class="Function">makeTx</a> <a id="1842" href="Test.Examples.DEx.Test.Trace.html#1842" class="Bound">s</a> <a id="1844" href="Test.Examples.DEx.Test.Trace.html#1844" class="Bound">script</a> <a id="1851" class="Symbol">(</a><a id="1852" href="Test.Examples.DEx.Test.Trace.html#1546" class="InductiveConstructor">exchange</a> <a id="1861" href="Test.Examples.DEx.Test.Trace.html#1861" class="Bound">w</a> <a id="1863" href="Test.Examples.DEx.Test.Trace.html#1863" class="Bound">v</a><a id="1864" class="Symbol">)</a> <a id="1866" href="Test.Examples.DEx.Test.Trace.html#1866" class="Bound">id</a> <a id="1869" class="Symbol">=</a> <a id="1871" href="Test.Examples.DEx.OffChain.Exchange.html#1266" class="Function">makeExchangeTx</a> <a id="1886" href="Test.Examples.DEx.Test.Trace.html#1866" class="Bound">id</a> <a id="1889" href="Test.Examples.DEx.Test.Trace.html#1842" class="Bound">s</a> <a id="1891" href="Test.Examples.DEx.Test.Trace.html#1844" class="Bound">script</a> <a id="1898" href="Test.Examples.DEx.Test.Trace.html#1861" class="Bound">w</a> <a id="1900" href="Test.Examples.DEx.Test.Trace.html#1863" class="Bound">v</a>

<a id="evalTransanctions"></a><a id="1903" href="Test.Examples.DEx.Test.Trace.html#1903" class="Function">evalTransanctions</a> <a id="1921" class="Symbol">:</a> <a id="1923" href="Ledger.Conway.Specification.Utxo.html#1191" class="Record">UTxOEnv</a> <a id="1931" class="Symbol">→</a> <a id="1933" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="1951" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1958" href="Ledger.Conway.Specification.Utxo.html#1300" class="Record">UTxOState</a> <a id="1968" class="Symbol">→</a> <a id="1970" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1975" href="Test.Examples.DEx.Test.Trace.html#1423" class="Datatype">Tx&#39;</a> <a id="1979" class="Symbol">→</a> <a id="1981" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1983" class="Symbol">→</a> <a id="1985" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="2003" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2010" href="Ledger.Conway.Specification.Utxo.html#1300" class="Record">UTxOState</a>
<a id="2020" href="Test.Examples.DEx.Test.Trace.html#1903" class="Function">evalTransanctions</a> <a id="2038" href="Test.Examples.DEx.Test.Trace.html#2038" class="Bound">env</a> <a id="2042" href="Test.Examples.DEx.Test.Trace.html#2042" class="Bound">s</a> <a id="2044" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="2047" href="Test.Examples.DEx.Test.Trace.html#2047" class="Bound">id</a> <a id="2050" class="Symbol">=</a> <a id="2052" href="Test.Examples.DEx.Test.Trace.html#2042" class="Bound">s</a>
<a id="2054" href="Test.Examples.DEx.Test.Trace.html#1903" class="Function">evalTransanctions</a> <a id="2072" href="Test.Examples.DEx.Test.Trace.html#2072" class="Bound">env</a> <a id="2076" href="Test.Examples.DEx.Test.Trace.html#2076" class="Bound">state</a><a id="2081" class="Symbol">@(</a><a id="2083" href="Interface.ComputationalRelation.html#352" class="InductiveConstructor">failure</a> <a id="2091" href="Test.Examples.DEx.Test.Trace.html#2091" class="Bound">s</a><a id="2092" class="Symbol">)</a> <a id="2094" class="Symbol">(</a><a id="2095" href="Test.Examples.DEx.Test.Trace.html#2095" class="Bound">x</a> <a id="2097" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2099" href="Test.Examples.DEx.Test.Trace.html#2099" class="Bound">xs</a><a id="2101" class="Symbol">)</a> <a id="2103" href="Test.Examples.DEx.Test.Trace.html#2103" class="Bound">id</a> <a id="2106" class="Symbol">=</a> <a id="2108" href="Test.Examples.DEx.Test.Trace.html#2076" class="Bound">state</a>
<a id="2114" href="Test.Examples.DEx.Test.Trace.html#1903" class="Function">evalTransanctions</a> <a id="2132" href="Test.Examples.DEx.Test.Trace.html#2132" class="Bound">env</a> <a id="2136" class="Symbol">(</a><a id="2137" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2145" href="Test.Examples.DEx.Test.Trace.html#2145" class="Bound">s</a><a id="2146" class="Symbol">)</a> <a id="2148" class="Symbol">(</a><a id="2149" href="Test.Examples.DEx.Test.Trace.html#2149" class="Bound">tx&#39;</a> <a id="2153" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2155" href="Test.Examples.DEx.Test.Trace.html#2155" class="Bound">txs&#39;</a><a id="2159" class="Symbol">)</a> <a id="2161" href="Test.Examples.DEx.Test.Trace.html#2161" class="Bound">id</a> <a id="2164" class="Symbol">=</a>
  <a id="2168" href="Data.Maybe.Base.html#1276" class="Function">maybe</a>
    <a id="2178" class="Symbol">(λ</a> <a id="2181" href="Test.Examples.DEx.Test.Trace.html#2181" class="Bound">tx</a> <a id="2184" class="Symbol">→</a> <a id="2186" href="Test.Examples.DEx.Test.Trace.html#1903" class="Function">evalTransanctions</a>
              <a id="2218" href="Test.Examples.DEx.Test.Trace.html#1298" class="Function">initEnv</a>
              <a id="2240" class="Symbol">(</a><a id="2241" href="Ledger.Conway.Specification.Utxo.Properties.Computational.html#6960" class="Function">UTXO-step</a> <a id="2251" href="Test.Examples.DEx.Test.Trace.html#1298" class="Function">initEnv</a> <a id="2259" href="Test.Examples.DEx.Test.Trace.html#2145" class="Bound">s</a> <a id="2261" href="Test.Examples.DEx.Test.Trace.html#2181" class="Bound">tx</a><a id="2263" class="Symbol">)</a>
              <a id="2279" href="Test.Examples.DEx.Test.Trace.html#2155" class="Bound">txs&#39;</a>
              <a id="2298" class="Symbol">(</a><a id="2299" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2303" href="Test.Examples.DEx.Test.Trace.html#2161" class="Bound">id</a><a id="2305" class="Symbol">))</a>
    <a id="2312" class="Symbol">(</a><a id="2313" href="Interface.ComputationalRelation.html#352" class="InductiveConstructor">failure</a> <a id="2321" class="String">&quot;failed to generate tx&quot;</a><a id="2344" class="Symbol">)</a>
    <a id="2350" class="Symbol">(</a><a id="2351" href="Test.Examples.DEx.Test.Trace.html#1577" class="Function">makeTx</a> <a id="2358" href="Test.Examples.DEx.Test.Trace.html#2145" class="Bound">s</a> <a id="2360" href="Test.Examples.DEx.Test.Trace.html#1202" class="Function">multiSigScript</a> <a id="2375" href="Test.Examples.DEx.Test.Trace.html#2149" class="Bound">tx&#39;</a> <a id="2379" href="Test.Examples.DEx.Test.Trace.html#2161" class="Bound">id</a><a id="2381" class="Symbol">)</a>

<a id="evalTransanctionsW"></a><a id="2384" href="Test.Examples.DEx.Test.Trace.html#2384" class="Function">evalTransanctionsW</a> <a id="2403" class="Symbol">:</a> <a id="2405" href="Ledger.Conway.Specification.Utxo.html#1191" class="Record">UTxOEnv</a> <a id="2413" class="Symbol">→</a> <a id="2415" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="2433" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2440" href="Ledger.Conway.Specification.Utxo.html#1300" class="Record">UTxOState</a> <a id="2450" class="Symbol">→</a> <a id="2452" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2457" href="Test.Examples.DEx.Test.Trace.html#1423" class="Datatype">Tx&#39;</a> <a id="2461" class="Symbol">→</a> <a id="2463" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2465" class="Symbol">→</a> <a id="2467" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="2485" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2492" href="Ledger.Conway.Specification.Utxo.html#1300" class="Record">UTxOState</a>
<a id="2502" href="Test.Examples.DEx.Test.Trace.html#2384" class="Function">evalTransanctionsW</a> <a id="2521" href="Test.Examples.DEx.Test.Trace.html#2521" class="Bound">env</a> <a id="2525" href="Test.Examples.DEx.Test.Trace.html#2525" class="Bound">s</a> <a id="2527" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="2530" href="Test.Examples.DEx.Test.Trace.html#2530" class="Bound">id</a> <a id="2533" class="Symbol">=</a> <a id="2535" href="Test.Examples.DEx.Test.Trace.html#2525" class="Bound">s</a>
<a id="2537" href="Test.Examples.DEx.Test.Trace.html#2384" class="Function">evalTransanctionsW</a> <a id="2556" href="Test.Examples.DEx.Test.Trace.html#2556" class="Bound">env</a> <a id="2560" href="Test.Examples.DEx.Test.Trace.html#2560" class="Bound">state</a><a id="2565" class="Symbol">@(</a><a id="2567" href="Interface.ComputationalRelation.html#352" class="InductiveConstructor">failure</a> <a id="2575" href="Test.Examples.DEx.Test.Trace.html#2575" class="Bound">s</a><a id="2576" class="Symbol">)</a> <a id="2578" class="Symbol">(</a><a id="2579" href="Test.Examples.DEx.Test.Trace.html#2579" class="Bound">x</a> <a id="2581" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2583" href="Test.Examples.DEx.Test.Trace.html#2583" class="Bound">xs</a><a id="2585" class="Symbol">)</a> <a id="2587" href="Test.Examples.DEx.Test.Trace.html#2587" class="Bound">id</a> <a id="2590" class="Symbol">=</a> <a id="2592" href="Test.Examples.DEx.Test.Trace.html#2560" class="Bound">state</a>
<a id="2598" href="Test.Examples.DEx.Test.Trace.html#2384" class="Function">evalTransanctionsW</a> <a id="2617" href="Test.Examples.DEx.Test.Trace.html#2617" class="Bound">env</a> <a id="2621" class="Symbol">(</a><a id="2622" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2630" href="Test.Examples.DEx.Test.Trace.html#2630" class="Bound">s</a><a id="2631" class="Symbol">)</a> <a id="2633" class="Symbol">(</a><a id="2634" href="Test.Examples.DEx.Test.Trace.html#2634" class="Bound">tx&#39;</a> <a id="2638" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2640" href="Test.Examples.DEx.Test.Trace.html#2640" class="Bound">txs&#39;</a><a id="2644" class="Symbol">)</a> <a id="2646" href="Test.Examples.DEx.Test.Trace.html#2646" class="Bound">id</a> <a id="2649" class="Symbol">=</a>
  <a id="2653" href="Data.Maybe.Base.html#1276" class="Function">maybe</a>
    <a id="2663" class="Symbol">(λ</a> <a id="2666" href="Test.Examples.DEx.Test.Trace.html#2666" class="Bound">tx</a> <a id="2669" class="Symbol">→</a> <a id="2671" href="Test.Examples.DEx.Test.Trace.html#1903" class="Function">evalTransanctions</a>
              <a id="2703" href="Test.Examples.DEx.Test.Trace.html#1298" class="Function">initEnv</a>
              <a id="2725" class="Symbol">(</a><a id="2726" href="Ledger.Conway.Specification.Utxo.Properties.Computational.html#6960" class="Function">UTXO-step</a> <a id="2736" href="Test.Examples.DEx.Test.Trace.html#1298" class="Function">initEnv</a> <a id="2744" href="Test.Examples.DEx.Test.Trace.html#2630" class="Bound">s</a> <a id="2746" href="Test.Examples.DEx.Test.Trace.html#2666" class="Bound">tx</a><a id="2748" class="Symbol">)</a>
              <a id="2764" href="Test.Examples.DEx.Test.Trace.html#2640" class="Bound">txs&#39;</a>
              <a id="2783" class="Symbol">(</a><a id="2784" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2788" href="Test.Examples.DEx.Test.Trace.html#2646" class="Bound">id</a><a id="2790" class="Symbol">))</a>
    <a id="2797" class="Symbol">(</a><a id="2798" href="Interface.ComputationalRelation.html#352" class="InductiveConstructor">failure</a> <a id="2806" class="String">&quot;failed to generate tx&quot;</a><a id="2829" class="Symbol">)</a>
    <a id="2835" class="Symbol">(</a><a id="2836" href="Test.Examples.DEx.Test.Trace.html#1577" class="Function">makeTx</a> <a id="2843" href="Test.Examples.DEx.Test.Trace.html#2630" class="Bound">s</a> <a id="2845" href="Test.Examples.DEx.Test.Trace.html#1202" class="Function">multiSigScript</a> <a id="2860" href="Test.Examples.DEx.Test.Trace.html#2634" class="Bound">tx&#39;</a> <a id="2864" href="Test.Examples.DEx.Test.Trace.html#2646" class="Bound">id</a><a id="2866" class="Symbol">)</a>

<a id="pf"></a><a id="2869" href="Test.Examples.DEx.Test.Trace.html#2869" class="Function">pf</a> <a id="2872" class="Symbol">:</a> <a id="2874" class="Symbol">∀</a> <a id="2876" class="Symbol">{</a><a id="2877" href="Test.Examples.DEx.Test.Trace.html#2877" class="Bound">d</a><a id="2878" class="Symbol">}</a> <a id="2880" class="Symbol">-&gt;</a> <a id="2883" class="Symbol">(</a><a id="2884" href="Test.Examples.DEx.Test.Trace.html#2877" class="Bound">d</a> <a id="2886" href="Data.Nat.Divisibility.Core.html#1191" class="Record Operator">Data.Nat.Divisibility.Core.∣</a> <a id="2915" class="Number">1</a><a id="2916" class="Symbol">)</a> <a id="2918" class="Symbol">-&gt;</a> <a id="2921" href="Test.Examples.DEx.Test.Trace.html#2877" class="Bound">d</a> <a id="2923" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2925" class="Number">1</a>
<a id="2927" href="Test.Examples.DEx.Test.Trace.html#2869" class="Function">pf</a> <a id="2930" class="Symbol">{</a><a id="2931" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="2935" class="Symbol">}</a> <a id="2937" class="Symbol">(</a><a id="2938" href="Data.Nat.Divisibility.Core.html#1231" class="InductiveConstructor">divides</a> <a id="2946" href="Test.Examples.DEx.Test.Trace.html#2946" class="Bound">quotient</a> <a id="2955" href="Test.Examples.DEx.Test.Trace.html#2955" class="Bound">equality</a><a id="2963" class="Symbol">)</a> <a id="2965" class="Keyword">rewrite</a> <a id="2973" href="Data.Nat.Properties.html#22460" class="Function">*-comm</a> <a id="2980" href="Test.Examples.DEx.Test.Trace.html#2946" class="Bound">quotient</a> <a id="2989" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="2994" class="Symbol">=</a> <a id="2996" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">sym</a> <a id="3000" href="Test.Examples.DEx.Test.Trace.html#2955" class="Bound">equality</a>
<a id="3009" href="Test.Examples.DEx.Test.Trace.html#2869" class="Function">pf</a> <a id="3012" class="Symbol">{</a><a id="3013" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3017" href="Test.Examples.DEx.Test.Trace.html#3017" class="Bound">d</a><a id="3018" class="Symbol">}</a> <a id="3020" class="Symbol">(</a><a id="3021" href="Data.Nat.Divisibility.Core.html#1231" class="InductiveConstructor">divides</a> <a id="3029" class="Symbol">(</a><a id="3030" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3034" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="3038" class="Symbol">)</a> <a id="3040" href="Test.Examples.DEx.Test.Trace.html#3040" class="Bound">eq</a><a id="3042" class="Symbol">)</a> <a id="3044" class="Keyword">rewrite</a> <a id="3052" href="Data.Nat.Properties.html#15956" class="Function">+-comm</a> <a id="3059" href="Test.Examples.DEx.Test.Trace.html#3017" class="Bound">d</a> <a id="3061" class="Number">0</a> <a id="3063" class="Symbol">=</a> <a id="3065" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">sym</a> <a id="3069" href="Test.Examples.DEx.Test.Trace.html#3040" class="Bound">eq</a>
<a id="3072" href="Test.Examples.DEx.Test.Trace.html#2869" class="Function">pf</a> <a id="3075" class="Symbol">{</a><a id="3076" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3080" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="3084" class="Symbol">}</a> <a id="3086" class="Symbol">(</a><a id="3087" href="Data.Nat.Divisibility.Core.html#1231" class="InductiveConstructor">divides</a> <a id="3095" class="Symbol">(</a><a id="3096" href="Data.Nat.Base.html#1101" class="InductiveConstructor">2+</a> <a id="3099" href="Test.Examples.DEx.Test.Trace.html#3099" class="Bound">q</a><a id="3100" class="Symbol">)</a> <a id="3102" class="Symbol">())</a>
<a id="3106" href="Test.Examples.DEx.Test.Trace.html#2869" class="Function">pf</a> <a id="3109" class="Symbol">{</a><a id="3110" href="Data.Nat.Base.html#1101" class="InductiveConstructor">2+</a> <a id="3113" href="Test.Examples.DEx.Test.Trace.html#3113" class="Bound">d</a><a id="3114" class="Symbol">}</a> <a id="3116" class="Symbol">(</a><a id="3117" href="Data.Nat.Divisibility.Core.html#1231" class="InductiveConstructor">divides</a> <a id="3125" class="Symbol">(</a><a id="3126" href="Data.Nat.Base.html#1101" class="InductiveConstructor">2+</a> <a id="3129" href="Test.Examples.DEx.Test.Trace.html#3129" class="Bound">q</a><a id="3130" class="Symbol">)</a> <a id="3132" class="Symbol">())</a>

<a id="rate"></a><a id="3137" href="Test.Examples.DEx.Test.Trace.html#3137" class="Function">rate</a> <a id="3142" class="Symbol">:</a> <a id="3144" href="Data.Rational.Base.html#1421" class="Record">Q.ℚ</a>
<a id="3148" href="Test.Examples.DEx.Test.Trace.html#3137" class="Function">rate</a> <a id="3153" class="Symbol">=</a> <a id="3155" class="Symbol">(</a><a id="3156" href="Data.Rational.Base.html#1704" class="InductiveConstructor">Q.mkℚ</a> <a id="3162" class="Symbol">(</a><a id="3163" href="Agda.Builtin.Int.html#263" class="InductiveConstructor">ℤ.pos</a> <a id="3169" class="Symbol">(</a><a id="3170" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3174" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="3178" class="Symbol">))</a> <a id="3181" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="3186" class="Symbol">(λ</a> <a id="3189" class="Symbol">{</a> <a id="3191" class="Symbol">(</a><a id="3192" href="Test.Examples.DEx.Test.Trace.html#3192" class="Bound">fst</a> <a id="3196" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3198" href="Test.Examples.DEx.Test.Trace.html#3198" class="Bound">snd</a><a id="3201" class="Symbol">)</a> <a id="3203" class="Symbol">→</a> <a id="3205" href="Test.Examples.DEx.Test.Trace.html#2869" class="Function">pf</a> <a id="3208" href="Test.Examples.DEx.Test.Trace.html#3192" class="Bound">fst</a> <a id="3212" class="Symbol">})</a> <a id="3215" class="Symbol">)</a>

<a id="rate2"></a><a id="3218" href="Test.Examples.DEx.Test.Trace.html#3218" class="Function">rate2</a> <a id="3224" class="Symbol">:</a> <a id="3226" href="Data.Rational.Base.html#1421" class="Record">Q.ℚ</a>
<a id="3230" href="Test.Examples.DEx.Test.Trace.html#3218" class="Function">rate2</a> <a id="3236" class="Symbol">=</a> <a id="3238" class="Symbol">(</a><a id="3239" href="Data.Rational.Base.html#1704" class="InductiveConstructor">Q.mkℚ</a> <a id="3245" class="Symbol">(</a><a id="3246" href="Agda.Builtin.Int.html#263" class="InductiveConstructor">ℤ.pos</a> <a id="3252" class="Symbol">(</a><a id="3253" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3257" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="3261" class="Symbol">))</a> <a id="3264" class="Symbol">(</a><a id="3265" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3269" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="3273" class="Symbol">)</a> <a id="3275" class="Symbol">(λ</a> <a id="3278" class="Symbol">{</a> <a id="3280" class="Symbol">(</a><a id="3281" href="Test.Examples.DEx.Test.Trace.html#3281" class="Bound">fst</a> <a id="3285" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3287" href="Test.Examples.DEx.Test.Trace.html#3287" class="Bound">snd</a><a id="3290" class="Symbol">)</a> <a id="3292" class="Symbol">→</a> <a id="3294" href="Test.Examples.DEx.Test.Trace.html#2869" class="Function">pf</a> <a id="3297" href="Test.Examples.DEx.Test.Trace.html#3281" class="Bound">fst</a> <a id="3301" class="Symbol">})</a> <a id="3304" class="Symbol">)</a>

<a id="rate3"></a><a id="3307" href="Test.Examples.DEx.Test.Trace.html#3307" class="Function">rate3</a> <a id="3313" class="Symbol">:</a> <a id="3315" href="Data.Rational.Base.html#1421" class="Record">Q.ℚ</a>
<a id="3319" href="Test.Examples.DEx.Test.Trace.html#3307" class="Function">rate3</a> <a id="3325" class="Symbol">=</a> <a id="3327" class="Symbol">(</a><a id="3328" href="Data.Rational.Base.html#1704" class="InductiveConstructor">Q.mkℚ</a> <a id="3334" class="Symbol">(</a><a id="3335" href="Agda.Builtin.Int.html#263" class="InductiveConstructor">ℤ.pos</a> <a id="3341" class="Symbol">(</a><a id="3342" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3346" class="Symbol">(</a><a id="3347" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3351" class="Symbol">(</a><a id="3352" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3356" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="3360" class="Symbol">))))</a> <a id="3365" class="Symbol">(</a><a id="3366" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="3370" class="Symbol">)</a> <a id="3372" class="Symbol">(λ</a> <a id="3375" class="Symbol">{</a> <a id="3377" class="Symbol">(</a><a id="3378" href="Test.Examples.DEx.Test.Trace.html#3378" class="Bound">fst</a> <a id="3382" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3384" href="Test.Examples.DEx.Test.Trace.html#3384" class="Bound">snd</a><a id="3387" class="Symbol">)</a> <a id="3389" class="Symbol">→</a> <a id="3391" href="Test.Examples.DEx.Test.Trace.html#2869" class="Function">pf</a> <a id="3394" href="Test.Examples.DEx.Test.Trace.html#3384" class="Bound">snd</a> <a id="3398" class="Symbol">})</a> <a id="3401" class="Symbol">)</a>

<a id="validTrace"></a><a id="3404" href="Test.Examples.DEx.Test.Trace.html#3404" class="Function">validTrace</a> <a id="3415" class="Symbol">:</a> <a id="3417" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3422" href="Test.Examples.DEx.Test.Trace.html#1423" class="Datatype">Tx&#39;</a>
<a id="3426" href="Test.Examples.DEx.Test.Trace.html#3404" class="Function">validTrace</a> <a id="3437" class="Symbol">=</a> <a id="3439" href="Test.Examples.DEx.Test.Trace.html#1443" class="InductiveConstructor">start</a> <a id="3445" class="Number">5</a> <a id="3447" class="Symbol">(</a><a id="3448" href="Test.Examples.DEx.Validator.html#1057" class="Function">adaValueOf</a> <a id="3459" class="Number">80000000</a><a id="3467" class="Symbol">)</a> <a id="3469" href="Test.Examples.DEx.Test.Trace.html#3137" class="Function">rate</a>
             <a id="3487" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3489" href="Test.Examples.DEx.Test.Trace.html#1507" class="InductiveConstructor">updatetx</a> <a id="3498" class="Number">5</a> <a id="3500" class="Symbol">(</a><a id="3501" href="Test.Examples.DEx.Validator.html#1057" class="Function">adaValueOf</a> <a id="3512" class="Number">70000000</a><a id="3520" class="Symbol">)</a> <a id="3522" href="Test.Examples.DEx.Test.Trace.html#3137" class="Function">rate</a>
             <a id="3540" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3542" href="Test.Examples.DEx.Test.Trace.html#1482" class="InductiveConstructor">close</a> <a id="3548" class="Number">5</a>
             <a id="3563" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3565" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>


<a id="validTrace2"></a><a id="3570" href="Test.Examples.DEx.Test.Trace.html#3570" class="Function">validTrace2</a> <a id="3582" class="Symbol">:</a> <a id="3584" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3589" href="Test.Examples.DEx.Test.Trace.html#1423" class="Datatype">Tx&#39;</a>
<a id="3593" href="Test.Examples.DEx.Test.Trace.html#3570" class="Function">validTrace2</a> <a id="3605" class="Symbol">=</a> <a id="3607" href="Test.Examples.DEx.Test.Trace.html#1443" class="InductiveConstructor">start</a> <a id="3613" class="Number">5</a> <a id="3615" class="Symbol">(</a><a id="3616" href="Test.Examples.DEx.Validator.html#1057" class="Function">adaValueOf</a> <a id="3627" class="Number">8000000000</a><a id="3637" class="Symbol">)</a> <a id="3639" href="Test.Examples.DEx.Test.Trace.html#3137" class="Function">rate</a>
              <a id="3658" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3660" href="Test.Examples.DEx.Test.Trace.html#1546" class="InductiveConstructor">exchange</a> <a id="3669" class="Number">1</a> <a id="3671" class="Symbol">(</a><a id="3672" href="Test.Examples.DEx.Validator.html#1057" class="Function">adaValueOf</a> <a id="3683" class="Number">70000000</a><a id="3691" class="Symbol">)</a>
              <a id="3707" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3709" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>



<a id="failingTrace"></a><a id="3715" href="Test.Examples.DEx.Test.Trace.html#3715" class="Function">failingTrace</a> <a id="3728" class="Symbol">:</a> <a id="3730" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3735" href="Test.Examples.DEx.Test.Trace.html#1423" class="Datatype">Tx&#39;</a>
<a id="3739" href="Test.Examples.DEx.Test.Trace.html#3715" class="Function">failingTrace</a> <a id="3752" class="Symbol">=</a> <a id="3754" href="Test.Examples.DEx.Test.Trace.html#1443" class="InductiveConstructor">start</a> <a id="3760" class="Number">5</a> <a id="3762" class="Symbol">(</a><a id="3763" href="Test.Examples.DEx.Validator.html#1057" class="Function">adaValueOf</a> <a id="3774" class="Number">8000000000</a><a id="3784" class="Symbol">)</a> <a id="3786" href="Test.Examples.DEx.Test.Trace.html#3137" class="Function">rate</a>
               <a id="3806" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3808" href="Test.Examples.DEx.Test.Trace.html#1507" class="InductiveConstructor">updatetx</a> <a id="3817" class="Number">1</a> <a id="3819" class="Symbol">(</a><a id="3820" href="Test.Examples.DEx.Validator.html#1057" class="Function">adaValueOf</a> <a id="3831" class="Number">40000000</a><a id="3839" class="Symbol">)</a> <a id="3841" href="Test.Examples.DEx.Test.Trace.html#3307" class="Function">rate3</a>
              <a id="3861" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3863" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="3867" class="Keyword">opaque</a>
  <a id="3876" class="Keyword">unfolding</a> <a id="3886" href="Ledger.Conway.Specification.Script.Validation.html#3027" class="Function">collectP2ScriptsWithContext</a>
  <a id="3916" class="Keyword">unfolding</a> <a id="3926" href="abstract-set-theory.FiniteSetTheory.html#2617" class="Function">setToList</a>
  <a id="3938" class="Keyword">unfolding</a> <a id="3948" href="Ledger.Conway.Specification.Utxo.Properties.Computational.html#6743" class="Function">Computational-UTXO</a>
  <a id="3969" class="Keyword">unfolding</a> <a id="3979" href="Ledger.Conway.Specification.Utxo.html#2366" class="Function">outs</a>

  <a id="evalValidTrace"></a><a id="3987" href="Test.Examples.DEx.Test.Trace.html#3987" class="Function">evalValidTrace</a> <a id="4002" class="Symbol">:</a> <a id="4004" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="4022" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4029" href="Ledger.Conway.Specification.Utxo.html#1300" class="Record">UTxOState</a>
  <a id="4041" href="Test.Examples.DEx.Test.Trace.html#3987" class="Function">evalValidTrace</a> <a id="4056" class="Symbol">=</a> <a id="4058" href="Test.Examples.DEx.Test.Trace.html#2384" class="Function">evalTransanctionsW</a> <a id="4077" href="Test.Examples.DEx.Test.Trace.html#1298" class="Function">initEnv</a> <a id="4085" class="Symbol">(</a><a id="4086" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Test.Examples.DEx.Test.Trace.html#1340}{\htmlId{4096}{\htmlClass{Function}{\text{initState&#39;}}}}\, \\ \,\htmlId{4109}{\htmlClass{Number}{\text{0}}}\, \\ \,\href{Class.HasEmptySet.html#287}{\htmlId{4113}{\htmlClass{Field}{\text{∅}}}}\, \\ \,\htmlId{4117}{\htmlClass{Number}{\text{0}}}\, \end{pmatrix}$</a><a id="4121" class="Symbol">)</a> <a id="4123" href="Test.Examples.DEx.Test.Trace.html#3404" class="Function">validTrace</a> <a id="4134" class="Number">6</a>

  <a id="evalValidTrace2"></a><a id="4139" href="Test.Examples.DEx.Test.Trace.html#4139" class="Function">evalValidTrace2</a> <a id="4155" class="Symbol">:</a> <a id="4157" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="4175" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4182" href="Ledger.Conway.Specification.Utxo.html#1300" class="Record">UTxOState</a>
  <a id="4194" href="Test.Examples.DEx.Test.Trace.html#4139" class="Function">evalValidTrace2</a> <a id="4210" class="Symbol">=</a> <a id="4212" href="Test.Examples.DEx.Test.Trace.html#2384" class="Function">evalTransanctionsW</a> <a id="4231" href="Test.Examples.DEx.Test.Trace.html#1298" class="Function">initEnv</a> <a id="4239" class="Symbol">(</a><a id="4240" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Test.Examples.DEx.Test.Trace.html#1340}{\htmlId{4250}{\htmlClass{Function}{\text{initState&#39;}}}}\, \\ \,\htmlId{4263}{\htmlClass{Number}{\text{0}}}\, \\ \,\href{Class.HasEmptySet.html#287}{\htmlId{4267}{\htmlClass{Field}{\text{∅}}}}\, \\ \,\htmlId{4271}{\htmlClass{Number}{\text{0}}}\, \end{pmatrix}$</a><a id="4275" class="Symbol">)</a> <a id="4277" href="Test.Examples.DEx.Test.Trace.html#3570" class="Function">validTrace2</a> <a id="4289" class="Number">6</a>

  <a id="evalFailingTrace"></a><a id="4294" href="Test.Examples.DEx.Test.Trace.html#4294" class="Function">evalFailingTrace</a> <a id="4311" class="Symbol">:</a> <a id="4313" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="4331" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="4338" href="Ledger.Conway.Specification.Utxo.html#1300" class="Record">UTxOState</a>
  <a id="4350" href="Test.Examples.DEx.Test.Trace.html#4294" class="Function">evalFailingTrace</a> <a id="4367" class="Symbol">=</a> <a id="4369" href="Test.Examples.DEx.Test.Trace.html#2384" class="Function">evalTransanctionsW</a> <a id="4388" href="Test.Examples.DEx.Test.Trace.html#1298" class="Function">initEnv</a> <a id="4396" class="Symbol">(</a><a id="4397" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Test.Examples.DEx.Test.Trace.html#1340}{\htmlId{4407}{\htmlClass{Function}{\text{initState&#39;}}}}\, \\ \,\htmlId{4420}{\htmlClass{Number}{\text{0}}}\, \\ \,\href{Class.HasEmptySet.html#287}{\htmlId{4424}{\htmlClass{Field}{\text{∅}}}}\, \\ \,\htmlId{4428}{\htmlClass{Number}{\text{0}}}\, \end{pmatrix}$</a><a id="4432" class="Symbol">)</a> <a id="4434" href="Test.Examples.DEx.Test.Trace.html#3715" class="Function">failingTrace</a> <a id="4447" class="Number">6</a>

  <a id="4452" href="Test.Examples.DEx.Test.Trace.html#4452" class="Function">_</a> <a id="4454" class="Symbol">:</a> <a id="4456" href="Test.Lib.html#5984" class="Function">isSuccess</a> <a id="4466" href="Test.Examples.DEx.Test.Trace.html#3987" class="Function">evalValidTrace</a> <a id="4481" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4483" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="4490" class="Symbol">_</a> <a id="4492" class="Symbol">=</a> <a id="4494" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="4502" href="Test.Examples.DEx.Test.Trace.html#4502" class="Function">_</a> <a id="4504" class="Symbol">:</a> <a id="4506" href="Test.Lib.html#5984" class="Function">isSuccess</a> <a id="4516" href="Test.Examples.DEx.Test.Trace.html#4139" class="Function">evalValidTrace2</a> <a id="4532" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4534" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="4541" class="Symbol">_</a> <a id="4543" class="Symbol">=</a> <a id="4545" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

  <a id="4553" href="Test.Examples.DEx.Test.Trace.html#4553" class="Function">_</a> <a id="4555" class="Symbol">:</a> <a id="4557" href="Test.Lib.html#5984" class="Function">isSuccess</a> <a id="4567" href="Test.Examples.DEx.Test.Trace.html#4294" class="Function">evalFailingTrace</a> <a id="4584" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4586" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="4594" class="Symbol">_</a> <a id="4596" class="Symbol">=</a> <a id="4598" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
</pre></body></html>