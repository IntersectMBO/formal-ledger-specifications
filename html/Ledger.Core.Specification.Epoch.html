<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Core.Specification.Epoch</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">module</a> <a id="33" href="Ledger.Core.Specification.Epoch.html" class="Module">Ledger.Core.Specification.Epoch</a> <a id="65" class="Keyword">where</a>

<a id="72" class="Keyword">open</a> <a id="77" class="Keyword">import</a> <a id="84" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="99" class="Keyword">hiding</a> <a id="106" class="Symbol">(</a><a id="107" href="Data.Nat.Base.html#9190" class="Function">compare</a><a id="114" class="Symbol">;</a> <a id="116" href="Axiom.Set.Rel.html#1312" class="Function">Rel</a><a id="119" class="Symbol">)</a>

<a id="122" class="Keyword">open</a> <a id="127" class="Keyword">import</a> <a id="134" href="Agda.Builtin.FromNat.html" class="Module">Agda.Builtin.FromNat</a>
<a id="155" class="Keyword">open</a> <a id="160" class="Keyword">import</a> <a id="167" href="Algebra.html" class="Module">Algebra</a> <a id="175" class="Keyword">using</a> <a id="181" class="Symbol">(</a><a id="182" href="Algebra.Bundles.html#18455" class="Record">Semiring</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="220" class="Keyword">open</a> <a id="225" class="Keyword">import</a> <a id="232" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="252" class="Keyword">using</a> <a id="258" class="Symbol">(</a><a id="259" href="Data.Nat.Properties.html#25252" class="Function">+-*-semiring</a><a id="271" class="Symbol">)</a>
<a id="273" class="Keyword">open</a> <a id="278" class="Keyword">import</a> <a id="285" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="299" class="Keyword">using</a> <a id="305" class="Symbol">(</a><a id="306" href="Data.Rational.Base.html#1421" class="Record">ℚ</a><a id="307" class="Symbol">)</a>
<a id="309" class="Keyword">import</a>      <a id="321" href="Data.Rational.html" class="Module">Data.Rational</a> <a id="335" class="Symbol">as</a> <a id="338" class="Module">ℚ</a>
<a id="340" class="Keyword">import</a>      <a id="352" href="Data.Rational.Properties.html" class="Module">Data.Rational.Properties</a> <a id="377" class="Symbol">as</a> <a id="380" class="Module">ℚ</a>

<a id="additionVia"></a><a id="383" href="Ledger.Core.Specification.Epoch.html#383" class="Function">additionVia</a> <a id="395" class="Symbol">:</a> <a id="397" class="Symbol">∀{</a><a id="399" href="Ledger.Core.Specification.Epoch.html#399" class="Bound">A</a> <a id="401" class="Symbol">:</a> <a id="403" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="406" class="Symbol">}</a> <a id="408" class="Symbol">→</a> <a id="410" class="Symbol">(</a><a id="411" href="Ledger.Core.Specification.Epoch.html#399" class="Bound">A</a> <a id="413" class="Symbol">→</a> <a id="415" href="Ledger.Core.Specification.Epoch.html#399" class="Bound">A</a><a id="416" class="Symbol">)</a> <a id="418" class="Symbol">→</a> <a id="420" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="422" class="Symbol">→</a> <a id="424" href="Ledger.Core.Specification.Epoch.html#399" class="Bound">A</a> <a id="426" class="Symbol">→</a> <a id="428" href="Ledger.Core.Specification.Epoch.html#399" class="Bound">A</a>
<a id="430" href="Ledger.Core.Specification.Epoch.html#383" class="Function">additionVia</a> <a id="442" href="Ledger.Core.Specification.Epoch.html#442" class="Bound">sucFun</a> <a id="449" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="454" href="Ledger.Core.Specification.Epoch.html#454" class="Bound">r</a> <a id="456" class="Symbol">=</a> <a id="458" href="Ledger.Core.Specification.Epoch.html#454" class="Bound">r</a>
<a id="460" href="Ledger.Core.Specification.Epoch.html#383" class="Function">additionVia</a> <a id="472" href="Ledger.Core.Specification.Epoch.html#472" class="Bound">sucFun</a> <a id="479" class="Symbol">(</a><a id="480" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="484" href="Ledger.Core.Specification.Epoch.html#484" class="Bound">l</a><a id="485" class="Symbol">)</a> <a id="487" href="Ledger.Core.Specification.Epoch.html#487" class="Bound">r</a> <a id="489" class="Symbol">=</a> <a id="491" href="Ledger.Core.Specification.Epoch.html#472" class="Bound">sucFun</a> <a id="498" class="Symbol">(</a><a id="499" href="Ledger.Core.Specification.Epoch.html#383" class="Function">additionVia</a> <a id="511" href="Ledger.Core.Specification.Epoch.html#472" class="Bound">sucFun</a> <a id="518" href="Ledger.Core.Specification.Epoch.html#484" class="Bound">l</a> <a id="520" href="Ledger.Core.Specification.Epoch.html#487" class="Bound">r</a><a id="521" class="Symbol">)</a>

<a id="524" class="Keyword">record</a> <a id="EpochStructure"></a><a id="531" href="Ledger.Core.Specification.Epoch.html#531" class="Record">EpochStructure</a> <a id="546" class="Symbol">:</a> <a id="548" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="554" class="Keyword">where</a>
  <a id="562" class="Keyword">field</a> <a id="EpochStructure.Slotʳ"></a><a id="568" href="Ledger.Core.Specification.Epoch.html#568" class="Field">Slotʳ</a> <a id="574" class="Symbol">:</a> <a id="576" href="Algebra.Bundles.html#18455" class="Record">Semiring</a> <a id="585" href="Level.html#521" class="Function">0ℓ</a> <a id="588" href="Level.html#521" class="Function">0ℓ</a>
        <a id="EpochStructure.Epoch"></a><a id="599" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a> <a id="605" class="Symbol">:</a> <a id="607" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="611" class="Symbol">;</a> <a id="613" class="Symbol">⦃</a> <a id="EpochStructure.DecEq-Epoch"></a><a id="615" href="Ledger.Core.Specification.Epoch.html#615" class="Field">DecEq-Epoch</a> <a id="627" class="Symbol">⦄</a> <a id="629" class="Symbol">:</a> <a id="631" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="637" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a><a id="642" class="Symbol">;</a> <a id="644" class="Symbol">⦃</a> <a id="EpochStructure.Show-Epoch"></a><a id="646" href="Ledger.Core.Specification.Epoch.html#646" class="Field">Show-Epoch</a> <a id="657" class="Symbol">⦄</a> <a id="659" class="Symbol">:</a> <a id="661" href="Class.Show.Core.html#125" class="Record">Show</a> <a id="666" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a>

  <a id="EpochStructure.Slot"></a><a id="675" href="Ledger.Core.Specification.Epoch.html#675" class="Function">Slot</a> <a id="680" class="Symbol">=</a> <a id="682" href="Algebra.Bundles.html#18551" class="Field">Semiring.Carrier</a> <a id="699" href="Ledger.Core.Specification.Epoch.html#568" class="Field">Slotʳ</a>

  <a id="708" class="Keyword">field</a> <a id="714" class="Symbol">⦃</a> <a id="EpochStructure.DecPo-Slot"></a><a id="716" href="Ledger.Core.Specification.Epoch.html#716" class="Field">DecPo-Slot</a> <a id="727" class="Symbol">⦄</a>   <a id="731" class="Symbol">:</a> <a id="733" href="Class.HasOrder.Core.html#3921" class="Function">HasDecPartialOrder≡</a> <a id="753" class="Symbol">{</a><a id="754" class="Argument">A</a> <a id="756" class="Symbol">=</a> <a id="758" href="Ledger.Core.Specification.Epoch.html#675" class="Function">Slot</a><a id="762" class="Symbol">}</a>
        <a id="772" class="Symbol">⦃</a> <a id="EpochStructure.DecEq-Slot"></a><a id="774" href="Ledger.Core.Specification.Epoch.html#774" class="Field">DecEq-Slot</a> <a id="785" class="Symbol">⦄</a>   <a id="789" class="Symbol">:</a> <a id="791" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="797" href="Ledger.Core.Specification.Epoch.html#675" class="Function">Slot</a>

        <a id="EpochStructure.epoch"></a><a id="811" href="Ledger.Core.Specification.Epoch.html#811" class="Field">epoch</a>                         <a id="841" class="Symbol">:</a> <a id="843" href="Ledger.Core.Specification.Epoch.html#675" class="Function">Slot</a> <a id="848" class="Symbol">→</a> <a id="850" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a>
        <a id="EpochStructure.firstSlot"></a><a id="864" href="Ledger.Core.Specification.Epoch.html#864" class="Field">firstSlot</a>                     <a id="894" class="Symbol">:</a> <a id="896" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a> <a id="902" class="Symbol">→</a> <a id="904" href="Ledger.Core.Specification.Epoch.html#675" class="Function">Slot</a>
        <a id="EpochStructure.RandomnessStabilisationWindow"></a><a id="917" href="Ledger.Core.Specification.Epoch.html#917" class="Field">RandomnessStabilisationWindow</a> <a id="947" class="Symbol">:</a> <a id="949" href="Ledger.Core.Specification.Epoch.html#675" class="Function">Slot</a>
        <a id="EpochStructure.StabilityWindow"></a><a id="962" href="Ledger.Core.Specification.Epoch.html#962" class="Field">StabilityWindow</a>               <a id="992" class="Symbol">:</a> <a id="994" href="Ledger.Core.Specification.Epoch.html#675" class="Function">Slot</a>
        <a id="EpochStructure.sucᵉ"></a><a id="1007" href="Ledger.Core.Specification.Epoch.html#1007" class="Field">sucᵉ</a>                          <a id="1037" class="Symbol">:</a> <a id="1039" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a> <a id="1045" class="Symbol">→</a> <a id="1047" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a>

  <a id="EpochStructure._+ᵉ_"></a><a id="1056" href="Ledger.Core.Specification.Epoch.html#1056" class="Function Operator">_+ᵉ_</a> <a id="1061" class="Symbol">=</a> <a id="1063" href="Ledger.Core.Specification.Epoch.html#383" class="Function">additionVia</a> <a id="1075" href="Ledger.Core.Specification.Epoch.html#1007" class="Field">sucᵉ</a>

  <a id="1083" class="Keyword">field</a>
        <a id="EpochStructure._+ᵉ&#39;_"></a><a id="1097" href="Ledger.Core.Specification.Epoch.html#1097" class="Field Operator">_+ᵉ&#39;_</a>           <a id="1113" class="Symbol">:</a> <a id="1115" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1117" class="Symbol">→</a> <a id="1119" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a> <a id="1125" class="Symbol">→</a> <a id="1127" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a>
        <a id="EpochStructure.+ᵉ≡+ᵉ&#39;"></a><a id="1141" href="Ledger.Core.Specification.Epoch.html#1141" class="Field">+ᵉ≡+ᵉ&#39;</a>          <a id="1157" class="Symbol">:</a> <a id="1159" class="Symbol">∀</a> <a id="1161" class="Symbol">{</a><a id="1162" href="Ledger.Core.Specification.Epoch.html#1162" class="Bound">a</a> <a id="1164" href="Ledger.Core.Specification.Epoch.html#1164" class="Bound">b</a><a id="1165" class="Symbol">}</a> <a id="1167" class="Symbol">→</a> <a id="1169" href="Ledger.Core.Specification.Epoch.html#1162" class="Bound">a</a> <a id="1171" href="Ledger.Core.Specification.Epoch.html#1056" class="Function Operator">+ᵉ</a> <a id="1174" href="Ledger.Core.Specification.Epoch.html#1164" class="Bound">b</a> <a id="1176" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1178" href="Ledger.Core.Specification.Epoch.html#1162" class="Bound">a</a> <a id="1180" href="Ledger.Core.Specification.Epoch.html#1097" class="Field Operator">+ᵉ&#39;</a> <a id="1184" href="Ledger.Core.Specification.Epoch.html#1164" class="Bound">b</a>

  <a id="1189" class="Comment">-- preorders and partial orders</a>

  <a id="1224" class="Keyword">instance</a>
    <a id="EpochStructure.preoEpoch"></a><a id="1237" href="Ledger.Core.Specification.Epoch.html#1237" class="Function">preoEpoch</a> <a id="1247" class="Symbol">:</a> <a id="1249" href="Class.HasOrder.Core.html#536" class="Record">HasPreorder</a>
    <a id="1265" href="Ledger.Core.Specification.Epoch.html#1237" class="Function">preoEpoch</a> <a id="1275" class="Symbol">=</a> <a id="1277" href="Class.HasOrder.Core.html#5455" class="Function">hasPreorderFromStrictPartialOrder</a> <a id="1311" class="Symbol">{</a><a id="1312" class="Argument">_&lt;_</a> <a id="1316" class="Symbol">=</a> <a id="1318" href="Class.HasOrder.Core.html#646" class="Field Operator">_&lt;_</a> <a id="1322" href="Function.Base.html#6228" class="Function Operator">on</a> <a id="1325" href="Ledger.Core.Specification.Epoch.html#864" class="Field">firstSlot</a><a id="1334" class="Symbol">}</a>
      <a id="1342" class="Keyword">record</a>
        <a id="1357" class="Symbol">{</a> <a id="1359" href="Relation.Binary.Structures.html#4842" class="Field">isEquivalence</a> <a id="1373" class="Symbol">=</a> <a id="1375" href="Relation.Binary.PropositionalEquality.Properties.html#5530" class="Function">isEquivalence</a>
        <a id="1397" class="Symbol">;</a> <a id="1399" href="Relation.Binary.Structures.html#4876" class="Field">irrefl</a> <a id="1406" class="Symbol">=</a> <a id="1408" class="Symbol">λ</a> <a id="1410" class="Keyword">where</a> <a id="1416" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1421" class="Symbol">→</a> <a id="1423" href="Class.HasOrder.Core.html#722" class="Field">&lt;-irrefl</a> <a id="1432" class="Symbol">{</a><a id="1433" class="Argument">A</a> <a id="1435" class="Symbol">=</a> <a id="1437" href="Ledger.Core.Specification.Epoch.html#675" class="Function">Slot</a><a id="1441" class="Symbol">}</a> <a id="1443" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="1456" class="Symbol">;</a> <a id="1458" href="Relation.Binary.Structures.html#4916" class="Field">trans</a>  <a id="1465" class="Symbol">=</a> <a id="1467" href="Class.HasOrder.Core.html#2224" class="Function">&lt;-trans</a> <a id="1475" class="Symbol">{</a><a id="1476" class="Argument">A</a> <a id="1478" class="Symbol">=</a> <a id="1480" href="Ledger.Core.Specification.Epoch.html#675" class="Function">Slot</a><a id="1484" class="Symbol">}</a>
        <a id="1494" class="Symbol">;</a> <a id="1496" href="Relation.Binary.Structures.html#4951" class="Field">&lt;-resp-≈</a> <a id="1505" class="Symbol">=</a> <a id="1507" class="Symbol">(λ</a> <a id="1510" class="Keyword">where</a> <a id="1516" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1521" class="Symbol">→</a> <a id="1523" href="Function.Base.html#704" class="Function">id</a><a id="1525" class="Symbol">)</a> <a id="1527" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1529" class="Symbol">(λ</a> <a id="1532" class="Keyword">where</a> <a id="1538" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1543" class="Symbol">→</a> <a id="1545" href="Function.Base.html#704" class="Function">id</a><a id="1547" class="Symbol">)</a>
        <a id="1557" class="Symbol">}</a>

  <a id="1562" href="Ledger.Core.Specification.Epoch.html#1562" class="Function">_</a> <a id="1564" class="Symbol">=</a> <a id="1566" href="Class.HasOrder.Core.html#646" class="Field Operator">_&lt;_</a> <a id="1570" class="Symbol">{</a><a id="1571" class="Argument">A</a> <a id="1573" class="Symbol">=</a> <a id="1575" href="Ledger.Core.Specification.Epoch.html#675" class="Function">Slot</a><a id="1579" class="Symbol">}</a>  <a id="1582" href="Class.Decidable.Core.html#590" class="Function Operator">⁇²</a> <a id="1585" href="Function.Base.html#4505" class="Function Operator">∋</a> <a id="1587" href="Function.Base.html#4755" class="Function">it</a>
  <a id="1592" href="Ledger.Core.Specification.Epoch.html#1592" class="Function">_</a> <a id="1594" class="Symbol">=</a> <a id="1596" href="Class.HasOrder.Core.html#613" class="Field Operator">_≤_</a> <a id="1600" class="Symbol">{</a><a id="1601" class="Argument">A</a> <a id="1603" class="Symbol">=</a> <a id="1605" href="Ledger.Core.Specification.Epoch.html#675" class="Function">Slot</a><a id="1609" class="Symbol">}</a>  <a id="1612" href="Class.Decidable.Core.html#590" class="Function Operator">⁇²</a> <a id="1615" href="Function.Base.html#4505" class="Function Operator">∋</a> <a id="1617" href="Function.Base.html#4755" class="Function">it</a>
  <a id="1622" href="Ledger.Core.Specification.Epoch.html#1622" class="Function">_</a> <a id="1624" class="Symbol">=</a> <a id="1626" href="Class.HasOrder.Core.html#646" class="Field Operator">_&lt;_</a> <a id="1630" class="Symbol">{</a><a id="1631" class="Argument">A</a> <a id="1633" class="Symbol">=</a> <a id="1635" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a><a id="1640" class="Symbol">}</a> <a id="1642" href="Class.Decidable.Core.html#590" class="Function Operator">⁇²</a> <a id="1645" href="Function.Base.html#4505" class="Function Operator">∋</a> <a id="1647" href="Function.Base.html#4755" class="Function">it</a>
  <a id="1652" href="Ledger.Core.Specification.Epoch.html#1652" class="Function">_</a> <a id="1654" class="Symbol">=</a> <a id="1656" href="Class.HasOrder.Core.html#613" class="Field Operator">_≤_</a> <a id="1660" class="Symbol">{</a><a id="1661" class="Argument">A</a> <a id="1663" class="Symbol">=</a> <a id="1665" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a><a id="1670" class="Symbol">}</a> <a id="1672" href="Class.Decidable.Core.html#590" class="Function Operator">⁇²</a> <a id="1675" href="Function.Base.html#4505" class="Function Operator">∋</a> <a id="1677" href="Function.Base.html#4755" class="Function">it</a>

  <a id="1683" class="Comment">-- addition</a>

  <a id="1698" class="Keyword">open</a> <a id="1703" href="Algebra.Bundles.html#18455" class="Module">Semiring</a> <a id="1712" href="Ledger.Core.Specification.Epoch.html#568" class="Field">Slotʳ</a> <a id="1718" class="Keyword">renaming</a> <a id="1727" class="Symbol">(</a><a id="1728" href="Algebra.Bundles.html#18605" class="Field Operator">_+_</a> <a id="1732" class="Symbol">to</a> <a id="1735" class="Field Operator">_+ˢ_</a><a id="1739" class="Symbol">)</a>

  <a id="EpochStructure.ℕtoEpoch"></a><a id="1744" href="Ledger.Core.Specification.Epoch.html#1744" class="Function">ℕtoEpoch</a> <a id="1753" class="Symbol">:</a> <a id="1755" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1757" class="Symbol">→</a> <a id="1759" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a>
  <a id="1767" href="Ledger.Core.Specification.Epoch.html#1744" class="Function">ℕtoEpoch</a> <a id="1776" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="1784" class="Symbol">=</a> <a id="1786" href="Ledger.Core.Specification.Epoch.html#811" class="Field">epoch</a> <a id="1792" href="Algebra.Bundles.html#18663" class="Function">0#</a>
  <a id="1797" href="Ledger.Core.Specification.Epoch.html#1744" class="Function">ℕtoEpoch</a> <a id="1806" class="Symbol">(</a><a id="1807" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1811" href="Ledger.Core.Specification.Epoch.html#1811" class="Bound">n</a><a id="1812" class="Symbol">)</a> <a id="1814" class="Symbol">=</a> <a id="1816" href="Ledger.Core.Specification.Epoch.html#1007" class="Field">sucᵉ</a> <a id="1821" class="Symbol">(</a><a id="1822" href="Ledger.Core.Specification.Epoch.html#1744" class="Function">ℕtoEpoch</a> <a id="1831" href="Ledger.Core.Specification.Epoch.html#1811" class="Bound">n</a><a id="1832" class="Symbol">)</a>

  <a id="1837" class="Keyword">instance</a>
    <a id="EpochStructure.addSlot"></a><a id="1850" href="Ledger.Core.Specification.Epoch.html#1850" class="Function">addSlot</a> <a id="1858" class="Symbol">:</a> <a id="1860" href="Class.HasAdd.Core.html#104" class="Record">HasAdd</a> <a id="1867" href="Ledger.Core.Specification.Epoch.html#675" class="Function">Slot</a>
    <a id="1876" href="Ledger.Core.Specification.Epoch.html#1850" class="Function">addSlot</a> <a id="1884" class="Symbol">.</a><a id="1885" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="1889" class="Symbol">=</a> <a id="1891" href="Ledger.Core.Specification.Epoch.html#1735" class="Function Operator">_+ˢ_</a>

    <a id="EpochStructure.addEpoch"></a><a id="1901" href="Ledger.Core.Specification.Epoch.html#1901" class="Function">addEpoch</a> <a id="1910" class="Symbol">:</a> <a id="1912" href="Class.HasAdd.Core.html#104" class="Record">HasAdd</a> <a id="1919" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a>
    <a id="1929" href="Ledger.Core.Specification.Epoch.html#1901" class="Function">addEpoch</a> <a id="1938" class="Symbol">.</a><a id="1939" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="1943" href="Ledger.Core.Specification.Epoch.html#1943" class="Bound">e</a> <a id="1945" href="Ledger.Core.Specification.Epoch.html#1945" class="Bound">e&#39;</a> <a id="1948" class="Symbol">=</a> <a id="1950" href="Ledger.Core.Specification.Epoch.html#811" class="Field">epoch</a> <a id="1956" class="Symbol">(</a><a id="1957" href="Ledger.Core.Specification.Epoch.html#864" class="Field">firstSlot</a> <a id="1967" href="Ledger.Core.Specification.Epoch.html#1943" class="Bound">e</a> <a id="1969" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="1971" href="Ledger.Core.Specification.Epoch.html#864" class="Field">firstSlot</a> <a id="1981" href="Ledger.Core.Specification.Epoch.html#1945" class="Bound">e&#39;</a><a id="1983" class="Symbol">)</a>

    <a id="EpochStructure.Number-Epoch"></a><a id="1990" href="Ledger.Core.Specification.Epoch.html#1990" class="Function">Number-Epoch</a> <a id="2003" class="Symbol">:</a> <a id="2005" href="Agda.Builtin.FromNat.html#196" class="Record">Number</a> <a id="2012" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a>
    <a id="2022" href="Ledger.Core.Specification.Epoch.html#1990" class="Function">Number-Epoch</a> <a id="2035" class="Symbol">.</a><a id="2036" href="Agda.Builtin.FromNat.html#252" class="Field">Number.Constraint</a> <a id="2054" class="Symbol">_</a> <a id="2056" class="Symbol">=</a> <a id="2058" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="2064" href="Ledger.Core.Specification.Epoch.html#1990" class="Function">Number-Epoch</a> <a id="2077" class="Symbol">.</a><a id="2078" href="Agda.Builtin.FromNat.html#281" class="Field">Number.fromNat</a>    <a id="2096" href="Ledger.Core.Specification.Epoch.html#2096" class="Bound">x</a> <a id="2098" class="Symbol">=</a> <a id="2100" href="Ledger.Core.Specification.Epoch.html#1744" class="Function">ℕtoEpoch</a> <a id="2109" href="Ledger.Core.Specification.Epoch.html#2096" class="Bound">x</a>

<a id="2112" class="Keyword">record</a> <a id="GlobalConstants"></a><a id="2119" href="Ledger.Core.Specification.Epoch.html#2119" class="Record">GlobalConstants</a> <a id="2135" class="Symbol">:</a> <a id="2137" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="2143" class="Keyword">where</a>
  <a id="2151" class="Keyword">field</a>  <a id="GlobalConstants.Network"></a><a id="2158" href="Ledger.Core.Specification.Epoch.html#2158" class="Field">Network</a> <a id="2166" class="Symbol">:</a> <a id="2168" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="2172" class="Symbol">;</a> <a id="2174" class="Symbol">⦃</a> <a id="GlobalConstants.DecEq-Netw"></a><a id="2176" href="Ledger.Core.Specification.Epoch.html#2176" class="Field">DecEq-Netw</a> <a id="2187" class="Symbol">⦄</a> <a id="2189" class="Symbol">:</a> <a id="2191" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="2197" href="Ledger.Core.Specification.Epoch.html#2158" class="Field">Network</a><a id="2204" class="Symbol">;</a> <a id="2206" class="Symbol">⦃</a> <a id="GlobalConstants.Show-Network"></a><a id="2208" href="Ledger.Core.Specification.Epoch.html#2208" class="Field">Show-Network</a> <a id="2221" class="Symbol">⦄</a> <a id="2223" class="Symbol">:</a> <a id="2225" href="Class.Show.Core.html#125" class="Record">Show</a> <a id="2230" href="Ledger.Core.Specification.Epoch.html#2158" class="Field">Network</a>
         <a id="GlobalConstants.SlotsPerEpochᶜ"></a><a id="2247" href="Ledger.Core.Specification.Epoch.html#2247" class="Field">SlotsPerEpochᶜ</a>   <a id="2264" class="Symbol">:</a> <a id="2266" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2267" class="Symbol">;</a> <a id="2269" class="Symbol">⦃</a> <a id="GlobalConstants.NonZero-SlotsPerEpochᶜ"></a><a id="2271" href="Ledger.Core.Specification.Epoch.html#2271" class="Field">NonZero-SlotsPerEpochᶜ</a> <a id="2294" class="Symbol">⦄</a> <a id="2296" class="Symbol">:</a> <a id="2298" href="Data.Nat.Base.html#3266" class="Record">NonZero</a> <a id="2306" href="Ledger.Core.Specification.Epoch.html#2247" class="Field">SlotsPerEpochᶜ</a>
         <a id="GlobalConstants.ActiveSlotCoeff"></a><a id="2330" href="Ledger.Core.Specification.Epoch.html#2330" class="Field">ActiveSlotCoeff</a>  <a id="2347" class="Symbol">:</a> <a id="2349" href="Data.Rational.Base.html#1421" class="Record">ℚ</a><a id="2350" class="Symbol">;</a> <a id="2352" class="Symbol">⦃</a> <a id="GlobalConstants.Positive-ActiveSlotCoeff"></a><a id="2354" href="Ledger.Core.Specification.Epoch.html#2354" class="Field">Positive-ActiveSlotCoeff</a> <a id="2379" class="Symbol">⦄</a> <a id="2381" class="Symbol">:</a> <a id="2383" href="Data.Rational.Base.html#4630" class="Function">ℚ.Positive</a> <a id="2394" href="Ledger.Core.Specification.Epoch.html#2330" class="Field">ActiveSlotCoeff</a>
         <a id="GlobalConstants.RandomnessStabilisationWindowᶜ"></a><a id="2419" href="Ledger.Core.Specification.Epoch.html#2419" class="Field">RandomnessStabilisationWindowᶜ</a> <a id="2450" class="Symbol">:</a> <a id="2452" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
         <a id="GlobalConstants.StabilityWindowᶜ"></a><a id="2463" href="Ledger.Core.Specification.Epoch.html#2463" class="Field">StabilityWindowᶜ</a> <a id="2480" class="Symbol">:</a> <a id="2482" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
         <a id="GlobalConstants.MaxLovelaceSupplyᶜ"></a><a id="2493" href="Ledger.Core.Specification.Epoch.html#2493" class="Field">MaxLovelaceSupplyᶜ</a> <a id="2512" class="Symbol">:</a> <a id="2514" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
         <a id="GlobalConstants.Quorum"></a><a id="2528" href="Ledger.Core.Specification.Epoch.html#2528" class="Field">Quorum</a> <a id="2535" class="Symbol">:</a> <a id="2537" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
         <a id="GlobalConstants.NetworkId"></a><a id="2548" href="Ledger.Core.Specification.Epoch.html#2548" class="Field">NetworkId</a> <a id="2558" class="Symbol">:</a> <a id="2560" href="Ledger.Core.Specification.Epoch.html#2158" class="Field">Network</a>

  <a id="2571" class="Keyword">instance</a>
    <a id="GlobalConstants.NonZero-ActiveSlotCoeff"></a><a id="2584" href="Ledger.Core.Specification.Epoch.html#2584" class="Function">NonZero-ActiveSlotCoeff</a> <a id="2608" class="Symbol">:</a> <a id="2610" href="Data.Rational.Base.html#4577" class="Function">ℚ.NonZero</a> <a id="2620" href="Ledger.Core.Specification.Epoch.html#2330" class="Field">ActiveSlotCoeff</a>
    <a id="2640" href="Ledger.Core.Specification.Epoch.html#2584" class="Function">NonZero-ActiveSlotCoeff</a> <a id="2664" class="Symbol">=</a> <a id="2666" href="Data.Rational.Base.html#5293" class="Function">ℚ.&gt;-nonZero</a> <a id="2678" class="Symbol">(</a><a id="2679" href="Data.Rational.Properties.html#26962" class="Function">ℚ.positive⁻¹</a> <a id="2692" href="Ledger.Core.Specification.Epoch.html#2330" class="Field">ActiveSlotCoeff</a><a id="2707" class="Symbol">)</a>

  <a id="GlobalConstants.ℕ+ᵉ≡+ᵉ&#39;"></a><a id="2712" href="Ledger.Core.Specification.Epoch.html#2712" class="Function">ℕ+ᵉ≡+ᵉ&#39;</a> <a id="2720" class="Symbol">:</a> <a id="2722" class="Symbol">∀</a> <a id="2724" class="Symbol">{</a><a id="2725" href="Ledger.Core.Specification.Epoch.html#2725" class="Bound">a</a> <a id="2727" href="Ledger.Core.Specification.Epoch.html#2727" class="Bound">b</a><a id="2728" class="Symbol">}</a> <a id="2730" class="Symbol">→</a> <a id="2732" href="Ledger.Core.Specification.Epoch.html#383" class="Function">additionVia</a> <a id="2744" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2748" href="Ledger.Core.Specification.Epoch.html#2725" class="Bound">a</a> <a id="2750" href="Ledger.Core.Specification.Epoch.html#2727" class="Bound">b</a> <a id="2752" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2754" href="Ledger.Core.Specification.Epoch.html#2725" class="Bound">a</a> <a id="2756" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2758" href="Ledger.Core.Specification.Epoch.html#2727" class="Bound">b</a>
  <a id="2762" href="Ledger.Core.Specification.Epoch.html#2712" class="Function">ℕ+ᵉ≡+ᵉ&#39;</a> <a id="2770" class="Symbol">{</a><a id="2771" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="2775" class="Symbol">}</a> <a id="2777" class="Symbol">{</a><a id="2778" href="Ledger.Core.Specification.Epoch.html#2778" class="Bound">b</a><a id="2779" class="Symbol">}</a> <a id="2781" class="Symbol">=</a> <a id="2783" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="2790" href="Ledger.Core.Specification.Epoch.html#2712" class="Function">ℕ+ᵉ≡+ᵉ&#39;</a> <a id="2798" class="Symbol">{</a><a id="2799" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2803" href="Ledger.Core.Specification.Epoch.html#2803" class="Bound">a</a><a id="2804" class="Symbol">}</a> <a id="2806" class="Symbol">{</a><a id="2807" href="Ledger.Core.Specification.Epoch.html#2807" class="Bound">b</a><a id="2808" class="Symbol">}</a> <a id="2810" class="Symbol">=</a> <a id="2812" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="2817" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2821" class="Symbol">(</a><a id="2822" href="Ledger.Core.Specification.Epoch.html#2712" class="Function">ℕ+ᵉ≡+ᵉ&#39;</a> <a id="2830" class="Symbol">{</a><a id="2831" href="Ledger.Core.Specification.Epoch.html#2803" class="Bound">a</a><a id="2832" class="Symbol">}</a> <a id="2834" class="Symbol">{</a><a id="2835" href="Ledger.Core.Specification.Epoch.html#2807" class="Bound">b</a><a id="2836" class="Symbol">})</a>

  <a id="GlobalConstants.ℕEpochStructure"></a><a id="2842" href="Ledger.Core.Specification.Epoch.html#2842" class="Function">ℕEpochStructure</a> <a id="2858" class="Symbol">:</a> <a id="2860" href="Ledger.Core.Specification.Epoch.html#531" class="Record">EpochStructure</a>
  <a id="2877" href="Ledger.Core.Specification.Epoch.html#2842" class="Function">ℕEpochStructure</a> <a id="2893" class="Symbol">=</a> <a id="2895" class="Symbol">λ</a> <a id="2897" class="Keyword">where</a>
    <a id="2907" class="Symbol">.</a><a id="2908" href="Ledger.Core.Specification.Epoch.html#568" class="Field">Slotʳ</a>                         <a id="2938" class="Symbol">→</a> <a id="2940" href="Data.Nat.Properties.html#25252" class="Function">+-*-semiring</a>
    <a id="2957" class="Symbol">.</a><a id="2958" href="Ledger.Core.Specification.Epoch.html#599" class="Field">Epoch</a>                         <a id="2988" class="Symbol">→</a> <a id="2990" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="2996" class="Symbol">.</a><a id="2997" href="Ledger.Core.Specification.Epoch.html#811" class="Field">epoch</a> <a id="3003" href="Ledger.Core.Specification.Epoch.html#3003" class="Bound">slot</a>                    <a id="3027" class="Symbol">→</a> <a id="3029" href="Ledger.Core.Specification.Epoch.html#3003" class="Bound">slot</a> <a id="3034" href="Data.Nat.Base.html#7102" class="Function Operator">/</a> <a id="3036" href="Ledger.Core.Specification.Epoch.html#2247" class="Field">SlotsPerEpochᶜ</a>
    <a id="3055" class="Symbol">.</a><a id="3056" href="Ledger.Core.Specification.Epoch.html#864" class="Field">firstSlot</a> <a id="3066" href="Ledger.Core.Specification.Epoch.html#3066" class="Bound">e</a>                   <a id="3086" class="Symbol">→</a> <a id="3088" href="Ledger.Core.Specification.Epoch.html#3066" class="Bound">e</a> <a id="3090" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3092" href="Ledger.Core.Specification.Epoch.html#2247" class="Field">SlotsPerEpochᶜ</a>
    <a id="3111" class="Symbol">.</a><a id="3112" href="Ledger.Core.Specification.Epoch.html#917" class="Field">RandomnessStabilisationWindow</a> <a id="3142" class="Symbol">→</a> <a id="3144" href="Ledger.Core.Specification.Epoch.html#2419" class="Field">RandomnessStabilisationWindowᶜ</a>
    <a id="3179" class="Symbol">.</a><a id="3180" href="Ledger.Core.Specification.Epoch.html#962" class="Field">StabilityWindow</a>               <a id="3210" class="Symbol">→</a> <a id="3212" href="Ledger.Core.Specification.Epoch.html#2463" class="Field">StabilityWindowᶜ</a>
    <a id="3233" class="Symbol">.</a><a id="3234" href="Ledger.Core.Specification.Epoch.html#1007" class="Field">sucᵉ</a>                          <a id="3264" class="Symbol">→</a> <a id="3266" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a>
    <a id="3274" class="Symbol">.</a><a id="3275" href="Ledger.Core.Specification.Epoch.html#1097" class="Field Operator">_+ᵉ&#39;_</a>                         <a id="3305" class="Symbol">→</a> <a id="3307" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a>
    <a id="3315" class="Symbol">.</a><a id="3316" href="Ledger.Core.Specification.Epoch.html#1141" class="Field">+ᵉ≡+ᵉ&#39;</a> <a id="3323" class="Symbol">{</a><a id="3324" href="Ledger.Core.Specification.Epoch.html#3324" class="Bound">a</a><a id="3325" class="Symbol">}</a> <a id="3327" class="Symbol">{</a><a id="3328" href="Ledger.Core.Specification.Epoch.html#3328" class="Bound">b</a><a id="3329" class="Symbol">}</a>                <a id="3346" class="Symbol">→</a> <a id="3348" href="Ledger.Core.Specification.Epoch.html#2712" class="Function">ℕ+ᵉ≡+ᵉ&#39;</a> <a id="3356" class="Symbol">{</a><a id="3357" href="Ledger.Core.Specification.Epoch.html#3324" class="Bound">a</a><a id="3358" class="Symbol">}</a> <a id="3360" class="Symbol">{</a><a id="3361" href="Ledger.Core.Specification.Epoch.html#3328" class="Bound">b</a><a id="3362" class="Symbol">}</a>

   <a id="3368" class="Keyword">where</a> <a id="3374" class="Keyword">open</a> <a id="3379" href="Ledger.Core.Specification.Epoch.html#531" class="Module">EpochStructure</a>

<a id="3395" class="Keyword">open</a> <a id="3400" href="Ledger.Core.Specification.Epoch.html#2119" class="Module">GlobalConstants</a> <a id="3416" class="Keyword">using</a> <a id="3422" class="Symbol">(</a><a id="3423" href="Ledger.Core.Specification.Epoch.html#2842" class="Function">ℕEpochStructure</a><a id="3438" class="Symbol">)</a> <a id="3440" class="Keyword">public</a>

</pre></body></html>