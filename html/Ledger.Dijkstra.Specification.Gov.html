<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Dijkstra.Specification.Gov</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Dijkstra.Specification.Gov.Base.html" class="Module">Ledger.Dijkstra.Specification.Gov.Base</a>

<a id="78" class="Keyword">module</a> <a id="85" href="Ledger.Dijkstra.Specification.Gov.html" class="Module">Ledger.Dijkstra.Specification.Gov</a> <a id="119" class="Symbol">(</a><a id="120" href="Ledger.Dijkstra.Specification.Gov.html#120" class="Bound">govStructure</a> <a id="133" class="Symbol">:</a> <a id="135" href="Ledger.Dijkstra.Specification.Gov.Base.html#332" class="Record">GovStructure</a><a id="147" class="Symbol">)</a> <a id="149" class="Keyword">where</a>

<a id="156" class="Keyword">open</a> <a id="161" class="Keyword">import</a> <a id="168" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="183" class="Keyword">hiding</a> <a id="190" class="Symbol">(</a><a id="191" href="Axiom.Set.html#11162" class="Function">any?</a><a id="195" class="Symbol">;</a> <a id="197" href="Axiom.Set.html#9978" class="Function">Any</a><a id="200" class="Symbol">;</a> <a id="202" href="Axiom.Set.html#11088" class="Function">all?</a><a id="206" class="Symbol">;</a> <a id="208" href="Axiom.Set.html#9909" class="Function">All</a><a id="211" class="Symbol">;</a> <a id="213" href="Axiom.Set.Rel.html#1312" class="Function">Rel</a><a id="216" class="Symbol">;</a> <a id="218" href="Data.List.Base.html#6263" class="Function">lookup</a><a id="224" class="Symbol">;</a> <a id="226" href="Axiom.Set.html#5784" class="Function">∈-filter</a><a id="234" class="Symbol">)</a>

<a id="237" class="Keyword">open</a> <a id="242" class="Keyword">import</a> <a id="249" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="270" href="Axiom.Set.html#10936" class="Function">th</a> <a id="273" class="Keyword">using</a> <a id="279" class="Symbol">(</a><a id="280" href="Axiom.Set.Properties.html#17410" class="Function">∃-sublist-⇔</a><a id="291" class="Symbol">)</a>

<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a> <a id="348" href="Ledger.Dijkstra.Specification.Gov.html#120" class="Bound">govStructure</a> <a id="361" class="Keyword">hiding</a> <a id="368" class="Symbol">(</a><a id="369" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1511" class="InductiveConstructor">yes</a><a id="372" class="Symbol">;</a> <a id="374" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1515" class="InductiveConstructor">no</a><a id="376" class="Symbol">)</a>
<a id="378" class="Keyword">open</a> <a id="383" class="Keyword">import</a> <a id="390" href="Ledger.Dijkstra.Specification.Enact.html" class="Module">Ledger.Dijkstra.Specification.Enact</a> <a id="426" href="Ledger.Dijkstra.Specification.Gov.html#120" class="Bound">govStructure</a>
<a id="439" class="Keyword">open</a> <a id="444" class="Keyword">import</a> <a id="451" href="Ledger.Dijkstra.Specification.Ratify.html" class="Module">Ledger.Dijkstra.Specification.Ratify</a> <a id="488" href="Ledger.Dijkstra.Specification.Gov.html#120" class="Bound">govStructure</a>
<a id="501" class="Keyword">open</a> <a id="506" class="Keyword">import</a> <a id="513" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a> <a id="549" href="Ledger.Dijkstra.Specification.Gov.html#120" class="Bound">govStructure</a>

<a id="563" class="Keyword">open</a> <a id="568" class="Keyword">import</a> <a id="575" href="stdlib.Data.List.Subpermutations.html" class="Module">stdlib.Data.List.Subpermutations</a> <a id="608" class="Keyword">using</a> <a id="614" class="Symbol">(</a><a id="615" href="stdlib.Data.List.Subpermutations.html#1349" class="Function">subpermutations</a><a id="630" class="Symbol">;</a> <a id="632" href="stdlib.Data.List.Subpermutations.html#987" class="Function">sublists</a><a id="640" class="Symbol">)</a>
<a id="642" class="Keyword">open</a> <a id="647" class="Keyword">import</a> <a id="654" href="stdlib.Data.List.Subpermutations.Properties.html" class="Module">stdlib.Data.List.Subpermutations.Properties</a>
  <a id="700" class="Keyword">using</a> <a id="706" class="Symbol">(</a><a id="707" href="stdlib.Data.List.Subpermutations.Properties.html#14428" class="Function">∃uniqueSubset⇔∃uniqueSubperm</a><a id="735" class="Symbol">;</a> <a id="737" href="stdlib.Data.List.Subpermutations.Properties.html#11807" class="Function">maxsublists⊧P</a><a id="750" class="Symbol">;</a> <a id="752" href="stdlib.Data.List.Subpermutations.Properties.html#1975" class="Function">maxlen</a><a id="758" class="Symbol">;</a> <a id="760" href="stdlib.Data.List.Subpermutations.Properties.html#11610" class="Function">sublists⊧P</a><a id="770" class="Symbol">;</a> <a id="772" href="stdlib.Data.List.Subpermutations.Properties.html#2222" class="Function">∈-maxlen-≤</a><a id="782" class="Symbol">)</a>
<a id="784" class="Keyword">open</a> <a id="789" class="Keyword">import</a> <a id="796" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a> <a id="842" class="Keyword">using</a> <a id="848" class="Symbol">(</a><a id="849" href="Data.List.Membership.Propositional.Properties.Core.html#2770" class="Function">Any↔</a><a id="853" class="Symbol">;</a> <a id="855" href="Data.List.Membership.Propositional.Properties.html#9647" class="Function">∈-filter⁻</a><a id="864" class="Symbol">;</a> <a id="866" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a><a id="875" class="Symbol">)</a>
<a id="877" class="Keyword">open</a> <a id="882" class="Keyword">import</a> <a id="889" href="Data.List.Relation.Binary.Subset.Propositional.html" class="Module">Data.List.Relation.Binary.Subset.Propositional</a> <a id="936" class="Keyword">using</a> <a id="942" class="Symbol">()</a> <a id="945" class="Keyword">renaming</a> <a id="954" class="Symbol">(</a><a id="955" href="Data.List.Relation.Binary.Subset.Setoid.html#825" class="Function Operator">_⊆_</a> <a id="959" class="Symbol">to</a> <a id="962" class="Function Operator">_⊆ˡ_</a><a id="966" class="Symbol">)</a>
<a id="968" class="Keyword">open</a> <a id="973" class="Keyword">import</a> <a id="980" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a> <a id="1009" class="Keyword">using</a> <a id="1015" class="Symbol">(</a><a id="1016" href="Data.List.Relation.Unary.All.html#6419" class="Function">all?</a><a id="1020" class="Symbol">;</a> <a id="1022" href="Data.List.Relation.Unary.All.html#1638" class="Datatype">All</a><a id="1025" class="Symbol">)</a>
<a id="1027" class="Keyword">open</a> <a id="1032" class="Keyword">import</a> <a id="1039" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a> <a id="1068" class="Keyword">using</a> <a id="1074" class="Symbol">(</a><a id="1075" href="Data.List.Relation.Unary.Any.html#2684" class="Function">any?</a><a id="1079" class="Symbol">;</a> <a id="1081" href="Data.List.Relation.Unary.Any.html#1148" class="Datatype">Any</a><a id="1084" class="Symbol">)</a>
<a id="1086" class="Keyword">open</a> <a id="1091" class="Keyword">import</a> <a id="1098" href="Data.List.Relation.Unary.Unique.DecPropositional.html" class="Module">Data.List.Relation.Unary.Unique.DecPropositional</a> <a id="1147" class="Keyword">using</a> <a id="1153" class="Symbol">(</a><a id="1154" href="Data.List.Relation.Unary.Unique.DecSetoid.html#883" class="Function">unique?</a><a id="1161" class="Symbol">)</a>
<a id="1163" class="Keyword">open</a> <a id="1168" class="Keyword">import</a> <a id="1175" href="Data.List.Relation.Unary.Unique.Propositional.html" class="Module">Data.List.Relation.Unary.Unique.Propositional</a> <a id="1221" class="Keyword">using</a> <a id="1227" class="Symbol">(</a><a id="1228" href="Data.List.Relation.Unary.Unique.Setoid.html#617" class="Datatype">Unique</a><a id="1234" class="Symbol">)</a>
<a id="1236" class="Keyword">open</a> <a id="1241" class="Keyword">import</a> <a id="1248" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="1275" class="Keyword">using</a> <a id="1281" class="Symbol">()</a> <a id="1284" class="Keyword">renaming</a> <a id="1293" class="Symbol">(</a><a id="1294" href="Relation.Nullary.Decidable.html#1250" class="Function">map</a> <a id="1298" class="Symbol">to</a> <a id="1301" class="Function">map-Dec</a><a id="1308" class="Symbol">)</a>
<a id="1310" class="Keyword">open</a> <a id="1315" class="Keyword">import</a> <a id="1322" href="Function.Properties.Equivalence.html" class="Module">Function.Properties.Equivalence</a> <a id="1354" class="Keyword">using</a> <a id="1360" class="Symbol">()</a> <a id="1363" class="Keyword">renaming</a> <a id="1372" class="Symbol">(</a><a id="1373" href="Function.Properties.Equivalence.html#1652" class="Function">sym</a> <a id="1377" class="Symbol">to</a> <a id="1380" class="Function">sym-Equiv</a><a id="1389" class="Symbol">)</a>
<a id="1391" class="Keyword">open</a> <a id="1396" class="Keyword">import</a> <a id="1403" href="Function.Related.Propositional.html" class="Module">Function.Related.Propositional</a> <a id="1434" class="Keyword">using</a> <a id="1440" class="Symbol">(</a><a id="1441" href="Function.Related.Propositional.html#2470" class="Function">↔⇒</a><a id="1443" class="Symbol">)</a>

<a id="1446" class="Keyword">open</a> <a id="1451" href="Ledger.Dijkstra.Specification.Gov.Base.html#332" class="Module">GovStructure</a> <a id="1464" href="Ledger.Dijkstra.Specification.Gov.html#120" class="Bound">govStructure</a>


<a id="1479" class="Comment">-- Governance Derived types --</a>
<a id="GovState"></a><a id="1510" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="1519" class="Symbol">:</a> <a id="1521" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1526" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="1535" class="Symbol">=</a> <a id="1537" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1542" class="Symbol">(</a><a id="1543" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="1555" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1557" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a><a id="1571" class="Symbol">)</a>

<a id="1574" class="Keyword">record</a> <a id="GovEnv"></a><a id="1581" href="Ledger.Dijkstra.Specification.Gov.html#1581" class="Record">GovEnv</a> <a id="1588" class="Symbol">:</a> <a id="1590" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1595" class="Keyword">where</a>
  <a id="1603" class="Keyword">field</a>
    <a id="GovEnv.txid"></a><a id="1613" href="Ledger.Dijkstra.Specification.Gov.html#1613" class="Field">txid</a>        <a id="1625" class="Symbol">:</a> <a id="1627" href="Ledger.Dijkstra.Specification.Gov.Base.html#367" class="Field">TxId</a>
    <a id="GovEnv.epoch"></a><a id="1636" href="Ledger.Dijkstra.Specification.Gov.html#1636" class="Field">epoch</a>       <a id="1648" class="Symbol">:</a> <a id="1650" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a>
    <a id="GovEnv.pparams"></a><a id="1660" href="Ledger.Dijkstra.Specification.Gov.html#1660" class="Field">pparams</a>     <a id="1672" class="Symbol">:</a> <a id="1674" href="Ledger.Dijkstra.Specification.PParams.html#1960" class="Record">PParams</a>
    <a id="GovEnv.ppolicy"></a><a id="1686" href="Ledger.Dijkstra.Specification.Gov.html#1686" class="Field">ppolicy</a>     <a id="1698" class="Symbol">:</a> <a id="1700" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1706" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>
    <a id="GovEnv.enactState"></a><a id="1721" href="Ledger.Dijkstra.Specification.Gov.html#1721" class="Field">enactState</a>  <a id="1733" class="Symbol">:</a> <a id="1735" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a>
    <a id="GovEnv.certState"></a><a id="1750" href="Ledger.Dijkstra.Specification.Gov.html#1750" class="Field">certState</a>   <a id="1762" class="Symbol">:</a> <a id="1764" href="Ledger.Dijkstra.Specification.Certs.html#3352" class="Record">CertState</a>
    <a id="GovEnv.rewardCreds"></a><a id="1778" href="Ledger.Dijkstra.Specification.Gov.html#1778" class="Field">rewardCreds</a> <a id="1790" class="Symbol">:</a> <a id="1792" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1794" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a>

<a id="1806" class="Comment">-- Governance Functions --</a>

<a id="1834" class="Comment">-- Assign a priority to governance actions for ordering lists of them.</a>
<a id="govActionPriority"></a><a id="1905" href="Ledger.Dijkstra.Specification.Gov.html#1905" class="Function">govActionPriority</a> <a id="1923" class="Symbol">:</a> <a id="1925" href="Ledger.Dijkstra.Specification.Gov.Actions.html#542" class="Datatype">GovActionType</a> <a id="1939" class="Symbol">→</a> <a id="1941" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="1943" href="Ledger.Dijkstra.Specification.Gov.html#1905" class="Function">govActionPriority</a> <a id="1961" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a>        <a id="1981" class="Symbol">=</a> <a id="1983" class="Number">0</a>
<a id="1985" href="Ledger.Dijkstra.Specification.Gov.html#1905" class="Function">govActionPriority</a> <a id="2003" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a>     <a id="2023" class="Symbol">=</a> <a id="2025" class="Number">1</a>
<a id="2027" href="Ledger.Dijkstra.Specification.Gov.html#1905" class="Function">govActionPriority</a> <a id="2045" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a>     <a id="2065" class="Symbol">=</a> <a id="2067" class="Number">2</a>
<a id="2069" href="Ledger.Dijkstra.Specification.Gov.html#1905" class="Function">govActionPriority</a> <a id="2087" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a>     <a id="2107" class="Symbol">=</a> <a id="2109" class="Number">3</a>
<a id="2111" href="Ledger.Dijkstra.Specification.Gov.html#1905" class="Function">govActionPriority</a> <a id="2129" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a>       <a id="2149" class="Symbol">=</a> <a id="2151" class="Number">4</a>
<a id="2153" href="Ledger.Dijkstra.Specification.Gov.html#1905" class="Function">govActionPriority</a> <a id="2171" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a>  <a id="2191" class="Symbol">=</a> <a id="2193" class="Number">5</a>
<a id="2195" href="Ledger.Dijkstra.Specification.Gov.html#1905" class="Function">govActionPriority</a> <a id="2213" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a>                <a id="2233" class="Symbol">=</a> <a id="2235" class="Number">6</a>

<a id="Overlap"></a><a id="2238" href="Ledger.Dijkstra.Specification.Gov.html#2238" class="Function">Overlap</a> <a id="2246" class="Symbol">:</a> <a id="2248" href="Ledger.Dijkstra.Specification.Gov.Actions.html#542" class="Datatype">GovActionType</a> <a id="2262" class="Symbol">→</a> <a id="2264" href="Ledger.Dijkstra.Specification.Gov.Actions.html#542" class="Datatype">GovActionType</a> <a id="2278" class="Symbol">→</a> <a id="2280" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="2285" href="Ledger.Dijkstra.Specification.Gov.html#2238" class="Function">Overlap</a> <a id="2293" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a>     <a id="2310" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a>  <a id="2327" class="Symbol">=</a> <a id="2329" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="2331" href="Ledger.Dijkstra.Specification.Gov.html#2238" class="Function">Overlap</a> <a id="2339" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a>  <a id="2356" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a>     <a id="2373" class="Symbol">=</a> <a id="2375" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="2377" href="Ledger.Dijkstra.Specification.Gov.html#2238" class="CatchallClause Function">Overlap</a><a id="2384" class="CatchallClause"> </a><a id="2385" href="Ledger.Dijkstra.Specification.Gov.html#2385" class="CatchallClause Bound">a</a><a id="2386" class="CatchallClause">                </a><a id="2402" href="Ledger.Dijkstra.Specification.Gov.html#2402" class="CatchallClause Bound">a&#39;</a>               <a id="2419" class="Symbol">=</a> <a id="2421" href="Ledger.Dijkstra.Specification.Gov.html#2385" class="Bound">a</a> <a id="2423" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2425" href="Ledger.Dijkstra.Specification.Gov.html#2402" class="Bound">a&#39;</a>


<a id="2430" class="Keyword">record</a> <a id="HasGovState"></a><a id="2437" href="Ledger.Dijkstra.Specification.Gov.html#2437" class="Record">HasGovState</a> <a id="2449" class="Symbol">{</a><a id="2450" href="Ledger.Dijkstra.Specification.Gov.html#2450" class="Bound">a</a><a id="2451" class="Symbol">}</a> <a id="2453" class="Symbol">(</a><a id="2454" href="Ledger.Dijkstra.Specification.Gov.html#2454" class="Bound">A</a> <a id="2456" class="Symbol">:</a> <a id="2458" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2463" href="Ledger.Dijkstra.Specification.Gov.html#2450" class="Bound">a</a><a id="2464" class="Symbol">)</a> <a id="2466" class="Symbol">:</a> <a id="2468" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="2473" href="Ledger.Dijkstra.Specification.Gov.html#2450" class="Bound">a</a> <a id="2475" class="Keyword">where</a>
  <a id="2483" class="Keyword">field</a> <a id="HasGovState.GovStateOf"></a><a id="2489" href="Ledger.Dijkstra.Specification.Gov.html#2489" class="Field">GovStateOf</a> <a id="2500" class="Symbol">:</a> <a id="2502" href="Ledger.Dijkstra.Specification.Gov.html#2454" class="Bound">A</a> <a id="2504" class="Symbol">→</a> <a id="2506" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
<a id="2515" class="Keyword">open</a> <a id="2520" href="Ledger.Dijkstra.Specification.Gov.html#2437" class="Module">HasGovState</a> <a id="2532" class="Symbol">⦃...⦄</a> <a id="2538" class="Keyword">public</a>

<a id="2546" class="Keyword">instance</a>
  <a id="HasPParams-GovEnv"></a><a id="2557" href="Ledger.Dijkstra.Specification.Gov.html#2557" class="Function">HasPParams-GovEnv</a> <a id="2575" class="Symbol">:</a> <a id="2577" href="Ledger.Dijkstra.Specification.PParams.html#4403" class="Record">HasPParams</a> <a id="2588" href="Ledger.Dijkstra.Specification.Gov.html#1581" class="Record">GovEnv</a>
  <a id="2597" href="Ledger.Dijkstra.Specification.Gov.html#2557" class="Function">HasPParams-GovEnv</a> <a id="2615" class="Symbol">.</a><a id="2616" href="Ledger.Dijkstra.Specification.PParams.html#4454" class="Field">PParamsOf</a> <a id="2626" class="Symbol">=</a> <a id="2628" href="Ledger.Dijkstra.Specification.Gov.html#1660" class="Field">GovEnv.pparams</a>

  <a id="HasEnactState-GovEnv"></a><a id="2646" href="Ledger.Dijkstra.Specification.Gov.html#2646" class="Function">HasEnactState-GovEnv</a> <a id="2667" class="Symbol">:</a> <a id="2669" href="Ledger.Dijkstra.Specification.Enact.html#871" class="Record">HasEnactState</a> <a id="2683" href="Ledger.Dijkstra.Specification.Gov.html#1581" class="Record">GovEnv</a>
  <a id="2692" href="Ledger.Dijkstra.Specification.Gov.html#2646" class="Function">HasEnactState-GovEnv</a> <a id="2713" class="Symbol">.</a><a id="2714" href="Ledger.Dijkstra.Specification.Enact.html#925" class="Field">EnactStateOf</a> <a id="2727" class="Symbol">=</a> <a id="2729" href="Ledger.Dijkstra.Specification.Gov.html#1721" class="Field">GovEnv.enactState</a>

  <a id="HasCertState-GovEnv"></a><a id="2750" href="Ledger.Dijkstra.Specification.Gov.html#2750" class="Function">HasCertState-GovEnv</a> <a id="2770" class="Symbol">:</a> <a id="2772" href="Ledger.Dijkstra.Specification.Certs.html#4844" class="Record">HasCertState</a> <a id="2785" href="Ledger.Dijkstra.Specification.Gov.html#1581" class="Record">GovEnv</a>
  <a id="2794" href="Ledger.Dijkstra.Specification.Gov.html#2750" class="Function">HasCertState-GovEnv</a> <a id="2814" class="Symbol">.</a><a id="2815" href="Ledger.Dijkstra.Specification.Certs.html#4897" class="Field">CertStateOf</a> <a id="2827" class="Symbol">=</a> <a id="2829" href="Ledger.Dijkstra.Specification.Gov.html#1750" class="Field">GovEnv.certState</a>

  <a id="2849" class="Keyword">unquoteDecl</a> <a id="HasCast-GovEnv"></a><a id="2861" href="Ledger.Dijkstra.Specification.Gov.html#2861" class="Function">HasCast-GovEnv</a> <a id="2876" class="Symbol">=</a> <a id="2878" href="stdlib-classes.Class.HasCast.Derive.html#2690" class="Function">derive-HasCast</a>
    <a id="2897" href="Data.List.Base.html#4907" class="Function Operator">[</a> <a id="2899" class="Symbol">(</a><a id="2900" class="Keyword">quote</a> <a id="2906" href="Ledger.Dijkstra.Specification.Gov.html#1581" class="Record">GovEnv</a> <a id="2913" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2915" href="Ledger.Dijkstra.Specification.Gov.html#2861" class="Function">HasCast-GovEnv</a><a id="2929" class="Symbol">)</a> <a id="2931" href="Data.List.Base.html#4907" class="Function Operator">]</a>

<a id="2934" class="Keyword">private</a> <a id="2942" class="Keyword">variable</a>
  <a id="2953" href="Ledger.Dijkstra.Specification.Gov.html#2953" class="Generalizable">Γ</a>      <a id="2960" class="Symbol">:</a> <a id="2962" href="Ledger.Dijkstra.Specification.Gov.html#1581" class="Record">GovEnv</a>
  <a id="2971" href="Ledger.Dijkstra.Specification.Gov.html#2971" class="Generalizable">s</a> <a id="2973" href="Ledger.Dijkstra.Specification.Gov.html#2973" class="Generalizable">s&#39;</a>   <a id="2978" class="Symbol">:</a> <a id="2980" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
  <a id="2991" href="Ledger.Dijkstra.Specification.Gov.html#2991" class="Generalizable">aid</a>    <a id="2998" class="Symbol">:</a> <a id="3000" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a>
  <a id="3014" href="Ledger.Dijkstra.Specification.Gov.html#3014" class="Generalizable">voter</a>  <a id="3021" class="Symbol">:</a> <a id="3023" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1542" class="Record">GovVoter</a>
  <a id="3034" href="Ledger.Dijkstra.Specification.Gov.html#3034" class="Generalizable">vote</a>   <a id="3041" class="Symbol">:</a> <a id="3043" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a>
  <a id="3053" href="Ledger.Dijkstra.Specification.Gov.html#3053" class="Generalizable">v</a>      <a id="3060" class="Symbol">:</a> <a id="3062" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1491" class="Datatype">Vote</a>
  <a id="3069" href="Ledger.Dijkstra.Specification.Gov.html#3069" class="Generalizable">d</a>      <a id="3076" class="Symbol">:</a> <a id="3078" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
  <a id="3085" href="Ledger.Dijkstra.Specification.Gov.html#3085" class="Generalizable">addr</a>   <a id="3092" class="Symbol">:</a> <a id="3094" href="Ledger.Core.Specification.Address.html#1313" class="Record">RewardAddress</a>
  <a id="3110" href="Ledger.Dijkstra.Specification.Gov.html#3110" class="Generalizable">a</a>      <a id="3117" class="Symbol">:</a> <a id="3119" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1238" class="Record">GovAction</a>
  <a id="3131" href="Ledger.Dijkstra.Specification.Gov.html#3131" class="Generalizable">prev</a>   <a id="3138" class="Symbol">:</a> <a id="3140" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2416" class="Function">NeedsHash</a> <a id="3150" class="Symbol">(</a><a id="3151" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1295" class="Field">gaType</a> <a id="3158" href="Ledger.Dijkstra.Specification.Gov.html#3110" class="Generalizable">a</a><a id="3159" class="Symbol">)</a>
  <a id="3163" href="Ledger.Dijkstra.Specification.Gov.html#3163" class="Generalizable">k</a>      <a id="3170" class="Symbol">:</a> <a id="3172" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="3176" href="Ledger.Dijkstra.Specification.Gov.html#3176" class="Generalizable">p</a>      <a id="3183" class="Symbol">:</a> <a id="3185" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3191" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

<a id="3203" class="Keyword">open</a> <a id="3208" href="Ledger.Dijkstra.Specification.Certs.html#3225" class="Module">GState</a>
<a id="3215" class="Keyword">open</a> <a id="3220" href="Ledger.Dijkstra.Specification.Certs.html#3113" class="Module">PState</a>

<a id="3228" class="Comment">-- TODO: cleanup this</a>
<a id="Overlap?"></a><a id="3250" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3259" class="Symbol">:</a> <a id="3261" class="Symbol">(</a><a id="3262" href="Ledger.Dijkstra.Specification.Gov.html#3262" class="Bound">a</a> <a id="3264" href="Ledger.Dijkstra.Specification.Gov.html#3264" class="Bound">a&#39;</a> <a id="3267" class="Symbol">:</a> <a id="3269" href="Ledger.Dijkstra.Specification.Gov.Actions.html#542" class="Datatype">GovActionType</a><a id="3282" class="Symbol">)</a> <a id="3284" class="Symbol">→</a> <a id="3286" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="3290" class="Symbol">(</a><a id="3291" href="Ledger.Dijkstra.Specification.Gov.html#2238" class="Function">Overlap</a> <a id="3299" href="Ledger.Dijkstra.Specification.Gov.html#3262" class="Bound">a</a> <a id="3301" href="Ledger.Dijkstra.Specification.Gov.html#3264" class="Bound">a&#39;</a><a id="3303" class="Symbol">)</a>
<a id="3305" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3314" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a>    <a id="3330" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a>  <a id="3347" class="Symbol">=</a> <a id="3349" href="Class.Decidable.Instances.html#338" class="Function">Dec-⊤</a> <a id="3355" class="Symbol">.</a><a id="3356" href="Class.Decidable.Core.html#273" class="Field">dec</a>
<a id="3360" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3369" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a> <a id="3385" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a>     <a id="3402" class="Symbol">=</a> <a id="3404" href="Class.Decidable.Instances.html#338" class="Function">Dec-⊤</a> <a id="3410" class="Symbol">.</a><a id="3411" href="Class.Decidable.Core.html#273" class="Field">dec</a>
<a id="3415" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3424" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a> <a id="3437" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a> <a id="3450" class="Symbol">=</a> <a id="3452" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="3456" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3461" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3470" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a> <a id="3483" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="3499" class="Symbol">=</a> <a id="3501" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3504" class="Symbol">(λ</a> <a id="3507" class="Symbol">())</a>
<a id="3511" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3520" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a> <a id="3533" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="3549" class="Symbol">=</a> <a id="3551" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3554" class="Symbol">(λ</a> <a id="3557" class="Symbol">())</a>
<a id="3561" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3570" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a> <a id="3583" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="3597" class="Symbol">=</a> <a id="3599" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3602" class="Symbol">(λ</a> <a id="3605" class="Symbol">())</a>
<a id="3609" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3618" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a> <a id="3631" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="3650" class="Symbol">=</a> <a id="3652" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3655" class="Symbol">(λ</a> <a id="3658" class="Symbol">())</a>
<a id="3662" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3671" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a> <a id="3684" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="3689" class="Symbol">=</a> <a id="3691" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3694" class="Symbol">(λ</a> <a id="3697" class="Symbol">())</a>
<a id="3701" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3710" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a> <a id="3726" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a> <a id="3742" class="Symbol">=</a> <a id="3744" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="3748" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3753" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3762" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a> <a id="3778" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="3794" class="Symbol">=</a> <a id="3796" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3799" class="Symbol">(λ</a> <a id="3802" class="Symbol">())</a>
<a id="3806" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3815" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a> <a id="3831" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="3847" class="Symbol">=</a> <a id="3849" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3852" class="Symbol">(λ</a> <a id="3855" class="Symbol">())</a>
<a id="3859" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3868" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a> <a id="3884" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="3898" class="Symbol">=</a> <a id="3900" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3903" class="Symbol">(λ</a> <a id="3906" class="Symbol">())</a>
<a id="3910" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3919" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a> <a id="3935" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="3954" class="Symbol">=</a> <a id="3956" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3959" class="Symbol">(λ</a> <a id="3962" class="Symbol">())</a>
<a id="3966" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="3975" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a> <a id="3991" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="3996" class="Symbol">=</a> <a id="3998" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4001" class="Symbol">(λ</a> <a id="4004" class="Symbol">())</a>
<a id="4008" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4017" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="4033" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a> <a id="4046" class="Symbol">=</a> <a id="4048" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4051" class="Symbol">(λ</a> <a id="4054" class="Symbol">())</a>
<a id="4058" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4067" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="4083" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a> <a id="4099" class="Symbol">=</a> <a id="4101" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4104" class="Symbol">(λ</a> <a id="4107" class="Symbol">())</a>
<a id="4111" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4120" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="4136" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="4152" class="Symbol">=</a> <a id="4154" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="4158" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="4163" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4172" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="4188" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="4204" class="Symbol">=</a> <a id="4206" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4209" class="Symbol">(λ</a> <a id="4212" class="Symbol">())</a>
<a id="4216" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4225" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="4241" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="4255" class="Symbol">=</a> <a id="4257" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4260" class="Symbol">(λ</a> <a id="4263" class="Symbol">())</a>
<a id="4267" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4276" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="4292" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="4311" class="Symbol">=</a> <a id="4313" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4316" class="Symbol">(λ</a> <a id="4319" class="Symbol">())</a>
<a id="4323" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4332" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="4348" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="4353" class="Symbol">=</a> <a id="4355" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4358" class="Symbol">(λ</a> <a id="4361" class="Symbol">())</a>
<a id="4365" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4374" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="4390" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a> <a id="4403" class="Symbol">=</a> <a id="4405" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4408" class="Symbol">(λ</a> <a id="4411" class="Symbol">())</a>
<a id="4415" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4424" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="4440" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a> <a id="4456" class="Symbol">=</a> <a id="4458" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4461" class="Symbol">(λ</a> <a id="4464" class="Symbol">())</a>
<a id="4468" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4477" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="4493" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="4509" class="Symbol">=</a> <a id="4511" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4514" class="Symbol">(λ</a> <a id="4517" class="Symbol">())</a>
<a id="4521" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4530" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="4546" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="4562" class="Symbol">=</a> <a id="4564" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="4568" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="4573" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4582" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="4598" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="4612" class="Symbol">=</a> <a id="4614" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4617" class="Symbol">(λ</a> <a id="4620" class="Symbol">())</a>
<a id="4624" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4633" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="4649" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="4668" class="Symbol">=</a> <a id="4670" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4673" class="Symbol">(λ</a> <a id="4676" class="Symbol">())</a>
<a id="4680" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4689" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="4705" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="4710" class="Symbol">=</a> <a id="4712" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4715" class="Symbol">(λ</a> <a id="4718" class="Symbol">())</a>
<a id="4722" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4731" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="4745" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a> <a id="4758" class="Symbol">=</a> <a id="4760" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4763" class="Symbol">(λ</a> <a id="4766" class="Symbol">())</a>
<a id="4770" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4779" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="4793" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a> <a id="4809" class="Symbol">=</a> <a id="4811" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4814" class="Symbol">(λ</a> <a id="4817" class="Symbol">())</a>
<a id="4821" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4830" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="4844" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="4860" class="Symbol">=</a> <a id="4862" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4865" class="Symbol">(λ</a> <a id="4868" class="Symbol">())</a>
<a id="4872" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4881" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="4895" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="4911" class="Symbol">=</a> <a id="4913" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="4916" class="Symbol">(λ</a> <a id="4919" class="Symbol">())</a>
<a id="4923" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4932" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="4946" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="4960" class="Symbol">=</a> <a id="4962" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="4966" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="4971" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="4980" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="4994" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="5013" class="Symbol">=</a> <a id="5015" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5018" class="Symbol">(λ</a> <a id="5021" class="Symbol">())</a>
<a id="5025" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5034" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="5048" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="5053" class="Symbol">=</a> <a id="5055" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5058" class="Symbol">(λ</a> <a id="5061" class="Symbol">())</a>
<a id="5065" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5074" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="5093" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a> <a id="5106" class="Symbol">=</a> <a id="5108" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5111" class="Symbol">(λ</a> <a id="5114" class="Symbol">())</a>
<a id="5118" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5127" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="5146" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a> <a id="5162" class="Symbol">=</a> <a id="5164" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5167" class="Symbol">(λ</a> <a id="5170" class="Symbol">())</a>
<a id="5174" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5183" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="5202" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="5218" class="Symbol">=</a> <a id="5220" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5223" class="Symbol">(λ</a> <a id="5226" class="Symbol">())</a>
<a id="5230" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5239" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="5258" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="5274" class="Symbol">=</a> <a id="5276" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5279" class="Symbol">(λ</a> <a id="5282" class="Symbol">())</a>
<a id="5286" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5295" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="5314" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="5328" class="Symbol">=</a> <a id="5330" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5333" class="Symbol">(λ</a> <a id="5336" class="Symbol">())</a>
<a id="5340" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5349" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="5368" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="5387" class="Symbol">=</a> <a id="5389" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="5393" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="5398" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5407" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="5426" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="5431" class="Symbol">=</a> <a id="5433" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5436" class="Symbol">(λ</a> <a id="5439" class="Symbol">())</a>
<a id="5443" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5452" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="5457" href="Ledger.Dijkstra.Specification.Gov.Actions.html#571" class="InductiveConstructor">NoConfidence</a> <a id="5470" class="Symbol">=</a> <a id="5472" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5475" class="Symbol">(λ</a> <a id="5478" class="Symbol">())</a>
<a id="5482" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5491" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="5496" href="Ledger.Dijkstra.Specification.Gov.Actions.html#609" class="InductiveConstructor">UpdateCommittee</a> <a id="5512" class="Symbol">=</a> <a id="5514" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5517" class="Symbol">(λ</a> <a id="5520" class="Symbol">())</a>
<a id="5524" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5533" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="5538" href="Ledger.Dijkstra.Specification.Gov.Actions.html#647" class="InductiveConstructor">NewConstitution</a> <a id="5554" class="Symbol">=</a> <a id="5556" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5559" class="Symbol">(λ</a> <a id="5562" class="Symbol">())</a>
<a id="5566" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5575" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="5580" href="Ledger.Dijkstra.Specification.Gov.Actions.html#685" class="InductiveConstructor">TriggerHardFork</a> <a id="5596" class="Symbol">=</a> <a id="5598" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5601" class="Symbol">(λ</a> <a id="5604" class="Symbol">())</a>
<a id="5608" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5617" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="5622" href="Ledger.Dijkstra.Specification.Gov.Actions.html#723" class="InductiveConstructor">ChangePParams</a> <a id="5636" class="Symbol">=</a> <a id="5638" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5641" class="Symbol">(λ</a> <a id="5644" class="Symbol">())</a>
<a id="5648" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5657" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="5662" href="Ledger.Dijkstra.Specification.Gov.Actions.html#761" class="InductiveConstructor">TreasuryWithdrawal</a> <a id="5681" class="Symbol">=</a> <a id="5683" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="5686" class="Symbol">(λ</a> <a id="5689" class="Symbol">())</a>
<a id="5693" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="5702" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="5707" href="Ledger.Dijkstra.Specification.Gov.Actions.html#799" class="InductiveConstructor">Info</a> <a id="5712" class="Symbol">=</a> <a id="5714" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="5718" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>


<a id="insertGovAction"></a><a id="5725" href="Ledger.Dijkstra.Specification.Gov.html#5725" class="Function">insertGovAction</a> <a id="5741" class="Symbol">:</a> <a id="5743" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="5752" class="Symbol">→</a> <a id="5754" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="5766" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5768" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a> <a id="5783" class="Symbol">→</a> <a id="5785" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
<a id="5794" href="Ledger.Dijkstra.Specification.Gov.html#5725" class="Function">insertGovAction</a> <a id="5810" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="5813" href="Ledger.Dijkstra.Specification.Gov.html#5813" class="Bound">gaPr</a> <a id="5818" class="Symbol">=</a> <a id="5820" href="Data.List.Base.html#4907" class="Function Operator">[</a> <a id="5822" href="Ledger.Dijkstra.Specification.Gov.html#5813" class="Bound">gaPr</a> <a id="5827" href="Data.List.Base.html#4907" class="Function Operator">]</a>
<a id="5829" href="Ledger.Dijkstra.Specification.Gov.html#5725" class="Function">insertGovAction</a> <a id="5845" class="Symbol">((</a><a id="5847" href="Ledger.Dijkstra.Specification.Gov.html#5847" class="Bound">gaID₀</a> <a id="5853" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5855" href="Ledger.Dijkstra.Specification.Gov.html#5855" class="Bound">gaSt₀</a><a id="5860" class="Symbol">)</a> <a id="5862" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5864" href="Ledger.Dijkstra.Specification.Gov.html#5864" class="Bound">gaPrs</a><a id="5869" class="Symbol">)</a> <a id="5871" class="Symbol">(</a><a id="5872" href="Ledger.Dijkstra.Specification.Gov.html#5872" class="Bound">gaID₁</a> <a id="5878" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5880" href="Ledger.Dijkstra.Specification.Gov.html#5880" class="Bound">gaSt₁</a><a id="5885" class="Symbol">)</a>
  <a id="5889" class="Symbol">=</a>  <a id="5892" href="Class.ToBool.html#342" class="Function Operator">if</a> <a id="5895" href="Ledger.Dijkstra.Specification.Gov.html#1905" class="Function">govActionPriority</a> <a id="5913" class="Symbol">(</a><a id="5914" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4123" class="Field">GovActionTypeOf</a> <a id="5930" href="Ledger.Dijkstra.Specification.Gov.html#5855" class="Bound">gaSt₀</a><a id="5935" class="Symbol">)</a> <a id="5937" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="5939" href="Ledger.Dijkstra.Specification.Gov.html#1905" class="Function">govActionPriority</a> <a id="5957" class="Symbol">(</a><a id="5958" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4123" class="Field">GovActionTypeOf</a> <a id="5974" href="Ledger.Dijkstra.Specification.Gov.html#5880" class="Bound">gaSt₁</a><a id="5979" class="Symbol">)</a>
     <a id="5986" href="Class.ToBool.html#342" class="Function Operator">then</a> <a id="5991" class="Symbol">(</a><a id="5992" href="Ledger.Dijkstra.Specification.Gov.html#5847" class="Bound">gaID₀</a> <a id="5998" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6000" href="Ledger.Dijkstra.Specification.Gov.html#5855" class="Bound">gaSt₀</a><a id="6005" class="Symbol">)</a> <a id="6007" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6009" href="Ledger.Dijkstra.Specification.Gov.html#5725" class="Function">insertGovAction</a> <a id="6025" href="Ledger.Dijkstra.Specification.Gov.html#5864" class="Bound">gaPrs</a> <a id="6031" class="Symbol">(</a><a id="6032" href="Ledger.Dijkstra.Specification.Gov.html#5872" class="Bound">gaID₁</a> <a id="6038" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6040" href="Ledger.Dijkstra.Specification.Gov.html#5880" class="Bound">gaSt₁</a><a id="6045" class="Symbol">)</a>
     <a id="6052" href="Class.ToBool.html#342" class="Function Operator">else</a> <a id="6057" class="Symbol">(</a><a id="6058" href="Ledger.Dijkstra.Specification.Gov.html#5872" class="Bound">gaID₁</a> <a id="6064" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6066" href="Ledger.Dijkstra.Specification.Gov.html#5880" class="Bound">gaSt₁</a><a id="6071" class="Symbol">)</a> <a id="6073" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6075" class="Symbol">(</a><a id="6076" href="Ledger.Dijkstra.Specification.Gov.html#5847" class="Bound">gaID₀</a> <a id="6082" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6084" href="Ledger.Dijkstra.Specification.Gov.html#5855" class="Bound">gaSt₀</a><a id="6089" class="Symbol">)</a> <a id="6091" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6093" href="Ledger.Dijkstra.Specification.Gov.html#5864" class="Bound">gaPrs</a>

<a id="mkGovStatePair"></a><a id="6100" href="Ledger.Dijkstra.Specification.Gov.html#6100" class="Function">mkGovStatePair</a> <a id="6115" class="Symbol">:</a>  <a id="6118" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a> <a id="6124" class="Symbol">→</a> <a id="6126" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="6138" class="Symbol">→</a> <a id="6140" href="Ledger.Core.Specification.Address.html#1313" class="Record">RewardAddress</a> <a id="6154" class="Symbol">→</a> <a id="6156" class="Symbol">(</a><a id="6157" href="Ledger.Dijkstra.Specification.Gov.html#6157" class="Bound">a</a> <a id="6159" class="Symbol">:</a> <a id="6161" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1238" class="Record">GovAction</a><a id="6170" class="Symbol">)</a> <a id="6172" class="Symbol">→</a> <a id="6174" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2416" class="Function">NeedsHash</a> <a id="6184" class="Symbol">(</a><a id="6185" href="Ledger.Dijkstra.Specification.Gov.html#6157" class="Bound">a</a> <a id="6187" class="Symbol">.</a><a id="6188" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1295" class="Field">gaType</a><a id="6194" class="Symbol">)</a>
                  <a id="6214" class="Symbol">→</a> <a id="6216" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="6228" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6230" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a>
<a id="6245" href="Ledger.Dijkstra.Specification.Gov.html#6100" class="Function">mkGovStatePair</a> <a id="6260" href="Ledger.Dijkstra.Specification.Gov.html#6260" class="Bound">e</a> <a id="6262" href="Ledger.Dijkstra.Specification.Gov.html#6262" class="Bound">aid</a> <a id="6266" href="Ledger.Dijkstra.Specification.Gov.html#6266" class="Bound">addr</a> <a id="6271" href="Ledger.Dijkstra.Specification.Gov.html#6271" class="Bound">a</a> <a id="6273" href="Ledger.Dijkstra.Specification.Gov.html#6273" class="Bound">prev</a> <a id="6278" class="Symbol">=</a> <a id="6280" class="Symbol">(</a><a id="6281" href="Ledger.Dijkstra.Specification.Gov.html#6262" class="Bound">aid</a> <a id="6285" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6287" href="Ledger.Dijkstra.Specification.Gov.html#6302" class="Function">gas</a><a id="6290" class="Symbol">)</a>
  <a id="6294" class="Keyword">where</a>
  <a id="6302" href="Ledger.Dijkstra.Specification.Gov.html#6302" class="Function">gas</a> <a id="6306" class="Symbol">:</a> <a id="6308" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a>
  <a id="6325" href="Ledger.Dijkstra.Specification.Gov.html#6302" class="Function">gas</a> <a id="6329" class="Symbol">=</a> <a id="6331" class="Keyword">record</a>  <a id="6339" class="Symbol">{</a> <a id="6341" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3446" class="Field">votes</a> <a id="6347" class="Symbol">=</a> <a id="6349" class="Keyword">record</a> <a id="6356" class="Symbol">{</a> <a id="6358" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2108" class="Field">gvCC</a> <a id="6363" class="Symbol">=</a> <a id="6365" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="6367" class="Symbol">;</a> <a id="6369" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2139" class="Field">gvDRep</a> <a id="6376" class="Symbol">=</a> <a id="6378" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="6380" class="Symbol">;</a> <a id="6382" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2170" class="Field">gvSPO</a> <a id="6388" class="Symbol">=</a> <a id="6390" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="6392" class="Symbol">}</a>
                <a id="6410" class="Symbol">;</a> <a id="6412" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3473" class="Field">returnAddr</a> <a id="6423" class="Symbol">=</a> <a id="6425" href="Ledger.Dijkstra.Specification.Gov.html#6266" class="Bound">addr</a>
                <a id="6446" class="Symbol">;</a> <a id="6448" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3505" class="Field">expiresIn</a> <a id="6458" class="Symbol">=</a> <a id="6460" href="Ledger.Dijkstra.Specification.Gov.html#6260" class="Bound">e</a>
                <a id="6478" class="Symbol">;</a> <a id="6480" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3529" class="Field">action</a> <a id="6487" class="Symbol">=</a> <a id="6489" href="Ledger.Dijkstra.Specification.Gov.html#6271" class="Bound">a</a>
                <a id="6507" class="Symbol">;</a> <a id="6509" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3557" class="Field">prevAction</a> <a id="6520" class="Symbol">=</a> <a id="6522" href="Ledger.Dijkstra.Specification.Gov.html#6273" class="Bound">prev</a>
                <a id="6543" class="Symbol">}</a>

<a id="6546" class="Comment">-- add a new proposed action at the end of a given GovState</a>
<a id="addAction"></a><a id="6606" href="Ledger.Dijkstra.Specification.Gov.html#6606" class="Function">addAction</a> <a id="6616" class="Symbol">:</a>  <a id="6619" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="6628" class="Symbol">→</a> <a id="6630" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a> <a id="6636" class="Symbol">→</a> <a id="6638" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="6650" class="Symbol">→</a> <a id="6652" href="Ledger.Core.Specification.Address.html#1313" class="Record">RewardAddress</a>
             <a id="6679" class="Symbol">→</a> <a id="6681" class="Symbol">(</a><a id="6682" href="Ledger.Dijkstra.Specification.Gov.html#6682" class="Bound">a</a> <a id="6684" class="Symbol">:</a> <a id="6686" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1238" class="Record">GovAction</a><a id="6695" class="Symbol">)</a> <a id="6697" class="Symbol">→</a> <a id="6699" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2416" class="Function">NeedsHash</a> <a id="6709" class="Symbol">(</a><a id="6710" href="Ledger.Dijkstra.Specification.Gov.html#6682" class="Bound">a</a> <a id="6712" class="Symbol">.</a><a id="6713" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1295" class="Field">gaType</a><a id="6719" class="Symbol">)</a>
             <a id="6734" class="Symbol">→</a> <a id="6736" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
<a id="6745" href="Ledger.Dijkstra.Specification.Gov.html#6606" class="Function">addAction</a> <a id="6755" href="Ledger.Dijkstra.Specification.Gov.html#6755" class="Bound">s</a> <a id="6757" href="Ledger.Dijkstra.Specification.Gov.html#6757" class="Bound">e</a> <a id="6759" href="Ledger.Dijkstra.Specification.Gov.html#6759" class="Bound">aid</a> <a id="6763" href="Ledger.Dijkstra.Specification.Gov.html#6763" class="Bound">addr</a> <a id="6768" href="Ledger.Dijkstra.Specification.Gov.html#6768" class="Bound">a</a> <a id="6770" href="Ledger.Dijkstra.Specification.Gov.html#6770" class="Bound">prev</a> <a id="6775" class="Symbol">=</a> <a id="6777" href="Ledger.Dijkstra.Specification.Gov.html#5725" class="Function">insertGovAction</a> <a id="6793" href="Ledger.Dijkstra.Specification.Gov.html#6755" class="Bound">s</a> <a id="6795" class="Symbol">(</a><a id="6796" href="Ledger.Dijkstra.Specification.Gov.html#6100" class="Function">mkGovStatePair</a> <a id="6811" href="Ledger.Dijkstra.Specification.Gov.html#6757" class="Bound">e</a> <a id="6813" href="Ledger.Dijkstra.Specification.Gov.html#6759" class="Bound">aid</a> <a id="6817" href="Ledger.Dijkstra.Specification.Gov.html#6763" class="Bound">addr</a> <a id="6822" href="Ledger.Dijkstra.Specification.Gov.html#6768" class="Bound">a</a> <a id="6824" href="Ledger.Dijkstra.Specification.Gov.html#6770" class="Bound">prev</a><a id="6828" class="Symbol">)</a>


<a id="6832" class="Keyword">opaque</a>
  <a id="6841" class="Comment">-- insert (and potentially override) a vote for a particular gov action</a>
  <a id="addVote"></a><a id="6915" href="Ledger.Dijkstra.Specification.Gov.html#6915" class="Function">addVote</a> <a id="6923" class="Symbol">:</a> <a id="6925" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="6934" class="Symbol">→</a> <a id="6936" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="6948" class="Symbol">→</a> <a id="6950" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1542" class="Record">GovVoter</a> <a id="6959" class="Symbol">→</a> <a id="6961" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1491" class="Datatype">Vote</a> <a id="6966" class="Symbol">→</a> <a id="6968" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
  <a id="6979" href="Ledger.Dijkstra.Specification.Gov.html#6915" class="Function">addVote</a> <a id="6987" href="Ledger.Dijkstra.Specification.Gov.html#6987" class="Bound">gSt</a> <a id="6991" href="Ledger.Dijkstra.Specification.Gov.html#6991" class="Bound">aid</a> <a id="6995" href="Ledger.Dijkstra.Specification.Gov.html#6995" class="Bound">voter</a> <a id="7001" href="Ledger.Dijkstra.Specification.Gov.html#7001" class="Bound">v</a> <a id="7003" class="Symbol">=</a> <a id="7005" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="7009" href="Ledger.Dijkstra.Specification.Gov.html#7039" class="Function">modifyVotes</a> <a id="7021" href="Ledger.Dijkstra.Specification.Gov.html#6987" class="Bound">gSt</a>
    <a id="7029" class="Keyword">where</a>
    <a id="7039" href="Ledger.Dijkstra.Specification.Gov.html#7039" class="Function">modifyVotes</a> <a id="7051" class="Symbol">:</a> <a id="7053" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="7065" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7067" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a> <a id="7082" class="Symbol">→</a> <a id="7084" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="7096" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7098" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a>
    <a id="7117" href="Ledger.Dijkstra.Specification.Gov.html#7039" class="Function">modifyVotes</a> <a id="7129" class="Symbol">(</a><a id="7130" href="Ledger.Dijkstra.Specification.Gov.html#7130" class="Bound">gid</a> <a id="7134" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7136" href="Ledger.Dijkstra.Specification.Gov.html#7136" class="Bound">gaSt</a><a id="7140" class="Symbol">)</a> <a id="7142" class="Symbol">=</a> <a id="7144" href="Ledger.Dijkstra.Specification.Gov.html#7130" class="Bound">gid</a> <a id="7148" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7150" class="Symbol">(</a><a id="7151" href="Class.ToBool.html#342" class="Function Operator">if</a> <a id="7154" href="Ledger.Dijkstra.Specification.Gov.html#7130" class="Bound">gid</a> <a id="7158" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7160" href="Ledger.Dijkstra.Specification.Gov.html#6991" class="Bound">aid</a> <a id="7164" href="Class.ToBool.html#342" class="Function Operator">then</a> <a id="7169" class="Keyword">record</a> <a id="7176" href="Ledger.Dijkstra.Specification.Gov.html#7136" class="Bound">gaSt</a> <a id="7181" class="Symbol">{</a> <a id="7183" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3446" class="Field">votes</a> <a id="7189" class="Symbol">=</a> <a id="7191" href="Ledger.Dijkstra.Specification.Gov.html#7273" class="Function">votes&#39;</a> <a id="7198" href="Ledger.Dijkstra.Specification.Gov.html#6995" class="Bound">voter</a> <a id="7204" class="Symbol">}</a> <a id="7206" href="Class.ToBool.html#342" class="Function Operator">else</a> <a id="7211" href="Ledger.Dijkstra.Specification.Gov.html#7136" class="Bound">gaSt</a><a id="7215" class="Symbol">)</a>
      <a id="7223" class="Keyword">where</a>
      <a id="7235" class="Keyword">open</a> <a id="7240" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2006" class="Module">GovVotes</a> <a id="7249" class="Symbol">(</a><a id="7250" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4606" class="Field">GovVotesOf</a> <a id="7261" href="Ledger.Dijkstra.Specification.Gov.html#7136" class="Bound">gaSt</a><a id="7265" class="Symbol">)</a>
      <a id="7273" href="Ledger.Dijkstra.Specification.Gov.html#7273" class="Function">votes&#39;</a> <a id="7280" class="Symbol">:</a> <a id="7282" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1542" class="Record">GovVoter</a> <a id="7291" class="Symbol">→</a> <a id="7293" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2006" class="Record">GovVotes</a>
      <a id="7308" href="Ledger.Dijkstra.Specification.Gov.html#7273" class="Function">votes&#39;</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#373}{\htmlId{7317}{\htmlClass{InductiveConstructor}{\text{CC}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#7322}{\htmlId{7322}{\htmlClass{Bound}{\text{c}}}}\, \end{pmatrix}$</a> <a id="7328" class="Symbol">=</a> <a id="7330" class="Keyword">record</a> <a id="7337" class="Symbol">{</a> <a id="7339" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2108" class="Field">gvCC</a> <a id="7344" class="Symbol">=</a> <a id="7346" href="Axiom.Set.Map.html#9191" class="Function">insert</a> <a id="7353" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2108" class="Function">gvCC</a> <a id="7358" href="Ledger.Dijkstra.Specification.Gov.html#7322" class="Bound">c</a> <a id="7360" href="Ledger.Dijkstra.Specification.Gov.html#7001" class="Bound">v</a> <a id="7362" class="Symbol">;</a> <a id="7364" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2139" class="Field">gvDRep</a> <a id="7371" class="Symbol">=</a> <a id="7373" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2139" class="Function">gvDRep</a> <a id="7380" class="Symbol">;</a> <a id="7382" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2170" class="Field">gvSPO</a> <a id="7388" class="Symbol">=</a> <a id="7390" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2170" class="Function">gvSPO</a> <a id="7396" class="Symbol">}</a>
      <a id="7404" href="Ledger.Dijkstra.Specification.Gov.html#7273" class="Function">votes&#39;</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#376}{\htmlId{7413}{\htmlClass{InductiveConstructor}{\text{DRep}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#7420}{\htmlId{7420}{\htmlClass{Bound}{\text{c}}}}\, \end{pmatrix}$</a> <a id="7426" class="Symbol">=</a> <a id="7428" class="Keyword">record</a> <a id="7435" class="Symbol">{</a> <a id="7437" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2108" class="Field">gvCC</a> <a id="7442" class="Symbol">=</a> <a id="7444" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2108" class="Function">gvCC</a> <a id="7449" class="Symbol">;</a> <a id="7451" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2139" class="Field">gvDRep</a> <a id="7458" class="Symbol">=</a> <a id="7460" href="Axiom.Set.Map.html#9191" class="Function">insert</a> <a id="7467" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2139" class="Function">gvDRep</a> <a id="7474" href="Ledger.Dijkstra.Specification.Gov.html#7420" class="Bound">c</a> <a id="7476" href="Ledger.Dijkstra.Specification.Gov.html#7001" class="Bound">v</a> <a id="7478" class="Symbol">;</a> <a id="7480" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2170" class="Field">gvSPO</a> <a id="7486" class="Symbol">=</a> <a id="7488" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2170" class="Function">gvSPO</a> <a id="7494" class="Symbol">}</a>
      <a id="7502" href="Ledger.Dijkstra.Specification.Gov.html#7273" class="Function">votes&#39;</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#381}{\htmlId{7511}{\htmlClass{InductiveConstructor}{\text{SPO}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#7517}{\htmlId{7517}{\htmlClass{Bound}{\text{kh}}}}\, \end{pmatrix}$</a> <a id="7524" class="Symbol">=</a> <a id="7526" class="Keyword">record</a> <a id="7533" class="Symbol">{</a> <a id="7535" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2108" class="Field">gvCC</a> <a id="7540" class="Symbol">=</a> <a id="7542" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2108" class="Function">gvCC</a> <a id="7547" class="Symbol">;</a> <a id="7549" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2139" class="Field">gvDRep</a> <a id="7556" class="Symbol">=</a> <a id="7558" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2139" class="Function">gvDRep</a> <a id="7565" class="Symbol">;</a> <a id="7567" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2170" class="Field">gvSPO</a> <a id="7573" class="Symbol">=</a> <a id="7575" href="Axiom.Set.Map.html#9191" class="Function">insert</a> <a id="7582" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2170" class="Function">gvSPO</a> <a id="7588" href="Ledger.Dijkstra.Specification.Gov.html#7517" class="Bound">kh</a> <a id="7591" href="Ledger.Dijkstra.Specification.Gov.html#7001" class="Bound">v</a> <a id="7593" class="Symbol">}</a>

  <a id="isRegistered"></a><a id="7598" href="Ledger.Dijkstra.Specification.Gov.html#7598" class="Function">isRegistered</a> <a id="7611" class="Symbol">:</a> <a id="7613" href="Ledger.Dijkstra.Specification.Gov.html#1581" class="Record">GovEnv</a> <a id="7620" class="Symbol">→</a> <a id="7622" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1542" class="Record">GovVoter</a> <a id="7631" class="Symbol">→</a> <a id="7633" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="7640" href="Ledger.Dijkstra.Specification.Gov.html#7598" class="Function">isRegistered</a> <a id="7653" href="Ledger.Dijkstra.Specification.Gov.html#7653" class="Bound">Γ</a> <a id="7655" href="Ledger.Dijkstra.Specification.Gov.html#7655" class="Bound">v</a> <a id="7657" class="Symbol">=</a> <a id="7659" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="7664" href="Ledger.Dijkstra.Specification.Gov.html#7655" class="Bound">v</a> <a id="7666" href="Function.Base.html#4061" class="Function Operator">of</a>
    <a id="7673" class="Symbol">λ</a> <a id="7675" class="Keyword">where</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#373}{\htmlId{7689}{\htmlClass{InductiveConstructor}{\text{CC}}}}\,   \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#7696}{\htmlId{7696}{\htmlClass{Bound}{\text{c}}}}\,  \end{pmatrix}$</a> <a id="7703" class="Symbol">→</a> <a id="7705" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7710" href="Ledger.Dijkstra.Specification.Gov.html#7696" class="Bound">c</a> <a id="7712" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="7714" href="Class.IsSet.html#959" class="Function">range</a> <a id="7720" class="Symbol">(</a><a id="7721" href="Ledger.Dijkstra.Specification.Certs.html#3887" class="Field">CCHotKeysOf</a> <a id="7733" class="Symbol">(</a><a id="7734" href="Ledger.Dijkstra.Specification.Certs.html#4897" class="Field">CertStateOf</a> <a id="7746" href="Ledger.Dijkstra.Specification.Gov.html#7653" class="Bound">Γ</a><a id="7747" class="Symbol">))</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#376}{\htmlId{7758}{\htmlClass{InductiveConstructor}{\text{DRep}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#7765}{\htmlId{7765}{\htmlClass{Bound}{\text{c}}}}\,  \end{pmatrix}$</a> <a id="7772" class="Symbol">→</a> <a id="7774" href="Ledger.Dijkstra.Specification.Gov.html#7765" class="Bound">c</a> <a id="7776" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="7778" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7782" class="Symbol">(</a><a id="7783" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4927" class="Field">DRepsOf</a> <a id="7791" class="Symbol">(</a><a id="7792" href="Ledger.Dijkstra.Specification.Certs.html#4897" class="Field">CertStateOf</a> <a id="7804" href="Ledger.Dijkstra.Specification.Gov.html#7653" class="Bound">Γ</a><a id="7805" class="Symbol">))</a>
      <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#381}{\htmlId{7816}{\htmlClass{InductiveConstructor}{\text{SPO}}}}\,  \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#7823}{\htmlId{7823}{\htmlClass{Bound}{\text{kh}}}}\, \end{pmatrix}$</a> <a id="7830" class="Symbol">→</a> <a id="7832" href="Ledger.Dijkstra.Specification.Gov.html#7823" class="Bound">kh</a> <a id="7835" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="7837" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7841" class="Symbol">(</a><a id="7842" href="Ledger.Dijkstra.Specification.Certs.html#4003" class="Field">PoolsOf</a> <a id="7850" class="Symbol">(</a><a id="7851" href="Ledger.Dijkstra.Specification.Certs.html#4897" class="Field">CertStateOf</a> <a id="7863" href="Ledger.Dijkstra.Specification.Gov.html#7653" class="Bound">Γ</a><a id="7864" class="Symbol">))</a>

  <a id="7870" class="Comment">-- Indicates whether TriggerHardFork can be enacted in future.</a>
  <a id="validHFAction"></a><a id="7935" href="Ledger.Dijkstra.Specification.Gov.html#7935" class="Function">validHFAction</a> <a id="7949" class="Symbol">:</a> <a id="7951" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a> <a id="7963" class="Symbol">→</a> <a id="7965" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="7974" class="Symbol">→</a> <a id="7976" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a> <a id="7987" class="Symbol">→</a> <a id="7989" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="7996" href="Ledger.Dijkstra.Specification.Gov.html#7935" class="Function">validHFAction</a> <a id="8010" class="Symbol">(</a><a id="8011" class="Keyword">record</a> <a id="8018" class="Symbol">{</a> <a id="8020" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2886" class="Field">action</a> <a id="8027" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#685}{\htmlId{8031}{\htmlClass{InductiveConstructor}{\text{TriggerHardFork}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#8049}{\htmlId{8049}{\htmlClass{Bound}{\text{v}}}}\, \end{pmatrix}$</a> <a id="8055" class="Symbol">;</a> <a id="8057" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2914" class="Field">prevAction</a> <a id="8068" class="Symbol">=</a> <a id="8070" href="Ledger.Dijkstra.Specification.Gov.html#8070" class="Bound">prev</a> <a id="8075" class="Symbol">})</a> <a id="8078" href="Ledger.Dijkstra.Specification.Gov.html#8078" class="Bound">s</a> <a id="8080" href="Ledger.Dijkstra.Specification.Gov.html#8080" class="Bound">e</a> <a id="8082" class="Symbol">=</a>
    <a id="8088" class="Symbol">(</a><a id="8089" href="Ledger.Dijkstra.Specification.Gov.html#8415" class="Function">aid&#39;</a> <a id="8094" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8096" href="Ledger.Dijkstra.Specification.Gov.html#8070" class="Bound">prev</a> <a id="8101" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8103" href="Ledger.Dijkstra.Specification.PParams.html#1046" class="Datatype">pvCanFollow</a> <a id="8115" href="Ledger.Dijkstra.Specification.Gov.html#8360" class="Function">ver</a> <a id="8119" href="Ledger.Dijkstra.Specification.Gov.html#8049" class="Bound">v</a><a id="8120" class="Symbol">)</a> <a id="8122" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="8124" href="Prelude.html#2407" class="Function">∃₂[</a> <a id="8128" href="Ledger.Dijkstra.Specification.Gov.html#8128" class="Bound">x</a> <a id="8130" href="Prelude.html#2407" class="Function">,</a> <a id="8132" href="Ledger.Dijkstra.Specification.Gov.html#8132" class="Bound">v&#39;</a> <a id="8135" href="Prelude.html#2407" class="Function">]</a>  <a id="8138" class="Symbol">(</a><a id="8139" href="Ledger.Dijkstra.Specification.Gov.html#8070" class="Bound">prev</a> <a id="8144" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8146" href="Ledger.Dijkstra.Specification.Gov.html#8128" class="Bound">x</a><a id="8147" class="Symbol">)</a> <a id="8149" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="8151" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="8160" href="Ledger.Dijkstra.Specification.Gov.html#8078" class="Bound">s</a>
                                                      <a id="8216" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8218" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3529" class="Field">GovActionState.action</a> <a id="8240" href="Ledger.Dijkstra.Specification.Gov.html#8128" class="Bound">x</a> <a id="8242" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#685}{\htmlId{8246}{\htmlClass{InductiveConstructor}{\text{TriggerHardFork}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#8132}{\htmlId{8264}{\htmlClass{Bound}{\text{v&#39;}}}}\, \end{pmatrix}$</a>
                                                      <a id="8325" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8327" href="Ledger.Dijkstra.Specification.PParams.html#1046" class="Datatype">pvCanFollow</a> <a id="8339" href="Ledger.Dijkstra.Specification.Gov.html#8132" class="Bound">v&#39;</a> <a id="8342" href="Ledger.Dijkstra.Specification.Gov.html#8049" class="Bound">v</a>
    <a id="8348" class="Keyword">where</a>
      <a id="8360" href="Ledger.Dijkstra.Specification.Gov.html#8360" class="Function">ver</a> <a id="8364" class="Symbol">:</a> <a id="8366" href="Ledger.Dijkstra.Specification.PParams.html#1009" class="Function">ProtVer</a>
      <a id="8380" href="Ledger.Dijkstra.Specification.Gov.html#8360" class="Function">ver</a> <a id="8384" class="Symbol">=</a> <a id="8386" href="Ledger.Dijkstra.Specification.Enact.html#750" class="Field">EnactState.pv</a> <a id="8400" href="Ledger.Dijkstra.Specification.Gov.html#8080" class="Bound">e</a> <a id="8402" class="Symbol">.</a><a id="8403" href="Data.Product.Base.html#636" class="Field">proj₁</a>
      <a id="8415" href="Ledger.Dijkstra.Specification.Gov.html#8415" class="Function">aid&#39;</a> <a id="8420" class="Symbol">:</a> <a id="8422" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a>
      <a id="8440" href="Ledger.Dijkstra.Specification.Gov.html#8415" class="Function">aid&#39;</a> <a id="8445" class="Symbol">=</a> <a id="8447" href="Ledger.Dijkstra.Specification.Enact.html#750" class="Field">EnactState.pv</a> <a id="8461" href="Ledger.Dijkstra.Specification.Gov.html#8080" class="Bound">e</a> <a id="8463" class="Symbol">.</a><a id="8464" href="Data.Product.Base.html#650" class="Field">proj₂</a>

  <a id="8473" href="Ledger.Dijkstra.Specification.Gov.html#7935" class="CatchallClause Function">validHFAction</a><a id="8486" class="CatchallClause"> </a><a id="8487" class="CatchallClause Symbol">_</a><a id="8488" class="CatchallClause"> </a><a id="8489" class="CatchallClause Symbol">_</a><a id="8490" class="CatchallClause"> </a><a id="8491" class="CatchallClause Symbol">_</a> <a id="8493" class="Symbol">=</a> <a id="8495" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>


<a id="8499" class="Comment">-- Enactability Predicate --</a>

<a id="8529" class="Comment">-- Convert list of (GovActionID,GovActionState)-pairs to list of GovActionID pairs.</a>
<a id="getAidPairsList"></a><a id="8613" href="Ledger.Dijkstra.Specification.Gov.html#8613" class="Function">getAidPairsList</a> <a id="8629" class="Symbol">:</a> <a id="8631" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="8640" class="Symbol">→</a> <a id="8642" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8647" class="Symbol">(</a><a id="8648" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="8660" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8662" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a><a id="8673" class="Symbol">)</a>
<a id="8675" href="Ledger.Dijkstra.Specification.Gov.html#8613" class="Function">getAidPairsList</a> <a id="8691" href="Ledger.Dijkstra.Specification.Gov.html#8691" class="Bound">aid×states</a> <a id="8702" class="Symbol">=</a>
  <a id="8706" href="Data.List.Base.html#4606" class="Function">mapMaybe</a> <a id="8715" class="Symbol">(λ</a> <a id="8718" class="Symbol">(</a><a id="8719" href="Ledger.Dijkstra.Specification.Gov.html#8719" class="Bound">aid</a> <a id="8723" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8725" href="Ledger.Dijkstra.Specification.Gov.html#8725" class="Bound">aState</a><a id="8731" class="Symbol">)</a> <a id="8733" class="Symbol">→</a> <a id="8735" class="Symbol">(</a><a id="8736" href="Ledger.Dijkstra.Specification.Gov.html#8719" class="Bound">aid</a> <a id="8740" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="8742" class="Symbol">)</a> <a id="8744" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="8748" href="Ledger.Dijkstra.Specification.Enact.html#1644" class="Function">getHash</a> <a id="8756" class="Symbol">(</a><a id="8757" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3557" class="Field">GovActionState.prevAction</a> <a id="8783" href="Ledger.Dijkstra.Specification.Gov.html#8725" class="Bound">aState</a><a id="8789" class="Symbol">))</a> <a id="8792" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="8794" href="Ledger.Dijkstra.Specification.Gov.html#8691" class="Bound">aid×states</a>

<a id="8806" class="Comment">-- A list of GovActionID pairs connects the first GovActionID to the second.</a>
<a id="_connects_to_"></a><a id="8883" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">_connects_to_</a> <a id="8897" class="Symbol">:</a> <a id="8899" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8904" class="Symbol">(</a><a id="8905" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="8917" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8919" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a><a id="8930" class="Symbol">)</a> <a id="8932" class="Symbol">→</a> <a id="8934" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="8946" class="Symbol">→</a> <a id="8948" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="8960" class="Symbol">→</a> <a id="8962" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8967" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8970" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">connects</a> <a id="8979" href="Ledger.Dijkstra.Specification.Gov.html#8979" class="Bound">aidNew</a> <a id="8986" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">to</a> <a id="8989" href="Ledger.Dijkstra.Specification.Gov.html#8989" class="Bound">aidOld</a> <a id="8996" class="Symbol">=</a> <a id="8998" href="Ledger.Dijkstra.Specification.Gov.html#8979" class="Bound">aidNew</a> <a id="9005" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9007" href="Ledger.Dijkstra.Specification.Gov.html#8989" class="Bound">aidOld</a>
<a id="9014" class="Symbol">((</a><a id="9016" href="Ledger.Dijkstra.Specification.Gov.html#9016" class="Bound">aid</a> <a id="9020" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9022" href="Ledger.Dijkstra.Specification.Gov.html#9022" class="Bound">aidPrev</a><a id="9029" class="Symbol">)</a> <a id="9031" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9033" href="Ledger.Dijkstra.Specification.Gov.html#9033" class="Bound">s</a><a id="9034" class="Symbol">)</a> <a id="9036" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">connects</a> <a id="9045" href="Ledger.Dijkstra.Specification.Gov.html#9045" class="Bound">aidNew</a> <a id="9052" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">to</a> <a id="9055" href="Ledger.Dijkstra.Specification.Gov.html#9055" class="Bound">aidOld</a>  <a id="9063" class="Symbol">=</a>
  <a id="9067" href="Ledger.Dijkstra.Specification.Gov.html#9016" class="Bound">aid</a> <a id="9071" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9073" href="Ledger.Dijkstra.Specification.Gov.html#9045" class="Bound">aidNew</a> <a id="9080" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9082" href="Ledger.Dijkstra.Specification.Gov.html#9033" class="Bound">s</a> <a id="9084" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">connects</a> <a id="9093" href="Ledger.Dijkstra.Specification.Gov.html#9022" class="Bound">aidPrev</a> <a id="9101" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">to</a> <a id="9104" href="Ledger.Dijkstra.Specification.Gov.html#9055" class="Bound">aidOld</a> <a id="9111" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="9113" href="Ledger.Dijkstra.Specification.Gov.html#9033" class="Bound">s</a> <a id="9115" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">connects</a> <a id="9124" href="Ledger.Dijkstra.Specification.Gov.html#9045" class="Bound">aidNew</a> <a id="9131" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">to</a> <a id="9134" href="Ledger.Dijkstra.Specification.Gov.html#9055" class="Bound">aidOld</a>

<a id="enactable"></a><a id="9142" href="Ledger.Dijkstra.Specification.Gov.html#9142" class="Function">enactable</a>  <a id="9153" class="Symbol">:</a> <a id="9155" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a> <a id="9166" class="Symbol">→</a> <a id="9168" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="9173" class="Symbol">(</a><a id="9174" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="9186" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9188" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a><a id="9199" class="Symbol">)</a>
           <a id="9212" class="Symbol">→</a> <a id="9214" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="9226" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9228" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a> <a id="9243" class="Symbol">→</a> <a id="9245" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="9250" href="Ledger.Dijkstra.Specification.Gov.html#9142" class="Function">enactable</a> <a id="9260" href="Ledger.Dijkstra.Specification.Gov.html#9260" class="Bound">e</a> <a id="9262" href="Ledger.Dijkstra.Specification.Gov.html#9262" class="Bound">aidPairs</a> <a id="9271" class="Symbol">=</a> <a id="9273" class="Symbol">λ</a> <a id="9275" class="Symbol">(</a><a id="9276" href="Ledger.Dijkstra.Specification.Gov.html#9276" class="Bound">aidNew</a> <a id="9283" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9285" href="Ledger.Dijkstra.Specification.Gov.html#9285" class="Bound">as</a><a id="9287" class="Symbol">)</a> <a id="9289" class="Symbol">→</a> <a id="9291" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="9296" href="Ledger.Dijkstra.Specification.Enact.html#1984" class="Function">getHashES</a> <a id="9306" href="Ledger.Dijkstra.Specification.Gov.html#9260" class="Bound">e</a> <a id="9308" class="Symbol">(</a><a id="9309" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4123" class="Field">GovActionTypeOf</a> <a id="9325" href="Ledger.Dijkstra.Specification.Gov.html#9285" class="Bound">as</a><a id="9327" class="Symbol">)</a> <a id="9329" href="Function.Base.html#4061" class="Function Operator">of</a>
  <a id="9334" class="Symbol">λ</a> <a id="9336" class="Keyword">where</a>
   <a id="9345" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>        <a id="9360" class="Symbol">→</a> <a id="9362" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
   <a id="9367" class="Symbol">(</a><a id="9368" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9373" href="Ledger.Dijkstra.Specification.Gov.html#9373" class="Bound">aidOld</a><a id="9379" class="Symbol">)</a>  <a id="9382" class="Symbol">→</a> <a id="9384" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="9387" href="Ledger.Dijkstra.Specification.Gov.html#9387" class="Bound">t</a> <a id="9389" href="Data.Product.Base.html#1371" class="Function">]</a>  <a id="9392" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="9401" href="Ledger.Dijkstra.Specification.Gov.html#9387" class="Bound">t</a> <a id="9403" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="9405" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="9414" href="Ledger.Dijkstra.Specification.Gov.html#9262" class="Bound">aidPairs</a>
                            <a id="9451" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9453" href="Data.List.Relation.Unary.Unique.Setoid.html#617" class="Datatype">Unique</a> <a id="9460" href="Ledger.Dijkstra.Specification.Gov.html#9387" class="Bound">t</a> <a id="9462" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="9464" href="Ledger.Dijkstra.Specification.Gov.html#9387" class="Bound">t</a> <a id="9466" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">connects</a> <a id="9475" href="Ledger.Dijkstra.Specification.Gov.html#9276" class="Bound">aidNew</a> <a id="9482" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">to</a> <a id="9485" href="Ledger.Dijkstra.Specification.Gov.html#9373" class="Bound">aidOld</a>

<a id="allEnactable"></a><a id="9493" href="Ledger.Dijkstra.Specification.Gov.html#9493" class="Function">allEnactable</a> <a id="9506" class="Symbol">:</a> <a id="9508" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a> <a id="9519" class="Symbol">→</a> <a id="9521" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="9530" class="Symbol">→</a> <a id="9532" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="9537" href="Ledger.Dijkstra.Specification.Gov.html#9493" class="Function">allEnactable</a> <a id="9550" href="Ledger.Dijkstra.Specification.Gov.html#9550" class="Bound">e</a> <a id="9552" href="Ledger.Dijkstra.Specification.Gov.html#9552" class="Bound">aid×states</a> <a id="9563" class="Symbol">=</a> <a id="9565" href="Data.List.Relation.Unary.All.html#1638" class="Datatype">All</a> <a id="9569" class="Symbol">(</a><a id="9570" href="Ledger.Dijkstra.Specification.Gov.html#9142" class="Function">enactable</a> <a id="9580" href="Ledger.Dijkstra.Specification.Gov.html#9550" class="Bound">e</a> <a id="9582" class="Symbol">(</a><a id="9583" href="Ledger.Dijkstra.Specification.Gov.html#8613" class="Function">getAidPairsList</a> <a id="9599" href="Ledger.Dijkstra.Specification.Gov.html#9552" class="Bound">aid×states</a><a id="9609" class="Symbol">))</a> <a id="9612" href="Ledger.Dijkstra.Specification.Gov.html#9552" class="Bound">aid×states</a>

<a id="hasParentE"></a><a id="9624" href="Ledger.Dijkstra.Specification.Gov.html#9624" class="Function">hasParentE</a> <a id="9635" class="Symbol">:</a> <a id="9637" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a> <a id="9648" class="Symbol">→</a> <a id="9650" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1442" class="Function">GovActionID</a> <a id="9662" class="Symbol">→</a> <a id="9664" href="Ledger.Dijkstra.Specification.Gov.Actions.html#542" class="Datatype">GovActionType</a> <a id="9678" class="Symbol">→</a> <a id="9680" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="9685" href="Ledger.Dijkstra.Specification.Gov.html#9624" class="Function">hasParentE</a> <a id="9696" href="Ledger.Dijkstra.Specification.Gov.html#9696" class="Bound">e</a> <a id="9698" href="Ledger.Dijkstra.Specification.Gov.html#9698" class="Bound">aid</a> <a id="9702" href="Ledger.Dijkstra.Specification.Gov.html#9702" class="Bound">gaTy</a> <a id="9707" class="Symbol">=</a> <a id="9709" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="9714" href="Ledger.Dijkstra.Specification.Enact.html#1984" class="Function">getHashES</a> <a id="9724" href="Ledger.Dijkstra.Specification.Gov.html#9696" class="Bound">e</a> <a id="9726" href="Ledger.Dijkstra.Specification.Gov.html#9702" class="Bound">gaTy</a> <a id="9731" href="Function.Base.html#4061" class="Function Operator">of</a>
  <a id="9736" class="Symbol">λ</a> <a id="9738" class="Keyword">where</a>
    <a id="9748" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>    <a id="9759" class="Symbol">→</a> <a id="9761" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="9767" class="Symbol">(</a><a id="9768" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9773" href="Ledger.Dijkstra.Specification.Gov.html#9773" class="Bound">id</a><a id="9775" class="Symbol">)</a>  <a id="9778" class="Symbol">→</a> <a id="9780" href="Ledger.Dijkstra.Specification.Gov.html#9773" class="Bound">id</a> <a id="9783" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="9785" href="Ledger.Dijkstra.Specification.Gov.html#9698" class="Bound">aid</a>

<a id="hasParent"></a><a id="9790" href="Ledger.Dijkstra.Specification.Gov.html#9790" class="Function">hasParent</a> <a id="9800" class="Symbol">:</a> <a id="9802" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a> <a id="9813" class="Symbol">→</a> <a id="9815" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="9824" class="Symbol">→</a> <a id="9826" class="Symbol">(</a><a id="9827" href="Ledger.Dijkstra.Specification.Gov.html#9827" class="Bound">gaTy</a> <a id="9832" class="Symbol">:</a> <a id="9834" href="Ledger.Dijkstra.Specification.Gov.Actions.html#542" class="Datatype">GovActionType</a><a id="9847" class="Symbol">)</a> <a id="9849" class="Symbol">→</a> <a id="9851" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2416" class="Function">NeedsHash</a> <a id="9861" href="Ledger.Dijkstra.Specification.Gov.html#9827" class="Bound">gaTy</a> <a id="9866" class="Symbol">→</a> <a id="9868" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="9873" href="Ledger.Dijkstra.Specification.Gov.html#9790" class="Function">hasParent</a> <a id="9883" href="Ledger.Dijkstra.Specification.Gov.html#9883" class="Bound">e</a> <a id="9885" href="Ledger.Dijkstra.Specification.Gov.html#9885" class="Bound">s</a> <a id="9887" href="Ledger.Dijkstra.Specification.Gov.html#9887" class="Bound">gaTy</a> <a id="9892" href="Ledger.Dijkstra.Specification.Gov.html#9892" class="Bound">aid</a> <a id="9896" class="Symbol">=</a> <a id="9898" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="9903" href="Ledger.Dijkstra.Specification.Enact.html#1644" class="Function">getHash</a> <a id="9911" href="Ledger.Dijkstra.Specification.Gov.html#9892" class="Bound">aid</a> <a id="9915" href="Function.Base.html#4061" class="Function Operator">of</a>
  <a id="9920" class="Symbol">λ</a> <a id="9922" class="Keyword">where</a>
    <a id="9932" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>      <a id="9945" class="Symbol">→</a> <a id="9947" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="9953" class="Symbol">(</a><a id="9954" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9959" href="Ledger.Dijkstra.Specification.Gov.html#9959" class="Bound">aid&#39;</a><a id="9963" class="Symbol">)</a>  <a id="9966" class="Symbol">→</a> <a id="9968" href="Ledger.Dijkstra.Specification.Gov.html#9624" class="Function">hasParentE</a> <a id="9979" href="Ledger.Dijkstra.Specification.Gov.html#9883" class="Bound">e</a> <a id="9981" href="Ledger.Dijkstra.Specification.Gov.html#9959" class="Bound">aid&#39;</a> <a id="9986" href="Ledger.Dijkstra.Specification.Gov.html#9887" class="Bound">gaTy</a>
                   <a id="10010" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="10012" href="Data.List.Relation.Unary.Any.html#1148" class="Datatype">Any</a> <a id="10016" class="Symbol">(λ</a> <a id="10019" class="Symbol">(</a><a id="10020" href="Ledger.Dijkstra.Specification.Gov.html#10020" class="Bound">gid</a> <a id="10024" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10026" href="Ledger.Dijkstra.Specification.Gov.html#10026" class="Bound">gas</a><a id="10029" class="Symbol">)</a> <a id="10031" class="Symbol">→</a> <a id="10033" href="Ledger.Dijkstra.Specification.Gov.html#10020" class="Bound">gid</a> <a id="10037" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10039" href="Ledger.Dijkstra.Specification.Gov.html#9959" class="Bound">aid&#39;</a> <a id="10044" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="10046" href="Ledger.Dijkstra.Specification.Gov.html#2238" class="Function">Overlap</a> <a id="10054" class="Symbol">(</a><a id="10055" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4123" class="Field">GovActionTypeOf</a> <a id="10071" href="Ledger.Dijkstra.Specification.Gov.html#10026" class="Bound">gas</a><a id="10074" class="Symbol">)</a> <a id="10076" href="Ledger.Dijkstra.Specification.Gov.html#9887" class="Bound">gaTy</a><a id="10080" class="Symbol">)</a> <a id="10082" href="Ledger.Dijkstra.Specification.Gov.html#9885" class="Bound">s</a>


<a id="10086" class="Keyword">open</a> <a id="10091" href="Function.Bundles.html#4750" class="Module">Equivalence</a>

<a id="hasParentE?"></a><a id="10104" href="Ledger.Dijkstra.Specification.Gov.html#10104" class="Function">hasParentE?</a> <a id="10116" class="Symbol">:</a> <a id="10118" class="Symbol">∀</a> <a id="10120" href="Ledger.Dijkstra.Specification.Gov.html#10120" class="Bound">e</a> <a id="10122" href="Ledger.Dijkstra.Specification.Gov.html#10122" class="Bound">aid</a> <a id="10126" href="Ledger.Dijkstra.Specification.Gov.html#10126" class="Bound">a</a> <a id="10128" class="Symbol">→</a> <a id="10130" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="10134" class="Symbol">(</a><a id="10135" href="Ledger.Dijkstra.Specification.Gov.html#9624" class="Function">hasParentE</a> <a id="10146" href="Ledger.Dijkstra.Specification.Gov.html#10120" class="Bound">e</a> <a id="10148" href="Ledger.Dijkstra.Specification.Gov.html#10122" class="Bound">aid</a> <a id="10152" href="Ledger.Dijkstra.Specification.Gov.html#10126" class="Bound">a</a><a id="10153" class="Symbol">)</a>
<a id="10155" href="Ledger.Dijkstra.Specification.Gov.html#10104" class="Function">hasParentE?</a> <a id="10167" href="Ledger.Dijkstra.Specification.Gov.html#10167" class="Bound">e</a> <a id="10169" href="Ledger.Dijkstra.Specification.Gov.html#10169" class="Bound">aid</a> <a id="10173" href="Ledger.Dijkstra.Specification.Gov.html#10173" class="Bound">gaTy</a> <a id="10178" class="Keyword">with</a> <a id="10183" href="Ledger.Dijkstra.Specification.Enact.html#1984" class="Function">getHashES</a> <a id="10193" href="Ledger.Dijkstra.Specification.Gov.html#10167" class="Bound">e</a> <a id="10195" href="Ledger.Dijkstra.Specification.Gov.html#10173" class="Bound">gaTy</a>
<a id="10200" class="Symbol">...</a> <a id="10204" class="Symbol">|</a> <a id="10206" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>   <a id="10216" class="Symbol">=</a> <a id="10218" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="10222" class="Symbol">_</a>
<a id="10224" class="Symbol">...</a> <a id="10228" class="Symbol">|</a> <a id="10230" class="Symbol">(</a><a id="10231" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="10236" href="Ledger.Dijkstra.Specification.Gov.html#10236" class="Bound">id</a><a id="10238" class="Symbol">)</a> <a id="10240" class="Symbol">=</a> <a id="10242" href="Ledger.Dijkstra.Specification.Gov.html#10236" class="Bound">id</a> <a id="10245" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="10247" class="Bound">aid</a>

<a id="hasParent?"></a><a id="10252" href="Ledger.Dijkstra.Specification.Gov.html#10252" class="Function">hasParent?</a> <a id="10263" class="Symbol">:</a> <a id="10265" class="Symbol">∀</a> <a id="10267" href="Ledger.Dijkstra.Specification.Gov.html#10267" class="Bound">e</a> <a id="10269" href="Ledger.Dijkstra.Specification.Gov.html#10269" class="Bound">s</a> <a id="10271" href="Ledger.Dijkstra.Specification.Gov.html#10271" class="Bound">a</a> <a id="10273" href="Ledger.Dijkstra.Specification.Gov.html#10273" class="Bound">aid</a> <a id="10277" class="Symbol">→</a> <a id="10279" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="10283" class="Symbol">(</a><a id="10284" href="Ledger.Dijkstra.Specification.Gov.html#9790" class="Function">hasParent</a> <a id="10294" href="Ledger.Dijkstra.Specification.Gov.html#10267" class="Bound">e</a> <a id="10296" href="Ledger.Dijkstra.Specification.Gov.html#10269" class="Bound">s</a> <a id="10298" href="Ledger.Dijkstra.Specification.Gov.html#10271" class="Bound">a</a> <a id="10300" href="Ledger.Dijkstra.Specification.Gov.html#10273" class="Bound">aid</a><a id="10303" class="Symbol">)</a>
<a id="10305" href="Ledger.Dijkstra.Specification.Gov.html#10252" class="Function">hasParent?</a> <a id="10316" href="Ledger.Dijkstra.Specification.Gov.html#10316" class="Bound">e</a> <a id="10318" href="Ledger.Dijkstra.Specification.Gov.html#10318" class="Bound">s</a> <a id="10320" href="Ledger.Dijkstra.Specification.Gov.html#10320" class="Bound">gaTy</a> <a id="10325" href="Ledger.Dijkstra.Specification.Gov.html#10325" class="Bound">aid</a> <a id="10329" class="Keyword">with</a> <a id="10334" href="Ledger.Dijkstra.Specification.Enact.html#1644" class="Function">getHash</a> <a id="10342" href="Ledger.Dijkstra.Specification.Gov.html#10325" class="Bound">aid</a>
<a id="10346" class="Symbol">...</a> <a id="10350" class="Symbol">|</a> <a id="10352" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="10357" href="Ledger.Dijkstra.Specification.Gov.html#10357" class="Bound">aid&#39;</a> <a id="10362" class="Symbol">=</a> <a id="10364" href="Ledger.Dijkstra.Specification.Gov.html#10104" class="Function">hasParentE?</a> <a id="10376" class="Bound">e</a> <a id="10378" href="Ledger.Dijkstra.Specification.Gov.html#10357" class="Bound">aid&#39;</a> <a id="10383" class="Bound">gaTy</a>
                  <a id="10406" href="Relation.Nullary.Decidable.Core.html#3628" class="Function Operator">⊎-dec</a> <a id="10412" href="Data.List.Relation.Unary.Any.html#2684" class="Function">any?</a> <a id="10417" class="Symbol">(λ</a> <a id="10420" class="Symbol">(</a><a id="10421" href="Ledger.Dijkstra.Specification.Gov.html#10421" class="Bound">gid</a> <a id="10425" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10427" href="Ledger.Dijkstra.Specification.Gov.html#10427" class="Bound">gas</a><a id="10430" class="Symbol">)</a> <a id="10432" class="Symbol">→</a> <a id="10434" href="Ledger.Dijkstra.Specification.Gov.html#10421" class="Bound">gid</a> <a id="10438" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="10440" href="Ledger.Dijkstra.Specification.Gov.html#10357" class="Bound">aid&#39;</a> <a id="10445" href="Relation.Nullary.Decidable.Core.html#3432" class="Function Operator">×-dec</a> <a id="10451" href="Ledger.Dijkstra.Specification.Gov.html#3250" class="Function">Overlap?</a> <a id="10460" class="Symbol">(</a><a id="10461" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4123" class="Field">GovActionTypeOf</a> <a id="10477" href="Ledger.Dijkstra.Specification.Gov.html#10427" class="Bound">gas</a><a id="10480" class="Symbol">)</a> <a id="10482" class="Bound">gaTy</a><a id="10486" class="Symbol">)</a> <a id="10488" class="Bound">s</a>
<a id="10490" class="Symbol">...</a> <a id="10494" class="Symbol">|</a> <a id="10496" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="10504" class="Symbol">=</a> <a id="10506" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="10510" class="Symbol">_</a>

<a id="10513" class="Comment">-- newtype to make the instance resolution work</a>
<a id="10561" class="Keyword">data</a> <a id="hasParent&#39;"></a><a id="10566" href="Ledger.Dijkstra.Specification.Gov.html#10566" class="Datatype">hasParent&#39;</a> <a id="10577" class="Symbol">:</a> <a id="10579" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a> <a id="10590" class="Symbol">→</a> <a id="10592" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="10601" class="Symbol">→</a> <a id="10603" class="Symbol">(</a><a id="10604" href="Ledger.Dijkstra.Specification.Gov.html#10604" class="Bound">gaTy</a> <a id="10609" class="Symbol">:</a> <a id="10611" href="Ledger.Dijkstra.Specification.Gov.Actions.html#542" class="Datatype">GovActionType</a><a id="10624" class="Symbol">)</a> <a id="10626" class="Symbol">→</a> <a id="10628" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2416" class="Function">NeedsHash</a> <a id="10638" href="Ledger.Dijkstra.Specification.Gov.html#10604" class="Bound">gaTy</a> <a id="10643" class="Symbol">→</a> <a id="10645" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="10650" class="Keyword">where</a>
  <a id="hasParent&#39;.HasParent&#39;"></a><a id="10658" href="Ledger.Dijkstra.Specification.Gov.html#10658" class="InductiveConstructor">HasParent&#39;</a> <a id="10669" class="Symbol">:</a> <a id="10671" class="Symbol">∀</a> <a id="10673" class="Symbol">{</a><a id="10674" href="Ledger.Dijkstra.Specification.Gov.html#10674" class="Bound">x</a> <a id="10676" href="Ledger.Dijkstra.Specification.Gov.html#10676" class="Bound">y</a> <a id="10678" href="Ledger.Dijkstra.Specification.Gov.html#10678" class="Bound">z</a> <a id="10680" href="Ledger.Dijkstra.Specification.Gov.html#10680" class="Bound">w</a><a id="10681" class="Symbol">}</a> <a id="10683" class="Symbol">→</a> <a id="10685" href="Ledger.Dijkstra.Specification.Gov.html#9790" class="Function">hasParent</a> <a id="10695" href="Ledger.Dijkstra.Specification.Gov.html#10674" class="Bound">x</a> <a id="10697" href="Ledger.Dijkstra.Specification.Gov.html#10676" class="Bound">y</a> <a id="10699" href="Ledger.Dijkstra.Specification.Gov.html#10678" class="Bound">z</a> <a id="10701" href="Ledger.Dijkstra.Specification.Gov.html#10680" class="Bound">w</a> <a id="10703" class="Symbol">→</a> <a id="10705" href="Ledger.Dijkstra.Specification.Gov.html#10566" class="Datatype">hasParent&#39;</a> <a id="10716" href="Ledger.Dijkstra.Specification.Gov.html#10674" class="Bound">x</a> <a id="10718" href="Ledger.Dijkstra.Specification.Gov.html#10676" class="Bound">y</a> <a id="10720" href="Ledger.Dijkstra.Specification.Gov.html#10678" class="Bound">z</a> <a id="10722" href="Ledger.Dijkstra.Specification.Gov.html#10680" class="Bound">w</a>

<a id="10725" class="Keyword">instance</a>
  <a id="hasParent?&#39;"></a><a id="10736" href="Ledger.Dijkstra.Specification.Gov.html#10736" class="Function">hasParent?&#39;</a> <a id="10748" class="Symbol">:</a> <a id="10750" class="Symbol">∀</a> <a id="10752" class="Symbol">{</a><a id="10753" href="Ledger.Dijkstra.Specification.Gov.html#10753" class="Bound">x</a> <a id="10755" href="Ledger.Dijkstra.Specification.Gov.html#10755" class="Bound">y</a> <a id="10757" href="Ledger.Dijkstra.Specification.Gov.html#10757" class="Bound">z</a> <a id="10759" href="Ledger.Dijkstra.Specification.Gov.html#10759" class="Bound">w</a><a id="10760" class="Symbol">}</a> <a id="10762" class="Symbol">→</a> <a id="10764" href="Ledger.Dijkstra.Specification.Gov.html#10566" class="Datatype">hasParent&#39;</a> <a id="10775" href="Ledger.Dijkstra.Specification.Gov.html#10753" class="Bound">x</a> <a id="10777" href="Ledger.Dijkstra.Specification.Gov.html#10755" class="Bound">y</a> <a id="10779" href="Ledger.Dijkstra.Specification.Gov.html#10757" class="Bound">z</a> <a id="10781" href="Ledger.Dijkstra.Specification.Gov.html#10759" class="Bound">w</a> <a id="10783" href="Class.Decidable.Core.html#217" class="Record Operator">⁇</a>
  <a id="10787" href="Ledger.Dijkstra.Specification.Gov.html#10736" class="Function">hasParent?&#39;</a> <a id="10799" class="Symbol">=</a> <a id="10801" href="Class.Decidable.Core.html#262" class="InductiveConstructor Operator">⁇</a> <a id="10803" href="Relation.Nullary.Decidable.Core.html#6309" class="Function">map′</a> <a id="10808" href="Ledger.Dijkstra.Specification.Gov.html#10658" class="InductiveConstructor">HasParent&#39;</a> <a id="10819" class="Symbol">(λ</a> <a id="10822" class="Keyword">where</a> <a id="10828" class="Symbol">(</a><a id="10829" href="Ledger.Dijkstra.Specification.Gov.html#10658" class="InductiveConstructor">HasParent&#39;</a> <a id="10840" href="Ledger.Dijkstra.Specification.Gov.html#10840" class="Bound">x</a><a id="10841" class="Symbol">)</a> <a id="10843" class="Symbol">→</a> <a id="10845" href="Ledger.Dijkstra.Specification.Gov.html#10840" class="Bound">x</a><a id="10846" class="Symbol">)</a> <a id="10848" class="Symbol">(</a><a id="10849" href="Ledger.Dijkstra.Specification.Gov.html#10252" class="Function">hasParent?</a> <a id="10860" class="Symbol">_</a> <a id="10862" class="Symbol">_</a> <a id="10864" class="Symbol">_</a> <a id="10866" class="Symbol">_)</a>

<a id="[_connects_to_?]"></a><a id="10870" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">[_connects_to_?]</a> <a id="10887" class="Symbol">:</a> <a id="10889" class="Symbol">∀</a> <a id="10891" href="Ledger.Dijkstra.Specification.Gov.html#10891" class="Bound">l</a> <a id="10893" href="Ledger.Dijkstra.Specification.Gov.html#10893" class="Bound">aidNew</a> <a id="10900" href="Ledger.Dijkstra.Specification.Gov.html#10900" class="Bound">aidOld</a> <a id="10907" class="Symbol">→</a> <a id="10909" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="10913" class="Symbol">(</a><a id="10914" href="Ledger.Dijkstra.Specification.Gov.html#10891" class="Bound">l</a> <a id="10916" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">connects</a> <a id="10925" href="Ledger.Dijkstra.Specification.Gov.html#10893" class="Bound">aidNew</a> <a id="10932" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">to</a> <a id="10935" href="Ledger.Dijkstra.Specification.Gov.html#10900" class="Bound">aidOld</a><a id="10941" class="Symbol">)</a>
<a id="10943" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">[</a> <a id="10945" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="10948" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">connects</a> <a id="10957" href="Ledger.Dijkstra.Specification.Gov.html#10957" class="Bound">aidNew</a> <a id="10964" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">to</a> <a id="10967" href="Ledger.Dijkstra.Specification.Gov.html#10967" class="Bound">aidOld</a> <a id="10974" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">?]</a> <a id="10977" class="Symbol">=</a> <a id="10979" href="Ledger.Dijkstra.Specification.Gov.html#10957" class="Bound">aidNew</a> <a id="10986" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="10988" href="Ledger.Dijkstra.Specification.Gov.html#10967" class="Bound">aidOld</a>

<a id="10996" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">[</a> <a id="10998" class="Symbol">(</a><a id="10999" href="Ledger.Dijkstra.Specification.Gov.html#10999" class="Bound">aid</a> <a id="11003" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11005" href="Ledger.Dijkstra.Specification.Gov.html#11005" class="Bound">aidPrev</a><a id="11012" class="Symbol">)</a> <a id="11014" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11016" href="Ledger.Dijkstra.Specification.Gov.html#11016" class="Bound">s</a> <a id="11018" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">connects</a> <a id="11027" href="Ledger.Dijkstra.Specification.Gov.html#11027" class="Bound">aidNew</a> <a id="11034" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">to</a> <a id="11037" href="Ledger.Dijkstra.Specification.Gov.html#11037" class="Bound">aidOld</a> <a id="11044" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">?]</a> <a id="11047" class="Symbol">=</a>
  <a id="11051" class="Symbol">((</a><a id="11053" href="Ledger.Dijkstra.Specification.Gov.html#10999" class="Bound">aid</a> <a id="11057" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="11059" href="Ledger.Dijkstra.Specification.Gov.html#11027" class="Bound">aidNew</a><a id="11065" class="Symbol">)</a> <a id="11067" href="Relation.Nullary.Decidable.Core.html#3432" class="Function Operator">×-dec</a> <a id="11073" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">[</a> <a id="11075" href="Ledger.Dijkstra.Specification.Gov.html#11016" class="Bound">s</a> <a id="11077" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">connects</a> <a id="11086" href="Ledger.Dijkstra.Specification.Gov.html#11005" class="Bound">aidPrev</a> <a id="11094" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">to</a> <a id="11097" href="Ledger.Dijkstra.Specification.Gov.html#11037" class="Bound">aidOld</a> <a id="11104" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">?]</a><a id="11106" class="Symbol">)</a> <a id="11108" href="Relation.Nullary.Decidable.Core.html#3628" class="Function Operator">⊎-dec</a> <a id="11114" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">[</a> <a id="11116" href="Ledger.Dijkstra.Specification.Gov.html#11016" class="Bound">s</a> <a id="11118" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">connects</a> <a id="11127" href="Ledger.Dijkstra.Specification.Gov.html#11027" class="Bound">aidNew</a> <a id="11134" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">to</a> <a id="11137" href="Ledger.Dijkstra.Specification.Gov.html#11037" class="Bound">aidOld</a> <a id="11144" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">?]</a>

<a id="any?-connecting-subperm"></a><a id="11148" href="Ledger.Dijkstra.Specification.Gov.html#11148" class="Function">any?-connecting-subperm</a> <a id="11172" class="Symbol">:</a> <a id="11174" class="Symbol">∀</a> <a id="11176" class="Symbol">{</a><a id="11177" href="Ledger.Dijkstra.Specification.Gov.html#11177" class="Bound">u</a><a id="11178" class="Symbol">}</a> <a id="11180" class="Symbol">{</a><a id="11181" href="Ledger.Dijkstra.Specification.Gov.html#11181" class="Bound">v</a><a id="11182" class="Symbol">}</a> <a id="11184" class="Symbol">→</a> <a id="11186" class="Symbol">∀</a> <a id="11188" href="Ledger.Dijkstra.Specification.Gov.html#11188" class="Bound">L</a> <a id="11190" class="Symbol">→</a> <a id="11192" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="11196" class="Symbol">(</a><a id="11197" href="Data.List.Relation.Unary.Any.html#1148" class="Datatype">Any</a><a id="11200" class="Symbol">(λ</a> <a id="11203" href="Ledger.Dijkstra.Specification.Gov.html#11203" class="Bound">l</a> <a id="11205" class="Symbol">→</a> <a id="11207" href="Data.List.Relation.Unary.Unique.Setoid.html#617" class="Datatype">Unique</a> <a id="11214" href="Ledger.Dijkstra.Specification.Gov.html#11203" class="Bound">l</a> <a id="11216" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="11218" href="Ledger.Dijkstra.Specification.Gov.html#11203" class="Bound">l</a> <a id="11220" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">connects</a> <a id="11229" href="Ledger.Dijkstra.Specification.Gov.html#11177" class="Bound">u</a> <a id="11231" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">to</a> <a id="11234" href="Ledger.Dijkstra.Specification.Gov.html#11181" class="Bound">v</a><a id="11235" class="Symbol">)</a> <a id="11237" class="Symbol">(</a><a id="11238" href="stdlib.Data.List.Subpermutations.html#1349" class="Function">subpermutations</a> <a id="11254" href="Ledger.Dijkstra.Specification.Gov.html#11188" class="Bound">L</a><a id="11255" class="Symbol">))</a>
<a id="11258" href="Ledger.Dijkstra.Specification.Gov.html#11148" class="Function">any?-connecting-subperm</a> <a id="11282" class="Symbol">{</a><a id="11283" href="Ledger.Dijkstra.Specification.Gov.html#11283" class="Bound">u</a><a id="11284" class="Symbol">}</a> <a id="11286" class="Symbol">{</a><a id="11287" href="Ledger.Dijkstra.Specification.Gov.html#11287" class="Bound">v</a><a id="11288" class="Symbol">}</a> <a id="11290" href="Ledger.Dijkstra.Specification.Gov.html#11290" class="Bound">L</a> <a id="11292" class="Symbol">=</a> <a id="11294" href="Data.List.Relation.Unary.Any.html#2684" class="Function">any?</a> <a id="11299" class="Symbol">(λ</a> <a id="11302" href="Ledger.Dijkstra.Specification.Gov.html#11302" class="Bound">l</a> <a id="11304" class="Symbol">→</a> <a id="11306" href="Data.List.Relation.Unary.Unique.DecSetoid.html#883" class="Function">unique?</a> <a id="11314" href="Class.DecEq.Core.html#168" class="Field Operator">_≟_</a> <a id="11318" href="Ledger.Dijkstra.Specification.Gov.html#11302" class="Bound">l</a> <a id="11320" href="Relation.Nullary.Decidable.Core.html#3432" class="Function Operator">×-dec</a> <a id="11326" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">[</a> <a id="11328" href="Ledger.Dijkstra.Specification.Gov.html#11302" class="Bound">l</a> <a id="11330" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">connects</a> <a id="11339" href="Ledger.Dijkstra.Specification.Gov.html#11283" class="Bound">u</a> <a id="11341" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">to</a> <a id="11344" href="Ledger.Dijkstra.Specification.Gov.html#11287" class="Bound">v</a> <a id="11346" href="Ledger.Dijkstra.Specification.Gov.html#10870" class="Function Operator">?]</a><a id="11348" class="Symbol">)</a> <a id="11350" class="Symbol">(</a><a id="11351" href="stdlib.Data.List.Subpermutations.html#1349" class="Function">subpermutations</a> <a id="11367" href="Ledger.Dijkstra.Specification.Gov.html#11290" class="Bound">L</a><a id="11368" class="Symbol">)</a>

<a id="∃?-connecting-subperm"></a><a id="11371" href="Ledger.Dijkstra.Specification.Gov.html#11371" class="Function">∃?-connecting-subperm</a> <a id="11393" class="Symbol">:</a> <a id="11395" class="Symbol">∀</a> <a id="11397" class="Symbol">{</a><a id="11398" href="Ledger.Dijkstra.Specification.Gov.html#11398" class="Bound">u</a><a id="11399" class="Symbol">}</a> <a id="11401" class="Symbol">{</a><a id="11402" href="Ledger.Dijkstra.Specification.Gov.html#11402" class="Bound">v</a><a id="11403" class="Symbol">}</a> <a id="11405" class="Symbol">→</a> <a id="11407" class="Symbol">∀</a> <a id="11409" href="Ledger.Dijkstra.Specification.Gov.html#11409" class="Bound">L</a> <a id="11411" class="Symbol">→</a> <a id="11413" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="11417" class="Symbol">(</a><a id="11418" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="11421" href="Ledger.Dijkstra.Specification.Gov.html#11421" class="Bound">l</a> <a id="11423" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="11425" href="Ledger.Dijkstra.Specification.Gov.html#11421" class="Bound">l</a> <a id="11427" href="Prelude.html#669" class="Function Operator">∈ˡ</a> <a id="11430" href="stdlib.Data.List.Subpermutations.html#1349" class="Function">subpermutations</a> <a id="11446" href="Ledger.Dijkstra.Specification.Gov.html#11409" class="Bound">L</a> <a id="11448" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="11450" href="Data.List.Relation.Unary.Unique.Setoid.html#617" class="Datatype">Unique</a> <a id="11457" href="Ledger.Dijkstra.Specification.Gov.html#11421" class="Bound">l</a> <a id="11459" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="11461" href="Ledger.Dijkstra.Specification.Gov.html#11421" class="Bound">l</a> <a id="11463" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">connects</a> <a id="11472" href="Ledger.Dijkstra.Specification.Gov.html#11398" class="Bound">u</a> <a id="11474" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">to</a> <a id="11477" href="Ledger.Dijkstra.Specification.Gov.html#11402" class="Bound">v</a><a id="11478" class="Symbol">)</a>
<a id="11480" href="Ledger.Dijkstra.Specification.Gov.html#11371" class="Function">∃?-connecting-subperm</a> <a id="11502" href="Ledger.Dijkstra.Specification.Gov.html#11502" class="Bound">L</a> <a id="11504" class="Symbol">=</a> <a id="11506" href="Ledger.Dijkstra.Specification.Gov.html#1301" class="Function">map-Dec</a> <a id="11514" class="Symbol">(</a><a id="11515" href="Ledger.Dijkstra.Specification.Gov.html#1380" class="Function">sym-Equiv</a> <a id="11525" class="Symbol">(</a><a id="11526" href="Function.Related.Propositional.html#2470" class="Function">↔⇒</a> <a id="11529" href="Data.List.Membership.Propositional.Properties.Core.html#2770" class="Function">Any↔</a><a id="11533" class="Symbol">))</a> <a id="11536" class="Symbol">(</a><a id="11537" href="Ledger.Dijkstra.Specification.Gov.html#11148" class="Function">any?-connecting-subperm</a> <a id="11561" href="Ledger.Dijkstra.Specification.Gov.html#11502" class="Bound">L</a><a id="11562" class="Symbol">)</a>

<a id="∃?-connecting-subset"></a><a id="11565" href="Ledger.Dijkstra.Specification.Gov.html#11565" class="Function">∃?-connecting-subset</a> <a id="11586" class="Symbol">:</a> <a id="11588" class="Symbol">∀</a> <a id="11590" class="Symbol">{</a><a id="11591" href="Ledger.Dijkstra.Specification.Gov.html#11591" class="Bound">u</a><a id="11592" class="Symbol">}</a> <a id="11594" class="Symbol">{</a><a id="11595" href="Ledger.Dijkstra.Specification.Gov.html#11595" class="Bound">v</a><a id="11596" class="Symbol">}</a> <a id="11598" class="Symbol">→</a> <a id="11600" class="Symbol">∀</a> <a id="11602" href="Ledger.Dijkstra.Specification.Gov.html#11602" class="Bound">L</a> <a id="11604" class="Symbol">→</a> <a id="11606" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="11610" class="Symbol">(</a><a id="11611" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="11614" href="Ledger.Dijkstra.Specification.Gov.html#11614" class="Bound">l</a> <a id="11616" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="11618" href="Ledger.Dijkstra.Specification.Gov.html#11614" class="Bound">l</a> <a id="11620" href="Ledger.Dijkstra.Specification.Gov.html#962" class="Function Operator">⊆ˡ</a> <a id="11623" href="Ledger.Dijkstra.Specification.Gov.html#11602" class="Bound">L</a> <a id="11625" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="11627" href="Data.List.Relation.Unary.Unique.Setoid.html#617" class="Datatype">Unique</a> <a id="11634" href="Ledger.Dijkstra.Specification.Gov.html#11614" class="Bound">l</a> <a id="11636" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="11638" href="Ledger.Dijkstra.Specification.Gov.html#11614" class="Bound">l</a> <a id="11640" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">connects</a> <a id="11649" href="Ledger.Dijkstra.Specification.Gov.html#11591" class="Bound">u</a> <a id="11651" href="Ledger.Dijkstra.Specification.Gov.html#8883" class="Function Operator">to</a> <a id="11654" href="Ledger.Dijkstra.Specification.Gov.html#11595" class="Bound">v</a><a id="11655" class="Symbol">)</a>
<a id="11657" href="Ledger.Dijkstra.Specification.Gov.html#11565" class="Function">∃?-connecting-subset</a> <a id="11678" href="Ledger.Dijkstra.Specification.Gov.html#11678" class="Bound">L</a> <a id="11680" class="Symbol">=</a> <a id="11682" href="Ledger.Dijkstra.Specification.Gov.html#1301" class="Function">map-Dec</a> <a id="11690" class="Symbol">(</a><a id="11691" href="Ledger.Dijkstra.Specification.Gov.html#1380" class="Function">sym-Equiv</a> <a id="11701" href="stdlib.Data.List.Subpermutations.Properties.html#14428" class="Function">∃uniqueSubset⇔∃uniqueSubperm</a><a id="11729" class="Symbol">)</a> <a id="11731" class="Symbol">(</a><a id="11732" href="Ledger.Dijkstra.Specification.Gov.html#11371" class="Function">∃?-connecting-subperm</a> <a id="11754" href="Ledger.Dijkstra.Specification.Gov.html#11678" class="Bound">L</a><a id="11755" class="Symbol">)</a>

<a id="enactable?"></a><a id="11758" href="Ledger.Dijkstra.Specification.Gov.html#11758" class="Function">enactable?</a> <a id="11769" class="Symbol">:</a> <a id="11771" class="Symbol">∀</a> <a id="11773" href="Ledger.Dijkstra.Specification.Gov.html#11773" class="Bound">eState</a> <a id="11780" href="Ledger.Dijkstra.Specification.Gov.html#11780" class="Bound">aidPairs</a> <a id="11789" href="Ledger.Dijkstra.Specification.Gov.html#11789" class="Bound">aidNew×st</a> <a id="11799" class="Symbol">→</a> <a id="11801" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="11805" class="Symbol">(</a><a id="11806" href="Ledger.Dijkstra.Specification.Gov.html#9142" class="Function">enactable</a> <a id="11816" href="Ledger.Dijkstra.Specification.Gov.html#11773" class="Bound">eState</a> <a id="11823" href="Ledger.Dijkstra.Specification.Gov.html#11780" class="Bound">aidPairs</a> <a id="11832" href="Ledger.Dijkstra.Specification.Gov.html#11789" class="Bound">aidNew×st</a><a id="11841" class="Symbol">)</a>
<a id="11843" href="Ledger.Dijkstra.Specification.Gov.html#11758" class="Function">enactable?</a> <a id="11854" href="Ledger.Dijkstra.Specification.Gov.html#11854" class="Bound">eState</a> <a id="11861" href="Ledger.Dijkstra.Specification.Gov.html#11861" class="Bound">aidPairs</a> <a id="11870" class="Symbol">(</a><a id="11871" href="Ledger.Dijkstra.Specification.Gov.html#11871" class="Bound">aidNew</a> <a id="11878" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11880" href="Ledger.Dijkstra.Specification.Gov.html#11880" class="Bound">as</a><a id="11882" class="Symbol">)</a> <a id="11884" class="Keyword">with</a> <a id="11889" href="Ledger.Dijkstra.Specification.Enact.html#1984" class="Function">getHashES</a> <a id="11899" href="Ledger.Dijkstra.Specification.Gov.html#11854" class="Bound">eState</a> <a id="11906" class="Symbol">(</a><a id="11907" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4123" class="Field">GovActionTypeOf</a> <a id="11923" href="Ledger.Dijkstra.Specification.Gov.html#11880" class="Bound">as</a><a id="11925" class="Symbol">)</a>
<a id="11927" class="Symbol">...</a> <a id="11931" class="Symbol">|</a> <a id="11933" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="11941" class="Symbol">=</a> <a id="11943" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="11947" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="11950" class="Symbol">...</a> <a id="11954" class="Symbol">|</a> <a id="11956" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="11961" href="Ledger.Dijkstra.Specification.Gov.html#11961" class="Bound">aidOld</a> <a id="11968" class="Symbol">=</a> <a id="11970" href="Ledger.Dijkstra.Specification.Gov.html#1301" class="Function">map-Dec</a> <a id="11978" class="Symbol">(</a><a id="11979" href="Ledger.Dijkstra.Specification.Gov.html#1380" class="Function">sym-Equiv</a> <a id="11989" href="Axiom.Set.Properties.html#17410" class="Function">∃-sublist-⇔</a><a id="12000" class="Symbol">)</a> <a id="12002" class="Symbol">(</a><a id="12003" href="Ledger.Dijkstra.Specification.Gov.html#11565" class="Function">∃?-connecting-subset</a> <a id="12024" class="Bound">aidPairs</a><a id="12032" class="Symbol">)</a>

<a id="allEnactable?"></a><a id="12035" href="Ledger.Dijkstra.Specification.Gov.html#12035" class="Function">allEnactable?</a> <a id="12049" class="Symbol">:</a> <a id="12051" class="Symbol">∀</a> <a id="12053" href="Ledger.Dijkstra.Specification.Gov.html#12053" class="Bound">eState</a> <a id="12060" href="Ledger.Dijkstra.Specification.Gov.html#12060" class="Bound">aid×states</a> <a id="12071" class="Symbol">→</a> <a id="12073" href="Relation.Nullary.Decidable.Core.html#1966" class="Record">Dec</a> <a id="12077" class="Symbol">(</a><a id="12078" href="Ledger.Dijkstra.Specification.Gov.html#9493" class="Function">allEnactable</a> <a id="12091" href="Ledger.Dijkstra.Specification.Gov.html#12053" class="Bound">eState</a> <a id="12098" href="Ledger.Dijkstra.Specification.Gov.html#12060" class="Bound">aid×states</a><a id="12108" class="Symbol">)</a>
<a id="12110" href="Ledger.Dijkstra.Specification.Gov.html#12035" class="Function">allEnactable?</a> <a id="12124" href="Ledger.Dijkstra.Specification.Gov.html#12124" class="Bound">eState</a> <a id="12131" href="Ledger.Dijkstra.Specification.Gov.html#12131" class="Bound">aid×states</a> <a id="12142" class="Symbol">=</a>
  <a id="12146" href="Data.List.Relation.Unary.All.html#6419" class="Function">all?</a> <a id="12151" class="Symbol">(λ</a> <a id="12154" href="Ledger.Dijkstra.Specification.Gov.html#12154" class="Bound">aid×st</a> <a id="12161" class="Symbol">→</a> <a id="12163" href="Ledger.Dijkstra.Specification.Gov.html#11758" class="Function">enactable?</a> <a id="12174" href="Ledger.Dijkstra.Specification.Gov.html#12124" class="Bound">eState</a> <a id="12181" class="Symbol">(</a><a id="12182" href="Ledger.Dijkstra.Specification.Gov.html#8613" class="Function">getAidPairsList</a> <a id="12198" href="Ledger.Dijkstra.Specification.Gov.html#12131" class="Bound">aid×states</a><a id="12208" class="Symbol">)</a> <a id="12210" href="Ledger.Dijkstra.Specification.Gov.html#12154" class="Bound">aid×st</a><a id="12216" class="Symbol">)</a> <a id="12218" href="Ledger.Dijkstra.Specification.Gov.html#12131" class="Bound">aid×states</a>

<a id="12230" class="Comment">-- newtype to make the instance resolution work</a>
<a id="12278" class="Keyword">data</a> <a id="allEnactable&#39;"></a><a id="12283" href="Ledger.Dijkstra.Specification.Gov.html#12283" class="Datatype">allEnactable&#39;</a> <a id="12297" class="Symbol">:</a> <a id="12299" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a> <a id="12310" class="Symbol">→</a> <a id="12312" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="12321" class="Symbol">→</a> <a id="12323" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="12328" class="Keyword">where</a>
  <a id="allEnactable&#39;.AllEnactable&#39;"></a><a id="12336" href="Ledger.Dijkstra.Specification.Gov.html#12336" class="InductiveConstructor">AllEnactable&#39;</a> <a id="12350" class="Symbol">:</a> <a id="12352" class="Symbol">∀</a> <a id="12354" class="Symbol">{</a><a id="12355" href="Ledger.Dijkstra.Specification.Gov.html#12355" class="Bound">x</a> <a id="12357" href="Ledger.Dijkstra.Specification.Gov.html#12357" class="Bound">y</a><a id="12358" class="Symbol">}</a> <a id="12360" class="Symbol">→</a> <a id="12362" href="Ledger.Dijkstra.Specification.Gov.html#9493" class="Function">allEnactable</a> <a id="12375" href="Ledger.Dijkstra.Specification.Gov.html#12355" class="Bound">x</a> <a id="12377" href="Ledger.Dijkstra.Specification.Gov.html#12357" class="Bound">y</a> <a id="12379" class="Symbol">→</a> <a id="12381" href="Ledger.Dijkstra.Specification.Gov.html#12283" class="Datatype">allEnactable&#39;</a> <a id="12395" href="Ledger.Dijkstra.Specification.Gov.html#12355" class="Bound">x</a> <a id="12397" href="Ledger.Dijkstra.Specification.Gov.html#12357" class="Bound">y</a>

<a id="12400" class="Keyword">instance</a>
  <a id="allEnactable?&#39;"></a><a id="12411" href="Ledger.Dijkstra.Specification.Gov.html#12411" class="Function">allEnactable?&#39;</a> <a id="12426" class="Symbol">:</a> <a id="12428" class="Symbol">∀</a> <a id="12430" class="Symbol">{</a><a id="12431" href="Ledger.Dijkstra.Specification.Gov.html#12431" class="Bound">x</a> <a id="12433" href="Ledger.Dijkstra.Specification.Gov.html#12433" class="Bound">y</a><a id="12434" class="Symbol">}</a> <a id="12436" class="Symbol">→</a> <a id="12438" href="Ledger.Dijkstra.Specification.Gov.html#12283" class="Datatype">allEnactable&#39;</a> <a id="12452" href="Ledger.Dijkstra.Specification.Gov.html#12431" class="Bound">x</a> <a id="12454" href="Ledger.Dijkstra.Specification.Gov.html#12433" class="Bound">y</a> <a id="12456" href="Class.Decidable.Core.html#217" class="Record Operator">⁇</a>
  <a id="12460" href="Ledger.Dijkstra.Specification.Gov.html#12411" class="Function">allEnactable?&#39;</a> <a id="12475" class="Symbol">=</a> <a id="12477" href="Class.Decidable.Core.html#262" class="InductiveConstructor Operator">⁇</a> <a id="12479" href="Relation.Nullary.Decidable.Core.html#6309" class="Function">map′</a> <a id="12484" href="Ledger.Dijkstra.Specification.Gov.html#12336" class="InductiveConstructor">AllEnactable&#39;</a> <a id="12498" class="Symbol">(λ</a> <a id="12501" class="Keyword">where</a> <a id="12507" class="Symbol">(</a><a id="12508" href="Ledger.Dijkstra.Specification.Gov.html#12336" class="InductiveConstructor">AllEnactable&#39;</a> <a id="12522" href="Ledger.Dijkstra.Specification.Gov.html#12522" class="Bound">x</a><a id="12523" class="Symbol">)</a> <a id="12525" class="Symbol">→</a> <a id="12527" href="Ledger.Dijkstra.Specification.Gov.html#12522" class="Bound">x</a><a id="12528" class="Symbol">)</a> <a id="12530" class="Symbol">(</a><a id="12531" href="Ledger.Dijkstra.Specification.Gov.html#12035" class="Function">allEnactable?</a> <a id="12545" class="Symbol">_</a> <a id="12547" class="Symbol">_)</a>

<a id="12551" class="Comment">-- `maxAllEnactable` returns a list `ls` of sublists of the given</a>
<a id="12617" class="Comment">-- list (`aid×states : List (GovActionID × GovActionState)`) such that</a>
<a id="12688" class="Comment">--    (i) each sublist `l ∈ ls` satisfies `allEnactable e l` and</a>
<a id="12753" class="Comment">--   (ii) each sublist `l ∈ ls` is of maximal length among sublists of `aid×states` satisfying `allEnactable`.</a>
<a id="maxAllEnactable"></a><a id="12864" href="Ledger.Dijkstra.Specification.Gov.html#12864" class="Function">maxAllEnactable</a> <a id="12880" class="Symbol">:</a> <a id="12882" href="Ledger.Dijkstra.Specification.Enact.html#582" class="Record">EnactState</a> <a id="12893" class="Symbol">→</a> <a id="12895" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="12904" class="Symbol">→</a> <a id="12906" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="12911" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a>
<a id="12920" href="Ledger.Dijkstra.Specification.Gov.html#12864" class="Function">maxAllEnactable</a> <a id="12936" href="Ledger.Dijkstra.Specification.Gov.html#12936" class="Bound">e</a> <a id="12938" class="Symbol">=</a> <a id="12940" href="stdlib.Data.List.Subpermutations.Properties.html#11807" class="Function">maxsublists⊧P</a> <a id="12954" class="Symbol">(</a><a id="12955" href="Ledger.Dijkstra.Specification.Gov.html#12035" class="Function">allEnactable?</a> <a id="12969" href="Ledger.Dijkstra.Specification.Gov.html#12936" class="Bound">e</a><a id="12970" class="Symbol">)</a>

<a id="12973" class="Comment">-- Every sublist returned by `maxAllEnactable` satisfies (i).</a>
<a id="∈-maxAllEnactable→allEnactable"></a><a id="13035" href="Ledger.Dijkstra.Specification.Gov.html#13035" class="Function">∈-maxAllEnactable→allEnactable</a> <a id="13066" class="Symbol">:</a> <a id="13068" class="Symbol">∀</a> <a id="13070" class="Symbol">{</a><a id="13071" href="Ledger.Dijkstra.Specification.Gov.html#13071" class="Bound">e</a><a id="13072" class="Symbol">}</a> <a id="13074" class="Symbol">{</a><a id="13075" href="Ledger.Dijkstra.Specification.Gov.html#13075" class="Bound">aid×states</a><a id="13085" class="Symbol">}</a> <a id="13087" href="Ledger.Dijkstra.Specification.Gov.html#13087" class="Bound">l</a>
  <a id="13091" class="Symbol">→</a> <a id="13093" href="Ledger.Dijkstra.Specification.Gov.html#13087" class="Bound">l</a> <a id="13095" href="Prelude.html#669" class="Function Operator">∈ˡ</a> <a id="13098" href="Ledger.Dijkstra.Specification.Gov.html#12864" class="Function">maxAllEnactable</a> <a id="13114" href="Ledger.Dijkstra.Specification.Gov.html#13071" class="Bound">e</a> <a id="13116" href="Ledger.Dijkstra.Specification.Gov.html#13075" class="Bound">aid×states</a> <a id="13127" class="Symbol">→</a> <a id="13129" href="Ledger.Dijkstra.Specification.Gov.html#9493" class="Function">allEnactable</a> <a id="13142" href="Ledger.Dijkstra.Specification.Gov.html#13071" class="Bound">e</a> <a id="13144" href="Ledger.Dijkstra.Specification.Gov.html#13087" class="Bound">l</a>
<a id="13146" href="Ledger.Dijkstra.Specification.Gov.html#13035" class="Function">∈-maxAllEnactable→allEnactable</a> <a id="13177" class="Symbol">{</a><a id="13178" href="Ledger.Dijkstra.Specification.Gov.html#13178" class="Bound">e</a><a id="13179" class="Symbol">}</a> <a id="13181" class="Symbol">{</a><a id="13182" href="Ledger.Dijkstra.Specification.Gov.html#13182" class="Bound">aid×states</a><a id="13192" class="Symbol">}</a> <a id="13194" href="Ledger.Dijkstra.Specification.Gov.html#13194" class="Bound">l</a> <a id="13196" href="Ledger.Dijkstra.Specification.Gov.html#13196" class="Bound">l∈</a> <a id="13199" class="Symbol">=</a>
  <a id="13203" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13209" class="Symbol">(</a><a id="13210" href="Data.List.Membership.Propositional.Properties.html#9647" class="Function">∈-filter⁻</a> <a id="13220" class="Symbol">(</a><a id="13221" href="Ledger.Dijkstra.Specification.Gov.html#12035" class="Function">allEnactable?</a> <a id="13235" href="Ledger.Dijkstra.Specification.Gov.html#13178" class="Bound">e</a><a id="13236" class="Symbol">)</a> <a id="13238" class="Symbol">{</a><a id="13239" href="Ledger.Dijkstra.Specification.Gov.html#13194" class="Bound">l</a><a id="13240" class="Symbol">}</a> <a id="13242" class="Symbol">{</a><a id="13243" href="stdlib.Data.List.Subpermutations.html#987" class="Function">sublists</a> <a id="13252" href="Ledger.Dijkstra.Specification.Gov.html#13182" class="Bound">aid×states</a><a id="13262" class="Symbol">}</a>
          <a id="13274" class="Symbol">(</a><a id="13275" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="13281" class="Symbol">(</a><a id="13282" href="Data.List.Membership.Propositional.Properties.html#9647" class="Function">∈-filter⁻</a> <a id="13292" class="Symbol">(λ</a> <a id="13295" href="Ledger.Dijkstra.Specification.Gov.html#13295" class="Bound">l</a> <a id="13297" class="Symbol">→</a> <a id="13299" href="Data.List.Base.html#4746" class="Function">length</a> <a id="13306" href="Ledger.Dijkstra.Specification.Gov.html#13295" class="Bound">l</a> <a id="13308" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="13310" href="stdlib.Data.List.Subpermutations.Properties.html#1975" class="Function">maxlen</a> <a id="13317" class="Symbol">(</a><a id="13318" href="stdlib.Data.List.Subpermutations.Properties.html#11610" class="Function">sublists⊧P</a> <a id="13329" class="Symbol">(</a><a id="13330" href="Ledger.Dijkstra.Specification.Gov.html#12035" class="Function">allEnactable?</a> <a id="13344" href="Ledger.Dijkstra.Specification.Gov.html#13178" class="Bound">e</a><a id="13345" class="Symbol">)</a> <a id="13347" href="Ledger.Dijkstra.Specification.Gov.html#13182" class="Bound">aid×states</a><a id="13357" class="Symbol">))</a> <a id="13360" href="Ledger.Dijkstra.Specification.Gov.html#13196" class="Bound">l∈</a><a id="13362" class="Symbol">)))</a>

<a id="13367" class="Comment">-- Every sublist returned by `maxAllEnactable` satisfies (ii).</a>
<a id="∈-maxAllEnactable→maxLength"></a><a id="13430" href="Ledger.Dijkstra.Specification.Gov.html#13430" class="Function">∈-maxAllEnactable→maxLength</a> <a id="13458" class="Symbol">:</a> <a id="13460" class="Symbol">∀</a> <a id="13462" class="Symbol">{</a><a id="13463" href="Ledger.Dijkstra.Specification.Gov.html#13463" class="Bound">e</a> <a id="13465" href="Ledger.Dijkstra.Specification.Gov.html#13465" class="Bound">aid×states</a> <a id="13476" href="Ledger.Dijkstra.Specification.Gov.html#13476" class="Bound">l</a> <a id="13478" href="Ledger.Dijkstra.Specification.Gov.html#13478" class="Bound">l&#39;</a><a id="13480" class="Symbol">}</a>
                              <a id="13512" class="Symbol">→</a> <a id="13514" href="Ledger.Dijkstra.Specification.Gov.html#13476" class="Bound">l</a> <a id="13516" href="Prelude.html#669" class="Function Operator">∈ˡ</a> <a id="13519" href="stdlib.Data.List.Subpermutations.html#987" class="Function">sublists</a> <a id="13528" href="Ledger.Dijkstra.Specification.Gov.html#13465" class="Bound">aid×states</a> <a id="13539" class="Symbol">→</a> <a id="13541" href="Ledger.Dijkstra.Specification.Gov.html#9493" class="Function">allEnactable</a> <a id="13554" href="Ledger.Dijkstra.Specification.Gov.html#13463" class="Bound">e</a> <a id="13556" href="Ledger.Dijkstra.Specification.Gov.html#13476" class="Bound">l</a>
                              <a id="13588" class="Symbol">→</a> <a id="13590" href="Ledger.Dijkstra.Specification.Gov.html#13478" class="Bound">l&#39;</a> <a id="13593" href="Prelude.html#669" class="Function Operator">∈ˡ</a> <a id="13596" href="Ledger.Dijkstra.Specification.Gov.html#12864" class="Function">maxAllEnactable</a> <a id="13612" href="Ledger.Dijkstra.Specification.Gov.html#13463" class="Bound">e</a> <a id="13614" href="Ledger.Dijkstra.Specification.Gov.html#13465" class="Bound">aid×states</a>
                              <a id="13655" class="Symbol">→</a> <a id="13657" href="Data.List.Base.html#4746" class="Function">length</a> <a id="13664" href="Ledger.Dijkstra.Specification.Gov.html#13476" class="Bound">l</a> <a id="13666" href="Class.HasOrder.Core.html#613" class="Field Operator">≤</a> <a id="13668" href="Data.List.Base.html#4746" class="Function">length</a> <a id="13675" href="Ledger.Dijkstra.Specification.Gov.html#13478" class="Bound">l&#39;</a>
<a id="13678" href="Ledger.Dijkstra.Specification.Gov.html#13430" class="Function">∈-maxAllEnactable→maxLength</a> <a id="13706" class="Symbol">{</a><a id="13707" href="Ledger.Dijkstra.Specification.Gov.html#13707" class="Bound">e</a><a id="13708" class="Symbol">}</a> <a id="13710" class="Symbol">{</a><a id="13711" href="Ledger.Dijkstra.Specification.Gov.html#13711" class="Bound">aid×states</a><a id="13721" class="Symbol">}</a> <a id="13723" class="Symbol">{</a><a id="13724" href="Ledger.Dijkstra.Specification.Gov.html#13724" class="Bound">l</a><a id="13725" class="Symbol">}</a> <a id="13727" class="Symbol">{</a><a id="13728" href="Ledger.Dijkstra.Specification.Gov.html#13728" class="Bound">l&#39;</a><a id="13730" class="Symbol">}</a> <a id="13732" href="Ledger.Dijkstra.Specification.Gov.html#13732" class="Bound">l∈</a> <a id="13735" href="Ledger.Dijkstra.Specification.Gov.html#13735" class="Bound">el</a> <a id="13738" href="Ledger.Dijkstra.Specification.Gov.html#13738" class="Bound">l&#39;∈</a> <a id="13742" class="Symbol">=</a>
  <a id="13746" class="Keyword">let</a> <a id="13750" href="Ledger.Dijkstra.Specification.Gov.html#13750" class="Bound">ls</a> <a id="13753" class="Symbol">=</a> <a id="13755" href="stdlib.Data.List.Subpermutations.Properties.html#11610" class="Function">sublists⊧P</a> <a id="13766" class="Symbol">(</a><a id="13767" href="Ledger.Dijkstra.Specification.Gov.html#12035" class="Function">allEnactable?</a> <a id="13781" href="Ledger.Dijkstra.Specification.Gov.html#13707" class="Bound">e</a><a id="13782" class="Symbol">)</a> <a id="13784" href="Ledger.Dijkstra.Specification.Gov.html#13711" class="Bound">aid×states</a> <a id="13795" class="Keyword">in</a>
    <a id="13802" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="13808" class="Symbol">(</a><a id="13809" href="Data.List.Base.html#4746" class="Function">length</a> <a id="13816" href="Ledger.Dijkstra.Specification.Gov.html#13724" class="Bound">l</a> <a id="13818" href="Class.HasOrder.Core.html#613" class="Field Operator">≤_</a><a id="13820" class="Symbol">)</a>
          <a id="13832" class="Symbol">(</a><a id="13833" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">sym</a> <a id="13837" class="Symbol">(</a><a id="13838" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="13844" class="Symbol">(</a><a id="13845" href="Data.List.Membership.Propositional.Properties.html#9647" class="Function">∈-filter⁻</a> <a id="13855" class="Symbol">(λ</a> <a id="13858" href="Ledger.Dijkstra.Specification.Gov.html#13858" class="Bound">l</a> <a id="13860" class="Symbol">→</a> <a id="13862" href="Data.List.Base.html#4746" class="Function">length</a> <a id="13869" href="Ledger.Dijkstra.Specification.Gov.html#13858" class="Bound">l</a> <a id="13871" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="13873" href="stdlib.Data.List.Subpermutations.Properties.html#1975" class="Function">maxlen</a> <a id="13880" href="Ledger.Dijkstra.Specification.Gov.html#13750" class="Bound">ls</a><a id="13882" class="Symbol">)</a> <a id="13884" class="Symbol">{</a><a id="13885" class="Argument">xs</a> <a id="13888" class="Symbol">=</a> <a id="13890" href="Ledger.Dijkstra.Specification.Gov.html#13750" class="Bound">ls</a><a id="13892" class="Symbol">}</a> <a id="13894" href="Ledger.Dijkstra.Specification.Gov.html#13738" class="Bound">l&#39;∈</a><a id="13897" class="Symbol">)))</a>
          <a id="13911" class="Symbol">(</a><a id="13912" href="stdlib.Data.List.Subpermutations.Properties.html#2222" class="Function">∈-maxlen-≤</a> <a id="13923" href="Ledger.Dijkstra.Specification.Gov.html#13724" class="Bound">l</a> <a id="13925" class="Symbol">(</a><a id="13926" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a> <a id="13936" class="Symbol">(</a><a id="13937" href="Ledger.Dijkstra.Specification.Gov.html#12035" class="Function">allEnactable?</a> <a id="13951" href="Ledger.Dijkstra.Specification.Gov.html#13707" class="Bound">e</a><a id="13952" class="Symbol">)</a> <a id="13954" href="Ledger.Dijkstra.Specification.Gov.html#13732" class="Bound">l∈</a> <a id="13957" href="Ledger.Dijkstra.Specification.Gov.html#13735" class="Bound">el</a><a id="13959" class="Symbol">))</a>


<a id="13964" class="Comment">-- Validity and Wellformedness Predicates --</a>

<a id="14010" class="Comment">-- ensure the proposed action is valid given the current state of the system</a>
<a id="actionValid"></a><a id="14087" href="Ledger.Dijkstra.Specification.Gov.html#14087" class="Function">actionValid</a> <a id="14099" class="Symbol">:</a> <a id="14101" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="14103" href="Ledger.Core.Specification.Address.html#259" class="Datatype">Credential</a> <a id="14114" class="Symbol">→</a> <a id="14116" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="14122" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="14133" class="Symbol">→</a> <a id="14135" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="14141" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="14152" class="Symbol">→</a> <a id="14154" href="Ledger.Core.Specification.Epoch.html#646" class="Function">Epoch</a> <a id="14160" class="Symbol">→</a> <a id="14162" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1238" class="Record">GovAction</a> <a id="14172" class="Symbol">→</a> <a id="14174" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="14179" href="Ledger.Dijkstra.Specification.Gov.html#14087" class="Function">actionValid</a> <a id="14191" class="Symbol">_</a> <a id="14193" href="Ledger.Dijkstra.Specification.Gov.html#14193" class="Bound">p</a> <a id="14195" href="Ledger.Dijkstra.Specification.Gov.html#14195" class="Bound">ppolicy</a> <a id="14203" class="Symbol">_</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#723}{\htmlId{14207}{\htmlClass{InductiveConstructor}{\text{ChangePParams}}}}\, \\ \,\htmlId{14223}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a> <a id="14229" class="Symbol">=</a> <a id="14231" href="Ledger.Dijkstra.Specification.Gov.html#14193" class="Bound">p</a> <a id="14233" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14235" href="Ledger.Dijkstra.Specification.Gov.html#14195" class="Bound">ppolicy</a>
<a id="14243" href="Ledger.Dijkstra.Specification.Gov.html#14087" class="Function">actionValid</a> <a id="14255" href="Ledger.Dijkstra.Specification.Gov.html#14255" class="Bound">rwdCreds</a> <a id="14264" href="Ledger.Dijkstra.Specification.Gov.html#14264" class="Bound">p</a> <a id="14266" href="Ledger.Dijkstra.Specification.Gov.html#14266" class="Bound">ppolicy</a> <a id="14274" class="Symbol">_</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#761}{\htmlId{14278}{\htmlClass{InductiveConstructor}{\text{TreasuryWithdrawal}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#14299}{\htmlId{14299}{\htmlClass{Bound}{\text{wdrls}}}}\, \end{pmatrix}$</a> <a id="14309" class="Symbol">=</a> <a id="14311" href="Ledger.Dijkstra.Specification.Gov.html#14264" class="Bound">p</a> <a id="14313" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14315" href="Ledger.Dijkstra.Specification.Gov.html#14266" class="Bound">ppolicy</a> <a id="14323" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14325" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="14330" href="Ledger.Core.Specification.Address.html#421" class="Field">CredentialOf</a> <a id="14343" class="Symbol">(</a><a id="14344" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14348" href="Ledger.Dijkstra.Specification.Gov.html#14299" class="Bound">wdrls</a><a id="14353" class="Symbol">)</a> <a id="14355" href="Interface.TypeClasses.HasSubset.html#172" class="Field Operator">⊆</a> <a id="14357" href="Ledger.Dijkstra.Specification.Gov.html#14255" class="Bound">rwdCreds</a>
<a id="14366" href="Ledger.Dijkstra.Specification.Gov.html#14087" class="Function">actionValid</a> <a id="14378" class="Symbol">_</a> <a id="14380" href="Ledger.Dijkstra.Specification.Gov.html#14380" class="Bound">p</a> <a id="14382" class="Symbol">_</a> <a id="14384" href="Ledger.Dijkstra.Specification.Gov.html#14384" class="Bound">epoch</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#609}{\htmlId{14392}{\htmlClass{InductiveConstructor}{\text{UpdateCommittee}}}}\, \\ \,\htmlId{14410}{\htmlClass{Symbol}{\text{(}}}\,\,\href{Ledger.Dijkstra.Specification.Gov.html#14411}{\htmlId{14411}{\htmlClass{Bound}{\text{new}}}}\, , \,\href{Ledger.Dijkstra.Specification.Gov.html#14417}{\htmlId{14417}{\htmlClass{Bound}{\text{rem}}}}\, , \,\href{Ledger.Dijkstra.Specification.Gov.html#14423}{\htmlId{14423}{\htmlClass{Bound}{\text{q}}}}\,\,\htmlId{14424}{\htmlClass{Symbol}{\text{)}}}\, \end{pmatrix}$</a> <a id="14430" class="Symbol">=</a> <a id="14432" href="Ledger.Dijkstra.Specification.Gov.html#14380" class="Bound">p</a> <a id="14434" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14436" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="14444" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14446" class="Symbol">(</a><a id="14447" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="14450" href="Ledger.Dijkstra.Specification.Gov.html#14450" class="Bound">e</a> <a id="14452" href="Class.IsSet.html#576" class="Function">∈</a> <a id="14454" href="Class.IsSet.html#959" class="Function">range</a> <a id="14460" href="Ledger.Dijkstra.Specification.Gov.html#14411" class="Bound">new</a> <a id="14464" href="Class.IsSet.html#576" class="Function">]</a> <a id="14466" href="Ledger.Dijkstra.Specification.Gov.html#14384" class="Bound">epoch</a> <a id="14472" href="Class.HasOrder.Core.html#646" class="Field Operator">&lt;</a> <a id="14474" href="Ledger.Dijkstra.Specification.Gov.html#14450" class="Bound">e</a><a id="14475" class="Symbol">)</a> <a id="14477" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14479" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14483" href="Ledger.Dijkstra.Specification.Gov.html#14411" class="Bound">new</a> <a id="14487" href="Axiom.Set.html#9477" class="Function Operator">∩</a> <a id="14489" href="Ledger.Dijkstra.Specification.Gov.html#14417" class="Bound">rem</a> <a id="14493" href="Axiom.Set.html#2772" class="Function Operator">≡ᵉ</a> <a id="14496" href="Class.HasEmptySet.html#287" class="Field">∅</a>
<a id="14498" href="Ledger.Dijkstra.Specification.Gov.html#14087" class="CatchallClause Function">actionValid</a><a id="14509" class="CatchallClause"> </a><a id="14510" class="CatchallClause Symbol">_</a><a id="14511" class="CatchallClause"> </a><a id="14512" href="Ledger.Dijkstra.Specification.Gov.html#14512" class="CatchallClause Bound">p</a><a id="14513" class="CatchallClause"> </a><a id="14514" class="CatchallClause Symbol">_</a><a id="14515" class="CatchallClause"> </a><a id="14516" class="CatchallClause Symbol">_</a><a id="14517" class="CatchallClause"> </a><a id="14518" class="CatchallClause Symbol">_</a> <a id="14520" class="Symbol">=</a> <a id="14522" href="Ledger.Dijkstra.Specification.Gov.html#14512" class="Bound">p</a> <a id="14524" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14526" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

<a id="14535" class="Comment">-- ensure the proposed action is well-formed</a>
<a id="actionWellFormed"></a><a id="14580" href="Ledger.Dijkstra.Specification.Gov.html#14580" class="Function">actionWellFormed</a> <a id="14597" class="Symbol">:</a> <a id="14599" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1238" class="Record">GovAction</a> <a id="14609" class="Symbol">→</a> <a id="14611" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="14616" href="Ledger.Dijkstra.Specification.Gov.html#14580" class="Function">actionWellFormed</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#723}{\htmlId{14635}{\htmlClass{InductiveConstructor}{\text{ChangePParams}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#14651}{\htmlId{14651}{\htmlClass{Bound}{\text{ppup}}}}\, \end{pmatrix}$</a> <a id="14660" class="Symbol">=</a> <a id="14662" href="Ledger.Dijkstra.Specification.PParams.html#14292" class="Function">ppdWellFormed</a> <a id="14676" href="Ledger.Dijkstra.Specification.Gov.html#14651" class="Bound">ppup</a>
<a id="14681" href="Ledger.Dijkstra.Specification.Gov.html#14580" class="Function">actionWellFormed</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#761}{\htmlId{14700}{\htmlClass{InductiveConstructor}{\text{TreasuryWithdrawal}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#14721}{\htmlId{14721}{\htmlClass{Bound}{\text{wdrls}}}}\, \end{pmatrix}$</a> <a id="14731" class="Symbol">=</a>  <a id="14734" class="Symbol">(</a><a id="14735" href="Class.IsSet.html#576" class="Function">∀[</a> <a id="14738" href="Ledger.Dijkstra.Specification.Gov.html#14738" class="Bound">a</a> <a id="14740" href="Class.IsSet.html#576" class="Function">∈</a> <a id="14742" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14746" href="Ledger.Dijkstra.Specification.Gov.html#14721" class="Bound">wdrls</a> <a id="14752" href="Class.IsSet.html#576" class="Function">]</a> <a id="14754" href="Ledger.Core.Specification.Address.html#1580" class="Field">NetworkIdOf</a> <a id="14766" href="Ledger.Dijkstra.Specification.Gov.html#14738" class="Bound">a</a> <a id="14768" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14770" href="Ledger.Core.Specification.Epoch.html#2703" class="Function">NetworkId</a><a id="14779" class="Symbol">)</a>
                                                     <a id="14834" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="14836" href="Class.IsSet.html#736" class="Function">∃[</a> <a id="14839" href="Ledger.Dijkstra.Specification.Gov.html#14839" class="Bound">v</a> <a id="14841" href="Class.IsSet.html#736" class="Function">∈</a> <a id="14843" href="Class.IsSet.html#959" class="Function">range</a> <a id="14849" href="Ledger.Dijkstra.Specification.Gov.html#14721" class="Bound">wdrls</a> <a id="14855" href="Class.IsSet.html#736" class="Function">]</a> <a id="14857" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="14859" class="Symbol">(</a><a id="14860" href="Ledger.Dijkstra.Specification.Gov.html#14839" class="Bound">v</a> <a id="14862" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14864" class="Number">0</a><a id="14865" class="Symbol">)</a>
<a id="14867" href="Ledger.Dijkstra.Specification.Gov.html#14580" class="CatchallClause Function">actionWellFormed</a><a id="14883" class="CatchallClause"> </a><a id="14884" class="CatchallClause Symbol">_</a> <a id="14886" class="Symbol">=</a> <a id="14888" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>


<a id="actionValid?"></a><a id="14892" href="Ledger.Dijkstra.Specification.Gov.html#14892" class="Function">actionValid?</a> <a id="14905" class="Symbol">:</a> <a id="14907" class="Symbol">∀</a> <a id="14909" class="Symbol">{</a><a id="14910" href="Ledger.Dijkstra.Specification.Gov.html#14910" class="Bound">rewardCreds</a> <a id="14922" href="Ledger.Dijkstra.Specification.Gov.html#14922" class="Bound">p</a> <a id="14924" href="Ledger.Dijkstra.Specification.Gov.html#14924" class="Bound">ppolicy</a> <a id="14932" href="Ledger.Dijkstra.Specification.Gov.html#14932" class="Bound">epoch</a> <a id="14938" href="Ledger.Dijkstra.Specification.Gov.html#14938" class="Bound">a</a><a id="14939" class="Symbol">}</a> <a id="14941" class="Symbol">→</a> <a id="14943" href="Ledger.Dijkstra.Specification.Gov.html#14087" class="Function">actionValid</a> <a id="14955" href="Ledger.Dijkstra.Specification.Gov.html#14910" class="Bound">rewardCreds</a> <a id="14967" href="Ledger.Dijkstra.Specification.Gov.html#14922" class="Bound">p</a> <a id="14969" href="Ledger.Dijkstra.Specification.Gov.html#14924" class="Bound">ppolicy</a> <a id="14977" href="Ledger.Dijkstra.Specification.Gov.html#14932" class="Bound">epoch</a> <a id="14983" href="Ledger.Dijkstra.Specification.Gov.html#14938" class="Bound">a</a> <a id="14985" href="Class.Decidable.Core.html#217" class="Record Operator">⁇</a>
<a id="14987" href="Ledger.Dijkstra.Specification.Gov.html#14892" class="Function">actionValid?</a> <a id="15000" class="Symbol">{</a><a id="15001" class="Argument">a</a> <a id="15003" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#571}{\htmlId{15007}{\htmlClass{InductiveConstructor}{\text{NoConfidence}}}}\,        \\ \,\htmlId{15029}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15034" class="Symbol">}</a> <a id="15036" class="Symbol">=</a> <a id="15038" href="Function.Base.html#4755" class="Function">it</a>
<a id="15041" href="Ledger.Dijkstra.Specification.Gov.html#14892" class="Function">actionValid?</a> <a id="15054" class="Symbol">{</a><a id="15055" class="Argument">a</a> <a id="15057" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#609}{\htmlId{15061}{\htmlClass{InductiveConstructor}{\text{UpdateCommittee}}}}\,     \\ \,\htmlId{15083}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15088" class="Symbol">}</a> <a id="15090" class="Symbol">=</a> <a id="15092" href="Function.Base.html#4755" class="Function">it</a>
<a id="15095" href="Ledger.Dijkstra.Specification.Gov.html#14892" class="Function">actionValid?</a> <a id="15108" class="Symbol">{</a><a id="15109" class="Argument">a</a> <a id="15111" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#647}{\htmlId{15115}{\htmlClass{InductiveConstructor}{\text{NewConstitution}}}}\,     \\ \,\htmlId{15137}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15142" class="Symbol">}</a> <a id="15144" class="Symbol">=</a> <a id="15146" href="Function.Base.html#4755" class="Function">it</a>
<a id="15149" href="Ledger.Dijkstra.Specification.Gov.html#14892" class="Function">actionValid?</a> <a id="15162" class="Symbol">{</a><a id="15163" class="Argument">a</a> <a id="15165" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#685}{\htmlId{15169}{\htmlClass{InductiveConstructor}{\text{TriggerHardFork}}}}\,     \\ \,\htmlId{15191}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15196" class="Symbol">}</a> <a id="15198" class="Symbol">=</a> <a id="15200" href="Function.Base.html#4755" class="Function">it</a>
<a id="15203" href="Ledger.Dijkstra.Specification.Gov.html#14892" class="Function">actionValid?</a> <a id="15216" class="Symbol">{</a><a id="15217" class="Argument">a</a> <a id="15219" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#723}{\htmlId{15223}{\htmlClass{InductiveConstructor}{\text{ChangePParams}}}}\,       \\ \,\htmlId{15245}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15250" class="Symbol">}</a> <a id="15252" class="Symbol">=</a> <a id="15254" href="Function.Base.html#4755" class="Function">it</a>
<a id="15257" href="Ledger.Dijkstra.Specification.Gov.html#14892" class="Function">actionValid?</a> <a id="15270" class="Symbol">{</a><a id="15271" class="Argument">a</a> <a id="15273" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#761}{\htmlId{15277}{\htmlClass{InductiveConstructor}{\text{TreasuryWithdrawal}}}}\,  \\ \,\htmlId{15299}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15304" class="Symbol">}</a> <a id="15306" class="Symbol">=</a> <a id="15308" href="Function.Base.html#4755" class="Function">it</a>
<a id="15311" href="Ledger.Dijkstra.Specification.Gov.html#14892" class="Function">actionValid?</a> <a id="15324" class="Symbol">{</a><a id="15325" class="Argument">a</a> <a id="15327" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#799}{\htmlId{15331}{\htmlClass{InductiveConstructor}{\text{Info}}}}\,                \\ \,\htmlId{15353}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15358" class="Symbol">}</a> <a id="15360" class="Symbol">=</a> <a id="15362" href="Function.Base.html#4755" class="Function">it</a>

<a id="actionWellFormed?"></a><a id="15366" href="Ledger.Dijkstra.Specification.Gov.html#15366" class="Function">actionWellFormed?</a> <a id="15384" class="Symbol">:</a> <a id="15386" class="Symbol">∀</a> <a id="15388" class="Symbol">{</a><a id="15389" href="Ledger.Dijkstra.Specification.Gov.html#15389" class="Bound">a</a><a id="15390" class="Symbol">}</a> <a id="15392" class="Symbol">→</a> <a id="15394" href="Ledger.Dijkstra.Specification.Gov.html#14580" class="Function">actionWellFormed</a> <a id="15411" href="Ledger.Dijkstra.Specification.Gov.html#15389" class="Bound">a</a> <a id="15413" href="Class.Decidable.Core.html#217" class="Record Operator">⁇</a>
<a id="15415" href="Ledger.Dijkstra.Specification.Gov.html#15366" class="Function">actionWellFormed?</a> <a id="15433" class="Symbol">{</a><a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#571}{\htmlId{15436}{\htmlClass{InductiveConstructor}{\text{NoConfidence}}}}\,        \\ \,\htmlId{15458}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15463" class="Symbol">}</a> <a id="15465" class="Symbol">=</a> <a id="15467" href="Function.Base.html#4755" class="Function">it</a>
<a id="15470" href="Ledger.Dijkstra.Specification.Gov.html#15366" class="Function">actionWellFormed?</a> <a id="15488" class="Symbol">{</a><a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#609}{\htmlId{15491}{\htmlClass{InductiveConstructor}{\text{UpdateCommittee}}}}\,     \\ \,\htmlId{15513}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15518" class="Symbol">}</a> <a id="15520" class="Symbol">=</a> <a id="15522" href="Function.Base.html#4755" class="Function">it</a>
<a id="15525" href="Ledger.Dijkstra.Specification.Gov.html#15366" class="Function">actionWellFormed?</a> <a id="15543" class="Symbol">{</a><a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#647}{\htmlId{15546}{\htmlClass{InductiveConstructor}{\text{NewConstitution}}}}\,     \\ \,\htmlId{15568}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15573" class="Symbol">}</a> <a id="15575" class="Symbol">=</a> <a id="15577" href="Function.Base.html#4755" class="Function">it</a>
<a id="15580" href="Ledger.Dijkstra.Specification.Gov.html#15366" class="Function">actionWellFormed?</a> <a id="15598" class="Symbol">{</a><a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#685}{\htmlId{15601}{\htmlClass{InductiveConstructor}{\text{TriggerHardFork}}}}\,     \\ \,\htmlId{15623}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15628" class="Symbol">}</a> <a id="15630" class="Symbol">=</a> <a id="15632" href="Function.Base.html#4755" class="Function">it</a>
<a id="15635" href="Ledger.Dijkstra.Specification.Gov.html#15366" class="Function">actionWellFormed?</a> <a id="15653" class="Symbol">{</a><a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#723}{\htmlId{15656}{\htmlClass{InductiveConstructor}{\text{ChangePParams}}}}\,       \\ \,\htmlId{15678}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15683" class="Symbol">}</a> <a id="15685" class="Symbol">=</a> <a id="15687" href="Function.Base.html#4755" class="Function">it</a>
<a id="15690" href="Ledger.Dijkstra.Specification.Gov.html#15366" class="Function">actionWellFormed?</a> <a id="15708" class="Symbol">{</a><a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#761}{\htmlId{15711}{\htmlClass{InductiveConstructor}{\text{TreasuryWithdrawal}}}}\,  \\ \,\htmlId{15733}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15738" class="Symbol">}</a> <a id="15740" class="Symbol">=</a> <a id="15742" href="Function.Base.html#4755" class="Function">it</a>
<a id="15745" href="Ledger.Dijkstra.Specification.Gov.html#15366" class="Function">actionWellFormed?</a> <a id="15763" class="Symbol">{</a><a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.Actions.html#799}{\htmlId{15766}{\htmlClass{InductiveConstructor}{\text{Info}}}}\,                \\ \,\htmlId{15788}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="15793" class="Symbol">}</a> <a id="15795" class="Symbol">=</a> <a id="15797" href="Function.Base.html#4755" class="Function">it</a>

<a id="15801" class="Keyword">open</a> <a id="15806" href="Ledger.Dijkstra.Specification.Gov.html#1581" class="Module">GovEnv</a>
<a id="15813" class="Keyword">open</a> <a id="15818" href="Ledger.Dijkstra.Specification.PParams.html#1960" class="Module">PParams</a> <a id="15826" class="Keyword">hiding</a> <a id="15833" class="Symbol">(</a><a id="15834" href="Ledger.Dijkstra.Specification.PParams.html#2385" class="Field">a</a><a id="15835" class="Symbol">)</a>
<a id="15837" class="Keyword">open</a> <a id="15842" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1542" class="Module">GovVoter</a>

<a id="15852" class="Keyword">variable</a>
  <a id="15863" href="Ledger.Dijkstra.Specification.Gov.html#15863" class="Generalizable">machr</a> <a id="15869" class="Symbol">:</a> <a id="15871" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="15877" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1673" class="Record">Anchor</a>
  <a id="15886" href="Ledger.Dijkstra.Specification.Gov.html#15886" class="Generalizable">achr</a> <a id="15891" class="Symbol">:</a> <a id="15893" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1673" class="Record">Anchor</a>
  <a id="15902" href="Ledger.Dijkstra.Specification.Gov.html#15902" class="Generalizable">ast</a>  <a id="15907" class="Symbol">:</a> <a id="15909" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3406" class="Record">GovActionState</a>


<a id="15926" class="Keyword">data</a> <a id="_⊢_⇀⦇_,GOV⦈_"></a><a id="15931" href="Ledger.Dijkstra.Specification.Gov.html#15931" class="Datatype Operator">_⊢_⇀⦇_,GOV⦈_</a> <a id="15944" class="Symbol">:</a> <a id="15946" href="Ledger.Dijkstra.Specification.Gov.html#1581" class="Record">GovEnv</a> <a id="15953" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="15955" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="15957" class="Symbol">→</a> <a id="15959" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="15968" class="Symbol">→</a> <a id="15970" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a> <a id="15978" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="15980" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a> <a id="15992" class="Symbol">→</a> <a id="15994" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="16003" class="Symbol">→</a> <a id="16005" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="16010" class="Keyword">where</a>

  <a id="_⊢_⇀⦇_,GOV⦈_.GOV-Vote"></a><a id="16019" href="Ledger.Dijkstra.Specification.Gov.html#16019" class="InductiveConstructor">GOV-Vote</a> <a id="16028" class="Symbol">:</a>
    <a id="16034" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="16036" class="Symbol">(</a><a id="16037" href="Ledger.Dijkstra.Specification.Gov.html#2991" class="Generalizable">aid</a> <a id="16041" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16043" href="Ledger.Dijkstra.Specification.Gov.html#15902" class="Generalizable">ast</a><a id="16046" class="Symbol">)</a> <a id="16048" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="16050" href="Axiom.Set.html#5903" class="Function">fromList</a> <a id="16059" href="Ledger.Dijkstra.Specification.Gov.html#2971" class="Generalizable">s</a>
    <a id="16065" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="16067" href="Ledger.Dijkstra.Specification.Ratify.html#3024" class="Function">canVote</a> <a id="16075" class="Symbol">(</a><a id="16076" href="Ledger.Dijkstra.Specification.PParams.html#4454" class="Field">PParamsOf</a> <a id="16086" href="Ledger.Dijkstra.Specification.Gov.html#2953" class="Generalizable">Γ</a><a id="16087" class="Symbol">)</a> <a id="16089" class="Symbol">(</a><a id="16090" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4371" class="Field">GovActionOf</a> <a id="16102" href="Ledger.Dijkstra.Specification.Gov.html#15902" class="Generalizable">ast</a><a id="16105" class="Symbol">)</a> <a id="16107" class="Symbol">(</a><a id="16108" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1598" class="Field">gvRole</a> <a id="16115" href="Ledger.Dijkstra.Specification.Gov.html#3014" class="Generalizable">voter</a><a id="16120" class="Symbol">)</a>
    <a id="16126" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="16128" href="Ledger.Dijkstra.Specification.Gov.html#7598" class="Function">isRegistered</a> <a id="16141" href="Ledger.Dijkstra.Specification.Gov.html#2953" class="Generalizable">Γ</a> <a id="16143" href="Ledger.Dijkstra.Specification.Gov.html#3014" class="Generalizable">voter</a>
    <a id="16153" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="16155" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="16157" href="Ledger.Dijkstra.Specification.Ratify.html#9480" class="Function">expired</a> <a id="16165" class="Symbol">(</a><a id="16166" href="Ledger.Dijkstra.Specification.Gov.html#2953" class="Generalizable">Γ</a> <a id="16168" class="Symbol">.</a><a id="16169" href="Ledger.Dijkstra.Specification.Gov.html#1636" class="Field">epoch</a><a id="16174" class="Symbol">)</a> <a id="16176" href="Ledger.Dijkstra.Specification.Gov.html#15902" class="Generalizable">ast</a>
      <a id="16186" href="Prelude.InferenceRules.html#13407" class="Function Operator">───────────────────────────────────────</a>
      <a id="16232" class="Symbol">(</a><a id="16233" href="Ledger.Dijkstra.Specification.Gov.html#2953" class="Generalizable">Γ</a> <a id="16235" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16237" href="Ledger.Dijkstra.Specification.Gov.html#3163" class="Generalizable">k</a><a id="16238" class="Symbol">)</a> <a id="16240" href="Ledger.Dijkstra.Specification.Gov.html#15931" class="Datatype Operator">⊢</a> <a id="16242" href="Ledger.Dijkstra.Specification.Gov.html#2971" class="Generalizable">s</a> <a id="16244" href="Ledger.Dijkstra.Specification.Gov.html#15931" class="Datatype Operator">⇀⦇</a> <a id="16247" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Dijkstra.Specification.Gov.html#2991}{\htmlId{16254}{\htmlClass{Generalizable}{\text{aid}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#3014}{\htmlId{16260}{\htmlClass{Generalizable}{\text{voter}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#3053}{\htmlId{16268}{\htmlClass{Generalizable}{\text{v}}}}\, \\ \,\href{Ledger.Dijkstra.Specification.Gov.html#15863}{\htmlId{16272}{\htmlClass{Generalizable}{\text{machr}}}}\, \end{pmatrix}$</a> <a id="16280" href="Ledger.Dijkstra.Specification.Gov.html#15931" class="Datatype Operator">,GOV⦈</a> <a id="16286" href="Ledger.Dijkstra.Specification.Gov.html#6915" class="Function">addVote</a> <a id="16294" href="Ledger.Dijkstra.Specification.Gov.html#2971" class="Generalizable">s</a> <a id="16296" href="Ledger.Dijkstra.Specification.Gov.html#2991" class="Generalizable">aid</a> <a id="16300" href="Ledger.Dijkstra.Specification.Gov.html#3014" class="Generalizable">voter</a> <a id="16306" href="Ledger.Dijkstra.Specification.Gov.html#3053" class="Generalizable">v</a>

  <a id="_⊢_⇀⦇_,GOV⦈_.GOV-Propose"></a><a id="16311" href="Ledger.Dijkstra.Specification.Gov.html#16311" class="InductiveConstructor">GOV-Propose</a> <a id="16323" class="Symbol">:</a>
    <a id="16329" class="Keyword">let</a> <a id="16333" href="Ledger.Dijkstra.Specification.Gov.html#16333" class="Bound">pp</a>           <a id="16346" class="Symbol">=</a> <a id="16348" href="Ledger.Dijkstra.Specification.PParams.html#4454" class="Field">PParamsOf</a> <a id="16358" href="Ledger.Dijkstra.Specification.Gov.html#2953" class="Generalizable">Γ</a>
        <a id="16368" href="Ledger.Dijkstra.Specification.Gov.html#16368" class="Bound">e</a>            <a id="16381" class="Symbol">=</a> <a id="16383" href="Ledger.Dijkstra.Specification.Gov.html#2953" class="Generalizable">Γ</a> <a id="16385" class="Symbol">.</a><a id="16386" href="Ledger.Dijkstra.Specification.Gov.html#1636" class="Field">epoch</a>
        <a id="16400" href="Ledger.Dijkstra.Specification.Gov.html#16400" class="Bound">enactState</a>   <a id="16413" class="Symbol">=</a> <a id="16415" href="Ledger.Dijkstra.Specification.Enact.html#925" class="Field">EnactStateOf</a> <a id="16428" href="Ledger.Dijkstra.Specification.Gov.html#2953" class="Generalizable">Γ</a>
        <a id="16438" href="Ledger.Dijkstra.Specification.Gov.html#16438" class="Bound">rewardCreds</a>  <a id="16451" class="Symbol">=</a> <a id="16453" href="Ledger.Dijkstra.Specification.Gov.html#2953" class="Generalizable">Γ</a> <a id="16455" class="Symbol">.</a><a id="16456" href="Ledger.Dijkstra.Specification.Gov.html#1778" class="Field">rewardCreds</a>
        <a id="16476" href="Ledger.Dijkstra.Specification.Gov.html#16476" class="Bound">prop</a>         <a id="16489" class="Symbol">=</a> <a id="16491" class="Keyword">record</a> <a id="16498" class="Symbol">{</a> <a id="16500" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3150" class="Field">returnAddr</a> <a id="16511" class="Symbol">=</a> <a id="16513" href="Ledger.Dijkstra.Specification.Gov.html#3085" class="Generalizable">addr</a> <a id="16518" class="Symbol">;</a> <a id="16520" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2886" class="Field">action</a> <a id="16527" class="Symbol">=</a> <a id="16529" href="Ledger.Dijkstra.Specification.Gov.html#3110" class="Generalizable">a</a> <a id="16531" class="Symbol">;</a> <a id="16533" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3254" class="Field">anchor</a> <a id="16540" class="Symbol">=</a> <a id="16542" href="Ledger.Dijkstra.Specification.Gov.html#15886" class="Generalizable">achr</a>
                              <a id="16577" class="Symbol">;</a> <a id="16579" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2989" class="Field">policy</a> <a id="16586" class="Symbol">=</a> <a id="16588" href="Ledger.Dijkstra.Specification.Gov.html#3176" class="Generalizable">p</a> <a id="16590" class="Symbol">;</a> <a id="16592" href="Ledger.Dijkstra.Specification.Gov.Actions.html#3073" class="Field">deposit</a> <a id="16600" class="Symbol">=</a> <a id="16602" href="Ledger.Dijkstra.Specification.Gov.html#3069" class="Generalizable">d</a> <a id="16604" class="Symbol">;</a> <a id="16606" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2914" class="Field">prevAction</a> <a id="16617" class="Symbol">=</a> <a id="16619" href="Ledger.Dijkstra.Specification.Gov.html#3131" class="Generalizable">prev</a> <a id="16624" class="Symbol">}</a>
    <a id="16630" class="Keyword">in</a>
    <a id="16637" href="Prelude.InferenceRules.html#56075" class="Function Operator">∙</a> <a id="16639" href="Ledger.Dijkstra.Specification.Gov.html#14580" class="Function">actionWellFormed</a> <a id="16656" href="Ledger.Dijkstra.Specification.Gov.html#3110" class="Generalizable">a</a>
    <a id="16662" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="16664" href="Ledger.Dijkstra.Specification.Gov.html#14087" class="Function">actionValid</a> <a id="16676" href="Ledger.Dijkstra.Specification.Gov.html#16438" class="Bound">rewardCreds</a> <a id="16688" href="Ledger.Dijkstra.Specification.Gov.html#3176" class="Generalizable">p</a> <a id="16690" class="Symbol">(</a><a id="16691" href="Ledger.Dijkstra.Specification.Gov.html#2953" class="Generalizable">Γ</a> <a id="16693" class="Symbol">.</a><a id="16694" href="Ledger.Dijkstra.Specification.Gov.html#1686" class="Field">ppolicy</a><a id="16701" class="Symbol">)</a> <a id="16703" href="Ledger.Dijkstra.Specification.Gov.html#16368" class="Bound">e</a> <a id="16705" href="Ledger.Dijkstra.Specification.Gov.html#3110" class="Generalizable">a</a>
    <a id="16711" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="16713" href="Ledger.Dijkstra.Specification.Gov.html#3069" class="Generalizable">d</a> <a id="16715" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16717" href="Ledger.Dijkstra.Specification.Gov.html#16333" class="Bound">pp</a> <a id="16720" class="Symbol">.</a><a id="16721" href="Ledger.Dijkstra.Specification.PParams.html#3550" class="Field">govActionDeposit</a>
    <a id="16742" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="16744" href="Ledger.Dijkstra.Specification.Gov.html#7935" class="Function">validHFAction</a> <a id="16758" href="Ledger.Dijkstra.Specification.Gov.html#16476" class="Bound">prop</a> <a id="16763" href="Ledger.Dijkstra.Specification.Gov.html#2971" class="Generalizable">s</a> <a id="16765" href="Ledger.Dijkstra.Specification.Gov.html#16400" class="Bound">enactState</a>
    <a id="16780" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="16782" href="Ledger.Dijkstra.Specification.Gov.html#9790" class="Function">hasParent</a> <a id="16792" href="Ledger.Dijkstra.Specification.Gov.html#16400" class="Bound">enactState</a> <a id="16803" href="Ledger.Dijkstra.Specification.Gov.html#2971" class="Generalizable">s</a> <a id="16805" class="Symbol">(</a><a id="16806" href="Ledger.Dijkstra.Specification.Gov.Actions.html#4123" class="Field">GovActionTypeOf</a> <a id="16822" href="Ledger.Dijkstra.Specification.Gov.html#3110" class="Generalizable">a</a><a id="16823" class="Symbol">)</a> <a id="16825" href="Ledger.Dijkstra.Specification.Gov.html#3131" class="Generalizable">prev</a>
    <a id="16834" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="16836" href="Ledger.Core.Specification.Address.html#1580" class="Field">NetworkIdOf</a> <a id="16848" href="Ledger.Dijkstra.Specification.Gov.html#3085" class="Generalizable">addr</a> <a id="16853" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="16855" href="Ledger.Core.Specification.Epoch.html#2703" class="Function">NetworkId</a>
    <a id="16869" href="Prelude.InferenceRules.html#56006" class="Function Operator">∙</a> <a id="16871" href="Ledger.Core.Specification.Address.html#421" class="Field">CredentialOf</a> <a id="16884" href="Ledger.Dijkstra.Specification.Gov.html#3085" class="Generalizable">addr</a> <a id="16889" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="16891" href="Ledger.Dijkstra.Specification.Gov.html#16438" class="Bound">rewardCreds</a>
      <a id="16909" href="Prelude.InferenceRules.html#13407" class="Function Operator">───────────────────────────────────────</a>
      <a id="16955" class="Symbol">(</a><a id="16956" href="Ledger.Dijkstra.Specification.Gov.html#2953" class="Generalizable">Γ</a> <a id="16958" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16960" href="Ledger.Dijkstra.Specification.Gov.html#3163" class="Generalizable">k</a><a id="16961" class="Symbol">)</a> <a id="16963" href="Ledger.Dijkstra.Specification.Gov.html#15931" class="Datatype Operator">⊢</a> <a id="16965" href="Ledger.Dijkstra.Specification.Gov.html#2971" class="Generalizable">s</a> <a id="16967" href="Ledger.Dijkstra.Specification.Gov.html#15931" class="Datatype Operator">⇀⦇</a> <a id="16970" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="16975" href="Ledger.Dijkstra.Specification.Gov.html#16476" class="Bound">prop</a> <a id="16980" href="Ledger.Dijkstra.Specification.Gov.html#15931" class="Datatype Operator">,GOV⦈</a> <a id="16986" href="Ledger.Dijkstra.Specification.Gov.html#6606" class="Function">addAction</a> <a id="16996" href="Ledger.Dijkstra.Specification.Gov.html#2971" class="Generalizable">s</a> <a id="16998" class="Symbol">(</a><a id="16999" href="Ledger.Dijkstra.Specification.Gov.html#16333" class="Bound">pp</a> <a id="17002" class="Symbol">.</a><a id="17003" href="Ledger.Dijkstra.Specification.PParams.html#3512" class="Field">govActionLifetime</a> <a id="17021" href="Ledger.Core.Specification.Epoch.html#1103" class="Function Operator">+ᵉ</a> <a id="17024" href="Ledger.Dijkstra.Specification.Gov.html#16368" class="Bound">e</a><a id="17025" class="Symbol">)</a>
                                                 <a id="17076" class="Symbol">(</a><a id="17077" href="Ledger.Dijkstra.Specification.Gov.html#2953" class="Generalizable">Γ</a> <a id="17079" class="Symbol">.</a><a id="17080" href="Ledger.Dijkstra.Specification.Gov.html#1613" class="Field">txid</a> <a id="17085" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17087" href="Ledger.Dijkstra.Specification.Gov.html#3163" class="Generalizable">k</a><a id="17088" class="Symbol">)</a> <a id="17090" href="Ledger.Dijkstra.Specification.Gov.html#3085" class="Generalizable">addr</a> <a id="17095" href="Ledger.Dijkstra.Specification.Gov.html#3110" class="Generalizable">a</a> <a id="17097" href="Ledger.Dijkstra.Specification.Gov.html#3131" class="Generalizable">prev</a>


<a id="17104" class="Comment">-- N.B. The GOVS transition rule is a reduce combinator; applies GOV at each step.</a>
<a id="_⊢_⇀⦇_,GOVS⦈_"></a><a id="17187" href="Ledger.Dijkstra.Specification.Gov.html#17187" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a> <a id="17201" class="Symbol">:</a> <a id="17203" href="Ledger.Dijkstra.Specification.Gov.html#1581" class="Record">GovEnv</a> <a id="17210" class="Symbol">→</a> <a id="17212" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="17221" class="Symbol">→</a> <a id="17223" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="17228" class="Symbol">(</a><a id="17229" href="Ledger.Dijkstra.Specification.Gov.Actions.html#1858" class="Record">GovVote</a> <a id="17237" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="17239" href="Ledger.Dijkstra.Specification.Gov.Actions.html#2849" class="Record">GovProposal</a><a id="17250" class="Symbol">)</a> <a id="17252" class="Symbol">→</a> <a id="17254" href="Ledger.Dijkstra.Specification.Gov.html#1510" class="Function">GovState</a> <a id="17263" class="Symbol">→</a> <a id="17265" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="17270" href="Ledger.Dijkstra.Specification.Gov.html#17187" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a> <a id="17284" class="Symbol">=</a> <a id="17286" href="Interface.STS.html#2215" class="Function">ReflexiveTransitiveClosureᵢ</a> <a id="17314" class="Symbol">{</a><a id="17315" class="Argument">sts</a> <a id="17319" class="Symbol">=</a> <a id="17321" href="Ledger.Dijkstra.Specification.Gov.html#15931" class="Datatype Operator">_⊢_⇀⦇_,GOV⦈_</a><a id="17333" class="Symbol">}</a>

</pre></body></html>