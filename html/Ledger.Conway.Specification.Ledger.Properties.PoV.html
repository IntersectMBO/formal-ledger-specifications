<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Ledger.Properties.PoV</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">

<a id="3" class="Symbol">{-#</a> <a id="7" class="Keyword">OPTIONS</a> <a id="15" class="Pragma">--safe</a> <a id="22" class="Symbol">#-}</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="79" class="Keyword">open</a> <a id="84" class="Keyword">import</a> <a id="91" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>

<a id="129" class="Keyword">module</a> <a id="136" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html" class="Module">Ledger.Conway.Specification.Ledger.Properties.PoV</a>
  <a id="188" class="Symbol">(</a><a id="189" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="193" class="Symbol">:</a> <a id="195" class="Symbol">_)</a> <a id="198" class="Symbol">(</a><a id="199" class="Keyword">open</a> <a id="204" href="Ledger.Conway.Specification.Transaction.html#1000" class="Module">TransactionStructure</a> <a id="225" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a><a id="228" class="Symbol">)</a>
  <a id="232" class="Symbol">(</a><a id="233" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a> <a id="237" class="Symbol">:</a> <a id="239" href="Ledger.Conway.Specification.Abstract.html#654" class="Record">AbstractFunctions</a> <a id="257" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a><a id="260" class="Symbol">)</a> <a id="262" class="Symbol">(</a><a id="263" class="Keyword">open</a> <a id="268" href="Ledger.Conway.Specification.Abstract.html#654" class="Module">AbstractFunctions</a> <a id="286" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a><a id="289" class="Symbol">)</a>
  <a id="293" class="Keyword">where</a>

<a id="300" class="Keyword">open</a> <a id="305" class="Keyword">import</a> <a id="312" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="346" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="Ledger.Conway.Specification.Chain.html" class="Module">Ledger.Conway.Specification.Chain</a> <a id="405" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="409" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>
<a id="413" class="Keyword">open</a> <a id="418" class="Keyword">import</a> <a id="425" href="Ledger.Conway.Specification.Certs.Properties.PoVLemmas.html" class="Module">Ledger.Conway.Specification.Certs.Properties.PoVLemmas</a> <a id="480" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="493" class="Keyword">open</a> <a id="498" class="Keyword">import</a> <a id="505" href="Ledger.Conway.Specification.Certs.Properties.PoV.html" class="Module">Ledger.Conway.Specification.Certs.Properties.PoV</a> <a id="554" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="567" class="Keyword">open</a> <a id="572" class="Keyword">import</a> <a id="579" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="614" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="618" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>
<a id="622" class="Keyword">open</a> <a id="627" class="Keyword">import</a> <a id="634" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="649" class="Keyword">open</a> <a id="654" class="Keyword">import</a> <a id="661" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="694" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="698" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>
<a id="702" class="Keyword">open</a> <a id="707" class="Keyword">import</a> <a id="714" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html" class="Module">Ledger.Conway.Specification.Utxo.Properties.PoV</a> <a id="762" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="766" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>
<a id="770" class="Keyword">open</a> <a id="775" class="Keyword">import</a> <a id="782" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="816" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="820" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>

<a id="825" class="Keyword">open</a> <a id="830" class="Keyword">import</a> <a id="837" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="858" href="Axiom.Set.html#10751" class="Function">th</a>

<a id="862" class="Keyword">open</a> <a id="867" class="Keyword">import</a> <a id="874" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="894" class="Keyword">using</a> <a id="900" class="Symbol">(</a><a id="901" href="Data.Nat.Properties.html#17566" class="Function">+-0-monoid</a><a id="911" class="Symbol">;</a> <a id="913" href="Data.Nat.Properties.html#15779" class="Function">+-identityʳ</a><a id="924" class="Symbol">;</a> <a id="926" href="Data.Nat.Properties.html#15956" class="Function">+-comm</a><a id="932" class="Symbol">;</a> <a id="934" href="Data.Nat.Properties.html#15623" class="Function">+-assoc</a><a id="941" class="Symbol">;</a> <a id="943" href="Data.Nat.Properties.html#22114" class="Function">*-identityʳ</a><a id="954" class="Symbol">;</a> <a id="956" href="Data.Nat.Properties.html#22334" class="Function">*-zeroʳ</a><a id="963" class="Symbol">)</a>

<a id="966" class="Comment">-- ** Proof that LEDGER preserves values.</a>

<a id="1009" class="Keyword">instance</a>
  <a id="HasCoin-LState"></a><a id="1020" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1020" class="Function">HasCoin-LState</a> <a id="1035" class="Symbol">:</a> <a id="1037" href="Ledger.Prelude.HasCoin.html#122" class="Record">HasCoin</a> <a id="1045" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="1054" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1020" class="Function">HasCoin-LState</a> <a id="1069" class="Symbol">.</a><a id="1070" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1078" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1078" class="Bound">s</a> <a id="1080" class="Symbol">=</a> <a id="1082" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1090" class="Symbol">(</a><a id="1091" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">LState.utxoSt</a> <a id="1105" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1078" class="Bound">s</a><a id="1106" class="Symbol">)</a> <a id="1108" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="1110" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1118" class="Symbol">(</a><a id="1119" href="Ledger.Conway.Specification.Ledger.html#1091" class="Field">LState.certState</a> <a id="1136" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1078" class="Bound">s</a><a id="1137" class="Symbol">)</a>

<a id="1140" class="Keyword">module</a> <a id="1147" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1147" class="Module">_</a>
  <a id="1151" class="Symbol">(</a><a id="1152" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1152" class="Bound">tx</a> <a id="1155" class="Symbol">:</a> <a id="1157" href="Ledger.Conway.Specification.Transaction.html#4684" class="Record">Tx</a><a id="1159" class="Symbol">)</a> <a id="1161" class="Symbol">(</a><a id="1162" class="Keyword">let</a> <a id="1166" class="Keyword">open</a> <a id="1171" href="Ledger.Conway.Specification.Transaction.html#4684" class="Module">Tx</a> <a id="1174" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1152" class="Bound">tx</a><a id="1176" class="Symbol">;</a> <a id="1178" class="Keyword">open</a> <a id="1183" href="Ledger.Conway.Specification.Transaction.html#2998" class="Module">TxBody</a> <a id="1190" href="Ledger.Conway.Specification.Transaction.html#4716" class="Field">body</a><a id="1194" class="Symbol">)</a>
  <a id="1198" class="Symbol">(</a> <a id="1200" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1200" class="Bound">indexedSumᵛ&#39;-∪</a>  <a id="1216" class="Symbol">:</a>  <a id="1219" class="Symbol">{</a><a id="1220" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1220" class="Bound">A</a> <a id="1222" class="Symbol">:</a> <a id="1224" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1228" class="Symbol">}</a> <a id="1230" class="Symbol">⦃</a> <a id="1232" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1232" class="Bound">_</a> <a id="1234" class="Symbol">:</a> <a id="1236" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1242" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1220" class="Bound">A</a> <a id="1244" class="Symbol">⦄</a> <a id="1246" class="Symbol">(</a><a id="1247" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1247" class="Bound">m</a> <a id="1249" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1249" class="Bound">m&#39;</a> <a id="1252" class="Symbol">:</a> <a id="1254" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1220" class="Bound">A</a> <a id="1256" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1258" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a><a id="1262" class="Symbol">)</a>
                       <a id="1287" class="Symbol">→</a> <a id="1289" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="1298" class="Symbol">(</a><a id="1299" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1303" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1247" class="Bound">m</a><a id="1304" class="Symbol">)</a> <a id="1306" class="Symbol">(</a><a id="1307" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1311" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1249" class="Bound">m&#39;</a><a id="1313" class="Symbol">)</a> <a id="1315" class="Symbol">→</a> <a id="1317" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1325" class="Symbol">(</a><a id="1326" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1247" class="Bound">m</a> <a id="1328" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1331" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1249" class="Bound">m&#39;</a><a id="1333" class="Symbol">)</a> <a id="1335" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1337" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1345" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1247" class="Bound">m</a> <a id="1347" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="1349" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1357" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1249" class="Bound">m&#39;</a> <a id="1360" class="Symbol">)</a>
  <a id="1364" class="Symbol">(</a> <a id="1366" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1366" class="Bound">sumConstZero</a>    <a id="1382" class="Symbol">:</a>  <a id="1385" class="Symbol">{</a><a id="1386" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1386" class="Bound">A</a> <a id="1388" class="Symbol">:</a> <a id="1390" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1394" class="Symbol">}</a> <a id="1396" class="Symbol">⦃</a> <a id="1398" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1398" class="Bound">_</a> <a id="1400" class="Symbol">:</a> <a id="1402" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1408" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1386" class="Bound">A</a> <a id="1410" class="Symbol">⦄</a> <a id="1412" class="Symbol">{</a><a id="1413" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1413" class="Bound">X</a> <a id="1415" class="Symbol">:</a> <a id="1417" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1419" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1386" class="Bound">A</a><a id="1420" class="Symbol">}</a> <a id="1422" class="Symbol">→</a> <a id="1424" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1432" class="Symbol">(</a><a id="1433" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="1442" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1413" class="Bound">X</a> <a id="1444" class="Number">0</a><a id="1445" class="Symbol">)</a> <a id="1447" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1449" class="Number">0</a> <a id="1451" class="Symbol">)</a>
  <a id="1455" class="Symbol">(</a> <a id="1457" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1457" class="Bound">res-decomp</a>      <a id="1473" class="Symbol">:</a>  <a id="1476" class="Symbol">{</a><a id="1477" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1477" class="Bound">A</a> <a id="1479" class="Symbol">:</a> <a id="1481" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1485" class="Symbol">}</a> <a id="1487" class="Symbol">⦃</a> <a id="1489" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1489" class="Bound">_</a> <a id="1491" class="Symbol">:</a> <a id="1493" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1499" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1477" class="Bound">A</a> <a id="1501" class="Symbol">⦄</a> <a id="1503" class="Symbol">(</a><a id="1504" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1504" class="Bound">m</a> <a id="1506" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1506" class="Bound">m&#39;</a> <a id="1509" class="Symbol">:</a> <a id="1511" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1477" class="Bound">A</a> <a id="1513" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1515" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a><a id="1519" class="Symbol">)</a>
                       <a id="1544" class="Symbol">→</a> <a id="1546" class="Symbol">(</a><a id="1547" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1504" class="Bound">m</a> <a id="1549" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1552" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1506" class="Bound">m&#39;</a><a id="1554" class="Symbol">)</a><a id="1555" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1557" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="1560" class="Symbol">(</a><a id="1561" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1504" class="Bound">m</a> <a id="1563" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1566" class="Symbol">(</a><a id="1567" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1506" class="Bound">m&#39;</a> <a id="1570" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="1572" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1576" class="Symbol">(</a><a id="1577" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1504" class="Bound">m</a> <a id="1579" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1580" class="Symbol">)</a> <a id="1582" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="1583" class="Symbol">))</a><a id="1585" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1587" class="Symbol">)</a>
  <a id="1591" class="Symbol">(</a> <a id="1593" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1593" class="Bound">getCoin-cong</a>    <a id="1609" class="Symbol">:</a>  <a id="1612" class="Symbol">{</a><a id="1613" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1613" class="Bound">A</a> <a id="1615" class="Symbol">:</a> <a id="1617" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1621" class="Symbol">}</a> <a id="1623" class="Symbol">⦃</a> <a id="1625" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1625" class="Bound">_</a> <a id="1627" class="Symbol">:</a> <a id="1629" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1635" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1613" class="Bound">A</a> <a id="1637" class="Symbol">⦄</a> <a id="1639" class="Symbol">(</a><a id="1640" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1640" class="Bound">s</a> <a id="1642" class="Symbol">:</a> <a id="1644" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1613" class="Bound">A</a> <a id="1646" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1648" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a><a id="1652" class="Symbol">)</a> <a id="1654" class="Symbol">(</a><a id="1655" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1655" class="Bound">s&#39;</a> <a id="1658" class="Symbol">:</a> <a id="1660" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1662" class="Symbol">(</a><a id="1663" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1613" class="Bound">A</a> <a id="1665" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1667" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a><a id="1671" class="Symbol">))</a> <a id="1674" class="Symbol">→</a> <a id="1676" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1640" class="Bound">s</a> <a id="1678" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1680" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="1683" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1655" class="Bound">s&#39;</a>
                       <a id="1709" class="Symbol">→</a> <a id="1711" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="1723" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1729" class="Symbol">(</a><a id="1730" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1640" class="Bound">s</a> <a id="1732" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1733" class="Symbol">)</a> <a id="1735" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1737" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="1749" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1755" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1655" class="Bound">s&#39;</a> <a id="1758" class="Symbol">)</a>
  <a id="1762" class="Symbol">(</a> <a id="1764" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1764" class="Bound">≡ᵉ-getCoinˢ</a>     <a id="1780" class="Symbol">:</a>  <a id="1783" class="Symbol">{</a><a id="1784" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1784" class="Bound">A</a> <a id="1786" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1786" class="Bound">A&#39;</a> <a id="1789" class="Symbol">:</a> <a id="1791" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1795" class="Symbol">}</a> <a id="1797" class="Symbol">⦃</a> <a id="1799" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1799" class="Bound">_</a> <a id="1801" class="Symbol">:</a> <a id="1803" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1809" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1784" class="Bound">A</a> <a id="1811" class="Symbol">⦄</a> <a id="1813" class="Symbol">⦃</a> <a id="1815" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1815" class="Bound">_</a> <a id="1817" class="Symbol">:</a> <a id="1819" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1825" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1786" class="Bound">A&#39;</a> <a id="1828" class="Symbol">⦄</a> <a id="1830" class="Symbol">(</a><a id="1831" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1831" class="Bound">s</a> <a id="1833" class="Symbol">:</a> <a id="1835" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1837" class="Symbol">(</a><a id="1838" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1784" class="Bound">A</a> <a id="1840" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1842" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a><a id="1846" class="Symbol">))</a> <a id="1849" class="Symbol">{</a><a id="1850" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1850" class="Bound">f</a> <a id="1852" class="Symbol">:</a> <a id="1854" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1784" class="Bound">A</a> <a id="1856" class="Symbol">→</a> <a id="1858" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1786" class="Bound">A&#39;</a><a id="1860" class="Symbol">}</a>
                       <a id="1885" class="Symbol">→</a> <a id="1887" href="Axiom.Set.Map.html#5071" class="Function">InjectiveOn</a> <a id="1899" class="Symbol">(</a><a id="1900" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1904" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1831" class="Bound">s</a><a id="1905" class="Symbol">)</a> <a id="1907" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1850" class="Bound">f</a> <a id="1909" class="Symbol">→</a> <a id="1911" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1919" class="Symbol">(</a><a id="1920" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="1925" class="Symbol">(</a><a id="1926" href="Class.Bifunctor.html#1045" class="Function">map₁</a> <a id="1931" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1850" class="Bound">f</a><a id="1932" class="Symbol">)</a> <a id="1934" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1831" class="Bound">s</a><a id="1935" class="Symbol">)</a> <a id="1937" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1939" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1947" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1831" class="Bound">s</a> <a id="1949" class="Symbol">)</a>
  <a id="1953" class="Keyword">where</a>

  <a id="1962" class="Keyword">pattern</a> <a id="1970" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1970" class="InductiveConstructor">UTXO-induction</a> <a id="1985" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2039" class="Bound">r</a> <a id="1987" class="Symbol">=</a> <a id="1989" href="Ledger.Conway.Specification.Utxo.html#14034" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="2005" class="Symbol">_</a> <a id="2007" class="Symbol">_</a> <a id="2009" class="Symbol">_</a> <a id="2011" class="Symbol">_</a> <a id="2013" class="Symbol">_</a> <a id="2015" class="Symbol">_</a> <a id="2017" class="Symbol">_</a> <a id="2019" class="Symbol">_</a> <a id="2021" class="Symbol">_</a> <a id="2023" class="Symbol">_</a> <a id="2025" class="Symbol">_</a> <a id="2027" class="Symbol">_</a> <a id="2029" class="Symbol">_</a> <a id="2031" class="Symbol">_</a> <a id="2033" class="Symbol">_</a> <a id="2035" class="Symbol">_</a> <a id="2037" class="Symbol">_</a> <a id="2039" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2039" class="Bound">r</a> <a id="2041" class="Symbol">_</a> <a id="2043" class="Symbol">_</a> <a id="2045" class="Symbol">_</a>


  <a id="2051" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2051" class="Function">LEDGER-pov</a> <a id="2062" class="Symbol">:</a> <a id="2064" class="Symbol">{</a><a id="2065" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2065" class="Bound">Γ</a> <a id="2067" class="Symbol">:</a> <a id="2069" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a><a id="2073" class="Symbol">}</a> <a id="2075" class="Symbol">{</a><a id="2076" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2076" class="Bound">s</a> <a id="2078" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2078" class="Bound">s&#39;</a> <a id="2081" class="Symbol">:</a> <a id="2083" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a><a id="2089" class="Symbol">}</a>
    <a id="2095" class="Symbol">→</a> <a id="2097" href="Ledger.Conway.Specification.Transaction.html#3182" class="Function">txId</a> <a id="2102" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="2104" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2109" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2115" class="Symbol">(</a><a id="2116" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2120" class="Symbol">(</a><a id="2121" href="Ledger.Conway.Specification.Transaction.html#2941" class="Field">UTxOOf</a> <a id="2128" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2076" class="Bound">s</a><a id="2129" class="Symbol">))</a>
    <a id="2136" class="Symbol">→</a> <a id="2138" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2065" class="Bound">Γ</a> <a id="2140" href="Ledger.Conway.Specification.Ledger.html#3681" class="Datatype Operator">⊢</a> <a id="2142" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2076" class="Bound">s</a> <a id="2144" href="Ledger.Conway.Specification.Ledger.html#3681" class="Datatype Operator">⇀⦇</a> <a id="2147" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1152" class="Bound">tx</a> <a id="2150" href="Ledger.Conway.Specification.Ledger.html#3681" class="Datatype Operator">,LEDGER⦈</a> <a id="2159" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2078" class="Bound">s&#39;</a> <a id="2162" class="Symbol">→</a> <a id="2164" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2172" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2076" class="Bound">s</a> <a id="2174" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2176" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2184" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2078" class="Bound">s&#39;</a>


  <a id="2191" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2051" class="Function">LEDGER-pov</a>
    <a id="2206" class="Symbol">{</a><a id="2207" class="Argument">s</a>  <a id="2210" class="Symbol">=</a> <a id="2212" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2212" class="Bound">s</a><a id="2213" class="Symbol">}</a>
    <a id="2219" class="Symbol">{</a><a id="2220" class="Argument">s&#39;</a> <a id="2223" class="Symbol">=</a> <a id="2225" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2225" class="Bound">s&#39;</a><a id="2227" class="Symbol">}</a>
    <a id="2233" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2233" class="Bound">h</a> <a id="2235" class="Symbol">(</a><a id="2236" href="Ledger.Conway.Specification.Ledger.html#3742" class="InductiveConstructor">LEDGER-V</a> <a id="2245" class="Symbol">{</a><a id="2246" class="Argument">utxoSt&#39;</a> <a id="2254" class="Symbol">=</a> <a id="2256" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2256" class="Bound">utxoSt&#39;&#39;</a><a id="2264" class="Symbol">}</a> <a id="2266" class="Symbol">(</a> <a id="2268" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2268" class="Bound">valid</a> <a id="2274" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2276" href="Ledger.Conway.Specification.Utxow.html#4982" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="2287" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2287" class="Bound">st</a><a id="2289" class="Symbol">@(</a><a id="2291" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1970" class="InductiveConstructor">UTXO-induction</a> <a id="2306" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2306" class="Bound">r</a><a id="2307" class="Symbol">)</a> <a id="2309" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2311" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2311" class="Bound">h&#39;</a> <a id="2314" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2316" class="Symbol">_</a> <a id="2318" class="Symbol">))</a> <a id="2321" class="Symbol">=</a>
    <a id="2327" class="Keyword">let</a>
      <a id="2337" class="Keyword">open</a> <a id="2342" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">LState</a> <a id="2349" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2212" class="Bound">s</a>
      <a id="2357" class="Keyword">open</a> <a id="2362" href="Ledger.Conway.Specification.Certs.html#4234" class="Module">CertState</a> <a id="2372" href="Ledger.Conway.Specification.Ledger.html#1091" class="Function">certState</a>
      <a id="2388" class="Keyword">open</a> <a id="2393" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">LState</a> <a id="2400" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2225" class="Bound">s&#39;</a> <a id="2403" class="Keyword">renaming</a> <a id="2412" class="Symbol">(</a><a id="2413" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">utxoSt</a> <a id="2420" class="Symbol">to</a> <a id="2423" class="Field">utxoSt&#39;</a><a id="2430" class="Symbol">;</a> <a id="2432" href="Ledger.Conway.Specification.Ledger.html#1065" class="Field">govSt</a> <a id="2438" class="Symbol">to</a> <a id="2441" class="Field">govSt&#39;</a><a id="2447" class="Symbol">;</a> <a id="2449" href="Ledger.Conway.Specification.Ledger.html#1091" class="Field">certState</a> <a id="2459" class="Symbol">to</a> <a id="2462" class="Field">certState&#39;</a><a id="2472" class="Symbol">)</a>
      <a id="2480" class="Keyword">open</a> <a id="2485" href="Ledger.Conway.Specification.Certs.html#4234" class="Module">CertState</a> <a id="2495" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2462" class="Function">certState&#39;</a>
      <a id="2512" class="Keyword">open</a> <a id="2517" href="Relation.Binary.PropositionalEquality.Properties.html#6850" class="Module">≡-Reasoning</a>
      <a id="2535" class="Keyword">open</a> <a id="2540" href="Ledger.Conway.Specification.Certs.Properties.PoV.html#930" class="Module">CERTSpov</a> <a id="2549" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1200" class="Bound">indexedSumᵛ&#39;-∪</a> <a id="2564" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1366" class="Bound">sumConstZero</a> <a id="2577" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1457" class="Bound">res-decomp</a>  <a id="2589" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1593" class="Bound">getCoin-cong</a> <a id="2602" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1764" class="Bound">≡ᵉ-getCoinˢ</a>
      <a id="2620" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2620" class="Bound">zeroMap</a> <a id="2628" class="Symbol">=</a> <a id="2630" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="2639" class="Symbol">(</a><a id="2640" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2645" href="Ledger.Core.Specification.Address.html#1378" class="Field">RwdAddr.stake</a> <a id="2659" class="Symbol">(</a><a id="2660" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2664" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a><a id="2677" class="Symbol">))</a> <a id="2680" class="Number">0</a>
    <a id="2686" class="Keyword">in</a>

    <a id="2694" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="2706" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2714" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="2721" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2723" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2731" href="Ledger.Conway.Specification.Ledger.html#1091" class="Function">certState</a>
        <a id="2749" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="2752" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="2757" class="Symbol">(</a><a id="2758" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2766" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="2773" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="2775" class="Symbol">)</a> <a id="2777" class="Symbol">(</a><a id="2778" href="Ledger.Conway.Specification.Certs.Properties.PoV.html#1959" class="Function">CERTS-pov</a> <a id="2788" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2306" class="Bound">r</a> <a id="2790" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2311" class="Bound">h&#39;</a><a id="2792" class="Symbol">)</a> <a id="2794" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="2802" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2810" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="2817" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2819" class="Symbol">(</a><a id="2820" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2828" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2462" class="Function">certState&#39;</a> <a id="2839" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2841" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2849" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a><a id="2862" class="Symbol">)</a>
        <a id="2872" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="2876" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="2881" class="Symbol">(λ</a> <a id="2884" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2884" class="Bound">x</a> <a id="2886" class="Symbol">→</a> <a id="2888" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2896" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="2903" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2905" class="Symbol">(</a><a id="2906" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2914" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2462" class="Function">certState&#39;</a> <a id="2925" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2927" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2884" class="Bound">x</a> <a id="2929" class="Symbol">))</a> <a id="2932" class="Symbol">(</a><a id="2933" href="Data.Nat.Properties.html#22114" class="Function">*-identityʳ</a> <a id="2945" class="Symbol">(</a><a id="2946" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2954" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a><a id="2967" class="Symbol">))</a> <a id="2970" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="2978" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2986" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="2993" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2995" class="Symbol">(</a><a id="2996" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3004" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2462" class="Function">certState&#39;</a> <a id="3015" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3017" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3025" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="3039" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3041" class="Number">1</a><a id="3042" class="Symbol">)</a>
        <a id="3052" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="3056" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="3061" class="Symbol">(λ</a> <a id="3064" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3064" class="Bound">u</a> <a id="3066" class="Symbol">→</a> <a id="3068" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3076" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="3083" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3085" class="Symbol">(</a><a id="3086" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3094" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2462" class="Function">certState&#39;</a> <a id="3105" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3107" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3115" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="3129" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3131" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#1318" class="Function">χ</a> <a id="3133" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3064" class="Bound">u</a><a id="3134" class="Symbol">))</a> <a id="3137" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2268" class="Bound">valid</a> <a id="3143" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="3151" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3159" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="3166" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3168" class="Symbol">(</a><a id="3169" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3177" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2462" class="Function">certState&#39;</a> <a id="3188" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3190" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3198" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="3212" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3214" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#1318" class="Function">χ</a> <a id="3216" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a><a id="3223" class="Symbol">)</a>
        <a id="3233" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3236" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="3241" class="Symbol">(</a><a id="3242" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3250" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="3257" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="3259" class="Symbol">)</a> <a id="3261" class="Symbol">(</a><a id="3262" href="Data.Nat.Properties.html#15956" class="Function">+-comm</a> <a id="3269" class="Symbol">(</a><a id="3270" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3278" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2462" class="Function">certState&#39;</a><a id="3288" class="Symbol">)</a> <a id="3290" class="Symbol">_)</a> <a id="3293" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="3301" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3309" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="3316" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3318" class="Symbol">(</a><a id="3319" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3327" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="3341" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3343" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#1318" class="Function">χ</a> <a id="3345" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a> <a id="3353" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3355" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3363" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2462" class="Function">certState&#39;</a><a id="3373" class="Symbol">)</a>
        <a id="3383" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="3387" href="Data.Nat.Properties.html#15623" class="Function">+-assoc</a> <a id="3395" class="Symbol">(</a><a id="3396" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3404" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a><a id="3410" class="Symbol">)</a> <a id="3412" class="Symbol">(</a><a id="3413" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3421" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="3435" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3437" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#1318" class="Function">χ</a> <a id="3439" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a><a id="3446" class="Symbol">)</a> <a id="3448" class="Symbol">(</a><a id="3449" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3457" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2462" class="Function">certState&#39;</a><a id="3467" class="Symbol">)</a> <a id="3469" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="3477" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3485" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="3492" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3494" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3502" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="3516" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3518" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#1318" class="Function">χ</a> <a id="3520" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a> <a id="3528" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3530" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3538" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2462" class="Function">certState&#39;</a>
        <a id="3557" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3560" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="3565" class="Symbol">(</a><a id="3566" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="3569" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3577" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2462" class="Function">certState&#39;</a><a id="3587" class="Symbol">)</a> <a id="3589" class="Symbol">(</a><a id="3590" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#523" class="Function">UTXOpov</a> <a id="3598" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2233" class="Bound">h</a> <a id="3600" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2287" class="Bound">st</a><a id="3602" class="Symbol">)</a> <a id="3604" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="3612" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3620" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2423" class="Function">utxoSt&#39;</a> <a id="3628" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3630" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3638" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2462" class="Function">certState&#39;</a>
        <a id="3657" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="3662" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2051" class="Function">LEDGER-pov</a>  <a id="3674" class="Symbol">{</a><a id="3675" class="Argument">s</a> <a id="3677" class="Symbol">=</a> <a id="3679" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3679" class="Bound">s</a><a id="3680" class="Symbol">}</a>
              <a id="3696" class="Symbol">{</a><a id="3697" class="Argument">s&#39;</a> <a id="3700" class="Symbol">=</a> <a id="3702" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3702" class="Bound">s&#39;</a><a id="3704" class="Symbol">}</a>
              <a id="3720" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3720" class="Bound">h</a> <a id="3722" class="Symbol">(</a><a id="3723" href="Ledger.Conway.Specification.Ledger.html#4384" class="InductiveConstructor">LEDGER-I</a> <a id="3732" class="Symbol">{</a><a id="3733" class="Argument">utxoSt&#39;</a> <a id="3741" class="Symbol">=</a> <a id="3743" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3743" class="Bound">utxoSt&#39;&#39;</a><a id="3751" class="Symbol">}</a> <a id="3753" class="Symbol">(</a><a id="3754" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3754" class="Bound">invalid</a> <a id="3762" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3764" href="Ledger.Conway.Specification.Utxow.html#4982" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="3775" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3775" class="Bound">st</a><a id="3777" class="Symbol">))</a> <a id="3780" class="Symbol">=</a>
    <a id="3786" class="Keyword">let</a>
        <a id="3798" class="Keyword">open</a> <a id="3803" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">LState</a> <a id="3810" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3679" class="Bound">s</a>
        <a id="3820" class="Keyword">open</a> <a id="3825" href="Ledger.Conway.Specification.Certs.html#4234" class="Module">CertState</a> <a id="3835" href="Ledger.Conway.Specification.Ledger.html#1091" class="Function">certState</a>
        <a id="3853" class="Keyword">open</a> <a id="3858" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">LState</a> <a id="3865" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3702" class="Bound">s&#39;</a> <a id="3868" class="Keyword">renaming</a> <a id="3877" class="Symbol">(</a><a id="3878" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">utxoSt</a> <a id="3885" class="Symbol">to</a> <a id="3888" class="Field">utxoSt&#39;</a><a id="3895" class="Symbol">;</a> <a id="3897" href="Ledger.Conway.Specification.Ledger.html#1065" class="Field">govSt</a> <a id="3903" class="Symbol">to</a> <a id="3906" class="Field">govSt&#39;</a><a id="3912" class="Symbol">;</a> <a id="3914" href="Ledger.Conway.Specification.Ledger.html#1091" class="Field">certState</a> <a id="3924" class="Symbol">to</a> <a id="3927" class="Field">certState&#39;</a><a id="3937" class="Symbol">)</a>
        <a id="3947" class="Keyword">open</a> <a id="3952" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">UTxOState</a> <a id="3962" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a>
        <a id="3977" class="Keyword">open</a> <a id="3982" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">UTxOState</a> <a id="3992" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3888" class="Function">utxoSt&#39;</a> <a id="4000" class="Keyword">renaming</a> <a id="4009" class="Symbol">(</a><a id="4010" href="Ledger.Conway.Specification.Utxo.html#1294" class="Field">utxo</a> <a id="4015" class="Symbol">to</a> <a id="4018" class="Field">utxo&#39;</a><a id="4023" class="Symbol">;</a> <a id="4025" href="Ledger.Conway.Specification.Utxo.html#1316" class="Field">fees</a> <a id="4030" class="Symbol">to</a> <a id="4033" class="Field">fees&#39;</a>
                                        <a id="4079" class="Symbol">;</a> <a id="4081" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a> <a id="4090" class="Symbol">to</a> <a id="4093" class="Field">deposits&#39;</a><a id="4102" class="Symbol">;</a> <a id="4104" href="Ledger.Conway.Specification.Utxo.html#1364" class="Field">donations</a> <a id="4114" class="Symbol">to</a> <a id="4117" class="Field">donations&#39;</a><a id="4127" class="Symbol">)</a> <a id="4129" class="Keyword">in</a>
    <a id="4136" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="4141" class="Symbol">(</a><a id="4142" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="4145" href="Ledger.Conway.Specification.Certs.html#6594" class="Function">rewardsBalance</a> <a id="4160" href="Ledger.Conway.Specification.Certs.html#4297" class="Function">dState</a><a id="4166" class="Symbol">)</a>
    <a id="4172" class="Symbol">(</a> <a id="4174" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="4186" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4196}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4203}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4210}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4221}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a>
        <a id="4241" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4245" href="Data.Nat.Properties.html#15779" class="Function">+-identityʳ</a> <a id="4257" class="Symbol">(</a><a id="4258" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4268}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4275}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4282}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4293}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a><a id="4304" class="Symbol">)</a> <a id="4306" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4314" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4324}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4331}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4338}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4349}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4361" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4363" class="Number">0</a>
        <a id="4373" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4377" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="4382" class="Symbol">(</a><a id="4383" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4393}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4400}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4407}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4418}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4430" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="4432" class="Symbol">)</a> <a id="4434" class="Symbol">(</a><a id="4435" href="Data.Nat.Properties.html#22334" class="Function">*-zeroʳ</a> <a id="4443" class="Symbol">(</a><a id="4444" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4452" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a><a id="4465" class="Symbol">))</a> <a id="4468" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4476" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4486}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4493}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4500}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4511}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4523" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4525" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4533" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="4547" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4549" class="Number">0</a>
        <a id="4559" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4563" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="4568" class="Symbol">(λ</a> <a id="4571" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#4571" class="Bound">x</a> <a id="4573" class="Symbol">→</a> <a id="4575" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4585}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4592}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4599}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4610}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4622" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4624" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4632" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="4646" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4648" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#1318" class="Function">χ</a> <a id="4650" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#4571" class="Bound">x</a><a id="4651" class="Symbol">)</a> <a id="4653" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3754" class="Bound">invalid</a> <a id="4661" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4669" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4679}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4686}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4693}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4704}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4716" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4718" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4726" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="4740" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4742" href="Ledger.Conway.Specification.Utxo.Properties.Base.html#1318" class="Function">χ</a> <a id="4744" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a>
        <a id="4760" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="4763" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#523" class="Function">UTXOpov</a> <a id="4771" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3720" class="Bound">h</a> <a id="4773" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3775" class="Bound">st</a> <a id="4776" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="4784" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4018}{\htmlId{4794}{\htmlClass{Function}{\text{utxo&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4033}{\htmlId{4802}{\htmlClass{Function}{\text{fees&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4093}{\htmlId{4810}{\htmlClass{Function}{\text{deposits&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4117}{\htmlId{4822}{\htmlClass{Function}{\text{donations&#39;}}}}\, \end{pmatrix}$</a> <a id="4835" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="4837" class="Symbol">)</a>
    <a id="4843" class="Keyword">where</a> <a id="4849" class="Keyword">open</a> <a id="4854" href="Relation.Binary.PropositionalEquality.Properties.html#6850" class="Module">≡-Reasoning</a>

</pre></body></html>