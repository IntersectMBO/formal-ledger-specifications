<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Ledger.Properties.PoV</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">

<a id="3" class="Symbol">{-#</a> <a id="7" class="Keyword">OPTIONS</a> <a id="15" class="Pragma">--safe</a> <a id="22" class="Symbol">#-}</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="79" class="Keyword">open</a> <a id="84" class="Keyword">import</a> <a id="91" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>

<a id="129" class="Keyword">module</a> <a id="136" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html" class="Module">Ledger.Conway.Specification.Ledger.Properties.PoV</a>
  <a id="188" class="Symbol">(</a><a id="189" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="193" class="Symbol">:</a> <a id="195" class="Symbol">_)</a> <a id="198" class="Symbol">(</a><a id="199" class="Keyword">open</a> <a id="204" href="Ledger.Conway.Specification.Transaction.html#1000" class="Module">TransactionStructure</a> <a id="225" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a><a id="228" class="Symbol">)</a>
  <a id="232" class="Symbol">(</a><a id="233" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a> <a id="237" class="Symbol">:</a> <a id="239" href="Ledger.Conway.Specification.Abstract.html#654" class="Record">AbstractFunctions</a> <a id="257" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a><a id="260" class="Symbol">)</a> <a id="262" class="Symbol">(</a><a id="263" class="Keyword">open</a> <a id="268" href="Ledger.Conway.Specification.Abstract.html#654" class="Module">AbstractFunctions</a> <a id="286" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a><a id="289" class="Symbol">)</a>
  <a id="293" class="Keyword">where</a>

<a id="300" class="Keyword">open</a> <a id="305" class="Keyword">import</a> <a id="312" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="346" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="Ledger.Conway.Specification.Chain.html" class="Module">Ledger.Conway.Specification.Chain</a> <a id="405" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="409" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>
<a id="413" class="Keyword">open</a> <a id="418" class="Keyword">import</a> <a id="425" href="Ledger.Conway.Specification.Certs.Properties.html" class="Module">Ledger.Conway.Specification.Certs.Properties</a> <a id="470" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="530" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="534" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>
<a id="538" class="Keyword">open</a> <a id="543" class="Keyword">import</a> <a id="550" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="565" class="Keyword">open</a> <a id="570" class="Keyword">import</a> <a id="577" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="610" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="614" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>
<a id="618" class="Keyword">open</a> <a id="623" class="Keyword">import</a> <a id="630" href="Ledger.Conway.Specification.Utxo.Properties.html" class="Module">Ledger.Conway.Specification.Utxo.Properties</a> <a id="674" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="678" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a> <a id="682" class="Keyword">using</a> <a id="688" class="Symbol">(</a><a id="689" href="Ledger.Conway.Specification.Utxo.Properties.html#13715" class="Function">χ</a><a id="690" class="Symbol">;</a> <a id="692" class="Keyword">module</a> <a id="699" href="Ledger.Conway.Specification.Utxo.Properties.html#13762" class="Module">DepositHelpers</a><a id="713" class="Symbol">)</a>
<a id="715" class="Keyword">open</a> <a id="720" class="Keyword">import</a> <a id="727" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html" class="Module">Ledger.Conway.Specification.Utxo.Properties.PoV</a> <a id="775" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="779" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>
<a id="783" class="Keyword">open</a> <a id="788" class="Keyword">import</a> <a id="795" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="829" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="833" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>

<a id="838" class="Keyword">open</a> <a id="843" class="Keyword">import</a> <a id="850" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="871" href="Axiom.Set.html#10751" class="Function">th</a>

<a id="875" class="Keyword">open</a> <a id="880" class="Keyword">import</a> <a id="887" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="907" class="Keyword">using</a> <a id="913" class="Symbol">(</a><a id="914" href="Data.Nat.Properties.html#17566" class="Function">+-0-monoid</a><a id="924" class="Symbol">;</a> <a id="926" href="Data.Nat.Properties.html#15779" class="Function">+-identityʳ</a><a id="937" class="Symbol">;</a> <a id="939" href="Data.Nat.Properties.html#15956" class="Function">+-comm</a><a id="945" class="Symbol">;</a> <a id="947" href="Data.Nat.Properties.html#15623" class="Function">+-assoc</a><a id="954" class="Symbol">;</a> <a id="956" href="Data.Nat.Properties.html#22114" class="Function">*-identityʳ</a><a id="967" class="Symbol">;</a> <a id="969" href="Data.Nat.Properties.html#22334" class="Function">*-zeroʳ</a><a id="976" class="Symbol">)</a>

<a id="979" class="Comment">-- ** Proof that LEDGER preserves values.</a>

<a id="1022" class="Keyword">instance</a>
  <a id="HasCoin-LState"></a><a id="1033" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1033" class="Function">HasCoin-LState</a> <a id="1048" class="Symbol">:</a> <a id="1050" href="Ledger.Prelude.HasCoin.html#122" class="Record">HasCoin</a> <a id="1058" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a>
  <a id="1067" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1033" class="Function">HasCoin-LState</a> <a id="1082" class="Symbol">.</a><a id="1083" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1091" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1091" class="Bound">s</a> <a id="1093" class="Symbol">=</a> <a id="1095" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1103" class="Symbol">(</a><a id="1104" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">LState.utxoSt</a> <a id="1118" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1091" class="Bound">s</a><a id="1119" class="Symbol">)</a> <a id="1121" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="1123" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1131" class="Symbol">(</a><a id="1132" href="Ledger.Conway.Specification.Ledger.html#1091" class="Field">LState.certState</a> <a id="1149" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1091" class="Bound">s</a><a id="1150" class="Symbol">)</a>

<a id="1153" class="Keyword">module</a> <a id="1160" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1160" class="Module">_</a>
  <a id="1164" class="Symbol">(</a><a id="1165" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1165" class="Bound">tx</a> <a id="1168" class="Symbol">:</a> <a id="1170" href="Ledger.Conway.Specification.Transaction.html#4684" class="Record">Tx</a><a id="1172" class="Symbol">)</a> <a id="1174" class="Symbol">(</a><a id="1175" class="Keyword">let</a> <a id="1179" class="Keyword">open</a> <a id="1184" href="Ledger.Conway.Specification.Transaction.html#4684" class="Module">Tx</a> <a id="1187" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1165" class="Bound">tx</a><a id="1189" class="Symbol">;</a> <a id="1191" class="Keyword">open</a> <a id="1196" href="Ledger.Conway.Specification.Transaction.html#2998" class="Module">TxBody</a> <a id="1203" href="Ledger.Conway.Specification.Transaction.html#4716" class="Field">body</a><a id="1207" class="Symbol">)</a>
  <a id="1211" class="Symbol">(</a> <a id="1213" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1213" class="Bound">indexedSumᵛ&#39;-∪</a>  <a id="1229" class="Symbol">:</a>  <a id="1232" class="Symbol">{</a><a id="1233" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1233" class="Bound">A</a> <a id="1235" class="Symbol">:</a> <a id="1237" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1241" class="Symbol">}</a> <a id="1243" class="Symbol">⦃</a> <a id="1245" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1245" class="Bound">_</a> <a id="1247" class="Symbol">:</a> <a id="1249" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1255" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1233" class="Bound">A</a> <a id="1257" class="Symbol">⦄</a> <a id="1259" class="Symbol">(</a><a id="1260" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1260" class="Bound">m</a> <a id="1262" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1262" class="Bound">m&#39;</a> <a id="1265" class="Symbol">:</a> <a id="1267" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1233" class="Bound">A</a> <a id="1269" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1271" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a><a id="1275" class="Symbol">)</a>
                       <a id="1300" class="Symbol">→</a> <a id="1302" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="1311" class="Symbol">(</a><a id="1312" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1316" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1260" class="Bound">m</a><a id="1317" class="Symbol">)</a> <a id="1319" class="Symbol">(</a><a id="1320" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1324" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1262" class="Bound">m&#39;</a><a id="1326" class="Symbol">)</a> <a id="1328" class="Symbol">→</a> <a id="1330" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1338" class="Symbol">(</a><a id="1339" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1260" class="Bound">m</a> <a id="1341" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1344" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1262" class="Bound">m&#39;</a><a id="1346" class="Symbol">)</a> <a id="1348" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1350" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1358" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1260" class="Bound">m</a> <a id="1360" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="1362" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1370" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1262" class="Bound">m&#39;</a> <a id="1373" class="Symbol">)</a>
  <a id="1377" class="Symbol">(</a> <a id="1379" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1379" class="Bound">sumConstZero</a>    <a id="1395" class="Symbol">:</a>  <a id="1398" class="Symbol">{</a><a id="1399" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1399" class="Bound">A</a> <a id="1401" class="Symbol">:</a> <a id="1403" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1407" class="Symbol">}</a> <a id="1409" class="Symbol">⦃</a> <a id="1411" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1411" class="Bound">_</a> <a id="1413" class="Symbol">:</a> <a id="1415" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1421" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1399" class="Bound">A</a> <a id="1423" class="Symbol">⦄</a> <a id="1425" class="Symbol">{</a><a id="1426" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1426" class="Bound">X</a> <a id="1428" class="Symbol">:</a> <a id="1430" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1432" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1399" class="Bound">A</a><a id="1433" class="Symbol">}</a> <a id="1435" class="Symbol">→</a> <a id="1437" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1445" class="Symbol">(</a><a id="1446" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="1455" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1426" class="Bound">X</a> <a id="1457" class="Number">0</a><a id="1458" class="Symbol">)</a> <a id="1460" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1462" class="Number">0</a> <a id="1464" class="Symbol">)</a>
  <a id="1468" class="Symbol">(</a> <a id="1470" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1470" class="Bound">res-decomp</a>      <a id="1486" class="Symbol">:</a>  <a id="1489" class="Symbol">{</a><a id="1490" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1490" class="Bound">A</a> <a id="1492" class="Symbol">:</a> <a id="1494" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1498" class="Symbol">}</a> <a id="1500" class="Symbol">⦃</a> <a id="1502" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1502" class="Bound">_</a> <a id="1504" class="Symbol">:</a> <a id="1506" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1512" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1490" class="Bound">A</a> <a id="1514" class="Symbol">⦄</a> <a id="1516" class="Symbol">(</a><a id="1517" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1517" class="Bound">m</a> <a id="1519" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1519" class="Bound">m&#39;</a> <a id="1522" class="Symbol">:</a> <a id="1524" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1490" class="Bound">A</a> <a id="1526" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1528" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a><a id="1532" class="Symbol">)</a>
                       <a id="1557" class="Symbol">→</a> <a id="1559" class="Symbol">(</a><a id="1560" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1517" class="Bound">m</a> <a id="1562" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1565" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1519" class="Bound">m&#39;</a><a id="1567" class="Symbol">)</a><a id="1568" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1570" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="1573" class="Symbol">(</a><a id="1574" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1517" class="Bound">m</a> <a id="1576" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1579" class="Symbol">(</a><a id="1580" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1519" class="Bound">m&#39;</a> <a id="1583" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="1585" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1589" class="Symbol">(</a><a id="1590" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1517" class="Bound">m</a> <a id="1592" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1593" class="Symbol">)</a> <a id="1595" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="1596" class="Symbol">))</a><a id="1598" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1600" class="Symbol">)</a>
  <a id="1604" class="Symbol">(</a> <a id="1606" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1606" class="Bound">getCoin-cong</a>    <a id="1622" class="Symbol">:</a>  <a id="1625" class="Symbol">{</a><a id="1626" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1626" class="Bound">A</a> <a id="1628" class="Symbol">:</a> <a id="1630" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1634" class="Symbol">}</a> <a id="1636" class="Symbol">⦃</a> <a id="1638" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1638" class="Bound">_</a> <a id="1640" class="Symbol">:</a> <a id="1642" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1648" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1626" class="Bound">A</a> <a id="1650" class="Symbol">⦄</a> <a id="1652" class="Symbol">(</a><a id="1653" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1653" class="Bound">s</a> <a id="1655" class="Symbol">:</a> <a id="1657" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1626" class="Bound">A</a> <a id="1659" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1661" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a><a id="1665" class="Symbol">)</a> <a id="1667" class="Symbol">(</a><a id="1668" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1668" class="Bound">s&#39;</a> <a id="1671" class="Symbol">:</a> <a id="1673" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1675" class="Symbol">(</a><a id="1676" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1626" class="Bound">A</a> <a id="1678" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1680" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a><a id="1684" class="Symbol">))</a> <a id="1687" class="Symbol">→</a> <a id="1689" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1653" class="Bound">s</a> <a id="1691" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1693" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="1696" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1668" class="Bound">s&#39;</a>
                       <a id="1722" class="Symbol">→</a> <a id="1724" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="1736" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1742" class="Symbol">(</a><a id="1743" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1653" class="Bound">s</a> <a id="1745" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1746" class="Symbol">)</a> <a id="1748" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1750" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="1762" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1768" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1668" class="Bound">s&#39;</a> <a id="1771" class="Symbol">)</a>
  <a id="1775" class="Symbol">(</a> <a id="1777" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1777" class="Bound">≡ᵉ-getCoinˢ</a>     <a id="1793" class="Symbol">:</a>  <a id="1796" class="Symbol">{</a><a id="1797" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1797" class="Bound">A</a> <a id="1799" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1799" class="Bound">A&#39;</a> <a id="1802" class="Symbol">:</a> <a id="1804" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1808" class="Symbol">}</a> <a id="1810" class="Symbol">⦃</a> <a id="1812" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1812" class="Bound">_</a> <a id="1814" class="Symbol">:</a> <a id="1816" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1822" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1797" class="Bound">A</a> <a id="1824" class="Symbol">⦄</a> <a id="1826" class="Symbol">⦃</a> <a id="1828" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1828" class="Bound">_</a> <a id="1830" class="Symbol">:</a> <a id="1832" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1838" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1799" class="Bound">A&#39;</a> <a id="1841" class="Symbol">⦄</a> <a id="1843" class="Symbol">(</a><a id="1844" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1844" class="Bound">s</a> <a id="1846" class="Symbol">:</a> <a id="1848" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1850" class="Symbol">(</a><a id="1851" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1797" class="Bound">A</a> <a id="1853" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1855" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a><a id="1859" class="Symbol">))</a> <a id="1862" class="Symbol">{</a><a id="1863" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1863" class="Bound">f</a> <a id="1865" class="Symbol">:</a> <a id="1867" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1797" class="Bound">A</a> <a id="1869" class="Symbol">→</a> <a id="1871" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1799" class="Bound">A&#39;</a><a id="1873" class="Symbol">}</a>
                       <a id="1898" class="Symbol">→</a> <a id="1900" href="Axiom.Set.Map.html#5071" class="Function">InjectiveOn</a> <a id="1912" class="Symbol">(</a><a id="1913" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1917" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1844" class="Bound">s</a><a id="1918" class="Symbol">)</a> <a id="1920" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1863" class="Bound">f</a> <a id="1922" class="Symbol">→</a> <a id="1924" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1932" class="Symbol">(</a><a id="1933" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="1938" class="Symbol">(</a><a id="1939" href="Class.Bifunctor.html#1045" class="Function">map₁</a> <a id="1944" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1863" class="Bound">f</a><a id="1945" class="Symbol">)</a> <a id="1947" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1844" class="Bound">s</a><a id="1948" class="Symbol">)</a> <a id="1950" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1952" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1960" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1844" class="Bound">s</a> <a id="1962" class="Symbol">)</a>
  <a id="1966" class="Keyword">where</a>

  <a id="1975" class="Keyword">pattern</a> <a id="1983" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1983" class="InductiveConstructor">UTXO-induction</a> <a id="1998" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2052" class="Bound">r</a> <a id="2000" class="Symbol">=</a> <a id="2002" href="Ledger.Conway.Specification.Utxo.html#14034" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="2018" class="Symbol">_</a> <a id="2020" class="Symbol">_</a> <a id="2022" class="Symbol">_</a> <a id="2024" class="Symbol">_</a> <a id="2026" class="Symbol">_</a> <a id="2028" class="Symbol">_</a> <a id="2030" class="Symbol">_</a> <a id="2032" class="Symbol">_</a> <a id="2034" class="Symbol">_</a> <a id="2036" class="Symbol">_</a> <a id="2038" class="Symbol">_</a> <a id="2040" class="Symbol">_</a> <a id="2042" class="Symbol">_</a> <a id="2044" class="Symbol">_</a> <a id="2046" class="Symbol">_</a> <a id="2048" class="Symbol">_</a> <a id="2050" class="Symbol">_</a> <a id="2052" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2052" class="Bound">r</a> <a id="2054" class="Symbol">_</a> <a id="2056" class="Symbol">_</a> <a id="2058" class="Symbol">_</a>


  <a id="2064" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2064" class="Function">LEDGER-pov</a> <a id="2075" class="Symbol">:</a> <a id="2077" class="Symbol">{</a><a id="2078" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2078" class="Bound">Γ</a> <a id="2080" class="Symbol">:</a> <a id="2082" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a><a id="2086" class="Symbol">}</a> <a id="2088" class="Symbol">{</a><a id="2089" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2089" class="Bound">s</a> <a id="2091" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2091" class="Bound">s&#39;</a> <a id="2094" class="Symbol">:</a> <a id="2096" href="Ledger.Conway.Specification.Ledger.html#979" class="Record">LState</a><a id="2102" class="Symbol">}</a>
    <a id="2108" class="Symbol">→</a> <a id="2110" href="Ledger.Conway.Specification.Transaction.html#3182" class="Function">txId</a> <a id="2115" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="2117" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2122" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2128" class="Symbol">(</a><a id="2129" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2133" class="Symbol">(</a><a id="2134" href="Ledger.Conway.Specification.Transaction.html#2941" class="Field">UTxOOf</a> <a id="2141" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2089" class="Bound">s</a><a id="2142" class="Symbol">))</a>
    <a id="2149" class="Symbol">→</a> <a id="2151" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2078" class="Bound">Γ</a> <a id="2153" href="Ledger.Conway.Specification.Ledger.html#3681" class="Datatype Operator">⊢</a> <a id="2155" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2089" class="Bound">s</a> <a id="2157" href="Ledger.Conway.Specification.Ledger.html#3681" class="Datatype Operator">⇀⦇</a> <a id="2160" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1165" class="Bound">tx</a> <a id="2163" href="Ledger.Conway.Specification.Ledger.html#3681" class="Datatype Operator">,LEDGER⦈</a> <a id="2172" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2091" class="Bound">s&#39;</a> <a id="2175" class="Symbol">→</a> <a id="2177" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2185" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2089" class="Bound">s</a> <a id="2187" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2189" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2197" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2091" class="Bound">s&#39;</a>


  <a id="2204" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2064" class="Function">LEDGER-pov</a>
    <a id="2219" class="Symbol">{</a><a id="2220" class="Argument">s</a>  <a id="2223" class="Symbol">=</a> <a id="2225" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2225" class="Bound">s</a><a id="2226" class="Symbol">}</a>
    <a id="2232" class="Symbol">{</a><a id="2233" class="Argument">s&#39;</a> <a id="2236" class="Symbol">=</a> <a id="2238" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2238" class="Bound">s&#39;</a><a id="2240" class="Symbol">}</a>
    <a id="2246" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2246" class="Bound">h</a> <a id="2248" class="Symbol">(</a><a id="2249" href="Ledger.Conway.Specification.Ledger.html#3742" class="InductiveConstructor">LEDGER-V</a> <a id="2258" class="Symbol">{</a><a id="2259" class="Argument">utxoSt&#39;</a> <a id="2267" class="Symbol">=</a> <a id="2269" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2269" class="Bound">utxoSt&#39;&#39;</a><a id="2277" class="Symbol">}</a> <a id="2279" class="Symbol">(</a> <a id="2281" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2281" class="Bound">valid</a> <a id="2287" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2289" href="Ledger.Conway.Specification.Utxow.html#4982" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="2300" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2300" class="Bound">st</a><a id="2302" class="Symbol">@(</a><a id="2304" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1983" class="InductiveConstructor">UTXO-induction</a> <a id="2319" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2319" class="Bound">r</a><a id="2320" class="Symbol">)</a> <a id="2322" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2324" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2324" class="Bound">h&#39;</a> <a id="2327" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2329" class="Symbol">_</a> <a id="2331" class="Symbol">))</a> <a id="2334" class="Symbol">=</a>
    <a id="2340" class="Keyword">let</a>
      <a id="2350" class="Keyword">open</a> <a id="2355" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">LState</a> <a id="2362" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2225" class="Bound">s</a>
      <a id="2370" class="Keyword">open</a> <a id="2375" href="Ledger.Conway.Specification.Certs.html#4234" class="Module">CertState</a> <a id="2385" href="Ledger.Conway.Specification.Ledger.html#1091" class="Function">certState</a>
      <a id="2401" class="Keyword">open</a> <a id="2406" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">LState</a> <a id="2413" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2238" class="Bound">s&#39;</a> <a id="2416" class="Keyword">renaming</a> <a id="2425" class="Symbol">(</a><a id="2426" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">utxoSt</a> <a id="2433" class="Symbol">to</a> <a id="2436" class="Field">utxoSt&#39;</a><a id="2443" class="Symbol">;</a> <a id="2445" href="Ledger.Conway.Specification.Ledger.html#1065" class="Field">govSt</a> <a id="2451" class="Symbol">to</a> <a id="2454" class="Field">govSt&#39;</a><a id="2460" class="Symbol">;</a> <a id="2462" href="Ledger.Conway.Specification.Ledger.html#1091" class="Field">certState</a> <a id="2472" class="Symbol">to</a> <a id="2475" class="Field">certState&#39;</a><a id="2485" class="Symbol">)</a>
      <a id="2493" class="Keyword">open</a> <a id="2498" href="Ledger.Conway.Specification.Certs.html#4234" class="Module">CertState</a> <a id="2508" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a>
      <a id="2525" class="Keyword">open</a> <a id="2530" href="Relation.Binary.PropositionalEquality.Properties.html#6850" class="Module">≡-Reasoning</a>
      <a id="2548" class="Keyword">open</a> <a id="2553" href="Ledger.Conway.Specification.Certs.Properties.html#12037" class="Module">CERTSpov</a> <a id="2562" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1213" class="Bound">indexedSumᵛ&#39;-∪</a> <a id="2577" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1379" class="Bound">sumConstZero</a> <a id="2590" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1470" class="Bound">res-decomp</a>  <a id="2602" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1606" class="Bound">getCoin-cong</a> <a id="2615" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1777" class="Bound">≡ᵉ-getCoinˢ</a> <a id="2627" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2319" class="Bound">r</a>
      <a id="2635" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2635" class="Bound">zeroMap</a>    <a id="2646" class="Symbol">=</a> <a id="2648" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="2657" class="Symbol">(</a><a id="2658" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2663" href="Ledger.Core.Specification.Address.html#1378" class="Field">RwdAddr.stake</a> <a id="2677" class="Symbol">(</a><a id="2678" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2682" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a><a id="2695" class="Symbol">))</a> <a id="2698" class="Number">0</a>
    <a id="2704" class="Keyword">in</a>
    <a id="2711" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="2723" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2731" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="2738" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2740" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2748" href="Ledger.Conway.Specification.Ledger.html#1091" class="Function">certState</a>
        <a id="2766" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="2769" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="2774" class="Symbol">(</a><a id="2775" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2783" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="2790" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="2792" class="Symbol">)</a> <a id="2794" class="Symbol">(</a><a id="2795" href="Ledger.Conway.Specification.Certs.Properties.html#15917" class="Function">CERTS-pov</a> <a id="2805" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2324" class="Bound">h&#39;</a><a id="2807" class="Symbol">)</a> <a id="2809" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="2817" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2825" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="2832" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2834" class="Symbol">(</a><a id="2835" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2843" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a> <a id="2854" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2856" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2864" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a><a id="2877" class="Symbol">)</a>
        <a id="2887" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="2891" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="2896" class="Symbol">(λ</a> <a id="2899" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2899" class="Bound">x</a> <a id="2901" class="Symbol">→</a> <a id="2903" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2911" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="2918" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2920" class="Symbol">(</a><a id="2921" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2929" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a> <a id="2940" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2942" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2899" class="Bound">x</a> <a id="2944" class="Symbol">))</a> <a id="2947" class="Symbol">(</a><a id="2948" href="Data.Nat.Properties.html#22114" class="Function">*-identityʳ</a> <a id="2960" class="Symbol">(</a><a id="2961" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2969" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a><a id="2982" class="Symbol">))</a> <a id="2985" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>  <a id="2988" class="Comment">-- cong (λ u → getCoin utxoSt + (getCoin certState&#39; + getCoin txWithdrawals * χ u)) valid ⟩</a>
      <a id="3086" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3094" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="3101" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3103" class="Symbol">(</a><a id="3104" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3112" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a> <a id="3123" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3125" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3133" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="3147" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3149" class="Number">1</a><a id="3150" class="Symbol">)</a>
        <a id="3160" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="3164" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="3169" class="Symbol">(λ</a> <a id="3172" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3172" class="Bound">u</a> <a id="3174" class="Symbol">→</a> <a id="3176" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3184" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="3191" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3193" class="Symbol">(</a><a id="3194" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3202" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a> <a id="3213" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3215" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3223" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="3237" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3239" href="Ledger.Conway.Specification.Utxo.Properties.html#13715" class="Function">χ</a> <a id="3241" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3172" class="Bound">u</a><a id="3242" class="Symbol">))</a> <a id="3245" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2281" class="Bound">valid</a> <a id="3251" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="3259" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3267" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="3274" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3276" class="Symbol">(</a><a id="3277" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3285" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a> <a id="3296" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3298" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3306" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="3320" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3322" href="Ledger.Conway.Specification.Utxo.Properties.html#13715" class="Function">χ</a> <a id="3324" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a><a id="3331" class="Symbol">)</a>
        <a id="3341" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3344" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="3349" class="Symbol">(</a><a id="3350" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3358" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="3365" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="3367" class="Symbol">)</a> <a id="3369" class="Symbol">(</a><a id="3370" href="Data.Nat.Properties.html#15956" class="Function">+-comm</a> <a id="3377" class="Symbol">(</a><a id="3378" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3386" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a><a id="3396" class="Symbol">)</a> <a id="3398" class="Symbol">_)</a> <a id="3401" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="3409" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3417" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="3424" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3426" class="Symbol">(</a><a id="3427" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3435" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="3449" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3451" href="Ledger.Conway.Specification.Utxo.Properties.html#13715" class="Function">χ</a> <a id="3453" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a> <a id="3461" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3463" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3471" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a><a id="3481" class="Symbol">)</a>
        <a id="3491" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="3495" href="Data.Nat.Properties.html#15623" class="Function">+-assoc</a> <a id="3503" class="Symbol">(</a><a id="3504" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3512" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a><a id="3518" class="Symbol">)</a> <a id="3520" class="Symbol">(</a><a id="3521" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3529" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="3543" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3545" href="Ledger.Conway.Specification.Utxo.Properties.html#13715" class="Function">χ</a> <a id="3547" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a><a id="3554" class="Symbol">)</a> <a id="3556" class="Symbol">(</a><a id="3557" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3565" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a><a id="3575" class="Symbol">)</a> <a id="3577" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="3585" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3593" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="3600" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3602" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3610" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="3624" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3626" href="Ledger.Conway.Specification.Utxo.Properties.html#13715" class="Function">χ</a> <a id="3628" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a> <a id="3636" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3638" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3646" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a>
        <a id="3665" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3668" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="3673" class="Symbol">(</a><a id="3674" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="3677" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3685" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a><a id="3695" class="Symbol">)</a> <a id="3697" class="Symbol">(</a><a id="3698" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#544" class="Function">UTXOpov</a> <a id="3706" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2246" class="Bound">h</a> <a id="3708" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2300" class="Bound">st</a><a id="3710" class="Symbol">)</a> <a id="3712" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="3720" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3728" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2436" class="Function">utxoSt&#39;</a> <a id="3736" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3738" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3746" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a>
        <a id="3765" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="3770" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2064" class="Function">LEDGER-pov</a>  <a id="3782" class="Symbol">{</a><a id="3783" class="Argument">s</a> <a id="3785" class="Symbol">=</a> <a id="3787" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3787" class="Bound">s</a><a id="3788" class="Symbol">}</a>
              <a id="3804" class="Symbol">{</a><a id="3805" class="Argument">s&#39;</a> <a id="3808" class="Symbol">=</a> <a id="3810" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3810" class="Bound">s&#39;</a><a id="3812" class="Symbol">}</a>
              <a id="3828" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3828" class="Bound">h</a> <a id="3830" class="Symbol">(</a><a id="3831" href="Ledger.Conway.Specification.Ledger.html#4384" class="InductiveConstructor">LEDGER-I</a> <a id="3840" class="Symbol">{</a><a id="3841" class="Argument">utxoSt&#39;</a> <a id="3849" class="Symbol">=</a> <a id="3851" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3851" class="Bound">utxoSt&#39;&#39;</a><a id="3859" class="Symbol">}</a> <a id="3861" class="Symbol">(</a><a id="3862" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3862" class="Bound">invalid</a> <a id="3870" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3872" href="Ledger.Conway.Specification.Utxow.html#4982" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="3883" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3883" class="Bound">st</a><a id="3885" class="Symbol">))</a> <a id="3888" class="Symbol">=</a>
    <a id="3894" class="Keyword">let</a>
        <a id="3906" class="Keyword">open</a> <a id="3911" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">LState</a> <a id="3918" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3787" class="Bound">s</a>
        <a id="3928" class="Keyword">open</a> <a id="3933" href="Ledger.Conway.Specification.Certs.html#4234" class="Module">CertState</a> <a id="3943" href="Ledger.Conway.Specification.Ledger.html#1091" class="Function">certState</a>
        <a id="3961" class="Keyword">open</a> <a id="3966" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">LState</a> <a id="3973" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3810" class="Bound">s&#39;</a> <a id="3976" class="Keyword">renaming</a> <a id="3985" class="Symbol">(</a><a id="3986" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">utxoSt</a> <a id="3993" class="Symbol">to</a> <a id="3996" class="Field">utxoSt&#39;</a><a id="4003" class="Symbol">;</a> <a id="4005" href="Ledger.Conway.Specification.Ledger.html#1065" class="Field">govSt</a> <a id="4011" class="Symbol">to</a> <a id="4014" class="Field">govSt&#39;</a><a id="4020" class="Symbol">;</a> <a id="4022" href="Ledger.Conway.Specification.Ledger.html#1091" class="Field">certState</a> <a id="4032" class="Symbol">to</a> <a id="4035" class="Field">certState&#39;</a><a id="4045" class="Symbol">)</a>
        <a id="4055" class="Keyword">open</a> <a id="4060" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">UTxOState</a> <a id="4070" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a>
        <a id="4085" class="Keyword">open</a> <a id="4090" href="Ledger.Conway.Specification.Utxo.html#1230" class="Module">UTxOState</a> <a id="4100" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3996" class="Function">utxoSt&#39;</a> <a id="4108" class="Keyword">renaming</a> <a id="4117" class="Symbol">(</a><a id="4118" href="Ledger.Conway.Specification.Utxo.html#1294" class="Field">utxo</a> <a id="4123" class="Symbol">to</a> <a id="4126" class="Field">utxo&#39;</a><a id="4131" class="Symbol">;</a> <a id="4133" href="Ledger.Conway.Specification.Utxo.html#1316" class="Field">fees</a> <a id="4138" class="Symbol">to</a> <a id="4141" class="Field">fees&#39;</a>
                                        <a id="4187" class="Symbol">;</a> <a id="4189" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">deposits</a> <a id="4198" class="Symbol">to</a> <a id="4201" class="Field">deposits&#39;</a><a id="4210" class="Symbol">;</a> <a id="4212" href="Ledger.Conway.Specification.Utxo.html#1364" class="Field">donations</a> <a id="4222" class="Symbol">to</a> <a id="4225" class="Field">donations&#39;</a><a id="4235" class="Symbol">)</a> <a id="4237" class="Keyword">in</a>
    <a id="4244" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="4249" class="Symbol">(</a><a id="4250" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="4253" href="Ledger.Conway.Specification.Certs.html#6594" class="Function">rewardsBalance</a> <a id="4268" href="Ledger.Conway.Specification.Certs.html#4297" class="Function">dState</a><a id="4274" class="Symbol">)</a>
    <a id="4280" class="Symbol">(</a> <a id="4282" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="4294" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4304}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4311}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4318}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4329}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a>
        <a id="4349" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4353" href="Data.Nat.Properties.html#15779" class="Function">+-identityʳ</a> <a id="4365" class="Symbol">(</a><a id="4366" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4376}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4383}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4390}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4401}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a><a id="4412" class="Symbol">)</a> <a id="4414" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4422" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4432}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4439}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4446}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4457}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4469" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4471" class="Number">0</a>
        <a id="4481" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4485" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="4490" class="Symbol">(</a><a id="4491" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4501}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4508}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4515}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4526}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4538" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="4540" class="Symbol">)</a> <a id="4542" class="Symbol">(</a><a id="4543" href="Data.Nat.Properties.html#22334" class="Function">*-zeroʳ</a> <a id="4551" class="Symbol">(</a><a id="4552" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4560" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a><a id="4573" class="Symbol">))</a> <a id="4576" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4584" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4594}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4601}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4608}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4619}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4631" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4633" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4641" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="4655" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4657" class="Number">0</a>
        <a id="4667" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4671" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="4676" class="Symbol">(λ</a> <a id="4679" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#4679" class="Bound">x</a> <a id="4681" class="Symbol">→</a> <a id="4683" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4693}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4700}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4707}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4718}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4730" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4732" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4740" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="4754" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4756" href="Ledger.Conway.Specification.Utxo.Properties.html#13715" class="Function">χ</a> <a id="4758" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#4679" class="Bound">x</a><a id="4759" class="Symbol">)</a> <a id="4761" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3862" class="Bound">invalid</a> <a id="4769" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4777" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1294}{\htmlId{4787}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1316}{\htmlId{4794}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1338}{\htmlId{4801}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1364}{\htmlId{4812}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4824" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4826" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4834" href="Ledger.Conway.Specification.Transaction.html#3290" class="Function">txWithdrawals</a> <a id="4848" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4850" href="Ledger.Conway.Specification.Utxo.Properties.html#13715" class="Function">χ</a> <a id="4852" href="Ledger.Conway.Specification.Transaction.html#4788" class="Field">isValid</a>
        <a id="4868" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="4871" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#544" class="Function">UTXOpov</a> <a id="4879" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3828" class="Bound">h</a> <a id="4881" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3883" class="Bound">st</a> <a id="4884" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="4892" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4126}{\htmlId{4902}{\htmlClass{Function}{\text{utxo&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4141}{\htmlId{4910}{\htmlClass{Function}{\text{fees&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4201}{\htmlId{4918}{\htmlClass{Function}{\text{deposits&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4225}{\htmlId{4930}{\htmlClass{Function}{\text{donations&#39;}}}}\, \end{pmatrix}$</a> <a id="4943" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="4945" class="Symbol">)</a>
    <a id="4951" class="Keyword">where</a> <a id="4957" class="Keyword">open</a> <a id="4962" href="Relation.Binary.PropositionalEquality.Properties.html#6850" class="Module">≡-Reasoning</a>

</pre></body></html>