<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Ledger.Properties.PoV</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">

<a id="3" class="Symbol">{-#</a> <a id="7" class="Keyword">OPTIONS</a> <a id="15" class="Pragma">--safe</a> <a id="22" class="Symbol">#-}</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="79" class="Keyword">open</a> <a id="84" class="Keyword">import</a> <a id="91" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>

<a id="129" class="Keyword">module</a> <a id="136" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html" class="Module">Ledger.Conway.Specification.Ledger.Properties.PoV</a>
  <a id="188" class="Symbol">(</a><a id="189" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="193" class="Symbol">:</a> <a id="195" class="Symbol">_)</a> <a id="198" class="Symbol">(</a><a id="199" class="Keyword">open</a> <a id="204" href="Ledger.Conway.Specification.Transaction.html#1000" class="Module">TransactionStructure</a> <a id="225" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a><a id="228" class="Symbol">)</a>
  <a id="232" class="Symbol">(</a><a id="233" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a> <a id="237" class="Symbol">:</a> <a id="239" href="Ledger.Conway.Specification.Abstract.html#641" class="Record">AbstractFunctions</a> <a id="257" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a><a id="260" class="Symbol">)</a> <a id="262" class="Symbol">(</a><a id="263" class="Keyword">open</a> <a id="268" href="Ledger.Conway.Specification.Abstract.html#641" class="Module">AbstractFunctions</a> <a id="286" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a><a id="289" class="Symbol">)</a>
  <a id="293" class="Keyword">where</a>

<a id="300" class="Keyword">open</a> <a id="305" class="Keyword">import</a> <a id="312" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="346" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="Ledger.Conway.Specification.Chain.html" class="Module">Ledger.Conway.Specification.Chain</a> <a id="405" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="409" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>
<a id="413" class="Keyword">open</a> <a id="418" class="Keyword">import</a> <a id="425" href="Ledger.Conway.Specification.Certs.Properties.html" class="Module">Ledger.Conway.Specification.Certs.Properties</a> <a id="470" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="530" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="534" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>
<a id="538" class="Keyword">open</a> <a id="543" class="Keyword">import</a> <a id="550" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="565" class="Keyword">open</a> <a id="570" class="Keyword">import</a> <a id="577" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="610" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="614" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>
<a id="618" class="Keyword">open</a> <a id="623" class="Keyword">import</a> <a id="630" href="Ledger.Conway.Specification.Utxo.Properties.html" class="Module">Ledger.Conway.Specification.Utxo.Properties</a> <a id="674" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="678" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a> <a id="682" class="Keyword">using</a> <a id="688" class="Symbol">(</a><a id="689" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a><a id="690" class="Symbol">;</a> <a id="692" class="Keyword">module</a> <a id="699" href="Ledger.Conway.Specification.Utxo.Properties.html#13725" class="Module">DepositHelpers</a><a id="713" class="Symbol">)</a>
<a id="715" class="Keyword">open</a> <a id="720" class="Keyword">import</a> <a id="727" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html" class="Module">Ledger.Conway.Specification.Utxo.Properties.PoV</a> <a id="775" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="779" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>
<a id="783" class="Keyword">open</a> <a id="788" class="Keyword">import</a> <a id="795" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="829" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#189" class="Bound">txs</a> <a id="833" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#233" class="Bound">abs</a>

<a id="838" class="Keyword">open</a> <a id="843" class="Keyword">import</a> <a id="850" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="871" href="Axiom.Set.html#10669" class="Function">th</a>

<a id="875" class="Keyword">open</a> <a id="880" class="Keyword">import</a> <a id="887" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="907" class="Keyword">using</a> <a id="913" class="Symbol">(</a><a id="914" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="924" class="Symbol">;</a> <a id="926" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a><a id="937" class="Symbol">;</a> <a id="939" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a><a id="945" class="Symbol">;</a> <a id="947" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a><a id="954" class="Symbol">;</a> <a id="956" href="Data.Nat.Properties.html#21834" class="Function">*-identityʳ</a><a id="967" class="Symbol">;</a> <a id="969" href="Data.Nat.Properties.html#22054" class="Function">*-zeroʳ</a><a id="976" class="Symbol">)</a>

<a id="979" class="Comment">-- ** Proof that LEDGER preserves values.</a>

<a id="1022" class="Keyword">instance</a>
  <a id="HasCoin-LState"></a><a id="1033" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1033" class="Function">HasCoin-LState</a> <a id="1048" class="Symbol">:</a> <a id="1050" href="Ledger.Prelude.HasCoin.html#122" class="Record">HasCoin</a> <a id="1058" href="Ledger.Conway.Specification.Ledger.html#977" class="Record">LState</a>
  <a id="1067" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1033" class="Function">HasCoin-LState</a> <a id="1082" class="Symbol">.</a><a id="1083" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1091" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1091" class="Bound">s</a> <a id="1093" class="Symbol">=</a> <a id="1095" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1103" class="Symbol">(</a><a id="1104" href="Ledger.Conway.Specification.Ledger.html#1036" class="Field">LState.utxoSt</a> <a id="1118" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1091" class="Bound">s</a><a id="1119" class="Symbol">)</a> <a id="1121" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="1123" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1131" class="Symbol">(</a><a id="1132" href="Ledger.Conway.Specification.Ledger.html#1089" class="Field">LState.certState</a> <a id="1149" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1091" class="Bound">s</a><a id="1150" class="Symbol">)</a>

<a id="1153" class="Keyword">module</a> <a id="1160" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1160" class="Module">_</a>
  <a id="1164" class="Symbol">(</a><a id="1165" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1165" class="Bound">tx</a> <a id="1168" class="Symbol">:</a> <a id="1170" href="Ledger.Conway.Specification.Transaction.html#4500" class="Record">Tx</a><a id="1172" class="Symbol">)</a> <a id="1174" class="Symbol">(</a><a id="1175" class="Keyword">let</a> <a id="1179" class="Keyword">open</a> <a id="1184" href="Ledger.Conway.Specification.Transaction.html#4500" class="Module">Tx</a> <a id="1187" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1165" class="Bound">tx</a><a id="1189" class="Symbol">;</a> <a id="1191" class="Keyword">open</a> <a id="1196" href="Ledger.Conway.Specification.Transaction.html#2987" class="Module">TxBody</a> <a id="1203" href="Ledger.Conway.Specification.Transaction.html#4532" class="Field">body</a><a id="1207" class="Symbol">)</a>
  <a id="1211" class="Symbol">(</a> <a id="1213" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1213" class="Bound">indexedSumᵛ&#39;-∪</a>  <a id="1229" class="Symbol">:</a>  <a id="1232" class="Symbol">{</a><a id="1233" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1233" class="Bound">A</a> <a id="1235" class="Symbol">:</a> <a id="1237" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1241" class="Symbol">}</a> <a id="1243" class="Symbol">⦃</a> <a id="1245" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1245" class="Bound">_</a> <a id="1247" class="Symbol">:</a> <a id="1249" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1255" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1233" class="Bound">A</a> <a id="1257" class="Symbol">⦄</a> <a id="1259" class="Symbol">(</a><a id="1260" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1260" class="Bound">m</a> <a id="1262" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1262" class="Bound">m&#39;</a> <a id="1265" class="Symbol">:</a> <a id="1267" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1233" class="Bound">A</a> <a id="1269" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1271" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1275" class="Symbol">)</a>
                       <a id="1300" class="Symbol">→</a> <a id="1302" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="1311" class="Symbol">(</a><a id="1312" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1316" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1260" class="Bound">m</a><a id="1317" class="Symbol">)</a> <a id="1319" class="Symbol">(</a><a id="1320" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1324" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1262" class="Bound">m&#39;</a><a id="1326" class="Symbol">)</a> <a id="1328" class="Symbol">→</a> <a id="1330" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1338" class="Symbol">(</a><a id="1339" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1260" class="Bound">m</a> <a id="1341" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1344" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1262" class="Bound">m&#39;</a><a id="1346" class="Symbol">)</a> <a id="1348" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1350" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1358" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1260" class="Bound">m</a> <a id="1360" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="1362" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1370" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1262" class="Bound">m&#39;</a> <a id="1373" class="Symbol">)</a>
  <a id="1377" class="Symbol">(</a> <a id="1379" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1379" class="Bound">sumConstZero</a>    <a id="1395" class="Symbol">:</a>  <a id="1398" class="Symbol">{</a><a id="1399" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1399" class="Bound">A</a> <a id="1401" class="Symbol">:</a> <a id="1403" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1407" class="Symbol">}</a> <a id="1409" class="Symbol">⦃</a> <a id="1411" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1411" class="Bound">_</a> <a id="1413" class="Symbol">:</a> <a id="1415" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1421" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1399" class="Bound">A</a> <a id="1423" class="Symbol">⦄</a> <a id="1425" class="Symbol">{</a><a id="1426" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1426" class="Bound">X</a> <a id="1428" class="Symbol">:</a> <a id="1430" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1432" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1399" class="Bound">A</a><a id="1433" class="Symbol">}</a> <a id="1435" class="Symbol">→</a> <a id="1437" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1445" class="Symbol">(</a><a id="1446" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="1455" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1426" class="Bound">X</a> <a id="1457" class="Number">0</a><a id="1458" class="Symbol">)</a> <a id="1460" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1462" class="Number">0</a> <a id="1464" class="Symbol">)</a>
  <a id="1468" class="Symbol">(</a> <a id="1470" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1470" class="Bound">res-decomp</a>      <a id="1486" class="Symbol">:</a>  <a id="1489" class="Symbol">{</a><a id="1490" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1490" class="Bound">A</a> <a id="1492" class="Symbol">:</a> <a id="1494" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1498" class="Symbol">}</a> <a id="1500" class="Symbol">⦃</a> <a id="1502" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1502" class="Bound">_</a> <a id="1504" class="Symbol">:</a> <a id="1506" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1512" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1490" class="Bound">A</a> <a id="1514" class="Symbol">⦄</a> <a id="1516" class="Symbol">(</a><a id="1517" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1517" class="Bound">m</a> <a id="1519" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1519" class="Bound">m&#39;</a> <a id="1522" class="Symbol">:</a> <a id="1524" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1490" class="Bound">A</a> <a id="1526" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1528" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1532" class="Symbol">)</a>
                       <a id="1557" class="Symbol">→</a> <a id="1559" class="Symbol">(</a><a id="1560" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1517" class="Bound">m</a> <a id="1562" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1565" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1519" class="Bound">m&#39;</a><a id="1567" class="Symbol">)</a><a id="1568" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1570" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="1573" class="Symbol">(</a><a id="1574" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1517" class="Bound">m</a> <a id="1576" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1579" class="Symbol">(</a><a id="1580" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1519" class="Bound">m&#39;</a> <a id="1583" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="1585" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1589" class="Symbol">(</a><a id="1590" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1517" class="Bound">m</a> <a id="1592" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1593" class="Symbol">)</a> <a id="1595" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="1596" class="Symbol">))</a><a id="1598" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1600" class="Symbol">)</a>
  <a id="1604" class="Symbol">(</a> <a id="1606" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1606" class="Bound">getCoin-cong</a>    <a id="1622" class="Symbol">:</a>  <a id="1625" class="Symbol">{</a><a id="1626" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1626" class="Bound">A</a> <a id="1628" class="Symbol">:</a> <a id="1630" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1634" class="Symbol">}</a> <a id="1636" class="Symbol">⦃</a> <a id="1638" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1638" class="Bound">_</a> <a id="1640" class="Symbol">:</a> <a id="1642" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1648" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1626" class="Bound">A</a> <a id="1650" class="Symbol">⦄</a> <a id="1652" class="Symbol">(</a><a id="1653" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1653" class="Bound">s</a> <a id="1655" class="Symbol">:</a> <a id="1657" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1626" class="Bound">A</a> <a id="1659" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1661" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1665" class="Symbol">)</a> <a id="1667" class="Symbol">(</a><a id="1668" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1668" class="Bound">s&#39;</a> <a id="1671" class="Symbol">:</a> <a id="1673" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1675" class="Symbol">(</a><a id="1676" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1626" class="Bound">A</a> <a id="1678" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1680" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1684" class="Symbol">))</a> <a id="1687" class="Symbol">→</a> <a id="1689" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1653" class="Bound">s</a> <a id="1691" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1693" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="1696" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1668" class="Bound">s&#39;</a>
                       <a id="1722" class="Symbol">→</a> <a id="1724" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="1736" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1742" class="Symbol">(</a><a id="1743" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1653" class="Bound">s</a> <a id="1745" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1746" class="Symbol">)</a> <a id="1748" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1750" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="1762" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1768" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1668" class="Bound">s&#39;</a> <a id="1771" class="Symbol">)</a>
  <a id="1775" class="Symbol">(</a> <a id="1777" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1777" class="Bound">≡ᵉ-getCoinˢ</a>     <a id="1793" class="Symbol">:</a>  <a id="1796" class="Symbol">{</a><a id="1797" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1797" class="Bound">A</a> <a id="1799" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1799" class="Bound">A&#39;</a> <a id="1802" class="Symbol">:</a> <a id="1804" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1808" class="Symbol">}</a> <a id="1810" class="Symbol">⦃</a> <a id="1812" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1812" class="Bound">_</a> <a id="1814" class="Symbol">:</a> <a id="1816" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1822" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1797" class="Bound">A</a> <a id="1824" class="Symbol">⦄</a> <a id="1826" class="Symbol">⦃</a> <a id="1828" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1828" class="Bound">_</a> <a id="1830" class="Symbol">:</a> <a id="1832" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1838" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1799" class="Bound">A&#39;</a> <a id="1841" class="Symbol">⦄</a> <a id="1843" class="Symbol">(</a><a id="1844" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1844" class="Bound">s</a> <a id="1846" class="Symbol">:</a> <a id="1848" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1850" class="Symbol">(</a><a id="1851" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1797" class="Bound">A</a> <a id="1853" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1855" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1859" class="Symbol">))</a> <a id="1862" class="Symbol">{</a><a id="1863" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1863" class="Bound">f</a> <a id="1865" class="Symbol">:</a> <a id="1867" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1797" class="Bound">A</a> <a id="1869" class="Symbol">→</a> <a id="1871" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1799" class="Bound">A&#39;</a><a id="1873" class="Symbol">}</a>
                       <a id="1898" class="Symbol">→</a> <a id="1900" href="Axiom.Set.Map.html#5071" class="Function">InjectiveOn</a> <a id="1912" class="Symbol">(</a><a id="1913" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1917" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1844" class="Bound">s</a><a id="1918" class="Symbol">)</a> <a id="1920" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1863" class="Bound">f</a> <a id="1922" class="Symbol">→</a> <a id="1924" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1932" class="Symbol">(</a><a id="1933" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="1938" class="Symbol">(</a><a id="1939" href="Class.Bifunctor.html#1045" class="Function">map₁</a> <a id="1944" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1863" class="Bound">f</a><a id="1945" class="Symbol">)</a> <a id="1947" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1844" class="Bound">s</a><a id="1948" class="Symbol">)</a> <a id="1950" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1952" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1960" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1844" class="Bound">s</a> <a id="1962" class="Symbol">)</a>
  <a id="1966" class="Keyword">where</a>

  <a id="1975" class="Keyword">pattern</a> <a id="1983" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1983" class="InductiveConstructor">UTXO-induction</a> <a id="1998" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2052" class="Bound">r</a> <a id="2000" class="Symbol">=</a> <a id="2002" href="Ledger.Conway.Specification.Utxo.html#13922" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="2018" class="Symbol">_</a> <a id="2020" class="Symbol">_</a> <a id="2022" class="Symbol">_</a> <a id="2024" class="Symbol">_</a> <a id="2026" class="Symbol">_</a> <a id="2028" class="Symbol">_</a> <a id="2030" class="Symbol">_</a> <a id="2032" class="Symbol">_</a> <a id="2034" class="Symbol">_</a> <a id="2036" class="Symbol">_</a> <a id="2038" class="Symbol">_</a> <a id="2040" class="Symbol">_</a> <a id="2042" class="Symbol">_</a> <a id="2044" class="Symbol">_</a> <a id="2046" class="Symbol">_</a> <a id="2048" class="Symbol">_</a> <a id="2050" class="Symbol">_</a> <a id="2052" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2052" class="Bound">r</a> <a id="2054" class="Symbol">_</a> <a id="2056" class="Symbol">_</a> <a id="2058" class="Symbol">_</a>


  <a id="2064" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2064" class="Function">LEDGER-pov</a> <a id="2075" class="Symbol">:</a> <a id="2077" class="Symbol">{</a><a id="2078" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2078" class="Bound">Γ</a> <a id="2080" class="Symbol">:</a> <a id="2082" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a><a id="2086" class="Symbol">}</a> <a id="2088" class="Symbol">{</a><a id="2089" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2089" class="Bound">s</a> <a id="2091" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2091" class="Bound">s&#39;</a> <a id="2094" class="Symbol">:</a> <a id="2096" href="Ledger.Conway.Specification.Ledger.html#977" class="Record">LState</a><a id="2102" class="Symbol">}</a>
    <a id="2108" class="Symbol">→</a> <a id="2110" href="Ledger.Conway.Specification.Transaction.html#3530" class="Function">txid</a> <a id="2115" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="2117" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2122" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2128" class="Symbol">(</a><a id="2129" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2133" class="Symbol">(</a><a id="2134" href="Ledger.Conway.Specification.Transaction.html#2930" class="Field">UTxOOf</a> <a id="2141" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2089" class="Bound">s</a><a id="2142" class="Symbol">))</a>
    <a id="2149" class="Symbol">→</a> <a id="2151" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2078" class="Bound">Γ</a> <a id="2153" href="Ledger.Conway.Specification.Ledger.html#2749" class="Datatype Operator">⊢</a> <a id="2155" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2089" class="Bound">s</a> <a id="2157" href="Ledger.Conway.Specification.Ledger.html#2749" class="Datatype Operator">⇀⦇</a> <a id="2160" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1165" class="Bound">tx</a> <a id="2163" href="Ledger.Conway.Specification.Ledger.html#2749" class="Datatype Operator">,LEDGER⦈</a> <a id="2172" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2091" class="Bound">s&#39;</a> <a id="2175" class="Symbol">→</a> <a id="2177" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2185" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2089" class="Bound">s</a> <a id="2187" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2189" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2197" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2091" class="Bound">s&#39;</a>


  <a id="2204" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2064" class="Function">LEDGER-pov</a>
    <a id="2219" class="Symbol">{</a><a id="2220" class="Argument">s</a>  <a id="2223" class="Symbol">=</a> <a id="2225" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2225" class="Bound">s</a><a id="2226" class="Symbol">}</a>
    <a id="2232" class="Symbol">{</a><a id="2233" class="Argument">s&#39;</a> <a id="2236" class="Symbol">=</a> <a id="2238" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2238" class="Bound">s&#39;</a><a id="2240" class="Symbol">}</a>
    <a id="2246" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2246" class="Bound">h</a> <a id="2248" class="Symbol">(</a><a id="2249" href="Ledger.Conway.Specification.Ledger.html#2811" class="InductiveConstructor">LEDGER-V</a> <a id="2258" class="Symbol">{</a><a id="2259" class="Argument">utxoSt&#39;</a> <a id="2267" class="Symbol">=</a> <a id="2269" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2269" class="Bound">utxoSt&#39;&#39;</a><a id="2277" class="Symbol">}</a> <a id="2279" class="Symbol">(</a> <a id="2281" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2281" class="Bound">valid</a> <a id="2287" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2289" href="Ledger.Conway.Specification.Utxow.html#4894" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="2300" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2300" class="Bound">st</a><a id="2302" class="Symbol">@(</a><a id="2304" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1983" class="InductiveConstructor">UTXO-induction</a> <a id="2319" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2319" class="Bound">r</a><a id="2320" class="Symbol">)</a> <a id="2322" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2324" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2324" class="Bound">h&#39;</a> <a id="2327" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2329" class="Symbol">_</a> <a id="2331" class="Symbol">))</a> <a id="2334" class="Symbol">=</a>
    <a id="2340" class="Keyword">let</a>
      <a id="2350" class="Keyword">open</a> <a id="2355" href="Ledger.Conway.Specification.Ledger.html#977" class="Module">LState</a> <a id="2362" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2225" class="Bound">s</a>
      <a id="2370" class="Keyword">open</a> <a id="2375" href="Ledger.Conway.Specification.Certs.html#4359" class="Module">CertState</a> <a id="2385" href="Ledger.Conway.Specification.Ledger.html#1089" class="Function">certState</a>
      <a id="2401" class="Keyword">open</a> <a id="2406" href="Ledger.Conway.Specification.Ledger.html#977" class="Module">LState</a> <a id="2413" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2238" class="Bound">s&#39;</a> <a id="2416" class="Keyword">renaming</a> <a id="2425" class="Symbol">(</a><a id="2426" href="Ledger.Conway.Specification.Ledger.html#1036" class="Field">utxoSt</a> <a id="2433" class="Symbol">to</a> <a id="2436" class="Field">utxoSt&#39;</a><a id="2443" class="Symbol">;</a> <a id="2445" href="Ledger.Conway.Specification.Ledger.html#1063" class="Field">govSt</a> <a id="2451" class="Symbol">to</a> <a id="2454" class="Field">govSt&#39;</a><a id="2460" class="Symbol">;</a> <a id="2462" href="Ledger.Conway.Specification.Ledger.html#1089" class="Field">certState</a> <a id="2472" class="Symbol">to</a> <a id="2475" class="Field">certState&#39;</a><a id="2485" class="Symbol">)</a>
      <a id="2493" class="Keyword">open</a> <a id="2498" href="Ledger.Conway.Specification.Certs.html#4359" class="Module">CertState</a> <a id="2508" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a>
      <a id="2525" class="Keyword">open</a> <a id="2530" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>
      <a id="2548" class="Keyword">open</a> <a id="2553" href="Ledger.Conway.Specification.Certs.Properties.html#11984" class="Module">CERTSpov</a> <a id="2562" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1213" class="Bound">indexedSumᵛ&#39;-∪</a> <a id="2577" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1379" class="Bound">sumConstZero</a> <a id="2590" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1470" class="Bound">res-decomp</a>  <a id="2602" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1606" class="Bound">getCoin-cong</a> <a id="2615" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1777" class="Bound">≡ᵉ-getCoinˢ</a> <a id="2627" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2319" class="Bound">r</a>
      <a id="2635" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2635" class="Bound">zeroMap</a>    <a id="2646" class="Symbol">=</a> <a id="2648" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="2657" class="Symbol">(</a><a id="2658" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2663" href="Ledger.Core.Specification.Address.html#1378" class="Field">RwdAddr.stake</a> <a id="2677" class="Symbol">(</a><a id="2678" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2682" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a><a id="2689" class="Symbol">))</a> <a id="2692" class="Number">0</a>
    <a id="2698" class="Keyword">in</a>
    <a id="2705" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="2717" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2725" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="2732" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2734" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2742" href="Ledger.Conway.Specification.Ledger.html#1089" class="Function">certState</a>
        <a id="2760" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="2763" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="2768" class="Symbol">(</a><a id="2769" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2777" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="2784" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="2786" class="Symbol">)</a> <a id="2788" class="Symbol">(</a><a id="2789" href="Ledger.Conway.Specification.Certs.Properties.html#15864" class="Function">CERTS-pov</a> <a id="2799" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2324" class="Bound">h&#39;</a><a id="2801" class="Symbol">)</a> <a id="2803" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="2811" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2819" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="2826" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2828" class="Symbol">(</a><a id="2829" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2837" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a> <a id="2848" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2850" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2858" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a><a id="2865" class="Symbol">)</a>
        <a id="2875" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="2879" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="2884" class="Symbol">(λ</a> <a id="2887" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2887" class="Bound">x</a> <a id="2889" class="Symbol">→</a> <a id="2891" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2899" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="2906" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2908" class="Symbol">(</a><a id="2909" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2917" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a> <a id="2928" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2930" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2887" class="Bound">x</a> <a id="2932" class="Symbol">))</a> <a id="2935" class="Symbol">(</a><a id="2936" href="Data.Nat.Properties.html#21834" class="Function">*-identityʳ</a> <a id="2948" class="Symbol">(</a><a id="2949" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2957" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a><a id="2964" class="Symbol">))</a> <a id="2967" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>  <a id="2970" class="Comment">-- cong (λ u → getCoin utxoSt + (getCoin certState&#39; + getCoin txwdrls * χ u)) valid ⟩</a>
      <a id="3062" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3070" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="3077" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3079" class="Symbol">(</a><a id="3080" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3088" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a> <a id="3099" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3101" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3109" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="3117" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3119" class="Number">1</a><a id="3120" class="Symbol">)</a>
        <a id="3130" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="3134" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3139" class="Symbol">(λ</a> <a id="3142" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3142" class="Bound">u</a> <a id="3144" class="Symbol">→</a> <a id="3146" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3154" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="3161" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3163" class="Symbol">(</a><a id="3164" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3172" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a> <a id="3183" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3185" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3193" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="3201" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3203" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="3205" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3142" class="Bound">u</a><a id="3206" class="Symbol">))</a> <a id="3209" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2281" class="Bound">valid</a> <a id="3215" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="3223" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3231" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="3238" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3240" class="Symbol">(</a><a id="3241" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3249" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a> <a id="3260" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3262" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3270" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="3278" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3280" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="3282" href="Ledger.Conway.Specification.Transaction.html#4604" class="Field">isValid</a><a id="3289" class="Symbol">)</a>
        <a id="3299" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3302" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3307" class="Symbol">(</a><a id="3308" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3316" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="3323" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="3325" class="Symbol">)</a> <a id="3327" class="Symbol">(</a><a id="3328" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="3335" class="Symbol">(</a><a id="3336" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3344" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a><a id="3354" class="Symbol">)</a> <a id="3356" class="Symbol">_)</a> <a id="3359" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="3367" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3375" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="3382" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3384" class="Symbol">(</a><a id="3385" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3393" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="3401" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3403" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="3405" href="Ledger.Conway.Specification.Transaction.html#4604" class="Field">isValid</a> <a id="3413" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3415" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3423" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a><a id="3433" class="Symbol">)</a>
        <a id="3443" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="3447" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="3455" class="Symbol">(</a><a id="3456" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3464" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a><a id="3470" class="Symbol">)</a> <a id="3472" class="Symbol">(</a><a id="3473" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3481" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="3489" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3491" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="3493" href="Ledger.Conway.Specification.Transaction.html#4604" class="Field">isValid</a><a id="3500" class="Symbol">)</a> <a id="3502" class="Symbol">(</a><a id="3503" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3511" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a><a id="3521" class="Symbol">)</a> <a id="3523" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="3531" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3539" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="3546" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3548" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3556" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="3564" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3566" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="3568" href="Ledger.Conway.Specification.Transaction.html#4604" class="Field">isValid</a> <a id="3576" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3578" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3586" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a>
        <a id="3605" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3608" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3613" class="Symbol">(</a><a id="3614" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="3617" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3625" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a><a id="3635" class="Symbol">)</a> <a id="3637" class="Symbol">(</a><a id="3638" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#544" class="Function">UTXOpov</a> <a id="3646" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2246" class="Bound">h</a> <a id="3648" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2300" class="Bound">st</a><a id="3650" class="Symbol">)</a> <a id="3652" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="3660" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3668" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2436" class="Function">utxoSt&#39;</a> <a id="3676" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3678" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3686" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2475" class="Function">certState&#39;</a>
        <a id="3705" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="3710" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2064" class="Function">LEDGER-pov</a>  <a id="3722" class="Symbol">{</a><a id="3723" class="Argument">s</a> <a id="3725" class="Symbol">=</a> <a id="3727" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3727" class="Bound">s</a><a id="3728" class="Symbol">}</a>
              <a id="3744" class="Symbol">{</a><a id="3745" class="Argument">s&#39;</a> <a id="3748" class="Symbol">=</a> <a id="3750" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3750" class="Bound">s&#39;</a><a id="3752" class="Symbol">}</a>
              <a id="3768" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3768" class="Bound">h</a> <a id="3770" class="Symbol">(</a><a id="3771" href="Ledger.Conway.Specification.Ledger.html#3471" class="InductiveConstructor">LEDGER-I</a> <a id="3780" class="Symbol">{</a><a id="3781" class="Argument">utxoSt&#39;</a> <a id="3789" class="Symbol">=</a> <a id="3791" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3791" class="Bound">utxoSt&#39;&#39;</a><a id="3799" class="Symbol">}</a> <a id="3801" class="Symbol">(</a><a id="3802" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3802" class="Bound">invalid</a> <a id="3810" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3812" href="Ledger.Conway.Specification.Utxow.html#4894" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="3823" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3823" class="Bound">st</a><a id="3825" class="Symbol">))</a> <a id="3828" class="Symbol">=</a>
    <a id="3834" class="Keyword">let</a>
        <a id="3846" class="Keyword">open</a> <a id="3851" href="Ledger.Conway.Specification.Ledger.html#977" class="Module">LState</a> <a id="3858" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3727" class="Bound">s</a>
        <a id="3868" class="Keyword">open</a> <a id="3873" href="Ledger.Conway.Specification.Certs.html#4359" class="Module">CertState</a> <a id="3883" href="Ledger.Conway.Specification.Ledger.html#1089" class="Function">certState</a>
        <a id="3901" class="Keyword">open</a> <a id="3906" href="Ledger.Conway.Specification.Ledger.html#977" class="Module">LState</a> <a id="3913" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3750" class="Bound">s&#39;</a> <a id="3916" class="Keyword">renaming</a> <a id="3925" class="Symbol">(</a><a id="3926" href="Ledger.Conway.Specification.Ledger.html#1036" class="Field">utxoSt</a> <a id="3933" class="Symbol">to</a> <a id="3936" class="Field">utxoSt&#39;</a><a id="3943" class="Symbol">;</a> <a id="3945" href="Ledger.Conway.Specification.Ledger.html#1063" class="Field">govSt</a> <a id="3951" class="Symbol">to</a> <a id="3954" class="Field">govSt&#39;</a><a id="3960" class="Symbol">;</a> <a id="3962" href="Ledger.Conway.Specification.Ledger.html#1089" class="Field">certState</a> <a id="3972" class="Symbol">to</a> <a id="3975" class="Field">certState&#39;</a><a id="3985" class="Symbol">)</a>
        <a id="3995" class="Keyword">open</a> <a id="4000" href="Ledger.Conway.Specification.Utxo.html#1473" class="Module">UTxOState</a> <a id="4010" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a>
        <a id="4025" class="Keyword">open</a> <a id="4030" href="Ledger.Conway.Specification.Utxo.html#1473" class="Module">UTxOState</a> <a id="4040" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3936" class="Function">utxoSt&#39;</a> <a id="4048" class="Keyword">renaming</a> <a id="4057" class="Symbol">(</a><a id="4058" href="Ledger.Conway.Specification.Utxo.html#1537" class="Field">utxo</a> <a id="4063" class="Symbol">to</a> <a id="4066" class="Field">utxo&#39;</a><a id="4071" class="Symbol">;</a> <a id="4073" href="Ledger.Conway.Specification.Utxo.html#1559" class="Field">fees</a> <a id="4078" class="Symbol">to</a> <a id="4081" class="Field">fees&#39;</a>
                                        <a id="4127" class="Symbol">;</a> <a id="4129" href="Ledger.Conway.Specification.Utxo.html#1581" class="Field">deposits</a> <a id="4138" class="Symbol">to</a> <a id="4141" class="Field">deposits&#39;</a><a id="4150" class="Symbol">;</a> <a id="4152" href="Ledger.Conway.Specification.Utxo.html#1607" class="Field">donations</a> <a id="4162" class="Symbol">to</a> <a id="4165" class="Field">donations&#39;</a><a id="4175" class="Symbol">)</a> <a id="4177" class="Keyword">in</a>
    <a id="4184" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="4189" class="Symbol">(</a><a id="4190" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="4193" href="Ledger.Conway.Specification.Certs.html#5289" class="Function">rewardsBalance</a> <a id="4208" href="Ledger.Conway.Specification.Certs.html#4422" class="Function">dState</a><a id="4214" class="Symbol">)</a>
    <a id="4220" class="Symbol">(</a> <a id="4222" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="4234" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1537}{\htmlId{4244}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1559}{\htmlId{4251}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1581}{\htmlId{4258}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1607}{\htmlId{4269}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a>
        <a id="4289" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4293" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="4305" class="Symbol">(</a><a id="4306" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1537}{\htmlId{4316}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1559}{\htmlId{4323}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1581}{\htmlId{4330}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1607}{\htmlId{4341}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a><a id="4352" class="Symbol">)</a> <a id="4354" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4362" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1537}{\htmlId{4372}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1559}{\htmlId{4379}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1581}{\htmlId{4386}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1607}{\htmlId{4397}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4409" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4411" class="Number">0</a>
        <a id="4421" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4425" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="4430" class="Symbol">(</a><a id="4431" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1537}{\htmlId{4441}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1559}{\htmlId{4448}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1581}{\htmlId{4455}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1607}{\htmlId{4466}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4478" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="4480" class="Symbol">)</a> <a id="4482" class="Symbol">(</a><a id="4483" href="Data.Nat.Properties.html#22054" class="Function">*-zeroʳ</a> <a id="4491" class="Symbol">(</a><a id="4492" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4500" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a><a id="4507" class="Symbol">))</a> <a id="4510" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4518" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1537}{\htmlId{4528}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1559}{\htmlId{4535}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1581}{\htmlId{4542}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1607}{\htmlId{4553}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4565" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4567" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4575" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="4583" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4585" class="Number">0</a>
        <a id="4595" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4599" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="4604" class="Symbol">(λ</a> <a id="4607" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#4607" class="Bound">x</a> <a id="4609" class="Symbol">→</a> <a id="4611" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1537}{\htmlId{4621}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1559}{\htmlId{4628}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1581}{\htmlId{4635}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1607}{\htmlId{4646}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4658" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4660" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4668" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="4676" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4678" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="4680" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#4607" class="Bound">x</a><a id="4681" class="Symbol">)</a> <a id="4683" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3802" class="Bound">invalid</a> <a id="4691" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4699" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1537}{\htmlId{4709}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1559}{\htmlId{4716}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1581}{\htmlId{4723}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1607}{\htmlId{4734}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4746" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4748" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4756" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="4764" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4766" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="4768" href="Ledger.Conway.Specification.Transaction.html#4604" class="Field">isValid</a>
        <a id="4784" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="4787" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#544" class="Function">UTXOpov</a> <a id="4795" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3768" class="Bound">h</a> <a id="4797" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3823" class="Bound">st</a> <a id="4800" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="4808" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4066}{\htmlId{4818}{\htmlClass{Function}{\text{utxo&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4081}{\htmlId{4826}{\htmlClass{Function}{\text{fees&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4141}{\htmlId{4834}{\htmlClass{Function}{\text{deposits&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4165}{\htmlId{4846}{\htmlClass{Function}{\text{donations&#39;}}}}\, \end{pmatrix}$</a> <a id="4859" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="4861" class="Symbol">)</a>
    <a id="4867" class="Keyword">where</a> <a id="4873" class="Keyword">open</a> <a id="4878" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>

</pre></body></html>