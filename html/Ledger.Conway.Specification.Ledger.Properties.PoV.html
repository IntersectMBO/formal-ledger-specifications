<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Ledger.Properties.PoV</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="78" class="Keyword">open</a> <a id="83" class="Keyword">import</a> <a id="90" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>

<a id="128" class="Keyword">module</a> <a id="135" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html" class="Module">Ledger.Conway.Specification.Ledger.Properties.PoV</a>
  <a id="187" class="Symbol">(</a><a id="188" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#188" class="Bound">txs</a> <a id="192" class="Symbol">:</a> <a id="194" class="Symbol">_)</a> <a id="197" class="Symbol">(</a><a id="198" class="Keyword">open</a> <a id="203" href="Ledger.Conway.Specification.Transaction.html#1000" class="Module">TransactionStructure</a> <a id="224" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#188" class="Bound">txs</a><a id="227" class="Symbol">)</a>
  <a id="231" class="Symbol">(</a><a id="232" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#232" class="Bound">abs</a> <a id="236" class="Symbol">:</a> <a id="238" href="Ledger.Conway.Specification.Abstract.html#641" class="Record">AbstractFunctions</a> <a id="256" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#188" class="Bound">txs</a><a id="259" class="Symbol">)</a> <a id="261" class="Symbol">(</a><a id="262" class="Keyword">open</a> <a id="267" href="Ledger.Conway.Specification.Abstract.html#641" class="Module">AbstractFunctions</a> <a id="285" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#232" class="Bound">abs</a><a id="288" class="Symbol">)</a>
  <a id="292" class="Keyword">where</a>


<a id="300" class="Keyword">open</a> <a id="305" class="Keyword">import</a> <a id="312" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="346" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="Ledger.Conway.Specification.Chain.html" class="Module">Ledger.Conway.Specification.Chain</a> <a id="405" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#188" class="Bound">txs</a> <a id="409" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#232" class="Bound">abs</a>
<a id="413" class="Keyword">open</a> <a id="418" class="Keyword">import</a> <a id="425" href="Ledger.Conway.Specification.Certs.Properties.html" class="Module">Ledger.Conway.Specification.Certs.Properties</a> <a id="470" href="Ledger.Conway.Specification.Transaction.html#2079" class="Function">govStructure</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="530" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#188" class="Bound">txs</a> <a id="534" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#232" class="Bound">abs</a>
<a id="538" class="Keyword">open</a> <a id="543" class="Keyword">import</a> <a id="550" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="565" class="Keyword">open</a> <a id="570" class="Keyword">import</a> <a id="577" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="610" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#188" class="Bound">txs</a> <a id="614" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#232" class="Bound">abs</a>
<a id="618" class="Keyword">open</a> <a id="623" class="Keyword">import</a> <a id="630" href="Ledger.Conway.Specification.Utxo.Properties.html" class="Module">Ledger.Conway.Specification.Utxo.Properties</a> <a id="674" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#188" class="Bound">txs</a> <a id="678" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#232" class="Bound">abs</a> <a id="682" class="Keyword">using</a> <a id="688" class="Symbol">(</a><a id="689" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a><a id="690" class="Symbol">;</a> <a id="692" class="Keyword">module</a> <a id="699" href="Ledger.Conway.Specification.Utxo.Properties.html#13725" class="Module">DepositHelpers</a><a id="713" class="Symbol">)</a>
<a id="715" class="Keyword">open</a> <a id="720" class="Keyword">import</a> <a id="727" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html" class="Module">Ledger.Conway.Specification.Utxo.Properties.PoV</a> <a id="775" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#188" class="Bound">txs</a> <a id="779" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#232" class="Bound">abs</a>
<a id="783" class="Keyword">open</a> <a id="788" class="Keyword">import</a> <a id="795" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="829" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#188" class="Bound">txs</a> <a id="833" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#232" class="Bound">abs</a>

<a id="838" class="Keyword">open</a> <a id="843" class="Keyword">import</a> <a id="850" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="871" href="Axiom.Set.html#10669" class="Function">th</a>

<a id="875" class="Keyword">open</a> <a id="880" class="Keyword">import</a> <a id="887" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="907" class="Keyword">using</a> <a id="913" class="Symbol">(</a><a id="914" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="924" class="Symbol">;</a> <a id="926" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a><a id="937" class="Symbol">;</a> <a id="939" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a><a id="945" class="Symbol">;</a> <a id="947" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a><a id="954" class="Symbol">;</a> <a id="956" href="Data.Nat.Properties.html#21834" class="Function">*-identityʳ</a><a id="967" class="Symbol">;</a> <a id="969" href="Data.Nat.Properties.html#22054" class="Function">*-zeroʳ</a><a id="976" class="Symbol">)</a>

<a id="979" class="Comment">-- ** Proof that LEDGER preserves values.</a>

<a id="1022" class="Keyword">instance</a>
  <a id="HasCoin-LState"></a><a id="1033" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1033" class="Function">HasCoin-LState</a> <a id="1048" class="Symbol">:</a> <a id="1050" href="Ledger.Prelude.HasCoin.html#122" class="Record">HasCoin</a> <a id="1058" href="Ledger.Conway.Specification.Ledger.html#977" class="Record">LState</a>
  <a id="1067" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1033" class="Function">HasCoin-LState</a> <a id="1082" class="Symbol">.</a><a id="1083" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1091" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1091" class="Bound">s</a> <a id="1093" class="Symbol">=</a> <a id="1095" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1103" class="Symbol">(</a><a id="1104" href="Ledger.Conway.Specification.Ledger.html#1036" class="Field">LState.utxoSt</a> <a id="1118" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1091" class="Bound">s</a><a id="1119" class="Symbol">)</a> <a id="1121" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="1123" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1131" class="Symbol">(</a><a id="1132" href="Ledger.Conway.Specification.Ledger.html#1089" class="Field">LState.certState</a> <a id="1149" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1091" class="Bound">s</a><a id="1150" class="Symbol">)</a>

<a id="1153" class="Keyword">module</a> <a id="1160" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1160" class="Module">_</a>
  <a id="1164" class="Symbol">(</a><a id="1165" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1165" class="Bound">tx</a> <a id="1168" class="Symbol">:</a> <a id="1170" href="Ledger.Conway.Specification.Transaction.html#4500" class="Record">Tx</a><a id="1172" class="Symbol">)</a> <a id="1174" class="Symbol">(</a><a id="1175" class="Keyword">let</a> <a id="1179" class="Keyword">open</a> <a id="1184" href="Ledger.Conway.Specification.Transaction.html#4500" class="Module">Tx</a> <a id="1187" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1165" class="Bound">tx</a><a id="1189" class="Symbol">;</a> <a id="1191" class="Keyword">open</a> <a id="1196" href="Ledger.Conway.Specification.Transaction.html#2987" class="Module">TxBody</a> <a id="1203" href="Ledger.Conway.Specification.Transaction.html#4532" class="Field">body</a><a id="1207" class="Symbol">)</a>
  <a id="1211" class="Symbol">(</a> <a id="1213" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1213" class="Bound">indexedSumᵛ&#39;-∪</a>  <a id="1229" class="Symbol">:</a>  <a id="1232" class="Symbol">{</a><a id="1233" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1233" class="Bound">A</a> <a id="1235" class="Symbol">:</a> <a id="1237" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1241" class="Symbol">}</a> <a id="1243" class="Symbol">⦃</a> <a id="1245" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1245" class="Bound">_</a> <a id="1247" class="Symbol">:</a> <a id="1249" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1255" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1233" class="Bound">A</a> <a id="1257" class="Symbol">⦄</a> <a id="1259" class="Symbol">(</a><a id="1260" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1260" class="Bound">m</a> <a id="1262" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1262" class="Bound">m&#39;</a> <a id="1265" class="Symbol">:</a> <a id="1267" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1233" class="Bound">A</a> <a id="1269" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1271" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1275" class="Symbol">)</a>
                       <a id="1300" class="Symbol">→</a> <a id="1302" href="Axiom.Set.html#3330" class="Function">disjoint</a> <a id="1311" class="Symbol">(</a><a id="1312" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1316" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1260" class="Bound">m</a><a id="1317" class="Symbol">)</a> <a id="1319" class="Symbol">(</a><a id="1320" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1324" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1262" class="Bound">m&#39;</a><a id="1326" class="Symbol">)</a> <a id="1328" class="Symbol">→</a> <a id="1330" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1338" class="Symbol">(</a><a id="1339" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1260" class="Bound">m</a> <a id="1341" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1344" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1262" class="Bound">m&#39;</a><a id="1346" class="Symbol">)</a> <a id="1348" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1350" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1358" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1260" class="Bound">m</a> <a id="1360" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="1362" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1370" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1262" class="Bound">m&#39;</a> <a id="1373" class="Symbol">)</a>
  <a id="1377" class="Symbol">(</a> <a id="1379" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1379" class="Bound">sumConstZero</a>    <a id="1395" class="Symbol">:</a>  <a id="1398" class="Symbol">{</a><a id="1399" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1399" class="Bound">A</a> <a id="1401" class="Symbol">:</a> <a id="1403" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1407" class="Symbol">}</a> <a id="1409" class="Symbol">⦃</a> <a id="1411" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1411" class="Bound">_</a> <a id="1413" class="Symbol">:</a> <a id="1415" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1421" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1399" class="Bound">A</a> <a id="1423" class="Symbol">⦄</a> <a id="1425" class="Symbol">{</a><a id="1426" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1426" class="Bound">X</a> <a id="1428" class="Symbol">:</a> <a id="1430" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1432" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1399" class="Bound">A</a><a id="1433" class="Symbol">}</a> <a id="1435" class="Symbol">→</a> <a id="1437" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1445" class="Symbol">(</a><a id="1446" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="1455" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1426" class="Bound">X</a> <a id="1457" class="Number">0</a><a id="1458" class="Symbol">)</a> <a id="1460" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1462" class="Number">0</a> <a id="1464" class="Symbol">)</a>
  <a id="1468" class="Symbol">(</a> <a id="1470" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1470" class="Bound">res-decomp</a>      <a id="1486" class="Symbol">:</a>  <a id="1489" class="Symbol">{</a><a id="1490" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1490" class="Bound">A</a> <a id="1492" class="Symbol">:</a> <a id="1494" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1498" class="Symbol">}</a> <a id="1500" class="Symbol">⦃</a> <a id="1502" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1502" class="Bound">_</a> <a id="1504" class="Symbol">:</a> <a id="1506" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1512" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1490" class="Bound">A</a> <a id="1514" class="Symbol">⦄</a> <a id="1516" class="Symbol">(</a><a id="1517" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1517" class="Bound">m</a> <a id="1519" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1519" class="Bound">m&#39;</a> <a id="1522" class="Symbol">:</a> <a id="1524" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1490" class="Bound">A</a> <a id="1526" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1528" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1532" class="Symbol">)</a>
                       <a id="1557" class="Symbol">→</a> <a id="1559" class="Symbol">(</a><a id="1560" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1517" class="Bound">m</a> <a id="1562" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1565" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1519" class="Bound">m&#39;</a><a id="1567" class="Symbol">)</a><a id="1568" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1570" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="1573" class="Symbol">(</a><a id="1574" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1517" class="Bound">m</a> <a id="1576" href="Axiom.Set.Map.html#6320" class="Function Operator">∪ˡ</a> <a id="1579" class="Symbol">(</a><a id="1580" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1519" class="Bound">m&#39;</a> <a id="1583" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="1585" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1589" class="Symbol">(</a><a id="1590" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1517" class="Bound">m</a> <a id="1592" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1593" class="Symbol">)</a> <a id="1595" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="1596" class="Symbol">))</a><a id="1598" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1600" class="Symbol">)</a>
  <a id="1604" class="Symbol">(</a> <a id="1606" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1606" class="Bound">getCoin-cong</a>    <a id="1622" class="Symbol">:</a>  <a id="1625" class="Symbol">{</a><a id="1626" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1626" class="Bound">A</a> <a id="1628" class="Symbol">:</a> <a id="1630" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1634" class="Symbol">}</a> <a id="1636" class="Symbol">⦃</a> <a id="1638" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1638" class="Bound">_</a> <a id="1640" class="Symbol">:</a> <a id="1642" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1648" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1626" class="Bound">A</a> <a id="1650" class="Symbol">⦄</a> <a id="1652" class="Symbol">(</a><a id="1653" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1653" class="Bound">s</a> <a id="1655" class="Symbol">:</a> <a id="1657" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1626" class="Bound">A</a> <a id="1659" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="1661" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1665" class="Symbol">)</a> <a id="1667" class="Symbol">(</a><a id="1668" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1668" class="Bound">s&#39;</a> <a id="1671" class="Symbol">:</a> <a id="1673" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1675" class="Symbol">(</a><a id="1676" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1626" class="Bound">A</a> <a id="1678" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1680" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1684" class="Symbol">))</a> <a id="1687" class="Symbol">→</a> <a id="1689" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1653" class="Bound">s</a> <a id="1691" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="1693" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="1696" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1668" class="Bound">s&#39;</a>
                       <a id="1722" class="Symbol">→</a> <a id="1724" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="1736" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1742" class="Symbol">(</a><a id="1743" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1653" class="Bound">s</a> <a id="1745" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="1746" class="Symbol">)</a> <a id="1748" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1750" href="abstract-set-theory.FiniteSetTheory.html#3302" class="Function">indexedSum&#39;</a> <a id="1762" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1768" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1668" class="Bound">s&#39;</a> <a id="1771" class="Symbol">)</a>
  <a id="1775" class="Symbol">(</a> <a id="1777" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1777" class="Bound">≡ᵉ-getCoinˢ</a>     <a id="1793" class="Symbol">:</a>  <a id="1796" class="Symbol">{</a><a id="1797" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1797" class="Bound">A</a> <a id="1799" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1799" class="Bound">A&#39;</a> <a id="1802" class="Symbol">:</a> <a id="1804" href="Agda.Primitive.html#388" class="Primitive">Type</a><a id="1808" class="Symbol">}</a> <a id="1810" class="Symbol">⦃</a> <a id="1812" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1812" class="Bound">_</a> <a id="1814" class="Symbol">:</a> <a id="1816" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1822" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1797" class="Bound">A</a> <a id="1824" class="Symbol">⦄</a> <a id="1826" class="Symbol">⦃</a> <a id="1828" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1828" class="Bound">_</a> <a id="1830" class="Symbol">:</a> <a id="1832" href="Class.DecEq.Core.html#117" class="Record">DecEq</a> <a id="1838" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1799" class="Bound">A&#39;</a> <a id="1841" class="Symbol">⦄</a> <a id="1843" class="Symbol">(</a><a id="1844" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1844" class="Bound">s</a> <a id="1846" class="Symbol">:</a> <a id="1848" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1850" class="Symbol">(</a><a id="1851" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1797" class="Bound">A</a> <a id="1853" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1855" href="Ledger.Prelude.Base.html#81" class="Function">Coin</a><a id="1859" class="Symbol">))</a> <a id="1862" class="Symbol">{</a><a id="1863" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1863" class="Bound">f</a> <a id="1865" class="Symbol">:</a> <a id="1867" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1797" class="Bound">A</a> <a id="1869" class="Symbol">→</a> <a id="1871" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1799" class="Bound">A&#39;</a><a id="1873" class="Symbol">}</a>
                       <a id="1898" class="Symbol">→</a> <a id="1900" href="Axiom.Set.Map.html#5071" class="Function">InjectiveOn</a> <a id="1912" class="Symbol">(</a><a id="1913" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1917" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1844" class="Bound">s</a><a id="1918" class="Symbol">)</a> <a id="1920" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1863" class="Bound">f</a> <a id="1922" class="Symbol">→</a> <a id="1924" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1932" class="Symbol">(</a><a id="1933" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="1938" class="Symbol">(</a><a id="1939" href="Class.Bifunctor.html#1045" class="Function">map₁</a> <a id="1944" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1863" class="Bound">f</a><a id="1945" class="Symbol">)</a> <a id="1947" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1844" class="Bound">s</a><a id="1948" class="Symbol">)</a> <a id="1950" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1952" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="1960" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1844" class="Bound">s</a> <a id="1962" class="Symbol">)</a>
  <a id="1966" class="Keyword">where</a>

  <a id="1975" class="Keyword">pattern</a> <a id="1983" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1983" class="InductiveConstructor">UTXO-induction</a> <a id="1998" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2052" class="Bound">r</a> <a id="2000" class="Symbol">=</a> <a id="2002" href="Ledger.Conway.Specification.Utxo.html#13937" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="2018" class="Symbol">_</a> <a id="2020" class="Symbol">_</a> <a id="2022" class="Symbol">_</a> <a id="2024" class="Symbol">_</a> <a id="2026" class="Symbol">_</a> <a id="2028" class="Symbol">_</a> <a id="2030" class="Symbol">_</a> <a id="2032" class="Symbol">_</a> <a id="2034" class="Symbol">_</a> <a id="2036" class="Symbol">_</a> <a id="2038" class="Symbol">_</a> <a id="2040" class="Symbol">_</a> <a id="2042" class="Symbol">_</a> <a id="2044" class="Symbol">_</a> <a id="2046" class="Symbol">_</a> <a id="2048" class="Symbol">_</a> <a id="2050" class="Symbol">_</a> <a id="2052" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2052" class="Bound">r</a> <a id="2054" class="Symbol">_</a> <a id="2056" class="Symbol">_</a> <a id="2058" class="Symbol">_</a>



  <a id="2065" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2065" class="Function">LEDGER-pov</a> <a id="2076" class="Symbol">:</a> <a id="2078" class="Symbol">{</a><a id="2079" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2079" class="Bound">Γ</a> <a id="2081" class="Symbol">:</a> <a id="2083" href="Ledger.Conway.Specification.Ledger.html#713" class="Record">LEnv</a><a id="2087" class="Symbol">}</a> <a id="2089" class="Symbol">{</a><a id="2090" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2090" class="Bound">s</a> <a id="2092" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2092" class="Bound">s&#39;</a> <a id="2095" class="Symbol">:</a> <a id="2097" href="Ledger.Conway.Specification.Ledger.html#977" class="Record">LState</a><a id="2103" class="Symbol">}</a>
    <a id="2109" class="Symbol">→</a> <a id="2111" href="Ledger.Conway.Specification.Transaction.html#3530" class="Function">txid</a> <a id="2116" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="2118" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2123" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2129" class="Symbol">(</a><a id="2130" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2134" class="Symbol">(</a><a id="2135" href="Ledger.Conway.Specification.Transaction.html#2930" class="Field">UTxOOf</a> <a id="2142" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2090" class="Bound">s</a><a id="2143" class="Symbol">))</a>
    <a id="2150" class="Symbol">→</a> <a id="2152" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2079" class="Bound">Γ</a> <a id="2154" href="Ledger.Conway.Specification.Ledger.html#2749" class="Datatype Operator">⊢</a> <a id="2156" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2090" class="Bound">s</a> <a id="2158" href="Ledger.Conway.Specification.Ledger.html#2749" class="Datatype Operator">⇀⦇</a> <a id="2161" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1165" class="Bound">tx</a> <a id="2164" href="Ledger.Conway.Specification.Ledger.html#2749" class="Datatype Operator">,LEDGER⦈</a> <a id="2173" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2092" class="Bound">s&#39;</a> <a id="2176" class="Symbol">→</a> <a id="2178" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2186" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2090" class="Bound">s</a> <a id="2188" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2190" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2198" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2092" class="Bound">s&#39;</a>


  <a id="2205" class="Comment">-- Proof.</a>
  <a id="2217" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2065" class="Function">LEDGER-pov</a>
    <a id="2232" class="Symbol">{</a><a id="2233" class="Argument">s</a>  <a id="2236" class="Symbol">=</a> <a id="2238" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2238" class="Bound">s</a><a id="2239" class="Symbol">}</a>
    <a id="2245" class="Symbol">{</a><a id="2246" class="Argument">s&#39;</a> <a id="2249" class="Symbol">=</a> <a id="2251" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2251" class="Bound">s&#39;</a><a id="2253" class="Symbol">}</a>
    <a id="2259" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2259" class="Bound">h</a> <a id="2261" class="Symbol">(</a><a id="2262" href="Ledger.Conway.Specification.Ledger.html#2811" class="InductiveConstructor">LEDGER-V</a> <a id="2271" class="Symbol">{</a><a id="2272" class="Argument">utxoSt&#39;</a> <a id="2280" class="Symbol">=</a> <a id="2282" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2282" class="Bound">utxoSt&#39;&#39;</a><a id="2290" class="Symbol">}</a> <a id="2292" class="Symbol">(</a> <a id="2294" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2294" class="Bound">valid</a> <a id="2300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2302" href="Ledger.Conway.Specification.Utxow.html#4894" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="2313" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2313" class="Bound">st</a><a id="2315" class="Symbol">@(</a><a id="2317" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1983" class="InductiveConstructor">UTXO-induction</a> <a id="2332" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2332" class="Bound">r</a><a id="2333" class="Symbol">)</a> <a id="2335" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2337" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2337" class="Bound">h&#39;</a> <a id="2340" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2342" class="Symbol">_</a> <a id="2344" class="Symbol">))</a> <a id="2347" class="Symbol">=</a>
    <a id="2353" class="Keyword">let</a>
      <a id="2363" class="Keyword">open</a> <a id="2368" href="Ledger.Conway.Specification.Ledger.html#977" class="Module">LState</a> <a id="2375" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2238" class="Bound">s</a>
      <a id="2383" class="Keyword">open</a> <a id="2388" href="Ledger.Conway.Specification.Certs.html#4344" class="Module">CertState</a> <a id="2398" href="Ledger.Conway.Specification.Ledger.html#1089" class="Function">certState</a>
      <a id="2414" class="Keyword">open</a> <a id="2419" href="Ledger.Conway.Specification.Ledger.html#977" class="Module">LState</a> <a id="2426" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2251" class="Bound">s&#39;</a> <a id="2429" class="Keyword">renaming</a> <a id="2438" class="Symbol">(</a><a id="2439" href="Ledger.Conway.Specification.Ledger.html#1036" class="Field">utxoSt</a> <a id="2446" class="Symbol">to</a> <a id="2449" class="Field">utxoSt&#39;</a><a id="2456" class="Symbol">;</a> <a id="2458" href="Ledger.Conway.Specification.Ledger.html#1063" class="Field">govSt</a> <a id="2464" class="Symbol">to</a> <a id="2467" class="Field">govSt&#39;</a><a id="2473" class="Symbol">;</a> <a id="2475" href="Ledger.Conway.Specification.Ledger.html#1089" class="Field">certState</a> <a id="2485" class="Symbol">to</a> <a id="2488" class="Field">certState&#39;</a><a id="2498" class="Symbol">)</a>
      <a id="2506" class="Keyword">open</a> <a id="2511" href="Ledger.Conway.Specification.Certs.html#4344" class="Module">CertState</a> <a id="2521" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2488" class="Function">certState&#39;</a>
      <a id="2538" class="Keyword">open</a> <a id="2543" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>
      <a id="2561" class="Keyword">open</a> <a id="2566" href="Ledger.Conway.Specification.Certs.Properties.html#11984" class="Module">CERTSpov</a> <a id="2575" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1213" class="Bound">indexedSumᵛ&#39;-∪</a> <a id="2590" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1379" class="Bound">sumConstZero</a> <a id="2603" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1470" class="Bound">res-decomp</a>  <a id="2615" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1606" class="Bound">getCoin-cong</a> <a id="2628" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#1777" class="Bound">≡ᵉ-getCoinˢ</a> <a id="2640" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2332" class="Bound">r</a>
      <a id="2648" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2648" class="Bound">zeroMap</a>    <a id="2659" class="Symbol">=</a> <a id="2661" href="Axiom.Set.Map.html#9130" class="Function">constMap</a> <a id="2670" class="Symbol">(</a><a id="2671" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="2676" href="Ledger.Core.Specification.Address.html#1378" class="Field">RwdAddr.stake</a> <a id="2690" class="Symbol">(</a><a id="2691" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2695" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a><a id="2702" class="Symbol">))</a> <a id="2705" class="Number">0</a>
    <a id="2711" class="Keyword">in</a>
    <a id="2718" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="2730" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2738" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="2745" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2747" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2755" href="Ledger.Conway.Specification.Ledger.html#1089" class="Function">certState</a>
        <a id="2773" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="2776" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="2781" class="Symbol">(</a><a id="2782" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2790" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="2797" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="2799" class="Symbol">)</a> <a id="2801" class="Symbol">(</a><a id="2802" href="Ledger.Conway.Specification.Certs.Properties.html#15864" class="Function">CERTS-pov</a> <a id="2812" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2337" class="Bound">h&#39;</a><a id="2814" class="Symbol">)</a> <a id="2816" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="2824" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2832" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="2839" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2841" class="Symbol">(</a><a id="2842" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2850" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2488" class="Function">certState&#39;</a> <a id="2861" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2863" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2871" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a><a id="2878" class="Symbol">)</a>
        <a id="2888" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="2892" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="2897" class="Symbol">(λ</a> <a id="2900" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2900" class="Bound">x</a> <a id="2902" class="Symbol">→</a> <a id="2904" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2912" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="2919" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2921" class="Symbol">(</a><a id="2922" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2930" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2488" class="Function">certState&#39;</a> <a id="2941" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="2943" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2900" class="Bound">x</a> <a id="2945" class="Symbol">))</a> <a id="2948" class="Symbol">(</a><a id="2949" href="Data.Nat.Properties.html#21834" class="Function">*-identityʳ</a> <a id="2961" class="Symbol">(</a><a id="2962" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="2970" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a><a id="2977" class="Symbol">))</a> <a id="2980" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>  <a id="2983" class="Comment">-- cong (λ u → getCoin utxoSt + (getCoin certState&#39; + getCoin txwdrls * χ u)) valid ⟩</a>
      <a id="3075" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3083" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="3090" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3092" class="Symbol">(</a><a id="3093" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3101" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2488" class="Function">certState&#39;</a> <a id="3112" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3114" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3122" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="3130" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3132" class="Number">1</a><a id="3133" class="Symbol">)</a>
        <a id="3143" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="3147" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3152" class="Symbol">(λ</a> <a id="3155" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3155" class="Bound">u</a> <a id="3157" class="Symbol">→</a> <a id="3159" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3167" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="3174" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3176" class="Symbol">(</a><a id="3177" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3185" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2488" class="Function">certState&#39;</a> <a id="3196" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3198" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3206" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="3214" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3216" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="3218" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3155" class="Bound">u</a><a id="3219" class="Symbol">))</a> <a id="3222" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2294" class="Bound">valid</a> <a id="3228" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="3236" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3244" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="3251" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3253" class="Symbol">(</a><a id="3254" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3262" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2488" class="Function">certState&#39;</a> <a id="3273" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3275" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3283" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="3291" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3293" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="3295" href="Ledger.Conway.Specification.Transaction.html#4604" class="Field">isValid</a><a id="3302" class="Symbol">)</a>
        <a id="3312" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3315" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3320" class="Symbol">(</a><a id="3321" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3329" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="3336" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="3338" class="Symbol">)</a> <a id="3340" class="Symbol">(</a><a id="3341" href="Data.Nat.Properties.html#15642" class="Function">+-comm</a> <a id="3348" class="Symbol">(</a><a id="3349" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3357" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2488" class="Function">certState&#39;</a><a id="3367" class="Symbol">)</a> <a id="3369" class="Symbol">_)</a> <a id="3372" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="3380" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3388" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="3395" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3397" class="Symbol">(</a><a id="3398" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3406" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="3414" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3416" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="3418" href="Ledger.Conway.Specification.Transaction.html#4604" class="Field">isValid</a> <a id="3426" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3428" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3436" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2488" class="Function">certState&#39;</a><a id="3446" class="Symbol">)</a>
        <a id="3456" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="3460" href="Data.Nat.Properties.html#15309" class="Function">+-assoc</a> <a id="3468" class="Symbol">(</a><a id="3469" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3477" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a><a id="3483" class="Symbol">)</a> <a id="3485" class="Symbol">(</a><a id="3486" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3494" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="3502" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3504" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="3506" href="Ledger.Conway.Specification.Transaction.html#4604" class="Field">isValid</a><a id="3513" class="Symbol">)</a> <a id="3515" class="Symbol">(</a><a id="3516" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3524" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2488" class="Function">certState&#39;</a><a id="3534" class="Symbol">)</a> <a id="3536" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="3544" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3552" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a> <a id="3559" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3561" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3569" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="3577" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3579" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="3581" href="Ledger.Conway.Specification.Transaction.html#4604" class="Field">isValid</a> <a id="3589" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3591" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3599" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2488" class="Function">certState&#39;</a>
        <a id="3618" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="3621" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3626" class="Symbol">(</a><a id="3627" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="3630" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3638" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2488" class="Function">certState&#39;</a><a id="3648" class="Symbol">)</a> <a id="3650" class="Symbol">(</a><a id="3651" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#544" class="Function">UTXOpov</a> <a id="3659" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2259" class="Bound">h</a> <a id="3661" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2313" class="Bound">st</a><a id="3663" class="Symbol">)</a> <a id="3665" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="3673" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3681" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2449" class="Function">utxoSt&#39;</a> <a id="3689" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="3691" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="3699" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2488" class="Function">certState&#39;</a>
        <a id="3718" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="3723" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#2065" class="Function">LEDGER-pov</a>  <a id="3735" class="Symbol">{</a><a id="3736" class="Argument">s</a> <a id="3738" class="Symbol">=</a> <a id="3740" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3740" class="Bound">s</a><a id="3741" class="Symbol">}</a>
              <a id="3757" class="Symbol">{</a><a id="3758" class="Argument">s&#39;</a> <a id="3761" class="Symbol">=</a> <a id="3763" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3763" class="Bound">s&#39;</a><a id="3765" class="Symbol">}</a>
              <a id="3781" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3781" class="Bound">h</a> <a id="3783" class="Symbol">(</a><a id="3784" href="Ledger.Conway.Specification.Ledger.html#3471" class="InductiveConstructor">LEDGER-I</a> <a id="3793" class="Symbol">{</a><a id="3794" class="Argument">utxoSt&#39;</a> <a id="3802" class="Symbol">=</a> <a id="3804" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3804" class="Bound">utxoSt&#39;&#39;</a><a id="3812" class="Symbol">}</a> <a id="3814" class="Symbol">(</a><a id="3815" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3815" class="Bound">invalid</a> <a id="3823" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3825" href="Ledger.Conway.Specification.Utxow.html#4894" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="3836" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3836" class="Bound">st</a><a id="3838" class="Symbol">))</a> <a id="3841" class="Symbol">=</a>
    <a id="3847" class="Keyword">let</a>
        <a id="3859" class="Keyword">open</a> <a id="3864" href="Ledger.Conway.Specification.Ledger.html#977" class="Module">LState</a> <a id="3871" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3740" class="Bound">s</a>
        <a id="3881" class="Keyword">open</a> <a id="3886" href="Ledger.Conway.Specification.Certs.html#4344" class="Module">CertState</a> <a id="3896" href="Ledger.Conway.Specification.Ledger.html#1089" class="Function">certState</a>
        <a id="3914" class="Keyword">open</a> <a id="3919" href="Ledger.Conway.Specification.Ledger.html#977" class="Module">LState</a> <a id="3926" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3763" class="Bound">s&#39;</a> <a id="3929" class="Keyword">renaming</a> <a id="3938" class="Symbol">(</a><a id="3939" href="Ledger.Conway.Specification.Ledger.html#1036" class="Field">utxoSt</a> <a id="3946" class="Symbol">to</a> <a id="3949" class="Field">utxoSt&#39;</a><a id="3956" class="Symbol">;</a> <a id="3958" href="Ledger.Conway.Specification.Ledger.html#1063" class="Field">govSt</a> <a id="3964" class="Symbol">to</a> <a id="3967" class="Field">govSt&#39;</a><a id="3973" class="Symbol">;</a> <a id="3975" href="Ledger.Conway.Specification.Ledger.html#1089" class="Field">certState</a> <a id="3985" class="Symbol">to</a> <a id="3988" class="Field">certState&#39;</a><a id="3998" class="Symbol">)</a>
        <a id="4008" class="Keyword">open</a> <a id="4013" href="Ledger.Conway.Specification.Utxo.html#1474" class="Module">UTxOState</a> <a id="4023" href="Ledger.Conway.Specification.Ledger.html#1036" class="Function">utxoSt</a>
        <a id="4038" class="Keyword">open</a> <a id="4043" href="Ledger.Conway.Specification.Utxo.html#1474" class="Module">UTxOState</a> <a id="4053" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3949" class="Function">utxoSt&#39;</a> <a id="4061" class="Keyword">renaming</a> <a id="4070" class="Symbol">(</a><a id="4071" href="Ledger.Conway.Specification.Utxo.html#1538" class="Field">utxo</a> <a id="4076" class="Symbol">to</a> <a id="4079" class="Field">utxo&#39;</a><a id="4084" class="Symbol">;</a> <a id="4086" href="Ledger.Conway.Specification.Utxo.html#1560" class="Field">fees</a> <a id="4091" class="Symbol">to</a> <a id="4094" class="Field">fees&#39;</a>
                                        <a id="4140" class="Symbol">;</a> <a id="4142" href="Ledger.Conway.Specification.Utxo.html#1582" class="Field">deposits</a> <a id="4151" class="Symbol">to</a> <a id="4154" class="Field">deposits&#39;</a><a id="4163" class="Symbol">;</a> <a id="4165" href="Ledger.Conway.Specification.Utxo.html#1608" class="Field">donations</a> <a id="4175" class="Symbol">to</a> <a id="4178" class="Field">donations&#39;</a><a id="4188" class="Symbol">)</a> <a id="4190" class="Keyword">in</a>
    <a id="4197" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="4202" class="Symbol">(</a><a id="4203" href="Class.HasAdd.Core.html#162" class="Field Operator">_+</a> <a id="4206" href="Ledger.Conway.Specification.Certs.html#5269" class="Function">rewardsBalance</a> <a id="4221" href="Ledger.Conway.Specification.Certs.html#4407" class="Function">dState</a><a id="4227" class="Symbol">)</a>
    <a id="4233" class="Symbol">(</a> <a id="4235" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="4247" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1538}{\htmlId{4257}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1560}{\htmlId{4264}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1582}{\htmlId{4271}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1608}{\htmlId{4282}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a>
        <a id="4302" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4306" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="4318" class="Symbol">(</a><a id="4319" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1538}{\htmlId{4329}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1560}{\htmlId{4336}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1582}{\htmlId{4343}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1608}{\htmlId{4354}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a><a id="4365" class="Symbol">)</a> <a id="4367" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4375" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1538}{\htmlId{4385}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1560}{\htmlId{4392}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1582}{\htmlId{4399}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1608}{\htmlId{4410}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4422" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4424" class="Number">0</a>
        <a id="4434" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4438" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="4443" class="Symbol">(</a><a id="4444" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1538}{\htmlId{4454}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1560}{\htmlId{4461}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1582}{\htmlId{4468}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1608}{\htmlId{4479}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4491" href="Class.HasAdd.Core.html#162" class="Field Operator">+_</a><a id="4493" class="Symbol">)</a> <a id="4495" class="Symbol">(</a><a id="4496" href="Data.Nat.Properties.html#22054" class="Function">*-zeroʳ</a> <a id="4504" class="Symbol">(</a><a id="4505" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4513" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a><a id="4520" class="Symbol">))</a> <a id="4523" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4531" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1538}{\htmlId{4541}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1560}{\htmlId{4548}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1582}{\htmlId{4555}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1608}{\htmlId{4566}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4578" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4580" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4588" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="4596" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4598" class="Number">0</a>
        <a id="4608" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="4612" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="4617" class="Symbol">(λ</a> <a id="4620" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#4620" class="Bound">x</a> <a id="4622" class="Symbol">→</a> <a id="4624" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1538}{\htmlId{4634}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1560}{\htmlId{4641}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1582}{\htmlId{4648}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1608}{\htmlId{4659}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4671" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4673" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4681" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="4689" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4691" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="4693" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#4620" class="Bound">x</a><a id="4694" class="Symbol">)</a> <a id="4696" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3815" class="Bound">invalid</a> <a id="4704" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
      <a id="4712" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Utxo.html#1538}{\htmlId{4722}{\htmlClass{Function}{\text{utxo}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1560}{\htmlId{4729}{\htmlClass{Function}{\text{fees}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1582}{\htmlId{4736}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Specification.Utxo.html#1608}{\htmlId{4747}{\htmlClass{Function}{\text{donations}}}}\, \end{pmatrix}$</a> <a id="4759" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="4761" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="4769" href="Ledger.Conway.Specification.Transaction.html#3255" class="Function">txwdrls</a> <a id="4777" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="4779" href="Ledger.Conway.Specification.Utxo.Properties.html#13678" class="Function">χ</a> <a id="4781" href="Ledger.Conway.Specification.Transaction.html#4604" class="Field">isValid</a>
        <a id="4797" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="4800" href="Ledger.Conway.Specification.Utxo.Properties.PoV.html#544" class="Function">UTXOpov</a> <a id="4808" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3781" class="Bound">h</a> <a id="4810" href="Ledger.Conway.Specification.Ledger.Properties.PoV.html#3836" class="Bound">st</a> <a id="4813" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="4821" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4079}{\htmlId{4831}{\htmlClass{Function}{\text{utxo&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4094}{\htmlId{4839}{\htmlClass{Function}{\text{fees&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4154}{\htmlId{4847}{\htmlClass{Function}{\text{deposits&#39;}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.PoV.html#4178}{\htmlId{4859}{\htmlClass{Function}{\text{donations&#39;}}}}\, \end{pmatrix}$</a> <a id="4872" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a> <a id="4874" class="Symbol">)</a>
    <a id="4880" class="Keyword">where</a> <a id="4886" class="Keyword">open</a> <a id="4891" href="Relation.Binary.PropositionalEquality.Properties.html#6731" class="Module">≡-Reasoning</a>

</pre></body></html>