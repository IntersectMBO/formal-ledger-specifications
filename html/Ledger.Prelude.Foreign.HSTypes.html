<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Prelude.Foreign.HSTypes</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Ledger.Prelude.Foreign.HSTypes.html" class="Module">Ledger.Prelude.Foreign.HSTypes</a> <a id="39" class="Keyword">where</a>

<a id="46" class="Symbol">{-#</a> <a id="50" class="Keyword">FOREIGN</a> <a id="58" class="Pragma">GHC</a>
  <a id="64" class="Symbol">{-#</a> <a id="68" class="Pragma">LANGUAGE</a> <a id="77" class="Pragma">DeriveGeneric</a> <a id="91" class="Symbol">#-}</a>
  <a id="97" class="Symbol">{-#</a> <a id="101" class="Pragma">LANGUAGE</a> <a id="110" class="Pragma">DeriveFunctor</a> <a id="124" class="Symbol">#-}</a>
<a id="128" class="Symbol">#-}</a>

<a id="133" class="Keyword">open</a> <a id="138" class="Keyword">import</a> <a id="145" href="Prelude.html" class="Module">Prelude</a>

<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Foreign.Haskell.html" class="Module">Foreign.Haskell</a>
<a id="182" class="Keyword">open</a> <a id="187" class="Keyword">import</a> <a id="194" href="stdlib.Foreign.Haskell.Empty.html" class="Module">stdlib.Foreign.Haskell.Empty</a> <a id="223" class="Keyword">public</a>
<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="Foreign.Haskell.Coerce.html" class="Module">Foreign.Haskell.Coerce</a>
<a id="265" class="Keyword">open</a> <a id="270" class="Keyword">import</a> <a id="277" href="Data.Rational.Base.html" class="Module">Data.Rational.Base</a>

<a id="297" class="Symbol">{-#</a> <a id="301" class="Keyword">FOREIGN</a> <a id="309" class="Pragma">GHC</a>
  <a id="315" class="Pragma">import</a> <a id="322" class="Pragma">GHC.Generics</a> <a id="335" class="Pragma">(Generic)</a>
  <a id="347" class="Pragma">import</a> <a id="354" class="Pragma">Prelude</a> <a id="362" class="Pragma">hiding</a> <a id="369" class="Pragma">(Rational)</a>
  <a id="382" class="Pragma">import</a> <a id="389" class="Pragma">GHC.Real</a> <a id="398" class="Pragma">(Ratio(..))</a>
<a id="410" class="Symbol">#-}</a>

<a id="415" class="Comment">-- * Rational</a>

<a id="430" class="Keyword">data</a> <a id="Rational"></a><a id="435" href="Ledger.Prelude.Foreign.HSTypes.html#435" class="Datatype">Rational</a> <a id="444" class="Symbol">:</a> <a id="446" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="451" class="Keyword">where</a>
  <a id="Rational._,_"></a><a id="459" href="Ledger.Prelude.Foreign.HSTypes.html#459" class="InductiveConstructor Operator">_,_</a> <a id="463" class="Symbol">:</a> <a id="465" href="Agda.Builtin.Int.html#245" class="Datatype">ℤ</a> <a id="467" class="Symbol">→</a> <a id="469" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="471" class="Symbol">→</a> <a id="473" href="Ledger.Prelude.Foreign.HSTypes.html#435" class="Datatype">Rational</a>
<a id="482" class="Symbol">{-#</a> <a id="486" class="Keyword">COMPILE</a> <a id="494" class="Keyword">GHC</a> <a id="498" href="Ledger.Prelude.Foreign.HSTypes.html#435" class="Datatype">Rational</a> <a id="507" class="Pragma">=</a> <a id="509" class="Pragma">data</a> <a id="514" class="Pragma">Rational</a> <a id="523" class="Pragma">((:%))</a> <a id="530" class="Symbol">#-}</a>

<a id="535" class="Comment">-- We&#39;ll generate code with qualified references to Rational in this</a>
<a id="604" class="Comment">-- module, so make sure to define it.</a>
<a id="642" class="Symbol">{-#</a> <a id="646" class="Keyword">FOREIGN</a> <a id="654" class="Pragma">GHC</a> <a id="658" class="Pragma">type</a> <a id="663" class="Pragma">Rational</a> <a id="672" class="Pragma">=</a> <a id="674" class="Pragma">Ratio</a> <a id="680" class="Pragma">Integer</a> <a id="688" class="Symbol">#-}</a>

<a id="693" class="Comment">-- * Maps and Sets</a>

<a id="713" class="Keyword">record</a> <a id="HSMap"></a><a id="720" href="Ledger.Prelude.Foreign.HSTypes.html#720" class="Record">HSMap</a> <a id="726" href="Ledger.Prelude.Foreign.HSTypes.html#726" class="Bound">K</a> <a id="728" href="Ledger.Prelude.Foreign.HSTypes.html#728" class="Bound">V</a> <a id="730" class="Symbol">:</a> <a id="732" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="737" class="Keyword">where</a>
  <a id="745" class="Keyword">constructor</a> <a id="MkHSMap"></a><a id="757" href="Ledger.Prelude.Foreign.HSTypes.html#757" class="InductiveConstructor">MkHSMap</a>
  <a id="767" class="Keyword">field</a> <a id="HSMap.assocList"></a><a id="773" href="Ledger.Prelude.Foreign.HSTypes.html#773" class="Field">assocList</a> <a id="783" class="Symbol">:</a> <a id="785" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="790" class="Symbol">(</a><a id="791" href="Foreign.Haskell.Pair.html#553" class="Record">Pair</a> <a id="796" href="Ledger.Prelude.Foreign.HSTypes.html#726" class="Bound">K</a> <a id="798" href="Ledger.Prelude.Foreign.HSTypes.html#728" class="Bound">V</a><a id="799" class="Symbol">)</a>

<a id="802" class="Keyword">record</a> <a id="HSSet"></a><a id="809" href="Ledger.Prelude.Foreign.HSTypes.html#809" class="Record">HSSet</a> <a id="815" href="Ledger.Prelude.Foreign.HSTypes.html#815" class="Bound">A</a> <a id="817" class="Symbol">:</a> <a id="819" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="824" class="Keyword">where</a>
  <a id="832" class="Keyword">constructor</a> <a id="MkHSSet"></a><a id="844" href="Ledger.Prelude.Foreign.HSTypes.html#844" class="InductiveConstructor">MkHSSet</a>
  <a id="854" class="Keyword">field</a> <a id="HSSet.elems"></a><a id="860" href="Ledger.Prelude.Foreign.HSTypes.html#860" class="Field">elems</a> <a id="866" class="Symbol">:</a> <a id="868" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="873" href="Ledger.Prelude.Foreign.HSTypes.html#815" class="Bound">A</a>

<a id="876" class="Symbol">{-#</a> <a id="880" class="Keyword">FOREIGN</a> <a id="888" class="Pragma">GHC</a>
  <a id="894" class="Pragma">newtype</a> <a id="902" class="Pragma">HSMap</a> <a id="908" class="Pragma">k</a> <a id="910" class="Pragma">v</a> <a id="912" class="Pragma">=</a> <a id="914" class="Pragma">MkHSMap</a> <a id="922" class="Pragma">[(k,</a> <a id="927" class="Pragma">v)]</a>
    <a id="935" class="Pragma">deriving</a> <a id="944" class="Pragma">(Generic,</a> <a id="954" class="Pragma">Show,</a> <a id="960" class="Pragma">Eq,</a> <a id="964" class="Pragma">Ord)</a>
  <a id="971" class="Pragma">newtype</a> <a id="979" class="Pragma">HSSet</a> <a id="985" class="Pragma">a</a> <a id="987" class="Pragma">=</a> <a id="989" class="Pragma">MkHSSet</a> <a id="997" class="Pragma">[a]</a>
    <a id="1005" class="Pragma">deriving</a> <a id="1014" class="Pragma">(Generic,</a> <a id="1024" class="Pragma">Show,</a> <a id="1030" class="Pragma">Eq,</a> <a id="1034" class="Pragma">Ord)</a>
<a id="1039" class="Symbol">#-}</a>
<a id="1043" class="Symbol">{-#</a> <a id="1047" class="Keyword">COMPILE</a> <a id="1055" class="Keyword">GHC</a> <a id="1059" href="Ledger.Prelude.Foreign.HSTypes.html#720" class="Record">HSMap</a> <a id="1065" class="Pragma">=</a> <a id="1067" class="Pragma">data</a> <a id="1072" class="Pragma">HSMap</a> <a id="1078" class="Pragma">(MkHSMap)</a> <a id="1088" class="Symbol">#-}</a>
<a id="1092" class="Symbol">{-#</a> <a id="1096" class="Keyword">COMPILE</a> <a id="1104" class="Keyword">GHC</a> <a id="1108" href="Ledger.Prelude.Foreign.HSTypes.html#809" class="Record">HSSet</a> <a id="1114" class="Pragma">=</a> <a id="1116" class="Pragma">data</a> <a id="1121" class="Pragma">HSSet</a> <a id="1127" class="Pragma">(MkHSSet)</a> <a id="1137" class="Symbol">#-}</a>

<a id="1142" class="Comment">-- * ComputationResult</a>

<a id="1166" class="Keyword">data</a> <a id="ComputationResult"></a><a id="1171" href="Ledger.Prelude.Foreign.HSTypes.html#1171" class="Datatype">ComputationResult</a> <a id="1189" href="Ledger.Prelude.Foreign.HSTypes.html#1189" class="Bound">E</a> <a id="1191" href="Ledger.Prelude.Foreign.HSTypes.html#1191" class="Bound">A</a> <a id="1193" class="Symbol">:</a> <a id="1195" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1200" class="Keyword">where</a>
  <a id="ComputationResult.Success"></a><a id="1208" href="Ledger.Prelude.Foreign.HSTypes.html#1208" class="InductiveConstructor">Success</a> <a id="1216" class="Symbol">:</a> <a id="1218" href="Ledger.Prelude.Foreign.HSTypes.html#1191" class="Bound">A</a> <a id="1220" class="Symbol">→</a> <a id="1222" href="Ledger.Prelude.Foreign.HSTypes.html#1171" class="Datatype">ComputationResult</a> <a id="1240" href="Ledger.Prelude.Foreign.HSTypes.html#1189" class="Bound">E</a> <a id="1242" href="Ledger.Prelude.Foreign.HSTypes.html#1191" class="Bound">A</a>
  <a id="ComputationResult.Failure"></a><a id="1246" href="Ledger.Prelude.Foreign.HSTypes.html#1246" class="InductiveConstructor">Failure</a> <a id="1254" class="Symbol">:</a> <a id="1256" href="Ledger.Prelude.Foreign.HSTypes.html#1189" class="Bound">E</a> <a id="1258" class="Symbol">→</a> <a id="1260" href="Ledger.Prelude.Foreign.HSTypes.html#1171" class="Datatype">ComputationResult</a> <a id="1278" href="Ledger.Prelude.Foreign.HSTypes.html#1189" class="Bound">E</a> <a id="1280" href="Ledger.Prelude.Foreign.HSTypes.html#1191" class="Bound">A</a>

<a id="1283" class="Symbol">{-#</a> <a id="1287" class="Keyword">FOREIGN</a> <a id="1295" class="Pragma">GHC</a>
  <a id="1301" class="Pragma">data</a> <a id="1306" class="Pragma">ComputationResult</a> <a id="1324" class="Pragma">e</a> <a id="1326" class="Pragma">a</a> <a id="1328" class="Pragma">=</a> <a id="1330" class="Pragma">Success</a> <a id="1338" class="Pragma">a</a> <a id="1340" class="Pragma">|</a> <a id="1342" class="Pragma">Failure</a> <a id="1350" class="Pragma">e</a>
    <a id="1356" class="Pragma">deriving</a> <a id="1365" class="Pragma">(Functor,</a> <a id="1375" class="Pragma">Eq,</a> <a id="1379" class="Pragma">Show,</a> <a id="1385" class="Pragma">Generic)</a>

  <a id="1397" class="Pragma">instance</a> <a id="1406" class="Pragma">Applicative</a> <a id="1418" class="Pragma">(ComputationResult</a> <a id="1437" class="Pragma">e)</a> <a id="1440" class="Pragma">where</a>
    <a id="1450" class="Pragma">pure</a> <a id="1455" class="Pragma">=</a> <a id="1457" class="Pragma">Success</a>
    <a id="1469" class="Pragma">(Success</a> <a id="1478" class="Pragma">f)</a> <a id="1481" class="Pragma">&lt;*&gt;</a> <a id="1485" class="Pragma">x</a> <a id="1487" class="Pragma">=</a> <a id="1489" class="Pragma">f</a> <a id="1491" class="Pragma">&lt;$&gt;</a> <a id="1495" class="Pragma">x</a>
    <a id="1501" class="Pragma">(Failure</a> <a id="1510" class="Pragma">e)</a> <a id="1513" class="Pragma">&lt;*&gt;</a> <a id="1517" class="Pragma">_</a> <a id="1519" class="Pragma">=</a> <a id="1521" class="Pragma">Failure</a> <a id="1529" class="Pragma">e</a>

  <a id="1534" class="Pragma">instance</a> <a id="1543" class="Pragma">Monad</a> <a id="1549" class="Pragma">(ComputationResult</a> <a id="1568" class="Pragma">e)</a> <a id="1571" class="Pragma">where</a>
    <a id="1581" class="Pragma">return</a> <a id="1588" class="Pragma">=</a> <a id="1590" class="Pragma">pure</a>
    <a id="1599" class="Pragma">(Success</a> <a id="1608" class="Pragma">a)</a> <a id="1611" class="Pragma">&gt;&gt;=</a> <a id="1615" class="Pragma">m</a> <a id="1617" class="Pragma">=</a> <a id="1619" class="Pragma">m</a> <a id="1621" class="Pragma">a</a>
    <a id="1627" class="Pragma">(Failure</a> <a id="1636" class="Pragma">e)</a> <a id="1639" class="Pragma">&gt;&gt;=</a> <a id="1643" class="Pragma">_</a> <a id="1645" class="Pragma">=</a> <a id="1647" class="Pragma">Failure</a> <a id="1655" class="Pragma">e</a>
<a id="1657" class="Symbol">#-}</a>
<a id="1661" class="Symbol">{-#</a> <a id="1665" class="Keyword">COMPILE</a> <a id="1673" class="Keyword">GHC</a> <a id="1677" href="Ledger.Prelude.Foreign.HSTypes.html#1171" class="Datatype">ComputationResult</a> <a id="1695" class="Pragma">=</a> <a id="1697" class="Pragma">data</a> <a id="1702" class="Pragma">ComputationResult</a> <a id="1720" class="Pragma">(Success</a> <a id="1729" class="Pragma">|</a> <a id="1731" class="Pragma">Failure)</a> <a id="1740" class="Symbol">#-}</a>
</pre></body></html>