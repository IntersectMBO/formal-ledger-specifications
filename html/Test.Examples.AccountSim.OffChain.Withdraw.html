<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Test.Examples.AccountSim.OffChain.Withdraw</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">module</a> <a id="32" href="Test.Examples.AccountSim.OffChain.Withdraw.html" class="Module">Test.Examples.AccountSim.OffChain.Withdraw</a> <a id="75" class="Keyword">where</a>

<a id="82" class="Keyword">open</a> <a id="87" class="Keyword">import</a> <a id="94" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="109" class="Keyword">open</a> <a id="114" class="Keyword">import</a> <a id="121" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>

<a id="162" class="Keyword">open</a> <a id="167" class="Keyword">import</a> <a id="174" href="Test.Examples.AccountSim.Datum.html" class="Module">Test.Examples.AccountSim.Datum</a>
<a id="205" class="Keyword">open</a> <a id="210" class="Keyword">import</a> <a id="217" href="Test.Examples.AccountSim.OffChain.Lib.html" class="Module">Test.Examples.AccountSim.OffChain.Lib</a>
<a id="255" class="Keyword">open</a> <a id="260" class="Keyword">import</a> <a id="267" href="Test.Examples.AccountSim.Validator.html" class="Module">Test.Examples.AccountSim.Validator</a>
<a id="302" class="Keyword">open</a> <a id="307" class="Keyword">import</a> <a id="314" href="Test.Prelude.html" class="Module">Test.Prelude</a> <a id="327" href="Test.Examples.AccountSim.Datum.html#737" class="Function">AccountSimData</a>
<a id="342" class="Keyword">open</a> <a id="347" class="Keyword">import</a> <a id="354" href="Test.SymbolicData.html" class="Module">Test.SymbolicData</a> <a id="372" href="Test.Examples.AccountSim.Datum.html#737" class="Function">AccountSimData</a>
<a id="387" class="Keyword">open</a> <a id="392" class="Keyword">import</a> <a id="399" href="Test.LedgerImplementation.html" class="Module">Test.LedgerImplementation</a> <a id="425" href="Test.SymbolicData.html#240" class="Function">SData</a> <a id="431" href="Test.SymbolicData.html#240" class="Function">SData</a>
<a id="437" class="Keyword">open</a> <a id="442" class="Keyword">import</a> <a id="449" href="Test.AbstractImplementation.html" class="Module">Test.AbstractImplementation</a> <a id="477" href="Test.SymbolicData.html#2904" class="Function">valContext</a>
<a id="488" class="Keyword">open</a> <a id="493" class="Keyword">import</a> <a id="500" href="Test.Lib.html" class="Module">Test.Lib</a> <a id="509" href="Test.SymbolicData.html#2904" class="Function">valContext</a>

<a id="521" class="Keyword">open</a> <a id="526" class="Keyword">import</a> <a id="533" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="566" href="Test.LedgerImplementation.html#4278" class="Function">SVTransactionStructure</a> <a id="589" href="Test.AbstractImplementation.html#675" class="Function">SVAbstractFunctions</a>

<a id="610" class="Keyword">open</a> <a id="615" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="636" href="Test.LedgerImplementation.html#4278" class="Function">SVTransactionStructure</a>
<a id="659" class="Keyword">open</a> <a id="664" href="Test.LedgerImplementation.html#1055" class="Module">Implementation</a>


<a id="scriptTxOut"></a><a id="681" href="Test.Examples.AccountSim.OffChain.Withdraw.html#681" class="Function">scriptTxOut</a> <a id="693" class="Symbol">:</a> <a id="695" href="Test.Examples.AccountSim.Datum.html#324" class="Datatype">Label</a> <a id="701" class="Symbol">→</a> <a id="703" href="Ledger.Conway.Specification.Transaction.html#2638" class="Function">TxOut</a> <a id="709" class="Symbol">→</a> <a id="711" class="Symbol">(</a><a id="712" href="Test.Examples.AccountSim.OffChain.Withdraw.html#712" class="Bound">w</a> <a id="714" class="Symbol">:</a> <a id="716" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="717" class="Symbol">)</a> <a id="719" class="Symbol">→</a> <a id="721" class="Symbol">(</a><a id="722" href="Test.Examples.AccountSim.OffChain.Withdraw.html#722" class="Bound">v</a> <a id="724" class="Symbol">:</a> <a id="726" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a><a id="731" class="Symbol">)</a> <a id="733" class="Symbol">→</a> <a id="735" href="Ledger.Conway.Specification.Transaction.html#2638" class="Function">TxOut</a>
<a id="741" href="Test.Examples.AccountSim.OffChain.Withdraw.html#681" class="Function">scriptTxOut</a> <a id="753" class="Symbol">(</a><a id="754" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="761" href="Test.Examples.AccountSim.OffChain.Withdraw.html#761" class="Bound">l</a><a id="762" class="Symbol">)</a> <a id="764" class="Symbol">(</a><a id="765" href="Test.Examples.AccountSim.OffChain.Withdraw.html#765" class="Bound">fst</a> <a id="769" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="771" href="Test.Examples.AccountSim.OffChain.Withdraw.html#771" class="Bound">txValue</a> <a id="779" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="781" href="Test.Examples.AccountSim.OffChain.Withdraw.html#781" class="Bound">snd</a><a id="784" class="Symbol">)</a> <a id="786" href="Test.Examples.AccountSim.OffChain.Withdraw.html#786" class="Bound">w</a> <a id="788" href="Test.Examples.AccountSim.OffChain.Withdraw.html#788" class="Bound">v</a> <a id="790" class="Symbol">=</a> <a id="792" class="Symbol">(</a><a id="793" href="Test.Examples.AccountSim.OffChain.Withdraw.html#765" class="Bound">fst</a> <a id="797" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="799" href="Test.Examples.AccountSim.OffChain.Withdraw.html#771" class="Bound">txValue</a> <a id="807" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="809" href="Test.Examples.AccountSim.OffChain.Withdraw.html#788" class="Bound">v</a> <a id="811" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="813" class="Symbol">(</a><a id="814" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="819" class="Symbol">(</a><a id="820" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="825" class="Symbol">(</a><a id="826" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="831" class="Symbol">(</a><a id="832" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="837" class="Symbol">(</a><a id="838" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="845" class="Symbol">(</a><a id="846" href="Test.Examples.AccountSim.Validator.html#5689" class="Function">insert&#39;</a> <a id="854" href="Test.Examples.AccountSim.OffChain.Withdraw.html#786" class="Bound">w</a> <a id="856" class="Symbol">(</a><a id="857" href="Test.Examples.AccountSim.OffChain.Withdraw.html#897" class="Function">val</a> <a id="861" href="Interface.TypeClasses.HasSubtract.html#223" class="Field Operator">-</a> <a id="863" href="Test.Examples.AccountSim.OffChain.Withdraw.html#788" class="Bound">v</a><a id="864" class="Symbol">)</a> <a id="866" href="Test.Examples.AccountSim.OffChain.Withdraw.html#761" class="Bound">l</a><a id="867" class="Symbol">))))))</a> <a id="874" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="876" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="883" class="Symbol">)</a>
  <a id="887" class="Keyword">where</a>
    <a id="897" href="Test.Examples.AccountSim.OffChain.Withdraw.html#897" class="Function">val</a> <a id="901" class="Symbol">=</a> <a id="903" href="Test.Examples.AccountSim.OffChain.Lib.html#3478" class="Function">getVal</a> <a id="910" class="Symbol">(</a><a id="911" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="918" href="Test.Examples.AccountSim.OffChain.Withdraw.html#761" class="Bound">l</a><a id="919" class="Symbol">)</a> <a id="921" href="Test.Examples.AccountSim.OffChain.Withdraw.html#786" class="Bound">w</a>


<a id="makeWithdrawTxOut"></a><a id="925" href="Test.Examples.AccountSim.OffChain.Withdraw.html#925" class="Function">makeWithdrawTxOut</a> <a id="943" class="Symbol">:</a> <a id="945" href="Test.Examples.AccountSim.Datum.html#324" class="Datatype">Label</a> <a id="951" class="Symbol">→</a> <a id="953" class="Symbol">(</a><a id="954" href="Test.Examples.AccountSim.OffChain.Withdraw.html#954" class="Bound">scriptIx</a> <a id="963" class="Symbol">:</a> <a id="965" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="966" class="Symbol">)</a> <a id="968" class="Symbol">→</a> <a id="970" href="Ledger.Conway.Specification.Transaction.html#2638" class="Function">TxOut</a> <a id="976" class="Symbol">→</a> <a id="978" class="Symbol">(</a><a id="979" href="Test.Examples.AccountSim.OffChain.Withdraw.html#979" class="Bound">w</a> <a id="981" class="Symbol">:</a> <a id="983" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="984" class="Symbol">)</a> <a id="986" class="Symbol">→</a> <a id="988" class="Symbol">(</a><a id="989" href="Test.Examples.AccountSim.OffChain.Withdraw.html#989" class="Bound">v</a> <a id="991" class="Symbol">:</a> <a id="993" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a><a id="998" class="Symbol">)</a> <a id="1000" class="Symbol">→</a> <a id="1002" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1007" class="Symbol">(</a><a id="1008" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1010" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1012" href="Ledger.Conway.Specification.Transaction.html#2638" class="Function">TxOut</a><a id="1017" class="Symbol">)</a>
<a id="1019" href="Test.Examples.AccountSim.OffChain.Withdraw.html#925" class="Function">makeWithdrawTxOut</a> <a id="1037" class="Symbol">(</a><a id="1038" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="1045" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1045" class="Bound">l</a><a id="1046" class="Symbol">)</a> <a id="1048" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1048" class="Bound">ix</a> <a id="1051" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1051" class="Bound">txo</a> <a id="1055" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1055" class="Bound">w</a> <a id="1057" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1057" class="Bound">v</a> <a id="1059" class="Symbol">=</a>
            <a id="1073" class="Symbol">(</a><a id="1074" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1048" class="Bound">ix</a> <a id="1077" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1079" href="Test.Examples.AccountSim.OffChain.Withdraw.html#681" class="Function">scriptTxOut</a> <a id="1091" class="Symbol">(</a><a id="1092" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="1099" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1045" class="Bound">l</a><a id="1100" class="Symbol">)</a> <a id="1102" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1051" class="Bound">txo</a> <a id="1106" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1055" class="Bound">w</a> <a id="1108" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1057" class="Bound">v</a><a id="1109" class="Symbol">)</a> <a id="1111" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1113" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>


<a id="makeWithdrawTx"></a><a id="1118" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1118" class="Function">makeWithdrawTx</a> <a id="1133" class="Symbol">:</a> <a id="1135" class="Symbol">(</a><a id="1136" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1136" class="Bound">id</a> <a id="1139" class="Symbol">:</a> <a id="1141" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1142" class="Symbol">)</a> <a id="1144" class="Symbol">→</a> <a id="1146" href="Ledger.Conway.Specification.Utxo.html#1230" class="Record">UTxOState</a> <a id="1156" class="Symbol">→</a> <a id="1158" href="Test.LedgerImplementation.html#1449" class="Function">PlutusScript</a> <a id="1171" class="Symbol">→</a> <a id="1173" class="Symbol">(</a><a id="1174" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1174" class="Bound">w</a> <a id="1176" class="Symbol">:</a> <a id="1178" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1179" class="Symbol">)</a> <a id="1181" class="Symbol">→</a> <a id="1183" class="Symbol">(</a><a id="1184" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1184" class="Bound">v</a> <a id="1186" class="Symbol">:</a> <a id="1188" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a><a id="1193" class="Symbol">)</a> <a id="1195" class="Symbol">→</a> <a id="1197" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1203" href="Ledger.Conway.Specification.Transaction.html#4682" class="Record">Tx</a>
<a id="1206" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1118" class="Function">makeWithdrawTx</a> <a id="1221" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1221" class="Bound">id</a> <a id="1224" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1224" class="Bound">state</a> <a id="1230" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1230" class="Bound">script</a><a id="1236" class="Symbol">@(</a><a id="1238" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1238" class="Bound">sh</a> <a id="1241" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1243" class="Symbol">_)</a> <a id="1246" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1246" class="Bound">w</a> <a id="1248" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1248" class="Bound">v</a>  <a id="1251" class="Symbol">=</a>
  <a id="1255" class="Keyword">let</a>
    <a id="1263" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1263" class="Bound">wutxo</a> <a id="1269" class="Symbol">=</a> <a id="1271" href="Test.Examples.AccountSim.OffChain.Lib.html#2100" class="Function">getWalletUTxO</a> <a id="1285" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1246" class="Bound">w</a> <a id="1287" class="Symbol">(</a><a id="1288" href="Ledger.Conway.Specification.Utxo.html#1294" class="Field">UTxOState.utxo</a> <a id="1303" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1224" class="Bound">state</a><a id="1308" class="Symbol">)</a>
  <a id="1312" class="Keyword">in</a>
    <a id="1319" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="1325" class="Symbol">(λ</a> <a id="1328" class="Symbol">{</a> <a id="1330" class="Symbol">(</a><a id="1331" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1331" class="Bound">scIn</a> <a id="1336" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1338" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1338" class="Bound">scOut</a><a id="1343" class="Symbol">)</a> <a id="1345" class="Symbol">→</a> <a id="1347" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="1353" class="Symbol">(λ</a> <a id="1356" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1356" class="Bound">label</a> <a id="1362" class="Symbol">→</a>
    <a id="1368" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1373" class="Symbol">(</a>
          <a id="1385" class="Keyword">record</a> <a id="1392" class="Symbol">{</a> <a id="1394" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="1399" class="Symbol">=</a> <a id="1401" class="Keyword">record</a> <a id="1408" href="Test.Examples.AccountSim.OffChain.Lib.html#500" class="Function">defaultTxBody</a>
                         <a id="1447" class="Symbol">{</a> <a id="1449" href="Ledger.Conway.Specification.Transaction.html#3032" class="Field">txIns</a> <a id="1455" class="Symbol">=</a> <a id="1457" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1481" class="Symbol">((</a><a id="1483" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1331" class="Bound">scIn</a> <a id="1488" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1490" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1492" class="Symbol">)</a> <a id="1494" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="1497" class="Symbol">(</a><a id="1498" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="1502" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1508" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1263" class="Bound">wutxo</a><a id="1513" class="Symbol">))</a>
                         <a id="1541" class="Symbol">;</a> <a id="1543" href="Ledger.Conway.Specification.Transaction.html#3140" class="Field">txOuts</a> <a id="1550" class="Symbol">=</a> <a id="1552" href="Test.Lib.html#5531" class="Function">fromListIx</a> <a id="1563" class="Symbol">(</a><a id="1564" href="Test.Examples.AccountSim.OffChain.Lib.html#2892" class="Function">makeFeeUnPaymentTxOut</a> <a id="1586" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1263" class="Bound">wutxo</a> <a id="1592" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1248" class="Bound">v</a> <a id="1594" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="1597" href="Test.Examples.AccountSim.OffChain.Withdraw.html#925" class="Function">makeWithdrawTxOut</a> <a id="1615" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1356" class="Bound">label</a> <a id="1621" class="Symbol">(</a><a id="1622" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1628" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1331" class="Bound">scIn</a><a id="1632" class="Symbol">)</a> <a id="1634" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1338" class="Bound">scOut</a> <a id="1640" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1246" class="Bound">w</a> <a id="1642" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1248" class="Bound">v</a> <a id="1644" class="Symbol">)</a>
                         <a id="1671" class="Symbol">;</a> <a id="1673" href="Ledger.Conway.Specification.Transaction.html#3180" class="Field">txId</a> <a id="1678" class="Symbol">=</a> <a id="1680" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1221" class="Bound">id</a>
                         <a id="1708" class="Symbol">;</a> <a id="1710" href="Ledger.Conway.Specification.Transaction.html#3104" class="Field">collateralInputs</a> <a id="1727" class="Symbol">=</a> <a id="1729" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1753" class="Symbol">(</a><a id="1754" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="1758" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1764" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1263" class="Bound">wutxo</a><a id="1769" class="Symbol">)</a>
                         <a id="1796" class="Symbol">;</a> <a id="1798" href="Ledger.Conway.Specification.Transaction.html#3673" class="Field">reqSignerHashes</a> <a id="1814" class="Symbol">=</a> <a id="1816" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1840" class="Symbol">(</a><a id="1841" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1246" class="Bound">w</a> <a id="1843" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1845" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1847" class="Symbol">)</a>
                         <a id="1874" class="Symbol">}</a> <a id="1876" class="Symbol">;</a>
                <a id="1894" href="Ledger.Conway.Specification.Transaction.html#4738" class="Field">wits</a> <a id="1899" class="Symbol">=</a> <a id="1901" class="Keyword">record</a> <a id="1908" class="Symbol">{</a> <a id="1910" href="Ledger.Conway.Specification.Transaction.html#4478" class="Field">vkSigs</a> <a id="1917" class="Symbol">=</a> <a id="1919" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="1929" class="Symbol">((</a><a id="1931" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1246" class="Bound">w</a> <a id="1933" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1935" class="Symbol">(</a><a id="1936" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="1940" class="Symbol">{{</a><a id="1942" href="Class.HasAdd.Instances.html#143" class="Function">addNat</a><a id="1948" class="Symbol">}}</a> <a id="1951" class="Symbol">(</a><a id="1952" href="Test.Examples.AccountSim.OffChain.Lib.html#3388" class="Function">getTxId</a> <a id="1960" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1263" class="Bound">wutxo</a><a id="1965" class="Symbol">)</a> <a id="1967" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1246" class="Bound">w</a><a id="1968" class="Symbol">))</a> <a id="1971" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1973" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1975" class="Symbol">)</a> <a id="1977" class="Symbol">;</a>
                                <a id="2011" href="Ledger.Conway.Specification.Transaction.html#4506" class="Field">scripts</a> <a id="2019" class="Symbol">=</a> <a id="2021" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="2045" class="Symbol">((</a><a id="2047" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2052" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1230" class="Bound">script</a><a id="2058" class="Symbol">)</a> <a id="2060" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2062" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2064" class="Symbol">)</a> <a id="2066" class="Symbol">;</a>
                                <a id="2100" href="Ledger.Conway.Specification.Transaction.html#4532" class="Field">txdats</a> <a id="2107" class="Symbol">=</a> <a id="2109" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="2111" class="Symbol">;</a> 
                                <a id="2146" href="Ledger.Conway.Specification.Transaction.html#4557" class="Field">txrdmrs</a> <a id="2154" class="Symbol">=</a> <a id="2156" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="2166" class="Symbol">(((</a><a id="2169" href="Ledger.Conway.Specification.Transaction.html#881" class="InductiveConstructor">Spend</a> <a id="2175" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2177" class="Symbol">(</a><a id="2178" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2184" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1331" class="Bound">scIn</a><a id="2188" class="Symbol">))</a> <a id="2191" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
                                                      <a id="2247" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2252" class="Symbol">(</a><a id="2253" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2258" class="Symbol">(</a><a id="2259" href="Test.Examples.AccountSim.Datum.html#538" class="InductiveConstructor">Withdraw</a> <a id="2268" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1246" class="Bound">w</a> <a id="2270" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1248" class="Bound">v</a><a id="2271" class="Symbol">))</a> <a id="2274" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> 
                                                      <a id="2331" class="Symbol">((</a><a id="2333" href="Test.Examples.AccountSim.OffChain.Lib.html#3388" class="Function">getTxId</a> <a id="2341" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1263" class="Bound">wutxo</a><a id="2346" class="Symbol">)</a> <a id="2348" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2350" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1246" class="Bound">w</a><a id="2351" class="Symbol">))</a> <a id="2354" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2356" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2358" class="Symbol">)</a> <a id="2360" class="Symbol">}</a> <a id="2362" class="Symbol">;</a>
                <a id="2380" href="Ledger.Conway.Specification.Transaction.html#4767" class="Field">txsize</a> <a id="2387" class="Symbol">=</a> <a id="2389" class="Number">10</a> <a id="2392" class="Symbol">;</a>
                <a id="2410" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="2418" class="Symbol">=</a> <a id="2420" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2425" class="Symbol">;</a>
                <a id="2443" href="Ledger.Conway.Specification.Transaction.html#4808" class="Field">txAD</a> <a id="2448" class="Symbol">=</a> <a id="2450" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2458" class="Symbol">}</a>
                <a id="2476" class="Symbol">))</a>
            <a id="2491" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
            <a id="2511" class="Symbol">(</a><a id="2512" href="Test.Examples.AccountSim.OffChain.Lib.html#2280" class="Function">getLabel</a> <a id="2521" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1338" class="Bound">scOut</a><a id="2526" class="Symbol">)})</a>
          <a id="2540" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
          <a id="2558" class="Symbol">(</a><a id="2559" href="Test.Examples.AccountSim.OffChain.Lib.html#1591" class="Function">getScriptUTxO</a> <a id="2573" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1238" class="Bound">sh</a> <a id="2576" class="Symbol">(</a><a id="2577" href="Ledger.Conway.Specification.Utxo.html#1294" class="Field">UTxOState.utxo</a> <a id="2592" href="Test.Examples.AccountSim.OffChain.Withdraw.html#1224" class="Bound">state</a><a id="2597" class="Symbol">))</a>
</pre></body></html>