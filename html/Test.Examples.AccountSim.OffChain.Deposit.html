<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Test.Examples.AccountSim.OffChain.Deposit</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">module</a> <a id="32" href="Test.Examples.AccountSim.OffChain.Deposit.html" class="Module">Test.Examples.AccountSim.OffChain.Deposit</a> <a id="74" class="Keyword">where</a>

<a id="81" class="Keyword">open</a> <a id="86" class="Keyword">import</a> <a id="93" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="108" class="Keyword">open</a> <a id="113" class="Keyword">import</a> <a id="120" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>

<a id="161" class="Keyword">open</a> <a id="166" class="Keyword">import</a> <a id="173" href="Test.Examples.AccountSim.Datum.html" class="Module">Test.Examples.AccountSim.Datum</a>
<a id="204" class="Keyword">open</a> <a id="209" class="Keyword">import</a> <a id="216" href="Test.Examples.AccountSim.OffChain.Lib.html" class="Module">Test.Examples.AccountSim.OffChain.Lib</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Test.Examples.AccountSim.Validator.html" class="Module">Test.Examples.AccountSim.Validator</a>
<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="Test.Prelude.html" class="Module">Test.Prelude</a> <a id="326" href="Test.Examples.AccountSim.Datum.html#737" class="Function">AccountSimData</a>
<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Test.SymbolicData.html" class="Module">Test.SymbolicData</a> <a id="371" href="Test.Examples.AccountSim.Datum.html#737" class="Function">AccountSimData</a>
<a id="386" class="Keyword">open</a> <a id="391" class="Keyword">import</a> <a id="398" href="Test.LedgerImplementation.html" class="Module">Test.LedgerImplementation</a> <a id="424" href="Test.SymbolicData.html#240" class="Function">SData</a> <a id="430" href="Test.SymbolicData.html#240" class="Function">SData</a>
<a id="436" class="Keyword">open</a> <a id="441" class="Keyword">import</a> <a id="448" href="Test.AbstractImplementation.html" class="Module">Test.AbstractImplementation</a> <a id="476" href="Test.SymbolicData.html#2904" class="Function">valContext</a>
<a id="487" class="Keyword">open</a> <a id="492" class="Keyword">import</a> <a id="499" href="Test.Lib.html" class="Module">Test.Lib</a> <a id="508" href="Test.SymbolicData.html#2904" class="Function">valContext</a>

<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="565" href="Test.LedgerImplementation.html#4279" class="Function">SVTransactionStructure</a> <a id="588" href="Test.AbstractImplementation.html#695" class="Function">SVAbstractFunctions</a>

<a id="609" class="Keyword">open</a> <a id="614" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="635" href="Test.LedgerImplementation.html#4279" class="Function">SVTransactionStructure</a>
<a id="658" class="Keyword">open</a> <a id="663" href="Test.LedgerImplementation.html#1055" class="Module">Implementation</a>

<a id="scriptDTxOut"></a><a id="679" href="Test.Examples.AccountSim.OffChain.Deposit.html#679" class="Function">scriptDTxOut</a> <a id="692" class="Symbol">:</a> <a id="694" href="Test.Examples.AccountSim.Datum.html#324" class="Datatype">Label</a> <a id="700" class="Symbol">→</a> <a id="702" href="Ledger.Conway.Specification.Transaction.html#2836" class="Function">TxOut</a> <a id="708" class="Symbol">→</a> <a id="710" class="Symbol">(</a><a id="711" href="Test.Examples.AccountSim.OffChain.Deposit.html#711" class="Bound">w</a> <a id="713" class="Symbol">:</a> <a id="715" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="716" class="Symbol">)</a> <a id="718" class="Symbol">→</a> <a id="720" class="Symbol">(</a><a id="721" href="Test.Examples.AccountSim.OffChain.Deposit.html#721" class="Bound">v</a> <a id="723" class="Symbol">:</a> <a id="725" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a><a id="730" class="Symbol">)</a> <a id="732" class="Symbol">→</a> <a id="734" href="Ledger.Conway.Specification.Transaction.html#2836" class="Function">TxOut</a>
<a id="740" href="Test.Examples.AccountSim.OffChain.Deposit.html#679" class="Function">scriptDTxOut</a> <a id="753" class="Symbol">(</a><a id="754" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="761" href="Test.Examples.AccountSim.OffChain.Deposit.html#761" class="Bound">l</a><a id="762" class="Symbol">)</a> <a id="764" class="Symbol">(</a><a id="765" href="Test.Examples.AccountSim.OffChain.Deposit.html#765" class="Bound">fst</a> <a id="769" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="771" href="Test.Examples.AccountSim.OffChain.Deposit.html#771" class="Bound">txValue</a> <a id="779" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="781" href="Test.Examples.AccountSim.OffChain.Deposit.html#781" class="Bound">snd</a><a id="784" class="Symbol">)</a> <a id="786" href="Test.Examples.AccountSim.OffChain.Deposit.html#786" class="Bound">w</a> <a id="788" href="Test.Examples.AccountSim.OffChain.Deposit.html#788" class="Bound">v</a> <a id="790" class="Symbol">=</a> <a id="792" class="Symbol">(</a><a id="793" href="Test.Examples.AccountSim.OffChain.Deposit.html#765" class="Bound">fst</a> <a id="797" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="799" class="Symbol">(</a><a id="800" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="804" class="Symbol">{{</a><a id="806" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#1274" class="Function">addValue</a><a id="814" class="Symbol">}}</a> <a id="817" href="Test.Examples.AccountSim.OffChain.Deposit.html#771" class="Bound">txValue</a> <a id="825" href="Test.Examples.AccountSim.OffChain.Deposit.html#788" class="Bound">v</a><a id="826" class="Symbol">)</a> <a id="828" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="830" class="Symbol">(</a><a id="831" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="836" class="Symbol">(</a><a id="837" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="842" class="Symbol">(</a><a id="843" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="848" class="Symbol">(</a><a id="849" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="854" class="Symbol">(</a><a id="855" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="862" class="Symbol">(</a><a id="863" href="Test.Examples.AccountSim.Validator.html#5689" class="Function">insert&#39;</a> <a id="871" href="Test.Examples.AccountSim.OffChain.Deposit.html#786" class="Bound">w</a> <a id="873" class="Symbol">(</a><a id="874" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="878" class="Symbol">{{</a><a id="880" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#1274" class="Function">addValue</a><a id="888" class="Symbol">}}</a> <a id="891" href="Test.Examples.AccountSim.OffChain.Deposit.html#929" class="Function">val</a> <a id="895" href="Test.Examples.AccountSim.OffChain.Deposit.html#788" class="Bound">v</a><a id="896" class="Symbol">)</a> <a id="898" href="Test.Examples.AccountSim.OffChain.Deposit.html#761" class="Bound">l</a><a id="899" class="Symbol">))))))</a> <a id="906" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="908" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="915" class="Symbol">)</a>
  <a id="919" class="Keyword">where</a>
    <a id="929" href="Test.Examples.AccountSim.OffChain.Deposit.html#929" class="Function">val</a> <a id="933" class="Symbol">=</a> <a id="935" href="Test.Examples.AccountSim.OffChain.Lib.html#3478" class="Function">getVal</a> <a id="942" class="Symbol">(</a><a id="943" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="950" href="Test.Examples.AccountSim.OffChain.Deposit.html#761" class="Bound">l</a><a id="951" class="Symbol">)</a> <a id="953" href="Test.Examples.AccountSim.OffChain.Deposit.html#786" class="Bound">w</a>



<a id="makeDepositTxOut"></a><a id="958" href="Test.Examples.AccountSim.OffChain.Deposit.html#958" class="Function">makeDepositTxOut</a> <a id="975" class="Symbol">:</a> <a id="977" href="Test.Examples.AccountSim.Datum.html#324" class="Datatype">Label</a> <a id="983" class="Symbol">→</a> <a id="985" class="Symbol">(</a><a id="986" href="Test.Examples.AccountSim.OffChain.Deposit.html#986" class="Bound">scriptIx</a> <a id="995" class="Symbol">:</a> <a id="997" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="998" class="Symbol">)</a> <a id="1000" class="Symbol">→</a> <a id="1002" href="Ledger.Conway.Specification.Transaction.html#2836" class="Function">TxOut</a> <a id="1008" class="Symbol">→</a> <a id="1010" class="Symbol">(</a><a id="1011" href="Test.Examples.AccountSim.OffChain.Deposit.html#1011" class="Bound">w</a> <a id="1013" class="Symbol">:</a> <a id="1015" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1016" class="Symbol">)</a> <a id="1018" class="Symbol">→</a> <a id="1020" class="Symbol">(</a><a id="1021" href="Test.Examples.AccountSim.OffChain.Deposit.html#1021" class="Bound">v</a> <a id="1023" class="Symbol">:</a> <a id="1025" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a><a id="1030" class="Symbol">)</a> <a id="1032" class="Symbol">→</a> <a id="1034" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1039" class="Symbol">(</a><a id="1040" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1042" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1044" href="Ledger.Conway.Specification.Transaction.html#2836" class="Function">TxOut</a><a id="1049" class="Symbol">)</a>
<a id="1051" href="Test.Examples.AccountSim.OffChain.Deposit.html#958" class="Function">makeDepositTxOut</a> <a id="1068" class="Symbol">(</a><a id="1069" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="1076" href="Test.Examples.AccountSim.OffChain.Deposit.html#1076" class="Bound">l</a><a id="1077" class="Symbol">)</a> <a id="1079" href="Test.Examples.AccountSim.OffChain.Deposit.html#1079" class="Bound">ix</a> <a id="1082" href="Test.Examples.AccountSim.OffChain.Deposit.html#1082" class="Bound">txo</a> <a id="1086" href="Test.Examples.AccountSim.OffChain.Deposit.html#1086" class="Bound">w</a> <a id="1088" href="Test.Examples.AccountSim.OffChain.Deposit.html#1088" class="Bound">v</a> <a id="1090" class="Symbol">=</a>
            <a id="1104" class="Symbol">(</a><a id="1105" href="Test.Examples.AccountSim.OffChain.Deposit.html#1079" class="Bound">ix</a> <a id="1108" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1110" href="Test.Examples.AccountSim.OffChain.Deposit.html#679" class="Function">scriptDTxOut</a> <a id="1123" class="Symbol">(</a><a id="1124" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="1131" href="Test.Examples.AccountSim.OffChain.Deposit.html#1076" class="Bound">l</a><a id="1132" class="Symbol">)</a> <a id="1134" href="Test.Examples.AccountSim.OffChain.Deposit.html#1082" class="Bound">txo</a> <a id="1138" href="Test.Examples.AccountSim.OffChain.Deposit.html#1086" class="Bound">w</a> <a id="1140" href="Test.Examples.AccountSim.OffChain.Deposit.html#1088" class="Bound">v</a><a id="1141" class="Symbol">)</a>
            <a id="1155" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1157" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>



<a id="makeDepositTx"></a><a id="1163" href="Test.Examples.AccountSim.OffChain.Deposit.html#1163" class="Function">makeDepositTx</a> <a id="1177" class="Symbol">:</a> <a id="1179" class="Symbol">(</a><a id="1180" href="Test.Examples.AccountSim.OffChain.Deposit.html#1180" class="Bound">id</a> <a id="1183" class="Symbol">:</a> <a id="1185" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1186" class="Symbol">)</a> <a id="1188" class="Symbol">→</a> <a id="1190" href="Ledger.Conway.Specification.Utxo.html#1226" class="Record">UTxOState</a> <a id="1200" class="Symbol">→</a> <a id="1202" href="Test.LedgerImplementation.html#1447" class="Function">PlutusScript</a> <a id="1215" class="Symbol">→</a> <a id="1217" class="Symbol">(</a><a id="1218" href="Test.Examples.AccountSim.OffChain.Deposit.html#1218" class="Bound">w</a> <a id="1220" class="Symbol">:</a> <a id="1222" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1223" class="Symbol">)</a> <a id="1225" class="Symbol">→</a> <a id="1227" class="Symbol">(</a><a id="1228" href="Test.Examples.AccountSim.OffChain.Deposit.html#1228" class="Bound">v</a> <a id="1230" class="Symbol">:</a> <a id="1232" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#517" class="Function">Value</a><a id="1237" class="Symbol">)</a> <a id="1239" class="Symbol">→</a> <a id="1241" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1247" href="Ledger.Conway.Specification.Transaction.html#4880" class="Record">Tx</a>
<a id="1250" href="Test.Examples.AccountSim.OffChain.Deposit.html#1163" class="Function">makeDepositTx</a> <a id="1264" href="Test.Examples.AccountSim.OffChain.Deposit.html#1264" class="Bound">id</a> <a id="1267" href="Test.Examples.AccountSim.OffChain.Deposit.html#1267" class="Bound">state</a> <a id="1273" href="Test.Examples.AccountSim.OffChain.Deposit.html#1273" class="Bound">script</a><a id="1279" class="Symbol">@(</a><a id="1281" href="Test.Examples.AccountSim.OffChain.Deposit.html#1281" class="Bound">sh</a> <a id="1284" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1286" class="Symbol">_)</a> <a id="1289" href="Test.Examples.AccountSim.OffChain.Deposit.html#1289" class="Bound">w</a> <a id="1291" href="Test.Examples.AccountSim.OffChain.Deposit.html#1291" class="Bound">v</a> <a id="1293" class="Symbol">=</a>
  <a id="1297" class="Keyword">let</a>
    <a id="1305" href="Test.Examples.AccountSim.OffChain.Deposit.html#1305" class="Bound">wutxo</a> <a id="1311" class="Symbol">=</a> <a id="1313" href="Test.Examples.AccountSim.OffChain.Lib.html#2100" class="Function">getWalletUTxO</a> <a id="1327" href="Test.Examples.AccountSim.OffChain.Deposit.html#1289" class="Bound">w</a> <a id="1329" class="Symbol">(</a><a id="1330" href="Ledger.Conway.Specification.Utxo.html#1290" class="Field">UTxOState.utxo</a> <a id="1345" href="Test.Examples.AccountSim.OffChain.Deposit.html#1267" class="Bound">state</a><a id="1350" class="Symbol">)</a>
  <a id="1354" class="Keyword">in</a>
    <a id="1361" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="1367" class="Symbol">(λ</a> <a id="1370" class="Symbol">{</a> <a id="1372" class="Symbol">(</a><a id="1373" href="Test.Examples.AccountSim.OffChain.Deposit.html#1373" class="Bound">scIn</a> <a id="1378" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1380" href="Test.Examples.AccountSim.OffChain.Deposit.html#1380" class="Bound">scOut</a><a id="1385" class="Symbol">)</a> <a id="1387" class="Symbol">→</a> <a id="1389" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="1395" class="Symbol">(λ</a> <a id="1398" href="Test.Examples.AccountSim.OffChain.Deposit.html#1398" class="Bound">label</a> <a id="1404" class="Symbol">→</a>
    <a id="1410" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1415" class="Symbol">(</a>
          <a id="1427" class="Keyword">record</a> <a id="1434" class="Symbol">{</a> <a id="1436" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">body</a> <a id="1441" class="Symbol">=</a> <a id="1443" class="Keyword">record</a> <a id="1450" href="Test.Examples.AccountSim.OffChain.Lib.html#500" class="Function">defaultTxBody</a>
                         <a id="1489" class="Symbol">{</a> <a id="1491" href="Ledger.Conway.Specification.Transaction.html#3230" class="Field">txIns</a> <a id="1497" class="Symbol">=</a> <a id="1499" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1523" class="Symbol">((</a><a id="1525" href="Test.Examples.AccountSim.OffChain.Deposit.html#1373" class="Bound">scIn</a> <a id="1530" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1532" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1534" class="Symbol">)</a> <a id="1536" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="1539" class="Symbol">(</a><a id="1540" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="1544" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1550" href="Test.Examples.AccountSim.OffChain.Deposit.html#1305" class="Bound">wutxo</a><a id="1555" class="Symbol">))</a>
                         <a id="1583" class="Symbol">;</a> <a id="1585" href="Ledger.Conway.Specification.Transaction.html#3338" class="Field">txOuts</a> <a id="1592" class="Symbol">=</a> <a id="1594" href="Test.Lib.html#5531" class="Function">fromListIx</a> <a id="1605" class="Symbol">(</a><a id="1606" href="Test.Examples.AccountSim.OffChain.Lib.html#3135" class="Function">makeFeePaymentTxOut</a> <a id="1626" href="Test.Examples.AccountSim.OffChain.Deposit.html#1305" class="Bound">wutxo</a> <a id="1632" href="Test.Examples.AccountSim.OffChain.Deposit.html#1291" class="Bound">v</a> <a id="1634" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="1637" href="Test.Examples.AccountSim.OffChain.Deposit.html#958" class="Function">makeDepositTxOut</a> <a id="1654" href="Test.Examples.AccountSim.OffChain.Deposit.html#1398" class="Bound">label</a> <a id="1660" class="Symbol">(</a><a id="1661" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1667" href="Test.Examples.AccountSim.OffChain.Deposit.html#1373" class="Bound">scIn</a><a id="1671" class="Symbol">)</a> <a id="1673" href="Test.Examples.AccountSim.OffChain.Deposit.html#1380" class="Bound">scOut</a> <a id="1679" href="Test.Examples.AccountSim.OffChain.Deposit.html#1289" class="Bound">w</a> <a id="1681" href="Test.Examples.AccountSim.OffChain.Deposit.html#1291" class="Bound">v</a> <a id="1683" class="Symbol">)</a>
                         <a id="1710" class="Symbol">;</a> <a id="1712" href="Ledger.Conway.Specification.Transaction.html#3378" class="Field">txId</a> <a id="1717" class="Symbol">=</a> <a id="1719" href="Test.Examples.AccountSim.OffChain.Deposit.html#1264" class="Bound">id</a>
                         <a id="1747" class="Symbol">;</a> <a id="1749" href="Ledger.Conway.Specification.Transaction.html#3302" class="Field">collateralInputs</a> <a id="1766" class="Symbol">=</a> <a id="1768" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1792" class="Symbol">(</a><a id="1793" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="1797" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1803" href="Test.Examples.AccountSim.OffChain.Deposit.html#1305" class="Bound">wutxo</a><a id="1808" class="Symbol">)</a>
                         <a id="1835" class="Symbol">;</a> <a id="1837" href="Ledger.Conway.Specification.Transaction.html#3871" class="Field">reqSignerHashes</a> <a id="1853" class="Symbol">=</a> <a id="1855" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1879" class="Symbol">(</a><a id="1880" href="Test.Examples.AccountSim.OffChain.Deposit.html#1289" class="Bound">w</a> <a id="1882" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1884" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1886" class="Symbol">)</a>
                         <a id="1913" class="Symbol">}</a> <a id="1915" class="Symbol">;</a>
                <a id="1933" href="Ledger.Conway.Specification.Transaction.html#4936" class="Field">wits</a> <a id="1938" class="Symbol">=</a> <a id="1940" class="Keyword">record</a> <a id="1947" class="Symbol">{</a> <a id="1949" href="Ledger.Conway.Specification.Transaction.html#4676" class="Field">vkSigs</a> <a id="1956" class="Symbol">=</a> <a id="1958" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="1968" class="Symbol">((</a><a id="1970" href="Test.Examples.AccountSim.OffChain.Deposit.html#1289" class="Bound">w</a> <a id="1972" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1974" class="Symbol">(</a><a id="1975" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="1979" class="Symbol">{{</a><a id="1981" href="Class.HasAdd.Instances.html#143" class="Function">addNat</a><a id="1987" class="Symbol">}}</a> <a id="1990" class="Symbol">(</a><a id="1991" href="Test.Examples.AccountSim.OffChain.Lib.html#3388" class="Function">getTxId</a> <a id="1999" href="Test.Examples.AccountSim.OffChain.Deposit.html#1305" class="Bound">wutxo</a><a id="2004" class="Symbol">)</a> <a id="2006" href="Test.Examples.AccountSim.OffChain.Deposit.html#1289" class="Bound">w</a><a id="2007" class="Symbol">))</a> <a id="2010" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2012" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2014" class="Symbol">)</a> <a id="2016" class="Symbol">;</a>
                                <a id="2050" href="Ledger.Conway.Specification.Transaction.html#4704" class="Field">scripts</a> <a id="2058" class="Symbol">=</a> <a id="2060" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="2084" class="Symbol">((</a><a id="2086" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2091" href="Test.Examples.AccountSim.OffChain.Deposit.html#1273" class="Bound">script</a><a id="2097" class="Symbol">)</a> <a id="2099" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2101" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2103" class="Symbol">)</a> <a id="2105" class="Symbol">;</a>
                                <a id="2139" href="Ledger.Conway.Specification.Transaction.html#4730" class="Field">txdats</a> <a id="2146" class="Symbol">=</a> <a id="2148" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="2150" class="Symbol">;</a>
                                <a id="2184" href="Ledger.Conway.Specification.Transaction.html#4755" class="Field">txrdmrs</a> <a id="2192" class="Symbol">=</a> <a id="2194" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="2204" class="Symbol">(((</a><a id="2207" href="Ledger.Conway.Specification.Transaction.html#881" class="InductiveConstructor">Spend</a> <a id="2213" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2215" class="Symbol">(</a><a id="2216" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2222" href="Test.Examples.AccountSim.OffChain.Deposit.html#1373" class="Bound">scIn</a><a id="2226" class="Symbol">))</a> <a id="2229" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
                                                      <a id="2285" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2290" class="Symbol">(</a><a id="2291" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2296" class="Symbol">(</a><a id="2297" href="Test.Examples.AccountSim.Datum.html#567" class="InductiveConstructor">Deposit</a> <a id="2305" href="Test.Examples.AccountSim.OffChain.Deposit.html#1289" class="Bound">w</a> <a id="2307" href="Test.Examples.AccountSim.OffChain.Deposit.html#1291" class="Bound">v</a><a id="2308" class="Symbol">))</a> <a id="2311" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
                                                      <a id="2367" class="Symbol">((</a><a id="2369" href="Test.Examples.AccountSim.OffChain.Lib.html#3388" class="Function">getTxId</a> <a id="2377" href="Test.Examples.AccountSim.OffChain.Deposit.html#1305" class="Bound">wutxo</a><a id="2382" class="Symbol">)</a> <a id="2384" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2386" href="Test.Examples.AccountSim.OffChain.Deposit.html#1289" class="Bound">w</a><a id="2387" class="Symbol">))</a> <a id="2390" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2392" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2394" class="Symbol">)</a> <a id="2396" class="Symbol">}</a> <a id="2398" class="Symbol">;</a>
                <a id="2416" href="Ledger.Conway.Specification.Transaction.html#4965" class="Field">txsize</a> <a id="2423" class="Symbol">=</a> <a id="2425" class="Number">10</a> <a id="2428" class="Symbol">;</a>
                <a id="2446" href="Ledger.Conway.Specification.Transaction.html#4984" class="Field">isValid</a> <a id="2454" class="Symbol">=</a> <a id="2456" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2461" class="Symbol">;</a>
                <a id="2479" href="Ledger.Conway.Specification.Transaction.html#5006" class="Field">txAD</a> <a id="2484" class="Symbol">=</a> <a id="2486" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2494" class="Symbol">}</a>
                <a id="2512" class="Symbol">))</a>
            <a id="2527" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
            <a id="2547" class="Symbol">(</a><a id="2548" href="Test.Examples.AccountSim.OffChain.Lib.html#2280" class="Function">getLabel</a> <a id="2557" href="Test.Examples.AccountSim.OffChain.Deposit.html#1380" class="Bound">scOut</a><a id="2562" class="Symbol">)})</a>
          <a id="2576" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
          <a id="2594" class="Symbol">(</a><a id="2595" href="Test.Examples.AccountSim.OffChain.Lib.html#1591" class="Function">getScriptUTxO</a> <a id="2609" href="Test.Examples.AccountSim.OffChain.Deposit.html#1281" class="Bound">sh</a> <a id="2612" class="Symbol">(</a><a id="2613" href="Ledger.Conway.Specification.Utxo.html#1290" class="Field">UTxOState.utxo</a> <a id="2628" href="Test.Examples.AccountSim.OffChain.Deposit.html#1267" class="Bound">state</a><a id="2633" class="Symbol">))</a>
</pre></body></html>