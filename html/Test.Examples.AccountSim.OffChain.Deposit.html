<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Test.Examples.AccountSim.OffChain.Deposit</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">module</a> <a id="32" href="Test.Examples.AccountSim.OffChain.Deposit.html" class="Module">Test.Examples.AccountSim.OffChain.Deposit</a> <a id="74" class="Keyword">where</a>

<a id="81" class="Keyword">open</a> <a id="86" class="Keyword">import</a> <a id="93" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="108" class="Keyword">open</a> <a id="113" class="Keyword">import</a> <a id="120" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>

<a id="161" class="Keyword">open</a> <a id="166" class="Keyword">import</a> <a id="173" href="Test.Examples.AccountSim.Datum.html" class="Module">Test.Examples.AccountSim.Datum</a>
<a id="204" class="Keyword">open</a> <a id="209" class="Keyword">import</a> <a id="216" href="Test.Examples.AccountSim.OffChain.Lib.html" class="Module">Test.Examples.AccountSim.OffChain.Lib</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Test.Examples.AccountSim.Validator.html" class="Module">Test.Examples.AccountSim.Validator</a>
<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="Test.Prelude.html" class="Module">Test.Prelude</a> <a id="326" href="Test.Examples.AccountSim.Datum.html#737" class="Function">AccountSimData</a>
<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Test.SymbolicData.html" class="Module">Test.SymbolicData</a> <a id="371" href="Test.Examples.AccountSim.Datum.html#737" class="Function">AccountSimData</a>
<a id="386" class="Keyword">open</a> <a id="391" class="Keyword">import</a> <a id="398" href="Test.LedgerImplementation.html" class="Module">Test.LedgerImplementation</a> <a id="424" href="Test.SymbolicData.html#240" class="Function">SData</a> <a id="430" href="Test.SymbolicData.html#240" class="Function">SData</a>
<a id="436" class="Keyword">open</a> <a id="441" class="Keyword">import</a> <a id="448" href="Test.AbstractImplementation.html" class="Module">Test.AbstractImplementation</a> <a id="476" href="Test.SymbolicData.html#2904" class="Function">valContext</a>
<a id="487" class="Keyword">open</a> <a id="492" class="Keyword">import</a> <a id="499" href="Test.Lib.html" class="Module">Test.Lib</a> <a id="508" href="Test.SymbolicData.html#2904" class="Function">valContext</a>

<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="572" class="Keyword">open</a> <a id="577" class="Keyword">import</a> <a id="584" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="617" href="Test.LedgerImplementation.html#4277" class="Function">SVTransactionStructure</a> <a id="640" href="Test.AbstractImplementation.html#673" class="Function">SVAbstractFunctions</a>

<a id="661" class="Keyword">open</a> <a id="666" href="Ledger.Conway.Specification.Transaction.html#991" class="Module">TransactionStructure</a> <a id="687" href="Test.LedgerImplementation.html#4277" class="Function">SVTransactionStructure</a>
<a id="710" class="Keyword">open</a> <a id="715" href="Test.LedgerImplementation.html#1058" class="Module">Implementation</a>

<a id="scriptDTxOut"></a><a id="731" href="Test.Examples.AccountSim.OffChain.Deposit.html#731" class="Function">scriptDTxOut</a> <a id="744" class="Symbol">:</a> <a id="746" href="Test.Examples.AccountSim.Datum.html#324" class="Datatype">Label</a> <a id="752" class="Symbol">→</a> <a id="754" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a> <a id="760" class="Symbol">→</a> <a id="762" class="Symbol">(</a><a id="763" href="Test.Examples.AccountSim.OffChain.Deposit.html#763" class="Bound">w</a> <a id="765" class="Symbol">:</a> <a id="767" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="768" class="Symbol">)</a> <a id="770" class="Symbol">→</a> <a id="772" class="Symbol">(</a><a id="773" href="Test.Examples.AccountSim.OffChain.Deposit.html#773" class="Bound">v</a> <a id="775" class="Symbol">:</a> <a id="777" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a><a id="782" class="Symbol">)</a> <a id="784" class="Symbol">→</a> <a id="786" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a>
<a id="792" href="Test.Examples.AccountSim.OffChain.Deposit.html#731" class="Function">scriptDTxOut</a> <a id="805" class="Symbol">(</a><a id="806" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="813" href="Test.Examples.AccountSim.OffChain.Deposit.html#813" class="Bound">l</a><a id="814" class="Symbol">)</a> <a id="816" class="Symbol">(</a><a id="817" href="Test.Examples.AccountSim.OffChain.Deposit.html#817" class="Bound">fst</a> <a id="821" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="823" href="Test.Examples.AccountSim.OffChain.Deposit.html#823" class="Bound">txValue</a> <a id="831" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="833" href="Test.Examples.AccountSim.OffChain.Deposit.html#833" class="Bound">snd</a><a id="836" class="Symbol">)</a> <a id="838" href="Test.Examples.AccountSim.OffChain.Deposit.html#838" class="Bound">w</a> <a id="840" href="Test.Examples.AccountSim.OffChain.Deposit.html#840" class="Bound">v</a> <a id="842" class="Symbol">=</a> <a id="844" class="Symbol">(</a><a id="845" href="Test.Examples.AccountSim.OffChain.Deposit.html#817" class="Bound">fst</a> <a id="849" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="851" class="Symbol">(</a><a id="852" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="856" class="Symbol">{{</a><a id="858" href="Ledger.Core.Specification.TokenAlgebra.Base.html#1272" class="Function">addValue</a><a id="866" class="Symbol">}}</a> <a id="869" href="Test.Examples.AccountSim.OffChain.Deposit.html#823" class="Bound">txValue</a> <a id="877" href="Test.Examples.AccountSim.OffChain.Deposit.html#840" class="Bound">v</a><a id="878" class="Symbol">)</a> <a id="880" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="882" class="Symbol">(</a><a id="883" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="888" class="Symbol">(</a><a id="889" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="894" class="Symbol">(</a><a id="895" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="900" class="Symbol">(</a><a id="901" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="906" class="Symbol">(</a><a id="907" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="914" class="Symbol">(</a><a id="915" href="Test.Examples.AccountSim.Validator.html#5660" class="Function">insert&#39;</a> <a id="923" href="Test.Examples.AccountSim.OffChain.Deposit.html#838" class="Bound">w</a> <a id="925" class="Symbol">(</a><a id="926" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="930" class="Symbol">{{</a><a id="932" href="Ledger.Core.Specification.TokenAlgebra.Base.html#1272" class="Function">addValue</a><a id="940" class="Symbol">}}</a> <a id="943" href="Test.Examples.AccountSim.OffChain.Deposit.html#981" class="Function">val</a> <a id="947" href="Test.Examples.AccountSim.OffChain.Deposit.html#840" class="Bound">v</a><a id="948" class="Symbol">)</a> <a id="950" href="Test.Examples.AccountSim.OffChain.Deposit.html#813" class="Bound">l</a><a id="951" class="Symbol">))))))</a> <a id="958" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="960" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="967" class="Symbol">)</a>
  <a id="971" class="Keyword">where</a>
    <a id="981" href="Test.Examples.AccountSim.OffChain.Deposit.html#981" class="Function">val</a> <a id="985" class="Symbol">=</a> <a id="987" href="Test.Examples.AccountSim.OffChain.Lib.html#3554" class="Function">getVal</a> <a id="994" class="Symbol">(</a><a id="995" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="1002" href="Test.Examples.AccountSim.OffChain.Deposit.html#813" class="Bound">l</a><a id="1003" class="Symbol">)</a> <a id="1005" href="Test.Examples.AccountSim.OffChain.Deposit.html#838" class="Bound">w</a>



<a id="makeDepositTxOut"></a><a id="1010" href="Test.Examples.AccountSim.OffChain.Deposit.html#1010" class="Function">makeDepositTxOut</a> <a id="1027" class="Symbol">:</a> <a id="1029" href="Test.Examples.AccountSim.Datum.html#324" class="Datatype">Label</a> <a id="1035" class="Symbol">→</a> <a id="1037" class="Symbol">(</a><a id="1038" href="Test.Examples.AccountSim.OffChain.Deposit.html#1038" class="Bound">scriptIx</a> <a id="1047" class="Symbol">:</a> <a id="1049" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1050" class="Symbol">)</a> <a id="1052" class="Symbol">→</a> <a id="1054" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a> <a id="1060" class="Symbol">→</a> <a id="1062" class="Symbol">(</a><a id="1063" href="Test.Examples.AccountSim.OffChain.Deposit.html#1063" class="Bound">w</a> <a id="1065" class="Symbol">:</a> <a id="1067" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1068" class="Symbol">)</a> <a id="1070" class="Symbol">→</a> <a id="1072" class="Symbol">(</a><a id="1073" href="Test.Examples.AccountSim.OffChain.Deposit.html#1073" class="Bound">v</a> <a id="1075" class="Symbol">:</a> <a id="1077" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a><a id="1082" class="Symbol">)</a> <a id="1084" class="Symbol">→</a> <a id="1086" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1091" class="Symbol">(</a><a id="1092" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1094" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1096" href="Ledger.Conway.Specification.Transaction.html#2624" class="Function">TxOut</a><a id="1101" class="Symbol">)</a>
<a id="1103" href="Test.Examples.AccountSim.OffChain.Deposit.html#1010" class="Function">makeDepositTxOut</a> <a id="1120" class="Symbol">(</a><a id="1121" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="1128" href="Test.Examples.AccountSim.OffChain.Deposit.html#1128" class="Bound">l</a><a id="1129" class="Symbol">)</a> <a id="1131" href="Test.Examples.AccountSim.OffChain.Deposit.html#1131" class="Bound">ix</a> <a id="1134" href="Test.Examples.AccountSim.OffChain.Deposit.html#1134" class="Bound">txo</a> <a id="1138" href="Test.Examples.AccountSim.OffChain.Deposit.html#1138" class="Bound">w</a> <a id="1140" href="Test.Examples.AccountSim.OffChain.Deposit.html#1140" class="Bound">v</a> <a id="1142" class="Symbol">=</a>
            <a id="1156" class="Symbol">(</a><a id="1157" href="Test.Examples.AccountSim.OffChain.Deposit.html#1131" class="Bound">ix</a> <a id="1160" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1162" href="Test.Examples.AccountSim.OffChain.Deposit.html#731" class="Function">scriptDTxOut</a> <a id="1175" class="Symbol">(</a><a id="1176" href="Test.Examples.AccountSim.Datum.html#344" class="InductiveConstructor">Always</a> <a id="1183" href="Test.Examples.AccountSim.OffChain.Deposit.html#1128" class="Bound">l</a><a id="1184" class="Symbol">)</a> <a id="1186" href="Test.Examples.AccountSim.OffChain.Deposit.html#1134" class="Bound">txo</a> <a id="1190" href="Test.Examples.AccountSim.OffChain.Deposit.html#1138" class="Bound">w</a> <a id="1192" href="Test.Examples.AccountSim.OffChain.Deposit.html#1140" class="Bound">v</a><a id="1193" class="Symbol">)</a>
            <a id="1207" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1209" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>



<a id="makeDepositTx"></a><a id="1215" href="Test.Examples.AccountSim.OffChain.Deposit.html#1215" class="Function">makeDepositTx</a> <a id="1229" class="Symbol">:</a> <a id="1231" class="Symbol">(</a><a id="1232" href="Test.Examples.AccountSim.OffChain.Deposit.html#1232" class="Bound">id</a> <a id="1235" class="Symbol">:</a> <a id="1237" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1238" class="Symbol">)</a> <a id="1240" class="Symbol">→</a> <a id="1242" href="Ledger.Conway.Specification.Utxo.html#1300" class="Record">UTxOState</a> <a id="1252" class="Symbol">→</a> <a id="1254" href="Test.LedgerImplementation.html#1452" class="Function">PlutusScript</a> <a id="1267" class="Symbol">→</a> <a id="1269" class="Symbol">(</a><a id="1270" href="Test.Examples.AccountSim.OffChain.Deposit.html#1270" class="Bound">w</a> <a id="1272" class="Symbol">:</a> <a id="1274" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1275" class="Symbol">)</a> <a id="1277" class="Symbol">→</a> <a id="1279" class="Symbol">(</a><a id="1280" href="Test.Examples.AccountSim.OffChain.Deposit.html#1280" class="Bound">v</a> <a id="1282" class="Symbol">:</a> <a id="1284" href="Ledger.Core.Specification.TokenAlgebra.Base.html#515" class="Function">Value</a><a id="1289" class="Symbol">)</a> <a id="1291" class="Symbol">→</a> <a id="1293" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1299" href="Ledger.Conway.Specification.Transaction.html#4668" class="Record">Tx</a>
<a id="1302" href="Test.Examples.AccountSim.OffChain.Deposit.html#1215" class="Function">makeDepositTx</a> <a id="1316" href="Test.Examples.AccountSim.OffChain.Deposit.html#1316" class="Bound">id</a> <a id="1319" href="Test.Examples.AccountSim.OffChain.Deposit.html#1319" class="Bound">state</a> <a id="1325" href="Test.Examples.AccountSim.OffChain.Deposit.html#1325" class="Bound">script</a><a id="1331" class="Symbol">@(</a><a id="1333" href="Test.Examples.AccountSim.OffChain.Deposit.html#1333" class="Bound">sh</a> <a id="1336" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1338" class="Symbol">_)</a> <a id="1341" href="Test.Examples.AccountSim.OffChain.Deposit.html#1341" class="Bound">w</a> <a id="1343" href="Test.Examples.AccountSim.OffChain.Deposit.html#1343" class="Bound">v</a> <a id="1345" class="Symbol">=</a>
  <a id="1349" class="Keyword">let</a>
    <a id="1357" href="Test.Examples.AccountSim.OffChain.Deposit.html#1357" class="Bound">wutxo</a> <a id="1363" class="Symbol">=</a> <a id="1365" href="Test.Examples.AccountSim.OffChain.Lib.html#2176" class="Function">getWalletUTxO</a> <a id="1379" href="Test.Examples.AccountSim.OffChain.Deposit.html#1341" class="Bound">w</a> <a id="1381" class="Symbol">(</a><a id="1382" href="Ledger.Conway.Specification.Utxo.html#1364" class="Field">UTxOState.utxo</a> <a id="1397" href="Test.Examples.AccountSim.OffChain.Deposit.html#1319" class="Bound">state</a><a id="1402" class="Symbol">)</a>
  <a id="1406" class="Keyword">in</a>
    <a id="1413" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="1419" class="Symbol">(λ</a> <a id="1422" class="Symbol">{</a> <a id="1424" class="Symbol">(</a><a id="1425" href="Test.Examples.AccountSim.OffChain.Deposit.html#1425" class="Bound">scIn</a> <a id="1430" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1432" href="Test.Examples.AccountSim.OffChain.Deposit.html#1432" class="Bound">scOut</a><a id="1437" class="Symbol">)</a> <a id="1439" class="Symbol">→</a> <a id="1441" href="Data.Maybe.Base.html#1276" class="Function">maybe</a> <a id="1447" class="Symbol">(λ</a> <a id="1450" href="Test.Examples.AccountSim.OffChain.Deposit.html#1450" class="Bound">label</a> <a id="1456" class="Symbol">→</a>
    <a id="1462" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1467" class="Symbol">(</a>
          <a id="1479" class="Keyword">record</a> <a id="1486" class="Symbol">{</a> <a id="1488" href="Ledger.Conway.Specification.Transaction.html#4700" class="Field">body</a> <a id="1493" class="Symbol">=</a> <a id="1495" class="Keyword">record</a> <a id="1502" href="Test.Examples.AccountSim.OffChain.Lib.html#576" class="Function">defaultTxBody</a>
                         <a id="1541" class="Symbol">{</a> <a id="1543" href="Ledger.Conway.Specification.Transaction.html#3018" class="Field">txIns</a> <a id="1549" class="Symbol">=</a> <a id="1551" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1575" class="Symbol">((</a><a id="1577" href="Test.Examples.AccountSim.OffChain.Deposit.html#1425" class="Bound">scIn</a> <a id="1582" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1584" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1586" class="Symbol">)</a> <a id="1588" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="1591" class="Symbol">(</a><a id="1592" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="1596" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1602" href="Test.Examples.AccountSim.OffChain.Deposit.html#1357" class="Bound">wutxo</a><a id="1607" class="Symbol">))</a>
                         <a id="1635" class="Symbol">;</a> <a id="1637" href="Ledger.Conway.Specification.Transaction.html#3126" class="Field">txOuts</a> <a id="1644" class="Symbol">=</a> <a id="1646" href="Test.Lib.html#5515" class="Function">fromListIx</a> <a id="1657" class="Symbol">(</a><a id="1658" href="Test.Examples.AccountSim.OffChain.Lib.html#3211" class="Function">makeFeePaymentTxOut</a> <a id="1678" href="Test.Examples.AccountSim.OffChain.Deposit.html#1357" class="Bound">wutxo</a> <a id="1684" href="Test.Examples.AccountSim.OffChain.Deposit.html#1343" class="Bound">v</a> <a id="1686" href="Data.List.Base.html#1712" class="Function Operator">++</a> <a id="1689" href="Test.Examples.AccountSim.OffChain.Deposit.html#1010" class="Function">makeDepositTxOut</a> <a id="1706" href="Test.Examples.AccountSim.OffChain.Deposit.html#1450" class="Bound">label</a> <a id="1712" class="Symbol">(</a><a id="1713" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="1719" href="Test.Examples.AccountSim.OffChain.Deposit.html#1425" class="Bound">scIn</a><a id="1723" class="Symbol">)</a> <a id="1725" href="Test.Examples.AccountSim.OffChain.Deposit.html#1432" class="Bound">scOut</a> <a id="1731" href="Test.Examples.AccountSim.OffChain.Deposit.html#1341" class="Bound">w</a> <a id="1733" href="Test.Examples.AccountSim.OffChain.Deposit.html#1343" class="Bound">v</a> <a id="1735" class="Symbol">)</a>
                         <a id="1762" class="Symbol">;</a> <a id="1764" href="Ledger.Conway.Specification.Transaction.html#3166" class="Field">txId</a> <a id="1769" class="Symbol">=</a> <a id="1771" href="Test.Examples.AccountSim.OffChain.Deposit.html#1316" class="Bound">id</a>
                         <a id="1799" class="Symbol">;</a> <a id="1801" href="Ledger.Conway.Specification.Transaction.html#3090" class="Field">collateralInputs</a> <a id="1818" class="Symbol">=</a> <a id="1820" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1844" class="Symbol">(</a><a id="1845" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="1849" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1855" href="Test.Examples.AccountSim.OffChain.Deposit.html#1357" class="Bound">wutxo</a><a id="1860" class="Symbol">)</a>
                         <a id="1887" class="Symbol">;</a> <a id="1889" href="Ledger.Conway.Specification.Transaction.html#3659" class="Field">reqSignerHashes</a> <a id="1905" class="Symbol">=</a> <a id="1907" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="1931" class="Symbol">(</a><a id="1932" href="Test.Examples.AccountSim.OffChain.Deposit.html#1341" class="Bound">w</a> <a id="1934" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1936" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1938" class="Symbol">)</a>
                         <a id="1965" class="Symbol">}</a> <a id="1967" class="Symbol">;</a>
                <a id="1985" href="Ledger.Conway.Specification.Transaction.html#4724" class="Field">wits</a> <a id="1990" class="Symbol">=</a> <a id="1992" class="Keyword">record</a> <a id="1999" class="Symbol">{</a> <a id="2001" href="Ledger.Conway.Specification.Transaction.html#4464" class="Field">vkSigs</a> <a id="2008" class="Symbol">=</a> <a id="2010" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="2020" class="Symbol">((</a><a id="2022" href="Test.Examples.AccountSim.OffChain.Deposit.html#1341" class="Bound">w</a> <a id="2024" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2026" class="Symbol">(</a><a id="2027" href="Class.HasAdd.Core.html#162" class="Field Operator">_+_</a> <a id="2031" class="Symbol">{{</a><a id="2033" href="Class.HasAdd.Instances.html#143" class="Function">addNat</a><a id="2039" class="Symbol">}}</a> <a id="2042" class="Symbol">(</a><a id="2043" href="Test.Examples.AccountSim.OffChain.Lib.html#3464" class="Function">getTxId</a> <a id="2051" href="Test.Examples.AccountSim.OffChain.Deposit.html#1357" class="Bound">wutxo</a><a id="2056" class="Symbol">)</a> <a id="2058" href="Test.Examples.AccountSim.OffChain.Deposit.html#1341" class="Bound">w</a><a id="2059" class="Symbol">))</a> <a id="2062" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2064" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2066" class="Symbol">)</a> <a id="2068" class="Symbol">;</a>
                                <a id="2102" href="Ledger.Conway.Specification.Transaction.html#4492" class="Field">scripts</a> <a id="2110" class="Symbol">=</a> <a id="2112" href="Axiom.Set.html#5903" class="Function">Ledger.Prelude.fromList</a> <a id="2136" class="Symbol">((</a><a id="2138" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2143" href="Test.Examples.AccountSim.OffChain.Deposit.html#1325" class="Bound">script</a><a id="2149" class="Symbol">)</a> <a id="2151" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2153" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2155" class="Symbol">)</a> <a id="2157" class="Symbol">;</a>
                                <a id="2191" href="Ledger.Conway.Specification.Transaction.html#4518" class="Field">txdats</a> <a id="2198" class="Symbol">=</a> <a id="2200" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="2202" class="Symbol">;</a>
                                <a id="2236" href="Ledger.Conway.Specification.Transaction.html#4543" class="Field">txrdmrs</a> <a id="2244" class="Symbol">=</a> <a id="2246" href="Axiom.Set.Map.html#2713" class="Function">fromListᵐ</a> <a id="2256" class="Symbol">(((</a><a id="2259" href="Ledger.Conway.Specification.Transaction.html#873" class="InductiveConstructor">Spend</a> <a id="2265" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2267" class="Symbol">(</a><a id="2268" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2274" href="Test.Examples.AccountSim.OffChain.Deposit.html#1425" class="Bound">scIn</a><a id="2278" class="Symbol">))</a> <a id="2281" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
                                                      <a id="2337" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2342" class="Symbol">(</a><a id="2343" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2348" class="Symbol">(</a><a id="2349" href="Test.Examples.AccountSim.Datum.html#567" class="InductiveConstructor">Deposit</a> <a id="2357" href="Test.Examples.AccountSim.OffChain.Deposit.html#1341" class="Bound">w</a> <a id="2359" href="Test.Examples.AccountSim.OffChain.Deposit.html#1343" class="Bound">v</a><a id="2360" class="Symbol">))</a> <a id="2363" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
                                                      <a id="2419" class="Symbol">((</a><a id="2421" href="Test.Examples.AccountSim.OffChain.Lib.html#3464" class="Function">getTxId</a> <a id="2429" href="Test.Examples.AccountSim.OffChain.Deposit.html#1357" class="Bound">wutxo</a><a id="2434" class="Symbol">)</a> <a id="2436" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2438" href="Test.Examples.AccountSim.OffChain.Deposit.html#1341" class="Bound">w</a><a id="2439" class="Symbol">))</a> <a id="2442" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2444" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2446" class="Symbol">)</a> <a id="2448" class="Symbol">}</a> <a id="2450" class="Symbol">;</a>
                <a id="2468" href="Ledger.Conway.Specification.Transaction.html#4753" class="Field">txsize</a> <a id="2475" class="Symbol">=</a> <a id="2477" class="Number">10</a> <a id="2480" class="Symbol">;</a>
                <a id="2498" href="Ledger.Conway.Specification.Transaction.html#4772" class="Field">isValid</a> <a id="2506" class="Symbol">=</a> <a id="2508" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2513" class="Symbol">;</a>
                <a id="2531" href="Ledger.Conway.Specification.Transaction.html#4794" class="Field">txAD</a> <a id="2536" class="Symbol">=</a> <a id="2538" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2546" class="Symbol">}</a>
                <a id="2564" class="Symbol">))</a>
            <a id="2579" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
            <a id="2599" class="Symbol">(</a><a id="2600" href="Test.Examples.AccountSim.OffChain.Lib.html#2356" class="Function">getLabel</a> <a id="2609" href="Test.Examples.AccountSim.OffChain.Deposit.html#1432" class="Bound">scOut</a><a id="2614" class="Symbol">)})</a>
          <a id="2628" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
          <a id="2646" class="Symbol">(</a><a id="2647" href="Test.Examples.AccountSim.OffChain.Lib.html#1667" class="Function">getScriptUTxO</a> <a id="2661" href="Test.Examples.AccountSim.OffChain.Deposit.html#1333" class="Bound">sh</a> <a id="2664" class="Symbol">(</a><a id="2665" href="Ledger.Conway.Specification.Utxo.html#1364" class="Field">UTxOState.utxo</a> <a id="2680" href="Test.Examples.AccountSim.OffChain.Deposit.html#1319" class="Bound">state</a><a id="2685" class="Symbol">))</a>
</pre></body></html>