<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Ledger.Properties.Computational</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Core.Specification.Abstract.html" class="Module">Ledger.Core.Specification.Abstract</a>
<a id="73" class="Keyword">open</a> <a id="78" class="Keyword">import</a> <a id="85" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>

<a id="126" class="Keyword">module</a> <a id="133" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Ledger.Properties.Computational</a>
  <a id="195" class="Symbol">(</a><a id="196" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a> <a id="200" class="Symbol">:</a> <a id="202" href="Ledger.Conway.Specification.Transaction.html#991" class="Record">TransactionStructure</a><a id="222" class="Symbol">)</a> <a id="224" class="Symbol">(</a><a id="225" class="Keyword">open</a> <a id="230" href="Ledger.Conway.Specification.Transaction.html#991" class="Module">TransactionStructure</a> <a id="251" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a><a id="254" class="Symbol">)</a>
  <a id="258" class="Symbol">(</a><a id="259" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#259" class="Bound">abs</a> <a id="263" class="Symbol">:</a> <a id="265" href="Ledger.Core.Specification.Abstract.html#828" class="Record">AbstractFunctions</a> <a id="283" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a><a id="286" class="Symbol">)</a>
  <a id="290" class="Keyword">where</a>

<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="325" class="Keyword">open</a> <a id="330" class="Keyword">import</a> <a id="337" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="371" href="Ledger.Conway.Specification.Transaction.html#2065" class="Function">govStructure</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Ledger.Conway.Specification.Certs.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Certs.Properties.Computational</a> <a id="455" href="Ledger.Conway.Specification.Transaction.html#2065" class="Function">govStructure</a>
<a id="468" class="Keyword">open</a> <a id="473" class="Keyword">import</a> <a id="480" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="512" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a>
<a id="516" class="Keyword">open</a> <a id="521" class="Keyword">import</a> <a id="528" href="Ledger.Conway.Specification.Gov.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Gov.Properties.Computational</a> <a id="585" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="636" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a> <a id="640" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#259" class="Bound">abs</a>
<a id="644" class="Keyword">open</a> <a id="649" class="Keyword">import</a> <a id="656" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="696" class="Keyword">open</a> <a id="701" class="Keyword">import</a> <a id="708" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="741" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a> <a id="745" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#259" class="Bound">abs</a>
<a id="749" class="Keyword">open</a> <a id="754" class="Keyword">import</a> <a id="761" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="795" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a> <a id="799" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#259" class="Bound">abs</a>
<a id="803" class="Keyword">open</a> <a id="808" class="Keyword">import</a> <a id="815" href="Ledger.Conway.Specification.Utxow.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Utxow.Properties.Computational</a> <a id="874" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a> <a id="878" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#259" class="Bound">abs</a>

<a id="883" class="Keyword">open</a> <a id="888" class="Keyword">import</a> <a id="895" href="Data.Bool.Properties.html" class="Module">Data.Bool.Properties</a> <a id="916" class="Keyword">using</a> <a id="922" class="Symbol">(</a><a id="923" href="Data.Bool.Properties.html#15875" class="Function">¬-not</a><a id="928" class="Symbol">)</a>


<a id="932" class="Keyword">instance</a>
  <a id="943" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#943" class="Function">_</a> <a id="945" class="Symbol">=</a> <a id="947" href="Interface.ComputationalRelation.html#1831" class="Function">Monad-ComputationResult</a>

  <a id="Computational-LEDGER"></a><a id="974" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#974" class="Function">Computational-LEDGER</a> <a id="995" class="Symbol">:</a> <a id="997" href="Interface.ComputationalRelation.html#2804" class="Record">Computational</a> <a id="1011" href="Ledger.Conway.Specification.Ledger.html#3836" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="1027" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1036" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#974" class="Function">Computational-LEDGER</a> <a id="1057" class="Symbol">=</a> <a id="1059" class="Keyword">record</a> <a id="1066" class="Symbol">{</a><a id="1067" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1320" class="Module">go</a><a id="1069" class="Symbol">}</a>
    <a id="1075" class="Keyword">where</a>
    <a id="1085" class="Keyword">open</a> <a id="1090" href="Interface.ComputationalRelation.html#2804" class="Module">Computational</a> <a id="1104" class="Symbol">⦃...⦄</a> <a id="1110" class="Keyword">renaming</a> <a id="1119" class="Symbol">(</a><a id="1120" href="Interface.ComputationalRelation.html#2884" class="Field">computeProof</a> <a id="1133" class="Symbol">to</a> <a id="1136" class="Field">comp</a><a id="1140" class="Symbol">;</a> <a id="1142" href="Interface.ComputationalRelation.html#3101" class="Field">completeness</a> <a id="1155" class="Symbol">to</a> <a id="1158" class="Field">complete</a><a id="1166" class="Symbol">)</a>
    <a id="1172" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1172" class="Function">computeUtxow</a> <a id="1185" class="Symbol">=</a> <a id="1187" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1136" class="Field">comp</a> <a id="1192" class="Symbol">{</a><a id="1193" class="Argument">STS</a> <a id="1197" class="Symbol">=</a> <a id="1199" href="Ledger.Conway.Specification.Utxow.html#2976" class="Datatype Operator">_⊢_⇀⦇_,UTXOW⦈_</a><a id="1213" class="Symbol">}</a>
    <a id="1219" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1219" class="Function">computeCerts</a> <a id="1232" class="Symbol">=</a> <a id="1234" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1136" class="Field">comp</a> <a id="1239" class="Symbol">{</a><a id="1240" class="Argument">STS</a> <a id="1244" class="Symbol">=</a> <a id="1246" href="Ledger.Conway.Specification.Certs.html#5653" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a><a id="1260" class="Symbol">}</a>
    <a id="1266" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1266" class="Function">computeGov</a>   <a id="1279" class="Symbol">=</a> <a id="1281" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1136" class="Field">comp</a> <a id="1286" class="Symbol">{</a><a id="1287" class="Argument">STS</a> <a id="1291" class="Symbol">=</a> <a id="1293" href="Ledger.Conway.Specification.Gov.html#16525" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="1306" class="Symbol">}</a>

    <a id="1313" class="Keyword">module</a> <a id="1320" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1320" class="Module">go</a>
      <a id="1329" class="Symbol">(</a><a id="1330" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1330" class="Bound">Γ</a> <a id="1332" class="Symbol">:</a> <a id="1334" href="Ledger.Conway.Specification.Ledger.html#725" class="Record">LEnv</a><a id="1338" class="Symbol">)</a>   <a id="1342" class="Symbol">(</a><a id="1343" class="Keyword">let</a> <a id="1347" class="Keyword">open</a> <a id="1352" href="Ledger.Conway.Specification.Ledger.html#725" class="Module">LEnv</a> <a id="1357" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1330" class="Bound">Γ</a><a id="1358" class="Symbol">)</a>
      <a id="1366" class="Symbol">(</a><a id="1367" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1367" class="Bound">s</a> <a id="1369" class="Symbol">:</a> <a id="1371" href="Ledger.Conway.Specification.Ledger.html#991" class="Record">LState</a><a id="1377" class="Symbol">)</a> <a id="1379" class="Symbol">(</a><a id="1380" class="Keyword">let</a> <a id="1384" class="Keyword">open</a> <a id="1389" href="Ledger.Conway.Specification.Ledger.html#991" class="Module">LState</a> <a id="1396" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1367" class="Bound">s</a><a id="1397" class="Symbol">)</a>
      <a id="1405" class="Symbol">(</a><a id="1406" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1406" class="Bound">tx</a> <a id="1409" class="Symbol">:</a> <a id="1411" href="Ledger.Conway.Specification.Transaction.html#4668" class="Record">Tx</a><a id="1413" class="Symbol">)</a>    <a id="1418" class="Symbol">(</a><a id="1419" class="Keyword">let</a> <a id="1423" class="Keyword">open</a> <a id="1428" href="Ledger.Conway.Specification.Transaction.html#4668" class="Module">Tx</a> <a id="1431" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1406" class="Bound">tx</a> <a id="1434" class="Keyword">renaming</a> <a id="1443" class="Symbol">(</a><a id="1444" href="Ledger.Conway.Specification.Transaction.html#4700" class="Field">body</a> <a id="1449" class="Symbol">to</a> <a id="1452" class="Field">txb</a><a id="1455" class="Symbol">);</a> <a id="1458" class="Keyword">open</a> <a id="1463" href="Ledger.Conway.Specification.Transaction.html#2982" class="Module">TxBody</a> <a id="1470" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1452" class="Field">txb</a><a id="1473" class="Symbol">)</a>
      <a id="1481" class="Keyword">where</a>
      <a id="1493" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1493" class="Function">utxoΓ</a> <a id="1499" class="Symbol">=</a> <a id="1501" href="Ledger.Conway.Specification.Utxo.html#1191" class="Record">UTxOEnv</a> <a id="1509" href="Function.Base.html#4505" class="Function Operator">∋</a> <a id="1511" class="Keyword">record</a> <a id="1518" class="Symbol">{</a> <a id="1520" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1520" class="Module">LEnv</a> <a id="1525" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1330" class="Bound">Γ</a> <a id="1527" class="Symbol">}</a>
      <a id="1535" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1535" class="Function">certΓ</a> <a id="1541" class="Symbol">=</a> <a id="1543" href="Ledger.Core.Specification.Certs.html#3552" class="Record">CertEnv</a> <a id="1551" href="Function.Base.html#4505" class="Function Operator">∋</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{1555}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#755}{\htmlId{1561}{\htmlClass{Field}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#813}{\htmlId{1568}{\htmlClass{Field}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3449}{\htmlId{1578}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3274}{\htmlId{1591}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\htmlId{1607}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a>
      <a id="1617" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1617" class="Function">govΓ</a> <a id="1622" class="Symbol">:</a> <a id="1624" href="Ledger.Core.Specification.Certs.html#4115" class="Record">CertState</a> <a id="1634" class="Symbol">→</a> <a id="1636" href="Ledger.Conway.Specification.Gov.html#1650" class="Record">GovEnv</a>
      <a id="1649" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1617" class="Function">govΓ</a> <a id="1654" class="Symbol">=</a> <a id="1656" class="Symbol">λ</a> <a id="1658" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1658" class="Bound">certState</a> <a id="1668" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Transaction.html#3166}{\htmlId{1672}{\htmlClass{Function}{\text{txId}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{1679}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#755}{\htmlId{1685}{\htmlClass{Field}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#813}{\htmlId{1692}{\htmlClass{Field}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#778}{\htmlId{1702}{\htmlClass{Field}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#839}{\htmlId{1712}{\htmlClass{Field}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.Computational.html#1658}{\htmlId{1725}{\htmlClass{Bound}{\text{certState}}}}\, \\ \,\htmlId{1737}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a>

      <a id="1748" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1748" class="Function">computeProof</a> <a id="1761" class="Symbol">:</a> <a id="1763" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="1781" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1788" class="Symbol">(</a><a id="1789" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="1792" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1792" class="Bound">s&#39;</a> <a id="1795" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="1797" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1330" class="Bound">Γ</a> <a id="1799" href="Ledger.Conway.Specification.Ledger.html#3836" class="Datatype Operator">⊢</a> <a id="1801" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1367" class="Bound">s</a> <a id="1803" href="Ledger.Conway.Specification.Ledger.html#3836" class="Datatype Operator">⇀⦇</a> <a id="1806" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1406" class="Bound">tx</a> <a id="1809" href="Ledger.Conway.Specification.Ledger.html#3836" class="Datatype Operator">,LEDGER⦈</a> <a id="1818" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1792" class="Bound">s&#39;</a><a id="1820" class="Symbol">)</a>
      <a id="1828" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1748" class="Function">computeProof</a> <a id="1841" class="Symbol">=</a> <a id="1843" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="1848" href="Ledger.Conway.Specification.Transaction.html#4772" class="Field">isValid</a> <a id="1856" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="1858" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="1863" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="1866" class="Symbol">λ</a> <a id="1868" class="Keyword">where</a>
        <a id="1882" class="Symbol">(</a><a id="1883" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="1887" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1887" class="Bound">p</a><a id="1888" class="Symbol">)</a> <a id="1890" class="Symbol">→</a> <a id="1892" class="Keyword">do</a>
          <a id="1905" class="Symbol">(</a><a id="1906" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1906" class="Bound">utxoSt&#39;</a> <a id="1914" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1916" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1916" class="Bound">utxoStep</a><a id="1924" class="Symbol">)</a> <a id="1926" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="1928" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1172" class="Function">computeUtxow</a> <a id="1941" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1493" class="Function">utxoΓ</a> <a id="1947" href="Ledger.Conway.Specification.Ledger.html#1050" class="Field">utxoSt</a> <a id="1954" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1406" class="Bound">tx</a>
          <a id="1967" class="Symbol">(</a><a id="1968" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1968" class="Bound">certSt&#39;</a> <a id="1976" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1978" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1978" class="Bound">certStep</a><a id="1986" class="Symbol">)</a> <a id="1988" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="1990" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1219" class="Function">computeCerts</a> <a id="2003" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1535" class="Function">certΓ</a> <a id="2009" href="Ledger.Conway.Specification.Ledger.html#1103" class="Field">certState</a> <a id="2019" href="Ledger.Conway.Specification.Transaction.html#3200" class="Function">txCerts</a>
          <a id="2037" class="Symbol">(</a><a id="2038" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2038" class="Bound">govSt&#39;</a>  <a id="2046" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2048" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2048" class="Bound">govStep</a><a id="2055" class="Symbol">)</a>  <a id="2058" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2060" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1266" class="Function">computeGov</a> <a id="2071" class="Symbol">(</a><a id="2072" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1617" class="Function">govΓ</a> <a id="2077" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1968" class="Bound">certSt&#39;</a><a id="2084" class="Symbol">)</a> <a id="2086" class="Symbol">(</a><a id="2087" href="Ledger.Conway.Specification.Ledger.html#2907" class="Function">rmOrphanDRepVotes</a> <a id="2105" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1968" class="Bound">certSt&#39;</a> <a id="2113" href="Ledger.Conway.Specification.Ledger.html#1077" class="Field">govSt</a><a id="2118" class="Symbol">)</a> <a id="2120" class="Symbol">(</a><a id="2121" href="Ledger.Conway.Specification.Ledger.html#2777" class="Function">txgov</a> <a id="2127" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1452" class="Field">txb</a><a id="2130" class="Symbol">)</a>
          <a id="2142" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2150" class="Symbol">(_</a> <a id="2153" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2155" href="Ledger.Conway.Specification.Ledger.html#4816" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2165" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1887" class="Bound">p</a> <a id="2167" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1916" class="Bound">utxoStep</a> <a id="2176" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1978" class="Bound">certStep</a> <a id="2185" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2048" class="Bound">govStep</a><a id="2192" class="Symbol">)</a>
        <a id="2202" class="Symbol">(</a><a id="2203" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2206" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2206" class="Bound">¬p</a><a id="2208" class="Symbol">)</a> <a id="2210" class="Symbol">→</a> <a id="2212" class="Keyword">do</a>
          <a id="2225" class="Symbol">(</a><a id="2226" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2226" class="Bound">utxoSt&#39;</a> <a id="2234" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2236" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2236" class="Bound">utxoStep</a><a id="2244" class="Symbol">)</a> <a id="2246" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2248" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1172" class="Function">computeUtxow</a> <a id="2261" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1493" class="Function">utxoΓ</a> <a id="2267" href="Ledger.Conway.Specification.Ledger.html#1050" class="Field">utxoSt</a> <a id="2274" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1406" class="Bound">tx</a>
          <a id="2287" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2295" class="Symbol">(_</a> <a id="2298" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2300" href="Ledger.Conway.Specification.Ledger.html#4869" class="InductiveConstructor">LEDGER-I⋯</a> <a id="2310" class="Symbol">(</a><a id="2311" href="Data.Bool.Properties.html#15875" class="Function">¬-not</a> <a id="2317" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2206" class="Bound">¬p</a><a id="2319" class="Symbol">)</a> <a id="2321" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2236" class="Bound">utxoStep</a><a id="2329" class="Symbol">)</a>

      <a id="2338" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2338" class="Function">completeness</a> <a id="2351" class="Symbol">:</a> <a id="2353" class="Symbol">∀</a> <a id="2355" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2355" class="Bound">s&#39;</a> <a id="2358" class="Symbol">→</a> <a id="2360" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1330" class="Bound">Γ</a> <a id="2362" href="Ledger.Conway.Specification.Ledger.html#3836" class="Datatype Operator">⊢</a> <a id="2364" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1367" class="Bound">s</a> <a id="2366" href="Ledger.Conway.Specification.Ledger.html#3836" class="Datatype Operator">⇀⦇</a> <a id="2369" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1406" class="Bound">tx</a> <a id="2372" href="Ledger.Conway.Specification.Ledger.html#3836" class="Datatype Operator">,LEDGER⦈</a> <a id="2381" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2355" class="Bound">s&#39;</a> <a id="2384" class="Symbol">→</a> <a id="2386" class="Symbol">(</a><a id="2387" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2393" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="2397" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1748" class="Function">computeProof</a><a id="2409" class="Symbol">)</a> <a id="2411" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2413" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2421" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2355" class="Bound">s&#39;</a>
      <a id="2430" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2338" class="Function">completeness</a> <a id="2443" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2443" class="Bound">ledgerSt</a> <a id="2452" class="Symbol">(</a><a id="2453" href="Ledger.Conway.Specification.Ledger.html#4816" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2463" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2463" class="Bound">v</a> <a id="2465" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2465" class="Bound">utxoStep</a> <a id="2474" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2474" class="Bound">certStep</a> <a id="2483" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2483" class="Bound">govStep</a><a id="2490" class="Symbol">)</a>
        <a id="2500" class="Keyword">with</a> <a id="2505" href="Ledger.Conway.Specification.Transaction.html#4772" class="Field">isValid</a> <a id="2513" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="2515" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="2526" class="Symbol">...</a> <a id="2530" class="Symbol">|</a> <a id="2532" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2535" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2535" class="Bound">¬v</a> <a id="2538" class="Symbol">=</a> <a id="2540" href="Relation.Nullary.Negation.Core.html#1289" class="Function">contradiction</a> <a id="2554" class="Bound">v</a> <a id="2556" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2535" class="Bound">¬v</a>
      <a id="2565" class="Symbol">...</a> <a id="2569" class="Symbol">|</a> <a id="2571" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="2575" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2588" class="Keyword">with</a> <a id="2593" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1172" class="Function">computeUtxow</a> <a id="2606" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1493" class="Function">utxoΓ</a> <a id="2612" href="Ledger.Conway.Specification.Ledger.html#1050" class="Field">utxoSt</a> <a id="2619" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1406" class="Bound">tx</a> <a id="2622" class="Symbol">|</a> <a id="2624" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1158" class="Field">complete</a> <a id="2633" class="Symbol">_</a> <a id="2635" class="Symbol">_</a> <a id="2637" class="Symbol">_</a> <a id="2639" class="Symbol">_</a> <a id="2641" class="Bound">utxoStep</a>
      <a id="2656" class="Symbol">...</a> <a id="2660" class="Symbol">|</a> <a id="2662" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2670" class="Symbol">(</a><a id="2671" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2671" class="Bound">utxoSt&#39;</a> <a id="2679" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2681" class="Symbol">_)</a> <a id="2684" class="Symbol">|</a> <a id="2686" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2699" class="Keyword">with</a> <a id="2704" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1219" class="Function">computeCerts</a> <a id="2717" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1535" class="Function">certΓ</a> <a id="2723" href="Ledger.Conway.Specification.Ledger.html#1103" class="Field">certState</a> <a id="2733" href="Ledger.Conway.Specification.Transaction.html#3200" class="Function">txCerts</a> <a id="2741" class="Symbol">|</a> <a id="2743" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1158" class="Field">complete</a> <a id="2752" class="Symbol">_</a> <a id="2754" class="Symbol">_</a> <a id="2756" class="Symbol">_</a> <a id="2758" class="Symbol">_</a> <a id="2760" class="Bound">certStep</a>
      <a id="2775" class="Symbol">...</a> <a id="2779" class="Symbol">|</a> <a id="2781" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2789" class="Symbol">(</a><a id="2790" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2790" class="Bound">certSt&#39;</a> <a id="2798" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2800" class="Symbol">_)</a> <a id="2803" class="Symbol">|</a> <a id="2805" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2818" class="Keyword">with</a> <a id="2823" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1266" class="Function">computeGov</a> <a id="2834" class="Symbol">(</a><a id="2835" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1617" class="Function">govΓ</a> <a id="2840" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2790" class="Bound">certSt&#39;</a><a id="2847" class="Symbol">)</a> <a id="2849" class="Symbol">(</a><a id="2850" href="Ledger.Conway.Specification.Ledger.html#2907" class="Function">rmOrphanDRepVotes</a> <a id="2868" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2790" class="Bound">certSt&#39;</a> <a id="2876" href="Ledger.Conway.Specification.Ledger.html#1077" class="Field">govSt</a> <a id="2882" class="Symbol">)</a> <a id="2884" class="Symbol">(</a><a id="2885" href="Ledger.Conway.Specification.Ledger.html#2777" class="Function">txgov</a> <a id="2891" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1452" class="Field">txb</a><a id="2894" class="Symbol">)</a>
             <a id="2909" class="Symbol">|</a> <a id="2911" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1158" class="Field">complete</a> <a id="2920" class="Symbol">{</a><a id="2921" class="Argument">STS</a> <a id="2925" class="Symbol">=</a> <a id="2927" href="Ledger.Conway.Specification.Gov.html#16525" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="2940" class="Symbol">}</a> <a id="2942" class="Symbol">(</a><a id="2943" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1617" class="Function">govΓ</a> <a id="2948" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2790" class="Bound">certSt&#39;</a><a id="2955" class="Symbol">)</a> <a id="2957" class="Symbol">_</a> <a id="2959" class="Symbol">_</a> <a id="2961" class="Symbol">_</a> <a id="2963" class="Bound">govStep</a>
      <a id="2977" class="Symbol">...</a> <a id="2981" class="Symbol">|</a> <a id="2983" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2991" class="Symbol">(</a><a id="2992" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2992" class="Bound">govSt&#39;</a> <a id="2999" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3001" class="Symbol">_)</a> <a id="3004" class="Symbol">|</a> <a id="3006" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3011" class="Symbol">=</a> <a id="3013" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="3024" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2338" class="Function">completeness</a> <a id="3037" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3037" class="Bound">ledgerSt</a> <a id="3046" class="Symbol">(</a><a id="3047" href="Ledger.Conway.Specification.Ledger.html#4869" class="InductiveConstructor">LEDGER-I⋯</a> <a id="3057" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3057" class="Bound">i</a> <a id="3059" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3059" class="Bound">utxoStep</a><a id="3067" class="Symbol">)</a>
        <a id="3077" class="Keyword">with</a> <a id="3082" href="Ledger.Conway.Specification.Transaction.html#4772" class="Field">isValid</a> <a id="3090" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="3092" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3103" class="Symbol">...</a> <a id="3107" class="Symbol">|</a> <a id="3109" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="3113" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3118" class="Symbol">=</a> <a id="3120" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="3125" class="Bound">i</a> <a id="3127" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="3130" class="Symbol">λ</a> <a id="3132" class="Symbol">()</a>
      <a id="3141" class="Symbol">...</a> <a id="3145" class="Symbol">|</a> <a id="3147" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3150" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3150" class="Bound">¬v</a>
        <a id="3161" class="Keyword">with</a> <a id="3166" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1172" class="Function">computeUtxow</a> <a id="3179" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1493" class="Function">utxoΓ</a> <a id="3185" href="Ledger.Conway.Specification.Ledger.html#1050" class="Field">utxoSt</a> <a id="3192" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1406" class="Bound">tx</a> <a id="3195" class="Symbol">|</a> <a id="3197" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1158" class="Field">complete</a> <a id="3206" class="Symbol">_</a> <a id="3208" class="Symbol">_</a> <a id="3210" class="Symbol">_</a> <a id="3212" class="Symbol">_</a> <a id="3214" class="Bound">utxoStep</a>
      <a id="3229" class="Symbol">...</a> <a id="3233" class="Symbol">|</a> <a id="3235" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="3243" class="Symbol">(</a><a id="3244" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3244" class="Bound">utxoSt&#39;</a> <a id="3252" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3254" class="Symbol">_)</a> <a id="3257" class="Symbol">|</a> <a id="3259" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3264" class="Symbol">=</a> <a id="3266" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="Computational-LEDGERS"></a><a id="3272" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3272" class="Function">Computational-LEDGERS</a> <a id="3294" class="Symbol">:</a> <a id="3296" href="Interface.ComputationalRelation.html#2804" class="Record">Computational</a> <a id="3310" href="Ledger.Conway.Specification.Ledger.html#4908" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="3327" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="3334" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3272" class="Function">Computational-LEDGERS</a> <a id="3356" class="Symbol">=</a> <a id="3358" href="Function.Base.html#4755" class="Function">it</a>

</pre></body></html>