<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Ledger.Properties.Computational</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="75" class="Keyword">open</a> <a id="80" class="Keyword">import</a> <a id="87" href="Ledger.Core.Specification.Transaction.html" class="Module">Ledger.Core.Specification.Transaction</a>

<a id="126" class="Keyword">module</a> <a id="133" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Ledger.Properties.Computational</a>
  <a id="195" class="Symbol">(</a><a id="196" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a> <a id="200" class="Symbol">:</a> <a id="202" href="Ledger.Core.Specification.Transaction.html#896" class="Record">TransactionStructure</a><a id="222" class="Symbol">)</a> <a id="224" class="Symbol">(</a><a id="225" class="Keyword">open</a> <a id="230" href="Ledger.Core.Specification.Transaction.html#896" class="Module">TransactionStructure</a> <a id="251" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a><a id="254" class="Symbol">)</a>
  <a id="258" class="Symbol">(</a><a id="259" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#259" class="Bound">abs</a> <a id="263" class="Symbol">:</a> <a id="265" href="Ledger.Conway.Specification.Abstract.html#653" class="Record">AbstractFunctions</a> <a id="283" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a><a id="286" class="Symbol">)</a>
  <a id="290" class="Keyword">where</a>

<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>

<a id="325" class="Keyword">open</a> <a id="330" class="Keyword">import</a> <a id="337" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="371" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Ledger.Conway.Specification.Certs.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Certs.Properties.Computational</a> <a id="455" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a>
<a id="468" class="Keyword">open</a> <a id="473" class="Keyword">import</a> <a id="480" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="512" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a>
<a id="516" class="Keyword">open</a> <a id="521" class="Keyword">import</a> <a id="528" href="Ledger.Conway.Specification.Gov.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Gov.Properties.Computational</a> <a id="585" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="636" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a> <a id="640" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#259" class="Bound">abs</a>
<a id="644" class="Keyword">open</a> <a id="649" class="Keyword">import</a> <a id="656" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="696" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a> <a id="700" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#259" class="Bound">abs</a>
<a id="704" class="Keyword">open</a> <a id="709" class="Keyword">import</a> <a id="716" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="749" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a> <a id="753" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#259" class="Bound">abs</a>
<a id="757" class="Keyword">open</a> <a id="762" class="Keyword">import</a> <a id="769" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="803" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a> <a id="807" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#259" class="Bound">abs</a>
<a id="811" class="Keyword">open</a> <a id="816" class="Keyword">import</a> <a id="823" href="Ledger.Conway.Specification.Utxow.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Utxow.Properties.Computational</a> <a id="882" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#196" class="Bound">txs</a> <a id="886" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#259" class="Bound">abs</a>

<a id="891" class="Keyword">open</a> <a id="896" class="Keyword">import</a> <a id="903" href="Data.Bool.Properties.html" class="Module">Data.Bool.Properties</a> <a id="924" class="Keyword">using</a> <a id="930" class="Symbol">(</a><a id="931" href="Data.Bool.Properties.html#15875" class="Function">¬-not</a><a id="936" class="Symbol">)</a>


<a id="940" class="Keyword">instance</a>
  <a id="951" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#951" class="Function">_</a> <a id="953" class="Symbol">=</a> <a id="955" href="Interface.ComputationalRelation.html#1831" class="Function">Monad-ComputationResult</a>

  <a id="Computational-LEDGER"></a><a id="982" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#982" class="Function">Computational-LEDGER</a> <a id="1003" class="Symbol">:</a> <a id="1005" href="Interface.ComputationalRelation.html#2804" class="Record">Computational</a> <a id="1019" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="1035" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1044" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#982" class="Function">Computational-LEDGER</a> <a id="1065" class="Symbol">=</a> <a id="1067" class="Keyword">record</a> <a id="1074" class="Symbol">{</a><a id="1075" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1328" class="Module">go</a><a id="1077" class="Symbol">}</a>
    <a id="1083" class="Keyword">where</a>
    <a id="1093" class="Keyword">open</a> <a id="1098" href="Interface.ComputationalRelation.html#2804" class="Module">Computational</a> <a id="1112" class="Symbol">⦃...⦄</a> <a id="1118" class="Keyword">renaming</a> <a id="1127" class="Symbol">(</a><a id="1128" href="Interface.ComputationalRelation.html#2884" class="Field">computeProof</a> <a id="1141" class="Symbol">to</a> <a id="1144" class="Field">comp</a><a id="1148" class="Symbol">;</a> <a id="1150" href="Interface.ComputationalRelation.html#3101" class="Field">completeness</a> <a id="1163" class="Symbol">to</a> <a id="1166" class="Field">complete</a><a id="1174" class="Symbol">)</a>
    <a id="1180" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1180" class="Function">computeUtxow</a> <a id="1193" class="Symbol">=</a> <a id="1195" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1144" class="Field">comp</a> <a id="1200" class="Symbol">{</a><a id="1201" class="Argument">STS</a> <a id="1205" class="Symbol">=</a> <a id="1207" href="Ledger.Conway.Specification.Utxow.html#2984" class="Datatype Operator">_⊢_⇀⦇_,UTXOW⦈_</a><a id="1221" class="Symbol">}</a>
    <a id="1227" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1227" class="Function">computeCerts</a> <a id="1240" class="Symbol">=</a> <a id="1242" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1144" class="Field">comp</a> <a id="1247" class="Symbol">{</a><a id="1248" class="Argument">STS</a> <a id="1252" class="Symbol">=</a> <a id="1254" href="Ledger.Conway.Specification.Certs.html#12480" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a><a id="1268" class="Symbol">}</a>
    <a id="1274" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1274" class="Function">computeGov</a>   <a id="1287" class="Symbol">=</a> <a id="1289" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1144" class="Field">comp</a> <a id="1294" class="Symbol">{</a><a id="1295" class="Argument">STS</a> <a id="1299" class="Symbol">=</a> <a id="1301" href="Ledger.Conway.Specification.Gov.html#16519" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="1314" class="Symbol">}</a>

    <a id="1321" class="Keyword">module</a> <a id="1328" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1328" class="Module">go</a>
      <a id="1337" class="Symbol">(</a><a id="1338" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1338" class="Bound">Γ</a> <a id="1340" class="Symbol">:</a> <a id="1342" href="Ledger.Conway.Specification.Ledger.html#733" class="Record">LEnv</a><a id="1346" class="Symbol">)</a>   <a id="1350" class="Symbol">(</a><a id="1351" class="Keyword">let</a> <a id="1355" class="Keyword">open</a> <a id="1360" href="Ledger.Conway.Specification.Ledger.html#733" class="Module">LEnv</a> <a id="1365" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1338" class="Bound">Γ</a><a id="1366" class="Symbol">)</a>
      <a id="1374" class="Symbol">(</a><a id="1375" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1375" class="Bound">s</a> <a id="1377" class="Symbol">:</a> <a id="1379" href="Ledger.Conway.Specification.Ledger.html#999" class="Record">LState</a><a id="1385" class="Symbol">)</a> <a id="1387" class="Symbol">(</a><a id="1388" class="Keyword">let</a> <a id="1392" class="Keyword">open</a> <a id="1397" href="Ledger.Conway.Specification.Ledger.html#999" class="Module">LState</a> <a id="1404" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1375" class="Bound">s</a><a id="1405" class="Symbol">)</a>
      <a id="1413" class="Symbol">(</a><a id="1414" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1414" class="Bound">tx</a> <a id="1417" class="Symbol">:</a> <a id="1419" href="Ledger.Conway.Specification.Transaction.html#1721" class="Record">Tx</a><a id="1421" class="Symbol">)</a>    <a id="1426" class="Symbol">(</a><a id="1427" class="Keyword">let</a> <a id="1431" class="Keyword">open</a> <a id="1436" href="Ledger.Conway.Specification.Transaction.html#1721" class="Module">Tx</a> <a id="1439" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1414" class="Bound">tx</a> <a id="1442" class="Keyword">renaming</a> <a id="1451" class="Symbol">(</a><a id="1452" href="Ledger.Conway.Specification.Transaction.html#1749" class="Field">body</a> <a id="1457" class="Symbol">to</a> <a id="1460" class="Field">txb</a><a id="1463" class="Symbol">);</a> <a id="1466" class="Keyword">open</a> <a id="1471" href="Ledger.Conway.Specification.Transaction.html#352" class="Module">TxBody</a> <a id="1478" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1460" class="Field">txb</a><a id="1481" class="Symbol">)</a>
      <a id="1489" class="Keyword">where</a>
      <a id="1501" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1501" class="Function">utxoΓ</a> <a id="1507" class="Symbol">=</a> <a id="1509" href="Ledger.Conway.Specification.Utxo.html#1199" class="Record">UTxOEnv</a> <a id="1517" href="Function.Base.html#4505" class="Function Operator">∋</a> <a id="1519" class="Keyword">record</a> <a id="1526" class="Symbol">{</a> <a id="1528" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1528" class="Module">LEnv</a> <a id="1533" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1338" class="Bound">Γ</a> <a id="1535" class="Symbol">}</a>
      <a id="1543" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1543" class="Function">certΓ</a> <a id="1549" class="Symbol">=</a> <a id="1551" href="Ledger.Conway.Specification.Certs.html#3724" class="Record">CertEnv</a> <a id="1559" href="Function.Base.html#4505" class="Function Operator">∋</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{1563}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#763}{\htmlId{1569}{\htmlClass{Field}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#821}{\htmlId{1576}{\htmlClass{Field}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#793}{\htmlId{1586}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#626}{\htmlId{1599}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\htmlId{1615}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a>
      <a id="1625" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1625" class="Function">govΓ</a> <a id="1630" class="Symbol">:</a> <a id="1632" href="Ledger.Conway.Specification.Certs.html#4287" class="Record">CertState</a> <a id="1642" class="Symbol">→</a> <a id="1644" href="Ledger.Conway.Specification.Gov.html#1648" class="Record">GovEnv</a>
      <a id="1657" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1625" class="Function">govΓ</a> <a id="1662" class="Symbol">=</a> <a id="1664" class="Symbol">λ</a> <a id="1666" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1666" class="Bound">certState</a> <a id="1676" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Transaction.html#524}{\htmlId{1680}{\htmlClass{Function}{\text{txId}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{1687}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#763}{\htmlId{1693}{\htmlClass{Field}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#821}{\htmlId{1700}{\htmlClass{Field}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#786}{\htmlId{1710}{\htmlClass{Field}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#847}{\htmlId{1720}{\htmlClass{Field}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.Computational.html#1666}{\htmlId{1733}{\htmlClass{Bound}{\text{certState}}}}\, \\ \,\htmlId{1745}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a>

      <a id="1756" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1756" class="Function">computeProof</a> <a id="1769" class="Symbol">:</a> <a id="1771" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="1789" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1796" class="Symbol">(</a><a id="1797" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="1800" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1800" class="Bound">s&#39;</a> <a id="1803" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="1805" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1338" class="Bound">Γ</a> <a id="1807" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">⊢</a> <a id="1809" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1375" class="Bound">s</a> <a id="1811" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">⇀⦇</a> <a id="1814" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1414" class="Bound">tx</a> <a id="1817" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">,LEDGER⦈</a> <a id="1826" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1800" class="Bound">s&#39;</a><a id="1828" class="Symbol">)</a>
      <a id="1836" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1756" class="Function">computeProof</a> <a id="1849" class="Symbol">=</a> <a id="1851" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="1856" href="Ledger.Conway.Specification.Transaction.html#1815" class="Field">isValid</a> <a id="1864" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="1866" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="1871" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="1874" class="Symbol">λ</a> <a id="1876" class="Keyword">where</a>
        <a id="1890" class="Symbol">(</a><a id="1891" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="1895" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1895" class="Bound">p</a><a id="1896" class="Symbol">)</a> <a id="1898" class="Symbol">→</a> <a id="1900" class="Keyword">do</a>
          <a id="1913" class="Symbol">(</a><a id="1914" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1914" class="Bound">utxoSt&#39;</a> <a id="1922" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1924" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1924" class="Bound">utxoStep</a><a id="1932" class="Symbol">)</a> <a id="1934" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="1936" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1180" class="Function">computeUtxow</a> <a id="1949" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1501" class="Function">utxoΓ</a> <a id="1955" href="Ledger.Conway.Specification.Ledger.html#1058" class="Field">utxoSt</a> <a id="1962" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1414" class="Bound">tx</a>
          <a id="1975" class="Symbol">(</a><a id="1976" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1976" class="Bound">certSt&#39;</a> <a id="1984" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1986" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1986" class="Bound">certStep</a><a id="1994" class="Symbol">)</a> <a id="1996" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="1998" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1227" class="Function">computeCerts</a> <a id="2011" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1543" class="Function">certΓ</a> <a id="2017" href="Ledger.Conway.Specification.Ledger.html#1111" class="Field">certState</a> <a id="2027" href="Ledger.Conway.Specification.Transaction.html#556" class="Function">txCerts</a>
          <a id="2045" class="Symbol">(</a><a id="2046" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2046" class="Bound">govSt&#39;</a>  <a id="2054" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2056" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2056" class="Bound">govStep</a><a id="2063" class="Symbol">)</a>  <a id="2066" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2068" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1274" class="Function">computeGov</a> <a id="2079" class="Symbol">(</a><a id="2080" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1625" class="Function">govΓ</a> <a id="2085" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1976" class="Bound">certSt&#39;</a><a id="2092" class="Symbol">)</a> <a id="2094" class="Symbol">(</a><a id="2095" href="Ledger.Conway.Specification.Ledger.html#2915" class="Function">rmOrphanDRepVotes</a> <a id="2113" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1976" class="Bound">certSt&#39;</a> <a id="2121" href="Ledger.Conway.Specification.Ledger.html#1085" class="Field">govSt</a><a id="2126" class="Symbol">)</a> <a id="2128" class="Symbol">(</a><a id="2129" href="Ledger.Conway.Specification.Ledger.html#2785" class="Function">txgov</a> <a id="2135" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1460" class="Field">txb</a><a id="2138" class="Symbol">)</a>
          <a id="2150" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2158" class="Symbol">(_</a> <a id="2161" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2163" href="Ledger.Conway.Specification.Ledger.html#4824" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2173" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1895" class="Bound">p</a> <a id="2175" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1924" class="Bound">utxoStep</a> <a id="2184" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1986" class="Bound">certStep</a> <a id="2193" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2056" class="Bound">govStep</a><a id="2200" class="Symbol">)</a>
        <a id="2210" class="Symbol">(</a><a id="2211" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2214" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2214" class="Bound">¬p</a><a id="2216" class="Symbol">)</a> <a id="2218" class="Symbol">→</a> <a id="2220" class="Keyword">do</a>
          <a id="2233" class="Symbol">(</a><a id="2234" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2234" class="Bound">utxoSt&#39;</a> <a id="2242" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2244" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2244" class="Bound">utxoStep</a><a id="2252" class="Symbol">)</a> <a id="2254" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2256" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1180" class="Function">computeUtxow</a> <a id="2269" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1501" class="Function">utxoΓ</a> <a id="2275" href="Ledger.Conway.Specification.Ledger.html#1058" class="Field">utxoSt</a> <a id="2282" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1414" class="Bound">tx</a>
          <a id="2295" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2303" class="Symbol">(_</a> <a id="2306" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2308" href="Ledger.Conway.Specification.Ledger.html#4877" class="InductiveConstructor">LEDGER-I⋯</a> <a id="2318" class="Symbol">(</a><a id="2319" href="Data.Bool.Properties.html#15875" class="Function">¬-not</a> <a id="2325" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2214" class="Bound">¬p</a><a id="2327" class="Symbol">)</a> <a id="2329" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2244" class="Bound">utxoStep</a><a id="2337" class="Symbol">)</a>

      <a id="2346" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2346" class="Function">completeness</a> <a id="2359" class="Symbol">:</a> <a id="2361" class="Symbol">∀</a> <a id="2363" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2363" class="Bound">s&#39;</a> <a id="2366" class="Symbol">→</a> <a id="2368" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1338" class="Bound">Γ</a> <a id="2370" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">⊢</a> <a id="2372" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1375" class="Bound">s</a> <a id="2374" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">⇀⦇</a> <a id="2377" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1414" class="Bound">tx</a> <a id="2380" href="Ledger.Conway.Specification.Ledger.html#3844" class="Datatype Operator">,LEDGER⦈</a> <a id="2389" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2363" class="Bound">s&#39;</a> <a id="2392" class="Symbol">→</a> <a id="2394" class="Symbol">(</a><a id="2395" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2401" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="2405" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1756" class="Function">computeProof</a><a id="2417" class="Symbol">)</a> <a id="2419" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2421" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2429" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2363" class="Bound">s&#39;</a>
      <a id="2438" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2346" class="Function">completeness</a> <a id="2451" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2451" class="Bound">ledgerSt</a> <a id="2460" class="Symbol">(</a><a id="2461" href="Ledger.Conway.Specification.Ledger.html#4824" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2471" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2471" class="Bound">v</a> <a id="2473" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2473" class="Bound">utxoStep</a> <a id="2482" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2482" class="Bound">certStep</a> <a id="2491" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2491" class="Bound">govStep</a><a id="2498" class="Symbol">)</a>
        <a id="2508" class="Keyword">with</a> <a id="2513" href="Ledger.Conway.Specification.Transaction.html#1815" class="Field">isValid</a> <a id="2521" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="2523" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="2534" class="Symbol">...</a> <a id="2538" class="Symbol">|</a> <a id="2540" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2543" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2543" class="Bound">¬v</a> <a id="2546" class="Symbol">=</a> <a id="2548" href="Relation.Nullary.Negation.Core.html#1289" class="Function">contradiction</a> <a id="2562" class="Bound">v</a> <a id="2564" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2543" class="Bound">¬v</a>
      <a id="2573" class="Symbol">...</a> <a id="2577" class="Symbol">|</a> <a id="2579" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="2583" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2596" class="Keyword">with</a> <a id="2601" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1180" class="Function">computeUtxow</a> <a id="2614" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1501" class="Function">utxoΓ</a> <a id="2620" href="Ledger.Conway.Specification.Ledger.html#1058" class="Field">utxoSt</a> <a id="2627" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1414" class="Bound">tx</a> <a id="2630" class="Symbol">|</a> <a id="2632" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1166" class="Field">complete</a> <a id="2641" class="Symbol">_</a> <a id="2643" class="Symbol">_</a> <a id="2645" class="Symbol">_</a> <a id="2647" class="Symbol">_</a> <a id="2649" class="Bound">utxoStep</a>
      <a id="2664" class="Symbol">...</a> <a id="2668" class="Symbol">|</a> <a id="2670" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2678" class="Symbol">(</a><a id="2679" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2679" class="Bound">utxoSt&#39;</a> <a id="2687" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2689" class="Symbol">_)</a> <a id="2692" class="Symbol">|</a> <a id="2694" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2707" class="Keyword">with</a> <a id="2712" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1227" class="Function">computeCerts</a> <a id="2725" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1543" class="Function">certΓ</a> <a id="2731" href="Ledger.Conway.Specification.Ledger.html#1111" class="Field">certState</a> <a id="2741" href="Ledger.Conway.Specification.Transaction.html#556" class="Function">txCerts</a> <a id="2749" class="Symbol">|</a> <a id="2751" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1166" class="Field">complete</a> <a id="2760" class="Symbol">_</a> <a id="2762" class="Symbol">_</a> <a id="2764" class="Symbol">_</a> <a id="2766" class="Symbol">_</a> <a id="2768" class="Bound">certStep</a>
      <a id="2783" class="Symbol">...</a> <a id="2787" class="Symbol">|</a> <a id="2789" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2797" class="Symbol">(</a><a id="2798" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2798" class="Bound">certSt&#39;</a> <a id="2806" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2808" class="Symbol">_)</a> <a id="2811" class="Symbol">|</a> <a id="2813" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2826" class="Keyword">with</a> <a id="2831" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1274" class="Function">computeGov</a> <a id="2842" class="Symbol">(</a><a id="2843" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1625" class="Function">govΓ</a> <a id="2848" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2798" class="Bound">certSt&#39;</a><a id="2855" class="Symbol">)</a> <a id="2857" class="Symbol">(</a><a id="2858" href="Ledger.Conway.Specification.Ledger.html#2915" class="Function">rmOrphanDRepVotes</a> <a id="2876" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2798" class="Bound">certSt&#39;</a> <a id="2884" href="Ledger.Conway.Specification.Ledger.html#1085" class="Field">govSt</a> <a id="2890" class="Symbol">)</a> <a id="2892" class="Symbol">(</a><a id="2893" href="Ledger.Conway.Specification.Ledger.html#2785" class="Function">txgov</a> <a id="2899" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1460" class="Field">txb</a><a id="2902" class="Symbol">)</a>
             <a id="2917" class="Symbol">|</a> <a id="2919" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1166" class="Field">complete</a> <a id="2928" class="Symbol">{</a><a id="2929" class="Argument">STS</a> <a id="2933" class="Symbol">=</a> <a id="2935" href="Ledger.Conway.Specification.Gov.html#16519" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="2948" class="Symbol">}</a> <a id="2950" class="Symbol">(</a><a id="2951" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1625" class="Function">govΓ</a> <a id="2956" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2798" class="Bound">certSt&#39;</a><a id="2963" class="Symbol">)</a> <a id="2965" class="Symbol">_</a> <a id="2967" class="Symbol">_</a> <a id="2969" class="Symbol">_</a> <a id="2971" class="Bound">govStep</a>
      <a id="2985" class="Symbol">...</a> <a id="2989" class="Symbol">|</a> <a id="2991" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2999" class="Symbol">(</a><a id="3000" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3000" class="Bound">govSt&#39;</a> <a id="3007" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3009" class="Symbol">_)</a> <a id="3012" class="Symbol">|</a> <a id="3014" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3019" class="Symbol">=</a> <a id="3021" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="3032" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2346" class="Function">completeness</a> <a id="3045" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3045" class="Bound">ledgerSt</a> <a id="3054" class="Symbol">(</a><a id="3055" href="Ledger.Conway.Specification.Ledger.html#4877" class="InductiveConstructor">LEDGER-I⋯</a> <a id="3065" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3065" class="Bound">i</a> <a id="3067" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3067" class="Bound">utxoStep</a><a id="3075" class="Symbol">)</a>
        <a id="3085" class="Keyword">with</a> <a id="3090" href="Ledger.Conway.Specification.Transaction.html#1815" class="Field">isValid</a> <a id="3098" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="3100" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3111" class="Symbol">...</a> <a id="3115" class="Symbol">|</a> <a id="3117" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="3121" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3126" class="Symbol">=</a> <a id="3128" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="3133" class="Bound">i</a> <a id="3135" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="3138" class="Symbol">λ</a> <a id="3140" class="Symbol">()</a>
      <a id="3149" class="Symbol">...</a> <a id="3153" class="Symbol">|</a> <a id="3155" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3158" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3158" class="Bound">¬v</a>
        <a id="3169" class="Keyword">with</a> <a id="3174" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1180" class="Function">computeUtxow</a> <a id="3187" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1501" class="Function">utxoΓ</a> <a id="3193" href="Ledger.Conway.Specification.Ledger.html#1058" class="Field">utxoSt</a> <a id="3200" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1414" class="Bound">tx</a> <a id="3203" class="Symbol">|</a> <a id="3205" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1166" class="Field">complete</a> <a id="3214" class="Symbol">_</a> <a id="3216" class="Symbol">_</a> <a id="3218" class="Symbol">_</a> <a id="3220" class="Symbol">_</a> <a id="3222" class="Bound">utxoStep</a>
      <a id="3237" class="Symbol">...</a> <a id="3241" class="Symbol">|</a> <a id="3243" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="3251" class="Symbol">(</a><a id="3252" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3252" class="Bound">utxoSt&#39;</a> <a id="3260" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3262" class="Symbol">_)</a> <a id="3265" class="Symbol">|</a> <a id="3267" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3272" class="Symbol">=</a> <a id="3274" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="Computational-LEDGERS"></a><a id="3280" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3280" class="Function">Computational-LEDGERS</a> <a id="3302" class="Symbol">:</a> <a id="3304" href="Interface.ComputationalRelation.html#2804" class="Record">Computational</a> <a id="3318" href="Ledger.Conway.Specification.Ledger.html#4916" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="3335" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="3342" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3280" class="Function">Computational-LEDGERS</a> <a id="3364" class="Symbol">=</a> <a id="3366" href="Function.Base.html#4755" class="Function">it</a>

</pre></body></html>