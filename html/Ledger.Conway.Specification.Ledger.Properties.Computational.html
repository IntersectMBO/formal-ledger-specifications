<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Ledger.Properties.Computational</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="78" class="Keyword">open</a> <a id="83" class="Keyword">import</a> <a id="90" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="127" class="Keyword">import</a> <a id="134" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a>

<a id="169" class="Keyword">module</a> <a id="176" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Ledger.Properties.Computational</a>
  <a id="238" class="Symbol">(</a><a id="239" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#239" class="Bound">txs</a> <a id="243" class="Symbol">:</a> <a id="245" class="Symbol">_)</a> <a id="248" class="Symbol">(</a><a id="249" class="Keyword">open</a> <a id="254" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="275" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#239" class="Bound">txs</a><a id="278" class="Symbol">)</a> <a id="280" class="Symbol">(</a><a id="281" class="Keyword">open</a> <a id="286" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="320" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a><a id="332" class="Symbol">)</a>
  <a id="336" class="Symbol">(</a><a id="337" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#337" class="Bound">abs</a> <a id="341" class="Symbol">:</a> <a id="343" href="Ledger.Conway.Specification.Abstract.html#830" class="Record">AbstractFunctions</a> <a id="361" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#239" class="Bound">txs</a><a id="364" class="Symbol">)</a> <a id="366" class="Symbol">(</a><a id="367" class="Keyword">open</a> <a id="372" href="Ledger.Conway.Specification.Abstract.html#830" class="Module">AbstractFunctions</a> <a id="390" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#337" class="Bound">abs</a><a id="393" class="Symbol">)</a>
  <a id="397" class="Keyword">where</a>

<a id="404" class="Keyword">open</a> <a id="409" class="Keyword">import</a> <a id="416" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="431" class="Keyword">open</a> <a id="436" class="Keyword">import</a> <a id="443" href="Ledger.Conway.Specification.Certs.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Certs.Properties.Computational</a> <a id="502" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a>
<a id="515" class="Keyword">open</a> <a id="520" class="Keyword">import</a> <a id="527" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="559" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a>
<a id="572" class="Keyword">open</a> <a id="577" class="Keyword">import</a> <a id="584" href="Ledger.Conway.Specification.Gov.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Gov.Properties.Computational</a> <a id="641" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#239" class="Bound">txs</a>
<a id="645" class="Keyword">open</a> <a id="650" class="Keyword">import</a> <a id="657" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="692" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#239" class="Bound">txs</a> <a id="696" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#337" class="Bound">abs</a>
<a id="700" class="Keyword">open</a> <a id="705" class="Keyword">import</a> <a id="712" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="745" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#239" class="Bound">txs</a> <a id="749" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#337" class="Bound">abs</a>
<a id="753" class="Keyword">open</a> <a id="758" class="Keyword">import</a> <a id="765" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="799" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#239" class="Bound">txs</a> <a id="803" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#337" class="Bound">abs</a>
<a id="807" class="Keyword">open</a> <a id="812" class="Keyword">import</a> <a id="819" href="Ledger.Conway.Specification.Utxow.Properties.Computational.html" class="Module">Ledger.Conway.Specification.Utxow.Properties.Computational</a> <a id="878" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#239" class="Bound">txs</a> <a id="882" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#337" class="Bound">abs</a>

<a id="887" class="Keyword">open</a> <a id="892" class="Keyword">import</a> <a id="899" href="Data.Bool.Properties.html" class="Module">Data.Bool.Properties</a> <a id="920" class="Keyword">using</a> <a id="926" class="Symbol">(</a><a id="927" href="Data.Bool.Properties.html#15875" class="Function">¬-not</a><a id="932" class="Symbol">)</a>


<a id="936" class="Keyword">instance</a>
  <a id="947" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#947" class="Function">_</a> <a id="949" class="Symbol">=</a> <a id="951" href="Interface.ComputationalRelation.html#1831" class="Function">Monad-ComputationResult</a>

  <a id="Computational-LEDGER"></a><a id="978" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#978" class="Function">Computational-LEDGER</a> <a id="999" class="Symbol">:</a> <a id="1001" href="Interface.ComputationalRelation.html#2804" class="Record">Computational</a> <a id="1015" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="1031" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1040" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#978" class="Function">Computational-LEDGER</a> <a id="1061" class="Symbol">=</a> <a id="1063" class="Keyword">record</a> <a id="1070" class="Symbol">{</a><a id="1071" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1324" class="Module">go</a><a id="1073" class="Symbol">}</a>
    <a id="1079" class="Keyword">where</a>
    <a id="1089" class="Keyword">open</a> <a id="1094" href="Interface.ComputationalRelation.html#2804" class="Module">Computational</a> <a id="1108" class="Symbol">⦃...⦄</a> <a id="1114" class="Keyword">renaming</a> <a id="1123" class="Symbol">(</a><a id="1124" href="Interface.ComputationalRelation.html#2884" class="Field">computeProof</a> <a id="1137" class="Symbol">to</a> <a id="1140" class="Field">comp</a><a id="1144" class="Symbol">;</a> <a id="1146" href="Interface.ComputationalRelation.html#3101" class="Field">completeness</a> <a id="1159" class="Symbol">to</a> <a id="1162" class="Field">complete</a><a id="1170" class="Symbol">)</a>
    <a id="1176" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1176" class="Function">computeUtxow</a> <a id="1189" class="Symbol">=</a> <a id="1191" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1140" class="Field">comp</a> <a id="1196" class="Symbol">{</a><a id="1197" class="Argument">STS</a> <a id="1201" class="Symbol">=</a> <a id="1203" href="Ledger.Conway.Specification.Utxow.html#2803" class="Datatype Operator">_⊢_⇀⦇_,UTXOW⦈_</a><a id="1217" class="Symbol">}</a>
    <a id="1223" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1223" class="Function">computeCerts</a> <a id="1236" class="Symbol">=</a> <a id="1238" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1140" class="Field">comp</a> <a id="1243" class="Symbol">{</a><a id="1244" class="Argument">STS</a> <a id="1248" class="Symbol">=</a> <a id="1250" href="Ledger.Conway.Specification.Certs.html#12345" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a><a id="1264" class="Symbol">}</a>
    <a id="1270" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1270" class="Function">computeGov</a>   <a id="1283" class="Symbol">=</a> <a id="1285" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1140" class="Field">comp</a> <a id="1290" class="Symbol">{</a><a id="1291" class="Argument">STS</a> <a id="1295" class="Symbol">=</a> <a id="1297" href="Ledger.Conway.Specification.Gov.html#16465" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="1310" class="Symbol">}</a>

    <a id="1317" class="Keyword">module</a> <a id="1324" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1324" class="Module">go</a>
      <a id="1333" class="Symbol">(</a><a id="1334" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1334" class="Bound">Γ</a> <a id="1336" class="Symbol">:</a> <a id="1338" href="Ledger.Conway.Specification.Ledger.html#722" class="Record">LEnv</a><a id="1342" class="Symbol">)</a>   <a id="1346" class="Symbol">(</a><a id="1347" class="Keyword">let</a> <a id="1351" class="Keyword">open</a> <a id="1356" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">LEnv</a> <a id="1361" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1334" class="Bound">Γ</a><a id="1362" class="Symbol">)</a>
      <a id="1370" class="Symbol">(</a><a id="1371" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1371" class="Bound">s</a> <a id="1373" class="Symbol">:</a> <a id="1375" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">LState</a><a id="1381" class="Symbol">)</a> <a id="1383" class="Symbol">(</a><a id="1384" class="Keyword">let</a> <a id="1388" class="Keyword">open</a> <a id="1393" href="Ledger.Conway.Specification.Ledger.html#988" class="Module">LState</a> <a id="1400" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1371" class="Bound">s</a><a id="1401" class="Symbol">)</a>
      <a id="1409" class="Symbol">(</a><a id="1410" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1410" class="Bound">tx</a> <a id="1413" class="Symbol">:</a> <a id="1415" href="Ledger.Conway.Specification.Transaction.html#4682" class="Record">Tx</a><a id="1417" class="Symbol">)</a>    <a id="1422" class="Symbol">(</a><a id="1423" class="Keyword">let</a> <a id="1427" class="Keyword">open</a> <a id="1432" href="Ledger.Conway.Specification.Transaction.html#4682" class="Module">Tx</a> <a id="1435" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1410" class="Bound">tx</a> <a id="1438" class="Keyword">renaming</a> <a id="1447" class="Symbol">(</a><a id="1448" href="Ledger.Conway.Specification.Transaction.html#4714" class="Field">body</a> <a id="1453" class="Symbol">to</a> <a id="1456" class="Field">txb</a><a id="1459" class="Symbol">);</a> <a id="1462" class="Keyword">open</a> <a id="1467" href="Ledger.Conway.Specification.Transaction.html#2996" class="Module">TxBody</a> <a id="1474" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1456" class="Field">txb</a><a id="1477" class="Symbol">)</a>
      <a id="1485" class="Keyword">where</a>
      <a id="1497" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1497" class="Function">utxoΓ</a> <a id="1503" class="Symbol">=</a> <a id="1505" href="Ledger.Conway.Specification.Utxo.html#1121" class="Record">UTxOEnv</a> <a id="1513" href="Function.Base.html#4505" class="Function Operator">∋</a> <a id="1515" class="Keyword">record</a> <a id="1522" class="Symbol">{</a> <a id="1524" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1524" class="Module">LEnv</a> <a id="1529" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1334" class="Bound">Γ</a> <a id="1531" class="Symbol">}</a>
      <a id="1539" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1539" class="Function">certΓ</a> <a id="1545" class="Symbol">=</a> <a id="1547" href="Ledger.Conway.Specification.Certs.html#3589" class="Record">CertEnv</a> <a id="1555" href="Function.Base.html#4505" class="Function Operator">∋</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{1559}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#752}{\htmlId{1565}{\htmlClass{Field}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#810}{\htmlId{1572}{\htmlClass{Field}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3463}{\htmlId{1582}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3288}{\htmlId{1595}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\htmlId{1611}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a>
      <a id="1621" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1621" class="Function">govΓ</a> <a id="1626" class="Symbol">:</a> <a id="1628" href="Ledger.Conway.Specification.Certs.html#4152" class="Record">CertState</a> <a id="1638" class="Symbol">→</a> <a id="1640" href="Ledger.Conway.Specification.Gov.html#1590" class="Record">GovEnv</a>
      <a id="1653" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1621" class="Function">govΓ</a> <a id="1658" class="Symbol">=</a> <a id="1660" class="Symbol">λ</a> <a id="1662" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1662" class="Bound">certState</a> <a id="1672" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Transaction.html#3180}{\htmlId{1676}{\htmlClass{Function}{\text{txId}}}}\, \\ \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{1683}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#752}{\htmlId{1689}{\htmlClass{Field}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#810}{\htmlId{1696}{\htmlClass{Field}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#775}{\htmlId{1706}{\htmlClass{Field}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#836}{\htmlId{1716}{\htmlClass{Field}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.Properties.Computational.html#1662}{\htmlId{1729}{\htmlClass{Bound}{\text{certState}}}}\, \\ \,\htmlId{1741}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a>

      <a id="1752" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1752" class="Function">computeProof</a> <a id="1765" class="Symbol">:</a> <a id="1767" href="Interface.ComputationalRelation.html#237" class="Datatype">ComputationResult</a> <a id="1785" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1792" class="Symbol">(</a><a id="1793" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="1796" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1796" class="Bound">s&#39;</a> <a id="1799" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="1801" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1334" class="Bound">Γ</a> <a id="1803" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⊢</a> <a id="1805" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1371" class="Bound">s</a> <a id="1807" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="1810" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1410" class="Bound">tx</a> <a id="1813" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a id="1822" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1796" class="Bound">s&#39;</a><a id="1824" class="Symbol">)</a>
      <a id="1832" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1752" class="Function">computeProof</a> <a id="1845" class="Symbol">=</a> <a id="1847" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="1852" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="1860" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="1862" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="1867" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="1870" class="Symbol">λ</a> <a id="1872" class="Keyword">where</a>
        <a id="1886" class="Symbol">(</a><a id="1887" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="1891" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1891" class="Bound">p</a><a id="1892" class="Symbol">)</a> <a id="1894" class="Symbol">→</a> <a id="1896" class="Keyword">do</a>
          <a id="1909" class="Symbol">(</a><a id="1910" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1910" class="Bound">utxoSt&#39;</a> <a id="1918" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1920" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1920" class="Bound">utxoStep</a><a id="1928" class="Symbol">)</a> <a id="1930" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="1932" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1176" class="Function">computeUtxow</a> <a id="1945" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1497" class="Function">utxoΓ</a> <a id="1951" href="Ledger.Conway.Specification.Ledger.html#1047" class="Field">utxoSt</a> <a id="1958" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1410" class="Bound">tx</a>
          <a id="1971" class="Symbol">(</a><a id="1972" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1972" class="Bound">certSt&#39;</a> <a id="1980" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1982" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1982" class="Bound">certStep</a><a id="1990" class="Symbol">)</a> <a id="1992" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="1994" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1223" class="Function">computeCerts</a> <a id="2007" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1539" class="Function">certΓ</a> <a id="2013" href="Ledger.Conway.Specification.Ledger.html#1100" class="Field">certState</a> <a id="2023" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a>
          <a id="2041" class="Symbol">(</a><a id="2042" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2042" class="Bound">govSt&#39;</a>  <a id="2050" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2052" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2052" class="Bound">govStep</a><a id="2059" class="Symbol">)</a>  <a id="2062" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2064" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1270" class="Function">computeGov</a> <a id="2075" class="Symbol">(</a><a id="2076" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1621" class="Function">govΓ</a> <a id="2081" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1972" class="Bound">certSt&#39;</a><a id="2088" class="Symbol">)</a> <a id="2090" class="Symbol">(</a><a id="2091" href="Ledger.Conway.Specification.Ledger.html#2904" class="Function">rmOrphanDRepVotes</a> <a id="2109" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1972" class="Bound">certSt&#39;</a> <a id="2117" href="Ledger.Conway.Specification.Ledger.html#1074" class="Field">govSt</a><a id="2122" class="Symbol">)</a> <a id="2124" class="Symbol">(</a><a id="2125" href="Ledger.Conway.Specification.Ledger.html#2774" class="Function">txgov</a> <a id="2131" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1456" class="Field">txb</a><a id="2134" class="Symbol">)</a>
          <a id="2146" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2154" class="Symbol">(_</a> <a id="2157" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2159" href="Ledger.Conway.Specification.Ledger.html#4813" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2169" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1891" class="Bound">p</a> <a id="2171" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1920" class="Bound">utxoStep</a> <a id="2180" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1982" class="Bound">certStep</a> <a id="2189" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2052" class="Bound">govStep</a><a id="2196" class="Symbol">)</a>
        <a id="2206" class="Symbol">(</a><a id="2207" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2210" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2210" class="Bound">¬p</a><a id="2212" class="Symbol">)</a> <a id="2214" class="Symbol">→</a> <a id="2216" class="Keyword">do</a>
          <a id="2229" class="Symbol">(</a><a id="2230" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2230" class="Bound">utxoSt&#39;</a> <a id="2238" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2240" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2240" class="Bound">utxoStep</a><a id="2248" class="Symbol">)</a> <a id="2250" href="Class.Monad.Core.html#337" class="Field Operator">←</a> <a id="2252" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1176" class="Function">computeUtxow</a> <a id="2265" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1497" class="Function">utxoΓ</a> <a id="2271" href="Ledger.Conway.Specification.Ledger.html#1047" class="Field">utxoSt</a> <a id="2278" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1410" class="Bound">tx</a>
          <a id="2291" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2299" class="Symbol">(_</a> <a id="2302" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2304" href="Ledger.Conway.Specification.Ledger.html#4866" class="InductiveConstructor">LEDGER-I⋯</a> <a id="2314" class="Symbol">(</a><a id="2315" href="Data.Bool.Properties.html#15875" class="Function">¬-not</a> <a id="2321" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2210" class="Bound">¬p</a><a id="2323" class="Symbol">)</a> <a id="2325" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2240" class="Bound">utxoStep</a><a id="2333" class="Symbol">)</a>

      <a id="2342" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2342" class="Function">completeness</a> <a id="2355" class="Symbol">:</a> <a id="2357" class="Symbol">∀</a> <a id="2359" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2359" class="Bound">s&#39;</a> <a id="2362" class="Symbol">→</a> <a id="2364" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1334" class="Bound">Γ</a> <a id="2366" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⊢</a> <a id="2368" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1371" class="Bound">s</a> <a id="2370" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="2373" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1410" class="Bound">tx</a> <a id="2376" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a id="2385" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2359" class="Bound">s&#39;</a> <a id="2388" class="Symbol">→</a> <a id="2390" class="Symbol">(</a><a id="2391" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2397" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="2401" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1752" class="Function">computeProof</a><a id="2413" class="Symbol">)</a> <a id="2415" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2417" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2425" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2359" class="Bound">s&#39;</a>
      <a id="2434" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2342" class="Function">completeness</a> <a id="2447" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2447" class="Bound">ledgerSt</a> <a id="2456" class="Symbol">(</a><a id="2457" href="Ledger.Conway.Specification.Ledger.html#4813" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2467" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2467" class="Bound">v</a> <a id="2469" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2469" class="Bound">utxoStep</a> <a id="2478" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2478" class="Bound">certStep</a> <a id="2487" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2487" class="Bound">govStep</a><a id="2494" class="Symbol">)</a>
        <a id="2504" class="Keyword">with</a> <a id="2509" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="2517" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="2519" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="2530" class="Symbol">...</a> <a id="2534" class="Symbol">|</a> <a id="2536" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="2539" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2539" class="Bound">¬v</a> <a id="2542" class="Symbol">=</a> <a id="2544" href="Relation.Nullary.Negation.Core.html#1289" class="Function">contradiction</a> <a id="2558" class="Bound">v</a> <a id="2560" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2539" class="Bound">¬v</a>
      <a id="2569" class="Symbol">...</a> <a id="2573" class="Symbol">|</a> <a id="2575" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="2579" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2592" class="Keyword">with</a> <a id="2597" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1176" class="Function">computeUtxow</a> <a id="2610" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1497" class="Function">utxoΓ</a> <a id="2616" href="Ledger.Conway.Specification.Ledger.html#1047" class="Field">utxoSt</a> <a id="2623" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1410" class="Bound">tx</a> <a id="2626" class="Symbol">|</a> <a id="2628" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1162" class="Field">complete</a> <a id="2637" class="Symbol">_</a> <a id="2639" class="Symbol">_</a> <a id="2641" class="Symbol">_</a> <a id="2643" class="Symbol">_</a> <a id="2645" class="Bound">utxoStep</a>
      <a id="2660" class="Symbol">...</a> <a id="2664" class="Symbol">|</a> <a id="2666" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2674" class="Symbol">(</a><a id="2675" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2675" class="Bound">utxoSt&#39;</a> <a id="2683" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2685" class="Symbol">_)</a> <a id="2688" class="Symbol">|</a> <a id="2690" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2703" class="Keyword">with</a> <a id="2708" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1223" class="Function">computeCerts</a> <a id="2721" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1539" class="Function">certΓ</a> <a id="2727" href="Ledger.Conway.Specification.Ledger.html#1100" class="Field">certState</a> <a id="2737" href="Ledger.Conway.Specification.Transaction.html#3214" class="Function">txCerts</a> <a id="2745" class="Symbol">|</a> <a id="2747" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1162" class="Field">complete</a> <a id="2756" class="Symbol">_</a> <a id="2758" class="Symbol">_</a> <a id="2760" class="Symbol">_</a> <a id="2762" class="Symbol">_</a> <a id="2764" class="Bound">certStep</a>
      <a id="2779" class="Symbol">...</a> <a id="2783" class="Symbol">|</a> <a id="2785" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2793" class="Symbol">(</a><a id="2794" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2794" class="Bound">certSt&#39;</a> <a id="2802" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2804" class="Symbol">_)</a> <a id="2807" class="Symbol">|</a> <a id="2809" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2822" class="Keyword">with</a> <a id="2827" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1270" class="Function">computeGov</a> <a id="2838" class="Symbol">(</a><a id="2839" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1621" class="Function">govΓ</a> <a id="2844" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2794" class="Bound">certSt&#39;</a><a id="2851" class="Symbol">)</a> <a id="2853" class="Symbol">(</a><a id="2854" href="Ledger.Conway.Specification.Ledger.html#2904" class="Function">rmOrphanDRepVotes</a> <a id="2872" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2794" class="Bound">certSt&#39;</a> <a id="2880" href="Ledger.Conway.Specification.Ledger.html#1074" class="Field">govSt</a> <a id="2886" class="Symbol">)</a> <a id="2888" class="Symbol">(</a><a id="2889" href="Ledger.Conway.Specification.Ledger.html#2774" class="Function">txgov</a> <a id="2895" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1456" class="Field">txb</a><a id="2898" class="Symbol">)</a>
             <a id="2913" class="Symbol">|</a> <a id="2915" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1162" class="Field">complete</a> <a id="2924" class="Symbol">{</a><a id="2925" class="Argument">STS</a> <a id="2929" class="Symbol">=</a> <a id="2931" href="Ledger.Conway.Specification.Gov.html#16465" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="2944" class="Symbol">}</a> <a id="2946" class="Symbol">(</a><a id="2947" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1621" class="Function">govΓ</a> <a id="2952" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2794" class="Bound">certSt&#39;</a><a id="2959" class="Symbol">)</a> <a id="2961" class="Symbol">_</a> <a id="2963" class="Symbol">_</a> <a id="2965" class="Symbol">_</a> <a id="2967" class="Bound">govStep</a>
      <a id="2981" class="Symbol">...</a> <a id="2985" class="Symbol">|</a> <a id="2987" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="2995" class="Symbol">(</a><a id="2996" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2996" class="Bound">govSt&#39;</a> <a id="3003" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3005" class="Symbol">_)</a> <a id="3008" class="Symbol">|</a> <a id="3010" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3015" class="Symbol">=</a> <a id="3017" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="3028" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#2342" class="Function">completeness</a> <a id="3041" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3041" class="Bound">ledgerSt</a> <a id="3050" class="Symbol">(</a><a id="3051" href="Ledger.Conway.Specification.Ledger.html#4866" class="InductiveConstructor">LEDGER-I⋯</a> <a id="3061" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3061" class="Bound">i</a> <a id="3063" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3063" class="Bound">utxoStep</a><a id="3071" class="Symbol">)</a>
        <a id="3081" class="Keyword">with</a> <a id="3086" href="Ledger.Conway.Specification.Transaction.html#4786" class="Field">isValid</a> <a id="3094" href="Class.DecEq.Core.html#168" class="Field Operator">≟</a> <a id="3096" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3107" class="Symbol">...</a> <a id="3111" class="Symbol">|</a> <a id="3113" href="Relation.Nullary.Decidable.Core.html#2099" class="InductiveConstructor">yes</a> <a id="3117" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3122" class="Symbol">=</a> <a id="3124" href="Function.Base.html#4061" class="Function Operator">case</a> <a id="3129" class="Bound">i</a> <a id="3131" href="Function.Base.html#4061" class="Function Operator">of</a> <a id="3134" class="Symbol">λ</a> <a id="3136" class="Symbol">()</a>
      <a id="3145" class="Symbol">...</a> <a id="3149" class="Symbol">|</a> <a id="3151" href="Relation.Nullary.Decidable.Core.html#2136" class="InductiveConstructor">no</a> <a id="3154" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3154" class="Bound">¬v</a>
        <a id="3165" class="Keyword">with</a> <a id="3170" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1176" class="Function">computeUtxow</a> <a id="3183" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1497" class="Function">utxoΓ</a> <a id="3189" href="Ledger.Conway.Specification.Ledger.html#1047" class="Field">utxoSt</a> <a id="3196" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1410" class="Bound">tx</a> <a id="3199" class="Symbol">|</a> <a id="3201" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#1162" class="Field">complete</a> <a id="3210" class="Symbol">_</a> <a id="3212" class="Symbol">_</a> <a id="3214" class="Symbol">_</a> <a id="3216" class="Symbol">_</a> <a id="3218" class="Bound">utxoStep</a>
      <a id="3233" class="Symbol">...</a> <a id="3237" class="Symbol">|</a> <a id="3239" href="Interface.ComputationalRelation.html#310" class="InductiveConstructor">success</a> <a id="3247" class="Symbol">(</a><a id="3248" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3248" class="Bound">utxoSt&#39;</a> <a id="3256" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3258" class="Symbol">_)</a> <a id="3261" class="Symbol">|</a> <a id="3263" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3268" class="Symbol">=</a> <a id="3270" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="Computational-LEDGERS"></a><a id="3276" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3276" class="Function">Computational-LEDGERS</a> <a id="3298" class="Symbol">:</a> <a id="3300" href="Interface.ComputationalRelation.html#2804" class="Record">Computational</a> <a id="3314" href="Ledger.Conway.Specification.Ledger.html#4905" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="3331" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="3338" href="Ledger.Conway.Specification.Ledger.Properties.Computational.html#3276" class="Function">Computational-LEDGERS</a> <a id="3360" class="Symbol">=</a> <a id="3362" href="Function.Base.html#4755" class="Function">it</a>

</pre></body></html>