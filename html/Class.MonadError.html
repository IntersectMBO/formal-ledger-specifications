<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Class.MonadError</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--without-K</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">open</a> <a id="42" class="Keyword">import</a> <a id="49" href="Level.html" class="Module">Level</a>

<a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="MetaPrelude.html" class="Module">MetaPrelude</a>

<a id="81" class="Keyword">open</a> <a id="86" class="Keyword">import</a> <a id="93" href="Class.Monad.html" class="Module">Class.Monad</a>
<a id="105" class="Keyword">open</a> <a id="110" class="Keyword">import</a> <a id="117" href="Reflection.html" class="Module">Reflection</a> <a id="128" class="Keyword">using</a> <a id="134" class="Symbol">(</a><a id="135" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a><a id="137" class="Symbol">;</a> <a id="139" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a><a id="148" class="Symbol">;</a> <a id="150" href="Agda.Builtin.Reflection.html#8830" class="Postulate">typeError</a><a id="159" class="Symbol">;</a> <a id="161" href="Agda.Builtin.Reflection.html#9044" class="Postulate">catchTC</a><a id="168" class="Symbol">;</a> <a id="170" href="Agda.Builtin.Reflection.html#8238" class="InductiveConstructor">strErr</a><a id="176" class="Symbol">)</a>

<a id="179" class="Keyword">module</a> <a id="186" href="Class.MonadError.html" class="Module">Class.MonadError</a> <a id="203" class="Keyword">where</a>

<a id="210" class="Keyword">private</a>
  <a id="220" class="Keyword">variable</a>
    <a id="233" href="Class.MonadError.html#233" class="Generalizable">e</a> <a id="235" href="Class.MonadError.html#235" class="Generalizable">f</a> <a id="237" class="Symbol">:</a> <a id="239" href="Agda.Primitive.html#742" class="Postulate">Level</a>
    <a id="249" href="Class.MonadError.html#249" class="Generalizable">A</a> <a id="251" class="Symbol">:</a> <a id="253" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="257" href="Class.MonadError.html#235" class="Generalizable">f</a>

<a id="260" class="Keyword">record</a> <a id="MonadError"></a><a id="267" href="Class.MonadError.html#267" class="Record">MonadError</a> <a id="278" class="Symbol">(</a><a id="279" href="Class.MonadError.html#279" class="Bound">E</a> <a id="281" class="Symbol">:</a> <a id="283" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="287" href="Class.MonadError.html#233" class="Generalizable">e</a><a id="288" class="Symbol">)</a> <a id="290" class="Symbol">(</a><a id="291" href="Class.MonadError.html#291" class="Bound">M</a> <a id="293" class="Symbol">:</a> <a id="295" class="Symbol">∀</a> <a id="297" class="Symbol">{</a><a id="298" href="Class.MonadError.html#298" class="Bound">f</a><a id="299" class="Symbol">}</a> <a id="301" class="Symbol">→</a> <a id="303" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="307" href="Class.MonadError.html#298" class="Bound">f</a> <a id="309" class="Symbol">→</a> <a id="311" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="315" href="Class.MonadError.html#298" class="Bound">f</a><a id="316" class="Symbol">)</a> <a id="318" class="Symbol">:</a> <a id="320" href="Agda.Primitive.html#512" class="Primitive">Setω</a> <a id="325" class="Keyword">where</a>
  <a id="333" class="Keyword">field</a>
    <a id="MonadError.error"></a><a id="343" href="Class.MonadError.html#343" class="Field">error</a> <a id="349" class="Symbol">:</a> <a id="351" href="Class.MonadError.html#279" class="Bound">E</a> <a id="353" class="Symbol">→</a> <a id="355" href="Class.MonadError.html#291" class="Bound">M</a> <a id="357" href="Class.MonadError.html#249" class="Generalizable">A</a>
    <a id="MonadError.catch"></a><a id="363" href="Class.MonadError.html#363" class="Field">catch</a> <a id="369" class="Symbol">:</a> <a id="371" href="Class.MonadError.html#291" class="Bound">M</a> <a id="373" href="Class.MonadError.html#249" class="Generalizable">A</a> <a id="375" class="Symbol">→</a> <a id="377" class="Symbol">(</a><a id="378" href="Class.MonadError.html#279" class="Bound">E</a> <a id="380" class="Symbol">→</a> <a id="382" href="Class.MonadError.html#291" class="Bound">M</a> <a id="384" href="Class.MonadError.html#249" class="Generalizable">A</a><a id="385" class="Symbol">)</a> <a id="387" class="Symbol">→</a> <a id="389" href="Class.MonadError.html#291" class="Bound">M</a> <a id="391" href="Class.MonadError.html#249" class="Generalizable">A</a>

<a id="394" class="Keyword">open</a> <a id="399" href="Class.MonadError.html#267" class="Module">MonadError</a>

<a id="MonadError-TC"></a><a id="411" href="Class.MonadError.html#411" class="Function">MonadError-TC</a> <a id="425" class="Symbol">:</a> <a id="427" href="Class.MonadError.html#267" class="Record">MonadError</a> <a id="438" class="Symbol">(</a><a id="439" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="444" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a><a id="453" class="Symbol">)</a> <a id="455" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a>
<a id="458" href="Class.MonadError.html#411" class="Function">MonadError-TC</a> <a id="472" class="Symbol">.</a><a id="473" href="Class.MonadError.html#343" class="Field">error</a> <a id="479" class="Symbol">=</a> <a id="481" href="Agda.Builtin.Reflection.html#8830" class="Postulate">typeError</a>
<a id="491" href="Class.MonadError.html#411" class="Function">MonadError-TC</a> <a id="505" class="Symbol">.</a><a id="506" href="Class.MonadError.html#363" class="Field">catch</a> <a id="512" href="Class.MonadError.html#512" class="Bound">x</a> <a id="514" href="Class.MonadError.html#514" class="Bound">h</a> <a id="516" class="Symbol">=</a> <a id="518" href="Agda.Builtin.Reflection.html#9044" class="Postulate">catchTC</a> <a id="526" href="Class.MonadError.html#512" class="Bound">x</a> <a id="528" class="Symbol">(</a><a id="529" href="Class.MonadError.html#514" class="Bound">h</a> <a id="531" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="533" href="Agda.Builtin.Reflection.html#8238" class="InductiveConstructor">strErr</a> <a id="540" class="String">&quot;TC doesn&#39;t provide which error to catch&quot;</a> <a id="582" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="583" class="Symbol">)</a>

<a id="ErrorT"></a><a id="586" href="Class.MonadError.html#586" class="Function">ErrorT</a> <a id="593" class="Symbol">:</a> <a id="595" class="Symbol">(</a><a id="596" href="Class.MonadError.html#596" class="Bound">E</a> <a id="598" class="Symbol">:</a> <a id="600" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="603" class="Symbol">)</a> <a id="605" class="Symbol">→</a> <a id="607" class="Symbol">(</a><a id="608" href="Class.MonadError.html#608" class="Bound">M</a> <a id="610" class="Symbol">:</a> <a id="612" class="Symbol">∀</a> <a id="614" class="Symbol">{</a><a id="615" href="Class.MonadError.html#615" class="Bound">f</a><a id="616" class="Symbol">}</a> <a id="618" class="Symbol">→</a> <a id="620" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="624" href="Class.MonadError.html#615" class="Bound">f</a> <a id="626" class="Symbol">→</a> <a id="628" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="632" href="Class.MonadError.html#615" class="Bound">f</a><a id="633" class="Symbol">)</a> <a id="635" class="Symbol">→</a> <a id="637" class="Symbol">∀</a> <a id="639" class="Symbol">{</a><a id="640" href="Class.MonadError.html#640" class="Bound">f</a><a id="641" class="Symbol">}</a> <a id="643" class="Symbol">→</a> <a id="645" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="649" href="Class.MonadError.html#640" class="Bound">f</a> <a id="651" class="Symbol">→</a> <a id="653" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="657" href="Class.MonadError.html#640" class="Bound">f</a>
<a id="659" href="Class.MonadError.html#586" class="Function">ErrorT</a> <a id="666" href="Class.MonadError.html#666" class="Bound">E</a> <a id="668" href="Class.MonadError.html#668" class="Bound">M</a> <a id="670" href="Class.MonadError.html#670" class="Bound">A</a> <a id="672" class="Symbol">=</a> <a id="674" href="Class.MonadError.html#668" class="Bound">M</a> <a id="676" class="Symbol">(</a><a id="677" href="Class.MonadError.html#666" class="Bound">E</a> <a id="679" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="681" href="Class.MonadError.html#670" class="Bound">A</a><a id="682" class="Symbol">)</a>

<a id="685" class="Keyword">module</a> <a id="692" href="Class.MonadError.html#692" class="Module">_</a> <a id="694" class="Symbol">{</a><a id="695" href="Class.MonadError.html#695" class="Bound">E</a> <a id="697" class="Symbol">:</a> <a id="699" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="702" class="Symbol">}</a> <a id="704" class="Symbol">{</a><a id="705" href="Class.MonadError.html#705" class="Bound">M</a> <a id="707" class="Symbol">:</a> <a id="709" class="Symbol">∀</a> <a id="711" class="Symbol">{</a><a id="712" href="Class.MonadError.html#712" class="Bound">a</a><a id="713" class="Symbol">}</a> <a id="715" class="Symbol">→</a> <a id="717" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="721" href="Class.MonadError.html#712" class="Bound">a</a> <a id="723" class="Symbol">→</a> <a id="725" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="729" href="Class.MonadError.html#712" class="Bound">a</a><a id="730" class="Symbol">}</a> <a id="732" class="Symbol">⦃</a> <a id="734" href="Class.MonadError.html#734" class="Bound">_</a> <a id="736" class="Symbol">:</a> <a id="738" href="Class.Monad.Core.html#182" class="Record">Monad</a> <a id="744" href="Class.MonadError.html#705" class="Bound">M</a> <a id="746" class="Symbol">⦄</a> <a id="748" class="Keyword">where</a>

  <a id="757" href="Class.MonadError.html#757" class="Function">Monad-ErrorT</a> <a id="770" class="Symbol">:</a> <a id="772" href="Class.Monad.Core.html#182" class="Record">Monad</a> <a id="778" class="Symbol">(</a><a id="779" href="Class.MonadError.html#586" class="Function">ErrorT</a> <a id="786" href="Class.MonadError.html#695" class="Bound">E</a> <a id="788" href="Class.MonadError.html#705" class="Bound">M</a><a id="789" class="Symbol">)</a>
  <a id="793" href="Class.MonadError.html#757" class="Function">Monad-ErrorT</a> <a id="806" class="Symbol">.</a><a id="807" href="Class.Monad.Core.html#278" class="Field">return</a> <a id="814" href="Class.MonadError.html#814" class="Bound">a</a> <a id="816" class="Symbol">=</a> <a id="818" href="Class.Monad.Core.html#278" class="Field">return</a> <a id="825" class="Symbol">(</a><a id="826" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="831" href="Class.MonadError.html#814" class="Bound">a</a><a id="832" class="Symbol">)</a>
  <a id="836" href="Class.MonadError.html#757" class="Function">Monad-ErrorT</a> <a id="849" class="Symbol">.</a><a id="850" href="Class.Monad.Core.html#299" class="Field Operator">_&gt;&gt;=_</a> <a id="856" href="Class.MonadError.html#856" class="Bound">x</a> <a id="858" href="Class.MonadError.html#858" class="Bound">f</a> <a id="860" class="Symbol">=</a> <a id="862" href="Class.MonadError.html#856" class="Bound">x</a> <a id="864" href="Class.Monad.Core.html#299" class="Field Operator">&gt;&gt;=</a> <a id="868" class="Symbol">λ</a> <a id="870" class="Keyword">where</a>
    <a id="880" class="Symbol">(</a><a id="881" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="886" href="Class.MonadError.html#886" class="Bound">e</a><a id="887" class="Symbol">)</a> <a id="889" class="Symbol">→</a> <a id="891" href="Class.Monad.Core.html#278" class="Field">return</a> <a id="898" class="Symbol">(</a><a id="899" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="904" href="Class.MonadError.html#886" class="Bound">e</a><a id="905" class="Symbol">)</a>
    <a id="911" class="Symbol">(</a><a id="912" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="917" href="Class.MonadError.html#917" class="Bound">a</a><a id="918" class="Symbol">)</a> <a id="920" class="Symbol">→</a> <a id="922" href="Class.MonadError.html#858" class="Bound">f</a> <a id="924" href="Class.MonadError.html#917" class="Bound">a</a>

  <a id="929" href="Class.MonadError.html#929" class="Function">MonadError-ErrorT</a> <a id="947" class="Symbol">:</a> <a id="949" href="Class.MonadError.html#267" class="Record">MonadError</a> <a id="960" href="Class.MonadError.html#695" class="Bound">E</a> <a id="962" class="Symbol">(</a><a id="963" href="Class.MonadError.html#586" class="Function">ErrorT</a> <a id="970" href="Class.MonadError.html#695" class="Bound">E</a> <a id="972" href="Class.MonadError.html#705" class="Bound">M</a><a id="973" class="Symbol">)</a>
  <a id="977" href="Class.MonadError.html#929" class="Function">MonadError-ErrorT</a> <a id="995" class="Symbol">.</a><a id="996" href="Class.MonadError.html#343" class="Field">error</a> <a id="1002" href="Class.MonadError.html#1002" class="Bound">e</a> <a id="1004" class="Symbol">=</a> <a id="1006" href="Class.Monad.Core.html#278" class="Field">return</a> <a id="1013" class="Symbol">(</a><a id="1014" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1019" href="Class.MonadError.html#1002" class="Bound">e</a><a id="1020" class="Symbol">)</a>
  <a id="1024" href="Class.MonadError.html#929" class="Function">MonadError-ErrorT</a> <a id="1042" class="Symbol">.</a><a id="1043" href="Class.MonadError.html#363" class="Field">catch</a> <a id="1049" href="Class.MonadError.html#1049" class="Bound">x</a> <a id="1051" href="Class.MonadError.html#1051" class="Bound">h</a> <a id="1053" class="Symbol">=</a> <a id="1055" href="Class.MonadError.html#1049" class="Bound">x</a> <a id="1057" href="Class.Monad.Core.html#299" class="Field Operator">&gt;&gt;=</a> <a id="1061" class="Symbol">λ</a> <a id="1063" class="Keyword">where</a>
    <a id="1073" class="Symbol">(</a><a id="1074" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="1079" href="Class.MonadError.html#1079" class="Bound">e</a><a id="1080" class="Symbol">)</a> <a id="1082" class="Symbol">→</a> <a id="1084" href="Class.MonadError.html#1051" class="Bound">h</a> <a id="1086" href="Class.MonadError.html#1079" class="Bound">e</a>
    <a id="1092" class="Symbol">(</a><a id="1093" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1098" href="Class.MonadError.html#1098" class="Bound">a</a><a id="1099" class="Symbol">)</a> <a id="1101" class="Symbol">→</a> <a id="1103" href="Class.Monad.Core.html#278" class="Field">return</a> <a id="1110" class="Symbol">(</a><a id="1111" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="1116" href="Class.MonadError.html#1098" class="Bound">a</a><a id="1117" class="Symbol">)</a>
</pre></body></html>