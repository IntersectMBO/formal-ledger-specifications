<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Ledger.Properties</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Conway.Transaction.html" class="Module">Ledger.Conway.Transaction</a>
<a id="64" class="Keyword">open</a> <a id="69" class="Keyword">import</a> <a id="76" href="Ledger.Conway.Abstract.html" class="Module">Ledger.Conway.Abstract</a>
<a id="99" class="Keyword">import</a> <a id="106" href="Ledger.Conway.Certs.html" class="Module">Ledger.Conway.Certs</a>

<a id="127" class="Keyword">module</a> <a id="134" href="Ledger.Conway.Ledger.Properties.html" class="Module">Ledger.Conway.Ledger.Properties</a>
  <a id="168" class="Symbol">(</a><a id="169" href="Ledger.Conway.Ledger.Properties.html#169" class="Bound">txs</a> <a id="173" class="Symbol">:</a> <a id="175" class="Symbol">_)</a> <a id="178" class="Symbol">(</a><a id="179" class="Keyword">open</a> <a id="184" href="Ledger.Conway.Transaction.html#910" class="Module">TransactionStructure</a> <a id="205" href="Ledger.Conway.Ledger.Properties.html#169" class="Bound">txs</a><a id="208" class="Symbol">)</a> <a id="210" class="Symbol">(</a><a id="211" class="Keyword">open</a> <a id="216" href="Ledger.Conway.Certs.html" class="Module">Ledger.Conway.Certs</a> <a id="236" href="Ledger.Conway.Transaction.html#1880" class="Function">govStructure</a><a id="248" class="Symbol">)</a>
  <a id="252" class="Symbol">(</a><a id="253" href="Ledger.Conway.Ledger.Properties.html#253" class="Bound">abs</a> <a id="257" class="Symbol">:</a> <a id="259" href="Ledger.Conway.Abstract.html#599" class="Record">AbstractFunctions</a> <a id="277" href="Ledger.Conway.Ledger.Properties.html#169" class="Bound">txs</a><a id="280" class="Symbol">)</a> <a id="282" class="Symbol">(</a><a id="283" class="Keyword">open</a> <a id="288" href="Ledger.Conway.Abstract.html#599" class="Module">AbstractFunctions</a> <a id="306" href="Ledger.Conway.Ledger.Properties.html#253" class="Bound">abs</a><a id="309" class="Symbol">)</a>
  <a id="313" class="Keyword">where</a>

<a id="320" class="Comment">-- open import Ledger.Chain txs abs</a>
<a id="356" class="Comment">-- open import Ledger.Enact govStructure</a>
<a id="397" class="Comment">-- open import Ledger.Epoch txs abs</a>
<a id="433" class="Keyword">open</a> <a id="438" class="Keyword">import</a> <a id="445" href="Ledger.Conway.Certs.Properties.html" class="Module">Ledger.Conway.Certs.Properties</a> <a id="476" href="Ledger.Conway.Transaction.html#1880" class="Function">govStructure</a>
<a id="489" class="Keyword">open</a> <a id="494" class="Keyword">import</a> <a id="501" href="Ledger.Conway.Gov.html" class="Module">Ledger.Conway.Gov</a> <a id="519" href="Ledger.Conway.Ledger.Properties.html#169" class="Bound">txs</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Ledger.Conway.Gov.Properties.html" class="Module">Ledger.Conway.Gov.Properties</a> <a id="564" href="Ledger.Conway.Ledger.Properties.html#169" class="Bound">txs</a>
<a id="568" class="Keyword">open</a> <a id="573" class="Keyword">import</a> <a id="580" href="Ledger.Conway.Ledger.html" class="Module">Ledger.Conway.Ledger</a> <a id="601" href="Ledger.Conway.Ledger.Properties.html#169" class="Bound">txs</a> <a id="605" href="Ledger.Conway.Ledger.Properties.html#253" class="Bound">abs</a>
<a id="609" class="Keyword">open</a> <a id="614" class="Keyword">import</a> <a id="621" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="636" class="Keyword">open</a> <a id="641" class="Keyword">import</a> <a id="648" href="Ledger.Conway.Ratify.html" class="Module">Ledger.Conway.Ratify</a> <a id="669" href="Ledger.Conway.Ledger.Properties.html#169" class="Bound">txs</a> <a id="673" class="Keyword">hiding</a> <a id="680" class="Symbol">(</a><a id="681" href="Ledger.Conway.Ratify.html#816" class="Function">vote</a><a id="685" class="Symbol">)</a>
<a id="687" class="Keyword">open</a> <a id="692" class="Keyword">import</a> <a id="699" href="Ledger.Conway.Utxo.html" class="Module">Ledger.Conway.Utxo</a> <a id="718" href="Ledger.Conway.Ledger.Properties.html#169" class="Bound">txs</a> <a id="722" href="Ledger.Conway.Ledger.Properties.html#253" class="Bound">abs</a>
<a id="726" class="Comment">-- open import Ledger.Utxo.Properties txs abs</a>
<a id="772" class="Keyword">open</a> <a id="777" class="Keyword">import</a> <a id="784" href="Ledger.Conway.Utxow.html" class="Module">Ledger.Conway.Utxow</a> <a id="804" href="Ledger.Conway.Ledger.Properties.html#169" class="Bound">txs</a> <a id="808" href="Ledger.Conway.Ledger.Properties.html#253" class="Bound">abs</a>
<a id="812" class="Keyword">open</a> <a id="817" class="Keyword">import</a> <a id="824" href="Ledger.Conway.Utxow.Properties.html" class="Module">Ledger.Conway.Utxow.Properties</a> <a id="855" href="Ledger.Conway.Ledger.Properties.html#169" class="Bound">txs</a> <a id="859" href="Ledger.Conway.Ledger.Properties.html#253" class="Bound">abs</a>

<a id="864" class="Keyword">open</a> <a id="869" class="Keyword">import</a> <a id="876" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="897" href="Axiom.Set.html#10669" class="Function">th</a>

<a id="901" class="Keyword">open</a> <a id="906" class="Keyword">import</a> <a id="913" href="Data.Bool.Properties.html" class="Module">Data.Bool.Properties</a> <a id="934" class="Keyword">using</a> <a id="940" class="Symbol">(</a><a id="941" href="Data.Bool.Properties.html#15217" class="Function">¬-not</a><a id="946" class="Symbol">)</a>
<a id="948" class="Keyword">open</a> <a id="953" class="Keyword">import</a> <a id="960" href="Data.List.Properties.html" class="Module">Data.List.Properties</a> <a id="981" class="Keyword">using</a> <a id="987" class="Symbol">(</a><a id="988" href="Data.List.Properties.html#5457" class="Function">++-identityʳ</a><a id="1000" class="Symbol">;</a> <a id="1002" href="Data.List.Properties.html#3851" class="Function">map-++</a><a id="1008" class="Symbol">)</a>
<a id="1010" class="Keyword">open</a> <a id="1015" class="Keyword">import</a> <a id="1022" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="1042" class="Keyword">using</a> <a id="1048" class="Symbol">(</a><a id="1049" href="Data.Nat.Properties.html#17252" class="Function">+-0-monoid</a><a id="1059" class="Symbol">;</a> <a id="1061" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a><a id="1072" class="Symbol">;</a> <a id="1074" href="Data.Nat.Properties.html#15101" class="Function">+-suc</a><a id="1079" class="Symbol">)</a>
<a id="1081" class="Keyword">open</a> <a id="1086" class="Keyword">import</a> <a id="1093" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="1109" class="Keyword">using</a> <a id="1115" class="Symbol">(</a><a id="1116" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a><a id="1129" class="Symbol">)</a>

<a id="1132" class="Keyword">import</a> <a id="1139" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1172" class="Symbol">as</a> <a id="1175" class="Module">SetoidReasoning</a>

<a id="1192" class="Keyword">open</a> <a id="1197" class="Keyword">import</a> <a id="1204" href="Interface.ComputationalRelation.html" class="Module">Interface.ComputationalRelation</a>

<a id="1237" class="Comment">-- ** Proof that LEDGER is computational.</a>

<a id="1280" class="Keyword">instance</a>
  <a id="1291" href="Ledger.Conway.Ledger.Properties.html#1291" class="Function">_</a> <a id="1293" class="Symbol">=</a> <a id="1295" href="Interface.ComputationalRelation.html#1827" class="Function">Monad-ComputationResult</a>

  <a id="Computational-LEDGER"></a><a id="1322" href="Ledger.Conway.Ledger.Properties.html#1322" class="Function">Computational-LEDGER</a> <a id="1343" class="Symbol">:</a> <a id="1345" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="1359" href="Ledger.Conway.Ledger.html#2637" class="Datatype Operator">_⊢_⇀⦇_,LEDGER⦈_</a> <a id="1375" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="1384" href="Ledger.Conway.Ledger.Properties.html#1322" class="Function">Computational-LEDGER</a> <a id="1405" class="Symbol">=</a> <a id="1407" class="Keyword">record</a> <a id="1414" class="Symbol">{</a><a id="1415" href="Ledger.Conway.Ledger.Properties.html#1668" class="Module">go</a><a id="1417" class="Symbol">}</a>
    <a id="1423" class="Keyword">where</a>
    <a id="1433" class="Keyword">open</a> <a id="1438" href="Interface.ComputationalRelation.html#2799" class="Module">Computational</a> <a id="1452" class="Symbol">⦃...⦄</a> <a id="1458" class="Keyword">renaming</a> <a id="1467" class="Symbol">(</a><a id="1468" href="Interface.ComputationalRelation.html#2879" class="Field">computeProof</a> <a id="1481" class="Symbol">to</a> <a id="1484" class="Field">comp</a><a id="1488" class="Symbol">;</a> <a id="1490" href="Interface.ComputationalRelation.html#3096" class="Field">completeness</a> <a id="1503" class="Symbol">to</a> <a id="1506" class="Field">complete</a><a id="1514" class="Symbol">)</a>
    <a id="1520" href="Ledger.Conway.Ledger.Properties.html#1520" class="Function">computeUtxow</a> <a id="1533" class="Symbol">=</a> <a id="1535" href="Ledger.Conway.Ledger.Properties.html#1484" class="Field">comp</a> <a id="1540" class="Symbol">{</a><a id="1541" class="Argument">STS</a> <a id="1545" class="Symbol">=</a> <a id="1547" href="Ledger.Conway.Utxow.html#3780" class="Datatype Operator">_⊢_⇀⦇_,UTXOW⦈_</a><a id="1561" class="Symbol">}</a>
    <a id="1567" href="Ledger.Conway.Ledger.Properties.html#1567" class="Function">computeCerts</a> <a id="1580" class="Symbol">=</a> <a id="1582" href="Ledger.Conway.Ledger.Properties.html#1484" class="Field">comp</a> <a id="1587" class="Symbol">{</a><a id="1588" class="Argument">STS</a> <a id="1592" class="Symbol">=</a> <a id="1594" href="Ledger.Conway.Certs.html#7270" class="Function Operator">_⊢_⇀⦇_,CERTS⦈_</a><a id="1608" class="Symbol">}</a>
    <a id="1614" href="Ledger.Conway.Ledger.Properties.html#1614" class="Function">computeGov</a>   <a id="1627" class="Symbol">=</a> <a id="1629" href="Ledger.Conway.Ledger.Properties.html#1484" class="Field">comp</a> <a id="1634" class="Symbol">{</a><a id="1635" class="Argument">STS</a> <a id="1639" class="Symbol">=</a> <a id="1641" href="Ledger.Conway.Gov.html#6932" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="1654" class="Symbol">}</a>

    <a id="1661" class="Keyword">module</a> <a id="1668" href="Ledger.Conway.Ledger.Properties.html#1668" class="Module">go</a>
      <a id="1677" class="Symbol">(</a><a id="1678" href="Ledger.Conway.Ledger.Properties.html#1678" class="Bound">Γ</a> <a id="1680" class="Symbol">:</a> <a id="1682" href="Ledger.Conway.Ledger.html#601" class="Record">LEnv</a><a id="1686" class="Symbol">)</a>   <a id="1690" class="Symbol">(</a><a id="1691" class="Keyword">let</a> <a id="1695" class="Keyword">open</a> <a id="1700" href="Ledger.Conway.Ledger.html#601" class="Module">LEnv</a> <a id="1705" href="Ledger.Conway.Ledger.Properties.html#1678" class="Bound">Γ</a><a id="1706" class="Symbol">)</a>
      <a id="1714" class="Symbol">(</a><a id="1715" href="Ledger.Conway.Ledger.Properties.html#1715" class="Bound">s</a> <a id="1717" class="Symbol">:</a> <a id="1719" href="Ledger.Conway.Ledger.html#865" class="Record">LState</a><a id="1725" class="Symbol">)</a> <a id="1727" class="Symbol">(</a><a id="1728" class="Keyword">let</a> <a id="1732" class="Keyword">open</a> <a id="1737" href="Ledger.Conway.Ledger.html#865" class="Module">LState</a> <a id="1744" href="Ledger.Conway.Ledger.Properties.html#1715" class="Bound">s</a><a id="1745" class="Symbol">)</a>
      <a id="1753" class="Symbol">(</a><a id="1754" href="Ledger.Conway.Ledger.Properties.html#1754" class="Bound">tx</a> <a id="1757" class="Symbol">:</a> <a id="1759" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a><a id="1761" class="Symbol">)</a>    <a id="1766" class="Symbol">(</a><a id="1767" class="Keyword">let</a> <a id="1771" class="Keyword">open</a> <a id="1776" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a> <a id="1779" href="Ledger.Conway.Ledger.Properties.html#1754" class="Bound">tx</a> <a id="1782" class="Keyword">renaming</a> <a id="1791" class="Symbol">(</a><a id="1792" href="Ledger.Conway.Transaction.html#4338" class="Field">body</a> <a id="1797" class="Symbol">to</a> <a id="1800" class="Field">txb</a><a id="1803" class="Symbol">);</a> <a id="1806" class="Keyword">open</a> <a id="1811" href="Ledger.Conway.Transaction.html#2762" class="Module">TxBody</a> <a id="1818" href="Ledger.Conway.Ledger.Properties.html#1800" class="Field">txb</a><a id="1821" class="Symbol">)</a>
      <a id="1829" class="Keyword">where</a>
      <a id="1841" href="Ledger.Conway.Ledger.Properties.html#1841" class="Function">utxoΓ</a> <a id="1847" class="Symbol">=</a> <a id="1849" href="Ledger.Conway.Utxo.html#2395" class="Record">UTxOEnv</a> <a id="1857" href="Function.Base.html#4486" class="Function Operator">∋</a> <a id="1859" class="Keyword">record</a> <a id="1866" class="Symbol">{</a> <a id="1868" href="Ledger.Conway.Ledger.Properties.html#1868" class="Module">LEnv</a> <a id="1873" href="Ledger.Conway.Ledger.Properties.html#1678" class="Bound">Γ</a> <a id="1875" class="Symbol">}</a>
      <a id="1883" href="Ledger.Conway.Ledger.Properties.html#1883" class="Function">certΓ</a> <a id="1889" class="Symbol">=</a> <a id="1891" href="Ledger.Conway.Certs.html#2819" class="Record">CertEnv</a> <a id="1899" href="Function.Base.html#4486" class="Function Operator">∋</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Types.Epoch.html#804}{\htmlId{1903}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Ledger.html#631}{\htmlId{1909}{\htmlClass{Field}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Ledger.html#689}{\htmlId{1916}{\htmlClass{Field}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Transaction.html#3058}{\htmlId{1926}{\htmlClass{Function}{\text{txvote}}}}\, \\ \,\href{Ledger.Conway.Transaction.html#3030}{\htmlId{1935}{\htmlClass{Function}{\text{txwdrls}}}}\, \\ \,\htmlId{1945}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a>
      <a id="1955" href="Ledger.Conway.Ledger.Properties.html#1955" class="Function">govΓ</a> <a id="1960" class="Symbol">:</a> <a id="1962" href="Ledger.Conway.Certs.html#4355" class="Record">CertState</a> <a id="1972" class="Symbol">→</a> <a id="1974" href="Ledger.Conway.Gov.html#1589" class="Record">GovEnv</a>
      <a id="1987" href="Ledger.Conway.Ledger.Properties.html#1955" class="Function">govΓ</a> <a id="1992" class="Symbol">=</a> <a id="1994" class="Symbol">λ</a> <a id="1996" href="Ledger.Conway.Ledger.Properties.html#1996" class="Bound">certState</a> <a id="2006" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Transaction.html#3330}{\htmlId{2010}{\htmlClass{Function}{\text{txid}}}}\, \\ \,\href{Ledger.Conway.Types.Epoch.html#804}{\htmlId{2017}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Ledger.html#631}{\htmlId{2023}{\htmlClass{Field}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Ledger.html#689}{\htmlId{2030}{\htmlClass{Field}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Ledger.html#654}{\htmlId{2040}{\htmlClass{Field}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Ledger.html#715}{\htmlId{2050}{\htmlClass{Field}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Ledger.Properties.html#1996}{\htmlId{2063}{\htmlClass{Bound}{\text{certState}}}}\, \\ \,\htmlId{2075}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a>

      <a id="2086" href="Ledger.Conway.Ledger.Properties.html#2086" class="Function">computeProof</a> <a id="2099" class="Symbol">:</a> <a id="2101" href="Interface.ComputationalRelation.html#235" class="Datatype">ComputationResult</a> <a id="2119" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2126" class="Symbol">(</a><a id="2127" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="2130" href="Ledger.Conway.Ledger.Properties.html#2130" class="Bound">s&#39;</a> <a id="2133" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="2135" href="Ledger.Conway.Ledger.Properties.html#1678" class="Bound">Γ</a> <a id="2137" href="Ledger.Conway.Ledger.html#2637" class="Datatype Operator">⊢</a> <a id="2139" href="Ledger.Conway.Ledger.Properties.html#1715" class="Bound">s</a> <a id="2141" href="Ledger.Conway.Ledger.html#2637" class="Datatype Operator">⇀⦇</a> <a id="2144" href="Ledger.Conway.Ledger.Properties.html#1754" class="Bound">tx</a> <a id="2147" href="Ledger.Conway.Ledger.html#2637" class="Datatype Operator">,LEDGER⦈</a> <a id="2156" href="Ledger.Conway.Ledger.Properties.html#2130" class="Bound">s&#39;</a><a id="2158" class="Symbol">)</a>
      <a id="2166" href="Ledger.Conway.Ledger.Properties.html#2086" class="Function">computeProof</a> <a id="2179" class="Symbol">=</a> <a id="2181" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2186" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a> <a id="2194" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="2196" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="2201" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2204" class="Symbol">λ</a> <a id="2206" class="Keyword">where</a>
        <a id="2220" class="Symbol">(</a><a id="2221" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2225" href="Ledger.Conway.Ledger.Properties.html#2225" class="Bound">p</a><a id="2226" class="Symbol">)</a> <a id="2228" class="Symbol">→</a> <a id="2230" class="Keyword">do</a>
          <a id="2243" class="Symbol">(</a><a id="2244" href="Ledger.Conway.Ledger.Properties.html#2244" class="Bound">utxoSt&#39;</a> <a id="2252" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2254" href="Ledger.Conway.Ledger.Properties.html#2254" class="Bound">utxoStep</a><a id="2262" class="Symbol">)</a> <a id="2264" href="Class.Monad.Core.html#299" class="Field Operator">←</a> <a id="2266" href="Ledger.Conway.Ledger.Properties.html#1520" class="Function">computeUtxow</a> <a id="2279" href="Ledger.Conway.Ledger.Properties.html#1841" class="Function">utxoΓ</a> <a id="2285" href="Ledger.Conway.Ledger.html#924" class="Field">utxoSt</a> <a id="2292" href="Ledger.Conway.Ledger.Properties.html#1754" class="Bound">tx</a>
          <a id="2305" class="Symbol">(</a><a id="2306" href="Ledger.Conway.Ledger.Properties.html#2306" class="Bound">certSt&#39;</a> <a id="2314" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2316" href="Ledger.Conway.Ledger.Properties.html#2316" class="Bound">certStep</a><a id="2324" class="Symbol">)</a> <a id="2326" href="Class.Monad.Core.html#299" class="Field Operator">←</a> <a id="2328" href="Ledger.Conway.Ledger.Properties.html#1567" class="Function">computeCerts</a> <a id="2341" href="Ledger.Conway.Ledger.Properties.html#1883" class="Function">certΓ</a> <a id="2347" href="Ledger.Conway.Ledger.html#977" class="Field">certState</a> <a id="2357" href="Ledger.Conway.Transaction.html#2996" class="Function">txcerts</a>
          <a id="2375" class="Symbol">(</a><a id="2376" href="Ledger.Conway.Ledger.Properties.html#2376" class="Bound">govSt&#39;</a>  <a id="2384" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2386" href="Ledger.Conway.Ledger.Properties.html#2386" class="Bound">govStep</a><a id="2393" class="Symbol">)</a>  <a id="2396" href="Class.Monad.Core.html#299" class="Field Operator">←</a> <a id="2398" href="Ledger.Conway.Ledger.Properties.html#1614" class="Function">computeGov</a> <a id="2409" class="Symbol">(</a><a id="2410" href="Ledger.Conway.Ledger.Properties.html#1955" class="Function">govΓ</a> <a id="2415" href="Ledger.Conway.Ledger.Properties.html#2306" class="Bound">certSt&#39;</a><a id="2422" class="Symbol">)</a> <a id="2424" class="Symbol">(</a><a id="2425" href="Ledger.Conway.Ledger.html#1881" class="Function">rmOrphanDRepVotes</a> <a id="2443" href="Ledger.Conway.Ledger.Properties.html#2306" class="Bound">certSt&#39;</a> <a id="2451" href="Ledger.Conway.Ledger.html#951" class="Field">govSt</a><a id="2456" class="Symbol">)</a> <a id="2458" class="Symbol">(</a><a id="2459" href="Ledger.Conway.Ledger.html#1763" class="Function">txgov</a> <a id="2465" href="Ledger.Conway.Ledger.Properties.html#1800" class="Field">txb</a><a id="2468" class="Symbol">)</a>
          <a id="2480" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2488" class="Symbol">(_</a> <a id="2491" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2493" href="Ledger.Conway.Ledger.html#3640" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2503" href="Ledger.Conway.Ledger.Properties.html#2225" class="Bound">p</a> <a id="2505" href="Ledger.Conway.Ledger.Properties.html#2254" class="Bound">utxoStep</a> <a id="2514" href="Ledger.Conway.Ledger.Properties.html#2316" class="Bound">certStep</a> <a id="2523" href="Ledger.Conway.Ledger.Properties.html#2386" class="Bound">govStep</a><a id="2530" class="Symbol">)</a>
        <a id="2540" class="Symbol">(</a><a id="2541" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2544" href="Ledger.Conway.Ledger.Properties.html#2544" class="Bound">¬p</a><a id="2546" class="Symbol">)</a> <a id="2548" class="Symbol">→</a> <a id="2550" class="Keyword">do</a>
          <a id="2563" class="Symbol">(</a><a id="2564" href="Ledger.Conway.Ledger.Properties.html#2564" class="Bound">utxoSt&#39;</a> <a id="2572" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2574" href="Ledger.Conway.Ledger.Properties.html#2574" class="Bound">utxoStep</a><a id="2582" class="Symbol">)</a> <a id="2584" href="Class.Monad.Core.html#299" class="Field Operator">←</a> <a id="2586" href="Ledger.Conway.Ledger.Properties.html#1520" class="Function">computeUtxow</a> <a id="2599" href="Ledger.Conway.Ledger.Properties.html#1841" class="Function">utxoΓ</a> <a id="2605" href="Ledger.Conway.Ledger.html#924" class="Field">utxoSt</a> <a id="2612" href="Ledger.Conway.Ledger.Properties.html#1754" class="Bound">tx</a>
          <a id="2625" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2633" class="Symbol">(_</a> <a id="2636" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2638" href="Ledger.Conway.Ledger.html#3693" class="InductiveConstructor">LEDGER-I⋯</a> <a id="2648" class="Symbol">(</a><a id="2649" href="Data.Bool.Properties.html#15217" class="Function">¬-not</a> <a id="2655" href="Ledger.Conway.Ledger.Properties.html#2544" class="Bound">¬p</a><a id="2657" class="Symbol">)</a> <a id="2659" href="Ledger.Conway.Ledger.Properties.html#2574" class="Bound">utxoStep</a><a id="2667" class="Symbol">)</a>

      <a id="2676" href="Ledger.Conway.Ledger.Properties.html#2676" class="Function">completeness</a> <a id="2689" class="Symbol">:</a> <a id="2691" class="Symbol">∀</a> <a id="2693" href="Ledger.Conway.Ledger.Properties.html#2693" class="Bound">s&#39;</a> <a id="2696" class="Symbol">→</a> <a id="2698" href="Ledger.Conway.Ledger.Properties.html#1678" class="Bound">Γ</a> <a id="2700" href="Ledger.Conway.Ledger.html#2637" class="Datatype Operator">⊢</a> <a id="2702" href="Ledger.Conway.Ledger.Properties.html#1715" class="Bound">s</a> <a id="2704" href="Ledger.Conway.Ledger.html#2637" class="Datatype Operator">⇀⦇</a> <a id="2707" href="Ledger.Conway.Ledger.Properties.html#1754" class="Bound">tx</a> <a id="2710" href="Ledger.Conway.Ledger.html#2637" class="Datatype Operator">,LEDGER⦈</a> <a id="2719" href="Ledger.Conway.Ledger.Properties.html#2693" class="Bound">s&#39;</a> <a id="2722" class="Symbol">→</a> <a id="2724" class="Symbol">(</a><a id="2725" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2731" href="Class.Functor.Core.html#242" class="Field Operator">&lt;$&gt;</a> <a id="2735" href="Ledger.Conway.Ledger.Properties.html#2086" class="Function">computeProof</a><a id="2747" class="Symbol">)</a> <a id="2749" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2751" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="2759" href="Ledger.Conway.Ledger.Properties.html#2693" class="Bound">s&#39;</a>
      <a id="2768" href="Ledger.Conway.Ledger.Properties.html#2676" class="Function">completeness</a> <a id="2781" href="Ledger.Conway.Ledger.Properties.html#2781" class="Bound">ledgerSt</a> <a id="2790" class="Symbol">(</a><a id="2791" href="Ledger.Conway.Ledger.html#3640" class="InductiveConstructor">LEDGER-V⋯</a> <a id="2801" href="Ledger.Conway.Ledger.Properties.html#2801" class="Bound">v</a> <a id="2803" href="Ledger.Conway.Ledger.Properties.html#2803" class="Bound">utxoStep</a> <a id="2812" href="Ledger.Conway.Ledger.Properties.html#2812" class="Bound">certStep</a> <a id="2821" href="Ledger.Conway.Ledger.Properties.html#2821" class="Bound">govStep</a><a id="2828" class="Symbol">)</a>
        <a id="2838" class="Keyword">with</a> <a id="2843" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a> <a id="2851" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="2853" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="2864" class="Symbol">...</a> <a id="2868" class="Symbol">|</a> <a id="2870" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2873" href="Ledger.Conway.Ledger.Properties.html#2873" class="Bound">¬v</a> <a id="2876" class="Symbol">=</a> <a id="2878" href="Relation.Nullary.Negation.Core.html#1270" class="Function">contradiction</a> <a id="2892" class="Bound">v</a> <a id="2894" href="Ledger.Conway.Ledger.Properties.html#2873" class="Bound">¬v</a>
      <a id="2903" class="Symbol">...</a> <a id="2907" class="Symbol">|</a> <a id="2909" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2913" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="2926" class="Keyword">with</a> <a id="2931" href="Ledger.Conway.Ledger.Properties.html#1520" class="Function">computeUtxow</a> <a id="2944" href="Ledger.Conway.Ledger.Properties.html#1841" class="Function">utxoΓ</a> <a id="2950" href="Ledger.Conway.Ledger.html#924" class="Field">utxoSt</a> <a id="2957" href="Ledger.Conway.Ledger.Properties.html#1754" class="Bound">tx</a> <a id="2960" class="Symbol">|</a> <a id="2962" href="Ledger.Conway.Ledger.Properties.html#1506" class="Field">complete</a> <a id="2971" class="Symbol">_</a> <a id="2973" class="Symbol">_</a> <a id="2975" class="Symbol">_</a> <a id="2977" class="Symbol">_</a> <a id="2979" class="Bound">utxoStep</a>
      <a id="2994" class="Symbol">...</a> <a id="2998" class="Symbol">|</a> <a id="3000" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3008" class="Symbol">(</a><a id="3009" href="Ledger.Conway.Ledger.Properties.html#3009" class="Bound">utxoSt&#39;</a> <a id="3017" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3019" class="Symbol">_)</a> <a id="3022" class="Symbol">|</a> <a id="3024" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="3037" class="Keyword">with</a> <a id="3042" href="Ledger.Conway.Ledger.Properties.html#1567" class="Function">computeCerts</a> <a id="3055" href="Ledger.Conway.Ledger.Properties.html#1883" class="Function">certΓ</a> <a id="3061" href="Ledger.Conway.Ledger.html#977" class="Field">certState</a> <a id="3071" href="Ledger.Conway.Transaction.html#2996" class="Function">txcerts</a> <a id="3079" class="Symbol">|</a> <a id="3081" href="Ledger.Conway.Ledger.Properties.html#1506" class="Field">complete</a> <a id="3090" class="Symbol">_</a> <a id="3092" class="Symbol">_</a> <a id="3094" class="Symbol">_</a> <a id="3096" class="Symbol">_</a> <a id="3098" class="Bound">certStep</a>
      <a id="3113" class="Symbol">...</a> <a id="3117" class="Symbol">|</a> <a id="3119" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3127" class="Symbol">(</a><a id="3128" href="Ledger.Conway.Ledger.Properties.html#3128" class="Bound">certSt&#39;</a> <a id="3136" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3138" class="Symbol">_)</a> <a id="3141" class="Symbol">|</a> <a id="3143" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
        <a id="3156" class="Keyword">with</a> <a id="3161" href="Ledger.Conway.Ledger.Properties.html#1614" class="Function">computeGov</a> <a id="3172" class="Symbol">(</a><a id="3173" href="Ledger.Conway.Ledger.Properties.html#1955" class="Function">govΓ</a> <a id="3178" href="Ledger.Conway.Ledger.Properties.html#3128" class="Bound">certSt&#39;</a><a id="3185" class="Symbol">)</a> <a id="3187" class="Symbol">(</a><a id="3188" href="Ledger.Conway.Ledger.html#1881" class="Function">rmOrphanDRepVotes</a> <a id="3206" href="Ledger.Conway.Ledger.Properties.html#3128" class="Bound">certSt&#39;</a> <a id="3214" href="Ledger.Conway.Ledger.html#951" class="Field">govSt</a> <a id="3220" class="Symbol">)</a> <a id="3222" class="Symbol">(</a><a id="3223" href="Ledger.Conway.Ledger.html#1763" class="Function">txgov</a> <a id="3229" href="Ledger.Conway.Ledger.Properties.html#1800" class="Field">txb</a><a id="3232" class="Symbol">)</a> <a id="3234" class="Symbol">|</a> <a id="3236" href="Ledger.Conway.Ledger.Properties.html#1506" class="Field">complete</a> <a id="3245" class="Symbol">{</a><a id="3246" class="Argument">STS</a> <a id="3250" class="Symbol">=</a> <a id="3252" href="Ledger.Conway.Gov.html#6932" class="Function Operator">_⊢_⇀⦇_,GOVS⦈_</a><a id="3265" class="Symbol">}</a> <a id="3267" class="Symbol">(</a><a id="3268" href="Ledger.Conway.Ledger.Properties.html#1955" class="Function">govΓ</a> <a id="3273" href="Ledger.Conway.Ledger.Properties.html#3128" class="Bound">certSt&#39;</a><a id="3280" class="Symbol">)</a> <a id="3282" class="Symbol">_</a> <a id="3284" class="Symbol">_</a> <a id="3286" class="Symbol">_</a> <a id="3288" class="Bound">govStep</a>
      <a id="3302" class="Symbol">...</a> <a id="3306" class="Symbol">|</a> <a id="3308" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3316" class="Symbol">(</a><a id="3317" href="Ledger.Conway.Ledger.Properties.html#3317" class="Bound">govSt&#39;</a> <a id="3324" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3326" class="Symbol">_)</a> <a id="3329" class="Symbol">|</a> <a id="3331" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3336" class="Symbol">=</a> <a id="3338" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
      <a id="3349" href="Ledger.Conway.Ledger.Properties.html#2676" class="Function">completeness</a> <a id="3362" href="Ledger.Conway.Ledger.Properties.html#3362" class="Bound">ledgerSt</a> <a id="3371" class="Symbol">(</a><a id="3372" href="Ledger.Conway.Ledger.html#3693" class="InductiveConstructor">LEDGER-I⋯</a> <a id="3382" href="Ledger.Conway.Ledger.Properties.html#3382" class="Bound">i</a> <a id="3384" href="Ledger.Conway.Ledger.Properties.html#3384" class="Bound">utxoStep</a><a id="3392" class="Symbol">)</a>
        <a id="3402" class="Keyword">with</a> <a id="3407" href="Ledger.Conway.Transaction.html#4391" class="Field">isValid</a> <a id="3415" href="Class.DecEq.Core.html#159" class="Field Operator">≟</a> <a id="3417" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
      <a id="3428" class="Symbol">...</a> <a id="3432" class="Symbol">|</a> <a id="3434" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="3438" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3443" class="Symbol">=</a> <a id="3445" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="3450" class="Bound">i</a> <a id="3452" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="3455" class="Symbol">λ</a> <a id="3457" class="Symbol">()</a>
      <a id="3466" class="Symbol">...</a> <a id="3470" class="Symbol">|</a> <a id="3472" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="3475" href="Ledger.Conway.Ledger.Properties.html#3475" class="Bound">¬v</a>
        <a id="3486" class="Keyword">with</a> <a id="3491" href="Ledger.Conway.Ledger.Properties.html#1520" class="Function">computeUtxow</a> <a id="3504" href="Ledger.Conway.Ledger.Properties.html#1841" class="Function">utxoΓ</a> <a id="3510" href="Ledger.Conway.Ledger.html#924" class="Field">utxoSt</a> <a id="3517" href="Ledger.Conway.Ledger.Properties.html#1754" class="Bound">tx</a> <a id="3520" class="Symbol">|</a> <a id="3522" href="Ledger.Conway.Ledger.Properties.html#1506" class="Field">complete</a> <a id="3531" class="Symbol">_</a> <a id="3533" class="Symbol">_</a> <a id="3535" class="Symbol">_</a> <a id="3537" class="Symbol">_</a> <a id="3539" class="Bound">utxoStep</a>
      <a id="3554" class="Symbol">...</a> <a id="3558" class="Symbol">|</a> <a id="3560" href="Interface.ComputationalRelation.html#308" class="InductiveConstructor">success</a> <a id="3568" class="Symbol">(</a><a id="3569" href="Ledger.Conway.Ledger.Properties.html#3569" class="Bound">utxoSt&#39;</a> <a id="3577" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3579" class="Symbol">_)</a> <a id="3582" class="Symbol">|</a> <a id="3584" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3589" class="Symbol">=</a> <a id="3591" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="Computational-LEDGERS"></a><a id="3597" href="Ledger.Conway.Ledger.Properties.html#3597" class="Function">Computational-LEDGERS</a> <a id="3619" class="Symbol">:</a> <a id="3621" href="Interface.ComputationalRelation.html#2799" class="Record">Computational</a> <a id="3635" href="Ledger.Conway.Ledger.html#3732" class="Function Operator">_⊢_⇀⦇_,LEDGERS⦈_</a> <a id="3652" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="3659" href="Ledger.Conway.Ledger.Properties.html#3597" class="Function">Computational-LEDGERS</a> <a id="3681" class="Symbol">=</a> <a id="3683" href="Function.Base.html#4736" class="Function">it</a>


<a id="3688" class="Comment">-- ** Proof that the set equality `govDepsMatch` (below) is a LEDGER invariant.</a>

<a id="3769" class="Comment">-- Mapping a list of `GovActionID × GovActionState`s to a list of</a>
<a id="3835" class="Comment">-- `DepositPurpose`s is so common, we give it a name `dpMap`;</a>
<a id="3897" class="Comment">-- it&#39;s equivalent to `map (λ (id , _) → GovActionDeposit id)`.</a>
<a id="dpMap"></a><a id="3961" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="3967" class="Symbol">:</a> <a id="3969" href="Ledger.Conway.Gov.html#1397" class="Function">GovState</a> <a id="3978" class="Symbol">→</a> <a id="3980" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3985" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a>
<a id="4000" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="4006" class="Symbol">=</a> <a id="4008" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="4012" class="Symbol">(</a><a id="4013" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="4030" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="4032" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4037" class="Symbol">)</a>

<a id="isGADeposit"></a><a id="4040" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="4052" class="Symbol">:</a> <a id="4054" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a> <a id="4069" class="Symbol">→</a> <a id="4071" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="4076" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="4088" href="Ledger.Conway.Ledger.Properties.html#4088" class="Bound">dp</a> <a id="4091" class="Symbol">=</a> <a id="4093" href="Ledger.Conway.Ledger.Properties.html#4126" class="Function">isGADepositᵇ</a> <a id="4106" href="Ledger.Conway.Ledger.Properties.html#4088" class="Bound">dp</a> <a id="4109" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4111" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="4118" class="Keyword">where</a>
  <a id="4126" href="Ledger.Conway.Ledger.Properties.html#4126" class="Function">isGADepositᵇ</a> <a id="4139" class="Symbol">:</a> <a id="4141" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a> <a id="4156" class="Symbol">→</a> <a id="4158" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="4165" href="Ledger.Conway.Ledger.Properties.html#4126" class="Function">isGADepositᵇ</a> <a id="4178" class="Symbol">(</a><a id="4179" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="4196" class="Symbol">_)</a> <a id="4199" class="Symbol">=</a> <a id="4201" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="4208" href="Ledger.Conway.Ledger.Properties.html#4126" class="CatchallClause Function">isGADepositᵇ</a><a id="4220" class="CatchallClause"> </a><a id="4221" class="CatchallClause Symbol">_</a>                    <a id="4242" class="Symbol">=</a> <a id="4244" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>


<a id="govDepsMatch"></a><a id="4252" href="Ledger.Conway.Ledger.Properties.html#4252" class="Function">govDepsMatch</a> <a id="4265" class="Symbol">:</a> <a id="4267" href="Ledger.Conway.Ledger.html#865" class="Record">LState</a> <a id="4274" class="Symbol">→</a> <a id="4276" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="4281" href="Ledger.Conway.Ledger.Properties.html#4252" class="Function">govDepsMatch</a> <a id="4294" href="Ledger.Conway.Ledger.Properties.html#4294" class="Bound">ls</a> <a id="4297" class="Symbol">=</a>
  <a id="4301" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="4309" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="4321" class="Symbol">(</a><a id="4322" href="Class.IsSet.html#916" class="Function">dom</a> <a id="4326" class="Symbol">(</a><a id="4327" href="Ledger.Conway.Certs.html#757" class="Field">DepositsOf</a> <a id="4338" href="Ledger.Conway.Ledger.Properties.html#4294" class="Bound">ls</a><a id="4340" class="Symbol">))</a> <a id="4343" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="4346" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="4355" class="Symbol">(</a><a id="4356" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="4362" class="Symbol">(</a><a id="4363" href="Ledger.Conway.Gov.html#1523" class="Field">GovStateOf</a> <a id="4374" href="Ledger.Conway.Ledger.Properties.html#4294" class="Bound">ls</a><a id="4376" class="Symbol">))</a>


<a id="4381" class="Keyword">module</a> <a id="≡ᵉ"></a><a id="4388" href="Ledger.Conway.Ledger.Properties.html#4388" class="Module">≡ᵉ</a> <a id="4391" class="Symbol">=</a> <a id="4393" href="Relation.Binary.Structures.html#1550" class="Module">IsEquivalence</a> <a id="4407" class="Symbol">(</a><a id="4408" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a> <a id="4425" class="Symbol">{</a><a id="4426" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a><a id="4440" class="Symbol">})</a>
<a id="4443" class="Keyword">pattern</a> <a id="UTXOW-UTXOS"></a><a id="4451" href="Ledger.Conway.Ledger.Properties.html#4451" class="InductiveConstructor">UTXOW-UTXOS</a> <a id="4463" href="Ledger.Conway.Ledger.Properties.html#4533" class="Bound">x</a> <a id="4465" class="Symbol">=</a> <a id="4467" href="Ledger.Conway.Utxow.html#5424" class="InductiveConstructor">UTXOW⇒UTXO</a> <a id="4478" class="Symbol">(</a><a id="4479" href="Ledger.Conway.Utxo.html#15429" class="InductiveConstructor">UTXO-inductive⋯</a> <a id="4495" class="Symbol">_</a> <a id="4497" class="Symbol">_</a> <a id="4499" class="Symbol">_</a> <a id="4501" class="Symbol">_</a> <a id="4503" class="Symbol">_</a> <a id="4505" class="Symbol">_</a> <a id="4507" class="Symbol">_</a> <a id="4509" class="Symbol">_</a> <a id="4511" class="Symbol">_</a> <a id="4513" class="Symbol">_</a> <a id="4515" class="Symbol">_</a> <a id="4517" class="Symbol">_</a> <a id="4519" class="Symbol">_</a> <a id="4521" class="Symbol">_</a> <a id="4523" class="Symbol">_</a> <a id="4525" class="Symbol">_</a> <a id="4527" class="Symbol">_</a> <a id="4529" class="Symbol">_</a> <a id="4531" class="Symbol">_</a> <a id="4533" href="Ledger.Conway.Ledger.Properties.html#4533" class="Bound">x</a><a id="4534" class="Symbol">)</a>
<a id="4536" class="Keyword">open</a> <a id="4541" href="Function.Bundles.html#4752" class="Module">Equivalence</a>

<a id="filterGA"></a><a id="4554" href="Ledger.Conway.Ledger.Properties.html#4554" class="Function">filterGA</a> <a id="4563" class="Symbol">:</a> <a id="4565" class="Symbol">∀</a> <a id="4567" href="Ledger.Conway.Ledger.Properties.html#4567" class="Bound">txid</a> <a id="4572" href="Ledger.Conway.Ledger.Properties.html#4572" class="Bound">n</a> <a id="4574" class="Symbol">→</a> <a id="4576" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="4584" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="4596" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="4598" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="4615" class="Symbol">(</a><a id="4616" href="Ledger.Conway.Ledger.Properties.html#4567" class="Bound">txid</a> <a id="4621" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4623" href="Ledger.Conway.Ledger.Properties.html#4572" class="Bound">n</a><a id="4624" class="Symbol">)</a> <a id="4626" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="4628" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="4631" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="4633" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="4650" class="Symbol">(</a><a id="4651" href="Ledger.Conway.Ledger.Properties.html#4567" class="Bound">txid</a> <a id="4656" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4658" href="Ledger.Conway.Ledger.Properties.html#4572" class="Bound">n</a><a id="4659" class="Symbol">)</a> <a id="4661" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
<a id="4663" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4669" class="Symbol">(</a><a id="4670" href="Ledger.Conway.Ledger.Properties.html#4554" class="Function">filterGA</a> <a id="4679" href="Ledger.Conway.Ledger.Properties.html#4679" class="Bound">txid</a> <a id="4684" href="Ledger.Conway.Ledger.Properties.html#4684" class="Bound">n</a><a id="4685" class="Symbol">)</a> <a id="4687" class="Symbol">{</a><a id="4688" href="Ledger.Conway.Ledger.Properties.html#4688" class="Bound">a</a><a id="4689" class="Symbol">}</a> <a id="4691" href="Ledger.Conway.Ledger.Properties.html#4691" class="Bound">x</a> <a id="4693" class="Symbol">=</a> <a id="4695" class="Symbol">(</a><a id="4696" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="4702" class="Symbol">(</a><a id="4703" href="Function.Bundles.html#4834" class="Field">from</a> <a id="4708" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="4717" href="Ledger.Conway.Ledger.Properties.html#4691" class="Bound">x</a><a id="4718" class="Symbol">))</a> <a id="4721" class="Keyword">where</a> <a id="4727" class="Keyword">open</a> <a id="4732" href="Function.Bundles.html#4752" class="Module">Equivalence</a>
<a id="4744" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="4750" class="Symbol">(</a><a id="4751" href="Ledger.Conway.Ledger.Properties.html#4554" class="Function">filterGA</a> <a id="4760" href="Ledger.Conway.Ledger.Properties.html#4760" class="Bound">txid</a> <a id="4765" href="Ledger.Conway.Ledger.Properties.html#4765" class="Bound">n</a><a id="4766" class="Symbol">)</a> <a id="4768" class="Symbol">{</a><a id="4769" href="Ledger.Conway.Ledger.Properties.html#4769" class="Bound">a</a><a id="4770" class="Symbol">}</a> <a id="4772" href="Ledger.Conway.Ledger.Properties.html#4772" class="Bound">x</a> <a id="4774" class="Symbol">=</a> <a id="4776" href="Function.Bundles.html#4810" class="Field">to</a> <a id="4779" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="4788" class="Symbol">(</a><a id="4789" href="Ledger.Conway.Ledger.Properties.html#4827" class="Function">ξ</a> <a id="4791" class="Symbol">(</a><a id="4792" href="Function.Bundles.html#4834" class="Field">from</a> <a id="4797" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="4809" href="Ledger.Conway.Ledger.Properties.html#4772" class="Bound">x</a><a id="4810" class="Symbol">)</a> <a id="4812" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4814" href="Ledger.Conway.Ledger.Properties.html#4772" class="Bound">x</a><a id="4815" class="Symbol">)</a>
  <a id="4819" class="Keyword">where</a>
  <a id="4827" href="Ledger.Conway.Ledger.Properties.html#4827" class="Function">ξ</a> <a id="4829" class="Symbol">:</a> <a id="4831" href="Ledger.Conway.Ledger.Properties.html#4769" class="Bound">a</a> <a id="4833" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4835" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="4852" class="Symbol">(</a><a id="4853" href="Ledger.Conway.Ledger.Properties.html#4760" class="Bound">txid</a> <a id="4858" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4860" href="Ledger.Conway.Ledger.Properties.html#4765" class="Bound">n</a><a id="4861" class="Symbol">)</a> <a id="4863" class="Symbol">→</a> <a id="4865" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="4877" href="Ledger.Conway.Ledger.Properties.html#4769" class="Bound">a</a>
  <a id="4881" href="Ledger.Conway.Ledger.Properties.html#4827" class="Function">ξ</a> <a id="4883" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4888" class="Symbol">=</a> <a id="4890" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="4896" class="Keyword">module</a> <a id="LEDGER-PROPS"></a><a id="4903" href="Ledger.Conway.Ledger.Properties.html#4903" class="Module">LEDGER-PROPS</a> <a id="4916" class="Symbol">(</a><a id="4917" href="Ledger.Conway.Ledger.Properties.html#4917" class="Bound">tx</a> <a id="4920" class="Symbol">:</a> <a id="4922" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a><a id="4924" class="Symbol">)</a> <a id="4926" class="Symbol">(</a><a id="4927" href="Ledger.Conway.Ledger.Properties.html#4927" class="Bound">Γ</a> <a id="4929" class="Symbol">:</a> <a id="4931" href="Ledger.Conway.Ledger.html#601" class="Record">LEnv</a><a id="4935" class="Symbol">)</a> <a id="4937" class="Symbol">(</a><a id="4938" href="Ledger.Conway.Ledger.Properties.html#4938" class="Bound">s</a> <a id="4940" class="Symbol">:</a> <a id="4942" href="Ledger.Conway.Ledger.html#865" class="Record">LState</a><a id="4948" class="Symbol">)</a> <a id="4950" class="Keyword">where</a>
  <a id="4958" class="Keyword">open</a> <a id="4963" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a> <a id="4966" href="Ledger.Conway.Ledger.Properties.html#4917" class="Bound">tx</a> <a id="4969" class="Keyword">renaming</a> <a id="4978" class="Symbol">(</a><a id="4979" href="Ledger.Conway.Transaction.html#4338" class="Field">body</a> <a id="4984" class="Symbol">to</a> <a id="4987" class="Field">txb</a><a id="4990" class="Symbol">);</a> <a id="4993" class="Keyword">open</a> <a id="4998" href="Ledger.Conway.Transaction.html#2762" class="Module">TxBody</a> <a id="5005" href="Ledger.Conway.Ledger.Properties.html#4987" class="Function">txb</a>
  <a id="5011" class="Keyword">open</a> <a id="5016" href="Ledger.Conway.Ledger.html#601" class="Module">LEnv</a> <a id="5021" href="Ledger.Conway.Ledger.Properties.html#4927" class="Bound">Γ</a> <a id="5023" class="Keyword">renaming</a> <a id="5032" class="Symbol">(</a><a id="5033" href="Ledger.Conway.Ledger.html#689" class="Field">pparams</a> <a id="5041" class="Symbol">to</a> <a id="5044" class="Field">pp</a><a id="5046" class="Symbol">)</a>
  <a id="5050" class="Keyword">open</a> <a id="5055" href="Ledger.Conway.PParams.html#1721" class="Module">PParams</a> <a id="5063" href="Ledger.Conway.Ledger.Properties.html#5044" class="Function">pp</a> <a id="5066" class="Keyword">using</a> <a id="5072" class="Symbol">(</a><a id="5073" href="Ledger.Conway.PParams.html#3388" class="Field">govActionDeposit</a><a id="5089" class="Symbol">)</a>
  <a id="5093" class="Keyword">open</a> <a id="5098" href="Ledger.Conway.Ledger.html#865" class="Module">LState</a> <a id="5105" href="Ledger.Conway.Ledger.Properties.html#4938" class="Bound">s</a>
  <a id="5109" class="Keyword">open</a> <a id="5114" href="Ledger.Conway.Certs.html#4355" class="Module">CertState</a> <a id="5124" href="Ledger.Conway.Ledger.html#977" class="Field">certState</a>
  <a id="5136" class="Keyword">open</a> <a id="5141" href="Ledger.Conway.Certs.html#3199" class="Module">DState</a> <a id="5148" href="Ledger.Conway.Certs.html#4418" class="Function">dState</a>

  <a id="5158" class="Comment">-- initial utxo deposits</a>
  <a id="LEDGER-PROPS.utxoDeps"></a><a id="5185" href="Ledger.Conway.Ledger.Properties.html#5185" class="Function">utxoDeps</a> <a id="5194" class="Symbol">:</a> <a id="5196" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a>
  <a id="5207" href="Ledger.Conway.Ledger.Properties.html#5185" class="Function">utxoDeps</a> <a id="5216" class="Symbol">=</a> <a id="5218" href="Ledger.Conway.Utxo.html#2855" class="Field">UTxOState.deposits</a> <a id="5237" class="Symbol">(</a><a id="5238" href="Ledger.Conway.Ledger.html#924" class="Field">LState.utxoSt</a> <a id="5252" href="Ledger.Conway.Ledger.Properties.html#4938" class="Bound">s</a><a id="5253" class="Symbol">)</a>

  <a id="5258" class="Comment">-- GovState definitions and lemmas --</a>
  <a id="LEDGER-PROPS.mkAction"></a><a id="5298" href="Ledger.Conway.Ledger.Properties.html#5298" class="Function">mkAction</a> <a id="5307" class="Symbol">:</a> <a id="5309" href="Ledger.Conway.GovernanceActions.html#2538" class="Record">GovProposal</a> <a id="5321" class="Symbol">→</a> <a id="5323" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="5325" class="Symbol">→</a> <a id="5327" href="Ledger.Conway.GovernanceActions.html#442" class="Function">GovActionID</a> <a id="5339" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5341" href="Ledger.Conway.GovernanceActions.html#2760" class="Record">GovActionState</a>
  <a id="5358" href="Ledger.Conway.Ledger.Properties.html#5298" class="Function">mkAction</a> <a id="5367" href="Ledger.Conway.Ledger.Properties.html#5367" class="Bound">p</a> <a id="5369" href="Ledger.Conway.Ledger.Properties.html#5369" class="Bound">n</a> <a id="5371" class="Symbol">=</a> <a id="5373" class="Keyword">let</a> <a id="5377" class="Keyword">open</a> <a id="5382" href="Ledger.Conway.GovernanceActions.html#2538" class="Module">GovProposal</a> <a id="5394" href="Ledger.Conway.Ledger.Properties.html#5367" class="Bound">p</a> <a id="5396" class="Keyword">in</a>
    <a id="5403" href="Ledger.Conway.Gov.html#5359" class="Function">mkGovStatePair</a>
      <a id="5424" class="Symbol">(</a><a id="5425" href="Ledger.Conway.PParams.html#3346" class="Field">PParams.govActionLifetime</a> <a id="5451" href="Ledger.Conway.Ledger.Properties.html#5044" class="Function">pp</a> <a id="5454" href="Ledger.Conway.Types.Epoch.html#948" class="Function Operator">+ᵉ</a> <a id="5457" href="Ledger.Conway.Types.Epoch.html#804" class="Function">epoch</a> <a id="5463" href="Ledger.Conway.Ledger.html#631" class="Function">slot</a><a id="5467" class="Symbol">)</a>
      <a id="5475" class="Symbol">(</a><a id="5476" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="5481" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5483" href="Ledger.Conway.Ledger.Properties.html#5369" class="Bound">n</a><a id="5484" class="Symbol">)</a> <a id="5486" href="Ledger.Conway.GovernanceActions.html#2705" class="Function">returnAddr</a> <a id="5497" href="Ledger.Conway.GovernanceActions.html#2575" class="Function">action</a> <a id="5504" href="Ledger.Conway.GovernanceActions.html#2603" class="Function">prevAction</a>

  <a id="5518" class="Comment">-- update GovState with a proposal</a>
  <a id="LEDGER-PROPS.propUpdate"></a><a id="5555" href="Ledger.Conway.Ledger.Properties.html#5555" class="Function">propUpdate</a> <a id="5566" class="Symbol">:</a> <a id="5568" href="Ledger.Conway.Gov.html#1397" class="Function">GovState</a> <a id="5577" class="Symbol">→</a> <a id="5579" href="Ledger.Conway.GovernanceActions.html#2538" class="Record">GovProposal</a> <a id="5591" class="Symbol">→</a> <a id="5593" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="5595" class="Symbol">→</a> <a id="5597" href="Ledger.Conway.Gov.html#1397" class="Function">GovState</a>
  <a id="5608" href="Ledger.Conway.Ledger.Properties.html#5555" class="Function">propUpdate</a> <a id="5619" href="Ledger.Conway.Ledger.Properties.html#5619" class="Bound">s</a> <a id="5621" href="Ledger.Conway.Ledger.Properties.html#5621" class="Bound">p</a> <a id="5623" href="Ledger.Conway.Ledger.Properties.html#5623" class="Bound">n</a> <a id="5625" class="Symbol">=</a> <a id="5627" href="Ledger.Conway.Gov.html#4986" class="Function">insertGovAction</a> <a id="5643" href="Ledger.Conway.Ledger.Properties.html#5619" class="Bound">s</a> <a id="5645" class="Symbol">(</a><a id="5646" href="Ledger.Conway.Ledger.Properties.html#5298" class="Function">mkAction</a> <a id="5655" href="Ledger.Conway.Ledger.Properties.html#5621" class="Bound">p</a> <a id="5657" href="Ledger.Conway.Ledger.Properties.html#5623" class="Bound">n</a><a id="5658" class="Symbol">)</a>

  <a id="5663" class="Comment">-- update GovState with a vote</a>
  <a id="LEDGER-PROPS.voteUpdate"></a><a id="5696" href="Ledger.Conway.Ledger.Properties.html#5696" class="Function">voteUpdate</a> <a id="5707" class="Symbol">:</a> <a id="5709" href="Ledger.Conway.Gov.html#1397" class="Function">GovState</a> <a id="5718" class="Symbol">→</a> <a id="5720" href="Ledger.Conway.GovernanceActions.html#2393" class="Record">GovVote</a> <a id="5728" class="Symbol">→</a> <a id="5730" href="Ledger.Conway.Gov.html#1397" class="Function">GovState</a>
  <a id="5741" href="Ledger.Conway.Ledger.Properties.html#5696" class="Function">voteUpdate</a> <a id="5752" href="Ledger.Conway.Ledger.Properties.html#5752" class="Bound">s</a> <a id="5754" href="Ledger.Conway.Ledger.Properties.html#5754" class="Bound">v</a> <a id="5756" class="Symbol">=</a> <a id="5758" href="Ledger.Conway.Gov.html#5856" class="Function">addVote</a> <a id="5766" href="Ledger.Conway.Ledger.Properties.html#5752" class="Bound">s</a> <a id="5768" href="Ledger.Conway.GovernanceActions.html#2426" class="Field">gid</a> <a id="5772" href="Ledger.Conway.GovernanceActions.html#2456" class="Field">voter</a> <a id="5778" href="Ledger.Conway.GovernanceActions.html#2480" class="Field">vote</a>
    <a id="5787" class="Keyword">where</a> <a id="5793" class="Keyword">open</a> <a id="5798" href="Ledger.Conway.GovernanceActions.html#2393" class="Module">GovVote</a> <a id="5806" href="Ledger.Conway.Ledger.Properties.html#5754" class="Bound">v</a>

  <a id="5811" class="Comment">-- update GovState with a list of votes and proposals</a>
  <a id="LEDGER-PROPS.updateGovStates"></a><a id="5867" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="5883" class="Symbol">:</a> <a id="5885" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5890" class="Symbol">(</a><a id="5891" href="Ledger.Conway.GovernanceActions.html#2393" class="Record">GovVote</a> <a id="5899" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5901" href="Ledger.Conway.GovernanceActions.html#2538" class="Record">GovProposal</a><a id="5912" class="Symbol">)</a> <a id="5914" class="Symbol">→</a> <a id="5916" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="5918" class="Symbol">→</a> <a id="5920" href="Ledger.Conway.Gov.html#1397" class="Function">GovState</a> <a id="5929" class="Symbol">→</a> <a id="5931" href="Ledger.Conway.Gov.html#1397" class="Function">GovState</a>
  <a id="5942" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="5958" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="5961" class="Symbol">_</a> <a id="5963" href="Ledger.Conway.Ledger.Properties.html#5963" class="Bound">s</a> <a id="5965" class="Symbol">=</a> <a id="5967" href="Ledger.Conway.Ledger.Properties.html#5963" class="Bound">s</a>
  <a id="5971" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="5987" class="Symbol">(</a><a id="5988" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="5993" href="Ledger.Conway.Ledger.Properties.html#5993" class="Bound">v</a> <a id="5995" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5997" href="Ledger.Conway.Ledger.Properties.html#5997" class="Bound">vps</a><a id="6000" class="Symbol">)</a> <a id="6002" href="Ledger.Conway.Ledger.Properties.html#6002" class="Bound">k</a> <a id="6004" href="Ledger.Conway.Ledger.Properties.html#6004" class="Bound">s</a> <a id="6006" class="Symbol">=</a> <a id="6008" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="6024" href="Ledger.Conway.Ledger.Properties.html#5997" class="Bound">vps</a> <a id="6028" class="Symbol">(</a><a id="6029" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6033" href="Ledger.Conway.Ledger.Properties.html#6002" class="Bound">k</a><a id="6034" class="Symbol">)</a> <a id="6036" class="Symbol">(</a><a id="6037" href="Ledger.Conway.Ledger.Properties.html#5696" class="Function">voteUpdate</a> <a id="6048" href="Ledger.Conway.Ledger.Properties.html#6004" class="Bound">s</a> <a id="6050" href="Ledger.Conway.Ledger.Properties.html#5993" class="Bound">v</a><a id="6051" class="Symbol">)</a>
  <a id="6055" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="6071" class="Symbol">(</a><a id="6072" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6077" href="Ledger.Conway.Ledger.Properties.html#6077" class="Bound">p</a> <a id="6079" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6081" href="Ledger.Conway.Ledger.Properties.html#6081" class="Bound">vps</a><a id="6084" class="Symbol">)</a> <a id="6086" href="Ledger.Conway.Ledger.Properties.html#6086" class="Bound">k</a> <a id="6088" href="Ledger.Conway.Ledger.Properties.html#6088" class="Bound">s</a> <a id="6090" class="Symbol">=</a> <a id="6092" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="6108" href="Ledger.Conway.Ledger.Properties.html#6081" class="Bound">vps</a> <a id="6112" class="Symbol">(</a><a id="6113" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6117" href="Ledger.Conway.Ledger.Properties.html#6086" class="Bound">k</a><a id="6118" class="Symbol">)</a> <a id="6120" class="Symbol">(</a><a id="6121" href="Ledger.Conway.Ledger.Properties.html#5555" class="Function">propUpdate</a> <a id="6132" href="Ledger.Conway.Ledger.Properties.html#6088" class="Bound">s</a> <a id="6134" href="Ledger.Conway.Ledger.Properties.html#6077" class="Bound">p</a> <a id="6136" href="Ledger.Conway.Ledger.Properties.html#6086" class="Bound">k</a><a id="6137" class="Symbol">)</a>

  <a id="6142" class="Comment">-- updateGovStates faithfully represents a step of the LEDGER sts</a>
  <a id="LEDGER-PROPS.STS→GovSt≡"></a><a id="6210" href="Ledger.Conway.Ledger.Properties.html#6210" class="Function">STS→GovSt≡</a> <a id="6221" class="Symbol">:</a> <a id="6223" class="Symbol">∀</a> <a id="6225" class="Symbol">{</a><a id="6226" href="Ledger.Conway.Ledger.Properties.html#6226" class="Bound">s&#39;</a> <a id="6229" class="Symbol">:</a> <a id="6231" href="Ledger.Conway.Ledger.html#865" class="Record">LState</a><a id="6237" class="Symbol">}</a> <a id="6239" class="Symbol">→</a> <a id="6241" href="Ledger.Conway.Ledger.Properties.html#4927" class="Bound">Γ</a> <a id="6243" href="Ledger.Conway.Ledger.html#2637" class="Datatype Operator">⊢</a> <a id="6245" href="Ledger.Conway.Ledger.Properties.html#4938" class="Bound">s</a> <a id="6247" href="Ledger.Conway.Ledger.html#2637" class="Datatype Operator">⇀⦇</a> <a id="6250" href="Ledger.Conway.Ledger.Properties.html#4917" class="Bound">tx</a> <a id="6253" href="Ledger.Conway.Ledger.html#2637" class="Datatype Operator">,LEDGER⦈</a> <a id="6262" href="Ledger.Conway.Ledger.Properties.html#6226" class="Bound">s&#39;</a>
               <a id="6280" class="Symbol">→</a> <a id="6282" href="Ledger.Conway.Transaction.html#4391" class="Function">isValid</a> <a id="6290" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6292" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="6297" class="Symbol">→</a> <a id="6299" href="Ledger.Conway.Ledger.html#951" class="Field">LState.govSt</a> <a id="6312" href="Ledger.Conway.Ledger.Properties.html#6226" class="Bound">s&#39;</a> <a id="6315" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6317" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="6333" class="Symbol">(</a><a id="6334" href="Ledger.Conway.Ledger.html#1763" class="Function">txgov</a> <a id="6340" href="Ledger.Conway.Ledger.Properties.html#4987" class="Function">txb</a><a id="6343" class="Symbol">)</a> <a id="6345" class="Number">0</a> <a id="6347" class="Symbol">(</a><a id="6348" href="Ledger.Conway.Ledger.html#1881" class="Function">rmOrphanDRepVotes</a> <a id="6366" class="Symbol">(</a><a id="6367" href="Ledger.Conway.Ledger.html#977" class="Field">LState.certState</a> <a id="6384" href="Ledger.Conway.Ledger.Properties.html#6226" class="Bound">s&#39;</a><a id="6386" class="Symbol">)</a> <a id="6388" class="Symbol">(</a><a id="6389" href="Ledger.Conway.Ledger.html#951" class="Field">LState.govSt</a> <a id="6402" href="Ledger.Conway.Ledger.Properties.html#4938" class="Bound">s</a><a id="6403" class="Symbol">))</a>
  <a id="6408" class="Comment">-- STS→GovSt≡ (LEDGER-V ( _ , _ , _ , x )) refl = STS→updateGovSt≡ (txgov txb) 0 x</a>
  <a id="6493" href="Ledger.Conway.Ledger.Properties.html#6210" class="Function">STS→GovSt≡</a> <a id="6504" class="Symbol">(</a><a id="6505" href="Ledger.Conway.Ledger.html#2699" class="InductiveConstructor">LEDGER-V</a> <a id="6514" href="Ledger.Conway.Ledger.Properties.html#6514" class="Bound">x</a><a id="6515" class="Symbol">)</a> <a id="6517" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6522" class="Symbol">=</a> <a id="6524" href="Ledger.Conway.Ledger.Properties.html#6595" class="Function">STS→updateGovSt≡</a> <a id="6541" class="Symbol">(</a><a id="6542" href="Ledger.Conway.Ledger.html#1763" class="Function">txgov</a> <a id="6548" href="Ledger.Conway.Ledger.Properties.html#4987" class="Function">txb</a><a id="6551" class="Symbol">)</a> <a id="6553" class="Number">0</a> <a id="6555" class="Symbol">(</a><a id="6556" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="6562" class="Symbol">(</a><a id="6563" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="6569" class="Symbol">(</a><a id="6570" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="6576" href="Ledger.Conway.Ledger.Properties.html#6514" class="Bound">x</a><a id="6577" class="Symbol">)))</a>
    <a id="6585" class="Keyword">where</a>
    <a id="6595" href="Ledger.Conway.Ledger.Properties.html#6595" class="Function">STS→updateGovSt≡</a> <a id="6612" class="Symbol">:</a> <a id="6614" class="Symbol">(</a><a id="6615" href="Ledger.Conway.Ledger.Properties.html#6615" class="Bound">vps</a> <a id="6619" class="Symbol">:</a> <a id="6621" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6626" class="Symbol">(</a><a id="6627" href="Ledger.Conway.GovernanceActions.html#2393" class="Record">GovVote</a> <a id="6635" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="6637" href="Ledger.Conway.GovernanceActions.html#2538" class="Record">GovProposal</a><a id="6648" class="Symbol">))</a> <a id="6651" class="Symbol">(</a><a id="6652" href="Ledger.Conway.Ledger.Properties.html#6652" class="Bound">k</a> <a id="6654" class="Symbol">:</a> <a id="6656" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6657" class="Symbol">)</a> <a id="6659" class="Symbol">{</a><a id="6660" href="Ledger.Conway.Ledger.Properties.html#6660" class="Bound">certSt</a> <a id="6667" class="Symbol">:</a> <a id="6669" href="Ledger.Conway.Certs.html#4355" class="Record">CertState</a><a id="6678" class="Symbol">}</a> <a id="6680" class="Symbol">{</a><a id="6681" href="Ledger.Conway.Ledger.Properties.html#6681" class="Bound">govSt</a> <a id="6687" href="Ledger.Conway.Ledger.Properties.html#6687" class="Bound">govSt&#39;</a> <a id="6694" class="Symbol">:</a> <a id="6696" href="Ledger.Conway.Gov.html#1397" class="Function">GovState</a><a id="6704" class="Symbol">}</a>
      <a id="6712" class="Symbol">→</a> <a id="6714" class="Symbol">(</a><a id="6715" href="Interface.STS.html#811" class="Datatype Operator">_⊢_⇀⟦_⟧ᵢ*&#39;_</a> <a id="6727" class="Symbol">{</a><a id="6728" class="Argument">_⊢_⇀⟦_⟧ᵇ_</a> <a id="6738" class="Symbol">=</a> <a id="6740" href="Interface.STS.html#1257" class="Datatype">IdSTS</a><a id="6745" class="Symbol">}{</a><a id="6747" href="Ledger.Conway.Gov.html#6850" class="Datatype Operator">_⊢_⇀⦇_,GOV⦈_</a><a id="6759" class="Symbol">}</a> <a id="6761" class="Symbol">(</a><a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Transaction.html#3330}{\htmlId{6764}{\htmlClass{Function}{\text{txid}}}}\, \\ \,\href{Ledger.Conway.Types.Epoch.html#804}{\htmlId{6771}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Ledger.html#631}{\htmlId{6777}{\htmlClass{Function}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Ledger.Properties.html#5044}{\htmlId{6784}{\htmlClass{Function}{\text{pp}}}}\, \\ \,\href{Ledger.Conway.Ledger.html#654}{\htmlId{6789}{\htmlClass{Function}{\text{ppolicy}}}}\, \\ \,\href{Ledger.Conway.Ledger.html#715}{\htmlId{6799}{\htmlClass{Function}{\text{enactState}}}}\, \\ \,\href{Ledger.Conway.Ledger.Properties.html#6660}{\htmlId{6812}{\htmlClass{Bound}{\text{certSt}}}}\, \\ \,\href{Class.IsSet.html#916}{\htmlId{6821}{\htmlClass{Function}{\text{dom}}}}\, \,\href{Ledger.Conway.Certs.html#3337}{\htmlId{6825}{\htmlClass{Function}{\text{rewards}}}}\, \end{pmatrix}$</a> <a id="6835" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6837" href="Ledger.Conway.Ledger.Properties.html#6652" class="Bound">k</a><a id="6838" class="Symbol">)</a> <a id="6840" href="Ledger.Conway.Ledger.Properties.html#6681" class="Bound">govSt</a> <a id="6846" href="Ledger.Conway.Ledger.Properties.html#6615" class="Bound">vps</a> <a id="6850" href="Ledger.Conway.Ledger.Properties.html#6687" class="Bound">govSt&#39;</a><a id="6856" class="Symbol">)</a>
      <a id="6864" class="Symbol">→</a> <a id="6866" href="Ledger.Conway.Ledger.Properties.html#6687" class="Bound">govSt&#39;</a> <a id="6873" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6875" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="6891" href="Ledger.Conway.Ledger.Properties.html#6615" class="Bound">vps</a> <a id="6895" href="Ledger.Conway.Ledger.Properties.html#6652" class="Bound">k</a> <a id="6897" href="Ledger.Conway.Ledger.Properties.html#6681" class="Bound">govSt</a>
    <a id="6907" href="Ledger.Conway.Ledger.Properties.html#6595" class="Function">STS→updateGovSt≡</a> <a id="6924" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="6927" class="Symbol">_</a> <a id="6929" class="Symbol">(</a><a id="6930" href="Interface.STS.html#868" class="InductiveConstructor">BS-base</a> <a id="6938" href="Interface.STS.html#1300" class="InductiveConstructor">Id-nop</a><a id="6944" class="Symbol">)</a> <a id="6946" class="Symbol">=</a> <a id="6948" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="6957" href="Ledger.Conway.Ledger.Properties.html#6595" class="Function">STS→updateGovSt≡</a> <a id="6974" class="Symbol">(</a><a id="6975" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6980" href="Ledger.Conway.Ledger.Properties.html#6980" class="Bound">v</a> <a id="6982" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6984" href="Ledger.Conway.Ledger.Properties.html#6984" class="Bound">vps</a><a id="6987" class="Symbol">)</a> <a id="6989" href="Ledger.Conway.Ledger.Properties.html#6989" class="Bound">k</a> <a id="6991" class="Symbol">(</a><a id="6992" href="Interface.STS.html#984" class="InductiveConstructor">BS-ind</a> <a id="6999" class="Symbol">(</a><a id="7000" href="Ledger.Conway.Gov.html#14274" class="InductiveConstructor">GOV-Vote</a> <a id="7009" href="Ledger.Conway.Ledger.Properties.html#7009" class="Bound">x</a><a id="7010" class="Symbol">)</a> <a id="7012" href="Ledger.Conway.Ledger.Properties.html#7012" class="Bound">h</a><a id="7013" class="Symbol">)</a>
      <a id="7021" class="Symbol">=</a> <a id="7023" href="Ledger.Conway.Ledger.Properties.html#6595" class="Function">STS→updateGovSt≡</a> <a id="7040" href="Ledger.Conway.Ledger.Properties.html#6984" class="Bound">vps</a> <a id="7044" class="Symbol">(</a><a id="7045" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7049" href="Ledger.Conway.Ledger.Properties.html#6989" class="Bound">k</a><a id="7050" class="Symbol">)</a> <a id="7052" href="Ledger.Conway.Ledger.Properties.html#7012" class="Bound">h</a>
    <a id="7058" href="Ledger.Conway.Ledger.Properties.html#6595" class="Function">STS→updateGovSt≡</a> <a id="7075" class="Symbol">(</a><a id="7076" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="7081" href="Ledger.Conway.Ledger.Properties.html#7081" class="Bound">p</a> <a id="7083" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7085" href="Ledger.Conway.Ledger.Properties.html#7085" class="Bound">vps</a><a id="7088" class="Symbol">)</a> <a id="7090" href="Ledger.Conway.Ledger.Properties.html#7090" class="Bound">k</a> <a id="7092" class="Symbol">(</a><a id="7093" href="Interface.STS.html#984" class="InductiveConstructor">BS-ind</a> <a id="7100" class="Symbol">(</a><a id="7101" href="Ledger.Conway.Gov.html#14559" class="InductiveConstructor">GOV-Propose</a> <a id="7113" href="Ledger.Conway.Ledger.Properties.html#7113" class="Bound">x</a><a id="7114" class="Symbol">)</a> <a id="7116" href="Ledger.Conway.Ledger.Properties.html#7116" class="Bound">h</a><a id="7117" class="Symbol">)</a> <a id="7119" class="Symbol">=</a> <a id="7121" href="Ledger.Conway.Ledger.Properties.html#6595" class="Function">STS→updateGovSt≡</a> <a id="7138" href="Ledger.Conway.Ledger.Properties.html#7085" class="Bound">vps</a> <a id="7142" class="Symbol">(</a><a id="7143" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7147" href="Ledger.Conway.Ledger.Properties.html#7090" class="Bound">k</a><a id="7148" class="Symbol">)</a> <a id="7150" href="Ledger.Conway.Ledger.Properties.html#7116" class="Bound">h</a>

  <a id="7155" class="Keyword">opaque</a>
    <a id="7166" class="Keyword">unfolding</a> <a id="7176" href="Ledger.Conway.Gov.html#5856" class="Function">addVote</a>

    <a id="LEDGER-PROPS.dpMap-rmOrphanDRepVotes"></a><a id="7189" href="Ledger.Conway.Ledger.Properties.html#7189" class="Function">dpMap-rmOrphanDRepVotes</a> <a id="7213" class="Symbol">:</a> <a id="7215" class="Symbol">∀</a> <a id="7217" href="Ledger.Conway.Ledger.Properties.html#7217" class="Bound">certState</a> <a id="7227" href="Ledger.Conway.Ledger.Properties.html#7227" class="Bound">govSt</a> <a id="7233" class="Symbol">→</a> <a id="7235" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="7241" class="Symbol">(</a><a id="7242" href="Ledger.Conway.Ledger.html#1881" class="Function">rmOrphanDRepVotes</a> <a id="7260" href="Ledger.Conway.Ledger.Properties.html#7217" class="Bound">certState</a> <a id="7270" href="Ledger.Conway.Ledger.Properties.html#7227" class="Bound">govSt</a><a id="7275" class="Symbol">)</a> <a id="7277" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7279" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="7285" href="Ledger.Conway.Ledger.Properties.html#7227" class="Bound">govSt</a>
    <a id="7295" href="Ledger.Conway.Ledger.Properties.html#7189" class="Function">dpMap-rmOrphanDRepVotes</a> <a id="7319" href="Ledger.Conway.Ledger.Properties.html#7319" class="Bound">certState</a> <a id="7329" href="Ledger.Conway.Ledger.Properties.html#7329" class="Bound">govSt</a> <a id="7335" class="Symbol">=</a> <a id="7337" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="7341" class="Symbol">(</a><a id="7342" href="Class.Functor.Core.html#627" class="Field">fmap-∘</a> <a id="7349" href="Ledger.Conway.Ledger.Properties.html#7329" class="Bound">govSt</a><a id="7354" class="Symbol">)</a> <a id="7356" class="Comment">-- map proj₁ ∘ map (map₂ _) ≡ map (proj₁ ∘ map₂ _) ≡ map proj₁</a>

<a id="7420" class="Keyword">module</a> <a id="SetoidProperties"></a><a id="7427" href="Ledger.Conway.Ledger.Properties.html#7427" class="Module">SetoidProperties</a> <a id="7444" class="Symbol">(</a><a id="7445" href="Ledger.Conway.Ledger.Properties.html#7445" class="Bound">tx</a> <a id="7448" class="Symbol">:</a> <a id="7450" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a><a id="7452" class="Symbol">)</a> <a id="7454" class="Symbol">(</a><a id="7455" href="Ledger.Conway.Ledger.Properties.html#7455" class="Bound">Γ</a> <a id="7457" class="Symbol">:</a> <a id="7459" href="Ledger.Conway.Ledger.html#601" class="Record">LEnv</a><a id="7463" class="Symbol">)</a> <a id="7465" class="Symbol">(</a><a id="7466" href="Ledger.Conway.Ledger.Properties.html#7466" class="Bound">s</a> <a id="7468" class="Symbol">:</a> <a id="7470" href="Ledger.Conway.Ledger.html#865" class="Record">LState</a><a id="7476" class="Symbol">)</a> <a id="7478" class="Keyword">where</a>
  <a id="7486" class="Keyword">open</a> <a id="7491" href="Ledger.Conway.Transaction.html#4306" class="Module">Tx</a> <a id="7494" href="Ledger.Conway.Ledger.Properties.html#7445" class="Bound">tx</a> <a id="7497" class="Keyword">renaming</a> <a id="7506" class="Symbol">(</a><a id="7507" href="Ledger.Conway.Transaction.html#4338" class="Field">body</a> <a id="7512" class="Symbol">to</a> <a id="7515" class="Field">txb</a><a id="7518" class="Symbol">);</a> <a id="7521" class="Keyword">open</a> <a id="7526" href="Ledger.Conway.Transaction.html#2762" class="Module">TxBody</a> <a id="7533" href="Ledger.Conway.Ledger.Properties.html#7515" class="Function">txb</a>
  <a id="7539" class="Keyword">open</a> <a id="7544" href="Ledger.Conway.Ledger.html#601" class="Module">LEnv</a> <a id="7549" href="Ledger.Conway.Ledger.Properties.html#7455" class="Bound">Γ</a> <a id="7551" class="Keyword">renaming</a> <a id="7560" class="Symbol">(</a><a id="7561" href="Ledger.Conway.Ledger.html#689" class="Field">pparams</a> <a id="7569" class="Symbol">to</a> <a id="7572" class="Field">pp</a><a id="7574" class="Symbol">)</a>
  <a id="7578" class="Keyword">open</a> <a id="7583" href="Ledger.Conway.PParams.html#1721" class="Module">PParams</a> <a id="7591" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a> <a id="7594" class="Keyword">using</a> <a id="7600" class="Symbol">(</a><a id="7601" href="Ledger.Conway.PParams.html#3388" class="Field">govActionDeposit</a><a id="7617" class="Symbol">;</a> <a id="7619" href="Ledger.Conway.PParams.html#2272" class="Field">poolDeposit</a><a id="7630" class="Symbol">)</a>
  <a id="SetoidProperties.govSt"></a><a id="7634" href="Ledger.Conway.Ledger.Properties.html#7634" class="Function">govSt</a> <a id="7640" class="Symbol">:</a> <a id="7642" href="Ledger.Conway.Gov.html#1397" class="Function">GovState</a>
  <a id="7653" href="Ledger.Conway.Ledger.Properties.html#7634" class="Function">govSt</a> <a id="7659" class="Symbol">=</a> <a id="7661" href="Ledger.Conway.Ledger.html#951" class="Field">LState.govSt</a> <a id="7674" href="Ledger.Conway.Ledger.Properties.html#7466" class="Bound">s</a>
  <a id="7678" class="Keyword">open</a> <a id="7683" href="Ledger.Conway.Ledger.Properties.html#4903" class="Module">LEDGER-PROPS</a> <a id="7696" href="Ledger.Conway.Ledger.Properties.html#7445" class="Bound">tx</a> <a id="7699" href="Ledger.Conway.Ledger.Properties.html#7455" class="Bound">Γ</a> <a id="7701" href="Ledger.Conway.Ledger.Properties.html#7466" class="Bound">s</a> <a id="7703" class="Keyword">using</a> <a id="7709" class="Symbol">(</a><a id="7710" href="Ledger.Conway.Ledger.Properties.html#5185" class="Function">utxoDeps</a><a id="7718" class="Symbol">;</a> <a id="7720" href="Ledger.Conway.Ledger.Properties.html#5555" class="Function">propUpdate</a><a id="7730" class="Symbol">;</a> <a id="7732" href="Ledger.Conway.Ledger.Properties.html#5298" class="Function">mkAction</a><a id="7740" class="Symbol">;</a> <a id="7742" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a><a id="7757" class="Symbol">;</a> <a id="7759" href="Ledger.Conway.Ledger.Properties.html#6210" class="Function">STS→GovSt≡</a><a id="7769" class="Symbol">;</a> <a id="7771" href="Ledger.Conway.Ledger.Properties.html#5696" class="Function">voteUpdate</a><a id="7781" class="Symbol">;</a> <a id="7783" href="Ledger.Conway.Ledger.Properties.html#7189" class="Function">dpMap-rmOrphanDRepVotes</a><a id="7806" class="Symbol">)</a>
  <a id="7810" class="Keyword">open</a> <a id="7815" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="7831" class="Symbol">(</a><a id="7832" href="Axiom.Set.Properties.html#3967" class="Function">≡ᵉ-Setoid</a><a id="7841" class="Symbol">{</a><a id="7842" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a><a id="7856" class="Symbol">})</a>

  <a id="SetoidProperties.CredDepIsNotGADep"></a><a id="7862" href="Ledger.Conway.Ledger.Properties.html#7862" class="Function">CredDepIsNotGADep</a> <a id="7880" class="Symbol">:</a> <a id="7882" class="Symbol">∀</a> <a id="7884" class="Symbol">{</a><a id="7885" href="Ledger.Conway.Ledger.Properties.html#7885" class="Bound">a</a> <a id="7887" href="Ledger.Conway.Ledger.Properties.html#7887" class="Bound">c</a><a id="7888" class="Symbol">}</a> <a id="7890" class="Symbol">→</a> <a id="7892" href="Ledger.Conway.Ledger.Properties.html#7885" class="Bound">a</a> <a id="7894" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7896" href="Ledger.Conway.Certs.html#390" class="InductiveConstructor">CredentialDeposit</a> <a id="7914" href="Ledger.Conway.Ledger.Properties.html#7887" class="Bound">c</a> <a id="7916" class="Symbol">→</a> <a id="7918" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="7920" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="7932" href="Ledger.Conway.Ledger.Properties.html#7885" class="Bound">a</a>
  <a id="7936" href="Ledger.Conway.Ledger.Properties.html#7862" class="Function">CredDepIsNotGADep</a> <a id="7954" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7959" class="Symbol">()</a>

  <a id="SetoidProperties.PoolDepIsNotGADep"></a><a id="7965" href="Ledger.Conway.Ledger.Properties.html#7965" class="Function">PoolDepIsNotGADep</a> <a id="7983" class="Symbol">:</a> <a id="7985" class="Symbol">∀</a> <a id="7987" class="Symbol">{</a><a id="7988" href="Ledger.Conway.Ledger.Properties.html#7988" class="Bound">a</a> <a id="7990" href="Ledger.Conway.Ledger.Properties.html#7990" class="Bound">c</a><a id="7991" class="Symbol">}</a> <a id="7993" class="Symbol">→</a> <a id="7995" href="Ledger.Conway.Ledger.Properties.html#7988" class="Bound">a</a> <a id="7997" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7999" href="Ledger.Conway.Certs.html#443" class="InductiveConstructor">PoolDeposit</a> <a id="8011" href="Ledger.Conway.Ledger.Properties.html#7990" class="Bound">c</a> <a id="8013" class="Symbol">→</a> <a id="8015" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="8017" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="8029" href="Ledger.Conway.Ledger.Properties.html#7988" class="Bound">a</a>
  <a id="8033" href="Ledger.Conway.Ledger.Properties.html#7965" class="Function">PoolDepIsNotGADep</a> <a id="8051" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8056" class="Symbol">()</a>

  <a id="SetoidProperties.DRepDepIsNotGADep"></a><a id="8062" href="Ledger.Conway.Ledger.Properties.html#8062" class="Function">DRepDepIsNotGADep</a> <a id="8080" class="Symbol">:</a> <a id="8082" class="Symbol">∀</a> <a id="8084" class="Symbol">{</a><a id="8085" href="Ledger.Conway.Ledger.Properties.html#8085" class="Bound">a</a> <a id="8087" href="Ledger.Conway.Ledger.Properties.html#8087" class="Bound">c</a><a id="8088" class="Symbol">}</a> <a id="8090" class="Symbol">→</a> <a id="8092" href="Ledger.Conway.Ledger.Properties.html#8085" class="Bound">a</a> <a id="8094" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="8096" href="Ledger.Conway.Certs.html#496" class="InductiveConstructor">DRepDeposit</a> <a id="8108" href="Ledger.Conway.Ledger.Properties.html#8087" class="Bound">c</a> <a id="8110" class="Symbol">→</a> <a id="8112" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="8114" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="8126" href="Ledger.Conway.Ledger.Properties.html#8085" class="Bound">a</a>
  <a id="8130" href="Ledger.Conway.Ledger.Properties.html#8062" class="Function">DRepDepIsNotGADep</a> <a id="8148" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="8153" class="Symbol">()</a>

  <a id="SetoidProperties.filterCR"></a><a id="8159" href="Ledger.Conway.Ledger.Properties.html#8159" class="Function">filterCR</a> <a id="8168" class="Symbol">:</a> <a id="8170" class="Symbol">(</a><a id="8171" href="Ledger.Conway.Ledger.Properties.html#8171" class="Bound">c</a> <a id="8173" class="Symbol">:</a> <a id="8175" href="Ledger.Conway.Certs.html#1352" class="Datatype">DCert</a><a id="8180" class="Symbol">)</a> <a id="8182" class="Symbol">(</a><a id="8183" href="Ledger.Conway.Ledger.Properties.html#8183" class="Bound">deps</a> <a id="8188" class="Symbol">:</a> <a id="8190" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a><a id="8198" class="Symbol">)</a>
             <a id="8213" class="Symbol">→</a> <a id="8215" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8223" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="8235" class="Symbol">(</a><a id="8236" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8240" class="Symbol">(</a> <a id="8242" href="Ledger.Conway.Ledger.Properties.html#8183" class="Bound">deps</a> <a id="8247" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="8249" href="Ledger.Conway.Utxo.html#4509" class="Function">certRefund</a> <a id="8260" href="Ledger.Conway.Ledger.Properties.html#8171" class="Bound">c</a> <a id="8262" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a> <a id="8264" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="8266" class="Symbol">))</a> <a id="8269" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="8272" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8280" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="8292" class="Symbol">(</a><a id="8293" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8297" class="Symbol">(</a><a id="8298" href="Ledger.Conway.Ledger.Properties.html#8183" class="Bound">deps</a> <a id="8303" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="8304" class="Symbol">))</a>
  <a id="8309" href="Ledger.Conway.Ledger.Properties.html#8159" class="Function">filterCR</a> <a id="8318" class="Symbol">(</a><a id="8319" href="Ledger.Conway.Certs.html#1446" class="InductiveConstructor">dereg</a> <a id="8325" href="Ledger.Conway.Ledger.Properties.html#8325" class="Bound">c</a> <a id="8327" class="Symbol">_)</a> <a id="8330" href="Ledger.Conway.Ledger.Properties.html#8330" class="Bound">deps</a> <a id="8335" class="Symbol">=</a> <a id="8337" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="8344" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8346" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="8356" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8364" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="8376" class="Symbol">(</a><a id="8377" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8381" class="Symbol">(</a><a id="8382" href="Ledger.Conway.Ledger.Properties.html#8330" class="Bound">deps</a> <a id="8387" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="8388" class="Symbol">))</a> <a id="8391" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="8395" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="8410" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8412" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="8421" class="Symbol">(</a><a id="8422" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="8431" href="Axiom.Set.Properties.html#9285" class="Function">Dec-∈-singleton</a><a id="8446" class="Symbol">)</a> <a id="8448" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="8454" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8462" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="8474" class="Symbol">(</a><a id="8475" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8479" class="Symbol">((</a><a id="8481" href="Ledger.Conway.Ledger.Properties.html#8330" class="Bound">deps</a> <a id="8486" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="8488" href="Ledger.Conway.Ledger.Properties.html#8928" class="Function">cr</a><a id="8490" class="Symbol">)</a><a id="8491" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="8493" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="8495" class="Symbol">(</a><a id="8496" href="Ledger.Conway.Ledger.Properties.html#8330" class="Bound">deps</a> <a id="8501" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="8503" href="Ledger.Conway.Ledger.Properties.html#8928" class="Function">cr</a> <a id="8506" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="8507" class="Symbol">)</a><a id="8508" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="8509" class="Symbol">))</a> <a id="8512" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="8515" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="8530" href="Axiom.Set.Rel.html#3736" class="Function">dom∪</a> <a id="8535" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="8541" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8549" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="8561" class="Symbol">(</a><a id="8562" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8566" class="Symbol">((</a><a id="8568" href="Ledger.Conway.Ledger.Properties.html#8330" class="Bound">deps</a> <a id="8573" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="8575" href="Ledger.Conway.Ledger.Properties.html#8928" class="Function">cr</a><a id="8577" class="Symbol">)</a> <a id="8579" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="8580" class="Symbol">)</a> <a id="8582" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="8584" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8588" class="Symbol">((</a><a id="8590" href="Ledger.Conway.Ledger.Properties.html#8330" class="Bound">deps</a> <a id="8595" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="8597" href="Ledger.Conway.Ledger.Properties.html#8928" class="Function">cr</a> <a id="8600" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="8601" class="Symbol">)</a> <a id="8603" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="8605" class="Symbol">))</a> <a id="8608" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="8611" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="8624" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="8630" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8638" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="8650" class="Symbol">(</a><a id="8651" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8655" class="Symbol">((</a><a id="8657" href="Ledger.Conway.Ledger.Properties.html#8330" class="Bound">deps</a> <a id="8662" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="8664" href="Ledger.Conway.Ledger.Properties.html#8928" class="Function">cr</a><a id="8666" class="Symbol">)</a> <a id="8668" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="8669" class="Symbol">))</a> <a id="8672" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="8674" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8682" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="8694" class="Symbol">(</a><a id="8695" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8699" class="Symbol">((</a><a id="8701" href="Ledger.Conway.Ledger.Properties.html#8330" class="Bound">deps</a> <a id="8706" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="8708" href="Ledger.Conway.Ledger.Properties.html#8928" class="Function">cr</a> <a id="8711" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="8712" class="Symbol">)</a> <a id="8714" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="8716" class="Symbol">))</a> <a id="8719" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="8722" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="8729" href="Ledger.Conway.Ledger.Properties.html#8961" class="Function">filter0</a> <a id="8737" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="8745" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="8751" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="8753" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="8755" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8763" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="8775" class="Symbol">(</a><a id="8776" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8780" class="Symbol">((</a><a id="8782" href="Ledger.Conway.Ledger.Properties.html#8330" class="Bound">deps</a> <a id="8787" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="8789" href="Ledger.Conway.Ledger.Properties.html#8928" class="Function">cr</a> <a id="8792" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="8793" class="Symbol">)</a> <a id="8795" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="8797" class="Symbol">))</a> <a id="8800" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="8803" href="Axiom.Set.Properties.html#11917" class="Function">∪-identityˡ</a> <a id="8815" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="8817" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8825" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="8837" class="Symbol">(</a><a id="8838" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8842" class="Symbol">((</a><a id="8844" href="Ledger.Conway.Ledger.Properties.html#8330" class="Bound">deps</a> <a id="8849" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="8851" href="Ledger.Conway.Ledger.Properties.html#8928" class="Function">cr</a> <a id="8854" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="8855" class="Symbol">)</a> <a id="8857" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="8859" class="Symbol">))</a> <a id="8862" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="8868" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="8876" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="8888" class="Symbol">(</a><a id="8889" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8893" class="Symbol">((</a><a id="8895" href="Ledger.Conway.Ledger.Properties.html#8330" class="Bound">deps</a> <a id="8900" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="8902" href="Ledger.Conway.Ledger.Properties.html#8928" class="Function">cr</a> <a id="8905" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="8906" class="Symbol">)</a> <a id="8908" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="8909" class="Symbol">))</a> <a id="8912" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="8918" class="Keyword">where</a>
    <a id="8928" href="Ledger.Conway.Ledger.Properties.html#8928" class="Function">cr</a> <a id="8931" class="Symbol">=</a> <a id="8933" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="8935" href="Ledger.Conway.Certs.html#390" class="InductiveConstructor">CredentialDeposit</a> <a id="8953" href="Ledger.Conway.Ledger.Properties.html#8325" class="Bound">c</a> <a id="8955" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
    <a id="8961" href="Ledger.Conway.Ledger.Properties.html#8961" class="Function">filter0</a> <a id="8969" class="Symbol">=</a> <a id="8971" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="8980" class="Symbol">(λ</a> <a id="8983" href="Ledger.Conway.Ledger.Properties.html#8983" class="Bound">_</a> <a id="8985" class="Symbol">→</a> <a id="8987" href="Ledger.Conway.Ledger.Properties.html#7862" class="Function">CredDepIsNotGADep</a> <a id="9005" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="9007" class="Symbol">(</a><a id="9008" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9013" href="Axiom.Set.html#6243" class="Function">∈-singleton</a><a id="9024" class="Symbol">)</a> <a id="9026" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="9028" href="Axiom.Set.Rel.html#6681" class="Function">res-dom</a><a id="9035" class="Symbol">)</a>
  <a id="9039" href="Ledger.Conway.Ledger.Properties.html#8159" class="Function">filterCR</a> <a id="9048" class="Symbol">(</a><a id="9049" href="Ledger.Conway.Certs.html#1630" class="InductiveConstructor">deregdrep</a> <a id="9059" href="Ledger.Conway.Ledger.Properties.html#9059" class="Bound">c</a> <a id="9061" class="Symbol">_)</a> <a id="9064" href="Ledger.Conway.Ledger.Properties.html#9064" class="Bound">deps</a> <a id="9069" class="Symbol">=</a> <a id="9071" href="Relation.Binary.Structures.html#1622" class="Function">≡ᵉ.sym</a> <a id="9078" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9080" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="9090" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="9098" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="9110" class="Symbol">(</a><a id="9111" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9115" class="Symbol">(</a><a id="9116" href="Ledger.Conway.Ledger.Properties.html#9064" class="Bound">deps</a> <a id="9121" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="9122" class="Symbol">))</a> <a id="9125" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="9129" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="9144" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9146" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="9155" class="Symbol">(</a><a id="9156" href="Axiom.Set.Rel.html#7935" class="Function">res-ex-∪</a> <a id="9165" href="Axiom.Set.Properties.html#9285" class="Function">Dec-∈-singleton</a><a id="9180" class="Symbol">)</a> <a id="9182" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="9188" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="9196" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="9208" class="Symbol">(</a><a id="9209" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9213" class="Symbol">((</a><a id="9215" href="Ledger.Conway.Ledger.Properties.html#9064" class="Bound">deps</a> <a id="9220" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9222" href="Ledger.Conway.Ledger.Properties.html#9662" class="Function">cr</a><a id="9224" class="Symbol">)</a><a id="9225" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="9227" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="9229" class="Symbol">(</a><a id="9230" href="Ledger.Conway.Ledger.Properties.html#9064" class="Bound">deps</a> <a id="9235" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="9237" href="Ledger.Conway.Ledger.Properties.html#9662" class="Function">cr</a> <a id="9240" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="9241" class="Symbol">)</a><a id="9242" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="9243" class="Symbol">))</a> <a id="9246" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="9249" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="9264" href="Axiom.Set.Rel.html#3736" class="Function">dom∪</a> <a id="9269" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="9275" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="9283" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="9295" class="Symbol">(</a><a id="9296" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9300" class="Symbol">((</a><a id="9302" href="Ledger.Conway.Ledger.Properties.html#9064" class="Bound">deps</a> <a id="9307" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9309" href="Ledger.Conway.Ledger.Properties.html#9662" class="Function">cr</a><a id="9311" class="Symbol">)</a> <a id="9313" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="9314" class="Symbol">)</a> <a id="9316" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="9318" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9322" class="Symbol">((</a><a id="9324" href="Ledger.Conway.Ledger.Properties.html#9064" class="Bound">deps</a> <a id="9329" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="9331" href="Ledger.Conway.Ledger.Properties.html#9662" class="Function">cr</a> <a id="9334" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="9335" class="Symbol">)</a> <a id="9337" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="9339" class="Symbol">))</a> <a id="9342" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="9345" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="9358" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="9364" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="9372" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="9384" class="Symbol">(</a><a id="9385" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9389" class="Symbol">((</a><a id="9391" href="Ledger.Conway.Ledger.Properties.html#9064" class="Bound">deps</a> <a id="9396" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="9398" href="Ledger.Conway.Ledger.Properties.html#9662" class="Function">cr</a><a id="9400" class="Symbol">)</a> <a id="9402" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="9403" class="Symbol">))</a> <a id="9406" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="9408" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="9416" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="9428" class="Symbol">(</a><a id="9429" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9433" class="Symbol">((</a><a id="9435" href="Ledger.Conway.Ledger.Properties.html#9064" class="Bound">deps</a> <a id="9440" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="9442" href="Ledger.Conway.Ledger.Properties.html#9662" class="Function">cr</a> <a id="9445" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="9446" class="Symbol">)</a> <a id="9448" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="9450" class="Symbol">))</a> <a id="9453" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="9456" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="9463" href="Ledger.Conway.Ledger.Properties.html#9689" class="Function">filter0</a> <a id="9471" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="9479" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="9485" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="9487" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="9489" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="9497" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="9509" class="Symbol">(</a><a id="9510" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9514" class="Symbol">((</a><a id="9516" href="Ledger.Conway.Ledger.Properties.html#9064" class="Bound">deps</a> <a id="9521" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="9523" href="Ledger.Conway.Ledger.Properties.html#9662" class="Function">cr</a> <a id="9526" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="9527" class="Symbol">)</a> <a id="9529" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="9531" class="Symbol">))</a> <a id="9534" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="9537" href="Axiom.Set.Properties.html#11917" class="Function">∪-identityˡ</a> <a id="9549" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="9551" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="9559" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="9571" class="Symbol">(</a><a id="9572" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9576" class="Symbol">((</a><a id="9578" href="Ledger.Conway.Ledger.Properties.html#9064" class="Bound">deps</a> <a id="9583" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="9585" href="Ledger.Conway.Ledger.Properties.html#9662" class="Function">cr</a> <a id="9588" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="9589" class="Symbol">)</a> <a id="9591" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="9593" class="Symbol">))</a> <a id="9596" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="9602" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="9610" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="9622" class="Symbol">(</a><a id="9623" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9627" class="Symbol">((</a><a id="9629" href="Ledger.Conway.Ledger.Properties.html#9064" class="Bound">deps</a> <a id="9634" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="9636" href="Ledger.Conway.Ledger.Properties.html#9662" class="Function">cr</a> <a id="9639" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="9640" class="Symbol">)</a> <a id="9642" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="9643" class="Symbol">))</a> <a id="9646" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="9652" class="Keyword">where</a>
    <a id="9662" href="Ledger.Conway.Ledger.Properties.html#9662" class="Function">cr</a> <a id="9665" class="Symbol">=</a> <a id="9667" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="9669" href="Ledger.Conway.Certs.html#496" class="InductiveConstructor">DRepDeposit</a> <a id="9681" href="Ledger.Conway.Ledger.Properties.html#9059" class="Bound">c</a> <a id="9683" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
    <a id="9689" href="Ledger.Conway.Ledger.Properties.html#9689" class="Function">filter0</a> <a id="9697" class="Symbol">=</a> <a id="9699" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="9708" class="Symbol">(λ</a> <a id="9711" href="Ledger.Conway.Ledger.Properties.html#9711" class="Bound">_</a> <a id="9713" class="Symbol">→</a> <a id="9715" href="Ledger.Conway.Ledger.Properties.html#8062" class="Function">DRepDepIsNotGADep</a> <a id="9733" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="9735" class="Symbol">(</a><a id="9736" href="Function.Bundles.html#4834" class="Field">from</a> <a id="9741" href="Axiom.Set.html#6243" class="Function">∈-singleton</a><a id="9752" class="Symbol">)</a> <a id="9754" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="9756" href="Axiom.Set.Rel.html#6681" class="Function">res-dom</a><a id="9763" class="Symbol">)</a>
  <a id="9767" href="Ledger.Conway.Ledger.Properties.html#8159" class="Function">filterCR</a> <a id="9776" class="Symbol">(</a><a id="9777" href="Ledger.Conway.Certs.html#1373" class="InductiveConstructor">delegate</a> <a id="9786" class="Symbol">_</a> <a id="9788" class="Symbol">_</a> <a id="9790" class="Symbol">_</a> <a id="9792" class="Symbol">_)</a>  <a id="9796" href="Ledger.Conway.Ledger.Properties.html#9796" class="Bound">deps</a> <a id="9801" class="Symbol">=</a> <a id="9803" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="9818" class="Symbol">(</a><a id="9819" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="9828" class="Symbol">(</a><a id="9829" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="9837" class="Symbol">{</a><a id="9838" class="Argument">M</a> <a id="9840" class="Symbol">=</a> <a id="9842" href="Ledger.Conway.Ledger.Properties.html#9796" class="Bound">deps</a><a id="9846" class="Symbol">}))</a>
  <a id="9852" href="Ledger.Conway.Ledger.Properties.html#8159" class="Function">filterCR</a> <a id="9861" class="Symbol">(</a><a id="9862" href="Ledger.Conway.Certs.html#1494" class="InductiveConstructor">regpool</a> <a id="9870" class="Symbol">_</a> <a id="9872" class="Symbol">_)</a>       <a id="9881" href="Ledger.Conway.Ledger.Properties.html#9881" class="Bound">deps</a> <a id="9886" class="Symbol">=</a> <a id="9888" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="9903" class="Symbol">(</a><a id="9904" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="9913" class="Symbol">(</a><a id="9914" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="9922" class="Symbol">{</a><a id="9923" class="Argument">M</a> <a id="9925" class="Symbol">=</a> <a id="9927" href="Ledger.Conway.Ledger.Properties.html#9881" class="Bound">deps</a><a id="9931" class="Symbol">}))</a>
  <a id="9937" href="Ledger.Conway.Ledger.Properties.html#8159" class="Function">filterCR</a> <a id="9946" class="Symbol">(</a><a id="9947" href="Ledger.Conway.Certs.html#1579" class="InductiveConstructor">regdrep</a> <a id="9955" class="Symbol">_</a> <a id="9957" class="Symbol">_</a> <a id="9959" class="Symbol">_)</a>     <a id="9966" href="Ledger.Conway.Ledger.Properties.html#9966" class="Bound">deps</a> <a id="9971" class="Symbol">=</a> <a id="9973" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="9988" class="Symbol">(</a><a id="9989" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="9998" class="Symbol">(</a><a id="9999" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="10007" class="Symbol">{</a><a id="10008" class="Argument">M</a> <a id="10010" class="Symbol">=</a> <a id="10012" href="Ledger.Conway.Ledger.Properties.html#9966" class="Bound">deps</a><a id="10016" class="Symbol">}))</a>
  <a id="10022" href="Ledger.Conway.Ledger.Properties.html#8159" class="Function">filterCR</a> <a id="10031" class="Symbol">(</a><a id="10032" href="Ledger.Conway.Certs.html#1539" class="InductiveConstructor">retirepool</a> <a id="10043" class="Symbol">_</a> <a id="10045" class="Symbol">_)</a>    <a id="10051" href="Ledger.Conway.Ledger.Properties.html#10051" class="Bound">deps</a> <a id="10056" class="Symbol">=</a> <a id="10058" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="10073" class="Symbol">(</a><a id="10074" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="10083" class="Symbol">(</a><a id="10084" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="10092" class="Symbol">{</a><a id="10093" class="Argument">M</a> <a id="10095" class="Symbol">=</a> <a id="10097" href="Ledger.Conway.Ledger.Properties.html#10051" class="Bound">deps</a><a id="10101" class="Symbol">}))</a>
  <a id="10107" href="Ledger.Conway.Ledger.Properties.html#8159" class="Function">filterCR</a> <a id="10116" class="Symbol">(</a><a id="10117" href="Ledger.Conway.Certs.html#1672" class="InductiveConstructor">ccreghot</a> <a id="10126" class="Symbol">_</a> <a id="10128" class="Symbol">_)</a>      <a id="10136" href="Ledger.Conway.Ledger.Properties.html#10136" class="Bound">deps</a> <a id="10141" class="Symbol">=</a> <a id="10143" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="10158" class="Symbol">(</a><a id="10159" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="10168" class="Symbol">(</a><a id="10169" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="10177" class="Symbol">{</a><a id="10178" class="Argument">M</a> <a id="10180" class="Symbol">=</a> <a id="10182" href="Ledger.Conway.Ledger.Properties.html#10136" class="Bound">deps</a><a id="10186" class="Symbol">}))</a>
  <a id="10192" href="Ledger.Conway.Ledger.Properties.html#8159" class="Function">filterCR</a> <a id="10201" class="Symbol">(</a><a id="10202" href="Ledger.Conway.Certs.html#2059" class="InductiveConstructor">reg</a> <a id="10206" class="Symbol">_</a> <a id="10208" class="Symbol">_)</a>           <a id="10221" href="Ledger.Conway.Ledger.Properties.html#10221" class="Bound">deps</a> <a id="10226" class="Symbol">=</a> <a id="10228" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="10243" class="Symbol">(</a><a id="10244" href="Axiom.Set.Rel.html#4329" class="Function">dom-cong</a> <a id="10253" class="Symbol">(</a><a id="10254" href="Axiom.Set.Map.html#10822" class="Function">resᵐ-∅ᶜ</a> <a id="10262" class="Symbol">{</a><a id="10263" class="Argument">M</a> <a id="10265" class="Symbol">=</a> <a id="10267" href="Ledger.Conway.Ledger.Properties.html#10221" class="Bound">deps</a><a id="10271" class="Symbol">}))</a>

  <a id="SetoidProperties.filterCD"></a><a id="10278" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="10287" class="Symbol">:</a> <a id="10289" class="Symbol">(</a><a id="10290" href="Ledger.Conway.Ledger.Properties.html#10290" class="Bound">c</a> <a id="10292" class="Symbol">:</a> <a id="10294" href="Ledger.Conway.Certs.html#1352" class="Datatype">DCert</a><a id="10299" class="Symbol">)</a> <a id="10301" class="Symbol">(</a><a id="10302" href="Ledger.Conway.Ledger.Properties.html#10302" class="Bound">deps</a> <a id="10307" class="Symbol">:</a> <a id="10309" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a><a id="10317" class="Symbol">)</a> <a id="10319" class="Symbol">→</a> <a id="10321" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="10329" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="10341" class="Symbol">(</a><a id="10342" href="Class.IsSet.html#916" class="Function">dom</a> <a id="10346" class="Symbol">(</a><a id="10347" href="Ledger.Conway.Utxo.html#4152" class="Function">certDeposit</a> <a id="10359" href="Ledger.Conway.Ledger.Properties.html#10290" class="Bound">c</a> <a id="10361" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a> <a id="10364" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="10365" class="Symbol">))</a> <a id="10368" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="10371" href="Class.HasEmptySet.html#287" class="Field">∅</a>
  <a id="10375" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="10384" class="Symbol">(</a><a id="10385" href="Ledger.Conway.Certs.html#1373" class="InductiveConstructor">delegate</a> <a id="10394" class="Symbol">_</a> <a id="10396" class="Symbol">_</a> <a id="10398" class="Symbol">_</a> <a id="10400" class="Symbol">_)</a>  <a id="10404" href="Ledger.Conway.Ledger.Properties.html#10404" class="Bound">deps</a> <a id="10409" class="Symbol">=</a> <a id="10411" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="10420" class="Symbol">λ</a> <a id="10422" href="Ledger.Conway.Ledger.Properties.html#10422" class="Bound">_</a> <a id="10424" class="Symbol">→</a> <a id="10426" href="Ledger.Conway.Ledger.Properties.html#7862" class="Function">CredDepIsNotGADep</a> <a id="10444" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="10446" href="Function.Bundles.html#4834" class="Field">from</a> <a id="10451" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="10463" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="10465" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="10485" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="10494" class="Symbol">(</a><a id="10495" href="Ledger.Conway.Certs.html#2059" class="InductiveConstructor">reg</a> <a id="10499" class="Symbol">_</a> <a id="10501" class="Symbol">_)</a>           <a id="10514" href="Ledger.Conway.Ledger.Properties.html#10514" class="Bound">deps</a> <a id="10519" class="Symbol">=</a> <a id="10521" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="10530" class="Symbol">λ</a> <a id="10532" href="Ledger.Conway.Ledger.Properties.html#10532" class="Bound">_</a> <a id="10534" class="Symbol">→</a> <a id="10536" href="Ledger.Conway.Ledger.Properties.html#7862" class="Function">CredDepIsNotGADep</a> <a id="10554" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="10556" href="Function.Bundles.html#4834" class="Field">from</a> <a id="10561" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="10573" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="10575" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="10595" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="10604" class="Symbol">(</a><a id="10605" href="Ledger.Conway.Certs.html#1494" class="InductiveConstructor">regpool</a> <a id="10613" class="Symbol">_</a> <a id="10615" class="Symbol">_)</a>       <a id="10624" href="Ledger.Conway.Ledger.Properties.html#10624" class="Bound">deps</a> <a id="10629" class="Symbol">=</a> <a id="10631" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="10640" class="Symbol">λ</a> <a id="10642" href="Ledger.Conway.Ledger.Properties.html#10642" class="Bound">_</a> <a id="10644" class="Symbol">→</a> <a id="10646" href="Ledger.Conway.Ledger.Properties.html#7965" class="Function">PoolDepIsNotGADep</a> <a id="10664" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="10666" href="Function.Bundles.html#4834" class="Field">from</a> <a id="10671" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="10683" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="10685" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="10705" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="10714" class="Symbol">(</a><a id="10715" href="Ledger.Conway.Certs.html#1579" class="InductiveConstructor">regdrep</a> <a id="10723" class="Symbol">_</a> <a id="10725" class="Symbol">_</a> <a id="10727" class="Symbol">_)</a>     <a id="10734" href="Ledger.Conway.Ledger.Properties.html#10734" class="Bound">deps</a> <a id="10739" class="Symbol">=</a> <a id="10741" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="10750" class="Symbol">λ</a> <a id="10752" href="Ledger.Conway.Ledger.Properties.html#10752" class="Bound">_</a> <a id="10754" class="Symbol">→</a> <a id="10756" href="Ledger.Conway.Ledger.Properties.html#8062" class="Function">DRepDepIsNotGADep</a> <a id="10774" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="10776" href="Function.Bundles.html#4834" class="Field">from</a> <a id="10781" href="Axiom.Set.html#6243" class="Function">∈-singleton</a> <a id="10793" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="10795" href="Axiom.Set.Rel.html#3131" class="Function">dom-single→single</a>
  <a id="10815" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="10824" class="Symbol">(</a><a id="10825" href="Ledger.Conway.Certs.html#1446" class="InductiveConstructor">dereg</a> <a id="10831" class="Symbol">_</a> <a id="10833" class="Symbol">_)</a>         <a id="10844" href="Ledger.Conway.Ledger.Properties.html#10844" class="Bound">deps</a> <a id="10849" class="Symbol">=</a> <a id="10851" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="10860" class="Symbol">(</a><a id="10861" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="10876" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="10880" class="Symbol">)</a> <a id="10882" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10884" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="10893" class="Symbol">λ</a> <a id="10895" href="Ledger.Conway.Ledger.Properties.html#10895" class="Bound">_</a> <a id="10897" href="Ledger.Conway.Ledger.Properties.html#10897" class="Bound">a∈</a> <a id="10900" href="Ledger.Conway.Ledger.Properties.html#10900" class="Bound">_</a> <a id="10902" class="Symbol">→</a> <a id="10904" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="10908" href="Ledger.Conway.Ledger.Properties.html#10897" class="Bound">a∈</a>
  <a id="10913" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="10922" class="Symbol">(</a><a id="10923" href="Ledger.Conway.Certs.html#1539" class="InductiveConstructor">retirepool</a> <a id="10934" class="Symbol">_</a> <a id="10936" class="Symbol">_)</a>    <a id="10942" href="Ledger.Conway.Ledger.Properties.html#10942" class="Bound">deps</a> <a id="10947" class="Symbol">=</a> <a id="10949" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="10958" class="Symbol">(</a><a id="10959" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="10974" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="10978" class="Symbol">)</a> <a id="10980" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="10982" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="10991" class="Symbol">λ</a> <a id="10993" href="Ledger.Conway.Ledger.Properties.html#10993" class="Bound">_</a> <a id="10995" href="Ledger.Conway.Ledger.Properties.html#10995" class="Bound">a∈</a> <a id="10998" href="Ledger.Conway.Ledger.Properties.html#10998" class="Bound">_</a> <a id="11000" class="Symbol">→</a> <a id="11002" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="11006" href="Ledger.Conway.Ledger.Properties.html#10995" class="Bound">a∈</a>
  <a id="11011" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="11020" class="Symbol">(</a><a id="11021" href="Ledger.Conway.Certs.html#1630" class="InductiveConstructor">deregdrep</a> <a id="11031" class="Symbol">_</a> <a id="11033" class="Symbol">_)</a>     <a id="11040" href="Ledger.Conway.Ledger.Properties.html#11040" class="Bound">deps</a> <a id="11045" class="Symbol">=</a> <a id="11047" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="11056" class="Symbol">(</a><a id="11057" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="11072" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="11076" class="Symbol">)</a> <a id="11078" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11080" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="11089" class="Symbol">λ</a> <a id="11091" href="Ledger.Conway.Ledger.Properties.html#11091" class="Bound">_</a> <a id="11093" href="Ledger.Conway.Ledger.Properties.html#11093" class="Bound">a∈</a> <a id="11096" href="Ledger.Conway.Ledger.Properties.html#11096" class="Bound">_</a> <a id="11098" class="Symbol">→</a> <a id="11100" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="11104" href="Ledger.Conway.Ledger.Properties.html#11093" class="Bound">a∈</a>
  <a id="11109" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="11118" class="Symbol">(</a><a id="11119" href="Ledger.Conway.Certs.html#1672" class="InductiveConstructor">ccreghot</a> <a id="11128" class="Symbol">_</a> <a id="11130" class="Symbol">_)</a>      <a id="11138" href="Ledger.Conway.Ledger.Properties.html#11138" class="Bound">deps</a> <a id="11143" class="Symbol">=</a> <a id="11145" href="Relation.Binary.Structures.html#1648" class="Function">≡ᵉ.trans</a> <a id="11154" class="Symbol">(</a><a id="11155" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="11170" href="Axiom.Set.Rel.html#3668" class="Function">dom∅</a><a id="11174" class="Symbol">)</a> <a id="11176" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11178" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="11187" class="Symbol">λ</a> <a id="11189" href="Ledger.Conway.Ledger.Properties.html#11189" class="Bound">_</a> <a id="11191" href="Ledger.Conway.Ledger.Properties.html#11191" class="Bound">a∈</a> <a id="11194" href="Ledger.Conway.Ledger.Properties.html#11194" class="Bound">_</a> <a id="11196" class="Symbol">→</a> <a id="11198" href="Axiom.Set.Properties.html#5520" class="Function">∉-∅</a> <a id="11202" href="Ledger.Conway.Ledger.Properties.html#11191" class="Bound">a∈</a>

  <a id="SetoidProperties.noGACerts"></a><a id="11208" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="11218" class="Symbol">:</a> <a id="11220" class="Symbol">(</a><a id="11221" href="Ledger.Conway.Ledger.Properties.html#11221" class="Bound">cs</a> <a id="11224" class="Symbol">:</a> <a id="11226" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="11231" href="Ledger.Conway.Certs.html#1352" class="Datatype">DCert</a><a id="11236" class="Symbol">)</a> <a id="11238" class="Symbol">(</a><a id="11239" href="Ledger.Conway.Ledger.Properties.html#11239" class="Bound">deps</a> <a id="11244" class="Symbol">:</a> <a id="11246" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a><a id="11254" class="Symbol">)</a>
    <a id="11260" class="Symbol">→</a> <a id="11262" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="11270" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="11282" class="Symbol">(</a><a id="11283" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11287" class="Symbol">(</a><a id="11288" href="Ledger.Conway.Utxo.html#8061" class="Function">updateCertDeposits</a> <a id="11307" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a> <a id="11310" href="Ledger.Conway.Ledger.Properties.html#11221" class="Bound">cs</a> <a id="11313" href="Ledger.Conway.Ledger.Properties.html#11239" class="Bound">deps</a><a id="11317" class="Symbol">))</a> <a id="11320" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="11323" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="11331" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="11343" class="Symbol">(</a><a id="11344" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11348" href="Ledger.Conway.Ledger.Properties.html#11239" class="Bound">deps</a><a id="11352" class="Symbol">)</a>
  <a id="11356" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="11366" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11369" class="Symbol">_</a> <a id="11371" class="Symbol">=</a> <a id="11373" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="11388" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a>
  <a id="11398" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="11408" class="Symbol">(</a><a id="11409" href="Ledger.Conway.Ledger.Properties.html#11409" class="Bound">dcert</a><a id="11414" class="Symbol">@(</a><a id="11416" href="Ledger.Conway.Certs.html#1373" class="InductiveConstructor">delegate</a> <a id="11425" class="Symbol">_</a> <a id="11427" class="Symbol">_</a> <a id="11429" class="Symbol">_</a> <a id="11431" class="Symbol">_)</a> <a id="11434" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11436" href="Ledger.Conway.Ledger.Properties.html#11436" class="Bound">cs</a><a id="11438" class="Symbol">)</a> <a id="11440" href="Ledger.Conway.Ledger.Properties.html#11440" class="Bound">deps</a> <a id="11445" class="Symbol">=</a> <a id="11447" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="11457" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="11465" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="11477" class="Symbol">(</a><a id="11478" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11482" class="Symbol">(</a><a id="11483" href="Ledger.Conway.Utxo.html#8061" class="Function">updateCertDeposits</a> <a id="11502" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a> <a id="11505" href="Ledger.Conway.Ledger.Properties.html#11436" class="Bound">cs</a> <a id="11508" class="Symbol">(</a><a id="11509" href="Ledger.Conway.Ledger.Properties.html#11440" class="Bound">deps</a> <a id="11514" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="11517" href="Ledger.Conway.Ledger.Properties.html#11938" class="Function">cd</a><a id="11519" class="Symbol">)))</a> <a id="11523" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="11526" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="11536" href="Ledger.Conway.Ledger.Properties.html#11436" class="Bound">cs</a> <a id="11539" class="Symbol">_</a> <a id="11541" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="11547" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="11555" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="11567" class="Symbol">(</a><a id="11568" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11572" class="Symbol">(</a><a id="11573" href="Ledger.Conway.Ledger.Properties.html#11440" class="Bound">deps</a> <a id="11578" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="11581" href="Ledger.Conway.Ledger.Properties.html#11938" class="Function">cd</a><a id="11583" class="Symbol">))</a> <a id="11586" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="11589" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="11604" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="11615" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="11621" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="11629" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="11641" class="Symbol">(</a><a id="11642" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11646" href="Ledger.Conway.Ledger.Properties.html#11440" class="Bound">deps</a> <a id="11651" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="11653" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11657" class="Symbol">(</a><a id="11658" href="Ledger.Conway.Ledger.Properties.html#11938" class="Function">cd</a> <a id="11661" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="11663" class="Symbol">))</a> <a id="11666" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="11669" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="11682" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="11688" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="11696" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="11708" class="Symbol">(</a><a id="11709" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11713" href="Ledger.Conway.Ledger.Properties.html#11440" class="Bound">deps</a><a id="11717" class="Symbol">)</a> <a id="11719" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="11721" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="11729" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="11741" class="Symbol">(</a><a id="11742" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11746" class="Symbol">(</a><a id="11747" href="Ledger.Conway.Ledger.Properties.html#11938" class="Function">cd</a> <a id="11750" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="11751" class="Symbol">))</a> <a id="11754" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="11757" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="11764" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="11772" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11774" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="11783" href="Ledger.Conway.Ledger.Properties.html#11409" class="Bound">dcert</a> <a id="11789" href="Ledger.Conway.Ledger.Properties.html#11440" class="Bound">deps</a> <a id="11794" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="11800" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="11808" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="11820" class="Symbol">(</a><a id="11821" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11825" href="Ledger.Conway.Ledger.Properties.html#11440" class="Bound">deps</a><a id="11829" class="Symbol">)</a> <a id="11831" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="11833" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="11835" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="11838" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="11850" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="11852" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="11860" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="11872" class="Symbol">(</a><a id="11873" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11877" href="Ledger.Conway.Ledger.Properties.html#11440" class="Bound">deps</a><a id="11881" class="Symbol">)</a> <a id="11883" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="11889" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="11897" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="11909" class="Symbol">(</a><a id="11910" href="Class.IsSet.html#916" class="Function">dom</a> <a id="11914" href="Ledger.Conway.Ledger.Properties.html#11440" class="Bound">deps</a><a id="11918" class="Symbol">)</a> <a id="11920" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="11926" class="Keyword">where</a>
      <a id="11938" href="Ledger.Conway.Ledger.Properties.html#11938" class="Function">cd</a> <a id="11941" class="Symbol">=</a> <a id="11943" href="Ledger.Conway.Utxo.html#4152" class="Function">certDeposit</a> <a id="11955" href="Ledger.Conway.Ledger.Properties.html#11409" class="Bound">dcert</a> <a id="11961" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a>
      <a id="11970" href="Ledger.Conway.Ledger.Properties.html#11970" class="Function">filter0</a> <a id="11978" class="Symbol">=</a> <a id="11980" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="11989" href="Ledger.Conway.Ledger.Properties.html#11409" class="Bound">dcert</a> <a id="11995" href="Ledger.Conway.Ledger.Properties.html#11440" class="Bound">deps</a>
  <a id="12002" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="12012" class="Symbol">(</a><a id="12013" href="Ledger.Conway.Ledger.Properties.html#12013" class="Bound">dcert</a><a id="12018" class="Symbol">@(</a><a id="12020" href="Ledger.Conway.Certs.html#2059" class="InductiveConstructor">reg</a> <a id="12024" class="Symbol">_</a> <a id="12026" class="Symbol">_)</a> <a id="12029" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12031" href="Ledger.Conway.Ledger.Properties.html#12031" class="Bound">cs</a><a id="12033" class="Symbol">)</a> <a id="12035" href="Ledger.Conway.Ledger.Properties.html#12035" class="Bound">deps</a> <a id="12040" class="Symbol">=</a> <a id="12042" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="12052" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12060" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="12072" class="Symbol">(</a><a id="12073" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12077" class="Symbol">(</a><a id="12078" href="Ledger.Conway.Utxo.html#8061" class="Function">updateCertDeposits</a> <a id="12097" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a> <a id="12100" href="Ledger.Conway.Ledger.Properties.html#12031" class="Bound">cs</a> <a id="12103" class="Symbol">(</a><a id="12104" href="Ledger.Conway.Ledger.Properties.html#12035" class="Bound">deps</a> <a id="12109" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="12112" href="Ledger.Conway.Ledger.Properties.html#12533" class="Function">cd</a><a id="12114" class="Symbol">)))</a> <a id="12118" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12121" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="12131" href="Ledger.Conway.Ledger.Properties.html#12031" class="Bound">cs</a> <a id="12134" class="Symbol">_</a> <a id="12136" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12142" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12150" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="12162" class="Symbol">(</a><a id="12163" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12167" class="Symbol">(</a><a id="12168" href="Ledger.Conway.Ledger.Properties.html#12035" class="Bound">deps</a> <a id="12173" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="12176" href="Ledger.Conway.Ledger.Properties.html#12533" class="Function">cd</a><a id="12178" class="Symbol">))</a> <a id="12181" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12184" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="12199" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="12210" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12216" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12224" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="12236" class="Symbol">(</a><a id="12237" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12241" href="Ledger.Conway.Ledger.Properties.html#12035" class="Bound">deps</a> <a id="12246" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12248" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12252" class="Symbol">(</a><a id="12253" href="Ledger.Conway.Ledger.Properties.html#12533" class="Function">cd</a> <a id="12256" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12258" class="Symbol">))</a> <a id="12261" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12264" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="12277" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12283" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12291" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="12303" class="Symbol">(</a><a id="12304" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12308" href="Ledger.Conway.Ledger.Properties.html#12035" class="Bound">deps</a><a id="12312" class="Symbol">)</a> <a id="12314" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12316" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12324" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="12336" class="Symbol">(</a><a id="12337" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12341" class="Symbol">(</a><a id="12342" href="Ledger.Conway.Ledger.Properties.html#12533" class="Function">cd</a> <a id="12345" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12346" class="Symbol">))</a> <a id="12349" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12352" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="12359" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="12367" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12369" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="12378" href="Ledger.Conway.Ledger.Properties.html#12013" class="Bound">dcert</a> <a id="12384" href="Ledger.Conway.Ledger.Properties.html#12035" class="Bound">deps</a> <a id="12389" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12395" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12403" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="12415" class="Symbol">(</a><a id="12416" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12420" href="Ledger.Conway.Ledger.Properties.html#12035" class="Bound">deps</a><a id="12424" class="Symbol">)</a> <a id="12426" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12428" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="12430" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12433" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="12445" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="12447" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12455" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="12467" class="Symbol">(</a><a id="12468" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12472" href="Ledger.Conway.Ledger.Properties.html#12035" class="Bound">deps</a><a id="12476" class="Symbol">)</a> <a id="12478" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12484" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12492" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="12504" class="Symbol">(</a><a id="12505" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12509" href="Ledger.Conway.Ledger.Properties.html#12035" class="Bound">deps</a><a id="12513" class="Symbol">)</a> <a id="12515" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="12521" class="Keyword">where</a>
      <a id="12533" href="Ledger.Conway.Ledger.Properties.html#12533" class="Function">cd</a> <a id="12536" class="Symbol">=</a> <a id="12538" href="Ledger.Conway.Utxo.html#4152" class="Function">certDeposit</a> <a id="12550" href="Ledger.Conway.Ledger.Properties.html#12013" class="Bound">dcert</a> <a id="12556" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a>
      <a id="12565" href="Ledger.Conway.Ledger.Properties.html#12565" class="Function">filter0</a> <a id="12573" class="Symbol">=</a> <a id="12575" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="12584" href="Ledger.Conway.Ledger.Properties.html#12013" class="Bound">dcert</a> <a id="12590" href="Ledger.Conway.Ledger.Properties.html#12035" class="Bound">deps</a>
  <a id="12597" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="12607" class="Symbol">(</a><a id="12608" href="Ledger.Conway.Ledger.Properties.html#12608" class="Bound">dcert</a><a id="12613" class="Symbol">@(</a><a id="12615" href="Ledger.Conway.Certs.html#1494" class="InductiveConstructor">regpool</a> <a id="12623" class="Symbol">_</a> <a id="12625" class="Symbol">_)</a> <a id="12628" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12630" href="Ledger.Conway.Ledger.Properties.html#12630" class="Bound">cs</a><a id="12632" class="Symbol">)</a> <a id="12634" href="Ledger.Conway.Ledger.Properties.html#12634" class="Bound">deps</a> <a id="12639" class="Symbol">=</a> <a id="12641" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="12651" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12659" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="12671" class="Symbol">(</a><a id="12672" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12676" class="Symbol">(</a><a id="12677" href="Ledger.Conway.Utxo.html#8061" class="Function">updateCertDeposits</a> <a id="12696" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a> <a id="12699" href="Ledger.Conway.Ledger.Properties.html#12630" class="Bound">cs</a> <a id="12702" class="Symbol">(</a><a id="12703" href="Ledger.Conway.Ledger.Properties.html#12634" class="Bound">deps</a> <a id="12708" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="12711" href="Ledger.Conway.Ledger.Properties.html#13118" class="Function">cd</a><a id="12713" class="Symbol">)))</a> <a id="12717" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12720" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="12730" href="Ledger.Conway.Ledger.Properties.html#12630" class="Bound">cs</a> <a id="12733" class="Symbol">_</a> <a id="12735" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12741" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12749" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="12761" class="Symbol">(</a><a id="12762" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12766" class="Symbol">(</a><a id="12767" href="Ledger.Conway.Ledger.Properties.html#12634" class="Bound">deps</a> <a id="12772" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="12775" href="Ledger.Conway.Ledger.Properties.html#13118" class="Function">cd</a><a id="12777" class="Symbol">))</a> <a id="12780" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12783" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="12798" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="12809" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12815" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12823" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="12835" class="Symbol">(</a><a id="12836" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12840" href="Ledger.Conway.Ledger.Properties.html#12634" class="Bound">deps</a> <a id="12845" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12847" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12851" class="Symbol">(</a><a id="12852" href="Ledger.Conway.Ledger.Properties.html#13118" class="Function">cd</a> <a id="12855" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="12857" class="Symbol">))</a> <a id="12860" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12863" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="12876" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12882" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12890" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="12902" class="Symbol">(</a><a id="12903" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12907" href="Ledger.Conway.Ledger.Properties.html#12634" class="Bound">deps</a><a id="12911" class="Symbol">)</a> <a id="12913" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="12915" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12923" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="12935" class="Symbol">(</a><a id="12936" href="Class.IsSet.html#916" class="Function">dom</a> <a id="12940" class="Symbol">(</a><a id="12941" href="Ledger.Conway.Ledger.Properties.html#13118" class="Function">cd</a> <a id="12944" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="12945" class="Symbol">))</a> <a id="12948" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="12951" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="12958" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="12966" href="Ledger.Conway.Ledger.Properties.html#13150" class="Function">filter0</a> <a id="12974" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="12980" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="12988" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="13000" class="Symbol">(</a><a id="13001" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13005" href="Ledger.Conway.Ledger.Properties.html#12634" class="Bound">deps</a><a id="13009" class="Symbol">)</a> <a id="13011" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13013" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="13015" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13018" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="13030" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13032" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13040" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="13052" class="Symbol">(</a><a id="13053" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13057" href="Ledger.Conway.Ledger.Properties.html#12634" class="Bound">deps</a><a id="13061" class="Symbol">)</a> <a id="13063" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13069" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13077" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="13089" class="Symbol">(</a><a id="13090" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13094" href="Ledger.Conway.Ledger.Properties.html#12634" class="Bound">deps</a><a id="13098" class="Symbol">)</a> <a id="13100" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="13106" class="Keyword">where</a>
      <a id="13118" href="Ledger.Conway.Ledger.Properties.html#13118" class="Function">cd</a> <a id="13121" class="Symbol">=</a> <a id="13123" href="Ledger.Conway.Utxo.html#4152" class="Function">certDeposit</a> <a id="13135" href="Ledger.Conway.Ledger.Properties.html#12608" class="Bound">dcert</a> <a id="13141" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a>
      <a id="13150" href="Ledger.Conway.Ledger.Properties.html#13150" class="Function">filter0</a> <a id="13158" class="Symbol">=</a> <a id="13160" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="13169" href="Ledger.Conway.Ledger.Properties.html#12608" class="Bound">dcert</a> <a id="13175" href="Ledger.Conway.Ledger.Properties.html#12634" class="Bound">deps</a>
  <a id="13182" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="13192" class="Symbol">(</a><a id="13193" href="Ledger.Conway.Ledger.Properties.html#13193" class="Bound">dcert</a><a id="13198" class="Symbol">@(</a><a id="13200" href="Ledger.Conway.Certs.html#1579" class="InductiveConstructor">regdrep</a> <a id="13208" class="Symbol">_</a> <a id="13210" class="Symbol">_</a> <a id="13212" class="Symbol">_)</a> <a id="13215" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="13217" href="Ledger.Conway.Ledger.Properties.html#13217" class="Bound">cs</a><a id="13219" class="Symbol">)</a> <a id="13221" href="Ledger.Conway.Ledger.Properties.html#13221" class="Bound">deps</a> <a id="13226" class="Symbol">=</a> <a id="13228" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="13238" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13246" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="13258" class="Symbol">(</a><a id="13259" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13263" class="Symbol">(</a><a id="13264" href="Ledger.Conway.Utxo.html#8061" class="Function">updateCertDeposits</a> <a id="13283" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a> <a id="13286" href="Ledger.Conway.Ledger.Properties.html#13217" class="Bound">cs</a> <a id="13289" class="Symbol">(</a><a id="13290" href="Ledger.Conway.Ledger.Properties.html#13221" class="Bound">deps</a> <a id="13295" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="13298" href="Ledger.Conway.Utxo.html#4152" class="Function">certDeposit</a> <a id="13310" href="Ledger.Conway.Ledger.Properties.html#13193" class="Bound">dcert</a> <a id="13316" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a><a id="13318" class="Symbol">)))</a> <a id="13322" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13325" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="13335" href="Ledger.Conway.Ledger.Properties.html#13217" class="Bound">cs</a> <a id="13338" class="Symbol">_</a> <a id="13340" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13346" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13354" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="13366" class="Symbol">(</a><a id="13367" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13371" class="Symbol">(</a><a id="13372" href="Ledger.Conway.Ledger.Properties.html#13221" class="Bound">deps</a> <a id="13377" href="Axiom.Set.Map.Dec.html#1854" class="Function Operator">∪⁺</a> <a id="13380" href="Ledger.Conway.Ledger.Properties.html#13723" class="Function">cd</a><a id="13382" class="Symbol">))</a> <a id="13385" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13388" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="13403" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="13414" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13420" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13428" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="13440" class="Symbol">(</a><a id="13441" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13445" href="Ledger.Conway.Ledger.Properties.html#13221" class="Bound">deps</a> <a id="13450" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13452" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13456" class="Symbol">(</a><a id="13457" href="Ledger.Conway.Ledger.Properties.html#13723" class="Function">cd</a> <a id="13460" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a> <a id="13462" class="Symbol">))</a> <a id="13465" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13468" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="13481" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13487" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13495" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="13507" class="Symbol">(</a><a id="13508" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13512" href="Ledger.Conway.Ledger.Properties.html#13221" class="Bound">deps</a><a id="13516" class="Symbol">)</a> <a id="13518" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13520" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13528" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="13540" class="Symbol">(</a><a id="13541" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13545" class="Symbol">(</a><a id="13546" href="Ledger.Conway.Ledger.Properties.html#13723" class="Function">cd</a> <a id="13549" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="13550" class="Symbol">))</a> <a id="13553" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13556" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="13563" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="13571" href="Ledger.Conway.Ledger.Properties.html#13755" class="Function">filter0</a> <a id="13579" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13585" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13593" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="13605" class="Symbol">(</a><a id="13606" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13610" href="Ledger.Conway.Ledger.Properties.html#13221" class="Bound">deps</a><a id="13614" class="Symbol">)</a> <a id="13616" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="13618" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="13620" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13623" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="13635" href="Function.Base.html#1974" class="Function Operator">$</a> <a id="13637" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13645" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="13657" class="Symbol">(</a><a id="13658" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13662" href="Ledger.Conway.Ledger.Properties.html#13221" class="Bound">deps</a><a id="13666" class="Symbol">)</a> <a id="13668" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13674" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13682" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="13694" class="Symbol">(</a><a id="13695" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13699" href="Ledger.Conway.Ledger.Properties.html#13221" class="Bound">deps</a><a id="13703" class="Symbol">)</a> <a id="13705" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
    <a id="13711" class="Keyword">where</a>
      <a id="13723" href="Ledger.Conway.Ledger.Properties.html#13723" class="Function">cd</a> <a id="13726" class="Symbol">=</a> <a id="13728" href="Ledger.Conway.Utxo.html#4152" class="Function">certDeposit</a> <a id="13740" href="Ledger.Conway.Ledger.Properties.html#13193" class="Bound">dcert</a> <a id="13746" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a>
      <a id="13755" href="Ledger.Conway.Ledger.Properties.html#13755" class="Function">filter0</a> <a id="13763" class="Symbol">=</a> <a id="13765" href="Ledger.Conway.Ledger.Properties.html#10278" class="Function">filterCD</a> <a id="13774" href="Ledger.Conway.Ledger.Properties.html#13193" class="Bound">dcert</a> <a id="13780" href="Ledger.Conway.Ledger.Properties.html#13221" class="Bound">deps</a>
  <a id="13787" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="13797" class="Symbol">(</a><a id="13798" href="Ledger.Conway.Ledger.Properties.html#13798" class="Bound">dcert</a><a id="13803" class="Symbol">@(</a><a id="13805" href="Ledger.Conway.Certs.html#1446" class="InductiveConstructor">dereg</a> <a id="13811" href="Ledger.Conway.Ledger.Properties.html#13811" class="Bound">c</a> <a id="13813" href="Ledger.Conway.Ledger.Properties.html#13813" class="Bound">v</a><a id="13814" class="Symbol">)</a> <a id="13816" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="13818" href="Ledger.Conway.Ledger.Properties.html#13818" class="Bound">cs</a><a id="13820" class="Symbol">)</a> <a id="13822" href="Ledger.Conway.Ledger.Properties.html#13822" class="Bound">deps</a> <a id="13827" class="Symbol">=</a> <a id="13829" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="13839" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13847" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="13859" class="Symbol">(</a><a id="13860" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13864" class="Symbol">(</a><a id="13865" href="Ledger.Conway.Utxo.html#8061" class="Function">updateCertDeposits</a> <a id="13884" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a> <a id="13887" href="Ledger.Conway.Ledger.Properties.html#13818" class="Bound">cs</a> <a id="13890" class="Symbol">(</a><a id="13891" href="Ledger.Conway.Ledger.Properties.html#13822" class="Bound">deps</a> <a id="13896" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13898" href="Ledger.Conway.Utxo.html#4509" class="Function">certRefund</a> <a id="13909" class="Symbol">(</a><a id="13910" href="Ledger.Conway.Certs.html#1446" class="InductiveConstructor">dereg</a> <a id="13916" href="Ledger.Conway.Ledger.Properties.html#13811" class="Bound">c</a> <a id="13918" href="Ledger.Conway.Ledger.Properties.html#13813" class="Bound">v</a><a id="13919" class="Symbol">)</a><a id="13920" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="13921" class="Symbol">)))</a> <a id="13925" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="13928" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="13938" href="Ledger.Conway.Ledger.Properties.html#13818" class="Bound">cs</a> <a id="13941" class="Symbol">_</a> <a id="13943" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="13949" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="13957" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="13969" class="Symbol">(</a><a id="13970" href="Class.IsSet.html#916" class="Function">dom</a> <a id="13974" class="Symbol">(</a><a id="13975" href="Ledger.Conway.Ledger.Properties.html#13822" class="Bound">deps</a> <a id="13980" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="13982" href="Ledger.Conway.Utxo.html#4509" class="Function">certRefund</a> <a id="13993" class="Symbol">(</a><a id="13994" href="Ledger.Conway.Certs.html#1446" class="InductiveConstructor">dereg</a> <a id="14000" href="Ledger.Conway.Ledger.Properties.html#13811" class="Bound">c</a> <a id="14002" href="Ledger.Conway.Ledger.Properties.html#13813" class="Bound">v</a><a id="14003" class="Symbol">)</a><a id="14004" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="14005" class="Symbol">))</a> <a id="14008" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="14011" href="Ledger.Conway.Ledger.Properties.html#8159" class="Function">filterCR</a> <a id="14020" href="Ledger.Conway.Ledger.Properties.html#13798" class="Bound">dcert</a> <a id="14026" href="Ledger.Conway.Ledger.Properties.html#13822" class="Bound">deps</a> <a id="14031" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="14037" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="14045" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="14057" class="Symbol">(</a><a id="14058" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14062" href="Ledger.Conway.Ledger.Properties.html#13822" class="Bound">deps</a><a id="14066" class="Symbol">)</a> <a id="14068" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="14072" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="14082" class="Symbol">(</a><a id="14083" href="Ledger.Conway.Ledger.Properties.html#14083" class="Bound">dcert</a><a id="14088" class="Symbol">@(</a><a id="14090" href="Ledger.Conway.Certs.html#1630" class="InductiveConstructor">deregdrep</a> <a id="14100" href="Ledger.Conway.Ledger.Properties.html#14100" class="Bound">c</a> <a id="14102" href="Ledger.Conway.Ledger.Properties.html#14102" class="Bound">v</a><a id="14103" class="Symbol">)</a> <a id="14105" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="14107" href="Ledger.Conway.Ledger.Properties.html#14107" class="Bound">cs</a><a id="14109" class="Symbol">)</a> <a id="14111" href="Ledger.Conway.Ledger.Properties.html#14111" class="Bound">deps</a> <a id="14116" class="Symbol">=</a> <a id="14118" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="14128" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="14136" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="14148" class="Symbol">(</a><a id="14149" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14153" class="Symbol">(</a><a id="14154" href="Ledger.Conway.Utxo.html#8061" class="Function">updateCertDeposits</a> <a id="14173" href="Ledger.Conway.Ledger.Properties.html#7572" class="Function">pp</a> <a id="14176" href="Ledger.Conway.Ledger.Properties.html#14107" class="Bound">cs</a> <a id="14179" class="Symbol">(</a><a id="14180" href="Ledger.Conway.Ledger.Properties.html#14111" class="Bound">deps</a> <a id="14185" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="14187" href="Ledger.Conway.Utxo.html#4509" class="Function">certRefund</a> <a id="14198" class="Symbol">(</a><a id="14199" href="Ledger.Conway.Certs.html#1630" class="InductiveConstructor">deregdrep</a> <a id="14209" href="Ledger.Conway.Ledger.Properties.html#14100" class="Bound">c</a> <a id="14211" href="Ledger.Conway.Ledger.Properties.html#14102" class="Bound">v</a><a id="14212" class="Symbol">)</a><a id="14213" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="14214" class="Symbol">)))</a> <a id="14218" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="14221" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="14231" href="Ledger.Conway.Ledger.Properties.html#14107" class="Bound">cs</a> <a id="14234" class="Symbol">_</a> <a id="14236" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="14242" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="14250" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="14262" class="Symbol">(</a><a id="14263" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14267" class="Symbol">(</a><a id="14268" href="Ledger.Conway.Ledger.Properties.html#14111" class="Bound">deps</a> <a id="14273" href="Axiom.Set.Map.html#10748" class="Function Operator">∣</a> <a id="14275" href="Ledger.Conway.Utxo.html#4509" class="Function">certRefund</a> <a id="14286" class="Symbol">(</a><a id="14287" href="Ledger.Conway.Certs.html#1630" class="InductiveConstructor">deregdrep</a> <a id="14297" href="Ledger.Conway.Ledger.Properties.html#14100" class="Bound">c</a> <a id="14299" href="Ledger.Conway.Ledger.Properties.html#14102" class="Bound">v</a><a id="14300" class="Symbol">)</a><a id="14301" href="Axiom.Set.Map.html#10748" class="Function Operator">ᶜ</a><a id="14302" class="Symbol">))</a> <a id="14305" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="14308" href="Ledger.Conway.Ledger.Properties.html#8159" class="Function">filterCR</a> <a id="14317" href="Ledger.Conway.Ledger.Properties.html#14083" class="Bound">dcert</a> <a id="14323" href="Ledger.Conway.Ledger.Properties.html#14111" class="Bound">deps</a> <a id="14328" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="14334" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="14342" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="14354" class="Symbol">(</a><a id="14355" href="Class.IsSet.html#916" class="Function">dom</a> <a id="14359" href="Ledger.Conway.Ledger.Properties.html#14111" class="Bound">deps</a><a id="14363" class="Symbol">)</a> <a id="14365" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="14369" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="14379" class="Symbol">(</a><a id="14380" href="Ledger.Conway.Certs.html#1539" class="InductiveConstructor">retirepool</a> <a id="14391" class="Symbol">_</a> <a id="14393" class="Symbol">_</a> <a id="14395" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="14397" href="Ledger.Conway.Ledger.Properties.html#14397" class="Bound">cs</a><a id="14399" class="Symbol">)</a> <a id="14401" href="Ledger.Conway.Ledger.Properties.html#14401" class="Bound">deps</a> <a id="14406" class="Symbol">=</a> <a id="14408" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="14418" href="Ledger.Conway.Ledger.Properties.html#14397" class="Bound">cs</a> <a id="14421" href="Ledger.Conway.Ledger.Properties.html#14401" class="Bound">deps</a>
  <a id="14428" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="14438" class="Symbol">(</a><a id="14439" href="Ledger.Conway.Certs.html#1672" class="InductiveConstructor">ccreghot</a> <a id="14448" class="Symbol">_</a> <a id="14450" class="Symbol">_</a> <a id="14452" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="14454" href="Ledger.Conway.Ledger.Properties.html#14454" class="Bound">cs</a><a id="14456" class="Symbol">)</a> <a id="14458" href="Ledger.Conway.Ledger.Properties.html#14458" class="Bound">deps</a> <a id="14463" class="Symbol">=</a> <a id="14465" href="Ledger.Conway.Ledger.Properties.html#11208" class="Function">noGACerts</a> <a id="14475" href="Ledger.Conway.Ledger.Properties.html#14454" class="Bound">cs</a> <a id="14478" href="Ledger.Conway.Ledger.Properties.html#14458" class="Bound">deps</a>

  <a id="14486" class="Keyword">opaque</a>
    <a id="14497" class="Keyword">unfolding</a> <a id="14507" href="Ledger.Conway.Gov.html#5856" class="Function">addVote</a>

    <a id="SetoidProperties.dpMap∘voteUpdate≡dpMap"></a><a id="14520" href="Ledger.Conway.Ledger.Properties.html#14520" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="14543" class="Symbol">:</a> <a id="14545" class="Symbol">(</a><a id="14546" href="Ledger.Conway.Ledger.Properties.html#14546" class="Bound">v</a> <a id="14548" class="Symbol">:</a> <a id="14550" href="Ledger.Conway.GovernanceActions.html#2393" class="Record">GovVote</a><a id="14557" class="Symbol">)</a> <a id="14559" class="Symbol">{</a><a id="14560" href="Ledger.Conway.Ledger.Properties.html#14560" class="Bound">govSt</a> <a id="14566" class="Symbol">:</a> <a id="14568" href="Ledger.Conway.Gov.html#1397" class="Function">GovState</a><a id="14576" class="Symbol">}</a>
      <a id="14584" class="Symbol">→</a> <a id="14586" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="14592" class="Symbol">(</a><a id="14593" href="Ledger.Conway.Ledger.Properties.html#5696" class="Function">voteUpdate</a> <a id="14604" href="Ledger.Conway.Ledger.Properties.html#14560" class="Bound">govSt</a> <a id="14610" href="Ledger.Conway.Ledger.Properties.html#14546" class="Bound">v</a><a id="14611" class="Symbol">)</a> <a id="14613" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14615" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="14621" href="Ledger.Conway.Ledger.Properties.html#14560" class="Bound">govSt</a>
    <a id="14631" href="Ledger.Conway.Ledger.Properties.html#14520" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="14654" href="Ledger.Conway.Ledger.Properties.html#14654" class="Bound">v</a> <a id="14656" class="Symbol">{</a><a id="14657" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="14659" class="Symbol">}</a> <a id="14661" class="Symbol">=</a> <a id="14663" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
    <a id="14672" href="Ledger.Conway.Ledger.Properties.html#14520" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="14695" href="Ledger.Conway.Ledger.Properties.html#14695" class="Bound">v</a> <a id="14697" class="Symbol">{(</a><a id="14699" href="Ledger.Conway.Ledger.Properties.html#14699" class="Bound">aid</a> <a id="14703" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14705" href="Ledger.Conway.Ledger.Properties.html#14705" class="Bound">ast</a><a id="14708" class="Symbol">)</a> <a id="14710" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="14712" href="Ledger.Conway.Ledger.Properties.html#14712" class="Bound">govSt</a><a id="14717" class="Symbol">}</a> <a id="14719" class="Symbol">=</a>
      <a id="14727" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="14732" class="Symbol">(λ</a> <a id="14735" href="Ledger.Conway.Ledger.Properties.html#14735" class="Bound">x</a> <a id="14737" class="Symbol">→</a> <a id="14739" class="Symbol">(</a><a id="14740" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="14757" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="14759" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="14764" class="Symbol">)</a> <a id="14766" class="Symbol">(</a><a id="14767" href="Ledger.Conway.Ledger.Properties.html#14699" class="Bound">aid</a> <a id="14771" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14773" href="Ledger.Conway.Ledger.Properties.html#14705" class="Bound">ast</a><a id="14776" class="Symbol">)</a> <a id="14778" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="14780" href="Ledger.Conway.Ledger.Properties.html#14735" class="Bound">x</a><a id="14781" class="Symbol">)</a> <a id="14783" class="Symbol">(</a><a id="14784" href="Ledger.Conway.Ledger.Properties.html#14520" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="14807" href="Ledger.Conway.Ledger.Properties.html#14695" class="Bound">v</a><a id="14808" class="Symbol">)</a>

  <a id="SetoidProperties.props-dpMap-votes-invar"></a><a id="14813" href="Ledger.Conway.Ledger.Properties.html#14813" class="Function">props-dpMap-votes-invar</a> <a id="14837" class="Symbol">:</a> <a id="14839" class="Symbol">(</a><a id="14840" href="Ledger.Conway.Ledger.Properties.html#14840" class="Bound">vs</a> <a id="14843" class="Symbol">:</a> <a id="14845" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="14850" href="Ledger.Conway.GovernanceActions.html#2393" class="Record">GovVote</a><a id="14857" class="Symbol">)</a> <a id="14859" class="Symbol">(</a><a id="14860" href="Ledger.Conway.Ledger.Properties.html#14860" class="Bound">ps</a> <a id="14863" class="Symbol">:</a> <a id="14865" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="14870" href="Ledger.Conway.GovernanceActions.html#2538" class="Record">GovProposal</a><a id="14881" class="Symbol">)</a> <a id="14883" class="Symbol">{</a><a id="14884" href="Ledger.Conway.Ledger.Properties.html#14884" class="Bound">k</a> <a id="14886" class="Symbol">:</a> <a id="14888" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="14889" class="Symbol">}</a> <a id="14891" class="Symbol">{</a><a id="14892" href="Ledger.Conway.Ledger.Properties.html#14892" class="Bound">govSt</a> <a id="14898" class="Symbol">:</a> <a id="14900" href="Ledger.Conway.Gov.html#1397" class="Function">GovState</a><a id="14908" class="Symbol">}</a>
    <a id="14914" class="Symbol">→</a> <a id="14916" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="14925" class="Symbol">(</a><a id="14926" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="14932" class="Symbol">(</a><a id="14933" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="14949" class="Symbol">(</a><a id="14950" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="14954" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="14959" href="Ledger.Conway.Ledger.Properties.html#14860" class="Bound">ps</a> <a id="14962" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="14965" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="14969" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="14974" href="Ledger.Conway.Ledger.Properties.html#14840" class="Bound">vs</a><a id="14976" class="Symbol">)</a> <a id="14978" href="Ledger.Conway.Ledger.Properties.html#14884" class="Bound">k</a> <a id="14980" href="Ledger.Conway.Ledger.Properties.html#14892" class="Bound">govSt</a> <a id="14986" class="Symbol">))</a>
      <a id="14995" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="14998" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="15007" class="Symbol">(</a><a id="15008" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="15014" class="Symbol">(</a><a id="15015" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="15031" class="Symbol">(</a><a id="15032" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="15036" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="15041" href="Ledger.Conway.Ledger.Properties.html#14860" class="Bound">ps</a><a id="15043" class="Symbol">)</a> <a id="15045" href="Ledger.Conway.Ledger.Properties.html#14884" class="Bound">k</a> <a id="15047" href="Ledger.Conway.Ledger.Properties.html#14892" class="Bound">govSt</a><a id="15052" class="Symbol">))</a>
  <a id="15057" href="Ledger.Conway.Ledger.Properties.html#14813" class="Function">props-dpMap-votes-invar</a> <a id="15081" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="15084" href="Ledger.Conway.Ledger.Properties.html#15084" class="Bound">ps</a> <a id="15087" class="Symbol">{</a><a id="15088" href="Ledger.Conway.Ledger.Properties.html#15088" class="Bound">k</a><a id="15089" class="Symbol">}</a> <a id="15091" class="Symbol">{</a><a id="15092" href="Ledger.Conway.Ledger.Properties.html#15092" class="Bound">govSt</a><a id="15097" class="Symbol">}</a> <a id="15099" class="Symbol">=</a> <a id="15101" href="Relation.Binary.Structures.html#1674" class="Function">≡ᵉ.reflexive</a>
    <a id="15118" class="Symbol">(</a><a id="15119" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15124" class="Symbol">(λ</a> <a id="15127" href="Ledger.Conway.Ledger.Properties.html#15127" class="Bound">x</a> <a id="15129" class="Symbol">→</a> <a id="15131" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="15140" class="Symbol">(</a><a id="15141" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="15147" class="Symbol">(</a><a id="15148" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="15164" href="Ledger.Conway.Ledger.Properties.html#15127" class="Bound">x</a> <a id="15166" href="Ledger.Conway.Ledger.Properties.html#15088" class="Bound">k</a> <a id="15168" href="Ledger.Conway.Ledger.Properties.html#15092" class="Bound">govSt</a><a id="15173" class="Symbol">)))</a> <a id="15177" class="Symbol">(</a><a id="15178" href="Data.List.Properties.html#5457" class="Function">++-identityʳ</a> <a id="15191" class="Symbol">(</a><a id="15192" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="15196" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="15201" href="Ledger.Conway.Ledger.Properties.html#15084" class="Bound">ps</a><a id="15203" class="Symbol">)))</a>
  <a id="15209" href="Ledger.Conway.Ledger.Properties.html#14813" class="Function">props-dpMap-votes-invar</a> <a id="15233" class="Symbol">(</a><a id="15234" href="Ledger.Conway.Ledger.Properties.html#15234" class="Bound">v</a> <a id="15236" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15238" href="Ledger.Conway.Ledger.Properties.html#15238" class="Bound">vs</a><a id="15240" class="Symbol">)</a> <a id="15242" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="15245" class="Symbol">{</a><a id="15246" href="Ledger.Conway.Ledger.Properties.html#15246" class="Bound">k</a><a id="15247" class="Symbol">}</a> <a id="15249" class="Symbol">{</a><a id="15250" href="Ledger.Conway.Ledger.Properties.html#15250" class="Bound">govSt</a><a id="15255" class="Symbol">}</a> <a id="15257" class="Symbol">=</a> <a id="15259" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="15269" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="15278" class="Symbol">(</a><a id="15279" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="15285" class="Symbol">(</a><a id="15286" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="15302" class="Symbol">(</a><a id="15303" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="15307" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="15312" class="Symbol">(</a><a id="15313" href="Ledger.Conway.Ledger.Properties.html#15234" class="Bound">v</a> <a id="15315" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15317" href="Ledger.Conway.Ledger.Properties.html#15238" class="Bound">vs</a><a id="15319" class="Symbol">))</a> <a id="15322" href="Ledger.Conway.Ledger.Properties.html#15246" class="Bound">k</a> <a id="15324" href="Ledger.Conway.Ledger.Properties.html#15250" class="Bound">govSt</a><a id="15329" class="Symbol">))</a>
      <a id="15338" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="15341" href="Ledger.Conway.Ledger.Properties.html#14813" class="Function">props-dpMap-votes-invar</a> <a id="15365" href="Ledger.Conway.Ledger.Properties.html#15238" class="Bound">vs</a> <a id="15368" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="15371" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="15377" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="15386" class="Symbol">(</a><a id="15387" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="15393" class="Symbol">(</a><a id="15394" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="15410" class="Symbol">(</a><a id="15411" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="15415" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="15420" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="15422" class="Symbol">)</a> <a id="15424" class="Symbol">(</a><a id="15425" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="15429" href="Ledger.Conway.Ledger.Properties.html#15246" class="Bound">k</a><a id="15430" class="Symbol">)</a> <a id="15432" class="Symbol">(</a><a id="15433" href="Ledger.Conway.Ledger.Properties.html#5696" class="Function">voteUpdate</a> <a id="15444" href="Ledger.Conway.Ledger.Properties.html#15250" class="Bound">govSt</a> <a id="15450" href="Ledger.Conway.Ledger.Properties.html#15234" class="Bound">v</a><a id="15451" class="Symbol">)))</a>
      <a id="15461" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="15464" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="15469" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="15478" class="Symbol">(</a><a id="15479" href="Ledger.Conway.Ledger.Properties.html#14520" class="Function">dpMap∘voteUpdate≡dpMap</a> <a id="15502" href="Ledger.Conway.Ledger.Properties.html#15234" class="Bound">v</a><a id="15503" class="Symbol">)</a> <a id="15505" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="15511" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="15520" class="Symbol">(</a><a id="15521" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="15527" href="Ledger.Conway.Ledger.Properties.html#15250" class="Bound">govSt</a><a id="15532" class="Symbol">)</a>
      <a id="15540" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="15544" href="Ledger.Conway.Ledger.Properties.html#14813" class="Function">props-dpMap-votes-invar</a> <a id="15568" class="Symbol">(</a><a id="15569" href="Ledger.Conway.Ledger.Properties.html#15569" class="Bound">v</a> <a id="15571" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15573" href="Ledger.Conway.Ledger.Properties.html#15573" class="Bound">vs</a><a id="15575" class="Symbol">)</a> <a id="15577" class="Symbol">(</a><a id="15578" href="Ledger.Conway.Ledger.Properties.html#15578" class="Bound">p</a> <a id="15580" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15582" href="Ledger.Conway.Ledger.Properties.html#15582" class="Bound">ps</a><a id="15584" class="Symbol">)</a> <a id="15586" class="Symbol">{</a><a id="15587" href="Ledger.Conway.Ledger.Properties.html#15587" class="Bound">k</a><a id="15588" class="Symbol">}</a> <a id="15590" class="Symbol">{</a><a id="15591" href="Ledger.Conway.Ledger.Properties.html#15591" class="Bound">govSt</a><a id="15596" class="Symbol">}</a> <a id="15598" class="Symbol">=</a> <a id="15600" href="Ledger.Conway.Ledger.Properties.html#14813" class="Function">props-dpMap-votes-invar</a> <a id="15624" class="Symbol">(</a><a id="15625" href="Ledger.Conway.Ledger.Properties.html#15569" class="Bound">v</a> <a id="15627" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15629" href="Ledger.Conway.Ledger.Properties.html#15573" class="Bound">vs</a><a id="15631" class="Symbol">)</a> <a id="15633" href="Ledger.Conway.Ledger.Properties.html#15582" class="Bound">ps</a>

  <a id="SetoidProperties.dpMap-update-∪"></a><a id="15639" href="Ledger.Conway.Ledger.Properties.html#15639" class="Function">dpMap-update-∪</a> <a id="15654" class="Symbol">:</a> <a id="15656" class="Symbol">∀</a> <a id="15658" href="Ledger.Conway.Ledger.Properties.html#15658" class="Bound">gSt</a> <a id="15662" href="Ledger.Conway.Ledger.Properties.html#15662" class="Bound">p</a> <a id="15664" href="Ledger.Conway.Ledger.Properties.html#15664" class="Bound">k</a>
    <a id="15670" class="Symbol">→</a> <a id="15672" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="15681" class="Symbol">(</a><a id="15682" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="15688" href="Ledger.Conway.Ledger.Properties.html#15658" class="Bound">gSt</a><a id="15691" class="Symbol">)</a> <a id="15693" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="15695" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="15697" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="15714" class="Symbol">(</a><a id="15715" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="15720" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15722" href="Ledger.Conway.Ledger.Properties.html#15664" class="Bound">k</a><a id="15723" class="Symbol">)</a> <a id="15725" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="15735" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="15738" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="15747" class="Symbol">(</a><a id="15748" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="15754" class="Symbol">(</a><a id="15755" href="Ledger.Conway.Ledger.Properties.html#5555" class="Function">propUpdate</a> <a id="15766" href="Ledger.Conway.Ledger.Properties.html#15658" class="Bound">gSt</a> <a id="15770" href="Ledger.Conway.Ledger.Properties.html#15662" class="Bound">p</a> <a id="15772" href="Ledger.Conway.Ledger.Properties.html#15664" class="Bound">k</a><a id="15773" class="Symbol">))</a>
  <a id="15778" href="Ledger.Conway.Ledger.Properties.html#15639" class="Function">dpMap-update-∪</a> <a id="15793" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="15796" href="Ledger.Conway.Ledger.Properties.html#15796" class="Bound">p</a> <a id="15798" href="Ledger.Conway.Ledger.Properties.html#15798" class="Bound">k</a> <a id="15800" class="Symbol">=</a> <a id="15802" href="Axiom.Set.Properties.html#11917" class="Function">∪-identityˡ</a> <a id="15814" class="Symbol">(</a><a id="15815" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="15824" class="Symbol">(</a><a id="15825" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="15831" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="15833" href="Ledger.Conway.Ledger.Properties.html#5298" class="Function">mkAction</a> <a id="15842" href="Ledger.Conway.Ledger.Properties.html#15796" class="Bound">p</a> <a id="15844" href="Ledger.Conway.Ledger.Properties.html#15798" class="Bound">k</a> <a id="15846" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="15847" class="Symbol">))</a>
  <a id="15852" href="Ledger.Conway.Ledger.Properties.html#15639" class="Function">dpMap-update-∪</a> <a id="15867" class="Symbol">(</a><a id="15868" href="Ledger.Conway.Ledger.Properties.html#15868" class="Bound">g</a><a id="15869" class="Symbol">@(</a><a id="15871" href="Ledger.Conway.Ledger.Properties.html#15871" class="Bound">gaID₀</a> <a id="15877" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15879" href="Ledger.Conway.Ledger.Properties.html#15879" class="Bound">gaSt₀</a><a id="15884" class="Symbol">)</a> <a id="15886" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="15888" href="Ledger.Conway.Ledger.Properties.html#15888" class="Bound">gSt</a><a id="15891" class="Symbol">)</a> <a id="15893" href="Ledger.Conway.Ledger.Properties.html#15893" class="Bound">p</a> <a id="15895" href="Ledger.Conway.Ledger.Properties.html#15895" class="Bound">k</a>
    <a id="15901" class="Keyword">with</a> <a id="15906" class="Symbol">(</a><a id="15907" href="Ledger.Conway.Gov.html#2155" class="Function">govActionPriority</a> <a id="15925" class="Symbol">(</a><a id="15926" href="Ledger.Conway.GovernanceActions.html#2881" class="Field">GovActionState.action</a> <a id="15948" href="Ledger.Conway.Ledger.Properties.html#15879" class="Bound">gaSt₀</a> <a id="15954" class="Symbol">.</a><a id="15955" href="Ledger.Conway.GovernanceActions.html#1447" class="Field">gaType</a><a id="15961" class="Symbol">))</a>
         <a id="15973" href="Class.HasOrder.Core.html#1011" class="Function Operator">≤?</a> <a id="15976" class="Symbol">(</a><a id="15977" href="Ledger.Conway.Gov.html#2155" class="Function">govActionPriority</a> <a id="15995" class="Symbol">(</a><a id="15996" href="Ledger.Conway.GovernanceActions.html#2881" class="Field">GovActionState.action</a> <a id="16018" class="Symbol">(</a><a id="16019" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="16025" class="Symbol">(</a><a id="16026" href="Ledger.Conway.Ledger.Properties.html#5298" class="Function">mkAction</a> <a id="16035" href="Ledger.Conway.Ledger.Properties.html#15893" class="Bound">p</a> <a id="16037" href="Ledger.Conway.Ledger.Properties.html#15895" class="Bound">k</a><a id="16038" class="Symbol">))</a> <a id="16041" class="Symbol">.</a><a id="16042" href="Ledger.Conway.GovernanceActions.html#1447" class="Field">gaType</a><a id="16048" class="Symbol">))</a>
  <a id="16053" class="Symbol">...</a> <a id="16057" class="Symbol">|</a> <a id="16059" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="16063" class="Symbol">_</a>  <a id="16066" class="Symbol">=</a> <a id="16068" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="16080" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="16089" class="Symbol">(</a><a id="16090" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="16096" class="Symbol">(</a><a id="16097" class="Bound">g</a> <a id="16099" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16101" class="Bound">gSt</a><a id="16104" class="Symbol">))</a> <a id="16107" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16109" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="16111" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="16128" class="Symbol">(</a><a id="16129" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="16134" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16136" class="Bound">k</a><a id="16137" class="Symbol">)</a> <a id="16139" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="16149" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16152" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="16159" href="Axiom.Set.Properties.html#12190" class="Function">fromList-∪-singleton</a> <a id="16180" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="16188" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="16196" class="Symbol">(</a><a id="16197" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="16199" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="16216" class="Bound">gaID₀</a> <a id="16222" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="16224" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16226" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="16235" class="Symbol">(</a><a id="16236" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="16242" class="Bound">gSt</a><a id="16245" class="Symbol">))</a> <a id="16248" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16250" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="16252" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="16269" class="Symbol">(</a><a id="16270" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="16275" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16277" class="Bound">k</a><a id="16278" class="Symbol">)</a> <a id="16280" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="16290" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16293" href="Axiom.Set.Properties.html#12114" class="Function">∪-assoc</a> <a id="16301" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="16303" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="16320" class="Bound">gaID₀</a> <a id="16326" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="16328" class="Symbol">(</a><a id="16329" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="16338" class="Symbol">(</a><a id="16339" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="16345" class="Bound">gSt</a><a id="16348" class="Symbol">))</a> <a id="16351" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="16353" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="16370" class="Symbol">(</a><a id="16371" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="16376" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16378" class="Bound">k</a><a id="16379" class="Symbol">)</a> <a id="16381" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="16383" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="16391" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="16393" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="16410" class="Bound">gaID₀</a> <a id="16416" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="16418" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16420" class="Symbol">(</a><a id="16421" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="16430" class="Symbol">(</a><a id="16431" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="16437" class="Bound">gSt</a><a id="16440" class="Symbol">)</a> <a id="16442" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16444" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="16446" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="16463" class="Symbol">(</a><a id="16464" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="16469" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16471" class="Bound">k</a><a id="16472" class="Symbol">)</a> <a id="16474" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="16475" class="Symbol">)</a>
        <a id="16485" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16488" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="16495" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="16503" class="Symbol">(</a><a id="16504" href="Ledger.Conway.Ledger.Properties.html#15639" class="Function">dpMap-update-∪</a> <a id="16519" class="Bound">gSt</a> <a id="16523" class="Bound">p</a> <a id="16525" class="Bound">k</a><a id="16526" class="Symbol">)</a> <a id="16528" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="16536" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="16538" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="16555" class="Bound">gaID₀</a> <a id="16561" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="16563" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16565" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="16574" class="Symbol">(</a><a id="16575" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="16581" class="Symbol">(</a><a id="16582" href="Ledger.Conway.Ledger.Properties.html#5555" class="Function">propUpdate</a> <a id="16593" class="Bound">gSt</a> <a id="16597" class="Bound">p</a> <a id="16599" class="Bound">k</a><a id="16600" class="Symbol">))</a>
        <a id="16611" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="16615" href="Axiom.Set.Properties.html#12190" class="Function">fromList-∪-singleton</a> <a id="16636" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="16644" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="16653" class="Symbol">(</a><a id="16654" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="16660" class="Symbol">(</a><a id="16661" class="Bound">g</a> <a id="16663" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16665" href="Ledger.Conway.Gov.html#4986" class="Function">insertGovAction</a> <a id="16681" class="Bound">gSt</a> <a id="16685" class="Symbol">(</a><a id="16686" href="Ledger.Conway.Ledger.Properties.html#5298" class="Function">mkAction</a> <a id="16695" class="Bound">p</a> <a id="16697" class="Bound">k</a><a id="16698" class="Symbol">)))</a>
        <a id="16710" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="16714" class="Symbol">...</a> <a id="16718" class="Symbol">|</a> <a id="16720" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="16723" class="Symbol">_</a>   <a id="16727" class="Symbol">=</a> <a id="16729" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="16741" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="16750" class="Symbol">(</a><a id="16751" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="16757" class="Symbol">(</a><a id="16758" class="Bound">g</a> <a id="16760" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16762" class="Bound">gSt</a><a id="16765" class="Symbol">))</a> <a id="16768" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16770" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="16772" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="16789" class="Symbol">(</a><a id="16790" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="16795" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16797" class="Bound">k</a><a id="16798" class="Symbol">)</a> <a id="16800" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="16810" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="16813" href="Axiom.Set.Properties.html#12053" class="Function">∪-comm</a> <a id="16820" class="Symbol">(</a><a id="16821" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="16830" class="Symbol">(</a><a id="16831" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="16837" class="Symbol">(</a><a id="16838" class="Bound">g</a> <a id="16840" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16842" class="Bound">gSt</a><a id="16845" class="Symbol">)))</a> <a id="16849" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="16851" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="16868" class="Symbol">(</a><a id="16869" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="16874" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16876" class="Bound">k</a><a id="16877" class="Symbol">)</a> <a id="16879" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="16881" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="16889" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="16891" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="16908" class="Symbol">(</a><a id="16909" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="16914" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16916" class="Bound">k</a><a id="16917" class="Symbol">)</a> <a id="16919" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="16921" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="16923" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="16932" class="Symbol">(</a><a id="16933" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="16939" class="Symbol">(</a><a id="16940" class="Bound">g</a> <a id="16942" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16944" class="Bound">gSt</a><a id="16947" class="Symbol">))</a>
        <a id="16958" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="16962" href="Axiom.Set.Properties.html#12190" class="Function">fromList-∪-singleton</a> <a id="16983" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
      <a id="16991" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="17000" class="Symbol">(</a><a id="17001" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="17007" class="Symbol">((</a><a id="17009" href="Ledger.Conway.Ledger.Properties.html#5298" class="Function">mkAction</a> <a id="17018" class="Bound">p</a> <a id="17020" class="Bound">k</a><a id="17021" class="Symbol">)</a> <a id="17023" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17025" class="Bound">g</a> <a id="17027" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17029" class="Bound">gSt</a><a id="17032" class="Symbol">))</a>
        <a id="17043" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="SetoidProperties.connex-lemma"></a><a id="17048" href="Ledger.Conway.Ledger.Properties.html#17048" class="Function">connex-lemma</a> <a id="17061" class="Symbol">:</a> <a id="17063" class="Symbol">∀</a> <a id="17065" href="Ledger.Conway.Ledger.Properties.html#17065" class="Bound">gSt</a> <a id="17069" href="Ledger.Conway.Ledger.Properties.html#17069" class="Bound">p</a> <a id="17071" href="Ledger.Conway.Ledger.Properties.html#17071" class="Bound">ps</a> <a id="17074" class="Symbol">{</a><a id="17075" href="Ledger.Conway.Ledger.Properties.html#17075" class="Bound">k</a><a id="17076" class="Symbol">}</a>
    <a id="17082" class="Symbol">→</a> <a id="17084" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="17093" class="Symbol">(</a><a id="17094" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="17100" class="Symbol">(</a><a id="17101" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="17117" class="Symbol">(</a><a id="17118" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="17122" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="17127" href="Ledger.Conway.Ledger.Properties.html#17071" class="Bound">ps</a><a id="17129" class="Symbol">)</a> <a id="17131" href="Ledger.Conway.Ledger.Properties.html#17075" class="Bound">k</a> <a id="17133" href="Ledger.Conway.Ledger.Properties.html#17065" class="Bound">gSt</a><a id="17136" class="Symbol">))</a> <a id="17139" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17141" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="17143" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="17160" class="Symbol">(</a><a id="17161" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="17166" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17168" href="Ledger.Conway.Ledger.Properties.html#17075" class="Bound">k</a> <a id="17170" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17172" href="Data.List.Base.html#5044" class="Function">length</a> <a id="17179" href="Ledger.Conway.Ledger.Properties.html#17071" class="Bound">ps</a><a id="17181" class="Symbol">)</a> <a id="17183" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="17193" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="17196" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="17205" class="Symbol">(</a><a id="17206" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="17212" class="Symbol">(</a><a id="17213" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="17229" class="Symbol">(</a><a id="17230" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="17234" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="17239" href="Ledger.Conway.Ledger.Properties.html#17071" class="Bound">ps</a><a id="17241" class="Symbol">)</a> <a id="17243" class="Symbol">(</a><a id="17244" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="17248" href="Ledger.Conway.Ledger.Properties.html#17075" class="Bound">k</a><a id="17249" class="Symbol">)</a> <a id="17251" class="Symbol">(</a><a id="17252" href="Ledger.Conway.Ledger.Properties.html#5555" class="Function">propUpdate</a> <a id="17263" href="Ledger.Conway.Ledger.Properties.html#17065" class="Bound">gSt</a> <a id="17267" href="Ledger.Conway.Ledger.Properties.html#17069" class="Bound">p</a> <a id="17269" href="Ledger.Conway.Ledger.Properties.html#17075" class="Bound">k</a><a id="17270" class="Symbol">)))</a>
  <a id="17276" href="Ledger.Conway.Ledger.Properties.html#17048" class="Function">connex-lemma</a> <a id="17289" href="Ledger.Conway.Ledger.Properties.html#17289" class="Bound">gSt</a> <a id="17293" href="Ledger.Conway.Ledger.Properties.html#17293" class="Bound">p</a> <a id="17295" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="17298" class="Symbol">{</a><a id="17299" href="Ledger.Conway.Ledger.Properties.html#17299" class="Bound">k</a><a id="17300" class="Symbol">}</a> <a id="17302" class="Symbol">=</a> <a id="17304" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="17316" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="17325" class="Symbol">(</a><a id="17326" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="17332" href="Ledger.Conway.Ledger.Properties.html#17289" class="Bound">gSt</a><a id="17335" class="Symbol">)</a> <a id="17337" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17339" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="17341" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="17358" class="Symbol">(</a><a id="17359" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="17364" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17366" href="Ledger.Conway.Ledger.Properties.html#17299" class="Bound">k</a> <a id="17368" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17370" class="Number">0</a><a id="17371" class="Symbol">)</a> <a id="17373" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="17383" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17386" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="17391" class="Symbol">(λ</a> <a id="17394" href="Ledger.Conway.Ledger.Properties.html#17394" class="Bound">x</a> <a id="17396" class="Symbol">→</a> <a id="17398" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="17407" class="Symbol">(</a><a id="17408" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="17414" href="Ledger.Conway.Ledger.Properties.html#17289" class="Bound">gSt</a><a id="17417" class="Symbol">)</a> <a id="17419" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17421" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="17423" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="17440" class="Symbol">(</a><a id="17441" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="17446" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17448" href="Ledger.Conway.Ledger.Properties.html#17394" class="Bound">x</a><a id="17449" class="Symbol">)</a> <a id="17451" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="17452" class="Symbol">)</a> <a id="17454" class="Symbol">(</a><a id="17455" href="Data.Nat.Properties.html#15465" class="Function">+-identityʳ</a> <a id="17467" href="Ledger.Conway.Ledger.Properties.html#17299" class="Bound">k</a><a id="17468" class="Symbol">)</a> <a id="17470" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
      <a id="17478" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="17487" class="Symbol">(</a><a id="17488" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="17494" href="Ledger.Conway.Ledger.Properties.html#17289" class="Bound">gSt</a><a id="17497" class="Symbol">)</a> <a id="17499" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17501" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="17503" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="17520" class="Symbol">(</a><a id="17521" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="17526" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17528" href="Ledger.Conway.Ledger.Properties.html#17299" class="Bound">k</a><a id="17529" class="Symbol">)</a> <a id="17531" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="17541" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="17544" href="Ledger.Conway.Ledger.Properties.html#15639" class="Function">dpMap-update-∪</a> <a id="17559" href="Ledger.Conway.Ledger.Properties.html#17289" class="Bound">gSt</a> <a id="17563" href="Ledger.Conway.Ledger.Properties.html#17293" class="Bound">p</a> <a id="17565" href="Ledger.Conway.Ledger.Properties.html#17299" class="Bound">k</a> <a id="17567" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
      <a id="17575" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="17584" class="Symbol">(</a><a id="17585" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="17591" class="Symbol">(</a><a id="17592" href="Ledger.Conway.Ledger.Properties.html#5555" class="Function">propUpdate</a> <a id="17603" href="Ledger.Conway.Ledger.Properties.html#17289" class="Bound">gSt</a> <a id="17607" href="Ledger.Conway.Ledger.Properties.html#17293" class="Bound">p</a> <a id="17609" href="Ledger.Conway.Ledger.Properties.html#17299" class="Bound">k</a><a id="17610" class="Symbol">))</a>
        <a id="17621" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="17625" href="Ledger.Conway.Ledger.Properties.html#17048" class="Function">connex-lemma</a> <a id="17638" href="Ledger.Conway.Ledger.Properties.html#17638" class="Bound">gSt</a> <a id="17642" href="Ledger.Conway.Ledger.Properties.html#17642" class="Bound">p</a> <a id="17644" class="Symbol">(</a><a id="17645" href="Ledger.Conway.Ledger.Properties.html#17645" class="Bound">p&#39;</a> <a id="17648" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17650" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="17652" class="Symbol">)</a> <a id="17654" class="Symbol">{</a><a id="17655" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a><a id="17656" class="Symbol">}</a> <a id="17658" class="Symbol">=</a> <a id="17660" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="17670" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="17679" class="Symbol">(</a><a id="17680" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="17686" class="Symbol">(</a><a id="17687" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="17703" class="Symbol">(</a><a id="17704" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="17708" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="17713" class="Symbol">(</a><a id="17714" href="Ledger.Conway.Ledger.Properties.html#17645" class="Bound">p&#39;</a> <a id="17717" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17719" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="17721" class="Symbol">))</a> <a id="17724" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a> <a id="17726" href="Ledger.Conway.Ledger.Properties.html#17638" class="Bound">gSt</a><a id="17729" class="Symbol">))</a>
      <a id="17738" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17740" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="17742" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="17759" class="Symbol">(</a><a id="17760" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="17765" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17767" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a> <a id="17769" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="17771" href="Data.List.Base.html#5044" class="Function">length</a> <a id="17778" class="Symbol">(</a><a id="17779" href="Ledger.Conway.Ledger.Properties.html#17645" class="Bound">p&#39;</a> <a id="17782" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17784" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="17786" class="Symbol">))</a> <a id="17789" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="17799" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="17802" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="17807" class="Symbol">(λ</a> <a id="17810" href="Ledger.Conway.Ledger.Properties.html#17810" class="Bound">x</a> <a id="17812" class="Symbol">→</a> <a id="17814" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="17823" class="Symbol">(</a><a id="17824" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="17830" class="Symbol">(</a><a id="17831" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="17847" class="Symbol">(</a><a id="17848" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="17852" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="17857" class="Symbol">(</a><a id="17858" href="Ledger.Conway.Ledger.Properties.html#17645" class="Bound">p&#39;</a> <a id="17861" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17863" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="17865" class="Symbol">))</a> <a id="17868" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a> <a id="17870" href="Ledger.Conway.Ledger.Properties.html#17638" class="Bound">gSt</a><a id="17873" class="Symbol">))</a>
            <a id="17888" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="17890" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="17892" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="17909" class="Symbol">(</a><a id="17910" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="17915" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17917" href="Ledger.Conway.Ledger.Properties.html#17810" class="Bound">x</a><a id="17918" class="Symbol">)</a> <a id="17920" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="17921" class="Symbol">)</a> <a id="17923" class="Symbol">(</a><a id="17924" href="Data.Nat.Properties.html#15101" class="Function">+-suc</a> <a id="17930" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a> <a id="17932" class="Symbol">(</a><a id="17933" href="Data.List.Base.html#5044" class="Function">length</a> <a id="17940" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="17942" class="Symbol">))</a> <a id="17945" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="17951" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="17960" class="Symbol">(</a><a id="17961" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="17967" class="Symbol">(</a><a id="17968" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="17984" class="Symbol">(</a><a id="17985" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="17989" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="17994" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="17996" class="Symbol">)</a> <a id="17998" class="Symbol">(</a><a id="17999" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="18003" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a><a id="18004" class="Symbol">)</a> <a id="18006" class="Symbol">(</a><a id="18007" href="Ledger.Conway.Ledger.Properties.html#5555" class="Function">propUpdate</a> <a id="18018" href="Ledger.Conway.Ledger.Properties.html#17638" class="Bound">gSt</a> <a id="18022" href="Ledger.Conway.Ledger.Properties.html#17645" class="Bound">p&#39;</a> <a id="18025" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a><a id="18026" class="Symbol">)))</a>
      <a id="18036" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="18038" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="18040" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="18057" class="Symbol">(</a><a id="18058" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="18063" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18065" class="Symbol">(</a><a id="18066" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="18070" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a><a id="18071" class="Symbol">)</a> <a id="18073" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18075" href="Data.List.Base.html#5044" class="Function">length</a> <a id="18082" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="18084" class="Symbol">)</a> <a id="18086" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="18096" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="18100" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="18107" class="Symbol">(</a><a id="18108" href="Ledger.Conway.Ledger.Properties.html#17048" class="Function">connex-lemma</a> <a id="18121" href="Ledger.Conway.Ledger.Properties.html#17638" class="Bound">gSt</a> <a id="18125" href="Ledger.Conway.Ledger.Properties.html#17645" class="Bound">p&#39;</a> <a id="18128" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="18130" class="Symbol">)</a> <a id="18132" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="18140" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="18146" class="Symbol">(</a><a id="18147" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="18156" class="Symbol">(</a><a id="18157" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="18163" class="Symbol">(</a><a id="18164" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="18180" class="Symbol">(</a><a id="18181" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="18185" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="18190" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="18192" class="Symbol">)</a> <a id="18194" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a> <a id="18196" href="Ledger.Conway.Ledger.Properties.html#17638" class="Bound">gSt</a><a id="18199" class="Symbol">))</a>
      <a id="18208" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="18210" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="18212" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="18229" class="Symbol">(</a><a id="18230" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="18235" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18237" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a> <a id="18239" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18241" href="Data.List.Base.html#5044" class="Function">length</a> <a id="18248" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="18250" class="Symbol">)</a> <a id="18252" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="18253" class="Symbol">)</a>
      <a id="18261" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="18263" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="18265" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="18282" class="Symbol">(</a><a id="18283" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="18288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18290" class="Symbol">(</a><a id="18291" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="18295" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a><a id="18296" class="Symbol">)</a> <a id="18298" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18300" href="Data.List.Base.html#5044" class="Function">length</a> <a id="18307" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="18309" class="Symbol">)</a> <a id="18311" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="18321" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18324" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="18331" class="Symbol">(</a><a id="18332" href="Ledger.Conway.Ledger.Properties.html#17048" class="Function">connex-lemma</a> <a id="18345" href="Ledger.Conway.Ledger.Properties.html#17638" class="Bound">gSt</a> <a id="18349" href="Ledger.Conway.Ledger.Properties.html#17642" class="Bound">p</a> <a id="18351" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="18353" class="Symbol">)</a> <a id="18355" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="18363" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18369" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="18378" class="Symbol">(</a><a id="18379" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="18385" class="Symbol">(</a><a id="18386" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="18402" class="Symbol">(</a><a id="18403" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="18407" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="18412" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="18414" class="Symbol">)</a> <a id="18416" class="Symbol">(</a><a id="18417" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="18421" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a><a id="18422" class="Symbol">)</a> <a id="18424" class="Symbol">(</a><a id="18425" href="Ledger.Conway.Ledger.Properties.html#5555" class="Function">propUpdate</a> <a id="18436" href="Ledger.Conway.Ledger.Properties.html#17638" class="Bound">gSt</a> <a id="18440" href="Ledger.Conway.Ledger.Properties.html#17642" class="Bound">p</a> <a id="18442" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a><a id="18443" class="Symbol">)))</a>
      <a id="18453" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="18455" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="18457" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="18474" class="Symbol">(</a><a id="18475" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="18480" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18482" class="Symbol">(</a><a id="18483" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="18487" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a><a id="18488" class="Symbol">)</a> <a id="18490" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="18492" href="Data.List.Base.html#5044" class="Function">length</a> <a id="18499" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="18501" class="Symbol">)</a> <a id="18503" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
        <a id="18513" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="18516" href="Ledger.Conway.Ledger.Properties.html#17048" class="Function">connex-lemma</a> <a id="18529" class="Symbol">(</a><a id="18530" href="Ledger.Conway.Ledger.Properties.html#5555" class="Function">propUpdate</a> <a id="18541" href="Ledger.Conway.Ledger.Properties.html#17638" class="Bound">gSt</a> <a id="18545" href="Ledger.Conway.Ledger.Properties.html#17642" class="Bound">p</a> <a id="18547" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a><a id="18548" class="Symbol">)</a> <a id="18550" href="Ledger.Conway.Ledger.Properties.html#17645" class="Bound">p&#39;</a> <a id="18553" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a> <a id="18556" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="18562" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="18571" class="Symbol">(</a><a id="18572" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="18578" class="Symbol">(</a><a id="18579" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="18595" class="Symbol">(</a><a id="18596" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="18600" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="18605" class="Symbol">(</a><a id="18606" href="Ledger.Conway.Ledger.Properties.html#17645" class="Bound">p&#39;</a> <a id="18609" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18611" href="Ledger.Conway.Ledger.Properties.html#17650" class="Bound">ps</a><a id="18613" class="Symbol">))</a> <a id="18616" class="Symbol">(</a><a id="18617" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="18621" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a><a id="18622" class="Symbol">)</a> <a id="18624" class="Symbol">(</a><a id="18625" href="Ledger.Conway.Ledger.Properties.html#5555" class="Function">propUpdate</a> <a id="18636" href="Ledger.Conway.Ledger.Properties.html#17638" class="Bound">gSt</a> <a id="18640" href="Ledger.Conway.Ledger.Properties.html#17642" class="Bound">p</a> <a id="18642" href="Ledger.Conway.Ledger.Properties.html#17655" class="Bound">k</a><a id="18643" class="Symbol">)))</a>
        <a id="18655" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="SetoidProperties.utxo-govst-connex"></a><a id="18660" href="Ledger.Conway.Ledger.Properties.html#18660" class="Function">utxo-govst-connex</a> <a id="18678" class="Symbol">:</a> <a id="18680" class="Symbol">∀</a> <a id="18682" href="Ledger.Conway.Ledger.Properties.html#18682" class="Bound">txp</a> <a id="18686" class="Symbol">{</a><a id="18687" href="Ledger.Conway.Ledger.Properties.html#18687" class="Bound">utxoDs</a> <a id="18694" href="Ledger.Conway.Ledger.Properties.html#18694" class="Bound">gSt</a> <a id="18698" href="Ledger.Conway.Ledger.Properties.html#18698" class="Bound">gad</a><a id="18701" class="Symbol">}</a>
    <a id="18707" class="Symbol">→</a> <a id="18709" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18717" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="18729" class="Symbol">(</a><a id="18730" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18734" class="Symbol">(</a><a id="18735" href="Ledger.Conway.Ledger.Properties.html#18687" class="Bound">utxoDs</a><a id="18741" class="Symbol">))</a> <a id="18744" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="18747" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="18756" class="Symbol">(</a><a id="18757" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="18763" href="Ledger.Conway.Ledger.Properties.html#18694" class="Bound">gSt</a><a id="18766" class="Symbol">)</a>
    <a id="18772" class="Symbol">→</a> <a id="18774" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="18782" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="18794" class="Symbol">(</a><a id="18795" href="Class.IsSet.html#916" class="Function">dom</a> <a id="18799" class="Symbol">(</a><a id="18800" href="Ledger.Conway.Utxo.html#9034" class="Function">updateProposalDeposits</a> <a id="18823" href="Ledger.Conway.Ledger.Properties.html#18682" class="Bound">txp</a> <a id="18827" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="18832" href="Ledger.Conway.Ledger.Properties.html#18698" class="Bound">gad</a> <a id="18836" href="Ledger.Conway.Ledger.Properties.html#18687" class="Bound">utxoDs</a><a id="18842" class="Symbol">))</a>
      <a id="18851" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="18854" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="18863" class="Symbol">(</a><a id="18864" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="18870" class="Symbol">(</a><a id="18871" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="18887" class="Symbol">(</a><a id="18888" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="18892" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="18897" href="Ledger.Conway.Ledger.Properties.html#18682" class="Bound">txp</a><a id="18900" class="Symbol">)</a> <a id="18902" class="Number">0</a> <a id="18904" href="Ledger.Conway.Ledger.Properties.html#18694" class="Bound">gSt</a><a id="18907" class="Symbol">))</a>
  <a id="18912" href="Ledger.Conway.Ledger.Properties.html#18660" class="Function">utxo-govst-connex</a> <a id="18930" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="18933" href="Ledger.Conway.Ledger.Properties.html#18933" class="Bound">x</a> <a id="18935" class="Symbol">=</a> <a id="18937" href="Ledger.Conway.Ledger.Properties.html#18933" class="Bound">x</a>
  <a id="18941" href="Ledger.Conway.Ledger.Properties.html#18660" class="Function">utxo-govst-connex</a> <a id="18959" class="Symbol">(</a><a id="18960" href="Ledger.Conway.Ledger.Properties.html#18960" class="Bound">p</a> <a id="18962" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18964" href="Ledger.Conway.Ledger.Properties.html#18964" class="Bound">ps</a><a id="18966" class="Symbol">)</a> <a id="18968" class="Symbol">{</a><a id="18969" href="Ledger.Conway.Ledger.Properties.html#18969" class="Bound">utxoDs</a><a id="18975" class="Symbol">}</a> <a id="18977" class="Symbol">{</a><a id="18978" href="Ledger.Conway.Ledger.Properties.html#18978" class="Bound">gSt</a><a id="18981" class="Symbol">}</a> <a id="18983" class="Symbol">{</a><a id="18984" href="Ledger.Conway.Ledger.Properties.html#18984" class="Bound">gad</a><a id="18987" class="Symbol">}</a> <a id="18989" href="Ledger.Conway.Ledger.Properties.html#18989" class="Bound">x</a> <a id="18991" class="Symbol">=</a> <a id="18993" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="19003" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="19011" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="19023" class="Symbol">(</a><a id="19024" href="Class.IsSet.html#916" class="Function">dom</a> <a id="19028" class="Symbol">(</a><a id="19029" href="Ledger.Conway.Utxo.html#9034" class="Function">updateProposalDeposits</a> <a id="19052" class="Symbol">(</a><a id="19053" href="Ledger.Conway.Ledger.Properties.html#18960" class="Bound">p</a> <a id="19055" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19057" href="Ledger.Conway.Ledger.Properties.html#18964" class="Bound">ps</a><a id="19059" class="Symbol">)</a> <a id="19061" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="19066" href="Ledger.Conway.Ledger.Properties.html#18984" class="Bound">gad</a> <a id="19070" href="Ledger.Conway.Ledger.Properties.html#18969" class="Bound">utxoDs</a><a id="19076" class="Symbol">))</a>
      <a id="19085" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="19088" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="19103" href="Axiom.Set.Map.Dec.html#3043" class="Function">dom∪⁺≡∪dom</a> <a id="19114" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="19120" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="19128" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="19140" class="Symbol">((</a><a id="19142" href="Class.IsSet.html#916" class="Function">dom</a> <a id="19146" class="Symbol">(</a><a id="19147" href="Ledger.Conway.Utxo.html#9034" class="Function">updateProposalDeposits</a> <a id="19170" href="Ledger.Conway.Ledger.Properties.html#18964" class="Bound">ps</a> <a id="19173" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="19178" href="Ledger.Conway.Ledger.Properties.html#18984" class="Bound">gad</a> <a id="19182" href="Ledger.Conway.Ledger.Properties.html#18969" class="Bound">utxoDs</a><a id="19188" class="Symbol">))</a>
      <a id="19197" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="19199" class="Symbol">(</a><a id="19200" href="Class.IsSet.html#916" class="Function">dom</a><a id="19203" class="Symbol">{</a><a id="19204" class="Argument">X</a> <a id="19206" class="Symbol">=</a> <a id="19208" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a><a id="19216" class="Symbol">}</a> <a id="19218" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="19220" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="19237" class="Symbol">(</a><a id="19238" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="19243" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19245" href="Data.List.Base.html#5044" class="Function">length</a> <a id="19252" href="Ledger.Conway.Ledger.Properties.html#18964" class="Bound">ps</a><a id="19254" class="Symbol">)</a> <a id="19256" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19258" href="Ledger.Conway.Ledger.Properties.html#18984" class="Bound">gad</a> <a id="19262" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="19263" class="Symbol">))</a>
      <a id="19272" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="19275" href="Axiom.Set.Properties.html#9002" class="Function">filter-hom-∪</a> <a id="19288" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="19294" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="19302" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="19314" class="Symbol">(</a><a id="19315" href="Class.IsSet.html#916" class="Function">dom</a> <a id="19319" class="Symbol">(</a><a id="19320" href="Ledger.Conway.Utxo.html#9034" class="Function">updateProposalDeposits</a> <a id="19343" href="Ledger.Conway.Ledger.Properties.html#18964" class="Bound">ps</a> <a id="19346" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="19351" href="Ledger.Conway.Ledger.Properties.html#18984" class="Bound">gad</a> <a id="19355" href="Ledger.Conway.Ledger.Properties.html#18969" class="Bound">utxoDs</a><a id="19361" class="Symbol">))</a> <a id="19364" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="19366" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="19374" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a>
        <a id="19394" class="Symbol">(</a><a id="19395" href="Class.IsSet.html#916" class="Function">dom</a><a id="19398" class="Symbol">{</a><a id="19399" class="Argument">X</a> <a id="19401" class="Symbol">=</a> <a id="19403" href="Ledger.Conway.Certs.html#601" class="Function">Deposits</a><a id="19411" class="Symbol">}</a> <a id="19413" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="19415" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="19432" class="Symbol">(</a><a id="19433" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="19438" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19440" href="Data.List.Base.html#5044" class="Function">length</a> <a id="19447" href="Ledger.Conway.Ledger.Properties.html#18964" class="Bound">ps</a><a id="19449" class="Symbol">)</a> <a id="19451" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19453" href="Ledger.Conway.Ledger.Properties.html#18984" class="Bound">gad</a> <a id="19457" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="19458" class="Symbol">)</a>
      <a id="19466" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="19469" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="19476" class="Symbol">(</a><a id="19477" href="Ledger.Conway.Ledger.Properties.html#18660" class="Function">utxo-govst-connex</a> <a id="19495" href="Ledger.Conway.Ledger.Properties.html#18964" class="Bound">ps</a> <a id="19498" href="Ledger.Conway.Ledger.Properties.html#18989" class="Bound">x</a><a id="19499" class="Symbol">)</a> <a id="19501" class="Symbol">(</a><a id="19502" href="Axiom.Set.Properties.html#8086" class="Function">filter-pres-≡ᵉ</a> <a id="19517" href="Axiom.Set.Rel.html#3373" class="Function">dom-single≡single</a><a id="19534" class="Symbol">)</a> <a id="19536" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="19542" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19551" class="Symbol">(</a><a id="19552" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="19558" class="Symbol">(</a><a id="19559" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="19575" class="Symbol">(</a><a id="19576" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="19580" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19585" href="Ledger.Conway.Ledger.Properties.html#18964" class="Bound">ps</a><a id="19587" class="Symbol">)</a> <a id="19589" class="Number">0</a> <a id="19591" href="Ledger.Conway.Ledger.Properties.html#18978" class="Bound">gSt</a><a id="19594" class="Symbol">))</a>
      <a id="19603" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="19605" href="abstract-set-theory.FiniteSetTheory.html#2813" class="Function">filterˢ</a> <a id="19613" href="Ledger.Conway.Ledger.Properties.html#4040" class="Function">isGADeposit</a> <a id="19625" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="19627" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="19644" class="Symbol">(</a><a id="19645" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="19650" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19652" href="Data.List.Base.html#5044" class="Function">length</a> <a id="19659" href="Ledger.Conway.Ledger.Properties.html#18964" class="Bound">ps</a><a id="19661" class="Symbol">)</a> <a id="19663" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="19671" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="19674" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a>  <a id="19682" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="19690" class="Symbol">(</a><a id="19691" href="Ledger.Conway.Ledger.Properties.html#4554" class="Function">filterGA</a> <a id="19700" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="19705" class="Symbol">_)</a> <a id="19708" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="19714" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19723" class="Symbol">(</a><a id="19724" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="19730" class="Symbol">(</a><a id="19731" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="19747" class="Symbol">(</a><a id="19748" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="19752" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19757" href="Ledger.Conway.Ledger.Properties.html#18964" class="Bound">ps</a><a id="19759" class="Symbol">)</a> <a id="19761" class="Number">0</a> <a id="19763" href="Ledger.Conway.Ledger.Properties.html#18978" class="Bound">gSt</a><a id="19766" class="Symbol">))</a> <a id="19769" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="19771" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="19773" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="19790" class="Symbol">(</a><a id="19791" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="19796" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19798" href="Data.List.Base.html#5044" class="Function">length</a> <a id="19805" href="Ledger.Conway.Ledger.Properties.html#18964" class="Bound">ps</a><a id="19807" class="Symbol">)</a> <a id="19809" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="19817" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="19820" href="Ledger.Conway.Ledger.Properties.html#17048" class="Function">connex-lemma</a> <a id="19833" href="Ledger.Conway.Ledger.Properties.html#18978" class="Bound">gSt</a> <a id="19837" href="Ledger.Conway.Ledger.Properties.html#18960" class="Bound">p</a> <a id="19839" href="Ledger.Conway.Ledger.Properties.html#18964" class="Bound">ps</a> <a id="19842" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="19848" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="19857" class="Symbol">(</a><a id="19858" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="19864" class="Symbol">(</a><a id="19865" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="19881" class="Symbol">(</a><a id="19882" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="19886" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="19891" class="Symbol">(</a><a id="19892" href="Ledger.Conway.Ledger.Properties.html#18960" class="Bound">p</a> <a id="19894" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19896" href="Ledger.Conway.Ledger.Properties.html#18964" class="Bound">ps</a><a id="19898" class="Symbol">))</a> <a id="19901" class="Number">0</a> <a id="19903" href="Ledger.Conway.Ledger.Properties.html#18978" class="Bound">gSt</a><a id="19906" class="Symbol">))</a> <a id="19909" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="19914" class="Comment">-- The list of natural numbers from 0 up to `n` - 1.</a>
  <a id="SetoidProperties.⟦0:&lt;_⟧"></a><a id="19969" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;_⟧</a> <a id="19976" class="Symbol">:</a> <a id="19978" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="19980" class="Symbol">→</a> <a id="19982" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19987" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="19991" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="19996" class="Number">0</a>     <a id="20002" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a> <a id="20004" class="Symbol">=</a> <a id="20006" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="20011" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="20016" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="20020" href="Ledger.Conway.Ledger.Properties.html#20020" class="Bound">n</a> <a id="20022" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a> <a id="20024" class="Symbol">=</a> <a id="20026" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="20031" href="Ledger.Conway.Ledger.Properties.html#20020" class="Bound">n</a> <a id="20033" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a> <a id="20035" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="20038" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="20040" href="Ledger.Conway.Ledger.Properties.html#20020" class="Bound">n</a> <a id="20042" href="Data.List.Base.html#5205" class="Function Operator">]</a>

  <a id="SetoidProperties.connex-lemma-rep"></a><a id="20047" href="Ledger.Conway.Ledger.Properties.html#20047" class="Function">connex-lemma-rep</a> <a id="20064" class="Symbol">:</a> <a id="20066" class="Symbol">∀</a> <a id="20068" href="Ledger.Conway.Ledger.Properties.html#20068" class="Bound">k</a> <a id="20070" href="Ledger.Conway.Ledger.Properties.html#20070" class="Bound">govSt</a> <a id="20076" href="Ledger.Conway.Ledger.Properties.html#20076" class="Bound">ps</a> <a id="20079" class="Symbol">→</a>
    <a id="20085" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20094" class="Symbol">(</a><a id="20095" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="20101" class="Symbol">(</a><a id="20102" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="20118" class="Symbol">(</a><a id="20119" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="20123" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="20128" href="Ledger.Conway.Ledger.Properties.html#20076" class="Bound">ps</a><a id="20130" class="Symbol">)</a> <a id="20132" href="Ledger.Conway.Ledger.Properties.html#20068" class="Bound">k</a> <a id="20134" href="Ledger.Conway.Ledger.Properties.html#20070" class="Bound">govSt</a><a id="20139" class="Symbol">))</a>
    <a id="20146" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a>
    <a id="20153" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20162" class="Symbol">(</a><a id="20163" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="20169" href="Ledger.Conway.Ledger.Properties.html#20070" class="Bound">govSt</a><a id="20174" class="Symbol">)</a> <a id="20176" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20178" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20187" class="Symbol">(</a><a id="20188" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="20192" class="Symbol">(λ</a> <a id="20195" href="Ledger.Conway.Ledger.Properties.html#20195" class="Bound">i</a> <a id="20197" class="Symbol">→</a> <a id="20199" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="20216" class="Symbol">(</a><a id="20217" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="20222" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20224" href="Ledger.Conway.Ledger.Properties.html#20068" class="Bound">k</a> <a id="20226" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20228" href="Ledger.Conway.Ledger.Properties.html#20195" class="Bound">i</a><a id="20229" class="Symbol">))</a> <a id="20232" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="20237" href="Data.List.Base.html#5044" class="Function">length</a> <a id="20244" href="Ledger.Conway.Ledger.Properties.html#20076" class="Bound">ps</a> <a id="20247" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a><a id="20248" class="Symbol">)</a>
  <a id="20252" href="Ledger.Conway.Ledger.Properties.html#20047" class="Function">connex-lemma-rep</a> <a id="20269" href="Ledger.Conway.Ledger.Properties.html#20269" class="Bound">k</a> <a id="20271" href="Ledger.Conway.Ledger.Properties.html#20271" class="Bound">govSt</a> <a id="20277" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="20280" class="Symbol">=</a> <a id="20282" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="20292" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20301" class="Symbol">(</a><a id="20302" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="20308" href="Ledger.Conway.Ledger.Properties.html#20271" class="Bound">govSt</a><a id="20313" class="Symbol">)</a>
      <a id="20321" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="20325" href="Axiom.Set.Properties.html#11985" class="Function">∪-identityʳ</a> <a id="20337" class="Symbol">(</a><a id="20338" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20347" class="Symbol">(</a><a id="20348" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="20354" href="Ledger.Conway.Ledger.Properties.html#20271" class="Bound">govSt</a><a id="20359" class="Symbol">))</a> <a id="20362" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="20368" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20377" class="Symbol">(</a><a id="20378" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="20384" href="Ledger.Conway.Ledger.Properties.html#20271" class="Bound">govSt</a><a id="20389" class="Symbol">)</a> <a id="20391" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20393" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20402" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="20411" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="20419" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20428" class="Symbol">(</a><a id="20429" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="20435" href="Ledger.Conway.Ledger.Properties.html#20271" class="Bound">govSt</a><a id="20440" class="Symbol">)</a> <a id="20442" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20444" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20453" class="Symbol">(</a><a id="20454" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="20458" class="Symbol">(λ</a> <a id="20461" href="Ledger.Conway.Ledger.Properties.html#20461" class="Bound">i</a> <a id="20463" class="Symbol">→</a> <a id="20465" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="20482" class="Symbol">(</a><a id="20483" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="20488" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20490" href="Ledger.Conway.Ledger.Properties.html#20269" class="Bound">k</a> <a id="20492" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20494" href="Ledger.Conway.Ledger.Properties.html#20461" class="Bound">i</a><a id="20495" class="Symbol">))</a> <a id="20498" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="20503" class="Number">0</a> <a id="20505" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a><a id="20506" class="Symbol">)</a> <a id="20508" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>
  <a id="20512" href="Ledger.Conway.Ledger.Properties.html#20047" class="Function">connex-lemma-rep</a> <a id="20529" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="20531" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a> <a id="20537" class="Symbol">(</a><a id="20538" href="Ledger.Conway.Ledger.Properties.html#20538" class="Bound">p</a> <a id="20540" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20542" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="20544" class="Symbol">)</a> <a id="20546" class="Symbol">=</a> <a id="20548" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="20558" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20567" class="Symbol">(</a><a id="20568" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="20574" class="Symbol">(</a><a id="20575" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="20591" class="Symbol">(</a><a id="20592" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="20596" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="20601" class="Symbol">(</a><a id="20602" href="Ledger.Conway.Ledger.Properties.html#20538" class="Bound">p</a> <a id="20604" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20606" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="20608" class="Symbol">))</a> <a id="20611" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="20613" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a><a id="20618" class="Symbol">))</a>
      <a id="20627" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="20635" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20644" class="Symbol">(</a><a id="20645" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="20651" class="Symbol">(</a><a id="20652" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="20668" class="Symbol">(</a><a id="20669" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="20674" href="Ledger.Conway.Ledger.Properties.html#20538" class="Bound">p</a> <a id="20676" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20678" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="20682" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="20687" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="20689" class="Symbol">)</a> <a id="20691" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="20693" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a><a id="20698" class="Symbol">))</a>
      <a id="20707" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="20715" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20724" class="Symbol">(</a><a id="20725" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="20731" class="Symbol">(</a><a id="20732" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="20748" class="Symbol">(</a><a id="20749" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="20753" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="20758" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="20760" class="Symbol">)</a> <a id="20762" class="Symbol">(</a><a id="20763" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="20767" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a><a id="20768" class="Symbol">)</a> <a id="20770" class="Symbol">(</a><a id="20771" href="Ledger.Conway.Ledger.Properties.html#5555" class="Function">propUpdate</a> <a id="20782" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a> <a id="20788" href="Ledger.Conway.Ledger.Properties.html#20538" class="Bound">p</a> <a id="20790" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a><a id="20791" class="Symbol">)))</a>
      <a id="20801" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="20805" href="Ledger.Conway.Ledger.Properties.html#17048" class="Function">connex-lemma</a> <a id="20818" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a> <a id="20824" href="Ledger.Conway.Ledger.Properties.html#20538" class="Bound">p</a> <a id="20826" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a> <a id="20829" class="Symbol">{</a><a id="20830" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a><a id="20831" class="Symbol">}</a> <a id="20833" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="20839" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="20848" class="Symbol">(</a><a id="20849" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="20855" class="Symbol">(</a><a id="20856" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="20872" class="Symbol">(</a><a id="20873" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="20877" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="20882" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="20884" class="Symbol">)</a> <a id="20886" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="20888" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a><a id="20893" class="Symbol">))</a> <a id="20896" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="20898" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="20900" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="20917" class="Symbol">(</a><a id="20918" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="20923" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20925" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="20927" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="20929" href="Data.List.Base.html#5044" class="Function">length</a> <a id="20936" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="20938" class="Symbol">)</a> <a id="20940" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="20948" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="20951" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="20958" class="Symbol">(</a><a id="20959" href="Ledger.Conway.Ledger.Properties.html#20047" class="Function">connex-lemma-rep</a> <a id="20976" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="20978" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a> <a id="20984" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="20986" class="Symbol">)</a> <a id="20988" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="20996" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="21002" class="Symbol">(</a><a id="21003" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21012" class="Symbol">(</a><a id="21013" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="21019" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a><a id="21024" class="Symbol">)</a> <a id="21026" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21028" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21037" class="Symbol">(</a><a id="21038" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="21042" class="Symbol">(λ</a> <a id="21045" href="Ledger.Conway.Ledger.Properties.html#21045" class="Bound">i</a> <a id="21047" class="Symbol">→</a> <a id="21049" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="21066" class="Symbol">(</a><a id="21067" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="21072" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21074" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="21076" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21078" href="Ledger.Conway.Ledger.Properties.html#21045" class="Bound">i</a><a id="21079" class="Symbol">))</a> <a id="21082" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="21087" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21094" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a> <a id="21097" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a><a id="21098" class="Symbol">))</a> <a id="21101" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21103" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21105" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="21122" class="Symbol">(</a><a id="21123" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="21128" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21130" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="21132" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21134" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21141" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="21143" class="Symbol">)</a> <a id="21145" href="Class.HasSingleton.html#288" class="Field Operator">❵</a>
      <a id="21153" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="21156" href="Axiom.Set.Properties.html#12114" class="Function">∪-assoc</a> <a id="21164" class="Symbol">(</a><a id="21165" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21174" class="Symbol">(</a><a id="21175" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="21181" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a><a id="21186" class="Symbol">))</a> <a id="21189" class="Symbol">(</a><a id="21190" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21199" class="Symbol">(</a><a id="21200" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="21204" class="Symbol">(λ</a> <a id="21207" href="Ledger.Conway.Ledger.Properties.html#21207" class="Bound">i</a> <a id="21209" class="Symbol">→</a> <a id="21211" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="21228" class="Symbol">(</a><a id="21229" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="21234" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21236" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="21238" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21240" href="Ledger.Conway.Ledger.Properties.html#21207" class="Bound">i</a><a id="21241" class="Symbol">))</a> <a id="21244" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="21249" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21256" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a> <a id="21259" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a><a id="21260" class="Symbol">))</a> <a id="21263" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21265" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="21282" class="Symbol">(</a><a id="21283" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="21288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21290" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="21292" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21294" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21301" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="21303" class="Symbol">)</a> <a id="21305" href="Class.HasSingleton.html#288" class="Field Operator">❵</a> <a id="21307" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="21313" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21322" class="Symbol">(</a><a id="21323" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="21329" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a><a id="21334" class="Symbol">)</a> <a id="21336" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21338" class="Symbol">(</a><a id="21339" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21348" class="Symbol">(</a><a id="21349" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="21353" class="Symbol">(λ</a> <a id="21356" href="Ledger.Conway.Ledger.Properties.html#21356" class="Bound">i</a> <a id="21358" class="Symbol">→</a> <a id="21360" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="21377" class="Symbol">(</a><a id="21378" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="21383" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21385" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="21387" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21389" href="Ledger.Conway.Ledger.Properties.html#21356" class="Bound">i</a><a id="21390" class="Symbol">))</a> <a id="21393" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="21398" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21405" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a> <a id="21408" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a><a id="21409" class="Symbol">)</a> <a id="21411" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21413" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="21415" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="21432" class="Symbol">(</a><a id="21433" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="21438" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21440" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="21442" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21444" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21451" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="21453" class="Symbol">)</a> <a id="21455" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="21456" class="Symbol">)</a>
      <a id="21464" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="21472" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21481" class="Symbol">(</a><a id="21482" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="21488" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a><a id="21493" class="Symbol">)</a> <a id="21495" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21497" class="Symbol">(</a><a id="21498" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21507" class="Symbol">(</a><a id="21508" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="21512" class="Symbol">(λ</a> <a id="21515" href="Ledger.Conway.Ledger.Properties.html#21515" class="Bound">i</a> <a id="21517" class="Symbol">→</a> <a id="21519" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="21536" class="Symbol">(</a><a id="21537" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="21542" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21544" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="21546" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21548" href="Ledger.Conway.Ledger.Properties.html#21515" class="Bound">i</a><a id="21549" class="Symbol">))</a> <a id="21552" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="21557" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21564" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a> <a id="21567" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a><a id="21568" class="Symbol">)</a> <a id="21570" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21572" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21581" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="21583" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="21600" class="Symbol">(</a><a id="21601" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="21606" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21608" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="21610" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21612" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21619" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="21621" class="Symbol">)</a> <a id="21623" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="21624" class="Symbol">)</a>
      <a id="21632" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="21635" href="Axiom.Set.Properties.html#10550" class="Function">∪-cong</a> <a id="21642" href="Relation.Binary.Structures.html#1596" class="Function">≡ᵉ.refl</a> <a id="21650" class="Symbol">(</a><a id="21651" href="Axiom.Set.Properties.html#12610" class="Function">∪-fromList-++</a> <a id="21665" class="Symbol">(</a><a id="21666" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="21670" class="Symbol">(λ</a> <a id="21673" href="Ledger.Conway.Ledger.Properties.html#21673" class="Bound">i</a> <a id="21675" class="Symbol">→</a> <a id="21677" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="21694" class="Symbol">(</a><a id="21695" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="21700" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21702" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="21704" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21706" href="Ledger.Conway.Ledger.Properties.html#21673" class="Bound">i</a><a id="21707" class="Symbol">))</a> <a id="21710" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="21715" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21722" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a> <a id="21725" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a><a id="21726" class="Symbol">)</a> <a id="21728" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="21730" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="21747" class="Symbol">(</a><a id="21748" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="21753" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21755" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="21757" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21759" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21766" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="21768" class="Symbol">)</a> <a id="21770" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="21771" class="Symbol">)</a> <a id="21773" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="21779" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21788" class="Symbol">(</a><a id="21789" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="21795" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a><a id="21800" class="Symbol">)</a> <a id="21802" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21804" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21813" class="Symbol">(</a><a id="21814" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="21818" class="Symbol">(λ</a> <a id="21821" href="Ledger.Conway.Ledger.Properties.html#21821" class="Bound">i</a> <a id="21823" class="Symbol">→</a> <a id="21825" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="21842" class="Symbol">(</a><a id="21843" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="21848" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21850" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="21852" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21854" href="Ledger.Conway.Ledger.Properties.html#21821" class="Bound">i</a><a id="21855" class="Symbol">))</a> <a id="21858" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="21863" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21870" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a> <a id="21873" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a> <a id="21875" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="21878" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="21880" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="21897" class="Symbol">(</a><a id="21898" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="21903" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21905" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="21907" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="21909" href="Data.List.Base.html#5044" class="Function">length</a> <a id="21916" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="21918" class="Symbol">)</a> <a id="21920" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="21921" class="Symbol">)</a>
      <a id="21929" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">≡˘⟨</a> <a id="21933" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="21938" class="Symbol">(λ</a> <a id="21941" href="Ledger.Conway.Ledger.Properties.html#21941" class="Bound">x</a> <a id="21943" class="Symbol">→</a> <a id="21945" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21954" class="Symbol">(</a><a id="21955" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="21961" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a><a id="21966" class="Symbol">)</a> <a id="21968" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="21970" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="21979" href="Ledger.Conway.Ledger.Properties.html#21941" class="Bound">x</a><a id="21980" class="Symbol">)</a> <a id="21982" class="Symbol">(</a><a id="21983" href="Data.List.Properties.html#3851" class="Function">map-++</a> <a id="21990" class="Symbol">_</a> <a id="21992" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="21997" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22004" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a> <a id="22007" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a> <a id="22009" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="22011" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22018" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a> <a id="22021" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="22022" class="Symbol">)</a> <a id="22024" href="Relation.Binary.Reasoning.Syntax.html#11539" class="Function">⟩</a>
    <a id="22030" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22039" class="Symbol">(</a><a id="22040" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="22046" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a><a id="22051" class="Symbol">)</a> <a id="22053" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22055" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22064" class="Symbol">(</a><a id="22065" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="22069" class="Symbol">(λ</a> <a id="22072" href="Ledger.Conway.Ledger.Properties.html#22072" class="Bound">i</a> <a id="22074" class="Symbol">→</a> <a id="22076" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="22093" class="Symbol">(</a><a id="22094" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="22099" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22101" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="22103" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22105" href="Ledger.Conway.Ledger.Properties.html#22072" class="Bound">i</a><a id="22106" class="Symbol">))</a> <a id="22109" class="Symbol">(</a><a id="22110" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="22115" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22122" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a> <a id="22125" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a> <a id="22127" href="Data.List.Base.html#1734" class="Function Operator">++</a> <a id="22130" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="22132" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22139" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a> <a id="22142" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="22143" class="Symbol">))</a>
      <a id="22152" href="Relation.Binary.Reasoning.Syntax.html#11079" class="Function">≡⟨⟩</a>
    <a id="22160" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22169" class="Symbol">(</a><a id="22170" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="22176" href="Ledger.Conway.Ledger.Properties.html#20531" class="Bound">govSt</a><a id="22181" class="Symbol">)</a> <a id="22183" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22185" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22194" class="Symbol">(</a><a id="22195" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="22199" class="Symbol">(λ</a> <a id="22202" href="Ledger.Conway.Ledger.Properties.html#22202" class="Bound">i</a> <a id="22204" class="Symbol">→</a> <a id="22206" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="22223" class="Symbol">(</a><a id="22224" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="22229" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22231" href="Ledger.Conway.Ledger.Properties.html#20529" class="Bound">k</a> <a id="22233" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="22235" href="Ledger.Conway.Ledger.Properties.html#22202" class="Bound">i</a><a id="22236" class="Symbol">))</a> <a id="22239" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="22244" href="Data.List.Base.html#5044" class="Function">length</a> <a id="22251" class="Symbol">(</a><a id="22252" href="Ledger.Conway.Ledger.Properties.html#20538" class="Bound">p</a> <a id="22254" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="22256" href="Ledger.Conway.Ledger.Properties.html#20542" class="Bound">ps</a><a id="22258" class="Symbol">)</a> <a id="22260" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a><a id="22261" class="Symbol">)</a> <a id="22263" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

  <a id="22268" class="Comment">-- Removing orphan DRep votes does not modify the set of GAs in GovState</a>
  <a id="SetoidProperties.|ᵒ-GAs-pres"></a><a id="22343" href="Ledger.Conway.Ledger.Properties.html#22343" class="Function">|ᵒ-GAs-pres</a> <a id="22355" class="Symbol">:</a> <a id="22357" class="Symbol">∀</a> <a id="22359" href="Ledger.Conway.Ledger.Properties.html#22359" class="Bound">k</a> <a id="22361" href="Ledger.Conway.Ledger.Properties.html#22361" class="Bound">govSt</a> <a id="22367" href="Ledger.Conway.Ledger.Properties.html#22367" class="Bound">certState</a> <a id="22377" class="Symbol">→</a>
    <a id="22383" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22392" class="Symbol">(</a><a id="22393" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="22399" class="Symbol">(</a><a id="22400" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="22416" class="Symbol">(</a><a id="22417" href="Ledger.Conway.Ledger.html#1763" class="Function">txgov</a> <a id="22423" href="Ledger.Conway.Ledger.Properties.html#7515" class="Function">txb</a><a id="22426" class="Symbol">)</a> <a id="22428" href="Ledger.Conway.Ledger.Properties.html#22359" class="Bound">k</a> <a id="22430" class="Symbol">(</a><a id="22431" href="Ledger.Conway.Ledger.html#1881" class="Function">rmOrphanDRepVotes</a> <a id="22449" href="Ledger.Conway.Ledger.Properties.html#22367" class="Bound">certState</a> <a id="22459" href="Ledger.Conway.Ledger.Properties.html#22361" class="Bound">govSt</a><a id="22464" class="Symbol">)))</a>
    <a id="22472" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a>
    <a id="22479" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22488" class="Symbol">(</a><a id="22489" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="22495" class="Symbol">(</a><a id="22496" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="22512" class="Symbol">(</a><a id="22513" href="Ledger.Conway.Ledger.html#1763" class="Function">txgov</a> <a id="22519" href="Ledger.Conway.Ledger.Properties.html#7515" class="Function">txb</a><a id="22522" class="Symbol">)</a> <a id="22524" href="Ledger.Conway.Ledger.Properties.html#22359" class="Bound">k</a> <a id="22526" href="Ledger.Conway.Ledger.Properties.html#22361" class="Bound">govSt</a><a id="22531" class="Symbol">))</a>
  <a id="22536" href="Ledger.Conway.Ledger.Properties.html#22343" class="Function">|ᵒ-GAs-pres</a> <a id="22548" href="Ledger.Conway.Ledger.Properties.html#22548" class="Bound">k</a> <a id="22550" href="Ledger.Conway.Ledger.Properties.html#22550" class="Bound">govSt</a> <a id="22556" href="Ledger.Conway.Ledger.Properties.html#22556" class="Bound">certState</a> <a id="22566" class="Symbol">=</a> <a id="22568" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
    <a id="22578" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22587" class="Symbol">(</a><a id="22588" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="22594" class="Symbol">(</a><a id="22595" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="22611" class="Symbol">(</a><a id="22612" href="Ledger.Conway.Ledger.html#1763" class="Function">txgov</a> <a id="22618" href="Ledger.Conway.Ledger.Properties.html#7515" class="Function">txb</a><a id="22621" class="Symbol">)</a> <a id="22623" href="Ledger.Conway.Ledger.Properties.html#22548" class="Bound">k</a> <a id="22625" class="Symbol">(</a><a id="22626" href="Ledger.Conway.Ledger.html#1881" class="Function">rmOrphanDRepVotes</a> <a id="22644" href="Ledger.Conway.Ledger.Properties.html#22556" class="Bound">certState</a> <a id="22654" href="Ledger.Conway.Ledger.Properties.html#22550" class="Bound">govSt</a><a id="22659" class="Symbol">)))</a>
      <a id="22669" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="22672" href="Ledger.Conway.Ledger.Properties.html#14813" class="Function">props-dpMap-votes-invar</a> <a id="22696" href="Ledger.Conway.Transaction.html#3058" class="Function">txvote</a> <a id="22703" href="Ledger.Conway.Transaction.html#3094" class="Function">txprop</a> <a id="22710" class="Symbol">{</a><a id="22711" href="Ledger.Conway.Ledger.Properties.html#22548" class="Bound">k</a><a id="22712" class="Symbol">}</a> <a id="22714" class="Symbol">{</a><a id="22715" href="Ledger.Conway.Ledger.html#1881" class="Function">rmOrphanDRepVotes</a> <a id="22733" href="Ledger.Conway.Ledger.Properties.html#22556" class="Bound">certState</a> <a id="22743" href="Ledger.Conway.Ledger.Properties.html#22550" class="Bound">govSt</a><a id="22748" class="Symbol">}</a> <a id="22750" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="22756" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22765" class="Symbol">(</a><a id="22766" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="22772" class="Symbol">(</a><a id="22773" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="22789" class="Symbol">(</a><a id="22790" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="22794" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="22799" href="Ledger.Conway.Transaction.html#3094" class="Function">txprop</a><a id="22805" class="Symbol">)</a> <a id="22807" href="Ledger.Conway.Ledger.Properties.html#22548" class="Bound">k</a> <a id="22809" class="Symbol">(</a><a id="22810" href="Ledger.Conway.Ledger.html#1881" class="Function">rmOrphanDRepVotes</a> <a id="22828" href="Ledger.Conway.Ledger.Properties.html#22556" class="Bound">certState</a> <a id="22838" href="Ledger.Conway.Ledger.Properties.html#22550" class="Bound">govSt</a><a id="22843" class="Symbol">)))</a>
      <a id="22853" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="22856" href="Ledger.Conway.Ledger.Properties.html#20047" class="Function">connex-lemma-rep</a> <a id="22873" href="Ledger.Conway.Ledger.Properties.html#22548" class="Bound">k</a> <a id="22875" class="Symbol">(</a><a id="22876" href="Ledger.Conway.Ledger.html#1881" class="Function">rmOrphanDRepVotes</a> <a id="22894" href="Ledger.Conway.Ledger.Properties.html#22556" class="Bound">certState</a> <a id="22904" href="Ledger.Conway.Ledger.Properties.html#22550" class="Bound">govSt</a><a id="22909" class="Symbol">)</a> <a id="22911" href="Ledger.Conway.Transaction.html#3094" class="Function">txprop</a> <a id="22918" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>
    <a id="22924" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22933" class="Symbol">(</a><a id="22934" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="22940" class="Symbol">(</a><a id="22941" href="Ledger.Conway.Ledger.html#1881" class="Function">rmOrphanDRepVotes</a> <a id="22959" href="Ledger.Conway.Ledger.Properties.html#22556" class="Bound">certState</a> <a id="22969" href="Ledger.Conway.Ledger.Properties.html#22550" class="Bound">govSt</a><a id="22974" class="Symbol">))</a> <a id="22977" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="22979" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="22988" class="Symbol">(</a><a id="22989" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="22993" class="Symbol">(λ</a> <a id="22996" href="Ledger.Conway.Ledger.Properties.html#22996" class="Bound">i</a> <a id="22998" class="Symbol">→</a> <a id="23000" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="23017" class="Symbol">(</a><a id="23018" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="23023" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23025" href="Ledger.Conway.Ledger.Properties.html#22548" class="Bound">k</a> <a id="23027" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23029" href="Ledger.Conway.Ledger.Properties.html#22996" class="Bound">i</a><a id="23030" class="Symbol">))</a> <a id="23033" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="23038" href="Data.List.Base.html#5044" class="Function">length</a> <a id="23045" href="Ledger.Conway.Transaction.html#3094" class="Function">txprop</a> <a id="23052" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a><a id="23053" class="Symbol">)</a>
      <a id="23061" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">≡⟨</a> <a id="23064" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="23069" class="Symbol">(λ</a> <a id="23072" href="Ledger.Conway.Ledger.Properties.html#23072" class="Bound">x</a> <a id="23074" class="Symbol">→</a> <a id="23076" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23085" href="Ledger.Conway.Ledger.Properties.html#23072" class="Bound">x</a> <a id="23087" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="23089" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23098" class="Symbol">(</a><a id="23099" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="23103" class="Symbol">(λ</a> <a id="23106" href="Ledger.Conway.Ledger.Properties.html#23106" class="Bound">i</a> <a id="23108" class="Symbol">→</a> <a id="23110" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="23127" class="Symbol">(</a><a id="23128" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="23133" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23135" href="Ledger.Conway.Ledger.Properties.html#22548" class="Bound">k</a> <a id="23137" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23139" href="Ledger.Conway.Ledger.Properties.html#23106" class="Bound">i</a><a id="23140" class="Symbol">))</a> <a id="23143" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="23148" href="Data.List.Base.html#5044" class="Function">length</a> <a id="23155" href="Ledger.Conway.Transaction.html#3094" class="Function">txprop</a> <a id="23162" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a><a id="23163" class="Symbol">))</a> <a id="23166" class="Symbol">(</a><a id="23167" href="Ledger.Conway.Ledger.Properties.html#7189" class="Function">dpMap-rmOrphanDRepVotes</a> <a id="23191" href="Ledger.Conway.Ledger.Properties.html#22556" class="Bound">certState</a> <a id="23201" href="Ledger.Conway.Ledger.Properties.html#22550" class="Bound">govSt</a><a id="23206" class="Symbol">)</a> <a id="23208" href="Relation.Binary.Reasoning.Syntax.html#11048" class="Function">⟩</a>
    <a id="23214" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23223" class="Symbol">(</a><a id="23224" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="23230" href="Ledger.Conway.Ledger.Properties.html#22550" class="Bound">govSt</a><a id="23235" class="Symbol">)</a> <a id="23237" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="23239" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23248" class="Symbol">(</a><a id="23249" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="23253" class="Symbol">(λ</a> <a id="23256" href="Ledger.Conway.Ledger.Properties.html#23256" class="Bound">i</a> <a id="23258" class="Symbol">→</a> <a id="23260" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="23277" class="Symbol">(</a><a id="23278" href="Ledger.Conway.Transaction.html#3330" class="Function">txid</a> <a id="23283" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23285" href="Ledger.Conway.Ledger.Properties.html#22548" class="Bound">k</a> <a id="23287" href="Class.HasAdd.Core.html#162" class="Field Operator">+</a> <a id="23289" href="Ledger.Conway.Ledger.Properties.html#23256" class="Bound">i</a><a id="23290" class="Symbol">))</a> <a id="23293" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟦0:&lt;</a> <a id="23298" href="Data.List.Base.html#5044" class="Function">length</a> <a id="23305" href="Ledger.Conway.Transaction.html#3094" class="Function">txprop</a> <a id="23312" href="Ledger.Conway.Ledger.Properties.html#19969" class="Function Operator">⟧</a><a id="23313" class="Symbol">)</a>
      <a id="23321" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="23325" href="Ledger.Conway.Ledger.Properties.html#20047" class="Function">connex-lemma-rep</a> <a id="23342" href="Ledger.Conway.Ledger.Properties.html#22548" class="Bound">k</a> <a id="23344" href="Ledger.Conway.Ledger.Properties.html#22550" class="Bound">govSt</a> <a id="23350" href="Ledger.Conway.Transaction.html#3094" class="Function">txprop</a> <a id="23357" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="23363" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23372" class="Symbol">(</a><a id="23373" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="23379" class="Symbol">(</a><a id="23380" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="23396" class="Symbol">(</a><a id="23397" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="23401" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="23406" href="Ledger.Conway.Transaction.html#3094" class="Function">txprop</a><a id="23412" class="Symbol">)</a> <a id="23414" href="Ledger.Conway.Ledger.Properties.html#22548" class="Bound">k</a> <a id="23416" href="Ledger.Conway.Ledger.Properties.html#22550" class="Bound">govSt</a><a id="23421" class="Symbol">))</a>
      <a id="23430" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">≈˘⟨</a> <a id="23434" href="Ledger.Conway.Ledger.Properties.html#14813" class="Function">props-dpMap-votes-invar</a> <a id="23458" href="Ledger.Conway.Transaction.html#3058" class="Function">txvote</a> <a id="23465" href="Ledger.Conway.Transaction.html#3094" class="Function">txprop</a> <a id="23472" class="Symbol">{</a><a id="23473" href="Ledger.Conway.Ledger.Properties.html#22548" class="Bound">k</a><a id="23474" class="Symbol">}</a> <a id="23476" class="Symbol">{</a><a id="23477" href="Ledger.Conway.Ledger.Properties.html#22550" class="Bound">govSt</a><a id="23482" class="Symbol">}</a> <a id="23484" href="Relation.Binary.Reasoning.Syntax.html#7462" class="Function">⟩</a>
    <a id="23490" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="23499" class="Symbol">(</a><a id="23500" href="Ledger.Conway.Ledger.Properties.html#3961" class="Function">dpMap</a> <a id="23506" class="Symbol">(</a><a id="23507" href="Ledger.Conway.Ledger.Properties.html#5867" class="Function">updateGovStates</a> <a id="23523" class="Symbol">(</a><a id="23524" href="Ledger.Conway.Ledger.html#1763" class="Function">txgov</a> <a id="23530" href="Ledger.Conway.Ledger.Properties.html#7515" class="Function">txb</a><a id="23533" class="Symbol">)</a> <a id="23535" href="Ledger.Conway.Ledger.Properties.html#22548" class="Bound">k</a> <a id="23537" href="Ledger.Conway.Ledger.Properties.html#22550" class="Bound">govSt</a><a id="23542" class="Symbol">))</a> <a id="23545" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>


</pre></body></html>