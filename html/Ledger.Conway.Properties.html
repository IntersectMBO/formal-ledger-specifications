<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Properties</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>

<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Ledger.Conway.Abstract.html" class="Module">Ledger.Conway.Abstract</a>
<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="Ledger.Conway.Transaction.html" class="Module">Ledger.Conway.Transaction</a>

<a id="100" class="Keyword">module</a> <a id="107" href="Ledger.Conway.Properties.html" class="Module">Ledger.Conway.Properties</a>
  <a id="134" class="Symbol">(</a><a id="135" href="Ledger.Conway.Properties.html#135" class="Bound">txs</a> <a id="139" class="Symbol">:</a> <a id="141" class="Symbol">_)</a> <a id="144" class="Symbol">(</a><a id="145" class="Keyword">open</a> <a id="150" href="Ledger.Conway.Transaction.html#910" class="Module">TransactionStructure</a> <a id="171" href="Ledger.Conway.Properties.html#135" class="Bound">txs</a><a id="174" class="Symbol">)</a>
  <a id="178" class="Symbol">(</a><a id="179" href="Ledger.Conway.Properties.html#179" class="Bound">abs</a> <a id="183" class="Symbol">:</a> <a id="185" href="Ledger.Conway.Abstract.html#599" class="Record">AbstractFunctions</a> <a id="203" href="Ledger.Conway.Properties.html#135" class="Bound">txs</a><a id="206" class="Symbol">)</a> <a id="208" class="Symbol">(</a><a id="209" class="Keyword">open</a> <a id="214" href="Ledger.Conway.Abstract.html#599" class="Module">AbstractFunctions</a> <a id="232" href="Ledger.Conway.Properties.html#179" class="Bound">abs</a><a id="235" class="Symbol">)</a>
  <a id="239" class="Keyword">where</a>
<a id="245" class="Keyword">open</a> <a id="250" class="Keyword">import</a> <a id="257" href="Ledger.Conway.Certs.html" class="Module">Ledger.Conway.Certs</a> <a id="277" href="Ledger.Conway.Transaction.html#1880" class="Function">govStructure</a>
<a id="290" class="Keyword">open</a> <a id="295" class="Keyword">import</a> <a id="302" href="Ledger.Conway.Chain.html" class="Module">Ledger.Conway.Chain</a> <a id="322" href="Ledger.Conway.Properties.html#135" class="Bound">txs</a> <a id="326" href="Ledger.Conway.Properties.html#179" class="Bound">abs</a>
<a id="330" class="Keyword">open</a> <a id="335" class="Keyword">import</a> <a id="342" href="Ledger.Conway.Enact.html" class="Module">Ledger.Conway.Enact</a> <a id="362" href="Ledger.Conway.Transaction.html#1880" class="Function">govStructure</a>
<a id="375" class="Keyword">open</a> <a id="380" class="Keyword">import</a> <a id="387" href="Ledger.Conway.Epoch.html" class="Module">Ledger.Conway.Epoch</a> <a id="407" href="Ledger.Conway.Properties.html#135" class="Bound">txs</a> <a id="411" href="Ledger.Conway.Properties.html#179" class="Bound">abs</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Ledger.Conway.Ledger.html" class="Module">Ledger.Conway.Ledger</a> <a id="448" href="Ledger.Conway.Properties.html#135" class="Bound">txs</a> <a id="452" href="Ledger.Conway.Properties.html#179" class="Bound">abs</a>
<a id="456" class="Keyword">open</a> <a id="461" class="Keyword">import</a> <a id="468" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="isCredDeposit"></a><a id="483" href="Ledger.Conway.Properties.html#483" class="Function">isCredDeposit</a> <a id="497" class="Symbol">:</a> <a id="499" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a> <a id="514" class="Symbol">→</a> <a id="516" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="521" href="Ledger.Conway.Properties.html#483" class="Function">isCredDeposit</a> <a id="535" class="Symbol">(</a><a id="536" href="Ledger.Conway.Certs.html#390" class="InductiveConstructor">CredentialDeposit</a> <a id="554" href="Ledger.Conway.Properties.html#554" class="Bound">x</a><a id="555" class="Symbol">)</a> <a id="557" class="Symbol">=</a> <a id="559" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="561" href="Ledger.Conway.Properties.html#483" class="CatchallClause Function">isCredDeposit</a><a id="574" class="CatchallClause"> </a><a id="575" class="CatchallClause Symbol">_</a> <a id="577" class="Symbol">=</a> <a id="579" href="Data.Empty.html#914" class="Function">⊥</a>

<a id="582" class="Keyword">instance</a>
  <a id="isCredDeposit?"></a><a id="593" href="Ledger.Conway.Properties.html#593" class="Function">isCredDeposit?</a> <a id="608" class="Symbol">:</a> <a id="610" href="Ledger.Conway.Properties.html#483" class="Function">isCredDeposit</a> <a id="624" href="Class.Decidable.Core.html#762" class="Function Operator">⁇¹</a>
  <a id="629" href="Ledger.Conway.Properties.html#593" class="Function">isCredDeposit?</a> <a id="644" class="Symbol">{</a><a id="645" href="Ledger.Conway.Certs.html#390" class="InductiveConstructor">CredentialDeposit</a> <a id="663" href="Ledger.Conway.Properties.html#663" class="Bound">x</a><a id="664" class="Symbol">}</a> <a id="666" class="Symbol">=</a> <a id="668" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="670" class="Symbol">(</a><a id="671" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="675" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="677" class="Symbol">)</a>
  <a id="681" href="Ledger.Conway.Properties.html#593" class="Function">isCredDeposit?</a> <a id="696" class="Symbol">{</a><a id="697" href="Ledger.Conway.Certs.html#443" class="InductiveConstructor">PoolDeposit</a> <a id="709" href="Ledger.Conway.Properties.html#709" class="Bound">x</a><a id="710" class="Symbol">}</a> <a id="712" class="Symbol">=</a> <a id="714" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="716" class="Symbol">(</a><a id="717" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="720" class="Symbol">λ</a> <a id="722" class="Symbol">())</a>
  <a id="728" href="Ledger.Conway.Properties.html#593" class="Function">isCredDeposit?</a> <a id="743" class="Symbol">{</a><a id="744" href="Ledger.Conway.Certs.html#496" class="InductiveConstructor">DRepDeposit</a> <a id="756" href="Ledger.Conway.Properties.html#756" class="Bound">x</a><a id="757" class="Symbol">}</a> <a id="759" class="Symbol">=</a> <a id="761" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="763" class="Symbol">(</a><a id="764" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="767" class="Symbol">λ</a> <a id="769" class="Symbol">())</a>
  <a id="775" href="Ledger.Conway.Properties.html#593" class="Function">isCredDeposit?</a> <a id="790" class="Symbol">{</a><a id="791" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="808" href="Ledger.Conway.Properties.html#808" class="Bound">x</a><a id="809" class="Symbol">}</a> <a id="811" class="Symbol">=</a> <a id="813" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="815" class="Symbol">(</a><a id="816" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="819" class="Symbol">λ</a> <a id="821" class="Symbol">())</a>

<a id="isGADeposit"></a><a id="826" href="Ledger.Conway.Properties.html#826" class="Function">isGADeposit</a> <a id="838" class="Symbol">:</a> <a id="840" href="Ledger.Conway.Certs.html#360" class="Datatype">DepositPurpose</a> <a id="855" class="Symbol">→</a> <a id="857" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="862" href="Ledger.Conway.Properties.html#826" class="Function">isGADeposit</a> <a id="874" class="Symbol">(</a><a id="875" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="892" href="Ledger.Conway.Properties.html#892" class="Bound">x</a><a id="893" class="Symbol">)</a> <a id="895" class="Symbol">=</a> <a id="897" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="899" href="Ledger.Conway.Properties.html#826" class="CatchallClause Function">isGADeposit</a><a id="910" class="CatchallClause"> </a><a id="911" class="CatchallClause Symbol">_</a> <a id="913" class="Symbol">=</a> <a id="915" href="Data.Empty.html#914" class="Function">⊥</a>

<a id="918" class="Keyword">instance</a>
  <a id="isGADeposit?"></a><a id="929" href="Ledger.Conway.Properties.html#929" class="Function">isGADeposit?</a> <a id="942" class="Symbol">:</a> <a id="944" href="Ledger.Conway.Properties.html#826" class="Function">isGADeposit</a> <a id="956" href="Class.Decidable.Core.html#762" class="Function Operator">⁇¹</a>
  <a id="961" href="Ledger.Conway.Properties.html#929" class="Function">isGADeposit?</a> <a id="974" class="Symbol">{</a><a id="975" href="Ledger.Conway.Certs.html#390" class="InductiveConstructor">CredentialDeposit</a> <a id="993" href="Ledger.Conway.Properties.html#993" class="Bound">x</a><a id="994" class="Symbol">}</a> <a id="996" class="Symbol">=</a> <a id="998" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1000" class="Symbol">(</a><a id="1001" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1004" class="Symbol">λ</a> <a id="1006" class="Symbol">())</a>
  <a id="1012" href="Ledger.Conway.Properties.html#929" class="Function">isGADeposit?</a> <a id="1025" class="Symbol">{</a><a id="1026" href="Ledger.Conway.Certs.html#443" class="InductiveConstructor">PoolDeposit</a> <a id="1038" href="Ledger.Conway.Properties.html#1038" class="Bound">x</a><a id="1039" class="Symbol">}</a> <a id="1041" class="Symbol">=</a> <a id="1043" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1045" class="Symbol">(</a><a id="1046" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1049" class="Symbol">λ</a> <a id="1051" class="Symbol">())</a>
  <a id="1057" href="Ledger.Conway.Properties.html#929" class="Function">isGADeposit?</a> <a id="1070" class="Symbol">{</a><a id="1071" href="Ledger.Conway.Certs.html#496" class="InductiveConstructor">DRepDeposit</a> <a id="1083" href="Ledger.Conway.Properties.html#1083" class="Bound">x</a><a id="1084" class="Symbol">}</a> <a id="1086" class="Symbol">=</a> <a id="1088" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1090" class="Symbol">(</a><a id="1091" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1094" class="Symbol">λ</a> <a id="1096" class="Symbol">())</a>
  <a id="1102" href="Ledger.Conway.Properties.html#929" class="Function">isGADeposit?</a> <a id="1115" class="Symbol">{</a><a id="1116" href="Ledger.Conway.Certs.html#549" class="InductiveConstructor">GovActionDeposit</a> <a id="1133" href="Ledger.Conway.Properties.html#1133" class="Bound">x</a><a id="1134" class="Symbol">}</a> <a id="1136" class="Symbol">=</a> <a id="1138" href="Class.Decidable.Core.html#253" class="InductiveConstructor Operator">⁇</a> <a id="1140" class="Symbol">(</a><a id="1141" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1145" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="1147" class="Symbol">)</a>

<a id="activeDReps"></a><a id="1150" href="Ledger.Conway.Properties.html#1150" class="Function">activeDReps</a> <a id="1162" class="Symbol">:</a> <a id="1164" href="Ledger.Conway.Types.Epoch.html#550" class="Function">Epoch</a> <a id="1170" class="Symbol">→</a> <a id="1172" href="Ledger.Conway.Epoch.html#1889" class="Record">NewEpochState</a> <a id="1186" class="Symbol">→</a> <a id="1188" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1190" href="Ledger.Conway.Address.html#280" class="Datatype">Credential</a>
<a id="1201" href="Ledger.Conway.Properties.html#1150" class="Function">activeDReps</a> <a id="1213" href="Ledger.Conway.Properties.html#1213" class="Bound">currentEpoch</a> <a id="1226" href="Ledger.Conway.Properties.html#1226" class="Bound">s</a> <a id="1228" class="Symbol">=</a> <a id="1230" href="Class.IsSet.html#916" class="Function">dom</a> <a id="1234" class="Symbol">(</a><a id="1235" href="abstract-set-theory.FiniteSetTheory.html#2895" class="Function">filterᵐ</a> <a id="1243" class="Symbol">(λ</a> <a id="1246" class="Symbol">(_</a> <a id="1249" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1251" href="Ledger.Conway.Properties.html#1251" class="Bound">e</a><a id="1252" class="Symbol">)</a> <a id="1254" class="Symbol">→</a> <a id="1256" href="Ledger.Conway.Properties.html#1213" class="Bound">currentEpoch</a> <a id="1269" href="Class.HasOrder.Core.html#608" class="Field Operator">≤</a> <a id="1271" href="Ledger.Conway.Properties.html#1251" class="Bound">e</a><a id="1272" class="Symbol">)</a> <a id="1274" class="Symbol">(</a><a id="1275" href="Ledger.Conway.Certs.html#983" class="Field">DRepsOf</a> <a id="1283" href="Ledger.Conway.Properties.html#1226" class="Bound">s</a><a id="1284" class="Symbol">))</a>

<a id="1288" class="Keyword">instance</a>
  <a id="1299" href="Ledger.Conway.Properties.html#1299" class="Function">_</a> <a id="1301" class="Symbol">:</a> <a id="1303" href="Class.IsSet.html#375" class="Record">IsSet</a> <a id="1309" href="Ledger.Conway.Chain.html#723" class="Record">Block</a> <a id="1315" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a>
  <a id="1320" class="Symbol">_</a> <a id="1322" class="Symbol">=</a> <a id="1324" class="Keyword">record</a> <a id="1331" class="Symbol">{</a> <a id="1333" href="Class.IsSet.html#419" class="Field">toSet</a> <a id="1339" class="Symbol">=</a> <a id="1341" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="1350" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1352" href="Ledger.Conway.Chain.html#754" class="Field">Block.ts</a> <a id="1361" class="Symbol">}</a>

  <a id="1366" href="Ledger.Conway.Properties.html#1366" class="Function">_</a> <a id="1368" class="Symbol">:</a> <a id="1370" href="Class.IsSet.html#375" class="Record">IsSet</a> <a id="1376" href="Ledger.Conway.Transaction.html#2762" class="Record">TxBody</a> <a id="1383" href="Ledger.Conway.GovernanceActions.html#2538" class="Record">GovProposal</a>
  <a id="1397" class="Symbol">_</a> <a id="1399" class="Symbol">=</a> <a id="1401" class="Keyword">record</a> <a id="1408" class="Symbol">{</a> <a id="1410" href="Class.IsSet.html#419" class="Field">toSet</a> <a id="1416" class="Symbol">=</a> <a id="1418" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="1427" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="1429" href="Ledger.Conway.Transaction.html#3094" class="Field">TxBody.txprop</a> <a id="1443" class="Symbol">}</a>

<a id="validBlockIn"></a><a id="1446" href="Ledger.Conway.Properties.html#1446" class="Function">validBlockIn</a> <a id="1459" class="Symbol">:</a> <a id="1461" href="Ledger.Conway.Chain.html#648" class="Record">ChainState</a> <a id="1472" class="Symbol">→</a> <a id="1474" href="Ledger.Conway.Chain.html#723" class="Record">Block</a> <a id="1480" class="Symbol">→</a> <a id="1482" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1487" href="Ledger.Conway.Properties.html#1446" class="Function">validBlockIn</a> <a id="1500" href="Ledger.Conway.Properties.html#1500" class="Bound">s</a> <a id="1502" href="Ledger.Conway.Properties.html#1502" class="Bound">b</a> <a id="1504" class="Symbol">=</a> <a id="1506" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="1509" href="Ledger.Conway.Properties.html#1509" class="Bound">s&#39;</a> <a id="1512" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="1514" class="Symbol">_</a> <a id="1516" href="Ledger.Conway.Chain.html#3883" class="Datatype Operator">⊢</a> <a id="1518" href="Ledger.Conway.Properties.html#1500" class="Bound">s</a> <a id="1520" href="Ledger.Conway.Chain.html#3883" class="Datatype Operator">⇀⦇</a> <a id="1523" href="Ledger.Conway.Properties.html#1502" class="Bound">b</a> <a id="1525" href="Ledger.Conway.Chain.html#3883" class="Datatype Operator">,CHAIN⦈</a> <a id="1533" href="Ledger.Conway.Properties.html#1509" class="Bound">s&#39;</a>

<a id="validBlock"></a><a id="1537" href="Ledger.Conway.Properties.html#1537" class="Function">validBlock</a> <a id="1548" class="Symbol">:</a> <a id="1550" href="Ledger.Conway.Chain.html#723" class="Record">Block</a> <a id="1556" class="Symbol">→</a> <a id="1558" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1563" href="Ledger.Conway.Properties.html#1537" class="Function">validBlock</a> <a id="1574" href="Ledger.Conway.Properties.html#1574" class="Bound">b</a> <a id="1576" class="Symbol">=</a> <a id="1578" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="1581" href="Ledger.Conway.Properties.html#1581" class="Bound">s</a> <a id="1583" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="1585" href="Ledger.Conway.Properties.html#1446" class="Function">validBlockIn</a> <a id="1598" href="Ledger.Conway.Properties.html#1581" class="Bound">s</a> <a id="1600" href="Ledger.Conway.Properties.html#1574" class="Bound">b</a>

<a id="1603" class="Comment">-- Transaction validity is complicated. In the truest sense, a</a>
<a id="1666" class="Comment">-- transaction is valid if it is part of a valid block,</a>
<a id="1722" class="Comment">-- i.e. `validTxIn₁`. However, a transaction can also be seen as valid</a>
<a id="1793" class="Comment">-- if it could be applied at a certain slot (with no knowledge of an</a>
<a id="1862" class="Comment">-- actual block). This is closer to how the mempool sees transaction</a>
<a id="1931" class="Comment">-- validity and is expressed by `validTxIn₂`.</a>

<a id="1978" class="Comment">-- Note that these two are not equivalent and in fact there is no</a>
<a id="2044" class="Comment">-- implication between the two in either direction. `2 =&gt; 1` would</a>
<a id="2111" class="Comment">-- require one to come up with a block, which we can&#39;t, but `1 =&gt; 2`</a>
<a id="2180" class="Comment">-- is also not true, since the transaction might depend on a previous</a>
<a id="2250" class="Comment">-- transaction in the same block. Maybe this means that `validTxIn₂`</a>
<a id="2319" class="Comment">-- should be changed so that it allows for applying a list of</a>
<a id="2381" class="Comment">-- transactions before the final transaction? However, the downside</a>
<a id="2449" class="Comment">-- then becomes that the transaction isn&#39;t applied to the given state</a>
<a id="2519" class="Comment">-- but to some intermediate one. Maybe we&#39;ll gain some insight on this</a>
<a id="2590" class="Comment">-- matter once we have proven more theorems.</a>

<a id="validTxIn₁"></a><a id="2636" href="Ledger.Conway.Properties.html#2636" class="Function">validTxIn₁</a> <a id="2647" class="Symbol">:</a> <a id="2649" href="Ledger.Conway.Chain.html#648" class="Record">ChainState</a> <a id="2660" class="Symbol">→</a> <a id="2662" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a> <a id="2665" class="Symbol">→</a> <a id="2667" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="2672" href="Ledger.Conway.Properties.html#2636" class="Function">validTxIn₁</a> <a id="2683" href="Ledger.Conway.Properties.html#2683" class="Bound">s</a> <a id="2685" href="Ledger.Conway.Properties.html#2685" class="Bound">tx</a> <a id="2688" class="Symbol">=</a> <a id="2690" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="2693" href="Ledger.Conway.Properties.html#2693" class="Bound">b</a> <a id="2695" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="2697" href="Ledger.Conway.Properties.html#2685" class="Bound">tx</a> <a id="2700" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="2702" href="Ledger.Conway.Properties.html#2693" class="Bound">b</a> <a id="2704" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2706" href="Ledger.Conway.Properties.html#1446" class="Function">validBlockIn</a> <a id="2719" href="Ledger.Conway.Properties.html#2683" class="Bound">s</a> <a id="2721" href="Ledger.Conway.Properties.html#2693" class="Bound">b</a>

<a id="2724" class="Keyword">module</a> <a id="2731" href="Ledger.Conway.Properties.html#2731" class="Module">_</a> <a id="2733" class="Symbol">(</a><a id="2734" href="Ledger.Conway.Properties.html#2734" class="Bound">s</a> <a id="2736" class="Symbol">:</a> <a id="2738" href="Ledger.Conway.Chain.html#648" class="Record">ChainState</a><a id="2748" class="Symbol">)</a> <a id="2750" class="Symbol">(</a><a id="2751" href="Ledger.Conway.Properties.html#2751" class="Bound">slot</a> <a id="2756" class="Symbol">:</a> <a id="2758" href="Ledger.Conway.Types.Epoch.html#626" class="Function">Slot</a><a id="2762" class="Symbol">)</a> <a id="2764" class="Keyword">where</a>

  <a id="2773" class="Keyword">open</a> <a id="2778" href="Ledger.Conway.Chain.html#648" class="Module">ChainState</a> <a id="2789" href="Ledger.Conway.Properties.html#2734" class="Bound">s</a><a id="2790" class="Symbol">;</a> <a id="2792" class="Keyword">open</a> <a id="2797" href="Ledger.Conway.Epoch.html#1889" class="Module">NewEpochState</a> <a id="2811" href="Ledger.Conway.Chain.html#684" class="Function">newEpochState</a>
  <a id="2827" class="Keyword">open</a> <a id="2832" href="Ledger.Conway.Epoch.html#1108" class="Module">EpochState</a> <a id="2843" href="Ledger.Conway.Epoch.html#1952" class="Function">epochState</a><a id="2853" class="Symbol">;</a> <a id="2855" class="Keyword">open</a> <a id="2860" href="Ledger.Conway.Enact.html#418" class="Module">EnactState</a> <a id="2871" href="Ledger.Conway.Epoch.html#1249" class="Function">es</a>

  <a id="2877" class="Keyword">private</a>
    <a id="2889" href="Ledger.Conway.Properties.html#2889" class="Function">ledgerEnv</a> <a id="2899" class="Symbol">=</a> <a id="2901" href="Ledger.Prelude.html#2441" class="Function Operator">⟦</a> <a id="2903" href="Ledger.Conway.Properties.html#2751" class="Bound">slot</a> <a id="2908" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2910" href="Ledger.Conway.Enact.html#523" class="Function">constitution</a> <a id="2923" class="Symbol">.</a><a id="2924" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2930" class="Symbol">.</a><a id="2931" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="2937" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2939" href="Ledger.Conway.Enact.html#628" class="Function">pparams</a> <a id="2947" class="Symbol">.</a><a id="2948" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2954" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2956" href="Ledger.Conway.Epoch.html#1249" class="Function">es</a> <a id="2959" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2961" href="Ledger.Conway.PParams.html#764" class="Field">Acnt.treasury</a> <a id="2975" href="Ledger.Conway.Epoch.html#1176" class="Function">acnt</a> <a id="2980" href="Ledger.Prelude.html#2441" class="Function Operator">⟧</a>

  <a id="2985" href="Ledger.Conway.Properties.html#2985" class="Function">validTxIn₂</a> <a id="2996" class="Symbol">:</a> <a id="2998" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a> <a id="3001" class="Symbol">→</a> <a id="3003" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3010" href="Ledger.Conway.Properties.html#2985" class="Function">validTxIn₂</a> <a id="3021" href="Ledger.Conway.Properties.html#3021" class="Bound">tx</a> <a id="3024" class="Symbol">=</a> <a id="3026" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="3029" href="Ledger.Conway.Properties.html#3029" class="Bound">ls&#39;</a> <a id="3033" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="3035" href="Ledger.Conway.Properties.html#2889" class="Function">ledgerEnv</a> <a id="3045" href="Ledger.Conway.Ledger.html#2637" class="Datatype Operator">⊢</a> <a id="3047" href="Ledger.Conway.Epoch.html#1225" class="Function">ls</a> <a id="3050" href="Ledger.Conway.Ledger.html#2637" class="Datatype Operator">⇀⦇</a> <a id="3053" href="Ledger.Conway.Properties.html#3021" class="Bound">tx</a> <a id="3056" href="Ledger.Conway.Ledger.html#2637" class="Datatype Operator">,LEDGER⦈</a> <a id="3065" href="Ledger.Conway.Properties.html#3029" class="Bound">ls&#39;</a>

<a id="validTx₁"></a><a id="3070" href="Ledger.Conway.Properties.html#3070" class="Function">validTx₁</a> <a id="3079" class="Symbol">:</a> <a id="3081" href="Ledger.Conway.Transaction.html#4306" class="Record">Tx</a> <a id="3084" class="Symbol">→</a> <a id="3086" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="3091" href="Ledger.Conway.Properties.html#3070" class="Function">validTx₁</a> <a id="3100" href="Ledger.Conway.Properties.html#3100" class="Bound">tx</a> <a id="3103" class="Symbol">=</a> <a id="3105" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="3108" href="Ledger.Conway.Properties.html#3108" class="Bound">s</a> <a id="3110" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="3112" href="Ledger.Conway.Properties.html#2636" class="Function">validTxIn₁</a> <a id="3123" href="Ledger.Conway.Properties.html#3108" class="Bound">s</a> <a id="3125" href="Ledger.Conway.Properties.html#3100" class="Bound">tx</a>


</pre></body></html>