<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Equivalence</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Comment">-- Proof that the rules under Ledger.Conway.Conformance are equivalent</a>
<a id="95" class="Comment">-- to the rules under Ledger.</a>

<a id="126" class="Keyword">open</a> <a id="131" class="Keyword">import</a> <a id="138" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>
<a id="202" class="Keyword">open</a> <a id="207" class="Keyword">import</a> <a id="214" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="254" class="Keyword">using</a> <a id="260" class="Symbol">(</a><a id="261" href="Ledger.Conway.Specification.Transaction.html#999" class="Record">TransactionStructure</a><a id="281" class="Symbol">)</a>

<a id="284" class="Keyword">open</a> <a id="289" class="Keyword">import</a> <a id="296" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="306" class="Keyword">using</a> <a id="312" class="Symbol">(</a><a id="313" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="314" class="Symbol">)</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Data.Product.html" class="Module">Data.Product</a> <a id="341" class="Keyword">using</a> <a id="347" class="Symbol">(</a><a id="348" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="351" class="Symbol">;</a> <a id="353" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="356" class="Symbol">)</a> <a id="358" class="Keyword">renaming</a> <a id="367" class="Symbol">(</a><a id="368" href="Data.Product.Base.html#2173" class="Function">map</a> <a id="372" class="Symbol">to</a> <a id="375" class="Function">⟨_,_⟩</a><a id="380" class="Symbol">)</a>
<a id="382" class="Keyword">open</a> <a id="387" class="Keyword">import</a> <a id="394" href="Function.Bundles.html" class="Module">Function.Bundles</a> <a id="411" class="Keyword">using</a> <a id="417" class="Symbol">(</a><a id="418" href="Function.Bundles.html#12398" class="Function Operator">_⇔_</a><a id="421" class="Symbol">;</a> <a id="423" href="Function.Bundles.html#13497" class="Function">mk⇔</a><a id="426" class="Symbol">;</a> <a id="428" href="Function.Bundles.html#4750" class="Record">Equivalence</a><a id="439" class="Symbol">)</a>
<a id="441" class="Keyword">open</a> <a id="446" class="Keyword">import</a> <a id="453" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="491" class="Keyword">open</a> <a id="496" class="Keyword">import</a> <a id="503" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="519" class="Keyword">using</a> <a id="525" class="Symbol">(</a><a id="526" href="Relation.Binary.Structures.html#1595" class="Record">IsEquivalence</a><a id="539" class="Symbol">)</a>

<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>

<a id="601" class="Keyword">module</a> <a id="608" href="Ledger.Conway.Conformance.Equivalence.html" class="Module">Ledger.Conway.Conformance.Equivalence</a>
  <a id="648" class="Symbol">(</a><a id="649" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="653" class="Symbol">:</a> <a id="655" class="Symbol">_)</a> <a id="658" class="Symbol">(</a><a id="659" class="Keyword">open</a> <a id="664" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="685" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a><a id="688" class="Symbol">)</a>
  <a id="692" class="Symbol">(</a><a id="693" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="697" class="Symbol">:</a> <a id="699" href="Ledger.Conway.Specification.Abstract.html#875" class="Record">AbstractFunctions</a> <a id="717" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a><a id="720" class="Symbol">)</a> <a id="722" class="Symbol">(</a><a id="723" class="Keyword">open</a> <a id="728" href="Ledger.Conway.Specification.Abstract.html#875" class="Module">AbstractFunctions</a> <a id="746" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a><a id="749" class="Symbol">)</a>
  <a id="753" class="Keyword">where</a>

<a id="760" class="Keyword">module</a> <a id="L"></a><a id="767" href="Ledger.Conway.Conformance.Equivalence.html#767" class="Module">L</a> <a id="769" class="Keyword">where</a>
  <a id="777" class="Keyword">open</a> <a id="782" class="Keyword">import</a> <a id="789" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="824" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="828" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="832" class="Keyword">public</a>
  <a id="841" class="Keyword">open</a> <a id="846" class="Keyword">import</a> <a id="853" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="886" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="890" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="894" class="Keyword">public</a>
  <a id="903" class="Keyword">open</a> <a id="908" class="Keyword">import</a> <a id="915" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="949" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="953" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="957" class="Keyword">public</a>
  <a id="966" class="Keyword">open</a> <a id="971" class="Keyword">import</a> <a id="978" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="1010" href="Ledger.Conway.Specification.Transaction.html#2275" class="Function">govStructure</a> <a id="1023" class="Keyword">public</a>
  <a id="1032" class="Keyword">open</a> <a id="1037" class="Keyword">import</a> <a id="1044" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="1078" href="Ledger.Conway.Specification.Transaction.html#2275" class="Function">govStructure</a> <a id="1091" class="Keyword">public</a>

<a id="1099" class="Keyword">module</a> <a id="C"></a><a id="1106" href="Ledger.Conway.Conformance.Equivalence.html#1106" class="Module">C</a> <a id="1108" class="Keyword">where</a>
  <a id="1116" class="Keyword">open</a> <a id="1121" class="Keyword">import</a> <a id="1128" href="Ledger.Conway.Conformance.Ledger.html" class="Module">Ledger.Conway.Conformance.Ledger</a> <a id="1161" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1165" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="1169" class="Keyword">public</a>
  <a id="1178" class="Keyword">open</a> <a id="1183" class="Keyword">import</a> <a id="1190" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="1221" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1225" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="1229" class="Keyword">public</a>
  <a id="1238" class="Keyword">open</a> <a id="1243" class="Keyword">import</a> <a id="1250" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="1282" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1286" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a> <a id="1290" class="Keyword">public</a>
  <a id="1299" class="Keyword">open</a> <a id="1304" class="Keyword">import</a> <a id="1311" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="1343" href="Ledger.Conway.Specification.Transaction.html#2275" class="Function">govStructure</a> <a id="1356" class="Keyword">public</a>

<a id="1364" class="Keyword">open</a> <a id="1369" class="Keyword">import</a> <a id="1376" href="Ledger.Conway.Conformance.Equivalence.Certs.html" class="Module">Ledger.Conway.Conformance.Equivalence.Certs</a> <a id="1420" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1424" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a>
<a id="1428" class="Keyword">open</a> <a id="1433" class="Keyword">import</a> <a id="1440" href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="Module">Ledger.Conway.Conformance.Equivalence.Utxo</a> <a id="1483" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1487" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a>
<a id="1491" class="Keyword">open</a> <a id="1496" class="Keyword">import</a> <a id="1503" href="Ledger.Conway.Conformance.Equivalence.Deposits.html" class="Module">Ledger.Conway.Conformance.Equivalence.Deposits</a> <a id="1550" href="Ledger.Conway.Conformance.Equivalence.html#649" class="Bound">txs</a> <a id="1554" href="Ledger.Conway.Conformance.Equivalence.html#693" class="Bound">abs</a>

<a id="1559" class="Keyword">open</a> <a id="1564" href="Ledger.Conway.Specification.Transaction.html#4880" class="Module">Tx</a>
<a id="1567" class="Keyword">open</a> <a id="1572" class="Keyword">import</a> <a id="1579" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="1600" href="Axiom.Set.html#10936" class="Function">th</a> <a id="1603" class="Keyword">using</a> <a id="1609" class="Symbol">(</a><a id="1610" href="Axiom.Set.Properties.html#3967" class="Function">≡ᵉ-Setoid</a><a id="1619" class="Symbol">)</a>

<a id="1622" class="Comment">-- Invalid transactions don&#39;t change the deposits</a>
<a id="lemInvalidDepositsL"></a><a id="1672" href="Ledger.Conway.Conformance.Equivalence.html#1672" class="Function">lemInvalidDepositsL</a> <a id="1692" class="Symbol">:</a> <a id="1694" class="Symbol">∀</a> <a id="1696" class="Symbol">{</a><a id="1697" href="Ledger.Conway.Conformance.Equivalence.html#1697" class="Bound">Γ</a> <a id="1699" href="Ledger.Conway.Conformance.Equivalence.html#1699" class="Bound">utxoSt</a> <a id="1706" href="Ledger.Conway.Conformance.Equivalence.html#1706" class="Bound">utxoSt&#39;</a> <a id="1714" href="Ledger.Conway.Conformance.Equivalence.html#1714" class="Bound">tx</a><a id="1716" class="Symbol">}</a>
                    <a id="1738" class="Symbol">→</a> <a id="1740" href="Ledger.Conway.Specification.Transaction.html#4984" class="Field">isValid</a> <a id="1748" href="Ledger.Conway.Conformance.Equivalence.html#1714" class="Bound">tx</a> <a id="1751" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1753" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="1779" class="Symbol">→</a> <a id="1781" href="Ledger.Conway.Conformance.Equivalence.html#1697" class="Bound">Γ</a> <a id="1783" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="1787" href="Ledger.Conway.Conformance.Equivalence.html#1699" class="Bound">utxoSt</a> <a id="1794" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="1797" href="Ledger.Conway.Conformance.Equivalence.html#1714" class="Bound">tx</a> <a id="1800" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="1808" href="Ledger.Conway.Conformance.Equivalence.html#1706" class="Bound">utxoSt&#39;</a>
                    <a id="1836" class="Symbol">→</a> <a id="1838" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="1859" href="Ledger.Conway.Conformance.Equivalence.html#1699" class="Bound">utxoSt</a> <a id="1866" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1868" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="1889" href="Ledger.Conway.Conformance.Equivalence.html#1706" class="Bound">utxoSt&#39;</a>
<a id="1897" href="Ledger.Conway.Conformance.Equivalence.html#1672" class="Function">lemInvalidDepositsL</a> <a id="1917" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1922" class="Symbol">(</a><a id="1923" href="Ledger.Conway.Specification.Utxow.html#5490" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
                          <a id="1962" class="Symbol">(</a><a id="1963" href="Ledger.Conway.Specification.Utxo.html#14272" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="1981" class="Symbol">_</a> <a id="1983" class="Symbol">_</a> <a id="1985" class="Symbol">_</a> <a id="1987" class="Symbol">_</a> <a id="1989" class="Symbol">_</a> <a id="1991" class="Symbol">_</a> <a id="1993" class="Symbol">_</a> <a id="1995" class="Symbol">_</a> <a id="1997" class="Symbol">_</a> <a id="1999" class="Symbol">_</a> <a id="2001" class="Symbol">_</a> <a id="2003" class="Symbol">_</a> <a id="2005" class="Symbol">_</a> <a id="2007" class="Symbol">_</a> <a id="2009" class="Symbol">_</a> <a id="2011" class="Symbol">_</a> <a id="2013" class="Symbol">_</a> <a id="2015" class="Symbol">_</a> <a id="2017" class="Symbol">_</a> <a id="2019" class="Symbol">_</a> <a id="2021" class="Symbol">_</a>
                            <a id="2051" class="Symbol">(</a><a id="2052" href="Ledger.Conway.Specification.Utxo.html#12167" class="InductiveConstructor">L.Scripts-No</a> <a id="2065" class="Symbol">_)))</a> <a id="2070" class="Symbol">=</a> <a id="2072" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="lemInvalidDepositsC"></a><a id="2078" href="Ledger.Conway.Conformance.Equivalence.html#2078" class="Function">lemInvalidDepositsC</a> <a id="2098" class="Symbol">:</a> <a id="2100" class="Symbol">∀</a> <a id="2102" class="Symbol">{</a><a id="2103" href="Ledger.Conway.Conformance.Equivalence.html#2103" class="Bound">Γ</a> <a id="2105" href="Ledger.Conway.Conformance.Equivalence.html#2105" class="Bound">utxoSt</a> <a id="2112" href="Ledger.Conway.Conformance.Equivalence.html#2112" class="Bound">utxoSt&#39;</a> <a id="2120" href="Ledger.Conway.Conformance.Equivalence.html#2120" class="Bound">tx</a><a id="2122" class="Symbol">}</a>
                    <a id="2144" class="Symbol">→</a> <a id="2146" href="Ledger.Conway.Specification.Transaction.html#4984" class="Field">isValid</a> <a id="2154" href="Ledger.Conway.Conformance.Equivalence.html#2120" class="Bound">tx</a> <a id="2157" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2159" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="2185" class="Symbol">→</a> <a id="2187" class="Symbol">(</a><a id="2188" href="Ledger.Conway.Conformance.Equivalence.html#2188" class="Bound">h</a> <a id="2190" class="Symbol">:</a> <a id="2192" href="Ledger.Conway.Conformance.Equivalence.html#2103" class="Bound">Γ</a> <a id="2194" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="2198" href="Ledger.Conway.Conformance.Equivalence.html#2105" class="Bound">utxoSt</a> <a id="2205" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="2208" href="Ledger.Conway.Conformance.Equivalence.html#2120" class="Bound">tx</a> <a id="2211" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="2219" href="Ledger.Conway.Conformance.Equivalence.html#2112" class="Bound">utxoSt&#39;</a><a id="2226" class="Symbol">)</a>
                    <a id="2248" class="Symbol">→</a> <a id="2250" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2077" class="Function">utxowDeposits</a> <a id="2264" href="Ledger.Conway.Conformance.Equivalence.html#2188" class="Bound">h</a> <a id="2266" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2268" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="2289" href="Ledger.Conway.Conformance.Equivalence.html#2112" class="Bound">utxoSt&#39;</a>
<a id="2297" href="Ledger.Conway.Conformance.Equivalence.html#2078" class="Function">lemInvalidDepositsC</a> <a id="2317" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2322" class="Symbol">(</a><a id="2323" href="Ledger.Conway.Conformance.Utxow.html#3073" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
                          <a id="2362" class="Symbol">(</a><a id="2363" href="Ledger.Conway.Conformance.Utxo.html#4059" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2381" class="Symbol">_</a> <a id="2383" class="Symbol">_</a> <a id="2385" class="Symbol">_</a> <a id="2387" class="Symbol">_</a> <a id="2389" class="Symbol">_</a> <a id="2391" class="Symbol">_</a> <a id="2393" class="Symbol">_</a> <a id="2395" class="Symbol">_</a> <a id="2397" class="Symbol">_</a> <a id="2399" class="Symbol">_</a> <a id="2401" class="Symbol">_</a> <a id="2403" class="Symbol">_</a> <a id="2405" class="Symbol">_</a> <a id="2407" class="Symbol">_</a> <a id="2409" class="Symbol">_</a> <a id="2411" class="Symbol">_</a> <a id="2413" class="Symbol">_</a> <a id="2415" class="Symbol">_</a> <a id="2417" class="Symbol">_</a> <a id="2419" class="Symbol">_</a> <a id="2421" class="Symbol">_</a>
                            <a id="2451" class="Symbol">(</a><a id="2452" href="Ledger.Conway.Conformance.Utxo.html#1822" class="InductiveConstructor">C.Scripts-No</a> <a id="2465" class="Symbol">_)))</a> <a id="2470" class="Symbol">=</a> <a id="2472" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="2478" class="Comment">-- The UTXOW rule doesn&#39;t change the deposits in Conformance</a>
<a id="lemDepositsC"></a><a id="2539" href="Ledger.Conway.Conformance.Equivalence.html#2539" class="Function">lemDepositsC</a> <a id="2552" class="Symbol">:</a> <a id="2554" class="Symbol">∀</a> <a id="2556" class="Symbol">{</a><a id="2557" href="Ledger.Conway.Conformance.Equivalence.html#2557" class="Bound">Γ</a> <a id="2559" href="Ledger.Conway.Conformance.Equivalence.html#2559" class="Bound">utxoSt</a> <a id="2566" href="Ledger.Conway.Conformance.Equivalence.html#2566" class="Bound">utxoSt&#39;</a> <a id="2574" href="Ledger.Conway.Conformance.Equivalence.html#2574" class="Bound">tx</a><a id="2576" class="Symbol">}</a>
             <a id="2591" class="Symbol">→</a> <a id="2593" class="Symbol">(</a><a id="2594" href="Ledger.Conway.Conformance.Equivalence.html#2594" class="Bound">h</a> <a id="2596" class="Symbol">:</a> <a id="2598" href="Ledger.Conway.Conformance.Equivalence.html#2557" class="Bound">Γ</a> <a id="2600" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="2604" href="Ledger.Conway.Conformance.Equivalence.html#2559" class="Bound">utxoSt</a> <a id="2611" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="2614" href="Ledger.Conway.Conformance.Equivalence.html#2574" class="Bound">tx</a> <a id="2617" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="2625" href="Ledger.Conway.Conformance.Equivalence.html#2566" class="Bound">utxoSt&#39;</a><a id="2632" class="Symbol">)</a>
             <a id="2647" class="Symbol">→</a> <a id="2649" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="2670" href="Ledger.Conway.Conformance.Equivalence.html#2559" class="Bound">utxoSt</a> <a id="2677" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2679" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="2700" href="Ledger.Conway.Conformance.Equivalence.html#2566" class="Bound">utxoSt&#39;</a>
<a id="2708" href="Ledger.Conway.Conformance.Equivalence.html#2539" class="Function">lemDepositsC</a> <a id="2721" class="Symbol">(</a><a id="2722" href="Ledger.Conway.Conformance.Utxow.html#3073" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
               <a id="2750" class="Symbol">(</a><a id="2751" href="Ledger.Conway.Conformance.Utxo.html#4059" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2769" class="Symbol">_</a> <a id="2771" class="Symbol">_</a> <a id="2773" class="Symbol">_</a> <a id="2775" class="Symbol">_</a> <a id="2777" class="Symbol">_</a> <a id="2779" class="Symbol">_</a> <a id="2781" class="Symbol">_</a> <a id="2783" class="Symbol">_</a> <a id="2785" class="Symbol">_</a> <a id="2787" class="Symbol">_</a> <a id="2789" class="Symbol">_</a> <a id="2791" class="Symbol">_</a> <a id="2793" class="Symbol">_</a> <a id="2795" class="Symbol">_</a> <a id="2797" class="Symbol">_</a> <a id="2799" class="Symbol">_</a> <a id="2801" class="Symbol">_</a> <a id="2803" class="Symbol">_</a> <a id="2805" class="Symbol">_</a> <a id="2807" class="Symbol">_</a> <a id="2809" class="Symbol">_</a>
                 <a id="2828" class="Symbol">(</a><a id="2829" href="Ledger.Conway.Conformance.Utxo.html#1227" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2843" class="Symbol">_)))</a> <a id="2848" class="Symbol">=</a> <a id="2850" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="2855" href="Ledger.Conway.Conformance.Equivalence.html#2539" class="Function">lemDepositsC</a> <a id="2868" class="Symbol">(</a><a id="2869" href="Ledger.Conway.Conformance.Utxow.html#3073" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
               <a id="2897" class="Symbol">(</a><a id="2898" href="Ledger.Conway.Conformance.Utxo.html#4059" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2916" class="Symbol">_</a> <a id="2918" class="Symbol">_</a> <a id="2920" class="Symbol">_</a> <a id="2922" class="Symbol">_</a> <a id="2924" class="Symbol">_</a> <a id="2926" class="Symbol">_</a> <a id="2928" class="Symbol">_</a> <a id="2930" class="Symbol">_</a> <a id="2932" class="Symbol">_</a> <a id="2934" class="Symbol">_</a> <a id="2936" class="Symbol">_</a> <a id="2938" class="Symbol">_</a> <a id="2940" class="Symbol">_</a> <a id="2942" class="Symbol">_</a> <a id="2944" class="Symbol">_</a> <a id="2946" class="Symbol">_</a> <a id="2948" class="Symbol">_</a> <a id="2950" class="Symbol">_</a> <a id="2952" class="Symbol">_</a> <a id="2954" class="Symbol">_</a> <a id="2956" class="Symbol">_</a>
                 <a id="2975" class="Symbol">(</a><a id="2976" href="Ledger.Conway.Conformance.Utxo.html#1822" class="InductiveConstructor">C.Scripts-No</a> <a id="2989" class="Symbol">_)))</a> <a id="2994" class="Symbol">=</a> <a id="2996" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="lemUpdateDeposits"></a><a id="3002" href="Ledger.Conway.Conformance.Equivalence.html#3002" class="Function">lemUpdateDeposits</a> <a id="3020" class="Symbol">:</a> <a id="3022" class="Symbol">∀</a> <a id="3024" class="Symbol">{</a><a id="3025" href="Ledger.Conway.Conformance.Equivalence.html#3025" class="Bound">Γ</a> <a id="3027" href="Ledger.Conway.Conformance.Equivalence.html#3027" class="Bound">s</a> <a id="3029" href="Ledger.Conway.Conformance.Equivalence.html#3029" class="Bound">tx</a> <a id="3032" href="Ledger.Conway.Conformance.Equivalence.html#3032" class="Bound">s&#39;</a><a id="3034" class="Symbol">}</a> <a id="3036" class="Symbol">(</a><a id="3037" class="Keyword">open</a> <a id="3042" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="3052" href="Ledger.Conway.Conformance.Equivalence.html#3025" class="Bound">Γ</a><a id="3053" class="Symbol">)</a>
                  <a id="3073" class="Symbol">→</a> <a id="3075" href="Ledger.Conway.Specification.Transaction.html#4984" class="Field">isValid</a> <a id="3083" href="Ledger.Conway.Conformance.Equivalence.html#3029" class="Bound">tx</a> <a id="3086" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3088" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                  <a id="3111" class="Symbol">→</a> <a id="3113" href="Ledger.Conway.Conformance.Equivalence.html#3025" class="Bound">Γ</a> <a id="3115" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="3119" href="Ledger.Conway.Conformance.Equivalence.html#3027" class="Bound">s</a> <a id="3121" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="3124" href="Ledger.Conway.Conformance.Equivalence.html#3029" class="Bound">tx</a> <a id="3127" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="3135" href="Ledger.Conway.Conformance.Equivalence.html#3032" class="Bound">s&#39;</a>
                  <a id="3156" class="Symbol">→</a> <a id="3158" href="Ledger.Conway.Specification.Utxo.html#8233" class="Function">L.updateDeposits</a> <a id="3175" href="Ledger.Conway.Specification.Utxo.html#1171" class="Function">pparams</a> <a id="3183" class="Symbol">(</a><a id="3184" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">body</a> <a id="3189" href="Ledger.Conway.Conformance.Equivalence.html#3029" class="Bound">tx</a><a id="3191" class="Symbol">)</a> <a id="3193" class="Symbol">(</a><a id="3194" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="3215" href="Ledger.Conway.Conformance.Equivalence.html#3027" class="Bound">s</a><a id="3216" class="Symbol">)</a> <a id="3218" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3220" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="3241" href="Ledger.Conway.Conformance.Equivalence.html#3032" class="Bound">s&#39;</a>
<a id="3244" href="Ledger.Conway.Conformance.Equivalence.html#3002" class="Function">lemUpdateDeposits</a> <a id="3262" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3269" class="Symbol">(</a><a id="3270" href="Ledger.Conway.Specification.Utxow.html#5490" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
    <a id="3287" class="Symbol">(</a><a id="3288" href="Ledger.Conway.Specification.Utxo.html#14272" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="3306" class="Symbol">_</a> <a id="3308" class="Symbol">_</a> <a id="3310" class="Symbol">_</a> <a id="3312" class="Symbol">_</a> <a id="3314" class="Symbol">_</a> <a id="3316" class="Symbol">_</a> <a id="3318" class="Symbol">_</a> <a id="3320" class="Symbol">_</a> <a id="3322" class="Symbol">_</a> <a id="3324" class="Symbol">_</a> <a id="3326" class="Symbol">_</a> <a id="3328" class="Symbol">_</a> <a id="3330" class="Symbol">_</a> <a id="3332" class="Symbol">_</a> <a id="3334" class="Symbol">_</a> <a id="3336" class="Symbol">_</a> <a id="3338" class="Symbol">_</a> <a id="3340" class="Symbol">_</a> <a id="3342" class="Symbol">_</a> <a id="3344" class="Symbol">_</a> <a id="3346" class="Symbol">_</a>
      <a id="3354" class="Symbol">(</a><a id="3355" href="Ledger.Conway.Specification.Utxo.html#11649" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3369" class="Symbol">_)))</a> <a id="3374" class="Symbol">=</a> <a id="3376" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="getValidCertDeposits"></a><a id="3382" href="Ledger.Conway.Conformance.Equivalence.html#3382" class="Function">getValidCertDeposits</a> <a id="3403" class="Symbol">:</a> <a id="3405" class="Symbol">∀</a> <a id="3407" class="Symbol">{</a><a id="3408" href="Ledger.Conway.Conformance.Equivalence.html#3408" class="Bound">Γ</a> <a id="3410" href="Ledger.Conway.Conformance.Equivalence.html#3410" class="Bound">s</a> <a id="3412" href="Ledger.Conway.Conformance.Equivalence.html#3412" class="Bound">tx</a> <a id="3415" href="Ledger.Conway.Conformance.Equivalence.html#3415" class="Bound">s&#39;</a><a id="3417" class="Symbol">}</a>
                     <a id="3440" class="Symbol">→</a> <a id="3442" class="Symbol">(</a><a id="3443" class="Keyword">let</a> <a id="3447" class="Keyword">open</a> <a id="3452" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="3462" href="Ledger.Conway.Conformance.Equivalence.html#3408" class="Bound">Γ</a> <a id="3464" class="Keyword">using</a> <a id="3470" class="Symbol">(</a><a id="3471" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a><a id="3478" class="Symbol">)</a>
                            <a id="3508" class="Keyword">open</a> <a id="3513" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="3525" href="Ledger.Conway.Conformance.Equivalence.html#3410" class="Bound">s</a> <a id="3527" class="Keyword">using</a> <a id="3533" class="Symbol">(</a><a id="3534" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="3542" class="Symbol">)</a>
                            <a id="3572" class="Keyword">open</a> <a id="3577" href="Ledger.Conway.Specification.Transaction.html#3194" class="Module">TxBody</a> <a id="3584" class="Symbol">(</a><a id="3585" href="Ledger.Conway.Conformance.Equivalence.html#3412" class="Bound">tx</a> <a id="3588" class="Symbol">.</a><a id="3589" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">Tx.body</a><a id="3596" class="Symbol">)</a> <a id="3598" class="Keyword">using</a> <a id="3604" class="Symbol">(</a><a id="3605" href="Ledger.Conway.Specification.Transaction.html#3412" class="Field">txCerts</a><a id="3612" class="Symbol">))</a>
                     <a id="3636" class="Symbol">→</a> <a id="3638" href="Ledger.Conway.Specification.Transaction.html#4984" class="Field">isValid</a> <a id="3646" href="Ledger.Conway.Conformance.Equivalence.html#3412" class="Bound">tx</a> <a id="3649" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3651" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                     <a id="3677" class="Symbol">→</a> <a id="3679" href="Ledger.Conway.Conformance.Equivalence.html#3408" class="Bound">Γ</a> <a id="3681" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="3685" href="Ledger.Conway.Conformance.Equivalence.html#3410" class="Bound">s</a> <a id="3687" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="3690" href="Ledger.Conway.Conformance.Equivalence.html#3412" class="Bound">tx</a> <a id="3693" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="3701" href="Ledger.Conway.Conformance.Equivalence.html#3415" class="Bound">s&#39;</a>
                     <a id="3725" class="Symbol">→</a> <a id="3727" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="3747" href="Ledger.Conway.Specification.Utxo.html#1171" class="Function">pparams</a> <a id="3755" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a> <a id="3764" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a>
<a id="3772" href="Ledger.Conway.Conformance.Equivalence.html#3382" class="Function">getValidCertDeposits</a> <a id="3793" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3800" class="Symbol">(</a><a id="3801" href="Ledger.Conway.Specification.Utxow.html#5490" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
    <a id="3818" class="Symbol">(</a><a id="3819" href="Ledger.Conway.Specification.Utxo.html#14272" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="3837" class="Symbol">_</a> <a id="3839" class="Symbol">_</a> <a id="3841" class="Symbol">_</a> <a id="3843" class="Symbol">_</a> <a id="3845" class="Symbol">_</a> <a id="3847" class="Symbol">_</a> <a id="3849" class="Symbol">_</a> <a id="3851" class="Symbol">_</a> <a id="3853" class="Symbol">_</a> <a id="3855" class="Symbol">_</a> <a id="3857" class="Symbol">_</a> <a id="3859" class="Symbol">_</a> <a id="3861" class="Symbol">_</a> <a id="3863" class="Symbol">_</a> <a id="3865" class="Symbol">_</a> <a id="3867" class="Symbol">_</a> <a id="3869" class="Symbol">_</a> <a id="3871" class="Symbol">_</a> <a id="3873" class="Symbol">_</a> <a id="3875" class="Symbol">_</a> <a id="3877" class="Symbol">_</a>
      <a id="3885" class="Symbol">(</a><a id="3886" href="Ledger.Conway.Specification.Utxo.html#11649" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3900" class="Symbol">(</a><a id="3901" href="Ledger.Conway.Conformance.Equivalence.html#3901" class="Bound">v</a> <a id="3903" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3905" class="Symbol">_))))</a> <a id="3911" class="Symbol">=</a> <a id="3913" href="Ledger.Conway.Conformance.Equivalence.html#3901" class="Bound">v</a>

<a id="makeCertDeps*"></a><a id="3916" href="Ledger.Conway.Conformance.Equivalence.html#3916" class="Function">makeCertDeps*</a> <a id="3930" class="Symbol">:</a> <a id="3932" class="Symbol">∀</a> <a id="3934" class="Symbol">{</a><a id="3935" href="Ledger.Conway.Conformance.Equivalence.html#3935" class="Bound">Γ</a> <a id="3937" href="Ledger.Conway.Conformance.Equivalence.html#3937" class="Bound">s</a> <a id="3939" href="Ledger.Conway.Conformance.Equivalence.html#3939" class="Bound">tx</a> <a id="3942" href="Ledger.Conway.Conformance.Equivalence.html#3942" class="Bound">s&#39;</a><a id="3944" class="Symbol">}</a>
              <a id="3960" class="Symbol">→</a> <a id="3962" class="Symbol">(</a><a id="3963" class="Keyword">let</a> <a id="3967" class="Keyword">open</a> <a id="3972" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">L.UTxOEnv</a> <a id="3982" href="Ledger.Conway.Conformance.Equivalence.html#3935" class="Bound">Γ</a> <a id="3984" class="Keyword">using</a> <a id="3990" class="Symbol">(</a><a id="3991" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a><a id="3998" class="Symbol">)</a>
                     <a id="4021" class="Keyword">open</a> <a id="4026" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="4038" href="Ledger.Conway.Conformance.Equivalence.html#3937" class="Bound">s</a> <a id="4040" class="Keyword">using</a> <a id="4046" class="Symbol">(</a><a id="4047" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="4055" class="Symbol">)</a>
                     <a id="4078" class="Keyword">open</a> <a id="4083" href="Ledger.Conway.Specification.Transaction.html#3194" class="Module">TxBody</a> <a id="4090" class="Symbol">(</a><a id="4091" href="Ledger.Conway.Conformance.Equivalence.html#3939" class="Bound">tx</a> <a id="4094" class="Symbol">.</a><a id="4095" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">Tx.body</a><a id="4102" class="Symbol">)</a> <a id="4104" class="Keyword">using</a> <a id="4110" class="Symbol">(</a><a id="4111" href="Ledger.Conway.Specification.Transaction.html#3412" class="Field">txCerts</a><a id="4118" class="Symbol">))</a>
              <a id="4135" class="Symbol">→</a> <a id="4137" href="Ledger.Conway.Specification.Transaction.html#4984" class="Field">isValid</a> <a id="4145" href="Ledger.Conway.Conformance.Equivalence.html#3939" class="Bound">tx</a> <a id="4148" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4150" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
              <a id="4169" class="Symbol">→</a> <a id="4171" href="Ledger.Conway.Conformance.Equivalence.html#3935" class="Bound">Γ</a> <a id="4173" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="4177" href="Ledger.Conway.Conformance.Equivalence.html#3937" class="Bound">s</a> <a id="4179" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="4182" href="Ledger.Conway.Conformance.Equivalence.html#3939" class="Bound">tx</a> <a id="4185" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="4193" href="Ledger.Conway.Conformance.Equivalence.html#3942" class="Bound">s&#39;</a>
              <a id="4210" class="Symbol">→</a> <a id="4212" href="Ledger.Conway.Conformance.Equivalence.Certs.html#3978" class="Record">CertDeps*</a> <a id="4222" href="Ledger.Conway.Specification.Utxo.html#1171" class="Function">pparams</a> <a id="4230" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a>
<a id="4238" href="Ledger.Conway.Conformance.Equivalence.html#3916" class="Function">makeCertDeps*</a> <a id="4252" class="Symbol">{</a><a id="4253" class="Argument">s</a> <a id="4255" class="Symbol">=</a> <a id="4257" href="Ledger.Conway.Conformance.Equivalence.html#4257" class="Bound">s</a><a id="4258" class="Symbol">}</a> <a id="4260" href="Ledger.Conway.Conformance.Equivalence.html#4260" class="Bound">valid</a> <a id="4266" href="Ledger.Conway.Conformance.Equivalence.html#4266" class="Bound">r</a> <a id="4268" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#3977}{\htmlId{4272}{\htmlClass{Function}{\text{certDDeps}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#1334}{\htmlId{4282}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#4123}{\htmlId{4293}{\htmlClass{Function}{\text{certGDeps}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#1334}{\htmlId{4303}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#7660}{\htmlId{4314}{\htmlClass{Function}{\text{validDDeps}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#4413}{\htmlId{4325}{\htmlClass{Function}{\text{validDeps}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#8749}{\htmlId{4337}{\htmlClass{Function}{\text{validGDeps}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#4413}{\htmlId{4348}{\htmlClass{Function}{\text{validDeps}}}}\, \end{pmatrix}$</a>
  <a id="4363" class="Keyword">where</a>
    <a id="4373" class="Keyword">open</a> <a id="4378" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">L.UTxOState</a> <a id="4390" href="Ledger.Conway.Conformance.Equivalence.html#4257" class="Bound">s</a> <a id="4392" class="Keyword">using</a> <a id="4398" class="Symbol">(</a><a id="4399" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="4407" class="Symbol">)</a>
    <a id="4413" href="Ledger.Conway.Conformance.Equivalence.html#4413" class="Function">validDeps</a> <a id="4423" class="Symbol">=</a> <a id="4425" href="Ledger.Conway.Conformance.Equivalence.html#3382" class="Function">getValidCertDeposits</a> <a id="4446" href="Ledger.Conway.Conformance.Equivalence.html#4260" class="Bound">valid</a> <a id="4452" href="Ledger.Conway.Conformance.Equivalence.html#4266" class="Bound">r</a>

<a id="lem-cert-deposits-valid"></a><a id="4455" href="Ledger.Conway.Conformance.Equivalence.html#4455" class="Function">lem-cert-deposits-valid</a> <a id="4479" class="Symbol">:</a> <a id="4481" class="Symbol">∀</a> <a id="4483" class="Symbol">{</a><a id="4484" href="Ledger.Conway.Conformance.Equivalence.html#4484" class="Bound">Γ</a> <a id="4486" href="Ledger.Conway.Conformance.Equivalence.html#4486" class="Bound">s</a> <a id="4488" href="Ledger.Conway.Conformance.Equivalence.html#4488" class="Bound">tx</a> <a id="4491" href="Ledger.Conway.Conformance.Equivalence.html#4491" class="Bound">s&#39;</a><a id="4493" class="Symbol">}</a> <a id="4495" class="Symbol">(</a><a id="4496" class="Keyword">open</a> <a id="4501" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">L.LEnv</a> <a id="4508" href="Ledger.Conway.Conformance.Equivalence.html#4484" class="Bound">Γ</a> <a id="4510" class="Keyword">using</a> <a id="4516" class="Symbol">(</a><a id="4517" href="Ledger.Conway.Specification.Ledger.html#810" class="Field">pparams</a><a id="4524" class="Symbol">))</a>
                        <a id="4551" class="Symbol">→</a> <a id="4553" href="Ledger.Conway.Specification.Transaction.html#4984" class="Field">isValid</a> <a id="4561" href="Ledger.Conway.Conformance.Equivalence.html#4488" class="Bound">tx</a> <a id="4564" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4566" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                        <a id="4595" class="Symbol">→</a> <a id="4597" href="Ledger.Conway.Conformance.Equivalence.html#4484" class="Bound">Γ</a> <a id="4599" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L.⊢</a> <a id="4603" href="Ledger.Conway.Conformance.Equivalence.html#4486" class="Bound">s</a> <a id="4605" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="4608" href="Ledger.Conway.Conformance.Equivalence.html#4488" class="Bound">tx</a> <a id="4611" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a id="4620" href="Ledger.Conway.Conformance.Equivalence.html#4491" class="Bound">s&#39;</a>
                        <a id="4647" class="Symbol">→</a> <a id="4649" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2971" class="Function">updateLedgerDeps</a> <a id="4666" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="4674" href="Ledger.Conway.Conformance.Equivalence.html#4488" class="Bound">tx</a> <a id="4677" class="Symbol">(</a><a id="4678" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="4691" href="Ledger.Conway.Conformance.Equivalence.html#4486" class="Bound">s</a><a id="4692" class="Symbol">)</a> <a id="4694" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="4697" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="4710" href="Ledger.Conway.Conformance.Equivalence.html#4491" class="Bound">s&#39;</a>
<a id="4713" href="Ledger.Conway.Conformance.Equivalence.html#4455" class="Function">lem-cert-deposits-valid</a> <a id="4737" class="Symbol">{</a><a id="4738" href="Ledger.Conway.Conformance.Equivalence.html#4738" class="Bound">Γ</a><a id="4739" class="Symbol">}</a> <a id="4741" class="Symbol">{</a><a id="4742" href="Ledger.Conway.Conformance.Equivalence.html#4742" class="Bound">s</a><a id="4743" class="Symbol">}</a> <a id="4745" class="Symbol">{</a><a id="4746" href="Ledger.Conway.Conformance.Equivalence.html#4746" class="Bound">tx</a><a id="4748" class="Symbol">}</a> <a id="4750" class="Symbol">{</a><a id="4751" href="Ledger.Conway.Conformance.Equivalence.html#4751" class="Bound">s&#39;</a><a id="4753" class="Symbol">}</a> <a id="4755" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4760" class="Symbol">(</a><a id="4761" href="Ledger.Conway.Specification.Ledger.html#4813" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="4773" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4778" href="Ledger.Conway.Conformance.Equivalence.html#4778" class="Bound">utxow</a> <a id="4784" href="Ledger.Conway.Conformance.Equivalence.html#4784" class="Bound">certs</a> <a id="4790" href="Ledger.Conway.Conformance.Equivalence.html#4790" class="Bound">gov</a><a id="4793" class="Symbol">)</a> <a id="4795" class="Keyword">rewrite</a> <a id="4803" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">sym</a> <a id="4807" class="Symbol">(</a><a id="4808" href="Ledger.Conway.Conformance.Equivalence.html#3002" class="Function">lemUpdateDeposits</a> <a id="4826" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4831" href="Ledger.Conway.Conformance.Equivalence.html#4778" class="Bound">utxow</a><a id="4836" class="Symbol">)</a> <a id="4838" class="Symbol">=</a>
  <a id="4842" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#19246" class="Function">lem-upd-ddeps</a> <a id="4856" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="4864" href="Ledger.Conway.Conformance.Equivalence.html#4952" class="Function">deps</a> <a id="4869" href="Ledger.Conway.Conformance.Equivalence.html#4746" class="Bound">tx</a> <a id="4872" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
  <a id="4876" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20035" class="Function">lem-upd-gdeps</a> <a id="4890" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="4898" href="Ledger.Conway.Conformance.Equivalence.html#4952" class="Function">deps</a> <a id="4903" href="Ledger.Conway.Conformance.Equivalence.html#4746" class="Bound">tx</a>
  <a id="4908" class="Keyword">where</a>
    <a id="4918" class="Keyword">open</a> <a id="4923" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">L.LEnv</a> <a id="4930" href="Ledger.Conway.Conformance.Equivalence.html#4738" class="Bound">Γ</a> <a id="4932" class="Keyword">using</a> <a id="4938" class="Symbol">(</a><a id="4939" href="Ledger.Conway.Specification.Ledger.html#810" class="Field">pparams</a><a id="4946" class="Symbol">)</a>
    <a id="4952" href="Ledger.Conway.Conformance.Equivalence.html#4952" class="Function">deps</a> <a id="4957" class="Symbol">=</a> <a id="4959" href="Ledger.Conway.Conformance.Equivalence.html#4742" class="Bound">s</a> <a id="4961" class="Symbol">.</a><a id="4962" href="Ledger.Conway.Specification.Ledger.html#1047" class="Field">L.LState.utxoSt</a> <a id="4978" class="Symbol">.</a> <a id="4980" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a>

<a id="lem-cert-deposits-invalid"></a><a id="5002" href="Ledger.Conway.Conformance.Equivalence.html#5002" class="Function">lem-cert-deposits-invalid</a> <a id="5028" class="Symbol">:</a> <a id="5030" class="Symbol">∀</a> <a id="5032" class="Symbol">{</a><a id="5033" href="Ledger.Conway.Conformance.Equivalence.html#5033" class="Bound">Γ</a> <a id="5035" href="Ledger.Conway.Conformance.Equivalence.html#5035" class="Bound">s</a> <a id="5037" href="Ledger.Conway.Conformance.Equivalence.html#5037" class="Bound">tx</a> <a id="5040" href="Ledger.Conway.Conformance.Equivalence.html#5040" class="Bound">s&#39;</a><a id="5042" class="Symbol">}</a> <a id="5044" class="Symbol">(</a><a id="5045" class="Keyword">open</a> <a id="5050" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">L.LEnv</a> <a id="5057" href="Ledger.Conway.Conformance.Equivalence.html#5033" class="Bound">Γ</a> <a id="5059" class="Keyword">using</a> <a id="5065" class="Symbol">(</a><a id="5066" href="Ledger.Conway.Specification.Ledger.html#810" class="Field">pparams</a><a id="5073" class="Symbol">))</a>
                        <a id="5100" class="Symbol">→</a> <a id="5102" href="Ledger.Conway.Specification.Transaction.html#4984" class="Field">isValid</a> <a id="5110" href="Ledger.Conway.Conformance.Equivalence.html#5037" class="Bound">tx</a> <a id="5113" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="5115" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                        <a id="5145" class="Symbol">→</a> <a id="5147" href="Ledger.Conway.Conformance.Equivalence.html#5033" class="Bound">Γ</a> <a id="5149" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L.⊢</a> <a id="5153" href="Ledger.Conway.Conformance.Equivalence.html#5035" class="Bound">s</a> <a id="5155" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="5158" href="Ledger.Conway.Conformance.Equivalence.html#5037" class="Bound">tx</a> <a id="5161" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a id="5170" href="Ledger.Conway.Conformance.Equivalence.html#5040" class="Bound">s&#39;</a>
                        <a id="5197" class="Symbol">→</a> <a id="5199" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5212" href="Ledger.Conway.Conformance.Equivalence.html#5035" class="Bound">s</a> <a id="5214" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="5217" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5230" href="Ledger.Conway.Conformance.Equivalence.html#5040" class="Bound">s&#39;</a>
<a id="5233" href="Ledger.Conway.Conformance.Equivalence.html#5002" class="Function">lem-cert-deposits-invalid</a> <a id="5259" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5264" class="Symbol">(</a><a id="5265" href="Ledger.Conway.Specification.Ledger.html#4866" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="5277" class="Symbol">_</a> <a id="5279" href="Ledger.Conway.Conformance.Equivalence.html#5279" class="Bound">utxow</a><a id="5284" class="Symbol">)</a> <a id="5286" class="Keyword">rewrite</a> <a id="5294" href="Ledger.Conway.Conformance.Equivalence.html#1672" class="Function">lemInvalidDepositsL</a> <a id="5314" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5319" href="Ledger.Conway.Conformance.Equivalence.html#5279" class="Bound">utxow</a> <a id="5325" class="Symbol">=</a>
  <a id="5329" class="Symbol">(</a><a id="5330" href="Function.Base.html#704" class="Function">id</a> <a id="5333" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5335" href="Function.Base.html#704" class="Function">id</a><a id="5337" class="Symbol">)</a> <a id="5339" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5341" class="Symbol">(</a><a id="5342" href="Function.Base.html#704" class="Function">id</a> <a id="5345" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5347" href="Function.Base.html#704" class="Function">id</a><a id="5349" class="Symbol">)</a>

<a id="5352" class="Keyword">instance</a>
  <a id="LStateToConf"></a><a id="5363" href="Ledger.Conway.Conformance.Equivalence.html#5363" class="Function">LStateToConf</a> <a id="5376" class="Symbol">:</a> <a id="5378" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="5389" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5391" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="5402" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⊢</a> <a id="5404" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">L.LState</a> <a id="5413" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⭆</a> <a id="5415" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a>
  <a id="5426" href="Ledger.Conway.Conformance.Equivalence.html#5363" class="Function">LStateToConf</a> <a id="5439" class="Symbol">.</a><a id="5440" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5446" href="Ledger.Conway.Conformance.Equivalence.html#5446" class="Bound">deposits</a> <a id="5455" href="Ledger.Conway.Conformance.Equivalence.html#5455" class="Bound">ledgerSt</a> <a id="5464" class="Symbol">=</a>
    <a id="5470" class="Keyword">let</a> <a id="5474" class="Keyword">open</a> <a id="5479" href="Ledger.Conway.Specification.Ledger.html#988" class="Module">L.LState</a> <a id="5488" href="Ledger.Conway.Conformance.Equivalence.html#5455" class="Bound">ledgerSt</a> <a id="5497" class="Keyword">in</a>
    <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#1047}{\htmlId{5506}{\htmlClass{Field}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#1074}{\htmlId{5515}{\htmlClass{Field}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#5446}{\htmlId{5523}{\htmlClass{Bound}{\text{deposits}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#270}{\htmlId{5532}{\htmlClass{Function Operator}{\text{⊢conv}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#1100}{\htmlId{5538}{\htmlClass{Field}{\text{certState}}}}\, \end{pmatrix}$</a>

<a id="5551" class="Keyword">instance</a>
  <a id="LEDGERToConf"></a><a id="5562" href="Ledger.Conway.Conformance.Equivalence.html#5562" class="Function">LEDGERToConf</a> <a id="5575" class="Symbol">:</a> <a id="5577" class="Symbol">∀</a> <a id="5579" class="Symbol">{</a><a id="5580" href="Ledger.Conway.Conformance.Equivalence.html#5580" class="Bound">Γ</a> <a id="5582" href="Ledger.Conway.Conformance.Equivalence.html#5582" class="Bound">s</a> <a id="5584" href="Ledger.Conway.Conformance.Equivalence.html#5584" class="Bound">tx</a> <a id="5587" href="Ledger.Conway.Conformance.Equivalence.html#5587" class="Bound">s&#39;</a><a id="5589" class="Symbol">}</a>
               <a id="5606" class="Symbol">→</a> <a id="5608" href="Ledger.Conway.Conformance.Equivalence.html#5580" class="Bound">Γ</a> <a id="5610" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L.⊢</a> <a id="5614" href="Ledger.Conway.Conformance.Equivalence.html#5582" class="Bound">s</a> <a id="5616" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="5619" href="Ledger.Conway.Conformance.Equivalence.html#5584" class="Bound">tx</a> <a id="5622" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a id="5631" href="Ledger.Conway.Conformance.Equivalence.html#5587" class="Bound">s&#39;</a> <a id="5634" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a>
                 <a id="5653" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="5656" href="Ledger.Conway.Conformance.Equivalence.html#5656" class="Bound">certDeposits-s&#39;</a> <a id="5672" href="Data.Product.Base.html#1371" class="Function">]</a>
                    <a id="5694" href="Ledger.Conway.Conformance.Equivalence.html#5656" class="Bound">certDeposits-s&#39;</a> <a id="5710" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="5713" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5726" href="Ledger.Conway.Conformance.Equivalence.html#5587" class="Bound">s&#39;</a>
                  <a id="5747" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5749" href="Ledger.Conway.Conformance.Equivalence.html#5580" class="Bound">Γ</a> <a id="5751" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="5755" class="Symbol">(</a><a id="5756" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5769" href="Ledger.Conway.Conformance.Equivalence.html#5582" class="Bound">s</a> <a id="5771" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5777" href="Ledger.Conway.Conformance.Equivalence.html#5582" class="Bound">s</a><a id="5778" class="Symbol">)</a> <a id="5780" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="5783" href="Ledger.Conway.Conformance.Equivalence.html#5584" class="Bound">tx</a> <a id="5786" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="5795" class="Symbol">(</a><a id="5796" href="Ledger.Conway.Conformance.Equivalence.html#5656" class="Bound">certDeposits-s&#39;</a> <a id="5812" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5818" href="Ledger.Conway.Conformance.Equivalence.html#5587" class="Bound">s&#39;</a><a id="5820" class="Symbol">)</a>
  <a id="5824" href="Ledger.Conway.Conformance.Equivalence.html#5562" class="Function">LEDGERToConf</a> <a id="5837" class="Symbol">{</a><a id="5838" href="Ledger.Conway.Conformance.Equivalence.html#5838" class="Bound">Γ</a><a id="5839" class="Symbol">}</a> <a id="5841" class="Symbol">{</a><a id="5842" href="Ledger.Conway.Conformance.Equivalence.html#5842" class="Bound">s</a><a id="5843" class="Symbol">}</a> <a id="5845" class="Symbol">{</a><a id="5846" href="Ledger.Conway.Conformance.Equivalence.html#5846" class="Bound">tx</a><a id="5848" class="Symbol">}</a> <a id="5850" class="Symbol">{</a><a id="5851" href="Ledger.Conway.Conformance.Equivalence.html#5851" class="Bound">s&#39;</a><a id="5853" class="Symbol">}</a> <a id="5855" class="Symbol">.</a><a id="5856" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5862" class="Symbol">_</a> <a id="5864" href="Ledger.Conway.Conformance.Equivalence.html#5864" class="Bound">r</a><a id="5865" class="Symbol">@(</a><a id="5867" href="Ledger.Conway.Specification.Ledger.html#4813" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="5879" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5884" href="Ledger.Conway.Conformance.Equivalence.html#5884" class="Bound">utxow</a> <a id="5890" href="Ledger.Conway.Conformance.Equivalence.html#5890" class="Bound">certs</a> <a id="5896" href="Ledger.Conway.Conformance.Equivalence.html#5896" class="Bound">gov</a><a id="5899" class="Symbol">)</a> <a id="5901" class="Symbol">=</a>
    <a id="5907" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2971" class="Function">updateLedgerDeps</a> <a id="5924" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="5932" href="Ledger.Conway.Conformance.Equivalence.html#5846" class="Bound">tx</a> <a id="5935" class="Symbol">(</a><a id="5936" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="5949" href="Ledger.Conway.Conformance.Equivalence.html#5842" class="Bound">s</a><a id="5950" class="Symbol">)</a>
    <a id="5956" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5958" href="Ledger.Conway.Conformance.Equivalence.html#4455" class="Function">lem-cert-deposits-valid</a> <a id="5982" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5987" href="Ledger.Conway.Conformance.Equivalence.html#5864" class="Bound">r</a>
    <a id="5993" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5995" href="Relation.Binary.PropositionalEquality.Core.html#2186" class="Function">subst₂</a> <a id="6002" class="Symbol">(λ</a> <a id="6005" href="Ledger.Conway.Conformance.Equivalence.html#6005" class="Bound">•</a> <a id="6007" href="Ledger.Conway.Conformance.Equivalence.html#6007" class="Bound">◆</a> <a id="6009" class="Symbol">→</a> <a id="6011" href="Ledger.Conway.Conformance.Equivalence.html#5838" class="Bound">Γ</a> <a id="6013" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="6017" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6030" href="Ledger.Conway.Conformance.Equivalence.html#6538" class="Function">cdeposits</a> <a id="6040" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6046" href="Ledger.Conway.Conformance.Equivalence.html#5842" class="Bound">s</a> <a id="6048" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="6051" href="Ledger.Conway.Conformance.Equivalence.html#5846" class="Bound">tx</a> <a id="6054" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.html#6005}{\htmlId{6065}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{6069}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#6007}{\htmlId{6073}{\htmlClass{Bound}{\text{◆}}}}\, \end{pmatrix}$</a><a id="6076" class="Symbol">)</a>
             <a id="6091" href="Ledger.Conway.Conformance.Equivalence.html#6986" class="Function">utxoEq</a> <a id="6098" href="Ledger.Conway.Conformance.Equivalence.html#7208" class="Function">certsEq</a> <a id="6106" href="Ledger.Conway.Conformance.Equivalence.html#6826" class="Function">ledger&#39;</a>
    <a id="6118" class="Keyword">where</a>
      <a id="6130" class="Keyword">open</a> <a id="6135" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">L.LEnv</a> <a id="6142" href="Ledger.Conway.Conformance.Equivalence.html#5838" class="Bound">Γ</a>
      <a id="6150" class="Keyword">open</a> <a id="6155" href="Ledger.Conway.Specification.Ledger.html#988" class="Module">L.LState</a> <a id="6164" href="Ledger.Conway.Conformance.Equivalence.html#5842" class="Bound">s</a>
      <a id="6172" class="Keyword">open</a> <a id="6177" href="Ledger.Conway.Specification.Ledger.html#988" class="Module">L.LState</a> <a id="6186" href="Ledger.Conway.Conformance.Equivalence.html#5851" class="Bound">s&#39;</a> <a id="6189" class="Keyword">renaming</a> <a id="6198" class="Symbol">(</a><a id="6199" href="Ledger.Conway.Specification.Ledger.html#1047" class="Field">utxoSt</a> <a id="6206" class="Symbol">to</a> <a id="6209" class="Field">utxoSt&#39;</a><a id="6216" class="Symbol">;</a> <a id="6218" href="Ledger.Conway.Specification.Ledger.html#1100" class="Field">certState</a> <a id="6228" class="Symbol">to</a> <a id="6231" class="Field">certState&#39;</a><a id="6241" class="Symbol">;</a> <a id="6243" href="Ledger.Conway.Specification.Ledger.html#1074" class="Field">govSt</a> <a id="6249" class="Symbol">to</a> <a id="6252" class="Field">govSt&#39;</a><a id="6258" class="Symbol">)</a>
      <a id="6266" class="Keyword">open</a> <a id="6271" href="Ledger.Conway.Specification.Transaction.html#3194" class="Module">TxBody</a> <a id="6278" class="Symbol">(</a><a id="6279" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">body</a> <a id="6284" href="Ledger.Conway.Conformance.Equivalence.html#5846" class="Bound">tx</a><a id="6286" class="Symbol">)</a> <a id="6288" class="Keyword">using</a> <a id="6294" class="Symbol">(</a><a id="6295" href="Ledger.Conway.Specification.Transaction.html#3412" class="Field">txCerts</a><a id="6302" class="Symbol">)</a>
      <a id="6310" href="Ledger.Conway.Conformance.Equivalence.html#6310" class="Function">deposits</a> <a id="6319" class="Symbol">=</a> <a id="6321" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="6342" href="Ledger.Conway.Specification.Ledger.html#1047" class="Function">utxoSt</a>
      <a id="6355" href="Ledger.Conway.Conformance.Equivalence.html#6355" class="Function">utxow&#39;</a> <a id="6362" class="Symbol">:</a> <a id="6364" class="Symbol">_</a> <a id="6366" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="6370" href="Ledger.Conway.Specification.Ledger.html#1047" class="Function">utxoSt</a> <a id="6377" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="6380" href="Ledger.Conway.Conformance.Equivalence.html#5846" class="Bound">tx</a> <a id="6383" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="6391" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="6403" href="Ledger.Conway.Conformance.Equivalence.html#6310" class="Function">deposits</a> <a id="6412" href="Ledger.Conway.Conformance.Equivalence.html#6209" class="Function">utxoSt&#39;</a>
      <a id="6426" href="Ledger.Conway.Conformance.Equivalence.html#6355" class="Function">utxow&#39;</a> <a id="6433" class="Symbol">=</a> <a id="6435" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="6440" href="Ledger.Conway.Conformance.Equivalence.html#5884" class="Bound">utxow</a>
      <a id="6452" href="Ledger.Conway.Conformance.Equivalence.html#6452" class="Function">utxoStC&#39;</a>    <a id="6464" class="Symbol">=</a> <a id="6466" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="6478" class="Symbol">(</a><a id="6479" href="Ledger.Conway.Specification.Utxo.html#8233" class="Function">L.updateDeposits</a> <a id="6496" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="6504" class="Symbol">(</a><a id="6505" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">body</a> <a id="6510" href="Ledger.Conway.Conformance.Equivalence.html#5846" class="Bound">tx</a><a id="6512" class="Symbol">)</a> <a id="6514" href="Ledger.Conway.Conformance.Equivalence.html#6310" class="Function">deposits</a><a id="6522" class="Symbol">)</a> <a id="6524" href="Ledger.Conway.Conformance.Equivalence.html#6209" class="Function">utxoSt&#39;</a>
      <a id="6538" href="Ledger.Conway.Conformance.Equivalence.html#6538" class="Function">cdeposits</a>  <a id="6549" class="Symbol">=</a> <a id="6551" href="Ledger.Conway.Conformance.Equivalence.html#3916" class="Function">makeCertDeps*</a> <a id="6565" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6570" href="Ledger.Conway.Conformance.Equivalence.html#5884" class="Bound">utxow</a>
      <a id="6582" href="Ledger.Conway.Conformance.Equivalence.html#6582" class="Function">cdeposits&#39;</a> <a id="6593" class="Symbol">=</a> <a id="6595" href="Ledger.Conway.Conformance.Equivalence.Certs.html#5696" class="Function">updateCertDeps*</a> <a id="6611" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="6619" href="Ledger.Conway.Conformance.Equivalence.html#6538" class="Function">cdeposits</a>
      <a id="6635" href="Ledger.Conway.Conformance.Equivalence.html#6635" class="Function">certStateC&#39;</a> <a id="6647" class="Symbol">=</a> <a id="6649" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6662" href="Ledger.Conway.Conformance.Equivalence.html#6582" class="Function">cdeposits&#39;</a> <a id="6673" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6679" href="Ledger.Conway.Conformance.Equivalence.html#6231" class="Function">certState&#39;</a>
      <a id="6696" href="Ledger.Conway.Conformance.Equivalence.html#6696" class="Function">certs&#39;</a> <a id="6703" class="Symbol">:</a> <a id="6705" class="Symbol">_</a> <a id="6707" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="6711" class="Symbol">(</a><a id="6712" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6725" href="Ledger.Conway.Conformance.Equivalence.html#6538" class="Function">cdeposits</a> <a id="6735" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6741" href="Ledger.Conway.Specification.Ledger.html#1100" class="Function">certState</a><a id="6750" class="Symbol">)</a> <a id="6752" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="6755" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="6763" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="6771" href="Ledger.Conway.Conformance.Equivalence.html#6635" class="Function">certStateC&#39;</a>
      <a id="6789" href="Ledger.Conway.Conformance.Equivalence.html#6696" class="Function">certs&#39;</a> <a id="6796" class="Symbol">=</a> <a id="6798" href="Ledger.Conway.Conformance.Equivalence.html#6538" class="Function">cdeposits</a> <a id="6808" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6814" href="Ledger.Conway.Conformance.Equivalence.html#5890" class="Bound">certs</a>
      <a id="6826" href="Ledger.Conway.Conformance.Equivalence.html#6826" class="Function">ledger&#39;</a> <a id="6834" class="Symbol">:</a> <a id="6836" href="Ledger.Conway.Conformance.Equivalence.html#5838" class="Bound">Γ</a> <a id="6838" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="6842" class="Symbol">(</a><a id="6843" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="6856" href="Ledger.Conway.Conformance.Equivalence.html#6538" class="Function">cdeposits</a> <a id="6866" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6872" href="Ledger.Conway.Conformance.Equivalence.html#5842" class="Bound">s</a><a id="6873" class="Symbol">)</a> <a id="6875" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="6878" href="Ledger.Conway.Conformance.Equivalence.html#5846" class="Bound">tx</a> <a id="6881" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="6890" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">C.⟦</a> <a id="6894" href="Ledger.Conway.Conformance.Equivalence.html#6452" class="Function">utxoStC&#39;</a> <a id="6903" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">,</a> <a id="6905" href="Ledger.Conway.Conformance.Equivalence.html#6252" class="Function">govSt&#39;</a> <a id="6912" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">,</a> <a id="6914" href="Ledger.Conway.Conformance.Equivalence.html#6635" class="Function">certStateC&#39;</a> <a id="6926" href="Ledger.Conway.Conformance.Ledger.html#813" class="InductiveConstructor Operator">⟧ˡ</a>
      <a id="6935" href="Ledger.Conway.Conformance.Equivalence.html#6826" class="Function">ledger&#39;</a> <a id="6943" class="Symbol">=</a> <a id="6945" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="6957" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6962" href="Ledger.Conway.Conformance.Equivalence.html#6355" class="Function">utxow&#39;</a> <a id="6969" href="Ledger.Conway.Conformance.Equivalence.html#6696" class="Function">certs&#39;</a> <a id="6976" href="Ledger.Conway.Conformance.Equivalence.html#5896" class="Bound">gov</a>
      <a id="6986" href="Ledger.Conway.Conformance.Equivalence.html#6986" class="Function">utxoEq</a>  <a id="6994" class="Symbol">:</a> <a id="6996" href="Ledger.Conway.Conformance.Equivalence.html#6452" class="Function">utxoStC&#39;</a> <a id="7005" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7007" href="Ledger.Conway.Conformance.Equivalence.html#6209" class="Function">utxoSt&#39;</a>
      <a id="7021" href="Ledger.Conway.Conformance.Equivalence.html#6986" class="Function">utxoEq</a>  <a id="7029" class="Symbol">=</a> <a id="7031" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="7036" class="Symbol">(λ</a> <a id="7039" href="Ledger.Conway.Conformance.Equivalence.html#7039" class="Bound">•</a> <a id="7041" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{7045}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7049}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7039}{\htmlId{7053}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{7057}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="7060" class="Symbol">)</a>
                     <a id="7083" class="Symbol">(</a><a id="7084" href="Ledger.Conway.Conformance.Equivalence.html#3002" class="Function">lemUpdateDeposits</a> <a id="7102" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7107" href="Ledger.Conway.Conformance.Equivalence.html#5884" class="Bound">utxow</a><a id="7112" class="Symbol">)</a>
      <a id="7120" href="Ledger.Conway.Conformance.Equivalence.html#7120" class="Function">ddeps</a> <a id="7126" class="Symbol">=</a> <a id="7128" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="7141" href="Ledger.Conway.Conformance.Equivalence.html#6538" class="Function">cdeposits</a> <a id="7151" class="Symbol">.</a><a id="7152" href="Data.Product.Base.html#636" class="Field">proj₁</a>
      <a id="7164" href="Ledger.Conway.Conformance.Equivalence.html#7164" class="Function">gdeps</a> <a id="7170" class="Symbol">=</a> <a id="7172" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4914" class="Function">getCertDeps*</a> <a id="7185" href="Ledger.Conway.Conformance.Equivalence.html#6538" class="Function">cdeposits</a> <a id="7195" class="Symbol">.</a><a id="7196" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="7208" href="Ledger.Conway.Conformance.Equivalence.html#7208" class="Function">certsEq</a> <a id="7216" class="Symbol">:</a> <a id="7218" href="Ledger.Conway.Conformance.Equivalence.html#6635" class="Function">certStateC&#39;</a> <a id="7230" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7232" class="Symbol">(</a><a id="7233" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="7245" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="7253" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="7261" href="Ledger.Conway.Conformance.Equivalence.html#7120" class="Function">ddeps</a> <a id="7267" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7269" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="7281" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="7289" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="7297" href="Ledger.Conway.Conformance.Equivalence.html#7164" class="Function">gdeps</a><a id="7302" class="Symbol">)</a> <a id="7304" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="7310" href="Ledger.Conway.Conformance.Equivalence.html#6231" class="Function">certState&#39;</a>
      <a id="7327" href="Ledger.Conway.Conformance.Equivalence.html#7208" class="Function">certsEq</a> <a id="7335" class="Symbol">=</a> <a id="7337" href="Relation.Binary.PropositionalEquality.Core.html#1718" class="Function">cong₂</a> <a id="7343" class="Symbol">(λ</a> <a id="7346" href="Ledger.Conway.Conformance.Equivalence.html#7346" class="Bound">•</a> <a id="7348" href="Ledger.Conway.Conformance.Equivalence.html#7348" class="Bound">◆</a> <a id="7350" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\htmlId{7356}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7360}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7364}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7346}{\htmlId{7368}{\htmlClass{Bound}{\text{•}}}}\, \end{pmatrix} \\ \,\htmlId{7374}{\htmlClass{Symbol}{\text{\_}}}\, \\ \begin{pmatrix} \,\htmlId{7380}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7384}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7348}{\htmlId{7388}{\htmlClass{Bound}{\text{◆}}}}\, \end{pmatrix} \end{pmatrix}$</a><a id="7393" class="Symbol">)</a>
                     <a id="7416" class="Symbol">(</a><a id="7417" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#10968" class="Function">lem-ddeps</a> <a id="7427" href="Ledger.Conway.Conformance.Equivalence.html#6538" class="Function">cdeposits</a><a id="7436" class="Symbol">)</a>
                     <a id="7459" class="Symbol">(</a><a id="7460" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#11881" class="Function">lem-gdeps</a> <a id="7470" href="Ledger.Conway.Conformance.Equivalence.html#6538" class="Function">cdeposits</a><a id="7479" class="Symbol">)</a>

  <a id="7484" class="Comment">-- LEDGERToConf {Γ} {s} {tx} {s&#39;} .convⁱ (cdeps , cdeps-eq) r@(L.LEDGER-I⋯ refl utxow) =</a>
  <a id="7575" href="Ledger.Conway.Conformance.Equivalence.html#5562" class="Function">LEDGERToConf</a> <a id="7588" class="Symbol">{</a><a id="7589" href="Ledger.Conway.Conformance.Equivalence.html#7589" class="Bound">Γ</a><a id="7590" class="Symbol">}</a> <a id="7592" class="Symbol">{</a><a id="7593" href="Ledger.Conway.Conformance.Equivalence.html#7593" class="Bound">s</a><a id="7594" class="Symbol">}</a> <a id="7596" class="Symbol">{</a><a id="7597" href="Ledger.Conway.Conformance.Equivalence.html#7597" class="Bound">tx</a><a id="7599" class="Symbol">}</a> <a id="7601" class="Symbol">{</a><a id="7602" href="Ledger.Conway.Conformance.Equivalence.html#7602" class="Bound">s&#39;</a><a id="7604" class="Symbol">}</a> <a id="7606" class="Symbol">.</a><a id="7607" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="7613" class="Symbol">_</a> <a id="7615" href="Ledger.Conway.Conformance.Equivalence.html#7615" class="Bound">r</a><a id="7616" class="Symbol">@(</a><a id="7618" href="Ledger.Conway.Specification.Ledger.html#4866" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="7630" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7635" href="Ledger.Conway.Conformance.Equivalence.html#7635" class="Bound">utxow</a><a id="7640" class="Symbol">)</a> <a id="7642" class="Symbol">=</a>
    <a id="7648" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="7661" href="Ledger.Conway.Conformance.Equivalence.html#7593" class="Bound">s</a> <a id="7663" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7665" href="Ledger.Conway.Conformance.Equivalence.html#5002" class="Function">lem-cert-deposits-invalid</a> <a id="7691" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7696" href="Ledger.Conway.Conformance.Equivalence.html#7615" class="Bound">r</a> <a id="7698" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
    <a id="7704" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="7710" class="Symbol">(λ</a> <a id="7713" href="Ledger.Conway.Conformance.Equivalence.html#7713" class="Bound">•</a> <a id="7715" class="Symbol">→</a> <a id="7717" href="Ledger.Conway.Conformance.Equivalence.html#7589" class="Bound">Γ</a> <a id="7719" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="7723" class="Symbol">_</a> <a id="7725" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="7731" href="Ledger.Conway.Conformance.Equivalence.html#7593" class="Bound">s</a> <a id="7733" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="7736" href="Ledger.Conway.Conformance.Equivalence.html#7597" class="Bound">tx</a> <a id="7739" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\htmlId{7752}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7756}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7713}{\htmlId{7760}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{7764}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix} \\ \,\htmlId{7770}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7774}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="7777" class="Symbol">)</a>
          <a id="7789" class="Symbol">(</a><a id="7790" href="Ledger.Conway.Conformance.Equivalence.html#1672" class="Function">lemInvalidDepositsL</a> <a id="7810" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7815" href="Ledger.Conway.Conformance.Equivalence.html#7635" class="Bound">utxow</a><a id="7820" class="Symbol">)</a>
          <a id="7832" class="Symbol">(</a><a id="7833" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="7845" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7850" class="Symbol">(</a><a id="7851" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="7856" href="Ledger.Conway.Conformance.Equivalence.html#7635" class="Bound">utxow</a><a id="7861" class="Symbol">))</a>

<a id="7865" class="Keyword">instance</a>

  <a id="LStateFromConf"></a><a id="7877" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">LStateFromConf</a> <a id="7892" class="Symbol">:</a> <a id="7894" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a> <a id="7903" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="7905" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">L.LState</a>
  <a id="7916" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">LStateFromConf</a> <a id="7931" class="Symbol">.</a><a id="7932" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="7938" class="Symbol">_</a> <a id="7940" href="Ledger.Conway.Conformance.Equivalence.html#7940" class="Bound">ls</a> <a id="7943" class="Symbol">=</a>
    <a id="7949" class="Keyword">let</a> <a id="7953" class="Keyword">open</a> <a id="7958" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="7967" href="Ledger.Conway.Conformance.Equivalence.html#7940" class="Bound">ls</a> <a id="7970" class="Keyword">in</a>
    <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Ledger.html#834}{\htmlId{7979}{\htmlClass{Field}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Ledger.html#861}{\htmlId{7988}{\htmlClass{Field}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#452}{\htmlId{7996}{\htmlClass{Function}{\text{conv}}}}\, \,\href{Ledger.Conway.Conformance.Ledger.html#887}{\htmlId{8001}{\htmlClass{Field}{\text{certState}}}}\, \end{pmatrix}$</a>

<a id="certDepositsC"></a><a id="8014" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="8028" class="Symbol">:</a> <a id="8030" href="Ledger.Conway.Conformance.Certs.html#962" class="Record">C.CertState</a> <a id="8042" class="Symbol">→</a> <a id="8044" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="8055" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8057" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a>
<a id="8068" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="8082" href="Ledger.Conway.Conformance.Equivalence.html#8082" class="Bound">cs</a> <a id="8085" class="Symbol">=</a> <a id="8087" class="Keyword">let</a> <a id="8091" class="Keyword">open</a> <a id="8096" href="Ledger.Conway.Conformance.Certs.html#962" class="Module">C.CertState</a> <a id="8108" href="Ledger.Conway.Conformance.Equivalence.html#8082" class="Bound">cs</a> <a id="8111" class="Keyword">in</a> <a id="8114" href="Ledger.Conway.Conformance.Certs.html#762" class="Field">C.DState.deposits</a> <a id="8132" href="Ledger.Conway.Conformance.Certs.html#1021" class="Field">dState</a> <a id="8139" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8141" href="Ledger.Conway.Conformance.Certs.html#932" class="Field">C.GState.deposits</a> <a id="8159" href="Ledger.Conway.Conformance.Certs.html#1061" class="Field">gState</a>

<a id="WellformedLState"></a><a id="8167" href="Ledger.Conway.Conformance.Equivalence.html#8167" class="Function">WellformedLState</a> <a id="8184" class="Symbol">:</a> <a id="8186" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a> <a id="8195" class="Symbol">→</a> <a id="8197" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8202" href="Ledger.Conway.Conformance.Equivalence.html#8167" class="Function">WellformedLState</a> <a id="8219" href="Ledger.Conway.Conformance.Equivalence.html#8219" class="Bound">s</a> <a id="8221" class="Symbol">=</a> <a id="8223" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="8237" class="Symbol">(</a><a id="8238" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="8257" href="Ledger.Conway.Conformance.Equivalence.html#8219" class="Bound">s</a><a id="8258" class="Symbol">)</a> <a id="8260" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="8263" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="8276" class="Symbol">(</a><a id="8277" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="8282" href="Ledger.Conway.Conformance.Equivalence.html#8219" class="Bound">s</a><a id="8283" class="Symbol">)</a>

<a id="getValidCertDepositsCERTS"></a><a id="8286" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="8312" class="Symbol">:</a> <a id="8314" class="Symbol">∀</a> <a id="8316" class="Symbol">{</a><a id="8317" href="Ledger.Conway.Conformance.Equivalence.html#8317" class="Bound">Γ</a> <a id="8319" href="Ledger.Conway.Conformance.Equivalence.html#8319" class="Bound">s</a> <a id="8321" href="Ledger.Conway.Conformance.Equivalence.html#8321" class="Bound">certs</a> <a id="8327" href="Ledger.Conway.Conformance.Equivalence.html#8327" class="Bound">s&#39;</a><a id="8329" class="Symbol">}</a> <a id="8331" href="Ledger.Conway.Conformance.Equivalence.html#8331" class="Bound">deposits</a> <a id="8340" class="Symbol">(</a><a id="8341" class="Keyword">open</a> <a id="8346" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">L.CertEnv</a> <a id="8356" href="Ledger.Conway.Conformance.Equivalence.html#8317" class="Bound">Γ</a> <a id="8358" class="Keyword">using</a> <a id="8364" class="Symbol">(</a><a id="8365" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="8367" class="Symbol">))</a>
                          <a id="8396" class="Symbol">→</a> <a id="8398" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="8412" href="Ledger.Conway.Conformance.Equivalence.html#8319" class="Bound">s</a> <a id="8414" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="8417" class="Symbol">(</a><a id="8418" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="8428" href="Ledger.Conway.Conformance.Equivalence.html#8331" class="Bound">deposits</a> <a id="8437" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8439" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="8449" href="Ledger.Conway.Conformance.Equivalence.html#8331" class="Bound">deposits</a><a id="8457" class="Symbol">)</a>
                          <a id="8485" class="Symbol">→</a> <a id="8487" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="8503" href="Ledger.Conway.Conformance.Certs.html#6050" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="8519" href="Ledger.Conway.Conformance.Certs.html#7440" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="8540" href="Ledger.Conway.Conformance.Equivalence.html#8317" class="Bound">Γ</a> <a id="8542" href="Ledger.Conway.Conformance.Equivalence.html#8319" class="Bound">s</a> <a id="8544" href="Ledger.Conway.Conformance.Equivalence.html#8321" class="Bound">certs</a> <a id="8550" href="Ledger.Conway.Conformance.Equivalence.html#8327" class="Bound">s&#39;</a>
                          <a id="8579" class="Symbol">→</a> <a id="8581" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="8601" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="8604" href="Ledger.Conway.Conformance.Equivalence.html#8331" class="Bound">deposits</a> <a id="8613" href="Ledger.Conway.Conformance.Equivalence.html#8321" class="Bound">certs</a>
<a id="8619" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="8645" href="Ledger.Conway.Conformance.Equivalence.html#8645" class="Bound">deposits</a> <a id="8654" href="Ledger.Conway.Conformance.Equivalence.html#8654" class="Bound">wf</a> <a id="8657" class="Symbol">(</a><a id="8658" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="8665" href="Ledger.Conway.Conformance.Equivalence.html#8665" class="Bound">x</a><a id="8666" class="Symbol">)</a> <a id="8668" class="Symbol">=</a> <a id="8670" href="Ledger.Conway.Specification.Utxo.html#3540" class="InductiveConstructor">L.[]</a>
<a id="8675" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="8701" class="Symbol">{</a><a id="8702" href="Ledger.Conway.Conformance.Equivalence.html#8702" class="Bound">Γ</a><a id="8703" class="Symbol">}</a> <a id="8705" class="Symbol">{</a><a id="8706" href="Ledger.Conway.Conformance.Equivalence.html#8706" class="Bound">s</a><a id="8707" class="Symbol">}</a> <a id="8709" class="Symbol">{</a><a id="8710" href="Ledger.Conway.Conformance.Equivalence.html#8710" class="Bound">cert</a> <a id="8715" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8717" class="Symbol">_}</a> <a id="8720" href="Ledger.Conway.Conformance.Equivalence.html#8720" class="Bound">deposits</a> <a id="8729" href="Ledger.Conway.Conformance.Equivalence.html#8729" class="Bound">wf</a> <a id="8732" class="Symbol">(</a><a id="8733" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="8739" class="Symbol">(</a><a id="8740" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="8753" class="Symbol">(</a><a id="8754" href="Ledger.Conway.Conformance.Certs.html#3708" class="InductiveConstructor">C.DELEG-delegate</a> <a id="8771" href="Ledger.Conway.Conformance.Equivalence.html#8771" class="Bound">x</a><a id="8772" class="Symbol">))</a> <a id="8775" href="Ledger.Conway.Conformance.Equivalence.html#8775" class="Bound">rs</a><a id="8777" class="Symbol">)</a>
  <a id="8781" class="Symbol">=</a> <a id="8783" href="Ledger.Conway.Specification.Utxo.html#3584" class="InductiveConstructor">L.delegate</a> <a id="8794" class="Symbol">(</a><a id="8795" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="8821" class="Symbol">_</a> <a id="8823" class="Symbol">(</a><a id="8824" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="8835" class="Symbol">(</a><a id="8836" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="8849" href="Ledger.Conway.Conformance.Equivalence.html#8702" class="Bound">Γ</a><a id="8850" class="Symbol">)</a> <a id="8852" class="Symbol">(</a><a id="8853" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="8867" href="Ledger.Conway.Conformance.Equivalence.html#8706" class="Bound">s</a><a id="8868" class="Symbol">)</a> <a id="8870" href="Ledger.Conway.Conformance.Equivalence.html#8720" class="Bound">deposits</a> <a id="8879" href="Ledger.Conway.Conformance.Equivalence.html#8710" class="Bound">cert</a> <a id="8884" href="Ledger.Conway.Conformance.Equivalence.html#8729" class="Bound">wf</a><a id="8886" class="Symbol">)</a> <a id="8888" href="Ledger.Conway.Conformance.Equivalence.html#8775" class="Bound">rs</a><a id="8890" class="Symbol">)</a>
<a id="8892" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="8918" class="Symbol">{</a><a id="8919" href="Ledger.Conway.Conformance.Equivalence.html#8919" class="Bound">Γ</a><a id="8920" class="Symbol">}</a> <a id="8922" class="Symbol">{</a><a id="8923" href="Ledger.Conway.Conformance.Equivalence.html#8923" class="Bound">s</a><a id="8924" class="Symbol">}</a> <a id="8926" class="Symbol">{</a><a id="8927" href="Ledger.Conway.Conformance.Equivalence.html#8927" class="Bound">cert</a> <a id="8932" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8934" class="Symbol">_}</a> <a id="8937" href="Ledger.Conway.Conformance.Equivalence.html#8937" class="Bound">deposits</a> <a id="8946" href="Ledger.Conway.Conformance.Equivalence.html#8946" class="Bound">wf</a> <a id="8949" class="Symbol">(</a><a id="8950" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="8956" class="Symbol">(</a><a id="8957" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="8970" class="Symbol">(</a><a id="8971" href="Ledger.Conway.Conformance.Certs.html#4345" class="InductiveConstructor">C.DELEG-dereg</a> <a id="8985" class="Symbol">(_</a> <a id="8988" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8990" href="Ledger.Conway.Conformance.Equivalence.html#8990" class="Bound">h</a> <a id="8992" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8994" href="Ledger.Conway.Conformance.Equivalence.html#8994" class="Bound">h&#39;</a><a id="8996" class="Symbol">)))</a> <a id="9000" href="Ledger.Conway.Conformance.Equivalence.html#9000" class="Bound">rs</a><a id="9002" class="Symbol">)</a>
  <a id="9006" class="Symbol">=</a> <a id="9008" href="Ledger.Conway.Specification.Utxo.html#4305" class="InductiveConstructor">L.dereg</a> <a id="9016" class="Symbol">(</a><a id="9017" href="Axiom.Set.html#5784" class="Function">∈-filter</a> <a id="9026" class="Symbol">.</a><a id="9027" href="Function.Bundles.html#4832" class="Field">Equivalence.from</a> <a id="9044" class="Symbol">(</a><a id="9045" href="Ledger.Conway.Conformance.Equivalence.html#8946" class="Bound">wf</a> <a id="9048" class="Symbol">.</a><a id="9049" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9055" class="Symbol">.</a><a id="9056" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9062" href="Ledger.Conway.Conformance.Equivalence.html#8990" class="Bound">h</a><a id="9063" class="Symbol">)</a> <a id="9065" class="Symbol">.</a><a id="9066" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="9071" class="Symbol">)</a> <a id="9073" href="Ledger.Conway.Conformance.Equivalence.html#8994" class="Bound">h&#39;</a>
            <a id="9088" class="Symbol">(</a><a id="9089" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="9115" class="Symbol">_</a> <a id="9117" class="Symbol">(</a><a id="9118" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="9129" class="Symbol">(</a><a id="9130" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9143" href="Ledger.Conway.Conformance.Equivalence.html#8919" class="Bound">Γ</a><a id="9144" class="Symbol">)</a> <a id="9146" class="Symbol">(</a><a id="9147" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="9161" href="Ledger.Conway.Conformance.Equivalence.html#8923" class="Bound">s</a><a id="9162" class="Symbol">)</a> <a id="9164" href="Ledger.Conway.Conformance.Equivalence.html#8937" class="Bound">deposits</a> <a id="9173" href="Ledger.Conway.Conformance.Equivalence.html#8927" class="Bound">cert</a> <a id="9178" href="Ledger.Conway.Conformance.Equivalence.html#8946" class="Bound">wf</a><a id="9180" class="Symbol">)</a> <a id="9182" href="Ledger.Conway.Conformance.Equivalence.html#9000" class="Bound">rs</a><a id="9184" class="Symbol">)</a>
<a id="9186" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="9212" class="Symbol">{</a><a id="9213" href="Ledger.Conway.Conformance.Equivalence.html#9213" class="Bound">Γ</a><a id="9214" class="Symbol">}</a> <a id="9216" class="Symbol">{</a><a id="9217" href="Ledger.Conway.Conformance.Equivalence.html#9217" class="Bound">s</a><a id="9218" class="Symbol">}</a> <a id="9220" class="Symbol">{</a><a id="9221" href="Ledger.Conway.Conformance.Equivalence.html#9221" class="Bound">cert</a> <a id="9226" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9228" class="Symbol">_}</a> <a id="9231" href="Ledger.Conway.Conformance.Equivalence.html#9231" class="Bound">deposits</a> <a id="9240" href="Ledger.Conway.Conformance.Equivalence.html#9240" class="Bound">wf</a> <a id="9243" class="Symbol">(</a><a id="9244" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9250" class="Symbol">(</a><a id="9251" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="9264" class="Symbol">(</a><a id="9265" href="Ledger.Conway.Conformance.Certs.html#4709" class="InductiveConstructor">C.DELEG-reg</a> <a id="9277" href="Ledger.Conway.Conformance.Equivalence.html#9277" class="Bound">x</a><a id="9278" class="Symbol">))</a> <a id="9281" href="Ledger.Conway.Conformance.Equivalence.html#9281" class="Bound">rs</a><a id="9283" class="Symbol">)</a>
  <a id="9287" class="Symbol">=</a> <a id="9289" href="Ledger.Conway.Specification.Utxo.html#4124" class="InductiveConstructor">L.reg</a> <a id="9295" class="Symbol">(</a><a id="9296" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="9322" class="Symbol">_</a> <a id="9324" class="Symbol">(</a><a id="9325" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="9336" class="Symbol">(</a><a id="9337" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9350" href="Ledger.Conway.Conformance.Equivalence.html#9213" class="Bound">Γ</a><a id="9351" class="Symbol">)</a> <a id="9353" class="Symbol">(</a><a id="9354" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="9368" href="Ledger.Conway.Conformance.Equivalence.html#9217" class="Bound">s</a><a id="9369" class="Symbol">)</a> <a id="9371" href="Ledger.Conway.Conformance.Equivalence.html#9231" class="Bound">deposits</a> <a id="9380" href="Ledger.Conway.Conformance.Equivalence.html#9221" class="Bound">cert</a> <a id="9385" href="Ledger.Conway.Conformance.Equivalence.html#9240" class="Bound">wf</a><a id="9387" class="Symbol">)</a> <a id="9389" href="Ledger.Conway.Conformance.Equivalence.html#9281" class="Bound">rs</a><a id="9391" class="Symbol">)</a>
<a id="9393" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="9419" class="Symbol">{</a><a id="9420" href="Ledger.Conway.Conformance.Equivalence.html#9420" class="Bound">Γ</a><a id="9421" class="Symbol">}</a> <a id="9423" class="Symbol">{</a><a id="9424" href="Ledger.Conway.Conformance.Equivalence.html#9424" class="Bound">s</a><a id="9425" class="Symbol">}</a> <a id="9427" class="Symbol">{</a><a id="9428" href="Ledger.Conway.Conformance.Equivalence.html#9428" class="Bound">cert</a> <a id="9433" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9435" class="Symbol">_}</a> <a id="9438" href="Ledger.Conway.Conformance.Equivalence.html#9438" class="Bound">deposits</a> <a id="9447" href="Ledger.Conway.Conformance.Equivalence.html#9447" class="Bound">wf</a> <a id="9450" class="Symbol">(</a><a id="9451" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9457" class="Symbol">(</a><a id="9458" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a> <a id="9470" href="Ledger.Conway.Specification.Certs.html#9187" class="InductiveConstructor">L.POOL-regpool</a><a id="9484" class="Symbol">)</a> <a id="9486" href="Ledger.Conway.Conformance.Equivalence.html#9486" class="Bound">rs</a><a id="9488" class="Symbol">)</a>
  <a id="9492" class="Symbol">=</a> <a id="9494" href="Ledger.Conway.Specification.Utxo.html#3771" class="InductiveConstructor">L.regpool</a> <a id="9504" class="Symbol">(</a><a id="9505" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="9531" class="Symbol">_</a> <a id="9533" class="Symbol">(</a><a id="9534" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="9545" class="Symbol">(</a><a id="9546" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9559" href="Ledger.Conway.Conformance.Equivalence.html#9420" class="Bound">Γ</a><a id="9560" class="Symbol">)</a> <a id="9562" class="Symbol">(</a><a id="9563" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="9577" href="Ledger.Conway.Conformance.Equivalence.html#9424" class="Bound">s</a><a id="9578" class="Symbol">)</a> <a id="9580" href="Ledger.Conway.Conformance.Equivalence.html#9438" class="Bound">deposits</a> <a id="9589" href="Ledger.Conway.Conformance.Equivalence.html#9428" class="Bound">cert</a> <a id="9594" href="Ledger.Conway.Conformance.Equivalence.html#9447" class="Bound">wf</a><a id="9596" class="Symbol">)</a> <a id="9598" href="Ledger.Conway.Conformance.Equivalence.html#9486" class="Bound">rs</a><a id="9600" class="Symbol">)</a>
<a id="9602" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="9628" class="Symbol">{</a><a id="9629" href="Ledger.Conway.Conformance.Equivalence.html#9629" class="Bound">Γ</a><a id="9630" class="Symbol">}</a> <a id="9632" class="Symbol">{</a><a id="9633" href="Ledger.Conway.Conformance.Equivalence.html#9633" class="Bound">s</a><a id="9634" class="Symbol">}</a> <a id="9636" class="Symbol">{</a><a id="9637" href="Ledger.Conway.Conformance.Equivalence.html#9637" class="Bound">cert</a> <a id="9642" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9644" class="Symbol">_}</a> <a id="9647" href="Ledger.Conway.Conformance.Equivalence.html#9647" class="Bound">deposits</a> <a id="9656" href="Ledger.Conway.Conformance.Equivalence.html#9656" class="Bound">wf</a> <a id="9659" class="Symbol">(</a><a id="9660" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9666" class="Symbol">(</a><a id="9667" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a> <a id="9679" href="Ledger.Conway.Specification.Certs.html#9578" class="InductiveConstructor">C.POOL-retirepool</a><a id="9696" class="Symbol">)</a> <a id="9698" href="Ledger.Conway.Conformance.Equivalence.html#9698" class="Bound">rs</a><a id="9700" class="Symbol">)</a>
  <a id="9704" class="Symbol">=</a> <a id="9706" href="Ledger.Conway.Specification.Utxo.html#4913" class="InductiveConstructor">L.retirepool</a> <a id="9719" class="Symbol">(</a><a id="9720" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="9746" class="Symbol">_</a> <a id="9748" class="Symbol">(</a><a id="9749" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="9760" class="Symbol">(</a><a id="9761" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9774" href="Ledger.Conway.Conformance.Equivalence.html#9629" class="Bound">Γ</a><a id="9775" class="Symbol">)</a> <a id="9777" class="Symbol">(</a><a id="9778" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="9792" href="Ledger.Conway.Conformance.Equivalence.html#9633" class="Bound">s</a><a id="9793" class="Symbol">)</a> <a id="9795" href="Ledger.Conway.Conformance.Equivalence.html#9647" class="Bound">deposits</a> <a id="9804" href="Ledger.Conway.Conformance.Equivalence.html#9637" class="Bound">cert</a> <a id="9809" href="Ledger.Conway.Conformance.Equivalence.html#9656" class="Bound">wf</a><a id="9811" class="Symbol">)</a> <a id="9813" href="Ledger.Conway.Conformance.Equivalence.html#9698" class="Bound">rs</a><a id="9815" class="Symbol">)</a>
<a id="9817" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="9843" class="Symbol">{</a><a id="9844" href="Ledger.Conway.Conformance.Equivalence.html#9844" class="Bound">Γ</a><a id="9845" class="Symbol">}</a> <a id="9847" class="Symbol">{</a><a id="9848" href="Ledger.Conway.Conformance.Equivalence.html#9848" class="Bound">s</a><a id="9849" class="Symbol">}</a> <a id="9851" class="Symbol">{</a><a id="9852" href="Ledger.Conway.Conformance.Equivalence.html#9852" class="Bound">cert</a> <a id="9857" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9859" class="Symbol">_}</a> <a id="9862" href="Ledger.Conway.Conformance.Equivalence.html#9862" class="Bound">deposits</a> <a id="9871" href="Ledger.Conway.Conformance.Equivalence.html#9871" class="Bound">wf</a> <a id="9874" class="Symbol">(</a><a id="9875" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9881" class="Symbol">(</a><a id="9882" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="9894" class="Symbol">(</a><a id="9895" href="Ledger.Conway.Conformance.Certs.html#5098" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="9913" href="Ledger.Conway.Conformance.Equivalence.html#9913" class="Bound">x</a><a id="9914" class="Symbol">))</a> <a id="9917" href="Ledger.Conway.Conformance.Equivalence.html#9917" class="Bound">rs</a><a id="9919" class="Symbol">)</a>
  <a id="9923" class="Symbol">=</a> <a id="9925" href="Ledger.Conway.Specification.Utxo.html#3954" class="InductiveConstructor">L.regdrep</a> <a id="9935" class="Symbol">(</a><a id="9936" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="9962" class="Symbol">_</a> <a id="9964" class="Symbol">(</a><a id="9965" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="9976" class="Symbol">(</a><a id="9977" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="9990" href="Ledger.Conway.Conformance.Equivalence.html#9844" class="Bound">Γ</a><a id="9991" class="Symbol">)</a> <a id="9993" class="Symbol">(</a><a id="9994" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="10008" href="Ledger.Conway.Conformance.Equivalence.html#9848" class="Bound">s</a><a id="10009" class="Symbol">)</a> <a id="10011" href="Ledger.Conway.Conformance.Equivalence.html#9862" class="Bound">deposits</a> <a id="10020" href="Ledger.Conway.Conformance.Equivalence.html#9852" class="Bound">cert</a> <a id="10025" href="Ledger.Conway.Conformance.Equivalence.html#9871" class="Bound">wf</a><a id="10027" class="Symbol">)</a> <a id="10029" href="Ledger.Conway.Conformance.Equivalence.html#9917" class="Bound">rs</a><a id="10031" class="Symbol">)</a>
<a id="10033" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="10059" class="Symbol">{</a><a id="10060" href="Ledger.Conway.Conformance.Equivalence.html#10060" class="Bound">Γ</a><a id="10061" class="Symbol">}</a> <a id="10063" class="Symbol">{</a><a id="10064" href="Ledger.Conway.Conformance.Equivalence.html#10064" class="Bound">s</a><a id="10065" class="Symbol">}</a> <a id="10067" class="Symbol">{</a><a id="10068" href="Ledger.Conway.Conformance.Equivalence.html#10068" class="Bound">cert</a> <a id="10073" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10075" class="Symbol">_}</a> <a id="10078" href="Ledger.Conway.Conformance.Equivalence.html#10078" class="Bound">deposits</a> <a id="10087" href="Ledger.Conway.Conformance.Equivalence.html#10087" class="Bound">wf</a> <a id="10090" class="Symbol">(</a><a id="10091" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="10097" class="Symbol">(</a><a id="10098" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="10110" class="Symbol">(</a><a id="10111" href="Ledger.Conway.Conformance.Certs.html#5464" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="10131" class="Symbol">(_</a> <a id="10134" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10136" href="Ledger.Conway.Conformance.Equivalence.html#10136" class="Bound">h</a><a id="10137" class="Symbol">)))</a> <a id="10141" href="Ledger.Conway.Conformance.Equivalence.html#10141" class="Bound">rs</a><a id="10143" class="Symbol">)</a>
  <a id="10147" class="Symbol">=</a> <a id="10149" href="Ledger.Conway.Specification.Utxo.html#4566" class="InductiveConstructor">L.deregdrep</a> <a id="10161" class="Symbol">(</a><a id="10162" href="Axiom.Set.html#5784" class="Function">∈-filter</a> <a id="10171" class="Symbol">.</a><a id="10172" href="Function.Bundles.html#4832" class="Field">Equivalence.from</a> <a id="10189" class="Symbol">(</a><a id="10190" href="Ledger.Conway.Conformance.Equivalence.html#10087" class="Bound">wf</a> <a id="10193" class="Symbol">.</a><a id="10194" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10200" class="Symbol">.</a><a id="10201" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="10207" href="Ledger.Conway.Conformance.Equivalence.html#10136" class="Bound">h</a><a id="10208" class="Symbol">)</a> <a id="10210" class="Symbol">.</a><a id="10211" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="10216" class="Symbol">)</a>
                <a id="10234" class="Symbol">(</a><a id="10235" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="10261" class="Symbol">_</a> <a id="10263" class="Symbol">(</a><a id="10264" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="10275" class="Symbol">(</a><a id="10276" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="10289" href="Ledger.Conway.Conformance.Equivalence.html#10060" class="Bound">Γ</a><a id="10290" class="Symbol">)</a> <a id="10292" class="Symbol">(</a><a id="10293" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="10307" href="Ledger.Conway.Conformance.Equivalence.html#10064" class="Bound">s</a><a id="10308" class="Symbol">)</a> <a id="10310" href="Ledger.Conway.Conformance.Equivalence.html#10078" class="Bound">deposits</a> <a id="10319" href="Ledger.Conway.Conformance.Equivalence.html#10068" class="Bound">cert</a> <a id="10324" href="Ledger.Conway.Conformance.Equivalence.html#10087" class="Bound">wf</a><a id="10326" class="Symbol">)</a> <a id="10328" href="Ledger.Conway.Conformance.Equivalence.html#10141" class="Bound">rs</a><a id="10330" class="Symbol">)</a>
<a id="10332" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="10358" class="Symbol">{</a><a id="10359" href="Ledger.Conway.Conformance.Equivalence.html#10359" class="Bound">Γ</a><a id="10360" class="Symbol">}</a> <a id="10362" class="Symbol">{</a><a id="10363" href="Ledger.Conway.Conformance.Equivalence.html#10363" class="Bound">s</a><a id="10364" class="Symbol">}</a> <a id="10366" class="Symbol">{</a><a id="10367" href="Ledger.Conway.Conformance.Equivalence.html#10367" class="Bound">cert</a> <a id="10372" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10374" class="Symbol">_}</a> <a id="10377" href="Ledger.Conway.Conformance.Equivalence.html#10377" class="Bound">deposits</a> <a id="10386" href="Ledger.Conway.Conformance.Equivalence.html#10386" class="Bound">wf</a> <a id="10389" class="Symbol">(</a><a id="10390" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="10396" class="Symbol">(</a><a id="10397" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="10409" class="Symbol">(</a><a id="10410" href="Ledger.Conway.Conformance.Certs.html#5759" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="10429" href="Ledger.Conway.Conformance.Equivalence.html#10429" class="Bound">x</a><a id="10430" class="Symbol">))</a> <a id="10433" href="Ledger.Conway.Conformance.Equivalence.html#10433" class="Bound">rs</a><a id="10435" class="Symbol">)</a>
  <a id="10439" class="Symbol">=</a> <a id="10441" href="Ledger.Conway.Specification.Utxo.html#4773" class="InductiveConstructor">L.ccreghot</a><a id="10451" class="Symbol">(</a><a id="10452" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="10478" class="Symbol">_</a> <a id="10480" class="Symbol">(</a><a id="10481" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20846" class="Function">lemUpdCert</a> <a id="10492" class="Symbol">(</a><a id="10493" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">L.CertEnv.pp</a> <a id="10506" href="Ledger.Conway.Conformance.Equivalence.html#10359" class="Bound">Γ</a><a id="10507" class="Symbol">)</a> <a id="10509" class="Symbol">(</a><a id="10510" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="10524" href="Ledger.Conway.Conformance.Equivalence.html#10363" class="Bound">s</a><a id="10525" class="Symbol">)</a> <a id="10527" href="Ledger.Conway.Conformance.Equivalence.html#10377" class="Bound">deposits</a> <a id="10536" href="Ledger.Conway.Conformance.Equivalence.html#10367" class="Bound">cert</a> <a id="10541" href="Ledger.Conway.Conformance.Equivalence.html#10386" class="Bound">wf</a><a id="10543" class="Symbol">)</a> <a id="10545" href="Ledger.Conway.Conformance.Equivalence.html#10433" class="Bound">rs</a><a id="10547" class="Symbol">)</a>


<a id="getValidCertDepositsC"></a><a id="10551" href="Ledger.Conway.Conformance.Equivalence.html#10551" class="Function">getValidCertDepositsC</a> <a id="10573" class="Symbol">:</a> <a id="10575" class="Symbol">∀</a> <a id="10577" href="Ledger.Conway.Conformance.Equivalence.html#10577" class="Bound">Γ</a> <a id="10579" href="Ledger.Conway.Conformance.Equivalence.html#10579" class="Bound">s</a> <a id="10581" class="Symbol">{</a><a id="10582" href="Ledger.Conway.Conformance.Equivalence.html#10582" class="Bound">s&#39;</a><a id="10584" class="Symbol">}</a> <a id="10586" href="Ledger.Conway.Conformance.Equivalence.html#10586" class="Bound">tx</a>
                     <a id="10610" class="Symbol">→</a> <a id="10612" class="Symbol">(</a><a id="10613" class="Keyword">let</a> <a id="10617" class="Keyword">open</a> <a id="10622" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">C.LEnv</a> <a id="10629" href="Ledger.Conway.Conformance.Equivalence.html#10577" class="Bound">Γ</a> <a id="10631" class="Keyword">using</a> <a id="10637" class="Symbol">(</a><a id="10638" href="Ledger.Conway.Specification.Ledger.html#810" class="Field">pparams</a><a id="10645" class="Symbol">;</a> <a id="10647" href="Ledger.Conway.Specification.Ledger.html#752" class="Field">slot</a><a id="10651" class="Symbol">;</a> <a id="10653" href="Ledger.Conway.Specification.Ledger.html#836" class="Field">enactState</a><a id="10663" class="Symbol">)</a>
                            <a id="10693" class="Keyword">open</a> <a id="10698" href="Ledger.Conway.Specification.Transaction.html#3194" class="Module">TxBody</a> <a id="10705" class="Symbol">(</a><a id="10706" href="Ledger.Conway.Conformance.Equivalence.html#10586" class="Bound">tx</a> <a id="10709" class="Symbol">.</a><a id="10710" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">Tx.body</a><a id="10717" class="Symbol">)</a> <a id="10719" class="Keyword">using</a> <a id="10725" class="Symbol">(</a><a id="10726" href="Ledger.Conway.Specification.Transaction.html#3412" class="Field">txCerts</a><a id="10733" class="Symbol">;</a> <a id="10735" href="Ledger.Conway.Specification.Transaction.html#3661" class="Field">txGovVotes</a><a id="10745" class="Symbol">;</a> <a id="10747" href="Ledger.Conway.Specification.Transaction.html#3486" class="Field">txWithdrawals</a><a id="10760" class="Symbol">)</a>
                            <a id="10790" class="Keyword">open</a> <a id="10795" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="10804" href="Ledger.Conway.Conformance.Equivalence.html#10579" class="Bound">s</a>
                            <a id="10834" class="Keyword">open</a> <a id="10839" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">C.UTxOState</a> <a id="10851" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a> <a id="10858" class="Keyword">using</a> <a id="10864" class="Symbol">(</a><a id="10865" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="10873" class="Symbol">)</a>
                            <a id="10903" href="Ledger.Conway.Conformance.Equivalence.html#10903" class="Bound">cc</a> <a id="10906" class="Symbol">=</a> <a id="10908" href="Ledger.Conway.Specification.Ledger.html#3259" class="Function">C.allColdCreds</a> <a id="10923" href="Ledger.Conway.Conformance.Ledger.html#861" class="Function">govSt</a> <a id="10929" href="Ledger.Conway.Specification.Ledger.html#836" class="Function">enactState</a>
                       <a id="10963" class="Symbol">)</a>
                     <a id="10986" class="Symbol">→</a> <a id="10988" href="Ledger.Conway.Conformance.Equivalence.html#8167" class="Function">WellformedLState</a> <a id="11005" href="Ledger.Conway.Conformance.Equivalence.html#10579" class="Bound">s</a>
                     <a id="11028" class="Symbol">→</a> <a id="11030" href="Ledger.Conway.Specification.Transaction.html#4984" class="Field">isValid</a> <a id="11038" href="Ledger.Conway.Conformance.Equivalence.html#10586" class="Bound">tx</a> <a id="11041" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11043" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                     <a id="11069" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{11073}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#752}{\htmlId{11079}{\htmlClass{Function}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#810}{\htmlId{11086}{\htmlClass{Function}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3661}{\htmlId{11096}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#3486}{\htmlId{11109}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#10903}{\htmlId{11125}{\htmlClass{Bound}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="11130" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="11134" href="Ledger.Conway.Conformance.Ledger.html#887" class="Function">certState</a> <a id="11144" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="11147" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="11155" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="11163" href="Ledger.Conway.Conformance.Equivalence.html#10582" class="Bound">s&#39;</a>
                     <a id="11187" class="Symbol">→</a> <a id="11189" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="11209" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="11217" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a> <a id="11226" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a>
<a id="11234" href="Ledger.Conway.Conformance.Equivalence.html#10551" class="Function">getValidCertDepositsC</a> <a id="11256" href="Ledger.Conway.Conformance.Equivalence.html#11256" class="Bound">Γ</a> <a id="11258" href="Ledger.Conway.Conformance.Equivalence.html#11258" class="Bound">s</a> <a id="11260" href="Ledger.Conway.Conformance.Equivalence.html#11260" class="Bound">tx</a> <a id="11263" href="Ledger.Conway.Conformance.Equivalence.html#11263" class="Bound">wf</a> <a id="11266" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="11271" class="Symbol">(</a><a id="11272" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="11276" class="Symbol">{</a><a id="11277" class="Argument">s&#39;</a> <a id="11280" class="Symbol">=</a> <a id="11282" href="Ledger.Conway.Conformance.Equivalence.html#11282" class="Bound">s&#39;</a><a id="11284" class="Symbol">}</a> <a id="11286" class="Symbol">(</a><a id="11287" href="Ledger.Conway.Conformance.Certs.html#6773" class="InductiveConstructor">C.CERT-pre</a> <a id="11298" class="Symbol">_</a> <a id="11300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11302" href="Ledger.Conway.Conformance.Equivalence.html#11302" class="Bound">cert-post</a><a id="11311" class="Symbol">))</a> <a id="11314" class="Symbol">=</a>
  <a id="11318" href="Ledger.Conway.Conformance.Equivalence.html#8286" class="Function">getValidCertDepositsCERTS</a> <a id="11344" class="Symbol">(</a><a id="11345" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">C.UTxOState.deposits</a> <a id="11366" class="Symbol">((</a><a id="11368" href="Ledger.Conway.Conformance.Ledger.html#834" class="Field">C.LState.utxoSt</a> <a id="11384" href="Ledger.Conway.Conformance.Equivalence.html#11258" class="Bound">s</a><a id="11385" class="Symbol">)))</a> <a id="11389" href="Ledger.Conway.Conformance.Equivalence.html#11263" class="Bound">wf</a> <a id="11392" href="Ledger.Conway.Conformance.Equivalence.html#11302" class="Bound">cert-post</a>

<a id="lemUtxowDeposits"></a><a id="11403" href="Ledger.Conway.Conformance.Equivalence.html#11403" class="Function">lemUtxowDeposits</a> <a id="11420" class="Symbol">:</a> <a id="11422" class="Symbol">∀</a> <a id="11424" class="Symbol">{</a><a id="11425" href="Ledger.Conway.Conformance.Equivalence.html#11425" class="Bound">Γ</a> <a id="11427" href="Ledger.Conway.Conformance.Equivalence.html#11427" class="Bound">s</a> <a id="11429" href="Ledger.Conway.Conformance.Equivalence.html#11429" class="Bound">s&#39;</a> <a id="11432" href="Ledger.Conway.Conformance.Equivalence.html#11432" class="Bound">tx</a><a id="11434" class="Symbol">}</a>
                      <a id="11458" class="Symbol">(</a><a id="11459" class="Keyword">let</a> <a id="11463" class="Keyword">open</a> <a id="11468" href="Ledger.Conway.Specification.Utxo.html#1117" class="Module">C.UTxOEnv</a> <a id="11478" href="Ledger.Conway.Conformance.Equivalence.html#11425" class="Bound">Γ</a> <a id="11480" class="Keyword">using</a> <a id="11486" class="Symbol">(</a><a id="11487" href="Ledger.Conway.Specification.Utxo.html#1171" class="Field">pparams</a><a id="11494" class="Symbol">))</a>
                  <a id="11515" class="Symbol">→</a> <a id="11517" href="Ledger.Conway.Specification.Transaction.html#4984" class="Field">isValid</a> <a id="11525" href="Ledger.Conway.Conformance.Equivalence.html#11432" class="Bound">tx</a> <a id="11528" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11530" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                  <a id="11553" class="Symbol">→</a> <a id="11555" class="Symbol">(</a><a id="11556" href="Ledger.Conway.Conformance.Equivalence.html#11556" class="Bound">r</a> <a id="11558" class="Symbol">:</a> <a id="11560" href="Ledger.Conway.Conformance.Equivalence.html#11425" class="Bound">Γ</a> <a id="11562" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">C.⊢</a> <a id="11566" href="Ledger.Conway.Conformance.Equivalence.html#11427" class="Bound">s</a> <a id="11568" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">⇀⦇</a> <a id="11571" href="Ledger.Conway.Conformance.Equivalence.html#11432" class="Bound">tx</a> <a id="11574" href="Ledger.Conway.Conformance.Utxow.html#692" class="Datatype Operator">,UTXOW⦈</a> <a id="11582" href="Ledger.Conway.Conformance.Equivalence.html#11429" class="Bound">s&#39;</a><a id="11584" class="Symbol">)</a>
                  <a id="11604" class="Symbol">→</a> <a id="11606" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2077" class="Function">utxowDeposits</a> <a id="11620" href="Ledger.Conway.Conformance.Equivalence.html#11556" class="Bound">r</a> <a id="11622" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11624" href="Ledger.Conway.Specification.Utxo.html#8233" class="Function">L.updateDeposits</a> <a id="11641" href="Ledger.Conway.Specification.Utxo.html#1171" class="Function">pparams</a> <a id="11649" class="Symbol">(</a><a id="11650" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">body</a> <a id="11655" href="Ledger.Conway.Conformance.Equivalence.html#11432" class="Bound">tx</a><a id="11657" class="Symbol">)</a> <a id="11659" class="Symbol">(</a><a id="11660" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">C.UTxOState.deposits</a> <a id="11681" href="Ledger.Conway.Conformance.Equivalence.html#11429" class="Bound">s&#39;</a><a id="11683" class="Symbol">)</a>
<a id="11685" href="Ledger.Conway.Conformance.Equivalence.html#11403" class="Function">lemUtxowDeposits</a> <a id="11702" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="11707" class="Symbol">(</a><a id="11708" href="Ledger.Conway.Conformance.Utxow.html#3073" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
                        <a id="11745" class="Symbol">(</a><a id="11746" href="Ledger.Conway.Conformance.Utxo.html#4059" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="11764" class="Symbol">_</a> <a id="11766" class="Symbol">_</a> <a id="11768" class="Symbol">_</a> <a id="11770" class="Symbol">_</a> <a id="11772" class="Symbol">_</a> <a id="11774" class="Symbol">_</a> <a id="11776" class="Symbol">_</a> <a id="11778" class="Symbol">_</a> <a id="11780" class="Symbol">_</a> <a id="11782" class="Symbol">_</a> <a id="11784" class="Symbol">_</a> <a id="11786" class="Symbol">_</a> <a id="11788" class="Symbol">_</a> <a id="11790" class="Symbol">_</a> <a id="11792" class="Symbol">_</a> <a id="11794" class="Symbol">_</a> <a id="11796" class="Symbol">_</a> <a id="11798" class="Symbol">_</a> <a id="11800" class="Symbol">_</a> <a id="11802" class="Symbol">_</a> <a id="11804" class="Symbol">_</a>
                          <a id="11832" class="Symbol">(</a><a id="11833" href="Ledger.Conway.Conformance.Utxo.html#1227" class="InductiveConstructor">C.Scripts-Yes</a> <a id="11847" class="Symbol">_)))</a> <a id="11852" class="Symbol">=</a> <a id="11854" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="11860" class="Keyword">instance</a>

  <a id="LEDGERFromConf"></a><a id="11872" href="Ledger.Conway.Conformance.Equivalence.html#11872" class="Function">LEDGERFromConf</a> <a id="11887" class="Symbol">:</a> <a id="11889" class="Symbol">∀</a> <a id="11891" class="Symbol">{</a><a id="11892" href="Ledger.Conway.Conformance.Equivalence.html#11892" class="Bound">Γ</a> <a id="11894" href="Ledger.Conway.Conformance.Equivalence.html#11894" class="Bound">s</a> <a id="11896" href="Ledger.Conway.Conformance.Equivalence.html#11896" class="Bound">tx</a> <a id="11899" href="Ledger.Conway.Conformance.Equivalence.html#11899" class="Bound">s&#39;</a><a id="11901" class="Symbol">}</a> <a id="11903" class="Symbol">→</a> <a id="11905" href="Ledger.Conway.Conformance.Equivalence.html#8167" class="Function">WellformedLState</a> <a id="11922" href="Ledger.Conway.Conformance.Equivalence.html#11894" class="Bound">s</a>
                                    <a id="11960" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⊢</a> <a id="11962" href="Ledger.Conway.Conformance.Equivalence.html#11892" class="Bound">Γ</a> <a id="11964" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="11968" href="Ledger.Conway.Conformance.Equivalence.html#11894" class="Bound">s</a> <a id="11970" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="11973" href="Ledger.Conway.Conformance.Equivalence.html#11896" class="Bound">tx</a> <a id="11976" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="11985" href="Ledger.Conway.Conformance.Equivalence.html#11899" class="Bound">s&#39;</a>
                                    <a id="12024" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⭆</a> <a id="12026" href="Ledger.Conway.Conformance.Equivalence.html#11892" class="Bound">Γ</a> <a id="12028" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L.⊢</a> <a id="12032" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12037" href="Ledger.Conway.Conformance.Equivalence.html#11894" class="Bound">s</a> <a id="12039" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="12042" href="Ledger.Conway.Conformance.Equivalence.html#11896" class="Bound">tx</a> <a id="12045" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a id="12054" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12059" href="Ledger.Conway.Conformance.Equivalence.html#11899" class="Bound">s&#39;</a>
  <a id="12064" href="Ledger.Conway.Conformance.Equivalence.html#11872" class="Function">LEDGERFromConf</a> <a id="12079" class="Symbol">.</a><a id="12080" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="12086" class="Symbol">_</a> <a id="12088" class="Symbol">(</a><a id="12089" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="12101" href="Ledger.Conway.Conformance.Equivalence.html#12101" class="Bound">invalid</a> <a id="12109" href="Ledger.Conway.Conformance.Equivalence.html#12109" class="Bound">utxow</a><a id="12114" class="Symbol">)</a> <a id="12116" class="Keyword">with</a> <a id="12121" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="12126" href="Ledger.Conway.Conformance.Equivalence.html#12101" class="Bound">invalid</a> <a id="12134" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="12140" href="Ledger.Conway.Conformance.Equivalence.html#12109" class="Bound">utxow</a>
  <a id="12148" class="Symbol">...</a> <a id="12152" class="Symbol">|</a> <a id="12154" href="Ledger.Conway.Conformance.Equivalence.html#12154" class="Bound">utxow&#39;</a> <a id="12161" class="Keyword">rewrite</a> <a id="12169" href="Ledger.Conway.Conformance.Equivalence.html#2078" class="Function">lemInvalidDepositsC</a> <a id="12189" class="Bound">invalid</a> <a id="12197" class="Bound">utxow</a> <a id="12203" class="Symbol">=</a> <a id="12205" href="Ledger.Conway.Specification.Ledger.html#4866" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="12217" class="Bound">invalid</a> <a id="12225" href="Ledger.Conway.Conformance.Equivalence.html#12154" class="Bound">utxow&#39;</a>
  <a id="12234" href="Ledger.Conway.Conformance.Equivalence.html#11872" class="Function">LEDGERFromConf</a> <a id="12249" class="Symbol">{</a><a id="12250" href="Ledger.Conway.Conformance.Equivalence.html#12250" class="Bound">Γ</a><a id="12251" class="Symbol">}</a> <a id="12253" class="Symbol">{</a><a id="12254" href="Ledger.Conway.Conformance.Equivalence.html#12254" class="Bound">s</a><a id="12255" class="Symbol">}</a> <a id="12257" class="Symbol">{</a><a id="12258" href="Ledger.Conway.Conformance.Equivalence.html#12258" class="Bound">tx</a><a id="12260" class="Symbol">}</a> <a id="12262" class="Symbol">{</a><a id="12263" href="Ledger.Conway.Conformance.Equivalence.html#12263" class="Bound">s&#39;</a><a id="12265" class="Symbol">}</a> <a id="12267" class="Symbol">.</a><a id="12268" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="12274" href="Ledger.Conway.Conformance.Equivalence.html#12274" class="Bound">wf</a> <a id="12277" class="Symbol">(</a><a id="12278" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="12290" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12295" href="Ledger.Conway.Conformance.Equivalence.html#12295" class="Bound">utxow</a> <a id="12301" href="Ledger.Conway.Conformance.Equivalence.html#12301" class="Bound">certs</a> <a id="12307" href="Ledger.Conway.Conformance.Equivalence.html#12307" class="Bound">gov</a><a id="12310" class="Symbol">)</a> <a id="12312" class="Symbol">=</a>
    <a id="12318" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="12324" class="Symbol">(λ</a> <a id="12327" href="Ledger.Conway.Conformance.Equivalence.html#12327" class="Bound">•</a> <a id="12329" class="Symbol">→</a> <a id="12331" href="Ledger.Conway.Conformance.Equivalence.html#12250" class="Bound">Γ</a> <a id="12333" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L.⊢</a> <a id="12337" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12342" href="Ledger.Conway.Conformance.Equivalence.html#12254" class="Bound">s</a> <a id="12344" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="12347" href="Ledger.Conway.Conformance.Equivalence.html#12258" class="Bound">tx</a> <a id="12350" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.html#12327}{\htmlId{12361}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#12559}{\htmlId{12365}{\htmlClass{Function}{\text{govSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#452}{\htmlId{12374}{\htmlClass{Function}{\text{conv}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#12580}{\htmlId{12379}{\htmlClass{Function}{\text{certSt&#39;}}}}\, \end{pmatrix}$</a><a id="12388" class="Symbol">)</a> <a id="12390" href="Ledger.Conway.Conformance.Equivalence.html#12929" class="Function">eqUtxo</a> <a id="12397" href="Ledger.Conway.Conformance.Equivalence.html#13073" class="Function">ledger&#39;</a>
    <a id="12409" class="Keyword">where</a>
      <a id="12421" class="Keyword">open</a> <a id="12426" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">C.LEnv</a> <a id="12433" href="Ledger.Conway.Conformance.Equivalence.html#12250" class="Bound">Γ</a>

      <a id="12442" class="Keyword">open</a> <a id="12447" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="12456" href="Ledger.Conway.Conformance.Equivalence.html#12254" class="Bound">s</a> <a id="12458" class="Keyword">renaming</a> <a id="12467" class="Symbol">(</a><a id="12468" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="12478" class="Symbol">to</a> <a id="12481" class="Field">certSt</a><a id="12487" class="Symbol">)</a>
      <a id="12495" class="Keyword">open</a> <a id="12500" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="12509" href="Ledger.Conway.Conformance.Equivalence.html#12263" class="Bound">s&#39;</a> <a id="12512" class="Keyword">using</a> <a id="12518" class="Symbol">()</a> <a id="12521" class="Keyword">renaming</a> <a id="12530" class="Symbol">(</a><a id="12531" href="Ledger.Conway.Conformance.Ledger.html#834" class="Field">utxoSt</a> <a id="12538" class="Symbol">to</a> <a id="12541" class="Field">utxoSt&#39;</a><a id="12548" class="Symbol">;</a> <a id="12550" href="Ledger.Conway.Conformance.Ledger.html#861" class="Field">govSt</a> <a id="12556" class="Symbol">to</a> <a id="12559" class="Field">govSt&#39;</a><a id="12565" class="Symbol">;</a> <a id="12567" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="12577" class="Symbol">to</a> <a id="12580" class="Field">certSt&#39;</a><a id="12587" class="Symbol">)</a>

      <a id="12596" class="Keyword">open</a> <a id="12601" href="Ledger.Conway.Specification.Transaction.html#3194" class="Module">TxBody</a> <a id="12608" class="Symbol">(</a><a id="12609" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">body</a> <a id="12614" href="Ledger.Conway.Conformance.Equivalence.html#12258" class="Bound">tx</a><a id="12616" class="Symbol">)</a>
      <a id="12624" class="Keyword">open</a> <a id="12629" href="Ledger.Conway.Specification.Utxo.html#1226" class="Module">C.UTxOState</a> <a id="12641" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a> <a id="12648" class="Keyword">using</a> <a id="12654" class="Symbol">(</a><a id="12655" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">deposits</a><a id="12663" class="Symbol">)</a>

      <a id="12672" href="Ledger.Conway.Conformance.Equivalence.html#12672" class="Function">valid-deps</a> <a id="12683" class="Symbol">:</a> <a id="12685" href="Ledger.Conway.Specification.Utxo.html#3458" class="Datatype">L.ValidCertDeposits</a> <a id="12705" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="12713" href="Ledger.Conway.Specification.Utxo.html#1334" class="Function">deposits</a> <a id="12722" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a>
      <a id="12736" href="Ledger.Conway.Conformance.Equivalence.html#12672" class="Function">valid-deps</a> <a id="12747" class="Symbol">=</a> <a id="12749" href="Ledger.Conway.Conformance.Equivalence.html#10551" class="Function">getValidCertDepositsC</a> <a id="12771" href="Ledger.Conway.Conformance.Equivalence.html#12250" class="Bound">Γ</a> <a id="12773" href="Ledger.Conway.Conformance.Equivalence.html#12254" class="Bound">s</a> <a id="12775" href="Ledger.Conway.Conformance.Equivalence.html#12258" class="Bound">tx</a> <a id="12778" href="Ledger.Conway.Conformance.Equivalence.html#12274" class="Bound">wf</a> <a id="12781" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12786" href="Ledger.Conway.Conformance.Equivalence.html#12301" class="Bound">certs</a>

      <a id="12799" href="Ledger.Conway.Conformance.Equivalence.html#12799" class="Function">utxow&#39;</a> <a id="12806" class="Symbol">:</a> <a id="12808" class="Symbol">_</a> <a id="12810" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">L.⊢</a> <a id="12814" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a> <a id="12821" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">⇀⦇</a> <a id="12824" href="Ledger.Conway.Conformance.Equivalence.html#12258" class="Bound">tx</a> <a id="12827" href="Ledger.Conway.Specification.Utxow.html#3164" class="Datatype Operator">,UTXOW⦈</a> <a id="12835" class="Symbol">(</a><a id="12836" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="12848" class="Symbol">(</a><a id="12849" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2077" class="Function">utxowDeposits</a> <a id="12863" href="Ledger.Conway.Conformance.Equivalence.html#12295" class="Bound">utxow</a><a id="12868" class="Symbol">)</a> <a id="12870" href="Ledger.Conway.Conformance.Equivalence.html#12541" class="Function">utxoSt&#39;</a><a id="12877" class="Symbol">)</a>
      <a id="12885" href="Ledger.Conway.Conformance.Equivalence.html#12799" class="Function">utxow&#39;</a> <a id="12892" class="Symbol">=</a> <a id="12894" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="12899" href="Ledger.Conway.Conformance.Equivalence.html#12672" class="Function">valid-deps</a> <a id="12910" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="12916" href="Ledger.Conway.Conformance.Equivalence.html#12295" class="Bound">utxow</a>

      <a id="12929" href="Ledger.Conway.Conformance.Equivalence.html#12929" class="Function">eqUtxo</a> <a id="12936" class="Symbol">:</a> <a id="12938" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="12950" class="Symbol">(</a><a id="12951" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2077" class="Function">utxowDeposits</a> <a id="12965" href="Ledger.Conway.Conformance.Equivalence.html#12295" class="Bound">utxow</a><a id="12970" class="Symbol">)</a> <a id="12972" href="Ledger.Conway.Conformance.Equivalence.html#12541" class="Function">utxoSt&#39;</a> <a id="12980" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12982" href="Ledger.Conway.Conformance.Equivalence.html#12541" class="Function">utxoSt&#39;</a>
      <a id="12996" href="Ledger.Conway.Conformance.Equivalence.html#12929" class="Function">eqUtxo</a> <a id="13003" class="Symbol">=</a> <a id="13005" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="13010" class="Symbol">(λ</a> <a id="13013" href="Ledger.Conway.Conformance.Equivalence.html#13013" class="Bound">•</a> <a id="13015" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{13019}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{13023}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#13013}{\htmlId{13027}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{13031}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="13034" class="Symbol">)</a> <a id="13036" class="Symbol">(</a><a id="13037" href="Ledger.Conway.Conformance.Equivalence.html#11403" class="Function">lemUtxowDeposits</a> <a id="13054" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="13059" href="Ledger.Conway.Conformance.Equivalence.html#12295" class="Bound">utxow</a><a id="13064" class="Symbol">)</a>

      <a id="13073" href="Ledger.Conway.Conformance.Equivalence.html#13073" class="Function">ledger&#39;</a> <a id="13081" class="Symbol">:</a> <a id="13083" href="Ledger.Conway.Conformance.Equivalence.html#12250" class="Bound">Γ</a> <a id="13085" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L.⊢</a> <a id="13089" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13094" href="Ledger.Conway.Conformance.Equivalence.html#12254" class="Bound">s</a> <a id="13096" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">⇀⦇</a> <a id="13099" href="Ledger.Conway.Conformance.Equivalence.html#12258" class="Bound">tx</a> <a id="13102" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">,LEDGER⦈</a> <a id="13111" href="Ledger.Conway.Specification.Ledger.html#1024" class="InductiveConstructor Operator">L.⟦</a> <a id="13115" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1052" class="Function">setDeposits</a> <a id="13127" class="Symbol">(</a><a id="13128" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2077" class="Function">utxowDeposits</a> <a id="13142" href="Ledger.Conway.Conformance.Equivalence.html#12295" class="Bound">utxow</a><a id="13147" class="Symbol">)</a> <a id="13149" href="Ledger.Conway.Conformance.Equivalence.html#12541" class="Function">utxoSt&#39;</a>
                                              <a id="13203" href="Ledger.Conway.Specification.Ledger.html#1024" class="InductiveConstructor Operator">,</a> <a id="13205" href="Ledger.Conway.Conformance.Equivalence.html#12559" class="Function">govSt&#39;</a>
                                              <a id="13258" href="Ledger.Conway.Specification.Ledger.html#1024" class="InductiveConstructor Operator">,</a> <a id="13260" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13265" href="Ledger.Conway.Conformance.Equivalence.html#12580" class="Function">certSt&#39;</a> <a id="13273" href="Ledger.Conway.Specification.Ledger.html#1024" class="InductiveConstructor Operator">⟧ˡ</a>
      <a id="13282" href="Ledger.Conway.Conformance.Equivalence.html#13073" class="Function">ledger&#39;</a> <a id="13290" class="Symbol">=</a> <a id="13292" href="Ledger.Conway.Specification.Ledger.html#4813" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="13304" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="13309" href="Ledger.Conway.Conformance.Equivalence.html#12799" class="Function">utxow&#39;</a> <a id="13316" class="Symbol">(</a><a id="13317" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13322" href="Ledger.Conway.Conformance.Equivalence.html#12301" class="Bound">certs</a><a id="13327" class="Symbol">)</a> <a id="13329" href="Ledger.Conway.Conformance.Equivalence.html#12307" class="Bound">gov</a>

<a id="13334" class="Keyword">open</a> <a id="13339" href="Relation.Binary.Structures.html#1595" class="Module">IsEquivalence</a> <a id="13353" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13061" class="Function">≡ᵈ-isEquivalence</a> <a id="13370" class="Keyword">renaming</a> <a id="13379" class="Symbol">(</a><a id="13380" href="Relation.Binary.Structures.html#1641" class="Field">refl</a> <a id="13385" class="Symbol">to</a> <a id="13388" class="Field">≡ᵈ-refl</a><a id="13395" class="Symbol">;</a> <a id="13397" href="Relation.Binary.Structures.html#1667" class="Field">sym</a> <a id="13401" class="Symbol">to</a> <a id="13404" class="Field">≡ᵈ-sym</a><a id="13410" class="Symbol">;</a> <a id="13412" href="Relation.Binary.Structures.html#1693" class="Field">trans</a> <a id="13418" class="Symbol">to</a> <a id="13421" class="Field">≡ᵈ-trans</a><a id="13429" class="Symbol">)</a>

<a id="lemCERTS&#39;DepositsC"></a><a id="13432" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="13451" class="Symbol">:</a> <a id="13453" class="Symbol">∀</a> <a id="13455" class="Symbol">{</a><a id="13456" href="Ledger.Conway.Conformance.Equivalence.html#13456" class="Bound">Γ</a> <a id="13458" href="Ledger.Conway.Conformance.Equivalence.html#13458" class="Bound">s</a> <a id="13460" href="Ledger.Conway.Conformance.Equivalence.html#13460" class="Bound">dcerts</a> <a id="13467" href="Ledger.Conway.Conformance.Equivalence.html#13467" class="Bound">s&#39;</a><a id="13469" class="Symbol">}</a> <a id="13471" class="Symbol">(</a><a id="13472" class="Keyword">open</a> <a id="13477" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="13487" href="Ledger.Conway.Conformance.Equivalence.html#13456" class="Bound">Γ</a> <a id="13489" class="Keyword">using</a> <a id="13495" class="Symbol">(</a><a id="13496" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="13498" class="Symbol">))</a>
                   <a id="13520" class="Symbol">→</a> <a id="13522" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="13538" href="Ledger.Conway.Conformance.Certs.html#6050" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="13554" href="Ledger.Conway.Conformance.Certs.html#7440" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="13575" href="Ledger.Conway.Conformance.Equivalence.html#13456" class="Bound">Γ</a> <a id="13577" href="Ledger.Conway.Conformance.Equivalence.html#13458" class="Bound">s</a> <a id="13579" href="Ledger.Conway.Conformance.Equivalence.html#13460" class="Bound">dcerts</a> <a id="13586" href="Ledger.Conway.Conformance.Equivalence.html#13467" class="Bound">s&#39;</a>
                   <a id="13608" class="Symbol">→</a> <a id="13610" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="13624" href="Ledger.Conway.Conformance.Equivalence.html#13467" class="Bound">s&#39;</a> <a id="13627" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13629" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="13631" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="13643" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="13646" href="Ledger.Conway.Conformance.Equivalence.html#13460" class="Bound">dcerts</a> <a id="13653" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="13655" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="13667" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="13670" href="Ledger.Conway.Conformance.Equivalence.html#13460" class="Bound">dcerts</a> <a id="13677" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="13679" class="Symbol">(</a><a id="13680" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="13694" href="Ledger.Conway.Conformance.Equivalence.html#13458" class="Bound">s</a><a id="13695" class="Symbol">)</a>
<a id="13697" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="13716" class="Symbol">(</a><a id="13717" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="13724" href="Ledger.Conway.Conformance.Certs.html#7513" class="InductiveConstructor">C.CERT-post</a><a id="13735" class="Symbol">)</a> <a id="13737" class="Symbol">=</a> <a id="13739" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="13744" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="13763" class="Symbol">(</a><a id="13764" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13770" class="Symbol">(</a><a id="13771" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13785" class="Symbol">(</a><a id="13786" href="Ledger.Conway.Conformance.Certs.html#3708" class="InductiveConstructor">C.DELEG-delegate</a>     <a id="13807" class="Symbol">_))</a> <a id="13811" href="Ledger.Conway.Conformance.Equivalence.html#13811" class="Bound">rs</a><a id="13813" class="Symbol">)</a> <a id="13815" class="Symbol">=</a> <a id="13817" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="13836" href="Ledger.Conway.Conformance.Equivalence.html#13811" class="Bound">rs</a>
<a id="13839" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="13858" class="Symbol">(</a><a id="13859" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13865" class="Symbol">(</a><a id="13866" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13880" class="Symbol">(</a><a id="13881" href="Ledger.Conway.Conformance.Certs.html#4345" class="InductiveConstructor">C.DELEG-dereg</a>        <a id="13902" class="Symbol">_))</a> <a id="13906" href="Ledger.Conway.Conformance.Equivalence.html#13906" class="Bound">rs</a><a id="13908" class="Symbol">)</a> <a id="13910" class="Symbol">=</a> <a id="13912" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="13931" href="Ledger.Conway.Conformance.Equivalence.html#13906" class="Bound">rs</a>
<a id="13934" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="13953" class="Symbol">(</a><a id="13954" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13960" class="Symbol">(</a><a id="13961" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13975" class="Symbol">(</a><a id="13976" href="Ledger.Conway.Conformance.Certs.html#4709" class="InductiveConstructor">C.DELEG-reg</a>          <a id="13997" class="Symbol">_))</a> <a id="14001" href="Ledger.Conway.Conformance.Equivalence.html#14001" class="Bound">rs</a><a id="14003" class="Symbol">)</a> <a id="14005" class="Symbol">=</a> <a id="14007" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="14026" href="Ledger.Conway.Conformance.Equivalence.html#14001" class="Bound">rs</a>
<a id="14029" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="14048" class="Symbol">(</a><a id="14049" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14055" class="Symbol">(</a><a id="14056" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a>   <a id="14070" href="Ledger.Conway.Specification.Certs.html#9187" class="InductiveConstructor">L.POOL-regpool</a>          <a id="14094" class="Symbol">)</a> <a id="14096" href="Ledger.Conway.Conformance.Equivalence.html#14096" class="Bound">rs</a><a id="14098" class="Symbol">)</a> <a id="14100" class="Symbol">=</a> <a id="14102" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="14121" href="Ledger.Conway.Conformance.Equivalence.html#14096" class="Bound">rs</a>
<a id="14124" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="14143" class="Symbol">(</a><a id="14144" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14150" class="Symbol">(</a><a id="14151" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a>    <a id="14166" href="Ledger.Conway.Specification.Certs.html#9578" class="InductiveConstructor">C.POOL-retirepool</a>     <a id="14188" class="Symbol">)</a>  <a id="14191" href="Ledger.Conway.Conformance.Equivalence.html#14191" class="Bound">rs</a><a id="14193" class="Symbol">)</a> <a id="14195" class="Symbol">=</a> <a id="14197" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="14216" href="Ledger.Conway.Conformance.Equivalence.html#14191" class="Bound">rs</a>
<a id="14219" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="14238" class="Symbol">(</a><a id="14239" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14245" class="Symbol">(</a><a id="14246" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14260" class="Symbol">(</a><a id="14261" href="Ledger.Conway.Conformance.Certs.html#5098" class="InductiveConstructor">C.GOVCERT-regdrep</a>    <a id="14282" class="Symbol">_))</a> <a id="14286" href="Ledger.Conway.Conformance.Equivalence.html#14286" class="Bound">rs</a><a id="14288" class="Symbol">)</a> <a id="14290" class="Symbol">=</a> <a id="14292" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="14311" href="Ledger.Conway.Conformance.Equivalence.html#14286" class="Bound">rs</a>
<a id="14314" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="14333" class="Symbol">(</a><a id="14334" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14340" class="Symbol">(</a><a id="14341" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14355" class="Symbol">(</a><a id="14356" href="Ledger.Conway.Conformance.Certs.html#5464" class="InductiveConstructor">C.GOVCERT-deregdrep</a>  <a id="14377" class="Symbol">_))</a> <a id="14381" href="Ledger.Conway.Conformance.Equivalence.html#14381" class="Bound">rs</a><a id="14383" class="Symbol">)</a> <a id="14385" class="Symbol">=</a> <a id="14387" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="14406" href="Ledger.Conway.Conformance.Equivalence.html#14381" class="Bound">rs</a>
<a id="14409" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="14428" class="Symbol">(</a><a id="14429" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14435" class="Symbol">(</a><a id="14436" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14450" class="Symbol">(</a><a id="14451" href="Ledger.Conway.Conformance.Certs.html#5759" class="InductiveConstructor">C.GOVCERT-ccreghot</a>   <a id="14472" class="Symbol">_))</a> <a id="14476" href="Ledger.Conway.Conformance.Equivalence.html#14476" class="Bound">rs</a><a id="14478" class="Symbol">)</a> <a id="14480" class="Symbol">=</a> <a id="14482" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="14501" href="Ledger.Conway.Conformance.Equivalence.html#14476" class="Bound">rs</a>

<a id="lemCERTSDepositsC"></a><a id="14505" href="Ledger.Conway.Conformance.Equivalence.html#14505" class="Function">lemCERTSDepositsC</a> <a id="14523" class="Symbol">:</a> <a id="14525" class="Symbol">∀</a> <a id="14527" class="Symbol">{</a><a id="14528" href="Ledger.Conway.Conformance.Equivalence.html#14528" class="Bound">Γ</a> <a id="14530" href="Ledger.Conway.Conformance.Equivalence.html#14530" class="Bound">s</a> <a id="14532" href="Ledger.Conway.Conformance.Equivalence.html#14532" class="Bound">txCerts</a> <a id="14540" href="Ledger.Conway.Conformance.Equivalence.html#14540" class="Bound">s&#39;</a><a id="14542" class="Symbol">}</a> <a id="14544" class="Symbol">(</a><a id="14545" class="Keyword">open</a> <a id="14550" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="14560" href="Ledger.Conway.Conformance.Equivalence.html#14528" class="Bound">Γ</a> <a id="14562" class="Keyword">using</a> <a id="14568" class="Symbol">(</a><a id="14569" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="14571" class="Symbol">))</a>
                  <a id="14592" class="Symbol">→</a> <a id="14594" href="Ledger.Conway.Conformance.Equivalence.html#14528" class="Bound">Γ</a> <a id="14596" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="14600" href="Ledger.Conway.Conformance.Equivalence.html#14530" class="Bound">s</a> <a id="14602" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="14605" href="Ledger.Conway.Conformance.Equivalence.html#14532" class="Bound">txCerts</a> <a id="14613" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="14621" href="Ledger.Conway.Conformance.Equivalence.html#14540" class="Bound">s&#39;</a>
                  <a id="14642" class="Symbol">→</a> <a id="14644" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="14658" href="Ledger.Conway.Conformance.Equivalence.html#14540" class="Bound">s&#39;</a> <a id="14661" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14663" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="14665" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="14677" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="14680" href="Ledger.Conway.Conformance.Equivalence.html#14532" class="Bound">txCerts</a> <a id="14688" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="14690" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="14702" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="14705" href="Ledger.Conway.Conformance.Equivalence.html#14532" class="Bound">txCerts</a> <a id="14713" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="14715" class="Symbol">(</a><a id="14716" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="14730" href="Ledger.Conway.Conformance.Equivalence.html#14530" class="Bound">s</a><a id="14731" class="Symbol">)</a>
<a id="14733" href="Ledger.Conway.Conformance.Equivalence.html#14505" class="Function">lemCERTSDepositsC</a> <a id="14751" class="Symbol">(</a><a id="14752" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="14756" class="Symbol">(</a><a id="14757" href="Ledger.Conway.Conformance.Certs.html#6773" class="InductiveConstructor">C.CERT-pre</a> <a id="14768" class="Symbol">_</a> <a id="14770" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14772" href="Ledger.Conway.Conformance.Equivalence.html#14772" class="Bound">step</a><a id="14776" class="Symbol">))</a> <a id="14779" class="Symbol">=</a> <a id="14781" href="Ledger.Conway.Conformance.Equivalence.html#13432" class="Function">lemCERTS&#39;DepositsC</a> <a id="14800" href="Ledger.Conway.Conformance.Equivalence.html#14772" class="Bound">step</a>

<a id="lemWellformed"></a><a id="14806" href="Ledger.Conway.Conformance.Equivalence.html#14806" class="Function">lemWellformed</a> <a id="14820" class="Symbol">:</a> <a id="14822" class="Symbol">∀</a> <a id="14824" class="Symbol">{</a><a id="14825" href="Ledger.Conway.Conformance.Equivalence.html#14825" class="Bound">Γ</a> <a id="14827" href="Ledger.Conway.Conformance.Equivalence.html#14827" class="Bound">s</a> <a id="14829" href="Ledger.Conway.Conformance.Equivalence.html#14829" class="Bound">tx</a> <a id="14832" href="Ledger.Conway.Conformance.Equivalence.html#14832" class="Bound">s&#39;</a><a id="14834" class="Symbol">}</a> <a id="14836" class="Symbol">→</a> <a id="14838" href="Ledger.Conway.Conformance.Equivalence.html#8167" class="Function">WellformedLState</a> <a id="14855" href="Ledger.Conway.Conformance.Equivalence.html#14827" class="Bound">s</a> <a id="14857" class="Symbol">→</a> <a id="14859" href="Ledger.Conway.Conformance.Equivalence.html#14825" class="Bound">Γ</a> <a id="14861" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="14865" href="Ledger.Conway.Conformance.Equivalence.html#14827" class="Bound">s</a> <a id="14867" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="14870" href="Ledger.Conway.Conformance.Equivalence.html#14829" class="Bound">tx</a> <a id="14873" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="14882" href="Ledger.Conway.Conformance.Equivalence.html#14832" class="Bound">s&#39;</a> <a id="14885" class="Symbol">→</a> <a id="14887" href="Ledger.Conway.Conformance.Equivalence.html#8167" class="Function">WellformedLState</a> <a id="14904" href="Ledger.Conway.Conformance.Equivalence.html#14832" class="Bound">s&#39;</a>
<a id="14907" href="Ledger.Conway.Conformance.Equivalence.html#14806" class="Function">lemWellformed</a> <a id="14921" class="Symbol">{</a><a id="14922" href="Ledger.Conway.Conformance.Equivalence.html#14922" class="Bound">Γ</a><a id="14923" class="Symbol">}</a> <a id="14925" class="Symbol">{</a><a id="14926" class="Argument">s</a> <a id="14928" class="Symbol">=</a> <a id="14930" href="Ledger.Conway.Conformance.Equivalence.html#14930" class="Bound">ls</a><a id="14932" class="Symbol">}</a> <a id="14934" class="Symbol">{</a><a id="14935" href="Ledger.Conway.Conformance.Equivalence.html#14935" class="Bound">tx</a><a id="14937" class="Symbol">}</a> <a id="14939" class="Symbol">{</a><a id="14940" class="Argument">s&#39;</a> <a id="14943" class="Symbol">=</a> <a id="14945" href="Ledger.Conway.Conformance.Equivalence.html#14945" class="Bound">ls&#39;</a><a id="14948" class="Symbol">}</a> <a id="14950" href="Ledger.Conway.Conformance.Equivalence.html#14950" class="Bound">wf</a> <a id="14953" class="Symbol">(</a><a id="14954" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="14966" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="14971" href="Ledger.Conway.Conformance.Equivalence.html#14971" class="Bound">utxo</a> <a id="14976" href="Ledger.Conway.Conformance.Equivalence.html#14976" class="Bound">certs</a> <a id="14982" href="Ledger.Conway.Conformance.Equivalence.html#14982" class="Bound">gov</a><a id="14985" class="Symbol">)</a> <a id="14987" class="Symbol">=</a> <a id="14989" href="Ledger.Conway.Conformance.Equivalence.html#16258" class="Function">goal</a>
  <a id="14996" class="Keyword">where</a>
    <a id="15006" class="Keyword">open</a> <a id="15011" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="15020" href="Ledger.Conway.Conformance.Equivalence.html#14930" class="Bound">ls</a>  <a id="15024" class="Keyword">renaming</a> <a id="15033" class="Symbol">(</a><a id="15034" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="15044" class="Symbol">to</a> <a id="15047" class="Field">certSt</a><a id="15053" class="Symbol">)</a>
    <a id="15059" class="Keyword">open</a> <a id="15064" href="Ledger.Conway.Conformance.Ledger.html#779" class="Module">C.LState</a> <a id="15073" href="Ledger.Conway.Conformance.Equivalence.html#14945" class="Bound">ls&#39;</a> <a id="15077" class="Keyword">renaming</a> <a id="15086" class="Symbol">(</a><a id="15087" href="Ledger.Conway.Conformance.Ledger.html#834" class="Field">utxoSt</a> <a id="15094" class="Symbol">to</a> <a id="15097" class="Field">utxoSt&#39;</a><a id="15104" class="Symbol">;</a> <a id="15106" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">certState</a> <a id="15116" class="Symbol">to</a> <a id="15119" class="Field">certSt&#39;</a><a id="15126" class="Symbol">)</a>
    <a id="15132" class="Keyword">open</a> <a id="15137" href="Ledger.Conway.Specification.Ledger.html#722" class="Module">L.LEnv</a> <a id="15144" href="Ledger.Conway.Conformance.Equivalence.html#14922" class="Bound">Γ</a> <a id="15146" class="Keyword">using</a> <a id="15152" class="Symbol">(</a><a id="15153" href="Ledger.Conway.Specification.Ledger.html#810" class="Field">pparams</a><a id="15160" class="Symbol">)</a>
    <a id="15166" class="Keyword">open</a> <a id="15171" href="Ledger.Conway.Specification.Transaction.html#3194" class="Module">TxBody</a> <a id="15178" class="Symbol">(</a><a id="15179" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">body</a> <a id="15184" href="Ledger.Conway.Conformance.Equivalence.html#14935" class="Bound">tx</a><a id="15186" class="Symbol">)</a>

    <a id="15193" href="Ledger.Conway.Conformance.Equivalence.html#15193" class="Function">deposits</a>  <a id="15203" class="Symbol">=</a> <a id="15205" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="15226" href="Ledger.Conway.Conformance.Ledger.html#834" class="Function">utxoSt</a>
    <a id="15237" href="Ledger.Conway.Conformance.Equivalence.html#15237" class="Function">deposits&#39;</a> <a id="15247" class="Symbol">=</a> <a id="15249" href="Ledger.Conway.Specification.Utxo.html#1334" class="Field">L.UTxOState.deposits</a> <a id="15270" href="Ledger.Conway.Conformance.Equivalence.html#15097" class="Function">utxoSt&#39;</a>

    <a id="15283" href="Ledger.Conway.Conformance.Equivalence.html#15283" class="Function">depositsL&#39;</a> <a id="15294" class="Symbol">=</a> <a id="15296" href="Ledger.Conway.Specification.Utxo.html#8233" class="Function">L.updateDeposits</a> <a id="15313" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15321" class="Symbol">(</a><a id="15322" href="Ledger.Conway.Specification.Transaction.html#4912" class="Field">body</a> <a id="15327" href="Ledger.Conway.Conformance.Equivalence.html#14935" class="Bound">tx</a><a id="15329" class="Symbol">)</a> <a id="15331" href="Ledger.Conway.Conformance.Equivalence.html#15193" class="Function">deposits</a>

    <a id="15345" href="Ledger.Conway.Conformance.Equivalence.html#15345" class="Function">ddeps</a> <a id="15351" class="Symbol">=</a> <a id="15353" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="15367" href="Ledger.Conway.Conformance.Equivalence.html#15047" class="Function">certSt</a> <a id="15374" class="Symbol">.</a><a id="15375" href="Data.Product.Base.html#636" class="Field">proj₁</a>
    <a id="15385" href="Ledger.Conway.Conformance.Equivalence.html#15385" class="Function">gdeps</a> <a id="15391" class="Symbol">=</a> <a id="15393" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="15407" href="Ledger.Conway.Conformance.Equivalence.html#15047" class="Function">certSt</a> <a id="15414" class="Symbol">.</a><a id="15415" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="15426" href="Ledger.Conway.Conformance.Equivalence.html#15426" class="Function">ddeps&#39;</a> <a id="15433" class="Symbol">=</a> <a id="15435" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="15449" href="Ledger.Conway.Conformance.Equivalence.html#15119" class="Function">certSt&#39;</a> <a id="15457" class="Symbol">.</a><a id="15458" href="Data.Product.Base.html#636" class="Field">proj₁</a>
    <a id="15468" href="Ledger.Conway.Conformance.Equivalence.html#15468" class="Function">gdeps&#39;</a> <a id="15475" class="Symbol">=</a> <a id="15477" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="15491" href="Ledger.Conway.Conformance.Equivalence.html#15119" class="Function">certSt&#39;</a> <a id="15499" class="Symbol">.</a><a id="15500" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="15511" href="Ledger.Conway.Conformance.Equivalence.html#15511" class="Function">lem</a> <a id="15515" class="Symbol">:</a> <a id="15517" href="Ledger.Conway.Conformance.Equivalence.html#15237" class="Function">deposits&#39;</a> <a id="15527" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15529" href="Ledger.Conway.Conformance.Equivalence.html#15283" class="Function">depositsL&#39;</a>
    <a id="15544" href="Ledger.Conway.Conformance.Equivalence.html#15511" class="Function">lem</a> <a id="15548" class="Keyword">rewrite</a> <a id="15556" href="Ledger.Conway.Conformance.Equivalence.html#2539" class="Function">lemDepositsC</a> <a id="15569" href="Ledger.Conway.Conformance.Equivalence.html#14971" class="Bound">utxo</a> <a id="15574" class="Symbol">=</a> <a id="15576" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

    <a id="15586" href="Ledger.Conway.Conformance.Equivalence.html#15586" class="Function">lem₁</a> <a id="15591" class="Symbol">:</a> <a id="15593" class="Symbol">(</a><a id="15594" href="Ledger.Conway.Conformance.Equivalence.html#15426" class="Function">ddeps&#39;</a> <a id="15601" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15603" href="Ledger.Conway.Conformance.Equivalence.html#15468" class="Function">gdeps&#39;</a><a id="15609" class="Symbol">)</a> <a id="15611" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15613" class="Symbol">(</a><a id="15614" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="15626" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15634" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="15642" href="Ledger.Conway.Conformance.Equivalence.html#15345" class="Function">ddeps</a> <a id="15648" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15650" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="15662" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15670" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="15678" href="Ledger.Conway.Conformance.Equivalence.html#15385" class="Function">gdeps</a><a id="15683" class="Symbol">)</a>
    <a id="15689" href="Ledger.Conway.Conformance.Equivalence.html#15586" class="Function">lem₁</a> <a id="15694" class="Symbol">=</a> <a id="15696" href="Ledger.Conway.Conformance.Equivalence.html#14505" class="Function">lemCERTSDepositsC</a> <a id="15714" href="Ledger.Conway.Conformance.Equivalence.html#14976" class="Bound">certs</a>

    <a id="15725" href="Ledger.Conway.Conformance.Equivalence.html#15725" class="Function">lem₂</a> <a id="15730" class="Symbol">:</a>  <a id="15733" class="Symbol">(</a><a id="15734" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="15746" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15754" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="15762" class="Symbol">(</a><a id="15763" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="15773" href="Ledger.Conway.Conformance.Equivalence.html#15193" class="Function">deposits</a><a id="15781" class="Symbol">)</a> <a id="15783" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15785" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="15797" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15805" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="15813" class="Symbol">(</a><a id="15814" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="15824" href="Ledger.Conway.Conformance.Equivalence.html#15193" class="Function">deposits</a><a id="15832" class="Symbol">))</a>
         <a id="15844" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="15847" class="Symbol">(</a><a id="15848" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="15858" href="Ledger.Conway.Conformance.Equivalence.html#15237" class="Function">deposits&#39;</a> <a id="15868" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15870" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="15880" href="Ledger.Conway.Conformance.Equivalence.html#15237" class="Function">deposits&#39;</a><a id="15889" class="Symbol">)</a>
    <a id="15895" href="Ledger.Conway.Conformance.Equivalence.html#15725" class="Function">lem₂</a> <a id="15900" class="Keyword">rewrite</a> <a id="15908" href="Ledger.Conway.Conformance.Equivalence.html#15511" class="Function">lem</a> <a id="15912" class="Symbol">=</a> <a id="15914" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#19246" class="Function">lem-upd-ddeps</a> <a id="15928" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15936" href="Ledger.Conway.Conformance.Equivalence.html#15193" class="Function">deposits</a> <a id="15945" href="Ledger.Conway.Conformance.Equivalence.html#14935" class="Bound">tx</a> <a id="15948" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15950" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20035" class="Function">lem-upd-gdeps</a> <a id="15964" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="15972" href="Ledger.Conway.Conformance.Equivalence.html#15193" class="Function">deposits</a> <a id="15981" href="Ledger.Conway.Conformance.Equivalence.html#14935" class="Bound">tx</a>

    <a id="15989" href="Ledger.Conway.Conformance.Equivalence.html#15989" class="Function">lem₃</a> <a id="15994" class="Symbol">:</a>  <a id="15997" class="Symbol">(</a><a id="15998" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="16010" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="16018" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="16026" href="Ledger.Conway.Conformance.Equivalence.html#15345" class="Function">ddeps</a> <a id="16032" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16034" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="16046" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="16054" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="16062" href="Ledger.Conway.Conformance.Equivalence.html#15385" class="Function">gdeps</a><a id="16067" class="Symbol">)</a>
         <a id="16078" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="16081" class="Symbol">(</a><a id="16082" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="16094" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="16102" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="16110" class="Symbol">(</a><a id="16111" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="16121" href="Ledger.Conway.Conformance.Equivalence.html#15193" class="Function">deposits</a><a id="16129" class="Symbol">)</a> <a id="16131" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16133" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="16145" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="16153" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="16161" class="Symbol">(</a><a id="16162" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="16172" href="Ledger.Conway.Conformance.Equivalence.html#15193" class="Function">deposits</a><a id="16180" class="Symbol">))</a>
    <a id="16187" href="Ledger.Conway.Conformance.Equivalence.html#15989" class="Function">lem₃</a> <a id="16192" class="Symbol">=</a> <a id="16194" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="16196" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14211" class="Function">cong-updateDDeps</a> <a id="16213" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="16221" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="16223" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#15197" class="Function">cong-updateGDeps</a> <a id="16240" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="16248" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="16250" href="Ledger.Conway.Conformance.Equivalence.html#14950" class="Bound">wf</a>

    <a id="16258" href="Ledger.Conway.Conformance.Equivalence.html#16258" class="Function">goal</a> <a id="16263" class="Symbol">:</a> <a id="16265" class="Symbol">(</a><a id="16266" href="Ledger.Conway.Conformance.Equivalence.html#15426" class="Function">ddeps&#39;</a> <a id="16273" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16275" href="Ledger.Conway.Conformance.Equivalence.html#15468" class="Function">gdeps&#39;</a><a id="16281" class="Symbol">)</a> <a id="16283" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="16286" class="Symbol">(</a><a id="16287" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="16297" href="Ledger.Conway.Conformance.Equivalence.html#15237" class="Function">deposits&#39;</a> <a id="16307" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16309" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="16319" href="Ledger.Conway.Conformance.Equivalence.html#15237" class="Function">deposits&#39;</a><a id="16328" class="Symbol">)</a>
    <a id="16334" href="Ledger.Conway.Conformance.Equivalence.html#16258" class="Function">goal</a> <a id="16339" class="Keyword">with</a> <a id="16344" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="16351" href="Ledger.Conway.Conformance.Equivalence.html#15586" class="Function">lem₁</a> <a id="16356" class="Symbol">=</a> <a id="16358" href="Ledger.Conway.Conformance.Equivalence.html#13421" class="Function">≡ᵈ-trans</a> <a id="16367" class="Symbol">{</a><a id="16368" href="Ledger.Conway.Conformance.Equivalence.html#15426" class="Function">ddeps&#39;</a> <a id="16375" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16377" href="Ledger.Conway.Conformance.Equivalence.html#15468" class="Function">gdeps&#39;</a><a id="16383" class="Symbol">}</a>
                                     <a id="16422" class="Symbol">{</a><a id="16423" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2330" class="Function">updateDDeps</a> <a id="16435" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="16443" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="16451" class="Symbol">(</a><a id="16452" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="16462" href="Ledger.Conway.Conformance.Equivalence.html#15193" class="Function">deposits</a><a id="16470" class="Symbol">)</a> <a id="16472" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16474" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2781" class="Function">updateGDeps</a> <a id="16486" href="Ledger.Conway.Specification.Ledger.html#810" class="Function">pparams</a> <a id="16494" href="Ledger.Conway.Specification.Transaction.html#3412" class="Function">txCerts</a> <a id="16502" class="Symbol">(</a><a id="16503" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="16513" href="Ledger.Conway.Conformance.Equivalence.html#15193" class="Function">deposits</a><a id="16521" class="Symbol">)}</a>
                                     <a id="16561" class="Symbol">{</a><a id="16562" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3977" class="Function">certDDeps</a> <a id="16572" href="Ledger.Conway.Conformance.Equivalence.html#15237" class="Function">deposits&#39;</a> <a id="16582" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16584" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4123" class="Function">certGDeps</a> <a id="16594" href="Ledger.Conway.Conformance.Equivalence.html#15237" class="Function">deposits&#39;</a><a id="16603" class="Symbol">}</a>
                              <a id="16635" href="Ledger.Conway.Conformance.Equivalence.html#15989" class="Function">lem₃</a>
                              <a id="16670" href="Ledger.Conway.Conformance.Equivalence.html#15725" class="Function">lem₂</a>
<a id="16675" href="Ledger.Conway.Conformance.Equivalence.html#14806" class="Function">lemWellformed</a> <a id="16689" href="Ledger.Conway.Conformance.Equivalence.html#16689" class="Bound">wf</a> <a id="16692" class="Symbol">(</a><a id="16693" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="16705" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="16710" href="Ledger.Conway.Conformance.Equivalence.html#16710" class="Bound">utxo</a><a id="16714" class="Symbol">)</a> <a id="16716" class="Keyword">rewrite</a> <a id="16724" href="Ledger.Conway.Conformance.Equivalence.html#2539" class="Function">lemDepositsC</a> <a id="16737" href="Ledger.Conway.Conformance.Equivalence.html#16710" class="Bound">utxo</a> <a id="16742" class="Symbol">=</a> <a id="16744" href="Ledger.Conway.Conformance.Equivalence.html#16689" class="Bound">wf</a>

<a id="setCertDeposits"></a><a id="16748" href="Ledger.Conway.Conformance.Equivalence.html#16748" class="Function">setCertDeposits</a> <a id="16764" class="Symbol">:</a> <a id="16766" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="16777" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="16779" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="16790" class="Symbol">→</a> <a id="16792" href="Ledger.Conway.Conformance.Certs.html#962" class="Record">C.CertState</a> <a id="16804" class="Symbol">→</a> <a id="16806" href="Ledger.Conway.Conformance.Certs.html#962" class="Record">C.CertState</a>
<a id="16818" href="Ledger.Conway.Conformance.Equivalence.html#16748" class="Function">setCertDeposits</a> <a id="16834" class="Symbol">(</a><a id="16835" href="Ledger.Conway.Conformance.Equivalence.html#16835" class="Bound">ddeps</a> <a id="16841" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16843" href="Ledger.Conway.Conformance.Equivalence.html#16843" class="Bound">gdeps</a><a id="16848" class="Symbol">)</a> <a id="16850" href="Ledger.Conway.Conformance.Equivalence.html#16850" class="Bound">cs</a> <a id="16853" class="Symbol">=</a>
  <a id="16857" class="Keyword">let</a> <a id="16861" class="Keyword">open</a> <a id="16866" href="Ledger.Conway.Conformance.Certs.html#962" class="Module">C.CertState</a> <a id="16878" href="Ledger.Conway.Conformance.Equivalence.html#16850" class="Bound">cs</a> <a id="16881" class="Keyword">in</a>
  <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{16888}{\htmlClass{Keyword}{\text{record}}}\, \,\href{Ledger.Conway.Conformance.Certs.html#1021}{\htmlId{16895}{\htmlClass{Field}{\text{dState}}}}\, \,\htmlId{16902}{\htmlClass{Symbol}{\text{{}}}\,\,\href{Ledger.Conway.Conformance.Certs.html#762}{\htmlId{16903}{\htmlClass{Field}{\text{deposits}}}}\, \,\htmlId{16912}{\htmlClass{Symbol}{\text{=}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#16835}{\htmlId{16914}{\htmlClass{Bound}{\text{ddeps}}}}\,\,\htmlId{16919}{\htmlClass{Symbol}{\text{}}}}\, \\ \,\href{Ledger.Conway.Conformance.Certs.html#1041}{\htmlId{16923}{\htmlClass{Field}{\text{pState}}}}\, \\ \,\htmlId{16932}{\htmlClass{Keyword}{\text{record}}}\, \,\href{Ledger.Conway.Conformance.Certs.html#1061}{\htmlId{16939}{\htmlClass{Field}{\text{gState}}}}\, \,\htmlId{16946}{\htmlClass{Symbol}{\text{{}}}\,\,\href{Ledger.Conway.Conformance.Certs.html#932}{\htmlId{16947}{\htmlClass{Field}{\text{deposits}}}}\, \,\htmlId{16956}{\htmlClass{Symbol}{\text{=}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#16843}{\htmlId{16958}{\htmlClass{Bound}{\text{gdeps}}}}\,\,\htmlId{16963}{\htmlClass{Symbol}{\text{}}}}\, \end{pmatrix}$</a>

<a id="updateCDep"></a><a id="16968" href="Ledger.Conway.Conformance.Equivalence.html#16968" class="Function">updateCDep</a> <a id="16979" class="Symbol">:</a> <a id="16981" href="Ledger.Conway.Specification.PParams.html#1779" class="Record">PParams</a> <a id="16989" class="Symbol">→</a> <a id="16991" href="Ledger.Conway.Specification.Certs.html#2116" class="Datatype">L.DCert</a> <a id="16999" class="Symbol">→</a> <a id="17001" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="17012" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="17014" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="17025" class="Symbol">→</a> <a id="17027" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a> <a id="17038" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="17040" href="Ledger.Conway.Specification.Certs.html#812" class="Function">L.Deposits</a>
<a id="17051" href="Ledger.Conway.Conformance.Equivalence.html#16968" class="Function">updateCDep</a> <a id="17062" href="Ledger.Conway.Conformance.Equivalence.html#17062" class="Bound">pp</a> <a id="17065" href="Ledger.Conway.Conformance.Equivalence.html#17065" class="Bound">cert</a> <a id="17070" class="Symbol">(</a><a id="17071" href="Ledger.Conway.Conformance.Equivalence.html#17071" class="Bound">ddep</a> <a id="17076" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17078" href="Ledger.Conway.Conformance.Equivalence.html#17078" class="Bound">gdep</a><a id="17082" class="Symbol">)</a> <a id="17084" class="Symbol">=</a> <a id="17086" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#1980" class="Function">updateDDep</a> <a id="17097" href="Ledger.Conway.Conformance.Equivalence.html#17062" class="Bound">pp</a> <a id="17100" href="Ledger.Conway.Conformance.Equivalence.html#17065" class="Bound">cert</a> <a id="17105" href="Ledger.Conway.Conformance.Equivalence.html#17071" class="Bound">ddep</a> <a id="17110" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17112" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2520" class="Function">updateGDep</a> <a id="17123" href="Ledger.Conway.Conformance.Equivalence.html#17062" class="Bound">pp</a> <a id="17126" href="Ledger.Conway.Conformance.Equivalence.html#17065" class="Bound">cert</a> <a id="17131" href="Ledger.Conway.Conformance.Equivalence.html#17078" class="Bound">gdep</a>

<a id="17137" class="Keyword">opaque</a>
  <a id="castCERTS&#39;"></a><a id="17146" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="17157" class="Symbol">:</a> <a id="17159" class="Symbol">∀</a> <a id="17161" class="Symbol">{</a><a id="17162" href="Ledger.Conway.Conformance.Equivalence.html#17162" class="Bound">Γ</a> <a id="17164" href="Ledger.Conway.Conformance.Equivalence.html#17164" class="Bound">certs</a><a id="17169" class="Symbol">}</a> <a id="17171" class="Symbol">{</a><a id="17172" href="Ledger.Conway.Conformance.Equivalence.html#17172" class="Bound">s</a> <a id="17174" href="Ledger.Conway.Conformance.Equivalence.html#17174" class="Bound">s&#39;</a> <a id="17177" class="Symbol">:</a> <a id="17179" href="Ledger.Conway.Specification.Certs.html#4152" class="Record">L.CertState</a><a id="17190" class="Symbol">}</a> <a id="17192" href="Ledger.Conway.Conformance.Equivalence.html#17192" class="Bound">deps₁</a> <a id="17198" href="Ledger.Conway.Conformance.Equivalence.html#17198" class="Bound">deps₂</a> <a id="17204" href="Ledger.Conway.Conformance.Equivalence.html#17204" class="Bound">deps₁&#39;</a>
             <a id="17224" class="Symbol">→</a> <a id="17226" href="Ledger.Conway.Conformance.Equivalence.html#17192" class="Bound">deps₁</a> <a id="17232" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="17235" href="Ledger.Conway.Conformance.Equivalence.html#17198" class="Bound">deps₂</a>
             <a id="17254" class="Symbol">→</a> <a id="17256" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="17272" href="Ledger.Conway.Conformance.Certs.html#6050" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="17288" href="Ledger.Conway.Conformance.Certs.html#7440" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="17309" href="Ledger.Conway.Conformance.Equivalence.html#17162" class="Bound">Γ</a> <a id="17311" class="Symbol">(</a><a id="17312" href="Ledger.Conway.Conformance.Equivalence.html#17192" class="Bound">deps₁</a> <a id="17318" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17324" href="Ledger.Conway.Conformance.Equivalence.html#17172" class="Bound">s</a><a id="17325" class="Symbol">)</a> <a id="17327" href="Ledger.Conway.Conformance.Equivalence.html#17164" class="Bound">certs</a> <a id="17333" class="Symbol">(</a><a id="17334" href="Ledger.Conway.Conformance.Equivalence.html#17204" class="Bound">deps₁&#39;</a> <a id="17341" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17347" href="Ledger.Conway.Conformance.Equivalence.html#17174" class="Bound">s&#39;</a><a id="17349" class="Symbol">)</a>
             <a id="17364" class="Symbol">→</a> <a id="17366" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="17369" href="Ledger.Conway.Conformance.Equivalence.html#17369" class="Bound">deps₂&#39;</a> <a id="17376" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="17378" href="Ledger.Conway.Conformance.Equivalence.html#17204" class="Bound">deps₁&#39;</a> <a id="17385" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="17388" href="Ledger.Conway.Conformance.Equivalence.html#17369" class="Bound">deps₂&#39;</a>
                           <a id="17422" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="17424" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="17440" href="Ledger.Conway.Conformance.Certs.html#6050" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="17456" href="Ledger.Conway.Conformance.Certs.html#7440" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="17477" href="Ledger.Conway.Conformance.Equivalence.html#17162" class="Bound">Γ</a> <a id="17479" class="Symbol">(</a><a id="17480" href="Ledger.Conway.Conformance.Equivalence.html#17198" class="Bound">deps₂</a> <a id="17486" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17492" href="Ledger.Conway.Conformance.Equivalence.html#17172" class="Bound">s</a><a id="17493" class="Symbol">)</a> <a id="17495" href="Ledger.Conway.Conformance.Equivalence.html#17164" class="Bound">certs</a> <a id="17501" class="Symbol">(</a><a id="17502" href="Ledger.Conway.Conformance.Equivalence.html#17369" class="Bound">deps₂&#39;</a> <a id="17509" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17515" href="Ledger.Conway.Conformance.Equivalence.html#17174" class="Bound">s&#39;</a><a id="17517" class="Symbol">)</a>
  <a id="17521" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="17532" href="Ledger.Conway.Conformance.Equivalence.html#17532" class="Bound">deps₁</a> <a id="17538" href="Ledger.Conway.Conformance.Equivalence.html#17538" class="Bound">deps₂</a> <a id="17544" href="Ledger.Conway.Conformance.Equivalence.html#17544" class="Bound">deps₁&#39;</a> <a id="17551" href="Ledger.Conway.Conformance.Equivalence.html#17551" class="Bound">eqd</a> <a id="17555" class="Symbol">(</a><a id="17556" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="17563" href="Ledger.Conway.Conformance.Certs.html#7513" class="InductiveConstructor">C.CERT-post</a><a id="17574" class="Symbol">)</a> <a id="17576" class="Symbol">=</a> <a id="17578" href="Ledger.Conway.Conformance.Equivalence.html#17538" class="Bound">deps₂</a> <a id="17584" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17586" href="Ledger.Conway.Conformance.Equivalence.html#17551" class="Bound">eqd</a> <a id="17590" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17592" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="17599" href="Ledger.Conway.Conformance.Certs.html#7513" class="InductiveConstructor">C.CERT-post</a>
  <a id="17613" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="17624" class="Symbol">{</a><a id="17625" href="Ledger.Conway.Conformance.Equivalence.html#17625" class="Bound">Γ</a><a id="17626" class="Symbol">}</a> <a id="17628" href="Ledger.Conway.Conformance.Equivalence.html#17628" class="Bound">deps₁</a> <a id="17634" href="Ledger.Conway.Conformance.Equivalence.html#17634" class="Bound">deps₂</a> <a id="17640" href="Ledger.Conway.Conformance.Equivalence.html#17640" class="Bound">deps₁&#39;</a> <a id="17647" href="Ledger.Conway.Conformance.Equivalence.html#17647" class="Bound">eqd</a> <a id="17651" class="Symbol">(</a><a id="17652" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="17658" class="Symbol">(</a><a id="17659" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="17672" class="Symbol">{</a><a id="17673" class="Argument">dCert</a> <a id="17679" class="Symbol">=</a> <a id="17681" href="Ledger.Conway.Conformance.Equivalence.html#17681" class="Bound">cert</a><a id="17685" class="Symbol">}</a> <a id="17687" class="Symbol">(</a><a id="17688" href="Ledger.Conway.Conformance.Certs.html#3708" class="InductiveConstructor">C.DELEG-delegate</a> <a id="17705" href="Ledger.Conway.Conformance.Equivalence.html#17705" class="Bound">h</a><a id="17706" class="Symbol">))</a>    <a id="17712" href="Ledger.Conway.Conformance.Equivalence.html#17712" class="Bound">rs</a><a id="17714" class="Symbol">)</a>
    <a id="17720" class="Symbol">=</a> <a id="17722" class="Keyword">let</a>
        <a id="17734" class="Keyword">open</a> <a id="17739" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="17749" href="Ledger.Conway.Conformance.Equivalence.html#17625" class="Bound">Γ</a> <a id="17751" class="Keyword">using</a> <a id="17757" class="Symbol">(</a><a id="17758" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="17760" class="Symbol">)</a>
        <a id="17770" href="Ledger.Conway.Conformance.Equivalence.html#17770" class="Bound">deps₂&#39;</a> <a id="17777" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17779" href="Ledger.Conway.Conformance.Equivalence.html#17779" class="Bound">eqd&#39;</a> <a id="17784" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17786" href="Ledger.Conway.Conformance.Equivalence.html#17786" class="Bound">rs&#39;</a> <a id="17790" class="Symbol">=</a> <a id="17792" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="17803" class="Symbol">(</a><a id="17804" href="Ledger.Conway.Conformance.Equivalence.html#16968" class="Function">updateCDep</a> <a id="17815" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="17818" href="Ledger.Conway.Conformance.Equivalence.html#17681" class="Bound">cert</a> <a id="17823" href="Ledger.Conway.Conformance.Equivalence.html#17628" class="Bound">deps₁</a><a id="17828" class="Symbol">)</a> <a id="17830" class="Symbol">(</a><a id="17831" href="Ledger.Conway.Conformance.Equivalence.html#16968" class="Function">updateCDep</a> <a id="17842" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="17845" href="Ledger.Conway.Conformance.Equivalence.html#17681" class="Bound">cert</a> <a id="17850" href="Ledger.Conway.Conformance.Equivalence.html#17634" class="Bound">deps₂</a><a id="17855" class="Symbol">)</a> <a id="17857" href="Ledger.Conway.Conformance.Equivalence.html#17640" class="Bound">deps₁&#39;</a>
                                         <a id="17905" class="Symbol">(</a><a id="17906" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="17908" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="17924" class="Symbol">{</a><a id="17925" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="17927" class="Symbol">}</a> <a id="17929" href="Ledger.Conway.Conformance.Equivalence.html#17681" class="Bound">cert</a> <a id="17934" class="Symbol">{</a><a id="17935" href="Ledger.Conway.Conformance.Equivalence.html#17628" class="Bound">deps₁</a> <a id="17941" class="Symbol">.</a><a id="17942" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="17947" class="Symbol">}</a> <a id="17949" class="Symbol">{</a><a id="17950" href="Ledger.Conway.Conformance.Equivalence.html#17634" class="Bound">deps₂</a> <a id="17956" class="Symbol">.</a><a id="17957" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="17962" class="Symbol">}</a>
                                          <a id="18006" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="18008" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="18024" class="Symbol">{</a><a id="18025" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="18027" class="Symbol">}</a> <a id="18029" href="Ledger.Conway.Conformance.Equivalence.html#17681" class="Bound">cert</a> <a id="18034" class="Symbol">{</a><a id="18035" href="Ledger.Conway.Conformance.Equivalence.html#17628" class="Bound">deps₁</a> <a id="18041" class="Symbol">.</a><a id="18042" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18047" class="Symbol">}</a> <a id="18049" class="Symbol">{</a><a id="18050" href="Ledger.Conway.Conformance.Equivalence.html#17634" class="Bound">deps₂</a> <a id="18056" class="Symbol">.</a><a id="18057" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18062" class="Symbol">}</a> <a id="18064" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="18066" href="Ledger.Conway.Conformance.Equivalence.html#17647" class="Bound">eqd</a><a id="18069" class="Symbol">)</a> <a id="18071" href="Ledger.Conway.Conformance.Equivalence.html#17712" class="Bound">rs</a>
        <a id="18082" class="Keyword">in</a>  <a id="18086" href="Ledger.Conway.Conformance.Equivalence.html#17770" class="Bound">deps₂&#39;</a> <a id="18093" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18095" href="Ledger.Conway.Conformance.Equivalence.html#17779" class="Bound">eqd&#39;</a> <a id="18100" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18102" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18108" class="Symbol">(</a><a id="18109" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="18122" class="Symbol">(</a><a id="18123" href="Ledger.Conway.Conformance.Certs.html#3708" class="InductiveConstructor">C.DELEG-delegate</a> <a id="18140" href="Ledger.Conway.Conformance.Equivalence.html#17705" class="Bound">h</a><a id="18141" class="Symbol">))</a> <a id="18144" href="Ledger.Conway.Conformance.Equivalence.html#17786" class="Bound">rs&#39;</a>

  <a id="18151" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="18162" class="Symbol">{</a><a id="18163" href="Ledger.Conway.Conformance.Equivalence.html#18163" class="Bound">Γ</a><a id="18164" class="Symbol">}</a> <a id="18166" href="Ledger.Conway.Conformance.Equivalence.html#18166" class="Bound">deps₁</a> <a id="18172" href="Ledger.Conway.Conformance.Equivalence.html#18172" class="Bound">deps₂</a> <a id="18178" href="Ledger.Conway.Conformance.Equivalence.html#18178" class="Bound">deps₁&#39;</a> <a id="18185" href="Ledger.Conway.Conformance.Equivalence.html#18185" class="Bound">eqd</a> <a id="18189" class="Symbol">(</a><a id="18190" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18196" class="Symbol">(</a><a id="18197" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="18210" class="Symbol">{</a><a id="18211" class="Argument">dCert</a> <a id="18217" class="Symbol">=</a> <a id="18219" href="Ledger.Conway.Conformance.Equivalence.html#18219" class="Bound">cert</a><a id="18223" class="Symbol">}</a> <a id="18225" class="Symbol">(</a><a id="18226" href="Ledger.Conway.Conformance.Certs.html#4345" class="InductiveConstructor">C.DELEG-dereg</a> <a id="18240" class="Symbol">(</a><a id="18241" href="Ledger.Conway.Conformance.Equivalence.html#18241" class="Bound">a</a> <a id="18243" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18245" href="Ledger.Conway.Conformance.Equivalence.html#18245" class="Bound">b</a> <a id="18247" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18249" href="Ledger.Conway.Conformance.Equivalence.html#18249" class="Bound">c</a><a id="18250" class="Symbol">)))</a> <a id="18254" href="Ledger.Conway.Conformance.Equivalence.html#18254" class="Bound">rs</a><a id="18256" class="Symbol">)</a> <a id="18258" class="Symbol">=</a>
    <a id="18264" class="Keyword">let</a> <a id="18268" class="Keyword">open</a> <a id="18273" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="18283" href="Ledger.Conway.Conformance.Equivalence.html#18163" class="Bound">Γ</a> <a id="18285" class="Keyword">using</a> <a id="18291" class="Symbol">(</a><a id="18292" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="18294" class="Symbol">)</a>
        <a id="18304" href="Ledger.Conway.Conformance.Equivalence.html#18304" class="Bound">deps₂&#39;</a> <a id="18311" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18313" href="Ledger.Conway.Conformance.Equivalence.html#18313" class="Bound">eqd&#39;</a> <a id="18318" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18320" href="Ledger.Conway.Conformance.Equivalence.html#18320" class="Bound">rs&#39;</a> <a id="18324" class="Symbol">=</a> <a id="18326" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="18337" class="Symbol">(</a><a id="18338" href="Ledger.Conway.Conformance.Equivalence.html#16968" class="Function">updateCDep</a> <a id="18349" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="18352" href="Ledger.Conway.Conformance.Equivalence.html#18219" class="Bound">cert</a> <a id="18357" href="Ledger.Conway.Conformance.Equivalence.html#18166" class="Bound">deps₁</a><a id="18362" class="Symbol">)</a> <a id="18364" class="Symbol">(</a><a id="18365" href="Ledger.Conway.Conformance.Equivalence.html#16968" class="Function">updateCDep</a> <a id="18376" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="18379" href="Ledger.Conway.Conformance.Equivalence.html#18219" class="Bound">cert</a> <a id="18384" href="Ledger.Conway.Conformance.Equivalence.html#18172" class="Bound">deps₂</a><a id="18389" class="Symbol">)</a> <a id="18391" href="Ledger.Conway.Conformance.Equivalence.html#18178" class="Bound">deps₁&#39;</a>
                                         <a id="18439" class="Symbol">(</a><a id="18440" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="18442" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="18458" class="Symbol">{</a><a id="18459" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="18461" class="Symbol">}</a> <a id="18463" href="Ledger.Conway.Conformance.Equivalence.html#18219" class="Bound">cert</a> <a id="18468" class="Symbol">{</a><a id="18469" href="Ledger.Conway.Conformance.Equivalence.html#18166" class="Bound">deps₁</a> <a id="18475" class="Symbol">.</a><a id="18476" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18481" class="Symbol">}</a> <a id="18483" class="Symbol">{</a><a id="18484" href="Ledger.Conway.Conformance.Equivalence.html#18172" class="Bound">deps₂</a> <a id="18490" class="Symbol">.</a><a id="18491" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18496" class="Symbol">}</a>
                                          <a id="18540" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="18542" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="18558" class="Symbol">{</a><a id="18559" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="18561" class="Symbol">}</a> <a id="18563" href="Ledger.Conway.Conformance.Equivalence.html#18219" class="Bound">cert</a> <a id="18568" class="Symbol">{</a><a id="18569" href="Ledger.Conway.Conformance.Equivalence.html#18166" class="Bound">deps₁</a> <a id="18575" class="Symbol">.</a><a id="18576" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18581" class="Symbol">}</a> <a id="18583" class="Symbol">{</a><a id="18584" href="Ledger.Conway.Conformance.Equivalence.html#18172" class="Bound">deps₂</a> <a id="18590" class="Symbol">.</a><a id="18591" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18596" class="Symbol">}</a> <a id="18598" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="18600" href="Ledger.Conway.Conformance.Equivalence.html#18185" class="Bound">eqd</a><a id="18603" class="Symbol">)</a> <a id="18605" href="Ledger.Conway.Conformance.Equivalence.html#18254" class="Bound">rs</a>
    <a id="18612" class="Keyword">in</a>  <a id="18616" href="Ledger.Conway.Conformance.Equivalence.html#18304" class="Bound">deps₂&#39;</a> <a id="18623" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18625" href="Ledger.Conway.Conformance.Equivalence.html#18313" class="Bound">eqd&#39;</a> <a id="18630" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18632" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18638" class="Symbol">(</a><a id="18639" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="18652" class="Symbol">(</a><a id="18653" href="Ledger.Conway.Conformance.Certs.html#4345" class="InductiveConstructor">C.DELEG-dereg</a> <a id="18667" class="Symbol">(</a><a id="18668" href="Ledger.Conway.Conformance.Equivalence.html#18241" class="Bound">a</a> <a id="18670" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18672" href="Ledger.Conway.Conformance.Equivalence.html#18185" class="Bound">eqd</a> <a id="18676" class="Symbol">.</a><a id="18677" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="18683" class="Symbol">.</a><a id="18684" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="18690" href="Ledger.Conway.Conformance.Equivalence.html#18245" class="Bound">b</a> <a id="18692" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18694" href="Ledger.Conway.Conformance.Equivalence.html#18249" class="Bound">c</a><a id="18695" class="Symbol">)))</a> <a id="18699" href="Ledger.Conway.Conformance.Equivalence.html#18320" class="Bound">rs&#39;</a>
  <a id="18705" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="18716" class="Symbol">{</a><a id="18717" href="Ledger.Conway.Conformance.Equivalence.html#18717" class="Bound">Γ</a><a id="18718" class="Symbol">}</a> <a id="18720" href="Ledger.Conway.Conformance.Equivalence.html#18720" class="Bound">deps₁</a> <a id="18726" href="Ledger.Conway.Conformance.Equivalence.html#18726" class="Bound">deps₂</a> <a id="18732" href="Ledger.Conway.Conformance.Equivalence.html#18732" class="Bound">deps₁&#39;</a> <a id="18739" href="Ledger.Conway.Conformance.Equivalence.html#18739" class="Bound">eqd</a> <a id="18743" class="Symbol">(</a><a id="18744" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18750" class="Symbol">(</a><a id="18751" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="18764" class="Symbol">{</a><a id="18765" class="Argument">dCert</a> <a id="18771" class="Symbol">=</a> <a id="18773" href="Ledger.Conway.Conformance.Equivalence.html#18773" class="Bound">cert</a><a id="18777" class="Symbol">}</a> <a id="18779" class="Symbol">(</a><a id="18780" href="Ledger.Conway.Conformance.Certs.html#4709" class="InductiveConstructor">C.DELEG-reg</a> <a id="18792" href="Ledger.Conway.Conformance.Equivalence.html#18792" class="Bound">h</a><a id="18793" class="Symbol">))</a>         <a id="18804" href="Ledger.Conway.Conformance.Equivalence.html#18804" class="Bound">rs</a><a id="18806" class="Symbol">)</a> <a id="18808" class="Symbol">=</a>
    <a id="18814" class="Keyword">let</a> <a id="18818" class="Keyword">open</a> <a id="18823" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="18833" href="Ledger.Conway.Conformance.Equivalence.html#18717" class="Bound">Γ</a> <a id="18835" class="Keyword">using</a> <a id="18841" class="Symbol">(</a><a id="18842" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="18844" class="Symbol">)</a>
        <a id="18854" href="Ledger.Conway.Conformance.Equivalence.html#18854" class="Bound">deps₂&#39;</a> <a id="18861" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18863" href="Ledger.Conway.Conformance.Equivalence.html#18863" class="Bound">eqd&#39;</a> <a id="18868" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18870" href="Ledger.Conway.Conformance.Equivalence.html#18870" class="Bound">rs&#39;</a> <a id="18874" class="Symbol">=</a> <a id="18876" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="18887" class="Symbol">(</a><a id="18888" href="Ledger.Conway.Conformance.Equivalence.html#16968" class="Function">updateCDep</a> <a id="18899" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="18902" href="Ledger.Conway.Conformance.Equivalence.html#18773" class="Bound">cert</a> <a id="18907" href="Ledger.Conway.Conformance.Equivalence.html#18720" class="Bound">deps₁</a><a id="18912" class="Symbol">)</a> <a id="18914" class="Symbol">(</a><a id="18915" href="Ledger.Conway.Conformance.Equivalence.html#16968" class="Function">updateCDep</a> <a id="18926" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="18929" href="Ledger.Conway.Conformance.Equivalence.html#18773" class="Bound">cert</a> <a id="18934" href="Ledger.Conway.Conformance.Equivalence.html#18726" class="Bound">deps₂</a><a id="18939" class="Symbol">)</a> <a id="18941" href="Ledger.Conway.Conformance.Equivalence.html#18732" class="Bound">deps₁&#39;</a>
                                         <a id="18989" class="Symbol">(</a><a id="18990" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="18992" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="19008" class="Symbol">{</a><a id="19009" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="19011" class="Symbol">}</a> <a id="19013" href="Ledger.Conway.Conformance.Equivalence.html#18773" class="Bound">cert</a> <a id="19018" class="Symbol">{</a><a id="19019" href="Ledger.Conway.Conformance.Equivalence.html#18720" class="Bound">deps₁</a> <a id="19025" class="Symbol">.</a><a id="19026" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="19031" class="Symbol">}</a> <a id="19033" class="Symbol">{</a><a id="19034" href="Ledger.Conway.Conformance.Equivalence.html#18726" class="Bound">deps₂</a> <a id="19040" class="Symbol">.</a><a id="19041" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="19046" class="Symbol">}</a>
                                          <a id="19090" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="19092" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="19108" class="Symbol">{</a><a id="19109" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="19111" class="Symbol">}</a> <a id="19113" href="Ledger.Conway.Conformance.Equivalence.html#18773" class="Bound">cert</a> <a id="19118" class="Symbol">{</a><a id="19119" href="Ledger.Conway.Conformance.Equivalence.html#18720" class="Bound">deps₁</a> <a id="19125" class="Symbol">.</a><a id="19126" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="19131" class="Symbol">}</a> <a id="19133" class="Symbol">{</a><a id="19134" href="Ledger.Conway.Conformance.Equivalence.html#18726" class="Bound">deps₂</a> <a id="19140" class="Symbol">.</a><a id="19141" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="19146" class="Symbol">}</a> <a id="19148" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="19150" href="Ledger.Conway.Conformance.Equivalence.html#18739" class="Bound">eqd</a><a id="19153" class="Symbol">)</a> <a id="19155" href="Ledger.Conway.Conformance.Equivalence.html#18804" class="Bound">rs</a>
    <a id="19162" class="Keyword">in</a>  <a id="19166" href="Ledger.Conway.Conformance.Equivalence.html#18854" class="Bound">deps₂&#39;</a> <a id="19173" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19175" href="Ledger.Conway.Conformance.Equivalence.html#18863" class="Bound">eqd&#39;</a> <a id="19180" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19182" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19188" class="Symbol">(</a><a id="19189" href="Ledger.Conway.Conformance.Certs.html#6121" class="InductiveConstructor">C.CERT-deleg</a> <a id="19202" class="Symbol">(</a><a id="19203" href="Ledger.Conway.Conformance.Certs.html#4709" class="InductiveConstructor">C.DELEG-reg</a> <a id="19215" href="Ledger.Conway.Conformance.Equivalence.html#18792" class="Bound">h</a><a id="19216" class="Symbol">))</a> <a id="19219" href="Ledger.Conway.Conformance.Equivalence.html#18870" class="Bound">rs&#39;</a>

  <a id="19226" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="19237" class="Symbol">{</a><a id="19238" href="Ledger.Conway.Conformance.Equivalence.html#19238" class="Bound">Γ</a><a id="19239" class="Symbol">}</a> <a id="19241" href="Ledger.Conway.Conformance.Equivalence.html#19241" class="Bound">deps₁</a> <a id="19247" href="Ledger.Conway.Conformance.Equivalence.html#19247" class="Bound">deps₂</a> <a id="19253" href="Ledger.Conway.Conformance.Equivalence.html#19253" class="Bound">deps₁&#39;</a> <a id="19260" href="Ledger.Conway.Conformance.Equivalence.html#19260" class="Bound">eqd</a> <a id="19264" class="Symbol">(</a><a id="19265" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19271" class="Symbol">(</a><a id="19272" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a>  <a id="19285" class="Symbol">{</a><a id="19286" class="Argument">dCert</a> <a id="19292" class="Symbol">=</a> <a id="19294" href="Ledger.Conway.Conformance.Equivalence.html#19294" class="Bound">cert</a><a id="19298" class="Symbol">}</a> <a id="19300" href="Ledger.Conway.Specification.Certs.html#9187" class="InductiveConstructor">L.POOL-regpool</a><a id="19314" class="Symbol">)</a>          <a id="19325" href="Ledger.Conway.Conformance.Equivalence.html#19325" class="Bound">rs</a><a id="19327" class="Symbol">)</a> <a id="19329" class="Symbol">=</a>
    <a id="19335" class="Keyword">let</a> <a id="19339" href="Ledger.Conway.Conformance.Equivalence.html#19339" class="Bound">deps₂&#39;</a> <a id="19346" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19348" href="Ledger.Conway.Conformance.Equivalence.html#19348" class="Bound">eqd&#39;</a> <a id="19353" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19355" href="Ledger.Conway.Conformance.Equivalence.html#19355" class="Bound">rs&#39;</a> <a id="19359" class="Symbol">=</a> <a id="19361" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="19372" href="Ledger.Conway.Conformance.Equivalence.html#19241" class="Bound">deps₁</a> <a id="19378" href="Ledger.Conway.Conformance.Equivalence.html#19247" class="Bound">deps₂</a> <a id="19384" href="Ledger.Conway.Conformance.Equivalence.html#19253" class="Bound">deps₁&#39;</a> <a id="19391" href="Ledger.Conway.Conformance.Equivalence.html#19260" class="Bound">eqd</a> <a id="19395" href="Ledger.Conway.Conformance.Equivalence.html#19325" class="Bound">rs</a>
    <a id="19402" class="Keyword">in</a>  <a id="19406" href="Ledger.Conway.Conformance.Equivalence.html#19339" class="Bound">deps₂&#39;</a> <a id="19413" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19415" href="Ledger.Conway.Conformance.Equivalence.html#19348" class="Bound">eqd&#39;</a> <a id="19420" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19422" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a>  <a id="19429" class="Symbol">(</a><a id="19430" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a> <a id="19442" href="Ledger.Conway.Specification.Certs.html#9187" class="InductiveConstructor">L.POOL-regpool</a><a id="19456" class="Symbol">)</a> <a id="19458" href="Ledger.Conway.Conformance.Equivalence.html#19355" class="Bound">rs&#39;</a>

  <a id="19465" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="19476" class="Symbol">{</a><a id="19477" href="Ledger.Conway.Conformance.Equivalence.html#19477" class="Bound">Γ</a><a id="19478" class="Symbol">}</a> <a id="19480" href="Ledger.Conway.Conformance.Equivalence.html#19480" class="Bound">deps₁</a> <a id="19486" href="Ledger.Conway.Conformance.Equivalence.html#19486" class="Bound">deps₂</a> <a id="19492" href="Ledger.Conway.Conformance.Equivalence.html#19492" class="Bound">deps₁&#39;</a> <a id="19499" href="Ledger.Conway.Conformance.Equivalence.html#19499" class="Bound">eqd</a> <a id="19503" class="Symbol">(</a><a id="19504" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19510" class="Symbol">(</a><a id="19511" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a>  <a id="19524" class="Symbol">{</a><a id="19525" class="Argument">dCert</a> <a id="19531" class="Symbol">=</a> <a id="19533" href="Ledger.Conway.Conformance.Equivalence.html#19533" class="Bound">cert</a><a id="19537" class="Symbol">}</a> <a id="19539" href="Ledger.Conway.Specification.Certs.html#9578" class="InductiveConstructor">C.POOL-retirepool</a><a id="19556" class="Symbol">)</a>       <a id="19564" href="Ledger.Conway.Conformance.Equivalence.html#19564" class="Bound">rs</a><a id="19566" class="Symbol">)</a> <a id="19568" class="Symbol">=</a>
    <a id="19574" class="Keyword">let</a> <a id="19578" href="Ledger.Conway.Conformance.Equivalence.html#19578" class="Bound">deps₂&#39;</a> <a id="19585" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19587" href="Ledger.Conway.Conformance.Equivalence.html#19587" class="Bound">eqd&#39;</a> <a id="19592" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19594" href="Ledger.Conway.Conformance.Equivalence.html#19594" class="Bound">rs&#39;</a> <a id="19598" class="Symbol">=</a> <a id="19600" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="19611" href="Ledger.Conway.Conformance.Equivalence.html#19480" class="Bound">deps₁</a> <a id="19617" href="Ledger.Conway.Conformance.Equivalence.html#19486" class="Bound">deps₂</a> <a id="19623" href="Ledger.Conway.Conformance.Equivalence.html#19492" class="Bound">deps₁&#39;</a> <a id="19630" href="Ledger.Conway.Conformance.Equivalence.html#19499" class="Bound">eqd</a> <a id="19634" href="Ledger.Conway.Conformance.Equivalence.html#19564" class="Bound">rs</a>
    <a id="19641" class="Keyword">in</a>  <a id="19645" href="Ledger.Conway.Conformance.Equivalence.html#19578" class="Bound">deps₂&#39;</a> <a id="19652" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19654" href="Ledger.Conway.Conformance.Equivalence.html#19587" class="Bound">eqd&#39;</a> <a id="19659" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19661" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19667" class="Symbol">(</a><a id="19668" href="Ledger.Conway.Conformance.Certs.html#6355" class="InductiveConstructor">C.CERT-pool</a> <a id="19680" href="Ledger.Conway.Specification.Certs.html#9578" class="InductiveConstructor">C.POOL-retirepool</a><a id="19697" class="Symbol">)</a> <a id="19699" href="Ledger.Conway.Conformance.Equivalence.html#19594" class="Bound">rs&#39;</a>
  <a id="19705" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="19716" class="Symbol">{</a><a id="19717" href="Ledger.Conway.Conformance.Equivalence.html#19717" class="Bound">Γ</a><a id="19718" class="Symbol">}</a> <a id="19720" href="Ledger.Conway.Conformance.Equivalence.html#19720" class="Bound">deps₁</a> <a id="19726" href="Ledger.Conway.Conformance.Equivalence.html#19726" class="Bound">deps₂</a> <a id="19732" href="Ledger.Conway.Conformance.Equivalence.html#19732" class="Bound">deps₁&#39;</a> <a id="19739" href="Ledger.Conway.Conformance.Equivalence.html#19739" class="Bound">eqd</a> <a id="19743" class="Symbol">(</a><a id="19744" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19750" class="Symbol">(</a><a id="19751" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>  <a id="19764" class="Symbol">{</a><a id="19765" class="Argument">dCert</a> <a id="19771" class="Symbol">=</a> <a id="19773" href="Ledger.Conway.Conformance.Equivalence.html#19773" class="Bound">cert</a><a id="19777" class="Symbol">}</a> <a id="19779" class="Symbol">(</a><a id="19780" href="Ledger.Conway.Conformance.Certs.html#5098" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="19798" href="Ledger.Conway.Conformance.Equivalence.html#19798" class="Bound">h</a><a id="19799" class="Symbol">))</a>   <a id="19804" href="Ledger.Conway.Conformance.Equivalence.html#19804" class="Bound">rs</a><a id="19806" class="Symbol">)</a> <a id="19808" class="Symbol">=</a>
    <a id="19814" class="Keyword">let</a> <a id="19818" class="Keyword">open</a> <a id="19823" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="19833" href="Ledger.Conway.Conformance.Equivalence.html#19717" class="Bound">Γ</a> <a id="19835" class="Keyword">using</a> <a id="19841" class="Symbol">(</a><a id="19842" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="19844" class="Symbol">)</a>
        <a id="19854" href="Ledger.Conway.Conformance.Equivalence.html#19854" class="Bound">deps₂&#39;</a> <a id="19861" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19863" href="Ledger.Conway.Conformance.Equivalence.html#19863" class="Bound">eqd&#39;</a> <a id="19868" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19870" href="Ledger.Conway.Conformance.Equivalence.html#19870" class="Bound">rs&#39;</a> <a id="19874" class="Symbol">=</a> <a id="19876" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="19887" class="Symbol">(</a><a id="19888" href="Ledger.Conway.Conformance.Equivalence.html#16968" class="Function">updateCDep</a> <a id="19899" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="19902" href="Ledger.Conway.Conformance.Equivalence.html#19773" class="Bound">cert</a> <a id="19907" href="Ledger.Conway.Conformance.Equivalence.html#19720" class="Bound">deps₁</a><a id="19912" class="Symbol">)</a> <a id="19914" class="Symbol">(</a><a id="19915" href="Ledger.Conway.Conformance.Equivalence.html#16968" class="Function">updateCDep</a> <a id="19926" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="19929" href="Ledger.Conway.Conformance.Equivalence.html#19773" class="Bound">cert</a> <a id="19934" href="Ledger.Conway.Conformance.Equivalence.html#19726" class="Bound">deps₂</a><a id="19939" class="Symbol">)</a> <a id="19941" href="Ledger.Conway.Conformance.Equivalence.html#19732" class="Bound">deps₁&#39;</a>
                                         <a id="19989" class="Symbol">(</a><a id="19990" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="19992" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="20008" class="Symbol">{</a><a id="20009" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="20011" class="Symbol">}</a> <a id="20013" href="Ledger.Conway.Conformance.Equivalence.html#19773" class="Bound">cert</a> <a id="20018" class="Symbol">{</a><a id="20019" href="Ledger.Conway.Conformance.Equivalence.html#19720" class="Bound">deps₁</a> <a id="20025" class="Symbol">.</a><a id="20026" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20031" class="Symbol">}</a> <a id="20033" class="Symbol">{</a><a id="20034" href="Ledger.Conway.Conformance.Equivalence.html#19726" class="Bound">deps₂</a> <a id="20040" class="Symbol">.</a><a id="20041" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20046" class="Symbol">}</a>
                                          <a id="20090" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="20092" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="20108" class="Symbol">{</a><a id="20109" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="20111" class="Symbol">}</a> <a id="20113" href="Ledger.Conway.Conformance.Equivalence.html#19773" class="Bound">cert</a> <a id="20118" class="Symbol">{</a><a id="20119" href="Ledger.Conway.Conformance.Equivalence.html#19720" class="Bound">deps₁</a> <a id="20125" class="Symbol">.</a><a id="20126" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20131" class="Symbol">}</a> <a id="20133" class="Symbol">{</a><a id="20134" href="Ledger.Conway.Conformance.Equivalence.html#19726" class="Bound">deps₂</a> <a id="20140" class="Symbol">.</a><a id="20141" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20146" class="Symbol">}</a> <a id="20148" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="20150" href="Ledger.Conway.Conformance.Equivalence.html#19739" class="Bound">eqd</a><a id="20153" class="Symbol">)</a> <a id="20155" href="Ledger.Conway.Conformance.Equivalence.html#19804" class="Bound">rs</a>
    <a id="20162" class="Keyword">in</a>  <a id="20166" href="Ledger.Conway.Conformance.Equivalence.html#19854" class="Bound">deps₂&#39;</a> <a id="20173" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20175" href="Ledger.Conway.Conformance.Equivalence.html#19863" class="Bound">eqd&#39;</a> <a id="20180" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20182" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20188" class="Symbol">(</a><a id="20189" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="20201" class="Symbol">(</a><a id="20202" href="Ledger.Conway.Conformance.Certs.html#5098" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="20220" href="Ledger.Conway.Conformance.Equivalence.html#19798" class="Bound">h</a><a id="20221" class="Symbol">))</a> <a id="20224" href="Ledger.Conway.Conformance.Equivalence.html#19870" class="Bound">rs&#39;</a>
  <a id="20230" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="20241" class="Symbol">{</a><a id="20242" href="Ledger.Conway.Conformance.Equivalence.html#20242" class="Bound">Γ</a><a id="20243" class="Symbol">}</a> <a id="20245" href="Ledger.Conway.Conformance.Equivalence.html#20245" class="Bound">deps₁</a> <a id="20251" href="Ledger.Conway.Conformance.Equivalence.html#20251" class="Bound">deps₂</a> <a id="20257" href="Ledger.Conway.Conformance.Equivalence.html#20257" class="Bound">deps₁&#39;</a> <a id="20264" href="Ledger.Conway.Conformance.Equivalence.html#20264" class="Bound">eqd</a> <a id="20268" class="Symbol">(</a><a id="20269" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20275" class="Symbol">(</a><a id="20276" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>  <a id="20289" class="Symbol">{</a><a id="20290" class="Argument">dCert</a> <a id="20296" class="Symbol">=</a> <a id="20298" href="Ledger.Conway.Conformance.Equivalence.html#20298" class="Bound">cert</a><a id="20302" class="Symbol">}</a> <a id="20304" class="Symbol">(</a><a id="20305" href="Ledger.Conway.Conformance.Certs.html#5464" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="20325" class="Symbol">(</a><a id="20326" href="Ledger.Conway.Conformance.Equivalence.html#20326" class="Bound">a</a> <a id="20328" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20330" href="Ledger.Conway.Conformance.Equivalence.html#20330" class="Bound">b</a><a id="20331" class="Symbol">)))</a> <a id="20335" href="Ledger.Conway.Conformance.Equivalence.html#20335" class="Bound">rs</a><a id="20337" class="Symbol">)</a> <a id="20339" class="Symbol">=</a>
    <a id="20345" class="Keyword">let</a> <a id="20349" class="Keyword">open</a> <a id="20354" href="Ledger.Conway.Specification.Certs.html#3589" class="Module">C.CertEnv</a> <a id="20364" href="Ledger.Conway.Conformance.Equivalence.html#20242" class="Bound">Γ</a> <a id="20366" class="Keyword">using</a> <a id="20372" class="Symbol">(</a><a id="20373" href="Ledger.Conway.Specification.Certs.html#3644" class="Field">pp</a><a id="20375" class="Symbol">)</a>
        <a id="20385" href="Ledger.Conway.Conformance.Equivalence.html#20385" class="Bound">deps₂&#39;</a> <a id="20392" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20394" href="Ledger.Conway.Conformance.Equivalence.html#20394" class="Bound">eqd&#39;</a> <a id="20399" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20401" href="Ledger.Conway.Conformance.Equivalence.html#20401" class="Bound">rs&#39;</a> <a id="20405" class="Symbol">=</a> <a id="20407" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="20418" class="Symbol">(</a><a id="20419" href="Ledger.Conway.Conformance.Equivalence.html#16968" class="Function">updateCDep</a> <a id="20430" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="20433" href="Ledger.Conway.Conformance.Equivalence.html#20298" class="Bound">cert</a> <a id="20438" href="Ledger.Conway.Conformance.Equivalence.html#20245" class="Bound">deps₁</a><a id="20443" class="Symbol">)</a> <a id="20445" class="Symbol">(</a><a id="20446" href="Ledger.Conway.Conformance.Equivalence.html#16968" class="Function">updateCDep</a> <a id="20457" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a> <a id="20460" href="Ledger.Conway.Conformance.Equivalence.html#20298" class="Bound">cert</a> <a id="20465" href="Ledger.Conway.Conformance.Equivalence.html#20251" class="Bound">deps₂</a><a id="20470" class="Symbol">)</a> <a id="20472" href="Ledger.Conway.Conformance.Equivalence.html#20257" class="Bound">deps₁&#39;</a>
                                         <a id="20520" class="Symbol">(</a><a id="20521" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟨</a> <a id="20523" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13463" class="Function">cong-updateDDep</a> <a id="20539" class="Symbol">{</a><a id="20540" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="20542" class="Symbol">}</a> <a id="20544" href="Ledger.Conway.Conformance.Equivalence.html#20298" class="Bound">cert</a> <a id="20549" class="Symbol">{</a><a id="20550" href="Ledger.Conway.Conformance.Equivalence.html#20245" class="Bound">deps₁</a> <a id="20556" class="Symbol">.</a><a id="20557" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20562" class="Symbol">}</a> <a id="20564" class="Symbol">{</a><a id="20565" href="Ledger.Conway.Conformance.Equivalence.html#20251" class="Bound">deps₂</a> <a id="20571" class="Symbol">.</a><a id="20572" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20577" class="Symbol">}</a>
                                          <a id="20621" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">,</a> <a id="20623" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14494" class="Function">cong-updateGDep</a> <a id="20639" class="Symbol">{</a><a id="20640" href="Ledger.Conway.Specification.Certs.html#3644" class="Function">pp</a><a id="20642" class="Symbol">}</a> <a id="20644" href="Ledger.Conway.Conformance.Equivalence.html#20298" class="Bound">cert</a> <a id="20649" class="Symbol">{</a><a id="20650" href="Ledger.Conway.Conformance.Equivalence.html#20245" class="Bound">deps₁</a> <a id="20656" class="Symbol">.</a><a id="20657" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20662" class="Symbol">}</a> <a id="20664" class="Symbol">{</a><a id="20665" href="Ledger.Conway.Conformance.Equivalence.html#20251" class="Bound">deps₂</a> <a id="20671" class="Symbol">.</a><a id="20672" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20677" class="Symbol">}</a> <a id="20679" href="Ledger.Conway.Conformance.Equivalence.html#375" class="Function Operator">⟩</a> <a id="20681" href="Ledger.Conway.Conformance.Equivalence.html#20264" class="Bound">eqd</a><a id="20684" class="Symbol">)</a> <a id="20686" href="Ledger.Conway.Conformance.Equivalence.html#20335" class="Bound">rs</a>
    <a id="20693" class="Keyword">in</a>  <a id="20697" href="Ledger.Conway.Conformance.Equivalence.html#20385" class="Bound">deps₂&#39;</a> <a id="20704" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20706" href="Ledger.Conway.Conformance.Equivalence.html#20394" class="Bound">eqd&#39;</a> <a id="20711" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20713" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20719" class="Symbol">(</a><a id="20720" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="20732" class="Symbol">(</a><a id="20733" href="Ledger.Conway.Conformance.Certs.html#5464" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="20753" class="Symbol">(</a><a id="20754" href="Ledger.Conway.Conformance.Equivalence.html#20326" class="Bound">a</a> <a id="20756" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20758" href="Ledger.Conway.Conformance.Equivalence.html#20264" class="Bound">eqd</a> <a id="20762" class="Symbol">.</a><a id="20763" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="20769" class="Symbol">.</a><a id="20770" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="20776" href="Ledger.Conway.Conformance.Equivalence.html#20330" class="Bound">b</a><a id="20777" class="Symbol">)))</a> <a id="20781" href="Ledger.Conway.Conformance.Equivalence.html#20401" class="Bound">rs&#39;</a>
                                                                   <a id="20852" class="Comment">-- ^^^^^^^^^^^^^^^^^^^ Actual work</a>
  <a id="20889" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="20900" class="Symbol">{</a><a id="20901" href="Ledger.Conway.Conformance.Equivalence.html#20901" class="Bound">Γ</a><a id="20902" class="Symbol">}</a> <a id="20904" href="Ledger.Conway.Conformance.Equivalence.html#20904" class="Bound">deps₁</a> <a id="20910" href="Ledger.Conway.Conformance.Equivalence.html#20910" class="Bound">deps₂</a> <a id="20916" href="Ledger.Conway.Conformance.Equivalence.html#20916" class="Bound">deps₁&#39;</a> <a id="20923" href="Ledger.Conway.Conformance.Equivalence.html#20923" class="Bound">eqd</a> <a id="20927" class="Symbol">(</a><a id="20928" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20934" class="Symbol">(</a><a id="20935" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a>  <a id="20948" class="Symbol">{</a><a id="20949" class="Argument">dCert</a> <a id="20955" class="Symbol">=</a> <a id="20957" href="Ledger.Conway.Conformance.Equivalence.html#20957" class="Bound">cert</a><a id="20961" class="Symbol">}</a> <a id="20963" class="Symbol">(</a><a id="20964" href="Ledger.Conway.Conformance.Certs.html#5759" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="20983" href="Ledger.Conway.Conformance.Equivalence.html#20983" class="Bound">h</a><a id="20984" class="Symbol">))</a>  <a id="20988" href="Ledger.Conway.Conformance.Equivalence.html#20988" class="Bound">rs</a><a id="20990" class="Symbol">)</a> <a id="20992" class="Symbol">=</a>
    <a id="20998" class="Keyword">let</a> <a id="21002" href="Ledger.Conway.Conformance.Equivalence.html#21002" class="Bound">deps₂&#39;</a> <a id="21009" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21011" href="Ledger.Conway.Conformance.Equivalence.html#21011" class="Bound">eqd&#39;</a> <a id="21016" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21018" href="Ledger.Conway.Conformance.Equivalence.html#21018" class="Bound">rs&#39;</a> <a id="21022" class="Symbol">=</a> <a id="21024" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="21035" href="Ledger.Conway.Conformance.Equivalence.html#20904" class="Bound">deps₁</a> <a id="21041" href="Ledger.Conway.Conformance.Equivalence.html#20910" class="Bound">deps₂</a> <a id="21047" href="Ledger.Conway.Conformance.Equivalence.html#20916" class="Bound">deps₁&#39;</a> <a id="21054" href="Ledger.Conway.Conformance.Equivalence.html#20923" class="Bound">eqd</a> <a id="21058" href="Ledger.Conway.Conformance.Equivalence.html#20988" class="Bound">rs</a>
    <a id="21065" class="Keyword">in</a>  <a id="21069" href="Ledger.Conway.Conformance.Equivalence.html#21002" class="Bound">deps₂&#39;</a> <a id="21076" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21078" href="Ledger.Conway.Conformance.Equivalence.html#21011" class="Bound">eqd&#39;</a> <a id="21083" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21085" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="21091" class="Symbol">(</a><a id="21092" href="Ledger.Conway.Conformance.Certs.html#6539" class="InductiveConstructor">C.CERT-vdel</a> <a id="21104" class="Symbol">(</a><a id="21105" href="Ledger.Conway.Conformance.Certs.html#5759" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="21124" href="Ledger.Conway.Conformance.Equivalence.html#20983" class="Bound">h</a><a id="21125" class="Symbol">))</a> <a id="21128" href="Ledger.Conway.Conformance.Equivalence.html#21018" class="Bound">rs&#39;</a>

  <a id="castCERTS"></a><a id="21135" href="Ledger.Conway.Conformance.Equivalence.html#21135" class="Function">castCERTS</a> <a id="21145" class="Symbol">:</a> <a id="21147" class="Symbol">∀</a> <a id="21149" class="Symbol">{</a><a id="21150" href="Ledger.Conway.Conformance.Equivalence.html#21150" class="Bound">Γ</a> <a id="21152" href="Ledger.Conway.Conformance.Equivalence.html#21152" class="Bound">certs</a><a id="21157" class="Symbol">}</a> <a id="21159" class="Symbol">{</a><a id="21160" href="Ledger.Conway.Conformance.Equivalence.html#21160" class="Bound">s</a> <a id="21162" href="Ledger.Conway.Conformance.Equivalence.html#21162" class="Bound">s&#39;</a> <a id="21165" class="Symbol">:</a> <a id="21167" href="Ledger.Conway.Specification.Certs.html#4152" class="Record">L.CertState</a><a id="21178" class="Symbol">}</a> <a id="21180" href="Ledger.Conway.Conformance.Equivalence.html#21180" class="Bound">deps₁</a> <a id="21186" href="Ledger.Conway.Conformance.Equivalence.html#21186" class="Bound">deps₂</a> <a id="21192" href="Ledger.Conway.Conformance.Equivalence.html#21192" class="Bound">deps₁&#39;</a>
            <a id="21211" class="Symbol">→</a> <a id="21213" href="Ledger.Conway.Conformance.Equivalence.html#21180" class="Bound">deps₁</a> <a id="21219" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="21222" href="Ledger.Conway.Conformance.Equivalence.html#21186" class="Bound">deps₂</a>
            <a id="21240" class="Symbol">→</a> <a id="21242" href="Ledger.Conway.Conformance.Equivalence.html#21150" class="Bound">Γ</a> <a id="21244" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="21248" href="Ledger.Conway.Conformance.Equivalence.html#21180" class="Bound">deps₁</a> <a id="21254" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21260" href="Ledger.Conway.Conformance.Equivalence.html#21160" class="Bound">s</a> <a id="21262" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="21265" href="Ledger.Conway.Conformance.Equivalence.html#21152" class="Bound">certs</a> <a id="21271" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="21279" class="Symbol">(</a><a id="21280" href="Ledger.Conway.Conformance.Equivalence.html#21192" class="Bound">deps₁&#39;</a> <a id="21287" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21293" href="Ledger.Conway.Conformance.Equivalence.html#21162" class="Bound">s&#39;</a><a id="21295" class="Symbol">)</a>
            <a id="21309" class="Symbol">→</a> <a id="21311" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="21314" href="Ledger.Conway.Conformance.Equivalence.html#21314" class="Bound">deps₂&#39;</a> <a id="21321" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="21323" href="Ledger.Conway.Conformance.Equivalence.html#21192" class="Bound">deps₁&#39;</a> <a id="21330" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="21333" href="Ledger.Conway.Conformance.Equivalence.html#21314" class="Bound">deps₂&#39;</a> <a id="21340" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21342" href="Ledger.Conway.Conformance.Equivalence.html#21150" class="Bound">Γ</a> <a id="21344" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">C.⊢</a> <a id="21348" href="Ledger.Conway.Conformance.Equivalence.html#21186" class="Bound">deps₂</a> <a id="21354" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21360" href="Ledger.Conway.Conformance.Equivalence.html#21160" class="Bound">s</a> <a id="21362" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">⇀⦇</a> <a id="21365" href="Ledger.Conway.Conformance.Equivalence.html#21152" class="Bound">certs</a> <a id="21371" href="Ledger.Conway.Conformance.Certs.html#7841" class="Function Operator">,CERTS⦈</a> <a id="21379" class="Symbol">(</a><a id="21380" href="Ledger.Conway.Conformance.Equivalence.html#21314" class="Bound">deps₂&#39;</a> <a id="21387" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21393" href="Ledger.Conway.Conformance.Equivalence.html#21162" class="Bound">s&#39;</a><a id="21395" class="Symbol">)</a>
  <a id="21399" href="Ledger.Conway.Conformance.Equivalence.html#21135" class="Function">castCERTS</a> <a id="21409" href="Ledger.Conway.Conformance.Equivalence.html#21409" class="Bound">deps₁</a> <a id="21415" href="Ledger.Conway.Conformance.Equivalence.html#21415" class="Bound">deps₂</a> <a id="21421" href="Ledger.Conway.Conformance.Equivalence.html#21421" class="Bound">deps₁&#39;</a> <a id="21428" href="Ledger.Conway.Conformance.Equivalence.html#21428" class="Bound">eqd</a> <a id="21432" class="Symbol">(</a><a id="21433" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="21437" class="Symbol">(</a><a id="21438" href="Ledger.Conway.Conformance.Certs.html#6773" class="InductiveConstructor">C.CERT-pre</a> <a id="21449" href="Ledger.Conway.Conformance.Equivalence.html#21449" class="Bound">h</a> <a id="21451" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21453" href="Ledger.Conway.Conformance.Equivalence.html#21453" class="Bound">step</a><a id="21457" class="Symbol">))</a> <a id="21460" class="Symbol">=</a>
    <a id="21466" class="Keyword">let</a> <a id="21470" href="Ledger.Conway.Conformance.Equivalence.html#21470" class="Bound">deps₂&#39;</a> <a id="21477" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21479" href="Ledger.Conway.Conformance.Equivalence.html#21479" class="Bound">eqd&#39;</a> <a id="21484" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21486" href="Ledger.Conway.Conformance.Equivalence.html#21486" class="Bound">step&#39;</a> <a id="21492" class="Symbol">=</a> <a id="21494" href="Ledger.Conway.Conformance.Equivalence.html#17146" class="Function">castCERTS&#39;</a> <a id="21505" href="Ledger.Conway.Conformance.Equivalence.html#21409" class="Bound">deps₁</a> <a id="21511" href="Ledger.Conway.Conformance.Equivalence.html#21415" class="Bound">deps₂</a> <a id="21517" href="Ledger.Conway.Conformance.Equivalence.html#21421" class="Bound">deps₁&#39;</a> <a id="21524" href="Ledger.Conway.Conformance.Equivalence.html#21428" class="Bound">eqd</a> <a id="21528" href="Ledger.Conway.Conformance.Equivalence.html#21453" class="Bound">step</a>
    <a id="21537" class="Keyword">in</a>  <a id="21541" href="Ledger.Conway.Conformance.Equivalence.html#21470" class="Bound">deps₂&#39;</a> <a id="21548" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21550" href="Ledger.Conway.Conformance.Equivalence.html#21479" class="Bound">eqd&#39;</a> <a id="21555" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21557" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="21561" class="Symbol">(</a><a id="21562" href="Ledger.Conway.Conformance.Certs.html#6773" class="InductiveConstructor">C.CERT-pre</a> <a id="21573" href="Ledger.Conway.Conformance.Equivalence.html#21449" class="Bound">h</a> <a id="21575" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21577" href="Ledger.Conway.Conformance.Equivalence.html#21486" class="Bound">step&#39;</a><a id="21582" class="Symbol">)</a>

<a id="_⊢_⇀⦇_,GOVn⦈_"></a><a id="21585" href="Ledger.Conway.Conformance.Equivalence.html#21585" class="Function Operator">_⊢_⇀⦇_,GOVn⦈_</a> <a id="21599" class="Symbol">:</a> <a id="21601" href="Ledger.Conway.Specification.Gov.html#1590" class="Record">L.GovEnv</a> <a id="21610" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21612" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="21614" class="Symbol">→</a> <a id="21616" href="Ledger.Conway.Specification.Gov.html#1401" class="Function">L.GovState</a> <a id="21627" class="Symbol">→</a> <a id="21629" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="21634" class="Symbol">(</a><a id="21635" href="Ledger.Conway.Specification.Gov.Actions.html#2294" class="Record">GovVote</a> <a id="21643" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="21645" href="Ledger.Conway.Specification.Gov.Actions.html#3603" class="Record">GovProposal</a><a id="21656" class="Symbol">)</a> <a id="21658" class="Symbol">→</a> <a id="21660" href="Ledger.Conway.Specification.Gov.html#1401" class="Function">L.GovState</a> <a id="21671" class="Symbol">→</a> <a id="21673" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="21678" href="Ledger.Conway.Conformance.Equivalence.html#21585" class="Function Operator">_⊢_⇀⦇_,GOVn⦈_</a> <a id="21692" class="Symbol">=</a> <a id="21694" href="Interface.STS.html#1505" class="Datatype Operator">_⊢_⇀⟦_⟧ᵢ*&#39;_</a> <a id="21706" class="Symbol">{</a><a id="21707" class="Argument">_⊢_⇀⟦_⟧ᵇ_</a> <a id="21717" class="Symbol">=</a> <a id="21719" href="Interface.STS.html#1981" class="Datatype">IdSTS</a><a id="21724" class="Symbol">}</a> <a id="21726" class="Symbol">{</a><a id="21727" class="Argument">_⊢_⇀⟦_⟧_</a> <a id="21736" class="Symbol">=</a> <a id="21738" href="Ledger.Conway.Specification.Gov.html#15296" class="Datatype Operator">L._⊢_⇀⦇_,GOV⦈_</a><a id="21752" class="Symbol">}</a>

<a id="21755" class="Keyword">opaque</a>
  <a id="castLEDGER"></a><a id="21764" href="Ledger.Conway.Conformance.Equivalence.html#21764" class="Function">castLEDGER</a> <a id="21775" class="Symbol">:</a> <a id="21777" class="Symbol">∀</a> <a id="21779" class="Symbol">{</a><a id="21780" href="Ledger.Conway.Conformance.Equivalence.html#21780" class="Bound">Γ</a> <a id="21782" href="Ledger.Conway.Conformance.Equivalence.html#21782" class="Bound">tx</a><a id="21784" class="Symbol">}</a> <a id="21786" class="Symbol">{</a><a id="21787" href="Ledger.Conway.Conformance.Equivalence.html#21787" class="Bound">s</a> <a id="21789" href="Ledger.Conway.Conformance.Equivalence.html#21789" class="Bound">s&#39;</a> <a id="21792" class="Symbol">:</a> <a id="21794" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">L.LState</a><a id="21802" class="Symbol">}</a> <a id="21804" href="Ledger.Conway.Conformance.Equivalence.html#21804" class="Bound">deps₁</a> <a id="21810" href="Ledger.Conway.Conformance.Equivalence.html#21810" class="Bound">deps₂</a> <a id="21816" href="Ledger.Conway.Conformance.Equivalence.html#21816" class="Bound">deps₁&#39;</a>
            <a id="21835" class="Symbol">→</a> <a id="21837" href="Ledger.Conway.Conformance.Equivalence.html#21804" class="Bound">deps₁</a> <a id="21843" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="21846" href="Ledger.Conway.Conformance.Equivalence.html#21810" class="Bound">deps₂</a>
            <a id="21864" class="Symbol">→</a> <a id="21866" href="Ledger.Conway.Conformance.Equivalence.html#21780" class="Bound">Γ</a> <a id="21868" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="21872" href="Ledger.Conway.Conformance.Equivalence.html#21804" class="Bound">deps₁</a> <a id="21878" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21884" href="Ledger.Conway.Conformance.Equivalence.html#21787" class="Bound">s</a> <a id="21886" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="21889" href="Ledger.Conway.Conformance.Equivalence.html#21782" class="Bound">tx</a> <a id="21892" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="21901" class="Symbol">(</a><a id="21902" href="Ledger.Conway.Conformance.Equivalence.html#21816" class="Bound">deps₁&#39;</a> <a id="21909" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21915" href="Ledger.Conway.Conformance.Equivalence.html#21789" class="Bound">s&#39;</a><a id="21917" class="Symbol">)</a>
            <a id="21931" class="Symbol">→</a> <a id="21933" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="21936" href="Ledger.Conway.Conformance.Equivalence.html#21936" class="Bound">deps₂&#39;</a> <a id="21943" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="21945" href="Ledger.Conway.Conformance.Equivalence.html#21816" class="Bound">deps₁&#39;</a> <a id="21952" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="21955" href="Ledger.Conway.Conformance.Equivalence.html#21936" class="Bound">deps₂&#39;</a> <a id="21962" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21964" href="Ledger.Conway.Conformance.Equivalence.html#21780" class="Bound">Γ</a> <a id="21966" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C.⊢</a> <a id="21970" href="Ledger.Conway.Conformance.Equivalence.html#21810" class="Bound">deps₂</a> <a id="21976" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21982" href="Ledger.Conway.Conformance.Equivalence.html#21787" class="Bound">s</a> <a id="21984" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">⇀⦇</a> <a id="21987" href="Ledger.Conway.Conformance.Equivalence.html#21782" class="Bound">tx</a> <a id="21990" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">,LEDGER⦈</a> <a id="21999" class="Symbol">(</a><a id="22000" href="Ledger.Conway.Conformance.Equivalence.html#21936" class="Bound">deps₂&#39;</a> <a id="22007" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="22013" href="Ledger.Conway.Conformance.Equivalence.html#21789" class="Bound">s&#39;</a><a id="22015" class="Symbol">)</a>
  <a id="22019" href="Ledger.Conway.Conformance.Equivalence.html#21764" class="Function">castLEDGER</a> <a id="22030" class="Symbol">{</a><a id="22031" href="Ledger.Conway.Conformance.Equivalence.html#22031" class="Bound">Γ</a><a id="22032" class="Symbol">}</a> <a id="22034" class="Symbol">{</a><a id="22035" href="Ledger.Conway.Conformance.Equivalence.html#22035" class="Bound">tx</a><a id="22037" class="Symbol">}</a> <a id="22039" class="Symbol">{</a><a id="22040" href="Ledger.Conway.Conformance.Equivalence.html#22040" class="Bound">s</a><a id="22041" class="Symbol">}</a> <a id="22043" class="Symbol">{</a><a id="22044" href="Ledger.Conway.Conformance.Equivalence.html#22044" class="Bound">s&#39;</a><a id="22046" class="Symbol">}</a> <a id="22048" href="Ledger.Conway.Conformance.Equivalence.html#22048" class="Bound">deps₁</a> <a id="22054" href="Ledger.Conway.Conformance.Equivalence.html#22054" class="Bound">deps₂</a> <a id="22060" href="Ledger.Conway.Conformance.Equivalence.html#22060" class="Bound">deps₁&#39;</a> <a id="22067" href="Ledger.Conway.Conformance.Equivalence.html#22067" class="Bound">eqd</a> <a id="22071" class="Symbol">(</a><a id="22072" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="22084" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22089" href="Ledger.Conway.Conformance.Equivalence.html#22089" class="Bound">utxo</a> <a id="22094" href="Ledger.Conway.Conformance.Equivalence.html#22094" class="Bound">certs</a> <a id="22100" href="Ledger.Conway.Conformance.Equivalence.html#22100" class="Bound">gov</a><a id="22103" class="Symbol">)</a> <a id="22105" class="Symbol">=</a>
    <a id="22111" class="Keyword">let</a> <a id="22115" href="Ledger.Conway.Conformance.Equivalence.html#22115" class="Bound">deps₂&#39;</a> <a id="22122" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22124" href="Ledger.Conway.Conformance.Equivalence.html#22124" class="Bound">eqd&#39;</a> <a id="22129" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22131" href="Ledger.Conway.Conformance.Equivalence.html#22131" class="Bound">certs&#39;</a> <a id="22138" class="Symbol">=</a> <a id="22140" href="Ledger.Conway.Conformance.Equivalence.html#21135" class="Function">castCERTS</a> <a id="22150" href="Ledger.Conway.Conformance.Equivalence.html#22048" class="Bound">deps₁</a> <a id="22156" href="Ledger.Conway.Conformance.Equivalence.html#22054" class="Bound">deps₂</a> <a id="22162" href="Ledger.Conway.Conformance.Equivalence.html#22060" class="Bound">deps₁&#39;</a> <a id="22169" href="Ledger.Conway.Conformance.Equivalence.html#22067" class="Bound">eqd</a> <a id="22173" href="Ledger.Conway.Conformance.Equivalence.html#22094" class="Bound">certs</a>
    <a id="22183" class="Keyword">in</a>  <a id="22187" href="Ledger.Conway.Conformance.Equivalence.html#22115" class="Bound">deps₂&#39;</a> <a id="22194" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22196" href="Ledger.Conway.Conformance.Equivalence.html#22124" class="Bound">eqd&#39;</a> <a id="22201" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22203" href="Ledger.Conway.Conformance.Ledger.html#2178" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="22215" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22220" href="Ledger.Conway.Conformance.Equivalence.html#22089" class="Bound">utxo</a> <a id="22225" href="Ledger.Conway.Conformance.Equivalence.html#22131" class="Bound">certs&#39;</a> <a id="22232" href="Ledger.Conway.Conformance.Equivalence.html#22100" class="Bound">gov</a>
  <a id="22238" href="Ledger.Conway.Conformance.Equivalence.html#21764" class="Function">castLEDGER</a> <a id="22249" href="Ledger.Conway.Conformance.Equivalence.html#22249" class="Bound">deps₁</a> <a id="22255" href="Ledger.Conway.Conformance.Equivalence.html#22255" class="Bound">deps₂</a> <a id="22261" href="Ledger.Conway.Conformance.Equivalence.html#22261" class="Bound">deps₁&#39;</a> <a id="22268" href="Ledger.Conway.Conformance.Equivalence.html#22268" class="Bound">eqd</a> <a id="22272" class="Symbol">(</a><a id="22273" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="22285" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22290" href="Ledger.Conway.Conformance.Equivalence.html#22290" class="Bound">utxo</a><a id="22294" class="Symbol">)</a> <a id="22296" class="Symbol">=</a> <a id="22298" class="Symbol">_</a> <a id="22300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22302" href="Ledger.Conway.Conformance.Equivalence.html#22268" class="Bound">eqd</a> <a id="22306" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22308" href="Ledger.Conway.Conformance.Ledger.html#2231" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="22320" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22325" href="Ledger.Conway.Conformance.Equivalence.html#22290" class="Bound">utxo</a>

<a id="22331" class="Comment">---------------------------------------------------------------------------</a>
<a id="22407" class="Comment">-- The main result</a>
<a id="22426" class="Comment">---------------------------------------------------------------------------</a>

<a id="22503" class="Keyword">open</a> <a id="22508" class="Keyword">import</a> <a id="22515" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html" class="Module">Ledger.Conway.Conformance.Equivalence.Bisimilarity</a>

<a id="22567" class="Comment">-- An LState sˡ from the Spec and an LState sᶜ from Conformance are</a>
<a id="22635" class="Comment">-- bisimular iff</a>
<a id="22652" class="Comment">--  ∙ the deposits in the CertState of sᶜ are equal (as maps) to the</a>
<a id="22721" class="Comment">--    appropriate restrictions of the deposits in the UTxOState of sˡ</a>
<a id="22791" class="Comment">--  ∙ the only difference between sˡ and sᶜ are the extra deposits in</a>
<a id="22861" class="Comment">--    the CertState of sᶜ.</a>
<a id="_∼_"></a><a id="22888" href="Ledger.Conway.Conformance.Equivalence.html#22888" class="Function Operator">_∼_</a> <a id="22892" class="Symbol">:</a> <a id="22894" href="Ledger.Conway.Specification.Ledger.html#988" class="Record">L.LState</a> <a id="22903" class="Symbol">→</a> <a id="22905" href="Ledger.Conway.Conformance.Ledger.html#779" class="Record">C.LState</a> <a id="22914" class="Symbol">→</a> <a id="22916" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="22921" href="Ledger.Conway.Conformance.Equivalence.html#22921" class="Bound">sˡ</a> <a id="22924" href="Ledger.Conway.Conformance.Equivalence.html#22888" class="Function Operator">∼</a> <a id="22926" href="Ledger.Conway.Conformance.Equivalence.html#22926" class="Bound">sᶜ</a> <a id="22929" class="Symbol">=</a> <a id="22931" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="22944" href="Ledger.Conway.Conformance.Equivalence.html#22921" class="Bound">sˡ</a> <a id="22947" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="22950" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="22964" class="Symbol">(</a><a id="22965" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="22984" href="Ledger.Conway.Conformance.Equivalence.html#22926" class="Bound">sᶜ</a><a id="22986" class="Symbol">)</a> <a id="22988" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="22990" href="Ledger.Conway.Conformance.Equivalence.html#22921" class="Bound">sˡ</a> <a id="22993" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="22995" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23000" href="Ledger.Conway.Conformance.Equivalence.html#22926" class="Bound">sᶜ</a>

<a id="23004" class="Comment">-- This gives us the main result: a bisimulation between the LEDGER</a>
<a id="23072" class="Comment">-- rules in Ledger and in Conformance.</a>
<a id="bisimilarityProof"></a><a id="23111" href="Ledger.Conway.Conformance.Equivalence.html#23111" class="Function">bisimilarityProof</a> <a id="23129" class="Symbol">:</a> <a id="23131" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#128" class="Record">Bisimilar</a> <a id="23141" href="Ledger.Conway.Specification.Ledger.html#3833" class="Datatype Operator">L._⊢_⇀⦇_,LEDGER⦈_</a> <a id="23159" href="Ledger.Conway.Conformance.Ledger.html#1157" class="Datatype Operator">C._⊢_⇀⦇_,LEDGER⦈_</a>
<a id="23177" href="Ledger.Conway.Conformance.Equivalence.html#23111" class="Function">bisimilarityProof</a> <a id="23195" class="Symbol">.</a><a id="23196" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#259" class="Field Operator">Bisimilar._≈_</a> <a id="23210" class="Symbol">=</a> <a id="23212" href="Ledger.Conway.Conformance.Equivalence.html#22888" class="Function Operator">_∼_</a>
<a id="23216" href="Ledger.Conway.Conformance.Equivalence.html#23111" class="Function">bisimilarityProof</a> <a id="23234" class="Symbol">.</a><a id="23235" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#284" class="Field">Bisimilar.to</a> <a id="23248" class="Symbol">{</a><a id="23249" href="Ledger.Conway.Conformance.Equivalence.html#23249" class="Bound">Γ</a><a id="23250" class="Symbol">}</a> <a id="23252" class="Symbol">{</a><a id="23253" href="Ledger.Conway.Conformance.Equivalence.html#23253" class="Bound">tx</a><a id="23255" class="Symbol">}</a> <a id="23257" class="Symbol">{</a><a id="23258" href="Ledger.Conway.Conformance.Equivalence.html#23258" class="Bound">sˡ</a><a id="23260" class="Symbol">}</a> <a id="23262" class="Symbol">{</a><a id="23263" href="Ledger.Conway.Conformance.Equivalence.html#23263" class="Bound">sˡ&#39;</a><a id="23266" class="Symbol">}</a> <a id="23268" class="Symbol">{</a><a id="23269" href="Ledger.Conway.Conformance.Equivalence.html#23269" class="Bound">sᶜ</a><a id="23271" class="Symbol">}</a> <a id="23273" class="Symbol">(</a><a id="23274" href="Ledger.Conway.Conformance.Equivalence.html#23274" class="Bound">eq</a> <a id="23277" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23279" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23283" class="Symbol">)</a> <a id="23285" href="Ledger.Conway.Conformance.Equivalence.html#23285" class="Bound">r</a> <a id="23287" class="Symbol">=</a>
  <a id="23291" class="Keyword">let</a> <a id="23295" href="Ledger.Conway.Conformance.Equivalence.html#23295" class="Bound">deps</a>  <a id="23301" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23303" href="Ledger.Conway.Conformance.Equivalence.html#23303" class="Bound">eqd</a>  <a id="23308" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23310" href="Ledger.Conway.Conformance.Equivalence.html#23310" class="Bound">r&#39;</a>  <a id="23314" class="Symbol">=</a> <a id="23316" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23321" href="Ledger.Conway.Conformance.Equivalence.html#23285" class="Bound">r</a>
      <a id="23329" href="Ledger.Conway.Conformance.Equivalence.html#23329" class="Bound">deps&#39;</a> <a id="23335" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23337" href="Ledger.Conway.Conformance.Equivalence.html#23337" class="Bound">eqd&#39;</a> <a id="23342" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23344" href="Ledger.Conway.Conformance.Equivalence.html#23344" class="Bound">r&#39;&#39;</a> <a id="23348" class="Symbol">=</a> <a id="23350" href="Ledger.Conway.Conformance.Equivalence.html#21764" class="Function">castLEDGER</a> <a id="23361" class="Symbol">(</a><a id="23362" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23375" class="Symbol">(</a><a id="23376" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23381" href="Ledger.Conway.Conformance.Equivalence.html#23269" class="Bound">sᶜ</a><a id="23383" class="Symbol">))</a>
                                      <a id="23424" class="Symbol">(</a><a id="23425" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="23439" class="Symbol">(</a><a id="23440" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="23459" href="Ledger.Conway.Conformance.Equivalence.html#23269" class="Bound">sᶜ</a><a id="23461" class="Symbol">))</a>
                                      <a id="23502" href="Ledger.Conway.Conformance.Equivalence.html#23295" class="Bound">deps</a>
                                      <a id="23545" href="Ledger.Conway.Conformance.Equivalence.html#23274" class="Bound">eq</a>
                                      <a id="23586" href="Ledger.Conway.Conformance.Equivalence.html#23310" class="Bound">r&#39;</a>
      <a id="23595" href="Ledger.Conway.Conformance.Equivalence.html#23595" class="Bound">eqd&#39;&#39;</a> <a id="23601" class="Symbol">:</a> <a id="23603" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23616" href="Ledger.Conway.Conformance.Equivalence.html#23263" class="Bound">sˡ&#39;</a> <a id="23620" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12950" class="Function Operator">≡ᵈ</a> <a id="23623" href="Ledger.Conway.Conformance.Equivalence.html#23329" class="Bound">deps&#39;</a>
      <a id="23635" href="Ledger.Conway.Conformance.Equivalence.html#23595" class="Bound">eqd&#39;&#39;</a> <a id="23641" class="Symbol">=</a> <a id="23643" href="Ledger.Conway.Conformance.Equivalence.html#13421" class="Function">≡ᵈ-trans</a> <a id="23652" class="Symbol">{</a><a id="23653" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23666" href="Ledger.Conway.Conformance.Equivalence.html#23263" class="Bound">sˡ&#39;</a><a id="23669" class="Symbol">}</a> <a id="23671" class="Symbol">{</a><a id="23672" href="Ledger.Conway.Conformance.Equivalence.html#23295" class="Bound">deps</a><a id="23676" class="Symbol">}</a> <a id="23678" class="Symbol">{</a><a id="23679" href="Ledger.Conway.Conformance.Equivalence.html#23329" class="Bound">deps&#39;</a><a id="23684" class="Symbol">}</a> <a id="23686" class="Symbol">(</a><a id="23687" href="Ledger.Conway.Conformance.Equivalence.html#13404" class="Function">≡ᵈ-sym</a> <a id="23694" class="Symbol">{</a><a id="23695" href="Ledger.Conway.Conformance.Equivalence.html#23295" class="Bound">deps</a><a id="23699" class="Symbol">}</a> <a id="23701" class="Symbol">{</a><a id="23702" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23715" href="Ledger.Conway.Conformance.Equivalence.html#23263" class="Bound">sˡ&#39;</a><a id="23718" class="Symbol">}</a> <a id="23720" href="Ledger.Conway.Conformance.Equivalence.html#23303" class="Bound">eqd</a><a id="23723" class="Symbol">)</a> <a id="23725" href="Ledger.Conway.Conformance.Equivalence.html#23337" class="Bound">eqd&#39;</a>
  <a id="23732" class="Keyword">in</a>
  <a id="23737" class="Symbol">(</a><a id="23738" href="Ledger.Conway.Conformance.Equivalence.html#23329" class="Bound">deps&#39;</a> <a id="23744" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="23750" href="Ledger.Conway.Conformance.Equivalence.html#23263" class="Bound">sˡ&#39;</a><a id="23753" class="Symbol">)</a> <a id="23755" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23757" class="Symbol">(</a><a id="23758" href="Ledger.Conway.Conformance.Equivalence.html#23595" class="Bound">eqd&#39;&#39;</a> <a id="23764" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23766" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23770" class="Symbol">)</a> <a id="23772" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23774" href="Ledger.Conway.Conformance.Equivalence.html#23344" class="Bound">r&#39;&#39;</a>
<a id="23778" href="Ledger.Conway.Conformance.Equivalence.html#23111" class="Function">bisimilarityProof</a> <a id="23796" class="Symbol">.</a><a id="23797" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#419" class="Field">Bisimilar.from</a> <a id="23812" class="Symbol">{</a><a id="23813" href="Ledger.Conway.Conformance.Equivalence.html#23813" class="Bound">Γ</a><a id="23814" class="Symbol">}</a> <a id="23816" class="Symbol">{</a><a id="23817" href="Ledger.Conway.Conformance.Equivalence.html#23817" class="Bound">tx</a><a id="23819" class="Symbol">}</a> <a id="23821" class="Symbol">{</a><a id="23822" href="Ledger.Conway.Conformance.Equivalence.html#23822" class="Bound">sˡ</a><a id="23824" class="Symbol">}</a> <a id="23826" class="Symbol">{</a><a id="23827" href="Ledger.Conway.Conformance.Equivalence.html#23827" class="Bound">sᶜ</a><a id="23829" class="Symbol">}</a> <a id="23831" class="Symbol">{</a><a id="23832" href="Ledger.Conway.Conformance.Equivalence.html#23832" class="Bound">sᶜ&#39;</a><a id="23835" class="Symbol">}</a> <a id="23837" class="Symbol">(</a><a id="23838" href="Ledger.Conway.Conformance.Equivalence.html#23838" class="Bound">eqd</a> <a id="23842" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23844" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23848" class="Symbol">)</a> <a id="23850" href="Ledger.Conway.Conformance.Equivalence.html#23850" class="Bound">r</a> <a id="23852" class="Symbol">=</a>
  <a id="23856" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23861" href="Ledger.Conway.Conformance.Equivalence.html#23832" class="Bound">sᶜ&#39;</a> <a id="23865" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23867" class="Symbol">(</a><a id="23868" href="Ledger.Conway.Conformance.Equivalence.html#23991" class="Function">wf&#39;</a> <a id="23872" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23874" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23878" class="Symbol">)</a> <a id="23880" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23882" href="Ledger.Conway.Conformance.Equivalence.html#23905" class="Function">wf</a> <a id="23885" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="23891" href="Ledger.Conway.Conformance.Equivalence.html#23850" class="Bound">r</a>
  <a id="23895" class="Keyword">where</a>
    <a id="23905" href="Ledger.Conway.Conformance.Equivalence.html#23905" class="Function">wf</a>  <a id="23909" class="Symbol">=</a> <a id="23911" href="Ledger.Conway.Conformance.Equivalence.html#13404" class="Function">≡ᵈ-sym</a> <a id="23918" class="Symbol">{</a><a id="23919" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="23932" class="Symbol">(</a><a id="23933" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23938" href="Ledger.Conway.Conformance.Equivalence.html#23827" class="Bound">sᶜ</a><a id="23940" class="Symbol">)}</a> <a id="23943" class="Symbol">{</a><a id="23944" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="23958" class="Symbol">(</a><a id="23959" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="23978" href="Ledger.Conway.Conformance.Equivalence.html#23827" class="Bound">sᶜ</a><a id="23980" class="Symbol">)}</a> <a id="23983" href="Ledger.Conway.Conformance.Equivalence.html#23838" class="Bound">eqd</a>
    <a id="23991" href="Ledger.Conway.Conformance.Equivalence.html#23991" class="Function">wf&#39;</a> <a id="23995" class="Symbol">=</a> <a id="23997" href="Ledger.Conway.Conformance.Equivalence.html#13404" class="Function">≡ᵈ-sym</a> <a id="24004" class="Symbol">{</a><a id="24005" href="Ledger.Conway.Conformance.Equivalence.html#8014" class="Function">certDepositsC</a> <a id="24019" class="Symbol">(</a><a id="24020" href="Ledger.Conway.Conformance.Ledger.html#887" class="Field">C.LState.certState</a> <a id="24039" href="Ledger.Conway.Conformance.Equivalence.html#23832" class="Bound">sᶜ&#39;</a><a id="24042" class="Symbol">)}</a> <a id="24045" class="Symbol">{</a><a id="24046" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12794" class="Function">certDeposits</a> <a id="24059" class="Symbol">(</a><a id="24060" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="24065" href="Ledger.Conway.Conformance.Equivalence.html#23832" class="Bound">sᶜ&#39;</a><a id="24068" class="Symbol">)}</a> <a id="24071" class="Symbol">(</a><a id="24072" href="Ledger.Conway.Conformance.Equivalence.html#14806" class="Function">lemWellformed</a> <a id="24086" href="Ledger.Conway.Conformance.Equivalence.html#23905" class="Function">wf</a> <a id="24089" href="Ledger.Conway.Conformance.Equivalence.html#23850" class="Bound">r</a><a id="24090" class="Symbol">)</a>
    <a id="24096" href="Ledger.Conway.Conformance.Equivalence.html#24096" class="Function">r&#39;</a> <a id="24099" class="Symbol">=</a> <a id="24101" href="Ledger.Conway.Conformance.Equivalence.html#23905" class="Function">wf</a> <a id="24104" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="24110" href="Ledger.Conway.Conformance.Equivalence.html#23850" class="Bound">r</a>
</pre></body></html>