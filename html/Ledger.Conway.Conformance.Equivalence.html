<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Conformance.Equivalence</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Comment">-- Proof that the rules under Ledger.Conway.Conformance are equivalent</a>
<a id="95" class="Comment">-- to the rules under Ledger.</a>

<a id="126" class="Keyword">open</a> <a id="131" class="Keyword">import</a> <a id="138" href="Ledger.Core.Specification.Abstract.html" class="Module">Ledger.Core.Specification.Abstract</a>
<a id="173" class="Keyword">open</a> <a id="178" class="Keyword">import</a> <a id="185" href="Ledger.Core.Specification.Transaction.html" class="Module">Ledger.Core.Specification.Transaction</a>

<a id="224" class="Keyword">module</a> <a id="231" href="Ledger.Conway.Conformance.Equivalence.html" class="Module">Ledger.Conway.Conformance.Equivalence</a>
  <a id="271" class="Symbol">(</a><a id="272" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a> <a id="276" class="Symbol">:</a> <a id="278" href="Ledger.Core.Specification.Transaction.html#896" class="Record">TransactionStructure</a><a id="298" class="Symbol">)</a> <a id="300" class="Symbol">(</a><a id="301" class="Keyword">open</a> <a id="306" href="Ledger.Core.Specification.Transaction.html#896" class="Module">TransactionStructure</a> <a id="327" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a><a id="330" class="Symbol">)</a>
  <a id="334" class="Symbol">(</a><a id="335" href="Ledger.Conway.Conformance.Equivalence.html#335" class="Bound">abs</a> <a id="339" class="Symbol">:</a> <a id="341" href="Ledger.Core.Specification.Abstract.html#826" class="Record">AbstractFunctions</a> <a id="359" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a><a id="362" class="Symbol">)</a>
  <a id="366" class="Keyword">where</a>

<a id="373" class="Keyword">open</a> <a id="378" class="Keyword">import</a> <a id="385" href="Data.Product.html" class="Module">Data.Product</a> <a id="398" class="Keyword">using</a> <a id="404" class="Symbol">(</a><a id="405" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="408" class="Symbol">;</a> <a id="410" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="413" class="Symbol">)</a> <a id="415" class="Keyword">renaming</a> <a id="424" class="Symbol">(</a><a id="425" href="Data.Product.Base.html#2173" class="Function">map</a> <a id="429" class="Symbol">to</a> <a id="432" class="Function">⟨_,_⟩</a><a id="437" class="Symbol">)</a>
<a id="439" class="Keyword">open</a> <a id="444" class="Keyword">import</a> <a id="451" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="467" class="Keyword">using</a> <a id="473" class="Symbol">(</a><a id="474" href="Relation.Binary.Structures.html#1595" class="Record">IsEquivalence</a><a id="487" class="Symbol">)</a>

<a id="490" class="Keyword">open</a> <a id="495" class="Keyword">import</a> <a id="502" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a>
<a id="517" class="Keyword">open</a> <a id="522" class="Keyword">import</a> <a id="529" href="Ledger.Conway.Conformance.Equivalence.Convert.html" class="Module">Ledger.Conway.Conformance.Equivalence.Convert</a>
<a id="575" class="Keyword">open</a> <a id="580" class="Keyword">import</a> <a id="587" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a> <a id="627" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a> <a id="631" href="Ledger.Conway.Conformance.Equivalence.html#335" class="Bound">abs</a> <a id="635" class="Keyword">public</a>

<a id="643" class="Keyword">module</a> <a id="L"></a><a id="650" href="Ledger.Conway.Conformance.Equivalence.html#650" class="Module">L</a> <a id="652" class="Keyword">where</a>
  <a id="660" class="Keyword">open</a> <a id="665" class="Keyword">import</a> <a id="672" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="707" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a> <a id="711" href="Ledger.Conway.Conformance.Equivalence.html#335" class="Bound">abs</a> <a id="715" class="Keyword">public</a>
  <a id="724" class="Keyword">open</a> <a id="729" class="Keyword">import</a> <a id="736" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="769" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a> <a id="773" href="Ledger.Conway.Conformance.Equivalence.html#335" class="Bound">abs</a> <a id="777" class="Keyword">public</a>
  <a id="786" class="Keyword">open</a> <a id="791" class="Keyword">import</a> <a id="798" href="Ledger.Conway.Specification.Utxow.html" class="Module">Ledger.Conway.Specification.Utxow</a> <a id="832" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a> <a id="836" href="Ledger.Conway.Conformance.Equivalence.html#335" class="Bound">abs</a> <a id="840" class="Keyword">public</a>
  <a id="849" class="Keyword">open</a> <a id="854" class="Keyword">import</a> <a id="861" href="Ledger.Conway.Specification.Gov.html" class="Module">Ledger.Conway.Specification.Gov</a> <a id="893" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a> <a id="897" class="Keyword">public</a>
  <a id="906" class="Keyword">open</a> <a id="911" class="Keyword">import</a> <a id="918" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="952" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a> <a id="965" class="Keyword">public</a>

<a id="973" class="Keyword">module</a> <a id="C"></a><a id="980" href="Ledger.Conway.Conformance.Equivalence.html#980" class="Module">C</a> <a id="982" class="Keyword">where</a>
  <a id="990" class="Keyword">open</a> <a id="995" class="Keyword">import</a> <a id="1002" href="Ledger.Conway.Conformance.Ledger.html" class="Module">Ledger.Conway.Conformance.Ledger</a> <a id="1035" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a> <a id="1039" href="Ledger.Conway.Conformance.Equivalence.html#335" class="Bound">abs</a> <a id="1043" class="Keyword">public</a>
  <a id="1052" class="Keyword">open</a> <a id="1057" class="Keyword">import</a> <a id="1064" href="Ledger.Conway.Conformance.Utxo.html" class="Module">Ledger.Conway.Conformance.Utxo</a> <a id="1095" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a> <a id="1099" href="Ledger.Conway.Conformance.Equivalence.html#335" class="Bound">abs</a> <a id="1103" class="Keyword">public</a>
  <a id="1112" class="Keyword">open</a> <a id="1117" class="Keyword">import</a> <a id="1124" href="Ledger.Conway.Conformance.Utxow.html" class="Module">Ledger.Conway.Conformance.Utxow</a> <a id="1156" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a> <a id="1160" href="Ledger.Conway.Conformance.Equivalence.html#335" class="Bound">abs</a> <a id="1164" class="Keyword">public</a>
  <a id="1173" class="Keyword">open</a> <a id="1178" class="Keyword">import</a> <a id="1185" href="Ledger.Conway.Conformance.Certs.html" class="Module">Ledger.Conway.Conformance.Certs</a> <a id="1217" href="Ledger.Core.Specification.Transaction.html#1970" class="Function">govStructure</a> <a id="1230" class="Keyword">public</a>

<a id="1238" class="Keyword">open</a> <a id="1243" class="Keyword">import</a> <a id="1250" href="Ledger.Conway.Conformance.Equivalence.Certs.html" class="Module">Ledger.Conway.Conformance.Equivalence.Certs</a> <a id="1294" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a> <a id="1298" href="Ledger.Conway.Conformance.Equivalence.html#335" class="Bound">abs</a>
<a id="1302" class="Keyword">open</a> <a id="1307" class="Keyword">import</a> <a id="1314" href="Ledger.Conway.Conformance.Equivalence.Utxo.html" class="Module">Ledger.Conway.Conformance.Equivalence.Utxo</a> <a id="1357" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a> <a id="1361" href="Ledger.Conway.Conformance.Equivalence.html#335" class="Bound">abs</a>
<a id="1365" class="Keyword">open</a> <a id="1370" class="Keyword">import</a> <a id="1377" href="Ledger.Conway.Conformance.Equivalence.Deposits.html" class="Module">Ledger.Conway.Conformance.Equivalence.Deposits</a> <a id="1424" href="Ledger.Conway.Conformance.Equivalence.html#272" class="Bound">txs</a> <a id="1428" href="Ledger.Conway.Conformance.Equivalence.html#335" class="Bound">abs</a>

<a id="1433" class="Keyword">open</a> <a id="1438" href="Ledger.Conway.Specification.Transaction.html#1719" class="Module">Tx</a>
<a id="1441" class="Keyword">open</a> <a id="1446" class="Keyword">import</a> <a id="1453" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="1474" href="Axiom.Set.html#10936" class="Function">th</a> <a id="1477" class="Keyword">using</a> <a id="1483" class="Symbol">(</a><a id="1484" href="Axiom.Set.Properties.html#3967" class="Function">≡ᵉ-Setoid</a><a id="1493" class="Symbol">)</a>

<a id="1496" class="Comment">-- Invalid transactions don&#39;t change the deposits</a>
<a id="lemInvalidDepositsL"></a><a id="1546" href="Ledger.Conway.Conformance.Equivalence.html#1546" class="Function">lemInvalidDepositsL</a> <a id="1566" class="Symbol">:</a> <a id="1568" class="Symbol">∀</a> <a id="1570" class="Symbol">{</a><a id="1571" href="Ledger.Conway.Conformance.Equivalence.html#1571" class="Bound">Γ</a> <a id="1573" href="Ledger.Conway.Conformance.Equivalence.html#1573" class="Bound">utxoSt</a> <a id="1580" href="Ledger.Conway.Conformance.Equivalence.html#1580" class="Bound">utxoSt&#39;</a> <a id="1588" href="Ledger.Conway.Conformance.Equivalence.html#1588" class="Bound">tx</a><a id="1590" class="Symbol">}</a>
                    <a id="1612" class="Symbol">→</a> <a id="1614" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="1622" href="Ledger.Conway.Conformance.Equivalence.html#1588" class="Bound">tx</a> <a id="1625" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1627" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="1653" class="Symbol">→</a> <a id="1655" href="Ledger.Conway.Conformance.Equivalence.html#1571" class="Bound">Γ</a> <a id="1657" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">L.⊢</a> <a id="1661" href="Ledger.Conway.Conformance.Equivalence.html#1573" class="Bound">utxoSt</a> <a id="1668" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">⇀⦇</a> <a id="1671" href="Ledger.Conway.Conformance.Equivalence.html#1588" class="Bound">tx</a> <a id="1674" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">,UTXOW⦈</a> <a id="1682" href="Ledger.Conway.Conformance.Equivalence.html#1580" class="Bound">utxoSt&#39;</a>
                    <a id="1710" class="Symbol">→</a> <a id="1712" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">L.UTxOState.deposits</a> <a id="1733" href="Ledger.Conway.Conformance.Equivalence.html#1573" class="Bound">utxoSt</a> <a id="1740" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1742" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">L.UTxOState.deposits</a> <a id="1763" href="Ledger.Conway.Conformance.Equivalence.html#1580" class="Bound">utxoSt&#39;</a>
<a id="1771" href="Ledger.Conway.Conformance.Equivalence.html#1546" class="Function">lemInvalidDepositsL</a> <a id="1791" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="1796" class="Symbol">(</a><a id="1797" href="Ledger.Conway.Specification.Utxow.html#4774" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
                          <a id="1836" class="Symbol">(</a><a id="1837" href="Ledger.Conway.Specification.Utxo.html#14235" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="1855" class="Symbol">_</a> <a id="1857" class="Symbol">_</a> <a id="1859" class="Symbol">_</a> <a id="1861" class="Symbol">_</a> <a id="1863" class="Symbol">_</a> <a id="1865" class="Symbol">_</a> <a id="1867" class="Symbol">_</a> <a id="1869" class="Symbol">_</a> <a id="1871" class="Symbol">_</a> <a id="1873" class="Symbol">_</a> <a id="1875" class="Symbol">_</a> <a id="1877" class="Symbol">_</a> <a id="1879" class="Symbol">_</a> <a id="1881" class="Symbol">_</a> <a id="1883" class="Symbol">_</a> <a id="1885" class="Symbol">_</a> <a id="1887" class="Symbol">_</a> <a id="1889" class="Symbol">_</a> <a id="1891" class="Symbol">_</a> <a id="1893" class="Symbol">_</a>
                            <a id="1923" class="Symbol">(</a><a id="1924" href="Ledger.Conway.Specification.Utxo.html#12247" class="InductiveConstructor">L.Scripts-No</a> <a id="1937" class="Symbol">_)))</a> <a id="1942" class="Symbol">=</a> <a id="1944" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="lemInvalidDepositsC"></a><a id="1950" href="Ledger.Conway.Conformance.Equivalence.html#1950" class="Function">lemInvalidDepositsC</a> <a id="1970" class="Symbol">:</a> <a id="1972" class="Symbol">∀</a> <a id="1974" class="Symbol">{</a><a id="1975" href="Ledger.Conway.Conformance.Equivalence.html#1975" class="Bound">Γ</a> <a id="1977" href="Ledger.Conway.Conformance.Equivalence.html#1977" class="Bound">utxoSt</a> <a id="1984" href="Ledger.Conway.Conformance.Equivalence.html#1984" class="Bound">utxoSt&#39;</a> <a id="1992" href="Ledger.Conway.Conformance.Equivalence.html#1992" class="Bound">tx</a><a id="1994" class="Symbol">}</a>
                    <a id="2016" class="Symbol">→</a> <a id="2018" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="2026" href="Ledger.Conway.Conformance.Equivalence.html#1992" class="Bound">tx</a> <a id="2029" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2031" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                    <a id="2057" class="Symbol">→</a> <a id="2059" class="Symbol">(</a><a id="2060" href="Ledger.Conway.Conformance.Equivalence.html#2060" class="Bound">h</a> <a id="2062" class="Symbol">:</a> <a id="2064" href="Ledger.Conway.Conformance.Equivalence.html#1975" class="Bound">Γ</a> <a id="2066" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">C.⊢</a> <a id="2070" href="Ledger.Conway.Conformance.Equivalence.html#1977" class="Bound">utxoSt</a> <a id="2077" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">⇀⦇</a> <a id="2080" href="Ledger.Conway.Conformance.Equivalence.html#1992" class="Bound">tx</a> <a id="2083" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">,UTXOW⦈</a> <a id="2091" href="Ledger.Conway.Conformance.Equivalence.html#1984" class="Bound">utxoSt&#39;</a><a id="2098" class="Symbol">)</a>
                    <a id="2120" class="Symbol">→</a> <a id="2122" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2095" class="Function">utxowDeposits</a> <a id="2136" href="Ledger.Conway.Conformance.Equivalence.html#2060" class="Bound">h</a> <a id="2138" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2140" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">L.UTxOState.deposits</a> <a id="2161" href="Ledger.Conway.Conformance.Equivalence.html#1984" class="Bound">utxoSt&#39;</a>
<a id="2169" href="Ledger.Conway.Conformance.Equivalence.html#1950" class="Function">lemInvalidDepositsC</a> <a id="2189" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2194" class="Symbol">(</a><a id="2195" href="Ledger.Conway.Conformance.Utxow.html#2486" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
                          <a id="2234" class="Symbol">(</a><a id="2235" href="Ledger.Conway.Conformance.Utxo.html#3761" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2253" class="Symbol">_</a> <a id="2255" class="Symbol">_</a> <a id="2257" class="Symbol">_</a> <a id="2259" class="Symbol">_</a> <a id="2261" class="Symbol">_</a> <a id="2263" class="Symbol">_</a> <a id="2265" class="Symbol">_</a> <a id="2267" class="Symbol">_</a> <a id="2269" class="Symbol">_</a> <a id="2271" class="Symbol">_</a> <a id="2273" class="Symbol">_</a> <a id="2275" class="Symbol">_</a> <a id="2277" class="Symbol">_</a> <a id="2279" class="Symbol">_</a> <a id="2281" class="Symbol">_</a> <a id="2283" class="Symbol">_</a> <a id="2285" class="Symbol">_</a> <a id="2287" class="Symbol">_</a> <a id="2289" class="Symbol">_</a> <a id="2291" class="Symbol">_</a>
                            <a id="2321" class="Symbol">(</a><a id="2322" href="Ledger.Conway.Conformance.Utxo.html#1641" class="InductiveConstructor">C.Scripts-No</a> <a id="2335" class="Symbol">_)))</a> <a id="2340" class="Symbol">=</a> <a id="2342" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="2348" class="Comment">-- The UTXOW rule doesn&#39;t change the deposits in Conformance</a>
<a id="lemDepositsC"></a><a id="2409" href="Ledger.Conway.Conformance.Equivalence.html#2409" class="Function">lemDepositsC</a> <a id="2422" class="Symbol">:</a> <a id="2424" class="Symbol">∀</a> <a id="2426" class="Symbol">{</a><a id="2427" href="Ledger.Conway.Conformance.Equivalence.html#2427" class="Bound">Γ</a> <a id="2429" href="Ledger.Conway.Conformance.Equivalence.html#2429" class="Bound">utxoSt</a> <a id="2436" href="Ledger.Conway.Conformance.Equivalence.html#2436" class="Bound">utxoSt&#39;</a> <a id="2444" href="Ledger.Conway.Conformance.Equivalence.html#2444" class="Bound">tx</a><a id="2446" class="Symbol">}</a>
             <a id="2461" class="Symbol">→</a> <a id="2463" class="Symbol">(</a><a id="2464" href="Ledger.Conway.Conformance.Equivalence.html#2464" class="Bound">h</a> <a id="2466" class="Symbol">:</a> <a id="2468" href="Ledger.Conway.Conformance.Equivalence.html#2427" class="Bound">Γ</a> <a id="2470" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">C.⊢</a> <a id="2474" href="Ledger.Conway.Conformance.Equivalence.html#2429" class="Bound">utxoSt</a> <a id="2481" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">⇀⦇</a> <a id="2484" href="Ledger.Conway.Conformance.Equivalence.html#2444" class="Bound">tx</a> <a id="2487" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">,UTXOW⦈</a> <a id="2495" href="Ledger.Conway.Conformance.Equivalence.html#2436" class="Bound">utxoSt&#39;</a><a id="2502" class="Symbol">)</a>
             <a id="2517" class="Symbol">→</a> <a id="2519" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">L.UTxOState.deposits</a> <a id="2540" href="Ledger.Conway.Conformance.Equivalence.html#2429" class="Bound">utxoSt</a> <a id="2547" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2549" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">L.UTxOState.deposits</a> <a id="2570" href="Ledger.Conway.Conformance.Equivalence.html#2436" class="Bound">utxoSt&#39;</a>
<a id="2578" href="Ledger.Conway.Conformance.Equivalence.html#2409" class="Function">lemDepositsC</a> <a id="2591" class="Symbol">(</a><a id="2592" href="Ledger.Conway.Conformance.Utxow.html#2486" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
               <a id="2620" class="Symbol">(</a><a id="2621" href="Ledger.Conway.Conformance.Utxo.html#3761" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2639" class="Symbol">_</a> <a id="2641" class="Symbol">_</a> <a id="2643" class="Symbol">_</a> <a id="2645" class="Symbol">_</a> <a id="2647" class="Symbol">_</a> <a id="2649" class="Symbol">_</a> <a id="2651" class="Symbol">_</a> <a id="2653" class="Symbol">_</a> <a id="2655" class="Symbol">_</a> <a id="2657" class="Symbol">_</a> <a id="2659" class="Symbol">_</a> <a id="2661" class="Symbol">_</a> <a id="2663" class="Symbol">_</a> <a id="2665" class="Symbol">_</a> <a id="2667" class="Symbol">_</a> <a id="2669" class="Symbol">_</a> <a id="2671" class="Symbol">_</a> <a id="2673" class="Symbol">_</a> <a id="2675" class="Symbol">_</a> <a id="2677" class="Symbol">_</a>
                 <a id="2696" class="Symbol">(</a><a id="2697" href="Ledger.Conway.Conformance.Utxo.html#1046" class="InductiveConstructor">C.Scripts-Yes</a> <a id="2711" class="Symbol">_)))</a> <a id="2716" class="Symbol">=</a> <a id="2718" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="2723" href="Ledger.Conway.Conformance.Equivalence.html#2409" class="Function">lemDepositsC</a> <a id="2736" class="Symbol">(</a><a id="2737" href="Ledger.Conway.Conformance.Utxow.html#2486" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
               <a id="2765" class="Symbol">(</a><a id="2766" href="Ledger.Conway.Conformance.Utxo.html#3761" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="2784" class="Symbol">_</a> <a id="2786" class="Symbol">_</a> <a id="2788" class="Symbol">_</a> <a id="2790" class="Symbol">_</a> <a id="2792" class="Symbol">_</a> <a id="2794" class="Symbol">_</a> <a id="2796" class="Symbol">_</a> <a id="2798" class="Symbol">_</a> <a id="2800" class="Symbol">_</a> <a id="2802" class="Symbol">_</a> <a id="2804" class="Symbol">_</a> <a id="2806" class="Symbol">_</a> <a id="2808" class="Symbol">_</a> <a id="2810" class="Symbol">_</a> <a id="2812" class="Symbol">_</a> <a id="2814" class="Symbol">_</a> <a id="2816" class="Symbol">_</a> <a id="2818" class="Symbol">_</a> <a id="2820" class="Symbol">_</a> <a id="2822" class="Symbol">_</a>
                 <a id="2841" class="Symbol">(</a><a id="2842" href="Ledger.Conway.Conformance.Utxo.html#1641" class="InductiveConstructor">C.Scripts-No</a> <a id="2855" class="Symbol">_)))</a> <a id="2860" class="Symbol">=</a> <a id="2862" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="lemUpdateDeposits"></a><a id="2868" href="Ledger.Conway.Conformance.Equivalence.html#2868" class="Function">lemUpdateDeposits</a> <a id="2886" class="Symbol">:</a> <a id="2888" class="Symbol">∀</a> <a id="2890" class="Symbol">{</a><a id="2891" href="Ledger.Conway.Conformance.Equivalence.html#2891" class="Bound">Γ</a> <a id="2893" href="Ledger.Conway.Conformance.Equivalence.html#2893" class="Bound">s</a> <a id="2895" href="Ledger.Conway.Conformance.Equivalence.html#2895" class="Bound">tx</a> <a id="2898" href="Ledger.Conway.Conformance.Equivalence.html#2898" class="Bound">s&#39;</a><a id="2900" class="Symbol">}</a> <a id="2902" class="Symbol">(</a><a id="2903" class="Keyword">open</a> <a id="2908" href="Ledger.Conway.Specification.Utxo.html#1197" class="Module">L.UTxOEnv</a> <a id="2918" href="Ledger.Conway.Conformance.Equivalence.html#2891" class="Bound">Γ</a><a id="2919" class="Symbol">)</a>
                  <a id="2939" class="Symbol">→</a> <a id="2941" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="2949" href="Ledger.Conway.Conformance.Equivalence.html#2895" class="Bound">tx</a> <a id="2952" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2954" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                  <a id="2977" class="Symbol">→</a> <a id="2979" href="Ledger.Conway.Conformance.Equivalence.html#2891" class="Bound">Γ</a> <a id="2981" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">L.⊢</a> <a id="2985" href="Ledger.Conway.Conformance.Equivalence.html#2893" class="Bound">s</a> <a id="2987" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">⇀⦇</a> <a id="2990" href="Ledger.Conway.Conformance.Equivalence.html#2895" class="Bound">tx</a> <a id="2993" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">,UTXOW⦈</a> <a id="3001" href="Ledger.Conway.Conformance.Equivalence.html#2898" class="Bound">s&#39;</a>
                  <a id="3022" class="Symbol">→</a> <a id="3024" href="Ledger.Conway.Specification.Utxo.html#8313" class="Function">L.updateDeposits</a> <a id="3041" href="Ledger.Conway.Specification.Utxo.html#1251" class="Function">pparams</a> <a id="3049" class="Symbol">(</a><a id="3050" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">body</a> <a id="3055" href="Ledger.Conway.Conformance.Equivalence.html#2895" class="Bound">tx</a><a id="3057" class="Symbol">)</a> <a id="3059" class="Symbol">(</a><a id="3060" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">L.UTxOState.deposits</a> <a id="3081" href="Ledger.Conway.Conformance.Equivalence.html#2893" class="Bound">s</a><a id="3082" class="Symbol">)</a> <a id="3084" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3086" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">L.UTxOState.deposits</a> <a id="3107" href="Ledger.Conway.Conformance.Equivalence.html#2898" class="Bound">s&#39;</a>
<a id="3110" href="Ledger.Conway.Conformance.Equivalence.html#2868" class="Function">lemUpdateDeposits</a> <a id="3128" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3135" class="Symbol">(</a><a id="3136" href="Ledger.Conway.Specification.Utxow.html#4774" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
    <a id="3153" class="Symbol">(</a><a id="3154" href="Ledger.Conway.Specification.Utxo.html#14235" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="3172" class="Symbol">_</a> <a id="3174" class="Symbol">_</a> <a id="3176" class="Symbol">_</a> <a id="3178" class="Symbol">_</a> <a id="3180" class="Symbol">_</a> <a id="3182" class="Symbol">_</a> <a id="3184" class="Symbol">_</a> <a id="3186" class="Symbol">_</a> <a id="3188" class="Symbol">_</a> <a id="3190" class="Symbol">_</a> <a id="3192" class="Symbol">_</a> <a id="3194" class="Symbol">_</a> <a id="3196" class="Symbol">_</a> <a id="3198" class="Symbol">_</a> <a id="3200" class="Symbol">_</a> <a id="3202" class="Symbol">_</a> <a id="3204" class="Symbol">_</a>  <a id="3207" class="Symbol">_</a> <a id="3209" class="Symbol">_</a> <a id="3211" class="Symbol">_</a>
      <a id="3219" class="Symbol">(</a><a id="3220" href="Ledger.Conway.Specification.Utxo.html#11729" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3234" class="Symbol">_)))</a> <a id="3239" class="Symbol">=</a> <a id="3241" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="getValidCertDeposits"></a><a id="3247" href="Ledger.Conway.Conformance.Equivalence.html#3247" class="Function">getValidCertDeposits</a> <a id="3268" class="Symbol">:</a> <a id="3270" class="Symbol">∀</a> <a id="3272" class="Symbol">{</a><a id="3273" href="Ledger.Conway.Conformance.Equivalence.html#3273" class="Bound">Γ</a> <a id="3275" href="Ledger.Conway.Conformance.Equivalence.html#3275" class="Bound">s</a> <a id="3277" href="Ledger.Conway.Conformance.Equivalence.html#3277" class="Bound">tx</a> <a id="3280" href="Ledger.Conway.Conformance.Equivalence.html#3280" class="Bound">s&#39;</a><a id="3282" class="Symbol">}</a>
                     <a id="3305" class="Symbol">→</a> <a id="3307" class="Symbol">(</a><a id="3308" class="Keyword">let</a> <a id="3312" class="Keyword">open</a> <a id="3317" href="Ledger.Conway.Specification.Utxo.html#1197" class="Module">L.UTxOEnv</a> <a id="3327" href="Ledger.Conway.Conformance.Equivalence.html#3273" class="Bound">Γ</a> <a id="3329" class="Keyword">using</a> <a id="3335" class="Symbol">(</a><a id="3336" href="Ledger.Conway.Specification.Utxo.html#1251" class="Field">pparams</a><a id="3343" class="Symbol">)</a>
                            <a id="3373" class="Keyword">open</a> <a id="3378" href="Ledger.Conway.Specification.Utxo.html#1306" class="Module">L.UTxOState</a> <a id="3390" href="Ledger.Conway.Conformance.Equivalence.html#3275" class="Bound">s</a> <a id="3392" class="Keyword">using</a> <a id="3398" class="Symbol">(</a><a id="3399" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">deposits</a><a id="3407" class="Symbol">)</a>
                            <a id="3437" class="Keyword">open</a> <a id="3442" href="Ledger.Conway.Specification.Transaction.html#350" class="Module">TxBody</a> <a id="3449" class="Symbol">(</a><a id="3450" href="Ledger.Conway.Conformance.Equivalence.html#3277" class="Bound">tx</a> <a id="3453" class="Symbol">.</a><a id="3454" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">Tx.body</a><a id="3461" class="Symbol">)</a> <a id="3463" class="Keyword">using</a> <a id="3469" class="Symbol">(</a><a id="3470" href="Ledger.Conway.Specification.Transaction.html#554" class="Field">txCerts</a><a id="3477" class="Symbol">))</a>
                     <a id="3501" class="Symbol">→</a> <a id="3503" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="3511" href="Ledger.Conway.Conformance.Equivalence.html#3277" class="Bound">tx</a> <a id="3514" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3516" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                     <a id="3542" class="Symbol">→</a> <a id="3544" href="Ledger.Conway.Conformance.Equivalence.html#3273" class="Bound">Γ</a> <a id="3546" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">L.⊢</a> <a id="3550" href="Ledger.Conway.Conformance.Equivalence.html#3275" class="Bound">s</a> <a id="3552" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">⇀⦇</a> <a id="3555" href="Ledger.Conway.Conformance.Equivalence.html#3277" class="Bound">tx</a> <a id="3558" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">,UTXOW⦈</a> <a id="3566" href="Ledger.Conway.Conformance.Equivalence.html#3280" class="Bound">s&#39;</a>
                     <a id="3590" class="Symbol">→</a> <a id="3592" href="Ledger.Conway.Specification.Utxo.html#3538" class="Datatype">L.ValidCertDeposits</a> <a id="3612" href="Ledger.Conway.Specification.Utxo.html#1251" class="Function">pparams</a> <a id="3620" href="Ledger.Conway.Specification.Utxo.html#1414" class="Function">deposits</a> <a id="3629" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a>
<a id="3637" href="Ledger.Conway.Conformance.Equivalence.html#3247" class="Function">getValidCertDeposits</a> <a id="3658" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
  <a id="3665" class="Symbol">(</a><a id="3666" href="Ledger.Conway.Specification.Utxow.html#4774" class="InductiveConstructor">L.UTXOW⇒UTXO</a>
    <a id="3683" class="Symbol">(</a><a id="3684" href="Ledger.Conway.Specification.Utxo.html#14235" class="InductiveConstructor">L.UTXO-inductive⋯</a> <a id="3702" class="Symbol">_</a> <a id="3704" class="Symbol">_</a> <a id="3706" class="Symbol">_</a> <a id="3708" class="Symbol">_</a> <a id="3710" class="Symbol">_</a> <a id="3712" class="Symbol">_</a> <a id="3714" class="Symbol">_</a> <a id="3716" class="Symbol">_</a> <a id="3718" class="Symbol">_</a> <a id="3720" class="Symbol">_</a> <a id="3722" class="Symbol">_</a> <a id="3724" class="Symbol">_</a> <a id="3726" class="Symbol">_</a> <a id="3728" class="Symbol">_</a> <a id="3730" class="Symbol">_</a> <a id="3732" class="Symbol">_</a> <a id="3734" class="Symbol">_</a> <a id="3736" class="Symbol">_</a> <a id="3738" class="Symbol">_</a> <a id="3740" class="Symbol">_</a>
      <a id="3748" class="Symbol">(</a><a id="3749" href="Ledger.Conway.Specification.Utxo.html#11729" class="InductiveConstructor">L.Scripts-Yes</a> <a id="3763" class="Symbol">(</a><a id="3764" href="Ledger.Conway.Conformance.Equivalence.html#3764" class="Bound">v</a> <a id="3766" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3768" class="Symbol">_))))</a> <a id="3774" class="Symbol">=</a> <a id="3776" href="Ledger.Conway.Conformance.Equivalence.html#3764" class="Bound">v</a>

<a id="makeCertDeps*"></a><a id="3779" href="Ledger.Conway.Conformance.Equivalence.html#3779" class="Function">makeCertDeps*</a> <a id="3793" class="Symbol">:</a> <a id="3795" class="Symbol">∀</a> <a id="3797" class="Symbol">{</a><a id="3798" href="Ledger.Conway.Conformance.Equivalence.html#3798" class="Bound">Γ</a> <a id="3800" href="Ledger.Conway.Conformance.Equivalence.html#3800" class="Bound">s</a> <a id="3802" href="Ledger.Conway.Conformance.Equivalence.html#3802" class="Bound">tx</a> <a id="3805" href="Ledger.Conway.Conformance.Equivalence.html#3805" class="Bound">s&#39;</a><a id="3807" class="Symbol">}</a>
              <a id="3823" class="Symbol">→</a> <a id="3825" class="Symbol">(</a><a id="3826" class="Keyword">let</a> <a id="3830" class="Keyword">open</a> <a id="3835" href="Ledger.Conway.Specification.Utxo.html#1197" class="Module">L.UTxOEnv</a> <a id="3845" href="Ledger.Conway.Conformance.Equivalence.html#3798" class="Bound">Γ</a> <a id="3847" class="Keyword">using</a> <a id="3853" class="Symbol">(</a><a id="3854" href="Ledger.Conway.Specification.Utxo.html#1251" class="Field">pparams</a><a id="3861" class="Symbol">)</a>
                     <a id="3884" class="Keyword">open</a> <a id="3889" href="Ledger.Conway.Specification.Utxo.html#1306" class="Module">L.UTxOState</a> <a id="3901" href="Ledger.Conway.Conformance.Equivalence.html#3800" class="Bound">s</a> <a id="3903" class="Keyword">using</a> <a id="3909" class="Symbol">(</a><a id="3910" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">deposits</a><a id="3918" class="Symbol">)</a>
                     <a id="3941" class="Keyword">open</a> <a id="3946" href="Ledger.Conway.Specification.Transaction.html#350" class="Module">TxBody</a> <a id="3953" class="Symbol">(</a><a id="3954" href="Ledger.Conway.Conformance.Equivalence.html#3802" class="Bound">tx</a> <a id="3957" class="Symbol">.</a><a id="3958" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">Tx.body</a><a id="3965" class="Symbol">)</a> <a id="3967" class="Keyword">using</a> <a id="3973" class="Symbol">(</a><a id="3974" href="Ledger.Conway.Specification.Transaction.html#554" class="Field">txCerts</a><a id="3981" class="Symbol">))</a>
              <a id="3998" class="Symbol">→</a> <a id="4000" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="4008" href="Ledger.Conway.Conformance.Equivalence.html#3802" class="Bound">tx</a> <a id="4011" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4013" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
              <a id="4032" class="Symbol">→</a> <a id="4034" href="Ledger.Conway.Conformance.Equivalence.html#3798" class="Bound">Γ</a> <a id="4036" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">L.⊢</a> <a id="4040" href="Ledger.Conway.Conformance.Equivalence.html#3800" class="Bound">s</a> <a id="4042" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">⇀⦇</a> <a id="4045" href="Ledger.Conway.Conformance.Equivalence.html#3802" class="Bound">tx</a> <a id="4048" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">,UTXOW⦈</a> <a id="4056" href="Ledger.Conway.Conformance.Equivalence.html#3805" class="Bound">s&#39;</a>
              <a id="4073" class="Symbol">→</a> <a id="4075" href="Ledger.Conway.Conformance.Equivalence.Certs.html#3843" class="Record">CertDeps*</a> <a id="4085" href="Ledger.Conway.Specification.Utxo.html#1251" class="Function">pparams</a> <a id="4093" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a>
<a id="4101" href="Ledger.Conway.Conformance.Equivalence.html#3779" class="Function">makeCertDeps*</a> <a id="4115" class="Symbol">{</a><a id="4116" class="Argument">s</a> <a id="4118" class="Symbol">=</a> <a id="4120" href="Ledger.Conway.Conformance.Equivalence.html#4120" class="Bound">s</a><a id="4121" class="Symbol">}</a> <a id="4123" href="Ledger.Conway.Conformance.Equivalence.html#4123" class="Bound">valid</a> <a id="4129" href="Ledger.Conway.Conformance.Equivalence.html#4129" class="Bound">r</a> <a id="4131" class="Symbol">=</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#3873}{\htmlId{4135}{\htmlClass{Function}{\text{certDDeps}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#1414}{\htmlId{4145}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#4019}{\htmlId{4156}{\htmlClass{Function}{\text{certGDeps}}}}\, \,\href{Ledger.Conway.Specification.Utxo.html#1414}{\htmlId{4166}{\htmlClass{Function}{\text{deposits}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#7556}{\htmlId{4177}{\htmlClass{Function}{\text{validDDeps}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#4276}{\htmlId{4188}{\htmlClass{Function}{\text{validDeps}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Deposits.html#8645}{\htmlId{4200}{\htmlClass{Function}{\text{validGDeps}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#4276}{\htmlId{4211}{\htmlClass{Function}{\text{validDeps}}}}\, \end{pmatrix}$</a>
  <a id="4226" class="Keyword">where</a>
    <a id="4236" class="Keyword">open</a> <a id="4241" href="Ledger.Conway.Specification.Utxo.html#1306" class="Module">L.UTxOState</a> <a id="4253" href="Ledger.Conway.Conformance.Equivalence.html#4120" class="Bound">s</a> <a id="4255" class="Keyword">using</a> <a id="4261" class="Symbol">(</a><a id="4262" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">deposits</a><a id="4270" class="Symbol">)</a>
    <a id="4276" href="Ledger.Conway.Conformance.Equivalence.html#4276" class="Function">validDeps</a> <a id="4286" class="Symbol">=</a> <a id="4288" href="Ledger.Conway.Conformance.Equivalence.html#3247" class="Function">getValidCertDeposits</a> <a id="4309" href="Ledger.Conway.Conformance.Equivalence.html#4123" class="Bound">valid</a> <a id="4315" href="Ledger.Conway.Conformance.Equivalence.html#4129" class="Bound">r</a>

<a id="lem-cert-deposits-valid"></a><a id="4318" href="Ledger.Conway.Conformance.Equivalence.html#4318" class="Function">lem-cert-deposits-valid</a> <a id="4342" class="Symbol">:</a> <a id="4344" class="Symbol">∀</a> <a id="4346" class="Symbol">{</a><a id="4347" href="Ledger.Conway.Conformance.Equivalence.html#4347" class="Bound">Γ</a> <a id="4349" href="Ledger.Conway.Conformance.Equivalence.html#4349" class="Bound">s</a> <a id="4351" href="Ledger.Conway.Conformance.Equivalence.html#4351" class="Bound">tx</a> <a id="4354" href="Ledger.Conway.Conformance.Equivalence.html#4354" class="Bound">s&#39;</a><a id="4356" class="Symbol">}</a> <a id="4358" class="Symbol">(</a><a id="4359" class="Keyword">open</a> <a id="4364" href="Ledger.Conway.Specification.Ledger.html#731" class="Module">L.LEnv</a> <a id="4371" href="Ledger.Conway.Conformance.Equivalence.html#4347" class="Bound">Γ</a> <a id="4373" class="Keyword">using</a> <a id="4379" class="Symbol">(</a><a id="4380" href="Ledger.Conway.Specification.Ledger.html#819" class="Field">pparams</a><a id="4387" class="Symbol">))</a>
                        <a id="4414" class="Symbol">→</a> <a id="4416" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="4424" href="Ledger.Conway.Conformance.Equivalence.html#4351" class="Bound">tx</a> <a id="4427" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4429" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                        <a id="4458" class="Symbol">→</a> <a id="4460" href="Ledger.Conway.Conformance.Equivalence.html#4347" class="Bound">Γ</a> <a id="4462" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">L.⊢</a> <a id="4466" href="Ledger.Conway.Conformance.Equivalence.html#4349" class="Bound">s</a> <a id="4468" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">⇀⦇</a> <a id="4471" href="Ledger.Conway.Conformance.Equivalence.html#4351" class="Bound">tx</a> <a id="4474" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">,LEDGER⦈</a> <a id="4483" href="Ledger.Conway.Conformance.Equivalence.html#4354" class="Bound">s&#39;</a>
                        <a id="4510" class="Symbol">→</a> <a id="4512" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2867" class="Function">updateLedgerDeps</a> <a id="4529" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="4537" href="Ledger.Conway.Conformance.Equivalence.html#4351" class="Bound">tx</a> <a id="4540" class="Symbol">(</a><a id="4541" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="4554" href="Ledger.Conway.Conformance.Equivalence.html#4349" class="Bound">s</a><a id="4555" class="Symbol">)</a> <a id="4557" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="4560" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="4573" href="Ledger.Conway.Conformance.Equivalence.html#4354" class="Bound">s&#39;</a>
<a id="4576" href="Ledger.Conway.Conformance.Equivalence.html#4318" class="Function">lem-cert-deposits-valid</a> <a id="4600" class="Symbol">{</a><a id="4601" href="Ledger.Conway.Conformance.Equivalence.html#4601" class="Bound">Γ</a><a id="4602" class="Symbol">}</a> <a id="4604" class="Symbol">{</a><a id="4605" href="Ledger.Conway.Conformance.Equivalence.html#4605" class="Bound">s</a><a id="4606" class="Symbol">}</a> <a id="4608" class="Symbol">{</a><a id="4609" href="Ledger.Conway.Conformance.Equivalence.html#4609" class="Bound">tx</a><a id="4611" class="Symbol">}</a> <a id="4613" class="Symbol">{</a><a id="4614" href="Ledger.Conway.Conformance.Equivalence.html#4614" class="Bound">s&#39;</a><a id="4616" class="Symbol">}</a> <a id="4618" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4623" class="Symbol">(</a><a id="4624" href="Ledger.Conway.Specification.Ledger.html#4822" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="4636" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4641" href="Ledger.Conway.Conformance.Equivalence.html#4641" class="Bound">utxow</a> <a id="4647" href="Ledger.Conway.Conformance.Equivalence.html#4647" class="Bound">certs</a> <a id="4653" href="Ledger.Conway.Conformance.Equivalence.html#4653" class="Bound">gov</a><a id="4656" class="Symbol">)</a> <a id="4658" class="Keyword">rewrite</a> <a id="4666" href="Relation.Binary.PropositionalEquality.Core.html#2035" class="Function">sym</a> <a id="4670" class="Symbol">(</a><a id="4671" href="Ledger.Conway.Conformance.Equivalence.html#2868" class="Function">lemUpdateDeposits</a> <a id="4689" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4694" href="Ledger.Conway.Conformance.Equivalence.html#4641" class="Bound">utxow</a><a id="4699" class="Symbol">)</a> <a id="4701" class="Symbol">=</a>
  <a id="4705" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#19120" class="Function">lem-upd-ddeps</a> <a id="4719" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="4727" href="Ledger.Conway.Conformance.Equivalence.html#4815" class="Function">deps</a> <a id="4732" href="Ledger.Conway.Conformance.Equivalence.html#4609" class="Bound">tx</a> <a id="4735" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
  <a id="4739" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#19909" class="Function">lem-upd-gdeps</a> <a id="4753" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="4761" href="Ledger.Conway.Conformance.Equivalence.html#4815" class="Function">deps</a> <a id="4766" href="Ledger.Conway.Conformance.Equivalence.html#4609" class="Bound">tx</a>
  <a id="4771" class="Keyword">where</a>
    <a id="4781" class="Keyword">open</a> <a id="4786" href="Ledger.Conway.Specification.Ledger.html#731" class="Module">L.LEnv</a> <a id="4793" href="Ledger.Conway.Conformance.Equivalence.html#4601" class="Bound">Γ</a> <a id="4795" class="Keyword">using</a> <a id="4801" class="Symbol">(</a><a id="4802" href="Ledger.Conway.Specification.Ledger.html#819" class="Field">pparams</a><a id="4809" class="Symbol">)</a>
    <a id="4815" href="Ledger.Conway.Conformance.Equivalence.html#4815" class="Function">deps</a> <a id="4820" class="Symbol">=</a> <a id="4822" href="Ledger.Conway.Conformance.Equivalence.html#4605" class="Bound">s</a> <a id="4824" class="Symbol">.</a><a id="4825" href="Ledger.Conway.Specification.Ledger.html#1056" class="Field">L.LState.utxoSt</a> <a id="4841" class="Symbol">.</a> <a id="4843" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">L.UTxOState.deposits</a>

<a id="lem-cert-deposits-invalid"></a><a id="4865" href="Ledger.Conway.Conformance.Equivalence.html#4865" class="Function">lem-cert-deposits-invalid</a> <a id="4891" class="Symbol">:</a> <a id="4893" class="Symbol">∀</a> <a id="4895" class="Symbol">{</a><a id="4896" href="Ledger.Conway.Conformance.Equivalence.html#4896" class="Bound">Γ</a> <a id="4898" href="Ledger.Conway.Conformance.Equivalence.html#4898" class="Bound">s</a> <a id="4900" href="Ledger.Conway.Conformance.Equivalence.html#4900" class="Bound">tx</a> <a id="4903" href="Ledger.Conway.Conformance.Equivalence.html#4903" class="Bound">s&#39;</a><a id="4905" class="Symbol">}</a> <a id="4907" class="Symbol">(</a><a id="4908" class="Keyword">open</a> <a id="4913" href="Ledger.Conway.Specification.Ledger.html#731" class="Module">L.LEnv</a> <a id="4920" href="Ledger.Conway.Conformance.Equivalence.html#4896" class="Bound">Γ</a> <a id="4922" class="Keyword">using</a> <a id="4928" class="Symbol">(</a><a id="4929" href="Ledger.Conway.Specification.Ledger.html#819" class="Field">pparams</a><a id="4936" class="Symbol">))</a>
                        <a id="4963" class="Symbol">→</a> <a id="4965" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="4973" href="Ledger.Conway.Conformance.Equivalence.html#4900" class="Bound">tx</a> <a id="4976" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="4978" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                        <a id="5008" class="Symbol">→</a> <a id="5010" href="Ledger.Conway.Conformance.Equivalence.html#4896" class="Bound">Γ</a> <a id="5012" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">L.⊢</a> <a id="5016" href="Ledger.Conway.Conformance.Equivalence.html#4898" class="Bound">s</a> <a id="5018" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">⇀⦇</a> <a id="5021" href="Ledger.Conway.Conformance.Equivalence.html#4900" class="Bound">tx</a> <a id="5024" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">,LEDGER⦈</a> <a id="5033" href="Ledger.Conway.Conformance.Equivalence.html#4903" class="Bound">s&#39;</a>
                        <a id="5060" class="Symbol">→</a> <a id="5062" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="5075" href="Ledger.Conway.Conformance.Equivalence.html#4898" class="Bound">s</a> <a id="5077" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="5080" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="5093" href="Ledger.Conway.Conformance.Equivalence.html#4903" class="Bound">s&#39;</a>
<a id="5096" href="Ledger.Conway.Conformance.Equivalence.html#4865" class="Function">lem-cert-deposits-invalid</a> <a id="5122" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5127" class="Symbol">(</a><a id="5128" href="Ledger.Conway.Specification.Ledger.html#4875" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="5140" class="Symbol">_</a> <a id="5142" href="Ledger.Conway.Conformance.Equivalence.html#5142" class="Bound">utxow</a><a id="5147" class="Symbol">)</a> <a id="5149" class="Keyword">rewrite</a> <a id="5157" href="Ledger.Conway.Conformance.Equivalence.html#1546" class="Function">lemInvalidDepositsL</a> <a id="5177" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5182" href="Ledger.Conway.Conformance.Equivalence.html#5142" class="Bound">utxow</a> <a id="5188" class="Symbol">=</a>
  <a id="5192" class="Symbol">(</a><a id="5193" href="Function.Base.html#704" class="Function">id</a> <a id="5196" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5198" href="Function.Base.html#704" class="Function">id</a><a id="5200" class="Symbol">)</a> <a id="5202" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5204" class="Symbol">(</a><a id="5205" href="Function.Base.html#704" class="Function">id</a> <a id="5208" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5210" href="Function.Base.html#704" class="Function">id</a><a id="5212" class="Symbol">)</a>

<a id="5215" class="Keyword">instance</a>
  <a id="LStateToConf"></a><a id="5226" href="Ledger.Conway.Conformance.Equivalence.html#5226" class="Function">LStateToConf</a> <a id="5239" class="Symbol">:</a> <a id="5241" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a> <a id="5252" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5254" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a> <a id="5265" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⊢</a> <a id="5267" href="Ledger.Conway.Specification.Ledger.html#997" class="Record">L.LState</a> <a id="5276" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⭆</a> <a id="5278" href="Ledger.Conway.Conformance.Ledger.html#738" class="Record">C.LState</a>
  <a id="5289" href="Ledger.Conway.Conformance.Equivalence.html#5226" class="Function">LStateToConf</a> <a id="5302" class="Symbol">.</a><a id="5303" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5309" href="Ledger.Conway.Conformance.Equivalence.html#5309" class="Bound">deposits</a> <a id="5318" href="Ledger.Conway.Conformance.Equivalence.html#5318" class="Bound">ledgerSt</a> <a id="5327" class="Symbol">=</a>
    <a id="5333" class="Keyword">let</a> <a id="5337" class="Keyword">open</a> <a id="5342" href="Ledger.Conway.Specification.Ledger.html#997" class="Module">L.LState</a> <a id="5351" href="Ledger.Conway.Conformance.Equivalence.html#5318" class="Bound">ledgerSt</a> <a id="5360" class="Keyword">in</a>
    <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Specification.Ledger.html#1056}{\htmlId{5369}{\htmlClass{Field}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#1083}{\htmlId{5378}{\htmlClass{Field}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#5309}{\htmlId{5386}{\htmlClass{Bound}{\text{deposits}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#270}{\htmlId{5395}{\htmlClass{Function Operator}{\text{⊢conv}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#1109}{\htmlId{5401}{\htmlClass{Field}{\text{certState}}}}\, \end{pmatrix}$</a>

<a id="5414" class="Keyword">instance</a>
  <a id="LEDGERToConf"></a><a id="5425" href="Ledger.Conway.Conformance.Equivalence.html#5425" class="Function">LEDGERToConf</a> <a id="5438" class="Symbol">:</a> <a id="5440" class="Symbol">∀</a> <a id="5442" class="Symbol">{</a><a id="5443" href="Ledger.Conway.Conformance.Equivalence.html#5443" class="Bound">Γ</a> <a id="5445" href="Ledger.Conway.Conformance.Equivalence.html#5445" class="Bound">s</a> <a id="5447" href="Ledger.Conway.Conformance.Equivalence.html#5447" class="Bound">tx</a> <a id="5450" href="Ledger.Conway.Conformance.Equivalence.html#5450" class="Bound">s&#39;</a><a id="5452" class="Symbol">}</a>
               <a id="5469" class="Symbol">→</a> <a id="5471" href="Ledger.Conway.Conformance.Equivalence.html#5443" class="Bound">Γ</a> <a id="5473" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">L.⊢</a> <a id="5477" href="Ledger.Conway.Conformance.Equivalence.html#5445" class="Bound">s</a> <a id="5479" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">⇀⦇</a> <a id="5482" href="Ledger.Conway.Conformance.Equivalence.html#5447" class="Bound">tx</a> <a id="5485" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">,LEDGER⦈</a> <a id="5494" href="Ledger.Conway.Conformance.Equivalence.html#5450" class="Bound">s&#39;</a> <a id="5497" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a>
                 <a id="5516" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="5519" href="Ledger.Conway.Conformance.Equivalence.html#5519" class="Bound">certDeposits-s&#39;</a> <a id="5535" href="Data.Product.Base.html#1371" class="Function">]</a>
                    <a id="5557" href="Ledger.Conway.Conformance.Equivalence.html#5519" class="Bound">certDeposits-s&#39;</a> <a id="5573" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="5576" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="5589" href="Ledger.Conway.Conformance.Equivalence.html#5450" class="Bound">s&#39;</a>
                  <a id="5610" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5612" href="Ledger.Conway.Conformance.Equivalence.html#5443" class="Bound">Γ</a> <a id="5614" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">C.⊢</a> <a id="5618" class="Symbol">(</a><a id="5619" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="5632" href="Ledger.Conway.Conformance.Equivalence.html#5445" class="Bound">s</a> <a id="5634" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5640" href="Ledger.Conway.Conformance.Equivalence.html#5445" class="Bound">s</a><a id="5641" class="Symbol">)</a> <a id="5643" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">⇀⦇</a> <a id="5646" href="Ledger.Conway.Conformance.Equivalence.html#5447" class="Bound">tx</a> <a id="5649" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">,LEDGER⦈</a> <a id="5658" class="Symbol">(</a><a id="5659" href="Ledger.Conway.Conformance.Equivalence.html#5519" class="Bound">certDeposits-s&#39;</a> <a id="5675" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5681" href="Ledger.Conway.Conformance.Equivalence.html#5450" class="Bound">s&#39;</a><a id="5683" class="Symbol">)</a>
  <a id="5687" href="Ledger.Conway.Conformance.Equivalence.html#5425" class="Function">LEDGERToConf</a> <a id="5700" class="Symbol">{</a><a id="5701" href="Ledger.Conway.Conformance.Equivalence.html#5701" class="Bound">Γ</a><a id="5702" class="Symbol">}</a> <a id="5704" class="Symbol">{</a><a id="5705" href="Ledger.Conway.Conformance.Equivalence.html#5705" class="Bound">s</a><a id="5706" class="Symbol">}</a> <a id="5708" class="Symbol">{</a><a id="5709" href="Ledger.Conway.Conformance.Equivalence.html#5709" class="Bound">tx</a><a id="5711" class="Symbol">}</a> <a id="5713" class="Symbol">{</a><a id="5714" href="Ledger.Conway.Conformance.Equivalence.html#5714" class="Bound">s&#39;</a><a id="5716" class="Symbol">}</a> <a id="5718" class="Symbol">.</a><a id="5719" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="5725" class="Symbol">_</a> <a id="5727" href="Ledger.Conway.Conformance.Equivalence.html#5727" class="Bound">r</a><a id="5728" class="Symbol">@(</a><a id="5730" href="Ledger.Conway.Specification.Ledger.html#4822" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="5742" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5747" href="Ledger.Conway.Conformance.Equivalence.html#5747" class="Bound">utxow</a> <a id="5753" href="Ledger.Conway.Conformance.Equivalence.html#5753" class="Bound">certs</a> <a id="5759" href="Ledger.Conway.Conformance.Equivalence.html#5759" class="Bound">gov</a><a id="5762" class="Symbol">)</a> <a id="5764" class="Symbol">=</a>
    <a id="5770" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2867" class="Function">updateLedgerDeps</a> <a id="5787" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="5795" href="Ledger.Conway.Conformance.Equivalence.html#5709" class="Bound">tx</a> <a id="5798" class="Symbol">(</a><a id="5799" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="5812" href="Ledger.Conway.Conformance.Equivalence.html#5705" class="Bound">s</a><a id="5813" class="Symbol">)</a>
    <a id="5819" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5821" href="Ledger.Conway.Conformance.Equivalence.html#4318" class="Function">lem-cert-deposits-valid</a> <a id="5845" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5850" href="Ledger.Conway.Conformance.Equivalence.html#5727" class="Bound">r</a>
    <a id="5856" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5858" href="Relation.Binary.PropositionalEquality.Core.html#2186" class="Function">subst₂</a> <a id="5865" class="Symbol">(λ</a> <a id="5868" href="Ledger.Conway.Conformance.Equivalence.html#5868" class="Bound">•</a> <a id="5870" href="Ledger.Conway.Conformance.Equivalence.html#5870" class="Bound">◆</a> <a id="5872" class="Symbol">→</a> <a id="5874" href="Ledger.Conway.Conformance.Equivalence.html#5701" class="Bound">Γ</a> <a id="5876" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">C.⊢</a> <a id="5880" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4779" class="Function">getCertDeps*</a> <a id="5893" href="Ledger.Conway.Conformance.Equivalence.html#6401" class="Function">cdeposits</a> <a id="5903" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="5909" href="Ledger.Conway.Conformance.Equivalence.html#5705" class="Bound">s</a> <a id="5911" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">⇀⦇</a> <a id="5914" href="Ledger.Conway.Conformance.Equivalence.html#5709" class="Bound">tx</a> <a id="5917" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.html#5868}{\htmlId{5928}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{5932}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#5870}{\htmlId{5936}{\htmlClass{Bound}{\text{◆}}}}\, \end{pmatrix}$</a><a id="5939" class="Symbol">)</a>
             <a id="5954" href="Ledger.Conway.Conformance.Equivalence.html#6849" class="Function">utxoEq</a> <a id="5961" href="Ledger.Conway.Conformance.Equivalence.html#7071" class="Function">certsEq</a> <a id="5969" href="Ledger.Conway.Conformance.Equivalence.html#6689" class="Function">ledger&#39;</a>
    <a id="5981" class="Keyword">where</a>
      <a id="5993" class="Keyword">open</a> <a id="5998" href="Ledger.Conway.Specification.Ledger.html#731" class="Module">L.LEnv</a> <a id="6005" href="Ledger.Conway.Conformance.Equivalence.html#5701" class="Bound">Γ</a>
      <a id="6013" class="Keyword">open</a> <a id="6018" href="Ledger.Conway.Specification.Ledger.html#997" class="Module">L.LState</a> <a id="6027" href="Ledger.Conway.Conformance.Equivalence.html#5705" class="Bound">s</a>
      <a id="6035" class="Keyword">open</a> <a id="6040" href="Ledger.Conway.Specification.Ledger.html#997" class="Module">L.LState</a> <a id="6049" href="Ledger.Conway.Conformance.Equivalence.html#5714" class="Bound">s&#39;</a> <a id="6052" class="Keyword">renaming</a> <a id="6061" class="Symbol">(</a><a id="6062" href="Ledger.Conway.Specification.Ledger.html#1056" class="Field">utxoSt</a> <a id="6069" class="Symbol">to</a> <a id="6072" class="Field">utxoSt&#39;</a><a id="6079" class="Symbol">;</a> <a id="6081" href="Ledger.Conway.Specification.Ledger.html#1109" class="Field">certState</a> <a id="6091" class="Symbol">to</a> <a id="6094" class="Field">certState&#39;</a><a id="6104" class="Symbol">;</a> <a id="6106" href="Ledger.Conway.Specification.Ledger.html#1083" class="Field">govSt</a> <a id="6112" class="Symbol">to</a> <a id="6115" class="Field">govSt&#39;</a><a id="6121" class="Symbol">)</a>
      <a id="6129" class="Keyword">open</a> <a id="6134" href="Ledger.Conway.Specification.Transaction.html#350" class="Module">TxBody</a> <a id="6141" class="Symbol">(</a><a id="6142" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">body</a> <a id="6147" href="Ledger.Conway.Conformance.Equivalence.html#5709" class="Bound">tx</a><a id="6149" class="Symbol">)</a> <a id="6151" class="Keyword">using</a> <a id="6157" class="Symbol">(</a><a id="6158" href="Ledger.Conway.Specification.Transaction.html#554" class="Field">txCerts</a><a id="6165" class="Symbol">)</a>
      <a id="6173" href="Ledger.Conway.Conformance.Equivalence.html#6173" class="Function">deposits</a> <a id="6182" class="Symbol">=</a> <a id="6184" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">L.UTxOState.deposits</a> <a id="6205" href="Ledger.Conway.Specification.Ledger.html#1056" class="Function">utxoSt</a>
      <a id="6218" href="Ledger.Conway.Conformance.Equivalence.html#6218" class="Function">utxow&#39;</a> <a id="6225" class="Symbol">:</a> <a id="6227" class="Symbol">_</a> <a id="6229" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">C.⊢</a> <a id="6233" href="Ledger.Conway.Specification.Ledger.html#1056" class="Function">utxoSt</a> <a id="6240" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">⇀⦇</a> <a id="6243" href="Ledger.Conway.Conformance.Equivalence.html#5709" class="Bound">tx</a> <a id="6246" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">,UTXOW⦈</a> <a id="6254" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1072" class="Function">setDeposits</a> <a id="6266" href="Ledger.Conway.Conformance.Equivalence.html#6173" class="Function">deposits</a> <a id="6275" href="Ledger.Conway.Conformance.Equivalence.html#6072" class="Function">utxoSt&#39;</a>
      <a id="6289" href="Ledger.Conway.Conformance.Equivalence.html#6218" class="Function">utxow&#39;</a> <a id="6296" class="Symbol">=</a> <a id="6298" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="6303" href="Ledger.Conway.Conformance.Equivalence.html#5747" class="Bound">utxow</a>
      <a id="6315" href="Ledger.Conway.Conformance.Equivalence.html#6315" class="Function">utxoStC&#39;</a>    <a id="6327" class="Symbol">=</a> <a id="6329" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1072" class="Function">setDeposits</a> <a id="6341" class="Symbol">(</a><a id="6342" href="Ledger.Conway.Specification.Utxo.html#8313" class="Function">L.updateDeposits</a> <a id="6359" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="6367" class="Symbol">(</a><a id="6368" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">body</a> <a id="6373" href="Ledger.Conway.Conformance.Equivalence.html#5709" class="Bound">tx</a><a id="6375" class="Symbol">)</a> <a id="6377" href="Ledger.Conway.Conformance.Equivalence.html#6173" class="Function">deposits</a><a id="6385" class="Symbol">)</a> <a id="6387" href="Ledger.Conway.Conformance.Equivalence.html#6072" class="Function">utxoSt&#39;</a>
      <a id="6401" href="Ledger.Conway.Conformance.Equivalence.html#6401" class="Function">cdeposits</a>  <a id="6412" class="Symbol">=</a> <a id="6414" href="Ledger.Conway.Conformance.Equivalence.html#3779" class="Function">makeCertDeps*</a> <a id="6428" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6433" href="Ledger.Conway.Conformance.Equivalence.html#5747" class="Bound">utxow</a>
      <a id="6445" href="Ledger.Conway.Conformance.Equivalence.html#6445" class="Function">cdeposits&#39;</a> <a id="6456" class="Symbol">=</a> <a id="6458" href="Ledger.Conway.Conformance.Equivalence.Certs.html#5561" class="Function">updateCertDeps*</a> <a id="6474" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="6482" href="Ledger.Conway.Conformance.Equivalence.html#6401" class="Function">cdeposits</a>
      <a id="6498" href="Ledger.Conway.Conformance.Equivalence.html#6498" class="Function">certStateC&#39;</a> <a id="6510" class="Symbol">=</a> <a id="6512" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4779" class="Function">getCertDeps*</a> <a id="6525" href="Ledger.Conway.Conformance.Equivalence.html#6445" class="Function">cdeposits&#39;</a> <a id="6536" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6542" href="Ledger.Conway.Conformance.Equivalence.html#6094" class="Function">certState&#39;</a>
      <a id="6559" href="Ledger.Conway.Conformance.Equivalence.html#6559" class="Function">certs&#39;</a> <a id="6566" class="Symbol">:</a> <a id="6568" class="Symbol">_</a> <a id="6570" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">C.⊢</a> <a id="6574" class="Symbol">(</a><a id="6575" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4779" class="Function">getCertDeps*</a> <a id="6588" href="Ledger.Conway.Conformance.Equivalence.html#6401" class="Function">cdeposits</a> <a id="6598" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6604" href="Ledger.Conway.Specification.Ledger.html#1109" class="Function">certState</a><a id="6613" class="Symbol">)</a> <a id="6615" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">⇀⦇</a> <a id="6618" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="6626" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">,CERTS⦈</a> <a id="6634" href="Ledger.Conway.Conformance.Equivalence.html#6498" class="Function">certStateC&#39;</a>
      <a id="6652" href="Ledger.Conway.Conformance.Equivalence.html#6559" class="Function">certs&#39;</a> <a id="6659" class="Symbol">=</a> <a id="6661" href="Ledger.Conway.Conformance.Equivalence.html#6401" class="Function">cdeposits</a> <a id="6671" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6677" href="Ledger.Conway.Conformance.Equivalence.html#5753" class="Bound">certs</a>
      <a id="6689" href="Ledger.Conway.Conformance.Equivalence.html#6689" class="Function">ledger&#39;</a> <a id="6697" class="Symbol">:</a> <a id="6699" href="Ledger.Conway.Conformance.Equivalence.html#5701" class="Bound">Γ</a> <a id="6701" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">C.⊢</a> <a id="6705" class="Symbol">(</a><a id="6706" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4779" class="Function">getCertDeps*</a> <a id="6719" href="Ledger.Conway.Conformance.Equivalence.html#6401" class="Function">cdeposits</a> <a id="6729" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="6735" href="Ledger.Conway.Conformance.Equivalence.html#5705" class="Bound">s</a><a id="6736" class="Symbol">)</a> <a id="6738" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">⇀⦇</a> <a id="6741" href="Ledger.Conway.Conformance.Equivalence.html#5709" class="Bound">tx</a> <a id="6744" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">,LEDGER⦈</a> <a id="6753" href="Ledger.Conway.Conformance.Ledger.html#772" class="InductiveConstructor Operator">C.⟦</a> <a id="6757" href="Ledger.Conway.Conformance.Equivalence.html#6315" class="Function">utxoStC&#39;</a> <a id="6766" href="Ledger.Conway.Conformance.Ledger.html#772" class="InductiveConstructor Operator">,</a> <a id="6768" href="Ledger.Conway.Conformance.Equivalence.html#6115" class="Function">govSt&#39;</a> <a id="6775" href="Ledger.Conway.Conformance.Ledger.html#772" class="InductiveConstructor Operator">,</a> <a id="6777" href="Ledger.Conway.Conformance.Equivalence.html#6498" class="Function">certStateC&#39;</a> <a id="6789" href="Ledger.Conway.Conformance.Ledger.html#772" class="InductiveConstructor Operator">⟧ˡ</a>
      <a id="6798" href="Ledger.Conway.Conformance.Equivalence.html#6689" class="Function">ledger&#39;</a> <a id="6806" class="Symbol">=</a> <a id="6808" href="Ledger.Conway.Conformance.Ledger.html#2137" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="6820" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6825" href="Ledger.Conway.Conformance.Equivalence.html#6218" class="Function">utxow&#39;</a> <a id="6832" href="Ledger.Conway.Conformance.Equivalence.html#6559" class="Function">certs&#39;</a> <a id="6839" href="Ledger.Conway.Conformance.Equivalence.html#5759" class="Bound">gov</a>
      <a id="6849" href="Ledger.Conway.Conformance.Equivalence.html#6849" class="Function">utxoEq</a>  <a id="6857" class="Symbol">:</a> <a id="6859" href="Ledger.Conway.Conformance.Equivalence.html#6315" class="Function">utxoStC&#39;</a> <a id="6868" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="6870" href="Ledger.Conway.Conformance.Equivalence.html#6072" class="Function">utxoSt&#39;</a>
      <a id="6884" href="Ledger.Conway.Conformance.Equivalence.html#6849" class="Function">utxoEq</a>  <a id="6892" class="Symbol">=</a> <a id="6894" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="6899" class="Symbol">(λ</a> <a id="6902" href="Ledger.Conway.Conformance.Equivalence.html#6902" class="Bound">•</a> <a id="6904" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{6908}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{6912}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#6902}{\htmlId{6916}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{6920}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="6923" class="Symbol">)</a>
                     <a id="6946" class="Symbol">(</a><a id="6947" href="Ledger.Conway.Conformance.Equivalence.html#2868" class="Function">lemUpdateDeposits</a> <a id="6965" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6970" href="Ledger.Conway.Conformance.Equivalence.html#5747" class="Bound">utxow</a><a id="6975" class="Symbol">)</a>
      <a id="6983" href="Ledger.Conway.Conformance.Equivalence.html#6983" class="Function">ddeps</a> <a id="6989" class="Symbol">=</a> <a id="6991" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4779" class="Function">getCertDeps*</a> <a id="7004" href="Ledger.Conway.Conformance.Equivalence.html#6401" class="Function">cdeposits</a> <a id="7014" class="Symbol">.</a><a id="7015" href="Data.Product.Base.html#636" class="Field">proj₁</a>
      <a id="7027" href="Ledger.Conway.Conformance.Equivalence.html#7027" class="Function">gdeps</a> <a id="7033" class="Symbol">=</a> <a id="7035" href="Ledger.Conway.Conformance.Equivalence.Certs.html#4779" class="Function">getCertDeps*</a> <a id="7048" href="Ledger.Conway.Conformance.Equivalence.html#6401" class="Function">cdeposits</a> <a id="7058" class="Symbol">.</a><a id="7059" href="Data.Product.Base.html#650" class="Field">proj₂</a>
      <a id="7071" href="Ledger.Conway.Conformance.Equivalence.html#7071" class="Function">certsEq</a> <a id="7079" class="Symbol">:</a> <a id="7081" href="Ledger.Conway.Conformance.Equivalence.html#6498" class="Function">certStateC&#39;</a> <a id="7093" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7095" class="Symbol">(</a><a id="7096" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2226" class="Function">updateDDeps</a> <a id="7108" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="7116" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="7124" href="Ledger.Conway.Conformance.Equivalence.html#6983" class="Function">ddeps</a> <a id="7130" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7132" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2677" class="Function">updateGDeps</a> <a id="7144" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="7152" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="7160" href="Ledger.Conway.Conformance.Equivalence.html#7027" class="Function">gdeps</a><a id="7165" class="Symbol">)</a> <a id="7167" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="7173" href="Ledger.Conway.Conformance.Equivalence.html#6094" class="Function">certState&#39;</a>
      <a id="7190" href="Ledger.Conway.Conformance.Equivalence.html#7071" class="Function">certsEq</a> <a id="7198" class="Symbol">=</a> <a id="7200" href="Relation.Binary.PropositionalEquality.Core.html#1718" class="Function">cong₂</a> <a id="7206" class="Symbol">(λ</a> <a id="7209" href="Ledger.Conway.Conformance.Equivalence.html#7209" class="Bound">•</a> <a id="7211" href="Ledger.Conway.Conformance.Equivalence.html#7211" class="Bound">◆</a> <a id="7213" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\htmlId{7219}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7223}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7227}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7209}{\htmlId{7231}{\htmlClass{Bound}{\text{•}}}}\, \end{pmatrix} \\ \,\htmlId{7237}{\htmlClass{Symbol}{\text{\_}}}\, \\ \begin{pmatrix} \,\htmlId{7243}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7247}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7211}{\htmlId{7251}{\htmlClass{Bound}{\text{◆}}}}\, \end{pmatrix} \end{pmatrix}$</a><a id="7256" class="Symbol">)</a>
                     <a id="7279" class="Symbol">(</a><a id="7280" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#10864" class="Function">lem-ddeps</a> <a id="7290" href="Ledger.Conway.Conformance.Equivalence.html#6401" class="Function">cdeposits</a><a id="7299" class="Symbol">)</a>
                     <a id="7322" class="Symbol">(</a><a id="7323" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#11777" class="Function">lem-gdeps</a> <a id="7333" href="Ledger.Conway.Conformance.Equivalence.html#6401" class="Function">cdeposits</a><a id="7342" class="Symbol">)</a>

  <a id="7347" class="Comment">-- LEDGERToConf {Γ} {s} {tx} {s&#39;} .convⁱ (cdeps , cdeps-eq) r@(L.LEDGER-I⋯ refl utxow) =</a>
  <a id="7438" href="Ledger.Conway.Conformance.Equivalence.html#5425" class="Function">LEDGERToConf</a> <a id="7451" class="Symbol">{</a><a id="7452" href="Ledger.Conway.Conformance.Equivalence.html#7452" class="Bound">Γ</a><a id="7453" class="Symbol">}</a> <a id="7455" class="Symbol">{</a><a id="7456" href="Ledger.Conway.Conformance.Equivalence.html#7456" class="Bound">s</a><a id="7457" class="Symbol">}</a> <a id="7459" class="Symbol">{</a><a id="7460" href="Ledger.Conway.Conformance.Equivalence.html#7460" class="Bound">tx</a><a id="7462" class="Symbol">}</a> <a id="7464" class="Symbol">{</a><a id="7465" href="Ledger.Conway.Conformance.Equivalence.html#7465" class="Bound">s&#39;</a><a id="7467" class="Symbol">}</a> <a id="7469" class="Symbol">.</a><a id="7470" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="7476" class="Symbol">_</a> <a id="7478" href="Ledger.Conway.Conformance.Equivalence.html#7478" class="Bound">r</a><a id="7479" class="Symbol">@(</a><a id="7481" href="Ledger.Conway.Specification.Ledger.html#4875" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="7493" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7498" href="Ledger.Conway.Conformance.Equivalence.html#7498" class="Bound">utxow</a><a id="7503" class="Symbol">)</a> <a id="7505" class="Symbol">=</a>
    <a id="7511" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="7524" href="Ledger.Conway.Conformance.Equivalence.html#7456" class="Bound">s</a> <a id="7526" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7528" href="Ledger.Conway.Conformance.Equivalence.html#4865" class="Function">lem-cert-deposits-invalid</a> <a id="7554" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7559" href="Ledger.Conway.Conformance.Equivalence.html#7478" class="Bound">r</a> <a id="7561" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a>
    <a id="7567" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="7573" class="Symbol">(λ</a> <a id="7576" href="Ledger.Conway.Conformance.Equivalence.html#7576" class="Bound">•</a> <a id="7578" class="Symbol">→</a> <a id="7580" href="Ledger.Conway.Conformance.Equivalence.html#7452" class="Bound">Γ</a> <a id="7582" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">C.⊢</a> <a id="7586" class="Symbol">_</a> <a id="7588" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="7594" href="Ledger.Conway.Conformance.Equivalence.html#7456" class="Bound">s</a> <a id="7596" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">⇀⦇</a> <a id="7599" href="Ledger.Conway.Conformance.Equivalence.html#7460" class="Bound">tx</a> <a id="7602" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \begin{pmatrix} \,\htmlId{7615}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7619}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#7576}{\htmlId{7623}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{7627}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix} \\ \,\htmlId{7633}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{7637}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="7640" class="Symbol">)</a>
          <a id="7652" class="Symbol">(</a><a id="7653" href="Ledger.Conway.Conformance.Equivalence.html#1546" class="Function">lemInvalidDepositsL</a> <a id="7673" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7678" href="Ledger.Conway.Conformance.Equivalence.html#7498" class="Bound">utxow</a><a id="7683" class="Symbol">)</a>
          <a id="7695" class="Symbol">(</a><a id="7696" href="Ledger.Conway.Conformance.Ledger.html#2190" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="7708" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="7713" class="Symbol">(</a><a id="7714" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="7719" href="Ledger.Conway.Conformance.Equivalence.html#7498" class="Bound">utxow</a><a id="7724" class="Symbol">))</a>

<a id="7728" class="Keyword">instance</a>

  <a id="LStateFromConf"></a><a id="7740" href="Ledger.Conway.Conformance.Equivalence.html#7740" class="Function">LStateFromConf</a> <a id="7755" class="Symbol">:</a> <a id="7757" href="Ledger.Conway.Conformance.Ledger.html#738" class="Record">C.LState</a> <a id="7766" href="Ledger.Conway.Conformance.Equivalence.Convert.html#409" class="Function Operator">⭆</a> <a id="7768" href="Ledger.Conway.Specification.Ledger.html#997" class="Record">L.LState</a>
  <a id="7779" href="Ledger.Conway.Conformance.Equivalence.html#7740" class="Function">LStateFromConf</a> <a id="7794" class="Symbol">.</a><a id="7795" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="7801" class="Symbol">_</a> <a id="7803" href="Ledger.Conway.Conformance.Equivalence.html#7803" class="Bound">ls</a> <a id="7806" class="Symbol">=</a>
    <a id="7812" class="Keyword">let</a> <a id="7816" class="Keyword">open</a> <a id="7821" href="Ledger.Conway.Conformance.Ledger.html#738" class="Module">C.LState</a> <a id="7830" href="Ledger.Conway.Conformance.Equivalence.html#7803" class="Bound">ls</a> <a id="7833" class="Keyword">in</a>
    <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Ledger.html#793}{\htmlId{7842}{\htmlClass{Field}{\text{utxoSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Ledger.html#820}{\htmlId{7851}{\htmlClass{Field}{\text{govSt}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#452}{\htmlId{7859}{\htmlClass{Function}{\text{conv}}}}\, \,\href{Ledger.Conway.Conformance.Ledger.html#846}{\htmlId{7864}{\htmlClass{Field}{\text{certState}}}}\, \end{pmatrix}$</a>

<a id="certDepositsC"></a><a id="7877" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="7891" class="Symbol">:</a> <a id="7893" href="Ledger.Conway.Conformance.Certs.html#958" class="Record">C.CertState</a> <a id="7905" class="Symbol">→</a> <a id="7907" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a> <a id="7918" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="7920" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a>
<a id="7931" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="7945" href="Ledger.Conway.Conformance.Equivalence.html#7945" class="Bound">cs</a> <a id="7948" class="Symbol">=</a> <a id="7950" class="Keyword">let</a> <a id="7954" class="Keyword">open</a> <a id="7959" href="Ledger.Conway.Conformance.Certs.html#958" class="Module">C.CertState</a> <a id="7971" href="Ledger.Conway.Conformance.Equivalence.html#7945" class="Bound">cs</a> <a id="7974" class="Keyword">in</a> <a id="7977" href="Ledger.Conway.Conformance.Certs.html#758" class="Field">C.DState.deposits</a> <a id="7995" href="Ledger.Conway.Conformance.Certs.html#1017" class="Field">dState</a> <a id="8002" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8004" href="Ledger.Conway.Conformance.Certs.html#928" class="Field">C.GState.deposits</a> <a id="8022" href="Ledger.Conway.Conformance.Certs.html#1057" class="Field">gState</a>

<a id="WellformedLState"></a><a id="8030" href="Ledger.Conway.Conformance.Equivalence.html#8030" class="Function">WellformedLState</a> <a id="8047" class="Symbol">:</a> <a id="8049" href="Ledger.Conway.Conformance.Ledger.html#738" class="Record">C.LState</a> <a id="8058" class="Symbol">→</a> <a id="8060" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="8065" href="Ledger.Conway.Conformance.Equivalence.html#8030" class="Function">WellformedLState</a> <a id="8082" href="Ledger.Conway.Conformance.Equivalence.html#8082" class="Bound">s</a> <a id="8084" class="Symbol">=</a> <a id="8086" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="8100" class="Symbol">(</a><a id="8101" href="Ledger.Conway.Conformance.Ledger.html#846" class="Field">C.LState.certState</a> <a id="8120" href="Ledger.Conway.Conformance.Equivalence.html#8082" class="Bound">s</a><a id="8121" class="Symbol">)</a> <a id="8123" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="8126" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="8139" class="Symbol">(</a><a id="8140" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="8145" href="Ledger.Conway.Conformance.Equivalence.html#8082" class="Bound">s</a><a id="8146" class="Symbol">)</a>

<a id="getValidCertDepositsCERTS"></a><a id="8149" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="8175" class="Symbol">:</a> <a id="8177" class="Symbol">∀</a> <a id="8179" class="Symbol">{</a><a id="8180" href="Ledger.Conway.Conformance.Equivalence.html#8180" class="Bound">Γ</a> <a id="8182" href="Ledger.Conway.Conformance.Equivalence.html#8182" class="Bound">s</a> <a id="8184" href="Ledger.Conway.Conformance.Equivalence.html#8184" class="Bound">certs</a> <a id="8190" href="Ledger.Conway.Conformance.Equivalence.html#8190" class="Bound">s&#39;</a><a id="8192" class="Symbol">}</a> <a id="8194" href="Ledger.Conway.Conformance.Equivalence.html#8194" class="Bound">deposits</a> <a id="8203" class="Symbol">(</a><a id="8204" class="Keyword">open</a> <a id="8209" href="Ledger.Core.Specification.Certs.html#3552" class="Module">L.CertEnv</a> <a id="8219" href="Ledger.Conway.Conformance.Equivalence.html#8180" class="Bound">Γ</a> <a id="8221" class="Keyword">using</a> <a id="8227" class="Symbol">(</a><a id="8228" href="Ledger.Core.Specification.Certs.html#3607" class="Field">pp</a><a id="8230" class="Symbol">))</a>
                          <a id="8259" class="Symbol">→</a> <a id="8261" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="8275" href="Ledger.Conway.Conformance.Equivalence.html#8182" class="Bound">s</a> <a id="8277" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="8280" class="Symbol">(</a><a id="8281" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3873" class="Function">certDDeps</a> <a id="8291" href="Ledger.Conway.Conformance.Equivalence.html#8194" class="Bound">deposits</a> <a id="8300" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8302" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4019" class="Function">certGDeps</a> <a id="8312" href="Ledger.Conway.Conformance.Equivalence.html#8194" class="Bound">deposits</a><a id="8320" class="Symbol">)</a>
                          <a id="8348" class="Symbol">→</a> <a id="8350" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="8366" href="Ledger.Conway.Conformance.Certs.html#6046" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="8382" href="Ledger.Conway.Conformance.Certs.html#7436" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="8403" href="Ledger.Conway.Conformance.Equivalence.html#8180" class="Bound">Γ</a> <a id="8405" href="Ledger.Conway.Conformance.Equivalence.html#8182" class="Bound">s</a> <a id="8407" href="Ledger.Conway.Conformance.Equivalence.html#8184" class="Bound">certs</a> <a id="8413" href="Ledger.Conway.Conformance.Equivalence.html#8190" class="Bound">s&#39;</a>
                          <a id="8442" class="Symbol">→</a> <a id="8444" href="Ledger.Conway.Specification.Utxo.html#3538" class="Datatype">L.ValidCertDeposits</a> <a id="8464" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="8467" href="Ledger.Conway.Conformance.Equivalence.html#8194" class="Bound">deposits</a> <a id="8476" href="Ledger.Conway.Conformance.Equivalence.html#8184" class="Bound">certs</a>
<a id="8482" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="8508" href="Ledger.Conway.Conformance.Equivalence.html#8508" class="Bound">deposits</a> <a id="8517" href="Ledger.Conway.Conformance.Equivalence.html#8517" class="Bound">wf</a> <a id="8520" class="Symbol">(</a><a id="8521" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="8528" href="Ledger.Conway.Conformance.Equivalence.html#8528" class="Bound">x</a><a id="8529" class="Symbol">)</a> <a id="8531" class="Symbol">=</a> <a id="8533" href="Ledger.Conway.Specification.Utxo.html#3620" class="InductiveConstructor">L.[]</a>
<a id="8538" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="8564" class="Symbol">{</a><a id="8565" href="Ledger.Conway.Conformance.Equivalence.html#8565" class="Bound">Γ</a><a id="8566" class="Symbol">}</a> <a id="8568" class="Symbol">{</a><a id="8569" href="Ledger.Conway.Conformance.Equivalence.html#8569" class="Bound">s</a><a id="8570" class="Symbol">}</a> <a id="8572" class="Symbol">{</a><a id="8573" href="Ledger.Conway.Conformance.Equivalence.html#8573" class="Bound">cert</a> <a id="8578" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8580" class="Symbol">_}</a> <a id="8583" href="Ledger.Conway.Conformance.Equivalence.html#8583" class="Bound">deposits</a> <a id="8592" href="Ledger.Conway.Conformance.Equivalence.html#8592" class="Bound">wf</a> <a id="8595" class="Symbol">(</a><a id="8596" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="8602" class="Symbol">(</a><a id="8603" href="Ledger.Conway.Conformance.Certs.html#6117" class="InductiveConstructor">C.CERT-deleg</a> <a id="8616" class="Symbol">(</a><a id="8617" href="Ledger.Conway.Conformance.Certs.html#3704" class="InductiveConstructor">C.DELEG-delegate</a> <a id="8634" href="Ledger.Conway.Conformance.Equivalence.html#8634" class="Bound">x</a><a id="8635" class="Symbol">))</a> <a id="8638" href="Ledger.Conway.Conformance.Equivalence.html#8638" class="Bound">rs</a><a id="8640" class="Symbol">)</a>
  <a id="8644" class="Symbol">=</a> <a id="8646" href="Ledger.Conway.Specification.Utxo.html#3664" class="InductiveConstructor">L.delegate</a> <a id="8657" class="Symbol">(</a><a id="8658" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="8684" class="Symbol">_</a> <a id="8686" class="Symbol">(</a><a id="8687" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20720" class="Function">lemUpdCert</a> <a id="8698" class="Symbol">(</a><a id="8699" href="Ledger.Core.Specification.Certs.html#3607" class="Field">L.CertEnv.pp</a> <a id="8712" href="Ledger.Conway.Conformance.Equivalence.html#8565" class="Bound">Γ</a><a id="8713" class="Symbol">)</a> <a id="8715" class="Symbol">(</a><a id="8716" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="8730" href="Ledger.Conway.Conformance.Equivalence.html#8569" class="Bound">s</a><a id="8731" class="Symbol">)</a> <a id="8733" href="Ledger.Conway.Conformance.Equivalence.html#8583" class="Bound">deposits</a> <a id="8742" href="Ledger.Conway.Conformance.Equivalence.html#8573" class="Bound">cert</a> <a id="8747" href="Ledger.Conway.Conformance.Equivalence.html#8592" class="Bound">wf</a><a id="8749" class="Symbol">)</a> <a id="8751" href="Ledger.Conway.Conformance.Equivalence.html#8638" class="Bound">rs</a><a id="8753" class="Symbol">)</a>
<a id="8755" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="8781" class="Symbol">{</a><a id="8782" href="Ledger.Conway.Conformance.Equivalence.html#8782" class="Bound">Γ</a><a id="8783" class="Symbol">}</a> <a id="8785" class="Symbol">{</a><a id="8786" href="Ledger.Conway.Conformance.Equivalence.html#8786" class="Bound">s</a><a id="8787" class="Symbol">}</a> <a id="8789" class="Symbol">{</a><a id="8790" href="Ledger.Conway.Conformance.Equivalence.html#8790" class="Bound">cert</a> <a id="8795" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8797" class="Symbol">_}</a> <a id="8800" href="Ledger.Conway.Conformance.Equivalence.html#8800" class="Bound">deposits</a> <a id="8809" href="Ledger.Conway.Conformance.Equivalence.html#8809" class="Bound">wf</a> <a id="8812" class="Symbol">(</a><a id="8813" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="8819" class="Symbol">(</a><a id="8820" href="Ledger.Conway.Conformance.Certs.html#6117" class="InductiveConstructor">C.CERT-deleg</a> <a id="8833" class="Symbol">(</a><a id="8834" href="Ledger.Conway.Conformance.Certs.html#4341" class="InductiveConstructor">C.DELEG-dereg</a> <a id="8848" class="Symbol">(_</a> <a id="8851" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8853" href="Ledger.Conway.Conformance.Equivalence.html#8853" class="Bound">h</a> <a id="8855" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8857" href="Ledger.Conway.Conformance.Equivalence.html#8857" class="Bound">h&#39;</a><a id="8859" class="Symbol">)))</a> <a id="8863" href="Ledger.Conway.Conformance.Equivalence.html#8863" class="Bound">rs</a><a id="8865" class="Symbol">)</a>
  <a id="8869" class="Symbol">=</a> <a id="8871" href="Ledger.Conway.Specification.Utxo.html#4385" class="InductiveConstructor">L.dereg</a> <a id="8879" class="Symbol">(</a><a id="8880" href="Axiom.Set.html#5784" class="Function">∈-filter</a> <a id="8889" class="Symbol">.</a><a id="8890" href="Function.Bundles.html#4832" class="Field">Equivalence.from</a> <a id="8907" class="Symbol">(</a><a id="8908" href="Ledger.Conway.Conformance.Equivalence.html#8809" class="Bound">wf</a> <a id="8911" class="Symbol">.</a><a id="8912" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8918" class="Symbol">.</a><a id="8919" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8925" href="Ledger.Conway.Conformance.Equivalence.html#8853" class="Bound">h</a><a id="8926" class="Symbol">)</a> <a id="8928" class="Symbol">.</a><a id="8929" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="8934" class="Symbol">)</a> <a id="8936" href="Ledger.Conway.Conformance.Equivalence.html#8857" class="Bound">h&#39;</a>
            <a id="8951" class="Symbol">(</a><a id="8952" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="8978" class="Symbol">_</a> <a id="8980" class="Symbol">(</a><a id="8981" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20720" class="Function">lemUpdCert</a> <a id="8992" class="Symbol">(</a><a id="8993" href="Ledger.Core.Specification.Certs.html#3607" class="Field">L.CertEnv.pp</a> <a id="9006" href="Ledger.Conway.Conformance.Equivalence.html#8782" class="Bound">Γ</a><a id="9007" class="Symbol">)</a> <a id="9009" class="Symbol">(</a><a id="9010" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="9024" href="Ledger.Conway.Conformance.Equivalence.html#8786" class="Bound">s</a><a id="9025" class="Symbol">)</a> <a id="9027" href="Ledger.Conway.Conformance.Equivalence.html#8800" class="Bound">deposits</a> <a id="9036" href="Ledger.Conway.Conformance.Equivalence.html#8790" class="Bound">cert</a> <a id="9041" href="Ledger.Conway.Conformance.Equivalence.html#8809" class="Bound">wf</a><a id="9043" class="Symbol">)</a> <a id="9045" href="Ledger.Conway.Conformance.Equivalence.html#8863" class="Bound">rs</a><a id="9047" class="Symbol">)</a>
<a id="9049" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="9075" class="Symbol">{</a><a id="9076" href="Ledger.Conway.Conformance.Equivalence.html#9076" class="Bound">Γ</a><a id="9077" class="Symbol">}</a> <a id="9079" class="Symbol">{</a><a id="9080" href="Ledger.Conway.Conformance.Equivalence.html#9080" class="Bound">s</a><a id="9081" class="Symbol">}</a> <a id="9083" class="Symbol">{</a><a id="9084" href="Ledger.Conway.Conformance.Equivalence.html#9084" class="Bound">cert</a> <a id="9089" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9091" class="Symbol">_}</a> <a id="9094" href="Ledger.Conway.Conformance.Equivalence.html#9094" class="Bound">deposits</a> <a id="9103" href="Ledger.Conway.Conformance.Equivalence.html#9103" class="Bound">wf</a> <a id="9106" class="Symbol">(</a><a id="9107" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9113" class="Symbol">(</a><a id="9114" href="Ledger.Conway.Conformance.Certs.html#6117" class="InductiveConstructor">C.CERT-deleg</a> <a id="9127" class="Symbol">(</a><a id="9128" href="Ledger.Conway.Conformance.Certs.html#4705" class="InductiveConstructor">C.DELEG-reg</a> <a id="9140" href="Ledger.Conway.Conformance.Equivalence.html#9140" class="Bound">x</a><a id="9141" class="Symbol">))</a> <a id="9144" href="Ledger.Conway.Conformance.Equivalence.html#9144" class="Bound">rs</a><a id="9146" class="Symbol">)</a>
  <a id="9150" class="Symbol">=</a> <a id="9152" href="Ledger.Conway.Specification.Utxo.html#4204" class="InductiveConstructor">L.reg</a> <a id="9158" class="Symbol">(</a><a id="9159" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="9185" class="Symbol">_</a> <a id="9187" class="Symbol">(</a><a id="9188" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20720" class="Function">lemUpdCert</a> <a id="9199" class="Symbol">(</a><a id="9200" href="Ledger.Core.Specification.Certs.html#3607" class="Field">L.CertEnv.pp</a> <a id="9213" href="Ledger.Conway.Conformance.Equivalence.html#9076" class="Bound">Γ</a><a id="9214" class="Symbol">)</a> <a id="9216" class="Symbol">(</a><a id="9217" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="9231" href="Ledger.Conway.Conformance.Equivalence.html#9080" class="Bound">s</a><a id="9232" class="Symbol">)</a> <a id="9234" href="Ledger.Conway.Conformance.Equivalence.html#9094" class="Bound">deposits</a> <a id="9243" href="Ledger.Conway.Conformance.Equivalence.html#9084" class="Bound">cert</a> <a id="9248" href="Ledger.Conway.Conformance.Equivalence.html#9103" class="Bound">wf</a><a id="9250" class="Symbol">)</a> <a id="9252" href="Ledger.Conway.Conformance.Equivalence.html#9144" class="Bound">rs</a><a id="9254" class="Symbol">)</a>
<a id="9256" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="9282" class="Symbol">{</a><a id="9283" href="Ledger.Conway.Conformance.Equivalence.html#9283" class="Bound">Γ</a><a id="9284" class="Symbol">}</a> <a id="9286" class="Symbol">{</a><a id="9287" href="Ledger.Conway.Conformance.Equivalence.html#9287" class="Bound">s</a><a id="9288" class="Symbol">}</a> <a id="9290" class="Symbol">{</a><a id="9291" href="Ledger.Conway.Conformance.Equivalence.html#9291" class="Bound">cert</a> <a id="9296" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9298" class="Symbol">_}</a> <a id="9301" href="Ledger.Conway.Conformance.Equivalence.html#9301" class="Bound">deposits</a> <a id="9310" href="Ledger.Conway.Conformance.Equivalence.html#9310" class="Bound">wf</a> <a id="9313" class="Symbol">(</a><a id="9314" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9320" class="Symbol">(</a><a id="9321" href="Ledger.Conway.Conformance.Certs.html#6351" class="InductiveConstructor">C.CERT-pool</a> <a id="9333" href="Ledger.Conway.Specification.Certs.html#2495" class="InductiveConstructor">L.POOL-regpool</a><a id="9347" class="Symbol">)</a> <a id="9349" href="Ledger.Conway.Conformance.Equivalence.html#9349" class="Bound">rs</a><a id="9351" class="Symbol">)</a>
  <a id="9355" class="Symbol">=</a> <a id="9357" href="Ledger.Conway.Specification.Utxo.html#3851" class="InductiveConstructor">L.regpool</a> <a id="9367" class="Symbol">(</a><a id="9368" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="9394" class="Symbol">_</a> <a id="9396" class="Symbol">(</a><a id="9397" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20720" class="Function">lemUpdCert</a> <a id="9408" class="Symbol">(</a><a id="9409" href="Ledger.Core.Specification.Certs.html#3607" class="Field">L.CertEnv.pp</a> <a id="9422" href="Ledger.Conway.Conformance.Equivalence.html#9283" class="Bound">Γ</a><a id="9423" class="Symbol">)</a> <a id="9425" class="Symbol">(</a><a id="9426" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="9440" href="Ledger.Conway.Conformance.Equivalence.html#9287" class="Bound">s</a><a id="9441" class="Symbol">)</a> <a id="9443" href="Ledger.Conway.Conformance.Equivalence.html#9301" class="Bound">deposits</a> <a id="9452" href="Ledger.Conway.Conformance.Equivalence.html#9291" class="Bound">cert</a> <a id="9457" href="Ledger.Conway.Conformance.Equivalence.html#9310" class="Bound">wf</a><a id="9459" class="Symbol">)</a> <a id="9461" href="Ledger.Conway.Conformance.Equivalence.html#9349" class="Bound">rs</a><a id="9463" class="Symbol">)</a>
<a id="9465" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="9491" class="Symbol">{</a><a id="9492" href="Ledger.Conway.Conformance.Equivalence.html#9492" class="Bound">Γ</a><a id="9493" class="Symbol">}</a> <a id="9495" class="Symbol">{</a><a id="9496" href="Ledger.Conway.Conformance.Equivalence.html#9496" class="Bound">s</a><a id="9497" class="Symbol">}</a> <a id="9499" class="Symbol">{</a><a id="9500" href="Ledger.Conway.Conformance.Equivalence.html#9500" class="Bound">cert</a> <a id="9505" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9507" class="Symbol">_}</a> <a id="9510" href="Ledger.Conway.Conformance.Equivalence.html#9510" class="Bound">deposits</a> <a id="9519" href="Ledger.Conway.Conformance.Equivalence.html#9519" class="Bound">wf</a> <a id="9522" class="Symbol">(</a><a id="9523" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9529" class="Symbol">(</a><a id="9530" href="Ledger.Conway.Conformance.Certs.html#6351" class="InductiveConstructor">C.CERT-pool</a> <a id="9542" href="Ledger.Conway.Specification.Certs.html#2886" class="InductiveConstructor">C.POOL-retirepool</a><a id="9559" class="Symbol">)</a> <a id="9561" href="Ledger.Conway.Conformance.Equivalence.html#9561" class="Bound">rs</a><a id="9563" class="Symbol">)</a>
  <a id="9567" class="Symbol">=</a> <a id="9569" href="Ledger.Conway.Specification.Utxo.html#4993" class="InductiveConstructor">L.retirepool</a> <a id="9582" class="Symbol">(</a><a id="9583" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="9609" class="Symbol">_</a> <a id="9611" class="Symbol">(</a><a id="9612" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20720" class="Function">lemUpdCert</a> <a id="9623" class="Symbol">(</a><a id="9624" href="Ledger.Core.Specification.Certs.html#3607" class="Field">L.CertEnv.pp</a> <a id="9637" href="Ledger.Conway.Conformance.Equivalence.html#9492" class="Bound">Γ</a><a id="9638" class="Symbol">)</a> <a id="9640" class="Symbol">(</a><a id="9641" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="9655" href="Ledger.Conway.Conformance.Equivalence.html#9496" class="Bound">s</a><a id="9656" class="Symbol">)</a> <a id="9658" href="Ledger.Conway.Conformance.Equivalence.html#9510" class="Bound">deposits</a> <a id="9667" href="Ledger.Conway.Conformance.Equivalence.html#9500" class="Bound">cert</a> <a id="9672" href="Ledger.Conway.Conformance.Equivalence.html#9519" class="Bound">wf</a><a id="9674" class="Symbol">)</a> <a id="9676" href="Ledger.Conway.Conformance.Equivalence.html#9561" class="Bound">rs</a><a id="9678" class="Symbol">)</a>
<a id="9680" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="9706" class="Symbol">{</a><a id="9707" href="Ledger.Conway.Conformance.Equivalence.html#9707" class="Bound">Γ</a><a id="9708" class="Symbol">}</a> <a id="9710" class="Symbol">{</a><a id="9711" href="Ledger.Conway.Conformance.Equivalence.html#9711" class="Bound">s</a><a id="9712" class="Symbol">}</a> <a id="9714" class="Symbol">{</a><a id="9715" href="Ledger.Conway.Conformance.Equivalence.html#9715" class="Bound">cert</a> <a id="9720" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9722" class="Symbol">_}</a> <a id="9725" href="Ledger.Conway.Conformance.Equivalence.html#9725" class="Bound">deposits</a> <a id="9734" href="Ledger.Conway.Conformance.Equivalence.html#9734" class="Bound">wf</a> <a id="9737" class="Symbol">(</a><a id="9738" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9744" class="Symbol">(</a><a id="9745" href="Ledger.Conway.Conformance.Certs.html#6535" class="InductiveConstructor">C.CERT-vdel</a> <a id="9757" class="Symbol">(</a><a id="9758" href="Ledger.Conway.Conformance.Certs.html#5094" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="9776" href="Ledger.Conway.Conformance.Equivalence.html#9776" class="Bound">x</a><a id="9777" class="Symbol">))</a> <a id="9780" href="Ledger.Conway.Conformance.Equivalence.html#9780" class="Bound">rs</a><a id="9782" class="Symbol">)</a>
  <a id="9786" class="Symbol">=</a> <a id="9788" href="Ledger.Conway.Specification.Utxo.html#4034" class="InductiveConstructor">L.regdrep</a> <a id="9798" class="Symbol">(</a><a id="9799" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="9825" class="Symbol">_</a> <a id="9827" class="Symbol">(</a><a id="9828" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20720" class="Function">lemUpdCert</a> <a id="9839" class="Symbol">(</a><a id="9840" href="Ledger.Core.Specification.Certs.html#3607" class="Field">L.CertEnv.pp</a> <a id="9853" href="Ledger.Conway.Conformance.Equivalence.html#9707" class="Bound">Γ</a><a id="9854" class="Symbol">)</a> <a id="9856" class="Symbol">(</a><a id="9857" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="9871" href="Ledger.Conway.Conformance.Equivalence.html#9711" class="Bound">s</a><a id="9872" class="Symbol">)</a> <a id="9874" href="Ledger.Conway.Conformance.Equivalence.html#9725" class="Bound">deposits</a> <a id="9883" href="Ledger.Conway.Conformance.Equivalence.html#9715" class="Bound">cert</a> <a id="9888" href="Ledger.Conway.Conformance.Equivalence.html#9734" class="Bound">wf</a><a id="9890" class="Symbol">)</a> <a id="9892" href="Ledger.Conway.Conformance.Equivalence.html#9780" class="Bound">rs</a><a id="9894" class="Symbol">)</a>
<a id="9896" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="9922" class="Symbol">{</a><a id="9923" href="Ledger.Conway.Conformance.Equivalence.html#9923" class="Bound">Γ</a><a id="9924" class="Symbol">}</a> <a id="9926" class="Symbol">{</a><a id="9927" href="Ledger.Conway.Conformance.Equivalence.html#9927" class="Bound">s</a><a id="9928" class="Symbol">}</a> <a id="9930" class="Symbol">{</a><a id="9931" href="Ledger.Conway.Conformance.Equivalence.html#9931" class="Bound">cert</a> <a id="9936" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9938" class="Symbol">_}</a> <a id="9941" href="Ledger.Conway.Conformance.Equivalence.html#9941" class="Bound">deposits</a> <a id="9950" href="Ledger.Conway.Conformance.Equivalence.html#9950" class="Bound">wf</a> <a id="9953" class="Symbol">(</a><a id="9954" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="9960" class="Symbol">(</a><a id="9961" href="Ledger.Conway.Conformance.Certs.html#6535" class="InductiveConstructor">C.CERT-vdel</a> <a id="9973" class="Symbol">(</a><a id="9974" href="Ledger.Conway.Conformance.Certs.html#5460" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="9994" class="Symbol">(_</a> <a id="9997" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9999" href="Ledger.Conway.Conformance.Equivalence.html#9999" class="Bound">h</a><a id="10000" class="Symbol">)))</a> <a id="10004" href="Ledger.Conway.Conformance.Equivalence.html#10004" class="Bound">rs</a><a id="10006" class="Symbol">)</a>
  <a id="10010" class="Symbol">=</a> <a id="10012" href="Ledger.Conway.Specification.Utxo.html#4646" class="InductiveConstructor">L.deregdrep</a> <a id="10024" class="Symbol">(</a><a id="10025" href="Axiom.Set.html#5784" class="Function">∈-filter</a> <a id="10034" class="Symbol">.</a><a id="10035" href="Function.Bundles.html#4832" class="Field">Equivalence.from</a> <a id="10052" class="Symbol">(</a><a id="10053" href="Ledger.Conway.Conformance.Equivalence.html#9950" class="Bound">wf</a> <a id="10056" class="Symbol">.</a><a id="10057" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="10063" class="Symbol">.</a><a id="10064" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="10070" href="Ledger.Conway.Conformance.Equivalence.html#9999" class="Bound">h</a><a id="10071" class="Symbol">)</a> <a id="10073" class="Symbol">.</a><a id="10074" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="10079" class="Symbol">)</a>
                <a id="10097" class="Symbol">(</a><a id="10098" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="10124" class="Symbol">_</a> <a id="10126" class="Symbol">(</a><a id="10127" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20720" class="Function">lemUpdCert</a> <a id="10138" class="Symbol">(</a><a id="10139" href="Ledger.Core.Specification.Certs.html#3607" class="Field">L.CertEnv.pp</a> <a id="10152" href="Ledger.Conway.Conformance.Equivalence.html#9923" class="Bound">Γ</a><a id="10153" class="Symbol">)</a> <a id="10155" class="Symbol">(</a><a id="10156" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="10170" href="Ledger.Conway.Conformance.Equivalence.html#9927" class="Bound">s</a><a id="10171" class="Symbol">)</a> <a id="10173" href="Ledger.Conway.Conformance.Equivalence.html#9941" class="Bound">deposits</a> <a id="10182" href="Ledger.Conway.Conformance.Equivalence.html#9931" class="Bound">cert</a> <a id="10187" href="Ledger.Conway.Conformance.Equivalence.html#9950" class="Bound">wf</a><a id="10189" class="Symbol">)</a> <a id="10191" href="Ledger.Conway.Conformance.Equivalence.html#10004" class="Bound">rs</a><a id="10193" class="Symbol">)</a>
<a id="10195" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="10221" class="Symbol">{</a><a id="10222" href="Ledger.Conway.Conformance.Equivalence.html#10222" class="Bound">Γ</a><a id="10223" class="Symbol">}</a> <a id="10225" class="Symbol">{</a><a id="10226" href="Ledger.Conway.Conformance.Equivalence.html#10226" class="Bound">s</a><a id="10227" class="Symbol">}</a> <a id="10229" class="Symbol">{</a><a id="10230" href="Ledger.Conway.Conformance.Equivalence.html#10230" class="Bound">cert</a> <a id="10235" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10237" class="Symbol">_}</a> <a id="10240" href="Ledger.Conway.Conformance.Equivalence.html#10240" class="Bound">deposits</a> <a id="10249" href="Ledger.Conway.Conformance.Equivalence.html#10249" class="Bound">wf</a> <a id="10252" class="Symbol">(</a><a id="10253" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="10259" class="Symbol">(</a><a id="10260" href="Ledger.Conway.Conformance.Certs.html#6535" class="InductiveConstructor">C.CERT-vdel</a> <a id="10272" class="Symbol">(</a><a id="10273" href="Ledger.Conway.Conformance.Certs.html#5755" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="10292" href="Ledger.Conway.Conformance.Equivalence.html#10292" class="Bound">x</a><a id="10293" class="Symbol">))</a> <a id="10296" href="Ledger.Conway.Conformance.Equivalence.html#10296" class="Bound">rs</a><a id="10298" class="Symbol">)</a>
  <a id="10302" class="Symbol">=</a> <a id="10304" href="Ledger.Conway.Specification.Utxo.html#4853" class="InductiveConstructor">L.ccreghot</a><a id="10314" class="Symbol">(</a><a id="10315" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="10341" class="Symbol">_</a> <a id="10343" class="Symbol">(</a><a id="10344" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#20720" class="Function">lemUpdCert</a> <a id="10355" class="Symbol">(</a><a id="10356" href="Ledger.Core.Specification.Certs.html#3607" class="Field">L.CertEnv.pp</a> <a id="10369" href="Ledger.Conway.Conformance.Equivalence.html#10222" class="Bound">Γ</a><a id="10370" class="Symbol">)</a> <a id="10372" class="Symbol">(</a><a id="10373" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="10387" href="Ledger.Conway.Conformance.Equivalence.html#10226" class="Bound">s</a><a id="10388" class="Symbol">)</a> <a id="10390" href="Ledger.Conway.Conformance.Equivalence.html#10240" class="Bound">deposits</a> <a id="10399" href="Ledger.Conway.Conformance.Equivalence.html#10230" class="Bound">cert</a> <a id="10404" href="Ledger.Conway.Conformance.Equivalence.html#10249" class="Bound">wf</a><a id="10406" class="Symbol">)</a> <a id="10408" href="Ledger.Conway.Conformance.Equivalence.html#10296" class="Bound">rs</a><a id="10410" class="Symbol">)</a>


<a id="getValidCertDepositsC"></a><a id="10414" href="Ledger.Conway.Conformance.Equivalence.html#10414" class="Function">getValidCertDepositsC</a> <a id="10436" class="Symbol">:</a> <a id="10438" class="Symbol">∀</a> <a id="10440" href="Ledger.Conway.Conformance.Equivalence.html#10440" class="Bound">Γ</a> <a id="10442" href="Ledger.Conway.Conformance.Equivalence.html#10442" class="Bound">s</a> <a id="10444" class="Symbol">{</a><a id="10445" href="Ledger.Conway.Conformance.Equivalence.html#10445" class="Bound">s&#39;</a><a id="10447" class="Symbol">}</a> <a id="10449" href="Ledger.Conway.Conformance.Equivalence.html#10449" class="Bound">tx</a>
                     <a id="10473" class="Symbol">→</a> <a id="10475" class="Symbol">(</a><a id="10476" class="Keyword">let</a> <a id="10480" class="Keyword">open</a> <a id="10485" href="Ledger.Conway.Specification.Ledger.html#731" class="Module">C.LEnv</a> <a id="10492" href="Ledger.Conway.Conformance.Equivalence.html#10440" class="Bound">Γ</a> <a id="10494" class="Keyword">using</a> <a id="10500" class="Symbol">(</a><a id="10501" href="Ledger.Conway.Specification.Ledger.html#819" class="Field">pparams</a><a id="10508" class="Symbol">;</a> <a id="10510" href="Ledger.Conway.Specification.Ledger.html#761" class="Field">slot</a><a id="10514" class="Symbol">;</a> <a id="10516" href="Ledger.Conway.Specification.Ledger.html#845" class="Field">enactState</a><a id="10526" class="Symbol">)</a>
                            <a id="10556" class="Keyword">open</a> <a id="10561" href="Ledger.Conway.Specification.Transaction.html#350" class="Module">TxBody</a> <a id="10568" class="Symbol">(</a><a id="10569" href="Ledger.Conway.Conformance.Equivalence.html#10449" class="Bound">tx</a> <a id="10572" class="Symbol">.</a><a id="10573" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">Tx.body</a><a id="10580" class="Symbol">)</a> <a id="10582" class="Keyword">using</a> <a id="10588" class="Symbol">(</a><a id="10589" href="Ledger.Conway.Specification.Transaction.html#554" class="Field">txCerts</a><a id="10596" class="Symbol">;</a> <a id="10598" href="Ledger.Conway.Specification.Transaction.html#791" class="Field">txGovVotes</a><a id="10608" class="Symbol">;</a> <a id="10610" href="Ledger.Conway.Specification.Transaction.html#624" class="Field">txWithdrawals</a><a id="10623" class="Symbol">)</a>
                            <a id="10653" class="Keyword">open</a> <a id="10658" href="Ledger.Conway.Conformance.Ledger.html#738" class="Module">C.LState</a> <a id="10667" href="Ledger.Conway.Conformance.Equivalence.html#10442" class="Bound">s</a>
                            <a id="10697" class="Keyword">open</a> <a id="10702" href="Ledger.Conway.Specification.Utxo.html#1306" class="Module">C.UTxOState</a> <a id="10714" href="Ledger.Conway.Conformance.Ledger.html#793" class="Function">utxoSt</a> <a id="10721" class="Keyword">using</a> <a id="10727" class="Symbol">(</a><a id="10728" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">deposits</a><a id="10736" class="Symbol">)</a>
                            <a id="10766" href="Ledger.Conway.Conformance.Equivalence.html#10766" class="Bound">cc</a> <a id="10769" class="Symbol">=</a> <a id="10771" href="Ledger.Conway.Specification.Ledger.html#3268" class="Function">C.allColdCreds</a> <a id="10786" href="Ledger.Conway.Conformance.Ledger.html#820" class="Function">govSt</a> <a id="10792" href="Ledger.Conway.Specification.Ledger.html#845" class="Function">enactState</a>
                       <a id="10826" class="Symbol">)</a>
                     <a id="10849" class="Symbol">→</a> <a id="10851" href="Ledger.Conway.Conformance.Equivalence.html#8030" class="Function">WellformedLState</a> <a id="10868" href="Ledger.Conway.Conformance.Equivalence.html#10442" class="Bound">s</a>
                     <a id="10891" class="Symbol">→</a> <a id="10893" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="10901" href="Ledger.Conway.Conformance.Equivalence.html#10449" class="Bound">tx</a> <a id="10904" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="10906" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                     <a id="10932" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Core.Specification.Epoch.html#858}{\htmlId{10936}{\htmlClass{Function}{\text{epoch}}}}\, \,\href{Ledger.Conway.Specification.Ledger.html#761}{\htmlId{10942}{\htmlClass{Function}{\text{slot}}}}\, \\ \,\href{Ledger.Conway.Specification.Ledger.html#819}{\htmlId{10949}{\htmlClass{Function}{\text{pparams}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#791}{\htmlId{10959}{\htmlClass{Function}{\text{txGovVotes}}}}\, \\ \,\href{Ledger.Conway.Specification.Transaction.html#624}{\htmlId{10972}{\htmlClass{Function}{\text{txWithdrawals}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#10766}{\htmlId{10988}{\htmlClass{Bound}{\text{cc}}}}\, \end{pmatrix}$</a> <a id="10993" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">C.⊢</a> <a id="10997" href="Ledger.Conway.Conformance.Ledger.html#846" class="Function">certState</a> <a id="11007" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">⇀⦇</a> <a id="11010" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="11018" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">,CERTS⦈</a> <a id="11026" href="Ledger.Conway.Conformance.Equivalence.html#10445" class="Bound">s&#39;</a>
                     <a id="11050" class="Symbol">→</a> <a id="11052" href="Ledger.Conway.Specification.Utxo.html#3538" class="Datatype">L.ValidCertDeposits</a> <a id="11072" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="11080" href="Ledger.Conway.Specification.Utxo.html#1414" class="Function">deposits</a> <a id="11089" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a>
<a id="11097" href="Ledger.Conway.Conformance.Equivalence.html#10414" class="Function">getValidCertDepositsC</a> <a id="11119" href="Ledger.Conway.Conformance.Equivalence.html#11119" class="Bound">Γ</a> <a id="11121" href="Ledger.Conway.Conformance.Equivalence.html#11121" class="Bound">s</a> <a id="11123" href="Ledger.Conway.Conformance.Equivalence.html#11123" class="Bound">tx</a> <a id="11126" href="Ledger.Conway.Conformance.Equivalence.html#11126" class="Bound">wf</a> <a id="11129" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="11134" class="Symbol">(</a><a id="11135" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="11139" class="Symbol">{</a><a id="11140" class="Argument">s&#39;</a> <a id="11143" class="Symbol">=</a> <a id="11145" href="Ledger.Conway.Conformance.Equivalence.html#11145" class="Bound">s&#39;</a><a id="11147" class="Symbol">}</a> <a id="11149" class="Symbol">(</a><a id="11150" href="Ledger.Conway.Conformance.Certs.html#6769" class="InductiveConstructor">C.CERT-pre</a> <a id="11161" class="Symbol">_</a> <a id="11163" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11165" href="Ledger.Conway.Conformance.Equivalence.html#11165" class="Bound">cert-post</a><a id="11174" class="Symbol">))</a> <a id="11177" class="Symbol">=</a>
  <a id="11181" href="Ledger.Conway.Conformance.Equivalence.html#8149" class="Function">getValidCertDepositsCERTS</a> <a id="11207" class="Symbol">(</a><a id="11208" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">C.UTxOState.deposits</a> <a id="11229" class="Symbol">((</a><a id="11231" href="Ledger.Conway.Conformance.Ledger.html#793" class="Field">C.LState.utxoSt</a> <a id="11247" href="Ledger.Conway.Conformance.Equivalence.html#11121" class="Bound">s</a><a id="11248" class="Symbol">)))</a> <a id="11252" href="Ledger.Conway.Conformance.Equivalence.html#11126" class="Bound">wf</a> <a id="11255" href="Ledger.Conway.Conformance.Equivalence.html#11165" class="Bound">cert-post</a>

<a id="lemUtxowDeposits"></a><a id="11266" href="Ledger.Conway.Conformance.Equivalence.html#11266" class="Function">lemUtxowDeposits</a> <a id="11283" class="Symbol">:</a> <a id="11285" class="Symbol">∀</a> <a id="11287" class="Symbol">{</a><a id="11288" href="Ledger.Conway.Conformance.Equivalence.html#11288" class="Bound">Γ</a> <a id="11290" href="Ledger.Conway.Conformance.Equivalence.html#11290" class="Bound">s</a> <a id="11292" href="Ledger.Conway.Conformance.Equivalence.html#11292" class="Bound">s&#39;</a> <a id="11295" href="Ledger.Conway.Conformance.Equivalence.html#11295" class="Bound">tx</a><a id="11297" class="Symbol">}</a>
                      <a id="11321" class="Symbol">(</a><a id="11322" class="Keyword">let</a> <a id="11326" class="Keyword">open</a> <a id="11331" href="Ledger.Conway.Specification.Utxo.html#1197" class="Module">C.UTxOEnv</a> <a id="11341" href="Ledger.Conway.Conformance.Equivalence.html#11288" class="Bound">Γ</a> <a id="11343" class="Keyword">using</a> <a id="11349" class="Symbol">(</a><a id="11350" href="Ledger.Conway.Specification.Utxo.html#1251" class="Field">pparams</a><a id="11357" class="Symbol">))</a>
                  <a id="11378" class="Symbol">→</a> <a id="11380" href="Ledger.Conway.Specification.Transaction.html#1813" class="Field">isValid</a> <a id="11388" href="Ledger.Conway.Conformance.Equivalence.html#11295" class="Bound">tx</a> <a id="11391" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11393" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
                  <a id="11416" class="Symbol">→</a> <a id="11418" class="Symbol">(</a><a id="11419" href="Ledger.Conway.Conformance.Equivalence.html#11419" class="Bound">r</a> <a id="11421" class="Symbol">:</a> <a id="11423" href="Ledger.Conway.Conformance.Equivalence.html#11288" class="Bound">Γ</a> <a id="11425" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">C.⊢</a> <a id="11429" href="Ledger.Conway.Conformance.Equivalence.html#11290" class="Bound">s</a> <a id="11431" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">⇀⦇</a> <a id="11434" href="Ledger.Conway.Conformance.Equivalence.html#11295" class="Bound">tx</a> <a id="11437" href="Ledger.Conway.Conformance.Utxow.html#637" class="Datatype Operator">,UTXOW⦈</a> <a id="11445" href="Ledger.Conway.Conformance.Equivalence.html#11292" class="Bound">s&#39;</a><a id="11447" class="Symbol">)</a>
                  <a id="11467" class="Symbol">→</a> <a id="11469" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2095" class="Function">utxowDeposits</a> <a id="11483" href="Ledger.Conway.Conformance.Equivalence.html#11419" class="Bound">r</a> <a id="11485" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="11487" href="Ledger.Conway.Specification.Utxo.html#8313" class="Function">L.updateDeposits</a> <a id="11504" href="Ledger.Conway.Specification.Utxo.html#1251" class="Function">pparams</a> <a id="11512" class="Symbol">(</a><a id="11513" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">body</a> <a id="11518" href="Ledger.Conway.Conformance.Equivalence.html#11295" class="Bound">tx</a><a id="11520" class="Symbol">)</a> <a id="11522" class="Symbol">(</a><a id="11523" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">C.UTxOState.deposits</a> <a id="11544" href="Ledger.Conway.Conformance.Equivalence.html#11292" class="Bound">s&#39;</a><a id="11546" class="Symbol">)</a>
<a id="11548" href="Ledger.Conway.Conformance.Equivalence.html#11266" class="Function">lemUtxowDeposits</a> <a id="11565" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="11570" class="Symbol">(</a><a id="11571" href="Ledger.Conway.Conformance.Utxow.html#2486" class="InductiveConstructor">C.UTXOW⇒UTXO</a>
                        <a id="11608" class="Symbol">(</a><a id="11609" href="Ledger.Conway.Conformance.Utxo.html#3761" class="InductiveConstructor">C.UTXO-inductive⋯</a> <a id="11627" class="Symbol">_</a> <a id="11629" class="Symbol">_</a> <a id="11631" class="Symbol">_</a> <a id="11633" class="Symbol">_</a> <a id="11635" class="Symbol">_</a> <a id="11637" class="Symbol">_</a> <a id="11639" class="Symbol">_</a> <a id="11641" class="Symbol">_</a> <a id="11643" class="Symbol">_</a> <a id="11645" class="Symbol">_</a> <a id="11647" class="Symbol">_</a> <a id="11649" class="Symbol">_</a> <a id="11651" class="Symbol">_</a> <a id="11653" class="Symbol">_</a> <a id="11655" class="Symbol">_</a> <a id="11657" class="Symbol">_</a> <a id="11659" class="Symbol">_</a> <a id="11661" class="Symbol">_</a> <a id="11663" class="Symbol">_</a> <a id="11665" class="Symbol">_</a>
                          <a id="11693" class="Symbol">(</a><a id="11694" href="Ledger.Conway.Conformance.Utxo.html#1046" class="InductiveConstructor">C.Scripts-Yes</a> <a id="11708" class="Symbol">_)))</a> <a id="11713" class="Symbol">=</a> <a id="11715" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="11721" class="Keyword">instance</a>

  <a id="LEDGERFromConf"></a><a id="11733" href="Ledger.Conway.Conformance.Equivalence.html#11733" class="Function">LEDGERFromConf</a> <a id="11748" class="Symbol">:</a> <a id="11750" class="Symbol">∀</a> <a id="11752" class="Symbol">{</a><a id="11753" href="Ledger.Conway.Conformance.Equivalence.html#11753" class="Bound">Γ</a> <a id="11755" href="Ledger.Conway.Conformance.Equivalence.html#11755" class="Bound">s</a> <a id="11757" href="Ledger.Conway.Conformance.Equivalence.html#11757" class="Bound">tx</a> <a id="11760" href="Ledger.Conway.Conformance.Equivalence.html#11760" class="Bound">s&#39;</a><a id="11762" class="Symbol">}</a> <a id="11764" class="Symbol">→</a> <a id="11766" href="Ledger.Conway.Conformance.Equivalence.html#8030" class="Function">WellformedLState</a> <a id="11783" href="Ledger.Conway.Conformance.Equivalence.html#11755" class="Bound">s</a>
                                    <a id="11821" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⊢</a> <a id="11823" href="Ledger.Conway.Conformance.Equivalence.html#11753" class="Bound">Γ</a> <a id="11825" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">C.⊢</a> <a id="11829" href="Ledger.Conway.Conformance.Equivalence.html#11755" class="Bound">s</a> <a id="11831" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">⇀⦇</a> <a id="11834" href="Ledger.Conway.Conformance.Equivalence.html#11757" class="Bound">tx</a> <a id="11837" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">,LEDGER⦈</a> <a id="11846" href="Ledger.Conway.Conformance.Equivalence.html#11760" class="Bound">s&#39;</a>
                                    <a id="11885" href="Ledger.Conway.Conformance.Equivalence.Convert.html#349" class="Function Operator">⭆</a> <a id="11887" href="Ledger.Conway.Conformance.Equivalence.html#11753" class="Bound">Γ</a> <a id="11889" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">L.⊢</a> <a id="11893" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="11898" href="Ledger.Conway.Conformance.Equivalence.html#11755" class="Bound">s</a> <a id="11900" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">⇀⦇</a> <a id="11903" href="Ledger.Conway.Conformance.Equivalence.html#11757" class="Bound">tx</a> <a id="11906" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">,LEDGER⦈</a> <a id="11915" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="11920" href="Ledger.Conway.Conformance.Equivalence.html#11760" class="Bound">s&#39;</a>
  <a id="11925" href="Ledger.Conway.Conformance.Equivalence.html#11733" class="Function">LEDGERFromConf</a> <a id="11940" class="Symbol">.</a><a id="11941" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="11947" class="Symbol">_</a> <a id="11949" class="Symbol">(</a><a id="11950" href="Ledger.Conway.Conformance.Ledger.html#2190" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="11962" href="Ledger.Conway.Conformance.Equivalence.html#11962" class="Bound">invalid</a> <a id="11970" href="Ledger.Conway.Conformance.Equivalence.html#11970" class="Bound">utxow</a><a id="11975" class="Symbol">)</a> <a id="11977" class="Keyword">with</a> <a id="11982" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="11987" href="Ledger.Conway.Conformance.Equivalence.html#11962" class="Bound">invalid</a> <a id="11995" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="12001" href="Ledger.Conway.Conformance.Equivalence.html#11970" class="Bound">utxow</a>
  <a id="12009" class="Symbol">...</a> <a id="12013" class="Symbol">|</a> <a id="12015" href="Ledger.Conway.Conformance.Equivalence.html#12015" class="Bound">utxow&#39;</a> <a id="12022" class="Keyword">rewrite</a> <a id="12030" href="Ledger.Conway.Conformance.Equivalence.html#1950" class="Function">lemInvalidDepositsC</a> <a id="12050" class="Bound">invalid</a> <a id="12058" class="Bound">utxow</a> <a id="12064" class="Symbol">=</a> <a id="12066" href="Ledger.Conway.Specification.Ledger.html#4875" class="InductiveConstructor">L.LEDGER-I⋯</a> <a id="12078" class="Bound">invalid</a> <a id="12086" href="Ledger.Conway.Conformance.Equivalence.html#12015" class="Bound">utxow&#39;</a>
  <a id="12095" href="Ledger.Conway.Conformance.Equivalence.html#11733" class="Function">LEDGERFromConf</a> <a id="12110" class="Symbol">{</a><a id="12111" href="Ledger.Conway.Conformance.Equivalence.html#12111" class="Bound">Γ</a><a id="12112" class="Symbol">}</a> <a id="12114" class="Symbol">{</a><a id="12115" href="Ledger.Conway.Conformance.Equivalence.html#12115" class="Bound">s</a><a id="12116" class="Symbol">}</a> <a id="12118" class="Symbol">{</a><a id="12119" href="Ledger.Conway.Conformance.Equivalence.html#12119" class="Bound">tx</a><a id="12121" class="Symbol">}</a> <a id="12123" class="Symbol">{</a><a id="12124" href="Ledger.Conway.Conformance.Equivalence.html#12124" class="Bound">s&#39;</a><a id="12126" class="Symbol">}</a> <a id="12128" class="Symbol">.</a><a id="12129" href="Ledger.Conway.Conformance.Equivalence.Convert.html#217" class="Field">convⁱ</a> <a id="12135" href="Ledger.Conway.Conformance.Equivalence.html#12135" class="Bound">wf</a> <a id="12138" class="Symbol">(</a><a id="12139" href="Ledger.Conway.Conformance.Ledger.html#2137" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="12151" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12156" href="Ledger.Conway.Conformance.Equivalence.html#12156" class="Bound">utxow</a> <a id="12162" href="Ledger.Conway.Conformance.Equivalence.html#12162" class="Bound">certs</a> <a id="12168" href="Ledger.Conway.Conformance.Equivalence.html#12168" class="Bound">gov</a><a id="12171" class="Symbol">)</a> <a id="12173" class="Symbol">=</a>
    <a id="12179" href="Relation.Binary.PropositionalEquality.Core.html#2131" class="Function">subst</a> <a id="12185" class="Symbol">(λ</a> <a id="12188" href="Ledger.Conway.Conformance.Equivalence.html#12188" class="Bound">•</a> <a id="12190" class="Symbol">→</a> <a id="12192" href="Ledger.Conway.Conformance.Equivalence.html#12111" class="Bound">Γ</a> <a id="12194" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">L.⊢</a> <a id="12198" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12203" href="Ledger.Conway.Conformance.Equivalence.html#12115" class="Bound">s</a> <a id="12205" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">⇀⦇</a> <a id="12208" href="Ledger.Conway.Conformance.Equivalence.html#12119" class="Bound">tx</a> <a id="12211" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">,LEDGER⦈</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\href{Ledger.Conway.Conformance.Equivalence.html#12188}{\htmlId{12222}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#12420}{\htmlId{12226}{\htmlClass{Function}{\text{govSt&#39;}}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.Convert.html#452}{\htmlId{12235}{\htmlClass{Function}{\text{conv}}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#12441}{\htmlId{12240}{\htmlClass{Function}{\text{certSt&#39;}}}}\, \end{pmatrix}$</a><a id="12249" class="Symbol">)</a> <a id="12251" href="Ledger.Conway.Conformance.Equivalence.html#12790" class="Function">eqUtxo</a> <a id="12258" href="Ledger.Conway.Conformance.Equivalence.html#12934" class="Function">ledger&#39;</a>
    <a id="12270" class="Keyword">where</a>
      <a id="12282" class="Keyword">open</a> <a id="12287" href="Ledger.Conway.Specification.Ledger.html#731" class="Module">C.LEnv</a> <a id="12294" href="Ledger.Conway.Conformance.Equivalence.html#12111" class="Bound">Γ</a>

      <a id="12303" class="Keyword">open</a> <a id="12308" href="Ledger.Conway.Conformance.Ledger.html#738" class="Module">C.LState</a> <a id="12317" href="Ledger.Conway.Conformance.Equivalence.html#12115" class="Bound">s</a> <a id="12319" class="Keyword">renaming</a> <a id="12328" class="Symbol">(</a><a id="12329" href="Ledger.Conway.Conformance.Ledger.html#846" class="Field">certState</a> <a id="12339" class="Symbol">to</a> <a id="12342" class="Field">certSt</a><a id="12348" class="Symbol">)</a>
      <a id="12356" class="Keyword">open</a> <a id="12361" href="Ledger.Conway.Conformance.Ledger.html#738" class="Module">C.LState</a> <a id="12370" href="Ledger.Conway.Conformance.Equivalence.html#12124" class="Bound">s&#39;</a> <a id="12373" class="Keyword">using</a> <a id="12379" class="Symbol">()</a> <a id="12382" class="Keyword">renaming</a> <a id="12391" class="Symbol">(</a><a id="12392" href="Ledger.Conway.Conformance.Ledger.html#793" class="Field">utxoSt</a> <a id="12399" class="Symbol">to</a> <a id="12402" class="Field">utxoSt&#39;</a><a id="12409" class="Symbol">;</a> <a id="12411" href="Ledger.Conway.Conformance.Ledger.html#820" class="Field">govSt</a> <a id="12417" class="Symbol">to</a> <a id="12420" class="Field">govSt&#39;</a><a id="12426" class="Symbol">;</a> <a id="12428" href="Ledger.Conway.Conformance.Ledger.html#846" class="Field">certState</a> <a id="12438" class="Symbol">to</a> <a id="12441" class="Field">certSt&#39;</a><a id="12448" class="Symbol">)</a>

      <a id="12457" class="Keyword">open</a> <a id="12462" href="Ledger.Conway.Specification.Transaction.html#350" class="Module">TxBody</a> <a id="12469" class="Symbol">(</a><a id="12470" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">body</a> <a id="12475" href="Ledger.Conway.Conformance.Equivalence.html#12119" class="Bound">tx</a><a id="12477" class="Symbol">)</a>
      <a id="12485" class="Keyword">open</a> <a id="12490" href="Ledger.Conway.Specification.Utxo.html#1306" class="Module">C.UTxOState</a> <a id="12502" href="Ledger.Conway.Conformance.Ledger.html#793" class="Function">utxoSt</a> <a id="12509" class="Keyword">using</a> <a id="12515" class="Symbol">(</a><a id="12516" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">deposits</a><a id="12524" class="Symbol">)</a>

      <a id="12533" href="Ledger.Conway.Conformance.Equivalence.html#12533" class="Function">valid-deps</a> <a id="12544" class="Symbol">:</a> <a id="12546" href="Ledger.Conway.Specification.Utxo.html#3538" class="Datatype">L.ValidCertDeposits</a> <a id="12566" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="12574" href="Ledger.Conway.Specification.Utxo.html#1414" class="Function">deposits</a> <a id="12583" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a>
      <a id="12597" href="Ledger.Conway.Conformance.Equivalence.html#12533" class="Function">valid-deps</a> <a id="12608" class="Symbol">=</a> <a id="12610" href="Ledger.Conway.Conformance.Equivalence.html#10414" class="Function">getValidCertDepositsC</a> <a id="12632" href="Ledger.Conway.Conformance.Equivalence.html#12111" class="Bound">Γ</a> <a id="12634" href="Ledger.Conway.Conformance.Equivalence.html#12115" class="Bound">s</a> <a id="12636" href="Ledger.Conway.Conformance.Equivalence.html#12119" class="Bound">tx</a> <a id="12639" href="Ledger.Conway.Conformance.Equivalence.html#12135" class="Bound">wf</a> <a id="12642" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12647" href="Ledger.Conway.Conformance.Equivalence.html#12162" class="Bound">certs</a>

      <a id="12660" href="Ledger.Conway.Conformance.Equivalence.html#12660" class="Function">utxow&#39;</a> <a id="12667" class="Symbol">:</a> <a id="12669" class="Symbol">_</a> <a id="12671" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">L.⊢</a> <a id="12675" href="Ledger.Conway.Conformance.Ledger.html#793" class="Function">utxoSt</a> <a id="12682" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">⇀⦇</a> <a id="12685" href="Ledger.Conway.Conformance.Equivalence.html#12119" class="Bound">tx</a> <a id="12688" href="Ledger.Conway.Specification.Utxow.html#2982" class="Datatype Operator">,UTXOW⦈</a> <a id="12696" class="Symbol">(</a><a id="12697" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1072" class="Function">setDeposits</a> <a id="12709" class="Symbol">(</a><a id="12710" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2095" class="Function">utxowDeposits</a> <a id="12724" href="Ledger.Conway.Conformance.Equivalence.html#12156" class="Bound">utxow</a><a id="12729" class="Symbol">)</a> <a id="12731" href="Ledger.Conway.Conformance.Equivalence.html#12402" class="Function">utxoSt&#39;</a><a id="12738" class="Symbol">)</a>
      <a id="12746" href="Ledger.Conway.Conformance.Equivalence.html#12660" class="Function">utxow&#39;</a> <a id="12753" class="Symbol">=</a> <a id="12755" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="12760" href="Ledger.Conway.Conformance.Equivalence.html#12533" class="Function">valid-deps</a> <a id="12771" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="12777" href="Ledger.Conway.Conformance.Equivalence.html#12156" class="Bound">utxow</a>

      <a id="12790" href="Ledger.Conway.Conformance.Equivalence.html#12790" class="Function">eqUtxo</a> <a id="12797" class="Symbol">:</a> <a id="12799" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1072" class="Function">setDeposits</a> <a id="12811" class="Symbol">(</a><a id="12812" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2095" class="Function">utxowDeposits</a> <a id="12826" href="Ledger.Conway.Conformance.Equivalence.html#12156" class="Bound">utxow</a><a id="12831" class="Symbol">)</a> <a id="12833" href="Ledger.Conway.Conformance.Equivalence.html#12402" class="Function">utxoSt&#39;</a> <a id="12841" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="12843" href="Ledger.Conway.Conformance.Equivalence.html#12402" class="Function">utxoSt&#39;</a>
      <a id="12857" href="Ledger.Conway.Conformance.Equivalence.html#12790" class="Function">eqUtxo</a> <a id="12864" class="Symbol">=</a> <a id="12866" href="Relation.Binary.PropositionalEquality.Core.html#1481" class="Function">cong</a> <a id="12871" class="Symbol">(λ</a> <a id="12874" href="Ledger.Conway.Conformance.Equivalence.html#12874" class="Bound">•</a> <a id="12876" class="Symbol">→</a> <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{12880}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\htmlId{12884}{\htmlClass{Symbol}{\text{\_}}}\, \\ \,\href{Ledger.Conway.Conformance.Equivalence.html#12874}{\htmlId{12888}{\htmlClass{Bound}{\text{•}}}}\, \\ \,\htmlId{12892}{\htmlClass{Symbol}{\text{\_}}}\, \end{pmatrix}$</a><a id="12895" class="Symbol">)</a> <a id="12897" class="Symbol">(</a><a id="12898" href="Ledger.Conway.Conformance.Equivalence.html#11266" class="Function">lemUtxowDeposits</a> <a id="12915" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="12920" href="Ledger.Conway.Conformance.Equivalence.html#12156" class="Bound">utxow</a><a id="12925" class="Symbol">)</a>

      <a id="12934" href="Ledger.Conway.Conformance.Equivalence.html#12934" class="Function">ledger&#39;</a> <a id="12942" class="Symbol">:</a> <a id="12944" href="Ledger.Conway.Conformance.Equivalence.html#12111" class="Bound">Γ</a> <a id="12946" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">L.⊢</a> <a id="12950" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="12955" href="Ledger.Conway.Conformance.Equivalence.html#12115" class="Bound">s</a> <a id="12957" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">⇀⦇</a> <a id="12960" href="Ledger.Conway.Conformance.Equivalence.html#12119" class="Bound">tx</a> <a id="12963" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">,LEDGER⦈</a> <a id="12972" href="Ledger.Conway.Specification.Ledger.html#1033" class="InductiveConstructor Operator">L.⟦</a> <a id="12976" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#1072" class="Function">setDeposits</a> <a id="12988" class="Symbol">(</a><a id="12989" href="Ledger.Conway.Conformance.Equivalence.Utxo.html#2095" class="Function">utxowDeposits</a> <a id="13003" href="Ledger.Conway.Conformance.Equivalence.html#12156" class="Bound">utxow</a><a id="13008" class="Symbol">)</a> <a id="13010" href="Ledger.Conway.Conformance.Equivalence.html#12402" class="Function">utxoSt&#39;</a>
                                              <a id="13064" href="Ledger.Conway.Specification.Ledger.html#1033" class="InductiveConstructor Operator">,</a> <a id="13066" href="Ledger.Conway.Conformance.Equivalence.html#12420" class="Function">govSt&#39;</a>
                                              <a id="13119" href="Ledger.Conway.Specification.Ledger.html#1033" class="InductiveConstructor Operator">,</a> <a id="13121" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13126" href="Ledger.Conway.Conformance.Equivalence.html#12441" class="Function">certSt&#39;</a> <a id="13134" href="Ledger.Conway.Specification.Ledger.html#1033" class="InductiveConstructor Operator">⟧ˡ</a>
      <a id="13143" href="Ledger.Conway.Conformance.Equivalence.html#12934" class="Function">ledger&#39;</a> <a id="13151" class="Symbol">=</a> <a id="13153" href="Ledger.Conway.Specification.Ledger.html#4822" class="InductiveConstructor">L.LEDGER-V⋯</a> <a id="13165" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="13170" href="Ledger.Conway.Conformance.Equivalence.html#12660" class="Function">utxow&#39;</a> <a id="13177" class="Symbol">(</a><a id="13178" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="13183" href="Ledger.Conway.Conformance.Equivalence.html#12162" class="Bound">certs</a><a id="13188" class="Symbol">)</a> <a id="13190" href="Ledger.Conway.Conformance.Equivalence.html#12168" class="Bound">gov</a>

<a id="13195" class="Keyword">open</a> <a id="13200" href="Relation.Binary.Structures.html#1595" class="Module">IsEquivalence</a> <a id="13214" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12957" class="Function">≡ᵈ-isEquivalence</a> <a id="13231" class="Keyword">renaming</a> <a id="13240" class="Symbol">(</a><a id="13241" href="Relation.Binary.Structures.html#1641" class="Field">refl</a> <a id="13246" class="Symbol">to</a> <a id="13249" class="Field">≡ᵈ-refl</a><a id="13256" class="Symbol">;</a> <a id="13258" href="Relation.Binary.Structures.html#1667" class="Field">sym</a> <a id="13262" class="Symbol">to</a> <a id="13265" class="Field">≡ᵈ-sym</a><a id="13271" class="Symbol">;</a> <a id="13273" href="Relation.Binary.Structures.html#1693" class="Field">trans</a> <a id="13279" class="Symbol">to</a> <a id="13282" class="Field">≡ᵈ-trans</a><a id="13290" class="Symbol">)</a>

<a id="lemCERTS&#39;DepositsC"></a><a id="13293" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="13312" class="Symbol">:</a> <a id="13314" class="Symbol">∀</a> <a id="13316" class="Symbol">{</a><a id="13317" href="Ledger.Conway.Conformance.Equivalence.html#13317" class="Bound">Γ</a> <a id="13319" href="Ledger.Conway.Conformance.Equivalence.html#13319" class="Bound">s</a> <a id="13321" href="Ledger.Conway.Conformance.Equivalence.html#13321" class="Bound">dcerts</a> <a id="13328" href="Ledger.Conway.Conformance.Equivalence.html#13328" class="Bound">s&#39;</a><a id="13330" class="Symbol">}</a> <a id="13332" class="Symbol">(</a><a id="13333" class="Keyword">open</a> <a id="13338" href="Ledger.Core.Specification.Certs.html#3552" class="Module">C.CertEnv</a> <a id="13348" href="Ledger.Conway.Conformance.Equivalence.html#13317" class="Bound">Γ</a> <a id="13350" class="Keyword">using</a> <a id="13356" class="Symbol">(</a><a id="13357" href="Ledger.Core.Specification.Certs.html#3607" class="Field">pp</a><a id="13359" class="Symbol">))</a>
                   <a id="13381" class="Symbol">→</a> <a id="13383" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="13399" href="Ledger.Conway.Conformance.Certs.html#6046" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="13415" href="Ledger.Conway.Conformance.Certs.html#7436" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="13436" href="Ledger.Conway.Conformance.Equivalence.html#13317" class="Bound">Γ</a> <a id="13438" href="Ledger.Conway.Conformance.Equivalence.html#13319" class="Bound">s</a> <a id="13440" href="Ledger.Conway.Conformance.Equivalence.html#13321" class="Bound">dcerts</a> <a id="13447" href="Ledger.Conway.Conformance.Equivalence.html#13328" class="Bound">s&#39;</a>
                   <a id="13469" class="Symbol">→</a> <a id="13471" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="13485" href="Ledger.Conway.Conformance.Equivalence.html#13328" class="Bound">s&#39;</a> <a id="13488" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="13490" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟨</a> <a id="13492" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2226" class="Function">updateDDeps</a> <a id="13504" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="13507" href="Ledger.Conway.Conformance.Equivalence.html#13321" class="Bound">dcerts</a> <a id="13514" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">,</a> <a id="13516" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2677" class="Function">updateGDeps</a> <a id="13528" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="13531" href="Ledger.Conway.Conformance.Equivalence.html#13321" class="Bound">dcerts</a> <a id="13538" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟩</a> <a id="13540" class="Symbol">(</a><a id="13541" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="13555" href="Ledger.Conway.Conformance.Equivalence.html#13319" class="Bound">s</a><a id="13556" class="Symbol">)</a>
<a id="13558" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="13577" class="Symbol">(</a><a id="13578" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="13585" href="Ledger.Conway.Conformance.Certs.html#7509" class="InductiveConstructor">C.CERT-post</a><a id="13596" class="Symbol">)</a> <a id="13598" class="Symbol">=</a> <a id="13600" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="13605" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="13624" class="Symbol">(</a><a id="13625" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13631" class="Symbol">(</a><a id="13632" href="Ledger.Conway.Conformance.Certs.html#6117" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13646" class="Symbol">(</a><a id="13647" href="Ledger.Conway.Conformance.Certs.html#3704" class="InductiveConstructor">C.DELEG-delegate</a>     <a id="13668" class="Symbol">_))</a> <a id="13672" href="Ledger.Conway.Conformance.Equivalence.html#13672" class="Bound">rs</a><a id="13674" class="Symbol">)</a> <a id="13676" class="Symbol">=</a> <a id="13678" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="13697" href="Ledger.Conway.Conformance.Equivalence.html#13672" class="Bound">rs</a>
<a id="13700" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="13719" class="Symbol">(</a><a id="13720" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13726" class="Symbol">(</a><a id="13727" href="Ledger.Conway.Conformance.Certs.html#6117" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13741" class="Symbol">(</a><a id="13742" href="Ledger.Conway.Conformance.Certs.html#4341" class="InductiveConstructor">C.DELEG-dereg</a>        <a id="13763" class="Symbol">_))</a> <a id="13767" href="Ledger.Conway.Conformance.Equivalence.html#13767" class="Bound">rs</a><a id="13769" class="Symbol">)</a> <a id="13771" class="Symbol">=</a> <a id="13773" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="13792" href="Ledger.Conway.Conformance.Equivalence.html#13767" class="Bound">rs</a>
<a id="13795" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="13814" class="Symbol">(</a><a id="13815" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13821" class="Symbol">(</a><a id="13822" href="Ledger.Conway.Conformance.Certs.html#6117" class="InductiveConstructor">C.CERT-deleg</a>  <a id="13836" class="Symbol">(</a><a id="13837" href="Ledger.Conway.Conformance.Certs.html#4705" class="InductiveConstructor">C.DELEG-reg</a>          <a id="13858" class="Symbol">_))</a> <a id="13862" href="Ledger.Conway.Conformance.Equivalence.html#13862" class="Bound">rs</a><a id="13864" class="Symbol">)</a> <a id="13866" class="Symbol">=</a> <a id="13868" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="13887" href="Ledger.Conway.Conformance.Equivalence.html#13862" class="Bound">rs</a>
<a id="13890" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="13909" class="Symbol">(</a><a id="13910" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="13916" class="Symbol">(</a><a id="13917" href="Ledger.Conway.Conformance.Certs.html#6351" class="InductiveConstructor">C.CERT-pool</a>   <a id="13931" href="Ledger.Conway.Specification.Certs.html#2495" class="InductiveConstructor">L.POOL-regpool</a>          <a id="13955" class="Symbol">)</a> <a id="13957" href="Ledger.Conway.Conformance.Equivalence.html#13957" class="Bound">rs</a><a id="13959" class="Symbol">)</a> <a id="13961" class="Symbol">=</a> <a id="13963" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="13982" href="Ledger.Conway.Conformance.Equivalence.html#13957" class="Bound">rs</a>
<a id="13985" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="14004" class="Symbol">(</a><a id="14005" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14011" class="Symbol">(</a><a id="14012" href="Ledger.Conway.Conformance.Certs.html#6351" class="InductiveConstructor">C.CERT-pool</a>    <a id="14027" href="Ledger.Conway.Specification.Certs.html#2886" class="InductiveConstructor">C.POOL-retirepool</a>     <a id="14049" class="Symbol">)</a>  <a id="14052" href="Ledger.Conway.Conformance.Equivalence.html#14052" class="Bound">rs</a><a id="14054" class="Symbol">)</a> <a id="14056" class="Symbol">=</a> <a id="14058" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="14077" href="Ledger.Conway.Conformance.Equivalence.html#14052" class="Bound">rs</a>
<a id="14080" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="14099" class="Symbol">(</a><a id="14100" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14106" class="Symbol">(</a><a id="14107" href="Ledger.Conway.Conformance.Certs.html#6535" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14121" class="Symbol">(</a><a id="14122" href="Ledger.Conway.Conformance.Certs.html#5094" class="InductiveConstructor">C.GOVCERT-regdrep</a>    <a id="14143" class="Symbol">_))</a> <a id="14147" href="Ledger.Conway.Conformance.Equivalence.html#14147" class="Bound">rs</a><a id="14149" class="Symbol">)</a> <a id="14151" class="Symbol">=</a> <a id="14153" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="14172" href="Ledger.Conway.Conformance.Equivalence.html#14147" class="Bound">rs</a>
<a id="14175" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="14194" class="Symbol">(</a><a id="14195" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14201" class="Symbol">(</a><a id="14202" href="Ledger.Conway.Conformance.Certs.html#6535" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14216" class="Symbol">(</a><a id="14217" href="Ledger.Conway.Conformance.Certs.html#5460" class="InductiveConstructor">C.GOVCERT-deregdrep</a>  <a id="14238" class="Symbol">_))</a> <a id="14242" href="Ledger.Conway.Conformance.Equivalence.html#14242" class="Bound">rs</a><a id="14244" class="Symbol">)</a> <a id="14246" class="Symbol">=</a> <a id="14248" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="14267" href="Ledger.Conway.Conformance.Equivalence.html#14242" class="Bound">rs</a>
<a id="14270" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="14289" class="Symbol">(</a><a id="14290" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="14296" class="Symbol">(</a><a id="14297" href="Ledger.Conway.Conformance.Certs.html#6535" class="InductiveConstructor">C.CERT-vdel</a>   <a id="14311" class="Symbol">(</a><a id="14312" href="Ledger.Conway.Conformance.Certs.html#5755" class="InductiveConstructor">C.GOVCERT-ccreghot</a>   <a id="14333" class="Symbol">_))</a> <a id="14337" href="Ledger.Conway.Conformance.Equivalence.html#14337" class="Bound">rs</a><a id="14339" class="Symbol">)</a> <a id="14341" class="Symbol">=</a> <a id="14343" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="14362" href="Ledger.Conway.Conformance.Equivalence.html#14337" class="Bound">rs</a>

<a id="lemCERTSDepositsC"></a><a id="14366" href="Ledger.Conway.Conformance.Equivalence.html#14366" class="Function">lemCERTSDepositsC</a> <a id="14384" class="Symbol">:</a> <a id="14386" class="Symbol">∀</a> <a id="14388" class="Symbol">{</a><a id="14389" href="Ledger.Conway.Conformance.Equivalence.html#14389" class="Bound">Γ</a> <a id="14391" href="Ledger.Conway.Conformance.Equivalence.html#14391" class="Bound">s</a> <a id="14393" href="Ledger.Conway.Conformance.Equivalence.html#14393" class="Bound">txCerts</a> <a id="14401" href="Ledger.Conway.Conformance.Equivalence.html#14401" class="Bound">s&#39;</a><a id="14403" class="Symbol">}</a> <a id="14405" class="Symbol">(</a><a id="14406" class="Keyword">open</a> <a id="14411" href="Ledger.Core.Specification.Certs.html#3552" class="Module">C.CertEnv</a> <a id="14421" href="Ledger.Conway.Conformance.Equivalence.html#14389" class="Bound">Γ</a> <a id="14423" class="Keyword">using</a> <a id="14429" class="Symbol">(</a><a id="14430" href="Ledger.Core.Specification.Certs.html#3607" class="Field">pp</a><a id="14432" class="Symbol">))</a>
                  <a id="14453" class="Symbol">→</a> <a id="14455" href="Ledger.Conway.Conformance.Equivalence.html#14389" class="Bound">Γ</a> <a id="14457" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">C.⊢</a> <a id="14461" href="Ledger.Conway.Conformance.Equivalence.html#14391" class="Bound">s</a> <a id="14463" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">⇀⦇</a> <a id="14466" href="Ledger.Conway.Conformance.Equivalence.html#14393" class="Bound">txCerts</a> <a id="14474" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">,CERTS⦈</a> <a id="14482" href="Ledger.Conway.Conformance.Equivalence.html#14401" class="Bound">s&#39;</a>
                  <a id="14503" class="Symbol">→</a> <a id="14505" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="14519" href="Ledger.Conway.Conformance.Equivalence.html#14401" class="Bound">s&#39;</a> <a id="14522" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="14524" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟨</a> <a id="14526" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2226" class="Function">updateDDeps</a> <a id="14538" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="14541" href="Ledger.Conway.Conformance.Equivalence.html#14393" class="Bound">txCerts</a> <a id="14549" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">,</a> <a id="14551" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2677" class="Function">updateGDeps</a> <a id="14563" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="14566" href="Ledger.Conway.Conformance.Equivalence.html#14393" class="Bound">txCerts</a> <a id="14574" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟩</a> <a id="14576" class="Symbol">(</a><a id="14577" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="14591" href="Ledger.Conway.Conformance.Equivalence.html#14391" class="Bound">s</a><a id="14592" class="Symbol">)</a>
<a id="14594" href="Ledger.Conway.Conformance.Equivalence.html#14366" class="Function">lemCERTSDepositsC</a> <a id="14612" class="Symbol">(</a><a id="14613" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="14617" class="Symbol">(</a><a id="14618" href="Ledger.Conway.Conformance.Certs.html#6769" class="InductiveConstructor">C.CERT-pre</a> <a id="14629" class="Symbol">_</a> <a id="14631" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14633" href="Ledger.Conway.Conformance.Equivalence.html#14633" class="Bound">step</a><a id="14637" class="Symbol">))</a> <a id="14640" class="Symbol">=</a> <a id="14642" href="Ledger.Conway.Conformance.Equivalence.html#13293" class="Function">lemCERTS&#39;DepositsC</a> <a id="14661" href="Ledger.Conway.Conformance.Equivalence.html#14633" class="Bound">step</a>

<a id="lemWellformed"></a><a id="14667" href="Ledger.Conway.Conformance.Equivalence.html#14667" class="Function">lemWellformed</a> <a id="14681" class="Symbol">:</a> <a id="14683" class="Symbol">∀</a> <a id="14685" class="Symbol">{</a><a id="14686" href="Ledger.Conway.Conformance.Equivalence.html#14686" class="Bound">Γ</a> <a id="14688" href="Ledger.Conway.Conformance.Equivalence.html#14688" class="Bound">s</a> <a id="14690" href="Ledger.Conway.Conformance.Equivalence.html#14690" class="Bound">tx</a> <a id="14693" href="Ledger.Conway.Conformance.Equivalence.html#14693" class="Bound">s&#39;</a><a id="14695" class="Symbol">}</a> <a id="14697" class="Symbol">→</a> <a id="14699" href="Ledger.Conway.Conformance.Equivalence.html#8030" class="Function">WellformedLState</a> <a id="14716" href="Ledger.Conway.Conformance.Equivalence.html#14688" class="Bound">s</a> <a id="14718" class="Symbol">→</a> <a id="14720" href="Ledger.Conway.Conformance.Equivalence.html#14686" class="Bound">Γ</a> <a id="14722" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">C.⊢</a> <a id="14726" href="Ledger.Conway.Conformance.Equivalence.html#14688" class="Bound">s</a> <a id="14728" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">⇀⦇</a> <a id="14731" href="Ledger.Conway.Conformance.Equivalence.html#14690" class="Bound">tx</a> <a id="14734" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">,LEDGER⦈</a> <a id="14743" href="Ledger.Conway.Conformance.Equivalence.html#14693" class="Bound">s&#39;</a> <a id="14746" class="Symbol">→</a> <a id="14748" href="Ledger.Conway.Conformance.Equivalence.html#8030" class="Function">WellformedLState</a> <a id="14765" href="Ledger.Conway.Conformance.Equivalence.html#14693" class="Bound">s&#39;</a>
<a id="14768" href="Ledger.Conway.Conformance.Equivalence.html#14667" class="Function">lemWellformed</a> <a id="14782" class="Symbol">{</a><a id="14783" href="Ledger.Conway.Conformance.Equivalence.html#14783" class="Bound">Γ</a><a id="14784" class="Symbol">}</a> <a id="14786" class="Symbol">{</a><a id="14787" class="Argument">s</a> <a id="14789" class="Symbol">=</a> <a id="14791" href="Ledger.Conway.Conformance.Equivalence.html#14791" class="Bound">ls</a><a id="14793" class="Symbol">}</a> <a id="14795" class="Symbol">{</a><a id="14796" href="Ledger.Conway.Conformance.Equivalence.html#14796" class="Bound">tx</a><a id="14798" class="Symbol">}</a> <a id="14800" class="Symbol">{</a><a id="14801" class="Argument">s&#39;</a> <a id="14804" class="Symbol">=</a> <a id="14806" href="Ledger.Conway.Conformance.Equivalence.html#14806" class="Bound">ls&#39;</a><a id="14809" class="Symbol">}</a> <a id="14811" href="Ledger.Conway.Conformance.Equivalence.html#14811" class="Bound">wf</a> <a id="14814" class="Symbol">(</a><a id="14815" href="Ledger.Conway.Conformance.Ledger.html#2137" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="14827" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="14832" href="Ledger.Conway.Conformance.Equivalence.html#14832" class="Bound">utxo</a> <a id="14837" href="Ledger.Conway.Conformance.Equivalence.html#14837" class="Bound">certs</a> <a id="14843" href="Ledger.Conway.Conformance.Equivalence.html#14843" class="Bound">gov</a><a id="14846" class="Symbol">)</a> <a id="14848" class="Symbol">=</a> <a id="14850" href="Ledger.Conway.Conformance.Equivalence.html#16119" class="Function">goal</a>
  <a id="14857" class="Keyword">where</a>
    <a id="14867" class="Keyword">open</a> <a id="14872" href="Ledger.Conway.Conformance.Ledger.html#738" class="Module">C.LState</a> <a id="14881" href="Ledger.Conway.Conformance.Equivalence.html#14791" class="Bound">ls</a>  <a id="14885" class="Keyword">renaming</a> <a id="14894" class="Symbol">(</a><a id="14895" href="Ledger.Conway.Conformance.Ledger.html#846" class="Field">certState</a> <a id="14905" class="Symbol">to</a> <a id="14908" class="Field">certSt</a><a id="14914" class="Symbol">)</a>
    <a id="14920" class="Keyword">open</a> <a id="14925" href="Ledger.Conway.Conformance.Ledger.html#738" class="Module">C.LState</a> <a id="14934" href="Ledger.Conway.Conformance.Equivalence.html#14806" class="Bound">ls&#39;</a> <a id="14938" class="Keyword">renaming</a> <a id="14947" class="Symbol">(</a><a id="14948" href="Ledger.Conway.Conformance.Ledger.html#793" class="Field">utxoSt</a> <a id="14955" class="Symbol">to</a> <a id="14958" class="Field">utxoSt&#39;</a><a id="14965" class="Symbol">;</a> <a id="14967" href="Ledger.Conway.Conformance.Ledger.html#846" class="Field">certState</a> <a id="14977" class="Symbol">to</a> <a id="14980" class="Field">certSt&#39;</a><a id="14987" class="Symbol">)</a>
    <a id="14993" class="Keyword">open</a> <a id="14998" href="Ledger.Conway.Specification.Ledger.html#731" class="Module">L.LEnv</a> <a id="15005" href="Ledger.Conway.Conformance.Equivalence.html#14783" class="Bound">Γ</a> <a id="15007" class="Keyword">using</a> <a id="15013" class="Symbol">(</a><a id="15014" href="Ledger.Conway.Specification.Ledger.html#819" class="Field">pparams</a><a id="15021" class="Symbol">)</a>
    <a id="15027" class="Keyword">open</a> <a id="15032" href="Ledger.Conway.Specification.Transaction.html#350" class="Module">TxBody</a> <a id="15039" class="Symbol">(</a><a id="15040" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">body</a> <a id="15045" href="Ledger.Conway.Conformance.Equivalence.html#14796" class="Bound">tx</a><a id="15047" class="Symbol">)</a>

    <a id="15054" href="Ledger.Conway.Conformance.Equivalence.html#15054" class="Function">deposits</a>  <a id="15064" class="Symbol">=</a> <a id="15066" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">L.UTxOState.deposits</a> <a id="15087" href="Ledger.Conway.Conformance.Ledger.html#793" class="Function">utxoSt</a>
    <a id="15098" href="Ledger.Conway.Conformance.Equivalence.html#15098" class="Function">deposits&#39;</a> <a id="15108" class="Symbol">=</a> <a id="15110" href="Ledger.Conway.Specification.Utxo.html#1414" class="Field">L.UTxOState.deposits</a> <a id="15131" href="Ledger.Conway.Conformance.Equivalence.html#14958" class="Function">utxoSt&#39;</a>

    <a id="15144" href="Ledger.Conway.Conformance.Equivalence.html#15144" class="Function">depositsL&#39;</a> <a id="15155" class="Symbol">=</a> <a id="15157" href="Ledger.Conway.Specification.Utxo.html#8313" class="Function">L.updateDeposits</a> <a id="15174" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="15182" class="Symbol">(</a><a id="15183" href="Ledger.Conway.Specification.Transaction.html#1747" class="Field">body</a> <a id="15188" href="Ledger.Conway.Conformance.Equivalence.html#14796" class="Bound">tx</a><a id="15190" class="Symbol">)</a> <a id="15192" href="Ledger.Conway.Conformance.Equivalence.html#15054" class="Function">deposits</a>

    <a id="15206" href="Ledger.Conway.Conformance.Equivalence.html#15206" class="Function">ddeps</a> <a id="15212" class="Symbol">=</a> <a id="15214" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="15228" href="Ledger.Conway.Conformance.Equivalence.html#14908" class="Function">certSt</a> <a id="15235" class="Symbol">.</a><a id="15236" href="Data.Product.Base.html#636" class="Field">proj₁</a>
    <a id="15246" href="Ledger.Conway.Conformance.Equivalence.html#15246" class="Function">gdeps</a> <a id="15252" class="Symbol">=</a> <a id="15254" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="15268" href="Ledger.Conway.Conformance.Equivalence.html#14908" class="Function">certSt</a> <a id="15275" class="Symbol">.</a><a id="15276" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="15287" href="Ledger.Conway.Conformance.Equivalence.html#15287" class="Function">ddeps&#39;</a> <a id="15294" class="Symbol">=</a> <a id="15296" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="15310" href="Ledger.Conway.Conformance.Equivalence.html#14980" class="Function">certSt&#39;</a> <a id="15318" class="Symbol">.</a><a id="15319" href="Data.Product.Base.html#636" class="Field">proj₁</a>
    <a id="15329" href="Ledger.Conway.Conformance.Equivalence.html#15329" class="Function">gdeps&#39;</a> <a id="15336" class="Symbol">=</a> <a id="15338" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="15352" href="Ledger.Conway.Conformance.Equivalence.html#14980" class="Function">certSt&#39;</a> <a id="15360" class="Symbol">.</a><a id="15361" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="15372" href="Ledger.Conway.Conformance.Equivalence.html#15372" class="Function">lem</a> <a id="15376" class="Symbol">:</a> <a id="15378" href="Ledger.Conway.Conformance.Equivalence.html#15098" class="Function">deposits&#39;</a> <a id="15388" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15390" href="Ledger.Conway.Conformance.Equivalence.html#15144" class="Function">depositsL&#39;</a>
    <a id="15405" href="Ledger.Conway.Conformance.Equivalence.html#15372" class="Function">lem</a> <a id="15409" class="Keyword">rewrite</a> <a id="15417" href="Ledger.Conway.Conformance.Equivalence.html#2409" class="Function">lemDepositsC</a> <a id="15430" href="Ledger.Conway.Conformance.Equivalence.html#14832" class="Bound">utxo</a> <a id="15435" class="Symbol">=</a> <a id="15437" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

    <a id="15447" href="Ledger.Conway.Conformance.Equivalence.html#15447" class="Function">lem₁</a> <a id="15452" class="Symbol">:</a> <a id="15454" class="Symbol">(</a><a id="15455" href="Ledger.Conway.Conformance.Equivalence.html#15287" class="Function">ddeps&#39;</a> <a id="15462" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15464" href="Ledger.Conway.Conformance.Equivalence.html#15329" class="Function">gdeps&#39;</a><a id="15470" class="Symbol">)</a> <a id="15472" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="15474" class="Symbol">(</a><a id="15475" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2226" class="Function">updateDDeps</a> <a id="15487" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="15495" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="15503" href="Ledger.Conway.Conformance.Equivalence.html#15206" class="Function">ddeps</a> <a id="15509" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15511" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2677" class="Function">updateGDeps</a> <a id="15523" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="15531" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="15539" href="Ledger.Conway.Conformance.Equivalence.html#15246" class="Function">gdeps</a><a id="15544" class="Symbol">)</a>
    <a id="15550" href="Ledger.Conway.Conformance.Equivalence.html#15447" class="Function">lem₁</a> <a id="15555" class="Symbol">=</a> <a id="15557" href="Ledger.Conway.Conformance.Equivalence.html#14366" class="Function">lemCERTSDepositsC</a> <a id="15575" href="Ledger.Conway.Conformance.Equivalence.html#14837" class="Bound">certs</a>

    <a id="15586" href="Ledger.Conway.Conformance.Equivalence.html#15586" class="Function">lem₂</a> <a id="15591" class="Symbol">:</a>  <a id="15594" class="Symbol">(</a><a id="15595" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2226" class="Function">updateDDeps</a> <a id="15607" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="15615" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="15623" class="Symbol">(</a><a id="15624" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3873" class="Function">certDDeps</a> <a id="15634" href="Ledger.Conway.Conformance.Equivalence.html#15054" class="Function">deposits</a><a id="15642" class="Symbol">)</a> <a id="15644" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15646" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2677" class="Function">updateGDeps</a> <a id="15658" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="15666" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="15674" class="Symbol">(</a><a id="15675" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4019" class="Function">certGDeps</a> <a id="15685" href="Ledger.Conway.Conformance.Equivalence.html#15054" class="Function">deposits</a><a id="15693" class="Symbol">))</a>
         <a id="15705" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="15708" class="Symbol">(</a><a id="15709" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3873" class="Function">certDDeps</a> <a id="15719" href="Ledger.Conway.Conformance.Equivalence.html#15098" class="Function">deposits&#39;</a> <a id="15729" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15731" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4019" class="Function">certGDeps</a> <a id="15741" href="Ledger.Conway.Conformance.Equivalence.html#15098" class="Function">deposits&#39;</a><a id="15750" class="Symbol">)</a>
    <a id="15756" href="Ledger.Conway.Conformance.Equivalence.html#15586" class="Function">lem₂</a> <a id="15761" class="Keyword">rewrite</a> <a id="15769" href="Ledger.Conway.Conformance.Equivalence.html#15372" class="Function">lem</a> <a id="15773" class="Symbol">=</a> <a id="15775" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#19120" class="Function">lem-upd-ddeps</a> <a id="15789" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="15797" href="Ledger.Conway.Conformance.Equivalence.html#15054" class="Function">deposits</a> <a id="15806" href="Ledger.Conway.Conformance.Equivalence.html#14796" class="Bound">tx</a> <a id="15809" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15811" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#19909" class="Function">lem-upd-gdeps</a> <a id="15825" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="15833" href="Ledger.Conway.Conformance.Equivalence.html#15054" class="Function">deposits</a> <a id="15842" href="Ledger.Conway.Conformance.Equivalence.html#14796" class="Bound">tx</a>

    <a id="15850" href="Ledger.Conway.Conformance.Equivalence.html#15850" class="Function">lem₃</a> <a id="15855" class="Symbol">:</a>  <a id="15858" class="Symbol">(</a><a id="15859" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2226" class="Function">updateDDeps</a> <a id="15871" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="15879" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="15887" href="Ledger.Conway.Conformance.Equivalence.html#15206" class="Function">ddeps</a> <a id="15893" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15895" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2677" class="Function">updateGDeps</a> <a id="15907" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="15915" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="15923" href="Ledger.Conway.Conformance.Equivalence.html#15246" class="Function">gdeps</a><a id="15928" class="Symbol">)</a>
         <a id="15939" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="15942" class="Symbol">(</a><a id="15943" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2226" class="Function">updateDDeps</a> <a id="15955" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="15963" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="15971" class="Symbol">(</a><a id="15972" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3873" class="Function">certDDeps</a> <a id="15982" href="Ledger.Conway.Conformance.Equivalence.html#15054" class="Function">deposits</a><a id="15990" class="Symbol">)</a> <a id="15992" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15994" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2677" class="Function">updateGDeps</a> <a id="16006" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="16014" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="16022" class="Symbol">(</a><a id="16023" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4019" class="Function">certGDeps</a> <a id="16033" href="Ledger.Conway.Conformance.Equivalence.html#15054" class="Function">deposits</a><a id="16041" class="Symbol">))</a>
    <a id="16048" href="Ledger.Conway.Conformance.Equivalence.html#15850" class="Function">lem₃</a> <a id="16053" class="Symbol">=</a> <a id="16055" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟨</a> <a id="16057" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14107" class="Function">cong-updateDDeps</a> <a id="16074" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="16082" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">,</a> <a id="16084" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#15093" class="Function">cong-updateGDeps</a> <a id="16101" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="16109" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟩</a> <a id="16111" href="Ledger.Conway.Conformance.Equivalence.html#14811" class="Bound">wf</a>

    <a id="16119" href="Ledger.Conway.Conformance.Equivalence.html#16119" class="Function">goal</a> <a id="16124" class="Symbol">:</a> <a id="16126" class="Symbol">(</a><a id="16127" href="Ledger.Conway.Conformance.Equivalence.html#15287" class="Function">ddeps&#39;</a> <a id="16134" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16136" href="Ledger.Conway.Conformance.Equivalence.html#15329" class="Function">gdeps&#39;</a><a id="16142" class="Symbol">)</a> <a id="16144" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="16147" class="Symbol">(</a><a id="16148" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3873" class="Function">certDDeps</a> <a id="16158" href="Ledger.Conway.Conformance.Equivalence.html#15098" class="Function">deposits&#39;</a> <a id="16168" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16170" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4019" class="Function">certGDeps</a> <a id="16180" href="Ledger.Conway.Conformance.Equivalence.html#15098" class="Function">deposits&#39;</a><a id="16189" class="Symbol">)</a>
    <a id="16195" href="Ledger.Conway.Conformance.Equivalence.html#16119" class="Function">goal</a> <a id="16200" class="Keyword">with</a> <a id="16205" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="16212" href="Ledger.Conway.Conformance.Equivalence.html#15447" class="Function">lem₁</a> <a id="16217" class="Symbol">=</a> <a id="16219" href="Ledger.Conway.Conformance.Equivalence.html#13282" class="Function">≡ᵈ-trans</a> <a id="16228" class="Symbol">{</a><a id="16229" href="Ledger.Conway.Conformance.Equivalence.html#15287" class="Function">ddeps&#39;</a> <a id="16236" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16238" href="Ledger.Conway.Conformance.Equivalence.html#15329" class="Function">gdeps&#39;</a><a id="16244" class="Symbol">}</a>
                                     <a id="16283" class="Symbol">{</a><a id="16284" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2226" class="Function">updateDDeps</a> <a id="16296" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="16304" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="16312" class="Symbol">(</a><a id="16313" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3873" class="Function">certDDeps</a> <a id="16323" href="Ledger.Conway.Conformance.Equivalence.html#15054" class="Function">deposits</a><a id="16331" class="Symbol">)</a> <a id="16333" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16335" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2677" class="Function">updateGDeps</a> <a id="16347" href="Ledger.Conway.Specification.Ledger.html#819" class="Function">pparams</a> <a id="16355" href="Ledger.Conway.Specification.Transaction.html#554" class="Function">txCerts</a> <a id="16363" class="Symbol">(</a><a id="16364" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4019" class="Function">certGDeps</a> <a id="16374" href="Ledger.Conway.Conformance.Equivalence.html#15054" class="Function">deposits</a><a id="16382" class="Symbol">)}</a>
                                     <a id="16422" class="Symbol">{</a><a id="16423" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#3873" class="Function">certDDeps</a> <a id="16433" href="Ledger.Conway.Conformance.Equivalence.html#15098" class="Function">deposits&#39;</a> <a id="16443" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16445" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#4019" class="Function">certGDeps</a> <a id="16455" href="Ledger.Conway.Conformance.Equivalence.html#15098" class="Function">deposits&#39;</a><a id="16464" class="Symbol">}</a>
                              <a id="16496" href="Ledger.Conway.Conformance.Equivalence.html#15850" class="Function">lem₃</a>
                              <a id="16531" href="Ledger.Conway.Conformance.Equivalence.html#15586" class="Function">lem₂</a>
<a id="16536" href="Ledger.Conway.Conformance.Equivalence.html#14667" class="Function">lemWellformed</a> <a id="16550" href="Ledger.Conway.Conformance.Equivalence.html#16550" class="Bound">wf</a> <a id="16553" class="Symbol">(</a><a id="16554" href="Ledger.Conway.Conformance.Ledger.html#2190" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="16566" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="16571" href="Ledger.Conway.Conformance.Equivalence.html#16571" class="Bound">utxo</a><a id="16575" class="Symbol">)</a> <a id="16577" class="Keyword">rewrite</a> <a id="16585" href="Ledger.Conway.Conformance.Equivalence.html#2409" class="Function">lemDepositsC</a> <a id="16598" href="Ledger.Conway.Conformance.Equivalence.html#16571" class="Bound">utxo</a> <a id="16603" class="Symbol">=</a> <a id="16605" href="Ledger.Conway.Conformance.Equivalence.html#16550" class="Bound">wf</a>

<a id="setCertDeposits"></a><a id="16609" href="Ledger.Conway.Conformance.Equivalence.html#16609" class="Function">setCertDeposits</a> <a id="16625" class="Symbol">:</a> <a id="16627" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a> <a id="16638" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="16640" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a> <a id="16651" class="Symbol">→</a> <a id="16653" href="Ledger.Conway.Conformance.Certs.html#958" class="Record">C.CertState</a> <a id="16665" class="Symbol">→</a> <a id="16667" href="Ledger.Conway.Conformance.Certs.html#958" class="Record">C.CertState</a>
<a id="16679" href="Ledger.Conway.Conformance.Equivalence.html#16609" class="Function">setCertDeposits</a> <a id="16695" class="Symbol">(</a><a id="16696" href="Ledger.Conway.Conformance.Equivalence.html#16696" class="Bound">ddeps</a> <a id="16702" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16704" href="Ledger.Conway.Conformance.Equivalence.html#16704" class="Bound">gdeps</a><a id="16709" class="Symbol">)</a> <a id="16711" href="Ledger.Conway.Conformance.Equivalence.html#16711" class="Bound">cs</a> <a id="16714" class="Symbol">=</a>
  <a id="16718" class="Keyword">let</a> <a id="16722" class="Keyword">open</a> <a id="16727" href="Ledger.Conway.Conformance.Certs.html#958" class="Module">C.CertState</a> <a id="16739" href="Ledger.Conway.Conformance.Equivalence.html#16711" class="Bound">cs</a> <a id="16742" class="Keyword">in</a>
  <a class="AgdaKaTeX">$\begin{pmatrix} \,\htmlId{16749}{\htmlClass{Keyword}{\text{record}}}\, \,\href{Ledger.Conway.Conformance.Certs.html#1017}{\htmlId{16756}{\htmlClass{Field}{\text{dState}}}}\, \,\htmlId{16763}{\htmlClass{Symbol}{\text{{}}}\,\,\href{Ledger.Conway.Conformance.Certs.html#758}{\htmlId{16764}{\htmlClass{Field}{\text{deposits}}}}\, \,\htmlId{16773}{\htmlClass{Symbol}{\text{=}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#16696}{\htmlId{16775}{\htmlClass{Bound}{\text{ddeps}}}}\,\,\htmlId{16780}{\htmlClass{Symbol}{\text{}}}}\, \\ \,\href{Ledger.Conway.Conformance.Certs.html#1037}{\htmlId{16784}{\htmlClass{Field}{\text{pState}}}}\, \\ \,\htmlId{16793}{\htmlClass{Keyword}{\text{record}}}\, \,\href{Ledger.Conway.Conformance.Certs.html#1057}{\htmlId{16800}{\htmlClass{Field}{\text{gState}}}}\, \,\htmlId{16807}{\htmlClass{Symbol}{\text{{}}}\,\,\href{Ledger.Conway.Conformance.Certs.html#928}{\htmlId{16808}{\htmlClass{Field}{\text{deposits}}}}\, \,\htmlId{16817}{\htmlClass{Symbol}{\text{=}}}\, \,\href{Ledger.Conway.Conformance.Equivalence.html#16704}{\htmlId{16819}{\htmlClass{Bound}{\text{gdeps}}}}\,\,\htmlId{16824}{\htmlClass{Symbol}{\text{}}}}\, \end{pmatrix}$</a>

<a id="updateCDep"></a><a id="16829" href="Ledger.Conway.Conformance.Equivalence.html#16829" class="Function">updateCDep</a> <a id="16840" class="Symbol">:</a> <a id="16842" href="Ledger.Conway.Specification.PParams.html#1687" class="Record">PParams</a> <a id="16850" class="Symbol">→</a> <a id="16852" href="Ledger.Core.Specification.Certs.html#2079" class="Datatype">L.DCert</a> <a id="16860" class="Symbol">→</a> <a id="16862" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a> <a id="16873" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="16875" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a> <a id="16886" class="Symbol">→</a> <a id="16888" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a> <a id="16899" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="16901" href="Ledger.Core.Specification.Certs.html#775" class="Function">L.Deposits</a>
<a id="16912" href="Ledger.Conway.Conformance.Equivalence.html#16829" class="Function">updateCDep</a> <a id="16923" href="Ledger.Conway.Conformance.Equivalence.html#16923" class="Bound">pp</a> <a id="16926" href="Ledger.Conway.Conformance.Equivalence.html#16926" class="Bound">cert</a> <a id="16931" class="Symbol">(</a><a id="16932" href="Ledger.Conway.Conformance.Equivalence.html#16932" class="Bound">ddep</a> <a id="16937" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16939" href="Ledger.Conway.Conformance.Equivalence.html#16939" class="Bound">gdep</a><a id="16943" class="Symbol">)</a> <a id="16945" class="Symbol">=</a> <a id="16947" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#1876" class="Function">updateDDep</a> <a id="16958" href="Ledger.Conway.Conformance.Equivalence.html#16923" class="Bound">pp</a> <a id="16961" href="Ledger.Conway.Conformance.Equivalence.html#16926" class="Bound">cert</a> <a id="16966" href="Ledger.Conway.Conformance.Equivalence.html#16932" class="Bound">ddep</a> <a id="16971" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16973" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#2416" class="Function">updateGDep</a> <a id="16984" href="Ledger.Conway.Conformance.Equivalence.html#16923" class="Bound">pp</a> <a id="16987" href="Ledger.Conway.Conformance.Equivalence.html#16926" class="Bound">cert</a> <a id="16992" href="Ledger.Conway.Conformance.Equivalence.html#16939" class="Bound">gdep</a>

<a id="16998" class="Keyword">opaque</a>
  <a id="castCERTS&#39;"></a><a id="17007" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="17018" class="Symbol">:</a> <a id="17020" class="Symbol">∀</a> <a id="17022" class="Symbol">{</a><a id="17023" href="Ledger.Conway.Conformance.Equivalence.html#17023" class="Bound">Γ</a> <a id="17025" href="Ledger.Conway.Conformance.Equivalence.html#17025" class="Bound">certs</a><a id="17030" class="Symbol">}</a> <a id="17032" class="Symbol">{</a><a id="17033" href="Ledger.Conway.Conformance.Equivalence.html#17033" class="Bound">s</a> <a id="17035" href="Ledger.Conway.Conformance.Equivalence.html#17035" class="Bound">s&#39;</a> <a id="17038" class="Symbol">:</a> <a id="17040" href="Ledger.Core.Specification.Certs.html#4115" class="Record">L.CertState</a><a id="17051" class="Symbol">}</a> <a id="17053" href="Ledger.Conway.Conformance.Equivalence.html#17053" class="Bound">deps₁</a> <a id="17059" href="Ledger.Conway.Conformance.Equivalence.html#17059" class="Bound">deps₂</a> <a id="17065" href="Ledger.Conway.Conformance.Equivalence.html#17065" class="Bound">deps₁&#39;</a>
             <a id="17085" class="Symbol">→</a> <a id="17087" href="Ledger.Conway.Conformance.Equivalence.html#17053" class="Bound">deps₁</a> <a id="17093" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="17096" href="Ledger.Conway.Conformance.Equivalence.html#17059" class="Bound">deps₂</a>
             <a id="17115" class="Symbol">→</a> <a id="17117" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="17133" href="Ledger.Conway.Conformance.Certs.html#6046" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="17149" href="Ledger.Conway.Conformance.Certs.html#7436" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="17170" href="Ledger.Conway.Conformance.Equivalence.html#17023" class="Bound">Γ</a> <a id="17172" class="Symbol">(</a><a id="17173" href="Ledger.Conway.Conformance.Equivalence.html#17053" class="Bound">deps₁</a> <a id="17179" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17185" href="Ledger.Conway.Conformance.Equivalence.html#17033" class="Bound">s</a><a id="17186" class="Symbol">)</a> <a id="17188" href="Ledger.Conway.Conformance.Equivalence.html#17025" class="Bound">certs</a> <a id="17194" class="Symbol">(</a><a id="17195" href="Ledger.Conway.Conformance.Equivalence.html#17065" class="Bound">deps₁&#39;</a> <a id="17202" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17208" href="Ledger.Conway.Conformance.Equivalence.html#17035" class="Bound">s&#39;</a><a id="17210" class="Symbol">)</a>
             <a id="17225" class="Symbol">→</a> <a id="17227" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="17230" href="Ledger.Conway.Conformance.Equivalence.html#17230" class="Bound">deps₂&#39;</a> <a id="17237" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="17239" href="Ledger.Conway.Conformance.Equivalence.html#17065" class="Bound">deps₁&#39;</a> <a id="17246" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="17249" href="Ledger.Conway.Conformance.Equivalence.html#17230" class="Bound">deps₂&#39;</a>
                           <a id="17283" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="17285" href="Interface.STS.html#264" class="Datatype">RunTraceAndThen</a> <a id="17301" href="Ledger.Conway.Conformance.Certs.html#6046" class="Datatype Operator">C._⊢_⇀⦇_,CERT⦈_</a> <a id="17317" href="Ledger.Conway.Conformance.Certs.html#7436" class="Datatype Operator">C._⊢_⇀⦇_,POST-CERT⦈_</a> <a id="17338" href="Ledger.Conway.Conformance.Equivalence.html#17023" class="Bound">Γ</a> <a id="17340" class="Symbol">(</a><a id="17341" href="Ledger.Conway.Conformance.Equivalence.html#17059" class="Bound">deps₂</a> <a id="17347" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17353" href="Ledger.Conway.Conformance.Equivalence.html#17033" class="Bound">s</a><a id="17354" class="Symbol">)</a> <a id="17356" href="Ledger.Conway.Conformance.Equivalence.html#17025" class="Bound">certs</a> <a id="17362" class="Symbol">(</a><a id="17363" href="Ledger.Conway.Conformance.Equivalence.html#17230" class="Bound">deps₂&#39;</a> <a id="17370" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="17376" href="Ledger.Conway.Conformance.Equivalence.html#17035" class="Bound">s&#39;</a><a id="17378" class="Symbol">)</a>
  <a id="17382" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="17393" href="Ledger.Conway.Conformance.Equivalence.html#17393" class="Bound">deps₁</a> <a id="17399" href="Ledger.Conway.Conformance.Equivalence.html#17399" class="Bound">deps₂</a> <a id="17405" href="Ledger.Conway.Conformance.Equivalence.html#17405" class="Bound">deps₁&#39;</a> <a id="17412" href="Ledger.Conway.Conformance.Equivalence.html#17412" class="Bound">eqd</a> <a id="17416" class="Symbol">(</a><a id="17417" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="17424" href="Ledger.Conway.Conformance.Certs.html#7509" class="InductiveConstructor">C.CERT-post</a><a id="17435" class="Symbol">)</a> <a id="17437" class="Symbol">=</a> <a id="17439" href="Ledger.Conway.Conformance.Equivalence.html#17399" class="Bound">deps₂</a> <a id="17445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17447" href="Ledger.Conway.Conformance.Equivalence.html#17412" class="Bound">eqd</a> <a id="17451" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17453" href="Interface.STS.html#385" class="InductiveConstructor">run-[]</a> <a id="17460" href="Ledger.Conway.Conformance.Certs.html#7509" class="InductiveConstructor">C.CERT-post</a>
  <a id="17474" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="17485" class="Symbol">{</a><a id="17486" href="Ledger.Conway.Conformance.Equivalence.html#17486" class="Bound">Γ</a><a id="17487" class="Symbol">}</a> <a id="17489" href="Ledger.Conway.Conformance.Equivalence.html#17489" class="Bound">deps₁</a> <a id="17495" href="Ledger.Conway.Conformance.Equivalence.html#17495" class="Bound">deps₂</a> <a id="17501" href="Ledger.Conway.Conformance.Equivalence.html#17501" class="Bound">deps₁&#39;</a> <a id="17508" href="Ledger.Conway.Conformance.Equivalence.html#17508" class="Bound">eqd</a> <a id="17512" class="Symbol">(</a><a id="17513" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="17519" class="Symbol">(</a><a id="17520" href="Ledger.Conway.Conformance.Certs.html#6117" class="InductiveConstructor">C.CERT-deleg</a> <a id="17533" class="Symbol">{</a><a id="17534" class="Argument">dCert</a> <a id="17540" class="Symbol">=</a> <a id="17542" href="Ledger.Conway.Conformance.Equivalence.html#17542" class="Bound">cert</a><a id="17546" class="Symbol">}</a> <a id="17548" class="Symbol">(</a><a id="17549" href="Ledger.Conway.Conformance.Certs.html#3704" class="InductiveConstructor">C.DELEG-delegate</a> <a id="17566" href="Ledger.Conway.Conformance.Equivalence.html#17566" class="Bound">h</a><a id="17567" class="Symbol">))</a>    <a id="17573" href="Ledger.Conway.Conformance.Equivalence.html#17573" class="Bound">rs</a><a id="17575" class="Symbol">)</a>
    <a id="17581" class="Symbol">=</a> <a id="17583" class="Keyword">let</a>
        <a id="17595" class="Keyword">open</a> <a id="17600" href="Ledger.Core.Specification.Certs.html#3552" class="Module">C.CertEnv</a> <a id="17610" href="Ledger.Conway.Conformance.Equivalence.html#17486" class="Bound">Γ</a> <a id="17612" class="Keyword">using</a> <a id="17618" class="Symbol">(</a><a id="17619" href="Ledger.Core.Specification.Certs.html#3607" class="Field">pp</a><a id="17621" class="Symbol">)</a>
        <a id="17631" href="Ledger.Conway.Conformance.Equivalence.html#17631" class="Bound">deps₂&#39;</a> <a id="17638" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17640" href="Ledger.Conway.Conformance.Equivalence.html#17640" class="Bound">eqd&#39;</a> <a id="17645" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17647" href="Ledger.Conway.Conformance.Equivalence.html#17647" class="Bound">rs&#39;</a> <a id="17651" class="Symbol">=</a> <a id="17653" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="17664" class="Symbol">(</a><a id="17665" href="Ledger.Conway.Conformance.Equivalence.html#16829" class="Function">updateCDep</a> <a id="17676" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="17679" href="Ledger.Conway.Conformance.Equivalence.html#17542" class="Bound">cert</a> <a id="17684" href="Ledger.Conway.Conformance.Equivalence.html#17489" class="Bound">deps₁</a><a id="17689" class="Symbol">)</a> <a id="17691" class="Symbol">(</a><a id="17692" href="Ledger.Conway.Conformance.Equivalence.html#16829" class="Function">updateCDep</a> <a id="17703" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="17706" href="Ledger.Conway.Conformance.Equivalence.html#17542" class="Bound">cert</a> <a id="17711" href="Ledger.Conway.Conformance.Equivalence.html#17495" class="Bound">deps₂</a><a id="17716" class="Symbol">)</a> <a id="17718" href="Ledger.Conway.Conformance.Equivalence.html#17501" class="Bound">deps₁&#39;</a>
                                         <a id="17766" class="Symbol">(</a><a id="17767" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟨</a> <a id="17769" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13359" class="Function">cong-updateDDep</a> <a id="17785" class="Symbol">{</a><a id="17786" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a><a id="17788" class="Symbol">}</a> <a id="17790" href="Ledger.Conway.Conformance.Equivalence.html#17542" class="Bound">cert</a> <a id="17795" class="Symbol">{</a><a id="17796" href="Ledger.Conway.Conformance.Equivalence.html#17489" class="Bound">deps₁</a> <a id="17802" class="Symbol">.</a><a id="17803" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="17808" class="Symbol">}</a> <a id="17810" class="Symbol">{</a><a id="17811" href="Ledger.Conway.Conformance.Equivalence.html#17495" class="Bound">deps₂</a> <a id="17817" class="Symbol">.</a><a id="17818" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="17823" class="Symbol">}</a>
                                          <a id="17867" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">,</a> <a id="17869" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14390" class="Function">cong-updateGDep</a> <a id="17885" class="Symbol">{</a><a id="17886" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a><a id="17888" class="Symbol">}</a> <a id="17890" href="Ledger.Conway.Conformance.Equivalence.html#17542" class="Bound">cert</a> <a id="17895" class="Symbol">{</a><a id="17896" href="Ledger.Conway.Conformance.Equivalence.html#17489" class="Bound">deps₁</a> <a id="17902" class="Symbol">.</a><a id="17903" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="17908" class="Symbol">}</a> <a id="17910" class="Symbol">{</a><a id="17911" href="Ledger.Conway.Conformance.Equivalence.html#17495" class="Bound">deps₂</a> <a id="17917" class="Symbol">.</a><a id="17918" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="17923" class="Symbol">}</a> <a id="17925" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟩</a> <a id="17927" href="Ledger.Conway.Conformance.Equivalence.html#17508" class="Bound">eqd</a><a id="17930" class="Symbol">)</a> <a id="17932" href="Ledger.Conway.Conformance.Equivalence.html#17573" class="Bound">rs</a>
        <a id="17943" class="Keyword">in</a>  <a id="17947" href="Ledger.Conway.Conformance.Equivalence.html#17631" class="Bound">deps₂&#39;</a> <a id="17954" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17956" href="Ledger.Conway.Conformance.Equivalence.html#17640" class="Bound">eqd&#39;</a> <a id="17961" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17963" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="17969" class="Symbol">(</a><a id="17970" href="Ledger.Conway.Conformance.Certs.html#6117" class="InductiveConstructor">C.CERT-deleg</a> <a id="17983" class="Symbol">(</a><a id="17984" href="Ledger.Conway.Conformance.Certs.html#3704" class="InductiveConstructor">C.DELEG-delegate</a> <a id="18001" href="Ledger.Conway.Conformance.Equivalence.html#17566" class="Bound">h</a><a id="18002" class="Symbol">))</a> <a id="18005" href="Ledger.Conway.Conformance.Equivalence.html#17647" class="Bound">rs&#39;</a>

  <a id="18012" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="18023" class="Symbol">{</a><a id="18024" href="Ledger.Conway.Conformance.Equivalence.html#18024" class="Bound">Γ</a><a id="18025" class="Symbol">}</a> <a id="18027" href="Ledger.Conway.Conformance.Equivalence.html#18027" class="Bound">deps₁</a> <a id="18033" href="Ledger.Conway.Conformance.Equivalence.html#18033" class="Bound">deps₂</a> <a id="18039" href="Ledger.Conway.Conformance.Equivalence.html#18039" class="Bound">deps₁&#39;</a> <a id="18046" href="Ledger.Conway.Conformance.Equivalence.html#18046" class="Bound">eqd</a> <a id="18050" class="Symbol">(</a><a id="18051" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18057" class="Symbol">(</a><a id="18058" href="Ledger.Conway.Conformance.Certs.html#6117" class="InductiveConstructor">C.CERT-deleg</a> <a id="18071" class="Symbol">{</a><a id="18072" class="Argument">dCert</a> <a id="18078" class="Symbol">=</a> <a id="18080" href="Ledger.Conway.Conformance.Equivalence.html#18080" class="Bound">cert</a><a id="18084" class="Symbol">}</a> <a id="18086" class="Symbol">(</a><a id="18087" href="Ledger.Conway.Conformance.Certs.html#4341" class="InductiveConstructor">C.DELEG-dereg</a> <a id="18101" class="Symbol">(</a><a id="18102" href="Ledger.Conway.Conformance.Equivalence.html#18102" class="Bound">a</a> <a id="18104" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18106" href="Ledger.Conway.Conformance.Equivalence.html#18106" class="Bound">b</a> <a id="18108" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18110" href="Ledger.Conway.Conformance.Equivalence.html#18110" class="Bound">c</a><a id="18111" class="Symbol">)))</a> <a id="18115" href="Ledger.Conway.Conformance.Equivalence.html#18115" class="Bound">rs</a><a id="18117" class="Symbol">)</a> <a id="18119" class="Symbol">=</a>
    <a id="18125" class="Keyword">let</a> <a id="18129" class="Keyword">open</a> <a id="18134" href="Ledger.Core.Specification.Certs.html#3552" class="Module">C.CertEnv</a> <a id="18144" href="Ledger.Conway.Conformance.Equivalence.html#18024" class="Bound">Γ</a> <a id="18146" class="Keyword">using</a> <a id="18152" class="Symbol">(</a><a id="18153" href="Ledger.Core.Specification.Certs.html#3607" class="Field">pp</a><a id="18155" class="Symbol">)</a>
        <a id="18165" href="Ledger.Conway.Conformance.Equivalence.html#18165" class="Bound">deps₂&#39;</a> <a id="18172" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18174" href="Ledger.Conway.Conformance.Equivalence.html#18174" class="Bound">eqd&#39;</a> <a id="18179" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18181" href="Ledger.Conway.Conformance.Equivalence.html#18181" class="Bound">rs&#39;</a> <a id="18185" class="Symbol">=</a> <a id="18187" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="18198" class="Symbol">(</a><a id="18199" href="Ledger.Conway.Conformance.Equivalence.html#16829" class="Function">updateCDep</a> <a id="18210" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="18213" href="Ledger.Conway.Conformance.Equivalence.html#18080" class="Bound">cert</a> <a id="18218" href="Ledger.Conway.Conformance.Equivalence.html#18027" class="Bound">deps₁</a><a id="18223" class="Symbol">)</a> <a id="18225" class="Symbol">(</a><a id="18226" href="Ledger.Conway.Conformance.Equivalence.html#16829" class="Function">updateCDep</a> <a id="18237" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="18240" href="Ledger.Conway.Conformance.Equivalence.html#18080" class="Bound">cert</a> <a id="18245" href="Ledger.Conway.Conformance.Equivalence.html#18033" class="Bound">deps₂</a><a id="18250" class="Symbol">)</a> <a id="18252" href="Ledger.Conway.Conformance.Equivalence.html#18039" class="Bound">deps₁&#39;</a>
                                         <a id="18300" class="Symbol">(</a><a id="18301" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟨</a> <a id="18303" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13359" class="Function">cong-updateDDep</a> <a id="18319" class="Symbol">{</a><a id="18320" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a><a id="18322" class="Symbol">}</a> <a id="18324" href="Ledger.Conway.Conformance.Equivalence.html#18080" class="Bound">cert</a> <a id="18329" class="Symbol">{</a><a id="18330" href="Ledger.Conway.Conformance.Equivalence.html#18027" class="Bound">deps₁</a> <a id="18336" class="Symbol">.</a><a id="18337" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18342" class="Symbol">}</a> <a id="18344" class="Symbol">{</a><a id="18345" href="Ledger.Conway.Conformance.Equivalence.html#18033" class="Bound">deps₂</a> <a id="18351" class="Symbol">.</a><a id="18352" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18357" class="Symbol">}</a>
                                          <a id="18401" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">,</a> <a id="18403" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14390" class="Function">cong-updateGDep</a> <a id="18419" class="Symbol">{</a><a id="18420" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a><a id="18422" class="Symbol">}</a> <a id="18424" href="Ledger.Conway.Conformance.Equivalence.html#18080" class="Bound">cert</a> <a id="18429" class="Symbol">{</a><a id="18430" href="Ledger.Conway.Conformance.Equivalence.html#18027" class="Bound">deps₁</a> <a id="18436" class="Symbol">.</a><a id="18437" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18442" class="Symbol">}</a> <a id="18444" class="Symbol">{</a><a id="18445" href="Ledger.Conway.Conformance.Equivalence.html#18033" class="Bound">deps₂</a> <a id="18451" class="Symbol">.</a><a id="18452" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18457" class="Symbol">}</a> <a id="18459" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟩</a> <a id="18461" href="Ledger.Conway.Conformance.Equivalence.html#18046" class="Bound">eqd</a><a id="18464" class="Symbol">)</a> <a id="18466" href="Ledger.Conway.Conformance.Equivalence.html#18115" class="Bound">rs</a>
    <a id="18473" class="Keyword">in</a>  <a id="18477" href="Ledger.Conway.Conformance.Equivalence.html#18165" class="Bound">deps₂&#39;</a> <a id="18484" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18486" href="Ledger.Conway.Conformance.Equivalence.html#18174" class="Bound">eqd&#39;</a> <a id="18491" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18493" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18499" class="Symbol">(</a><a id="18500" href="Ledger.Conway.Conformance.Certs.html#6117" class="InductiveConstructor">C.CERT-deleg</a> <a id="18513" class="Symbol">(</a><a id="18514" href="Ledger.Conway.Conformance.Certs.html#4341" class="InductiveConstructor">C.DELEG-dereg</a> <a id="18528" class="Symbol">(</a><a id="18529" href="Ledger.Conway.Conformance.Equivalence.html#18102" class="Bound">a</a> <a id="18531" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18533" href="Ledger.Conway.Conformance.Equivalence.html#18046" class="Bound">eqd</a> <a id="18537" class="Symbol">.</a><a id="18538" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="18544" class="Symbol">.</a><a id="18545" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="18551" href="Ledger.Conway.Conformance.Equivalence.html#18106" class="Bound">b</a> <a id="18553" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18555" href="Ledger.Conway.Conformance.Equivalence.html#18110" class="Bound">c</a><a id="18556" class="Symbol">)))</a> <a id="18560" href="Ledger.Conway.Conformance.Equivalence.html#18181" class="Bound">rs&#39;</a>
  <a id="18566" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="18577" class="Symbol">{</a><a id="18578" href="Ledger.Conway.Conformance.Equivalence.html#18578" class="Bound">Γ</a><a id="18579" class="Symbol">}</a> <a id="18581" href="Ledger.Conway.Conformance.Equivalence.html#18581" class="Bound">deps₁</a> <a id="18587" href="Ledger.Conway.Conformance.Equivalence.html#18587" class="Bound">deps₂</a> <a id="18593" href="Ledger.Conway.Conformance.Equivalence.html#18593" class="Bound">deps₁&#39;</a> <a id="18600" href="Ledger.Conway.Conformance.Equivalence.html#18600" class="Bound">eqd</a> <a id="18604" class="Symbol">(</a><a id="18605" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="18611" class="Symbol">(</a><a id="18612" href="Ledger.Conway.Conformance.Certs.html#6117" class="InductiveConstructor">C.CERT-deleg</a> <a id="18625" class="Symbol">{</a><a id="18626" class="Argument">dCert</a> <a id="18632" class="Symbol">=</a> <a id="18634" href="Ledger.Conway.Conformance.Equivalence.html#18634" class="Bound">cert</a><a id="18638" class="Symbol">}</a> <a id="18640" class="Symbol">(</a><a id="18641" href="Ledger.Conway.Conformance.Certs.html#4705" class="InductiveConstructor">C.DELEG-reg</a> <a id="18653" href="Ledger.Conway.Conformance.Equivalence.html#18653" class="Bound">h</a><a id="18654" class="Symbol">))</a>         <a id="18665" href="Ledger.Conway.Conformance.Equivalence.html#18665" class="Bound">rs</a><a id="18667" class="Symbol">)</a> <a id="18669" class="Symbol">=</a>
    <a id="18675" class="Keyword">let</a> <a id="18679" class="Keyword">open</a> <a id="18684" href="Ledger.Core.Specification.Certs.html#3552" class="Module">C.CertEnv</a> <a id="18694" href="Ledger.Conway.Conformance.Equivalence.html#18578" class="Bound">Γ</a> <a id="18696" class="Keyword">using</a> <a id="18702" class="Symbol">(</a><a id="18703" href="Ledger.Core.Specification.Certs.html#3607" class="Field">pp</a><a id="18705" class="Symbol">)</a>
        <a id="18715" href="Ledger.Conway.Conformance.Equivalence.html#18715" class="Bound">deps₂&#39;</a> <a id="18722" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18724" href="Ledger.Conway.Conformance.Equivalence.html#18724" class="Bound">eqd&#39;</a> <a id="18729" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18731" href="Ledger.Conway.Conformance.Equivalence.html#18731" class="Bound">rs&#39;</a> <a id="18735" class="Symbol">=</a> <a id="18737" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="18748" class="Symbol">(</a><a id="18749" href="Ledger.Conway.Conformance.Equivalence.html#16829" class="Function">updateCDep</a> <a id="18760" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="18763" href="Ledger.Conway.Conformance.Equivalence.html#18634" class="Bound">cert</a> <a id="18768" href="Ledger.Conway.Conformance.Equivalence.html#18581" class="Bound">deps₁</a><a id="18773" class="Symbol">)</a> <a id="18775" class="Symbol">(</a><a id="18776" href="Ledger.Conway.Conformance.Equivalence.html#16829" class="Function">updateCDep</a> <a id="18787" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="18790" href="Ledger.Conway.Conformance.Equivalence.html#18634" class="Bound">cert</a> <a id="18795" href="Ledger.Conway.Conformance.Equivalence.html#18587" class="Bound">deps₂</a><a id="18800" class="Symbol">)</a> <a id="18802" href="Ledger.Conway.Conformance.Equivalence.html#18593" class="Bound">deps₁&#39;</a>
                                         <a id="18850" class="Symbol">(</a><a id="18851" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟨</a> <a id="18853" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13359" class="Function">cong-updateDDep</a> <a id="18869" class="Symbol">{</a><a id="18870" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a><a id="18872" class="Symbol">}</a> <a id="18874" href="Ledger.Conway.Conformance.Equivalence.html#18634" class="Bound">cert</a> <a id="18879" class="Symbol">{</a><a id="18880" href="Ledger.Conway.Conformance.Equivalence.html#18581" class="Bound">deps₁</a> <a id="18886" class="Symbol">.</a><a id="18887" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18892" class="Symbol">}</a> <a id="18894" class="Symbol">{</a><a id="18895" href="Ledger.Conway.Conformance.Equivalence.html#18587" class="Bound">deps₂</a> <a id="18901" class="Symbol">.</a><a id="18902" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="18907" class="Symbol">}</a>
                                          <a id="18951" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">,</a> <a id="18953" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14390" class="Function">cong-updateGDep</a> <a id="18969" class="Symbol">{</a><a id="18970" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a><a id="18972" class="Symbol">}</a> <a id="18974" href="Ledger.Conway.Conformance.Equivalence.html#18634" class="Bound">cert</a> <a id="18979" class="Symbol">{</a><a id="18980" href="Ledger.Conway.Conformance.Equivalence.html#18581" class="Bound">deps₁</a> <a id="18986" class="Symbol">.</a><a id="18987" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="18992" class="Symbol">}</a> <a id="18994" class="Symbol">{</a><a id="18995" href="Ledger.Conway.Conformance.Equivalence.html#18587" class="Bound">deps₂</a> <a id="19001" class="Symbol">.</a><a id="19002" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="19007" class="Symbol">}</a> <a id="19009" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟩</a> <a id="19011" href="Ledger.Conway.Conformance.Equivalence.html#18600" class="Bound">eqd</a><a id="19014" class="Symbol">)</a> <a id="19016" href="Ledger.Conway.Conformance.Equivalence.html#18665" class="Bound">rs</a>
    <a id="19023" class="Keyword">in</a>  <a id="19027" href="Ledger.Conway.Conformance.Equivalence.html#18715" class="Bound">deps₂&#39;</a> <a id="19034" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19036" href="Ledger.Conway.Conformance.Equivalence.html#18724" class="Bound">eqd&#39;</a> <a id="19041" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19043" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19049" class="Symbol">(</a><a id="19050" href="Ledger.Conway.Conformance.Certs.html#6117" class="InductiveConstructor">C.CERT-deleg</a> <a id="19063" class="Symbol">(</a><a id="19064" href="Ledger.Conway.Conformance.Certs.html#4705" class="InductiveConstructor">C.DELEG-reg</a> <a id="19076" href="Ledger.Conway.Conformance.Equivalence.html#18653" class="Bound">h</a><a id="19077" class="Symbol">))</a> <a id="19080" href="Ledger.Conway.Conformance.Equivalence.html#18731" class="Bound">rs&#39;</a>

  <a id="19087" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="19098" class="Symbol">{</a><a id="19099" href="Ledger.Conway.Conformance.Equivalence.html#19099" class="Bound">Γ</a><a id="19100" class="Symbol">}</a> <a id="19102" href="Ledger.Conway.Conformance.Equivalence.html#19102" class="Bound">deps₁</a> <a id="19108" href="Ledger.Conway.Conformance.Equivalence.html#19108" class="Bound">deps₂</a> <a id="19114" href="Ledger.Conway.Conformance.Equivalence.html#19114" class="Bound">deps₁&#39;</a> <a id="19121" href="Ledger.Conway.Conformance.Equivalence.html#19121" class="Bound">eqd</a> <a id="19125" class="Symbol">(</a><a id="19126" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19132" class="Symbol">(</a><a id="19133" href="Ledger.Conway.Conformance.Certs.html#6351" class="InductiveConstructor">C.CERT-pool</a>  <a id="19146" class="Symbol">{</a><a id="19147" class="Argument">dCert</a> <a id="19153" class="Symbol">=</a> <a id="19155" href="Ledger.Conway.Conformance.Equivalence.html#19155" class="Bound">cert</a><a id="19159" class="Symbol">}</a> <a id="19161" href="Ledger.Conway.Specification.Certs.html#2495" class="InductiveConstructor">L.POOL-regpool</a><a id="19175" class="Symbol">)</a>          <a id="19186" href="Ledger.Conway.Conformance.Equivalence.html#19186" class="Bound">rs</a><a id="19188" class="Symbol">)</a> <a id="19190" class="Symbol">=</a>
    <a id="19196" class="Keyword">let</a> <a id="19200" href="Ledger.Conway.Conformance.Equivalence.html#19200" class="Bound">deps₂&#39;</a> <a id="19207" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19209" href="Ledger.Conway.Conformance.Equivalence.html#19209" class="Bound">eqd&#39;</a> <a id="19214" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19216" href="Ledger.Conway.Conformance.Equivalence.html#19216" class="Bound">rs&#39;</a> <a id="19220" class="Symbol">=</a> <a id="19222" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="19233" href="Ledger.Conway.Conformance.Equivalence.html#19102" class="Bound">deps₁</a> <a id="19239" href="Ledger.Conway.Conformance.Equivalence.html#19108" class="Bound">deps₂</a> <a id="19245" href="Ledger.Conway.Conformance.Equivalence.html#19114" class="Bound">deps₁&#39;</a> <a id="19252" href="Ledger.Conway.Conformance.Equivalence.html#19121" class="Bound">eqd</a> <a id="19256" href="Ledger.Conway.Conformance.Equivalence.html#19186" class="Bound">rs</a>
    <a id="19263" class="Keyword">in</a>  <a id="19267" href="Ledger.Conway.Conformance.Equivalence.html#19200" class="Bound">deps₂&#39;</a> <a id="19274" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19276" href="Ledger.Conway.Conformance.Equivalence.html#19209" class="Bound">eqd&#39;</a> <a id="19281" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19283" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a>  <a id="19290" class="Symbol">(</a><a id="19291" href="Ledger.Conway.Conformance.Certs.html#6351" class="InductiveConstructor">C.CERT-pool</a> <a id="19303" href="Ledger.Conway.Specification.Certs.html#2495" class="InductiveConstructor">L.POOL-regpool</a><a id="19317" class="Symbol">)</a> <a id="19319" href="Ledger.Conway.Conformance.Equivalence.html#19216" class="Bound">rs&#39;</a>

  <a id="19326" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="19337" class="Symbol">{</a><a id="19338" href="Ledger.Conway.Conformance.Equivalence.html#19338" class="Bound">Γ</a><a id="19339" class="Symbol">}</a> <a id="19341" href="Ledger.Conway.Conformance.Equivalence.html#19341" class="Bound">deps₁</a> <a id="19347" href="Ledger.Conway.Conformance.Equivalence.html#19347" class="Bound">deps₂</a> <a id="19353" href="Ledger.Conway.Conformance.Equivalence.html#19353" class="Bound">deps₁&#39;</a> <a id="19360" href="Ledger.Conway.Conformance.Equivalence.html#19360" class="Bound">eqd</a> <a id="19364" class="Symbol">(</a><a id="19365" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19371" class="Symbol">(</a><a id="19372" href="Ledger.Conway.Conformance.Certs.html#6351" class="InductiveConstructor">C.CERT-pool</a>  <a id="19385" class="Symbol">{</a><a id="19386" class="Argument">dCert</a> <a id="19392" class="Symbol">=</a> <a id="19394" href="Ledger.Conway.Conformance.Equivalence.html#19394" class="Bound">cert</a><a id="19398" class="Symbol">}</a> <a id="19400" href="Ledger.Conway.Specification.Certs.html#2886" class="InductiveConstructor">C.POOL-retirepool</a><a id="19417" class="Symbol">)</a>       <a id="19425" href="Ledger.Conway.Conformance.Equivalence.html#19425" class="Bound">rs</a><a id="19427" class="Symbol">)</a> <a id="19429" class="Symbol">=</a>
    <a id="19435" class="Keyword">let</a> <a id="19439" href="Ledger.Conway.Conformance.Equivalence.html#19439" class="Bound">deps₂&#39;</a> <a id="19446" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19448" href="Ledger.Conway.Conformance.Equivalence.html#19448" class="Bound">eqd&#39;</a> <a id="19453" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19455" href="Ledger.Conway.Conformance.Equivalence.html#19455" class="Bound">rs&#39;</a> <a id="19459" class="Symbol">=</a> <a id="19461" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="19472" href="Ledger.Conway.Conformance.Equivalence.html#19341" class="Bound">deps₁</a> <a id="19478" href="Ledger.Conway.Conformance.Equivalence.html#19347" class="Bound">deps₂</a> <a id="19484" href="Ledger.Conway.Conformance.Equivalence.html#19353" class="Bound">deps₁&#39;</a> <a id="19491" href="Ledger.Conway.Conformance.Equivalence.html#19360" class="Bound">eqd</a> <a id="19495" href="Ledger.Conway.Conformance.Equivalence.html#19425" class="Bound">rs</a>
    <a id="19502" class="Keyword">in</a>  <a id="19506" href="Ledger.Conway.Conformance.Equivalence.html#19439" class="Bound">deps₂&#39;</a> <a id="19513" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19515" href="Ledger.Conway.Conformance.Equivalence.html#19448" class="Bound">eqd&#39;</a> <a id="19520" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19522" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19528" class="Symbol">(</a><a id="19529" href="Ledger.Conway.Conformance.Certs.html#6351" class="InductiveConstructor">C.CERT-pool</a> <a id="19541" href="Ledger.Conway.Specification.Certs.html#2886" class="InductiveConstructor">C.POOL-retirepool</a><a id="19558" class="Symbol">)</a> <a id="19560" href="Ledger.Conway.Conformance.Equivalence.html#19455" class="Bound">rs&#39;</a>
  <a id="19566" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="19577" class="Symbol">{</a><a id="19578" href="Ledger.Conway.Conformance.Equivalence.html#19578" class="Bound">Γ</a><a id="19579" class="Symbol">}</a> <a id="19581" href="Ledger.Conway.Conformance.Equivalence.html#19581" class="Bound">deps₁</a> <a id="19587" href="Ledger.Conway.Conformance.Equivalence.html#19587" class="Bound">deps₂</a> <a id="19593" href="Ledger.Conway.Conformance.Equivalence.html#19593" class="Bound">deps₁&#39;</a> <a id="19600" href="Ledger.Conway.Conformance.Equivalence.html#19600" class="Bound">eqd</a> <a id="19604" class="Symbol">(</a><a id="19605" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="19611" class="Symbol">(</a><a id="19612" href="Ledger.Conway.Conformance.Certs.html#6535" class="InductiveConstructor">C.CERT-vdel</a>  <a id="19625" class="Symbol">{</a><a id="19626" class="Argument">dCert</a> <a id="19632" class="Symbol">=</a> <a id="19634" href="Ledger.Conway.Conformance.Equivalence.html#19634" class="Bound">cert</a><a id="19638" class="Symbol">}</a> <a id="19640" class="Symbol">(</a><a id="19641" href="Ledger.Conway.Conformance.Certs.html#5094" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="19659" href="Ledger.Conway.Conformance.Equivalence.html#19659" class="Bound">h</a><a id="19660" class="Symbol">))</a>   <a id="19665" href="Ledger.Conway.Conformance.Equivalence.html#19665" class="Bound">rs</a><a id="19667" class="Symbol">)</a> <a id="19669" class="Symbol">=</a>
    <a id="19675" class="Keyword">let</a> <a id="19679" class="Keyword">open</a> <a id="19684" href="Ledger.Core.Specification.Certs.html#3552" class="Module">C.CertEnv</a> <a id="19694" href="Ledger.Conway.Conformance.Equivalence.html#19578" class="Bound">Γ</a> <a id="19696" class="Keyword">using</a> <a id="19702" class="Symbol">(</a><a id="19703" href="Ledger.Core.Specification.Certs.html#3607" class="Field">pp</a><a id="19705" class="Symbol">)</a>
        <a id="19715" href="Ledger.Conway.Conformance.Equivalence.html#19715" class="Bound">deps₂&#39;</a> <a id="19722" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19724" href="Ledger.Conway.Conformance.Equivalence.html#19724" class="Bound">eqd&#39;</a> <a id="19729" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19731" href="Ledger.Conway.Conformance.Equivalence.html#19731" class="Bound">rs&#39;</a> <a id="19735" class="Symbol">=</a> <a id="19737" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="19748" class="Symbol">(</a><a id="19749" href="Ledger.Conway.Conformance.Equivalence.html#16829" class="Function">updateCDep</a> <a id="19760" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="19763" href="Ledger.Conway.Conformance.Equivalence.html#19634" class="Bound">cert</a> <a id="19768" href="Ledger.Conway.Conformance.Equivalence.html#19581" class="Bound">deps₁</a><a id="19773" class="Symbol">)</a> <a id="19775" class="Symbol">(</a><a id="19776" href="Ledger.Conway.Conformance.Equivalence.html#16829" class="Function">updateCDep</a> <a id="19787" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="19790" href="Ledger.Conway.Conformance.Equivalence.html#19634" class="Bound">cert</a> <a id="19795" href="Ledger.Conway.Conformance.Equivalence.html#19587" class="Bound">deps₂</a><a id="19800" class="Symbol">)</a> <a id="19802" href="Ledger.Conway.Conformance.Equivalence.html#19593" class="Bound">deps₁&#39;</a>
                                         <a id="19850" class="Symbol">(</a><a id="19851" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟨</a> <a id="19853" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13359" class="Function">cong-updateDDep</a> <a id="19869" class="Symbol">{</a><a id="19870" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a><a id="19872" class="Symbol">}</a> <a id="19874" href="Ledger.Conway.Conformance.Equivalence.html#19634" class="Bound">cert</a> <a id="19879" class="Symbol">{</a><a id="19880" href="Ledger.Conway.Conformance.Equivalence.html#19581" class="Bound">deps₁</a> <a id="19886" class="Symbol">.</a><a id="19887" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="19892" class="Symbol">}</a> <a id="19894" class="Symbol">{</a><a id="19895" href="Ledger.Conway.Conformance.Equivalence.html#19587" class="Bound">deps₂</a> <a id="19901" class="Symbol">.</a><a id="19902" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="19907" class="Symbol">}</a>
                                          <a id="19951" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">,</a> <a id="19953" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14390" class="Function">cong-updateGDep</a> <a id="19969" class="Symbol">{</a><a id="19970" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a><a id="19972" class="Symbol">}</a> <a id="19974" href="Ledger.Conway.Conformance.Equivalence.html#19634" class="Bound">cert</a> <a id="19979" class="Symbol">{</a><a id="19980" href="Ledger.Conway.Conformance.Equivalence.html#19581" class="Bound">deps₁</a> <a id="19986" class="Symbol">.</a><a id="19987" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="19992" class="Symbol">}</a> <a id="19994" class="Symbol">{</a><a id="19995" href="Ledger.Conway.Conformance.Equivalence.html#19587" class="Bound">deps₂</a> <a id="20001" class="Symbol">.</a><a id="20002" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20007" class="Symbol">}</a> <a id="20009" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟩</a> <a id="20011" href="Ledger.Conway.Conformance.Equivalence.html#19600" class="Bound">eqd</a><a id="20014" class="Symbol">)</a> <a id="20016" href="Ledger.Conway.Conformance.Equivalence.html#19665" class="Bound">rs</a>
    <a id="20023" class="Keyword">in</a>  <a id="20027" href="Ledger.Conway.Conformance.Equivalence.html#19715" class="Bound">deps₂&#39;</a> <a id="20034" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20036" href="Ledger.Conway.Conformance.Equivalence.html#19724" class="Bound">eqd&#39;</a> <a id="20041" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20043" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20049" class="Symbol">(</a><a id="20050" href="Ledger.Conway.Conformance.Certs.html#6535" class="InductiveConstructor">C.CERT-vdel</a> <a id="20062" class="Symbol">(</a><a id="20063" href="Ledger.Conway.Conformance.Certs.html#5094" class="InductiveConstructor">C.GOVCERT-regdrep</a> <a id="20081" href="Ledger.Conway.Conformance.Equivalence.html#19659" class="Bound">h</a><a id="20082" class="Symbol">))</a> <a id="20085" href="Ledger.Conway.Conformance.Equivalence.html#19731" class="Bound">rs&#39;</a>
  <a id="20091" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="20102" class="Symbol">{</a><a id="20103" href="Ledger.Conway.Conformance.Equivalence.html#20103" class="Bound">Γ</a><a id="20104" class="Symbol">}</a> <a id="20106" href="Ledger.Conway.Conformance.Equivalence.html#20106" class="Bound">deps₁</a> <a id="20112" href="Ledger.Conway.Conformance.Equivalence.html#20112" class="Bound">deps₂</a> <a id="20118" href="Ledger.Conway.Conformance.Equivalence.html#20118" class="Bound">deps₁&#39;</a> <a id="20125" href="Ledger.Conway.Conformance.Equivalence.html#20125" class="Bound">eqd</a> <a id="20129" class="Symbol">(</a><a id="20130" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20136" class="Symbol">(</a><a id="20137" href="Ledger.Conway.Conformance.Certs.html#6535" class="InductiveConstructor">C.CERT-vdel</a>  <a id="20150" class="Symbol">{</a><a id="20151" class="Argument">dCert</a> <a id="20157" class="Symbol">=</a> <a id="20159" href="Ledger.Conway.Conformance.Equivalence.html#20159" class="Bound">cert</a><a id="20163" class="Symbol">}</a> <a id="20165" class="Symbol">(</a><a id="20166" href="Ledger.Conway.Conformance.Certs.html#5460" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="20186" class="Symbol">(</a><a id="20187" href="Ledger.Conway.Conformance.Equivalence.html#20187" class="Bound">a</a> <a id="20189" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20191" href="Ledger.Conway.Conformance.Equivalence.html#20191" class="Bound">b</a><a id="20192" class="Symbol">)))</a> <a id="20196" href="Ledger.Conway.Conformance.Equivalence.html#20196" class="Bound">rs</a><a id="20198" class="Symbol">)</a> <a id="20200" class="Symbol">=</a>
    <a id="20206" class="Keyword">let</a> <a id="20210" class="Keyword">open</a> <a id="20215" href="Ledger.Core.Specification.Certs.html#3552" class="Module">C.CertEnv</a> <a id="20225" href="Ledger.Conway.Conformance.Equivalence.html#20103" class="Bound">Γ</a> <a id="20227" class="Keyword">using</a> <a id="20233" class="Symbol">(</a><a id="20234" href="Ledger.Core.Specification.Certs.html#3607" class="Field">pp</a><a id="20236" class="Symbol">)</a>
        <a id="20246" href="Ledger.Conway.Conformance.Equivalence.html#20246" class="Bound">deps₂&#39;</a> <a id="20253" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20255" href="Ledger.Conway.Conformance.Equivalence.html#20255" class="Bound">eqd&#39;</a> <a id="20260" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20262" href="Ledger.Conway.Conformance.Equivalence.html#20262" class="Bound">rs&#39;</a> <a id="20266" class="Symbol">=</a> <a id="20268" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="20279" class="Symbol">(</a><a id="20280" href="Ledger.Conway.Conformance.Equivalence.html#16829" class="Function">updateCDep</a> <a id="20291" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="20294" href="Ledger.Conway.Conformance.Equivalence.html#20159" class="Bound">cert</a> <a id="20299" href="Ledger.Conway.Conformance.Equivalence.html#20106" class="Bound">deps₁</a><a id="20304" class="Symbol">)</a> <a id="20306" class="Symbol">(</a><a id="20307" href="Ledger.Conway.Conformance.Equivalence.html#16829" class="Function">updateCDep</a> <a id="20318" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a> <a id="20321" href="Ledger.Conway.Conformance.Equivalence.html#20159" class="Bound">cert</a> <a id="20326" href="Ledger.Conway.Conformance.Equivalence.html#20112" class="Bound">deps₂</a><a id="20331" class="Symbol">)</a> <a id="20333" href="Ledger.Conway.Conformance.Equivalence.html#20118" class="Bound">deps₁&#39;</a>
                                         <a id="20381" class="Symbol">(</a><a id="20382" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟨</a> <a id="20384" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#13359" class="Function">cong-updateDDep</a> <a id="20400" class="Symbol">{</a><a id="20401" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a><a id="20403" class="Symbol">}</a> <a id="20405" href="Ledger.Conway.Conformance.Equivalence.html#20159" class="Bound">cert</a> <a id="20410" class="Symbol">{</a><a id="20411" href="Ledger.Conway.Conformance.Equivalence.html#20106" class="Bound">deps₁</a> <a id="20417" class="Symbol">.</a><a id="20418" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20423" class="Symbol">}</a> <a id="20425" class="Symbol">{</a><a id="20426" href="Ledger.Conway.Conformance.Equivalence.html#20112" class="Bound">deps₂</a> <a id="20432" class="Symbol">.</a><a id="20433" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="20438" class="Symbol">}</a>
                                          <a id="20482" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">,</a> <a id="20484" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#14390" class="Function">cong-updateGDep</a> <a id="20500" class="Symbol">{</a><a id="20501" href="Ledger.Core.Specification.Certs.html#3607" class="Function">pp</a><a id="20503" class="Symbol">}</a> <a id="20505" href="Ledger.Conway.Conformance.Equivalence.html#20159" class="Bound">cert</a> <a id="20510" class="Symbol">{</a><a id="20511" href="Ledger.Conway.Conformance.Equivalence.html#20106" class="Bound">deps₁</a> <a id="20517" class="Symbol">.</a><a id="20518" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20523" class="Symbol">}</a> <a id="20525" class="Symbol">{</a><a id="20526" href="Ledger.Conway.Conformance.Equivalence.html#20112" class="Bound">deps₂</a> <a id="20532" class="Symbol">.</a><a id="20533" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="20538" class="Symbol">}</a> <a id="20540" href="Ledger.Conway.Conformance.Equivalence.html#432" class="Function Operator">⟩</a> <a id="20542" href="Ledger.Conway.Conformance.Equivalence.html#20125" class="Bound">eqd</a><a id="20545" class="Symbol">)</a> <a id="20547" href="Ledger.Conway.Conformance.Equivalence.html#20196" class="Bound">rs</a>
    <a id="20554" class="Keyword">in</a>  <a id="20558" href="Ledger.Conway.Conformance.Equivalence.html#20246" class="Bound">deps₂&#39;</a> <a id="20565" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20567" href="Ledger.Conway.Conformance.Equivalence.html#20255" class="Bound">eqd&#39;</a> <a id="20572" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20574" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20580" class="Symbol">(</a><a id="20581" href="Ledger.Conway.Conformance.Certs.html#6535" class="InductiveConstructor">C.CERT-vdel</a> <a id="20593" class="Symbol">(</a><a id="20594" href="Ledger.Conway.Conformance.Certs.html#5460" class="InductiveConstructor">C.GOVCERT-deregdrep</a> <a id="20614" class="Symbol">(</a><a id="20615" href="Ledger.Conway.Conformance.Equivalence.html#20187" class="Bound">a</a> <a id="20617" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20619" href="Ledger.Conway.Conformance.Equivalence.html#20125" class="Bound">eqd</a> <a id="20623" class="Symbol">.</a><a id="20624" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="20630" class="Symbol">.</a><a id="20631" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="20637" href="Ledger.Conway.Conformance.Equivalence.html#20191" class="Bound">b</a><a id="20638" class="Symbol">)))</a> <a id="20642" href="Ledger.Conway.Conformance.Equivalence.html#20262" class="Bound">rs&#39;</a>
                                                                   <a id="20713" class="Comment">-- ^^^^^^^^^^^^^^^^^^^ Actual work</a>
  <a id="20750" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="20761" class="Symbol">{</a><a id="20762" href="Ledger.Conway.Conformance.Equivalence.html#20762" class="Bound">Γ</a><a id="20763" class="Symbol">}</a> <a id="20765" href="Ledger.Conway.Conformance.Equivalence.html#20765" class="Bound">deps₁</a> <a id="20771" href="Ledger.Conway.Conformance.Equivalence.html#20771" class="Bound">deps₂</a> <a id="20777" href="Ledger.Conway.Conformance.Equivalence.html#20777" class="Bound">deps₁&#39;</a> <a id="20784" href="Ledger.Conway.Conformance.Equivalence.html#20784" class="Bound">eqd</a> <a id="20788" class="Symbol">(</a><a id="20789" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20795" class="Symbol">(</a><a id="20796" href="Ledger.Conway.Conformance.Certs.html#6535" class="InductiveConstructor">C.CERT-vdel</a>  <a id="20809" class="Symbol">{</a><a id="20810" class="Argument">dCert</a> <a id="20816" class="Symbol">=</a> <a id="20818" href="Ledger.Conway.Conformance.Equivalence.html#20818" class="Bound">cert</a><a id="20822" class="Symbol">}</a> <a id="20824" class="Symbol">(</a><a id="20825" href="Ledger.Conway.Conformance.Certs.html#5755" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="20844" href="Ledger.Conway.Conformance.Equivalence.html#20844" class="Bound">h</a><a id="20845" class="Symbol">))</a>  <a id="20849" href="Ledger.Conway.Conformance.Equivalence.html#20849" class="Bound">rs</a><a id="20851" class="Symbol">)</a> <a id="20853" class="Symbol">=</a>
    <a id="20859" class="Keyword">let</a> <a id="20863" href="Ledger.Conway.Conformance.Equivalence.html#20863" class="Bound">deps₂&#39;</a> <a id="20870" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20872" href="Ledger.Conway.Conformance.Equivalence.html#20872" class="Bound">eqd&#39;</a> <a id="20877" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20879" href="Ledger.Conway.Conformance.Equivalence.html#20879" class="Bound">rs&#39;</a> <a id="20883" class="Symbol">=</a> <a id="20885" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="20896" href="Ledger.Conway.Conformance.Equivalence.html#20765" class="Bound">deps₁</a> <a id="20902" href="Ledger.Conway.Conformance.Equivalence.html#20771" class="Bound">deps₂</a> <a id="20908" href="Ledger.Conway.Conformance.Equivalence.html#20777" class="Bound">deps₁&#39;</a> <a id="20915" href="Ledger.Conway.Conformance.Equivalence.html#20784" class="Bound">eqd</a> <a id="20919" href="Ledger.Conway.Conformance.Equivalence.html#20849" class="Bound">rs</a>
    <a id="20926" class="Keyword">in</a>  <a id="20930" href="Ledger.Conway.Conformance.Equivalence.html#20863" class="Bound">deps₂&#39;</a> <a id="20937" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20939" href="Ledger.Conway.Conformance.Equivalence.html#20872" class="Bound">eqd&#39;</a> <a id="20944" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20946" href="Interface.STS.html#452" class="InductiveConstructor">run-∷</a> <a id="20952" class="Symbol">(</a><a id="20953" href="Ledger.Conway.Conformance.Certs.html#6535" class="InductiveConstructor">C.CERT-vdel</a> <a id="20965" class="Symbol">(</a><a id="20966" href="Ledger.Conway.Conformance.Certs.html#5755" class="InductiveConstructor">C.GOVCERT-ccreghot</a> <a id="20985" href="Ledger.Conway.Conformance.Equivalence.html#20844" class="Bound">h</a><a id="20986" class="Symbol">))</a> <a id="20989" href="Ledger.Conway.Conformance.Equivalence.html#20879" class="Bound">rs&#39;</a>

  <a id="castCERTS"></a><a id="20996" href="Ledger.Conway.Conformance.Equivalence.html#20996" class="Function">castCERTS</a> <a id="21006" class="Symbol">:</a> <a id="21008" class="Symbol">∀</a> <a id="21010" class="Symbol">{</a><a id="21011" href="Ledger.Conway.Conformance.Equivalence.html#21011" class="Bound">Γ</a> <a id="21013" href="Ledger.Conway.Conformance.Equivalence.html#21013" class="Bound">certs</a><a id="21018" class="Symbol">}</a> <a id="21020" class="Symbol">{</a><a id="21021" href="Ledger.Conway.Conformance.Equivalence.html#21021" class="Bound">s</a> <a id="21023" href="Ledger.Conway.Conformance.Equivalence.html#21023" class="Bound">s&#39;</a> <a id="21026" class="Symbol">:</a> <a id="21028" href="Ledger.Core.Specification.Certs.html#4115" class="Record">L.CertState</a><a id="21039" class="Symbol">}</a> <a id="21041" href="Ledger.Conway.Conformance.Equivalence.html#21041" class="Bound">deps₁</a> <a id="21047" href="Ledger.Conway.Conformance.Equivalence.html#21047" class="Bound">deps₂</a> <a id="21053" href="Ledger.Conway.Conformance.Equivalence.html#21053" class="Bound">deps₁&#39;</a>
            <a id="21072" class="Symbol">→</a> <a id="21074" href="Ledger.Conway.Conformance.Equivalence.html#21041" class="Bound">deps₁</a> <a id="21080" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="21083" href="Ledger.Conway.Conformance.Equivalence.html#21047" class="Bound">deps₂</a>
            <a id="21101" class="Symbol">→</a> <a id="21103" href="Ledger.Conway.Conformance.Equivalence.html#21011" class="Bound">Γ</a> <a id="21105" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">C.⊢</a> <a id="21109" href="Ledger.Conway.Conformance.Equivalence.html#21041" class="Bound">deps₁</a> <a id="21115" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21121" href="Ledger.Conway.Conformance.Equivalence.html#21021" class="Bound">s</a> <a id="21123" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">⇀⦇</a> <a id="21126" href="Ledger.Conway.Conformance.Equivalence.html#21013" class="Bound">certs</a> <a id="21132" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">,CERTS⦈</a> <a id="21140" class="Symbol">(</a><a id="21141" href="Ledger.Conway.Conformance.Equivalence.html#21053" class="Bound">deps₁&#39;</a> <a id="21148" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21154" href="Ledger.Conway.Conformance.Equivalence.html#21023" class="Bound">s&#39;</a><a id="21156" class="Symbol">)</a>
            <a id="21170" class="Symbol">→</a> <a id="21172" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="21175" href="Ledger.Conway.Conformance.Equivalence.html#21175" class="Bound">deps₂&#39;</a> <a id="21182" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="21184" href="Ledger.Conway.Conformance.Equivalence.html#21053" class="Bound">deps₁&#39;</a> <a id="21191" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="21194" href="Ledger.Conway.Conformance.Equivalence.html#21175" class="Bound">deps₂&#39;</a> <a id="21201" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21203" href="Ledger.Conway.Conformance.Equivalence.html#21011" class="Bound">Γ</a> <a id="21205" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">C.⊢</a> <a id="21209" href="Ledger.Conway.Conformance.Equivalence.html#21047" class="Bound">deps₂</a> <a id="21215" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21221" href="Ledger.Conway.Conformance.Equivalence.html#21021" class="Bound">s</a> <a id="21223" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">⇀⦇</a> <a id="21226" href="Ledger.Conway.Conformance.Equivalence.html#21013" class="Bound">certs</a> <a id="21232" href="Ledger.Conway.Conformance.Certs.html#7837" class="Function Operator">,CERTS⦈</a> <a id="21240" class="Symbol">(</a><a id="21241" href="Ledger.Conway.Conformance.Equivalence.html#21175" class="Bound">deps₂&#39;</a> <a id="21248" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21254" href="Ledger.Conway.Conformance.Equivalence.html#21023" class="Bound">s&#39;</a><a id="21256" class="Symbol">)</a>
  <a id="21260" href="Ledger.Conway.Conformance.Equivalence.html#20996" class="Function">castCERTS</a> <a id="21270" href="Ledger.Conway.Conformance.Equivalence.html#21270" class="Bound">deps₁</a> <a id="21276" href="Ledger.Conway.Conformance.Equivalence.html#21276" class="Bound">deps₂</a> <a id="21282" href="Ledger.Conway.Conformance.Equivalence.html#21282" class="Bound">deps₁&#39;</a> <a id="21289" href="Ledger.Conway.Conformance.Equivalence.html#21289" class="Bound">eqd</a> <a id="21293" class="Symbol">(</a><a id="21294" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="21298" class="Symbol">(</a><a id="21299" href="Ledger.Conway.Conformance.Certs.html#6769" class="InductiveConstructor">C.CERT-pre</a> <a id="21310" href="Ledger.Conway.Conformance.Equivalence.html#21310" class="Bound">h</a> <a id="21312" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21314" href="Ledger.Conway.Conformance.Equivalence.html#21314" class="Bound">step</a><a id="21318" class="Symbol">))</a> <a id="21321" class="Symbol">=</a>
    <a id="21327" class="Keyword">let</a> <a id="21331" href="Ledger.Conway.Conformance.Equivalence.html#21331" class="Bound">deps₂&#39;</a> <a id="21338" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21340" href="Ledger.Conway.Conformance.Equivalence.html#21340" class="Bound">eqd&#39;</a> <a id="21345" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21347" href="Ledger.Conway.Conformance.Equivalence.html#21347" class="Bound">step&#39;</a> <a id="21353" class="Symbol">=</a> <a id="21355" href="Ledger.Conway.Conformance.Equivalence.html#17007" class="Function">castCERTS&#39;</a> <a id="21366" href="Ledger.Conway.Conformance.Equivalence.html#21270" class="Bound">deps₁</a> <a id="21372" href="Ledger.Conway.Conformance.Equivalence.html#21276" class="Bound">deps₂</a> <a id="21378" href="Ledger.Conway.Conformance.Equivalence.html#21282" class="Bound">deps₁&#39;</a> <a id="21385" href="Ledger.Conway.Conformance.Equivalence.html#21289" class="Bound">eqd</a> <a id="21389" href="Ledger.Conway.Conformance.Equivalence.html#21314" class="Bound">step</a>
    <a id="21398" class="Keyword">in</a>  <a id="21402" href="Ledger.Conway.Conformance.Equivalence.html#21331" class="Bound">deps₂&#39;</a> <a id="21409" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21411" href="Ledger.Conway.Conformance.Equivalence.html#21340" class="Bound">eqd&#39;</a> <a id="21416" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21418" href="Interface.STS.html#808" class="InductiveConstructor">run</a> <a id="21422" class="Symbol">(</a><a id="21423" href="Ledger.Conway.Conformance.Certs.html#6769" class="InductiveConstructor">C.CERT-pre</a> <a id="21434" href="Ledger.Conway.Conformance.Equivalence.html#21310" class="Bound">h</a> <a id="21436" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21438" href="Ledger.Conway.Conformance.Equivalence.html#21347" class="Bound">step&#39;</a><a id="21443" class="Symbol">)</a>

<a id="_⊢_⇀⦇_,GOVn⦈_"></a><a id="21446" href="Ledger.Conway.Conformance.Equivalence.html#21446" class="Function Operator">_⊢_⇀⦇_,GOVn⦈_</a> <a id="21460" class="Symbol">:</a> <a id="21462" href="Ledger.Conway.Specification.Gov.html#1648" class="Record">L.GovEnv</a> <a id="21471" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21473" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="21475" class="Symbol">→</a> <a id="21477" href="Ledger.Conway.Specification.Gov.html#1459" class="Function">L.GovState</a> <a id="21488" class="Symbol">→</a> <a id="21490" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="21495" class="Symbol">(</a><a id="21496" href="Ledger.Core.Specification.Gov.Actions.html#2290" class="Record">GovVote</a> <a id="21504" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="21506" href="Ledger.Core.Specification.Gov.Actions.html#3599" class="Record">GovProposal</a><a id="21517" class="Symbol">)</a> <a id="21519" class="Symbol">→</a> <a id="21521" href="Ledger.Conway.Specification.Gov.html#1459" class="Function">L.GovState</a> <a id="21532" class="Symbol">→</a> <a id="21534" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="21539" href="Ledger.Conway.Conformance.Equivalence.html#21446" class="Function Operator">_⊢_⇀⦇_,GOVn⦈_</a> <a id="21553" class="Symbol">=</a> <a id="21555" href="Interface.STS.html#1505" class="Datatype Operator">_⊢_⇀⟦_⟧ᵢ*&#39;_</a> <a id="21567" class="Symbol">{</a><a id="21568" class="Argument">_⊢_⇀⟦_⟧ᵇ_</a> <a id="21578" class="Symbol">=</a> <a id="21580" href="Interface.STS.html#1981" class="Datatype">IdSTS</a><a id="21585" class="Symbol">}</a> <a id="21587" class="Symbol">{</a><a id="21588" class="Argument">_⊢_⇀⟦_⟧_</a> <a id="21597" class="Symbol">=</a> <a id="21599" href="Ledger.Conway.Specification.Gov.html#15354" class="Datatype Operator">L._⊢_⇀⦇_,GOV⦈_</a><a id="21613" class="Symbol">}</a>

<a id="21616" class="Keyword">opaque</a>
  <a id="castLEDGER"></a><a id="21625" href="Ledger.Conway.Conformance.Equivalence.html#21625" class="Function">castLEDGER</a> <a id="21636" class="Symbol">:</a> <a id="21638" class="Symbol">∀</a> <a id="21640" class="Symbol">{</a><a id="21641" href="Ledger.Conway.Conformance.Equivalence.html#21641" class="Bound">Γ</a> <a id="21643" href="Ledger.Conway.Conformance.Equivalence.html#21643" class="Bound">tx</a><a id="21645" class="Symbol">}</a> <a id="21647" class="Symbol">{</a><a id="21648" href="Ledger.Conway.Conformance.Equivalence.html#21648" class="Bound">s</a> <a id="21650" href="Ledger.Conway.Conformance.Equivalence.html#21650" class="Bound">s&#39;</a> <a id="21653" class="Symbol">:</a> <a id="21655" href="Ledger.Conway.Specification.Ledger.html#997" class="Record">L.LState</a><a id="21663" class="Symbol">}</a> <a id="21665" href="Ledger.Conway.Conformance.Equivalence.html#21665" class="Bound">deps₁</a> <a id="21671" href="Ledger.Conway.Conformance.Equivalence.html#21671" class="Bound">deps₂</a> <a id="21677" href="Ledger.Conway.Conformance.Equivalence.html#21677" class="Bound">deps₁&#39;</a>
            <a id="21696" class="Symbol">→</a> <a id="21698" href="Ledger.Conway.Conformance.Equivalence.html#21665" class="Bound">deps₁</a> <a id="21704" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="21707" href="Ledger.Conway.Conformance.Equivalence.html#21671" class="Bound">deps₂</a>
            <a id="21725" class="Symbol">→</a> <a id="21727" href="Ledger.Conway.Conformance.Equivalence.html#21641" class="Bound">Γ</a> <a id="21729" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">C.⊢</a> <a id="21733" href="Ledger.Conway.Conformance.Equivalence.html#21665" class="Bound">deps₁</a> <a id="21739" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21745" href="Ledger.Conway.Conformance.Equivalence.html#21648" class="Bound">s</a> <a id="21747" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">⇀⦇</a> <a id="21750" href="Ledger.Conway.Conformance.Equivalence.html#21643" class="Bound">tx</a> <a id="21753" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">,LEDGER⦈</a> <a id="21762" class="Symbol">(</a><a id="21763" href="Ledger.Conway.Conformance.Equivalence.html#21677" class="Bound">deps₁&#39;</a> <a id="21770" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21776" href="Ledger.Conway.Conformance.Equivalence.html#21650" class="Bound">s&#39;</a><a id="21778" class="Symbol">)</a>
            <a id="21792" class="Symbol">→</a> <a id="21794" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="21797" href="Ledger.Conway.Conformance.Equivalence.html#21797" class="Bound">deps₂&#39;</a> <a id="21804" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="21806" href="Ledger.Conway.Conformance.Equivalence.html#21677" class="Bound">deps₁&#39;</a> <a id="21813" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="21816" href="Ledger.Conway.Conformance.Equivalence.html#21797" class="Bound">deps₂&#39;</a> <a id="21823" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="21825" href="Ledger.Conway.Conformance.Equivalence.html#21641" class="Bound">Γ</a> <a id="21827" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">C.⊢</a> <a id="21831" href="Ledger.Conway.Conformance.Equivalence.html#21671" class="Bound">deps₂</a> <a id="21837" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21843" href="Ledger.Conway.Conformance.Equivalence.html#21648" class="Bound">s</a> <a id="21845" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">⇀⦇</a> <a id="21848" href="Ledger.Conway.Conformance.Equivalence.html#21643" class="Bound">tx</a> <a id="21851" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">,LEDGER⦈</a> <a id="21860" class="Symbol">(</a><a id="21861" href="Ledger.Conway.Conformance.Equivalence.html#21797" class="Bound">deps₂&#39;</a> <a id="21868" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="21874" href="Ledger.Conway.Conformance.Equivalence.html#21650" class="Bound">s&#39;</a><a id="21876" class="Symbol">)</a>
  <a id="21880" href="Ledger.Conway.Conformance.Equivalence.html#21625" class="Function">castLEDGER</a> <a id="21891" class="Symbol">{</a><a id="21892" href="Ledger.Conway.Conformance.Equivalence.html#21892" class="Bound">Γ</a><a id="21893" class="Symbol">}</a> <a id="21895" class="Symbol">{</a><a id="21896" href="Ledger.Conway.Conformance.Equivalence.html#21896" class="Bound">tx</a><a id="21898" class="Symbol">}</a> <a id="21900" class="Symbol">{</a><a id="21901" href="Ledger.Conway.Conformance.Equivalence.html#21901" class="Bound">s</a><a id="21902" class="Symbol">}</a> <a id="21904" class="Symbol">{</a><a id="21905" href="Ledger.Conway.Conformance.Equivalence.html#21905" class="Bound">s&#39;</a><a id="21907" class="Symbol">}</a> <a id="21909" href="Ledger.Conway.Conformance.Equivalence.html#21909" class="Bound">deps₁</a> <a id="21915" href="Ledger.Conway.Conformance.Equivalence.html#21915" class="Bound">deps₂</a> <a id="21921" href="Ledger.Conway.Conformance.Equivalence.html#21921" class="Bound">deps₁&#39;</a> <a id="21928" href="Ledger.Conway.Conformance.Equivalence.html#21928" class="Bound">eqd</a> <a id="21932" class="Symbol">(</a><a id="21933" href="Ledger.Conway.Conformance.Ledger.html#2137" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="21945" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="21950" href="Ledger.Conway.Conformance.Equivalence.html#21950" class="Bound">utxo</a> <a id="21955" href="Ledger.Conway.Conformance.Equivalence.html#21955" class="Bound">certs</a> <a id="21961" href="Ledger.Conway.Conformance.Equivalence.html#21961" class="Bound">gov</a><a id="21964" class="Symbol">)</a> <a id="21966" class="Symbol">=</a>
    <a id="21972" class="Keyword">let</a> <a id="21976" href="Ledger.Conway.Conformance.Equivalence.html#21976" class="Bound">deps₂&#39;</a> <a id="21983" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21985" href="Ledger.Conway.Conformance.Equivalence.html#21985" class="Bound">eqd&#39;</a> <a id="21990" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21992" href="Ledger.Conway.Conformance.Equivalence.html#21992" class="Bound">certs&#39;</a> <a id="21999" class="Symbol">=</a> <a id="22001" href="Ledger.Conway.Conformance.Equivalence.html#20996" class="Function">castCERTS</a> <a id="22011" href="Ledger.Conway.Conformance.Equivalence.html#21909" class="Bound">deps₁</a> <a id="22017" href="Ledger.Conway.Conformance.Equivalence.html#21915" class="Bound">deps₂</a> <a id="22023" href="Ledger.Conway.Conformance.Equivalence.html#21921" class="Bound">deps₁&#39;</a> <a id="22030" href="Ledger.Conway.Conformance.Equivalence.html#21928" class="Bound">eqd</a> <a id="22034" href="Ledger.Conway.Conformance.Equivalence.html#21955" class="Bound">certs</a>
    <a id="22044" class="Keyword">in</a>  <a id="22048" href="Ledger.Conway.Conformance.Equivalence.html#21976" class="Bound">deps₂&#39;</a> <a id="22055" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22057" href="Ledger.Conway.Conformance.Equivalence.html#21985" class="Bound">eqd&#39;</a> <a id="22062" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22064" href="Ledger.Conway.Conformance.Ledger.html#2137" class="InductiveConstructor">C.LEDGER-V⋯</a> <a id="22076" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22081" href="Ledger.Conway.Conformance.Equivalence.html#21950" class="Bound">utxo</a> <a id="22086" href="Ledger.Conway.Conformance.Equivalence.html#21992" class="Bound">certs&#39;</a> <a id="22093" href="Ledger.Conway.Conformance.Equivalence.html#21961" class="Bound">gov</a>
  <a id="22099" href="Ledger.Conway.Conformance.Equivalence.html#21625" class="Function">castLEDGER</a> <a id="22110" href="Ledger.Conway.Conformance.Equivalence.html#22110" class="Bound">deps₁</a> <a id="22116" href="Ledger.Conway.Conformance.Equivalence.html#22116" class="Bound">deps₂</a> <a id="22122" href="Ledger.Conway.Conformance.Equivalence.html#22122" class="Bound">deps₁&#39;</a> <a id="22129" href="Ledger.Conway.Conformance.Equivalence.html#22129" class="Bound">eqd</a> <a id="22133" class="Symbol">(</a><a id="22134" href="Ledger.Conway.Conformance.Ledger.html#2190" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="22146" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22151" href="Ledger.Conway.Conformance.Equivalence.html#22151" class="Bound">utxo</a><a id="22155" class="Symbol">)</a> <a id="22157" class="Symbol">=</a> <a id="22159" class="Symbol">_</a> <a id="22161" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22163" href="Ledger.Conway.Conformance.Equivalence.html#22129" class="Bound">eqd</a> <a id="22167" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="22169" href="Ledger.Conway.Conformance.Ledger.html#2190" class="InductiveConstructor">C.LEDGER-I⋯</a> <a id="22181" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="22186" href="Ledger.Conway.Conformance.Equivalence.html#22151" class="Bound">utxo</a>

<a id="22192" class="Comment">---------------------------------------------------------------------------</a>
<a id="22268" class="Comment">-- The main result</a>
<a id="22287" class="Comment">---------------------------------------------------------------------------</a>

<a id="22364" class="Keyword">open</a> <a id="22369" class="Keyword">import</a> <a id="22376" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html" class="Module">Ledger.Conway.Conformance.Equivalence.Bisimilarity</a>

<a id="22428" class="Comment">-- An LState sˡ from the Spec and an LState sᶜ from Conformance are</a>
<a id="22496" class="Comment">-- bisimular iff</a>
<a id="22513" class="Comment">--  ∙ the deposits in the CertState of sᶜ are equal (as maps) to the</a>
<a id="22582" class="Comment">--    appropriate restrictions of the deposits in the UTxOState of sˡ</a>
<a id="22652" class="Comment">--  ∙ the only difference between sˡ and sᶜ are the extra deposits in</a>
<a id="22722" class="Comment">--    the CertState of sᶜ.</a>
<a id="_∼_"></a><a id="22749" href="Ledger.Conway.Conformance.Equivalence.html#22749" class="Function Operator">_∼_</a> <a id="22753" class="Symbol">:</a> <a id="22755" href="Ledger.Conway.Specification.Ledger.html#997" class="Record">L.LState</a> <a id="22764" class="Symbol">→</a> <a id="22766" href="Ledger.Conway.Conformance.Ledger.html#738" class="Record">C.LState</a> <a id="22775" class="Symbol">→</a> <a id="22777" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="22782" href="Ledger.Conway.Conformance.Equivalence.html#22782" class="Bound">sˡ</a> <a id="22785" href="Ledger.Conway.Conformance.Equivalence.html#22749" class="Function Operator">∼</a> <a id="22787" href="Ledger.Conway.Conformance.Equivalence.html#22787" class="Bound">sᶜ</a> <a id="22790" class="Symbol">=</a> <a id="22792" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="22805" href="Ledger.Conway.Conformance.Equivalence.html#22782" class="Bound">sˡ</a> <a id="22808" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="22811" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="22825" class="Symbol">(</a><a id="22826" href="Ledger.Conway.Conformance.Ledger.html#846" class="Field">C.LState.certState</a> <a id="22845" href="Ledger.Conway.Conformance.Equivalence.html#22787" class="Bound">sᶜ</a><a id="22847" class="Symbol">)</a> <a id="22849" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="22851" href="Ledger.Conway.Conformance.Equivalence.html#22782" class="Bound">sˡ</a> <a id="22854" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="22856" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="22861" href="Ledger.Conway.Conformance.Equivalence.html#22787" class="Bound">sᶜ</a>

<a id="22865" class="Comment">-- This gives us the main result: a bisimulation between the LEDGER</a>
<a id="22933" class="Comment">-- rules in Ledger and in Conformance.</a>
<a id="bisimilarityProof"></a><a id="22972" href="Ledger.Conway.Conformance.Equivalence.html#22972" class="Function">bisimilarityProof</a> <a id="22990" class="Symbol">:</a> <a id="22992" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#128" class="Record">Bisimilar</a> <a id="23002" href="Ledger.Conway.Specification.Ledger.html#3842" class="Datatype Operator">L._⊢_⇀⦇_,LEDGER⦈_</a> <a id="23020" href="Ledger.Conway.Conformance.Ledger.html#1116" class="Datatype Operator">C._⊢_⇀⦇_,LEDGER⦈_</a>
<a id="23038" href="Ledger.Conway.Conformance.Equivalence.html#22972" class="Function">bisimilarityProof</a> <a id="23056" class="Symbol">.</a><a id="23057" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#259" class="Field Operator">Bisimilar._≈_</a> <a id="23071" class="Symbol">=</a> <a id="23073" href="Ledger.Conway.Conformance.Equivalence.html#22749" class="Function Operator">_∼_</a>
<a id="23077" href="Ledger.Conway.Conformance.Equivalence.html#22972" class="Function">bisimilarityProof</a> <a id="23095" class="Symbol">.</a><a id="23096" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#284" class="Field">Bisimilar.to</a> <a id="23109" class="Symbol">{</a><a id="23110" href="Ledger.Conway.Conformance.Equivalence.html#23110" class="Bound">Γ</a><a id="23111" class="Symbol">}</a> <a id="23113" class="Symbol">{</a><a id="23114" href="Ledger.Conway.Conformance.Equivalence.html#23114" class="Bound">tx</a><a id="23116" class="Symbol">}</a> <a id="23118" class="Symbol">{</a><a id="23119" href="Ledger.Conway.Conformance.Equivalence.html#23119" class="Bound">sˡ</a><a id="23121" class="Symbol">}</a> <a id="23123" class="Symbol">{</a><a id="23124" href="Ledger.Conway.Conformance.Equivalence.html#23124" class="Bound">sˡ&#39;</a><a id="23127" class="Symbol">}</a> <a id="23129" class="Symbol">{</a><a id="23130" href="Ledger.Conway.Conformance.Equivalence.html#23130" class="Bound">sᶜ</a><a id="23132" class="Symbol">}</a> <a id="23134" class="Symbol">(</a><a id="23135" href="Ledger.Conway.Conformance.Equivalence.html#23135" class="Bound">eq</a> <a id="23138" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23140" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23144" class="Symbol">)</a> <a id="23146" href="Ledger.Conway.Conformance.Equivalence.html#23146" class="Bound">r</a> <a id="23148" class="Symbol">=</a>
  <a id="23152" class="Keyword">let</a> <a id="23156" href="Ledger.Conway.Conformance.Equivalence.html#23156" class="Bound">deps</a>  <a id="23162" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23164" href="Ledger.Conway.Conformance.Equivalence.html#23164" class="Bound">eqd</a>  <a id="23169" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23171" href="Ledger.Conway.Conformance.Equivalence.html#23171" class="Bound">r&#39;</a>  <a id="23175" class="Symbol">=</a> <a id="23177" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23182" href="Ledger.Conway.Conformance.Equivalence.html#23146" class="Bound">r</a>
      <a id="23190" href="Ledger.Conway.Conformance.Equivalence.html#23190" class="Bound">deps&#39;</a> <a id="23196" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23198" href="Ledger.Conway.Conformance.Equivalence.html#23198" class="Bound">eqd&#39;</a> <a id="23203" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23205" href="Ledger.Conway.Conformance.Equivalence.html#23205" class="Bound">r&#39;&#39;</a> <a id="23209" class="Symbol">=</a> <a id="23211" href="Ledger.Conway.Conformance.Equivalence.html#21625" class="Function">castLEDGER</a> <a id="23222" class="Symbol">(</a><a id="23223" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="23236" class="Symbol">(</a><a id="23237" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23242" href="Ledger.Conway.Conformance.Equivalence.html#23130" class="Bound">sᶜ</a><a id="23244" class="Symbol">))</a>
                                      <a id="23285" class="Symbol">(</a><a id="23286" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="23300" class="Symbol">(</a><a id="23301" href="Ledger.Conway.Conformance.Ledger.html#846" class="Field">C.LState.certState</a> <a id="23320" href="Ledger.Conway.Conformance.Equivalence.html#23130" class="Bound">sᶜ</a><a id="23322" class="Symbol">))</a>
                                      <a id="23363" href="Ledger.Conway.Conformance.Equivalence.html#23156" class="Bound">deps</a>
                                      <a id="23406" href="Ledger.Conway.Conformance.Equivalence.html#23135" class="Bound">eq</a>
                                      <a id="23447" href="Ledger.Conway.Conformance.Equivalence.html#23171" class="Bound">r&#39;</a>
      <a id="23456" href="Ledger.Conway.Conformance.Equivalence.html#23456" class="Bound">eqd&#39;&#39;</a> <a id="23462" class="Symbol">:</a> <a id="23464" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="23477" href="Ledger.Conway.Conformance.Equivalence.html#23124" class="Bound">sˡ&#39;</a> <a id="23481" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12846" class="Function Operator">≡ᵈ</a> <a id="23484" href="Ledger.Conway.Conformance.Equivalence.html#23190" class="Bound">deps&#39;</a>
      <a id="23496" href="Ledger.Conway.Conformance.Equivalence.html#23456" class="Bound">eqd&#39;&#39;</a> <a id="23502" class="Symbol">=</a> <a id="23504" href="Ledger.Conway.Conformance.Equivalence.html#13282" class="Function">≡ᵈ-trans</a> <a id="23513" class="Symbol">{</a><a id="23514" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="23527" href="Ledger.Conway.Conformance.Equivalence.html#23124" class="Bound">sˡ&#39;</a><a id="23530" class="Symbol">}</a> <a id="23532" class="Symbol">{</a><a id="23533" href="Ledger.Conway.Conformance.Equivalence.html#23156" class="Bound">deps</a><a id="23537" class="Symbol">}</a> <a id="23539" class="Symbol">{</a><a id="23540" href="Ledger.Conway.Conformance.Equivalence.html#23190" class="Bound">deps&#39;</a><a id="23545" class="Symbol">}</a> <a id="23547" class="Symbol">(</a><a id="23548" href="Ledger.Conway.Conformance.Equivalence.html#13265" class="Function">≡ᵈ-sym</a> <a id="23555" class="Symbol">{</a><a id="23556" href="Ledger.Conway.Conformance.Equivalence.html#23156" class="Bound">deps</a><a id="23560" class="Symbol">}</a> <a id="23562" class="Symbol">{</a><a id="23563" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="23576" href="Ledger.Conway.Conformance.Equivalence.html#23124" class="Bound">sˡ&#39;</a><a id="23579" class="Symbol">}</a> <a id="23581" href="Ledger.Conway.Conformance.Equivalence.html#23164" class="Bound">eqd</a><a id="23584" class="Symbol">)</a> <a id="23586" href="Ledger.Conway.Conformance.Equivalence.html#23198" class="Bound">eqd&#39;</a>
  <a id="23593" class="Keyword">in</a>
  <a id="23598" class="Symbol">(</a><a id="23599" href="Ledger.Conway.Conformance.Equivalence.html#23190" class="Bound">deps&#39;</a> <a id="23605" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="23611" href="Ledger.Conway.Conformance.Equivalence.html#23124" class="Bound">sˡ&#39;</a><a id="23614" class="Symbol">)</a> <a id="23616" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23618" class="Symbol">(</a><a id="23619" href="Ledger.Conway.Conformance.Equivalence.html#23456" class="Bound">eqd&#39;&#39;</a> <a id="23625" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23627" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23631" class="Symbol">)</a> <a id="23633" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23635" href="Ledger.Conway.Conformance.Equivalence.html#23205" class="Bound">r&#39;&#39;</a>
<a id="23639" href="Ledger.Conway.Conformance.Equivalence.html#22972" class="Function">bisimilarityProof</a> <a id="23657" class="Symbol">.</a><a id="23658" href="Ledger.Conway.Conformance.Equivalence.Bisimilarity.html#419" class="Field">Bisimilar.from</a> <a id="23673" class="Symbol">{</a><a id="23674" href="Ledger.Conway.Conformance.Equivalence.html#23674" class="Bound">Γ</a><a id="23675" class="Symbol">}</a> <a id="23677" class="Symbol">{</a><a id="23678" href="Ledger.Conway.Conformance.Equivalence.html#23678" class="Bound">tx</a><a id="23680" class="Symbol">}</a> <a id="23682" class="Symbol">{</a><a id="23683" href="Ledger.Conway.Conformance.Equivalence.html#23683" class="Bound">sˡ</a><a id="23685" class="Symbol">}</a> <a id="23687" class="Symbol">{</a><a id="23688" href="Ledger.Conway.Conformance.Equivalence.html#23688" class="Bound">sᶜ</a><a id="23690" class="Symbol">}</a> <a id="23692" class="Symbol">{</a><a id="23693" href="Ledger.Conway.Conformance.Equivalence.html#23693" class="Bound">sᶜ&#39;</a><a id="23696" class="Symbol">}</a> <a id="23698" class="Symbol">(</a><a id="23699" href="Ledger.Conway.Conformance.Equivalence.html#23699" class="Bound">eqd</a> <a id="23703" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23705" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23709" class="Symbol">)</a> <a id="23711" href="Ledger.Conway.Conformance.Equivalence.html#23711" class="Bound">r</a> <a id="23713" class="Symbol">=</a>
  <a id="23717" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23722" href="Ledger.Conway.Conformance.Equivalence.html#23693" class="Bound">sᶜ&#39;</a> <a id="23726" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23728" class="Symbol">(</a><a id="23729" href="Ledger.Conway.Conformance.Equivalence.html#23852" class="Function">wf&#39;</a> <a id="23733" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23735" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="23739" class="Symbol">)</a> <a id="23741" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="23743" href="Ledger.Conway.Conformance.Equivalence.html#23766" class="Function">wf</a> <a id="23746" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="23752" href="Ledger.Conway.Conformance.Equivalence.html#23711" class="Bound">r</a>
  <a id="23756" class="Keyword">where</a>
    <a id="23766" href="Ledger.Conway.Conformance.Equivalence.html#23766" class="Function">wf</a>  <a id="23770" class="Symbol">=</a> <a id="23772" href="Ledger.Conway.Conformance.Equivalence.html#13265" class="Function">≡ᵈ-sym</a> <a id="23779" class="Symbol">{</a><a id="23780" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="23793" class="Symbol">(</a><a id="23794" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23799" href="Ledger.Conway.Conformance.Equivalence.html#23688" class="Bound">sᶜ</a><a id="23801" class="Symbol">)}</a> <a id="23804" class="Symbol">{</a><a id="23805" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="23819" class="Symbol">(</a><a id="23820" href="Ledger.Conway.Conformance.Ledger.html#846" class="Field">C.LState.certState</a> <a id="23839" href="Ledger.Conway.Conformance.Equivalence.html#23688" class="Bound">sᶜ</a><a id="23841" class="Symbol">)}</a> <a id="23844" href="Ledger.Conway.Conformance.Equivalence.html#23699" class="Bound">eqd</a>
    <a id="23852" href="Ledger.Conway.Conformance.Equivalence.html#23852" class="Function">wf&#39;</a> <a id="23856" class="Symbol">=</a> <a id="23858" href="Ledger.Conway.Conformance.Equivalence.html#13265" class="Function">≡ᵈ-sym</a> <a id="23865" class="Symbol">{</a><a id="23866" href="Ledger.Conway.Conformance.Equivalence.html#7877" class="Function">certDepositsC</a> <a id="23880" class="Symbol">(</a><a id="23881" href="Ledger.Conway.Conformance.Ledger.html#846" class="Field">C.LState.certState</a> <a id="23900" href="Ledger.Conway.Conformance.Equivalence.html#23693" class="Bound">sᶜ&#39;</a><a id="23903" class="Symbol">)}</a> <a id="23906" class="Symbol">{</a><a id="23907" href="Ledger.Conway.Conformance.Equivalence.Deposits.html#12690" class="Function">certDeposits</a> <a id="23920" class="Symbol">(</a><a id="23921" href="Ledger.Conway.Conformance.Equivalence.Convert.html#452" class="Function">conv</a> <a id="23926" href="Ledger.Conway.Conformance.Equivalence.html#23693" class="Bound">sᶜ&#39;</a><a id="23929" class="Symbol">)}</a> <a id="23932" class="Symbol">(</a><a id="23933" href="Ledger.Conway.Conformance.Equivalence.html#14667" class="Function">lemWellformed</a> <a id="23947" href="Ledger.Conway.Conformance.Equivalence.html#23766" class="Function">wf</a> <a id="23950" href="Ledger.Conway.Conformance.Equivalence.html#23711" class="Bound">r</a><a id="23951" class="Symbol">)</a>
    <a id="23957" href="Ledger.Conway.Conformance.Equivalence.html#23957" class="Function">r&#39;</a> <a id="23960" class="Symbol">=</a> <a id="23962" href="Ledger.Conway.Conformance.Equivalence.html#23766" class="Function">wf</a> <a id="23965" href="Ledger.Conway.Conformance.Equivalence.Convert.html#270" class="Function Operator">⊢conv</a> <a id="23971" href="Ledger.Conway.Conformance.Equivalence.html#23711" class="Bound">r</a>
</pre></body></html>